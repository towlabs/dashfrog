function v1e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dI={exports:{}},bS={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var az;function x1e(){if(az)return bS;az=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var s in i)s!=="key"&&(o[s]=i[s])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:a,ref:i!==void 0?i:null,props:o}}return bS.Fragment=t,bS.jsx=n,bS.jsxs=n,bS}var sz;function w1e(){return sz||(sz=1,dI.exports=x1e()),dI.exports}var g=w1e(),fI={exports:{}},pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lz;function S1e(){if(lz)return pn;lz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),p=Symbol.iterator;function m(Q){return Q===null||typeof Q!="object"?null:(Q=p&&Q[p]||Q["@@iterator"],typeof Q=="function"?Q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function T(Q,te,U){this.props=Q,this.context=te,this.refs=w,this.updater=U||v}T.prototype.isReactComponent={},T.prototype.setState=function(Q,te){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,te,"setState")},T.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function k(){}k.prototype=T.prototype;function N(Q,te,U){this.props=Q,this.context=te,this.refs=w,this.updater=U||v}var I=N.prototype=new k;I.constructor=N,x(I,T.prototype),I.isPureReactComponent=!0;var O=Array.isArray;function A(){}var R={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function B(Q,te,U){var he=U.ref;return{$$typeof:e,type:Q,key:te,ref:he!==void 0?he:null,props:U}}function $(Q,te){return B(Q.type,te,Q.props)}function q(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e}function z(Q){var te={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(U){return te[U]})}var Y=/\/+/g;function W(Q,te){return typeof Q=="object"&&Q!==null&&Q.key!=null?z(""+Q.key):te.toString(36)}function Z(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(A,A):(Q.status="pending",Q.then(function(te){Q.status==="pending"&&(Q.status="fulfilled",Q.value=te)},function(te){Q.status==="pending"&&(Q.status="rejected",Q.reason=te)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function V(Q,te,U,he,se){var we=typeof Q;(we==="undefined"||we==="boolean")&&(Q=null);var ve=!1;if(Q===null)ve=!0;else switch(we){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(Q.$$typeof){case e:case t:ve=!0;break;case u:return ve=Q._init,V(ve(Q._payload),te,U,he,se)}}if(ve)return se=se(Q),ve=he===""?"."+W(Q,0):he,O(se)?(U="",ve!=null&&(U=ve.replace(Y,"$&/")+"/"),V(se,te,U,"",function(He){return He})):se!=null&&(q(se)&&(se=$(se,U+(se.key==null||Q&&Q.key===se.key?"":(""+se.key).replace(Y,"$&/")+"/")+ve)),te.push(se)),1;ve=0;var je=he===""?".":he+":";if(O(Q))for(var Te=0;Te<Q.length;Te++)he=Q[Te],we=je+W(he,Te),ve+=V(he,te,U,we,se);else if(Te=m(Q),typeof Te=="function")for(Q=Te.call(Q),Te=0;!(he=Q.next()).done;)he=he.value,we=je+W(he,Te++),ve+=V(he,te,U,we,se);else if(we==="object"){if(typeof Q.then=="function")return V(Z(Q),te,U,he,se);throw te=String(Q),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ve}function ne(Q,te,U){if(Q==null)return Q;var he=[],se=0;return V(Q,he,"","",function(we){return te.call(U,we,se++)}),he}function X(Q){if(Q._status===-1){var te=Q._result;te=te(),te.then(function(U){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=U)},function(U){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=U)}),Q._status===-1&&(Q._status=0,Q._result=te)}if(Q._status===1)return Q._result.default;throw Q._result}var oe=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},K={map:ne,forEach:function(Q,te,U){ne(Q,function(){te.apply(this,arguments)},U)},count:function(Q){var te=0;return ne(Q,function(){te++}),te},toArray:function(Q){return ne(Q,function(te){return te})||[]},only:function(Q){if(!q(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return pn.Activity=d,pn.Children=K,pn.Component=T,pn.Fragment=n,pn.Profiler=i,pn.PureComponent=N,pn.StrictMode=r,pn.Suspense=l,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,pn.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return R.H.useMemoCache(Q)}},pn.cache=function(Q){return function(){return Q.apply(null,arguments)}},pn.cacheSignal=function(){return null},pn.cloneElement=function(Q,te,U){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var he=x({},Q.props),se=Q.key;if(te!=null)for(we in te.key!==void 0&&(se=""+te.key),te)!L.call(te,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&te.ref===void 0||(he[we]=te[we]);var we=arguments.length-2;if(we===1)he.children=U;else if(1<we){for(var ve=Array(we),je=0;je<we;je++)ve[je]=arguments[je+2];he.children=ve}return B(Q.type,se,he)},pn.createContext=function(Q){return Q={$$typeof:a,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:o,_context:Q},Q},pn.createElement=function(Q,te,U){var he,se={},we=null;if(te!=null)for(he in te.key!==void 0&&(we=""+te.key),te)L.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(se[he]=te[he]);var ve=arguments.length-2;if(ve===1)se.children=U;else if(1<ve){for(var je=Array(ve),Te=0;Te<ve;Te++)je[Te]=arguments[Te+2];se.children=je}if(Q&&Q.defaultProps)for(he in ve=Q.defaultProps,ve)se[he]===void 0&&(se[he]=ve[he]);return B(Q,we,se)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(Q){return{$$typeof:s,render:Q}},pn.isValidElement=q,pn.lazy=function(Q){return{$$typeof:u,_payload:{_status:-1,_result:Q},_init:X}},pn.memo=function(Q,te){return{$$typeof:c,type:Q,compare:te===void 0?null:te}},pn.startTransition=function(Q){var te=R.T,U={};R.T=U;try{var he=Q(),se=R.S;se!==null&&se(U,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(A,oe)}catch(we){oe(we)}finally{te!==null&&U.types!==null&&(te.types=U.types),R.T=te}},pn.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},pn.use=function(Q){return R.H.use(Q)},pn.useActionState=function(Q,te,U){return R.H.useActionState(Q,te,U)},pn.useCallback=function(Q,te){return R.H.useCallback(Q,te)},pn.useContext=function(Q){return R.H.useContext(Q)},pn.useDebugValue=function(){},pn.useDeferredValue=function(Q,te){return R.H.useDeferredValue(Q,te)},pn.useEffect=function(Q,te){return R.H.useEffect(Q,te)},pn.useEffectEvent=function(Q){return R.H.useEffectEvent(Q)},pn.useId=function(){return R.H.useId()},pn.useImperativeHandle=function(Q,te,U){return R.H.useImperativeHandle(Q,te,U)},pn.useInsertionEffect=function(Q,te){return R.H.useInsertionEffect(Q,te)},pn.useLayoutEffect=function(Q,te){return R.H.useLayoutEffect(Q,te)},pn.useMemo=function(Q,te){return R.H.useMemo(Q,te)},pn.useOptimistic=function(Q,te){return R.H.useOptimistic(Q,te)},pn.useReducer=function(Q,te,U){return R.H.useReducer(Q,te,U)},pn.useRef=function(Q){return R.H.useRef(Q)},pn.useState=function(Q){return R.H.useState(Q)},pn.useSyncExternalStore=function(Q,te,U){return R.H.useSyncExternalStore(Q,te,U)},pn.useTransition=function(){return R.H.useTransition()},pn.version="19.2.0",pn}var cz;function pT(){return cz||(cz=1,fI.exports=S1e()),fI.exports}var C=pT();const F=vr(C),mT=v1e({__proto__:null,default:F},[C]);var hI={exports:{}},vS={},pI={exports:{}},mI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uz;function E1e(){return uz||(uz=1,(function(e){function t(V,ne){var X=V.length;V.push(ne);e:for(;0<X;){var oe=X-1>>>1,K=V[oe];if(0<i(K,ne))V[oe]=ne,V[X]=K,X=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ne=V[0],X=V.pop();if(X!==ne){V[0]=X;e:for(var oe=0,K=V.length,Q=K>>>1;oe<Q;){var te=2*(oe+1)-1,U=V[te],he=te+1,se=V[he];if(0>i(U,X))he<K&&0>i(se,U)?(V[oe]=se,V[he]=X,oe=he):(V[oe]=U,V[te]=X,oe=te);else if(he<K&&0>i(se,X))V[oe]=se,V[he]=X,oe=he;else break e}}return ne}function i(V,ne){var X=V.sortIndex-ne.sortIndex;return X!==0?X:V.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,p=3,m=!1,v=!1,x=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function I(V){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=V)r(c),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=n(c)}}function O(V){if(x=!1,I(V),!v)if(n(l)!==null)v=!0,A||(A=!0,z());else{var ne=n(c);ne!==null&&Z(O,ne.startTime-V)}}var A=!1,R=-1,L=5,B=-1;function $(){return w?!0:!(e.unstable_now()-B<L)}function q(){if(w=!1,A){var V=e.unstable_now();B=V;var ne=!0;try{e:{v=!1,x&&(x=!1,k(R),R=-1),m=!0;var X=p;try{t:{for(I(V),d=n(l);d!==null&&!(d.expirationTime>V&&$());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,p=d.priorityLevel;var K=oe(d.expirationTime<=V);if(V=e.unstable_now(),typeof K=="function"){d.callback=K,I(V),ne=!0;break t}d===n(l)&&r(l),I(V)}else r(l);d=n(l)}if(d!==null)ne=!0;else{var Q=n(c);Q!==null&&Z(O,Q.startTime-V),ne=!1}}break e}finally{d=null,p=X,m=!1}ne=void 0}}finally{ne?z():A=!1}}}var z;if(typeof N=="function")z=function(){N(q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,W=Y.port2;Y.port1.onmessage=q,z=function(){W.postMessage(null)}}else z=function(){T(q,0)};function Z(V,ne){R=T(function(){V(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(V){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var X=p;p=ne;try{return V()}finally{p=X}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(V,ne){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=p;p=V;try{return ne()}finally{p=X}},e.unstable_scheduleCallback=function(V,ne,X){var oe=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,V){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,V={id:u++,callback:ne,priorityLevel:V,startTime:X,expirationTime:K,sortIndex:-1},X>oe?(V.sortIndex=X,t(c,V),n(l)===null&&V===n(c)&&(x?(k(R),R=-1):x=!0,Z(O,X-oe))):(V.sortIndex=K,t(l,V),v||m||(v=!0,A||(A=!0,z()))),V},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(V){var ne=p;return function(){var X=p;p=ne;try{return V.apply(this,arguments)}finally{p=X}}}})(mI)),mI}var dz;function C1e(){return dz||(dz=1,pI.exports=E1e()),pI.exports}var gI={exports:{}},pa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fz;function T1e(){if(fz)return pa;fz=1;var e=pT();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(l,c,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:l,containerInfo:c,implementation:u}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return pa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pa.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return o(l,c,null,u)},pa.flushSync=function(l){var c=a.T,u=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=c,r.p=u,r.d.f()}},pa.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},pa.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},pa.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,d=s(u,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:m}):u==="script"&&r.d.X(l,{crossOrigin:d,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},pa.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=s(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},pa.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,d=s(u,c.crossOrigin);r.d.L(l,u,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},pa.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=s(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},pa.requestFormReset=function(l){r.d.r(l)},pa.unstable_batchedUpdates=function(l,c){return l(c)},pa.useFormState=function(l,c,u){return a.H.useFormState(l,c,u)},pa.useFormStatus=function(){return a.H.useHostTransitionStatus()},pa.version="19.2.0",pa}var hz;function Jne(){if(hz)return gI.exports;hz=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gI.exports=T1e(),gI.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pz;function k1e(){if(pz)return vS;pz=1;var e=C1e(),t=pT(),n=Jne();function r(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function o(f){var h=f,y=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(y=h.return),f=h.return;while(f)}return h.tag===3?y:null}function a(f){if(f.tag===13){var h=f.memoizedState;if(h===null&&(f=f.alternate,f!==null&&(h=f.memoizedState)),h!==null)return h.dehydrated}return null}function s(f){if(f.tag===31){var h=f.memoizedState;if(h===null&&(f=f.alternate,f!==null&&(h=f.memoizedState)),h!==null)return h.dehydrated}return null}function l(f){if(o(f)!==f)throw Error(r(188))}function c(f){var h=f.alternate;if(!h){if(h=o(f),h===null)throw Error(r(188));return h!==f?null:f}for(var y=f,S=h;;){var _=y.return;if(_===null)break;var D=_.alternate;if(D===null){if(S=_.return,S!==null){y=S;continue}break}if(_.child===D.child){for(D=_.child;D;){if(D===y)return l(_),f;if(D===S)return l(_),h;D=D.sibling}throw Error(r(188))}if(y.return!==S.return)y=_,S=D;else{for(var H=!1,J=_.child;J;){if(J===y){H=!0,y=_,S=D;break}if(J===S){H=!0,S=_,y=D;break}J=J.sibling}if(!H){for(J=D.child;J;){if(J===y){H=!0,y=D,S=_;break}if(J===S){H=!0,S=D,y=_;break}J=J.sibling}if(!H)throw Error(r(189))}}if(y.alternate!==S)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?f:h}function u(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(h=u(f),h!==null)return h;f=f.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(f){return f===null||typeof f!="object"?null:(f=q&&f[q]||f["@@iterator"],typeof f=="function"?f:null)}var Y=Symbol.for("react.client.reference");function W(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Y?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case x:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList";case B:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case v:return"Portal";case N:return f.displayName||"Context";case k:return(f._context.displayName||"Context")+".Consumer";case I:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case R:return h=f.displayName||null,h!==null?h:W(f.type)||"Memo";case L:h=f._payload,f=f._init;try{return W(f(h))}catch{}}return null}var Z=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},oe=[],K=-1;function Q(f){return{current:f}}function te(f){0>K||(f.current=oe[K],oe[K]=null,K--)}function U(f,h){K++,oe[K]=f.current,f.current=h}var he=Q(null),se=Q(null),we=Q(null),ve=Q(null);function je(f,h){switch(U(we,h),U(se,f),U(he,null),h.nodeType){case 9:case 11:f=(f=h.documentElement)&&(f=f.namespaceURI)?Ug(f):0;break;default:if(f=h.tagName,h=h.namespaceURI)h=Ug(h),f=fa(h,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}te(he),U(he,f)}function Te(){te(he),te(se),te(we)}function He(f){f.memoizedState!==null&&U(ve,f);var h=he.current,y=fa(h,f.type);h!==y&&(U(se,f),U(he,y))}function Ge(f){se.current===f&&(te(he),te(se)),ve.current===f&&(te(ve),dp._currentValue=X)}var De,Ft;function Ee(f){if(De===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);De=h&&h[1]||"",Ft=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+f+Ft}var It=!1;function sn(f,h){if(!f||It)return"";It=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(h){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Le){var Me=Le}Reflect.construct(f,[],We)}else{try{We.call()}catch(Le){Me=Le}f.call(We.prototype)}}else{try{throw Error()}catch(Le){Me=Le}(We=f())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Le){if(Le&&Me&&typeof Le.stack=="string")return[Le.stack,Me.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=S.DetermineComponentFrameRoot(),H=D[0],J=D[1];if(H&&J){var fe=H.split(`
`),Oe=J.split(`
`);for(_=S=0;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;for(;_<Oe.length&&!Oe[_].includes("DetermineComponentFrameRoot");)_++;if(S===fe.length||_===Oe.length)for(S=fe.length-1,_=Oe.length-1;1<=S&&0<=_&&fe[S]!==Oe[_];)_--;for(;1<=S&&0<=_;S--,_--)if(fe[S]!==Oe[_]){if(S!==1||_!==1)do if(S--,_--,0>_||fe[S]!==Oe[_]){var ze=`
`+fe[S].replace(" at new "," at ");return f.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",f.displayName)),ze}while(1<=S&&0<=_);break}}}finally{It=!1,Error.prepareStackTrace=y}return(y=f?f.displayName||f.name:"")?Ee(y):""}function Yt(f,h){switch(f.tag){case 26:case 27:case 5:return Ee(f.type);case 16:return Ee("Lazy");case 13:return f.child!==h&&h!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return sn(f.type,!1);case 11:return sn(f.type.render,!1);case 1:return sn(f.type,!0);case 31:return Ee("Activity");default:return""}}function xr(f){try{var h="",y=null;do h+=Yt(f,y),y=f,f=f.return;while(f);return h}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}var er=Object.prototype.hasOwnProperty,ue=e.unstable_scheduleCallback,xe=e.unstable_cancelCallback,ke=e.unstable_shouldYield,Je=e.unstable_requestPaint,Ze=e.unstable_now,Qe=e.unstable_getCurrentPriorityLevel,ge=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,it=e.unstable_NormalPriority,At=e.unstable_LowPriority,Wt=e.unstable_IdlePriority,Zn=e.log,Tn=e.unstable_setDisableYieldValue,or=null,Yn=null;function wr(f){if(typeof Zn=="function"&&Tn(f),Yn&&typeof Yn.setStrictMode=="function")try{Yn.setStrictMode(or,f)}catch{}}var un=Math.clz32?Math.clz32:lt,xi=Math.log,Ct=Math.LN2;function lt(f){return f>>>=0,f===0?32:31-(xi(f)/Ct|0)|0}var ct=256,Tt=262144,jt=4194304;function vt(f){var h=f&42;if(h!==0)return h;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function xt(f,h,y){var S=f.pendingLanes;if(S===0)return 0;var _=0,D=f.suspendedLanes,H=f.pingedLanes;f=f.warmLanes;var J=S&134217727;return J!==0?(S=J&~D,S!==0?_=vt(S):(H&=J,H!==0?_=vt(H):y||(y=J&~f,y!==0&&(_=vt(y))))):(J=S&~D,J!==0?_=vt(J):H!==0?_=vt(H):y||(y=S&~f,y!==0&&(_=vt(y)))),_===0?0:h!==0&&h!==_&&(h&D)===0&&(D=_&-_,y=h&-h,D>=y||D===32&&(y&4194048)!==0)?h:_}function an(f,h){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&h)===0}function Gn(f,h){switch(f){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var f=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),f}function ui(f){for(var h=[],y=0;31>y;y++)h.push(f);return h}function le(f,h){f.pendingLanes|=h,h!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function ye(f,h,y,S,_,D){var H=f.pendingLanes;f.pendingLanes=y,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=y,f.entangledLanes&=y,f.errorRecoveryDisabledLanes&=y,f.shellSuspendCounter=0;var J=f.entanglements,fe=f.expirationTimes,Oe=f.hiddenUpdates;for(y=H&~y;0<y;){var ze=31-un(y),We=1<<ze;J[ze]=0,fe[ze]=-1;var Me=Oe[ze];if(Me!==null)for(Oe[ze]=null,ze=0;ze<Me.length;ze++){var Le=Me[ze];Le!==null&&(Le.lane&=-536870913)}y&=~We}S!==0&&Re(f,S,0),D!==0&&_===0&&f.tag!==0&&(f.suspendedLanes|=D&~(H&~h))}function Re(f,h,y){f.pendingLanes|=h,f.suspendedLanes&=~h;var S=31-un(h);f.entangledLanes|=h,f.entanglements[S]=f.entanglements[S]|1073741824|y&261930}function Xe(f,h){var y=f.entangledLanes|=h;for(f=f.entanglements;y;){var S=31-un(y),_=1<<S;_&h|f[S]&h&&(f[S]|=h),y&=~_}}function nt(f,h){var y=h&-h;return y=(y&42)!==0?1:kt(y),(y&(f.suspendedLanes|h))!==0?0:y}function kt(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function bt(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function _t(){var f=ne.p;return f!==0?f:(f=window.event,f===void 0?32:E_(f.type))}function $t(f,h){var y=ne.p;try{return ne.p=f,h()}finally{ne.p=y}}var Ht=Math.random().toString(36).slice(2),ht="__reactFiber$"+Ht,gt="__reactProps$"+Ht,xn="__reactContainer$"+Ht,mr="__reactEvents$"+Ht,Ai="__reactListeners$"+Ht,po="__reactHandles$"+Ht,Ir="__reactResources$"+Ht,ar="__reactMarker$"+Ht;function Gs(f){delete f[ht],delete f[gt],delete f[mr],delete f[Ai],delete f[po]}function us(f){var h=f[ht];if(h)return h;for(var y=f.parentNode;y;){if(h=y[xn]||y[ht]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(f=a_(f);f!==null;){if(y=f[ht])return y;f=a_(f)}return h}f=y,y=f.parentNode}return null}function Zi(f){if(f=f[ht]||f[xn]){var h=f.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return f}return null}function Ao(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f.stateNode;throw Error(r(33))}function Oa(f){var h=f[Ir];return h||(h=f[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function qr(f){f[ar]=!0}var Bl=new Set,Wd={};function Ma(f,h){yn(f,h),yn(f+"Capture",h)}function yn(f,h){for(Wd[f]=h,f=0;f<h.length;f++)Bl.add(h[f])}var $i=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nc={},$l={};function wi(f){return er.call($l,f)?!0:er.call(Nc,f)?!1:$i.test(f)?$l[f]=!0:(Nc[f]=!0,!1)}function Oc(f,h,y){if(wi(h))if(y===null)f.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":f.removeAttribute(h);return;case"boolean":var S=h.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){f.removeAttribute(h);return}}f.setAttribute(h,""+y)}}function Ou(f,h,y){if(y===null)f.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(h);return}f.setAttribute(h,""+y)}}function ds(f,h,y,S){if(S===null)f.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(y);return}f.setAttributeNS(h,y,""+S)}}function Da(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Cy(f){var h=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function c3(f,h,y){var S=Object.getOwnPropertyDescriptor(f.constructor.prototype,h);if(!f.hasOwnProperty(h)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var _=S.get,D=S.set;return Object.defineProperty(f,h,{configurable:!0,get:function(){return _.call(this)},set:function(H){y=""+H,D.call(this,H)}}),Object.defineProperty(f,h,{enumerable:S.enumerable}),{getValue:function(){return y},setValue:function(H){y=""+H},stopTracking:function(){f._valueTracker=null,delete f[h]}}}}function Ty(f){if(!f._valueTracker){var h=Cy(f)?"checked":"value";f._valueTracker=c3(f,h,""+f[h])}}function jm(f){if(!f)return!1;var h=f._valueTracker;if(!h)return!0;var y=h.getValue(),S="";return f&&(S=Cy(f)?f.checked?"true":"false":f.value),f=S,f!==y?(h.setValue(f),!0):!1}function Bm(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var u3=/[\n"\\]/g;function Ra(f){return f.replace(u3,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function ky(f,h,y,S,_,D,H,J){f.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?f.type=H:f.removeAttribute("type"),h!=null?H==="number"?(h===0&&f.value===""||f.value!=h)&&(f.value=""+Da(h)):f.value!==""+Da(h)&&(f.value=""+Da(h)):H!=="submit"&&H!=="reset"||f.removeAttribute("value"),h!=null?Tx(f,H,Da(h)):y!=null?Tx(f,H,Da(y)):S!=null&&f.removeAttribute("value"),_==null&&D!=null&&(f.defaultChecked=!!D),_!=null&&(f.checked=_&&typeof _!="function"&&typeof _!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?f.name=""+Da(J):f.removeAttribute("name")}function _y(f,h,y,S,_,D,H,J){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(f.type=D),h!=null||y!=null){if(!(D!=="submit"&&D!=="reset"||h!=null)){Ty(f);return}y=y!=null?""+Da(y):"",h=h!=null?""+Da(h):y,J||h===f.value||(f.value=h),f.defaultValue=h}S=S??_,S=typeof S!="function"&&typeof S!="symbol"&&!!S,f.checked=J?f.checked:!!S,f.defaultChecked=!!S,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(f.name=H),Ty(f)}function Tx(f,h,y){h==="number"&&Bm(f.ownerDocument)===f||f.defaultValue===""+y||(f.defaultValue=""+y)}function Yd(f,h,y,S){if(f=f.options,h){h={};for(var _=0;_<y.length;_++)h["$"+y[_]]=!0;for(y=0;y<f.length;y++)_=h.hasOwnProperty("$"+f[y].value),f[y].selected!==_&&(f[y].selected=_),_&&S&&(f[y].defaultSelected=!0)}else{for(y=""+Da(y),h=null,_=0;_<f.length;_++){if(f[_].value===y){f[_].selected=!0,S&&(f[_].defaultSelected=!0);return}h!==null||f[_].disabled||(h=f[_])}h!==null&&(h.selected=!0)}}function Ay(f,h,y){if(h!=null&&(h=""+Da(h),h!==f.value&&(f.value=h),y==null)){f.defaultValue!==h&&(f.defaultValue=h);return}f.defaultValue=y!=null?""+Da(y):""}function Ny(f,h,y,S){if(h==null){if(S!=null){if(y!=null)throw Error(r(92));if(Z(S)){if(1<S.length)throw Error(r(93));S=S[0]}y=S}y==null&&(y=""),h=y}y=Da(h),f.defaultValue=y,S=f.textContent,S===y&&S!==""&&S!==null&&(f.value=S),Ty(f)}function Ks(f,h){if(h){var y=f.firstChild;if(y&&y===f.lastChild&&y.nodeType===3){y.nodeValue=h;return}}f.textContent=h}var xk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kx(f,h,y){var S=h.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?S?f.setProperty(h,""):h==="float"?f.cssFloat="":f[h]="":S?f.setProperty(h,y):typeof y!="number"||y===0||xk.has(h)?h==="float"?f.cssFloat=y:f[h]=(""+y).trim():f[h]=y+"px"}function wk(f,h,y){if(h!=null&&typeof h!="object")throw Error(r(62));if(f=f.style,y!=null){for(var S in y)!y.hasOwnProperty(S)||h!=null&&h.hasOwnProperty(S)||(S.indexOf("--")===0?f.setProperty(S,""):S==="float"?f.cssFloat="":f[S]="");for(var _ in h)S=h[_],h.hasOwnProperty(_)&&y[_]!==S&&kx(f,_,S)}else for(var D in h)h.hasOwnProperty(D)&&kx(f,D,h[D])}function Oy(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ek=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $m(f){return Ek.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function Mc(){}var _x=null;function Ax(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Gd=null,xh=null;function Ck(f){var h=Zi(f);if(h&&(f=h.stateNode)){var y=f[gt]||null;e:switch(f=h.stateNode,h.type){case"input":if(ky(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),h=y.name,y.type==="radio"&&h!=null){for(y=f;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Ra(""+h)+'"][type="radio"]'),h=0;h<y.length;h++){var S=y[h];if(S!==f&&S.form===f.form){var _=S[gt]||null;if(!_)throw Error(r(90));ky(S,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(h=0;h<y.length;h++)S=y[h],S.form===f.form&&jm(S)}break e;case"textarea":Ay(f,y.value,y.defaultValue);break e;case"select":h=y.value,h!=null&&Yd(f,!!y.multiple,h,!1)}}}var Nx=!1;function Tk(f,h,y){if(Nx)return f(h,y);Nx=!0;try{var S=f(h);return S}finally{if(Nx=!1,(Gd!==null||xh!==null)&&(Rb(),Gd&&(h=Gd,f=xh,xh=Gd=null,Ck(h),f)))for(h=0;h<f.length;h++)Ck(f[h])}}function Kd(f,h){var y=f.stateNode;if(y===null)return null;var S=y[gt]||null;if(S===null)return null;y=S[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(f=f.type,S=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!S;break e;default:f=!1}if(f)return null;if(y&&typeof y!="function")throw Error(r(231,h,typeof y));return y}var Dc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ox=!1;if(Dc)try{var Hm={};Object.defineProperty(Hm,"passive",{get:function(){Ox=!0}}),window.addEventListener("test",Hm,Hm),window.removeEventListener("test",Hm,Hm)}catch{Ox=!1}var Mu=null,Mx=null,Sr=null;function Ar(){if(Sr)return Sr;var f,h=Mx,y=h.length,S,_="value"in Mu?Mu.value:Mu.textContent,D=_.length;for(f=0;f<y&&h[f]===_[f];f++);var H=y-f;for(S=1;S<=H&&h[y-S]===_[D-S];S++);return Sr=_.slice(f,1<S?1-S:void 0)}function My(f){var h=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&h===13&&(f=13)):f=h,f===10&&(f=13),32<=f||f===13?f:0}function Dy(){return!0}function kk(){return!1}function ta(f){function h(y,S,_,D,H){this._reactName=y,this._targetInst=_,this.type=S,this.nativeEvent=D,this.target=H,this.currentTarget=null;for(var J in f)f.hasOwnProperty(J)&&(y=f[J],this[J]=y?y(D):D[J]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Dy:kk,this.isPropagationStopped=kk,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Dy)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Dy)},persist:function(){},isPersistent:Dy}),h}var Xd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ry=ta(Xd),wh=d({},Xd,{view:0,detail:0}),d3=ta(wh),Hi,Fm,Xs,Um=d({},wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zm,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Xs&&(Xs&&f.type==="mousemove"?(Hi=f.screenX-Xs.screenX,Fm=f.screenY-Xs.screenY):Fm=Hi=0,Xs=f),Hi)},movementY:function(f){return"movementY"in f?f.movementY:Fm}}),Iy=ta(Um),fs=d({},Um,{dataTransfer:0}),_k=ta(fs),Ak=d({},wh,{relatedTarget:0}),Py=ta(Ak),Nk=d({},Xd,{animationName:0,elapsedTime:0,pseudoElement:0}),Ok=ta(Nk),Mk=d({},Xd,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Ia=ta(Mk),f3=d({},Xd,{data:0}),Pa=ta(f3),h3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ly(f){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(f):(f=Du[f])?!!h[f]:!1}function zm(){return Ly}var Wr=d({},wh,{key:function(f){if(f.key){var h=h3[f.key]||f.key;if(h!=="Unidentified")return h}return f.type==="keypress"?(f=My(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Dk[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zm,charCode:function(f){return f.type==="keypress"?My(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?My(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Ru=ta(Wr),Dx=d({},Um,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rk=ta(Dx),Rx=d({},wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zm}),p3=ta(Rx),m3=d({},Xd,{propertyName:0,elapsedTime:0,pseudoElement:0}),g3=ta(m3),Ik=d({},Um,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),jy=ta(Ik),Sh=d({},Xd,{newState:0,oldState:0}),y3=ta(Sh),Pk=[9,13,27,32],By=Dc&&"CompositionEvent"in window,Zd=null;Dc&&"documentMode"in document&&(Zd=document.documentMode);var Ix=Dc&&"TextEvent"in window&&!Zd,Px=Dc&&(!By||Zd&&8<Zd&&11>=Zd),Lk=" ",$y=!1;function Hy(f,h){switch(f){case"keyup":return Pk.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jk(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Qd=!1;function La(f,h){switch(f){case"compositionend":return jk(h);case"keypress":return h.which!==32?null:($y=!0,Lk);case"textInput":return f=h.data,f===Lk&&$y?null:f;default:return null}}function Lx(f,h){if(Qd)return f==="compositionend"||!By&&Hy(f,h)?(f=Ar(),Sr=Mx=Mu=null,Qd=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Px&&h.locale!=="ko"?null:h.data;default:return null}}var Vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jx(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h==="input"?!!Vm[f.type]:h==="textarea"}function Bx(f,h,y,S){Gd?xh?xh.push(S):xh=[S]:Gd=S,h=Bg(h,"onChange"),0<h.length&&(y=new Ry("onChange","change",null,y,S),f.push({event:y,listeners:h}))}var qm=null,Wm=null;function b3(f){Z2(f,0)}function Fy(f){var h=Ao(f);if(jm(h))return f}function Bk(f,h){if(f==="change")return h}var Jd=!1;if(Dc){var $x;if(Dc){var Hx="oninput"in document;if(!Hx){var Uy=document.createElement("div");Uy.setAttribute("oninput","return;"),Hx=typeof Uy.oninput=="function"}$x=Hx}else $x=!1;Jd=$x&&(!document.documentMode||9<document.documentMode)}function Fx(){qm&&(qm.detachEvent("onpropertychange",Rc),Wm=qm=null)}function Rc(f){if(f.propertyName==="value"&&Fy(Wm)){var h=[];Bx(h,Wm,f,Ax(f)),Tk(b3,h)}}function zy(f,h,y){f==="focusin"?(Fx(),qm=h,Wm=y,qm.attachEvent("onpropertychange",Rc)):f==="focusout"&&Fx()}function v3(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Fy(Wm)}function x3(f,h){if(f==="click")return Fy(h)}function w3(f,h){if(f==="input"||f==="change")return Fy(h)}function Eh(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var ii=typeof Object.is=="function"?Object.is:Eh;function Ch(f,h){if(ii(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var y=Object.keys(f),S=Object.keys(h);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var _=y[S];if(!er.call(h,_)||!ii(f[_],h[_]))return!1}return!0}function $k(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Hk(f,h){var y=$k(f);f=0;for(var S;y;){if(y.nodeType===3){if(S=f+y.textContent.length,f<=h&&S>=h)return{node:y,offset:h-f};f=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=$k(y)}}function Fk(f,h){return f&&h?f===h?!0:f&&f.nodeType===3?!1:h&&h.nodeType===3?Fk(f,h.parentNode):"contains"in f?f.contains(h):f.compareDocumentPosition?!!(f.compareDocumentPosition(h)&16):!1:!1}function Uk(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var h=Bm(f.document);h instanceof f.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)f=h.contentWindow;else break;h=Bm(f.document)}return h}function Ux(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h&&(h==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||h==="textarea"||f.contentEditable==="true")}var Th=Dc&&"documentMode"in document&&11>=document.documentMode,be=null,Ue=null,Pe=null,yt=!1;function ln(f,h,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;yt||be==null||be!==Bm(S)||(S=be,"selectionStart"in S&&Ux(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Pe&&Ch(Pe,S)||(Pe=S,S=Bg(Ue,"onSelect"),0<S.length&&(h=new Ry("onSelect","select",null,h,y),f.push({event:h,listeners:S}),h.target=be)))}function Nn(f,h){var y={};return y[f.toLowerCase()]=h.toLowerCase(),y["Webkit"+f]="webkit"+h,y["Moz"+f]="moz"+h,y}var Yr={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionrun:Nn("Transition","TransitionRun"),transitionstart:Nn("Transition","TransitionStart"),transitioncancel:Nn("Transition","TransitionCancel"),transitionend:Nn("Transition","TransitionEnd")},gr={},Vy={};Dc&&(Vy=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function ef(f){if(gr[f])return gr[f];if(!Yr[f])return f;var h=Yr[f],y;for(y in h)if(h.hasOwnProperty(y)&&y in Vy)return gr[f]=h[y];return f}var ja=ef("animationend"),Ym=ef("animationiteration"),zk=ef("animationstart"),kh=ef("transitionrun"),qy=ef("transitionstart"),Wy=ef("transitioncancel"),dr=ef("transitionend"),Vk=new Map,Yy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yy.push("scrollEnd");function na(f,h){Vk.set(f,h),Ma(h,[f])}var Gy=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},hs=[],_h=0,Ah=0;function Zs(){for(var f=_h,h=Ah=_h=0;h<f;){var y=hs[h];hs[h++]=null;var S=hs[h];hs[h++]=null;var _=hs[h];hs[h++]=null;var D=hs[h];if(hs[h++]=null,S!==null&&_!==null){var H=S.pending;H===null?_.next=_:(_.next=H.next,H.next=_),S.pending=_}D!==0&&zx(y,_,D)}}function tf(f,h,y,S){hs[_h++]=f,hs[_h++]=h,hs[_h++]=y,hs[_h++]=S,Ah|=S,f.lanes|=S,f=f.alternate,f!==null&&(f.lanes|=S)}function Ky(f,h,y,S){return tf(f,h,y,S),Gm(f)}function Hl(f,h){return tf(f,null,null,h),Gm(f)}function zx(f,h,y){f.lanes|=y;var S=f.alternate;S!==null&&(S.lanes|=y);for(var _=!1,D=f.return;D!==null;)D.childLanes|=y,S=D.alternate,S!==null&&(S.childLanes|=y),D.tag===22&&(f=D.stateNode,f===null||f._visibility&1||(_=!0)),f=D,D=D.return;return f.tag===3?(D=f.stateNode,_&&h!==null&&(_=31-un(y),f=D.hiddenUpdates,S=f[_],S===null?f[_]=[h]:S.push(h),h.lane=y|536870912),D):null}function Gm(f){if(50<Mg)throw Mg=0,Uw=null,Error(r(185));for(var h=f.return;h!==null;)f=h,h=f.return;return f.tag===3?f.stateNode:null}var Ic={};function qk(f,h,y,S){this.tag=f,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mo(f,h,y,S){return new qk(f,h,y,S)}function Pc(f){return f=f.prototype,!(!f||!f.isReactComponent)}function ps(f,h){var y=f.alternate;return y===null?(y=mo(f.tag,h,f.key,f.mode),y.elementType=f.elementType,y.type=f.type,y.stateNode=f.stateNode,y.alternate=f,f.alternate=y):(y.pendingProps=h,y.type=f.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=f.flags&65011712,y.childLanes=f.childLanes,y.lanes=f.lanes,y.child=f.child,y.memoizedProps=f.memoizedProps,y.memoizedState=f.memoizedState,y.updateQueue=f.updateQueue,h=f.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=f.sibling,y.index=f.index,y.ref=f.ref,y.refCleanup=f.refCleanup,y}function Wk(f,h){f.flags&=65011714;var y=f.alternate;return y===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,h=y.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),f}function Xy(f,h,y,S,_,D){var H=0;if(S=f,typeof f=="function")Pc(f)&&(H=1);else if(typeof f=="string")H=nI(f,y,he.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case B:return f=mo(31,y,h,_),f.elementType=B,f.lanes=D,f;case x:return nf(y.children,_,D,h);case w:H=8,_|=24;break;case T:return f=mo(12,y,h,_|2),f.elementType=T,f.lanes=D,f;case O:return f=mo(13,y,h,_),f.elementType=O,f.lanes=D,f;case A:return f=mo(19,y,h,_),f.elementType=A,f.lanes=D,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case N:H=10;break e;case k:H=9;break e;case I:H=11;break e;case R:H=14;break e;case L:H=16,S=null;break e}H=29,y=Error(r(130,f===null?"null":typeof f,"")),S=null}return h=mo(H,y,h,_),h.elementType=f,h.type=S,h.lanes=D,h}function nf(f,h,y,S){return f=mo(7,f,S,h),f.lanes=y,f}function Nh(f,h,y){return f=mo(6,f,null,h),f.lanes=y,f}function Km(f){var h=mo(18,null,null,0);return h.stateNode=f,h}function Xm(f,h,y){return h=mo(4,f.children!==null?f.children:[],f.key,h),h.lanes=y,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}var Yk=new WeakMap;function Ba(f,h){if(typeof f=="object"&&f!==null){var y=Yk.get(f);return y!==void 0?y:(h={value:f,source:h,stack:xr(h)},Yk.set(f,h),h)}return{value:f,source:h,stack:xr(h)}}var Oh=[],Mh=0,di=null,Ni=0,ms=[],gs=0,Lc=null,Fl=1,ys="";function $a(f,h){Oh[Mh++]=Ni,Oh[Mh++]=di,di=f,Ni=h}function Zy(f,h,y){ms[gs++]=Fl,ms[gs++]=ys,ms[gs++]=Lc,Lc=f;var S=Fl;f=ys;var _=32-un(S)-1;S&=~(1<<_),y+=1;var D=32-un(h)+_;if(30<D){var H=_-_%5;D=(S&(1<<H)-1).toString(32),S>>=H,_-=H,Fl=1<<32-un(h)+_|y<<_|S,ys=D+f}else Fl=1<<D|y<<_|S,ys=f}function Iu(f){f.return!==null&&($a(f,1),Zy(f,1,0))}function rf(f){for(;f===di;)di=Oh[--Mh],Oh[Mh]=null,Ni=Oh[--Mh],Oh[Mh]=null;for(;f===Lc;)Lc=ms[--gs],ms[gs]=null,ys=ms[--gs],ms[gs]=null,Fl=ms[--gs],ms[gs]=null}function Dh(f,h){ms[gs++]=Fl,ms[gs++]=ys,ms[gs++]=Lc,Fl=h.id,ys=h.overflow,Lc=f}var Oi=null,fr=null,Fn=!1,Pu=null,bs=!1,Vx=Error(r(519));function Lu(f){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bu(Ba(h,f)),Vx}function Zm(f){var h=f.stateNode,y=f.type,S=f.memoizedProps;switch(h[ht]=f,h[gt]=S,y){case"dialog":Mn("cancel",h),Mn("close",h);break;case"iframe":case"object":case"embed":Mn("load",h);break;case"video":case"audio":for(y=0;y<jg.length;y++)Mn(jg[y],h);break;case"source":Mn("error",h);break;case"img":case"image":case"link":Mn("error",h),Mn("load",h);break;case"details":Mn("toggle",h);break;case"input":Mn("invalid",h),_y(h,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0);break;case"select":Mn("invalid",h);break;case"textarea":Mn("invalid",h),Ny(h,S.value,S.defaultValue,S.children)}y=S.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||h.textContent===""+y||S.suppressHydrationWarning===!0||e_(h.textContent,y)?(S.popover!=null&&(Mn("beforetoggle",h),Mn("toggle",h)),S.onScroll!=null&&Mn("scroll",h),S.onScrollEnd!=null&&Mn("scrollend",h),S.onClick!=null&&(h.onclick=Mc),h=!0):h=!1,h||Lu(f,!0)}function Rh(f){for(Oi=f.return;Oi;)switch(Oi.tag){case 5:case 31:case 13:bs=!1;return;case 27:case 3:bs=!0;return;default:Oi=Oi.return}}function of(f){if(f!==Oi)return!1;if(!Fn)return Rh(f),Fn=!0,!1;var h=f.tag,y;if((y=h!==3&&h!==27)&&((y=h===5)&&(y=f.type,y=!(y!=="form"&&y!=="button")||ed(f.type,f.memoizedProps)),y=!y),y&&fr&&Lu(f),Rh(f),h===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));fr=o_(f)}else if(h===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));fr=o_(f)}else h===27?(h=fr,en(f.type)?(f=lS,lS=null,fr=f):fr=h):fr=Oi?Ts(f.stateNode.nextSibling):null;return!0}function ee(){fr=Oi=null,Fn=!1}function ju(){var f=Pu;return f!==null&&(ca===null?ca=f:ca.push.apply(ca,f),Pu=null),f}function Bu(f){Pu===null?Pu=[f]:Pu.push(f)}var ra=Q(null),dn=null,jc=null;function $u(f,h,y){U(ra,h._currentValue),h._currentValue=y}function Bc(f){f._currentValue=ra.current,te(ra)}function $c(f,h,y){for(;f!==null;){var S=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,S!==null&&(S.childLanes|=h)):S!==null&&(S.childLanes&h)!==h&&(S.childLanes|=h),f===y)break;f=f.return}}function qx(f,h,y,S){var _=f.child;for(_!==null&&(_.return=f);_!==null;){var D=_.dependencies;if(D!==null){var H=_.child;D=D.firstContext;e:for(;D!==null;){var J=D;D=_;for(var fe=0;fe<h.length;fe++)if(J.context===h[fe]){D.lanes|=y,J=D.alternate,J!==null&&(J.lanes|=y),$c(D.return,y,f),S||(H=null);break e}D=J.next}}else if(_.tag===18){if(H=_.return,H===null)throw Error(r(341));H.lanes|=y,D=H.alternate,D!==null&&(D.lanes|=y),$c(H,y,f),H=null}else H=_.child;if(H!==null)H.return=_;else for(H=_;H!==null;){if(H===f){H=null;break}if(_=H.sibling,_!==null){_.return=H.return,H=_;break}H=H.return}_=H}}function Ih(f,h,y,S){f=null;for(var _=h,D=!1;_!==null;){if(!D){if((_.flags&524288)!==0)D=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var H=_.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var J=_.type;ii(_.pendingProps.value,H.value)||(f!==null?f.push(J):f=[J])}}else if(_===ve.current){if(H=_.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(f!==null?f.push(dp):f=[dp])}_=_.return}f!==null&&qx(h,f,y,S),h.flags|=262144}function Qy(f){for(f=f.firstContext;f!==null;){if(!ii(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function af(f){dn=f,jc=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function go(f){return Gk(dn,f)}function vs(f,h){return dn===null&&af(f),Gk(f,h)}function Gk(f,h){var y=h._currentValue;if(h={context:h,memoizedValue:y,next:null},jc===null){if(f===null)throw Error(r(308));jc=h,f.dependencies={lanes:0,firstContext:h},f.flags|=524288}else jc=jc.next=h;return y}var S3=typeof AbortController<"u"?AbortController:function(){var f=[],h=this.signal={aborted:!1,addEventListener:function(y,S){f.push(S)}};this.abort=function(){h.aborted=!0,f.forEach(function(y){return y()})}},E3=e.unstable_scheduleCallback,C3=e.unstable_NormalPriority,Mi={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qs(){return{controller:new S3,data:new Map,refCount:0}}function Qm(f){f.refCount--,f.refCount===0&&E3(C3,function(){f.controller.abort()})}var Jm=null,Wx=0,Ph=0,Lh=null;function sf(f,h){if(Jm===null){var y=Jm=[];Wx=0,Ph=Ga(),Lh={status:"pending",value:void 0,then:function(S){y.push(S)}}}return Wx++,h.then(Kk,Kk),h}function Kk(){if(--Wx===0&&Jm!==null){Lh!==null&&(Lh.status="fulfilled");var f=Jm;Jm=null,Ph=0,Lh=null;for(var h=0;h<f.length;h++)(0,f[h])()}}function T3(f,h){var y=[],S={status:"pending",value:null,reason:null,then:function(_){y.push(_)}};return f.then(function(){S.status="fulfilled",S.value=h;for(var _=0;_<y.length;_++)(0,y[_])(h)},function(_){for(S.status="rejected",S.reason=_,_=0;_<y.length;_++)(0,y[_])(void 0)}),S}var xs=V.S;V.S=function(f,h){R2=Ze(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&sf(f,h),xs!==null&&xs(f,h)};var lf=Q(null);function Yx(){var f=lf.current;return f!==null?f:Or.pooledCache}function Jy(f,h){h===null?U(lf,lf.current):U(lf,h.pool)}function Xk(){var f=Yx();return f===null?null:{parent:Mi._currentValue,pool:f}}var jh=Error(r(460)),eb=Error(r(474)),eg=Error(r(542)),tb={then:function(){}};function Zk(f){return f=f.status,f==="fulfilled"||f==="rejected"}function nb(f,h,y){switch(y=f[y],y===void 0?f.push(h):y!==h&&(h.then(Mc,Mc),h=y),h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,Gx(f),f;default:if(typeof h.status=="string")h.then(Mc,Mc);else{if(f=Or,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=h,f.status="pending",f.then(function(S){if(h.status==="pending"){var _=h;_.status="fulfilled",_.value=S}},function(S){if(h.status==="pending"){var _=h;_.status="rejected",_.reason=S}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,Gx(f),f}throw Ul=h,jh}}function Js(f){try{var h=f._init;return h(f._payload)}catch(y){throw y!==null&&typeof y=="object"&&typeof y.then=="function"?(Ul=y,jh):y}}var Ul=null;function Qk(){if(Ul===null)throw Error(r(459));var f=Ul;return Ul=null,f}function Gx(f){if(f===jh||f===eg)throw Error(r(483))}var Bh=null,Ha=0;function $h(f){var h=Ha;return Ha+=1,Bh===null&&(Bh=[]),nb(Bh,f,h)}function el(f,h){h=h.props.ref,f.ref=h!==void 0?h:null}function zo(f,h){throw h.$$typeof===p?Error(r(525)):(f=Object.prototype.toString.call(h),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f)))}function Jk(f){function h(Se,me){if(f){var Ne=Se.deletions;Ne===null?(Se.deletions=[me],Se.flags|=16):Ne.push(me)}}function y(Se,me){if(!f)return null;for(;me!==null;)h(Se,me),me=me.sibling;return null}function S(Se){for(var me=new Map;Se!==null;)Se.key!==null?me.set(Se.key,Se):me.set(Se.index,Se),Se=Se.sibling;return me}function _(Se,me){return Se=ps(Se,me),Se.index=0,Se.sibling=null,Se}function D(Se,me,Ne){return Se.index=Ne,f?(Ne=Se.alternate,Ne!==null?(Ne=Ne.index,Ne<me?(Se.flags|=67108866,me):Ne):(Se.flags|=67108866,me)):(Se.flags|=1048576,me)}function H(Se){return f&&Se.alternate===null&&(Se.flags|=67108866),Se}function J(Se,me,Ne,qe){return me===null||me.tag!==6?(me=Nh(Ne,Se.mode,qe),me.return=Se,me):(me=_(me,Ne),me.return=Se,me)}function fe(Se,me,Ne,qe){var Ut=Ne.type;return Ut===x?ze(Se,me,Ne.props.children,qe,Ne.key):me!==null&&(me.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===L&&Js(Ut)===me.type)?(me=_(me,Ne.props),el(me,Ne),me.return=Se,me):(me=Xy(Ne.type,Ne.key,Ne.props,null,Se.mode,qe),el(me,Ne),me.return=Se,me)}function Oe(Se,me,Ne,qe){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ne.containerInfo||me.stateNode.implementation!==Ne.implementation?(me=Xm(Ne,Se.mode,qe),me.return=Se,me):(me=_(me,Ne.children||[]),me.return=Se,me)}function ze(Se,me,Ne,qe,Ut){return me===null||me.tag!==7?(me=nf(Ne,Se.mode,qe,Ut),me.return=Se,me):(me=_(me,Ne),me.return=Se,me)}function We(Se,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=Nh(""+me,Se.mode,Ne),me.return=Se,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case m:return Ne=Xy(me.type,me.key,me.props,null,Se.mode,Ne),el(Ne,me),Ne.return=Se,Ne;case v:return me=Xm(me,Se.mode,Ne),me.return=Se,me;case L:return me=Js(me),We(Se,me,Ne)}if(Z(me)||z(me))return me=nf(me,Se.mode,Ne,null),me.return=Se,me;if(typeof me.then=="function")return We(Se,$h(me),Ne);if(me.$$typeof===N)return We(Se,vs(Se,me),Ne);zo(Se,me)}return null}function Me(Se,me,Ne,qe){var Ut=me!==null?me.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ut!==null?null:J(Se,me,""+Ne,qe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case m:return Ne.key===Ut?fe(Se,me,Ne,qe):null;case v:return Ne.key===Ut?Oe(Se,me,Ne,qe):null;case L:return Ne=Js(Ne),Me(Se,me,Ne,qe)}if(Z(Ne)||z(Ne))return Ut!==null?null:ze(Se,me,Ne,qe,null);if(typeof Ne.then=="function")return Me(Se,me,$h(Ne),qe);if(Ne.$$typeof===N)return Me(Se,me,vs(Se,Ne),qe);zo(Se,Ne)}return null}function Le(Se,me,Ne,qe,Ut){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Se=Se.get(Ne)||null,J(me,Se,""+qe,Ut);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case m:return Se=Se.get(qe.key===null?Ne:qe.key)||null,fe(me,Se,qe,Ut);case v:return Se=Se.get(qe.key===null?Ne:qe.key)||null,Oe(me,Se,qe,Ut);case L:return qe=Js(qe),Le(Se,me,Ne,qe,Ut)}if(Z(qe)||z(qe))return Se=Se.get(Ne)||null,ze(me,Se,qe,Ut,null);if(typeof qe.then=="function")return Le(Se,me,Ne,$h(qe),Ut);if(qe.$$typeof===N)return Le(Se,me,Ne,vs(me,qe),Ut);zo(me,qe)}return null}function wt(Se,me,Ne,qe){for(var Ut=null,tr=null,Mt=me,bn=me=0,Pn=null;Mt!==null&&bn<Ne.length;bn++){Mt.index>bn?(Pn=Mt,Mt=null):Pn=Mt.sibling;var nr=Me(Se,Mt,Ne[bn],qe);if(nr===null){Mt===null&&(Mt=Pn);break}f&&Mt&&nr.alternate===null&&h(Se,Mt),me=D(nr,me,bn),tr===null?Ut=nr:tr.sibling=nr,tr=nr,Mt=Pn}if(bn===Ne.length)return y(Se,Mt),Fn&&$a(Se,bn),Ut;if(Mt===null){for(;bn<Ne.length;bn++)Mt=We(Se,Ne[bn],qe),Mt!==null&&(me=D(Mt,me,bn),tr===null?Ut=Mt:tr.sibling=Mt,tr=Mt);return Fn&&$a(Se,bn),Ut}for(Mt=S(Mt);bn<Ne.length;bn++)Pn=Le(Mt,Se,bn,Ne[bn],qe),Pn!==null&&(f&&Pn.alternate!==null&&Mt.delete(Pn.key===null?bn:Pn.key),me=D(Pn,me,bn),tr===null?Ut=Pn:tr.sibling=Pn,tr=Pn);return f&&Mt.forEach(function(ad){return h(Se,ad)}),Fn&&$a(Se,bn),Ut}function Kt(Se,me,Ne,qe){if(Ne==null)throw Error(r(151));for(var Ut=null,tr=null,Mt=me,bn=me=0,Pn=null,nr=Ne.next();Mt!==null&&!nr.done;bn++,nr=Ne.next()){Mt.index>bn?(Pn=Mt,Mt=null):Pn=Mt.sibling;var ad=Me(Se,Mt,nr.value,qe);if(ad===null){Mt===null&&(Mt=Pn);break}f&&Mt&&ad.alternate===null&&h(Se,Mt),me=D(ad,me,bn),tr===null?Ut=ad:tr.sibling=ad,tr=ad,Mt=Pn}if(nr.done)return y(Se,Mt),Fn&&$a(Se,bn),Ut;if(Mt===null){for(;!nr.done;bn++,nr=Ne.next())nr=We(Se,nr.value,qe),nr!==null&&(me=D(nr,me,bn),tr===null?Ut=nr:tr.sibling=nr,tr=nr);return Fn&&$a(Se,bn),Ut}for(Mt=S(Mt);!nr.done;bn++,nr=Ne.next())nr=Le(Mt,Se,bn,nr.value,qe),nr!==null&&(f&&nr.alternate!==null&&Mt.delete(nr.key===null?bn:nr.key),me=D(nr,me,bn),tr===null?Ut=nr:tr.sibling=nr,tr=nr);return f&&Mt.forEach(function(uI){return h(Se,uI)}),Fn&&$a(Se,bn),Ut}function Tr(Se,me,Ne,qe){if(typeof Ne=="object"&&Ne!==null&&Ne.type===x&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case m:e:{for(var Ut=Ne.key;me!==null;){if(me.key===Ut){if(Ut=Ne.type,Ut===x){if(me.tag===7){y(Se,me.sibling),qe=_(me,Ne.props.children),qe.return=Se,Se=qe;break e}}else if(me.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===L&&Js(Ut)===me.type){y(Se,me.sibling),qe=_(me,Ne.props),el(qe,Ne),qe.return=Se,Se=qe;break e}y(Se,me);break}else h(Se,me);me=me.sibling}Ne.type===x?(qe=nf(Ne.props.children,Se.mode,qe,Ne.key),qe.return=Se,Se=qe):(qe=Xy(Ne.type,Ne.key,Ne.props,null,Se.mode,qe),el(qe,Ne),qe.return=Se,Se=qe)}return H(Se);case v:e:{for(Ut=Ne.key;me!==null;){if(me.key===Ut)if(me.tag===4&&me.stateNode.containerInfo===Ne.containerInfo&&me.stateNode.implementation===Ne.implementation){y(Se,me.sibling),qe=_(me,Ne.children||[]),qe.return=Se,Se=qe;break e}else{y(Se,me);break}else h(Se,me);me=me.sibling}qe=Xm(Ne,Se.mode,qe),qe.return=Se,Se=qe}return H(Se);case L:return Ne=Js(Ne),Tr(Se,me,Ne,qe)}if(Z(Ne))return wt(Se,me,Ne,qe);if(z(Ne)){if(Ut=z(Ne),typeof Ut!="function")throw Error(r(150));return Ne=Ut.call(Ne),Kt(Se,me,Ne,qe)}if(typeof Ne.then=="function")return Tr(Se,me,$h(Ne),qe);if(Ne.$$typeof===N)return Tr(Se,me,vs(Se,Ne),qe);zo(Se,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,me!==null&&me.tag===6?(y(Se,me.sibling),qe=_(me,Ne),qe.return=Se,Se=qe):(y(Se,me),qe=Nh(Ne,Se.mode,qe),qe.return=Se,Se=qe),H(Se)):y(Se,me)}return function(Se,me,Ne,qe){try{Ha=0;var Ut=Tr(Se,me,Ne,qe);return Bh=null,Ut}catch(Mt){if(Mt===jh||Mt===eg)throw Mt;var tr=mo(29,Mt,null,Se.mode);return tr.lanes=qe,tr.return=Se,tr}finally{}}}var Hu=Jk(!0),Kx=Jk(!1),ws=!1;function zl(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rb(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Fu(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function tl(f,h,y){var S=f.updateQueue;if(S===null)return null;if(S=S.shared,(sr&2)!==0){var _=S.pending;return _===null?h.next=h:(h.next=_.next,_.next=h),S.pending=h,h=Gm(f),zx(f,null,y),h}return tf(f,S,h,y),Gm(f)}function tg(f,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194048)!==0)){var S=h.lanes;S&=f.pendingLanes,y|=S,h.lanes=y,Xe(f,y)}}function ib(f,h){var y=f.updateQueue,S=f.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var _=null,D=null;if(y=y.firstBaseUpdate,y!==null){do{var H={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};D===null?_=D=H:D=D.next=H,y=y.next}while(y!==null);D===null?_=D=h:D=D.next=h}else _=D=h;y={baseState:S.baseState,firstBaseUpdate:_,lastBaseUpdate:D,shared:S.shared,callbacks:S.callbacks},f.updateQueue=y;return}f=y.lastBaseUpdate,f===null?y.firstBaseUpdate=h:f.next=h,y.lastBaseUpdate=h}var Fi=!1;function cf(){if(Fi){var f=Lh;if(f!==null)throw f}}function Hh(f,h,y,S){Fi=!1;var _=f.updateQueue;ws=!1;var D=_.firstBaseUpdate,H=_.lastBaseUpdate,J=_.shared.pending;if(J!==null){_.shared.pending=null;var fe=J,Oe=fe.next;fe.next=null,H===null?D=Oe:H.next=Oe,H=fe;var ze=f.alternate;ze!==null&&(ze=ze.updateQueue,J=ze.lastBaseUpdate,J!==H&&(J===null?ze.firstBaseUpdate=Oe:J.next=Oe,ze.lastBaseUpdate=fe))}if(D!==null){var We=_.baseState;H=0,ze=Oe=fe=null,J=D;do{var Me=J.lane&-536870913,Le=Me!==J.lane;if(Le?(In&Me)===Me:(S&Me)===Me){Me!==0&&Me===Ph&&(Fi=!0),ze!==null&&(ze=ze.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var wt=f,Kt=J;Me=h;var Tr=y;switch(Kt.tag){case 1:if(wt=Kt.payload,typeof wt=="function"){We=wt.call(Tr,We,Me);break e}We=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Kt.payload,Me=typeof wt=="function"?wt.call(Tr,We,Me):wt,Me==null)break e;We=d({},We,Me);break e;case 2:ws=!0}}Me=J.callback,Me!==null&&(f.flags|=64,Le&&(f.flags|=8192),Le=_.callbacks,Le===null?_.callbacks=[Me]:Le.push(Me))}else Le={lane:Me,tag:J.tag,payload:J.payload,callback:J.callback,next:null},ze===null?(Oe=ze=Le,fe=We):ze=ze.next=Le,H|=Me;if(J=J.next,J===null){if(J=_.shared.pending,J===null)break;Le=J,J=Le.next,Le.next=null,_.lastBaseUpdate=Le,_.shared.pending=null}}while(!0);ze===null&&(fe=We),_.baseState=fe,_.firstBaseUpdate=Oe,_.lastBaseUpdate=ze,D===null&&(_.shared.lanes=0),Ku|=H,f.lanes=H,f.memoizedState=We}}function nl(f,h){if(typeof f!="function")throw Error(r(191,f));f.call(h)}function ob(f,h){var y=f.callbacks;if(y!==null)for(f.callbacks=null,f=0;f<y.length;f++)nl(y[f],h)}var Hc=Q(null),Vl=Q(0);function Xx(f,h){f=ll,U(Vl,f),U(Hc,h),ll=f|h.baseLanes}function yo(){U(Vl,ll),U(Hc,Hc.current)}function ng(){ll=Vl.current,te(Hc),te(Vl)}var Fa=Q(null),Ss=null;function Uu(f){var h=f.alternate;U(Si,Si.current&1),U(Fa,f),Ss===null&&(h===null||Hc.current!==null||h.memoizedState!==null)&&(Ss=f)}function rg(f){U(Si,Si.current),U(Fa,f),Ss===null&&(Ss=f)}function e2(f){f.tag===22?(U(Si,Si.current),U(Fa,f),Ss===null&&(Ss=f)):Es()}function Es(){U(Si,Si.current),U(Fa,Fa.current)}function ia(f){te(Fa),Ss===f&&(Ss=null),te(Si)}var Si=Q(0);function ab(f){for(var h=f;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||zb(y)||op(y)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Ua=0,fn=null,Er=null,fi=null,ig=!1,Fh=!1,uf=!1,sb=0,Uh=0,zu=null,k3=0;function Gr(){throw Error(r(321))}function lb(f,h){if(h===null)return!1;for(var y=0;y<h.length&&y<f.length;y++)if(!ii(f[y],h[y]))return!1;return!0}function cb(f,h,y,S,_,D){return Ua=D,fn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,V.H=f===null||f.memoizedState===null?d2:bb,uf=!1,D=y(S,_),uf=!1,Fh&&(D=og(h,y,S,_)),Zx(f),D}function Zx(f){V.H=qu;var h=Er!==null&&Er.next!==null;if(Ua=0,fi=Er=fn=null,ig=!1,Uh=0,zu=null,h)throw Error(r(300));f===null||oi||(f=f.dependencies,f!==null&&Qy(f)&&(oi=!0))}function og(f,h,y,S){fn=f;var _=0;do{if(Fh&&(zu=null),Uh=0,Fh=!1,25<=_)throw Error(r(301));if(_+=1,fi=Er=null,f.updateQueue!=null){var D=f.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}V.H=hg,D=h(y,S)}while(Fh);return D}function _3(){var f=V.H,h=f.useState()[0];return h=typeof h.then=="function"?Vh(h):h,f=f.useState()[0],(Er!==null?Er.memoizedState:null)!==f&&(fn.flags|=1024),h}function ub(){var f=sb!==0;return sb=0,f}function db(f,h,y){h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~y}function Qx(f){if(ig){for(f=f.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}ig=!1}Ua=0,fi=Er=fn=null,Fh=!1,Uh=sb=0,zu=null}function No(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?fn.memoizedState=fi=f:fi=fi.next=f,fi}function Ei(){if(Er===null){var f=fn.alternate;f=f!==null?f.memoizedState:null}else f=Er.next;var h=fi===null?fn.memoizedState:fi.next;if(h!==null)fi=h,Er=f;else{if(f===null)throw fn.alternate===null?Error(r(467)):Error(r(310));Er=f,f={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},fi===null?fn.memoizedState=fi=f:fi=fi.next=f}return fi}function zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vh(f){var h=Uh;return Uh+=1,zu===null&&(zu=[]),f=nb(zu,f,h),h=fn,(fi===null?h.memoizedState:fi.next)===null&&(h=h.alternate,V.H=h===null||h.memoizedState===null?d2:bb),f}function qh(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Vh(f);if(f.$$typeof===N)return go(f)}throw Error(r(438,String(f)))}function Jx(f){var h=null,y=fn.updateQueue;if(y!==null&&(h=y.memoCache),h==null){var S=fn.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(h={data:S.data.map(function(_){return _.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),y===null&&(y=zh(),fn.updateQueue=y),y.memoCache=h,y=h.data[h.index],y===void 0)for(y=h.data[h.index]=Array(f),S=0;S<f;S++)y[S]=$;return h.index++,y}function rl(f,h){return typeof h=="function"?h(f):h}function hn(f){var h=Ei();return ew(h,Er,f)}function ew(f,h,y){var S=f.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=y;var _=f.baseQueue,D=S.pending;if(D!==null){if(_!==null){var H=_.next;_.next=D.next,D.next=H}h.baseQueue=_=D,S.pending=null}if(D=f.baseState,_===null)f.memoizedState=D;else{h=_.next;var J=H=null,fe=null,Oe=h,ze=!1;do{var We=Oe.lane&-536870913;if(We!==Oe.lane?(In&We)===We:(Ua&We)===We){var Me=Oe.revertLane;if(Me===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),We===Ph&&(ze=!0);else if((Ua&Me)===Me){Oe=Oe.next,Me===Ph&&(ze=!0);continue}else We={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},fe===null?(J=fe=We,H=D):fe=fe.next=We,fn.lanes|=Me,Ku|=Me;We=Oe.action,uf&&y(D,We),D=Oe.hasEagerState?Oe.eagerState:y(D,We)}else Me={lane:We,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},fe===null?(J=fe=Me,H=D):fe=fe.next=Me,fn.lanes|=We,Ku|=We;Oe=Oe.next}while(Oe!==null&&Oe!==h);if(fe===null?H=D:fe.next=J,!ii(D,f.memoizedState)&&(oi=!0,ze&&(y=Lh,y!==null)))throw y;f.memoizedState=D,f.baseState=H,f.baseQueue=fe,S.lastRenderedState=D}return _===null&&(S.lanes=0),[f.memoizedState,S.dispatch]}function tw(f){var h=Ei(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=f;var S=y.dispatch,_=y.pending,D=h.memoizedState;if(_!==null){y.pending=null;var H=_=_.next;do D=f(D,H.action),H=H.next;while(H!==_);ii(D,h.memoizedState)||(oi=!0),h.memoizedState=D,h.baseQueue===null&&(h.baseState=D),y.lastRenderedState=D}return[D,S]}function Wh(f,h,y){var S=fn,_=Ei(),D=Fn;if(D){if(y===void 0)throw Error(r(407));y=y()}else y=h();var H=!ii((Er||_).memoizedState,y);if(H&&(_.memoizedState=y,oi=!0),_=_.queue,cg(n2.bind(null,S,_,f),[f]),_.getSnapshot!==h||H||fi!==null&&fi.memoizedState.tag&1){if(S.flags|=2048,Va(9,{destroy:void 0},t2.bind(null,S,_,y,h),null),Or===null)throw Error(r(349));D||(Ua&127)!==0||nw(S,h,y)}return y}function nw(f,h,y){f.flags|=16384,f={getSnapshot:h,value:y},h=fn.updateQueue,h===null?(h=zh(),fn.updateQueue=h,h.stores=[f]):(y=h.stores,y===null?h.stores=[f]:y.push(f))}function t2(f,h,y,S){h.value=y,h.getSnapshot=S,za(h)&&r2(f)}function n2(f,h,y){return y(function(){za(h)&&r2(f)})}function za(f){var h=f.getSnapshot;f=f.value;try{var y=h();return!ii(f,y)}catch{return!0}}function r2(f){var h=Hl(f,2);h!==null&&ua(h,f,2)}function Yh(f){var h=No();if(typeof f=="function"){var y=f;if(f=y(),uf){wr(!0);try{y()}finally{wr(!1)}}}return h.memoizedState=h.baseState=f,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:f},h}function fb(f,h,y,S){return f.baseState=y,ew(f,Er,typeof S=="function"?S:rl)}function i2(f,h,y,S,_){if(dg(f))throw Error(r(485));if(f=h.action,f!==null){var D={payload:_,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){D.listeners.push(H)}};V.T!==null?y(!0):D.isTransition=!1,S(D),y=h.pending,y===null?(D.next=h.pending=D,rw(h,D)):(D.next=y.next,h.pending=y.next=D)}}function rw(f,h){var y=h.action,S=h.payload,_=f.state;if(h.isTransition){var D=V.T,H={};V.T=H;try{var J=y(_,S),fe=V.S;fe!==null&&fe(H,J),oa(f,h,J)}catch(Oe){ag(f,h,Oe)}finally{D!==null&&H.types!==null&&(D.types=H.types),V.T=D}}else try{D=y(_,S),oa(f,h,D)}catch(Oe){ag(f,h,Oe)}}function oa(f,h,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(S){Fc(f,h,S)},function(S){return ag(f,h,S)}):Fc(f,h,y)}function Fc(f,h,y){h.status="fulfilled",h.value=y,iw(h),f.state=y,h=f.pending,h!==null&&(y=h.next,y===h?f.pending=null:(y=y.next,h.next=y,rw(f,y)))}function ag(f,h,y){var S=f.pending;if(f.pending=null,S!==null){S=S.next;do h.status="rejected",h.reason=y,iw(h),h=h.next;while(h!==S)}f.action=null}function iw(f){f=f.listeners;for(var h=0;h<f.length;h++)(0,f[h])()}function sg(f,h){return h}function ow(f,h){if(Fn){var y=Or.formState;if(y!==null){e:{var S=fn;if(Fn){if(fr){t:{for(var _=fr,D=bs;_.nodeType!==8;){if(!D){_=null;break t}if(_=Ts(_.nextSibling),_===null){_=null;break t}}D=_.data,_=D==="F!"||D==="F"?_:null}if(_){fr=Ts(_.nextSibling),S=_.data==="F!";break e}}Lu(S)}S=!1}S&&(h=y[0])}}return y=No(),y.memoizedState=y.baseState=h,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:h},y.queue=S,y=gw.bind(null,fn,S),S.dispatch=y,S=Yh(!1),D=Kh.bind(null,fn,!1,S.queue),S=No(),_={state:h,dispatch:null,action:f,pending:null},S.queue=_,y=i2.bind(null,fn,_,D,y),_.dispatch=y,S.memoizedState=f,[h,y,!1]}function hb(f){var h=Ei();return aw(h,Er,f)}function aw(f,h,y){if(h=ew(f,h,sg)[0],f=hn(rl)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var S=Vh(h)}catch(H){throw H===jh?eg:H}else S=h;h=Ei();var _=h.queue,D=_.dispatch;return y!==h.memoizedState&&(fn.flags|=2048,Va(9,{destroy:void 0},sw.bind(null,_,y),null)),[S,D,f]}function sw(f,h){f.action=h}function pb(f){var h=Ei(),y=Er;if(y!==null)return aw(h,y,f);Ei(),h=h.memoizedState,y=Ei();var S=y.queue.dispatch;return y.memoizedState=f,[h,S,!1]}function Va(f,h,y,S){return f={tag:f,create:y,deps:S,inst:h,next:null},h=fn.updateQueue,h===null&&(h=zh(),fn.updateQueue=h),y=h.lastEffect,y===null?h.lastEffect=f.next=f:(S=y.next,y.next=f,f.next=S,h.lastEffect=f),f}function o2(){return Ei().memoizedState}function il(f,h,y,S){var _=No();fn.flags|=f,_.memoizedState=Va(1|h,{destroy:void 0},y,S===void 0?null:S)}function lg(f,h,y,S){var _=Ei();S=S===void 0?null:S;var D=_.memoizedState.inst;Er!==null&&S!==null&&lb(S,Er.memoizedState.deps)?_.memoizedState=Va(h,D,y,S):(fn.flags|=f,_.memoizedState=Va(1|h,D,y,S))}function lw(f,h){il(8390656,8,f,h)}function cg(f,h){lg(2048,8,f,h)}function A3(f){fn.flags|=4;var h=fn.updateQueue;if(h===null)h=zh(),fn.updateQueue=h,h.events=[f];else{var y=h.events;y===null?h.events=[f]:y.push(f)}}function a2(f){var h=Ei().memoizedState;return A3({ref:h,nextImpl:f}),function(){if((sr&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function s2(f,h){return lg(4,2,f,h)}function cw(f,h){return lg(4,4,f,h)}function uw(f,h){if(typeof h=="function"){f=f();var y=h(f);return function(){typeof y=="function"?y():h(null)}}if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function l2(f,h,y){y=y!=null?y.concat([f]):null,lg(4,4,uw.bind(null,h,f),y)}function mb(){}function dw(f,h){var y=Ei();h=h===void 0?null:h;var S=y.memoizedState;return h!==null&&lb(h,S[1])?S[0]:(y.memoizedState=[f,h],f)}function Vo(f,h){var y=Ei();h=h===void 0?null:h;var S=y.memoizedState;if(h!==null&&lb(h,S[1]))return S[0];if(S=f(),uf){wr(!0);try{f()}finally{wr(!1)}}return y.memoizedState=[S,h],S}function Cs(f,h,y){return y===void 0||(Ua&1073741824)!==0&&(In&261930)===0?f.memoizedState=h:(f.memoizedState=y,f=P2(),fn.lanes|=f,Ku|=f,y)}function c2(f,h,y,S){return ii(y,h)?y:Hc.current!==null?(f=Cs(f,y,S),ii(f,h)||(oi=!0),f):(Ua&42)===0||(Ua&1073741824)!==0&&(In&261930)===0?(oi=!0,f.memoizedState=y):(f=P2(),fn.lanes|=f,Ku|=f,h)}function u2(f,h,y,S,_){var D=ne.p;ne.p=D!==0&&8>D?D:8;var H=V.T,J={};V.T=J,Kh(f,!1,h,y);try{var fe=_(),Oe=V.S;if(Oe!==null&&Oe(J,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var ze=T3(fe,S);Gh(f,h,ze,Ya(f))}else Gh(f,h,S,Ya(f))}catch(We){Gh(f,h,{then:function(){},status:"rejected",reason:We},Ya())}finally{ne.p=D,H!==null&&J.types!==null&&(H.types=J.types),V.T=H}}function gb(){}function Vu(f,h,y,S){if(f.tag!==5)throw Error(r(476));var _=fw(f).queue;u2(f,_,h,X,y===null?gb:function(){return hw(f),y(S)})}function fw(f){var h=f.memoizedState;if(h!==null)return h;h={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:X},next:null};var y={};return h.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:y},next:null},f.memoizedState=h,f=f.alternate,f!==null&&(f.memoizedState=h),h}function hw(f){var h=fw(f);h.next===null&&(h=f.alternate.memoizedState),Gh(f,h.next.queue,{},Ya())}function pw(){return go(dp)}function mw(){return Ei().memoizedState}function df(){return Ei().memoizedState}function ug(f){for(var h=f.return;h!==null;){switch(h.tag){case 24:case 3:var y=Ya();f=Fu(y);var S=tl(h,f,y);S!==null&&(ua(S,h,y),tg(S,h,y)),h={cache:Qs()},f.payload=h;return}h=h.return}}function N3(f,h,y){var S=Ya();y={lane:S,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},dg(f)?fg(h,y):(y=Ky(f,h,y,S),y!==null&&(ua(y,f,S),yb(y,h,S)))}function gw(f,h,y){var S=Ya();Gh(f,h,y,S)}function Gh(f,h,y,S){var _={lane:S,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null};if(dg(f))fg(h,_);else{var D=f.alternate;if(f.lanes===0&&(D===null||D.lanes===0)&&(D=h.lastRenderedReducer,D!==null))try{var H=h.lastRenderedState,J=D(H,y);if(_.hasEagerState=!0,_.eagerState=J,ii(J,H))return tf(f,h,_,0),Or===null&&Zs(),!1}catch{}finally{}if(y=Ky(f,h,_,S),y!==null)return ua(y,f,S),yb(y,h,S),!0}return!1}function Kh(f,h,y,S){if(S={lane:2,revertLane:Ga(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},dg(f)){if(h)throw Error(r(479))}else h=Ky(f,y,S,2),h!==null&&ua(h,f,2)}function dg(f){var h=f.alternate;return f===fn||h!==null&&h===fn}function fg(f,h){Fh=ig=!0;var y=f.pending;y===null?h.next=h:(h.next=y.next,y.next=h),f.pending=h}function yb(f,h,y){if((y&4194048)!==0){var S=h.lanes;S&=f.pendingLanes,y|=S,h.lanes=y,Xe(f,y)}}var qu={readContext:go,use:qh,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr};qu.useEffectEvent=Gr;var d2={readContext:go,use:qh,useCallback:function(f,h){return No().memoizedState=[f,h===void 0?null:h],f},useContext:go,useEffect:lw,useImperativeHandle:function(f,h,y){y=y!=null?y.concat([f]):null,il(4194308,4,uw.bind(null,h,f),y)},useLayoutEffect:function(f,h){return il(4194308,4,f,h)},useInsertionEffect:function(f,h){il(4,2,f,h)},useMemo:function(f,h){var y=No();h=h===void 0?null:h;var S=f();if(uf){wr(!0);try{f()}finally{wr(!1)}}return y.memoizedState=[S,h],S},useReducer:function(f,h,y){var S=No();if(y!==void 0){var _=y(h);if(uf){wr(!0);try{y(h)}finally{wr(!1)}}}else _=h;return S.memoizedState=S.baseState=_,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:_},S.queue=f,f=f.dispatch=N3.bind(null,fn,f),[S.memoizedState,f]},useRef:function(f){var h=No();return f={current:f},h.memoizedState=f},useState:function(f){f=Yh(f);var h=f.queue,y=gw.bind(null,fn,h);return h.dispatch=y,[f.memoizedState,y]},useDebugValue:mb,useDeferredValue:function(f,h){var y=No();return Cs(y,f,h)},useTransition:function(){var f=Yh(!1);return f=u2.bind(null,fn,f.queue,!0,!1),No().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,h,y){var S=fn,_=No();if(Fn){if(y===void 0)throw Error(r(407));y=y()}else{if(y=h(),Or===null)throw Error(r(349));(In&127)!==0||nw(S,h,y)}_.memoizedState=y;var D={value:y,getSnapshot:h};return _.queue=D,lw(n2.bind(null,S,D,f),[f]),S.flags|=2048,Va(9,{destroy:void 0},t2.bind(null,S,D,y,h),null),y},useId:function(){var f=No(),h=Or.identifierPrefix;if(Fn){var y=ys,S=Fl;y=(S&~(1<<32-un(S)-1)).toString(32)+y,h="_"+h+"R_"+y,y=sb++,0<y&&(h+="H"+y.toString(32)),h+="_"}else y=k3++,h="_"+h+"r_"+y.toString(32)+"_";return f.memoizedState=h},useHostTransitionStatus:pw,useFormState:ow,useActionState:ow,useOptimistic:function(f){var h=No();h.memoizedState=h.baseState=f;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=y,h=Kh.bind(null,fn,!0,y),y.dispatch=h,[f,h]},useMemoCache:Jx,useCacheRefresh:function(){return No().memoizedState=ug.bind(null,fn)},useEffectEvent:function(f){var h=No(),y={impl:f};return h.memoizedState=y,function(){if((sr&2)!==0)throw Error(r(440));return y.impl.apply(void 0,arguments)}}},bb={readContext:go,use:qh,useCallback:dw,useContext:go,useEffect:cg,useImperativeHandle:l2,useInsertionEffect:s2,useLayoutEffect:cw,useMemo:Vo,useReducer:hn,useRef:o2,useState:function(){return hn(rl)},useDebugValue:mb,useDeferredValue:function(f,h){var y=Ei();return c2(y,Er.memoizedState,f,h)},useTransition:function(){var f=hn(rl)[0],h=Ei().memoizedState;return[typeof f=="boolean"?f:Vh(f),h]},useSyncExternalStore:Wh,useId:mw,useHostTransitionStatus:pw,useFormState:hb,useActionState:hb,useOptimistic:function(f,h){var y=Ei();return fb(y,Er,f,h)},useMemoCache:Jx,useCacheRefresh:df};bb.useEffectEvent=a2;var hg={readContext:go,use:qh,useCallback:dw,useContext:go,useEffect:cg,useImperativeHandle:l2,useInsertionEffect:s2,useLayoutEffect:cw,useMemo:Vo,useReducer:tw,useRef:o2,useState:function(){return tw(rl)},useDebugValue:mb,useDeferredValue:function(f,h){var y=Ei();return Er===null?Cs(y,f,h):c2(y,Er.memoizedState,f,h)},useTransition:function(){var f=tw(rl)[0],h=Ei().memoizedState;return[typeof f=="boolean"?f:Vh(f),h]},useSyncExternalStore:Wh,useId:mw,useHostTransitionStatus:pw,useFormState:pb,useActionState:pb,useOptimistic:function(f,h){var y=Ei();return Er!==null?fb(y,Er,f,h):(y.baseState=f,[f,y.queue.dispatch])},useMemoCache:Jx,useCacheRefresh:df};hg.useEffectEvent=a2;function vb(f,h,y,S){h=f.memoizedState,y=y(S,h),y=y==null?h:d({},h,y),f.memoizedState=y,f.lanes===0&&(f.updateQueue.baseState=y)}var pg={enqueueSetState:function(f,h,y){f=f._reactInternals;var S=Ya(),_=Fu(S);_.payload=h,y!=null&&(_.callback=y),h=tl(f,_,S),h!==null&&(ua(h,f,S),tg(h,f,S))},enqueueReplaceState:function(f,h,y){f=f._reactInternals;var S=Ya(),_=Fu(S);_.tag=1,_.payload=h,y!=null&&(_.callback=y),h=tl(f,_,S),h!==null&&(ua(h,f,S),tg(h,f,S))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var y=Ya(),S=Fu(y);S.tag=2,h!=null&&(S.callback=h),h=tl(f,S,y),h!==null&&(ua(h,f,y),tg(h,f,y))}};function f2(f,h,y,S,_,D,H){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(S,D,H):h.prototype&&h.prototype.isPureReactComponent?!Ch(y,S)||!Ch(_,D):!0}function yw(f,h,y,S){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,S),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,S),h.state!==f&&pg.enqueueReplaceState(h,h.state,null)}function qo(f,h){var y=h;if("ref"in h){y={};for(var S in h)S!=="ref"&&(y[S]=h[S])}if(f=f.defaultProps){y===h&&(y=d({},y));for(var _ in f)y[_]===void 0&&(y[_]=f[_])}return y}function bw(f){Gy(f)}function vw(f){console.error(f)}function h2(f){Gy(f)}function mg(f,h){try{var y=f.onUncaughtError;y(h.value,{componentStack:h.stack})}catch(S){setTimeout(function(){throw S})}}function p2(f,h,y){try{var S=f.onCaughtError;S(y.value,{componentStack:y.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function xw(f,h,y){return y=Fu(y),y.tag=3,y.payload={element:null},y.callback=function(){mg(f,h)},y}function ql(f){return f=Fu(f),f.tag=3,f}function xb(f,h,y,S){var _=y.type.getDerivedStateFromError;if(typeof _=="function"){var D=S.value;f.payload=function(){return _(D)},f.callback=function(){p2(h,y,S)}}var H=y.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(f.callback=function(){p2(h,y,S),typeof _!="function"&&(Xu===null?Xu=new Set([this]):Xu.add(this));var J=S.stack;this.componentDidCatch(S.value,{componentStack:J!==null?J:""})})}function ww(f,h,y,S,_){if(y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(h=y.alternate,h!==null&&Ih(h,y,_,!0),y=Fa.current,y!==null){switch(y.tag){case 31:case 13:return Ss===null?Ib():y.alternate===null&&ai===0&&(ai=3),y.flags&=-257,y.flags|=65536,y.lanes=_,S===tb?y.flags|=16384:(h=y.updateQueue,h===null?y.updateQueue=new Set([S]):h.add(S),Xw(f,S,_)),!1;case 22:return y.flags|=65536,S===tb?y.flags|=16384:(h=y.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([S])},y.updateQueue=h):(y=h.retryQueue,y===null?h.retryQueue=new Set([S]):y.add(S)),Xw(f,S,_)),!1}throw Error(r(435,y.tag))}return Xw(f,S,_),Ib(),!1}if(Fn)return h=Fa.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=_,S!==Vx&&(f=Error(r(422),{cause:S}),Bu(Ba(f,y)))):(S!==Vx&&(h=Error(r(423),{cause:S}),Bu(Ba(h,y))),f=f.current.alternate,f.flags|=65536,_&=-_,f.lanes|=_,S=Ba(S,y),_=xw(f.stateNode,S,_),ib(f,_),ai!==4&&(ai=2)),!1;var D=Error(r(520),{cause:S});if(D=Ba(D,y),Ng===null?Ng=[D]:Ng.push(D),ai!==4&&(ai=2),h===null)return!0;S=Ba(S,y),y=h;do{switch(y.tag){case 3:return y.flags|=65536,f=_&-_,y.lanes|=f,f=xw(y.stateNode,S,f),ib(y,f),!1;case 1:if(h=y.type,D=y.stateNode,(y.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Xu===null||!Xu.has(D))))return y.flags|=65536,_&=-_,y.lanes|=_,_=ql(_),xb(_,f,y,S),ib(y,_),!1}y=y.return}while(y!==null);return!1}var gg=Error(r(461)),oi=!1;function hi(f,h,y,S){h.child=f===null?Kx(h,null,y,S):Hu(h,f.child,y,S)}function Gt(f,h,y,S,_){y=y.render;var D=h.ref;if("ref"in S){var H={};for(var J in S)J!=="ref"&&(H[J]=S[J])}else H=S;return af(h),S=cb(f,h,y,H,D,_),J=ub(),f!==null&&!oi?(db(f,h,_),Wl(f,h,_)):(Fn&&J&&Iu(h),h.flags|=1,hi(f,h,S,_),h.child)}function yg(f,h,y,S,_){if(f===null){var D=y.type;return typeof D=="function"&&!Pc(D)&&D.defaultProps===void 0&&y.compare===null?(h.tag=15,h.type=D,wb(f,h,D,S,_)):(f=Xy(y.type,null,S,h,h.mode,_),f.ref=h.ref,f.return=h,h.child=f)}if(D=f.child,!kb(f,_)){var H=D.memoizedProps;if(y=y.compare,y=y!==null?y:Ch,y(H,S)&&f.ref===h.ref)return Wl(f,h,_)}return h.flags|=1,f=ps(D,S),f.ref=h.ref,f.return=h,h.child=f}function wb(f,h,y,S,_){if(f!==null){var D=f.memoizedProps;if(Ch(D,S)&&f.ref===h.ref)if(oi=!1,h.pendingProps=S=D,kb(f,_))(f.flags&131072)!==0&&(oi=!0);else return h.lanes=f.lanes,Wl(f,h,_)}return Cb(f,h,y,S,_)}function Wu(f,h,y,S){var _=S.children,D=f!==null?f.memoizedState:null;if(f===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((h.flags&128)!==0){if(D=D!==null?D.baseLanes|y:y,f!==null){for(S=h.child=f.child,_=0;S!==null;)_=_|S.lanes|S.childLanes,S=S.sibling;S=_&~D}else S=0,h.child=null;return Sb(f,h,D,y,S)}if((y&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},f!==null&&Jy(h,D!==null?D.cachePool:null),D!==null?Xx(h,D):yo(),e2(h);else return S=h.lanes=536870912,Sb(f,h,D!==null?D.baseLanes|y:y,y,S)}else D!==null?(Jy(h,D.cachePool),Xx(h,D),Es(),h.memoizedState=null):(f!==null&&Jy(h,null),yo(),Es());return hi(f,h,_,y),h.child}function bg(f,h){return f!==null&&f.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function Sb(f,h,y,S,_){var D=Yx();return D=D===null?null:{parent:Mi._currentValue,pool:D},h.memoizedState={baseLanes:y,cachePool:D},f!==null&&Jy(h,null),yo(),e2(h),f!==null&&Ih(f,h,S,!0),h.childLanes=_,null}function vg(f,h){return h=Tb({mode:h.mode,children:h.children},f.mode),h.ref=f.ref,f.child=h,h.return=f,h}function bo(f,h,y){return Hu(h,f.child,null,y),f=vg(h,h.pendingProps),f.flags|=2,ia(h),h.memoizedState=null,f}function O3(f,h,y){var S=h.pendingProps,_=(h.flags&128)!==0;if(h.flags&=-129,f===null){if(Fn){if(S.mode==="hidden")return f=vg(h,S),h.lanes=536870912,bg(null,f);if(rg(h),(f=fr)?(f=i_(f,bs),f=f!==null&&f.data==="&"?f:null,f!==null&&(h.memoizedState={dehydrated:f,treeContext:Lc!==null?{id:Fl,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},y=Km(f),y.return=h,h.child=y,Oi=h,fr=null)):f=null,f===null)throw Lu(h);return h.lanes=536870912,null}return vg(h,S)}var D=f.memoizedState;if(D!==null){var H=D.dehydrated;if(rg(h),_)if(h.flags&256)h.flags&=-257,h=bo(f,h,y);else if(h.memoizedState!==null)h.child=f.child,h.flags|=128,h=null;else throw Error(r(558));else if(oi||Ih(f,h,y,!1),_=(y&f.childLanes)!==0,oi||_){if(S=Or,S!==null&&(H=nt(S,y),H!==0&&H!==D.retryLane))throw D.retryLane=H,Hl(f,H),ua(S,f,H),gg;Ib(),h=bo(f,h,y)}else f=D.treeContext,fr=Ts(H.nextSibling),Oi=h,Fn=!0,Pu=null,bs=!1,f!==null&&Dh(h,f),h=vg(h,S),h.flags|=4096;return h}return f=ps(f.child,{mode:S.mode,children:S.children}),f.ref=h.ref,h.child=f,f.return=h,f}function Eb(f,h){var y=h.ref;if(y===null)f!==null&&f.ref!==null&&(h.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(f===null||f.ref!==y)&&(h.flags|=4194816)}}function Cb(f,h,y,S,_){return af(h),y=cb(f,h,y,S,void 0,_),S=ub(),f!==null&&!oi?(db(f,h,_),Wl(f,h,_)):(Fn&&S&&Iu(h),h.flags|=1,hi(f,h,y,_),h.child)}function m2(f,h,y,S,_,D){return af(h),h.updateQueue=null,y=og(h,S,y,_),Zx(f),S=ub(),f!==null&&!oi?(db(f,h,D),Wl(f,h,D)):(Fn&&S&&Iu(h),h.flags|=1,hi(f,h,y,D),h.child)}function Sw(f,h,y,S,_){if(af(h),h.stateNode===null){var D=Ic,H=y.contextType;typeof H=="object"&&H!==null&&(D=go(H)),D=new y(S,D),h.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=pg,h.stateNode=D,D._reactInternals=h,D=h.stateNode,D.props=S,D.state=h.memoizedState,D.refs={},zl(h),H=y.contextType,D.context=typeof H=="object"&&H!==null?go(H):Ic,D.state=h.memoizedState,H=y.getDerivedStateFromProps,typeof H=="function"&&(vb(h,y,H,S),D.state=h.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(H=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),H!==D.state&&pg.enqueueReplaceState(D,D.state,null),Hh(h,S,D,_),cf(),D.state=h.memoizedState),typeof D.componentDidMount=="function"&&(h.flags|=4194308),S=!0}else if(f===null){D=h.stateNode;var J=h.memoizedProps,fe=qo(y,J);D.props=fe;var Oe=D.context,ze=y.contextType;H=Ic,typeof ze=="object"&&ze!==null&&(H=go(ze));var We=y.getDerivedStateFromProps;ze=typeof We=="function"||typeof D.getSnapshotBeforeUpdate=="function",J=h.pendingProps!==J,ze||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(J||Oe!==H)&&yw(h,D,S,H),ws=!1;var Me=h.memoizedState;D.state=Me,Hh(h,S,D,_),cf(),Oe=h.memoizedState,J||Me!==Oe||ws?(typeof We=="function"&&(vb(h,y,We,S),Oe=h.memoizedState),(fe=ws||f2(h,y,fe,S,Me,Oe,H))?(ze||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(h.flags|=4194308)):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=S,h.memoizedState=Oe),D.props=S,D.state=Oe,D.context=H,S=fe):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),S=!1)}else{D=h.stateNode,rb(f,h),H=h.memoizedProps,ze=qo(y,H),D.props=ze,We=h.pendingProps,Me=D.context,Oe=y.contextType,fe=Ic,typeof Oe=="object"&&Oe!==null&&(fe=go(Oe)),J=y.getDerivedStateFromProps,(Oe=typeof J=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(H!==We||Me!==fe)&&yw(h,D,S,fe),ws=!1,Me=h.memoizedState,D.state=Me,Hh(h,S,D,_),cf();var Le=h.memoizedState;H!==We||Me!==Le||ws||f!==null&&f.dependencies!==null&&Qy(f.dependencies)?(typeof J=="function"&&(vb(h,y,J,S),Le=h.memoizedState),(ze=ws||f2(h,y,ze,S,Me,Le,fe)||f!==null&&f.dependencies!==null&&Qy(f.dependencies))?(Oe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(S,Le,fe),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(S,Le,fe)),typeof D.componentDidUpdate=="function"&&(h.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof D.componentDidUpdate!="function"||H===f.memoizedProps&&Me===f.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===f.memoizedProps&&Me===f.memoizedState||(h.flags|=1024),h.memoizedProps=S,h.memoizedState=Le),D.props=S,D.state=Le,D.context=fe,S=ze):(typeof D.componentDidUpdate!="function"||H===f.memoizedProps&&Me===f.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===f.memoizedProps&&Me===f.memoizedState||(h.flags|=1024),S=!1)}return D=S,Eb(f,h),S=(h.flags&128)!==0,D||S?(D=h.stateNode,y=S&&typeof y.getDerivedStateFromError!="function"?null:D.render(),h.flags|=1,f!==null&&S?(h.child=Hu(h,f.child,null,_),h.child=Hu(h,null,y,_)):hi(f,h,y,_),h.memoizedState=D.state,f=h.child):f=Wl(f,h,_),f}function g2(f,h,y,S){return ee(),h.flags|=256,hi(f,h,y,S),h.child}var Ew={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cw(f){return{baseLanes:f,cachePool:Xk()}}function ol(f,h,y){return f=f!==null?f.childLanes&~y:0,h&&(f|=Wa),f}function Oo(f,h,y){var S=h.pendingProps,_=!1,D=(h.flags&128)!==0,H;if((H=D)||(H=f!==null&&f.memoizedState===null?!1:(Si.current&2)!==0),H&&(_=!0,h.flags&=-129),H=(h.flags&32)!==0,h.flags&=-33,f===null){if(Fn){if(_?Uu(h):Es(),(f=fr)?(f=i_(f,bs),f=f!==null&&f.data!=="&"?f:null,f!==null&&(h.memoizedState={dehydrated:f,treeContext:Lc!==null?{id:Fl,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},y=Km(f),y.return=h,h.child=y,Oi=h,fr=null)):f=null,f===null)throw Lu(h);return op(f)?h.lanes=32:h.lanes=536870912,null}var J=S.children;return S=S.fallback,_?(Es(),_=h.mode,J=Tb({mode:"hidden",children:J},_),S=nf(S,_,y,null),J.return=h,S.return=h,J.sibling=S,h.child=J,S=h.child,S.memoizedState=Cw(y),S.childLanes=ol(f,H,y),h.memoizedState=Ew,bg(null,S)):(Uu(h),xg(h,J))}var fe=f.memoizedState;if(fe!==null&&(J=fe.dehydrated,J!==null)){if(D)h.flags&256?(Uu(h),h.flags&=-257,h=wg(f,h,y)):h.memoizedState!==null?(Es(),h.child=f.child,h.flags|=128,h=null):(Es(),J=S.fallback,_=h.mode,S=Tb({mode:"visible",children:S.children},_),J=nf(J,_,y,null),J.flags|=2,S.return=h,J.return=h,S.sibling=J,h.child=S,Hu(h,f.child,null,y),S=h.child,S.memoizedState=Cw(y),S.childLanes=ol(f,H,y),h.memoizedState=Ew,h=bg(null,S));else if(Uu(h),op(J)){if(H=J.nextSibling&&J.nextSibling.dataset,H)var Oe=H.dgst;H=Oe,S=Error(r(419)),S.stack="",S.digest=H,Bu({value:S,source:null,stack:null}),h=wg(f,h,y)}else if(oi||Ih(f,h,y,!1),H=(y&f.childLanes)!==0,oi||H){if(H=Or,H!==null&&(S=nt(H,y),S!==0&&S!==fe.retryLane))throw fe.retryLane=S,Hl(f,S),ua(H,f,S),gg;zb(J)||Ib(),h=wg(f,h,y)}else zb(J)?(h.flags|=192,h.child=f.child,h=null):(f=fe.treeContext,fr=Ts(J.nextSibling),Oi=h,Fn=!0,Pu=null,bs=!1,f!==null&&Dh(h,f),h=xg(h,S.children),h.flags|=4096);return h}return _?(Es(),J=S.fallback,_=h.mode,fe=f.child,Oe=fe.sibling,S=ps(fe,{mode:"hidden",children:S.children}),S.subtreeFlags=fe.subtreeFlags&65011712,Oe!==null?J=ps(Oe,J):(J=nf(J,_,y,null),J.flags|=2),J.return=h,S.return=h,S.sibling=J,h.child=S,bg(null,S),S=h.child,J=f.child.memoizedState,J===null?J=Cw(y):(_=J.cachePool,_!==null?(fe=Mi._currentValue,_=_.parent!==fe?{parent:fe,pool:fe}:_):_=Xk(),J={baseLanes:J.baseLanes|y,cachePool:_}),S.memoizedState=J,S.childLanes=ol(f,H,y),h.memoizedState=Ew,bg(f.child,S)):(Uu(h),y=f.child,f=y.sibling,y=ps(y,{mode:"visible",children:S.children}),y.return=h,y.sibling=null,f!==null&&(H=h.deletions,H===null?(h.deletions=[f],h.flags|=16):H.push(f)),h.child=y,h.memoizedState=null,y)}function xg(f,h){return h=Tb({mode:"visible",children:h},f.mode),h.return=f,f.child=h}function Tb(f,h){return f=mo(22,f,null,h),f.lanes=0,f}function wg(f,h,y){return Hu(h,f.child,null,y),f=xg(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function y2(f,h,y){f.lanes|=h;var S=f.alternate;S!==null&&(S.lanes|=h),$c(f.return,h,y)}function Tw(f,h,y,S,_,D){var H=f.memoizedState;H===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:_,treeForkCount:D}:(H.isBackwards=h,H.rendering=null,H.renderingStartTime=0,H.last=S,H.tail=y,H.tailMode=_,H.treeForkCount=D)}function Xh(f,h,y){var S=h.pendingProps,_=S.revealOrder,D=S.tail;S=S.children;var H=Si.current,J=(H&2)!==0;if(J?(H=H&1|2,h.flags|=128):H&=1,U(Si,H),hi(f,h,S,y),S=Fn?Ni:0,!J&&f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&y2(f,y,h);else if(f.tag===19)y2(f,y,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(_){case"forwards":for(y=h.child,_=null;y!==null;)f=y.alternate,f!==null&&ab(f)===null&&(_=y),y=y.sibling;y=_,y===null?(_=h.child,h.child=null):(_=y.sibling,y.sibling=null),Tw(h,!1,_,y,D,S);break;case"backwards":case"unstable_legacy-backwards":for(y=null,_=h.child,h.child=null;_!==null;){if(f=_.alternate,f!==null&&ab(f)===null){h.child=_;break}f=_.sibling,_.sibling=y,y=_,_=f}Tw(h,!0,y,null,D,S);break;case"together":Tw(h,!1,null,null,void 0,S);break;default:h.memoizedState=null}return h.child}function Wl(f,h,y){if(f!==null&&(h.dependencies=f.dependencies),Ku|=h.lanes,(y&h.childLanes)===0)if(f!==null){if(Ih(f,h,y,!1),(y&h.childLanes)===0)return null}else return null;if(f!==null&&h.child!==f.child)throw Error(r(153));if(h.child!==null){for(f=h.child,y=ps(f,f.pendingProps),h.child=y,y.return=h;f.sibling!==null;)f=f.sibling,y=y.sibling=ps(f,f.pendingProps),y.return=h;y.sibling=null}return h.child}function kb(f,h){return(f.lanes&h)!==0?!0:(f=f.dependencies,!!(f!==null&&Qy(f)))}function M3(f,h,y){switch(h.tag){case 3:je(h,h.stateNode.containerInfo),$u(h,Mi,f.memoizedState.cache),ee();break;case 27:case 5:He(h);break;case 4:je(h,h.stateNode.containerInfo);break;case 10:$u(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,rg(h),null;break;case 13:var S=h.memoizedState;if(S!==null)return S.dehydrated!==null?(Uu(h),h.flags|=128,null):(y&h.child.childLanes)!==0?Oo(f,h,y):(Uu(h),f=Wl(f,h,y),f!==null?f.sibling:null);Uu(h);break;case 19:var _=(f.flags&128)!==0;if(S=(y&h.childLanes)!==0,S||(Ih(f,h,y,!1),S=(y&h.childLanes)!==0),_){if(S)return Xh(f,h,y);h.flags|=128}if(_=h.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),U(Si,Si.current),S)break;return null;case 22:return h.lanes=0,Wu(f,h,y,h.pendingProps);case 24:$u(h,Mi,f.memoizedState.cache)}return Wl(f,h,y)}function b2(f,h,y){if(f!==null)if(f.memoizedProps!==h.pendingProps)oi=!0;else{if(!kb(f,y)&&(h.flags&128)===0)return oi=!1,M3(f,h,y);oi=(f.flags&131072)!==0}else oi=!1,Fn&&(h.flags&1048576)!==0&&Zy(h,Ni,h.index);switch(h.lanes=0,h.tag){case 16:e:{var S=h.pendingProps;if(f=Js(h.elementType),h.type=f,typeof f=="function")Pc(f)?(S=qo(f,S),h.tag=1,h=Sw(null,h,f,S,y)):(h.tag=0,h=Cb(null,h,f,S,y));else{if(f!=null){var _=f.$$typeof;if(_===I){h.tag=11,h=Gt(null,h,f,S,y);break e}else if(_===R){h.tag=14,h=yg(null,h,f,S,y);break e}}throw h=W(f)||f,Error(r(306,h,""))}}return h;case 0:return Cb(f,h,h.type,h.pendingProps,y);case 1:return S=h.type,_=qo(S,h.pendingProps),Sw(f,h,S,_,y);case 3:e:{if(je(h,h.stateNode.containerInfo),f===null)throw Error(r(387));S=h.pendingProps;var D=h.memoizedState;_=D.element,rb(f,h),Hh(h,S,null,y);var H=h.memoizedState;if(S=H.cache,$u(h,Mi,S),S!==D.cache&&qx(h,[Mi],y,!0),cf(),S=H.element,D.isDehydrated)if(D={element:S,isDehydrated:!1,cache:H.cache},h.updateQueue.baseState=D,h.memoizedState=D,h.flags&256){h=g2(f,h,S,y);break e}else if(S!==_){_=Ba(Error(r(424)),h),Bu(_),h=g2(f,h,S,y);break e}else{switch(f=h.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(fr=Ts(f.firstChild),Oi=h,Fn=!0,Pu=null,bs=!0,y=Kx(h,null,S,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(ee(),S===_){h=Wl(f,h,y);break e}hi(f,h,S,y)}h=h.child}return h;case 26:return Eb(f,h),f===null?(y=u_(h.type,null,h.pendingProps,null))?h.memoizedState=y:Fn||(y=h.type,f=h.pendingProps,S=Fg(we.current).createElement(y),S[ht]=h,S[gt]=f,vo(S,y,f),qr(S),h.stateNode=S):h.memoizedState=u_(h.type,f.memoizedProps,h.pendingProps,f.memoizedState),null;case 27:return He(h),f===null&&Fn&&(S=h.stateNode=s_(h.type,h.pendingProps,we.current),Oi=h,bs=!0,_=fr,en(h.type)?(lS=_,fr=Ts(S.firstChild)):fr=_),hi(f,h,h.pendingProps.children,y),Eb(f,h),f===null&&(h.flags|=4194304),h.child;case 5:return f===null&&Fn&&((_=S=fr)&&(S=Y3(S,h.type,h.pendingProps,bs),S!==null?(h.stateNode=S,Oi=h,fr=Ts(S.firstChild),bs=!1,_=!0):_=!1),_||Lu(h)),He(h),_=h.type,D=h.pendingProps,H=f!==null?f.memoizedProps:null,S=D.children,ed(_,D)?S=null:H!==null&&ed(_,H)&&(h.flags|=32),h.memoizedState!==null&&(_=cb(f,h,_3,null,null,y),dp._currentValue=_),Eb(f,h),hi(f,h,S,y),h.child;case 6:return f===null&&Fn&&((f=y=fr)&&(y=hr(y,h.pendingProps,bs),y!==null?(h.stateNode=y,Oi=h,fr=null,f=!0):f=!1),f||Lu(h)),null;case 13:return Oo(f,h,y);case 4:return je(h,h.stateNode.containerInfo),S=h.pendingProps,f===null?h.child=Hu(h,null,S,y):hi(f,h,S,y),h.child;case 11:return Gt(f,h,h.type,h.pendingProps,y);case 7:return hi(f,h,h.pendingProps,y),h.child;case 8:return hi(f,h,h.pendingProps.children,y),h.child;case 12:return hi(f,h,h.pendingProps.children,y),h.child;case 10:return S=h.pendingProps,$u(h,h.type,S.value),hi(f,h,S.children,y),h.child;case 9:return _=h.type._context,S=h.pendingProps.children,af(h),_=go(_),S=S(_),h.flags|=1,hi(f,h,S,y),h.child;case 14:return yg(f,h,h.type,h.pendingProps,y);case 15:return wb(f,h,h.type,h.pendingProps,y);case 19:return Xh(f,h,y);case 31:return O3(f,h,y);case 22:return Wu(f,h,y,h.pendingProps);case 24:return af(h),S=go(Mi),f===null?(_=Yx(),_===null&&(_=Or,D=Qs(),_.pooledCache=D,D.refCount++,D!==null&&(_.pooledCacheLanes|=y),_=D),h.memoizedState={parent:S,cache:_},zl(h),$u(h,Mi,_)):((f.lanes&y)!==0&&(rb(f,h),Hh(h,null,null,y),cf()),_=f.memoizedState,D=h.memoizedState,_.parent!==S?(_={parent:S,cache:S},h.memoizedState=_,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=_),$u(h,Mi,S)):(S=D.cache,$u(h,Mi,S),S!==_.cache&&qx(h,[Mi],y,!0))),hi(f,h,h.pendingProps.children,y),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function Uc(f){f.flags|=4}function kw(f,h,y,S,_){if((h=(f.mode&32)!==0)&&(h=!1),h){if(f.flags|=16777216,(_&335544128)===_)if(f.stateNode.complete)f.flags|=8192;else if(Dg())f.flags|=8192;else throw Ul=tb,eb}else f.flags&=-16777217}function _w(f,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!m_(h))if(Dg())f.flags|=8192;else throw Ul=tb,eb}function Sg(f,h){h!==null&&(f.flags|=4),f.flags&16384&&(h=f.tag!==22?Hn():536870912,f.lanes|=h,ep|=h)}function Eg(f,h){if(!Fn)switch(f.tailMode){case"hidden":h=f.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?f.tail=null:y.sibling=null;break;case"collapsed":y=f.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:S.sibling=null}}function Nr(f){var h=f.alternate!==null&&f.alternate.child===f.child,y=0,S=0;if(h)for(var _=f.child;_!==null;)y|=_.lanes|_.childLanes,S|=_.subtreeFlags&65011712,S|=_.flags&65011712,_.return=f,_=_.sibling;else for(_=f.child;_!==null;)y|=_.lanes|_.childLanes,S|=_.subtreeFlags,S|=_.flags,_.return=f,_=_.sibling;return f.subtreeFlags|=S,f.childLanes=y,h}function v2(f,h,y){var S=h.pendingProps;switch(rf(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(h),null;case 1:return Nr(h),null;case 3:return y=h.stateNode,S=null,f!==null&&(S=f.memoizedState.cache),h.memoizedState.cache!==S&&(h.flags|=2048),Bc(Mi),Te(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(f===null||f.child===null)&&(of(h)?Uc(h):f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,ju())),Nr(h),null;case 26:var _=h.type,D=h.memoizedState;return f===null?(Uc(h),D!==null?(Nr(h),_w(h,D)):(Nr(h),kw(h,_,null,S,y))):D?D!==f.memoizedState?(Uc(h),Nr(h),_w(h,D)):(Nr(h),h.flags&=-16777217):(f=f.memoizedProps,f!==S&&Uc(h),Nr(h),kw(h,_,f,S,y)),null;case 27:if(Ge(h),y=we.current,_=h.type,f!==null&&h.stateNode!=null)f.memoizedProps!==S&&Uc(h);else{if(!S){if(h.stateNode===null)throw Error(r(166));return Nr(h),null}f=he.current,of(h)?Zm(h):(f=s_(_,S,y),h.stateNode=f,Uc(h))}return Nr(h),null;case 5:if(Ge(h),_=h.type,f!==null&&h.stateNode!=null)f.memoizedProps!==S&&Uc(h);else{if(!S){if(h.stateNode===null)throw Error(r(166));return Nr(h),null}if(D=he.current,of(h))Zm(h);else{var H=Fg(we.current);switch(D){case 1:D=H.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:D=H.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":D=H.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":D=H.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":D=H.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof S.is=="string"?H.createElement("select",{is:S.is}):H.createElement("select"),S.multiple?D.multiple=!0:S.size&&(D.size=S.size);break;default:D=typeof S.is=="string"?H.createElement(_,{is:S.is}):H.createElement(_)}}D[ht]=h,D[gt]=S;e:for(H=h.child;H!==null;){if(H.tag===5||H.tag===6)D.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===h)break e;for(;H.sibling===null;){if(H.return===null||H.return===h)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}h.stateNode=D;e:switch(vo(D,_,S),_){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}S&&Uc(h)}}return Nr(h),kw(h,h.type,f===null?null:f.memoizedProps,h.pendingProps,y),null;case 6:if(f&&h.stateNode!=null)f.memoizedProps!==S&&Uc(h);else{if(typeof S!="string"&&h.stateNode===null)throw Error(r(166));if(f=we.current,of(h)){if(f=h.stateNode,y=h.memoizedProps,S=null,_=Oi,_!==null)switch(_.tag){case 27:case 5:S=_.memoizedProps}f[ht]=h,f=!!(f.nodeValue===y||S!==null&&S.suppressHydrationWarning===!0||e_(f.nodeValue,y)),f||Lu(h,!0)}else f=Fg(f).createTextNode(S),f[ht]=h,h.stateNode=f}return Nr(h),null;case 31:if(y=h.memoizedState,f===null||f.memoizedState!==null){if(S=of(h),y!==null){if(f===null){if(!S)throw Error(r(318));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(557));f[ht]=h}else ee(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Nr(h),f=!1}else y=ju(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=y),f=!0;if(!f)return h.flags&256?(ia(h),h):(ia(h),null);if((h.flags&128)!==0)throw Error(r(558))}return Nr(h),null;case 13:if(S=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(_=of(h),S!==null&&S.dehydrated!==null){if(f===null){if(!_)throw Error(r(318));if(_=h.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[ht]=h}else ee(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Nr(h),_=!1}else _=ju(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=_),_=!0;if(!_)return h.flags&256?(ia(h),h):(ia(h),null)}return ia(h),(h.flags&128)!==0?(h.lanes=y,h):(y=S!==null,f=f!==null&&f.memoizedState!==null,y&&(S=h.child,_=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(_=S.alternate.memoizedState.cachePool.pool),D=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(D=S.memoizedState.cachePool.pool),D!==_&&(S.flags|=2048)),y!==f&&y&&(h.child.flags|=8192),Sg(h,h.updateQueue),Nr(h),null);case 4:return Te(),f===null&&tS(h.stateNode.containerInfo),Nr(h),null;case 10:return Bc(h.type),Nr(h),null;case 19:if(te(Si),S=h.memoizedState,S===null)return Nr(h),null;if(_=(h.flags&128)!==0,D=S.rendering,D===null)if(_)Eg(S,!1);else{if(ai!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(D=ab(f),D!==null){for(h.flags|=128,Eg(S,!1),f=D.updateQueue,h.updateQueue=f,Sg(h,f),h.subtreeFlags=0,f=y,y=h.child;y!==null;)Wk(y,f),y=y.sibling;return U(Si,Si.current&1|2),Fn&&$a(h,S.treeForkCount),h.child}f=f.sibling}S.tail!==null&&Ze()>pf&&(h.flags|=128,_=!0,Eg(S,!1),h.lanes=4194304)}else{if(!_)if(f=ab(D),f!==null){if(h.flags|=128,_=!0,f=f.updateQueue,h.updateQueue=f,Sg(h,f),Eg(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!Fn)return Nr(h),null}else 2*Ze()-S.renderingStartTime>pf&&y!==536870912&&(h.flags|=128,_=!0,Eg(S,!1),h.lanes=4194304);S.isBackwards?(D.sibling=h.child,h.child=D):(f=S.last,f!==null?f.sibling=D:h.child=D,S.last=D)}return S.tail!==null?(f=S.tail,S.rendering=f,S.tail=f.sibling,S.renderingStartTime=Ze(),f.sibling=null,y=Si.current,U(Si,_?y&1|2:y&1),Fn&&$a(h,S.treeForkCount),f):(Nr(h),null);case 22:case 23:return ia(h),ng(),S=h.memoizedState!==null,f!==null?f.memoizedState!==null!==S&&(h.flags|=8192):S&&(h.flags|=8192),S?(y&536870912)!==0&&(h.flags&128)===0&&(Nr(h),h.subtreeFlags&6&&(h.flags|=8192)):Nr(h),y=h.updateQueue,y!==null&&Sg(h,y.retryQueue),y=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),S=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==y&&(h.flags|=2048),f!==null&&te(lf),null;case 24:return y=null,f!==null&&(y=f.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),Bc(Mi),Nr(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function Cg(f,h){switch(rf(h),h.tag){case 1:return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return Bc(Mi),Te(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 26:case 27:case 5:return Ge(h),null;case 31:if(h.memoizedState!==null){if(ia(h),h.alternate===null)throw Error(r(340));ee()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 13:if(ia(h),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(r(340));ee()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return te(Si),null;case 4:return Te(),null;case 10:return Bc(h.type),null;case 22:case 23:return ia(h),ng(),f!==null&&te(lf),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 24:return Bc(Mi),null;case 25:return null;default:return null}}function _b(f,h){switch(rf(h),h.tag){case 3:Bc(Mi),Te();break;case 26:case 27:case 5:Ge(h);break;case 4:Te();break;case 31:h.memoizedState!==null&&ia(h);break;case 13:ia(h);break;case 19:te(Si);break;case 10:Bc(h.type);break;case 22:case 23:ia(h),ng(),f!==null&&te(lf);break;case 24:Bc(Mi)}}function Zh(f,h){try{var y=h.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var _=S.next;y=_;do{if((y.tag&f)===f){S=void 0;var D=y.create,H=y.inst;S=D(),H.destroy=S}y=y.next}while(y!==_)}}catch(J){br(h,h.return,J)}}function zc(f,h,y){try{var S=h.updateQueue,_=S!==null?S.lastEffect:null;if(_!==null){var D=_.next;S=D;do{if((S.tag&f)===f){var H=S.inst,J=H.destroy;if(J!==void 0){H.destroy=void 0,_=h;var fe=y,Oe=J;try{Oe()}catch(ze){br(_,fe,ze)}}}S=S.next}while(S!==D)}}catch(ze){br(h,h.return,ze)}}function Tg(f){var h=f.updateQueue;if(h!==null){var y=f.stateNode;try{ob(h,y)}catch(S){br(f,f.return,S)}}}function Aw(f,h,y){y.props=qo(f.type,f.memoizedProps),y.state=f.memoizedState;try{y.componentWillUnmount()}catch(S){br(f,h,S)}}function aa(f,h){try{var y=f.ref;if(y!==null){switch(f.tag){case 26:case 27:case 5:var S=f.stateNode;break;case 30:S=f.stateNode;break;default:S=f.stateNode}typeof y=="function"?f.refCleanup=y(S):y.current=S}}catch(_){br(f,h,_)}}function Mo(f,h){var y=f.ref,S=f.refCleanup;if(y!==null)if(typeof S=="function")try{S()}catch(_){br(f,h,_)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(_){br(f,h,_)}else y.current=null}function x2(f){var h=f.type,y=f.memoizedProps,S=f.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":y.autoFocus&&S.focus();break e;case"img":y.src?S.src=y.src:y.srcSet&&(S.srcset=y.srcSet)}}catch(_){br(f,f.return,_)}}function Ab(f,h,y){try{var S=f.stateNode;V3(S,f.type,y,h),S[gt]=h}catch(_){br(f,f.return,_)}}function w2(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&en(f.type)||f.tag===4}function Nw(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||w2(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&en(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Ow(f,h,y){var S=f.tag;if(S===5||S===6)f=f.stateNode,h?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(f,h):(h=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,h.appendChild(f),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=Mc));else if(S!==4&&(S===27&&en(f.type)&&(y=f.stateNode,h=null),f=f.child,f!==null))for(Ow(f,h,y),f=f.sibling;f!==null;)Ow(f,h,y),f=f.sibling}function Nb(f,h,y){var S=f.tag;if(S===5||S===6)f=f.stateNode,h?y.insertBefore(f,h):y.appendChild(f);else if(S!==4&&(S===27&&en(f.type)&&(y=f.stateNode),f=f.child,f!==null))for(Nb(f,h,y),f=f.sibling;f!==null;)Nb(f,h,y),f=f.sibling}function S2(f){var h=f.stateNode,y=f.memoizedProps;try{for(var S=f.type,_=h.attributes;_.length;)h.removeAttributeNode(_[0]);vo(h,S,y),h[ht]=f,h[gt]=y}catch(D){br(f,f.return,D)}}var Vc=!1,Di=!1,Mw=!1,E2=typeof WeakSet=="function"?WeakSet:Set,Qi=null;function D3(f,h){if(f=f.containerInfo,Hg=Xb,f=Uk(f),Ux(f)){if("selectionStart"in f)var y={start:f.selectionStart,end:f.selectionEnd};else e:{y=(y=f.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var _=S.anchorOffset,D=S.focusNode;S=S.focusOffset;try{y.nodeType,D.nodeType}catch{y=null;break e}var H=0,J=-1,fe=-1,Oe=0,ze=0,We=f,Me=null;t:for(;;){for(var Le;We!==y||_!==0&&We.nodeType!==3||(J=H+_),We!==D||S!==0&&We.nodeType!==3||(fe=H+S),We.nodeType===3&&(H+=We.nodeValue.length),(Le=We.firstChild)!==null;)Me=We,We=Le;for(;;){if(We===f)break t;if(Me===y&&++Oe===_&&(J=H),Me===D&&++ze===S&&(fe=H),(Le=We.nextSibling)!==null)break;We=Me,Me=We.parentNode}We=Le}y=J===-1||fe===-1?null:{start:J,end:fe}}else y=null}y=y||{start:0,end:0}}else y=null;for(oS={focusedElem:f,selectionRange:y},Xb=!1,Qi=h;Qi!==null;)if(h=Qi,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,Qi=f;else for(;Qi!==null;){switch(h=Qi,D=h.alternate,f=h.flags,h.tag){case 0:if((f&4)!==0&&(f=h.updateQueue,f=f!==null?f.events:null,f!==null))for(y=0;y<f.length;y++)_=f[y],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&D!==null){f=void 0,y=h,_=D.memoizedProps,D=D.memoizedState,S=y.stateNode;try{var wt=qo(y.type,_);f=S.getSnapshotBeforeUpdate(wt,D),S.__reactInternalSnapshotBeforeUpdate=f}catch(Kt){br(y,y.return,Kt)}}break;case 3:if((f&1024)!==0){if(f=h.stateNode.containerInfo,y=f.nodeType,y===9)Ub(f);else if(y===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":Ub(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=h.sibling,f!==null){f.return=h.return,Qi=f;break}Qi=h.return}}function Dw(f,h,y){var S=y.flags;switch(y.tag){case 0:case 11:case 15:Wc(f,y),S&4&&Zh(5,y);break;case 1:if(Wc(f,y),S&4)if(f=y.stateNode,h===null)try{f.componentDidMount()}catch(H){br(y,y.return,H)}else{var _=qo(y.type,h.memoizedProps);h=h.memoizedState;try{f.componentDidUpdate(_,h,f.__reactInternalSnapshotBeforeUpdate)}catch(H){br(y,y.return,H)}}S&64&&Tg(y),S&512&&aa(y,y.return);break;case 3:if(Wc(f,y),S&64&&(f=y.updateQueue,f!==null)){if(h=null,y.child!==null)switch(y.child.tag){case 27:case 5:h=y.child.stateNode;break;case 1:h=y.child.stateNode}try{ob(f,h)}catch(H){br(y,y.return,H)}}break;case 27:h===null&&S&4&&S2(y);case 26:case 5:Wc(f,y),h===null&&S&4&&x2(y),S&512&&aa(y,y.return);break;case 12:Wc(f,y);break;case 31:Wc(f,y),S&4&&Iw(f,y);break;case 13:Wc(f,y),S&4&&T2(f,y),S&64&&(f=y.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(y=jb.bind(null,y),G3(f,y))));break;case 22:if(S=y.memoizedState!==null||Vc,!S){h=h!==null&&h.memoizedState!==null||Di,_=Vc;var D=Di;Vc=S,(Di=h)&&!D?Yl(f,y,(y.subtreeFlags&8772)!==0):Wc(f,y),Vc=_,Di=D}break;case 30:break;default:Wc(f,y)}}function Rw(f){var h=f.alternate;h!==null&&(f.alternate=null,Rw(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&Gs(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var jr=null,sa=!1;function qc(f,h,y){for(y=y.child;y!==null;)C2(f,h,y),y=y.sibling}function C2(f,h,y){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(or,y)}catch{}switch(y.tag){case 26:Di||Mo(y,h),qc(f,h,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:Di||Mo(y,h);var S=jr,_=sa;en(y.type)&&(jr=y.stateNode,sa=!1),qc(f,h,y),zg(y.stateNode),jr=S,sa=_;break;case 5:Di||Mo(y,h);case 6:if(S=jr,_=sa,jr=null,qc(f,h,y),jr=S,sa=_,jr!==null)if(sa)try{(jr.nodeType===9?jr.body:jr.nodeName==="HTML"?jr.ownerDocument.body:jr).removeChild(y.stateNode)}catch(D){br(y,h,D)}else try{jr.removeChild(y.stateNode)}catch(D){br(y,h,D)}break;case 18:jr!==null&&(sa?(f=jr,sS(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,y.stateNode),hp(f)):sS(jr,y.stateNode));break;case 4:S=jr,_=sa,jr=y.stateNode.containerInfo,sa=!0,qc(f,h,y),jr=S,sa=_;break;case 0:case 11:case 14:case 15:zc(2,y,h),Di||zc(4,y,h),qc(f,h,y);break;case 1:Di||(Mo(y,h),S=y.stateNode,typeof S.componentWillUnmount=="function"&&Aw(y,h,S)),qc(f,h,y);break;case 21:qc(f,h,y);break;case 22:Di=(S=Di)||y.memoizedState!==null,qc(f,h,y),Di=S;break;default:qc(f,h,y)}}function Iw(f,h){if(h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{hp(f)}catch(y){br(h,h.return,y)}}}function T2(f,h){if(h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{hp(f)}catch(y){br(h,h.return,y)}}function R3(f){switch(f.tag){case 31:case 13:case 19:var h=f.stateNode;return h===null&&(h=f.stateNode=new E2),h;case 22:return f=f.stateNode,h=f._retryCache,h===null&&(h=f._retryCache=new E2),h;default:throw Error(r(435,f.tag))}}function Ob(f,h){var y=R3(f);h.forEach(function(S){if(!y.has(S)){y.add(S);var _=H3.bind(null,f,S);S.then(_,_)}})}function la(f,h){var y=h.deletions;if(y!==null)for(var S=0;S<y.length;S++){var _=y[S],D=f,H=h,J=H;e:for(;J!==null;){switch(J.tag){case 27:if(en(J.type)){jr=J.stateNode,sa=!1;break e}break;case 5:jr=J.stateNode,sa=!1;break e;case 3:case 4:jr=J.stateNode.containerInfo,sa=!0;break e}J=J.return}if(jr===null)throw Error(r(160));C2(D,H,_),jr=null,sa=!1,D=_.alternate,D!==null&&(D.return=null),_.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)k2(h,f),h=h.sibling}var al=null;function k2(f,h){var y=f.alternate,S=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:la(h,f),Br(f),S&4&&(zc(3,f,f.return),Zh(3,f),zc(5,f,f.return));break;case 1:la(h,f),Br(f),S&512&&(Di||y===null||Mo(y,y.return)),S&64&&Vc&&(f=f.updateQueue,f!==null&&(S=f.callbacks,S!==null&&(y=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=y===null?S:y.concat(S))));break;case 26:var _=al;if(la(h,f),Br(f),S&512&&(Di||y===null||Mo(y,y.return)),S&4){var D=y!==null?y.memoizedState:null;if(S=f.memoizedState,y===null)if(S===null)if(f.stateNode===null){e:{S=f.type,y=f.memoizedProps,_=_.ownerDocument||_;t:switch(S){case"title":D=_.getElementsByTagName("title")[0],(!D||D[ar]||D[ht]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=_.createElement(S),_.head.insertBefore(D,_.querySelector("head > title"))),vo(D,S,y),D[ht]=f,qr(D),S=D;break e;case"link":var H=h_("link","href",_).get(S+(y.href||""));if(H){for(var J=0;J<H.length;J++)if(D=H[J],D.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&D.getAttribute("rel")===(y.rel==null?null:y.rel)&&D.getAttribute("title")===(y.title==null?null:y.title)&&D.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){H.splice(J,1);break t}}D=_.createElement(S),vo(D,S,y),_.head.appendChild(D);break;case"meta":if(H=h_("meta","content",_).get(S+(y.content||""))){for(J=0;J<H.length;J++)if(D=H[J],D.getAttribute("content")===(y.content==null?null:""+y.content)&&D.getAttribute("name")===(y.name==null?null:y.name)&&D.getAttribute("property")===(y.property==null?null:y.property)&&D.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&D.getAttribute("charset")===(y.charSet==null?null:y.charSet)){H.splice(J,1);break t}}D=_.createElement(S),vo(D,S,y),_.head.appendChild(D);break;default:throw Error(r(468,S))}D[ht]=f,qr(D),S=D}f.stateNode=S}else p_(_,f.type,f.stateNode);else f.stateNode=f_(_,S,f.memoizedProps);else D!==S?(D===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):D.count--,S===null?p_(_,f.type,f.stateNode):f_(_,S,f.memoizedProps)):S===null&&f.stateNode!==null&&Ab(f,f.memoizedProps,y.memoizedProps)}break;case 27:la(h,f),Br(f),S&512&&(Di||y===null||Mo(y,y.return)),y!==null&&S&4&&Ab(f,f.memoizedProps,y.memoizedProps);break;case 5:if(la(h,f),Br(f),S&512&&(Di||y===null||Mo(y,y.return)),f.flags&32){_=f.stateNode;try{Ks(_,"")}catch(wt){br(f,f.return,wt)}}S&4&&f.stateNode!=null&&(_=f.memoizedProps,Ab(f,_,y!==null?y.memoizedProps:_)),S&1024&&(Mw=!0);break;case 6:if(la(h,f),Br(f),S&4){if(f.stateNode===null)throw Error(r(162));S=f.memoizedProps,y=f.stateNode;try{y.nodeValue=S}catch(wt){br(f,f.return,wt)}}break;case 3:if(Vg=null,_=al,al=Vb(h.containerInfo),la(h,f),al=_,Br(f),S&4&&y!==null&&y.memoizedState.isDehydrated)try{hp(h.containerInfo)}catch(wt){br(f,f.return,wt)}Mw&&(Mw=!1,_2(f));break;case 4:S=al,al=Vb(f.stateNode.containerInfo),la(h,f),Br(f),al=S;break;case 12:la(h,f),Br(f);break;case 31:la(h,f),Br(f),S&4&&(S=f.updateQueue,S!==null&&(f.updateQueue=null,Ob(f,S)));break;case 13:la(h,f),Br(f),f.child.flags&8192&&f.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Og=Ze()),S&4&&(S=f.updateQueue,S!==null&&(f.updateQueue=null,Ob(f,S)));break;case 22:_=f.memoizedState!==null;var fe=y!==null&&y.memoizedState!==null,Oe=Vc,ze=Di;if(Vc=Oe||_,Di=ze||fe,la(h,f),Di=ze,Vc=Oe,Br(f),S&8192)e:for(h=f.stateNode,h._visibility=_?h._visibility&-2:h._visibility|1,_&&(y===null||fe||Vc||Di||ff(f)),y=null,h=f;;){if(h.tag===5||h.tag===26){if(y===null){fe=y=h;try{if(D=fe.stateNode,_)H=D.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{J=fe.stateNode;var We=fe.memoizedProps.style,Me=We!=null&&We.hasOwnProperty("display")?We.display:null;J.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(wt){br(fe,fe.return,wt)}}}else if(h.tag===6){if(y===null){fe=h;try{fe.stateNode.nodeValue=_?"":fe.memoizedProps}catch(wt){br(fe,fe.return,wt)}}}else if(h.tag===18){if(y===null){fe=h;try{var Le=fe.stateNode;_?Xa(Le,!0):Xa(fe.stateNode,!1)}catch(wt){br(fe,fe.return,wt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===f)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;y===h&&(y=null),h=h.return}y===h&&(y=null),h.sibling.return=h.return,h=h.sibling}S&4&&(S=f.updateQueue,S!==null&&(y=S.retryQueue,y!==null&&(S.retryQueue=null,Ob(f,y))));break;case 19:la(h,f),Br(f),S&4&&(S=f.updateQueue,S!==null&&(f.updateQueue=null,Ob(f,S)));break;case 30:break;case 21:break;default:la(h,f),Br(f)}}function Br(f){var h=f.flags;if(h&2){try{for(var y,S=f.return;S!==null;){if(w2(S)){y=S;break}S=S.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var _=y.stateNode,D=Nw(f);Nb(f,D,_);break;case 5:var H=y.stateNode;y.flags&32&&(Ks(H,""),y.flags&=-33);var J=Nw(f);Nb(f,J,H);break;case 3:case 4:var fe=y.stateNode.containerInfo,Oe=Nw(f);Ow(f,Oe,fe);break;default:throw Error(r(161))}}catch(ze){br(f,f.return,ze)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function _2(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var h=f;_2(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),f=f.sibling}}function Wc(f,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Dw(f,h.alternate,h),h=h.sibling}function ff(f){for(f=f.child;f!==null;){var h=f;switch(h.tag){case 0:case 11:case 14:case 15:zc(4,h,h.return),ff(h);break;case 1:Mo(h,h.return);var y=h.stateNode;typeof y.componentWillUnmount=="function"&&Aw(h,h.return,y),ff(h);break;case 27:zg(h.stateNode);case 26:case 5:Mo(h,h.return),ff(h);break;case 22:h.memoizedState===null&&ff(h);break;case 30:ff(h);break;default:ff(h)}f=f.sibling}}function Yl(f,h,y){for(y=y&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var S=h.alternate,_=f,D=h,H=D.flags;switch(D.tag){case 0:case 11:case 15:Yl(_,D,y),Zh(4,D);break;case 1:if(Yl(_,D,y),S=D,_=S.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Oe){br(S,S.return,Oe)}if(S=D,_=S.updateQueue,_!==null){var J=S.stateNode;try{var fe=_.shared.hiddenCallbacks;if(fe!==null)for(_.shared.hiddenCallbacks=null,_=0;_<fe.length;_++)nl(fe[_],J)}catch(Oe){br(S,S.return,Oe)}}y&&H&64&&Tg(D),aa(D,D.return);break;case 27:S2(D);case 26:case 5:Yl(_,D,y),y&&S===null&&H&4&&x2(D),aa(D,D.return);break;case 12:Yl(_,D,y);break;case 31:Yl(_,D,y),y&&H&4&&Iw(_,D);break;case 13:Yl(_,D,y),y&&H&4&&T2(_,D);break;case 22:D.memoizedState===null&&Yl(_,D,y),aa(D,D.return);break;case 30:break;default:Yl(_,D,y)}h=h.sibling}}function Pw(f,h){var y=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),f=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(f=h.memoizedState.cachePool.pool),f!==y&&(f!=null&&f.refCount++,y!=null&&Qm(y))}function Lw(f,h){f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&Qm(f))}function sl(f,h,y,S){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)A2(f,h,y,S),h=h.sibling}function A2(f,h,y,S){var _=h.flags;switch(h.tag){case 0:case 11:case 15:sl(f,h,y,S),_&2048&&Zh(9,h);break;case 1:sl(f,h,y,S);break;case 3:sl(f,h,y,S),_&2048&&(f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&Qm(f)));break;case 12:if(_&2048){sl(f,h,y,S),f=h.stateNode;try{var D=h.memoizedProps,H=D.id,J=D.onPostCommit;typeof J=="function"&&J(H,h.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(fe){br(h,h.return,fe)}}else sl(f,h,y,S);break;case 31:sl(f,h,y,S);break;case 13:sl(f,h,y,S);break;case 23:break;case 22:D=h.stateNode,H=h.alternate,h.memoizedState!==null?D._visibility&2?sl(f,h,y,S):kg(f,h):D._visibility&2?sl(f,h,y,S):(D._visibility|=2,Yu(f,h,y,S,(h.subtreeFlags&10256)!==0||!1)),_&2048&&Pw(H,h);break;case 24:sl(f,h,y,S),_&2048&&Lw(h.alternate,h);break;default:sl(f,h,y,S)}}function Yu(f,h,y,S,_){for(_=_&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var D=f,H=h,J=y,fe=S,Oe=H.flags;switch(H.tag){case 0:case 11:case 15:Yu(D,H,J,fe,_),Zh(8,H);break;case 23:break;case 22:var ze=H.stateNode;H.memoizedState!==null?ze._visibility&2?Yu(D,H,J,fe,_):kg(D,H):(ze._visibility|=2,Yu(D,H,J,fe,_)),_&&Oe&2048&&Pw(H.alternate,H);break;case 24:Yu(D,H,J,fe,_),_&&Oe&2048&&Lw(H.alternate,H);break;default:Yu(D,H,J,fe,_)}h=h.sibling}}function kg(f,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var y=f,S=h,_=S.flags;switch(S.tag){case 22:kg(y,S),_&2048&&Pw(S.alternate,S);break;case 24:kg(y,S),_&2048&&Lw(S.alternate,S);break;default:kg(y,S)}h=h.sibling}}var _g=8192;function Qh(f,h,y){if(f.subtreeFlags&_g)for(f=f.child;f!==null;)N2(f,h,y),f=f.sibling}function N2(f,h,y){switch(f.tag){case 26:Qh(f,h,y),f.flags&_g&&f.memoizedState!==null&&up(y,al,f.memoizedState,f.memoizedProps);break;case 5:Qh(f,h,y);break;case 3:case 4:var S=al;al=Vb(f.stateNode.containerInfo),Qh(f,h,y),al=S;break;case 22:f.memoizedState===null&&(S=f.alternate,S!==null&&S.memoizedState!==null?(S=_g,_g=16777216,Qh(f,h,y),_g=S):Qh(f,h,y));break;default:Qh(f,h,y)}}function O2(f){var h=f.alternate;if(h!==null&&(f=h.child,f!==null)){h.child=null;do h=f.sibling,f.sibling=null,f=h;while(f!==null)}}function Ag(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var S=h[y];Qi=S,D2(S,f)}O2(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)M2(f),f=f.sibling}function M2(f){switch(f.tag){case 0:case 11:case 15:Ag(f),f.flags&2048&&zc(9,f,f.return);break;case 3:Ag(f);break;case 12:Ag(f);break;case 22:var h=f.stateNode;f.memoizedState!==null&&h._visibility&2&&(f.return===null||f.return.tag!==13)?(h._visibility&=-3,Mb(f)):Ag(f);break;default:Ag(f)}}function Mb(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var S=h[y];Qi=S,D2(S,f)}O2(f)}for(f=f.child;f!==null;){switch(h=f,h.tag){case 0:case 11:case 15:zc(8,h,h.return),Mb(h);break;case 22:y=h.stateNode,y._visibility&2&&(y._visibility&=-3,Mb(h));break;default:Mb(h)}f=f.sibling}}function D2(f,h){for(;Qi!==null;){var y=Qi;switch(y.tag){case 0:case 11:case 15:zc(8,y,h);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var S=y.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Qm(y.memoizedState.cache)}if(S=y.child,S!==null)S.return=y,Qi=S;else e:for(y=f;Qi!==null;){S=Qi;var _=S.sibling,D=S.return;if(Rw(S),S===y){Qi=null;break e}if(_!==null){_.return=D,Qi=_;break e}Qi=D}}}var I3={getCacheForType:function(f){var h=go(Mi),y=h.data.get(f);return y===void 0&&(y=f(),h.data.set(f,y)),y},cacheSignal:function(){return go(Mi).controller.signal}},P3=typeof WeakMap=="function"?WeakMap:Map,sr=0,Or=null,On=null,In=0,yr=0,qa=null,Gu=!1,Jh=!1,jw=!1,ll=0,ai=0,Ku=0,hf=0,Bw=0,Wa=0,ep=0,Ng=null,ca=null,$w=!1,Og=0,R2=0,pf=1/0,Db=null,Xu=null,Ui=0,Zu=null,tp=null,Yc=0,Hw=0,Fw=null,I2=null,Mg=0,Uw=null;function Ya(){return(sr&2)!==0&&In!==0?In&-In:V.T!==null?Ga():_t()}function P2(){if(Wa===0)if((In&536870912)===0||Fn){var f=Tt;Tt<<=1,(Tt&3932160)===0&&(Tt=262144),Wa=f}else Wa=536870912;return f=Fa.current,f!==null&&(f.flags|=32),Wa}function ua(f,h,y){(f===Or&&(yr===2||yr===9)||f.cancelPendingCommit!==null)&&(np(f,0),Gc(f,In,Wa,!1)),le(f,y),((sr&2)===0||f!==Or)&&(f===Or&&((sr&2)===0&&(hf|=y),ai===4&&Gc(f,In,Wa,!1)),Gl(f))}function L2(f,h,y){if((sr&6)!==0)throw Error(r(327));var S=!y&&(h&127)===0&&(h&f.expiredLanes)===0||an(f,h),_=S?j3(f,h):Vw(f,h,!0),D=S;do{if(_===0){Jh&&!S&&Gc(f,h,0,!1);break}else{if(y=f.current.alternate,D&&!B2(y)){_=Vw(f,h,!1),D=!1;continue}if(_===2){if(D=h,f.errorRecoveryDisabledLanes&D)var H=0;else H=f.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){h=H;e:{var J=f;_=Ng;var fe=J.current.memoizedState.isDehydrated;if(fe&&(np(J,H).flags|=256),H=Vw(J,H,!1),H!==2){if(jw&&!fe){J.errorRecoveryDisabledLanes|=D,hf|=D,_=4;break e}D=ca,ca=_,D!==null&&(ca===null?ca=D:ca.push.apply(ca,D))}_=H}if(D=!1,_!==2)continue}}if(_===1){np(f,0),Gc(f,h,0,!0);break}e:{switch(S=f,D=_,D){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:Gc(S,h,Wa,!Gu);break e;case 2:ca=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(_=Og+300-Ze(),10<_)){if(Gc(S,h,Wa,!Gu),xt(S,0,!0)!==0)break e;Yc=h,S.timeoutHandle=t_(j2.bind(null,S,y,ca,Db,$w,h,Wa,hf,ep,Gu,D,"Throttled",-0,0),_);break e}j2(S,y,ca,Db,$w,h,Wa,hf,ep,Gu,D,null,-0,0)}}break}while(!0);Gl(f)}function j2(f,h,y,S,_,D,H,J,fe,Oe,ze,We,Me,Le){if(f.timeoutHandle=-1,We=h.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mc},N2(h,D,We);var wt=(D&62914560)===D?Og-Ze():(D&4194048)===D?R2-Ze():0;if(wt=rI(We,wt),wt!==null){Yc=D,f.cancelPendingCommit=wt(V2.bind(null,f,h,D,y,S,_,H,J,fe,ze,We,null,Me,Le)),Gc(f,D,H,!Oe);return}}V2(f,h,D,y,S,_,H,J,fe)}function B2(f){for(var h=f;;){var y=h.tag;if((y===0||y===11||y===15)&&h.flags&16384&&(y=h.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var S=0;S<y.length;S++){var _=y[S],D=_.getSnapshot;_=_.value;try{if(!ii(D(),_))return!1}catch{return!1}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Gc(f,h,y,S){h&=~Bw,h&=~hf,f.suspendedLanes|=h,f.pingedLanes&=~h,S&&(f.warmLanes|=h),S=f.expirationTimes;for(var _=h;0<_;){var D=31-un(_),H=1<<D;S[D]=-1,_&=~H}y!==0&&Re(f,y,h)}function Rb(){return(sr&6)===0?(Lg(0),!1):!0}function zw(){if(On!==null){if(yr===0)var f=On.return;else f=On,jc=dn=null,Qx(f),Bh=null,Ha=0,f=On;for(;f!==null;)_b(f.alternate,f),f=f.return;On=null}}function np(f,h){var y=f.timeoutHandle;y!==-1&&(f.timeoutHandle=-1,W3(y)),y=f.cancelPendingCommit,y!==null&&(f.cancelPendingCommit=null,y()),Yc=0,zw(),Or=f,On=y=ps(f.current,null),In=h,yr=0,qa=null,Gu=!1,Jh=an(f,h),jw=!1,ep=Wa=Bw=hf=Ku=ai=0,ca=Ng=null,$w=!1,(h&8)!==0&&(h|=h&32);var S=f.entangledLanes;if(S!==0)for(f=f.entanglements,S&=h;0<S;){var _=31-un(S),D=1<<_;h|=f[_],S&=~D}return ll=h,Zs(),y}function $2(f,h){fn=null,V.H=qu,h===jh||h===eg?(h=Qk(),yr=3):h===eb?(h=Qk(),yr=4):yr=h===gg?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,qa=h,On===null&&(ai=1,mg(f,Ba(h,f.current)))}function Dg(){var f=Fa.current;return f===null?!0:(In&4194048)===In?Ss===null:(In&62914560)===In||(In&536870912)!==0?f===Ss:!1}function H2(){var f=V.H;return V.H=qu,f===null?qu:f}function F2(){var f=V.A;return V.A=I3,f}function Ib(){ai=4,Gu||(In&4194048)!==In&&Fa.current!==null||(Jh=!0),(Ku&134217727)===0&&(hf&134217727)===0||Or===null||Gc(Or,In,Wa,!1)}function Vw(f,h,y){var S=sr;sr|=2;var _=H2(),D=F2();(Or!==f||In!==h)&&(Db=null,np(f,h)),h=!1;var H=ai;e:do try{if(yr!==0&&On!==null){var J=On,fe=qa;switch(yr){case 8:zw(),H=6;break e;case 3:case 2:case 9:case 6:Fa.current===null&&(h=!0);var Oe=yr;if(yr=0,qa=null,rp(f,J,fe,Oe),y&&Jh){H=0;break e}break;default:Oe=yr,yr=0,qa=null,rp(f,J,fe,Oe)}}L3(),H=ai;break}catch(ze){$2(f,ze)}while(!0);return h&&f.shellSuspendCounter++,jc=dn=null,sr=S,V.H=_,V.A=D,On===null&&(Or=null,In=0,Zs()),H}function L3(){for(;On!==null;)U2(On)}function j3(f,h){var y=sr;sr|=2;var S=H2(),_=F2();Or!==f||In!==h?(Db=null,pf=Ze()+500,np(f,h)):Jh=an(f,h);e:do try{if(yr!==0&&On!==null){h=On;var D=qa;t:switch(yr){case 1:yr=0,qa=null,rp(f,h,D,1);break;case 2:case 9:if(Zk(D)){yr=0,qa=null,z2(h);break}h=function(){yr!==2&&yr!==9||Or!==f||(yr=7),Gl(f)},D.then(h,h);break e;case 3:yr=7;break e;case 4:yr=5;break e;case 7:Zk(D)?(yr=0,qa=null,z2(h)):(yr=0,qa=null,rp(f,h,D,7));break;case 5:var H=null;switch(On.tag){case 26:H=On.memoizedState;case 5:case 27:var J=On;if(H?m_(H):J.stateNode.complete){yr=0,qa=null;var fe=J.sibling;if(fe!==null)On=fe;else{var Oe=J.return;Oe!==null?(On=Oe,Pb(Oe)):On=null}break t}}yr=0,qa=null,rp(f,h,D,5);break;case 6:yr=0,qa=null,rp(f,h,D,6);break;case 8:zw(),ai=6;break e;default:throw Error(r(462))}}B3();break}catch(ze){$2(f,ze)}while(!0);return jc=dn=null,V.H=S,V.A=_,sr=y,On!==null?0:(Or=null,In=0,Zs(),ai)}function B3(){for(;On!==null&&!ke();)U2(On)}function U2(f){var h=b2(f.alternate,f,ll);f.memoizedProps=f.pendingProps,h===null?Pb(f):On=h}function z2(f){var h=f,y=h.alternate;switch(h.tag){case 15:case 0:h=m2(y,h,h.pendingProps,h.type,void 0,In);break;case 11:h=m2(y,h,h.pendingProps,h.type.render,h.ref,In);break;case 5:Qx(h);default:_b(y,h),h=On=Wk(h,ll),h=b2(y,h,ll)}f.memoizedProps=f.pendingProps,h===null?Pb(f):On=h}function rp(f,h,y,S){jc=dn=null,Qx(h),Bh=null,Ha=0;var _=h.return;try{if(ww(f,_,h,y,In)){ai=1,mg(f,Ba(y,f.current)),On=null;return}}catch(D){if(_!==null)throw On=_,D;ai=1,mg(f,Ba(y,f.current)),On=null;return}h.flags&32768?(Fn||S===1?f=!0:Jh||(In&536870912)!==0?f=!1:(Gu=f=!0,(S===2||S===9||S===3||S===6)&&(S=Fa.current,S!==null&&S.tag===13&&(S.flags|=16384))),Rg(h,f)):Pb(h)}function Pb(f){var h=f;do{if((h.flags&32768)!==0){Rg(h,Gu);return}f=h.return;var y=v2(h.alternate,h,ll);if(y!==null){On=y;return}if(h=h.sibling,h!==null){On=h;return}On=h=f}while(h!==null);ai===0&&(ai=5)}function Rg(f,h){do{var y=Cg(f.alternate,f);if(y!==null){y.flags&=32767,On=y;return}if(y=f.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!h&&(f=f.sibling,f!==null)){On=f;return}On=f=y}while(f!==null);ai=6,On=null}function V2(f,h,y,S,_,D,H,J,fe){f.cancelPendingCommit=null;do Ig();while(Ui!==0);if((sr&6)!==0)throw Error(r(327));if(h!==null){if(h===f.current)throw Error(r(177));if(D=h.lanes|h.childLanes,D|=Ah,ye(f,y,D,H,J,fe),f===Or&&(On=Or=null,In=0),tp=h,Zu=f,Yc=y,Hw=D,Fw=_,I2=S,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,F3(it,function(){return Gw(),null})):(f.callbackNode=null,f.callbackPriority=0),S=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||S){S=V.T,V.T=null,_=ne.p,ne.p=2,H=sr,sr|=4;try{D3(f,h,y)}finally{sr=H,ne.p=_,V.T=S}}Ui=1,qw(),Ww(),Lb()}}function qw(){if(Ui===1){Ui=0;var f=Zu,h=tp,y=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||y){y=V.T,V.T=null;var S=ne.p;ne.p=2;var _=sr;sr|=4;try{k2(h,f);var D=oS,H=Uk(f.containerInfo),J=D.focusedElem,fe=D.selectionRange;if(H!==J&&J&&J.ownerDocument&&Fk(J.ownerDocument.documentElement,J)){if(fe!==null&&Ux(J)){var Oe=fe.start,ze=fe.end;if(ze===void 0&&(ze=Oe),"selectionStart"in J)J.selectionStart=Oe,J.selectionEnd=Math.min(ze,J.value.length);else{var We=J.ownerDocument||document,Me=We&&We.defaultView||window;if(Me.getSelection){var Le=Me.getSelection(),wt=J.textContent.length,Kt=Math.min(fe.start,wt),Tr=fe.end===void 0?Kt:Math.min(fe.end,wt);!Le.extend&&Kt>Tr&&(H=Tr,Tr=Kt,Kt=H);var Se=Hk(J,Kt),me=Hk(J,Tr);if(Se&&me&&(Le.rangeCount!==1||Le.anchorNode!==Se.node||Le.anchorOffset!==Se.offset||Le.focusNode!==me.node||Le.focusOffset!==me.offset)){var Ne=We.createRange();Ne.setStart(Se.node,Se.offset),Le.removeAllRanges(),Kt>Tr?(Le.addRange(Ne),Le.extend(me.node,me.offset)):(Ne.setEnd(me.node,me.offset),Le.addRange(Ne))}}}}for(We=[],Le=J;Le=Le.parentNode;)Le.nodeType===1&&We.push({element:Le,left:Le.scrollLeft,top:Le.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<We.length;J++){var qe=We[J];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}Xb=!!Hg,oS=Hg=null}finally{sr=_,ne.p=S,V.T=y}}f.current=h,Ui=2}}function Ww(){if(Ui===2){Ui=0;var f=Zu,h=tp,y=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||y){y=V.T,V.T=null;var S=ne.p;ne.p=2;var _=sr;sr|=4;try{Dw(f,h.alternate,h)}finally{sr=_,ne.p=S,V.T=y}}Ui=3}}function Lb(){if(Ui===4||Ui===3){Ui=0,Je();var f=Zu,h=tp,y=Yc,S=I2;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Ui=5:(Ui=0,tp=Zu=null,Yw(f,f.pendingLanes));var _=f.pendingLanes;if(_===0&&(Xu=null),bt(y),h=h.stateNode,Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(or,h,void 0,(h.current.flags&128)===128)}catch{}if(S!==null){h=V.T,_=ne.p,ne.p=2,V.T=null;try{for(var D=f.onRecoverableError,H=0;H<S.length;H++){var J=S[H];D(J.value,{componentStack:J.stack})}}finally{V.T=h,ne.p=_}}(Yc&3)!==0&&Ig(),Gl(f),_=f.pendingLanes,(y&261930)!==0&&(_&42)!==0?f===Uw?Mg++:(Mg=0,Uw=f):Mg=0,Lg(0)}}function Yw(f,h){(f.pooledCacheLanes&=h)===0&&(h=f.pooledCache,h!=null&&(f.pooledCache=null,Qm(h)))}function Ig(){return qw(),Ww(),Lb(),Gw()}function Gw(){if(Ui!==5)return!1;var f=Zu,h=Hw;Hw=0;var y=bt(Yc),S=V.T,_=ne.p;try{ne.p=32>y?32:y,V.T=null,y=Fw,Fw=null;var D=Zu,H=Yc;if(Ui=0,tp=Zu=null,Yc=0,(sr&6)!==0)throw Error(r(331));var J=sr;if(sr|=4,M2(D.current),A2(D,D.current,H,y),sr=J,Lg(0,!1),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(or,D)}catch{}return!0}finally{ne.p=_,V.T=S,Yw(f,h)}}function Kw(f,h,y){h=Ba(y,h),h=xw(f.stateNode,h,2),f=tl(f,h,2),f!==null&&(le(f,2),Gl(f))}function br(f,h,y){if(f.tag===3)Kw(f,f,y);else for(;h!==null;){if(h.tag===3){Kw(h,f,y);break}else if(h.tag===1){var S=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Xu===null||!Xu.has(S))){f=Ba(y,f),y=ql(2),S=tl(h,y,2),S!==null&&(xb(y,S,h,f),le(S,2),Gl(S));break}}h=h.return}}function Xw(f,h,y){var S=f.pingCache;if(S===null){S=f.pingCache=new P3;var _=new Set;S.set(h,_)}else _=S.get(h),_===void 0&&(_=new Set,S.set(h,_));_.has(y)||(jw=!0,_.add(y),f=$3.bind(null,f,h,y),h.then(f,f))}function $3(f,h,y){var S=f.pingCache;S!==null&&S.delete(h),f.pingedLanes|=f.suspendedLanes&y,f.warmLanes&=~y,Or===f&&(In&y)===y&&(ai===4||ai===3&&(In&62914560)===In&&300>Ze()-Og?(sr&2)===0&&np(f,0):Bw|=y,ep===In&&(ep=0)),Gl(f)}function Pg(f,h){h===0&&(h=Hn()),f=Hl(f,h),f!==null&&(le(f,h),Gl(f))}function jb(f){var h=f.memoizedState,y=0;h!==null&&(y=h.retryLane),Pg(f,y)}function H3(f,h){var y=0;switch(f.tag){case 31:case 13:var S=f.stateNode,_=f.memoizedState;_!==null&&(y=_.retryLane);break;case 19:S=f.stateNode;break;case 22:S=f.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(h),Pg(f,y)}function F3(f,h){return ue(f,h)}var ip=null,mf=null,Zw=!1,Bb=!1,Qw=!1,Qu=0;function Gl(f){f!==mf&&f.next===null&&(mf===null?ip=mf=f:mf=mf.next=f),Bb=!0,Zw||(Zw=!0,z3())}function Lg(f,h){if(!Qw&&Bb){Qw=!0;do for(var y=!1,S=ip;S!==null;){if(f!==0){var _=S.pendingLanes;if(_===0)var D=0;else{var H=S.suspendedLanes,J=S.pingedLanes;D=(1<<31-un(42|f)+1)-1,D&=_&~(H&~J),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(y=!0,G2(S,D))}else D=In,D=xt(S,S===Or?D:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(D&3)===0||an(S,D)||(y=!0,G2(S,D));S=S.next}while(y);Qw=!1}}function U3(){q2()}function q2(){Bb=Zw=!1;var f=0;Qu!==0&&q3()&&(f=Qu);for(var h=Ze(),y=null,S=ip;S!==null;){var _=S.next,D=W2(S,h);D===0?(S.next=null,y===null?ip=_:y.next=_,_===null&&(mf=y)):(y=S,(f!==0||(D&3)!==0)&&(Bb=!0)),S=_}Ui!==0&&Ui!==5||Lg(f),Qu!==0&&(Qu=0)}function W2(f,h){for(var y=f.suspendedLanes,S=f.pingedLanes,_=f.expirationTimes,D=f.pendingLanes&-62914561;0<D;){var H=31-un(D),J=1<<H,fe=_[H];fe===-1?((J&y)===0||(J&S)!==0)&&(_[H]=Gn(J,h)):fe<=h&&(f.expiredLanes|=J),D&=~J}if(h=Or,y=In,y=xt(f,f===h?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),S=f.callbackNode,y===0||f===h&&(yr===2||yr===9)||f.cancelPendingCommit!==null)return S!==null&&S!==null&&xe(S),f.callbackNode=null,f.callbackPriority=0;if((y&3)===0||an(f,y)){if(h=y&-y,h===f.callbackPriority)return h;switch(S!==null&&xe(S),bt(y)){case 2:case 8:y=Be;break;case 32:y=it;break;case 268435456:y=Wt;break;default:y=it}return S=Y2.bind(null,f),y=ue(y,S),f.callbackPriority=h,f.callbackNode=y,h}return S!==null&&S!==null&&xe(S),f.callbackPriority=2,f.callbackNode=null,2}function Y2(f,h){if(Ui!==0&&Ui!==5)return f.callbackNode=null,f.callbackPriority=0,null;var y=f.callbackNode;if(Ig()&&f.callbackNode!==y)return null;var S=In;return S=xt(f,f===Or?S:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),S===0?null:(L2(f,S,h),W2(f,Ze()),f.callbackNode!=null&&f.callbackNode===y?Y2.bind(null,f):null)}function G2(f,h){if(Ig())return null;L2(f,h,!0)}function z3(){r_(function(){(sr&6)!==0?ue(ge,U3):q2()})}function Ga(){if(Qu===0){var f=Ph;f===0&&(f=ct,ct<<=1,(ct&261888)===0&&(ct=256)),Qu=f}return Qu}function K2(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:$m(""+f)}function X2(f,h){var y=h.ownerDocument.createElement("input");return y.name=h.name,y.value=h.value,f.id&&y.setAttribute("form",f.id),h.parentNode.insertBefore(y,h),f=new FormData(f),y.parentNode.removeChild(y),f}function gf(f,h,y,S,_){if(h==="submit"&&y&&y.stateNode===_){var D=K2((_[gt]||null).action),H=S.submitter;H&&(h=(h=H[gt]||null)?K2(h.formAction):H.getAttribute("formAction"),h!==null&&(D=h,H=null));var J=new Ry("action","action",null,S,_);f.push({event:J,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(Qu!==0){var fe=H?X2(_,H):new FormData(_);Vu(y,{pending:!0,data:fe,method:_.method,action:D},null,fe)}}else typeof D=="function"&&(J.preventDefault(),fe=H?X2(_,H):new FormData(_),Vu(y,{pending:!0,data:fe,method:_.method,action:D},D,fe))},currentTarget:_}]})}}for(var cn=0;cn<Yy.length;cn++){var Jw=Yy[cn],da=Jw.toLowerCase(),Ci=Jw[0].toUpperCase()+Jw.slice(1);na(da,"on"+Ci)}na(ja,"onAnimationEnd"),na(Ym,"onAnimationIteration"),na(zk,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(kh,"onTransitionRun"),na(qy,"onTransitionStart"),na(Wy,"onTransitionCancel"),na(dr,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jg));function Z2(f,h){h=(h&4)!==0;for(var y=0;y<f.length;y++){var S=f[y],_=S.event;S=S.listeners;e:{var D=void 0;if(h)for(var H=S.length-1;0<=H;H--){var J=S[H],fe=J.instance,Oe=J.currentTarget;if(J=J.listener,fe!==D&&_.isPropagationStopped())break e;D=J,_.currentTarget=Oe;try{D(_)}catch(ze){Gy(ze)}_.currentTarget=null,D=fe}else for(H=0;H<S.length;H++){if(J=S[H],fe=J.instance,Oe=J.currentTarget,J=J.listener,fe!==D&&_.isPropagationStopped())break e;D=J,_.currentTarget=Oe;try{D(_)}catch(ze){Gy(ze)}_.currentTarget=null,D=fe}}}}function Mn(f,h){var y=h[mr];y===void 0&&(y=h[mr]=new Set);var S=f+"__bubble";y.has(S)||(Hb(h,f,2,!1),y.add(S))}function eS(f,h,y){var S=0;h&&(S|=4),Hb(y,f,S,h)}var $b="_reactListening"+Math.random().toString(36).slice(2);function tS(f){if(!f[$b]){f[$b]=!0,Bl.forEach(function(y){y!=="selectionchange"&&(Ju.has(y)||eS(y,!1,f),eS(y,!0,f))});var h=f.nodeType===9?f:f.ownerDocument;h===null||h[$b]||(h[$b]=!0,eS("selectionchange",!1,h))}}function Hb(f,h,y,S){switch(E_(h)){case 2:var _=oI;break;case 8:_=aI;break;default:_=hS}y=_.bind(null,h,y,f),_=void 0,!Ox||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(_=!0),S?_!==void 0?f.addEventListener(h,y,{capture:!0,passive:_}):f.addEventListener(h,y,!0):_!==void 0?f.addEventListener(h,y,{passive:_}):f.addEventListener(h,y,!1)}function nS(f,h,y,S,_){var D=S;if((h&1)===0&&(h&2)===0&&S!==null)e:for(;;){if(S===null)return;var H=S.tag;if(H===3||H===4){var J=S.stateNode.containerInfo;if(J===_)break;if(H===4)for(H=S.return;H!==null;){var fe=H.tag;if((fe===3||fe===4)&&H.stateNode.containerInfo===_)return;H=H.return}for(;J!==null;){if(H=us(J),H===null)return;if(fe=H.tag,fe===5||fe===6||fe===26||fe===27){S=D=H;continue e}J=J.parentNode}}S=S.return}Tk(function(){var Oe=D,ze=Ax(y),We=[];e:{var Me=Vk.get(f);if(Me!==void 0){var Le=Ry,wt=f;switch(f){case"keypress":if(My(y)===0)break e;case"keydown":case"keyup":Le=Ru;break;case"focusin":wt="focus",Le=Py;break;case"focusout":wt="blur",Le=Py;break;case"beforeblur":case"afterblur":Le=Py;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=Iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=_k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=p3;break;case ja:case Ym:case zk:Le=Ok;break;case dr:Le=g3;break;case"scroll":case"scrollend":Le=d3;break;case"wheel":Le=jy;break;case"copy":case"cut":case"paste":Le=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=Rk;break;case"toggle":case"beforetoggle":Le=y3}var Kt=(h&4)!==0,Tr=!Kt&&(f==="scroll"||f==="scrollend"),Se=Kt?Me!==null?Me+"Capture":null:Me;Kt=[];for(var me=Oe,Ne;me!==null;){var qe=me;if(Ne=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Ne===null||Se===null||(qe=Kd(me,Se),qe!=null&&Kt.push(Ka(me,qe,Ne))),Tr)break;me=me.return}0<Kt.length&&(Me=new Le(Me,wt,null,y,ze),We.push({event:Me,listeners:Kt}))}}if((h&7)===0){e:{if(Me=f==="mouseover"||f==="pointerover",Le=f==="mouseout"||f==="pointerout",Me&&y!==_x&&(wt=y.relatedTarget||y.fromElement)&&(us(wt)||wt[xn]))break e;if((Le||Me)&&(Me=ze.window===ze?ze:(Me=ze.ownerDocument)?Me.defaultView||Me.parentWindow:window,Le?(wt=y.relatedTarget||y.toElement,Le=Oe,wt=wt?us(wt):null,wt!==null&&(Tr=o(wt),Kt=wt.tag,wt!==Tr||Kt!==5&&Kt!==27&&Kt!==6)&&(wt=null)):(Le=null,wt=Oe),Le!==wt)){if(Kt=Iy,qe="onMouseLeave",Se="onMouseEnter",me="mouse",(f==="pointerout"||f==="pointerover")&&(Kt=Rk,qe="onPointerLeave",Se="onPointerEnter",me="pointer"),Tr=Le==null?Me:Ao(Le),Ne=wt==null?Me:Ao(wt),Me=new Kt(qe,me+"leave",Le,y,ze),Me.target=Tr,Me.relatedTarget=Ne,qe=null,us(ze)===Oe&&(Kt=new Kt(Se,me+"enter",wt,y,ze),Kt.target=Ne,Kt.relatedTarget=Tr,qe=Kt),Tr=qe,Le&&wt)t:{for(Kt=Fb,Se=Le,me=wt,Ne=0,qe=Se;qe;qe=Kt(qe))Ne++;qe=0;for(var Ut=me;Ut;Ut=Kt(Ut))qe++;for(;0<Ne-qe;)Se=Kt(Se),Ne--;for(;0<qe-Ne;)me=Kt(me),qe--;for(;Ne--;){if(Se===me||me!==null&&Se===me.alternate){Kt=Se;break t}Se=Kt(Se),me=Kt(me)}Kt=null}else Kt=null;Le!==null&&Kr(We,Me,Le,Kt,!1),wt!==null&&Tr!==null&&Kr(We,Tr,wt,Kt,!0)}}e:{if(Me=Oe?Ao(Oe):window,Le=Me.nodeName&&Me.nodeName.toLowerCase(),Le==="select"||Le==="input"&&Me.type==="file")var tr=Bk;else if(jx(Me))if(Jd)tr=w3;else{tr=v3;var Mt=zy}else Le=Me.nodeName,!Le||Le.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?Oe&&Oy(Oe.elementType)&&(tr=Bk):tr=x3;if(tr&&(tr=tr(f,Oe))){Bx(We,tr,y,ze);break e}Mt&&Mt(f,Me,Oe),f==="focusout"&&Oe&&Me.type==="number"&&Oe.memoizedProps.value!=null&&Tx(Me,"number",Me.value)}switch(Mt=Oe?Ao(Oe):window,f){case"focusin":(jx(Mt)||Mt.contentEditable==="true")&&(be=Mt,Ue=Oe,Pe=null);break;case"focusout":Pe=Ue=be=null;break;case"mousedown":yt=!0;break;case"contextmenu":case"mouseup":case"dragend":yt=!1,ln(We,y,ze);break;case"selectionchange":if(Th)break;case"keydown":case"keyup":ln(We,y,ze)}var bn;if(By)e:{switch(f){case"compositionstart":var Pn="onCompositionStart";break e;case"compositionend":Pn="onCompositionEnd";break e;case"compositionupdate":Pn="onCompositionUpdate";break e}Pn=void 0}else Qd?Hy(f,y)&&(Pn="onCompositionEnd"):f==="keydown"&&y.keyCode===229&&(Pn="onCompositionStart");Pn&&(Px&&y.locale!=="ko"&&(Qd||Pn!=="onCompositionStart"?Pn==="onCompositionEnd"&&Qd&&(bn=Ar()):(Mu=ze,Mx="value"in Mu?Mu.value:Mu.textContent,Qd=!0)),Mt=Bg(Oe,Pn),0<Mt.length&&(Pn=new Pa(Pn,f,null,y,ze),We.push({event:Pn,listeners:Mt}),bn?Pn.data=bn:(bn=jk(y),bn!==null&&(Pn.data=bn)))),(bn=Ix?La(f,y):Lx(f,y))&&(Pn=Bg(Oe,"onBeforeInput"),0<Pn.length&&(Mt=new Pa("onBeforeInput","beforeinput",null,y,ze),We.push({event:Mt,listeners:Pn}),Mt.data=bn)),gf(We,f,Oe,y,ze)}Z2(We,h)})}function Ka(f,h,y){return{instance:f,listener:h,currentTarget:y}}function Bg(f,h){for(var y=h+"Capture",S=[];f!==null;){var _=f,D=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||D===null||(_=Kd(f,y),_!=null&&S.unshift(Ka(f,_,D)),_=Kd(f,h),_!=null&&S.push(Ka(f,_,D))),f.tag===3)return S;f=f.return}return[]}function Fb(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function Kr(f,h,y,S,_){for(var D=h._reactName,H=[];y!==null&&y!==S;){var J=y,fe=J.alternate,Oe=J.stateNode;if(J=J.tag,fe!==null&&fe===S)break;J!==5&&J!==26&&J!==27||Oe===null||(fe=Oe,_?(Oe=Kd(y,D),Oe!=null&&H.unshift(Ka(y,Oe,fe))):_||(Oe=Kd(y,D),Oe!=null&&H.push(Ka(y,Oe,fe)))),y=y.return}H.length!==0&&f.push({event:h,listeners:H})}var pi=/\r\n?/g,Q2=/\u0000|\uFFFD/g;function J2(f){return(typeof f=="string"?f:""+f).replace(pi,`
`).replace(Q2,"")}function e_(f,h){return h=J2(h),J2(f)===h}function Cr(f,h,y,S,_,D){switch(y){case"children":typeof S=="string"?h==="body"||h==="textarea"&&S===""||Ks(f,S):(typeof S=="number"||typeof S=="bigint")&&h!=="body"&&Ks(f,""+S);break;case"className":Ou(f,"class",S);break;case"tabIndex":Ou(f,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":Ou(f,y,S);break;case"style":wk(f,S,D);break;case"data":if(h!=="object"){Ou(f,"data",S);break}case"src":case"href":if(S===""&&(h!=="a"||y!=="href")){f.removeAttribute(y);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){f.removeAttribute(y);break}S=$m(""+S),f.setAttribute(y,S);break;case"action":case"formAction":if(typeof S=="function"){f.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(y==="formAction"?(h!=="input"&&Cr(f,h,"name",_.name,_,null),Cr(f,h,"formEncType",_.formEncType,_,null),Cr(f,h,"formMethod",_.formMethod,_,null),Cr(f,h,"formTarget",_.formTarget,_,null)):(Cr(f,h,"encType",_.encType,_,null),Cr(f,h,"method",_.method,_,null),Cr(f,h,"target",_.target,_,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){f.removeAttribute(y);break}S=$m(""+S),f.setAttribute(y,S);break;case"onClick":S!=null&&(f.onclick=Mc);break;case"onScroll":S!=null&&Mn("scroll",f);break;case"onScrollEnd":S!=null&&Mn("scrollend",f);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(_.children!=null)throw Error(r(60));f.innerHTML=y}}break;case"multiple":f.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":f.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){f.removeAttribute("xlink:href");break}y=$m(""+S),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?f.setAttribute(y,""+S):f.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?f.setAttribute(y,""):f.removeAttribute(y);break;case"capture":case"download":S===!0?f.setAttribute(y,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?f.setAttribute(y,S):f.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?f.setAttribute(y,S):f.removeAttribute(y);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?f.removeAttribute(y):f.setAttribute(y,S);break;case"popover":Mn("beforetoggle",f),Mn("toggle",f),Oc(f,"popover",S);break;case"xlinkActuate":ds(f,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":ds(f,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":ds(f,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":ds(f,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":ds(f,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":ds(f,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":ds(f,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":ds(f,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":ds(f,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Oc(f,"is",S);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=Sk.get(y)||y,Oc(f,y,S))}}function rS(f,h,y,S,_,D){switch(y){case"style":wk(f,S,D);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(_.children!=null)throw Error(r(60));f.innerHTML=y}}break;case"children":typeof S=="string"?Ks(f,S):(typeof S=="number"||typeof S=="bigint")&&Ks(f,""+S);break;case"onScroll":S!=null&&Mn("scroll",f);break;case"onScrollEnd":S!=null&&Mn("scrollend",f);break;case"onClick":S!=null&&(f.onclick=Mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wd.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(_=y.endsWith("Capture"),h=y.slice(2,_?y.length-7:void 0),D=f[gt]||null,D=D!=null?D[y]:null,typeof D=="function"&&f.removeEventListener(h,D,_),typeof S=="function")){typeof D!="function"&&D!==null&&(y in f?f[y]=null:f.hasAttribute(y)&&f.removeAttribute(y)),f.addEventListener(h,S,_);break e}y in f?f[y]=S:S===!0?f.setAttribute(y,""):Oc(f,y,S)}}}function vo(f,h,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mn("error",f),Mn("load",f);var S=!1,_=!1,D;for(D in y)if(y.hasOwnProperty(D)){var H=y[D];if(H!=null)switch(D){case"src":S=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Cr(f,h,D,H,y,null)}}_&&Cr(f,h,"srcSet",y.srcSet,y,null),S&&Cr(f,h,"src",y.src,y,null);return;case"input":Mn("invalid",f);var J=D=H=_=null,fe=null,Oe=null;for(S in y)if(y.hasOwnProperty(S)){var ze=y[S];if(ze!=null)switch(S){case"name":_=ze;break;case"type":H=ze;break;case"checked":fe=ze;break;case"defaultChecked":Oe=ze;break;case"value":D=ze;break;case"defaultValue":J=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,h));break;default:Cr(f,h,S,ze,y,null)}}_y(f,D,J,fe,Oe,H,_,!1);return;case"select":Mn("invalid",f),S=H=D=null;for(_ in y)if(y.hasOwnProperty(_)&&(J=y[_],J!=null))switch(_){case"value":D=J;break;case"defaultValue":H=J;break;case"multiple":S=J;default:Cr(f,h,_,J,y,null)}h=D,y=H,f.multiple=!!S,h!=null?Yd(f,!!S,h,!1):y!=null&&Yd(f,!!S,y,!0);return;case"textarea":Mn("invalid",f),D=_=S=null;for(H in y)if(y.hasOwnProperty(H)&&(J=y[H],J!=null))switch(H){case"value":S=J;break;case"defaultValue":_=J;break;case"children":D=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(91));break;default:Cr(f,h,H,J,y,null)}Ny(f,S,_,D);return;case"option":for(fe in y)if(y.hasOwnProperty(fe)&&(S=y[fe],S!=null))switch(fe){case"selected":f.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Cr(f,h,fe,S,y,null)}return;case"dialog":Mn("beforetoggle",f),Mn("toggle",f),Mn("cancel",f),Mn("close",f);break;case"iframe":case"object":Mn("load",f);break;case"video":case"audio":for(S=0;S<jg.length;S++)Mn(jg[S],f);break;case"image":Mn("error",f),Mn("load",f);break;case"details":Mn("toggle",f);break;case"embed":case"source":case"link":Mn("error",f),Mn("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in y)if(y.hasOwnProperty(Oe)&&(S=y[Oe],S!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Cr(f,h,Oe,S,y,null)}return;default:if(Oy(h)){for(ze in y)y.hasOwnProperty(ze)&&(S=y[ze],S!==void 0&&rS(f,h,ze,S,y,void 0));return}}for(J in y)y.hasOwnProperty(J)&&(S=y[J],S!=null&&Cr(f,h,J,S,y,null))}function V3(f,h,y,S){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,D=null,H=null,J=null,fe=null,Oe=null,ze=null;for(Le in y){var We=y[Le];if(y.hasOwnProperty(Le)&&We!=null)switch(Le){case"checked":break;case"value":break;case"defaultValue":fe=We;default:S.hasOwnProperty(Le)||Cr(f,h,Le,null,S,We)}}for(var Me in S){var Le=S[Me];if(We=y[Me],S.hasOwnProperty(Me)&&(Le!=null||We!=null))switch(Me){case"type":D=Le;break;case"name":_=Le;break;case"checked":Oe=Le;break;case"defaultChecked":ze=Le;break;case"value":H=Le;break;case"defaultValue":J=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,h));break;default:Le!==We&&Cr(f,h,Me,Le,S,We)}}ky(f,H,J,fe,Oe,ze,D,_);return;case"select":Le=H=J=Me=null;for(D in y)if(fe=y[D],y.hasOwnProperty(D)&&fe!=null)switch(D){case"value":break;case"multiple":Le=fe;default:S.hasOwnProperty(D)||Cr(f,h,D,null,S,fe)}for(_ in S)if(D=S[_],fe=y[_],S.hasOwnProperty(_)&&(D!=null||fe!=null))switch(_){case"value":Me=D;break;case"defaultValue":J=D;break;case"multiple":H=D;default:D!==fe&&Cr(f,h,_,D,S,fe)}h=J,y=H,S=Le,Me!=null?Yd(f,!!y,Me,!1):!!S!=!!y&&(h!=null?Yd(f,!!y,h,!0):Yd(f,!!y,y?[]:"",!1));return;case"textarea":Le=Me=null;for(J in y)if(_=y[J],y.hasOwnProperty(J)&&_!=null&&!S.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Cr(f,h,J,null,S,_)}for(H in S)if(_=S[H],D=y[H],S.hasOwnProperty(H)&&(_!=null||D!=null))switch(H){case"value":Me=_;break;case"defaultValue":Le=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==D&&Cr(f,h,H,_,S,D)}Ay(f,Me,Le);return;case"option":for(var wt in y)if(Me=y[wt],y.hasOwnProperty(wt)&&Me!=null&&!S.hasOwnProperty(wt))switch(wt){case"selected":f.selected=!1;break;default:Cr(f,h,wt,null,S,Me)}for(fe in S)if(Me=S[fe],Le=y[fe],S.hasOwnProperty(fe)&&Me!==Le&&(Me!=null||Le!=null))switch(fe){case"selected":f.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:Cr(f,h,fe,Me,S,Le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kt in y)Me=y[Kt],y.hasOwnProperty(Kt)&&Me!=null&&!S.hasOwnProperty(Kt)&&Cr(f,h,Kt,null,S,Me);for(Oe in S)if(Me=S[Oe],Le=y[Oe],S.hasOwnProperty(Oe)&&Me!==Le&&(Me!=null||Le!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,h));break;default:Cr(f,h,Oe,Me,S,Le)}return;default:if(Oy(h)){for(var Tr in y)Me=y[Tr],y.hasOwnProperty(Tr)&&Me!==void 0&&!S.hasOwnProperty(Tr)&&rS(f,h,Tr,void 0,S,Me);for(ze in S)Me=S[ze],Le=y[ze],!S.hasOwnProperty(ze)||Me===Le||Me===void 0&&Le===void 0||rS(f,h,ze,Me,S,Le);return}}for(var Se in y)Me=y[Se],y.hasOwnProperty(Se)&&Me!=null&&!S.hasOwnProperty(Se)&&Cr(f,h,Se,null,S,Me);for(We in S)Me=S[We],Le=y[We],!S.hasOwnProperty(We)||Me===Le||Me==null&&Le==null||Cr(f,h,We,Me,S,Le)}function iS(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $g(){if(typeof performance.getEntriesByType=="function"){for(var f=0,h=0,y=performance.getEntriesByType("resource"),S=0;S<y.length;S++){var _=y[S],D=_.transferSize,H=_.initiatorType,J=_.duration;if(D&&J&&iS(H)){for(H=0,J=_.responseEnd,S+=1;S<y.length;S++){var fe=y[S],Oe=fe.startTime;if(Oe>J)break;var ze=fe.transferSize,We=fe.initiatorType;ze&&iS(We)&&(fe=fe.responseEnd,H+=ze*(fe<J?1:(J-Oe)/(fe-Oe)))}if(--S,h+=8*(D+H)/(_.duration/1e3),f++,10<f)break}}if(0<f)return h/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var Hg=null,oS=null;function Fg(f){return f.nodeType===9?f:f.ownerDocument}function Ug(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fa(f,h){if(f===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&h==="foreignObject"?0:f}function ed(f,h){return f==="textarea"||f==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var aS=null;function q3(){var f=window.event;return f&&f.type==="popstate"?f===aS?!1:(aS=f,!0):(aS=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,W3=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,r_=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(f){return n_.resolve(null).then(f).catch(Kc)}:t_;function Kc(f){setTimeout(function(){throw f})}function en(f){return f==="head"}function sS(f,h){var y=h,S=0;do{var _=y.nextSibling;if(f.removeChild(y),_&&_.nodeType===8)if(y=_.data,y==="/$"||y==="/&"){if(S===0){f.removeChild(_),hp(h);return}S--}else if(y==="$"||y==="$?"||y==="$~"||y==="$!"||y==="&")S++;else if(y==="html")zg(f.ownerDocument.documentElement);else if(y==="head"){y=f.ownerDocument.head,zg(y);for(var D=y.firstChild;D;){var H=D.nextSibling,J=D.nodeName;D[ar]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&D.rel.toLowerCase()==="stylesheet"||y.removeChild(D),D=H}}else y==="body"&&zg(f.ownerDocument.body);y=_}while(y);hp(h)}function Xa(f,h){var y=f;f=0;do{var S=y.nextSibling;if(y.nodeType===1?h?(y._stashedDisplay=y.style.display,y.style.display="none"):(y.style.display=y._stashedDisplay||"",y.getAttribute("style")===""&&y.removeAttribute("style")):y.nodeType===3&&(h?(y._stashedText=y.nodeValue,y.nodeValue=""):y.nodeValue=y._stashedText||""),S&&S.nodeType===8)if(y=S.data,y==="/$"){if(f===0)break;f--}else y!=="$"&&y!=="$?"&&y!=="$~"&&y!=="$!"||f++;y=S}while(y)}function Ub(f){var h=f.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var y=h;switch(h=h.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":Ub(y),Gs(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}f.removeChild(y)}}function Y3(f,h,y,S){for(;f.nodeType===1;){var _=y;if(f.nodeName.toLowerCase()!==h.toLowerCase()){if(!S&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(S){if(!f[ar])switch(h){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(D=f.getAttribute("rel"),D==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(D!==_.rel||f.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||f.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||f.getAttribute("title")!==(_.title==null?null:_.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(D=f.getAttribute("src"),(D!==(_.src==null?null:_.src)||f.getAttribute("type")!==(_.type==null?null:_.type)||f.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&D&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(h==="input"&&f.type==="hidden"){var D=_.name==null?null:""+_.name;if(_.type==="hidden"&&f.getAttribute("name")===D)return f}else return f;if(f=Ts(f.nextSibling),f===null)break}return null}function hr(f,h,y){if(h==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!y||(f=Ts(f.nextSibling),f===null))return null;return f}function i_(f,h){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!h||(f=Ts(f.nextSibling),f===null))return null;return f}function zb(f){return f.data==="$?"||f.data==="$~"}function op(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function G3(f,h){var y=f.ownerDocument;if(f.data==="$~")f._reactRetry=h;else if(f.data!=="$?"||y.readyState!=="loading")h();else{var S=function(){h(),y.removeEventListener("DOMContentLoaded",S)};y.addEventListener("DOMContentLoaded",S),f._reactRetry=S}}function Ts(f){for(;f!=null;f=f.nextSibling){var h=f.nodeType;if(h===1||h===3)break;if(h===8){if(h=f.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return f}var lS=null;function o_(f){f=f.nextSibling;for(var h=0;f;){if(f.nodeType===8){var y=f.data;if(y==="/$"||y==="/&"){if(h===0)return Ts(f.nextSibling);h--}else y!=="$"&&y!=="$!"&&y!=="$?"&&y!=="$~"&&y!=="&"||h++}f=f.nextSibling}return null}function a_(f){f=f.previousSibling;for(var h=0;f;){if(f.nodeType===8){var y=f.data;if(y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"){if(h===0)return f;h--}else y!=="/$"&&y!=="/&"||h++}f=f.previousSibling}return null}function s_(f,h,y){switch(h=Fg(y),f){case"html":if(f=h.documentElement,!f)throw Error(r(452));return f;case"head":if(f=h.head,!f)throw Error(r(453));return f;case"body":if(f=h.body,!f)throw Error(r(454));return f;default:throw Error(r(451))}}function zg(f){for(var h=f.attributes;h.length;)f.removeAttributeNode(h[0]);Gs(f)}var ks=new Map,l_=new Set;function Vb(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Xc=ne.d;ne.d={f:K3,r:X3,D:cS,C:Z3,L:Q3,m:J3,X:ha,S:Ji,M:eI};function K3(){var f=Xc.f(),h=Rb();return f||h}function X3(f){var h=Zi(f);h!==null&&h.tag===5&&h.type==="form"?hw(h):Xc.r(f)}var td=typeof document>"u"?null:document;function c_(f,h,y){var S=td;if(S&&typeof h=="string"&&h){var _=Ra(h);_='link[rel="'+f+'"][href="'+_+'"]',typeof y=="string"&&(_+='[crossorigin="'+y+'"]'),l_.has(_)||(l_.add(_),f={rel:f,crossOrigin:y,href:h},S.querySelector(_)===null&&(h=S.createElement("link"),vo(h,"link",f),qr(h),S.head.appendChild(h)))}}function cS(f){Xc.D(f),c_("dns-prefetch",f,null)}function Z3(f,h){Xc.C(f,h),c_("preconnect",f,h)}function Q3(f,h,y){Xc.L(f,h,y);var S=td;if(S&&f&&h){var _='link[rel="preload"][as="'+Ra(h)+'"]';h==="image"&&y&&y.imageSrcSet?(_+='[imagesrcset="'+Ra(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(_+='[imagesizes="'+Ra(y.imageSizes)+'"]')):_+='[href="'+Ra(f)+'"]';var D=_;switch(h){case"style":D=ap(f);break;case"script":D=lp(f)}ks.has(D)||(f=d({rel:"preload",href:h==="image"&&y&&y.imageSrcSet?void 0:f,as:h},y),ks.set(D,f),S.querySelector(_)!==null||h==="style"&&S.querySelector(sp(D))||h==="script"&&S.querySelector(cp(D))||(h=S.createElement("link"),vo(h,"link",f),qr(h),S.head.appendChild(h)))}}function J3(f,h){Xc.m(f,h);var y=td;if(y&&f){var S=h&&typeof h.as=="string"?h.as:"script",_='link[rel="modulepreload"][as="'+Ra(S)+'"][href="'+Ra(f)+'"]',D=_;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=lp(f)}if(!ks.has(D)&&(f=d({rel:"modulepreload",href:f},h),ks.set(D,f),y.querySelector(_)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(cp(D)))return}S=y.createElement("link"),vo(S,"link",f),qr(S),y.head.appendChild(S)}}}function Ji(f,h,y){Xc.S(f,h,y);var S=td;if(S&&f){var _=Oa(S).hoistableStyles,D=ap(f);h=h||"default";var H=_.get(D);if(!H){var J={loading:0,preload:null};if(H=S.querySelector(sp(D)))J.loading=5;else{f=d({rel:"stylesheet",href:f,"data-precedence":h},y),(y=ks.get(D))&&uS(f,y);var fe=H=S.createElement("link");qr(fe),vo(fe,"link",f),fe._p=new Promise(function(Oe,ze){fe.onload=Oe,fe.onerror=ze}),fe.addEventListener("load",function(){J.loading|=1}),fe.addEventListener("error",function(){J.loading|=2}),J.loading|=4,qb(H,h,S)}H={type:"stylesheet",instance:H,count:1,state:J},_.set(D,H)}}}function ha(f,h){Xc.X(f,h);var y=td;if(y&&f){var S=Oa(y).hoistableScripts,_=lp(f),D=S.get(_);D||(D=y.querySelector(cp(_)),D||(f=d({src:f,async:!0},h),(h=ks.get(_))&&Wb(f,h),D=y.createElement("script"),qr(D),vo(D,"link",f),y.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},S.set(_,D))}}function eI(f,h){Xc.M(f,h);var y=td;if(y&&f){var S=Oa(y).hoistableScripts,_=lp(f),D=S.get(_);D||(D=y.querySelector(cp(_)),D||(f=d({src:f,async:!0,type:"module"},h),(h=ks.get(_))&&Wb(f,h),D=y.createElement("script"),qr(D),vo(D,"link",f),y.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},S.set(_,D))}}function u_(f,h,y,S){var _=(_=we.current)?Vb(_):null;if(!_)throw Error(r(446));switch(f){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(h=ap(y.href),y=Oa(_).hoistableStyles,S=y.get(h),S||(S={type:"style",instance:null,count:0,state:null},y.set(h,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){f=ap(y.href);var D=Oa(_).hoistableStyles,H=D.get(f);if(H||(_=_.ownerDocument||_,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(f,H),(D=_.querySelector(sp(f)))&&!D._p&&(H.instance=D,H.state.loading=5),ks.has(f)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},ks.set(f,y),D||tI(_,f,y,H.state))),h&&S===null)throw Error(r(528,""));return H}if(h&&S!==null)throw Error(r(529,""));return null;case"script":return h=y.async,y=y.src,typeof y=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=lp(y),y=Oa(_).hoistableScripts,S=y.get(h),S||(S={type:"script",instance:null,count:0,state:null},y.set(h,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,f))}}function ap(f){return'href="'+Ra(f)+'"'}function sp(f){return'link[rel="stylesheet"]['+f+"]"}function d_(f){return d({},f,{"data-precedence":f.precedence,precedence:null})}function tI(f,h,y,S){f.querySelector('link[rel="preload"][as="style"]['+h+"]")?S.loading=1:(h=f.createElement("link"),S.preload=h,h.addEventListener("load",function(){return S.loading|=1}),h.addEventListener("error",function(){return S.loading|=2}),vo(h,"link",y),qr(h),f.head.appendChild(h))}function lp(f){return'[src="'+Ra(f)+'"]'}function cp(f){return"script[async]"+f}function f_(f,h,y){if(h.count++,h.instance===null)switch(h.type){case"style":var S=f.querySelector('style[data-href~="'+Ra(y.href)+'"]');if(S)return h.instance=S,qr(S),S;var _=d({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return S=(f.ownerDocument||f).createElement("style"),qr(S),vo(S,"style",_),qb(S,y.precedence,f),h.instance=S;case"stylesheet":_=ap(y.href);var D=f.querySelector(sp(_));if(D)return h.state.loading|=4,h.instance=D,qr(D),D;S=d_(y),(_=ks.get(_))&&uS(S,_),D=(f.ownerDocument||f).createElement("link"),qr(D);var H=D;return H._p=new Promise(function(J,fe){H.onload=J,H.onerror=fe}),vo(D,"link",S),h.state.loading|=4,qb(D,y.precedence,f),h.instance=D;case"script":return D=lp(y.src),(_=f.querySelector(cp(D)))?(h.instance=_,qr(_),_):(S=y,(_=ks.get(D))&&(S=d({},y),Wb(S,_)),f=f.ownerDocument||f,_=f.createElement("script"),qr(_),vo(_,"link",S),f.head.appendChild(_),h.instance=_);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(S=h.instance,h.state.loading|=4,qb(S,y.precedence,f));return h.instance}function qb(f,h,y){for(var S=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=S.length?S[S.length-1]:null,D=_,H=0;H<S.length;H++){var J=S[H];if(J.dataset.precedence===h)D=J;else if(D!==_)break}D?D.parentNode.insertBefore(f,D.nextSibling):(h=y.nodeType===9?y.head:y,h.insertBefore(f,h.firstChild))}function uS(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.title==null&&(f.title=h.title)}function Wb(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.integrity==null&&(f.integrity=h.integrity)}var Vg=null;function h_(f,h,y){if(Vg===null){var S=new Map,_=Vg=new Map;_.set(y,S)}else _=Vg,S=_.get(y),S||(S=new Map,_.set(y,S));if(S.has(f))return S;for(S.set(f,null),y=y.getElementsByTagName(f),_=0;_<y.length;_++){var D=y[_];if(!(D[ar]||D[ht]||f==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var H=D.getAttribute(h)||"";H=f+H;var J=S.get(H);J?J.push(D):S.set(H,[D])}}return S}function p_(f,h,y){f=f.ownerDocument||f,f.head.insertBefore(y,h==="title"?f.querySelector("head > title"):null)}function nI(f,h,y){if(y===1||h.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return f=h.disabled,typeof h.precedence=="string"&&f==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function m_(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function up(f,h,y,S){if(y.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(y.state.loading&4)===0){if(y.instance===null){var _=ap(S.href),D=h.querySelector(sp(_));if(D){h=D._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(f.count++,f=Yb.bind(f),h.then(f,f)),y.state.loading|=4,y.instance=D,qr(D);return}D=h.ownerDocument||h,S=d_(S),(_=ks.get(_))&&uS(S,_),D=D.createElement("link"),qr(D);var H=D;H._p=new Promise(function(J,fe){H.onload=J,H.onerror=fe}),vo(D,"link",S),y.instance=D}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(y,h),(h=y.state.preload)&&(y.state.loading&3)===0&&(f.count++,y=Yb.bind(f),h.addEventListener("load",y),h.addEventListener("error",y))}}var dS=0;function rI(f,h){return f.stylesheets&&f.count===0&&Kb(f,f.stylesheets),0<f.count||0<f.imgCount?function(y){var S=setTimeout(function(){if(f.stylesheets&&Kb(f,f.stylesheets),f.unsuspend){var D=f.unsuspend;f.unsuspend=null,D()}},6e4+h);0<f.imgBytes&&dS===0&&(dS=62500*$g());var _=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&Kb(f,f.stylesheets),f.unsuspend)){var D=f.unsuspend;f.unsuspend=null,D()}},(f.imgBytes>dS?50:800)+h);return f.unsuspend=y,function(){f.unsuspend=null,clearTimeout(S),clearTimeout(_)}}:null}function Yb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kb(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var Gb=null;function Kb(f,h){f.stylesheets=null,f.unsuspend!==null&&(f.count++,Gb=new Map,h.forEach(g_,f),Gb=null,Yb.call(f))}function g_(f,h){if(!(h.state.loading&4)){var y=Gb.get(f);if(y)var S=y.get(null);else{y=new Map,Gb.set(f,y);for(var _=f.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<_.length;D++){var H=_[D];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(y.set(H.dataset.precedence,H),S=H)}S&&y.set(null,S)}_=h.instance,H=_.getAttribute("data-precedence"),D=y.get(H)||S,D===S&&y.set(null,_),y.set(H,_),this.count++,S=Yb.bind(this),_.addEventListener("load",S),_.addEventListener("error",S),D?D.parentNode.insertBefore(_,D.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(_,f.firstChild)),h.state.loading|=4}}var dp={$$typeof:N,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function iI(f,h,y,S,_,D,H,J,fe){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=S,this.onUncaughtError=_,this.onCaughtError=D,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function y_(f,h,y,S,_,D,H,J,fe,Oe,ze,We){return f=new iI(f,h,y,H,fe,Oe,ze,We,J),h=1,D===!0&&(h|=24),D=mo(3,null,null,h),f.current=D,D.stateNode=f,h=Qs(),h.refCount++,f.pooledCache=h,h.refCount++,D.memoizedState={element:S,isDehydrated:y,cache:h},zl(D),f}function b_(f){return f?(f=Ic,f):Ic}function v_(f,h,y,S,_,D){_=b_(_),S.context===null?S.context=_:S.pendingContext=_,S=Fu(h),S.payload={element:y},D=D===void 0?null:D,D!==null&&(S.callback=D),y=tl(f,S,h),y!==null&&(ua(y,f,h),tg(y,f,h))}function x_(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var y=f.retryLane;f.retryLane=y!==0&&y<h?y:h}}function fS(f,h){x_(f,h),(f=f.alternate)&&x_(f,h)}function w_(f){if(f.tag===13||f.tag===31){var h=Hl(f,67108864);h!==null&&ua(h,f,67108864),fS(f,67108864)}}function S_(f){if(f.tag===13||f.tag===31){var h=Ya();h=kt(h);var y=Hl(f,h);y!==null&&ua(y,f,h),fS(f,h)}}var Xb=!0;function oI(f,h,y,S){var _=V.T;V.T=null;var D=ne.p;try{ne.p=2,hS(f,h,y,S)}finally{ne.p=D,V.T=_}}function aI(f,h,y,S){var _=V.T;V.T=null;var D=ne.p;try{ne.p=8,hS(f,h,y,S)}finally{ne.p=D,V.T=_}}function hS(f,h,y,S){if(Xb){var _=pS(S);if(_===null)nS(f,h,S,Zb,y),C_(f,S);else if(T_(_,f,h,y,S))S.stopPropagation();else if(C_(f,S),h&4&&-1<sI.indexOf(f)){for(;_!==null;){var D=Zi(_);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var H=vt(D.pendingLanes);if(H!==0){var J=D;for(J.pendingLanes|=2,J.entangledLanes|=2;H;){var fe=1<<31-un(H);J.entanglements[1]|=fe,H&=~fe}Gl(D),(sr&6)===0&&(pf=Ze()+500,Lg(0))}}break;case 31:case 13:J=Hl(D,2),J!==null&&ua(J,D,2),Rb(),fS(D,2)}if(D=pS(S),D===null&&nS(f,h,S,Zb,y),D===_)break;_=D}_!==null&&S.stopPropagation()}else nS(f,h,S,null,y)}}function pS(f){return f=Ax(f),mS(f)}var Zb=null;function mS(f){if(Zb=null,f=us(f),f!==null){var h=o(f);if(h===null)f=null;else{var y=h.tag;if(y===13){if(f=a(h),f!==null)return f;f=null}else if(y===31){if(f=s(h),f!==null)return f;f=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;f=null}else h!==f&&(f=null)}}return Zb=f,null}function E_(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case ge:return 2;case Be:return 8;case it:case At:return 32;case Wt:return 268435456;default:return 32}default:return 32}}var gS=!1,nd=null,rd=null,id=null,qg=new Map,Wg=new Map,od=[],sI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(f,h){switch(f){case"focusin":case"focusout":nd=null;break;case"dragenter":case"dragleave":rd=null;break;case"mouseover":case"mouseout":id=null;break;case"pointerover":case"pointerout":qg.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wg.delete(h.pointerId)}}function yf(f,h,y,S,_,D){return f===null||f.nativeEvent!==D?(f={blockedOn:h,domEventName:y,eventSystemFlags:S,nativeEvent:D,targetContainers:[_]},h!==null&&(h=Zi(h),h!==null&&w_(h)),f):(f.eventSystemFlags|=S,h=f.targetContainers,_!==null&&h.indexOf(_)===-1&&h.push(_),f)}function T_(f,h,y,S,_){switch(h){case"focusin":return nd=yf(nd,f,h,y,S,_),!0;case"dragenter":return rd=yf(rd,f,h,y,S,_),!0;case"mouseover":return id=yf(id,f,h,y,S,_),!0;case"pointerover":var D=_.pointerId;return qg.set(D,yf(qg.get(D)||null,f,h,y,S,_)),!0;case"gotpointercapture":return D=_.pointerId,Wg.set(D,yf(Wg.get(D)||null,f,h,y,S,_)),!0}return!1}function yS(f){var h=us(f.target);if(h!==null){var y=o(h);if(y!==null){if(h=y.tag,h===13){if(h=a(y),h!==null){f.blockedOn=h,$t(f.priority,function(){S_(y)});return}}else if(h===31){if(h=s(y),h!==null){f.blockedOn=h,$t(f.priority,function(){S_(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){f.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Qb(f){if(f.blockedOn!==null)return!1;for(var h=f.targetContainers;0<h.length;){var y=pS(f.nativeEvent);if(y===null){y=f.nativeEvent;var S=new y.constructor(y.type,y);_x=S,y.target.dispatchEvent(S),_x=null}else return h=Zi(y),h!==null&&w_(h),f.blockedOn=y,!1;h.shift()}return!0}function k_(f,h,y){Qb(f)&&y.delete(h)}function lI(){gS=!1,nd!==null&&Qb(nd)&&(nd=null),rd!==null&&Qb(rd)&&(rd=null),id!==null&&Qb(id)&&(id=null),qg.forEach(k_),Wg.forEach(k_)}function fp(f,h){f.blockedOn===h&&(f.blockedOn=null,gS||(gS=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lI)))}var Jb=null;function __(f){Jb!==f&&(Jb=f,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Jb===f&&(Jb=null);for(var h=0;h<f.length;h+=3){var y=f[h],S=f[h+1],_=f[h+2];if(typeof S!="function"){if(mS(S||y)===null)continue;break}var D=Zi(y);D!==null&&(f.splice(h,3),h-=3,Vu(D,{pending:!0,data:_,method:y.method,action:S},S,_))}}))}function hp(f){function h(fe){return fp(fe,f)}nd!==null&&fp(nd,f),rd!==null&&fp(rd,f),id!==null&&fp(id,f),qg.forEach(h),Wg.forEach(h);for(var y=0;y<od.length;y++){var S=od[y];S.blockedOn===f&&(S.blockedOn=null)}for(;0<od.length&&(y=od[0],y.blockedOn===null);)yS(y),y.blockedOn===null&&od.shift();if(y=(f.ownerDocument||f).$$reactFormReplay,y!=null)for(S=0;S<y.length;S+=3){var _=y[S],D=y[S+1],H=_[gt]||null;if(typeof D=="function")H||__(y);else if(H){var J=null;if(D&&D.hasAttribute("formAction")){if(_=D,H=D[gt]||null)J=H.formAction;else if(mS(_)!==null)continue}else J=H.action;typeof J=="function"?y[S+1]=J:(y.splice(S,3),S-=3),__(y)}}}function Wo(){function f(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(H){return _=H})},focusReset:"manual",scroll:"manual"})}function h(){_!==null&&(_(),_=null),S||setTimeout(y,20)}function y(){if(!S&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var S=!1,_=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(y,100),function(){S=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),_!==null&&(_(),_=null)}}}function Yg(f){this._internalRoot=f}ev.prototype.render=Yg.prototype.render=function(f){var h=this._internalRoot;if(h===null)throw Error(r(409));var y=h.current,S=Ya();v_(y,S,f,h,null,null)},ev.prototype.unmount=Yg.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var h=f.containerInfo;v_(f.current,2,null,f,null,null),Rb(),h[xn]=null}};function ev(f){this._internalRoot=f}ev.prototype.unstable_scheduleHydration=function(f){if(f){var h=_t();f={blockedOn:null,target:f,priority:h};for(var y=0;y<od.length&&h!==0&&h<od[y].priority;y++);od.splice(y,0,f),y===0&&yS(f)}};var A_=t.version;if(A_!=="19.2.0")throw Error(r(527,A_,"19.2.0"));ne.findDOMNode=function(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=c(h),f=f!==null?u(f):null,f=f===null?null:f.stateNode,f};var cI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tv.isDisabled&&tv.supportsFiber)try{or=tv.inject(cI),Yn=tv}catch{}}return vS.createRoot=function(f,h){if(!i(f))throw Error(r(299));var y=!1,S="",_=bw,D=vw,H=h2;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(H=h.onRecoverableError)),h=y_(f,1,!1,null,null,y,S,null,_,D,H,Wo),f[xn]=h.current,tS(f),new Yg(h)},vS.hydrateRoot=function(f,h,y){if(!i(f))throw Error(r(299));var S=!1,_="",D=bw,H=vw,J=h2,fe=null;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(_=y.identifierPrefix),y.onUncaughtError!==void 0&&(D=y.onUncaughtError),y.onCaughtError!==void 0&&(H=y.onCaughtError),y.onRecoverableError!==void 0&&(J=y.onRecoverableError),y.formState!==void 0&&(fe=y.formState)),h=y_(f,1,!0,h,y??null,S,_,fe,D,H,J,Wo),h.context=b_(null),y=h.current,S=Ya(),S=kt(S),_=Fu(S),_.callback=null,tl(y,_,S),y=S,h.current.lanes=y,le(h,y),Gl(h),f[xn]=h.current,tS(f),new ev(h)},vS.version="19.2.0",vS}var mz;function _1e(){if(mz)return hI.exports;mz=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hI.exports=k1e(),hI.exports}var ere=_1e();const A1e=vr(ere);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tre=e=>{throw TypeError(e)},N1e=(e,t,n)=>t.has(e)||tre("Cannot "+n),yI=(e,t,n)=>(N1e(e,t,"read from private field"),n?n.call(e):t.get(e)),O1e=(e,t,n)=>t.has(e)?tre("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),gz="popstate";function M1e(e={}){function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return qE("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:em(i)}return R1e(t,n,null,e)}function $n(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ji(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function D1e(){return Math.random().toString(36).substring(2,10)}function yz(e,t){return{usr:e.state,key:e.key,idx:t}}function qE(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vm(t):t,state:n,key:t&&t.key||r||D1e()}}function em({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function R1e(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function d(){s="POP";let w=u(),T=w==null?null:w-c;c=w,l&&l({action:s,location:x.location,delta:T})}function p(w,T){s="PUSH";let k=qE(x.location,w,T);c=u()+1;let N=yz(k,c),I=x.createHref(k);try{a.pushState(N,"",I)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(I)}o&&l&&l({action:s,location:x.location,delta:1})}function m(w,T){s="REPLACE";let k=qE(x.location,w,T);c=u();let N=yz(k,c),I=x.createHref(k);a.replaceState(N,"",I),o&&l&&l({action:s,location:x.location,delta:0})}function v(w){return nre(w)}let x={get action(){return s},get location(){return e(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gz,d),l=w,()=>{i.removeEventListener(gz,d),l=null}},createHref(w){return t(i,w)},createURL:v,encodeLocation(w){let T=v(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:m,go(w){return a.go(w)}};return x}function nre(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$n(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:em(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var QS,bz=class{constructor(e){if(O1e(this,QS,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(yI(this,QS).has(e))return yI(this,QS).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){yI(this,QS).set(e,t)}};QS=new WeakMap;var I1e=new Set(["lazy","caseSensitive","path","id","index","children"]);function P1e(e){return I1e.has(e)}var L1e=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function j1e(e){return L1e.has(e)}function B1e(e){return e.index===!0}function WE(e,t,n=[],r={},i=!1){return e.map((o,a)=>{let s=[...n,String(a)],l=typeof o.id=="string"?o.id:s.join("-");if($n(o.index!==!0||!o.children,"Cannot specify children on an index route"),$n(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),B1e(o)){let c={...o,...t(o),id:l};return r[l]=c,c}else{let c={...o,...t(o),id:l,children:void 0};return r[l]=c,o.children&&(c.children=WE(o.children,t,s,r,i)),c}})}function Op(e,t,n="/"){return jA(e,t,n,!1)}function jA(e,t,n,r){let i=typeof t=="string"?vm(t):t,o=vc(i.pathname||"/",n);if(o==null)return null;let a=rre(e);H1e(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=Z1e(o);s=K1e(a[l],c,r)}return s}function $1e(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function rre(e,t=[],n=[],r="",i=!1){let o=(a,s,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;$n(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let d=wd([r,u.relativePath]),p=n.concat(u);a.children&&a.children.length>0&&($n(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),rre(a.children,t,p,d,l)),!(a.path==null&&!a.index)&&t.push({path:d,score:Y1e(d,a.index),routesMeta:p})};return e.forEach((a,s)=>{if(a.path===""||!a.path?.includes("?"))o(a,s);else for(let l of ire(a.path))o(a,s,!0,l)}),t}function ire(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=ire(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function H1e(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:G1e(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var F1e=/^:[\w-]+$/,U1e=3,z1e=2,V1e=1,q1e=10,W1e=-2,vz=e=>e==="*";function Y1e(e,t){let n=e.split("/"),r=n.length;return n.some(vz)&&(r+=W1e),t&&(r+=z1e),n.filter(i=>!vz(i)).reduce((i,o)=>i+(F1e.test(o)?U1e:o===""?V1e:q1e),r)}function G1e(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function K1e(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",d=dN({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=dN({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:wd([o,d.pathname]),pathnameBase:txe(wd([o,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(o=wd([o,d.pathnameBase]))}return a}function dN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=X1e(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},p)=>{if(u==="*"){let v=s[p]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const m=s[p];return d&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function X1e(e,t=!1,n=!0){ji(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Z1e(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ji(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function vc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Q1e({basename:e,pathname:t}){return t==="/"?e:wd([e,t])}function J1e(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?vm(e):e;return{pathname:n?n.startsWith("/")?n:exe(n,t):t,search:nxe(r),hash:rxe(i)}}function exe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bI(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ore(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function GM(e){let t=ore(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function KM(e,t,n,r=!1){let i;typeof e=="string"?i=vm(e):(i={...e},$n(!i.pathname||!i.pathname.includes("?"),bI("?","pathname","search",i)),$n(!i.pathname||!i.pathname.includes("#"),bI("#","pathname","hash",i)),$n(!i.search||!i.search.includes("#"),bI("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}s=d>=0?t[d]:"/"}let l=J1e(i,s),c=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var wd=e=>e.join("/").replace(/\/\/+/g,"/"),txe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nxe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rxe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,fN=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function YE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var are=["POST","PUT","PATCH","DELETE"],ixe=new Set(are),oxe=["GET",...are],axe=new Set(oxe),sxe=new Set([301,302,303,307,308]),lxe=new Set([307,308]),vI={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cxe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xS={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uxe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cH=e=>uxe.test(e),dxe=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),sre="remix-router-transitions",lre=Symbol("ResetLoaderData");function fxe(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";$n(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||dxe,o={},a=WE(e.routes,i,void 0,o),s,l=e.basename||"/";l.startsWith("/")||(l=`/${l}`);let c=e.dataStrategy||yxe,u={...e.future},d=null,p=new Set,m=null,v=null,x=null,w=e.hydrationData!=null,T=Op(a,e.history.location,l),k=!1,N=null,I;if(T==null&&!e.patchRoutesOnNavigation){let le=ec(404,{pathname:e.history.location.pathname}),{matches:ye,route:Re}=N_(a);I=!0,T=ye,N={[Re.id]:le}}else if(T&&!e.hydrationData&&an(T,a,e.history.location.pathname).active&&(T=null),T)if(T.some(le=>le.route.lazy))I=!1;else if(!T.some(le=>uH(le.route)))I=!0;else{let le=e.hydrationData?e.hydrationData.loaderData:null,ye=e.hydrationData?e.hydrationData.errors:null;if(ye){let Re=T.findIndex(Xe=>ye[Xe.route.id]!==void 0);I=T.slice(0,Re+1).every(Xe=>!O6(Xe.route,le,ye))}else I=T.every(Re=>!O6(Re.route,le,ye))}else{I=!1,T=[];let le=an(null,a,e.history.location.pathname);le.active&&le.matches&&(k=!0,T=le.matches)}let O,A={historyAction:e.history.action,location:e.history.location,matches:T,initialized:I,navigation:vI,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||N,fetchers:new Map,blockers:new Map},R="POP",L=!1,B,$=!1,q=new Map,z=null,Y=!1,W=!1,Z=new Set,V=new Map,ne=0,X=-1,oe=new Map,K=new Set,Q=new Map,te=new Map,U=new Set,he=new Map,se,we=null;function ve(){if(d=e.history.listen(({action:le,location:ye,delta:Re})=>{if(se){se(),se=void 0;return}ji(he.size===0||Re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Xe=lt({currentLocation:A.location,nextLocation:ye,historyAction:le});if(Xe&&Re!=null){let nt=new Promise(kt=>{se=kt});e.history.go(Re*-1),Ct(Xe,{state:"blocked",location:ye,proceed(){Ct(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),nt.then(()=>e.history.go(Re))},reset(){let kt=new Map(A.blockers);kt.set(Xe,xS),He({blockers:kt})}});return}return Ee(le,ye)}),n){Dxe(t,q);let le=()=>Rxe(t,q);t.addEventListener("pagehide",le),z=()=>t.removeEventListener("pagehide",le)}return A.initialized||Ee("POP",A.location,{initialHydration:!0}),O}function je(){d&&d(),z&&z(),p.clear(),B&&B.abort(),A.fetchers.forEach((le,ye)=>Wt(ye)),A.blockers.forEach((le,ye)=>xi(ye))}function Te(le){return p.add(le),()=>p.delete(le)}function He(le,ye={}){le.matches&&(le.matches=le.matches.map(nt=>{let kt=o[nt.route.id],bt=nt.route;return bt.element!==kt.element||bt.errorElement!==kt.errorElement||bt.hydrateFallbackElement!==kt.hydrateFallbackElement?{...nt,route:kt}:nt})),A={...A,...le};let Re=[],Xe=[];A.fetchers.forEach((nt,kt)=>{nt.state==="idle"&&(U.has(kt)?Re.push(kt):Xe.push(kt))}),U.forEach(nt=>{!A.fetchers.has(nt)&&!V.has(nt)&&Re.push(nt)}),[...p].forEach(nt=>nt(A,{deletedFetchers:Re,viewTransitionOpts:ye.viewTransitionOpts,flushSync:ye.flushSync===!0})),Re.forEach(nt=>Wt(nt)),Xe.forEach(nt=>A.fetchers.delete(nt))}function Ge(le,ye,{flushSync:Re}={}){let Xe=A.actionData!=null&&A.navigation.formMethod!=null&&Is(A.navigation.formMethod)&&A.navigation.state==="loading"&&le.state?._isRedirect!==!0,nt;ye.actionData?Object.keys(ye.actionData).length>0?nt=ye.actionData:nt=null:Xe?nt=A.actionData:nt=null;let kt=ye.loaderData?Nz(A.loaderData,ye.loaderData,ye.matches||[],ye.errors):A.loaderData,bt=A.blockers;bt.size>0&&(bt=new Map(bt),bt.forEach((ht,gt)=>bt.set(gt,xS)));let _t=Y?!1:xt(le,ye.matches||A.matches),$t=L===!0||A.navigation.formMethod!=null&&Is(A.navigation.formMethod)&&le.state?._isRedirect!==!0;s&&(a=s,s=void 0),Y||R==="POP"||(R==="PUSH"?e.history.push(le,le.state):R==="REPLACE"&&e.history.replace(le,le.state));let Ht;if(R==="POP"){let ht=q.get(A.location.pathname);ht&&ht.has(le.pathname)?Ht={currentLocation:A.location,nextLocation:le}:q.has(le.pathname)&&(Ht={currentLocation:le,nextLocation:A.location})}else if($){let ht=q.get(A.location.pathname);ht?ht.add(le.pathname):(ht=new Set([le.pathname]),q.set(A.location.pathname,ht)),Ht={currentLocation:A.location,nextLocation:le}}He({...ye,actionData:nt,loaderData:kt,historyAction:R,location:le,initialized:!0,navigation:vI,revalidation:"idle",restoreScrollPosition:_t,preventScrollReset:$t,blockers:bt},{viewTransitionOpts:Ht,flushSync:Re===!0}),R="POP",L=!1,$=!1,Y=!1,W=!1,we?.resolve(),we=null}async function De(le,ye){if(typeof le=="number"){e.history.go(le);return}let Re=N6(A.location,A.matches,l,le,ye?.fromRouteId,ye?.relative),{path:Xe,submission:nt,error:kt}=xz(!1,Re,ye),bt=A.location,_t=qE(A.location,Xe,ye&&ye.state);_t={..._t,...e.history.encodeLocation(_t)};let $t=ye&&ye.replace!=null?ye.replace:void 0,Ht="PUSH";$t===!0?Ht="REPLACE":$t===!1||nt!=null&&Is(nt.formMethod)&&nt.formAction===A.location.pathname+A.location.search&&(Ht="REPLACE");let ht=ye&&"preventScrollReset"in ye?ye.preventScrollReset===!0:void 0,gt=(ye&&ye.flushSync)===!0,xn=lt({currentLocation:bt,nextLocation:_t,historyAction:Ht});if(xn){Ct(xn,{state:"blocked",location:_t,proceed(){Ct(xn,{state:"proceeding",proceed:void 0,reset:void 0,location:_t}),De(le,ye)},reset(){let mr=new Map(A.blockers);mr.set(xn,xS),He({blockers:mr})}});return}await Ee(Ht,_t,{submission:nt,pendingError:kt,preventScrollReset:ht,replace:ye&&ye.replace,enableViewTransition:ye&&ye.viewTransition,flushSync:gt})}function Ft(){we||(we=Ixe()),Qe(),He({revalidation:"loading"});let le=we.promise;return A.navigation.state==="submitting"?le:A.navigation.state==="idle"?(Ee(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),le):(Ee(R||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:$===!0}),le)}async function Ee(le,ye,Re){B&&B.abort(),B=null,R=le,Y=(Re&&Re.startUninterruptedRevalidation)===!0,vt(A.location,A.matches),L=(Re&&Re.preventScrollReset)===!0,$=(Re&&Re.enableViewTransition)===!0;let Xe=s||a,nt=Re&&Re.overrideNavigation,kt=Re?.initialHydration&&A.matches&&A.matches.length>0&&!k?A.matches:Op(Xe,ye,l),bt=(Re&&Re.flushSync)===!0;if(kt&&A.initialized&&!W&&Txe(A.location,ye)&&!(Re&&Re.submission&&Is(Re.submission.formMethod))){Ge(ye,{matches:kt},{flushSync:bt});return}let _t=an(kt,Xe,ye.pathname);if(_t.active&&_t.matches&&(kt=_t.matches),!kt){let{error:po,notFoundMatches:Ir,route:ar}=ct(ye.pathname);Ge(ye,{matches:Ir,loaderData:{},errors:{[ar.id]:po}},{flushSync:bt});return}B=new AbortController;let $t=bv(e.history,ye,B.signal,Re&&Re.submission),Ht=e.getContext?await e.getContext():new bz,ht;if(Re&&Re.pendingError)ht=[Mp(kt).route.id,{type:"error",error:Re.pendingError}];else if(Re&&Re.submission&&Is(Re.submission.formMethod)){let po=await It($t,ye,Re.submission,kt,Ht,_t.active,Re&&Re.initialHydration===!0,{replace:Re.replace,flushSync:bt});if(po.shortCircuited)return;if(po.pendingActionResult){let[Ir,ar]=po.pendingActionResult;if(vl(ar)&&YE(ar.error)&&ar.error.status===404){B=null,Ge(ye,{matches:po.matches,loaderData:{},errors:{[Ir]:ar.error}});return}}kt=po.matches||kt,ht=po.pendingActionResult,nt=xI(ye,Re.submission),bt=!1,_t.active=!1,$t=bv(e.history,$t.url,$t.signal)}let{shortCircuited:gt,matches:xn,loaderData:mr,errors:Ai}=await sn($t,ye,kt,Ht,_t.active,nt,Re&&Re.submission,Re&&Re.fetcherSubmission,Re&&Re.replace,Re&&Re.initialHydration===!0,bt,ht);gt||(B=null,Ge(ye,{matches:xn||kt,...Oz(ht),loaderData:mr,errors:Ai}))}async function It(le,ye,Re,Xe,nt,kt,bt,_t={}){Qe();let $t=Oxe(ye,Re);if(He({navigation:$t},{flushSync:_t.flushSync===!0}),kt){let gt=await Gn(Xe,ye.pathname,le.signal);if(gt.type==="aborted")return{shortCircuited:!0};if(gt.type==="error"){if(gt.partialMatches.length===0){let{matches:mr,route:Ai}=N_(a);return{matches:mr,pendingActionResult:[Ai.id,{type:"error",error:gt.error}]}}let xn=Mp(gt.partialMatches).route.id;return{matches:gt.partialMatches,pendingActionResult:[xn,{type:"error",error:gt.error}]}}else if(gt.matches)Xe=gt.matches;else{let{notFoundMatches:xn,error:mr,route:Ai}=ct(ye.pathname);return{matches:xn,pendingActionResult:[Ai.id,{type:"error",error:mr}]}}}let Ht,ht=BA(Xe,ye);if(!ht.route.action&&!ht.route.lazy)Ht={type:"error",error:ec(405,{method:le.method,pathname:ye.pathname,routeId:ht.route.id})};else{let gt=jv(i,o,le,Xe,ht,bt?[]:r,nt),xn=await Je(le,gt,nt,null);if(Ht=xn[ht.route.id],!Ht){for(let mr of Xe)if(xn[mr.route.id]){Ht=xn[mr.route.id];break}}if(le.signal.aborted)return{shortCircuited:!0}}if(o0(Ht)){let gt;return _t&&_t.replace!=null?gt=_t.replace:gt=kz(Ht.response.headers.get("Location"),new URL(le.url),l)===A.location.pathname+A.location.search,await ke(le,Ht,!0,{submission:Re,replace:gt}),{shortCircuited:!0}}if(vl(Ht)){let gt=Mp(Xe,ht.route.id);return(_t&&_t.replace)!==!0&&(R="PUSH"),{matches:Xe,pendingActionResult:[gt.route.id,Ht,ht.route.id]}}return{matches:Xe,pendingActionResult:[ht.route.id,Ht]}}async function sn(le,ye,Re,Xe,nt,kt,bt,_t,$t,Ht,ht,gt){let xn=kt||xI(ye,bt),mr=bt||_t||Dz(xn),Ai=!Y&&!Ht;if(nt){if(Ai){let $i=Yt(gt);He({navigation:xn,...$i!==void 0?{actionData:$i}:{}},{flushSync:ht})}let yn=await Gn(Re,ye.pathname,le.signal);if(yn.type==="aborted")return{shortCircuited:!0};if(yn.type==="error"){if(yn.partialMatches.length===0){let{matches:Nc,route:$l}=N_(a);return{matches:Nc,loaderData:{},errors:{[$l.id]:yn.error}}}let $i=Mp(yn.partialMatches).route.id;return{matches:yn.partialMatches,loaderData:{},errors:{[$i]:yn.error}}}else if(yn.matches)Re=yn.matches;else{let{error:$i,notFoundMatches:Nc,route:$l}=ct(ye.pathname);return{matches:Nc,loaderData:{},errors:{[$l.id]:$i}}}}let po=s||a,{dsMatches:Ir,revalidatingFetchers:ar}=wz(le,Xe,i,o,e.history,A,Re,mr,ye,Ht?[]:r,Ht===!0,W,Z,U,Q,K,po,l,e.patchRoutesOnNavigation!=null,gt);if(X=++ne,!e.dataStrategy&&!Ir.some(yn=>yn.shouldLoad)&&!Ir.some(yn=>yn.route.middleware&&yn.route.middleware.length>0)&&ar.length===0){let yn=Yn();return Ge(ye,{matches:Re,loaderData:{},errors:gt&&vl(gt[1])?{[gt[0]]:gt[1].error}:null,...Oz(gt),...yn?{fetchers:new Map(A.fetchers)}:{}},{flushSync:ht}),{shortCircuited:!0}}if(Ai){let yn={};if(!nt){yn.navigation=xn;let $i=Yt(gt);$i!==void 0&&(yn.actionData=$i)}ar.length>0&&(yn.fetchers=xr(ar)),He(yn,{flushSync:ht})}ar.forEach(yn=>{Tn(yn.key),yn.controller&&V.set(yn.key,yn.controller)});let Gs=()=>ar.forEach(yn=>Tn(yn.key));B&&B.signal.addEventListener("abort",Gs);let{loaderResults:us,fetcherResults:Zi}=await Ze(Ir,ar,le,Xe);if(le.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",Gs),ar.forEach(yn=>V.delete(yn.key));let Ao=O_(us);if(Ao)return await ke(le,Ao.result,!0,{replace:$t}),{shortCircuited:!0};if(Ao=O_(Zi),Ao)return K.add(Ao.key),await ke(le,Ao.result,!0,{replace:$t}),{shortCircuited:!0};let{loaderData:Oa,errors:qr}=Az(A,Re,us,gt,ar,Zi);Ht&&A.errors&&(qr={...A.errors,...qr});let Bl=Yn(),Wd=wr(X),Ma=Bl||Wd||ar.length>0;return{matches:Re,loaderData:Oa,errors:qr,...Ma?{fetchers:new Map(A.fetchers)}:{}}}function Yt(le){if(le&&!vl(le[1]))return{[le[0]]:le[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function xr(le){return le.forEach(ye=>{let Re=A.fetchers.get(ye.key),Xe=wS(void 0,Re?Re.data:void 0);A.fetchers.set(ye.key,Xe)}),new Map(A.fetchers)}async function er(le,ye,Re,Xe){Tn(le);let nt=(Xe&&Xe.flushSync)===!0,kt=s||a,bt=N6(A.location,A.matches,l,Re,ye,Xe?.relative),_t=Op(kt,bt,l),$t=an(_t,kt,bt);if($t.active&&$t.matches&&(_t=$t.matches),!_t){Be(le,ye,ec(404,{pathname:bt}),{flushSync:nt});return}let{path:Ht,submission:ht,error:gt}=xz(!0,bt,Xe);if(gt){Be(le,ye,gt,{flushSync:nt});return}let xn=e.getContext?await e.getContext():new bz,mr=(Xe&&Xe.preventScrollReset)===!0;if(ht&&Is(ht.formMethod)){await ue(le,ye,Ht,_t,xn,$t.active,nt,mr,ht);return}Q.set(le,{routeId:ye,path:Ht}),await xe(le,ye,Ht,_t,xn,$t.active,nt,mr,ht)}async function ue(le,ye,Re,Xe,nt,kt,bt,_t,$t){Qe(),Q.delete(le);let Ht=A.fetchers.get(le);ge(le,Mxe($t,Ht),{flushSync:bt});let ht=new AbortController,gt=bv(e.history,Re,ht.signal,$t);if(kt){let wi=await Gn(Xe,new URL(gt.url).pathname,gt.signal,le);if(wi.type==="aborted")return;if(wi.type==="error"){Be(le,ye,wi.error,{flushSync:bt});return}else if(wi.matches)Xe=wi.matches;else{Be(le,ye,ec(404,{pathname:Re}),{flushSync:bt});return}}let xn=BA(Xe,Re);if(!xn.route.action&&!xn.route.lazy){let wi=ec(405,{method:$t.formMethod,pathname:Re,routeId:ye});Be(le,ye,wi,{flushSync:bt});return}V.set(le,ht);let mr=ne,Ai=jv(i,o,gt,Xe,xn,r,nt),Ir=(await Je(gt,Ai,nt,le))[xn.route.id];if(gt.signal.aborted){V.get(le)===ht&&V.delete(le);return}if(U.has(le)){if(o0(Ir)||vl(Ir)){ge(le,_f(void 0));return}}else{if(o0(Ir))if(V.delete(le),X>mr){ge(le,_f(void 0));return}else return K.add(le),ge(le,wS($t)),ke(gt,Ir,!1,{fetcherSubmission:$t,preventScrollReset:_t});if(vl(Ir)){Be(le,ye,Ir.error);return}}let ar=A.navigation.location||A.location,Gs=bv(e.history,ar,ht.signal),us=s||a,Zi=A.navigation.state!=="idle"?Op(us,A.navigation.location,l):A.matches;$n(Zi,"Didn't find any matches after fetcher action");let Ao=++ne;oe.set(le,Ao);let Oa=wS($t,Ir.data);A.fetchers.set(le,Oa);let{dsMatches:qr,revalidatingFetchers:Bl}=wz(Gs,nt,i,o,e.history,A,Zi,$t,ar,r,!1,W,Z,U,Q,K,us,l,e.patchRoutesOnNavigation!=null,[xn.route.id,Ir]);Bl.filter(wi=>wi.key!==le).forEach(wi=>{let Oc=wi.key,Ou=A.fetchers.get(Oc),ds=wS(void 0,Ou?Ou.data:void 0);A.fetchers.set(Oc,ds),Tn(Oc),wi.controller&&V.set(Oc,wi.controller)}),He({fetchers:new Map(A.fetchers)});let Wd=()=>Bl.forEach(wi=>Tn(wi.key));ht.signal.addEventListener("abort",Wd);let{loaderResults:Ma,fetcherResults:yn}=await Ze(qr,Bl,Gs,nt);if(ht.signal.aborted)return;if(ht.signal.removeEventListener("abort",Wd),oe.delete(le),V.delete(le),Bl.forEach(wi=>V.delete(wi.key)),A.fetchers.has(le)){let wi=_f(Ir.data);A.fetchers.set(le,wi)}let $i=O_(Ma);if($i)return ke(Gs,$i.result,!1,{preventScrollReset:_t});if($i=O_(yn),$i)return K.add($i.key),ke(Gs,$i.result,!1,{preventScrollReset:_t});let{loaderData:Nc,errors:$l}=Az(A,Zi,Ma,void 0,Bl,yn);wr(Ao),A.navigation.state==="loading"&&Ao>X?($n(R,"Expected pending action"),B&&B.abort(),Ge(A.navigation.location,{matches:Zi,loaderData:Nc,errors:$l,fetchers:new Map(A.fetchers)})):(He({errors:$l,loaderData:Nz(A.loaderData,Nc,Zi,$l),fetchers:new Map(A.fetchers)}),W=!1)}async function xe(le,ye,Re,Xe,nt,kt,bt,_t,$t){let Ht=A.fetchers.get(le);ge(le,wS($t,Ht?Ht.data:void 0),{flushSync:bt});let ht=new AbortController,gt=bv(e.history,Re,ht.signal);if(kt){let ar=await Gn(Xe,new URL(gt.url).pathname,gt.signal,le);if(ar.type==="aborted")return;if(ar.type==="error"){Be(le,ye,ar.error,{flushSync:bt});return}else if(ar.matches)Xe=ar.matches;else{Be(le,ye,ec(404,{pathname:Re}),{flushSync:bt});return}}let xn=BA(Xe,Re);V.set(le,ht);let mr=ne,Ai=jv(i,o,gt,Xe,xn,r,nt),Ir=(await Je(gt,Ai,nt,le))[xn.route.id];if(V.get(le)===ht&&V.delete(le),!gt.signal.aborted){if(U.has(le)){ge(le,_f(void 0));return}if(o0(Ir))if(X>mr){ge(le,_f(void 0));return}else{K.add(le),await ke(gt,Ir,!1,{preventScrollReset:_t});return}if(vl(Ir)){Be(le,ye,Ir.error);return}ge(le,_f(Ir.data))}}async function ke(le,ye,Re,{submission:Xe,fetcherSubmission:nt,preventScrollReset:kt,replace:bt}={}){ye.response.headers.has("X-Remix-Revalidate")&&(W=!0);let _t=ye.response.headers.get("Location");$n(_t,"Expected a Location header on the redirect Response"),_t=kz(_t,new URL(le.url),l);let $t=qE(A.location,_t,{_isRedirect:!0});if(n){let Ai=!1;if(ye.response.headers.has("X-Remix-Reload-Document"))Ai=!0;else if(cH(_t)){const po=nre(_t,!0);Ai=po.origin!==t.location.origin||vc(po.pathname,l)==null}if(Ai){bt?t.location.replace(_t):t.location.assign(_t);return}}B=null;let Ht=bt===!0||ye.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ht,formAction:gt,formEncType:xn}=A.navigation;!Xe&&!nt&&ht&&gt&&xn&&(Xe=Dz(A.navigation));let mr=Xe||nt;if(lxe.has(ye.response.status)&&mr&&Is(mr.formMethod))await Ee(Ht,$t,{submission:{...mr,formAction:_t},preventScrollReset:kt||L,enableViewTransition:Re?$:void 0});else{let Ai=xI($t,Xe);await Ee(Ht,$t,{overrideNavigation:Ai,fetcherSubmission:nt,preventScrollReset:kt||L,enableViewTransition:Re?$:void 0})}}async function Je(le,ye,Re,Xe){let nt,kt={};try{nt=await vxe(c,le,ye,Xe,Re,!1)}catch(bt){return ye.filter(_t=>_t.shouldLoad).forEach(_t=>{kt[_t.route.id]={type:"error",error:bt}}),kt}if(le.signal.aborted)return kt;for(let[bt,_t]of Object.entries(nt))if(Axe(_t)){let $t=_t.result;kt[bt]={type:"redirect",response:Exe($t,le,bt,ye,l)}}else kt[bt]=await Sxe(_t);return kt}async function Ze(le,ye,Re,Xe){let nt=Je(Re,le,Xe,null),kt=Promise.all(ye.map(async $t=>{if($t.matches&&$t.match&&$t.request&&$t.controller){let ht=(await Je($t.request,$t.matches,Xe,$t.key))[$t.match.route.id];return{[$t.key]:ht}}else return Promise.resolve({[$t.key]:{type:"error",error:ec(404,{pathname:$t.path})}})})),bt=await nt,_t=(await kt).reduce(($t,Ht)=>Object.assign($t,Ht),{});return{loaderResults:bt,fetcherResults:_t}}function Qe(){W=!0,Q.forEach((le,ye)=>{V.has(ye)&&Z.add(ye),Tn(ye)})}function ge(le,ye,Re={}){A.fetchers.set(le,ye),He({fetchers:new Map(A.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function Be(le,ye,Re,Xe={}){let nt=Mp(A.matches,ye);Wt(le),He({errors:{[nt.route.id]:Re},fetchers:new Map(A.fetchers)},{flushSync:(Xe&&Xe.flushSync)===!0})}function it(le){return te.set(le,(te.get(le)||0)+1),U.has(le)&&U.delete(le),A.fetchers.get(le)||cxe}function At(le,ye){Tn(le,ye?.reason),ge(le,_f(null))}function Wt(le){let ye=A.fetchers.get(le);V.has(le)&&!(ye&&ye.state==="loading"&&oe.has(le))&&Tn(le),Q.delete(le),oe.delete(le),K.delete(le),U.delete(le),Z.delete(le),A.fetchers.delete(le)}function Zn(le){let ye=(te.get(le)||0)-1;ye<=0?(te.delete(le),U.add(le)):te.set(le,ye),He({fetchers:new Map(A.fetchers)})}function Tn(le,ye){let Re=V.get(le);Re&&(Re.abort(ye),V.delete(le))}function or(le){for(let ye of le){let Re=it(ye),Xe=_f(Re.data);A.fetchers.set(ye,Xe)}}function Yn(){let le=[],ye=!1;for(let Re of K){let Xe=A.fetchers.get(Re);$n(Xe,`Expected fetcher: ${Re}`),Xe.state==="loading"&&(K.delete(Re),le.push(Re),ye=!0)}return or(le),ye}function wr(le){let ye=[];for(let[Re,Xe]of oe)if(Xe<le){let nt=A.fetchers.get(Re);$n(nt,`Expected fetcher: ${Re}`),nt.state==="loading"&&(Tn(Re),oe.delete(Re),ye.push(Re))}return or(ye),ye.length>0}function un(le,ye){let Re=A.blockers.get(le)||xS;return he.get(le)!==ye&&he.set(le,ye),Re}function xi(le){A.blockers.delete(le),he.delete(le)}function Ct(le,ye){let Re=A.blockers.get(le)||xS;$n(Re.state==="unblocked"&&ye.state==="blocked"||Re.state==="blocked"&&ye.state==="blocked"||Re.state==="blocked"&&ye.state==="proceeding"||Re.state==="blocked"&&ye.state==="unblocked"||Re.state==="proceeding"&&ye.state==="unblocked",`Invalid blocker state transition: ${Re.state} -> ${ye.state}`);let Xe=new Map(A.blockers);Xe.set(le,ye),He({blockers:Xe})}function lt({currentLocation:le,nextLocation:ye,historyAction:Re}){if(he.size===0)return;he.size>1&&ji(!1,"A router only supports one blocker at a time");let Xe=Array.from(he.entries()),[nt,kt]=Xe[Xe.length-1],bt=A.blockers.get(nt);if(!(bt&&bt.state==="proceeding")&&kt({currentLocation:le,nextLocation:ye,historyAction:Re}))return nt}function ct(le){let ye=ec(404,{pathname:le}),Re=s||a,{matches:Xe,route:nt}=N_(Re);return{notFoundMatches:Xe,route:nt,error:ye}}function Tt(le,ye,Re){if(m=le,x=ye,v=Re||null,!w&&A.navigation===vI){w=!0;let Xe=xt(A.location,A.matches);Xe!=null&&He({restoreScrollPosition:Xe})}return()=>{m=null,x=null,v=null}}function jt(le,ye){return v&&v(le,ye.map(Xe=>$1e(Xe,A.loaderData)))||le.key}function vt(le,ye){if(m&&x){let Re=jt(le,ye);m[Re]=x()}}function xt(le,ye){if(m){let Re=jt(le,ye),Xe=m[Re];if(typeof Xe=="number")return Xe}return null}function an(le,ye,Re){if(e.patchRoutesOnNavigation)if(le){if(Object.keys(le[0].params).length>0)return{active:!0,matches:jA(ye,Re,l,!0)}}else return{active:!0,matches:jA(ye,Re,l,!0)||[]};return{active:!1,matches:null}}async function Gn(le,ye,Re,Xe){if(!e.patchRoutesOnNavigation)return{type:"success",matches:le};let nt=le;for(;;){let kt=s==null,bt=s||a,_t=o;try{await e.patchRoutesOnNavigation({signal:Re,path:ye,matches:nt,fetcherKey:Xe,patch:(ht,gt)=>{Re.aborted||Sz(ht,gt,bt,_t,i,!1)}})}catch(ht){return{type:"error",error:ht,partialMatches:nt}}finally{kt&&!Re.aborted&&(a=[...a])}if(Re.aborted)return{type:"aborted"};let $t=Op(bt,ye,l);if($t)return{type:"success",matches:$t};let Ht=jA(bt,ye,l,!0);if(!Ht||nt.length===Ht.length&&nt.every((ht,gt)=>ht.route.id===Ht[gt].route.id))return{type:"success",matches:null};nt=Ht}}function Hn(le){o={},s=WE(le,i,void 0,o)}function ui(le,ye,Re=!1){let Xe=s==null;Sz(le,ye,s||a,o,i,Re),Xe&&(a=[...a],He({}))}return O={get basename(){return l},get future(){return u},get state(){return A},get routes(){return a},get window(){return t},initialize:ve,subscribe:Te,enableScrollRestoration:Tt,navigate:De,fetch:er,revalidate:Ft,createHref:le=>e.history.createHref(le),encodeLocation:le=>e.history.encodeLocation(le),getFetcher:it,resetFetcher:At,deleteFetcher:Zn,dispose:je,getBlocker:un,deleteBlocker:xi,patchRoutes:ui,_internalFetchControllers:V,_internalSetRoutes:Hn,_internalSetStateDoNotUseOrYouWillBreakYourApp(le){He(le)}},O}function hxe(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function N6(e,t,n,r,i,o){let a,s;if(i){a=[];for(let c of t)if(a.push(c),c.route.id===i){s=c;break}}else a=t,s=t[t.length-1];let l=KM(r||".",GM(a),vc(e.pathname,n)||e.pathname,o==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&s){let c=dH(l.search);if(s.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&c){let u=new URLSearchParams(l.search),d=u.getAll("index");u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();l.search=p?`?${p}`:""}}return n!=="/"&&(l.pathname=Q1e({basename:n,pathname:l.pathname})),em(l)}function xz(e,t,n){if(!n||!hxe(n))return{path:t};if(n.formMethod&&!Nxe(n.formMethod))return{path:t,error:ec(405,{method:n.formMethod})};let r=()=>({path:t,error:ec(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),a=pre(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Is(o))return r();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[m,v])=>`${p}${m}=${v}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!Is(o))return r();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return r()}}}$n(typeof FormData=="function","FormData is not available in this environment");let s,l;if(n.formData)s=D6(n.formData),l=n.formData;else if(n.body instanceof FormData)s=D6(n.body),l=n.body;else if(n.body instanceof URLSearchParams)s=n.body,l=_z(s);else if(n.body==null)s=new URLSearchParams,l=new FormData;else try{s=new URLSearchParams(n.body),l=_z(s)}catch{return r()}let c={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Is(c.formMethod))return{path:t,submission:c};let u=vm(t);return e&&u.search&&dH(u.search)&&s.append("index",""),u.search=`?${s}`,{path:em(u),submission:c}}function wz(e,t,n,r,i,o,a,s,l,c,u,d,p,m,v,x,w,T,k,N){let I=N?vl(N[1])?N[1].error:N[1].data:void 0,O=i.createURL(o.location),A=i.createURL(l),R;if(u&&o.errors){let Y=Object.keys(o.errors)[0];R=a.findIndex(W=>W.route.id===Y)}else if(N&&vl(N[1])){let Y=N[0];R=a.findIndex(W=>W.route.id===Y)-1}let L=N?N[1].statusCode:void 0,B=L&&L>=400,$={currentUrl:O,currentParams:o.matches[0]?.params||{},nextUrl:A,nextParams:a[0].params,...s,actionResult:I,actionStatus:L},q=a.map((Y,W)=>{let{route:Z}=Y,V=null;if(R!=null&&W>R?V=!1:Z.lazy?V=!0:uH(Z)?u?V=O6(Z,o.loaderData,o.errors):pxe(o.loaderData,o.matches[W],Y)&&(V=!0):V=!1,V!==null)return M6(n,r,e,Y,c,t,V);let ne=B?!1:d||O.pathname+O.search===A.pathname+A.search||O.search!==A.search||mxe(o.matches[W],Y),X={...$,defaultShouldRevalidate:ne},oe=hN(Y,X);return M6(n,r,e,Y,c,t,oe,X)}),z=[];return v.forEach((Y,W)=>{if(u||!a.some(te=>te.route.id===Y.routeId)||m.has(W))return;let Z=o.fetchers.get(W),V=Z&&Z.state!=="idle"&&Z.data===void 0,ne=Op(w,Y.path,T);if(!ne){if(k&&V)return;z.push({key:W,routeId:Y.routeId,path:Y.path,matches:null,match:null,request:null,controller:null});return}if(x.has(W))return;let X=BA(ne,Y.path),oe=new AbortController,K=bv(i,Y.path,oe.signal),Q=null;if(p.has(W))p.delete(W),Q=jv(n,r,K,ne,X,c,t);else if(V)d&&(Q=jv(n,r,K,ne,X,c,t));else{let te={...$,defaultShouldRevalidate:B?!1:d};hN(X,te)&&(Q=jv(n,r,K,ne,X,c,t,te))}Q&&z.push({key:W,routeId:Y.routeId,path:Y.path,matches:Q,match:X,request:K,controller:oe})}),{dsMatches:q,revalidatingFetchers:z}}function uH(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function O6(e,t,n){if(e.lazy)return!0;if(!uH(e))return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function pxe(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function mxe(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function hN(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Sz(e,t,n,r,i,o){let a;if(e){let c=r[e];$n(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),a=c.children}else a=n;let s=[],l=[];if(t.forEach(c=>{let u=a.find(d=>cre(c,d));u?l.push({existingRoute:u,newRoute:c}):s.push(c)}),s.length>0){let c=WE(s,i,[e||"_","patch",String(a?.length||"0")],r);a.push(...c)}if(o&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:u,newRoute:d}=l[c],p=u,[m]=WE([d],i,[],{},!0);Object.assign(p,{element:m.element?m.element:p.element,errorElement:m.errorElement?m.errorElement:p.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:p.hydrateFallbackElement})}}function cre(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>cre(n,i))):!1}var Ez=new WeakMap,ure=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if($n(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[e];if(!o)return;let a=Ez.get(i);a||(a={},Ez.set(i,a));let s=a[e];if(s)return s;let l=(async()=>{let c=P1e(e),d=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)ji(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(d)ji(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await o();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return a[e]=l,l},Cz=new WeakMap;function gxe(e,t,n,r,i){let o=n[e.id];if($n(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let u=Cz.get(o);if(u)return{lazyRoutePromise:u,lazyHandlerPromise:u};let d=(async()=>{$n(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),m={};for(let v in p){let x=p[v];if(x===void 0)continue;let w=j1e(v),k=o[v]!==void 0&&v!=="hasErrorBoundary";w?ji(!w,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?ji(!k,`Route "${o.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):m[v]=x}Object.assign(o,m),Object.assign(o,{...r(o),lazy:void 0})})();return Cz.set(o,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let a=Object.keys(e.lazy),s=[],l;for(let u of a){if(i&&i.includes(u))continue;let d=ure({key:u,route:e,manifest:n,mapRouteProperties:r});d&&(s.push(d),u===t&&(l=d))}let c=s.length>0?Promise.all(s).then(()=>{}):void 0;return c?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function Tz(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,o)=>{n[t[o].route.id]=i}),n}async function yxe(e){return e.matches.some(t=>t.route.middleware)?dre(e,()=>Tz(e)):Tz(e)}function dre(e,t){return bxe(e,t,r=>r,kxe,n);function n(r,i,o){if(o)return Promise.resolve(Object.assign(o.value,{[i]:{type:"error",result:r}}));{let{matches:a}=e,s=Math.min(Math.max(a.findIndex(c=>c.route.id===i),0),Math.max(a.findIndex(c=>c.unstable_shouldCallHandler()),0)),l=Mp(a,a[s].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:r}})}}}async function bxe(e,t,n,r,i){let{matches:o,request:a,params:s,context:l}=e,c=o.flatMap(d=>d.route.middleware?d.route.middleware.map(p=>[d.route.id,p]):[]);return await fre({request:a,params:s,context:l},c,t,n,r,i)}async function fre(e,t,n,r,i,o,a=0){let{request:s}=e;if(s.signal.aborted)throw s.signal.reason??new Error(`Request aborted: ${s.method} ${s.url}`);let l=t[a];if(!l)return await n();let[c,u]=l,d,p=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");try{return d={value:await fre(e,t,n,r,i,o,a+1)},d.value}catch(m){return d={value:await o(m,c,d)},d.value}};try{let m=await u(e,p),v=m!=null?r(m):void 0;return i(v)?v:d?v??d.value:(d={value:await p()},d.value)}catch(m){return await o(m,c,d)}}function hre(e,t,n,r,i){let o=ure({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),a=gxe(r.route,Is(n.method)?"action":"loader",t,e,i);return{middleware:o,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function M6(e,t,n,r,i,o,a,s=null){let l=!1,c=hre(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:a,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler(u){return l=!0,s?typeof u=="boolean"?hN(r,{...s,defaultShouldRevalidate:u}):hN(r,s):a},resolve(u){let{lazy:d,loader:p,middleware:m}=r.route,v=l||a||u&&!Is(n.method)&&(d||p),x=m&&m.length>0&&!p&&!d;return v&&!x?xxe({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:u,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function jv(e,t,n,r,i,o,a,s=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler:()=>!1,_lazyPromises:hre(e,t,n,l,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:M6(e,t,n,l,o,a,!0,s))}async function vxe(e,t,n,r,i,o){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let a={request:t,params:n[0].params,context:i,matches:n},l=await e({...a,fetcherKey:r,runClientMiddleware:c=>{let u=a;return dre(u,()=>c({...u,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return l}async function xxe({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let a,s,l=Is(e.method),c=l?"action":"loader",u=d=>{let p,m=new Promise((w,T)=>p=T);s=()=>p(),e.signal.addEventListener("abort",s);let v=w=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):d({request:e,params:t.params,context:o},...w!==void 0?[w]:[]),x=(async()=>{try{return{type:"data",result:await(i?i(T=>v(T)):v())}}catch(w){return{type:"error",result:w}}})();return Promise.race([x,m])};try{let d=l?t.route.action:t.route.loader;if(n||r)if(d){let p,[m]=await Promise.all([u(d).catch(v=>{p=v}),n,r]);if(p!==void 0)throw p;a=m}else{await n;let p=l?t.route.action:t.route.loader;if(p)[a]=await Promise.all([u(p),r]);else if(c==="action"){let m=new URL(e.url),v=m.pathname+m.search;throw ec(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(d)a=await u(d);else{let p=new URL(e.url),m=p.pathname+p.search;throw ec(404,{pathname:m})}}catch(d){return{type:"error",result:d}}finally{s&&e.signal.removeEventListener("abort",s)}return a}async function wxe(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Sxe(e){let{result:t,type:n}=e;if(mre(t)){let r;try{r=await wxe(t)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new fN(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?Mz(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new fN(t.init?.status||500,void 0,t.data),statusCode:YE(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:YE(t)?t.status:void 0}:Mz(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Exe(e,t,n,r,i){let o=e.headers.get("Location");if($n(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!cH(o)){let a=r.slice(0,r.findIndex(s=>s.route.id===n)+1);o=N6(new URL(t.url),a,i,o),e.headers.set("Location",o)}return e}function kz(e,t,n){if(cH(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=vc(i.pathname,n)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function bv(e,t,n,r){let i=e.createURL(pre(t)).toString(),o={signal:n};if(r&&Is(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=D6(r.formData):o.body=r.formData}return new Request(i,o)}function D6(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function _z(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Cxe(e,t,n,r=!1,i=!1){let o={},a=null,s,l=!1,c={},u=n&&vl(n[1])?n[1].error:void 0;return e.forEach(d=>{if(!(d.route.id in t))return;let p=d.route.id,m=t[p];if($n(!o0(m),"Cannot handle redirect results in processLoaderData"),vl(m)){let v=m.error;if(u!==void 0&&(v=u,u=void 0),a=a||{},i)a[p]=v;else{let x=Mp(e,p);a[x.route.id]==null&&(a[x.route.id]=v)}r||(o[p]=lre),l||(l=!0,s=YE(m.error)?m.error.status:500),m.headers&&(c[p]=m.headers)}else o[p]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(s=m.statusCode),m.headers&&(c[p]=m.headers)}),u!==void 0&&n&&(a={[n[0]]:u},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:c}}function Az(e,t,n,r,i,o){let{loaderData:a,errors:s}=Cxe(t,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:u,controller:d}=l;if(d&&d.signal.aborted)return;let p=o[c];if($n(p,"Did not find corresponding fetcher result"),vl(p)){let m=Mp(e.matches,u?.route.id);s&&s[m.route.id]||(s={...s,[m.route.id]:p.error}),e.fetchers.delete(c)}else if(o0(p))$n(!1,"Unhandled fetcher revalidation redirect");else{let m=_f(p.data);e.fetchers.set(c,m)}}),{loaderData:a,errors:s}}function Nz(e,t,n,r){let i=Object.entries(t).filter(([,o])=>o!==lre).reduce((o,[a,s])=>(o[a]=s,o),{});for(let o of n){let a=o.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&o.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function Oz(e){return e?vl(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Mp(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function N_(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ec(e,{pathname:t,routeId:n,method:r,type:i,message:o}={}){let a="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(a="Bad Request",r&&t&&n?s=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(s="Unable to encode submission body")):e===403?(a="Forbidden",s=`Route "${n}" does not match URL "${t}"`):e===404?(a="Not Found",s=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",r&&t&&n?s=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(s=`Invalid request method "${r.toUpperCase()}"`)),new fN(e||500,a,new Error(s),!0)}function O_(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(o0(i))return{key:r,result:i}}}function pre(e){let t=typeof e=="string"?vm(e):e;return em({...t,hash:""})}function Txe(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function kxe(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&_xe(n))}function _xe(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function Axe(e){return mre(e.result)&&sxe.has(e.result.status)}function vl(e){return e.type==="error"}function o0(e){return(e&&e.type)==="redirect"}function Mz(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function mre(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Nxe(e){return axe.has(e.toUpperCase())}function Is(e){return ixe.has(e.toUpperCase())}function dH(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function BA(e,t){let n=typeof t=="string"?vm(t).search:t.search;if(e[e.length-1].route.index&&dH(n||""))return e[e.length-1];let r=ore(e);return r[r.length-1]}function Dz(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function xI(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Oxe(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function wS(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Mxe(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function _f(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Dxe(e,t){try{let n=e.sessionStorage.getItem(sre);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function Rxe(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(sre,JSON.stringify(n))}catch(r){ji(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Ixe(){let e,t,n=new Promise((r,i)=>{e=async o=>{r(o);try{await n}catch{}},t=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var ry=C.createContext(null);ry.displayName="DataRouter";var gT=C.createContext(null);gT.displayName="DataRouterState";C.createContext(!1);var fH=C.createContext({isTransitioning:!1});fH.displayName="ViewTransition";var gre=C.createContext(new Map);gre.displayName="Fetchers";var Pxe=C.createContext(null);Pxe.displayName="Await";var Su=C.createContext(null);Su.displayName="Navigation";var XM=C.createContext(null);XM.displayName="Location";var Eu=C.createContext({outlet:null,matches:[],isDataRoute:!1});Eu.displayName="Route";var hH=C.createContext(null);hH.displayName="RouteError";function Lxe(e,{relative:t}={}){$n(q1(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(Su),{hash:i,pathname:o,search:a}=yT(e,{relative:t}),s=o;return n!=="/"&&(s=o==="/"?n:wd([n,o])),r.createHref({pathname:s,search:a,hash:i})}function q1(){return C.useContext(XM)!=null}function Cu(){return $n(q1(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(XM).location}var yre="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bre(e){C.useContext(Su).static||C.useLayoutEffect(e)}function iy(){let{isDataRoute:e}=C.useContext(Eu);return e?Kxe():jxe()}function jxe(){$n(q1(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(ry),{basename:t,navigator:n}=C.useContext(Su),{matches:r}=C.useContext(Eu),{pathname:i}=Cu(),o=JSON.stringify(GM(r)),a=C.useRef(!1);return bre(()=>{a.current=!0}),C.useCallback((l,c={})=>{if(ji(a.current,yre),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=KM(l,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:wd([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,o,i,e])}C.createContext(null);function Pd(){let{matches:e}=C.useContext(Eu),t=e[e.length-1];return t?t.params:{}}function yT(e,{relative:t}={}){let{matches:n}=C.useContext(Eu),{pathname:r}=Cu(),i=JSON.stringify(GM(n));return C.useMemo(()=>KM(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Bxe(e,t,n,r,i){$n(q1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=C.useContext(Su),{matches:a}=C.useContext(Eu),s=a[a.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let k=d&&d.path||"";vre(c,!d||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=Cu(),m;m=p;let v=m.pathname||"/",x=v;if(u!=="/"){let k=u.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=Op(e,{pathname:x});return ji(d||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),ji(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),zxe(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:wd([u,o.encodeLocation?o.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:wd([u,o.encodeLocation?o.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),a,n,r,i)}function $xe(){let e=Gxe(),t=YE(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,a)}var Hxe=C.createElement($xe,null),Fxe=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(Eu.Provider,{value:this.props.routeContext},C.createElement(hH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Uxe({routeContext:e,match:t,children:n}){let r=C.useContext(ry);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Eu.Provider,{value:e},n)}function zxe(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=n?.errors;if(a!=null){let c=o.findIndex(u=>u.route.id&&a?.[u.route.id]!==void 0);$n(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<o.length;c++){let u=o[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:p}=n,m=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||m){s=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,u,d)=>{let p,m=!1,v=null,x=null;n&&(p=a&&u.route.id?a[u.route.id]:void 0,v=u.route.errorElement||Hxe,s&&(l<0&&d===0?(vre("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):l===d&&(m=!0,x=u.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,d+1)),T=()=>{let k;return p?k=v:m?k=x:u.route.Component?k=C.createElement(u.route.Component,null):u.route.element?k=u.route.element:k=c,C.createElement(Uxe,{match:u,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:k})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?C.createElement(Fxe,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):T()},null)}function pH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vxe(e){let t=C.useContext(ry);return $n(t,pH(e)),t}function qxe(e){let t=C.useContext(gT);return $n(t,pH(e)),t}function Wxe(e){let t=C.useContext(Eu);return $n(t,pH(e)),t}function mH(e){let t=Wxe(e),n=t.matches[t.matches.length-1];return $n(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Yxe(){return mH("useRouteId")}function Gxe(){let e=C.useContext(hH),t=qxe("useRouteError"),n=mH("useRouteError");return e!==void 0?e:t.errors?.[n]}function Kxe(){let{router:e}=Vxe("useNavigate"),t=mH("useNavigate"),n=C.useRef(!1);return bre(()=>{n.current=!0}),C.useCallback(async(i,o={})=>{ji(n.current,yre),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Rz={};function vre(e,t,n){!t&&!Rz[e]&&(Rz[e]=!0,ji(!1,n))}var Iz={};function Pz(e,t){!e&&!Iz[t]&&(Iz[t]=!0,console.warn(t))}function Xxe(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&ji(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:C.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&ji(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:C.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&ji(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:C.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Zxe=["HydrateFallback","hydrateFallbackElement"],Qxe=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function Jxe({router:e,flushSync:t,unstable_onError:n}){let[r,i]=C.useState(e.state),[o,a]=C.useState(),[s,l]=C.useState({isTransitioning:!1}),[c,u]=C.useState(),[d,p]=C.useState(),[m,v]=C.useState(),x=C.useRef(new Map),w=C.useCallback(O=>{i(A=>(O.errors&&n&&Object.entries(O.errors).forEach(([R,L])=>{A.errors?.[R]!==L&&n(L)}),O))},[n]),T=C.useCallback((O,{deletedFetchers:A,flushSync:R,viewTransitionOpts:L})=>{O.fetchers.forEach(($,q)=>{$.data!==void 0&&x.current.set(q,$.data)}),A.forEach($=>x.current.delete($)),Pz(R===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let B=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Pz(L==null||B,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!B){t&&R?t(()=>w(O)):C.startTransition(()=>w(O));return}if(t&&R){t(()=>{d&&(c&&c.resolve(),d.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let $=e.window.document.startViewTransition(()=>{t(()=>w(O))});$.finished.finally(()=>{t(()=>{u(void 0),p(void 0),a(void 0),l({isTransitioning:!1})})}),t(()=>p($));return}d?(c&&c.resolve(),d.skipTransition(),v({state:O,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(O),l({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[e.window,t,d,c,w]);C.useLayoutEffect(()=>e.subscribe(T),[e,T]),C.useEffect(()=>{s.isTransitioning&&!s.flushSync&&u(new Qxe)},[s]),C.useEffect(()=>{if(c&&o&&e.window){let O=o,A=c.promise,R=e.window.document.startViewTransition(async()=>{C.startTransition(()=>w(O)),await A});R.finished.finally(()=>{u(void 0),p(void 0),a(void 0),l({isTransitioning:!1})}),p(R)}},[o,c,e.window,w]),C.useEffect(()=>{c&&o&&r.location.key===o.location.key&&c.resolve()},[c,d,r.location,o]),C.useEffect(()=>{!s.isTransitioning&&m&&(a(m.state),l({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[s.isTransitioning,m]);let k=C.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:O=>e.navigate(O),push:(O,A,R)=>e.navigate(O,{state:A,preventScrollReset:R?.preventScrollReset}),replace:(O,A,R)=>e.navigate(O,{replace:!0,state:A,preventScrollReset:R?.preventScrollReset})}),[e]),N=e.basename||"/",I=C.useMemo(()=>({router:e,navigator:k,static:!1,basename:N,unstable_onError:n}),[e,k,N,n]);return C.createElement(C.Fragment,null,C.createElement(ry.Provider,{value:I},C.createElement(gT.Provider,{value:r},C.createElement(gre.Provider,{value:x.current},C.createElement(fH.Provider,{value:s},C.createElement(nwe,{basename:N,location:r.location,navigationType:r.historyAction,navigator:k},C.createElement(ewe,{routes:e.routes,future:e.future,state:r,unstable_onError:n})))))),null)}var ewe=C.memo(twe);function twe({routes:e,future:t,state:n,unstable_onError:r}){return Bxe(e,void 0,n,r,t)}function Lz({to:e,replace:t,state:n,relative:r}){$n(q1(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(Su);ji(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=C.useContext(Eu),{pathname:a}=Cu(),s=iy(),l=KM(e,GM(o),a,r==="path"),c=JSON.stringify(l);return C.useEffect(()=>{s(JSON.parse(c),{replace:t,state:n,relative:r})},[s,c,r,t,n]),null}function nwe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){$n(!q1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),s=C.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=vm(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:p="default"}=n,m=C.useMemo(()=>{let v=vc(l,a);return v==null?null:{location:{pathname:v,search:c,hash:u,state:d,key:p},navigationType:r}},[a,l,c,u,d,p,r]);return ji(m!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:C.createElement(Su.Provider,{value:s},C.createElement(XM.Provider,{children:t,value:m}))}var $A="get",HA="application/x-www-form-urlencoded";function ZM(e){return e!=null&&typeof e.tagName=="string"}function rwe(e){return ZM(e)&&e.tagName.toLowerCase()==="button"}function iwe(e){return ZM(e)&&e.tagName.toLowerCase()==="form"}function owe(e){return ZM(e)&&e.tagName.toLowerCase()==="input"}function awe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function swe(e,t){return e.button===0&&(!t||t==="_self")&&!awe(e)}function R6(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function lwe(e,t){let n=R6(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var M_=null;function cwe(){if(M_===null)try{new FormData(document.createElement("form"),0),M_=!1}catch{M_=!0}return M_}var uwe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wI(e){return e!=null&&!uwe.has(e)?(ji(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${HA}"`),null):e}function dwe(e,t){let n,r,i,o,a;if(iwe(e)){let s=e.getAttribute("action");r=s?vc(s,t):null,n=e.getAttribute("method")||$A,i=wI(e.getAttribute("enctype"))||HA,o=new FormData(e)}else if(rwe(e)||owe(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(r=l?vc(l,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||$A,i=wI(e.getAttribute("formenctype"))||wI(s.getAttribute("enctype"))||HA,o=new FormData(s,e),!cwe()){let{name:c,type:u,value:d}=e;if(u==="image"){let p=c?`${c}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else c&&o.append(c,d)}}else{if(ZM(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$A,r=null,i=HA,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gH(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fwe(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&vc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function hwe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pwe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function mwe(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await hwe(o,n);return a.links?a.links():[]}return[]}));return vwe(r.flat(1).filter(pwe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jz(e,t,n,r,i,o){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,s=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return o==="assets"?t.filter((l,c)=>a(l,c)||s(l,c)):o==="data"?t.filter((l,c)=>{let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||s(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function gwe(e,t,{includeHydrateFallback:n}={}){return ywe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function ywe(e){return[...new Set(e)]}function bwe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function vwe(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(bwe(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function xre(){let e=C.useContext(ry);return gH(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function xwe(){let e=C.useContext(gT);return gH(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yH=C.createContext(void 0);yH.displayName="FrameworkContext";function wre(){let e=C.useContext(yH);return gH(e,"You must render this element inside a <HydratedRouter> element"),e}function wwe(e,t){let n=C.useContext(yH),[r,i]=C.useState(!1),[o,a]=C.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,p=C.useRef(null);C.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=T=>{T.forEach(k=>{a(k.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),C.useEffect(()=>{if(r){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:SS(s,m),onBlur:SS(l,v),onMouseEnter:SS(c,m),onMouseLeave:SS(u,v),onTouchStart:SS(d,m)}]:[!1,p,{}]}function SS(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Swe({page:e,...t}){let{router:n}=xre(),r=C.useMemo(()=>Op(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?C.createElement(Cwe,{page:e,matches:r,...t}):null}function Ewe(e){let{manifest:t,routeModules:n}=wre(),[r,i]=C.useState([]);return C.useEffect(()=>{let o=!1;return mwe(e,t,n).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,n]),r}function Cwe({page:e,matches:t,...n}){let r=Cu(),{manifest:i,routeModules:o}=wre(),{basename:a}=xre(),{loaderData:s,matches:l}=xwe(),c=C.useMemo(()=>jz(e,t,l,i,r,"data"),[e,t,l,i,r]),u=C.useMemo(()=>jz(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=C.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,x=!1;if(t.forEach(T=>{let k=i.routes[T.route.id];!k||!k.hasLoader||(!c.some(N=>N.route.id===T.route.id)&&T.route.id in s&&o[T.route.id]?.shouldRevalidate||k.hasClientLoader?x=!0:v.add(T.route.id))}),v.size===0)return[];let w=fwe(e,a,"data");return x&&v.size>0&&w.searchParams.set("_routes",t.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[a,s,r,i,c,t,e,o]),p=C.useMemo(()=>gwe(u,i),[u,i]),m=Ewe(u);return C.createElement(C.Fragment,null,d.map(v=>C.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>C.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:x})=>C.createElement("link",{key:v,nonce:n.nonce,...x})))}function Twe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Sre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sre&&(window.__reactRouterVersion="7.9.4")}catch{}function kwe(e,t){return fxe({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:M1e({window:t?.window}),hydrationData:_we(),routes:e,mapRouteProperties:Xxe,hydrationRouteProperties:Zxe,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function _we(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Awe(e.errors)}),e}function Awe(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new fN(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var Ere=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sd=C.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d,...p},m){let{basename:v}=C.useContext(Su),x=typeof c=="string"&&Ere.test(c),w,T=!1;if(typeof c=="string"&&x&&(w=c,Sre))try{let B=new URL(window.location.href),$=c.startsWith("//")?new URL(B.protocol+c):new URL(c),q=vc($.pathname,v);$.origin===B.origin&&q!=null?c=q+$.search+$.hash:T=!0}catch{ji(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Lxe(c,{relative:i}),[N,I,O]=wwe(r,p),A=Dwe(c,{replace:a,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:d});function R(B){t&&t(B),B.defaultPrevented||A(B)}let L=C.createElement("a",{...p,...O,href:w||k,onClick:T||o?t:R,ref:Twe(m,I),target:l,"data-discover":!x&&n==="render"?"true":void 0});return N&&!x?C.createElement(C.Fragment,null,L,C.createElement(Swe,{page:k})):L});Sd.displayName="Link";var Nwe=C.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...c},u){let d=yT(a,{relative:c.relative}),p=Cu(),m=C.useContext(gT),{navigator:v,basename:x}=C.useContext(Su),w=m!=null&&Bwe(d)&&s===!0,T=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,k=p.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(k=k.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&x&&(N=vc(N,x)||N);const I=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let O=k===T||!i&&k.startsWith(T)&&k.charAt(I)==="/",A=N!=null&&(N===T||!i&&N.startsWith(T)&&N.charAt(T.length)==="/"),R={isActive:O,isPending:A,isTransitioning:w},L=O?t:void 0,B;typeof r=="function"?B=r(R):B=[r,O?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(R):o;return C.createElement(Sd,{...c,"aria-current":L,className:B,ref:u,style:$,to:a,viewTransition:s},typeof l=="function"?l(R):l)});Nwe.displayName="NavLink";var Owe=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:a=$A,action:s,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...p},m)=>{let v=Lwe(),x=jwe(s,{relative:c}),w=a.toLowerCase()==="get"?"get":"post",T=typeof s=="string"&&Ere.test(s),k=N=>{if(l&&l(N),N.defaultPrevented)return;N.preventDefault();let I=N.nativeEvent.submitter,O=I?.getAttribute("formmethod")||a;v(I||N.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:d})};return C.createElement("form",{ref:m,method:w,action:x,onSubmit:r?l:k,...p,"data-discover":!T&&e==="render"?"true":void 0})});Owe.displayName="Form";function Mwe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cre(e){let t=C.useContext(ry);return $n(t,Mwe(e)),t}function Dwe(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let s=iy(),l=Cu(),c=yT(e,{relative:o});return C.useCallback(u=>{if(swe(u,t)){u.preventDefault();let d=n!==void 0?n:em(l)===em(c);s(e,{replace:d,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[l,s,c,n,r,t,e,i,o,a])}function Rwe(e){ji(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=C.useRef(R6(e)),n=C.useRef(!1),r=Cu(),i=C.useMemo(()=>lwe(r.search,n.current?null:t.current),[r.search]),o=iy(),a=C.useCallback((s,l)=>{const c=R6(typeof s=="function"?s(new URLSearchParams(i)):s);n.current=!0,o("?"+c,l)},[o,i]);return[i,a]}var Iwe=0,Pwe=()=>`__${String(++Iwe)}__`;function Lwe(){let{router:e}=Cre("useSubmit"),{basename:t}=C.useContext(Su),n=Yxe();return C.useCallback(async(r,i={})=>{let{action:o,method:a,encType:s,formData:l,body:c}=dwe(r,t);if(i.navigate===!1){let u=i.fetcherKey||Pwe();await e.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function jwe(e,{relative:t}={}){let{basename:n}=C.useContext(Su),r=C.useContext(Eu);$n(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...yT(e||".",{relative:t})},a=Cu();if(e==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(u=>u==="")){s.delete("index"),l.filter(d=>d).forEach(d=>s.append("index",d));let u=s.toString();o.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:wd([n,o.pathname])),em(o)}function Bwe(e,{relative:t}={}){let n=C.useContext(fH);$n(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Cre("useViewTransitionState"),i=yT(e,{relative:t});if(!n.isTransitioning)return!1;let o=vc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=vc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dN(i.pathname,a)!=null||dN(i.pathname,o)!=null}var Ta=Jne();const bH=vr(Ta);function $we(e){return C.createElement(Jxe,{flushSync:Ta.flushSync,...e})}function Hwe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Fwe=e=>{switch(e){case"success":return Vwe;case"info":return Wwe;case"warning":return qwe;case"error":return Ywe;default:return null}},Uwe=Array(12).fill(0),zwe=({visible:e,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},F.createElement("div",{className:"sonner-spinner"},Uwe.map((n,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Vwe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qwe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Wwe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ywe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Gwe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Kwe=()=>{const[e,t]=F.useState(document.hidden);return F.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let I6=1;class Xwe{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,o=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:I6++,a=this.toasts.find(l=>l.id===o),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...t,id:o,title:r}),{...l,...t,id:o,dismissible:s,title:r}):l):this.addToast({title:r,...i,dismissible:s,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let o=r!==void 0,a;const s=i.then(async c=>{if(a=["resolve",c],F.isValidElement(c))o=!1,this.create({id:r,type:"default",message:c});else if(Qwe(c)&&!c.ok){o=!1;const d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,v=typeof d=="object"&&!F.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:p,...v})}else if(c instanceof Error){o=!1;const d=typeof n.error=="function"?await n.error(c):n.error,p=typeof n.description=="function"?await n.description(c):n.description,v=typeof d=="object"&&!F.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:p,...v})}else if(n.success!==void 0){o=!1;const d=typeof n.success=="function"?await n.success(c):n.success,p=typeof n.description=="function"?await n.description(c):n.description,v=typeof d=="object"&&!F.isValidElement(d)?d:{message:d};this.create({id:r,type:"success",description:p,...v})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){o=!1;const u=typeof n.error=="function"?await n.error(c):n.error,d=typeof n.description=="function"?await n.description(c):n.description,m=typeof u=="object"&&!F.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:d,...m})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,u)=>s.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{const r=n?.id||I6++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Os=new Xwe,Zwe=(e,t)=>{const n=t?.id||I6++;return Os.addToast({title:e,...t,id:n}),n},Qwe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Jwe=Zwe,eSe=()=>Os.toasts,tSe=()=>Os.getActiveToasts();Object.assign(Jwe,{success:Os.success,info:Os.info,warning:Os.warning,error:Os.error,custom:Os.custom,message:Os.message,promise:Os.promise,dismiss:Os.dismiss,loading:Os.loading},{getHistory:eSe,getToasts:tSe});Hwe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function D_(e){return e.label!==void 0}const nSe=3,rSe="24px",iSe="16px",Bz=4e3,oSe=356,aSe=14,sSe=45,lSe=200;function sd(...e){return e.filter(Boolean).join(" ")}function cSe(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const uSe=e=>{var t,n,r,i,o,a,s,l,c;const{invert:u,toast:d,unstyled:p,interacting:m,setHeights:v,visibleToasts:x,heights:w,index:T,toasts:k,expanded:N,removeToast:I,defaultRichColors:O,closeButton:A,style:R,cancelButtonStyle:L,actionButtonStyle:B,className:$="",descriptionClassName:q="",duration:z,position:Y,gap:W,expandByDefault:Z,classNames:V,icons:ne,closeButtonAriaLabel:X="Close toast"}=e,[oe,K]=F.useState(null),[Q,te]=F.useState(null),[U,he]=F.useState(!1),[se,we]=F.useState(!1),[ve,je]=F.useState(!1),[Te,He]=F.useState(!1),[Ge,De]=F.useState(!1),[Ft,Ee]=F.useState(0),[It,sn]=F.useState(0),Yt=F.useRef(d.duration||z||Bz),xr=F.useRef(null),er=F.useRef(null),ue=T===0,xe=T+1<=x,ke=d.type,Je=d.dismissible!==!1,Ze=d.className||"",Qe=d.descriptionClassName||"",ge=F.useMemo(()=>w.findIndex(xt=>xt.toastId===d.id)||0,[w,d.id]),Be=F.useMemo(()=>{var xt;return(xt=d.closeButton)!=null?xt:A},[d.closeButton,A]),it=F.useMemo(()=>d.duration||z||Bz,[d.duration,z]),At=F.useRef(0),Wt=F.useRef(0),Zn=F.useRef(0),Tn=F.useRef(null),[or,Yn]=Y.split("-"),wr=F.useMemo(()=>w.reduce((xt,an,Gn)=>Gn>=ge?xt:xt+an.height,0),[w,ge]),un=Kwe(),xi=d.invert||u,Ct=ke==="loading";Wt.current=F.useMemo(()=>ge*W+wr,[ge,wr]),F.useEffect(()=>{Yt.current=it},[it]),F.useEffect(()=>{he(!0)},[]),F.useEffect(()=>{const xt=er.current;if(xt){const an=xt.getBoundingClientRect().height;return sn(an),v(Gn=>[{toastId:d.id,height:an,position:d.position},...Gn]),()=>v(Gn=>Gn.filter(Hn=>Hn.toastId!==d.id))}},[v,d.id]),F.useLayoutEffect(()=>{if(!U)return;const xt=er.current,an=xt.style.height;xt.style.height="auto";const Gn=xt.getBoundingClientRect().height;xt.style.height=an,sn(Gn),v(Hn=>Hn.find(le=>le.toastId===d.id)?Hn.map(le=>le.toastId===d.id?{...le,height:Gn}:le):[{toastId:d.id,height:Gn,position:d.position},...Hn])},[U,d.title,d.description,v,d.id,d.jsx,d.action,d.cancel]);const lt=F.useCallback(()=>{we(!0),Ee(Wt.current),v(xt=>xt.filter(an=>an.toastId!==d.id)),setTimeout(()=>{I(d)},lSe)},[d,I,v,Wt]);F.useEffect(()=>{if(d.promise&&ke==="loading"||d.duration===1/0||d.type==="loading")return;let xt;return N||m||un?(()=>{if(Zn.current<At.current){const Hn=new Date().getTime()-At.current;Yt.current=Yt.current-Hn}Zn.current=new Date().getTime()})():(()=>{Yt.current!==1/0&&(At.current=new Date().getTime(),xt=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),lt()},Yt.current))})(),()=>clearTimeout(xt)},[N,m,d,ke,un,lt]),F.useEffect(()=>{d.delete&&(lt(),d.onDismiss==null||d.onDismiss.call(d,d))},[lt,d.delete]);function ct(){var xt;if(ne?.loading){var an;return F.createElement("div",{className:sd(V?.loader,d==null||(an=d.classNames)==null?void 0:an.loader,"sonner-loader"),"data-visible":ke==="loading"},ne.loading)}return F.createElement(zwe,{className:sd(V?.loader,d==null||(xt=d.classNames)==null?void 0:xt.loader),visible:ke==="loading"})}const Tt=d.icon||ne?.[ke]||Fwe(ke);var jt,vt;return F.createElement("li",{tabIndex:0,ref:er,className:sd($,Ze,V?.toast,d==null||(t=d.classNames)==null?void 0:t.toast,V?.default,V?.[ke],d==null||(n=d.classNames)==null?void 0:n[ke]),"data-sonner-toast":"","data-rich-colors":(jt=d.richColors)!=null?jt:O,"data-styled":!(d.jsx||d.unstyled||p),"data-mounted":U,"data-promise":!!d.promise,"data-swiped":Ge,"data-removed":se,"data-visible":xe,"data-y-position":or,"data-x-position":Yn,"data-index":T,"data-front":ue,"data-swiping":ve,"data-dismissible":Je,"data-type":ke,"data-invert":xi,"data-swipe-out":Te,"data-swipe-direction":Q,"data-expanded":!!(N||Z&&U),"data-testid":d.testId,style:{"--index":T,"--toasts-before":T,"--z-index":k.length-T,"--offset":`${se?Ft:Wt.current}px`,"--initial-height":Z?"auto":`${It}px`,...R,...d.style},onDragEnd:()=>{je(!1),K(null),Tn.current=null},onPointerDown:xt=>{xt.button!==2&&(Ct||!Je||(xr.current=new Date,Ee(Wt.current),xt.target.setPointerCapture(xt.pointerId),xt.target.tagName!=="BUTTON"&&(je(!0),Tn.current={x:xt.clientX,y:xt.clientY})))},onPointerUp:()=>{var xt,an,Gn;if(Te||!Je)return;Tn.current=null;const Hn=Number(((xt=er.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ui=Number(((an=er.current)==null?void 0:an.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),le=new Date().getTime()-((Gn=xr.current)==null?void 0:Gn.getTime()),ye=oe==="x"?Hn:ui,Re=Math.abs(ye)/le;if(Math.abs(ye)>=sSe||Re>.11){Ee(Wt.current),d.onDismiss==null||d.onDismiss.call(d,d),te(oe==="x"?Hn>0?"right":"left":ui>0?"down":"up"),lt(),He(!0);return}else{var Xe,nt;(Xe=er.current)==null||Xe.style.setProperty("--swipe-amount-x","0px"),(nt=er.current)==null||nt.style.setProperty("--swipe-amount-y","0px")}De(!1),je(!1),K(null)},onPointerMove:xt=>{var an,Gn,Hn;if(!Tn.current||!Je||((an=window.getSelection())==null?void 0:an.toString().length)>0)return;const le=xt.clientY-Tn.current.y,ye=xt.clientX-Tn.current.x;var Re;const Xe=(Re=e.swipeDirections)!=null?Re:cSe(Y);!oe&&(Math.abs(ye)>1||Math.abs(le)>1)&&K(Math.abs(ye)>Math.abs(le)?"x":"y");let nt={x:0,y:0};const kt=bt=>1/(1.5+Math.abs(bt)/20);if(oe==="y"){if(Xe.includes("top")||Xe.includes("bottom"))if(Xe.includes("top")&&le<0||Xe.includes("bottom")&&le>0)nt.y=le;else{const bt=le*kt(le);nt.y=Math.abs(bt)<Math.abs(le)?bt:le}}else if(oe==="x"&&(Xe.includes("left")||Xe.includes("right")))if(Xe.includes("left")&&ye<0||Xe.includes("right")&&ye>0)nt.x=ye;else{const bt=ye*kt(ye);nt.x=Math.abs(bt)<Math.abs(ye)?bt:ye}(Math.abs(nt.x)>0||Math.abs(nt.y)>0)&&De(!0),(Gn=er.current)==null||Gn.style.setProperty("--swipe-amount-x",`${nt.x}px`),(Hn=er.current)==null||Hn.style.setProperty("--swipe-amount-y",`${nt.y}px`)}},Be&&!d.jsx&&ke!=="loading"?F.createElement("button",{"aria-label":X,"data-disabled":Ct,"data-close-button":!0,onClick:Ct||!Je?()=>{}:()=>{lt(),d.onDismiss==null||d.onDismiss.call(d,d)},className:sd(V?.closeButton,d==null||(r=d.classNames)==null?void 0:r.closeButton)},(vt=ne?.close)!=null?vt:Gwe):null,(ke||d.icon||d.promise)&&d.icon!==null&&(ne?.[ke]!==null||d.icon)?F.createElement("div",{"data-icon":"",className:sd(V?.icon,d==null||(i=d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||ct():null,d.type!=="loading"?Tt:null):null,F.createElement("div",{"data-content":"",className:sd(V?.content,d==null||(o=d.classNames)==null?void 0:o.content)},F.createElement("div",{"data-title":"",className:sd(V?.title,d==null||(a=d.classNames)==null?void 0:a.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?F.createElement("div",{"data-description":"",className:sd(q,Qe,V?.description,d==null||(s=d.classNames)==null?void 0:s.description)},typeof d.description=="function"?d.description():d.description):null),F.isValidElement(d.cancel)?d.cancel:d.cancel&&D_(d.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||L,onClick:xt=>{D_(d.cancel)&&Je&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,xt),lt())},className:sd(V?.cancelButton,d==null||(l=d.classNames)==null?void 0:l.cancelButton)},d.cancel.label):null,F.isValidElement(d.action)?d.action:d.action&&D_(d.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||B,onClick:xt=>{D_(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,xt),!xt.defaultPrevented&&lt())},className:sd(V?.actionButton,d==null||(c=d.classNames)==null?void 0:c.actionButton)},d.action.label):null)};function $z(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function dSe(e,t){const n={};return[e,t].forEach((r,i)=>{const o=i===1,a=o?"--mobile-offset":"--offset",s=o?iSe:rSe;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=s:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(s)}),n}const fSe=F.forwardRef(function(t,n){const{id:r,invert:i,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:l,className:c,offset:u,mobileOffset:d,theme:p="light",richColors:m,duration:v,style:x,visibleToasts:w=nSe,toastOptions:T,dir:k=$z(),gap:N=aSe,icons:I,containerAriaLabel:O="Notifications"}=t,[A,R]=F.useState([]),L=F.useMemo(()=>r?A.filter(U=>U.toasterId===r):A.filter(U=>!U.toasterId),[A,r]),B=F.useMemo(()=>Array.from(new Set([o].concat(L.filter(U=>U.position).map(U=>U.position)))),[L,o]),[$,q]=F.useState([]),[z,Y]=F.useState(!1),[W,Z]=F.useState(!1),[V,ne]=F.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=F.useRef(null),oe=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=F.useRef(null),Q=F.useRef(!1),te=F.useCallback(U=>{R(he=>{var se;return(se=he.find(we=>we.id===U.id))!=null&&se.delete||Os.dismiss(U.id),he.filter(({id:we})=>we!==U.id)})},[]);return F.useEffect(()=>Os.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{R(he=>he.map(se=>se.id===U.id?{...se,delete:!0}:se))});return}setTimeout(()=>{bH.flushSync(()=>{R(he=>{const se=he.findIndex(we=>we.id===U.id);return se!==-1?[...he.slice(0,se),{...he[se],...U},...he.slice(se+1)]:[U,...he]})})})}),[A]),F.useEffect(()=>{if(p!=="system"){ne(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:he})=>{ne(he?"dark":"light")})}catch{U.addListener(({matches:se})=>{try{ne(se?"dark":"light")}catch(we){console.error(we)}})}},[p]),F.useEffect(()=>{A.length<=1&&Y(!1)},[A]),F.useEffect(()=>{const U=he=>{var se;if(a.every(je=>he[je]||he.code===je)){var ve;Y(!0),(ve=X.current)==null||ve.focus()}he.code==="Escape"&&(document.activeElement===X.current||(se=X.current)!=null&&se.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[a]),F.useEffect(()=>{if(X.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,Q.current=!1)}},[X.current]),F.createElement("section",{ref:n,"aria-label":`${O} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((U,he)=>{var se;const[we,ve]=U.split("-");return L.length?F.createElement("ol",{key:U,dir:k==="auto"?$z():k,tabIndex:-1,ref:X,className:c,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":we,"data-x-position":ve,style:{"--front-toast-height":`${((se=$[0])==null?void 0:se.height)||0}px`,"--width":`${oSe}px`,"--gap":`${N}px`,...x,...dSe(u,d)},onBlur:je=>{Q.current&&!je.currentTarget.contains(je.relatedTarget)&&(Q.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,K.current=je.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{W||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},L.filter(je=>!je.position&&he===0||je.position===U).map((je,Te)=>{var He,Ge;return F.createElement(uSe,{key:je.id,icons:I,index:Te,toast:je,defaultRichColors:m,duration:(He=T?.duration)!=null?He:v,className:T?.className,descriptionClassName:T?.descriptionClassName,invert:i,visibleToasts:w,closeButton:(Ge=T?.closeButton)!=null?Ge:l,interacting:W,position:U,style:T?.style,unstyled:T?.unstyled,classNames:T?.classNames,cancelButtonStyle:T?.cancelButtonStyle,actionButtonStyle:T?.actionButtonStyle,closeButtonAriaLabel:T?.closeButtonAriaLabel,removeToast:te,toasts:L.filter(De=>De.position==je.position),heights:$.filter(De=>De.position==je.position),setHeights:q,expandByDefault:s,gap:N,expanded:z,swipeDirections:t.swipeDirections})})):null}))});function dt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function Hz(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rs(...e){return t=>{let n=!1;const r=e.map(i=>{const o=Hz(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Hz(e[i],null)}}}}function An(...e){return C.useCallback(rs(...e),e)}function hSe(e,t){const n=C.createContext(t),r=o=>{const{children:a,...s}=o,l=C.useMemo(()=>s,Object.values(s));return g.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function i(o){const a=C.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Us(e,t=[]){let n=[];function r(o,a){const s=C.createContext(a),l=n.length;n=[...n,a];const c=d=>{const{scope:p,children:m,...v}=d,x=p?.[e]?.[l]||s,w=C.useMemo(()=>v,Object.values(v));return g.jsx(x.Provider,{value:w,children:m})};c.displayName=o+"Provider";function u(d,p){const m=p?.[e]?.[l]||s,v=C.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(a=>C.createContext(a));return function(s){const l=s?.[e]||o;return C.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,pSe(i,...t)]}function pSe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...s,...d}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Xi=globalThis?.document?C.useLayoutEffect:()=>{},mSe=mT[" useId ".trim().toString()]||(()=>{}),gSe=0;function Gi(e){const[t,n]=C.useState(mSe());return Xi(()=>{n(r=>r??String(gSe++))},[e]),t?`radix-${t}`:""}var ySe=mT[" useInsertionEffect ".trim().toString()]||Xi;function yu({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,a]=bSe({defaultProp:t,onChange:n}),s=e!==void 0,l=s?e:i;{const u=C.useRef(e!==void 0);C.useEffect(()=>{const d=u.current;d!==s&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,r])}const c=C.useCallback(u=>{if(s){const d=vSe(u)?u(e):u;d!==e&&a.current?.(d)}else o(u)},[s,e,o,a]);return[l,c]}function bSe({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),i=C.useRef(n),o=C.useRef(t);return ySe(()=>{o.current=t},[t]),C.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}function vSe(e){return typeof e=="function"}function xSe(e){const t=wSe(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(ESe);if(l){const c=l.props.children,u=s.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,u):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function wSe(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=TSe(i),s=CSe(o,i.props);return i.type!==C.Fragment&&(s.ref=r?rs(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SSe=Symbol("radix.slottable");function ESe(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SSe}function CSe(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function TSe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dt=kSe.reduce((e,t)=>{const n=xSe(`Primitive.${t}`),r=C.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Tre(e,t){e&&Ta.flushSync(()=>e.dispatchEvent(t))}function Co(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>t.current?.(...n),[])}function _Se(e,t=globalThis?.document){const n=Co(e);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var ASe="DismissableLayer",P6="dismissableLayer.update",NSe="dismissableLayer.pointerDownOutside",OSe="dismissableLayer.focusOutside",Fz,kre=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),W1=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=e,c=C.useContext(kre),[u,d]=C.useState(null),p=u?.ownerDocument??globalThis?.document,[,m]=C.useState({}),v=An(t,R=>d(R)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),T=x.indexOf(w),k=u?x.indexOf(u):-1,N=c.layersWithOutsidePointerEventsDisabled.size>0,I=k>=T,O=RSe(R=>{const L=R.target,B=[...c.branches].some($=>$.contains(L));!I||B||(i?.(R),a?.(R),R.defaultPrevented||s?.())},p),A=ISe(R=>{const L=R.target;[...c.branches].some($=>$.contains(L))||(o?.(R),a?.(R),R.defaultPrevented||s?.())},p);return _Se(R=>{k===c.layers.size-1&&(r?.(R),!R.defaultPrevented&&s&&(R.preventDefault(),s()))},p),C.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Fz=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Uz(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Fz)}},[u,p,n,c]),C.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Uz())},[u,c]),C.useEffect(()=>{const R=()=>m({});return document.addEventListener(P6,R),()=>document.removeEventListener(P6,R)},[]),g.jsx(Dt.div,{...l,ref:v,style:{pointerEvents:N?I?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,A.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,O.onPointerDownCapture)})});W1.displayName=ASe;var MSe="DismissableLayerBranch",DSe=C.forwardRef((e,t)=>{const n=C.useContext(kre),r=C.useRef(null),i=An(t,r);return C.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),g.jsx(Dt.div,{...e,ref:i})});DSe.displayName=MSe;function RSe(e,t=globalThis?.document){const n=Co(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){_re(NSe,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ISe(e,t=globalThis?.document){const n=Co(e),r=C.useRef(!1);return C.useEffect(()=>{const i=o=>{o.target&&!r.current&&_re(OSe,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Uz(){const e=new CustomEvent(P6);document.dispatchEvent(e)}function _re(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Tre(i,o):i.dispatchEvent(o)}var SI="focusScope.autoFocusOnMount",EI="focusScope.autoFocusOnUnmount",zz={bubbles:!1,cancelable:!0},PSe="FocusScope",bT=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[s,l]=C.useState(null),c=Co(i),u=Co(o),d=C.useRef(null),p=An(t,x=>l(x)),m=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let x=function(N){if(m.paused||!s)return;const I=N.target;s.contains(I)?d.current=I:wp(d.current,{select:!0})},w=function(N){if(m.paused||!s)return;const I=N.relatedTarget;I!==null&&(s.contains(I)||wp(d.current,{select:!0}))},T=function(N){if(document.activeElement===document.body)for(const O of N)O.removedNodes.length>0&&wp(s)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const k=new MutationObserver(T);return s&&k.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),k.disconnect()}}},[r,s,m.paused]),C.useEffect(()=>{if(s){qz.add(m);const x=document.activeElement;if(!s.contains(x)){const T=new CustomEvent(SI,zz);s.addEventListener(SI,c),s.dispatchEvent(T),T.defaultPrevented||(LSe(FSe(Are(s)),{select:!0}),document.activeElement===x&&wp(s))}return()=>{s.removeEventListener(SI,c),setTimeout(()=>{const T=new CustomEvent(EI,zz);s.addEventListener(EI,u),s.dispatchEvent(T),T.defaultPrevented||wp(x??document.body,{select:!0}),s.removeEventListener(EI,u),qz.remove(m)},0)}}},[s,c,u,m]);const v=C.useCallback(x=>{if(!n&&!r||m.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,T=document.activeElement;if(w&&T){const k=x.currentTarget,[N,I]=jSe(k);N&&I?!x.shiftKey&&T===I?(x.preventDefault(),n&&wp(N,{select:!0})):x.shiftKey&&T===N&&(x.preventDefault(),n&&wp(I,{select:!0})):T===k&&x.preventDefault()}},[n,r,m.paused]);return g.jsx(Dt.div,{tabIndex:-1,...a,ref:p,onKeyDown:v})});bT.displayName=PSe;function LSe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(wp(r,{select:t}),document.activeElement!==n)return}function jSe(e){const t=Are(e),n=Vz(t,e),r=Vz(t.reverse(),e);return[n,r]}function Are(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vz(e,t){for(const n of e)if(!BSe(n,{upTo:t}))return n}function BSe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $Se(e){return e instanceof HTMLInputElement&&"select"in e}function wp(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&$Se(e)&&t&&e.select()}}var qz=HSe();function HSe(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Wz(e,t),e.unshift(t)},remove(t){e=Wz(e,t),e[0]?.resume()}}}function Wz(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function FSe(e){return e.filter(t=>t.tagName!=="A")}var USe="Portal",Y1=C.forwardRef((e,t)=>{const{container:n,...r}=e,[i,o]=C.useState(!1);Xi(()=>o(!0),[]);const a=n||i&&globalThis?.document?.body;return a?bH.createPortal(g.jsx(Dt.div,{...r,ref:t}),a):null});Y1.displayName=USe;function zSe(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var Fo=e=>{const{present:t,children:n}=e,r=VSe(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),o=An(r.ref,qSe(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:o}):null};Fo.displayName="Presence";function VSe(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),o=C.useRef("none"),a=e?"mounted":"unmounted",[s,l]=zSe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=R_(r.current);o.current=s==="mounted"?c:"none"},[s]),Xi(()=>{const c=r.current,u=i.current;if(u!==e){const p=o.current,m=R_(c);e?l("MOUNT"):m==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Xi(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=m=>{const x=R_(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&x&&(l("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=m=>{m.target===t&&(o.current=R_(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:C.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function R_(e){return e?.animationName||"none"}function qSe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var CI=0;function QM(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Yz()),document.body.insertAdjacentElement("beforeend",e[1]??Yz()),CI++,()=>{CI===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),CI--}},[])}function Yz(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gd=function(){return gd=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},gd.apply(this,arguments)};function Nre(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function WSe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var FA="right-scroll-bar-position",UA="width-before-scroll-bar",YSe="with-scroll-bars-hidden",GSe="--removed-body-scroll-bar-size";function TI(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function KSe(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var XSe=typeof window<"u"?C.useLayoutEffect:C.useEffect,Gz=new WeakMap;function ZSe(e,t){var n=KSe(null,function(r){return e.forEach(function(i){return TI(i,r)})});return XSe(function(){var r=Gz.get(n);if(r){var i=new Set(r),o=new Set(e),a=n.current;i.forEach(function(s){o.has(s)||TI(s,null)}),o.forEach(function(s){i.has(s)||TI(s,a)})}Gz.set(n,e)},[e]),n}function QSe(e){return e}function JSe(e,t){t===void 0&&(t=QSe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function eEe(e){e===void 0&&(e={});var t=JSe(null);return t.options=gd({async:!0,ssr:!1},e),t}var Ore=function(e){var t=e.sideCar,n=Nre(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,gd({},n))};Ore.isSideCarExport=!0;function tEe(e,t){return e.useMedium(t),Ore}var Mre=eEe(),kI=function(){},JM=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:kI,onWheelCapture:kI,onTouchMoveCapture:kI}),i=r[0],o=r[1],a=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,p=e.sideCar,m=e.noRelative,v=e.noIsolation,x=e.inert,w=e.allowPinchZoom,T=e.as,k=T===void 0?"div":T,N=e.gapMode,I=Nre(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,A=ZSe([n,t]),R=gd(gd({},I),i);return C.createElement(C.Fragment,null,u&&C.createElement(O,{sideCar:Mre,removeScrollBar:c,shards:d,noRelative:m,noIsolation:v,inert:x,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:N}),a?C.cloneElement(C.Children.only(s),gd(gd({},R),{ref:A})):C.createElement(k,gd({},R,{className:l,ref:A}),s))});JM.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};JM.classNames={fullWidth:UA,zeroRight:FA};var nEe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rEe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nEe();return t&&e.setAttribute("nonce",t),e}function iEe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function oEe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var aEe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=rEe())&&(iEe(t,n),oEe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sEe=function(){var e=aEe();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Dre=function(){var e=sEe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},lEe={left:0,top:0,right:0,gap:0},_I=function(e){return parseInt(e||"",10)||0},cEe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[_I(n),_I(r),_I(i)]},uEe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lEe;var t=cEe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},dEe=Dre(),Bv="data-scroll-locked",fEe=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(YSe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Bv,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(FA,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(UA,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(FA," .").concat(FA,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(UA," .").concat(UA,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Bv,`] {
    `).concat(GSe,": ").concat(s,`px;
  }
`)},Kz=function(){var e=parseInt(document.body.getAttribute(Bv)||"0",10);return isFinite(e)?e:0},hEe=function(){C.useEffect(function(){return document.body.setAttribute(Bv,(Kz()+1).toString()),function(){var e=Kz()-1;e<=0?document.body.removeAttribute(Bv):document.body.setAttribute(Bv,e.toString())}},[])},pEe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;hEe();var o=C.useMemo(function(){return uEe(i)},[i]);return C.createElement(dEe,{styles:fEe(o,!t,i,n?"":"!important")})},L6=!1;if(typeof window<"u")try{var I_=Object.defineProperty({},"passive",{get:function(){return L6=!0,!0}});window.addEventListener("test",I_,I_),window.removeEventListener("test",I_,I_)}catch{L6=!1}var nv=L6?{passive:!1}:!1,mEe=function(e){return e.tagName==="TEXTAREA"},Rre=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!mEe(e)&&n[t]==="visible")},gEe=function(e){return Rre(e,"overflowY")},yEe=function(e){return Rre(e,"overflowX")},Xz=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Ire(e,r);if(i){var o=Pre(e,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},bEe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},vEe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ire=function(e,t){return e==="v"?gEe(t):yEe(t)},Pre=function(e,t){return e==="v"?bEe(t):vEe(t)},xEe=function(e,t){return e==="h"&&t==="rtl"?-1:1},wEe=function(e,t,n,r,i){var o=xEe(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),c=!1,u=a>0,d=0,p=0;do{if(!s)break;var m=Pre(e,s),v=m[0],x=m[1],w=m[2],T=x-w-o*v;(v||T)&&Ire(e,s)&&(d+=T,p+=v);var k=s.parentNode;s=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&Math.abs(d)<1||!u&&Math.abs(p)<1)&&(c=!0),c},P_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Zz=function(e){return[e.deltaX,e.deltaY]},Qz=function(e){return e&&"current"in e?e.current:e},SEe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},EEe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},CEe=0,rv=[];function TEe(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(CEe++)[0],o=C.useState(Dre)[0],a=C.useRef(e);C.useEffect(function(){a.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=WSe([e.lockRef.current],(e.shards||[]).map(Qz),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=C.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var T=P_(x),k=n.current,N="deltaX"in x?x.deltaX:k[0]-T[0],I="deltaY"in x?x.deltaY:k[1]-T[1],O,A=x.target,R=Math.abs(N)>Math.abs(I)?"h":"v";if("touches"in x&&R==="h"&&A.type==="range")return!1;var L=Xz(R,A);if(!L)return!0;if(L?O=R:(O=R==="v"?"h":"v",L=Xz(R,A)),!L)return!1;if(!r.current&&"changedTouches"in x&&(N||I)&&(r.current=O),!O)return!0;var B=r.current||O;return wEe(B,w,x,B==="h"?N:I)},[]),l=C.useCallback(function(x){var w=x;if(!(!rv.length||rv[rv.length-1]!==o)){var T="deltaY"in w?Zz(w):P_(w),k=t.current.filter(function(O){return O.name===w.type&&(O.target===w.target||w.target===O.shadowParent)&&SEe(O.delta,T)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var N=(a.current.shards||[]).map(Qz).filter(Boolean).filter(function(O){return O.contains(w.target)}),I=N.length>0?s(w,N[0]):!a.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),c=C.useCallback(function(x,w,T,k){var N={name:x,delta:w,target:T,should:k,shadowParent:kEe(T)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(I){return I!==N})},1)},[]),u=C.useCallback(function(x){n.current=P_(x),r.current=void 0},[]),d=C.useCallback(function(x){c(x.type,Zz(x),x.target,s(x,e.lockRef.current))},[]),p=C.useCallback(function(x){c(x.type,P_(x),x.target,s(x,e.lockRef.current))},[]);C.useEffect(function(){return rv.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,nv),document.addEventListener("touchmove",l,nv),document.addEventListener("touchstart",u,nv),function(){rv=rv.filter(function(x){return x!==o}),document.removeEventListener("wheel",l,nv),document.removeEventListener("touchmove",l,nv),document.removeEventListener("touchstart",u,nv)}},[]);var m=e.removeScrollBar,v=e.inert;return C.createElement(C.Fragment,null,v?C.createElement(o,{styles:EEe(i)}):null,m?C.createElement(pEe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function kEe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _Ee=tEe(Mre,TEe);var vT=C.forwardRef(function(e,t){return C.createElement(JM,gd({},e,{ref:t,sideCar:_Ee}))});vT.classNames=JM.classNames;var AEe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},iv=new WeakMap,L_=new WeakMap,j_={},AI=0,Lre=function(e){return e&&(e.host||Lre(e.parentNode))},NEe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Lre(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},OEe=function(e,t,n,r){var i=NEe(t,Array.isArray(e)?e:[e]);j_[n]||(j_[n]=new WeakMap);var o=j_[n],a=[],s=new Set,l=new Set(i),c=function(d){!d||s.has(d)||(s.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(s.has(p))u(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",x=(iv.get(p)||0)+1,w=(o.get(p)||0)+1;iv.set(p,x),o.set(p,w),a.push(p),x===1&&v&&L_.set(p,!0),w===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",p,T)}})};return u(t),s.clear(),AI++,function(){a.forEach(function(d){var p=iv.get(d)-1,m=o.get(d)-1;iv.set(d,p),o.set(d,m),p||(L_.has(d)||d.removeAttribute(r),L_.delete(d)),m||d.removeAttribute(n)}),AI--,AI||(iv=new WeakMap,iv=new WeakMap,L_=new WeakMap,j_={})}},eD=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=AEe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),OEe(r,i,n,"aria-hidden")):function(){return null}};function MEe(e){const t=DEe(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(IEe);if(l){const c=l.props.children,u=s.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,u):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function DEe(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=LEe(i),s=PEe(o,i.props);return i.type!==C.Fragment&&(s.ref=r?rs(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var REe=Symbol("radix.slottable");function IEe(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===REe}function PEe(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function LEe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tD="Dialog",[jre,Bre]=Us(tD),[jEe,Tu]=jre(tD),$re=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,s=C.useRef(null),l=C.useRef(null),[c,u]=yu({prop:r,defaultProp:i??!1,onChange:o,caller:tD});return g.jsx(jEe,{scope:t,triggerRef:s,contentRef:l,contentId:Gi(),titleId:Gi(),descriptionId:Gi(),open:c,onOpenChange:u,onOpenToggle:C.useCallback(()=>u(d=>!d),[u]),modal:a,children:n})};$re.displayName=tD;var Hre="DialogTrigger",Fre=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Tu(Hre,n),o=An(t,i.triggerRef);return g.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":wH(i.open),...r,ref:o,onClick:dt(e.onClick,i.onOpenToggle)})});Fre.displayName=Hre;var vH="DialogPortal",[BEe,Ure]=jre(vH,{forceMount:void 0}),zre=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Tu(vH,t);return g.jsx(BEe,{scope:t,forceMount:n,children:C.Children.map(r,a=>g.jsx(Fo,{present:n||o.open,children:g.jsx(Y1,{asChild:!0,container:i,children:a})}))})};zre.displayName=vH;var pN="DialogOverlay",Vre=C.forwardRef((e,t)=>{const n=Ure(pN,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Tu(pN,e.__scopeDialog);return o.modal?g.jsx(Fo,{present:r||o.open,children:g.jsx(HEe,{...i,ref:t})}):null});Vre.displayName=pN;var $Ee=MEe("DialogOverlay.RemoveScroll"),HEe=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Tu(pN,n);return g.jsx(vT,{as:$Ee,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Dt.div,{"data-state":wH(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),A0="DialogContent",qre=C.forwardRef((e,t)=>{const n=Ure(A0,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Tu(A0,e.__scopeDialog);return g.jsx(Fo,{present:r||o.open,children:o.modal?g.jsx(FEe,{...i,ref:t}):g.jsx(UEe,{...i,ref:t})})});qre.displayName=A0;var FEe=C.forwardRef((e,t)=>{const n=Tu(A0,e.__scopeDialog),r=C.useRef(null),i=An(t,n.contentRef,r);return C.useEffect(()=>{const o=r.current;if(o)return eD(o)},[]),g.jsx(Wre,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,o=>o.preventDefault())})}),UEe=C.forwardRef((e,t)=>{const n=Tu(A0,e.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return g.jsx(Wre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Wre=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,s=Tu(A0,n),l=C.useRef(null),c=An(t,l);return QM(),g.jsxs(g.Fragment,{children:[g.jsx(bT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:g.jsx(W1,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":wH(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(VEe,{titleId:s.titleId}),g.jsx(WEe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),xH="DialogTitle",Yre=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Tu(xH,n);return g.jsx(Dt.h2,{id:i.titleId,...r,ref:t})});Yre.displayName=xH;var Gre="DialogDescription",Kre=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Tu(Gre,n);return g.jsx(Dt.p,{id:i.descriptionId,...r,ref:t})});Kre.displayName=Gre;var Xre="DialogClose",Zre=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Tu(Xre,n);return g.jsx(Dt.button,{type:"button",...r,ref:t,onClick:dt(e.onClick,()=>i.onOpenChange(!1))})});Zre.displayName=Xre;function wH(e){return e?"open":"closed"}var Qre="DialogTitleWarning",[zEe,Jre]=hSe(Qre,{contentName:A0,titleName:xH,docsSlug:"dialog"}),VEe=({titleId:e})=>{const t=Jre(Qre),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},qEe="DialogDescriptionWarning",WEe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Jre(qEe).contentName}}.`;return C.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},xT=$re,YEe=Fre,wT=zre,G1=Vre,K1=qre,ST=Yre,ET=Kre,nD=Zre;function GEe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const eie=F.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),CT=()=>{const e=F.useContext(eie);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};GEe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function KEe(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function XEe(){return SH(/^Mac/)}function ZEe(){return SH(/^iPhone/)}function Jz(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function QEe(){return SH(/^iPad/)||XEe()&&navigator.maxTouchPoints>1}function tie(){return ZEe()||QEe()}function SH(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const JEe=24,eCe=typeof window<"u"?C.useLayoutEffect:C.useEffect;function eV(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const NI=typeof document<"u"&&window.visualViewport;function tV(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function nie(e){for(tV(e)&&(e=e.parentElement);e&&!tV(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const tCe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let B_=0,OI;function nCe(e={}){let{isDisabled:t}=e;eCe(()=>{if(!t)return B_++,B_===1&&tie()&&(OI=rCe()),()=>{B_--,B_===0&&OI?.()}},[t])}function rCe(){let e,t=0,n=d=>{e=nie(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},r=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let p=d.changedTouches[0].pageY,m=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((m<=0&&p>t||m>=v&&p<t)&&d.preventDefault(),t=p)},i=d=>{let p=d.target;j6(p)&&p!==document.activeElement&&(d.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},o=d=>{let p=d.target;j6(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",NI&&(NI.height<window.innerHeight?requestAnimationFrame(()=>{nV(p)}):NI.addEventListener("resize",()=>nV(p),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},s=window.pageXOffset,l=window.pageYOffset,c=eV(iCe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=eV(ES(document,"touchstart",n,{passive:!1,capture:!0}),ES(document,"touchmove",r,{passive:!1,capture:!0}),ES(document,"touchend",i,{passive:!1,capture:!0}),ES(document,"focus",o,!0),ES(window,"scroll",a));return()=>{c(),u(),window.scrollTo(s,l)}}function iCe(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function ES(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function nV(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=nie(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const a=n.getBoundingClientRect().bottom+JEe;o>a&&(n.scrollTop+=i-r)}e=n.parentElement}}function j6(e){return e instanceof HTMLInputElement&&!tCe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function oCe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function aCe(...e){return t=>e.forEach(n=>oCe(n,t))}function rie(...e){return C.useCallback(aCe(...e),e)}const iie=new WeakMap;function Eo(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}r[i]=e.style[i],e.style[i]=o}),!n&&iie.set(e,r)}function sCe(e,t){if(!e||!(e instanceof HTMLElement))return;let n=iie.get(e);n&&(e.style[t]=n[t])}const io=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function $_(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[io(t)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[io(t)?5:4]):null)}function lCe(e){return 8*(Math.log(e+1)-2)}function MI(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function cCe(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Ti={DURATION:.5,EASE:[.32,.72,0,1]},oie=.4,uCe=.25,dCe=100,aie=8,Gg=16,B6=26,DI="vaul-dragging";function sie(e){const t=F.useRef(e);return F.useEffect(()=>{t.current=e}),F.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function fCe({defaultProp:e,onChange:t}){const n=F.useState(e),[r]=n,i=F.useRef(r),o=sie(t);return F.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function lie({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=fCe({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,s=sie(n),l=F.useCallback(c=>{if(o){const d=typeof c=="function"?c(e):c;d!==e&&s(d)}else i(c)},[o,e,i,s]);return[a,l]}function hCe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:o,onSnapPointChange:a,direction:s="bottom",container:l,snapToSequentialPoint:c}){const[u,d]=lie({prop:e,defaultProp:n?.[0],onChange:t}),[p,m]=F.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);F.useEffect(()=>{function R(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const v=F.useMemo(()=>u===n?.[n.length-1]||null,[n,u]),x=F.useMemo(()=>{var R;return(R=n?.findIndex(L=>L===u))!=null?R:null},[n,u]),w=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===u||!n,T=F.useMemo(()=>{const R=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var L;return(L=n?.map(B=>{const $=typeof B=="string";let q=0;if($&&(q=parseInt(B,10)),io(s)){const Y=$?q:p?B*R.height:0;return p?s==="bottom"?R.height-Y:-R.height+Y:Y}const z=$?q:p?B*R.width:0;return p?s==="right"?R.width-z:-R.width+z:z}))!=null?L:[]},[n,p,l]),k=F.useMemo(()=>x!==null?T?.[x]:null,[T,x]),N=F.useCallback(R=>{var L;const B=(L=T?.findIndex($=>$===R))!=null?L:null;a(B),Eo(r.current,{transition:`transform ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,transform:io(s)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`}),T&&B!==T.length-1&&o!==void 0&&B!==o&&B<o?Eo(i.current,{transition:`opacity ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,opacity:"0"}):Eo(i.current,{transition:`opacity ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,opacity:"1"}),d(n?.[Math.max(B,0)])},[r.current,n,T,o,i,d]);F.useEffect(()=>{if(u||e){var R;const L=(R=n?.findIndex(B=>B===e||B===u))!=null?R:-1;T&&L!==-1&&typeof T[L]=="number"&&N(T[L])}},[u,e,n,T,N]);function I({draggedDistance:R,closeDrawer:L,velocity:B,dismissible:$}){if(o===void 0)return;const q=s==="bottom"||s==="right"?(k??0)-R:(k??0)+R,z=x===o-1,Y=x===0,W=R>0;if(z&&Eo(i.current,{transition:`opacity ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`}),!c&&B>2&&!W){$?L():N(T[0]);return}if(!c&&B>2&&W&&T&&n){N(T[n.length-1]);return}const Z=T?.reduce((ne,X)=>typeof ne!="number"||typeof X!="number"?ne:Math.abs(X-q)<Math.abs(ne-q)?X:ne),V=io(s)?window.innerHeight:window.innerWidth;if(B>oie&&Math.abs(R)<V*.4){const ne=W?1:-1;if(ne>0&&v&&n){N(T[n.length-1]);return}if(Y&&ne<0&&$&&L(),x===null)return;N(T[x+ne]);return}N(Z)}function O({draggedDistance:R}){if(k===null)return;const L=s==="bottom"||s==="right"?k-R:k+R;(s==="bottom"||s==="right")&&L<T[T.length-1]||(s==="top"||s==="left")&&L>T[T.length-1]||Eo(r.current,{transform:io(s)?`translate3d(0, ${L}px, 0)`:`translate3d(${L}px, 0, 0)`})}function A(R,L){if(!n||typeof x!="number"||!T||o===void 0)return null;const B=x===o-1;if(x>=o&&L)return 0;if(B&&!L)return 1;if(!w&&!B)return null;const q=B?x+1:x-1,z=B?T[q]-T[q-1]:T[q+1]-T[q],Y=R/Math.abs(z);return B?1-Y:Y}return{isLastSnapPoint:v,activeSnapPoint:u,shouldFade:w,getPercentageDragged:A,setActiveSnapPoint:d,activeSnapPointIndex:x,onRelease:I,onDrag:O,snapPointsOffset:T}}const pCe=()=>()=>{};function mCe(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=CT(),o=F.useRef(null),a=C.useMemo(()=>document.body.style.backgroundColor,[]);function s(){return(window.innerWidth-B6)/window.innerWidth}F.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;cCe(r&&!i?MI(document.body,{background:"black"}):pCe,MI(l,{transformOrigin:io(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Ti.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ti.EASE.join(",")})`}));const c=MI(l,{borderRadius:`${aie}px`,overflow:"hidden",...io(e)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),o.current=window.setTimeout(()=>{a?document.body.style.background=a:document.body.style.removeProperty("background")},Ti.DURATION*1e3)}}},[t,n,a])}let CS=null;function gCe({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:o}){const[a,s]=F.useState(()=>typeof window<"u"?window.location.href:""),l=F.useRef(0),c=F.useCallback(()=>{if(Jz()&&CS===null&&e&&!o){CS={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=p-window.innerHeight;m&&l.current>=p&&(document.body.style.top=`${-(l.current+m)}px`)}),300)}},[e]),u=F.useCallback(()=>{if(Jz()&&CS!==null&&!o){const d=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,CS),window.requestAnimationFrame(()=>{if(i&&a!==window.location.href){s(window.location.href);return}window.scrollTo(p,d)}),CS=null}},[a]);return F.useEffect(()=>{function d(){l.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),F.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||u()}},[t,u]),F.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),t||window.setTimeout(()=>{u()},500)):u())},[e,r,a,t,n,c,u]),{restorePositionSetting:u}}function yCe({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:i,snapPoints:o,shouldScaleBackground:a=!1,setBackgroundColorOnScale:s=!0,closeThreshold:l=uCe,scrollLockTimeout:c=dCe,dismissible:u=!0,handleOnly:d=!1,fadeFromIndex:p=o&&o.length-1,activeSnapPoint:m,setActiveSnapPoint:v,fixed:x,modal:w=!0,onClose:T,nested:k,noBodyStyles:N=!1,direction:I="bottom",defaultOpen:O=!1,disablePreventScroll:A=!0,snapToSequentialPoint:R=!1,preventScrollRestoration:L=!1,repositionInputs:B=!0,onAnimationEnd:$,container:q,autoFocus:z=!1}){var Y,W;const[Z=!1,V]=lie({defaultProp:O,prop:e,onChange:lt=>{t?.(lt),!lt&&!k&&Be(),setTimeout(()=>{$?.(lt)},Ti.DURATION*1e3),lt&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),lt||(document.body.style.pointerEvents="auto")}}),[ne,X]=F.useState(!1),[oe,K]=F.useState(!1),[Q,te]=F.useState(!1),U=F.useRef(null),he=F.useRef(null),se=F.useRef(null),we=F.useRef(null),ve=F.useRef(null),je=F.useRef(!1),Te=F.useRef(null),He=F.useRef(0),Ge=F.useRef(!1),De=F.useRef(!O),Ft=F.useRef(0),Ee=F.useRef(null),It=F.useRef(((Y=Ee.current)==null?void 0:Y.getBoundingClientRect().height)||0),sn=F.useRef(((W=Ee.current)==null?void 0:W.getBoundingClientRect().width)||0),Yt=F.useRef(0),xr=F.useCallback(lt=>{o&&lt===Je.length-1&&(he.current=new Date)},[]),{activeSnapPoint:er,activeSnapPointIndex:ue,setActiveSnapPoint:xe,onRelease:ke,snapPointsOffset:Je,onDrag:Ze,shouldFade:Qe,getPercentageDragged:ge}=hCe({snapPoints:o,activeSnapPointProp:m,setActiveSnapPointProp:v,drawerRef:Ee,fadeFromIndex:p,overlayRef:U,onSnapPointChange:xr,direction:I,container:q,snapToSequentialPoint:R});nCe({isDisabled:!Z||oe||!w||Q||!ne||!B||!A});const{restorePositionSetting:Be}=gCe({isOpen:Z,modal:w,nested:k??!1,hasBeenOpened:ne,preventScrollRestoration:L,noBodyStyles:N});function it(){return(window.innerWidth-B6)/window.innerWidth}function At(lt){var ct,Tt;!u&&!o||Ee.current&&!Ee.current.contains(lt.target)||(It.current=((ct=Ee.current)==null?void 0:ct.getBoundingClientRect().height)||0,sn.current=((Tt=Ee.current)==null?void 0:Tt.getBoundingClientRect().width)||0,K(!0),se.current=new Date,tie()&&window.addEventListener("touchend",()=>je.current=!1,{once:!0}),lt.target.setPointerCapture(lt.pointerId),He.current=io(I)?lt.pageY:lt.pageX)}function Wt(lt,ct){var Tt;let jt=lt;const vt=(Tt=window.getSelection())==null?void 0:Tt.toString(),xt=Ee.current?$_(Ee.current,I):null,an=new Date;if(jt.tagName==="SELECT"||jt.hasAttribute("data-vaul-no-drag")||jt.closest("[data-vaul-no-drag]"))return!1;if(I==="right"||I==="left")return!0;if(he.current&&an.getTime()-he.current.getTime()<500)return!1;if(xt!==null&&(I==="bottom"?xt>0:xt<0))return!0;if(vt&&vt.length>0)return!1;if(ve.current&&an.getTime()-ve.current.getTime()<c&&xt===0||ct)return ve.current=an,!1;for(;jt;){if(jt.scrollHeight>jt.clientHeight){if(jt.scrollTop!==0)return ve.current=new Date,!1;if(jt.getAttribute("role")==="dialog")return!0}jt=jt.parentNode}return!0}function Zn(lt){if(Ee.current&&oe){const ct=I==="bottom"||I==="right"?1:-1,Tt=(He.current-(io(I)?lt.pageY:lt.pageX))*ct,jt=Tt>0,vt=o&&!u&&!jt;if(vt&&ue===0)return;const xt=Math.abs(Tt),an=document.querySelector("[data-vaul-drawer-wrapper]"),Gn=I==="bottom"||I==="top"?It.current:sn.current;let Hn=xt/Gn;const ui=ge(xt,jt);if(ui!==null&&(Hn=ui),vt&&Hn>=1||!je.current&&!Wt(lt.target,jt))return;if(Ee.current.classList.add(DI),je.current=!0,Eo(Ee.current,{transition:"none"}),Eo(U.current,{transition:"none"}),o&&Ze({draggedDistance:Tt}),jt&&!o){const ye=lCe(Tt),Re=Math.min(ye*-1,0)*ct;Eo(Ee.current,{transform:io(I)?`translate3d(0, ${Re}px, 0)`:`translate3d(${Re}px, 0, 0)`});return}const le=1-Hn;if((Qe||p&&ue===p-1)&&(r?.(lt,Hn),Eo(U.current,{opacity:`${le}`,transition:"none"},!0)),an&&U.current&&a){const ye=Math.min(it()+Hn*(1-it()),1),Re=8-Hn*8,Xe=Math.max(0,14-Hn*14);Eo(an,{borderRadius:`${Re}px`,transform:io(I)?`scale(${ye}) translate3d(0, ${Xe}px, 0)`:`scale(${ye}) translate3d(${Xe}px, 0, 0)`,transition:"none"},!0)}if(!o){const ye=xt*ct;Eo(Ee.current,{transform:io(I)?`translate3d(0, ${ye}px, 0)`:`translate3d(${ye}px, 0, 0)`})}}}F.useEffect(()=>{window.requestAnimationFrame(()=>{De.current=!0})},[]),F.useEffect(()=>{var lt;function ct(){if(!Ee.current||!B)return;const Tt=document.activeElement;if(j6(Tt)||Ge.current){var jt;const vt=((jt=window.visualViewport)==null?void 0:jt.height)||0,xt=window.innerHeight;let an=xt-vt;const Gn=Ee.current.getBoundingClientRect().height||0,Hn=Gn>xt*.8;Yt.current||(Yt.current=Gn);const ui=Ee.current.getBoundingClientRect().top;if(Math.abs(Ft.current-an)>60&&(Ge.current=!Ge.current),o&&o.length>0&&Je&&ue){const le=Je[ue]||0;an+=le}if(Ft.current=an,Gn>vt||Ge.current){const le=Ee.current.getBoundingClientRect().height;let ye=le;le>vt&&(ye=vt-(Hn?ui:B6)),x?Ee.current.style.height=`${le-Math.max(an,0)}px`:Ee.current.style.height=`${Math.max(ye,vt-ui)}px`}else KEe()||(Ee.current.style.height=`${Yt.current}px`);o&&o.length>0&&!Ge.current?Ee.current.style.bottom="0px":Ee.current.style.bottom=`${Math.max(an,0)}px`}}return(lt=window.visualViewport)==null||lt.addEventListener("resize",ct),()=>{var Tt;return(Tt=window.visualViewport)==null?void 0:Tt.removeEventListener("resize",ct)}},[ue,o,Je]);function Tn(lt){Yn(),T?.(),lt||V(!1),setTimeout(()=>{o&&xe(o[0])},Ti.DURATION*1e3)}function or(){if(!Ee.current)return;const lt=document.querySelector("[data-vaul-drawer-wrapper]"),ct=$_(Ee.current,I);Eo(Ee.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`}),Eo(U.current,{transition:`opacity ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,opacity:"1"}),a&&ct&&ct>0&&Z&&Eo(lt,{borderRadius:`${aie}px`,overflow:"hidden",...io(I)?{transform:`scale(${it()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${it()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ti.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ti.EASE.join(",")})`},!0)}function Yn(){!oe||!Ee.current||(Ee.current.classList.remove(DI),je.current=!1,K(!1),we.current=new Date)}function wr(lt){if(!oe||!Ee.current)return;Ee.current.classList.remove(DI),je.current=!1,K(!1),we.current=new Date;const ct=$_(Ee.current,I);if(!lt||!Wt(lt.target,!1)||!ct||Number.isNaN(ct)||se.current===null)return;const Tt=we.current.getTime()-se.current.getTime(),jt=He.current-(io(I)?lt.pageY:lt.pageX),vt=Math.abs(jt)/Tt;if(vt>.05&&(te(!0),setTimeout(()=>{te(!1)},200)),o){ke({draggedDistance:jt*(I==="bottom"||I==="right"?1:-1),closeDrawer:Tn,velocity:vt,dismissible:u}),i?.(lt,!0);return}if(I==="bottom"||I==="right"?jt>0:jt<0){or(),i?.(lt,!0);return}if(vt>oie){Tn(),i?.(lt,!1);return}var xt;const an=Math.min((xt=Ee.current.getBoundingClientRect().height)!=null?xt:0,window.innerHeight);var Gn;const Hn=Math.min((Gn=Ee.current.getBoundingClientRect().width)!=null?Gn:0,window.innerWidth),ui=I==="left"||I==="right";if(Math.abs(ct)>=(ui?Hn:an)*l){Tn(),i?.(lt,!1);return}i?.(lt,!0),or()}F.useEffect(()=>(Z&&(Eo(document.documentElement,{scrollBehavior:"auto"}),he.current=new Date),()=>{sCe(document.documentElement,"scrollBehavior")}),[Z]);function un(lt){const ct=lt?(window.innerWidth-Gg)/window.innerWidth:1,Tt=lt?-Gg:0;Te.current&&window.clearTimeout(Te.current),Eo(Ee.current,{transition:`transform ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,transform:io(I)?`scale(${ct}) translate3d(0, ${Tt}px, 0)`:`scale(${ct}) translate3d(${Tt}px, 0, 0)`}),!lt&&Ee.current&&(Te.current=setTimeout(()=>{const jt=$_(Ee.current,I);Eo(Ee.current,{transition:"none",transform:io(I)?`translate3d(0, ${jt}px, 0)`:`translate3d(${jt}px, 0, 0)`})},500))}function xi(lt,ct){if(ct<0)return;const Tt=(window.innerWidth-Gg)/window.innerWidth,jt=Tt+ct*(1-Tt),vt=-Gg+ct*Gg;Eo(Ee.current,{transform:io(I)?`scale(${jt}) translate3d(0, ${vt}px, 0)`:`scale(${jt}) translate3d(${vt}px, 0, 0)`,transition:"none"})}function Ct(lt,ct){const Tt=io(I)?window.innerHeight:window.innerWidth,jt=ct?(Tt-Gg)/Tt:1,vt=ct?-Gg:0;ct&&Eo(Ee.current,{transition:`transform ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,transform:io(I)?`scale(${jt}) translate3d(0, ${vt}px, 0)`:`scale(${jt}) translate3d(${vt}px, 0, 0)`})}return F.useEffect(()=>{w||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[w]),F.createElement(xT,{defaultOpen:O,onOpenChange:lt=>{!u&&!lt||(lt?X(!0):Tn(!0),V(lt))},open:Z},F.createElement(eie.Provider,{value:{activeSnapPoint:er,snapPoints:o,setActiveSnapPoint:xe,drawerRef:Ee,overlayRef:U,onOpenChange:t,onPress:At,onRelease:wr,onDrag:Zn,dismissible:u,shouldAnimate:De,handleOnly:d,isOpen:Z,isDragging:oe,shouldFade:Qe,closeDrawer:Tn,onNestedDrag:xi,onNestedOpenChange:un,onNestedRelease:Ct,keyboardIsOpen:Ge,modal:w,snapPointsOffset:Je,activeSnapPointIndex:ue,direction:I,shouldScaleBackground:a,setBackgroundColorOnScale:s,noBodyStyles:N,container:q,autoFocus:z}},n))}const cie=F.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:o,isOpen:a,modal:s,shouldAnimate:l}=CT(),c=rie(t,n),u=r&&r.length>0;if(!s)return null;const d=F.useCallback(p=>i(p),[i]);return F.createElement(G1,{onMouseUp:d,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":a&&u?"true":"false","data-vaul-snap-points-overlay":a&&o?"true":"false","data-vaul-animate":l?.current?"true":"false",...e})});cie.displayName="Drawer.Overlay";const uie=F.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},i){const{drawerRef:o,onPress:a,onRelease:s,onDrag:l,keyboardIsOpen:c,snapPointsOffset:u,activeSnapPointIndex:d,modal:p,isOpen:m,direction:v,snapPoints:x,container:w,handleOnly:T,shouldAnimate:k,autoFocus:N}=CT(),[I,O]=F.useState(!1),A=rie(i,o),R=F.useRef(null),L=F.useRef(null),B=F.useRef(!1),$=x&&x.length>0;mCe();const q=(Y,W,Z=0)=>{if(B.current)return!0;const V=Math.abs(Y.y),ne=Math.abs(Y.x),X=ne>V,oe=["bottom","right"].includes(W)?1:-1;if(W==="left"||W==="right"){if(!(Y.x*oe<0)&&ne>=0&&ne<=Z)return X}else if(!(Y.y*oe<0)&&V>=0&&V<=Z)return!X;return B.current=!0,!0};F.useEffect(()=>{$&&window.requestAnimationFrame(()=>{O(!0)})},[]);function z(Y){R.current=null,B.current=!1,s(Y)}return F.createElement(K1,{"data-vaul-drawer-direction":v,"data-vaul-drawer":"","data-vaul-delayed-snap-points":I?"true":"false","data-vaul-snap-points":m&&$?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":k?.current?"true":"false",...r,ref:A,style:u&&u.length>0?{"--snap-point-height":`${u[d??0]}px`,...t}:t,onPointerDown:Y=>{T||(r.onPointerDown==null||r.onPointerDown.call(r,Y),R.current={x:Y.pageX,y:Y.pageY},a(Y))},onOpenAutoFocus:Y=>{n?.(Y),N||Y.preventDefault()},onPointerDownOutside:Y=>{if(e?.(Y),!p||Y.defaultPrevented){Y.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:Y=>{if(!p){Y.preventDefault();return}},onPointerMove:Y=>{if(L.current=Y,T||(r.onPointerMove==null||r.onPointerMove.call(r,Y),!R.current))return;const W=Y.pageY-R.current.y,Z=Y.pageX-R.current.x,V=Y.pointerType==="touch"?10:2;q({x:Z,y:W},v,V)?l(Y):(Math.abs(Z)>V||Math.abs(W)>V)&&(R.current=null)},onPointerUp:Y=>{r.onPointerUp==null||r.onPointerUp.call(r,Y),R.current=null,B.current=!1,s(Y)},onPointerOut:Y=>{r.onPointerOut==null||r.onPointerOut.call(r,Y),z(L.current)},onContextMenu:Y=>{r.onContextMenu==null||r.onContextMenu.call(r,Y),L.current&&z(L.current)}})});uie.displayName="Drawer.Content";const bCe=250,vCe=120,xCe=F.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:i,isDragging:o,snapPoints:a,activeSnapPoint:s,setActiveSnapPoint:l,dismissible:c,handleOnly:u,isOpen:d,onPress:p,onDrag:m}=CT(),v=F.useRef(null),x=F.useRef(!1);function w(){if(x.current){N();return}window.setTimeout(()=>{T()},vCe)}function T(){if(o||e||x.current){N();return}if(N(),!a||a.length===0){c||i();return}if(s===a[a.length-1]&&c){i();return}const O=a.findIndex(R=>R===s);if(O===-1)return;const A=a[O+1];l(A)}function k(){v.current=window.setTimeout(()=>{x.current=!0},bCe)}function N(){v.current&&window.clearTimeout(v.current),x.current=!1}return F.createElement("div",{onClick:w,onPointerCancel:N,onPointerDown:I=>{u&&p(I),k()},onPointerMove:I=>{u&&m(I)},ref:r,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},F.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});xCe.displayName="Drawer.Handle";function wCe(e){const t=CT(),{container:n=t.container,...r}=e;return F.createElement(wT,{container:n,...r})}const Ld={Root:yCe,Content:uie,Overlay:cie,Portal:wCe,Close:nD,Title:ST,Description:ET};function die(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=die(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=die(e))&&(r&&(r+=" "),r+=t);return r}const EH="-",SCe=e=>{const t=CCe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const s=a.split(EH);return s[0]===""&&s.length!==1&&s.shift(),fie(s,t)||ECe(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},fie=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?fie(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(EH);return t.validators.find(({validator:a})=>a(o))?.classGroupId},rV=/^\[(.+)\]$/,ECe=e=>{if(rV.test(e)){const t=rV.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},CCe=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)$6(n[i],r,i,t);return r},$6=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:iV(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(TCe(i)){$6(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{$6(a,iV(t,o),n,r)})})},iV=(e,t)=>{let n=e;return t.split(EH).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},TCe=e=>e.isThemeGetter,kCe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},H6="!",F6=":",_Ce=F6.length,ACe=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const o=[];let a=0,s=0,l=0,c;for(let v=0;v<i.length;v++){let x=i[v];if(a===0&&s===0){if(x===F6){o.push(i.slice(l,v)),l=v+_Ce;continue}if(x==="/"){c=v;continue}}x==="["?a++:x==="]"?a--:x==="("?s++:x===")"&&s--}const u=o.length===0?i:i.substring(l),d=NCe(u),p=d!==u,m=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:d,maybePostfixModifierPosition:m}};if(t){const i=t+F6,o=r;r=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},NCe=e=>e.endsWith(H6)?e.substring(0,e.length-1):e.startsWith(H6)?e.substring(1):e,OCe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(a=>{a[0]==="["||t[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},MCe=e=>({cache:kCe(e.cacheSize),parseClassName:ACe(e),sortModifiers:OCe(e),...SCe(e)}),DCe=/\s+/,RCe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],s=e.trim().split(DCe);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{isExternal:d,modifiers:p,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let w=!!x,T=r(w?v.substring(0,x):v);if(!T){if(!w){l=u+(l.length>0?" "+l:l);continue}if(T=r(v),!T){l=u+(l.length>0?" "+l:l);continue}w=!1}const k=o(p).join(":"),N=m?k+H6:k,I=N+T;if(a.includes(I))continue;a.push(I);const O=i(T,w);for(let A=0;A<O.length;++A){const R=O[A];a.push(N+R)}l=u+(l.length>0?" "+l:l)}return l};function ICe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=hie(t))&&(r&&(r+=" "),r+=n);return r}const hie=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=hie(e[r]))&&(n&&(n+=" "),n+=t);return n};function PCe(e,...t){let n,r,i,o=a;function a(l){const c=t.reduce((u,d)=>d(u),e());return n=MCe(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=RCe(l,n);return i(l,u),u}return function(){return o(ICe.apply(null,arguments))}}const xo=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},pie=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mie=/^\((?:(\w[\w-]*):)?(.+)\)$/i,LCe=/^\d+\/\d+$/,jCe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BCe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$Ce=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,HCe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FCe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ov=e=>LCe.test(e),Dn=e=>!!e&&!Number.isNaN(Number(e)),pp=e=>!!e&&Number.isInteger(Number(e)),RI=e=>e.endsWith("%")&&Dn(e.slice(0,-1)),vf=e=>jCe.test(e),UCe=()=>!0,zCe=e=>BCe.test(e)&&!$Ce.test(e),gie=()=>!1,VCe=e=>HCe.test(e),qCe=e=>FCe.test(e),WCe=e=>!Nt(e)&&!Ot(e),YCe=e=>X1(e,vie,gie),Nt=e=>pie.test(e),Kg=e=>X1(e,xie,zCe),II=e=>X1(e,QCe,Dn),oV=e=>X1(e,yie,gie),GCe=e=>X1(e,bie,qCe),H_=e=>X1(e,wie,VCe),Ot=e=>mie.test(e),TS=e=>Z1(e,xie),KCe=e=>Z1(e,JCe),aV=e=>Z1(e,yie),XCe=e=>Z1(e,vie),ZCe=e=>Z1(e,bie),F_=e=>Z1(e,wie,!0),X1=(e,t,n)=>{const r=pie.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Z1=(e,t,n=!1)=>{const r=mie.exec(e);return r?r[1]?t(r[1]):n:!1},yie=e=>e==="position"||e==="percentage",bie=e=>e==="image"||e==="url",vie=e=>e==="length"||e==="size"||e==="bg-size",xie=e=>e==="length",QCe=e=>e==="number",JCe=e=>e==="family-name",wie=e=>e==="shadow",eTe=()=>{const e=xo("color"),t=xo("font"),n=xo("text"),r=xo("font-weight"),i=xo("tracking"),o=xo("leading"),a=xo("breakpoint"),s=xo("container"),l=xo("spacing"),c=xo("radius"),u=xo("shadow"),d=xo("inset-shadow"),p=xo("text-shadow"),m=xo("drop-shadow"),v=xo("blur"),x=xo("perspective"),w=xo("aspect"),T=xo("ease"),k=xo("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...I(),Ot,Nt],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],L=()=>[Ot,Nt,l],B=()=>[ov,"full","auto",...L()],$=()=>[pp,"none","subgrid",Ot,Nt],q=()=>["auto",{span:["full",pp,Ot,Nt]},pp,Ot,Nt],z=()=>[pp,"auto",Ot,Nt],Y=()=>["auto","min","max","fr",Ot,Nt],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...L()],ne=()=>[ov,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],X=()=>[e,Ot,Nt],oe=()=>[...I(),aV,oV,{position:[Ot,Nt]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",XCe,YCe,{size:[Ot,Nt]}],te=()=>[RI,TS,Kg],U=()=>["","none","full",c,Ot,Nt],he=()=>["",Dn,TS,Kg],se=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Dn,RI,aV,oV],je=()=>["","none",v,Ot,Nt],Te=()=>["none",Dn,Ot,Nt],He=()=>["none",Dn,Ot,Nt],Ge=()=>[Dn,Ot,Nt],De=()=>[ov,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vf],breakpoint:[vf],color:[UCe],container:[vf],"drop-shadow":[vf],ease:["in","out","in-out"],font:[WCe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vf],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vf],shadow:[vf],spacing:["px",Dn],text:[vf],"text-shadow":[vf],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ov,Nt,Ot,w]}],container:["container"],columns:[{columns:[Dn,Nt,Ot,s]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[pp,"auto",Ot,Nt]}],basis:[{basis:[ov,"full","auto",s,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Dn,ov,"auto","initial","none",Nt]}],grow:[{grow:["",Dn,Ot,Nt]}],shrink:[{shrink:["",Dn,Ot,Nt]}],order:[{order:[pp,"first","last","none",Ot,Nt]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[s,"screen",...ne()]}],"min-w":[{"min-w":[s,"screen","none",...ne()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,TS,Kg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ot,II]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",RI,Nt]}],"font-family":[{font:[KCe,Nt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ot,Nt]}],"line-clamp":[{"line-clamp":[Dn,"none",Ot,II]}],leading:[{leading:[o,...L()]}],"list-image":[{"list-image":["none",Ot,Nt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ot,Nt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Dn,"from-font","auto",Ot,Kg]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Dn,"auto",Ot,Nt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ot,Nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ot,Nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},pp,Ot,Nt],radial:["",Ot,Nt],conic:[pp,Ot,Nt]},ZCe,GCe]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Dn,Ot,Nt]}],"outline-w":[{outline:["",Dn,TS,Kg]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",u,F_,H_]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",d,F_,H_]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Dn,Kg]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",p,F_,H_]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Dn,Ot,Nt]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Dn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[Ot,Nt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Dn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ot,Nt]}],filter:[{filter:["","none",Ot,Nt]}],blur:[{blur:je()}],brightness:[{brightness:[Dn,Ot,Nt]}],contrast:[{contrast:[Dn,Ot,Nt]}],"drop-shadow":[{"drop-shadow":["","none",m,F_,H_]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Dn,Ot,Nt]}],"hue-rotate":[{"hue-rotate":[Dn,Ot,Nt]}],invert:[{invert:["",Dn,Ot,Nt]}],saturate:[{saturate:[Dn,Ot,Nt]}],sepia:[{sepia:["",Dn,Ot,Nt]}],"backdrop-filter":[{"backdrop-filter":["","none",Ot,Nt]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[Dn,Ot,Nt]}],"backdrop-contrast":[{"backdrop-contrast":[Dn,Ot,Nt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Dn,Ot,Nt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Dn,Ot,Nt]}],"backdrop-invert":[{"backdrop-invert":["",Dn,Ot,Nt]}],"backdrop-opacity":[{"backdrop-opacity":[Dn,Ot,Nt]}],"backdrop-saturate":[{"backdrop-saturate":[Dn,Ot,Nt]}],"backdrop-sepia":[{"backdrop-sepia":["",Dn,Ot,Nt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ot,Nt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Dn,"initial",Ot,Nt]}],ease:[{ease:["linear","initial",T,Ot,Nt]}],delay:[{delay:[Dn,Ot,Nt]}],animate:[{animate:["none",k,Ot,Nt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ot,Nt]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:Ge()}],"skew-x":[{"skew-x":Ge()}],"skew-y":[{"skew-y":Ge()}],transform:[{transform:[Ot,Nt,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:De()}],"translate-x":[{"translate-x":De()}],"translate-y":[{"translate-y":De()}],"translate-z":[{"translate-z":De()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ot,Nt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ot,Nt]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Dn,TS,Kg,II]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tTe=PCe(eTe);function Ie(...e){return tTe(Xn(e))}const CH=({shouldScaleBackground:e=!0,...t})=>g.jsx(Ld.Root,{shouldScaleBackground:e,...t});CH.displayName="Drawer";const nTe=Ld.Portal,rTe=Ld.Close,Sie=C.forwardRef(({className:e,...t},n)=>g.jsx(Ld.Overlay,{ref:n,className:Ie("fixed inset-0 z-50 bg-black/80",e),...t}));Sie.displayName=Ld.Overlay.displayName;const TH=C.forwardRef(({className:e,children:t,side:n="bottom",...r},i)=>{const o={left:"fixed left-0 top-0 bottom-0 z-50 flex h-full w-[600px] flex-col border-r bg-background",right:"fixed right-0 top-0 bottom-0 z-50 flex h-full w-[1000px] flex-col border-l bg-background",top:"fixed inset-x-0 top-0 z-50 flex h-auto flex-col rounded-b-[10px] border-b bg-background",bottom:"fixed inset-x-0 bottom-0 z-50 flex h-auto flex-col rounded-t-[10px] border-t bg-background"};return g.jsxs(nTe,{children:[g.jsx(Sie,{}),g.jsxs(Ld.Content,{ref:i,className:Ie(o[n],e),...r,children:[n==="bottom"&&g.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]})});TH.displayName="DrawerContent";const Eie=({className:e,...t})=>g.jsx("div",{className:Ie("grid gap-1.5 p-4 text-center sm:text-left",e),...t});Eie.displayName="DrawerHeader";const Cie=C.forwardRef(({className:e,...t},n)=>g.jsx(Ld.Title,{ref:n,className:Ie("text-lg font-semibold leading-none tracking-tight",e),...t}));Cie.displayName=Ld.Title.displayName;const iTe=C.forwardRef(({className:e,...t},n)=>g.jsx(Ld.Description,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));iTe.displayName=Ld.Description.displayName;const sV=e=>{let t;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const p=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(m=>m(t,p))}},i=()=>t,s={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,s);return s},oTe=(e=>e?sV(e):sV),aTe=e=>e;function sTe(e,t=aTe){const n=F.useSyncExternalStore(e.subscribe,F.useCallback(()=>t(e.getState()),[e,t]),F.useCallback(()=>t(e.getInitialState()),[e,t]));return F.useDebugValue(n),n}const lV=e=>{const t=oTe(e),n=r=>sTe(t,r);return Object.assign(n,t),n},TT=(e=>e?lV(e):lV),cV={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},GE=new Map,U_=e=>{const t=GE.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},lTe=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=GE.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return GE.set(n.name,i),{type:"tracked",store:e,...i}},cTe=(e,t)=>{if(t===void 0)return;const n=GE.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&GE.delete(e))},uTe=e=>{var t,n;if(!e)return;const r=e.split(`
`),i=r.findIndex(a=>a.includes("api.setState"));if(i<0)return;const o=((t=r[i+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(o))==null?void 0:n[1]},dTe=(e,t={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:a,store:s,...l}=t;let c;try{c=(o??(cV?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return e(n,r,i);const{connection:u,...d}=lTe(s,c,l);let p=!0;i.setState=((x,w,T)=>{const k=n(x,w);if(!p)return k;const N=T===void 0?{type:a||uTe(new Error().stack)||"anonymous"}:typeof T=="string"?{type:T}:T;return s===void 0?(u?.send(N,r()),k):(u?.send({...N,type:`${s}/${N.type}`},{...U_(l.name),[s]:i.getState()}),k)}),i.devtools={cleanup:()=>{u&&typeof u.unsubscribe=="function"&&u.unsubscribe(),cTe(l.name,s)}};const m=(...x)=>{const w=p;p=!1,n(...x),p=w},v=e(i.setState,r,i);if(d.type==="untracked"?u?.init(v):(d.stores[d.store]=i,u?.init(Object.fromEntries(Object.entries(d.stores).map(([x,w])=>[x,x===d.store?v:w.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let x=!1;const w=i.dispatch;i.dispatch=(...T)=>{(cV?"production":void 0)!=="production"&&T[0].type==="__setState"&&!x&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),x=!0),w(...T)}}return u.subscribe(x=>{var w;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return PI(x.payload,T=>{if(T.type==="__setState"){if(s===void 0){m(T.state);return}Object.keys(T.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const k=T.state[s];if(k==null)return;JSON.stringify(i.getState())!==JSON.stringify(k)&&m(k);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(T)});case"DISPATCH":switch(x.payload.type){case"RESET":return m(v),s===void 0?u?.init(i.getState()):u?.init(U_(l.name));case"COMMIT":if(s===void 0){u?.init(i.getState());return}return u?.init(U_(l.name));case"ROLLBACK":return PI(x.state,T=>{if(s===void 0){m(T),u?.init(i.getState());return}m(T[s]),u?.init(U_(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return PI(x.state,T=>{if(s===void 0){m(T);return}JSON.stringify(i.getState())!==JSON.stringify(T[s])&&m(T[s])});case"IMPORT_STATE":{const{nextLiftedState:T}=x.payload,k=(w=T.computedStates.slice(-1)[0])==null?void 0:w.state;if(!k)return;m(s===void 0?k:k[s]),u?.send(null,T);return}case"PAUSE_RECORDING":return p=!p}return}}),v},rD=dTe,PI=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)};function fTe(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const a=l=>l===null?null:JSON.parse(l,void 0),s=(o=n.getItem(i))!=null?o:null;return s instanceof Promise?s.then(a):a(s)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const U6=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return U6(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return U6(r)(n)}}}},hTe=(e,t)=>(n,r,i)=>{let o={storage:fTe(()=>localStorage),partialize:x=>x,version:0,merge:(x,w)=>({...w,...x}),...t},a=!1;const s=new Set,l=new Set;let c=o.storage;if(!c)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...x)},r,i);const u=()=>{const x=o.partialize({...r()});return c.setItem(o.name,{state:x,version:o.version})},d=i.setState;i.setState=(x,w)=>(d(x,w),u());const p=e((...x)=>(n(...x),u()),r,i);i.getInitialState=()=>p;let m;const v=()=>{var x,w;if(!c)return;a=!1,s.forEach(k=>{var N;return k((N=r())!=null?N:p)});const T=((w=o.onRehydrateStorage)==null?void 0:w.call(o,(x=r())!=null?x:p))||void 0;return U6(c.getItem.bind(c))(o.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==o.version){if(o.migrate){const N=o.migrate(k.state,k.version);return N instanceof Promise?N.then(I=>[!0,I]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var N;const[I,O]=k;if(m=o.merge(O,(N=r())!=null?N:p),n(m,!0),I)return u()}).then(()=>{T?.(m,void 0),m=r(),a=!0,l.forEach(k=>k(m))}).catch(k=>{T?.(void 0,k)})};return i.persist={setOptions:x=>{o={...o,...x},x.storage&&(c=x.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:x=>(s.add(x),()=>{s.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},o.skipHydration||v(),m||p},pTe=hTe;var JS={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var mTe=JS.exports,uV;function gTe(){return uV||(uV=1,(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",d=1,p=2,m=4,v=1,x=2,w=1,T=2,k=4,N=8,I=16,O=32,A=64,R=128,L=256,B=512,$=30,q="...",z=800,Y=16,W=1,Z=2,V=3,ne=1/0,X=9007199254740991,oe=17976931348623157e292,K=NaN,Q=4294967295,te=Q-1,U=Q>>>1,he=[["ary",R],["bind",w],["bindKey",T],["curry",N],["curryRight",I],["flip",B],["partial",O],["partialRight",A],["rearg",L]],se="[object Arguments]",we="[object Array]",ve="[object AsyncFunction]",je="[object Boolean]",Te="[object Date]",He="[object DOMException]",Ge="[object Error]",De="[object Function]",Ft="[object GeneratorFunction]",Ee="[object Map]",It="[object Number]",sn="[object Null]",Yt="[object Object]",xr="[object Promise]",er="[object Proxy]",ue="[object RegExp]",xe="[object Set]",ke="[object String]",Je="[object Symbol]",Ze="[object Undefined]",Qe="[object WeakMap]",ge="[object WeakSet]",Be="[object ArrayBuffer]",it="[object DataView]",At="[object Float32Array]",Wt="[object Float64Array]",Zn="[object Int8Array]",Tn="[object Int16Array]",or="[object Int32Array]",Yn="[object Uint8Array]",wr="[object Uint8ClampedArray]",un="[object Uint16Array]",xi="[object Uint32Array]",Ct=/\b__p \+= '';/g,lt=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,jt=/[&<>"']/g,vt=RegExp(Tt.source),xt=RegExp(jt.source),an=/<%-([\s\S]+?)%>/g,Gn=/<%([\s\S]+?)%>/g,Hn=/<%=([\s\S]+?)%>/g,ui=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,le=/^\w*$/,ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,Xe=RegExp(Re.source),nt=/^\s+/,kt=/\s/,bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_t=/\{\n\/\* \[wrapped with (.+)\] \*/,$t=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,gt=/\\(\\)?/g,xn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mr=/\w*$/,Ai=/^[-+]0x[0-9a-f]+$/i,po=/^0b[01]+$/i,Ir=/^\[object .+?Constructor\]$/,ar=/^0o[0-7]+$/i,Gs=/^(?:0|[1-9]\d*)$/,us=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zi=/($^)/,Ao=/['\n\r\u2028\u2029\\]/g,Oa="\\ud800-\\udfff",qr="\\u0300-\\u036f",Bl="\\ufe20-\\ufe2f",Wd="\\u20d0-\\u20ff",Ma=qr+Bl+Wd,yn="\\u2700-\\u27bf",$i="a-z\\xdf-\\xf6\\xf8-\\xff",Nc="\\xac\\xb1\\xd7\\xf7",$l="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wi="\\u2000-\\u206f",Oc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ou="A-Z\\xc0-\\xd6\\xd8-\\xde",ds="\\ufe0e\\ufe0f",Da=Nc+$l+wi+Oc,Cy="[']",c3="["+Oa+"]",Ty="["+Da+"]",jm="["+Ma+"]",Bm="\\d+",u3="["+yn+"]",Ra="["+$i+"]",ky="[^"+Oa+Da+Bm+yn+$i+Ou+"]",_y="\\ud83c[\\udffb-\\udfff]",Tx="(?:"+jm+"|"+_y+")",Yd="[^"+Oa+"]",Ay="(?:\\ud83c[\\udde6-\\uddff]){2}",Ny="[\\ud800-\\udbff][\\udc00-\\udfff]",Ks="["+Ou+"]",xk="\\u200d",kx="(?:"+Ra+"|"+ky+")",wk="(?:"+Ks+"|"+ky+")",Oy="(?:"+Cy+"(?:d|ll|m|re|s|t|ve))?",Sk="(?:"+Cy+"(?:D|LL|M|RE|S|T|VE))?",Ek=Tx+"?",$m="["+ds+"]?",Mc="(?:"+xk+"(?:"+[Yd,Ay,Ny].join("|")+")"+$m+Ek+")*",_x="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ax="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gd=$m+Ek+Mc,xh="(?:"+[u3,Ay,Ny].join("|")+")"+Gd,Ck="(?:"+[Yd+jm+"?",jm,Ay,Ny,c3].join("|")+")",Nx=RegExp(Cy,"g"),Tk=RegExp(jm,"g"),Kd=RegExp(_y+"(?="+_y+")|"+Ck+Gd,"g"),Dc=RegExp([Ks+"?"+Ra+"+"+Oy+"(?="+[Ty,Ks,"$"].join("|")+")",wk+"+"+Sk+"(?="+[Ty,Ks+kx,"$"].join("|")+")",Ks+"?"+kx+"+"+Oy,Ks+"+"+Sk,Ax,_x,Bm,xh].join("|"),"g"),Ox=RegExp("["+xk+Oa+Ma+ds+"]"),Hm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mx=-1,Sr={};Sr[At]=Sr[Wt]=Sr[Zn]=Sr[Tn]=Sr[or]=Sr[Yn]=Sr[wr]=Sr[un]=Sr[xi]=!0,Sr[se]=Sr[we]=Sr[Be]=Sr[je]=Sr[it]=Sr[Te]=Sr[Ge]=Sr[De]=Sr[Ee]=Sr[It]=Sr[Yt]=Sr[ue]=Sr[xe]=Sr[ke]=Sr[Qe]=!1;var Ar={};Ar[se]=Ar[we]=Ar[Be]=Ar[it]=Ar[je]=Ar[Te]=Ar[At]=Ar[Wt]=Ar[Zn]=Ar[Tn]=Ar[or]=Ar[Ee]=Ar[It]=Ar[Yt]=Ar[ue]=Ar[xe]=Ar[ke]=Ar[Je]=Ar[Yn]=Ar[wr]=Ar[un]=Ar[xi]=!0,Ar[Ge]=Ar[De]=Ar[Qe]=!1;var My={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Dy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kk={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ta={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xd=parseFloat,Ry=parseInt,wh=typeof $p=="object"&&$p&&$p.Object===Object&&$p,d3=typeof self=="object"&&self&&self.Object===Object&&self,Hi=wh||d3||Function("return this")(),Fm=t&&!t.nodeType&&t,Xs=Fm&&!0&&e&&!e.nodeType&&e,Um=Xs&&Xs.exports===Fm,Iy=Um&&wh.process,fs=(function(){try{var be=Xs&&Xs.require&&Xs.require("util").types;return be||Iy&&Iy.binding&&Iy.binding("util")}catch{}})(),_k=fs&&fs.isArrayBuffer,Ak=fs&&fs.isDate,Py=fs&&fs.isMap,Nk=fs&&fs.isRegExp,Ok=fs&&fs.isSet,Mk=fs&&fs.isTypedArray;function Ia(be,Ue,Pe){switch(Pe.length){case 0:return be.call(Ue);case 1:return be.call(Ue,Pe[0]);case 2:return be.call(Ue,Pe[0],Pe[1]);case 3:return be.call(Ue,Pe[0],Pe[1],Pe[2])}return be.apply(Ue,Pe)}function f3(be,Ue,Pe,yt){for(var ln=-1,Nn=be==null?0:be.length;++ln<Nn;){var Yr=be[ln];Ue(yt,Yr,Pe(Yr),be)}return yt}function Pa(be,Ue){for(var Pe=-1,yt=be==null?0:be.length;++Pe<yt&&Ue(be[Pe],Pe,be)!==!1;);return be}function h3(be,Ue){for(var Pe=be==null?0:be.length;Pe--&&Ue(be[Pe],Pe,be)!==!1;);return be}function Dk(be,Ue){for(var Pe=-1,yt=be==null?0:be.length;++Pe<yt;)if(!Ue(be[Pe],Pe,be))return!1;return!0}function Du(be,Ue){for(var Pe=-1,yt=be==null?0:be.length,ln=0,Nn=[];++Pe<yt;){var Yr=be[Pe];Ue(Yr,Pe,be)&&(Nn[ln++]=Yr)}return Nn}function Ly(be,Ue){var Pe=be==null?0:be.length;return!!Pe&&Sh(be,Ue,0)>-1}function zm(be,Ue,Pe){for(var yt=-1,ln=be==null?0:be.length;++yt<ln;)if(Pe(Ue,be[yt]))return!0;return!1}function Wr(be,Ue){for(var Pe=-1,yt=be==null?0:be.length,ln=Array(yt);++Pe<yt;)ln[Pe]=Ue(be[Pe],Pe,be);return ln}function Ru(be,Ue){for(var Pe=-1,yt=Ue.length,ln=be.length;++Pe<yt;)be[ln+Pe]=Ue[Pe];return be}function Dx(be,Ue,Pe,yt){var ln=-1,Nn=be==null?0:be.length;for(yt&&Nn&&(Pe=be[++ln]);++ln<Nn;)Pe=Ue(Pe,be[ln],ln,be);return Pe}function Rk(be,Ue,Pe,yt){var ln=be==null?0:be.length;for(yt&&ln&&(Pe=be[--ln]);ln--;)Pe=Ue(Pe,be[ln],ln,be);return Pe}function Rx(be,Ue){for(var Pe=-1,yt=be==null?0:be.length;++Pe<yt;)if(Ue(be[Pe],Pe,be))return!0;return!1}var p3=Zd("length");function m3(be){return be.split("")}function g3(be){return be.match(Ht)||[]}function Ik(be,Ue,Pe){var yt;return Pe(be,function(ln,Nn,Yr){if(Ue(ln,Nn,Yr))return yt=Nn,!1}),yt}function jy(be,Ue,Pe,yt){for(var ln=be.length,Nn=Pe+(yt?1:-1);yt?Nn--:++Nn<ln;)if(Ue(be[Nn],Nn,be))return Nn;return-1}function Sh(be,Ue,Pe){return Ue===Ue?x3(be,Ue,Pe):jy(be,Pk,Pe)}function y3(be,Ue,Pe,yt){for(var ln=Pe-1,Nn=be.length;++ln<Nn;)if(yt(be[ln],Ue))return ln;return-1}function Pk(be){return be!==be}function By(be,Ue){var Pe=be==null?0:be.length;return Pe?$y(be,Ue)/Pe:K}function Zd(be){return function(Ue){return Ue==null?n:Ue[be]}}function Ix(be){return function(Ue){return be==null?n:be[Ue]}}function Px(be,Ue,Pe,yt,ln){return ln(be,function(Nn,Yr,gr){Pe=yt?(yt=!1,Nn):Ue(Pe,Nn,Yr,gr)}),Pe}function Lk(be,Ue){var Pe=be.length;for(be.sort(Ue);Pe--;)be[Pe]=be[Pe].value;return be}function $y(be,Ue){for(var Pe,yt=-1,ln=be.length;++yt<ln;){var Nn=Ue(be[yt]);Nn!==n&&(Pe=Pe===n?Nn:Pe+Nn)}return Pe}function Hy(be,Ue){for(var Pe=-1,yt=Array(be);++Pe<be;)yt[Pe]=Ue(Pe);return yt}function jk(be,Ue){return Wr(Ue,function(Pe){return[Pe,be[Pe]]})}function Qd(be){return be&&be.slice(0,Ch(be)+1).replace(nt,"")}function La(be){return function(Ue){return be(Ue)}}function Lx(be,Ue){return Wr(Ue,function(Pe){return be[Pe]})}function Vm(be,Ue){return be.has(Ue)}function jx(be,Ue){for(var Pe=-1,yt=be.length;++Pe<yt&&Sh(Ue,be[Pe],0)>-1;);return Pe}function Bx(be,Ue){for(var Pe=be.length;Pe--&&Sh(Ue,be[Pe],0)>-1;);return Pe}function qm(be,Ue){for(var Pe=be.length,yt=0;Pe--;)be[Pe]===Ue&&++yt;return yt}var Wm=Ix(My),b3=Ix(Dy);function Fy(be){return"\\"+ta[be]}function Bk(be,Ue){return be==null?n:be[Ue]}function Jd(be){return Ox.test(be)}function $x(be){return Hm.test(be)}function Hx(be){for(var Ue,Pe=[];!(Ue=be.next()).done;)Pe.push(Ue.value);return Pe}function Uy(be){var Ue=-1,Pe=Array(be.size);return be.forEach(function(yt,ln){Pe[++Ue]=[ln,yt]}),Pe}function Fx(be,Ue){return function(Pe){return be(Ue(Pe))}}function Rc(be,Ue){for(var Pe=-1,yt=be.length,ln=0,Nn=[];++Pe<yt;){var Yr=be[Pe];(Yr===Ue||Yr===u)&&(be[Pe]=u,Nn[ln++]=Pe)}return Nn}function zy(be){var Ue=-1,Pe=Array(be.size);return be.forEach(function(yt){Pe[++Ue]=yt}),Pe}function v3(be){var Ue=-1,Pe=Array(be.size);return be.forEach(function(yt){Pe[++Ue]=[yt,yt]}),Pe}function x3(be,Ue,Pe){for(var yt=Pe-1,ln=be.length;++yt<ln;)if(be[yt]===Ue)return yt;return-1}function w3(be,Ue,Pe){for(var yt=Pe+1;yt--;)if(be[yt]===Ue)return yt;return yt}function Eh(be){return Jd(be)?Hk(be):p3(be)}function ii(be){return Jd(be)?Fk(be):m3(be)}function Ch(be){for(var Ue=be.length;Ue--&&kt.test(be.charAt(Ue)););return Ue}var $k=Ix(kk);function Hk(be){for(var Ue=Kd.lastIndex=0;Kd.test(be);)++Ue;return Ue}function Fk(be){return be.match(Kd)||[]}function Uk(be){return be.match(Dc)||[]}var Ux=(function be(Ue){Ue=Ue==null?Hi:Th.defaults(Hi.Object(),Ue,Th.pick(Hi,Mu));var Pe=Ue.Array,yt=Ue.Date,ln=Ue.Error,Nn=Ue.Function,Yr=Ue.Math,gr=Ue.Object,Vy=Ue.RegExp,ef=Ue.String,ja=Ue.TypeError,Ym=Pe.prototype,zk=Nn.prototype,kh=gr.prototype,qy=Ue["__core-js_shared__"],Wy=zk.toString,dr=kh.hasOwnProperty,Vk=0,Yy=(function(){var b=/[^.]+$/.exec(qy&&qy.keys&&qy.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""})(),na=kh.toString,Gy=Wy.call(gr),hs=Hi._,_h=Vy("^"+Wy.call(dr).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ah=Um?Ue.Buffer:n,Zs=Ue.Symbol,tf=Ue.Uint8Array,Ky=Ah?Ah.allocUnsafe:n,Hl=Fx(gr.getPrototypeOf,gr),zx=gr.create,Gm=kh.propertyIsEnumerable,Ic=Ym.splice,qk=Zs?Zs.isConcatSpreadable:n,mo=Zs?Zs.iterator:n,Pc=Zs?Zs.toStringTag:n,ps=(function(){try{var b=Wu(gr,"defineProperty");return b({},"",{}),b}catch{}})(),Wk=Ue.clearTimeout!==Hi.clearTimeout&&Ue.clearTimeout,Xy=yt&&yt.now!==Hi.Date.now&&yt.now,nf=Ue.setTimeout!==Hi.setTimeout&&Ue.setTimeout,Nh=Yr.ceil,Km=Yr.floor,Xm=gr.getOwnPropertySymbols,Yk=Ah?Ah.isBuffer:n,Ba=Ue.isFinite,Oh=Ym.join,Mh=Fx(gr.keys,gr),di=Yr.max,Ni=Yr.min,ms=yt.now,gs=Ue.parseInt,Lc=Yr.random,Fl=Ym.reverse,ys=Wu(Ue,"DataView"),$a=Wu(Ue,"Map"),Zy=Wu(Ue,"Promise"),Iu=Wu(Ue,"Set"),rf=Wu(Ue,"WeakMap"),Dh=Wu(gr,"create"),Oi=rf&&new rf,fr={},Fn=Mo(ys),Pu=Mo($a),bs=Mo(Zy),Vx=Mo(Iu),Lu=Mo(rf),Zm=Zs?Zs.prototype:n,Rh=Zm?Zm.valueOf:n,of=Zm?Zm.toString:n;function ee(b){if(pi(b)&&!cn(b)&&!(b instanceof dn)){if(b instanceof ra)return b;if(dr.call(b,"__wrapped__"))return Ab(b)}return new ra(b)}var ju=(function(){function b(){}return function(E){if(!Kr(E))return{};if(zx)return zx(E);b.prototype=E;var M=new b;return b.prototype=n,M}})();function Bu(){}function ra(b,E){this.__wrapped__=b,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=n}ee.templateSettings={escape:an,evaluate:Gn,interpolate:Hn,variable:"",imports:{_:ee}},ee.prototype=Bu.prototype,ee.prototype.constructor=ee,ra.prototype=ju(Bu.prototype),ra.prototype.constructor=ra;function dn(b){this.__wrapped__=b,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function jc(){var b=new dn(this.__wrapped__);return b.__actions__=Vo(this.__actions__),b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=Vo(this.__iteratees__),b.__takeCount__=this.__takeCount__,b.__views__=Vo(this.__views__),b}function $u(){if(this.__filtered__){var b=new dn(this);b.__dir__=-1,b.__filtered__=!0}else b=this.clone(),b.__dir__*=-1;return b}function Bc(){var b=this.__wrapped__.value(),E=this.__dir__,M=cn(b),j=E<0,G=M?b.length:0,re=O3(0,G,this.__views__),ce=re.start,pe=re.end,Ce=pe-ce,Ye=j?pe:ce-1,Ke=this.__iteratees__,et=Ke.length,pt=0,Bt=Ni(Ce,this.__takeCount__);if(!M||!j&&G==Ce&&Bt==Ce)return ow(b,this.__actions__);var tn=[];e:for(;Ce--&&pt<Bt;){Ye+=E;for(var kn=-1,nn=b[Ye];++kn<et;){var Un=Ke[kn],Qn=Un.iteratee,cl=Un.type,Za=Qn(nn);if(cl==Z)nn=Za;else if(!Za){if(cl==W)continue e;break e}}tn[pt++]=nn}return tn}dn.prototype=ju(Bu.prototype),dn.prototype.constructor=dn;function $c(b){var E=-1,M=b==null?0:b.length;for(this.clear();++E<M;){var j=b[E];this.set(j[0],j[1])}}function qx(){this.__data__=Dh?Dh(null):{},this.size=0}function Ih(b){var E=this.has(b)&&delete this.__data__[b];return this.size-=E?1:0,E}function Qy(b){var E=this.__data__;if(Dh){var M=E[b];return M===l?n:M}return dr.call(E,b)?E[b]:n}function af(b){var E=this.__data__;return Dh?E[b]!==n:dr.call(E,b)}function go(b,E){var M=this.__data__;return this.size+=this.has(b)?0:1,M[b]=Dh&&E===n?l:E,this}$c.prototype.clear=qx,$c.prototype.delete=Ih,$c.prototype.get=Qy,$c.prototype.has=af,$c.prototype.set=go;function vs(b){var E=-1,M=b==null?0:b.length;for(this.clear();++E<M;){var j=b[E];this.set(j[0],j[1])}}function Gk(){this.__data__=[],this.size=0}function S3(b){var E=this.__data__,M=Ul(E,b);if(M<0)return!1;var j=E.length-1;return M==j?E.pop():Ic.call(E,M,1),--this.size,!0}function E3(b){var E=this.__data__,M=Ul(E,b);return M<0?n:E[M][1]}function C3(b){return Ul(this.__data__,b)>-1}function Mi(b,E){var M=this.__data__,j=Ul(M,b);return j<0?(++this.size,M.push([b,E])):M[j][1]=E,this}vs.prototype.clear=Gk,vs.prototype.delete=S3,vs.prototype.get=E3,vs.prototype.has=C3,vs.prototype.set=Mi;function Qs(b){var E=-1,M=b==null?0:b.length;for(this.clear();++E<M;){var j=b[E];this.set(j[0],j[1])}}function Qm(){this.size=0,this.__data__={hash:new $c,map:new($a||vs),string:new $c}}function Jm(b){var E=yg(this,b).delete(b);return this.size-=E?1:0,E}function Wx(b){return yg(this,b).get(b)}function Ph(b){return yg(this,b).has(b)}function Lh(b,E){var M=yg(this,b),j=M.size;return M.set(b,E),this.size+=M.size==j?0:1,this}Qs.prototype.clear=Qm,Qs.prototype.delete=Jm,Qs.prototype.get=Wx,Qs.prototype.has=Ph,Qs.prototype.set=Lh;function sf(b){var E=-1,M=b==null?0:b.length;for(this.__data__=new Qs;++E<M;)this.add(b[E])}function Kk(b){return this.__data__.set(b,l),this}function T3(b){return this.__data__.has(b)}sf.prototype.add=sf.prototype.push=Kk,sf.prototype.has=T3;function xs(b){var E=this.__data__=new vs(b);this.size=E.size}function lf(){this.__data__=new vs,this.size=0}function Yx(b){var E=this.__data__,M=E.delete(b);return this.size=E.size,M}function Jy(b){return this.__data__.get(b)}function Xk(b){return this.__data__.has(b)}function jh(b,E){var M=this.__data__;if(M instanceof vs){var j=M.__data__;if(!$a||j.length<i-1)return j.push([b,E]),this.size=++M.size,this;M=this.__data__=new Qs(j)}return M.set(b,E),this.size=M.size,this}xs.prototype.clear=lf,xs.prototype.delete=Yx,xs.prototype.get=Jy,xs.prototype.has=Xk,xs.prototype.set=jh;function eb(b,E){var M=cn(b),j=!M&&gf(b),G=!M&&!j&&Ju(b),re=!M&&!j&&!G&&ed(b),ce=M||j||G||re,pe=ce?Hy(b.length,ef):[],Ce=pe.length;for(var Ye in b)(E||dr.call(b,Ye))&&!(ce&&(Ye=="length"||G&&(Ye=="offset"||Ye=="parent")||re&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||ol(Ye,Ce)))&&pe.push(Ye);return pe}function eg(b){var E=b.length;return E?b[qh(0,E-1)]:n}function tb(b,E){return Tg(Vo(b),el(E,0,b.length))}function Zk(b){return Tg(Vo(b))}function nb(b,E,M){(M!==n&&!Ga(b[E],M)||M===n&&!(E in b))&&Ha(b,E,M)}function Js(b,E,M){var j=b[E];(!(dr.call(b,E)&&Ga(j,M))||M===n&&!(E in b))&&Ha(b,E,M)}function Ul(b,E){for(var M=b.length;M--;)if(Ga(b[M][0],E))return M;return-1}function Qk(b,E,M,j){return zl(b,function(G,re,ce){E(j,G,M(G),ce)}),j}function Gx(b,E){return b&&Cs(E,Ji(E),b)}function Bh(b,E){return b&&Cs(E,ha(E),b)}function Ha(b,E,M){E=="__proto__"&&ps?ps(b,E,{configurable:!0,enumerable:!0,value:M,writable:!0}):b[E]=M}function $h(b,E){for(var M=-1,j=E.length,G=Pe(j),re=b==null;++M<j;)G[M]=re?n:td(b,E[M]);return G}function el(b,E,M){return b===b&&(M!==n&&(b=b<=M?b:M),E!==n&&(b=b>=E?b:E)),b}function zo(b,E,M,j,G,re){var ce,pe=E&d,Ce=E&p,Ye=E&m;if(M&&(ce=G?M(b,j,G,re):M(b)),ce!==n)return ce;if(!Kr(b))return b;var Ke=cn(b);if(Ke){if(ce=m2(b),!pe)return Vo(b,ce)}else{var et=bo(b),pt=et==De||et==Ft;if(Ju(b))return lw(b,pe);if(et==Yt||et==se||pt&&!G){if(ce=Ce||pt?{}:Sw(b),!pe)return Ce?u2(b,Bh(ce,b)):c2(b,Gx(ce,b))}else{if(!Ar[et])return G?b:{};ce=g2(b,et,pe)}}re||(re=new xs);var Bt=re.get(b);if(Bt)return Bt;re.set(b,ce),Fg(b)?b.forEach(function(nn){ce.add(zo(nn,E,M,nn,b,re))}):Q2(b)&&b.forEach(function(nn,Un){ce.set(Un,zo(nn,E,M,Un,b,re))});var tn=Ye?Ce?ww:xb:Ce?ha:Ji,kn=Ke?n:tn(b);return Pa(kn||b,function(nn,Un){kn&&(Un=nn,nn=b[Un]),Js(ce,Un,zo(nn,E,M,Un,b,re))}),ce}function Jk(b){var E=Ji(b);return function(M){return Hu(M,b,E)}}function Hu(b,E,M){var j=M.length;if(b==null)return!j;for(b=gr(b);j--;){var G=M[j],re=E[G],ce=b[G];if(ce===n&&!(G in b)||!re(ce))return!1}return!0}function Kx(b,E,M){if(typeof b!="function")throw new ja(a);return Cg(function(){b.apply(n,M)},E)}function ws(b,E,M,j){var G=-1,re=Ly,ce=!0,pe=b.length,Ce=[],Ye=E.length;if(!pe)return Ce;M&&(E=Wr(E,La(M))),j?(re=zm,ce=!1):E.length>=i&&(re=Vm,ce=!1,E=new sf(E));e:for(;++G<pe;){var Ke=b[G],et=M==null?Ke:M(Ke);if(Ke=j||Ke!==0?Ke:0,ce&&et===et){for(var pt=Ye;pt--;)if(E[pt]===et)continue e;Ce.push(Ke)}else re(E,et,j)||Ce.push(Ke)}return Ce}var zl=fw(nl),rb=fw(ob,!0);function Fu(b,E){var M=!0;return zl(b,function(j,G,re){return M=!!E(j,G,re),M}),M}function tl(b,E,M){for(var j=-1,G=b.length;++j<G;){var re=b[j],ce=E(re);if(ce!=null&&(pe===n?ce===ce&&!fa(ce):M(ce,pe)))var pe=ce,Ce=re}return Ce}function tg(b,E,M,j){var G=b.length;for(M=en(M),M<0&&(M=-M>G?0:G+M),j=j===n||j>G?G:en(j),j<0&&(j+=G),j=M>j?0:sS(j);M<j;)b[M++]=E;return b}function ib(b,E){var M=[];return zl(b,function(j,G,re){E(j,G,re)&&M.push(j)}),M}function Fi(b,E,M,j,G){var re=-1,ce=b.length;for(M||(M=Cw),G||(G=[]);++re<ce;){var pe=b[re];E>0&&M(pe)?E>1?Fi(pe,E-1,M,j,G):Ru(G,pe):j||(G[G.length]=pe)}return G}var cf=hw(),Hh=hw(!0);function nl(b,E){return b&&cf(b,E,Ji)}function ob(b,E){return b&&Hh(b,E,Ji)}function Hc(b,E){return Du(E,function(M){return Ka(b[M])})}function Vl(b,E){E=Va(E,b);for(var M=0,j=E.length;b!=null&&M<j;)b=b[aa(E[M++])];return M&&M==j?b:n}function Xx(b,E,M){var j=E(b);return cn(b)?j:Ru(j,M(b))}function yo(b){return b==null?b===n?Ze:sn:Pc&&Pc in gr(b)?bg(b):kw(b)}function ng(b,E){return b>E}function Fa(b,E){return b!=null&&dr.call(b,E)}function Ss(b,E){return b!=null&&E in gr(b)}function Uu(b,E,M){return b>=Ni(E,M)&&b<di(E,M)}function rg(b,E,M){for(var j=M?zm:Ly,G=b[0].length,re=b.length,ce=re,pe=Pe(re),Ce=1/0,Ye=[];ce--;){var Ke=b[ce];ce&&E&&(Ke=Wr(Ke,La(E))),Ce=Ni(Ke.length,Ce),pe[ce]=!M&&(E||G>=120&&Ke.length>=120)?new sf(ce&&Ke):n}Ke=b[0];var et=-1,pt=pe[0];e:for(;++et<G&&Ye.length<Ce;){var Bt=Ke[et],tn=E?E(Bt):Bt;if(Bt=M||Bt!==0?Bt:0,!(pt?Vm(pt,tn):j(Ye,tn,M))){for(ce=re;--ce;){var kn=pe[ce];if(!(kn?Vm(kn,tn):j(b[ce],tn,M)))continue e}pt&&pt.push(tn),Ye.push(Bt)}}return Ye}function e2(b,E,M,j){return nl(b,function(G,re,ce){E(j,M(G),re,ce)}),j}function Es(b,E,M){E=Va(E,b),b=Sg(b,E);var j=b==null?b:b[aa(Br(E))];return j==null?n:Ia(j,b,M)}function ia(b){return pi(b)&&yo(b)==se}function Si(b){return pi(b)&&yo(b)==Be}function ab(b){return pi(b)&&yo(b)==Te}function Ua(b,E,M,j,G){return b===E?!0:b==null||E==null||!pi(b)&&!pi(E)?b!==b&&E!==E:fn(b,E,M,j,Ua,G)}function fn(b,E,M,j,G,re){var ce=cn(b),pe=cn(E),Ce=ce?we:bo(b),Ye=pe?we:bo(E);Ce=Ce==se?Yt:Ce,Ye=Ye==se?Yt:Ye;var Ke=Ce==Yt,et=Ye==Yt,pt=Ce==Ye;if(pt&&Ju(b)){if(!Ju(E))return!1;ce=!0,Ke=!1}if(pt&&!Ke)return re||(re=new xs),ce||ed(b)?mg(b,E,M,j,G,re):p2(b,E,Ce,M,j,G,re);if(!(M&v)){var Bt=Ke&&dr.call(b,"__wrapped__"),tn=et&&dr.call(E,"__wrapped__");if(Bt||tn){var kn=Bt?b.value():b,nn=tn?E.value():E;return re||(re=new xs),G(kn,nn,M,j,re)}}return pt?(re||(re=new xs),xw(b,E,M,j,G,re)):!1}function Er(b){return pi(b)&&bo(b)==Ee}function fi(b,E,M,j){var G=M.length,re=G,ce=!j;if(b==null)return!re;for(b=gr(b);G--;){var pe=M[G];if(ce&&pe[2]?pe[1]!==b[pe[0]]:!(pe[0]in b))return!1}for(;++G<re;){pe=M[G];var Ce=pe[0],Ye=b[Ce],Ke=pe[1];if(ce&&pe[2]){if(Ye===n&&!(Ce in b))return!1}else{var et=new xs;if(j)var pt=j(Ye,Ke,Ce,b,E,et);if(!(pt===n?Ua(Ke,Ye,v|x,j,et):pt))return!1}}return!0}function ig(b){if(!Kr(b)||y2(b))return!1;var E=Ka(b)?_h:Ir;return E.test(Mo(b))}function Fh(b){return pi(b)&&yo(b)==ue}function uf(b){return pi(b)&&bo(b)==xe}function sb(b){return pi(b)&&Fb(b.length)&&!!Sr[yo(b)]}function Uh(b){return typeof b=="function"?b:b==null?Wo:typeof b=="object"?cn(b)?Zx(b[0],b[1]):cb(b):J(b)}function zu(b){if(!Xh(b))return Mh(b);var E=[];for(var M in gr(b))dr.call(b,M)&&M!="constructor"&&E.push(M);return E}function k3(b){if(!Kr(b))return Uc(b);var E=Xh(b),M=[];for(var j in b)j=="constructor"&&(E||!dr.call(b,j))||M.push(j);return M}function Gr(b,E){return b<E}function lb(b,E){var M=-1,j=da(b)?Pe(b.length):[];return zl(b,function(G,re,ce){j[++M]=E(G,re,ce)}),j}function cb(b){var E=wb(b);return E.length==1&&E[0][2]?kb(E[0][0],E[0][1]):function(M){return M===b||fi(M,b,E)}}function Zx(b,E){return xg(b)&&Wl(E)?kb(aa(b),E):function(M){var j=td(M,b);return j===n&&j===E?cS(M,b):Ua(E,j,v|x)}}function og(b,E,M,j,G){b!==E&&cf(E,function(re,ce){if(G||(G=new xs),Kr(re))_3(b,E,ce,M,og,j,G);else{var pe=j?j(Nr(b,ce),re,ce+"",b,E,G):n;pe===n&&(pe=re),nb(b,ce,pe)}},ha)}function _3(b,E,M,j,G,re,ce){var pe=Nr(b,M),Ce=Nr(E,M),Ye=ce.get(Ce);if(Ye){nb(b,M,Ye);return}var Ke=re?re(pe,Ce,M+"",b,E,ce):n,et=Ke===n;if(et){var pt=cn(Ce),Bt=!pt&&Ju(Ce),tn=!pt&&!Bt&&ed(Ce);Ke=Ce,pt||Bt||tn?cn(pe)?Ke=pe:Ci(pe)?Ke=Vo(pe):Bt?(et=!1,Ke=lw(Ce,!0)):tn?(et=!1,Ke=cw(Ce,!0)):Ke=[]:$g(Ce)||gf(Ce)?(Ke=pe,gf(pe)?Ke=Ub(pe):(!Kr(pe)||Ka(pe))&&(Ke=Sw(Ce))):et=!1}et&&(ce.set(Ce,Ke),G(Ke,Ce,j,re,ce),ce.delete(Ce)),nb(b,M,Ke)}function ub(b,E){var M=b.length;if(M)return E+=E<0?M:0,ol(E,M)?b[E]:n}function db(b,E,M){E.length?E=Wr(E,function(re){return cn(re)?function(ce){return Vl(ce,re.length===1?re[0]:re)}:re}):E=[Wo];var j=-1;E=Wr(E,La(Gt()));var G=lb(b,function(re,ce,pe){var Ce=Wr(E,function(Ye){return Ye(re)});return{criteria:Ce,index:++j,value:re}});return Lk(G,function(re,ce){return l2(re,ce,M)})}function Qx(b,E){return No(b,E,function(M,j){return cS(b,j)})}function No(b,E,M){for(var j=-1,G=E.length,re={};++j<G;){var ce=E[j],pe=Vl(b,ce);M(pe,ce)&&Wh(re,Va(ce,b),pe)}return re}function Ei(b){return function(E){return Vl(E,b)}}function zh(b,E,M,j){var G=j?y3:Sh,re=-1,ce=E.length,pe=b;for(b===E&&(E=Vo(E)),M&&(pe=Wr(b,La(M)));++re<ce;)for(var Ce=0,Ye=E[re],Ke=M?M(Ye):Ye;(Ce=G(pe,Ke,Ce,j))>-1;)pe!==b&&Ic.call(pe,Ce,1),Ic.call(b,Ce,1);return b}function Vh(b,E){for(var M=b?E.length:0,j=M-1;M--;){var G=E[M];if(M==j||G!==re){var re=G;ol(G)?Ic.call(b,G,1):ag(b,G)}}return b}function qh(b,E){return b+Km(Lc()*(E-b+1))}function Jx(b,E,M,j){for(var G=-1,re=di(Nh((E-b)/(M||1)),0),ce=Pe(re);re--;)ce[j?re:++G]=b,b+=M;return ce}function rl(b,E){var M="";if(!b||E<1||E>X)return M;do E%2&&(M+=b),E=Km(E/2),E&&(b+=b);while(E);return M}function hn(b,E){return _b(_w(b,E,Wo),b+"")}function ew(b){return eg(up(b))}function tw(b,E){var M=up(b);return Tg(M,el(E,0,M.length))}function Wh(b,E,M,j){if(!Kr(b))return b;E=Va(E,b);for(var G=-1,re=E.length,ce=re-1,pe=b;pe!=null&&++G<re;){var Ce=aa(E[G]),Ye=M;if(Ce==="__proto__"||Ce==="constructor"||Ce==="prototype")return b;if(G!=ce){var Ke=pe[Ce];Ye=j?j(Ke,Ce,pe):n,Ye===n&&(Ye=Kr(Ke)?Ke:ol(E[G+1])?[]:{})}Js(pe,Ce,Ye),pe=pe[Ce]}return b}var nw=Oi?function(b,E){return Oi.set(b,E),b}:Wo,t2=ps?function(b,E){return ps(b,"toString",{configurable:!0,enumerable:!1,value:fp(E),writable:!0})}:Wo;function n2(b){return Tg(up(b))}function za(b,E,M){var j=-1,G=b.length;E<0&&(E=-E>G?0:G+E),M=M>G?G:M,M<0&&(M+=G),G=E>M?0:M-E>>>0,E>>>=0;for(var re=Pe(G);++j<G;)re[j]=b[j+E];return re}function r2(b,E){var M;return zl(b,function(j,G,re){return M=E(j,G,re),!M}),!!M}function Yh(b,E,M){var j=0,G=b==null?j:b.length;if(typeof E=="number"&&E===E&&G<=U){for(;j<G;){var re=j+G>>>1,ce=b[re];ce!==null&&!fa(ce)&&(M?ce<=E:ce<E)?j=re+1:G=re}return G}return fb(b,E,Wo,M)}function fb(b,E,M,j){var G=0,re=b==null?0:b.length;if(re===0)return 0;E=M(E);for(var ce=E!==E,pe=E===null,Ce=fa(E),Ye=E===n;G<re;){var Ke=Km((G+re)/2),et=M(b[Ke]),pt=et!==n,Bt=et===null,tn=et===et,kn=fa(et);if(ce)var nn=j||tn;else Ye?nn=tn&&(j||pt):pe?nn=tn&&pt&&(j||!Bt):Ce?nn=tn&&pt&&!Bt&&(j||!kn):Bt||kn?nn=!1:nn=j?et<=E:et<E;nn?G=Ke+1:re=Ke}return Ni(re,te)}function i2(b,E){for(var M=-1,j=b.length,G=0,re=[];++M<j;){var ce=b[M],pe=E?E(ce):ce;if(!M||!Ga(pe,Ce)){var Ce=pe;re[G++]=ce===0?0:ce}}return re}function rw(b){return typeof b=="number"?b:fa(b)?K:+b}function oa(b){if(typeof b=="string")return b;if(cn(b))return Wr(b,oa)+"";if(fa(b))return of?of.call(b):"";var E=b+"";return E=="0"&&1/b==-ne?"-0":E}function Fc(b,E,M){var j=-1,G=Ly,re=b.length,ce=!0,pe=[],Ce=pe;if(M)ce=!1,G=zm;else if(re>=i){var Ye=E?null:f2(b);if(Ye)return zy(Ye);ce=!1,G=Vm,Ce=new sf}else Ce=E?[]:pe;e:for(;++j<re;){var Ke=b[j],et=E?E(Ke):Ke;if(Ke=M||Ke!==0?Ke:0,ce&&et===et){for(var pt=Ce.length;pt--;)if(Ce[pt]===et)continue e;E&&Ce.push(et),pe.push(Ke)}else G(Ce,et,M)||(Ce!==pe&&Ce.push(et),pe.push(Ke))}return pe}function ag(b,E){return E=Va(E,b),b=Sg(b,E),b==null||delete b[aa(Br(E))]}function iw(b,E,M,j){return Wh(b,E,M(Vl(b,E)),j)}function sg(b,E,M,j){for(var G=b.length,re=j?G:-1;(j?re--:++re<G)&&E(b[re],re,b););return M?za(b,j?0:re,j?re+1:G):za(b,j?re+1:0,j?G:re)}function ow(b,E){var M=b;return M instanceof dn&&(M=M.value()),Dx(E,function(j,G){return G.func.apply(G.thisArg,Ru([j],G.args))},M)}function hb(b,E,M){var j=b.length;if(j<2)return j?Fc(b[0]):[];for(var G=-1,re=Pe(j);++G<j;)for(var ce=b[G],pe=-1;++pe<j;)pe!=G&&(re[G]=ws(re[G]||ce,b[pe],E,M));return Fc(Fi(re,1),E,M)}function aw(b,E,M){for(var j=-1,G=b.length,re=E.length,ce={};++j<G;){var pe=j<re?E[j]:n;M(ce,b[j],pe)}return ce}function sw(b){return Ci(b)?b:[]}function pb(b){return typeof b=="function"?b:Wo}function Va(b,E){return cn(b)?b:xg(b,E)?[b]:Aw(hr(b))}var o2=hn;function il(b,E,M){var j=b.length;return M=M===n?j:M,!E&&M>=j?b:za(b,E,M)}var lg=Wk||function(b){return Hi.clearTimeout(b)};function lw(b,E){if(E)return b.slice();var M=b.length,j=Ky?Ky(M):new b.constructor(M);return b.copy(j),j}function cg(b){var E=new b.constructor(b.byteLength);return new tf(E).set(new tf(b)),E}function A3(b,E){var M=E?cg(b.buffer):b.buffer;return new b.constructor(M,b.byteOffset,b.byteLength)}function a2(b){var E=new b.constructor(b.source,mr.exec(b));return E.lastIndex=b.lastIndex,E}function s2(b){return Rh?gr(Rh.call(b)):{}}function cw(b,E){var M=E?cg(b.buffer):b.buffer;return new b.constructor(M,b.byteOffset,b.length)}function uw(b,E){if(b!==E){var M=b!==n,j=b===null,G=b===b,re=fa(b),ce=E!==n,pe=E===null,Ce=E===E,Ye=fa(E);if(!pe&&!Ye&&!re&&b>E||re&&ce&&Ce&&!pe&&!Ye||j&&ce&&Ce||!M&&Ce||!G)return 1;if(!j&&!re&&!Ye&&b<E||Ye&&M&&G&&!j&&!re||pe&&M&&G||!ce&&G||!Ce)return-1}return 0}function l2(b,E,M){for(var j=-1,G=b.criteria,re=E.criteria,ce=G.length,pe=M.length;++j<ce;){var Ce=uw(G[j],re[j]);if(Ce){if(j>=pe)return Ce;var Ye=M[j];return Ce*(Ye=="desc"?-1:1)}}return b.index-E.index}function mb(b,E,M,j){for(var G=-1,re=b.length,ce=M.length,pe=-1,Ce=E.length,Ye=di(re-ce,0),Ke=Pe(Ce+Ye),et=!j;++pe<Ce;)Ke[pe]=E[pe];for(;++G<ce;)(et||G<re)&&(Ke[M[G]]=b[G]);for(;Ye--;)Ke[pe++]=b[G++];return Ke}function dw(b,E,M,j){for(var G=-1,re=b.length,ce=-1,pe=M.length,Ce=-1,Ye=E.length,Ke=di(re-pe,0),et=Pe(Ke+Ye),pt=!j;++G<Ke;)et[G]=b[G];for(var Bt=G;++Ce<Ye;)et[Bt+Ce]=E[Ce];for(;++ce<pe;)(pt||G<re)&&(et[Bt+M[ce]]=b[G++]);return et}function Vo(b,E){var M=-1,j=b.length;for(E||(E=Pe(j));++M<j;)E[M]=b[M];return E}function Cs(b,E,M,j){var G=!M;M||(M={});for(var re=-1,ce=E.length;++re<ce;){var pe=E[re],Ce=j?j(M[pe],b[pe],pe,M,b):n;Ce===n&&(Ce=b[pe]),G?Ha(M,pe,Ce):Js(M,pe,Ce)}return M}function c2(b,E){return Cs(b,Sb(b),E)}function u2(b,E){return Cs(b,vg(b),E)}function gb(b,E){return function(M,j){var G=cn(M)?f3:Qk,re=E?E():{};return G(M,b,Gt(j,2),re)}}function Vu(b){return hn(function(E,M){var j=-1,G=M.length,re=G>1?M[G-1]:n,ce=G>2?M[2]:n;for(re=b.length>3&&typeof re=="function"?(G--,re):n,ce&&Oo(M[0],M[1],ce)&&(re=G<3?n:re,G=1),E=gr(E);++j<G;){var pe=M[j];pe&&b(E,pe,j,re)}return E})}function fw(b,E){return function(M,j){if(M==null)return M;if(!da(M))return b(M,j);for(var G=M.length,re=E?G:-1,ce=gr(M);(E?re--:++re<G)&&j(ce[re],re,ce)!==!1;);return M}}function hw(b){return function(E,M,j){for(var G=-1,re=gr(E),ce=j(E),pe=ce.length;pe--;){var Ce=ce[b?pe:++G];if(M(re[Ce],Ce,re)===!1)break}return E}}function pw(b,E,M){var j=E&w,G=ug(b);function re(){var ce=this&&this!==Hi&&this instanceof re?G:b;return ce.apply(j?M:this,arguments)}return re}function mw(b){return function(E){E=hr(E);var M=Jd(E)?ii(E):n,j=M?M[0]:E.charAt(0),G=M?il(M,1).join(""):E.slice(1);return j[b]()+G}}function df(b){return function(E){return Dx(T_(dp(E).replace(Nx,"")),b,"")}}function ug(b){return function(){var E=arguments;switch(E.length){case 0:return new b;case 1:return new b(E[0]);case 2:return new b(E[0],E[1]);case 3:return new b(E[0],E[1],E[2]);case 4:return new b(E[0],E[1],E[2],E[3]);case 5:return new b(E[0],E[1],E[2],E[3],E[4]);case 6:return new b(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new b(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var M=ju(b.prototype),j=b.apply(M,E);return Kr(j)?j:M}}function N3(b,E,M){var j=ug(b);function G(){for(var re=arguments.length,ce=Pe(re),pe=re,Ce=hi(G);pe--;)ce[pe]=arguments[pe];var Ye=re<3&&ce[0]!==Ce&&ce[re-1]!==Ce?[]:Rc(ce,Ce);if(re-=Ye.length,re<M)return vb(b,E,Kh,G.placeholder,n,ce,Ye,n,n,M-re);var Ke=this&&this!==Hi&&this instanceof G?j:b;return Ia(Ke,this,ce)}return G}function gw(b){return function(E,M,j){var G=gr(E);if(!da(E)){var re=Gt(M,3);E=Ji(E),M=function(pe){return re(G[pe],pe,G)}}var ce=b(E,M,j);return ce>-1?G[re?E[ce]:ce]:n}}function Gh(b){return ql(function(E){var M=E.length,j=M,G=ra.prototype.thru;for(b&&E.reverse();j--;){var re=E[j];if(typeof re!="function")throw new ja(a);if(G&&!ce&&oi(re)=="wrapper")var ce=new ra([],!0)}for(j=ce?j:M;++j<M;){re=E[j];var pe=oi(re),Ce=pe=="wrapper"?gg(re):n;Ce&&wg(Ce[0])&&Ce[1]==(R|N|O|L)&&!Ce[4].length&&Ce[9]==1?ce=ce[oi(Ce[0])].apply(ce,Ce[3]):ce=re.length==1&&wg(re)?ce[pe]():ce.thru(re)}return function(){var Ye=arguments,Ke=Ye[0];if(ce&&Ye.length==1&&cn(Ke))return ce.plant(Ke).value();for(var et=0,pt=M?E[et].apply(this,Ye):Ke;++et<M;)pt=E[et].call(this,pt);return pt}})}function Kh(b,E,M,j,G,re,ce,pe,Ce,Ye){var Ke=E&R,et=E&w,pt=E&T,Bt=E&(N|I),tn=E&B,kn=pt?n:ug(b);function nn(){for(var Un=arguments.length,Qn=Pe(Un),cl=Un;cl--;)Qn[cl]=arguments[cl];if(Bt)var Za=hi(nn),ul=qm(Qn,Za);if(j&&(Qn=mb(Qn,j,G,Bt)),re&&(Qn=dw(Qn,re,ce,Bt)),Un-=ul,Bt&&Un<Ye){var zi=Rc(Qn,Za);return vb(b,E,Kh,nn.placeholder,M,Qn,zi,pe,Ce,Ye-Un)}var Zc=et?M:this,bf=pt?Zc[b]:b;return Un=Qn.length,pe?Qn=Eg(Qn,pe):tn&&Un>1&&Qn.reverse(),Ke&&Ce<Un&&(Qn.length=Ce),this&&this!==Hi&&this instanceof nn&&(bf=kn||ug(bf)),bf.apply(Zc,Qn)}return nn}function dg(b,E){return function(M,j){return e2(M,b,E(j),{})}}function fg(b,E){return function(M,j){var G;if(M===n&&j===n)return E;if(M!==n&&(G=M),j!==n){if(G===n)return j;typeof M=="string"||typeof j=="string"?(M=oa(M),j=oa(j)):(M=rw(M),j=rw(j)),G=b(M,j)}return G}}function yb(b){return ql(function(E){return E=Wr(E,La(Gt())),hn(function(M){var j=this;return b(E,function(G){return Ia(G,j,M)})})})}function qu(b,E){E=E===n?" ":oa(E);var M=E.length;if(M<2)return M?rl(E,b):E;var j=rl(E,Nh(b/Eh(E)));return Jd(E)?il(ii(j),0,b).join(""):j.slice(0,b)}function d2(b,E,M,j){var G=E&w,re=ug(b);function ce(){for(var pe=-1,Ce=arguments.length,Ye=-1,Ke=j.length,et=Pe(Ke+Ce),pt=this&&this!==Hi&&this instanceof ce?re:b;++Ye<Ke;)et[Ye]=j[Ye];for(;Ce--;)et[Ye++]=arguments[++pe];return Ia(pt,G?M:this,et)}return ce}function bb(b){return function(E,M,j){return j&&typeof j!="number"&&Oo(E,M,j)&&(M=j=n),E=Kc(E),M===n?(M=E,E=0):M=Kc(M),j=j===n?E<M?1:-1:Kc(j),Jx(E,M,j,b)}}function hg(b){return function(E,M){return typeof E=="string"&&typeof M=="string"||(E=Xa(E),M=Xa(M)),b(E,M)}}function vb(b,E,M,j,G,re,ce,pe,Ce,Ye){var Ke=E&N,et=Ke?ce:n,pt=Ke?n:ce,Bt=Ke?re:n,tn=Ke?n:re;E|=Ke?O:A,E&=~(Ke?A:O),E&k||(E&=-4);var kn=[b,E,G,Bt,et,tn,pt,pe,Ce,Ye],nn=M.apply(n,kn);return wg(b)&&v2(nn,kn),nn.placeholder=j,Zh(nn,b,E)}function pg(b){var E=Yr[b];return function(M,j){if(M=Xa(M),j=j==null?0:Ni(en(j),292),j&&Ba(M)){var G=(hr(M)+"e").split("e"),re=E(G[0]+"e"+(+G[1]+j));return G=(hr(re)+"e").split("e"),+(G[0]+"e"+(+G[1]-j))}return E(M)}}var f2=Iu&&1/zy(new Iu([,-0]))[1]==ne?function(b){return new Iu(b)}:y;function yw(b){return function(E){var M=bo(E);return M==Ee?Uy(E):M==xe?v3(E):jk(E,b(E))}}function qo(b,E,M,j,G,re,ce,pe){var Ce=E&T;if(!Ce&&typeof b!="function")throw new ja(a);var Ye=j?j.length:0;if(Ye||(E&=-97,j=G=n),ce=ce===n?ce:di(en(ce),0),pe=pe===n?pe:en(pe),Ye-=G?G.length:0,E&A){var Ke=j,et=G;j=G=n}var pt=Ce?n:gg(b),Bt=[b,E,M,j,G,Ke,et,re,ce,pe];if(pt&&b2(Bt,pt),b=Bt[0],E=Bt[1],M=Bt[2],j=Bt[3],G=Bt[4],pe=Bt[9]=Bt[9]===n?Ce?0:b.length:di(Bt[9]-Ye,0),!pe&&E&(N|I)&&(E&=-25),!E||E==w)var tn=pw(b,E,M);else E==N||E==I?tn=N3(b,E,pe):(E==O||E==(w|O))&&!G.length?tn=d2(b,E,M,j):tn=Kh.apply(n,Bt);var kn=pt?nw:v2;return Zh(kn(tn,Bt),b,E)}function bw(b,E,M,j){return b===n||Ga(b,kh[M])&&!dr.call(j,M)?E:b}function vw(b,E,M,j,G,re){return Kr(b)&&Kr(E)&&(re.set(E,b),og(b,E,n,vw,re),re.delete(E)),b}function h2(b){return $g(b)?n:b}function mg(b,E,M,j,G,re){var ce=M&v,pe=b.length,Ce=E.length;if(pe!=Ce&&!(ce&&Ce>pe))return!1;var Ye=re.get(b),Ke=re.get(E);if(Ye&&Ke)return Ye==E&&Ke==b;var et=-1,pt=!0,Bt=M&x?new sf:n;for(re.set(b,E),re.set(E,b);++et<pe;){var tn=b[et],kn=E[et];if(j)var nn=ce?j(kn,tn,et,E,b,re):j(tn,kn,et,b,E,re);if(nn!==n){if(nn)continue;pt=!1;break}if(Bt){if(!Rx(E,function(Un,Qn){if(!Vm(Bt,Qn)&&(tn===Un||G(tn,Un,M,j,re)))return Bt.push(Qn)})){pt=!1;break}}else if(!(tn===kn||G(tn,kn,M,j,re))){pt=!1;break}}return re.delete(b),re.delete(E),pt}function p2(b,E,M,j,G,re,ce){switch(M){case it:if(b.byteLength!=E.byteLength||b.byteOffset!=E.byteOffset)return!1;b=b.buffer,E=E.buffer;case Be:return!(b.byteLength!=E.byteLength||!re(new tf(b),new tf(E)));case je:case Te:case It:return Ga(+b,+E);case Ge:return b.name==E.name&&b.message==E.message;case ue:case ke:return b==E+"";case Ee:var pe=Uy;case xe:var Ce=j&v;if(pe||(pe=zy),b.size!=E.size&&!Ce)return!1;var Ye=ce.get(b);if(Ye)return Ye==E;j|=x,ce.set(b,E);var Ke=mg(pe(b),pe(E),j,G,re,ce);return ce.delete(b),Ke;case Je:if(Rh)return Rh.call(b)==Rh.call(E)}return!1}function xw(b,E,M,j,G,re){var ce=M&v,pe=xb(b),Ce=pe.length,Ye=xb(E),Ke=Ye.length;if(Ce!=Ke&&!ce)return!1;for(var et=Ce;et--;){var pt=pe[et];if(!(ce?pt in E:dr.call(E,pt)))return!1}var Bt=re.get(b),tn=re.get(E);if(Bt&&tn)return Bt==E&&tn==b;var kn=!0;re.set(b,E),re.set(E,b);for(var nn=ce;++et<Ce;){pt=pe[et];var Un=b[pt],Qn=E[pt];if(j)var cl=ce?j(Qn,Un,pt,E,b,re):j(Un,Qn,pt,b,E,re);if(!(cl===n?Un===Qn||G(Un,Qn,M,j,re):cl)){kn=!1;break}nn||(nn=pt=="constructor")}if(kn&&!nn){var Za=b.constructor,ul=E.constructor;Za!=ul&&"constructor"in b&&"constructor"in E&&!(typeof Za=="function"&&Za instanceof Za&&typeof ul=="function"&&ul instanceof ul)&&(kn=!1)}return re.delete(b),re.delete(E),kn}function ql(b){return _b(_w(b,n,jr),b+"")}function xb(b){return Xx(b,Ji,Sb)}function ww(b){return Xx(b,ha,vg)}var gg=Oi?function(b){return Oi.get(b)}:y;function oi(b){for(var E=b.name+"",M=fr[E],j=dr.call(fr,E)?M.length:0;j--;){var G=M[j],re=G.func;if(re==null||re==b)return G.name}return E}function hi(b){var E=dr.call(ee,"placeholder")?ee:b;return E.placeholder}function Gt(){var b=ee.iteratee||Yg;return b=b===Yg?Uh:b,arguments.length?b(arguments[0],arguments[1]):b}function yg(b,E){var M=b.__data__;return Tb(E)?M[typeof E=="string"?"string":"hash"]:M.map}function wb(b){for(var E=Ji(b),M=E.length;M--;){var j=E[M],G=b[j];E[M]=[j,G,Wl(G)]}return E}function Wu(b,E){var M=Bk(b,E);return ig(M)?M:n}function bg(b){var E=dr.call(b,Pc),M=b[Pc];try{b[Pc]=n;var j=!0}catch{}var G=na.call(b);return j&&(E?b[Pc]=M:delete b[Pc]),G}var Sb=Xm?function(b){return b==null?[]:(b=gr(b),Du(Xm(b),function(E){return Gm.call(b,E)}))}:We,vg=Xm?function(b){for(var E=[];b;)Ru(E,Sb(b)),b=Hl(b);return E}:We,bo=yo;(ys&&bo(new ys(new ArrayBuffer(1)))!=it||$a&&bo(new $a)!=Ee||Zy&&bo(Zy.resolve())!=xr||Iu&&bo(new Iu)!=xe||rf&&bo(new rf)!=Qe)&&(bo=function(b){var E=yo(b),M=E==Yt?b.constructor:n,j=M?Mo(M):"";if(j)switch(j){case Fn:return it;case Pu:return Ee;case bs:return xr;case Vx:return xe;case Lu:return Qe}return E});function O3(b,E,M){for(var j=-1,G=M.length;++j<G;){var re=M[j],ce=re.size;switch(re.type){case"drop":b+=ce;break;case"dropRight":E-=ce;break;case"take":E=Ni(E,b+ce);break;case"takeRight":b=di(b,E-ce);break}}return{start:b,end:E}}function Eb(b){var E=b.match(_t);return E?E[1].split($t):[]}function Cb(b,E,M){E=Va(E,b);for(var j=-1,G=E.length,re=!1;++j<G;){var ce=aa(E[j]);if(!(re=b!=null&&M(b,ce)))break;b=b[ce]}return re||++j!=G?re:(G=b==null?0:b.length,!!G&&Fb(G)&&ol(ce,G)&&(cn(b)||gf(b)))}function m2(b){var E=b.length,M=new b.constructor(E);return E&&typeof b[0]=="string"&&dr.call(b,"index")&&(M.index=b.index,M.input=b.input),M}function Sw(b){return typeof b.constructor=="function"&&!Xh(b)?ju(Hl(b)):{}}function g2(b,E,M){var j=b.constructor;switch(E){case Be:return cg(b);case je:case Te:return new j(+b);case it:return A3(b,M);case At:case Wt:case Zn:case Tn:case or:case Yn:case wr:case un:case xi:return cw(b,M);case Ee:return new j;case It:case ke:return new j(b);case ue:return a2(b);case xe:return new j;case Je:return s2(b)}}function Ew(b,E){var M=E.length;if(!M)return b;var j=M-1;return E[j]=(M>1?"& ":"")+E[j],E=E.join(M>2?", ":" "),b.replace(bt,`{
/* [wrapped with `+E+`] */
`)}function Cw(b){return cn(b)||gf(b)||!!(qk&&b&&b[qk])}function ol(b,E){var M=typeof b;return E=E??X,!!E&&(M=="number"||M!="symbol"&&Gs.test(b))&&b>-1&&b%1==0&&b<E}function Oo(b,E,M){if(!Kr(M))return!1;var j=typeof E;return(j=="number"?da(M)&&ol(E,M.length):j=="string"&&E in M)?Ga(M[E],b):!1}function xg(b,E){if(cn(b))return!1;var M=typeof b;return M=="number"||M=="symbol"||M=="boolean"||b==null||fa(b)?!0:le.test(b)||!ui.test(b)||E!=null&&b in gr(E)}function Tb(b){var E=typeof b;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?b!=="__proto__":b===null}function wg(b){var E=oi(b),M=ee[E];if(typeof M!="function"||!(E in dn.prototype))return!1;if(b===M)return!0;var j=gg(M);return!!j&&b===j[0]}function y2(b){return!!Yy&&Yy in b}var Tw=qy?Ka:Me;function Xh(b){var E=b&&b.constructor,M=typeof E=="function"&&E.prototype||kh;return b===M}function Wl(b){return b===b&&!Kr(b)}function kb(b,E){return function(M){return M==null?!1:M[b]===E&&(E!==n||b in gr(M))}}function M3(b){var E=Pg(b,function(j){return M.size===c&&M.clear(),j}),M=E.cache;return E}function b2(b,E){var M=b[1],j=E[1],G=M|j,re=G<(w|T|R),ce=j==R&&M==N||j==R&&M==L&&b[7].length<=E[8]||j==(R|L)&&E[7].length<=E[8]&&M==N;if(!(re||ce))return b;j&w&&(b[2]=E[2],G|=M&w?0:k);var pe=E[3];if(pe){var Ce=b[3];b[3]=Ce?mb(Ce,pe,E[4]):pe,b[4]=Ce?Rc(b[3],u):E[4]}return pe=E[5],pe&&(Ce=b[5],b[5]=Ce?dw(Ce,pe,E[6]):pe,b[6]=Ce?Rc(b[5],u):E[6]),pe=E[7],pe&&(b[7]=pe),j&R&&(b[8]=b[8]==null?E[8]:Ni(b[8],E[8])),b[9]==null&&(b[9]=E[9]),b[0]=E[0],b[1]=G,b}function Uc(b){var E=[];if(b!=null)for(var M in gr(b))E.push(M);return E}function kw(b){return na.call(b)}function _w(b,E,M){return E=di(E===n?b.length-1:E,0),function(){for(var j=arguments,G=-1,re=di(j.length-E,0),ce=Pe(re);++G<re;)ce[G]=j[E+G];G=-1;for(var pe=Pe(E+1);++G<E;)pe[G]=j[G];return pe[E]=M(ce),Ia(b,this,pe)}}function Sg(b,E){return E.length<2?b:Vl(b,za(E,0,-1))}function Eg(b,E){for(var M=b.length,j=Ni(E.length,M),G=Vo(b);j--;){var re=E[j];b[j]=ol(re,M)?G[re]:n}return b}function Nr(b,E){if(!(E==="constructor"&&typeof b[E]=="function")&&E!="__proto__")return b[E]}var v2=zc(nw),Cg=nf||function(b,E){return Hi.setTimeout(b,E)},_b=zc(t2);function Zh(b,E,M){var j=E+"";return _b(b,Ew(j,x2(Eb(j),M)))}function zc(b){var E=0,M=0;return function(){var j=ms(),G=Y-(j-M);if(M=j,G>0){if(++E>=z)return arguments[0]}else E=0;return b.apply(n,arguments)}}function Tg(b,E){var M=-1,j=b.length,G=j-1;for(E=E===n?j:E;++M<E;){var re=qh(M,G),ce=b[re];b[re]=b[M],b[M]=ce}return b.length=E,b}var Aw=M3(function(b){var E=[];return b.charCodeAt(0)===46&&E.push(""),b.replace(ye,function(M,j,G,re){E.push(G?re.replace(gt,"$1"):j||M)}),E});function aa(b){if(typeof b=="string"||fa(b))return b;var E=b+"";return E=="0"&&1/b==-ne?"-0":E}function Mo(b){if(b!=null){try{return Wy.call(b)}catch{}try{return b+""}catch{}}return""}function x2(b,E){return Pa(he,function(M){var j="_."+M[0];E&M[1]&&!Ly(b,j)&&b.push(j)}),b.sort()}function Ab(b){if(b instanceof dn)return b.clone();var E=new ra(b.__wrapped__,b.__chain__);return E.__actions__=Vo(b.__actions__),E.__index__=b.__index__,E.__values__=b.__values__,E}function w2(b,E,M){(M?Oo(b,E,M):E===n)?E=1:E=di(en(E),0);var j=b==null?0:b.length;if(!j||E<1)return[];for(var G=0,re=0,ce=Pe(Nh(j/E));G<j;)ce[re++]=za(b,G,G+=E);return ce}function Nw(b){for(var E=-1,M=b==null?0:b.length,j=0,G=[];++E<M;){var re=b[E];re&&(G[j++]=re)}return G}function Ow(){var b=arguments.length;if(!b)return[];for(var E=Pe(b-1),M=arguments[0],j=b;j--;)E[j-1]=arguments[j];return Ru(cn(M)?Vo(M):[M],Fi(E,1))}var Nb=hn(function(b,E){return Ci(b)?ws(b,Fi(E,1,Ci,!0)):[]}),S2=hn(function(b,E){var M=Br(E);return Ci(M)&&(M=n),Ci(b)?ws(b,Fi(E,1,Ci,!0),Gt(M,2)):[]}),Vc=hn(function(b,E){var M=Br(E);return Ci(M)&&(M=n),Ci(b)?ws(b,Fi(E,1,Ci,!0),n,M):[]});function Di(b,E,M){var j=b==null?0:b.length;return j?(E=M||E===n?1:en(E),za(b,E<0?0:E,j)):[]}function Mw(b,E,M){var j=b==null?0:b.length;return j?(E=M||E===n?1:en(E),E=j-E,za(b,0,E<0?0:E)):[]}function E2(b,E){return b&&b.length?sg(b,Gt(E,3),!0,!0):[]}function Qi(b,E){return b&&b.length?sg(b,Gt(E,3),!0):[]}function D3(b,E,M,j){var G=b==null?0:b.length;return G?(M&&typeof M!="number"&&Oo(b,E,M)&&(M=0,j=G),tg(b,E,M,j)):[]}function Dw(b,E,M){var j=b==null?0:b.length;if(!j)return-1;var G=M==null?0:en(M);return G<0&&(G=di(j+G,0)),jy(b,Gt(E,3),G)}function Rw(b,E,M){var j=b==null?0:b.length;if(!j)return-1;var G=j-1;return M!==n&&(G=en(M),G=M<0?di(j+G,0):Ni(G,j-1)),jy(b,Gt(E,3),G,!0)}function jr(b){var E=b==null?0:b.length;return E?Fi(b,1):[]}function sa(b){var E=b==null?0:b.length;return E?Fi(b,ne):[]}function qc(b,E){var M=b==null?0:b.length;return M?(E=E===n?1:en(E),Fi(b,E)):[]}function C2(b){for(var E=-1,M=b==null?0:b.length,j={};++E<M;){var G=b[E];j[G[0]]=G[1]}return j}function Iw(b){return b&&b.length?b[0]:n}function T2(b,E,M){var j=b==null?0:b.length;if(!j)return-1;var G=M==null?0:en(M);return G<0&&(G=di(j+G,0)),Sh(b,E,G)}function R3(b){var E=b==null?0:b.length;return E?za(b,0,-1):[]}var Ob=hn(function(b){var E=Wr(b,sw);return E.length&&E[0]===b[0]?rg(E):[]}),la=hn(function(b){var E=Br(b),M=Wr(b,sw);return E===Br(M)?E=n:M.pop(),M.length&&M[0]===b[0]?rg(M,Gt(E,2)):[]}),al=hn(function(b){var E=Br(b),M=Wr(b,sw);return E=typeof E=="function"?E:n,E&&M.pop(),M.length&&M[0]===b[0]?rg(M,n,E):[]});function k2(b,E){return b==null?"":Oh.call(b,E)}function Br(b){var E=b==null?0:b.length;return E?b[E-1]:n}function _2(b,E,M){var j=b==null?0:b.length;if(!j)return-1;var G=j;return M!==n&&(G=en(M),G=G<0?di(j+G,0):Ni(G,j-1)),E===E?w3(b,E,G):jy(b,Pk,G,!0)}function Wc(b,E){return b&&b.length?ub(b,en(E)):n}var ff=hn(Yl);function Yl(b,E){return b&&b.length&&E&&E.length?zh(b,E):b}function Pw(b,E,M){return b&&b.length&&E&&E.length?zh(b,E,Gt(M,2)):b}function Lw(b,E,M){return b&&b.length&&E&&E.length?zh(b,E,n,M):b}var sl=ql(function(b,E){var M=b==null?0:b.length,j=$h(b,E);return Vh(b,Wr(E,function(G){return ol(G,M)?+G:G}).sort(uw)),j});function A2(b,E){var M=[];if(!(b&&b.length))return M;var j=-1,G=[],re=b.length;for(E=Gt(E,3);++j<re;){var ce=b[j];E(ce,j,b)&&(M.push(ce),G.push(j))}return Vh(b,G),M}function Yu(b){return b==null?b:Fl.call(b)}function kg(b,E,M){var j=b==null?0:b.length;return j?(M&&typeof M!="number"&&Oo(b,E,M)?(E=0,M=j):(E=E==null?0:en(E),M=M===n?j:en(M)),za(b,E,M)):[]}function _g(b,E){return Yh(b,E)}function Qh(b,E,M){return fb(b,E,Gt(M,2))}function N2(b,E){var M=b==null?0:b.length;if(M){var j=Yh(b,E);if(j<M&&Ga(b[j],E))return j}return-1}function O2(b,E){return Yh(b,E,!0)}function Ag(b,E,M){return fb(b,E,Gt(M,2),!0)}function M2(b,E){var M=b==null?0:b.length;if(M){var j=Yh(b,E,!0)-1;if(Ga(b[j],E))return j}return-1}function Mb(b){return b&&b.length?i2(b):[]}function D2(b,E){return b&&b.length?i2(b,Gt(E,2)):[]}function I3(b){var E=b==null?0:b.length;return E?za(b,1,E):[]}function P3(b,E,M){return b&&b.length?(E=M||E===n?1:en(E),za(b,0,E<0?0:E)):[]}function sr(b,E,M){var j=b==null?0:b.length;return j?(E=M||E===n?1:en(E),E=j-E,za(b,E<0?0:E,j)):[]}function Or(b,E){return b&&b.length?sg(b,Gt(E,3),!1,!0):[]}function On(b,E){return b&&b.length?sg(b,Gt(E,3)):[]}var In=hn(function(b){return Fc(Fi(b,1,Ci,!0))}),yr=hn(function(b){var E=Br(b);return Ci(E)&&(E=n),Fc(Fi(b,1,Ci,!0),Gt(E,2))}),qa=hn(function(b){var E=Br(b);return E=typeof E=="function"?E:n,Fc(Fi(b,1,Ci,!0),n,E)});function Gu(b){return b&&b.length?Fc(b):[]}function Jh(b,E){return b&&b.length?Fc(b,Gt(E,2)):[]}function jw(b,E){return E=typeof E=="function"?E:n,b&&b.length?Fc(b,n,E):[]}function ll(b){if(!(b&&b.length))return[];var E=0;return b=Du(b,function(M){if(Ci(M))return E=di(M.length,E),!0}),Hy(E,function(M){return Wr(b,Zd(M))})}function ai(b,E){if(!(b&&b.length))return[];var M=ll(b);return E==null?M:Wr(M,function(j){return Ia(E,n,j)})}var Ku=hn(function(b,E){return Ci(b)?ws(b,E):[]}),hf=hn(function(b){return hb(Du(b,Ci))}),Bw=hn(function(b){var E=Br(b);return Ci(E)&&(E=n),hb(Du(b,Ci),Gt(E,2))}),Wa=hn(function(b){var E=Br(b);return E=typeof E=="function"?E:n,hb(Du(b,Ci),n,E)}),ep=hn(ll);function Ng(b,E){return aw(b||[],E||[],Js)}function ca(b,E){return aw(b||[],E||[],Wh)}var $w=hn(function(b){var E=b.length,M=E>1?b[E-1]:n;return M=typeof M=="function"?(b.pop(),M):n,ai(b,M)});function Og(b){var E=ee(b);return E.__chain__=!0,E}function R2(b,E){return E(b),b}function pf(b,E){return E(b)}var Db=ql(function(b){var E=b.length,M=E?b[0]:0,j=this.__wrapped__,G=function(re){return $h(re,b)};return E>1||this.__actions__.length||!(j instanceof dn)||!ol(M)?this.thru(G):(j=j.slice(M,+M+(E?1:0)),j.__actions__.push({func:pf,args:[G],thisArg:n}),new ra(j,this.__chain__).thru(function(re){return E&&!re.length&&re.push(n),re}))});function Xu(){return Og(this)}function Ui(){return new ra(this.value(),this.__chain__)}function Zu(){this.__values__===n&&(this.__values__=r_(this.value()));var b=this.__index__>=this.__values__.length,E=b?n:this.__values__[this.__index__++];return{done:b,value:E}}function tp(){return this}function Yc(b){for(var E,M=this;M instanceof Bu;){var j=Ab(M);j.__index__=0,j.__values__=n,E?G.__wrapped__=j:E=j;var G=j;M=M.__wrapped__}return G.__wrapped__=b,E}function Hw(){var b=this.__wrapped__;if(b instanceof dn){var E=b;return this.__actions__.length&&(E=new dn(this)),E=E.reverse(),E.__actions__.push({func:pf,args:[Yu],thisArg:n}),new ra(E,this.__chain__)}return this.thru(Yu)}function Fw(){return ow(this.__wrapped__,this.__actions__)}var I2=gb(function(b,E,M){dr.call(b,M)?++b[M]:Ha(b,M,1)});function Mg(b,E,M){var j=cn(b)?Dk:Fu;return M&&Oo(b,E,M)&&(E=n),j(b,Gt(E,3))}function Uw(b,E){var M=cn(b)?Du:ib;return M(b,Gt(E,3))}var Ya=gw(Dw),P2=gw(Rw);function ua(b,E){return Fi(Dg(b,E),1)}function L2(b,E){return Fi(Dg(b,E),ne)}function j2(b,E,M){return M=M===n?1:en(M),Fi(Dg(b,E),M)}function B2(b,E){var M=cn(b)?Pa:zl;return M(b,Gt(E,3))}function Gc(b,E){var M=cn(b)?h3:rb;return M(b,Gt(E,3))}var Rb=gb(function(b,E,M){dr.call(b,M)?b[M].push(E):Ha(b,M,[E])});function zw(b,E,M,j){b=da(b)?b:up(b),M=M&&!j?en(M):0;var G=b.length;return M<0&&(M=di(G+M,0)),Ug(b)?M<=G&&b.indexOf(E,M)>-1:!!G&&Sh(b,E,M)>-1}var np=hn(function(b,E,M){var j=-1,G=typeof E=="function",re=da(b)?Pe(b.length):[];return zl(b,function(ce){re[++j]=G?Ia(E,ce,M):Es(ce,E,M)}),re}),$2=gb(function(b,E,M){Ha(b,M,E)});function Dg(b,E){var M=cn(b)?Wr:lb;return M(b,Gt(E,3))}function H2(b,E,M,j){return b==null?[]:(cn(E)||(E=E==null?[]:[E]),M=j?n:M,cn(M)||(M=M==null?[]:[M]),db(b,E,M))}var F2=gb(function(b,E,M){b[M?0:1].push(E)},function(){return[[],[]]});function Ib(b,E,M){var j=cn(b)?Dx:Px,G=arguments.length<3;return j(b,Gt(E,4),M,G,zl)}function Vw(b,E,M){var j=cn(b)?Rk:Px,G=arguments.length<3;return j(b,Gt(E,4),M,G,rb)}function L3(b,E){var M=cn(b)?Du:ib;return M(b,jb(Gt(E,3)))}function j3(b){var E=cn(b)?eg:ew;return E(b)}function B3(b,E,M){(M?Oo(b,E,M):E===n)?E=1:E=en(E);var j=cn(b)?tb:tw;return j(b,E)}function U2(b){var E=cn(b)?Zk:n2;return E(b)}function z2(b){if(b==null)return 0;if(da(b))return Ug(b)?Eh(b):b.length;var E=bo(b);return E==Ee||E==xe?b.size:zu(b).length}function rp(b,E,M){var j=cn(b)?Rx:r2;return M&&Oo(b,E,M)&&(E=n),j(b,Gt(E,3))}var Pb=hn(function(b,E){if(b==null)return[];var M=E.length;return M>1&&Oo(b,E[0],E[1])?E=[]:M>2&&Oo(E[0],E[1],E[2])&&(E=[E[0]]),db(b,Fi(E,1),[])}),Rg=Xy||function(){return Hi.Date.now()};function V2(b,E){if(typeof E!="function")throw new ja(a);return b=en(b),function(){if(--b<1)return E.apply(this,arguments)}}function qw(b,E,M){return E=M?n:E,E=b&&E==null?b.length:E,qo(b,R,n,n,n,n,E)}function Ww(b,E){var M;if(typeof E!="function")throw new ja(a);return b=en(b),function(){return--b>0&&(M=E.apply(this,arguments)),b<=1&&(E=n),M}}var Lb=hn(function(b,E,M){var j=w;if(M.length){var G=Rc(M,hi(Lb));j|=O}return qo(b,j,E,M,G)}),Yw=hn(function(b,E,M){var j=w|T;if(M.length){var G=Rc(M,hi(Yw));j|=O}return qo(E,j,b,M,G)});function Ig(b,E,M){E=M?n:E;var j=qo(b,N,n,n,n,n,n,E);return j.placeholder=Ig.placeholder,j}function Gw(b,E,M){E=M?n:E;var j=qo(b,I,n,n,n,n,n,E);return j.placeholder=Gw.placeholder,j}function Kw(b,E,M){var j,G,re,ce,pe,Ce,Ye=0,Ke=!1,et=!1,pt=!0;if(typeof b!="function")throw new ja(a);E=Xa(E)||0,Kr(M)&&(Ke=!!M.leading,et="maxWait"in M,re=et?di(Xa(M.maxWait)||0,E):re,pt="trailing"in M?!!M.trailing:pt);function Bt(zi){var Zc=j,bf=G;return j=G=n,Ye=zi,ce=b.apply(bf,Zc),ce}function tn(zi){return Ye=zi,pe=Cg(Un,E),Ke?Bt(zi):ce}function kn(zi){var Zc=zi-Ce,bf=zi-Ye,oz=E-Zc;return et?Ni(oz,re-bf):oz}function nn(zi){var Zc=zi-Ce,bf=zi-Ye;return Ce===n||Zc>=E||Zc<0||et&&bf>=re}function Un(){var zi=Rg();if(nn(zi))return Qn(zi);pe=Cg(Un,kn(zi))}function Qn(zi){return pe=n,pt&&j?Bt(zi):(j=G=n,ce)}function cl(){pe!==n&&lg(pe),Ye=0,j=Ce=G=pe=n}function Za(){return pe===n?ce:Qn(Rg())}function ul(){var zi=Rg(),Zc=nn(zi);if(j=arguments,G=this,Ce=zi,Zc){if(pe===n)return tn(Ce);if(et)return lg(pe),pe=Cg(Un,E),Bt(Ce)}return pe===n&&(pe=Cg(Un,E)),ce}return ul.cancel=cl,ul.flush=Za,ul}var br=hn(function(b,E){return Kx(b,1,E)}),Xw=hn(function(b,E,M){return Kx(b,Xa(E)||0,M)});function $3(b){return qo(b,B)}function Pg(b,E){if(typeof b!="function"||E!=null&&typeof E!="function")throw new ja(a);var M=function(){var j=arguments,G=E?E.apply(this,j):j[0],re=M.cache;if(re.has(G))return re.get(G);var ce=b.apply(this,j);return M.cache=re.set(G,ce)||re,ce};return M.cache=new(Pg.Cache||Qs),M}Pg.Cache=Qs;function jb(b){if(typeof b!="function")throw new ja(a);return function(){var E=arguments;switch(E.length){case 0:return!b.call(this);case 1:return!b.call(this,E[0]);case 2:return!b.call(this,E[0],E[1]);case 3:return!b.call(this,E[0],E[1],E[2])}return!b.apply(this,E)}}function H3(b){return Ww(2,b)}var F3=o2(function(b,E){E=E.length==1&&cn(E[0])?Wr(E[0],La(Gt())):Wr(Fi(E,1),La(Gt()));var M=E.length;return hn(function(j){for(var G=-1,re=Ni(j.length,M);++G<re;)j[G]=E[G].call(this,j[G]);return Ia(b,this,j)})}),ip=hn(function(b,E){var M=Rc(E,hi(ip));return qo(b,O,n,E,M)}),mf=hn(function(b,E){var M=Rc(E,hi(mf));return qo(b,A,n,E,M)}),Zw=ql(function(b,E){return qo(b,L,n,n,n,E)});function Bb(b,E){if(typeof b!="function")throw new ja(a);return E=E===n?E:en(E),hn(b,E)}function Qw(b,E){if(typeof b!="function")throw new ja(a);return E=E==null?0:di(en(E),0),hn(function(M){var j=M[E],G=il(M,0,E);return j&&Ru(G,j),Ia(b,this,G)})}function Qu(b,E,M){var j=!0,G=!0;if(typeof b!="function")throw new ja(a);return Kr(M)&&(j="leading"in M?!!M.leading:j,G="trailing"in M?!!M.trailing:G),Kw(b,E,{leading:j,maxWait:E,trailing:G})}function Gl(b){return qw(b,1)}function Lg(b,E){return ip(pb(E),b)}function U3(){if(!arguments.length)return[];var b=arguments[0];return cn(b)?b:[b]}function q2(b){return zo(b,m)}function W2(b,E){return E=typeof E=="function"?E:n,zo(b,m,E)}function Y2(b){return zo(b,d|m)}function G2(b,E){return E=typeof E=="function"?E:n,zo(b,d|m,E)}function z3(b,E){return E==null||Hu(b,E,Ji(E))}function Ga(b,E){return b===E||b!==b&&E!==E}var K2=hg(ng),X2=hg(function(b,E){return b>=E}),gf=ia((function(){return arguments})())?ia:function(b){return pi(b)&&dr.call(b,"callee")&&!Gm.call(b,"callee")},cn=Pe.isArray,Jw=_k?La(_k):Si;function da(b){return b!=null&&Fb(b.length)&&!Ka(b)}function Ci(b){return pi(b)&&da(b)}function jg(b){return b===!0||b===!1||pi(b)&&yo(b)==je}var Ju=Yk||Me,Z2=Ak?La(Ak):ab;function Mn(b){return pi(b)&&b.nodeType===1&&!$g(b)}function eS(b){if(b==null)return!0;if(da(b)&&(cn(b)||typeof b=="string"||typeof b.splice=="function"||Ju(b)||ed(b)||gf(b)))return!b.length;var E=bo(b);if(E==Ee||E==xe)return!b.size;if(Xh(b))return!zu(b).length;for(var M in b)if(dr.call(b,M))return!1;return!0}function $b(b,E){return Ua(b,E)}function tS(b,E,M){M=typeof M=="function"?M:n;var j=M?M(b,E):n;return j===n?Ua(b,E,n,M):!!j}function Hb(b){if(!pi(b))return!1;var E=yo(b);return E==Ge||E==He||typeof b.message=="string"&&typeof b.name=="string"&&!$g(b)}function nS(b){return typeof b=="number"&&Ba(b)}function Ka(b){if(!Kr(b))return!1;var E=yo(b);return E==De||E==Ft||E==ve||E==er}function Bg(b){return typeof b=="number"&&b==en(b)}function Fb(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=X}function Kr(b){var E=typeof b;return b!=null&&(E=="object"||E=="function")}function pi(b){return b!=null&&typeof b=="object"}var Q2=Py?La(Py):Er;function J2(b,E){return b===E||fi(b,E,wb(E))}function e_(b,E,M){return M=typeof M=="function"?M:n,fi(b,E,wb(E),M)}function Cr(b){return iS(b)&&b!=+b}function rS(b){if(Tw(b))throw new ln(o);return ig(b)}function vo(b){return b===null}function V3(b){return b==null}function iS(b){return typeof b=="number"||pi(b)&&yo(b)==It}function $g(b){if(!pi(b)||yo(b)!=Yt)return!1;var E=Hl(b);if(E===null)return!0;var M=dr.call(E,"constructor")&&E.constructor;return typeof M=="function"&&M instanceof M&&Wy.call(M)==Gy}var Hg=Nk?La(Nk):Fh;function oS(b){return Bg(b)&&b>=-X&&b<=X}var Fg=Ok?La(Ok):uf;function Ug(b){return typeof b=="string"||!cn(b)&&pi(b)&&yo(b)==ke}function fa(b){return typeof b=="symbol"||pi(b)&&yo(b)==Je}var ed=Mk?La(Mk):sb;function aS(b){return b===n}function q3(b){return pi(b)&&bo(b)==Qe}function t_(b){return pi(b)&&yo(b)==ge}var W3=hg(Gr),n_=hg(function(b,E){return b<=E});function r_(b){if(!b)return[];if(da(b))return Ug(b)?ii(b):Vo(b);if(mo&&b[mo])return Hx(b[mo]());var E=bo(b),M=E==Ee?Uy:E==xe?zy:up;return M(b)}function Kc(b){if(!b)return b===0?b:0;if(b=Xa(b),b===ne||b===-ne){var E=b<0?-1:1;return E*oe}return b===b?b:0}function en(b){var E=Kc(b),M=E%1;return E===E?M?E-M:E:0}function sS(b){return b?el(en(b),0,Q):0}function Xa(b){if(typeof b=="number")return b;if(fa(b))return K;if(Kr(b)){var E=typeof b.valueOf=="function"?b.valueOf():b;b=Kr(E)?E+"":E}if(typeof b!="string")return b===0?b:+b;b=Qd(b);var M=po.test(b);return M||ar.test(b)?Ry(b.slice(2),M?2:8):Ai.test(b)?K:+b}function Ub(b){return Cs(b,ha(b))}function Y3(b){return b?el(en(b),-X,X):b===0?b:0}function hr(b){return b==null?"":oa(b)}var i_=Vu(function(b,E){if(Xh(E)||da(E)){Cs(E,Ji(E),b);return}for(var M in E)dr.call(E,M)&&Js(b,M,E[M])}),zb=Vu(function(b,E){Cs(E,ha(E),b)}),op=Vu(function(b,E,M,j){Cs(E,ha(E),b,j)}),G3=Vu(function(b,E,M,j){Cs(E,Ji(E),b,j)}),Ts=ql($h);function lS(b,E){var M=ju(b);return E==null?M:Gx(M,E)}var o_=hn(function(b,E){b=gr(b);var M=-1,j=E.length,G=j>2?E[2]:n;for(G&&Oo(E[0],E[1],G)&&(j=1);++M<j;)for(var re=E[M],ce=ha(re),pe=-1,Ce=ce.length;++pe<Ce;){var Ye=ce[pe],Ke=b[Ye];(Ke===n||Ga(Ke,kh[Ye])&&!dr.call(b,Ye))&&(b[Ye]=re[Ye])}return b}),a_=hn(function(b){return b.push(n,vw),Ia(sp,n,b)});function s_(b,E){return Ik(b,Gt(E,3),nl)}function zg(b,E){return Ik(b,Gt(E,3),ob)}function ks(b,E){return b==null?b:cf(b,Gt(E,3),ha)}function l_(b,E){return b==null?b:Hh(b,Gt(E,3),ha)}function Vb(b,E){return b&&nl(b,Gt(E,3))}function Xc(b,E){return b&&ob(b,Gt(E,3))}function K3(b){return b==null?[]:Hc(b,Ji(b))}function X3(b){return b==null?[]:Hc(b,ha(b))}function td(b,E,M){var j=b==null?n:Vl(b,E);return j===n?M:j}function c_(b,E){return b!=null&&Cb(b,E,Fa)}function cS(b,E){return b!=null&&Cb(b,E,Ss)}var Z3=dg(function(b,E,M){E!=null&&typeof E.toString!="function"&&(E=na.call(E)),b[E]=M},fp(Wo)),Q3=dg(function(b,E,M){E!=null&&typeof E.toString!="function"&&(E=na.call(E)),dr.call(b,E)?b[E].push(M):b[E]=[M]},Gt),J3=hn(Es);function Ji(b){return da(b)?eb(b):zu(b)}function ha(b){return da(b)?eb(b,!0):k3(b)}function eI(b,E){var M={};return E=Gt(E,3),nl(b,function(j,G,re){Ha(M,E(j,G,re),j)}),M}function u_(b,E){var M={};return E=Gt(E,3),nl(b,function(j,G,re){Ha(M,G,E(j,G,re))}),M}var ap=Vu(function(b,E,M){og(b,E,M)}),sp=Vu(function(b,E,M,j){og(b,E,M,j)}),d_=ql(function(b,E){var M={};if(b==null)return M;var j=!1;E=Wr(E,function(re){return re=Va(re,b),j||(j=re.length>1),re}),Cs(b,ww(b),M),j&&(M=zo(M,d|p|m,h2));for(var G=E.length;G--;)ag(M,E[G]);return M});function tI(b,E){return cp(b,jb(Gt(E)))}var lp=ql(function(b,E){return b==null?{}:Qx(b,E)});function cp(b,E){if(b==null)return{};var M=Wr(ww(b),function(j){return[j]});return E=Gt(E),No(b,M,function(j,G){return E(j,G[0])})}function f_(b,E,M){E=Va(E,b);var j=-1,G=E.length;for(G||(G=1,b=n);++j<G;){var re=b==null?n:b[aa(E[j])];re===n&&(j=G,re=M),b=Ka(re)?re.call(b):re}return b}function qb(b,E,M){return b==null?b:Wh(b,E,M)}function uS(b,E,M,j){return j=typeof j=="function"?j:n,b==null?b:Wh(b,E,M,j)}var Wb=yw(Ji),Vg=yw(ha);function h_(b,E,M){var j=cn(b),G=j||Ju(b)||ed(b);if(E=Gt(E,4),M==null){var re=b&&b.constructor;G?M=j?new re:[]:Kr(b)?M=Ka(re)?ju(Hl(b)):{}:M={}}return(G?Pa:nl)(b,function(ce,pe,Ce){return E(M,ce,pe,Ce)}),M}function p_(b,E){return b==null?!0:ag(b,E)}function nI(b,E,M){return b==null?b:iw(b,E,pb(M))}function m_(b,E,M,j){return j=typeof j=="function"?j:n,b==null?b:iw(b,E,pb(M),j)}function up(b){return b==null?[]:Lx(b,Ji(b))}function dS(b){return b==null?[]:Lx(b,ha(b))}function rI(b,E,M){return M===n&&(M=E,E=n),M!==n&&(M=Xa(M),M=M===M?M:0),E!==n&&(E=Xa(E),E=E===E?E:0),el(Xa(b),E,M)}function Yb(b,E,M){return E=Kc(E),M===n?(M=E,E=0):M=Kc(M),b=Xa(b),Uu(b,E,M)}function Gb(b,E,M){if(M&&typeof M!="boolean"&&Oo(b,E,M)&&(E=M=n),M===n&&(typeof E=="boolean"?(M=E,E=n):typeof b=="boolean"&&(M=b,b=n)),b===n&&E===n?(b=0,E=1):(b=Kc(b),E===n?(E=b,b=0):E=Kc(E)),b>E){var j=b;b=E,E=j}if(M||b%1||E%1){var G=Lc();return Ni(b+G*(E-b+Xd("1e-"+((G+"").length-1))),E)}return qh(b,E)}var Kb=df(function(b,E,M){return E=E.toLowerCase(),b+(M?g_(E):E)});function g_(b){return yf(hr(b).toLowerCase())}function dp(b){return b=hr(b),b&&b.replace(us,Wm).replace(Tk,"")}function iI(b,E,M){b=hr(b),E=oa(E);var j=b.length;M=M===n?j:el(en(M),0,j);var G=M;return M-=E.length,M>=0&&b.slice(M,G)==E}function y_(b){return b=hr(b),b&&xt.test(b)?b.replace(jt,b3):b}function b_(b){return b=hr(b),b&&Xe.test(b)?b.replace(Re,"\\$&"):b}var v_=df(function(b,E,M){return b+(M?"-":"")+E.toLowerCase()}),x_=df(function(b,E,M){return b+(M?" ":"")+E.toLowerCase()}),fS=mw("toLowerCase");function w_(b,E,M){b=hr(b),E=en(E);var j=E?Eh(b):0;if(!E||j>=E)return b;var G=(E-j)/2;return qu(Km(G),M)+b+qu(Nh(G),M)}function S_(b,E,M){b=hr(b),E=en(E);var j=E?Eh(b):0;return E&&j<E?b+qu(E-j,M):b}function Xb(b,E,M){b=hr(b),E=en(E);var j=E?Eh(b):0;return E&&j<E?qu(E-j,M)+b:b}function oI(b,E,M){return M||E==null?E=0:E&&(E=+E),gs(hr(b).replace(nt,""),E||0)}function aI(b,E,M){return(M?Oo(b,E,M):E===n)?E=1:E=en(E),rl(hr(b),E)}function hS(){var b=arguments,E=hr(b[0]);return b.length<3?E:E.replace(b[1],b[2])}var pS=df(function(b,E,M){return b+(M?"_":"")+E.toLowerCase()});function Zb(b,E,M){return M&&typeof M!="number"&&Oo(b,E,M)&&(E=M=n),M=M===n?Q:M>>>0,M?(b=hr(b),b&&(typeof E=="string"||E!=null&&!Hg(E))&&(E=oa(E),!E&&Jd(b))?il(ii(b),0,M):b.split(E,M)):[]}var mS=df(function(b,E,M){return b+(M?" ":"")+yf(E)});function E_(b,E,M){return b=hr(b),M=M==null?0:el(en(M),0,b.length),E=oa(E),b.slice(M,M+E.length)==E}function gS(b,E,M){var j=ee.templateSettings;M&&Oo(b,E,M)&&(E=n),b=hr(b),E=op({},E,j,bw);var G=op({},E.imports,j.imports,bw),re=Ji(G),ce=Lx(G,re),pe,Ce,Ye=0,Ke=E.interpolate||Zi,et="__p += '",pt=Vy((E.escape||Zi).source+"|"+Ke.source+"|"+(Ke===Hn?xn:Zi).source+"|"+(E.evaluate||Zi).source+"|$","g"),Bt="//# sourceURL="+(dr.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Mx+"]")+`
`;b.replace(pt,function(nn,Un,Qn,cl,Za,ul){return Qn||(Qn=cl),et+=b.slice(Ye,ul).replace(Ao,Fy),Un&&(pe=!0,et+=`' +
__e(`+Un+`) +
'`),Za&&(Ce=!0,et+=`';
`+Za+`;
__p += '`),Qn&&(et+=`' +
((__t = (`+Qn+`)) == null ? '' : __t) +
'`),Ye=ul+nn.length,nn}),et+=`';
`;var tn=dr.call(E,"variable")&&E.variable;if(!tn)et=`with (obj) {
`+et+`
}
`;else if(ht.test(tn))throw new ln(s);et=(Ce?et.replace(Ct,""):et).replace(lt,"$1").replace(ct,"$1;"),et="function("+(tn||"obj")+`) {
`+(tn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(pe?", __e = _.escape":"")+(Ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var kn=yS(function(){return Nn(re,Bt+"return "+et).apply(n,ce)});if(kn.source=et,Hb(kn))throw kn;return kn}function nd(b){return hr(b).toLowerCase()}function rd(b){return hr(b).toUpperCase()}function id(b,E,M){if(b=hr(b),b&&(M||E===n))return Qd(b);if(!b||!(E=oa(E)))return b;var j=ii(b),G=ii(E),re=jx(j,G),ce=Bx(j,G)+1;return il(j,re,ce).join("")}function qg(b,E,M){if(b=hr(b),b&&(M||E===n))return b.slice(0,Ch(b)+1);if(!b||!(E=oa(E)))return b;var j=ii(b),G=Bx(j,ii(E))+1;return il(j,0,G).join("")}function Wg(b,E,M){if(b=hr(b),b&&(M||E===n))return b.replace(nt,"");if(!b||!(E=oa(E)))return b;var j=ii(b),G=jx(j,ii(E));return il(j,G).join("")}function od(b,E){var M=$,j=q;if(Kr(E)){var G="separator"in E?E.separator:G;M="length"in E?en(E.length):M,j="omission"in E?oa(E.omission):j}b=hr(b);var re=b.length;if(Jd(b)){var ce=ii(b);re=ce.length}if(M>=re)return b;var pe=M-Eh(j);if(pe<1)return j;var Ce=ce?il(ce,0,pe).join(""):b.slice(0,pe);if(G===n)return Ce+j;if(ce&&(pe+=Ce.length-pe),Hg(G)){if(b.slice(pe).search(G)){var Ye,Ke=Ce;for(G.global||(G=Vy(G.source,hr(mr.exec(G))+"g")),G.lastIndex=0;Ye=G.exec(Ke);)var et=Ye.index;Ce=Ce.slice(0,et===n?pe:et)}}else if(b.indexOf(oa(G),pe)!=pe){var pt=Ce.lastIndexOf(G);pt>-1&&(Ce=Ce.slice(0,pt))}return Ce+j}function sI(b){return b=hr(b),b&&vt.test(b)?b.replace(Tt,$k):b}var C_=df(function(b,E,M){return b+(M?" ":"")+E.toUpperCase()}),yf=mw("toUpperCase");function T_(b,E,M){return b=hr(b),E=M?n:E,E===n?$x(b)?Uk(b):g3(b):b.match(E)||[]}var yS=hn(function(b,E){try{return Ia(b,n,E)}catch(M){return Hb(M)?M:new ln(M)}}),Qb=ql(function(b,E){return Pa(E,function(M){M=aa(M),Ha(b,M,Lb(b[M],b))}),b});function k_(b){var E=b==null?0:b.length,M=Gt();return b=E?Wr(b,function(j){if(typeof j[1]!="function")throw new ja(a);return[M(j[0]),j[1]]}):[],hn(function(j){for(var G=-1;++G<E;){var re=b[G];if(Ia(re[0],this,j))return Ia(re[1],this,j)}})}function lI(b){return Jk(zo(b,d))}function fp(b){return function(){return b}}function Jb(b,E){return b==null||b!==b?E:b}var __=Gh(),hp=Gh(!0);function Wo(b){return b}function Yg(b){return Uh(typeof b=="function"?b:zo(b,d))}function ev(b){return cb(zo(b,d))}function A_(b,E){return Zx(b,zo(E,d))}var cI=hn(function(b,E){return function(M){return Es(M,b,E)}}),tv=hn(function(b,E){return function(M){return Es(b,M,E)}});function f(b,E,M){var j=Ji(E),G=Hc(E,j);M==null&&!(Kr(E)&&(G.length||!j.length))&&(M=E,E=b,b=this,G=Hc(E,Ji(E)));var re=!(Kr(M)&&"chain"in M)||!!M.chain,ce=Ka(b);return Pa(G,function(pe){var Ce=E[pe];b[pe]=Ce,ce&&(b.prototype[pe]=function(){var Ye=this.__chain__;if(re||Ye){var Ke=b(this.__wrapped__),et=Ke.__actions__=Vo(this.__actions__);return et.push({func:Ce,args:arguments,thisArg:b}),Ke.__chain__=Ye,Ke}return Ce.apply(b,Ru([this.value()],arguments))})}),b}function h(){return Hi._===this&&(Hi._=hs),this}function y(){}function S(b){return b=en(b),hn(function(E){return ub(E,b)})}var _=yb(Wr),D=yb(Dk),H=yb(Rx);function J(b){return xg(b)?Zd(aa(b)):Ei(b)}function fe(b){return function(E){return b==null?n:Vl(b,E)}}var Oe=bb(),ze=bb(!0);function We(){return[]}function Me(){return!1}function Le(){return{}}function wt(){return""}function Kt(){return!0}function Tr(b,E){if(b=en(b),b<1||b>X)return[];var M=Q,j=Ni(b,Q);E=Gt(E),b-=Q;for(var G=Hy(j,E);++M<b;)E(M);return G}function Se(b){return cn(b)?Wr(b,aa):fa(b)?[b]:Vo(Aw(hr(b)))}function me(b){var E=++Vk;return hr(b)+E}var Ne=fg(function(b,E){return b+E},0),qe=pg("ceil"),Ut=fg(function(b,E){return b/E},1),tr=pg("floor");function Mt(b){return b&&b.length?tl(b,Wo,ng):n}function bn(b,E){return b&&b.length?tl(b,Gt(E,2),ng):n}function Pn(b){return By(b,Wo)}function nr(b,E){return By(b,Gt(E,2))}function ad(b){return b&&b.length?tl(b,Wo,Gr):n}function uI(b,E){return b&&b.length?tl(b,Gt(E,2),Gr):n}var p1e=fg(function(b,E){return b*E},1),m1e=pg("round"),g1e=fg(function(b,E){return b-E},0);function y1e(b){return b&&b.length?$y(b,Wo):0}function b1e(b,E){return b&&b.length?$y(b,Gt(E,2)):0}return ee.after=V2,ee.ary=qw,ee.assign=i_,ee.assignIn=zb,ee.assignInWith=op,ee.assignWith=G3,ee.at=Ts,ee.before=Ww,ee.bind=Lb,ee.bindAll=Qb,ee.bindKey=Yw,ee.castArray=U3,ee.chain=Og,ee.chunk=w2,ee.compact=Nw,ee.concat=Ow,ee.cond=k_,ee.conforms=lI,ee.constant=fp,ee.countBy=I2,ee.create=lS,ee.curry=Ig,ee.curryRight=Gw,ee.debounce=Kw,ee.defaults=o_,ee.defaultsDeep=a_,ee.defer=br,ee.delay=Xw,ee.difference=Nb,ee.differenceBy=S2,ee.differenceWith=Vc,ee.drop=Di,ee.dropRight=Mw,ee.dropRightWhile=E2,ee.dropWhile=Qi,ee.fill=D3,ee.filter=Uw,ee.flatMap=ua,ee.flatMapDeep=L2,ee.flatMapDepth=j2,ee.flatten=jr,ee.flattenDeep=sa,ee.flattenDepth=qc,ee.flip=$3,ee.flow=__,ee.flowRight=hp,ee.fromPairs=C2,ee.functions=K3,ee.functionsIn=X3,ee.groupBy=Rb,ee.initial=R3,ee.intersection=Ob,ee.intersectionBy=la,ee.intersectionWith=al,ee.invert=Z3,ee.invertBy=Q3,ee.invokeMap=np,ee.iteratee=Yg,ee.keyBy=$2,ee.keys=Ji,ee.keysIn=ha,ee.map=Dg,ee.mapKeys=eI,ee.mapValues=u_,ee.matches=ev,ee.matchesProperty=A_,ee.memoize=Pg,ee.merge=ap,ee.mergeWith=sp,ee.method=cI,ee.methodOf=tv,ee.mixin=f,ee.negate=jb,ee.nthArg=S,ee.omit=d_,ee.omitBy=tI,ee.once=H3,ee.orderBy=H2,ee.over=_,ee.overArgs=F3,ee.overEvery=D,ee.overSome=H,ee.partial=ip,ee.partialRight=mf,ee.partition=F2,ee.pick=lp,ee.pickBy=cp,ee.property=J,ee.propertyOf=fe,ee.pull=ff,ee.pullAll=Yl,ee.pullAllBy=Pw,ee.pullAllWith=Lw,ee.pullAt=sl,ee.range=Oe,ee.rangeRight=ze,ee.rearg=Zw,ee.reject=L3,ee.remove=A2,ee.rest=Bb,ee.reverse=Yu,ee.sampleSize=B3,ee.set=qb,ee.setWith=uS,ee.shuffle=U2,ee.slice=kg,ee.sortBy=Pb,ee.sortedUniq=Mb,ee.sortedUniqBy=D2,ee.split=Zb,ee.spread=Qw,ee.tail=I3,ee.take=P3,ee.takeRight=sr,ee.takeRightWhile=Or,ee.takeWhile=On,ee.tap=R2,ee.throttle=Qu,ee.thru=pf,ee.toArray=r_,ee.toPairs=Wb,ee.toPairsIn=Vg,ee.toPath=Se,ee.toPlainObject=Ub,ee.transform=h_,ee.unary=Gl,ee.union=In,ee.unionBy=yr,ee.unionWith=qa,ee.uniq=Gu,ee.uniqBy=Jh,ee.uniqWith=jw,ee.unset=p_,ee.unzip=ll,ee.unzipWith=ai,ee.update=nI,ee.updateWith=m_,ee.values=up,ee.valuesIn=dS,ee.without=Ku,ee.words=T_,ee.wrap=Lg,ee.xor=hf,ee.xorBy=Bw,ee.xorWith=Wa,ee.zip=ep,ee.zipObject=Ng,ee.zipObjectDeep=ca,ee.zipWith=$w,ee.entries=Wb,ee.entriesIn=Vg,ee.extend=zb,ee.extendWith=op,f(ee,ee),ee.add=Ne,ee.attempt=yS,ee.camelCase=Kb,ee.capitalize=g_,ee.ceil=qe,ee.clamp=rI,ee.clone=q2,ee.cloneDeep=Y2,ee.cloneDeepWith=G2,ee.cloneWith=W2,ee.conformsTo=z3,ee.deburr=dp,ee.defaultTo=Jb,ee.divide=Ut,ee.endsWith=iI,ee.eq=Ga,ee.escape=y_,ee.escapeRegExp=b_,ee.every=Mg,ee.find=Ya,ee.findIndex=Dw,ee.findKey=s_,ee.findLast=P2,ee.findLastIndex=Rw,ee.findLastKey=zg,ee.floor=tr,ee.forEach=B2,ee.forEachRight=Gc,ee.forIn=ks,ee.forInRight=l_,ee.forOwn=Vb,ee.forOwnRight=Xc,ee.get=td,ee.gt=K2,ee.gte=X2,ee.has=c_,ee.hasIn=cS,ee.head=Iw,ee.identity=Wo,ee.includes=zw,ee.indexOf=T2,ee.inRange=Yb,ee.invoke=J3,ee.isArguments=gf,ee.isArray=cn,ee.isArrayBuffer=Jw,ee.isArrayLike=da,ee.isArrayLikeObject=Ci,ee.isBoolean=jg,ee.isBuffer=Ju,ee.isDate=Z2,ee.isElement=Mn,ee.isEmpty=eS,ee.isEqual=$b,ee.isEqualWith=tS,ee.isError=Hb,ee.isFinite=nS,ee.isFunction=Ka,ee.isInteger=Bg,ee.isLength=Fb,ee.isMap=Q2,ee.isMatch=J2,ee.isMatchWith=e_,ee.isNaN=Cr,ee.isNative=rS,ee.isNil=V3,ee.isNull=vo,ee.isNumber=iS,ee.isObject=Kr,ee.isObjectLike=pi,ee.isPlainObject=$g,ee.isRegExp=Hg,ee.isSafeInteger=oS,ee.isSet=Fg,ee.isString=Ug,ee.isSymbol=fa,ee.isTypedArray=ed,ee.isUndefined=aS,ee.isWeakMap=q3,ee.isWeakSet=t_,ee.join=k2,ee.kebabCase=v_,ee.last=Br,ee.lastIndexOf=_2,ee.lowerCase=x_,ee.lowerFirst=fS,ee.lt=W3,ee.lte=n_,ee.max=Mt,ee.maxBy=bn,ee.mean=Pn,ee.meanBy=nr,ee.min=ad,ee.minBy=uI,ee.stubArray=We,ee.stubFalse=Me,ee.stubObject=Le,ee.stubString=wt,ee.stubTrue=Kt,ee.multiply=p1e,ee.nth=Wc,ee.noConflict=h,ee.noop=y,ee.now=Rg,ee.pad=w_,ee.padEnd=S_,ee.padStart=Xb,ee.parseInt=oI,ee.random=Gb,ee.reduce=Ib,ee.reduceRight=Vw,ee.repeat=aI,ee.replace=hS,ee.result=f_,ee.round=m1e,ee.runInContext=be,ee.sample=j3,ee.size=z2,ee.snakeCase=pS,ee.some=rp,ee.sortedIndex=_g,ee.sortedIndexBy=Qh,ee.sortedIndexOf=N2,ee.sortedLastIndex=O2,ee.sortedLastIndexBy=Ag,ee.sortedLastIndexOf=M2,ee.startCase=mS,ee.startsWith=E_,ee.subtract=g1e,ee.sum=y1e,ee.sumBy=b1e,ee.template=gS,ee.times=Tr,ee.toFinite=Kc,ee.toInteger=en,ee.toLength=sS,ee.toLower=nd,ee.toNumber=Xa,ee.toSafeInteger=Y3,ee.toString=hr,ee.toUpper=rd,ee.trim=id,ee.trimEnd=qg,ee.trimStart=Wg,ee.truncate=od,ee.unescape=sI,ee.uniqueId=me,ee.upperCase=C_,ee.upperFirst=yf,ee.each=B2,ee.eachRight=Gc,ee.first=Iw,f(ee,(function(){var b={};return nl(ee,function(E,M){dr.call(ee.prototype,M)||(b[M]=E)}),b})(),{chain:!1}),ee.VERSION=r,Pa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(b){ee[b].placeholder=ee}),Pa(["drop","take"],function(b,E){dn.prototype[b]=function(M){M=M===n?1:di(en(M),0);var j=this.__filtered__&&!E?new dn(this):this.clone();return j.__filtered__?j.__takeCount__=Ni(M,j.__takeCount__):j.__views__.push({size:Ni(M,Q),type:b+(j.__dir__<0?"Right":"")}),j},dn.prototype[b+"Right"]=function(M){return this.reverse()[b](M).reverse()}}),Pa(["filter","map","takeWhile"],function(b,E){var M=E+1,j=M==W||M==V;dn.prototype[b]=function(G){var re=this.clone();return re.__iteratees__.push({iteratee:Gt(G,3),type:M}),re.__filtered__=re.__filtered__||j,re}}),Pa(["head","last"],function(b,E){var M="take"+(E?"Right":"");dn.prototype[b]=function(){return this[M](1).value()[0]}}),Pa(["initial","tail"],function(b,E){var M="drop"+(E?"":"Right");dn.prototype[b]=function(){return this.__filtered__?new dn(this):this[M](1)}}),dn.prototype.compact=function(){return this.filter(Wo)},dn.prototype.find=function(b){return this.filter(b).head()},dn.prototype.findLast=function(b){return this.reverse().find(b)},dn.prototype.invokeMap=hn(function(b,E){return typeof b=="function"?new dn(this):this.map(function(M){return Es(M,b,E)})}),dn.prototype.reject=function(b){return this.filter(jb(Gt(b)))},dn.prototype.slice=function(b,E){b=en(b);var M=this;return M.__filtered__&&(b>0||E<0)?new dn(M):(b<0?M=M.takeRight(-b):b&&(M=M.drop(b)),E!==n&&(E=en(E),M=E<0?M.dropRight(-E):M.take(E-b)),M)},dn.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()},dn.prototype.toArray=function(){return this.take(Q)},nl(dn.prototype,function(b,E){var M=/^(?:filter|find|map|reject)|While$/.test(E),j=/^(?:head|last)$/.test(E),G=ee[j?"take"+(E=="last"?"Right":""):E],re=j||/^find/.test(E);G&&(ee.prototype[E]=function(){var ce=this.__wrapped__,pe=j?[1]:arguments,Ce=ce instanceof dn,Ye=pe[0],Ke=Ce||cn(ce),et=function(Un){var Qn=G.apply(ee,Ru([Un],pe));return j&&pt?Qn[0]:Qn};Ke&&M&&typeof Ye=="function"&&Ye.length!=1&&(Ce=Ke=!1);var pt=this.__chain__,Bt=!!this.__actions__.length,tn=re&&!pt,kn=Ce&&!Bt;if(!re&&Ke){ce=kn?ce:new dn(this);var nn=b.apply(ce,pe);return nn.__actions__.push({func:pf,args:[et],thisArg:n}),new ra(nn,pt)}return tn&&kn?b.apply(this,pe):(nn=this.thru(et),tn?j?nn.value()[0]:nn.value():nn)})}),Pa(["pop","push","shift","sort","splice","unshift"],function(b){var E=Ym[b],M=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",j=/^(?:pop|shift)$/.test(b);ee.prototype[b]=function(){var G=arguments;if(j&&!this.__chain__){var re=this.value();return E.apply(cn(re)?re:[],G)}return this[M](function(ce){return E.apply(cn(ce)?ce:[],G)})}}),nl(dn.prototype,function(b,E){var M=ee[E];if(M){var j=M.name+"";dr.call(fr,j)||(fr[j]=[]),fr[j].push({name:E,func:M})}}),fr[Kh(n,T).name]=[{name:"wrapper",func:n}],dn.prototype.clone=jc,dn.prototype.reverse=$u,dn.prototype.value=Bc,ee.prototype.at=Db,ee.prototype.chain=Xu,ee.prototype.commit=Ui,ee.prototype.next=Zu,ee.prototype.plant=Yc,ee.prototype.reverse=Hw,ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=Fw,ee.prototype.first=ee.prototype.head,mo&&(ee.prototype[mo]=tp),ee}),Th=Ux();Xs?((Xs.exports=Th)._=Th,Fm._=Th):Hi._=Th}).call(mTe)})(JS,JS.exports)),JS.exports}var Nv=gTe();async function Lo(e,t){const n=localStorage.getItem("auth-storage");let r=null;if(n)try{r=JSON.parse(n).state?.token||null}catch{}const i=new Headers(t?.headers);r&&i.set("Authorization",`Bearer ${r}`);const o=await fetch(e,{...t,headers:i});if(o.status===401)throw localStorage.removeItem("auth-storage"),localStorage.removeItem("auth_token"),localStorage.removeItem("username"),window.location.href="/login",new Error("Authentication required. Redirecting to login...");return o}const zA={getFlowLabels:async()=>await(await Lo("/api/flows/labels")).json(),getFlowTenants:async()=>await(await Lo("/api/flows/tenants")).json(),getMetricsLabels:async()=>await(await Lo("/api/metrics/labels")).json(),getAll:async()=>{const[e,t,n]=await Promise.all([zA.getFlowLabels(),zA.getFlowTenants(),zA.getMetricsLabels()]),r=n.filter(s=>s.label==="tenant").flatMap(s=>s.values),i=n.filter(s=>s.label!=="tenant"),o=Nv.groupBy([...e,...i],s=>s.label),a=Nv.uniq([...t,...r]);return{labels:Object.entries(o).map(([s,l])=>({label:s,values:Nv.uniq(Nv.flatMap(l,c=>c.values))})),tenants:a}}},dc=TT()(rD(e=>({labels:[],tenants:[],loading:!1,error:null,fetchLabelsAndTenants:async()=>{e({loading:!0,error:null});const t=await zA.getAll();e({labels:t.labels,tenants:t.tenants,loading:!1})}}),{name:"labels"})),iD=TT(e=>({sidebarCollapsed:!1,toggleSidebar:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setSidebarCollapsed:t=>e({sidebarCollapsed:t})}));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yTe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bTe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),dV=e=>{const t=bTe(e);return t.charAt(0).toUpperCase()+t.slice(1)},Tie=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),vTe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xTe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wTe=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>C.createElement("svg",{ref:l,...xTe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Tie("lucide",i),...!o&&!vTe(s)&&{"aria-hidden":"true"},...s},[...a.map(([c,u])=>C.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(e,t)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(wTe,{ref:o,iconNode:t,className:Tie(`lucide-${yTe(dV(e))}`,`lucide-${e}`,r),...i}));return n.displayName=dV(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const STe=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],ETe=mt("audio-lines",STe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CTe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],TTe=mt("book-open",CTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kTe=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],kie=mt("building-2",kTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Te=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],ATe=mt("calendar-clock",_Te);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NTe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_ie=mt("calendar",NTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OTe=[["path",{d:"M15 11h4.5a1 1 0 0 1 0 5h-4a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h3a1 1 0 0 1 0 5",key:"nxs35"}],["path",{d:"m2 16 4.039-9.69a.5.5 0 0 1 .923 0L11 16",key:"d5nyq2"}],["path",{d:"M3.304 13h6.392",key:"1q3zxz"}]],kH=mt("case-upper",OTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MTe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],DTe=mt("chart-column",MTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RTe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],oD=mt("chart-line",RTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ITe=[["path",{d:"M6 5h12",key:"fvfigv"}],["path",{d:"M4 12h10",key:"oujl3d"}],["path",{d:"M12 19h8",key:"baeox8"}]],Aie=mt("chart-no-axes-gantt",ITe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PTe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],N0=mt("check",PTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LTe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kT=mt("chevron-down",LTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jTe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Nie=mt("chevron-left",jTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BTe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_H=mt("chevron-right",BTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Te=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HTe=mt("chevron-up",$Te);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FTe=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],UTe=mt("chevrons-right",FTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zTe=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],AH=mt("chevrons-up-down",zTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qTe=mt("circle-check",VTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],aD=mt("circle-dot",WTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eE=mt("circle-question-mark",YTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],KTe=mt("circle-x",GTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oie=mt("circle",XTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZTe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tm=mt("clock",ZTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QTe=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],JTe=mt("code",QTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Mie=mt("columns-2",eke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Die=mt("columns-3",tke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nke=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],rke=mt("corner-down-right",nke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ike=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Rie=mt("database",ike);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oke=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tc=mt("eye-off",oke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ake=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nc=mt("eye",ake);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ske=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],lke=mt("file",ske);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],uke=mt("globe",cke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dke=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],fke=mt("grip-vertical",dke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hke=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Iie=mt("hash",hke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],fV=mt("heading-1",pke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],hV=mt("heading-2",mke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],pV=mt("heading-3",gke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yke=[["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v3a1 1 0 0 0 1 1h3",key:"tj5zdr"}],["path",{d:"M21 10v8",key:"1kdml4"}],["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}]],bke=mt("heading-4",yke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]],xke=mt("heading-5",vke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]],Ske=mt("heading-6",wke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eke=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Cke=mt("history",Eke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tke=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Pie=mt("house",Tke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_ke=mt("image",kke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ake=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Nke=mt("layout-grid",Ake);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oke=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Mke=mt("list-checks",Oke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dke=[["path",{d:"M10 5h11",key:"1hkqpe"}],["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 19h11",key:"14g2nv"}],["path",{d:"m3 10 3-3-3-3",key:"i7pm08"}],["path",{d:"m3 20 3-3-3-3",key:"20gx1n"}]],Lie=mt("list-collapse",Dke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rke=[["path",{d:"M12 5H2",key:"1o22fu"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 8V2",key:"1wcffq"}]],Ike=mt("list-filter-plus",Rke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pke=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Lke=mt("list-ordered",Pke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jke=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Bke=mt("list",jke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ke=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],jie=mt("loader",$ke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hke=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fke=mt("lock",Hke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uke=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zke=mt("log-out",Uke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vke=[["path",{d:"M5 12h14",key:"1ays0h"}]],qke=mt("minus",Vke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wke=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],Yke=mt("paintbrush",Wke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],NH=mt("panel-left",Gke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kke=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],Xke=mt("pilcrow",Kke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zke=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],OH=mt("plus",Zke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qke=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Jke=mt("quote",Qke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2e=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],t2e=mt("rectangle-ellipsis",e2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2e=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],r2e=mt("rectangle-horizontal",n2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Bie=mt("search",i2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2e=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],a2e=mt("settings",o2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],l2e=mt("smile",s2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}],["line",{x1:"12",x2:"12",y1:"16",y2:"16",key:"aqc6ln"}],["line",{x1:"12",x2:"12",y1:"8",y2:"8",key:"1mkcni"}]],$ie=mt("square-divide",c2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],d2e=mt("square-dot",u2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2e=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],h2e=mt("square-play",f2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2e=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],m2e=mt("table-2",p2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2e=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],y2e=mt("table",g2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2e=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],v2e=mt("tag",b2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2e=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],_T=mt("tags",x2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2e=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],sD=mt("timer",w2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hie=mt("trash-2",S2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2e=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],C2e=mt("trash",E2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2e=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Fie=mt("workflow",T2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],MH=mt("x",k2e);var _2e=Symbol("radix.slottable");function A2e(e){const t=({children:n})=>g.jsx(g.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=_2e,t}var Uie="AlertDialog",[N2e]=Us(Uie,[Bre]),lh=Bre(),zie=e=>{const{__scopeAlertDialog:t,...n}=e,r=lh(t);return g.jsx(xT,{...r,...n,modal:!0})};zie.displayName=Uie;var O2e="AlertDialogTrigger",M2e=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=lh(n);return g.jsx(YEe,{...i,...r,ref:t})});M2e.displayName=O2e;var D2e="AlertDialogPortal",Vie=e=>{const{__scopeAlertDialog:t,...n}=e,r=lh(t);return g.jsx(wT,{...r,...n})};Vie.displayName=D2e;var R2e="AlertDialogOverlay",qie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=lh(n);return g.jsx(G1,{...i,...r,ref:t})});qie.displayName=R2e;var $v="AlertDialogContent",[I2e,P2e]=N2e($v),L2e=A2e("AlertDialogContent"),Wie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=lh(n),a=C.useRef(null),s=An(t,a),l=C.useRef(null);return g.jsx(zEe,{contentName:$v,titleName:Yie,docsSlug:"alert-dialog",children:g.jsx(I2e,{scope:n,cancelRef:l,children:g.jsxs(K1,{role:"alertdialog",...o,...i,ref:s,onOpenAutoFocus:dt(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[g.jsx(L2e,{children:r}),g.jsx(B2e,{contentRef:a})]})})})});Wie.displayName=$v;var Yie="AlertDialogTitle",Gie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=lh(n);return g.jsx(ST,{...i,...r,ref:t})});Gie.displayName=Yie;var Kie="AlertDialogDescription",Xie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=lh(n);return g.jsx(ET,{...i,...r,ref:t})});Xie.displayName=Kie;var j2e="AlertDialogAction",Zie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=lh(n);return g.jsx(nD,{...i,...r,ref:t})});Zie.displayName=j2e;var Qie="AlertDialogCancel",Jie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=P2e(Qie,n),o=lh(n),a=An(t,i);return g.jsx(nD,{...o,...r,ref:a})});Jie.displayName=Qie;var B2e=({contentRef:e})=>{const t=`\`${$v}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$v}\` by passing a \`${Kie}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$v}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$2e=zie,H2e=Vie,eoe=qie,toe=Wie,noe=Zie,roe=Jie,ioe=Gie,ooe=Xie,F2e=Symbol.for("react.lazy"),mN=mT[" use ".trim().toString()];function U2e(e){return typeof e=="object"&&e!==null&&"then"in e}function aoe(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===F2e&&"_payload"in e&&U2e(e._payload)}function z2e(e){const t=V2e(e),n=C.forwardRef((r,i)=>{let{children:o,...a}=r;aoe(o)&&typeof mN=="function"&&(o=mN(o._payload));const s=C.Children.toArray(o),l=s.find(W2e);if(l){const c=l.props.children,u=s.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,u):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var DH=z2e("Slot");function V2e(e){const t=C.forwardRef((n,r)=>{let{children:i,...o}=n;if(aoe(i)&&typeof mN=="function"&&(i=mN(i._payload)),C.isValidElement(i)){const a=G2e(i),s=Y2e(o,i.props);return i.type!==C.Fragment&&(s.ref=r?rs(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var q2e=Symbol("radix.slottable");function W2e(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===q2e}function Y2e(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function G2e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const mV=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gV=Xn,oy=(e,t)=>n=>{var r;if(t?.variants==null)return gV(e,n?.class,n?.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(c=>{const u=n?.[c],d=o?.[c];if(u===null)return null;const p=mV(u)||mV(d);return i[c][p]}),s=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...m}=u;return Object.entries(m).every(v=>{let[x,w]=v;return Array.isArray(w)?w.includes({...o,...s}[x]):{...o,...s}[x]===w})?[...c,d,p]:c},[]);return gV(e,a,l,n?.class,n?.className)},KE=oy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function yi({className:e,variant:t,size:n,asChild:r=!1,...i}){const o=r?DH:"button";return g.jsx(o,{"data-slot":"button",className:Ie(KE({variant:t,size:n,className:e})),...i})}const K2e=$2e,X2e=H2e,soe=C.forwardRef(({className:e,...t},n)=>g.jsx(eoe,{className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));soe.displayName=eoe.displayName;const loe=C.forwardRef(({className:e,...t},n)=>g.jsxs(X2e,{children:[g.jsx(soe,{}),g.jsx(toe,{ref:n,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));loe.displayName=toe.displayName;const coe=({className:e,...t})=>g.jsx("div",{className:Ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});coe.displayName="AlertDialogHeader";const uoe=({className:e,...t})=>g.jsx("div",{className:Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});uoe.displayName="AlertDialogFooter";const doe=C.forwardRef(({className:e,...t},n)=>g.jsx(ioe,{ref:n,className:Ie("text-lg font-semibold",e),...t}));doe.displayName=ioe.displayName;const foe=C.forwardRef(({className:e,...t},n)=>g.jsx(ooe,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));foe.displayName=ooe.displayName;const hoe=C.forwardRef(({className:e,...t},n)=>g.jsx(noe,{ref:n,className:Ie(KE(),e),...t}));hoe.displayName=noe.displayName;const poe=C.forwardRef(({className:e,...t},n)=>g.jsx(roe,{ref:n,className:Ie(KE({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));poe.displayName=roe.displayName;var lD="Collapsible",[Z2e]=Us(lD),[Q2e,RH]=Z2e(lD),moe=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:a,...s}=e,[l,c]=yu({prop:r,defaultProp:i??!1,onChange:a,caller:lD});return g.jsx(Q2e,{scope:n,disabled:o,contentId:Gi(),open:l,onOpenToggle:C.useCallback(()=>c(u=>!u),[c]),children:g.jsx(Dt.div,{"data-state":PH(l),"data-disabled":o?"":void 0,...s,ref:t})})});moe.displayName=lD;var goe="CollapsibleTrigger",yoe=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=RH(goe,n);return g.jsx(Dt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":PH(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:dt(e.onClick,i.onOpenToggle)})});yoe.displayName=goe;var IH="CollapsibleContent",boe=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=RH(IH,e.__scopeCollapsible);return g.jsx(Fo,{present:n||i.open,children:({present:o})=>g.jsx(J2e,{...r,ref:t,present:o})})});boe.displayName=IH;var J2e=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,a=RH(IH,n),[s,l]=C.useState(r),c=C.useRef(null),u=An(t,c),d=C.useRef(0),p=d.current,m=C.useRef(0),v=m.current,x=a.open||s,w=C.useRef(x),T=C.useRef(void 0);return C.useEffect(()=>{const k=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(k)},[]),Xi(()=>{const k=c.current;if(k){T.current=T.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const N=k.getBoundingClientRect();d.current=N.height,m.current=N.width,w.current||(k.style.transitionDuration=T.current.transitionDuration,k.style.animationName=T.current.animationName),l(r)}},[a.open,r]),g.jsx(Dt.div,{"data-state":PH(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!x,...o,ref:u,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:x&&i})});function PH(e){return e?"open":"closed"}var e_e=moe;const t_e=e_e,n_e=yoe,r_e=boe;var i_e="Separator",yV="horizontal",o_e=["horizontal","vertical"],voe=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=yV,...i}=e,o=a_e(r)?r:yV,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return g.jsx(Dt.div,{"data-orientation":o,...s,...i,ref:t})});voe.displayName=i_e;function a_e(e){return o_e.includes(e)}var xoe=voe;const Od=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>g.jsx(xoe,{ref:i,decorative:n,orientation:t,className:Ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Od.displayName=xoe.displayName;const LH=TT()(rD(pTe((e,t)=>({isAuthenticated:!1,username:null,token:null,login:(n,r)=>{e({isAuthenticated:!0,username:n,token:r})},logout:()=>{e({isAuthenticated:!1,username:null,token:null}),localStorage.removeItem("auth_token"),localStorage.removeItem("username")}}),{name:"auth-storage"}),{name:"auth"}));function bV(e){return{id:e.id,emoji:e.emoji,title:e.title,start:new Date(e.start),end:new Date(e.end)}}const z_={list:async e=>(await(await Lo("/api/comments/list",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)})).json()).map(bV),delete:async e=>(await Lo(`/api/comments/${e}`,{headers:{"Content-Type":"application/json"},method:"DELETE"})).json(),create:async e=>{const t=await Lo("/api/comments/",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});return bV(await t.json())},update:async e=>{await Lo(`/api/comments/${e.id}`,{headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e)})}},woe=6048e5,s_e=864e5,l_e=6e4,c_e=36e5,vV=Symbol.for("constructDateFrom");function Bi(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&vV in e?e[vV](t):e instanceof Date?new e.constructor(t):new Date(t)}function Wn(e,t){return Bi(t||e,e)}function Q1(e,t,n){const r=Wn(e,n?.in);return isNaN(t)?Bi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function jH(e,t,n){const r=Wn(e,n?.in);if(isNaN(t))return Bi(e,NaN);if(!t)return r;const i=r.getDate(),o=Bi(e,r.getTime());o.setMonth(r.getMonth()+t+1,0);const a=o.getDate();return i>=a?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function u_e(e,t,n){const{years:r=0,months:i=0,weeks:o=0,days:a=0,hours:s=0,minutes:l=0,seconds:c=0}=t,u=Wn(e,n?.in),d=i||r?jH(u,i+r*12):u,p=a||o?Q1(d,a+o*7):d,m=l+s*60,x=(c+m*60)*1e3;return Bi(e,+p+x)}function d_e(e,t,n){return Bi(e,+Wn(e)+t)}function f_e(e,t,n){return d_e(e,t*c_e)}let h_e={};function AT(){return h_e}function O0(e,t){const n=AT(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Wn(e,t?.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function XE(e,t){return O0(e,{...t,weekStartsOn:1})}function Soe(e,t){const n=Wn(e,t?.in),r=n.getFullYear(),i=Bi(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=XE(i),a=Bi(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=XE(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function xV(e){const t=Wn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function J1(e,...t){const n=Bi.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function r1(e,t){const n=Wn(e,t?.in);return n.setHours(0,0,0,0),n}function Eoe(e,t,n){const[r,i]=J1(n?.in,e,t),o=r1(r),a=r1(i),s=+o-xV(o),l=+a-xV(a);return Math.round((s-l)/s_e)}function p_e(e,t){const n=Soe(e,t),r=Bi(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),XE(r)}function m_e(e,t,n){const r=Wn(e,n?.in);return r.setTime(r.getTime()+t*l_e),r}function g_e(e,t,n){return Q1(e,t*7,n)}function y_e(e,t,n){return jH(e,t*12,n)}function b_e(e,t){let n,r=t?.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Bi.bind(null,i));const o=Wn(i,r);(!n||n<o||isNaN(+o))&&(n=o)}),Bi(r,n||NaN)}function v_e(e,t){let n,r=t?.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Bi.bind(null,i));const o=Wn(i,r);(!n||n>o||isNaN(+o))&&(n=o)}),Bi(r,n||NaN)}function x_e(e,t,n){const[r,i]=J1(n?.in,e,t);return+r1(r)==+r1(i)}function Coe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function w_e(e){return!(!Coe(e)&&typeof e!="number"||isNaN(+Wn(e)))}function S_e(e,t,n){const[r,i]=J1(n?.in,e,t),o=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return o*12+a}function E_e(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function C_e(e,t){return+Wn(e)-+Wn(t)}function T_e(e,t){const n=Wn(e,t?.in);return n.setHours(23,59,59,999),n}function k_e(e,t){const n=Wn(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Toe(e,t,n){const r=C_e(e,t)/1e3;return E_e(n?.roundingMethod)(r)}function koe(e,t){const[n,r]=J1(e,t.start,t.end);return{start:n,end:r}}function __e(e,t){const{start:n,end:r}=koe(t?.in,e);let i=+n>+r;const o=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0),a.setDate(1);let s=1;const l=[];for(;+a<=o;)l.push(Bi(n,a)),a.setMonth(a.getMonth()+s);return i?l.reverse():l}function A_e(e,t){const n=Wn(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function N_e(e,t){const n=Wn(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function _oe(e,t){const n=Wn(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function O_e(e,t){const{start:n,end:r}=koe(t?.in,e);let i=+n>+r;const o=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0),a.setMonth(0,1);let s=1;const l=[];for(;+a<=o;)l.push(Bi(n,a)),a.setFullYear(a.getFullYear()+s);return i?l.reverse():l}function BH(e,t){const n=AT(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Wn(e,t?.in),o=i.getDay(),a=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function M_e(e,t){return BH(e,{...t,weekStartsOn:1})}const D_e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},R_e=(e,t,n)=>{let r;const i=D_e[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function LI(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const I_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},L_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j_e={date:LI({formats:I_e,defaultWidth:"full"}),time:LI({formats:P_e,defaultWidth:"full"}),dateTime:LI({formats:L_e,defaultWidth:"full"})},B_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$_e=(e,t,n,r)=>B_e[e];function kS(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,s=n?.width?String(n.width):a;i=e.formattingValues[s]||e.formattingValues[a]}else{const a=e.defaultWidth,s=n?.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const H_e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F_e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},U_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},z_e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},q_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},W_e=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Y_e={ordinalNumber:W_e,era:kS({values:H_e,defaultWidth:"wide"}),quarter:kS({values:F_e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kS({values:U_e,defaultWidth:"wide"}),day:kS({values:z_e,defaultWidth:"wide"}),dayPeriod:kS({values:V_e,defaultWidth:"wide",formattingValues:q_e,defaultFormattingWidth:"wide"})};function _S(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?K_e(s,d=>d.test(a)):G_e(s,d=>d.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}function G_e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function K_e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function X_e(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=t.slice(i.length);return{value:a,rest:s}}}const Z_e=/^(\d+)(th|st|nd|rd)?/i,Q_e=/\d+/i,J_e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eAe={any:[/^b/i,/^(a|c)/i]},tAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nAe={any:[/1/i,/2/i,/3/i,/4/i]},rAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cAe={ordinalNumber:X_e({matchPattern:Z_e,parsePattern:Q_e,valueCallback:e=>parseInt(e,10)}),era:_S({matchPatterns:J_e,defaultMatchWidth:"wide",parsePatterns:eAe,defaultParseWidth:"any"}),quarter:_S({matchPatterns:tAe,defaultMatchWidth:"wide",parsePatterns:nAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_S({matchPatterns:rAe,defaultMatchWidth:"wide",parsePatterns:iAe,defaultParseWidth:"any"}),day:_S({matchPatterns:oAe,defaultMatchWidth:"wide",parsePatterns:aAe,defaultParseWidth:"any"}),dayPeriod:_S({matchPatterns:sAe,defaultMatchWidth:"any",parsePatterns:lAe,defaultParseWidth:"any"})},$H={code:"en-US",formatDistance:R_e,formatLong:j_e,formatRelative:$_e,localize:Y_e,match:cAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uAe(e,t){const n=Wn(e,t?.in);return Eoe(n,_oe(n))+1}function Aoe(e,t){const n=Wn(e,t?.in),r=+XE(n)-+p_e(n);return Math.round(r/woe)+1}function Noe(e,t){const n=Wn(e,t?.in),r=n.getFullYear(),i=AT(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Bi(t?.in||e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=O0(a,t),l=Bi(t?.in||e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=O0(l,t);return+n>=+s?r+1:+n>=+c?r:r-1}function dAe(e,t){const n=AT(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Noe(e,t),o=Bi(t?.in||e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),O0(o,t)}function Ooe(e,t){const n=Wn(e,t?.in),r=+O0(n,t)-+dAe(n,t);return Math.round(r/woe)+1}function zn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const mp={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return zn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):zn(n+1,2)},d(e,t){return zn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return zn(e.getHours()%12||12,t.length)},H(e,t){return zn(e.getHours(),t.length)},m(e,t){return zn(e.getMinutes(),t.length)},s(e,t){return zn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return zn(i,t.length)}},av={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wV={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return mp.y(e,t)},Y:function(e,t,n,r){const i=Noe(e,r),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return zn(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):zn(o,t.length)},R:function(e,t){const n=Soe(e);return zn(n,t.length)},u:function(e,t){const n=e.getFullYear();return zn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return zn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return zn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return mp.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return zn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Ooe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):zn(i,t.length)},I:function(e,t,n){const r=Aoe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):zn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):mp.d(e,t)},D:function(e,t,n){const r=uAe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):zn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return zn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return zn(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return zn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=av.noon:r===0?i=av.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=av.evening:r>=12?i=av.afternoon:r>=4?i=av.morning:i=av.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return mp.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):mp.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):zn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):zn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):mp.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):mp.s(e,t)},S:function(e,t){return mp.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return EV(r);case"XXXX":case"XX":return e0(r);case"XXXXX":case"XXX":default:return e0(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return EV(r);case"xxxx":case"xx":return e0(r);case"xxxxx":case"xxx":default:return e0(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+SV(r,":");case"OOOO":default:return"GMT"+e0(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+SV(r,":");case"zzzz":default:return"GMT"+e0(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return zn(r,t.length)},T:function(e,t,n){return zn(+e,t.length)}};function SV(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+zn(o,2)}function EV(e,t){return e%60===0?(e>0?"-":"+")+zn(Math.abs(e)/60,2):e0(e,t)}function e0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=zn(Math.trunc(r/60),2),o=zn(r%60,2);return n+i+t+o}const CV=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Moe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},fAe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return CV(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",CV(r,t)).replace("{{time}}",Moe(i,t))},hAe={p:Moe,P:fAe},pAe=/^D+$/,mAe=/^Y+$/,gAe=["D","DD","YY","YYYY"];function yAe(e){return pAe.test(e)}function bAe(e){return mAe.test(e)}function vAe(e,t,n){const r=xAe(e,t,n);if(console.warn(r),gAe.includes(e))throw new RangeError(r)}function xAe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EAe=/^'([^]*?)'?$/,CAe=/''/g,TAe=/[a-zA-Z]/;function Kf(e,t,n){const r=AT(),i=n?.locale??r.locale??$H,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Wn(e,n?.in);if(!w_e(s))throw new RangeError("Invalid time value");let l=t.match(SAe).map(u=>{const d=u[0];if(d==="p"||d==="P"){const p=hAe[d];return p(u,i.formatLong)}return u}).join("").match(wAe).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const d=u[0];if(d==="'")return{isToken:!1,value:kAe(u)};if(wV[d])return{isToken:!0,value:u};if(d.match(TAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const d=u.value;(!n?.useAdditionalWeekYearTokens&&bAe(d)||!n?.useAdditionalDayOfYearTokens&&yAe(d))&&vAe(d,t,String(e));const p=wV[d[0]];return p(s,d,i.localize,c)}).join("")}function kAe(e){const t=e.match(EAe);return t?t[1].replace(CAe,"'"):e}function jI(e,t){const n=Wn(e,t?.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=t?.format??"extended",i=t?.representation??"complete";let o="",a="";const s=r==="extended"?"-":"",l=r==="extended"?":":"";if(i!=="time"){const c=zn(n.getDate(),2),u=zn(n.getMonth()+1,2);o=`${zn(n.getFullYear(),4)}${s}${u}${s}${c}`}if(i!=="date"){const c=n.getTimezoneOffset();if(c!==0){const x=Math.abs(c),w=zn(Math.trunc(x/60),2),T=zn(x%60,2);a=`${c<0?"+":"-"}${w}:${T}`}else a="Z";const u=zn(n.getHours(),2),d=zn(n.getMinutes(),2),p=zn(n.getSeconds(),2),m=o===""?"":"T",v=[u,d,p].join(l);o=`${o}${m}${v}${a}`}return o}function _Ae(e,t){const n=Wn(e,t?.in),r=n.getFullYear(),i=n.getMonth(),o=Bi(n,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function AAe(e,t){return Wn(e,t?.in).getMonth()}function NAe(e,t){return Wn(e,t?.in).getFullYear()}function OAe(e,t){return+Wn(e)>+Wn(t)}function MAe(e,t){return+Wn(e)<+Wn(t)}function DAe(e,t,n){const[r,i]=J1(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function RAe(e,t,n){const[r,i]=J1(n?.in,e,t);return r.getFullYear()===i.getFullYear()}function TV(e,t,n){return Q1(e,-t,n)}function M0(e,t){const n=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return Wn(n?Date.UTC(+n[1],+n[2]-1,+n[3],+n[4]-(+n[9]||0)*(n[8]=="-"?-1:1),+n[5]-(+n[10]||0)*(n[8]=="-"?-1:1),+n[6],+((n[7]||"0")+"00").substring(0,3)):NaN,t?.in)}function IAe(e,t,n){const r=Wn(e,n?.in),i=r.getFullYear(),o=r.getDate(),a=Bi(e,0);a.setFullYear(i,t,15),a.setHours(0,0,0,0);const s=_Ae(a);return r.setMonth(t,Math.min(o,s)),r}function PAe(e,t,n){const r=Wn(e,n?.in);return isNaN(+r)?Bi(e,NaN):(r.setFullYear(t),r)}function AS(e,t,n){return f_e(e,-t)}function kV(e,t,n){return m_e(e,-t,n)}function LAe(e){return{...e,lastRunStartedAt:M0(e.lastRunStartedAt),lastRunEndedAt:e.lastRunEndedAt?M0(e.lastRunEndedAt):null}}function jAe(e){return{...e,eventDt:M0(e.eventDt)}}function BAe(e){return{...e,startTime:M0(e.startTime),endTime:e.endTime?M0(e.endTime):null}}function $Ae(e){return e.map(t=>({...t,startTime:M0(t.startTime),endTime:t.endTime?M0(t.endTime):null,events:t.events.map(jAe),steps:t.steps.map(BAe)}))}const ay={getByTenant:async(e,t,n,r,i)=>(await(await Lo("/api/flows/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start:t.toISOString(),end:n.toISOString(),tenant:e,labels:r,notebook_id:i})})).json()).map(LAe),getFlowHistory:async(e,t,n,r,i,o)=>{const a=await Lo("/api/flows/history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flow_name:t,start:n.toISOString(),end:r.toISOString(),labels:i,tenant:e,notebook_id:o})});if(!a.ok)throw new Error(`Failed to fetch flow details: ${a.statusText}`);const s=await a.json();return $Ae(s.history)},list:async()=>await(await Lo("/api/flows/")).json()},D0={list:async()=>await(await Lo("/api/metrics/search",{method:"GET",headers:{"Content-Type":"application/json"}})).json(),getHistory:async(e,t,n,r,i,o,a,s,l)=>{const u=await(await Lo("/api/metrics/range",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metric_name:t,transform:n,group_by:a,group_fn:s,start_time:r.toISOString(),end_time:i.toISOString(),labels:[...o,{label:"tenant",value:e}],notebook_id:l})})).json();return{prettyName:u.prettyName,unit:u.unit,transform:u.transform,series:u.series.map(d=>({labels:d.labels,values:d.values.map(p=>({timestamp:new Date(p.timestamp),value:p.value}))}))}},getScalar:async(e,t,n,r,i,o,a,s,l,c,u,d)=>{const p={metric_name:t,transform:i,group_by:o,group_fn:a,time_aggregation:s,start_time:n.toISOString(),end_time:r.toISOString(),labels:[...u,{label:"tenant",value:e}],notebook_id:d};return s==="match"&&(p.match_operator=l,p.match_value=c),await(await Lo("/api/metrics/instant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).json()}},tE={getOne:async e=>{const t=await Lo(`/api/notebooks/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});return t.ok?await t.json():null},getAll:async e=>{const t=new URLSearchParams;return t.set("tenant",e),(await(await Lo(`/api/notebooks/list?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json()).map(r=>({...r,timeWindow:r.timeWindow?.type==="absolute"?{type:"absolute",metadata:{start:new Date(r.timeWindow.metadata.start),end:new Date(r.timeWindow.metadata.end)}}:r.timeWindow||{type:"relative",metadata:{value:"24h"}},filters:r.filters||[]}))},create:async(e,t)=>(await Lo("/api/notebooks/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenant:e,notebook:t})})).json(),update:async e=>{const t=await Lo(`/api/notebooks/${e.id}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update notebook: ${t.statusText}`);return await t.json()},delete:async e=>(await Lo(`/api/notebooks/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json()};function z6(e){if(e.type==="absolute")return{start:e.metadata.start,end:e.metadata.end};const t=new Date,{value:n}=e.metadata;switch(n){case"15m":return{start:kV(t,15),end:t};case"30m":return{start:kV(t,30),end:t};case"1h":return{start:AS(t,1),end:t};case"6h":return{start:AS(t,6),end:t};case"12h":return{start:AS(t,12),end:t};case"24h":return{start:AS(t,24),end:t};case"7d":return{start:TV(t,7),end:t};case"30d":return{start:TV(t,30),end:t};case"today":return{start:r1(t),end:T_e(t)};case"w":return{start:O0(t,{weekStartsOn:0}),end:BH(t,{weekStartsOn:0})};default:return{start:AS(t,24),end:t}}}let BI=null,sv=null;const ft=TT()(rD((e,t)=>({notebooks:{},currentNotebook:null,notebookCreating:!1,flows:[],flowsLoading:!1,instantMetrics:[],rangeMetrics:[],metricsLoading:!1,comments:[],commentsLoading:!1,commentsDrawerOpen:!1,loading:!0,error:null,settingsOpenBlockId:null,startDate:null,endDate:null,pendingComment:null,openBlockSettings:n=>{e({settingsOpenBlockId:n})},closeBlockSettings:()=>{e({settingsOpenBlockId:null})},openCommentsDrawer:()=>{e({commentsDrawerOpen:!0})},closeCommentsDrawer:()=>{e({commentsDrawerOpen:!1})},toggleCommentsDrawer:()=>{e({commentsDrawerOpen:!t().commentsDrawerOpen})},fetchFlows:async(n,r,i,o,a)=>{e({flowsLoading:!0});try{const s=await ay.getByTenant(n,r,i,o,a);e({flows:s,flowsLoading:!1})}catch{e({flows:[],flowsLoading:!1})}},fetchMetrics:async()=>{e({metricsLoading:!0});try{const{instant:n,range:r}=await D0.list();e({instantMetrics:n,rangeMetrics:r,metricsLoading:!1})}catch(n){console.error("Failed to fetch metrics:",n),e({instantMetrics:[],rangeMetrics:[],metricsLoading:!1})}},fetchComments:async(n,r,i)=>{e({commentsLoading:!0});try{const o=await z_.list({notebook_id:n,start:r,end:i});e({comments:o,commentsLoading:!1})}catch(o){console.error("Failed to fetch comments:",o),e({comments:[],commentsLoading:!1})}},setCurrentNotebook:(n,r,i)=>{const o=i||(t().notebooks[n]||[]).find(s=>s.id===r)||null;if(!o)return null;sv&&clearInterval(sv);const a=()=>{const s=t().currentNotebook;if(!s?.timeWindow){e({startDate:null,endDate:null});return}const{start:l,end:c}=z6(s.timeWindow);e({startDate:l,endDate:c})};return e({currentNotebook:o}),a(),o?.timeWindow?.type==="relative"&&(sv=setInterval(a,15e3)),o},fetchNotebooks:async n=>{e({loading:!0,error:null});try{const r=await tE.getAll(n),{notebooks:i}=t();e({notebooks:{...i,[n]:r},loading:!1})}catch(r){console.error("Failed to fetch notebooks:",r),e({error:r instanceof Error?r.message:"Failed to fetch notebooks",loading:!1})}},updateNotebook:(n,r,i)=>{const{notebooks:o}=t(),a={...r,...i},s=(o[n]||[]).map(l=>l.id===a.id?a:l);if(i.timeWindow){const{start:l,end:c}=z6(i.timeWindow);e({startDate:l,endDate:c})}e({notebooks:{...o,[n]:s},currentNotebook:a}),BI&&clearTimeout(BI),BI=setTimeout(async()=>{await tE.update(a)},200)},createNotebook:(n,r)=>{const{notebooks:i}=t(),o=i[n]||[];return e({notebookCreating:!0,notebooks:{...i,[n]:[...o,r]}}),tE.create(n,r).then(()=>{e({notebookCreating:!1})}),r},deleteNotebook:async(n,r)=>{tE.delete(r);const{notebooks:i}=t(),o=i[n]||[];e({notebooks:{...i,[n]:o.filter(a=>a.id!==r)}})},stopTimeWindowRefresh:()=>{sv&&(clearInterval(sv),sv=null)},deleteComment:async n=>{const{comments:r}=t();e({comments:r.filter(i=>i.id!==n)}),await z_.delete(n)},createComment:async n=>{const{comments:r}=t();e({pendingComment:n});const i=await z_.create(n);e({comments:[...r,i],pendingComment:null})},updateComment:async n=>{const{comments:r}=t(),i=r.find(a=>a.id===n.id);if(!i)return;const o={...i,...n};e({comments:r.map(a=>a.id===n.id?{...a,...n}:a)}),await z_.update(o)}}),{name:"notebooks"}));var _V=1,HAe=.9,FAe=.8,UAe=.17,$I=.1,HI=.999,zAe=.9999,VAe=.99,qAe=/[\\\/_+.#"@\[\(\{&]/,WAe=/[\\\/_+.#"@\[\(\{&]/g,YAe=/[\s-]/,Doe=/[\s-]/g;function V6(e,t,n,r,i,o,a){if(o===t.length)return i===e.length?_V:VAe;var s=`${i},${o}`;if(a[s]!==void 0)return a[s];for(var l=r.charAt(o),c=n.indexOf(l,i),u=0,d,p,m,v;c>=0;)d=V6(e,t,n,r,c+1,o+1,a),d>u&&(c===i?d*=_V:qAe.test(e.charAt(c-1))?(d*=FAe,m=e.slice(i,c-1).match(WAe),m&&i>0&&(d*=Math.pow(HI,m.length))):YAe.test(e.charAt(c-1))?(d*=HAe,v=e.slice(i,c-1).match(Doe),v&&i>0&&(d*=Math.pow(HI,v.length))):(d*=UAe,i>0&&(d*=Math.pow(HI,c-i))),e.charAt(c)!==t.charAt(o)&&(d*=zAe)),(d<$I&&n.charAt(c-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(c-1)!==r.charAt(o))&&(p=V6(e,t,n,r,c+1,o+2,a),p*$I>d&&(d=p*$I)),d>u&&(u=d),c=n.indexOf(l,c+1);return a[s]=u,u}function AV(e){return e.toLowerCase().replace(Doe," ")}function GAe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,V6(e,t,AV(e),AV(t),0,0,{})}var NS='[cmdk-group=""]',FI='[cmdk-group-items=""]',KAe='[cmdk-group-heading=""]',Roe='[cmdk-item=""]',NV=`${Roe}:not([aria-disabled="true"])`,q6="cmdk-item-select",vv="data-value",XAe=(e,t,n)=>GAe(e,t,n),Ioe=C.createContext(void 0),NT=()=>C.useContext(Ioe),Poe=C.createContext(void 0),HH=()=>C.useContext(Poe),Loe=C.createContext(void 0),joe=C.forwardRef((e,t)=>{let n=xv(()=>{var te,U;return{search:"",value:(U=(te=e.value)!=null?te:e.defaultValue)!=null?U:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=xv(()=>new Set),i=xv(()=>new Map),o=xv(()=>new Map),a=xv(()=>new Set),s=Boe(e),{label:l,children:c,value:u,onValueChange:d,filter:p,shouldFilter:m,loop:v,disablePointerSelection:x=!1,vimBindings:w=!0,...T}=e,k=Gi(),N=Gi(),I=Gi(),O=C.useRef(null),A=sNe();R0(()=>{if(u!==void 0){let te=u.trim();n.current.value=te,R.emit()}},[u]),R0(()=>{A(6,Y)},[]);let R=C.useMemo(()=>({subscribe:te=>(a.current.add(te),()=>a.current.delete(te)),snapshot:()=>n.current,setState:(te,U,he)=>{var se,we,ve,je;if(!Object.is(n.current[te],U)){if(n.current[te]=U,te==="search")z(),$(),A(1,q);else if(te==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Te=document.getElementById(I);Te?Te.focus():(se=document.getElementById(k))==null||se.focus()}if(A(7,()=>{var Te;n.current.selectedItemId=(Te=W())==null?void 0:Te.id,R.emit()}),he||A(5,Y),((we=s.current)==null?void 0:we.value)!==void 0){let Te=U??"";(je=(ve=s.current).onValueChange)==null||je.call(ve,Te);return}}R.emit()}},emit:()=>{a.current.forEach(te=>te())}}),[]),L=C.useMemo(()=>({value:(te,U,he)=>{var se;U!==((se=o.current.get(te))==null?void 0:se.value)&&(o.current.set(te,{value:U,keywords:he}),n.current.filtered.items.set(te,B(U,he)),A(2,()=>{$(),R.emit()}))},item:(te,U)=>(r.current.add(te),U&&(i.current.has(U)?i.current.get(U).add(te):i.current.set(U,new Set([te]))),A(3,()=>{z(),$(),n.current.value||q(),R.emit()}),()=>{o.current.delete(te),r.current.delete(te),n.current.filtered.items.delete(te);let he=W();A(4,()=>{z(),he?.getAttribute("id")===te&&q(),R.emit()})}),group:te=>(i.current.has(te)||i.current.set(te,new Set),()=>{o.current.delete(te),i.current.delete(te)}),filter:()=>s.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:k,inputId:I,labelId:N,listInnerRef:O}),[]);function B(te,U){var he,se;let we=(se=(he=s.current)==null?void 0:he.filter)!=null?se:XAe;return te?we(te,n.current.search,U):0}function $(){if(!n.current.search||s.current.shouldFilter===!1)return;let te=n.current.filtered.items,U=[];n.current.filtered.groups.forEach(se=>{let we=i.current.get(se),ve=0;we.forEach(je=>{let Te=te.get(je);ve=Math.max(Te,ve)}),U.push([se,ve])});let he=O.current;Z().sort((se,we)=>{var ve,je;let Te=se.getAttribute("id"),He=we.getAttribute("id");return((ve=te.get(He))!=null?ve:0)-((je=te.get(Te))!=null?je:0)}).forEach(se=>{let we=se.closest(FI);we?we.appendChild(se.parentElement===we?se:se.closest(`${FI} > *`)):he.appendChild(se.parentElement===he?se:se.closest(`${FI} > *`))}),U.sort((se,we)=>we[1]-se[1]).forEach(se=>{var we;let ve=(we=O.current)==null?void 0:we.querySelector(`${NS}[${vv}="${encodeURIComponent(se[0])}"]`);ve?.parentElement.appendChild(ve)})}function q(){let te=Z().find(he=>he.getAttribute("aria-disabled")!=="true"),U=te?.getAttribute(vv);R.setState("value",U||void 0)}function z(){var te,U,he,se;if(!n.current.search||s.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let we=0;for(let ve of r.current){let je=(U=(te=o.current.get(ve))==null?void 0:te.value)!=null?U:"",Te=(se=(he=o.current.get(ve))==null?void 0:he.keywords)!=null?se:[],He=B(je,Te);n.current.filtered.items.set(ve,He),He>0&&we++}for(let[ve,je]of i.current)for(let Te of je)if(n.current.filtered.items.get(Te)>0){n.current.filtered.groups.add(ve);break}n.current.filtered.count=we}function Y(){var te,U,he;let se=W();se&&(((te=se.parentElement)==null?void 0:te.firstChild)===se&&((he=(U=se.closest(NS))==null?void 0:U.querySelector(KAe))==null||he.scrollIntoView({block:"nearest"})),se.scrollIntoView({block:"nearest"}))}function W(){var te;return(te=O.current)==null?void 0:te.querySelector(`${Roe}[aria-selected="true"]`)}function Z(){var te;return Array.from(((te=O.current)==null?void 0:te.querySelectorAll(NV))||[])}function V(te){let U=Z()[te];U&&R.setState("value",U.getAttribute(vv))}function ne(te){var U;let he=W(),se=Z(),we=se.findIndex(je=>je===he),ve=se[we+te];(U=s.current)!=null&&U.loop&&(ve=we+te<0?se[se.length-1]:we+te===se.length?se[0]:se[we+te]),ve&&R.setState("value",ve.getAttribute(vv))}function X(te){let U=W(),he=U?.closest(NS),se;for(;he&&!se;)he=te>0?oNe(he,NS):aNe(he,NS),se=he?.querySelector(NV);se?R.setState("value",se.getAttribute(vv)):ne(te)}let oe=()=>V(Z().length-1),K=te=>{te.preventDefault(),te.metaKey?oe():te.altKey?X(1):ne(1)},Q=te=>{te.preventDefault(),te.metaKey?V(0):te.altKey?X(-1):ne(-1)};return C.createElement(Dt.div,{ref:t,tabIndex:-1,...T,"cmdk-root":"",onKeyDown:te=>{var U;(U=T.onKeyDown)==null||U.call(T,te);let he=te.nativeEvent.isComposing||te.keyCode===229;if(!(te.defaultPrevented||he))switch(te.key){case"n":case"j":{w&&te.ctrlKey&&K(te);break}case"ArrowDown":{K(te);break}case"p":case"k":{w&&te.ctrlKey&&Q(te);break}case"ArrowUp":{Q(te);break}case"Home":{te.preventDefault(),V(0);break}case"End":{te.preventDefault(),oe();break}case"Enter":{te.preventDefault();let se=W();if(se){let we=new Event(q6);se.dispatchEvent(we)}}}}},C.createElement("label",{"cmdk-label":"",htmlFor:L.inputId,id:L.labelId,style:cNe},l),cD(e,te=>C.createElement(Poe.Provider,{value:R},C.createElement(Ioe.Provider,{value:L},te))))}),ZAe=C.forwardRef((e,t)=>{var n,r;let i=Gi(),o=C.useRef(null),a=C.useContext(Loe),s=NT(),l=Boe(e),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:a?.forceMount;R0(()=>{if(!c)return s.item(i,a?.id)},[c]);let u=$oe(i,o,[e.value,e.children,o],e.keywords),d=HH(),p=nm(A=>A.value&&A.value===u.current),m=nm(A=>c||s.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);C.useEffect(()=>{let A=o.current;if(!(!A||e.disabled))return A.addEventListener(q6,v),()=>A.removeEventListener(q6,v)},[m,e.onSelect,e.disabled]);function v(){var A,R;x(),(R=(A=l.current).onSelect)==null||R.call(A,u.current)}function x(){d.setState("value",u.current,!0)}if(!m)return null;let{disabled:w,value:T,onSelect:k,forceMount:N,keywords:I,...O}=e;return C.createElement(Dt.div,{ref:rs(o,t),...O,id:i,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!p,"data-disabled":!!w,"data-selected":!!p,onPointerMove:w||s.getDisablePointerSelection()?void 0:x,onClick:w?void 0:v},e.children)}),QAe=C.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...o}=e,a=Gi(),s=C.useRef(null),l=C.useRef(null),c=Gi(),u=NT(),d=nm(m=>i||u.filter()===!1?!0:m.search?m.filtered.groups.has(a):!0);R0(()=>u.group(a),[]),$oe(a,s,[e.value,e.heading,l]);let p=C.useMemo(()=>({id:a,forceMount:i}),[i]);return C.createElement(Dt.div,{ref:rs(s,t),...o,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},n&&C.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),cD(e,m=>C.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},C.createElement(Loe.Provider,{value:p},m))))}),JAe=C.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=C.useRef(null),o=nm(a=>!a.search);return!n&&!o?null:C.createElement(Dt.div,{ref:rs(i,t),...r,"cmdk-separator":"",role:"separator"})}),eNe=C.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,o=HH(),a=nm(c=>c.search),s=nm(c=>c.selectedItemId),l=NT();return C.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),C.createElement(Dt.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":s,id:l.inputId,type:"text",value:i?e.value:a,onChange:c=>{i||o.setState("search",c.target.value),n?.(c.target.value)}})}),tNe=C.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,o=C.useRef(null),a=C.useRef(null),s=nm(c=>c.selectedItemId),l=NT();return C.useEffect(()=>{if(a.current&&o.current){let c=a.current,u=o.current,d,p=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let m=c.offsetHeight;u.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return p.observe(c),()=>{cancelAnimationFrame(d),p.unobserve(c)}}},[]),C.createElement(Dt.div,{ref:rs(o,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":r,id:l.listId},cD(e,c=>C.createElement("div",{ref:rs(a,l.listInnerRef),"cmdk-list-sizer":""},c)))}),nNe=C.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:a,...s}=e;return C.createElement(xT,{open:n,onOpenChange:r},C.createElement(wT,{container:a},C.createElement(G1,{"cmdk-overlay":"",className:i}),C.createElement(K1,{"aria-label":e.label,"cmdk-dialog":"",className:o},C.createElement(joe,{ref:t,...s}))))}),rNe=C.forwardRef((e,t)=>nm(n=>n.filtered.count===0)?C.createElement(Dt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),iNe=C.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...o}=e;return C.createElement(Dt.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},cD(e,a=>C.createElement("div",{"aria-hidden":!0},a)))}),ex=Object.assign(joe,{List:tNe,Item:ZAe,Input:eNe,Group:QAe,Separator:JAe,Dialog:nNe,Empty:rNe,Loading:iNe});function oNe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function aNe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Boe(e){let t=C.useRef(e);return R0(()=>{t.current=e}),t}var R0=typeof window>"u"?C.useEffect:C.useLayoutEffect;function xv(e){let t=C.useRef();return t.current===void 0&&(t.current=e()),t}function nm(e){let t=HH(),n=()=>e(t.snapshot());return C.useSyncExternalStore(t.subscribe,n,n)}function $oe(e,t,n,r=[]){let i=C.useRef(),o=NT();return R0(()=>{var a;let s=(()=>{var c;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());o.value(e,s,l),(a=t.current)==null||a.setAttribute(vv,s),i.current=s}),i}var sNe=()=>{let[e,t]=C.useState(),n=xv(()=>new Map);return R0(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function lNe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function cD({asChild:e,children:t},n){return e&&C.isValidElement(t)?C.cloneElement(lNe(t),{ref:t.ref},n(t.props.children)):n(t)}var cNe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function uNe({...e}){return g.jsx(xT,{"data-slot":"dialog",...e})}function dNe({...e}){return g.jsx(wT,{"data-slot":"dialog-portal",...e})}function fNe({className:e,...t}){return g.jsx(G1,{"data-slot":"dialog-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function hNe({className:e,children:t,showCloseButton:n=!0,...r}){return g.jsxs(dNe,{"data-slot":"dialog-portal",children:[g.jsx(fNe,{}),g.jsxs(K1,{"data-slot":"dialog-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n&&g.jsxs(nD,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[g.jsx(MH,{}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function pNe({className:e,...t}){return g.jsx("div",{"data-slot":"dialog-header",className:Ie("flex flex-col gap-2 text-center sm:text-left",e),...t})}function mNe({className:e,...t}){return g.jsx(ST,{"data-slot":"dialog-title",className:Ie("text-lg leading-none font-semibold",e),...t})}function gNe({className:e,...t}){return g.jsx(ET,{"data-slot":"dialog-description",className:Ie("text-muted-foreground text-sm",e),...t})}function rm({className:e,...t}){return g.jsx(ex,{"data-slot":"command",className:Ie("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function yNe({title:e="Command Palette",description:t="Search for a command to run...",children:n,className:r,showCloseButton:i=!0,...o}){return g.jsxs(uNe,{...o,children:[g.jsxs(pNe,{className:"sr-only",children:[g.jsx(mNe,{children:e}),g.jsx(gNe,{children:t})]}),g.jsx(hNe,{className:Ie("overflow-hidden p-0",r),showCloseButton:i,children:g.jsx(rm,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:n})})]})}function im({className:e,...t}){return g.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[g.jsx(Bie,{className:"size-4 shrink-0 opacity-50"}),g.jsx(ex.Input,{"data-slot":"command-input",className:Ie("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function om({className:e,...t}){return g.jsx(ex.List,{"data-slot":"command-list",className:Ie("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function am({...e}){return g.jsx(ex.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function sm({className:e,...t}){return g.jsx(ex.Group,{"data-slot":"command-group",className:Ie("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function lm({className:e,...t}){return g.jsx(ex.Item,{"data-slot":"command-item",className:Ie("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function bNe({open:e,onOpenChange:t}){const n=iy(),r=dc(o=>o.tenants);C.useEffect(()=>{const o=a=>{a.key==="k"&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),t(!e))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e,t]);const i=o=>{t(!1),n(`/tenants/${encodeURIComponent(o)}`)};return g.jsxs(yNe,{open:e,onOpenChange:t,children:[g.jsx(im,{placeholder:"Search for tenants..."}),g.jsxs(om,{children:[g.jsx(am,{children:"No tenants found."}),r.length>0&&g.jsx(sm,{heading:"Tenants",children:r.map(o=>g.jsxs(lm,{onSelect:()=>i(o),className:"flex items-center gap-3",children:[g.jsx(kie,{className:"h-4 w-4"}),g.jsx("span",{children:o})]},o))})]})]})}const vNe=[{id:"home",label:"Home",icon:Pie,href:"/"},{id:"search",label:"Go To",icon:rke,href:"/search",shortcut:"K"}];function OV({isCollapsed:e}={}){const t=Cu().pathname,[n,r]=C.useState(!1),[i,o]=C.useState(!0),[a,s]=C.useState(!1),[l,c]=C.useState(null),u=ft(L=>L.notebooks),d=ft(L=>L.loading),p=ft(L=>L.fetchNotebooks),m=ft(L=>L.createNotebook),v=ft(L=>L.deleteNotebook),x=iy(),w=LH(L=>L.logout),T=t.startsWith("/tenants/")?decodeURIComponent(t.split("/")[2]):null;C.useEffect(()=>{T&&p(T)},[T,p]);const k=T?u[T]||[]:[],N=T?[{id:"data",label:"Data Library",icon:Rie,href:`/tenants/${encodeURIComponent(T)}`}]:[],I=()=>{if(!T)return;const L={id:crypto.randomUUID(),title:"Untitled Notebook",description:"",blocks:null,timeWindow:{type:"relative",metadata:{value:"24h"}},filters:[],flowBlocksFilters:null,metricBlocksFilters:null,isPublic:!1},B=m(T,L);x(`/tenants/${encodeURIComponent(T)}/notebooks/${B.id}`)},O=(L,B,$)=>{L.preventDefault(),L.stopPropagation(),c({id:B,title:$}),s(!0)},A=async()=>{if(!(!T||!l))try{await v(T,l.id),s(!1),c(null),x(`/tenants/${encodeURIComponent(T)}`)}catch(L){console.error("Failed to delete notebook:",L),s(!1),c(null)}},R=()=>{w(),x("/login")};return g.jsxs(g.Fragment,{children:[!e&&g.jsxs("aside",{className:"flex h-screen w-64 flex-col border-r transition-all duration-300 hidden md:flex",style:{backgroundColor:"#f9f8f7"},children:[g.jsx("div",{className:"flex h-14 items-center border-b px-3",children:g.jsx("div",{className:Ie("flex transition-all items-center gap-1"),children:g.jsxs("span",{className:"font-bold text-lg",children:[g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d/"}),T||"ashfrog"]})})}),g.jsx("div",{className:"flex-1 overflow-y-auto",children:g.jsxs("nav",{className:"space-y-1 p-2",children:[vNe.map(L=>{const B=L.icon,$=t===L.href;return L.id==="search"?g.jsxs("button",{type:"button",onClick:()=>r(!0),className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all hover:bg-accent w-full text-left",e&&"justify-center px-2"),style:{color:"#5f5e5b"},children:[g.jsx(B,{className:"h-4 w-4 shrink-0"}),!e&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"flex-1",children:L.label}),L.shortcut&&g.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:L.shortcut})]})]},L.id):g.jsxs(Sd,{to:L.href,className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all hover:bg-accent",$&&"bg-accent text-accent-foreground",e&&"justify-center px-2"),style:{color:$?void 0:"#5f5e5b"},children:[g.jsx(B,{className:"h-4 w-4 shrink-0"}),!e&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"flex-1",children:L.label}),L.shortcut&&g.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:L.shortcut})]})]},L.id)}),!e&&T&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"px-3 py-2",children:g.jsx(Od,{})}),g.jsx("div",{className:"space-y-1",children:N.map(L=>{const B=L.icon,$=t===L.href;return g.jsxs(Sd,{to:L.href,className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all hover:bg-accent",$&&"bg-accent text-accent-foreground"),style:{color:$?void 0:"#5f5e5b"},children:[g.jsx(B,{className:"h-4 w-4 shrink-0"}),g.jsx("span",{className:"flex-1",children:L.label})]},L.id)})}),g.jsxs(t_e,{open:i,onOpenChange:o,className:"space-y-1",children:[g.jsx("div",{className:"flex items-center gap-1 group",children:g.jsxs(n_e,{className:"flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all hover:bg-accent flex-1",children:[g.jsx(TTe,{className:"h-4 w-4 shrink-0"}),g.jsx("span",{className:"flex-1 text-left",children:"Notebooks"}),g.jsx(OH,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:L=>{L.preventDefault(),I()}}),g.jsx(kT,{className:Ie("h-4 w-4 shrink-0 transition-transform",i&&"rotate-180")})]})}),g.jsx(r_e,{className:"space-y-1 pl-4",children:d?[1,2,3].map(L=>g.jsx("div",{className:"h-9 rounded-lg bg-accent/50 animate-pulse"},L)):k.length>0?k.map(L=>{const B=t===`/tenants/${encodeURIComponent(T)}/notebooks/${L.id}`;return g.jsxs("div",{className:"group relative",children:[g.jsx(Sd,{to:`/tenants/${encodeURIComponent(T)}/notebooks/${L.id}`,className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all hover:bg-accent pr-10",B&&"bg-accent text-accent-foreground"),style:{color:B?void 0:"#5f5e5b"},children:L.title}),g.jsx(yi,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:$=>O($,L.id,L.title),title:"Delete notebook",children:g.jsx(Hie,{className:"h-3.5 w-3.5 text-secondary-foreground",strokeWidth:2.5})})]},L.id)}):g.jsx("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:"No notebooks"})})]})]})]})}),g.jsx("div",{className:"border-t p-2",children:g.jsxs(yi,{variant:"ghost",className:"w-full justify-start gap-3 text-sm font-medium hover:bg-accent",style:{color:"#5f5e5b"},onClick:R,children:[g.jsx(zke,{className:"h-4 w-4 shrink-0"}),g.jsx("span",{className:"flex-1 text-left",children:"Logout"})]})})]}),g.jsx(bNe,{open:n,onOpenChange:r}),g.jsx(K2e,{open:a,onOpenChange:s,children:g.jsxs(loe,{children:[g.jsxs(coe,{children:[g.jsx(doe,{children:"Delete notebook?"}),g.jsxs(foe,{children:['Are you sure you want to delete "',l?.title,'"? This action cannot be undone.']})]}),g.jsxs(uoe,{children:[g.jsx(poe,{children:"Cancel"}),g.jsx(hoe,{onClick:A,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function UI({children:e}){const[t,n]=C.useState(!1),r=iD(o=>o.sidebarCollapsed),i=dc(o=>o.fetchLabelsAndTenants);return C.useEffect(()=>{const o=setInterval(()=>{i()},5e3);return()=>clearInterval(o)},[i]),g.jsxs(g.Fragment,{children:[g.jsx(fSe,{position:"top-right",richColors:!0,closeButton:!0}),g.jsxs("div",{className:"flex min-h-screen w-screen overflow-hidden",children:[g.jsx(OV,{isCollapsed:r}),g.jsx(CH,{open:t,onOpenChange:n,children:g.jsx(TH,{side:"left",className:"p-0",children:g.jsx(OV,{})})}),g.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[g.jsx("header",{className:"border-b bg-background"}),g.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:e})]})]})]})}const xNe=["top","right","bottom","left"],cm=Math.min,xl=Math.max,gN=Math.round,V_=Math.floor,Ed=e=>({x:e,y:e}),wNe={left:"right",right:"left",bottom:"top",top:"bottom"},SNe={start:"end",end:"start"};function W6(e,t,n){return xl(e,cm(t,n))}function Xf(e,t){return typeof e=="function"?e(t):e}function Zf(e){return e.split("-")[0]}function tx(e){return e.split("-")[1]}function FH(e){return e==="x"?"y":"x"}function UH(e){return e==="y"?"height":"width"}const ENe=new Set(["top","bottom"]);function yd(e){return ENe.has(Zf(e))?"y":"x"}function zH(e){return FH(yd(e))}function CNe(e,t,n){n===void 0&&(n=!1);const r=tx(e),i=zH(e),o=UH(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=yN(a)),[a,yN(a)]}function TNe(e){const t=yN(e);return[Y6(e),t,Y6(t)]}function Y6(e){return e.replace(/start|end/g,t=>SNe[t])}const MV=["left","right"],DV=["right","left"],kNe=["top","bottom"],_Ne=["bottom","top"];function ANe(e,t,n){switch(e){case"top":case"bottom":return n?t?DV:MV:t?MV:DV;case"left":case"right":return t?kNe:_Ne;default:return[]}}function NNe(e,t,n,r){const i=tx(e);let o=ANe(Zf(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Y6)))),o}function yN(e){return e.replace(/left|right|bottom|top/g,t=>wNe[t])}function ONe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Hoe(e){return typeof e!="number"?ONe(e):{top:e,right:e,bottom:e,left:e}}function bN(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function RV(e,t,n){let{reference:r,floating:i}=e;const o=yd(t),a=zH(t),s=UH(a),l=Zf(t),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[s]/2-i[s]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(tx(t)){case"start":m[a]-=p*(n&&c?-1:1);break;case"end":m[a]+=p*(n&&c?-1:1);break}return m}const MNe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=RV(c,r,l),p=r,m={},v=0;for(let x=0;x<s.length;x++){const{name:w,fn:T}=s[x],{x:k,y:N,data:I,reset:O}=await T({x:u,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:a,elements:{reference:e,floating:t}});u=k??u,d=N??d,m={...m,[w]:{...m[w],...I}},O&&v<=50&&(v++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(c=O.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:u,y:d}=RV(c,p,l)),x=-1)}return{x:u,y:d,placement:p,strategy:i,middlewareData:m}};async function ZE(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=Xf(t,e),v=Hoe(m),w=s[p?d==="floating"?"reference":"floating":d],T=bN(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),k=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),I=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},O=bN(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:k,offsetParent:N,strategy:l}):k);return{top:(T.top-O.top+v.top)/I.y,bottom:(O.bottom-T.bottom+v.bottom)/I.y,left:(T.left-O.left+v.left)/I.x,right:(O.right-T.right+v.right)/I.x}}const DNe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Xf(e,t)||{};if(c==null)return{};const d=Hoe(u),p={x:n,y:r},m=zH(i),v=UH(m),x=await a.getDimensions(c),w=m==="y",T=w?"top":"left",k=w?"bottom":"right",N=w?"clientHeight":"clientWidth",I=o.reference[v]+o.reference[m]-p[m]-o.floating[v],O=p[m]-o.reference[m],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let R=A?A[N]:0;(!R||!await(a.isElement==null?void 0:a.isElement(A)))&&(R=s.floating[N]||o.floating[v]);const L=I/2-O/2,B=R/2-x[v]/2-1,$=cm(d[T],B),q=cm(d[k],B),z=$,Y=R-x[v]-q,W=R/2-x[v]/2+L,Z=W6(z,W,Y),V=!l.arrow&&tx(i)!=null&&W!==Z&&o.reference[v]/2-(W<z?$:q)-x[v]/2<0,ne=V?W<z?W-z:W-Y:0;return{[m]:p[m]+ne,data:{[m]:Z,centerOffset:W-Z-ne,...V&&{alignmentOffset:ne}},reset:V}}}),RNe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...w}=Xf(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const T=Zf(i),k=yd(s),N=Zf(s)===s,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=p||(N||!x?[yN(s)]:TNe(s)),A=v!=="none";!p&&A&&O.push(...NNe(s,x,v,I));const R=[s,...O],L=await ZE(t,w),B=[];let $=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&B.push(L[T]),d){const W=CNe(i,a,I);B.push(L[W[0]],L[W[1]])}if($=[...$,{placement:i,overflows:B}],!B.every(W=>W<=0)){var q,z;const W=(((q=o.flip)==null?void 0:q.index)||0)+1,Z=R[W];if(Z&&(!(d==="alignment"?k!==yd(Z):!1)||$.every(X=>yd(X.placement)===k?X.overflows[0]>0:!0)))return{data:{index:W,overflows:$},reset:{placement:Z}};let V=(z=$.filter(ne=>ne.overflows[0]<=0).sort((ne,X)=>ne.overflows[1]-X.overflows[1])[0])==null?void 0:z.placement;if(!V)switch(m){case"bestFit":{var Y;const ne=(Y=$.filter(X=>{if(A){const oe=yd(X.placement);return oe===k||oe==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(oe=>oe>0).reduce((oe,K)=>oe+K,0)]).sort((X,oe)=>X[1]-oe[1])[0])==null?void 0:Y[0];ne&&(V=ne);break}case"initialPlacement":V=s;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function IV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function PV(e){return xNe.some(t=>e[t]>=0)}const INe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Xf(e,t);switch(r){case"referenceHidden":{const o=await ZE(t,{...i,elementContext:"reference"}),a=IV(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:PV(a)}}}case"escaped":{const o=await ZE(t,{...i,altBoundary:!0}),a=IV(o,n.floating);return{data:{escapedOffsets:a,escaped:PV(a)}}}default:return{}}}}},Foe=new Set(["left","top"]);async function PNe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Zf(n),s=tx(n),l=yd(n)==="y",c=Foe.has(a)?-1:1,u=o&&l?-1:1,d=Xf(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof v=="number"&&(m=s==="end"?v*-1:v),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const LNe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await PNe(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},jNe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:w=>{let{x:T,y:k}=w;return{x:T,y:k}}},...l}=Xf(e,t),c={x:n,y:r},u=await ZE(t,l),d=yd(Zf(i)),p=FH(d);let m=c[p],v=c[d];if(o){const w=p==="y"?"top":"left",T=p==="y"?"bottom":"right",k=m+u[w],N=m-u[T];m=W6(k,m,N)}if(a){const w=d==="y"?"top":"left",T=d==="y"?"bottom":"right",k=v+u[w],N=v-u[T];v=W6(k,v,N)}const x=s.fn({...t,[p]:m,[d]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:o,[d]:a}}}}}},BNe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Xf(e,t),u={x:n,y:r},d=yd(i),p=FH(d);let m=u[p],v=u[d];const x=Xf(s,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const N=p==="y"?"height":"width",I=o.reference[p]-o.floating[N]+w.mainAxis,O=o.reference[p]+o.reference[N]-w.mainAxis;m<I?m=I:m>O&&(m=O)}if(c){var T,k;const N=p==="y"?"width":"height",I=Foe.has(Zf(i)),O=o.reference[d]-o.floating[N]+(I&&((T=a.offset)==null?void 0:T[d])||0)+(I?0:w.crossAxis),A=o.reference[d]+o.reference[N]+(I?0:((k=a.offset)==null?void 0:k[d])||0)-(I?w.crossAxis:0);v<O?v=O:v>A&&(v=A)}return{[p]:m,[d]:v}}}},$Ne=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...c}=Xf(e,t),u=await ZE(t,c),d=Zf(i),p=tx(i),m=yd(i)==="y",{width:v,height:x}=o.floating;let w,T;d==="top"||d==="bottom"?(w=d,T=p===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(T=d,w=p==="end"?"top":"bottom");const k=x-u.top-u.bottom,N=v-u.left-u.right,I=cm(x-u[w],k),O=cm(v-u[T],N),A=!t.middlewareData.shift;let R=I,L=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=k),A&&!p){const $=xl(u.left,0),q=xl(u.right,0),z=xl(u.top,0),Y=xl(u.bottom,0);m?L=v-2*($!==0||q!==0?$+q:xl(u.left,u.right)):R=x-2*(z!==0||Y!==0?z+Y:xl(u.top,u.bottom))}await l({...t,availableWidth:L,availableHeight:R});const B=await a.getDimensions(s.floating);return v!==B.width||x!==B.height?{reset:{rects:!0}}:{}}}};function uD(){return typeof window<"u"}function nx(e){return VH(e)?(e.nodeName||"").toLowerCase():"#document"}function _l(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jd(e){var t;return(t=(VH(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function VH(e){return uD()?e instanceof Node||e instanceof _l(e).Node:!1}function qi(e){return uD()?e instanceof Element||e instanceof _l(e).Element:!1}function bu(e){return uD()?e instanceof HTMLElement||e instanceof _l(e).HTMLElement:!1}function G6(e){return!uD()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _l(e).ShadowRoot}const HNe=new Set(["inline","contents"]);function OT(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=xc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!HNe.has(i)}const FNe=new Set(["table","td","th"]);function UNe(e){return FNe.has(nx(e))}const zNe=[":popover-open",":modal"];function dD(e){return zNe.some(t=>{try{return e.matches(t)}catch{return!1}})}const VNe=["transform","translate","scale","rotate","perspective"],qNe=["transform","translate","scale","rotate","perspective","filter"],WNe=["paint","layout","strict","content"];function qH(e){const t=fD(),n=qi(e)?xc(e):e;return VNe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||qNe.some(r=>(n.willChange||"").includes(r))||WNe.some(r=>(n.contain||"").includes(r))}function YNe(e){let t=Qf(e);for(;bu(t)&&!$f(t);){if(qH(t))return t;if(dD(t))return null;t=Qf(t)}return null}function fD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GNe=new Set(["html","body","#document"]);function $f(e){return GNe.has(nx(e))}function xc(e){return _l(e).getComputedStyle(e)}function hD(e){return qi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qf(e){if(nx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||G6(e)&&e.host||jd(e);return G6(t)?t.host:t}function Uoe(e){const t=Qf(e);return $f(t)?e.ownerDocument?e.ownerDocument.body:e.body:bu(t)&&OT(t)?t:Uoe(t)}function Yp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Uoe(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=_l(i);if(o){const s=K6(a);return t.concat(a,a.visualViewport||[],OT(i)?i:[],s&&n?Yp(s):[])}return t.concat(i,Yp(i,[],n))}function K6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zoe(e){const t=xc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=bu(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=gN(n)!==o||gN(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function WH(e){return qi(e)?e:e.contextElement}function Hv(e){const t=WH(e);if(!bu(t))return Ed(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=zoe(t);let a=(o?gN(n.width):n.width)/r,s=(o?gN(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const KNe=Ed(0);function Voe(e){const t=_l(e);return!fD()||!t.visualViewport?KNe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function XNe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_l(e)?!1:t}function I0(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=WH(e);let a=Ed(1);t&&(r?qi(r)&&(a=Hv(r)):a=Hv(e));const s=XNe(o,n,r)?Voe(o):Ed(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(o){const p=_l(o),m=r&&qi(r)?_l(r):r;let v=p,x=K6(v);for(;x&&r&&m!==v;){const w=Hv(x),T=x.getBoundingClientRect(),k=xc(x),N=T.left+(x.clientLeft+parseFloat(k.paddingLeft))*w.x,I=T.top+(x.clientTop+parseFloat(k.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,d*=w.y,l+=N,c+=I,v=_l(x),x=K6(v)}}return bN({width:u,height:d,x:l,y:c})}function pD(e,t){const n=hD(e).scrollLeft;return t?t.left+n:I0(jd(e)).left+n}function qoe(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-pD(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function ZNe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=jd(r),s=t?dD(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Ed(1);const u=Ed(0),d=bu(r);if((d||!d&&!o)&&((nx(r)!=="body"||OT(a))&&(l=hD(r)),bu(r))){const m=I0(r);c=Hv(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=a&&!d&&!o?qoe(a,l):Ed(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function QNe(e){return Array.from(e.getClientRects())}function JNe(e){const t=jd(e),n=hD(e),r=e.ownerDocument.body,i=xl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=xl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+pD(e);const s=-n.scrollTop;return xc(r).direction==="rtl"&&(a+=xl(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const LV=25;function eOe(e,t){const n=_l(e),r=jd(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=fD();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=pD(r);if(c<=0){const u=r.ownerDocument,d=u.body,p=getComputedStyle(d),m=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-d.clientWidth-m);v<=LV&&(o-=v)}else c<=LV&&(o+=c);return{width:o,height:a,x:s,y:l}}const tOe=new Set(["absolute","fixed"]);function nOe(e,t){const n=I0(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=bu(e)?Hv(e):Ed(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function jV(e,t,n){let r;if(t==="viewport")r=eOe(e,n);else if(t==="document")r=JNe(jd(e));else if(qi(t))r=nOe(t,n);else{const i=Voe(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return bN(r)}function Woe(e,t){const n=Qf(e);return n===t||!qi(n)||$f(n)?!1:xc(n).position==="fixed"||Woe(n,t)}function rOe(e,t){const n=t.get(e);if(n)return n;let r=Yp(e,[],!1).filter(s=>qi(s)&&nx(s)!=="body"),i=null;const o=xc(e).position==="fixed";let a=o?Qf(e):e;for(;qi(a)&&!$f(a);){const s=xc(a),l=qH(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&tOe.has(i.position)||OT(a)&&!l&&Woe(e,a))?r=r.filter(u=>u!==a):i=s,a=Qf(a)}return t.set(e,r),r}function iOe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?dD(t)?[]:rOe(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,u)=>{const d=jV(t,u,i);return c.top=xl(d.top,c.top),c.right=cm(d.right,c.right),c.bottom=cm(d.bottom,c.bottom),c.left=xl(d.left,c.left),c},jV(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function oOe(e){const{width:t,height:n}=zoe(e);return{width:t,height:n}}function aOe(e,t,n){const r=bu(t),i=jd(t),o=n==="fixed",a=I0(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Ed(0);function c(){l.x=pD(i)}if(r||!r&&!o)if((nx(t)!=="body"||OT(i))&&(s=hD(t)),r){const m=I0(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?qoe(i,s):Ed(0),d=a.left+s.scrollLeft-l.x-u.x,p=a.top+s.scrollTop-l.y-u.y;return{x:d,y:p,width:a.width,height:a.height}}function zI(e){return xc(e).position==="static"}function BV(e,t){if(!bu(e)||xc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jd(e)===n&&(n=n.ownerDocument.body),n}function Yoe(e,t){const n=_l(e);if(dD(e))return n;if(!bu(e)){let i=Qf(e);for(;i&&!$f(i);){if(qi(i)&&!zI(i))return i;i=Qf(i)}return n}let r=BV(e,t);for(;r&&UNe(r)&&zI(r);)r=BV(r,t);return r&&$f(r)&&zI(r)&&!qH(r)?n:r||YNe(e)||n}const sOe=async function(e){const t=this.getOffsetParent||Yoe,n=this.getDimensions,r=await n(e.floating);return{reference:aOe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lOe(e){return xc(e).direction==="rtl"}const cOe={convertOffsetParentRelativeRectToViewportRelativeRect:ZNe,getDocumentElement:jd,getClippingRect:iOe,getOffsetParent:Yoe,getElementRects:sOe,getClientRects:QNe,getDimensions:oOe,getScale:Hv,isElement:qi,isRTL:lOe};function Goe(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uOe(e,t){let n=null,r;const i=jd(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:p,height:m}=c;if(s||t(),!p||!m)return;const v=V_(d),x=V_(i.clientWidth-(u+p)),w=V_(i.clientHeight-(d+m)),T=V_(u),N={rootMargin:-v+"px "+-x+"px "+-w+"px "+-T+"px",threshold:xl(0,cm(1,l))||1};let I=!0;function O(A){const R=A[0].intersectionRatio;if(R!==l){if(!I)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!Goe(c,e.getBoundingClientRect())&&a(),I=!1}try{n=new IntersectionObserver(O,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,N)}n.observe(e)}return a(!0),o}function Koe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=WH(e),u=i||o?[...c?Yp(c):[],...Yp(t)]:[];u.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),o&&T.addEventListener("resize",n)});const d=c&&s?uOe(c,n):null;let p=-1,m=null;a&&(m=new ResizeObserver(T=>{let[k]=T;k&&k.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let v,x=l?I0(e):null;l&&w();function w(){const T=I0(e);x&&!Goe(x,T)&&n(),x=T,v=requestAnimationFrame(w)}return n(),()=>{var T;u.forEach(k=>{i&&k.removeEventListener("scroll",n),o&&k.removeEventListener("resize",n)}),d?.(),(T=m)==null||T.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const dOe=LNe,fOe=jNe,hOe=RNe,pOe=$Ne,mOe=INe,$V=DNe,gOe=BNe,yOe=(e,t,n)=>{const r=new Map,i={platform:cOe,...n},o={...i.platform,_c:r};return MNe(e,t,{...i,platform:o})};var bOe=typeof document<"u",vOe=function(){},VA=bOe?C.useLayoutEffect:vOe;function vN(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!vN(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!vN(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Xoe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function HV(e,t){const n=Xoe(e);return Math.round(t*n)/n}function VI(e){const t=C.useRef(e);return VA(()=>{t.current=e}),t}function Zoe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,d]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=C.useState(r);vN(p,r)||m(r);const[v,x]=C.useState(null),[w,T]=C.useState(null),k=C.useCallback(X=>{X!==A.current&&(A.current=X,x(X))},[]),N=C.useCallback(X=>{X!==R.current&&(R.current=X,T(X))},[]),I=o||v,O=a||w,A=C.useRef(null),R=C.useRef(null),L=C.useRef(u),B=l!=null,$=VI(l),q=VI(i),z=VI(c),Y=C.useCallback(()=>{if(!A.current||!R.current)return;const X={placement:t,strategy:n,middleware:p};q.current&&(X.platform=q.current),yOe(A.current,R.current,X).then(oe=>{const K={...oe,isPositioned:z.current!==!1};W.current&&!vN(L.current,K)&&(L.current=K,Ta.flushSync(()=>{d(K)}))})},[p,t,n,q,z]);VA(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,d(X=>({...X,isPositioned:!1})))},[c]);const W=C.useRef(!1);VA(()=>(W.current=!0,()=>{W.current=!1}),[]),VA(()=>{if(I&&(A.current=I),O&&(R.current=O),I&&O){if($.current)return $.current(I,O,Y);Y()}},[I,O,Y,$,B]);const Z=C.useMemo(()=>({reference:A,floating:R,setReference:k,setFloating:N}),[k,N]),V=C.useMemo(()=>({reference:I,floating:O}),[I,O]),ne=C.useMemo(()=>{const X={position:n,left:0,top:0};if(!V.floating)return X;const oe=HV(V.floating,u.x),K=HV(V.floating,u.y);return s?{...X,transform:"translate("+oe+"px, "+K+"px)",...Xoe(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:K}},[n,s,V.floating,u.x,u.y]);return C.useMemo(()=>({...u,update:Y,refs:Z,elements:V,floatingStyles:ne}),[u,Y,Z,V,ne])}const xOe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?$V({element:r.current,padding:i}).fn(n):{}:r?$V({element:r,padding:i}).fn(n):{}}}},ch=(e,t)=>({...dOe(e),options:[e,t]}),MT=(e,t)=>({...fOe(e),options:[e,t]}),wOe=(e,t)=>({...gOe(e),options:[e,t]}),xm=(e,t)=>({...hOe(e),options:[e,t]}),mD=(e,t)=>({...pOe(e),options:[e,t]}),SOe=(e,t)=>({...mOe(e),options:[e,t]}),EOe=(e,t)=>({...xOe(e),options:[e,t]});var COe="Arrow",Qoe=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return g.jsx(Dt.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});Qoe.displayName=COe;var TOe=Qoe;function kOe(e){const[t,n]=C.useState(void 0);return Xi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var YH="Popper",[Joe,wm]=Us(YH),[_Oe,eae]=Joe(YH),tae=e=>{const{__scopePopper:t,children:n}=e,[r,i]=C.useState(null);return g.jsx(_Oe,{scope:t,anchor:r,onAnchorChange:i,children:n})};tae.displayName=YH;var nae="PopperAnchor",rae=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=eae(nae,n),a=C.useRef(null),s=An(t,a),l=C.useRef(null);return C.useEffect(()=>{const c=l.current;l.current=r?.current||a.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:g.jsx(Dt.div,{...i,ref:s})});rae.displayName=nae;var GH="PopperContent",[AOe,NOe]=Joe(GH),iae=C.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...x}=e,w=eae(GH,n),[T,k]=C.useState(null),N=An(t,ve=>k(ve)),[I,O]=C.useState(null),A=kOe(I),R=A?.width??0,L=A?.height??0,B=r+(o!=="center"?"-"+o:""),$=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},q=Array.isArray(c)?c:[c],z=q.length>0,Y={padding:$,boundary:q.filter(MOe),altBoundary:z},{refs:W,floatingStyles:Z,placement:V,isPositioned:ne,middlewareData:X}=Zoe({strategy:"fixed",placement:B,whileElementsMounted:(...ve)=>Koe(...ve,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[ch({mainAxis:i+L,alignmentAxis:a}),l&&MT({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?wOe():void 0,...Y}),l&&xm({...Y}),mD({...Y,apply:({elements:ve,rects:je,availableWidth:Te,availableHeight:He})=>{const{width:Ge,height:De}=je.reference,Ft=ve.floating.style;Ft.setProperty("--radix-popper-available-width",`${Te}px`),Ft.setProperty("--radix-popper-available-height",`${He}px`),Ft.setProperty("--radix-popper-anchor-width",`${Ge}px`),Ft.setProperty("--radix-popper-anchor-height",`${De}px`)}}),I&&EOe({element:I,padding:s}),DOe({arrowWidth:R,arrowHeight:L}),p&&SOe({strategy:"referenceHidden",...Y})]}),[oe,K]=sae(V),Q=Co(v);Xi(()=>{ne&&Q?.()},[ne,Q]);const te=X.arrow?.x,U=X.arrow?.y,he=X.arrow?.centerOffset!==0,[se,we]=C.useState();return Xi(()=>{T&&we(window.getComputedStyle(T).zIndex)},[T]),g.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:ne?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:g.jsx(AOe,{scope:n,placedSide:oe,onArrowChange:O,arrowX:te,arrowY:U,shouldHideArrow:he,children:g.jsx(Dt.div,{"data-side":oe,"data-align":K,...x,ref:N,style:{...x.style,animation:ne?void 0:"none"}})})})});iae.displayName=GH;var oae="PopperArrow",OOe={top:"bottom",right:"left",bottom:"top",left:"right"},aae=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=NOe(oae,r),a=OOe[o.placedSide];return g.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:g.jsx(TOe,{...i,ref:n,style:{...i.style,display:"block"}})})});aae.displayName=oae;function MOe(e){return e!==null}var DOe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,s=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[c,u]=sae(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(i.arrow?.x??0)+s/2,m=(i.arrow?.y??0)+l/2;let v="",x="";return c==="bottom"?(v=a?d:`${p}px`,x=`${-l}px`):c==="top"?(v=a?d:`${p}px`,x=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,x=a?d:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,x=a?d:`${m}px`),{data:{x:v,y:x}}}});function sae(e){const[t,n="center"]=e.split("-");return[t,n]}var DT=tae,RT=rae,gD=iae,yD=aae,ROe=Symbol("radix.slottable");function IOe(e){const t=({children:n})=>g.jsx(g.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=ROe,t}var lae=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),POe="VisuallyHidden",cae=C.forwardRef((e,t)=>g.jsx(Dt.span,{...e,ref:t,style:{...lae,...e.style}}));cae.displayName=POe;var LOe=cae,[bD]=Us("Tooltip",[wm]),vD=wm(),uae="TooltipProvider",jOe=700,X6="tooltip.open",[BOe,KH]=bD(uae),dae=e=>{const{__scopeTooltip:t,delayDuration:n=jOe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,a=C.useRef(!0),s=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),g.jsx(BOe,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:C.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:o})};dae.displayName=uae;var QE="Tooltip",[$Oe,IT]=bD(QE),fae=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=e,l=KH(QE,e.__scopeTooltip),c=vD(t),[u,d]=C.useState(null),p=Gi(),m=C.useRef(0),v=a??l.disableHoverableContent,x=s??l.delayDuration,w=C.useRef(!1),[T,k]=yu({prop:r,defaultProp:i??!1,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(X6))):l.onClose(),o?.(R)},caller:QE}),N=C.useMemo(()=>T?w.current?"delayed-open":"instant-open":"closed",[T]),I=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,k(!0)},[k]),O=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,k(!1)},[k]),A=C.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,k(!0),m.current=0},x)},[x,k]);return C.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),g.jsx(DT,{...c,children:g.jsx($Oe,{scope:t,contentId:p,open:T,stateAttribute:N,trigger:u,onTriggerChange:d,onTriggerEnter:C.useCallback(()=>{l.isOpenDelayedRef.current?A():I()},[l.isOpenDelayedRef,A,I]),onTriggerLeave:C.useCallback(()=>{v?O():(window.clearTimeout(m.current),m.current=0)},[O,v]),onOpen:I,onClose:O,disableHoverableContent:v,children:n})})};fae.displayName=QE;var Z6="TooltipTrigger",hae=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=IT(Z6,n),o=KH(Z6,n),a=vD(n),s=C.useRef(null),l=An(t,s,i.onTriggerChange),c=C.useRef(!1),u=C.useRef(!1),d=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),g.jsx(RT,{asChild:!0,...a,children:g.jsx(Dt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:dt(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:dt(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:dt(e.onBlur,i.onClose),onClick:dt(e.onClick,i.onClose)})})});hae.displayName=Z6;var XH="TooltipPortal",[HOe,FOe]=bD(XH,{forceMount:void 0}),pae=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=IT(XH,t);return g.jsx(HOe,{scope:t,forceMount:n,children:g.jsx(Fo,{present:n||o.open,children:g.jsx(Y1,{asChild:!0,container:i,children:r})})})};pae.displayName=XH;var i1="TooltipContent",mae=C.forwardRef((e,t)=>{const n=FOe(i1,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,a=IT(i1,e.__scopeTooltip);return g.jsx(Fo,{present:r||a.open,children:a.disableHoverableContent?g.jsx(gae,{side:i,...o,ref:t}):g.jsx(UOe,{side:i,...o,ref:t})})}),UOe=C.forwardRef((e,t)=>{const n=IT(i1,e.__scopeTooltip),r=KH(i1,e.__scopeTooltip),i=C.useRef(null),o=An(t,i),[a,s]=C.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,p=C.useCallback(()=>{s(null),d(!1)},[d]),m=C.useCallback((v,x)=>{const w=v.currentTarget,T={x:v.clientX,y:v.clientY},k=WOe(T,w.getBoundingClientRect()),N=YOe(T,k),I=GOe(x.getBoundingClientRect()),O=XOe([...N,...I]);s(O),d(!0)},[d]);return C.useEffect(()=>()=>p(),[p]),C.useEffect(()=>{if(l&&u){const v=w=>m(w,u),x=w=>m(w,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",x)}}},[l,u,m,p]),C.useEffect(()=>{if(a){const v=x=>{const w=x.target,T={x:x.clientX,y:x.clientY},k=l?.contains(w)||u?.contains(w),N=!KOe(T,a);k?p():N&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,a,c,p]),g.jsx(gae,{...e,ref:o})}),[zOe,VOe]=bD(QE,{isInside:!1}),qOe=IOe("TooltipContent"),gae=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=e,l=IT(i1,n),c=vD(n),{onClose:u}=l;return C.useEffect(()=>(document.addEventListener(X6,u),()=>document.removeEventListener(X6,u)),[u]),C.useEffect(()=>{if(l.trigger){const d=p=>{p.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),g.jsx(W1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:g.jsxs(gD,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(qOe,{children:r}),g.jsx(zOe,{scope:n,isInside:!0,children:g.jsx(LOe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});mae.displayName=i1;var yae="TooltipArrow",bae=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=vD(n);return VOe(yae,n).isInside?null:g.jsx(yD,{...i,...r,ref:t})});bae.displayName=yae;function WOe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YOe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function GOe(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function KOe(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const s=t[o],l=t[a],c=s.x,u=s.y,d=l.x,p=l.y;u>r!=p>r&&n<(d-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function XOe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ZOe(t)}function ZOe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var vae=dae,xae=fae,wae=hae,QOe=pae,ZH=mae,JOe=bae;const wl=vae,Jr=xae,ei=wae,Hr=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>g.jsx(QOe,{children:g.jsx(ZH,{ref:r,sideOffset:t,className:Ie("z-2000 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));Hr.displayName=ZH.displayName;function JE({icon:e,title:t,description:n,action:r,onClick:i,className:o}){return g.jsxs("div",{className:Ie("flex flex-col items-center justify-center py-12 px-4",o),onClick:i,children:[g.jsx("div",{className:"rounded-full bg-muted p-4 mb-4",children:g.jsx(e,{className:"h-8 w-8 text-muted-foreground"})}),g.jsxs("div",{className:"text-center space-y-2 max-w-md",children:[g.jsx("h3",{className:"font-semibold text-lg",children:t}),g.jsx("p",{className:"text-sm text-muted-foreground",children:n}),r&&g.jsx("div",{className:"pt-4",children:r})]})]})}function Cd({className:e,...t}){return g.jsx("div",{className:Ie("animate-pulse rounded-md bg-primary/10",e),...t})}const sy=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{className:"relative w-full overflow-auto max-w-full mb-0",children:g.jsx("table",{ref:n,className:Ie("w-max min-w-full caption-bottom text-sm",e),...t})}));sy.displayName="Table";const ly=C.forwardRef(({className:e,...t},n)=>g.jsx("thead",{ref:n,className:Ie("[&_tr]:border-b",e),...t}));ly.displayName="TableHeader";const cy=C.forwardRef(({className:e,...t},n)=>g.jsx("tbody",{ref:n,className:Ie("[&_tr:last-child]:border-0",e),...t}));cy.displayName="TableBody";const eMe=C.forwardRef(({className:e,...t},n)=>g.jsx("tfoot",{ref:n,className:Ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));eMe.displayName="TableFooter";const wa=C.forwardRef(({className:e,...t},n)=>g.jsx("tr",{ref:n,className:Ie("transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),style:{borderBottom:"1px solid #2a1c0012"},...t}));wa.displayName="TableRow";const oo=C.forwardRef(({className:e,...t},n)=>g.jsx("th",{ref:n,className:Ie("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));oo.displayName="TableHead";const _i=C.forwardRef(({className:e,...t},n)=>g.jsx("td",{ref:n,className:Ie("py-2 px-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] whitespace-nowrap border-r",e),...t}));_i.displayName="TableCell";const tMe=C.forwardRef(({className:e,...t},n)=>g.jsx("caption",{ref:n,className:Ie("mt-4 text-sm text-muted-foreground",e),...t}));tMe.displayName="TableCaption";function rx({columns:e,rows:t=5}){return g.jsxs(sy,{children:[g.jsx(ly,{children:g.jsx(wa,{children:Array.from({length:e}).map((n,r)=>g.jsx(oo,{children:g.jsx(Cd,{className:"h-4 w-24"})},r))})}),g.jsx(cy,{children:Array.from({length:t}).map((n,r)=>g.jsx(wa,{children:Array.from({length:e}).map((i,o)=>g.jsx(_i,{children:g.jsx(Cd,{className:"h-4 w-full"})},o))},r))})]})}function nMe(){const e=dc(a=>a.tenants),t=dc(a=>a.loading),n=iy(),r=dc(a=>a.fetchLabelsAndTenants),i=iD(a=>a.toggleSidebar);C.useEffect(()=>{r()},[r]);const o=a=>{n(`/tenants/${encodeURIComponent(a)}`)};return g.jsxs("div",{className:"flex-1 space-y-6 px-8 py-4",children:[g.jsxs("nav",{className:"flex items-center text-muted-foreground gap-1",children:[g.jsxs(yi,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:i,children:[g.jsx(NH,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Toggle sidebar"})]}),g.jsx(Od,{orientation:"vertical",className:"h-4 mr-2 text-secondary-foreground"}),g.jsx(Sd,{to:"/",className:"hover:text-foreground transition-colors font-lg",children:g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d"})}),"/"]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[g.jsx(Pie,{className:"h-8 w-8 text-muted-foreground"}),"Tenants"]}),g.jsx("p",{className:"text-sm text-secondary-foreground",children:"Select a tenant namespace to view their data"})]}),g.jsx("div",{children:t&&!e?g.jsx(rx,{columns:1,rows:5}):e.length===0?g.jsx(JE,{icon:kie,title:"No tenants yet",description:"Tenants will appear automatically once you start pushing events to Dashfrog."}):g.jsxs(sy,{children:[g.jsx(ly,{children:g.jsx(wa,{children:g.jsx(oo,{children:"Tenant"})})}),g.jsx(cy,{children:e.map(a=>g.jsx(wa,{onClick:()=>o(a),className:"cursor-pointer",children:g.jsxs(_i,{className:"font-medium",children:["d/",a]})},a))})]})})]})}const Hf=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Hf.displayName="Card";const Td=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("flex flex-col space-y-1.5 p-6",e),...t}));Td.displayName="CardHeader";const eC=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("font-semibold leading-none tracking-tight",e),...t}));eC.displayName="CardTitle";const P0=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));P0.displayName="CardDescription";const xN=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("p-6 pt-0",e),...t}));xN.displayName="CardContent";const g0=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("flex items-center p-6 pt-0",e),...t}));g0.displayName="CardFooter";const rMe=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("pt-1.5",e),...t}));rMe.displayName="CardAction";const fc=C.forwardRef(({className:e,type:t,...n},r)=>g.jsx("input",{type:t,className:Ie("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));fc.displayName="Input";var iMe="Label",Sae=C.forwardRef((e,t)=>g.jsx(Dt.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Sae.displayName=iMe;var QH=Sae;const oMe=oy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Jf=C.forwardRef(({className:e,...t},n)=>g.jsx(QH,{ref:n,className:Ie(oMe(),e),...t}));Jf.displayName=QH.displayName;const aMe={login:async(e,t)=>{const n=new URLSearchParams;n.append("username",e),n.append("password",t);const r=await fetch("/api/auth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});if(!r.ok)throw r.status===401?new Error("Invalid username or password"):new Error(`Authentication failed: ${r.statusText}`);return await r.json()}};function sMe(){const[e,t]=C.useState(""),[n,r]=C.useState(""),[i,o]=C.useState(""),[a,s]=C.useState(!1),l=iy(),c=LH(d=>d.login),u=async d=>{d.preventDefault(),o(""),s(!0);try{if(!e||!n){o("Please enter both username and password");return}const p=await aMe.login(e,n);c(e,p.access_token),l("/")}catch(p){p instanceof Error?o(p.message):o("An error occurred during login")}finally{s(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:g.jsxs(Hf,{className:"w-full max-w-md",children:[g.jsxs(Td,{className:"space-y-1",children:[g.jsx(eC,{className:"text-2xl font-bold",children:"Login"}),g.jsx(P0,{children:"Enter your credentials to access Dashfrog"})]}),g.jsx(xN,{children:g.jsxs("form",{onSubmit:u,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Jf,{htmlFor:"username",children:"Username"}),g.jsx(fc,{id:"username",type:"text",placeholder:"Enter your username",value:e,onChange:d=>t(d.target.value),disabled:a,autoComplete:"username"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Jf,{htmlFor:"password",children:"Password"}),g.jsx(fc,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:d=>r(d.target.value),disabled:a,autoComplete:"current-password"})]}),i&&g.jsx("div",{className:"text-sm text-red-500 font-medium",children:i}),g.jsx(yi,{type:"submit",className:"w-full",disabled:a,children:a?"Logging in...":"Login"})]})})]})})}const lMe="modulepreload",cMe=function(e){return"/"+e},FV={},wN=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var a=c;document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=c(n.map(u=>{if(u=cMe(u),u in FV)return;FV[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":lMe,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((v,x)=>{m.addEventListener("load",v),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};function Xo(e){this.content=e}Xo.prototype={constructor:Xo,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new Xo(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Xo(n)},addToStart:function(e,t){return new Xo([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Xo(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new Xo(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Xo.from(e),e.size?new Xo(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Xo.from(e),e.size?new Xo(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Xo.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Xo.from=function(e){if(e instanceof Xo)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Xo(t)};function Eae(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){let a=Eae(i.content,o.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function Cae(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let a=e.child(--i),s=t.child(--o),l=a.nodeSize;if(a==s){n-=l,r-=l;continue}if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let c=0,u=Math.min(a.text.length,s.text.length);for(;c<u&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let c=Cae(a.content,s.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class Fe{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let a=0,s=0;s<n;a++){let l=this.content[a],c=s+l.nodeSize;if(c>t&&r(l,i+s,o||null,a)!==!1&&l.content.size){let u=s+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),r,i+u)}s=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",a=!0;return this.nodesBetween(t,n,(s,l)=>{let c=s.isText?s.text.slice(Math.max(t,l)-l,n-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&c||s.isTextblock)&&r&&(a?a=!1:o+=r),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new Fe(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,a=0;a<n;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>n)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,n-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,n-a-1))),r.push(s),i+=s.nodeSize),a=l}return new Fe(r,i)}cutByIndex(t,n){return t==n?Fe.empty:t==0&&n==this.content.length?this:new Fe(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Fe(i,o)}addToStart(t){return new Fe([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Fe(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return Eae(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return Cae(this,t,n,r)}findIndex(t){if(t==0)return q_(0,t);if(t==this.size)return q_(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t?q_(n+1,o):q_(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Fe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fe(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Fe.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Fe(n||t,r)}static from(t){if(!t)return Fe.empty;if(t instanceof Fe)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Fe([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fe.empty=new Fe([],0);const qI={index:0,offset:0};function q_(e,t){return qI.index=e,qI.offset=t,qI}function SN(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!SN(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!SN(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Ur=class Q6{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&SN(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Q6.none;if(t instanceof Q6)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Ur.none=[];class EN extends Error{}class at{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=kae(this.content,t+this.openStart,n);return r&&new at(r,this.openStart,this.openEnd)}removeBetween(t,n){return new at(Tae(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return at.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new at(Fe.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new at(t,r,i)}}at.empty=new at(Fe.empty,0,0);function Tae(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(i==t||o.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(Tae(o.content,t-i-1,n-i-1)))}function kae(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),a=e.maybeChild(i);if(o==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=kae(a.content,t-o-1,n,a);return s&&e.replaceChild(i,a.copy(s))}function uMe(e,t,n){if(n.openStart>e.depth)throw new EN("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new EN("Inconsistent open depths");return _ae(e,t,n,0)}function _ae(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=_ae(e,t,n,r+1);return o.copy(o.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,s=a.content;return b0(a,s.cut(0,e.parentOffset).append(n.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=dMe(n,e);return b0(o,Nae(e,a,s,t,r))}else return b0(o,CN(e,t,r))}function Aae(e,t){if(!t.type.compatibleContent(e.type))throw new EN("Cannot join "+t.type.name+" onto "+e.type.name)}function J6(e,t,n){let r=e.node(n);return Aae(r,t.node(n)),r}function y0(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function mE(e,t,n,r){let i=(t||e).node(n),o=0,a=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(y0(e.nodeAfter,r),o++));for(let s=o;s<a;s++)y0(i.child(s),r);t&&t.depth==n&&t.textOffset&&y0(t.nodeBefore,r)}function b0(e,t){return e.type.checkContent(t),e.copy(t)}function Nae(e,t,n,r,i){let o=e.depth>i&&J6(e,t,i+1),a=r.depth>i&&J6(n,r,i+1),s=[];return mE(null,e,i,s),o&&a&&t.index(i)==n.index(i)?(Aae(o,a),y0(b0(o,Nae(e,t,n,r,i+1)),s)):(o&&y0(b0(o,CN(e,t,i+1)),s),mE(t,n,i,s),a&&y0(b0(a,CN(n,r,i+1)),s)),mE(r,null,i,s),new Fe(s)}function CN(e,t,n){let r=[];if(mE(null,e,n,r),e.depth>n){let i=J6(e,t,n+1);y0(b0(i,CN(e,t,n+1)),r)}return mE(t,null,n,r),new Fe(r)}function dMe(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(Fe.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class tC{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Ur.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let s=r;r=i,i=s}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new TN(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),c=o-l;if(r.push(a,s,i+l),!c||(a=a.child(s),a.isText))break;o=c-1,i+=l+1}return new tC(n,r,o)}static resolveCached(t,n){let r=UV.get(t);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==n)return a}else UV.set(t,r=new fMe);let i=r.elts[r.i]=tC.resolve(t,n);return r.i=(r.i+1)%hMe,i}}class fMe{constructor(){this.elts=[],this.i=0}}const hMe=12,UV=new WeakMap;class TN{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const pMe=Object.create(null);let Ff=class eB{constructor(t,n,r,i=Ur.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Fe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&SN(this.attrs,n||t.defaultAttrs||pMe)&&Ur.sameSet(this.marks,r||Ur.none)}copy(t=null){return t==this.content?this:new eB(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new eB(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return at.empty;let i=this.resolve(t),o=this.resolve(n),a=r?0:i.sharedDepth(n),s=i.start(a),c=i.node(a).content.cut(i.pos-s,o.pos-s);return new at(c,i.depth-a,o.depth-a)}replace(t,n,r){return uMe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return tC.resolveCached(this,t)}resolveNoCache(t){return tC.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Oae(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Fe.empty,i=0,o=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,o),s=a&&a.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ur.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Ur.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Fe.fromJSON(t,n.content),o=t.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Ff.prototype.text=void 0;class kN extends Ff{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Oae(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new kN(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new kN(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Oae(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class L0{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new mMe(t,n);if(r.next==null)return L0.empty;let i=Mae(r);r.next&&r.err("Unexpected trailing text");let o=SMe(wMe(i));return EMe(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(a,s){let l=a.matchFragment(t,r);if(l&&(!n||l.validEnd))return Fe.from(s.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:u,next:d}=a.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let p=o(d,s.concat(u));if(p)return p}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||l.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return o}).join(`
`)}}L0.empty=new L0(!0);class mMe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Mae(e){let t=[];do t.push(gMe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function gMe(e){let t=[];do t.push(yMe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function yMe(e){let t=xMe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=bMe(e,t);else break;return t}function zV(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function bMe(e,t){let n=zV(e),r=n;return e.eat(",")&&(e.next!="}"?r=zV(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function vMe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let a=n[o];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function xMe(e){if(e.eat("(")){let t=Mae(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=vMe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function wMe(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(a,s,l){let c={term:l,to:s};return t[a].push(c),c}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(o(c,s)),[]);if(a.type=="seq")for(let l=0;;l++){let c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;i(c,s=n())}else if(a.type=="star"){let l=n();return r(s,l),i(o(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return i(o(a.expr,s),l),i(o(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let c=0;c<a.min;c++){let u=n();i(o(a.expr,l),u),l=u}if(a.max==-1)i(o(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let u=n();r(l,u),i(o(a.expr,l),u),l=u}return[r(l)]}else{if(a.type=="name")return[r(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Dae(e,t){return t-e}function VV(e,t){let n=[];return r(t),n.sort(Dae);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&n.indexOf(l)==-1&&r(l)}}}function SMe(e){let t=Object.create(null);return n(VV(e,0));function n(r){let i=[];r.forEach(a=>{e[a].forEach(({term:s,to:l})=>{if(!s)return;let c;for(let u=0;u<i.length;u++)i[u][0]==s&&(c=i[u][1]);VV(e,l).forEach(u=>{c||i.push([s,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=t[r.join(",")]=new L0(r.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(Dae);o.next.push({type:i[a][0],next:t[s.join(",")]||n(s)})}return o}}function EMe(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:c}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Rae(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Iae(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Pae(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function Lae(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new TMe(e,r,t[r]);return n}let qV=class jae{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Lae(t,r.attrs),this.defaultAttrs=Rae(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==L0.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Iae(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ff(this,this.computeAttrs(t),Fe.from(n),Ur.setFrom(r))}createChecked(t=null,n,r){return n=Fe.from(n),this.checkContent(n),new Ff(this,this.computeAttrs(t),n,Ur.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Fe.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Fe.empty,!0);return o?new Ff(this,t,n.append(o),Ur.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){Pae(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Ur.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,a)=>r[o]=new jae(o,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function CMe(e,t,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}class TMe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?CMe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class xD{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=Lae(t,i.attrs),this.excluded=null;let o=Rae(this.attrs);this.instance=o?new Ur(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Ur(this,Iae(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,a)=>r[o]=new xD(o,i++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){Pae(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}let Bae=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Xo.from(t.nodes),n.marks=Xo.from(t.marks||{}),this.nodes=qV.compile(this.spec.nodes,this),this.marks=xD.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=L0.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?WV(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:WV(this,a.split(" "))}this.nodeFromJSON=i=>Ff.fromJSON(this,i),this.markFromJSON=i=>Ur.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof qV){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new kN(r,r.defaultAttrs,t,Ur.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}};function WV(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],a=o;if(o)n.push(o);else for(let s in e.marks){let l=e.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function kMe(e){return e.tag!=null}function _Me(e){return e.style!=null}let pu=class tB{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(kMe(i))this.tags.push(i);else if(_Me(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,n={}){let r=new GV(this,n,!1);return r.addAll(t,Ur.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new GV(this,n,!0);return r.addAll(t,Ur.none,n.from,n.to),at.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(OMe(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let s=n[a];if((s.priority==null?50:s.priority)<o)break}n.splice(a,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(a=>{r(a=KV(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(a=>{r(a=KV(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new tB(t,tB.schemaRules(t)))}};const $ae={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},AMe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Hae={ol:!0,ul:!0},nC=1,nB=2,gE=4;function YV(e,t,n){return t!=null?(t?nC:0)|(t==="full"?nB:0):e&&e.whitespace=="pre"?nC|nB:n&~gE}class W_{constructor(t,n,r,i,o,a){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Ur.none,this.match=o||(a&gE?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Fe.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&nC)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Fe.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Fe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!$ae.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class GV{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,a=YV(null,n.preserveWhitespace,0)|(r?gE:0);i?o=new W_(i.type,i.attrs,Ur.none,!0,n.topMatch||i.type.contentMatch,a):r?o=new W_(null,null,Ur.none,!0,null,a):o=new W_(t.schema.topNodeType,null,Ur.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,o=i.options&nB?"full":this.localPreserveWS||(i.options&nC)>0,{schema:a}=this.parser;if(o==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let s=r.split(/\r?\n|\r/);for(let l=0;l<s.length;l++)l&&this.insertNode(a.linebreakReplacement.create(),n,!0),s[l]&&this.insertNode(a.text(s[l]),n,!/\S/.test(s[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],l=t.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),s;Hae.hasOwnProperty(a)&&this.parser.normalizeLists&&NMe(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,r));e:if(l?l.ignore:AMe.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if($ae.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=l&&l.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=r.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return n}addElementByRule(t,n,r,i){let o,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(a,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}o&&this.sync(s)&&this.open--}addAll(t,n,r,i){let o=r||0;for(let a=r?t.childNodes[r]:t.firstChild,s=i==null?null:t.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a,n);this.findAtPoint(t,o)}findPlace(t,n,r){let i,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(t);if(c&&(!i||i.length>c.length+s)&&(i=c,o=l,!c.length))break;if(l.solid){if(r)break;s+=2}}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let a=Ur.none;for(let s of i.concat(t.marks))(o.type?o.type.allowsMarkType(s.type):XV(s.type,t.type))&&(a=s.addToSet(a));return o.content.push(t.mark(a)),!0}return!1}enter(t,n,r,i){let o=this.findPlace(t.create(n),r,!1);return o&&(o=this.enterInner(t,n,r,!0,i)),o}enterInner(t,n,r,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let s=YV(t,o,a.options);a.options&gE&&a.content.length==0&&(s|=gE);let l=Ur.none;return r=r.filter(c=>(a.type?a.type.allowsMarkType(c.type):XV(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new W_(t,n,l,i,null,s)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=nC)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let c=n[s];if(c==""){if(s==n.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function NMe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&Hae.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function OMe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function KV(e){let t={};for(let n in e)t[n]=e[n];return t}function XV(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:c,next:u}=s.edge(l);if(c==t||o.indexOf(u)<0&&a(u))return!0}};if(a(i.contentMatch))return!0}}class Ol{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=WI(n).createDocumentFragment());let i=r,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[s][0])||c.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],u=this.serializeMark(c,a.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=qA(WI(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&qA(WI(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return qA(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Ol(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=ZV(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return ZV(t.marks)}}function ZV(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function WI(e){return e.document||window.document}const QV=new WeakMap;function MMe(e){let t=QV.get(e);return t===void 0&&QV.set(e,t=DMe(e)),t}function DMe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function qA(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=MMe(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let s,l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let p=d.indexOf(" ");p>0?l.setAttributeNS(d.slice(0,p),d.slice(p+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<t.length;d++){let p=t[d];if(p===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:m,contentDOM:v}=qA(e,p,n,r);if(l.appendChild(m),v){if(s)throw new RangeError("Multiple content holes");s=v}}}return{dom:l,contentDOM:s}}const Fae=65535,Uae=Math.pow(2,16);function RMe(e,t){return e+t*Uae}function JV(e){return e&Fae}function IMe(e){return(e-(e&Fae))/Uae}const zae=1,Vae=2,WA=4,qae=8;class rB{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&qae)>0}get deletedBefore(){return(this.delInfo&(zae|WA))>0}get deletedAfter(){return(this.delInfo&(Vae|WA))>0}get deletedAcross(){return(this.delInfo&WA)>0}}class Sl{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Sl.empty)return Sl.empty}recover(t){let n=0,r=JV(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+IMe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[s+o],u=this.ranges[s+a],d=l+c;if(t<=d){let p=c?t==l?-1:t==d?1:n:n,m=l+i+(p<0?0:u);if(r)return m;let v=t==(n<0?l:d)?null:RMe(s/3,t-l),x=t==l?Vae:t==d?zae:WA;return(n<0?t!=l:t!=d)&&(x|=qae),new rB(m,x,v)}i+=u-c}return r?t+i:new rB(t+i,0,null)}touches(t,n){let r=0,i=JV(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[s+o],u=l+c;if(t<=u&&s==i*3)return!0;r+=this.ranges[s+a]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];t(s,s+c,l,l+u),o+=u-c}}invert(){return new Sl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Sl.empty:new Sl(t<0?[0,-t,0]:[0,0,t])}}Sl.empty=new Sl([]);class o1{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new o1(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new o1;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(t,n);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,t=s.pos}return r?t:new rB(t,i,null)}}const YI=Object.create(null);let _a=class{getMap(){return Sl.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=YI[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in YI)throw new RangeError("Duplicate use of step JSON ID "+t);return YI[t]=n,n.prototype.jsonID=t,n}};class so{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new so(t,null)}static fail(t){return new so(null,t)}static fromReplace(t,n,r,i){try{return so.ok(t.replace(n,r,i))}catch(o){if(o instanceof EN)return so.fail(o.message);throw o}}}function JH(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(JH(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Fe.fromArray(r)}class Hp extends _a{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new at(JH(n.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return so.fromReplace(t,this.from,this.to,o)}invert(){return new uu(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Hp(n.pos,r.pos,this.mark)}merge(t){return t instanceof Hp&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Hp(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Hp(n.from,n.to,t.markFromJSON(n.mark))}}_a.jsonID("addMark",Hp);class uu extends _a{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new at(JH(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return so.fromReplace(t,this.from,this.to,r)}invert(){return new Hp(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new uu(n.pos,r.pos,this.mark)}merge(t){return t instanceof uu&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new uu(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new uu(n.from,n.to,t.markFromJSON(n.mark))}}_a.jsonID("removeMark",uu);class Fp extends _a{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return so.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return so.fromReplace(t,this.pos,this.pos+1,new at(Fe.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Fp(this.pos,n.marks[i]);return new Fp(this.pos,this.mark)}}return new j0(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Fp(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Fp(n.pos,t.markFromJSON(n.mark))}}_a.jsonID("addNodeMark",Fp);class j0 extends _a{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return so.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return so.fromReplace(t,this.pos,this.pos+1,new at(Fe.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Fp(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new j0(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new j0(n.pos,t.markFromJSON(n.mark))}}_a.jsonID("removeNodeMark",j0);class ao extends _a{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&iB(t,this.from,this.to)?so.fail("Structure replace would overwrite content"):so.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Sl([this.from,this.to-this.from,this.slice.size])}invert(t){return new ao(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ao(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof ao)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?at.empty:new at(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ao(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?at.empty:new at(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ao(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ao(n.from,n.to,at.fromJSON(t,n.slice),!!n.structure)}}_a.jsonID("replace",ao);class Ki extends _a{constructor(t,n,r,i,o,a,s=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(iB(t,this.from,this.gapFrom)||iB(t,this.gapTo,this.to)))return so.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return so.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?so.fromReplace(t,this.from,this.to,r):so.fail("Content does not fit in gap")}getMap(){return new Sl([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Ki(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ki(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ki(n.from,n.to,n.gapFrom,n.gapTo,at.fromJSON(t,n.slice),n.insert,!!n.structure)}}_a.jsonID("replaceAround",Ki);function iB(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function PMe(e,t,n,r){let i=[],o=[],a,s;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let p=Math.max(c,t),m=Math.min(c+l.nodeSize,n),v=r.addToSet(d);for(let x=0;x<d.length;x++)d[x].isInSet(v)||(a&&a.to==p&&a.mark.eq(d[x])?a.to=m:i.push(a=new uu(p,m,d[x])));s&&s.to==p?s.to=m:o.push(s=new Hp(p,m,r))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function LMe(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(r instanceof xD){let c=a.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let c=Math.min(s+a.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],p;for(let m=0;m<i.length;m++){let v=i[m];v.step==o-1&&d.eq(i[m].style)&&(p=v)}p?(p.to=c,p.step=o):i.push({style:d,from:Math.max(s,t),to:c,step:o})}}}),i.forEach(a=>e.step(new uu(a.from,a.to,a.style)))}function e9(e,t,n,r=n.contentMatch,i=!0){let o=e.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=s+c.nodeSize,d=r.matchType(c.type);if(!d)a.push(new ao(s,u,at.empty));else{r=d;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||e.step(new uu(s,u,c.marks[p]));if(i&&c.isText&&n.whitespace!="pre"){let p,m=/\r?\n|\r/g,v;for(;p=m.exec(c.text);)v||(v=new at(Fe.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),a.push(new ao(s+p.index,s+p.index+p[0].length,v))}}s=u}if(!r.validEnd){let l=r.fillBefore(Fe.empty,!0);e.replace(s,s,new at(l,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function jMe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function ix(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,i=0,o=0;;--r){let a=e.$from.node(r),s=e.$from.index(r)+i,l=e.$to.indexAfter(r)-o;if(r<e.depth&&a.canReplace(s,l,n))return r;if(r==0||a.type.spec.isolating||!jMe(a,s,l))break;s&&(i=1),l<a.childCount&&(o=1)}return null}function BMe(e,t,n){let{$from:r,$to:i,depth:o}=t,a=r.before(o+1),s=i.after(o+1),l=a,c=s,u=Fe.empty,d=0;for(let v=o,x=!1;v>n;v--)x||r.index(v)>0?(x=!0,u=Fe.from(r.node(v).copy(u)),d++):l--;let p=Fe.empty,m=0;for(let v=o,x=!1;v>n;v--)x||i.after(v+1)<i.end(v)?(x=!0,p=Fe.from(i.node(v).copy(p)),m++):c++;e.step(new Ki(l,c,a,s,new at(u.append(p),d,m),u.size-d,!0))}function Wae(e,t,n=null,r=e){let i=$Me(e,t),o=i&&HMe(r,t);return o?i.map(eq).concat({type:t,attrs:n}).concat(o.map(eq)):null}function eq(e){return{type:e,attrs:null}}function $Me(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return n.canReplaceWith(r,i,a)?o:null}function HMe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:a}function FMe(e,t,n){let r=Fe.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let s=n[a].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Fe.from(n[a].type.create(n[a].attrs,r))}let i=t.start,o=t.end;e.step(new Ki(i,o,i,o,new at(r,0,0),n.length,!0))}function UMe(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,l)&&zMe(e.doc,e.mapping.slice(o).map(s),r)){let c=null;if(r.schema.linebreakReplacement){let m=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);m&&!v?c=!1:!m&&v&&(c=!0)}c===!1&&Gae(e,a,s,o),e9(e,e.mapping.slice(o).map(s,1),r,void 0,c===null);let u=e.mapping.slice(o),d=u.map(s,1),p=u.map(s+a.nodeSize,1);return e.step(new Ki(d,p,d+1,p-1,new at(Fe.from(r.create(l,null,a.marks)),0,0),1,!0)),c===!0&&Yae(e,a,s,o),!1}})}function Yae(e,t,n,r){t.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=e.mapping.slice(r).map(n+1+o+a.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function Gae(e,t,n,r){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+o);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function zMe(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function VMe(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Ki(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new at(Fe.from(a),0,0),1,!0))}function Uf(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),p=i.index(c);if(d.type.spec.isolating)return!1;let m=d.content.cutByIndex(p,d.childCount),v=r&&r[u+1];v&&(m=m.replaceChild(0,v.type.create(v.attrs)));let x=r&&r[u]||d;if(!d.canReplace(p+1,d.childCount)||!x.type.validContent(m))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function qMe(e,t,n=1,r){let i=e.doc.resolve(t),o=Fe.empty,a=Fe.empty;for(let s=i.depth,l=i.depth-n,c=n-1;s>l;s--,c--){o=Fe.from(i.node(s).copy(o));let u=r&&r[c];a=Fe.from(u?u.type.create(u.attrs,a):i.node(s).copy(a))}e.step(new ao(t,t,new at(o.append(a),n,n),!0))}function uy(e,t){let n=e.resolve(t),r=n.index();return Kae(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function WMe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),a=o.type==r?e.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(o.marks))return!1}return n.validEnd}function Kae(e,t){return!!(e&&t&&!e.isLeaf&&WMe(e,t))}function wD(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let o,a,s=r.index(i);if(i==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(i+1),s++,a=r.node(i).maybeChild(s)):(o=r.node(i).maybeChild(s-1),a=r.node(i+1)),o&&!o.isTextblock&&Kae(o,a)&&r.node(i).canReplace(s,s+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function YMe(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-n),a=o.node().type;if(i&&a.inlineContent){let u=a.whitespace=="pre",d=!!a.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let s=e.steps.length;if(r===!1){let u=e.doc.resolve(t+n);Gae(e,u.node(),u.before(),s)}a.inlineContent&&e9(e,t+n-1,a,o.node().contentMatchAt(o.index()),r==null);let l=e.mapping.slice(s),c=l.map(t-n);if(e.step(new ao(c,l.map(t+n,-1),at.empty,!0)),r===!0){let u=e.doc.resolve(c);Yae(e,u.node(),u.before(),e.steps.length)}return e}function GMe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function t9(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let a=r.depth;a>=0;a--){let s=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(s>0?1:0),c=r.node(a),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return s==0?r.pos:s<0?r.before(a+1):r.after(a+1)}return null}function SD(e,t,n=t,r=at.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return Xae(i,o,r)?new ao(t,n,r):new KMe(i,o,r).fit()}function Xae(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class KMe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Fe.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=Fe.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,a=r.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new at(o,a,s);return t>-1?new Ki(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ao(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=GI(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],u,d=null;if(n==1&&(a?c.matchType(a.type)||(d=c.fillBefore(Fe.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:s,parent:o,inject:d};if(n==2&&a&&(u=c.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:s,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=GI(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new at(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=GI(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new at(nE(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new at(nE(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let x=0;x<o.length;x++)this.openFrontierNode(o[x]);let a=this.unplaced,s=r?r.content:a.content,l=a.openStart-t,c=0,u=[],{match:d,type:p}=this.frontier[n];if(i){for(let x=0;x<i.childCount;x++)u.push(i.child(x));d=d.matchFragment(i)}let m=s.size+t-(a.content.size-a.openEnd);for(;c<s.childCount;){let x=s.child(c),w=d.matchType(x.type);if(!w)break;c++,(c>1||l==0||x.content.size)&&(d=w,u.push(Zae(x.mark(p.allowedMarks(x.marks)),c==1?l:0,c==s.childCount?m:-1)))}let v=c==s.childCount;v||(m=-1),this.placed=rE(this.placed,n,Fe.from(u)),this.frontier[n].match=d,v&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,w=s;x<m;x++){let T=w.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),w=T.content}this.unplaced=v?t==0?at.empty:new at(nE(a.content,t-1,1),t-1,m<0?a.openEnd:t-1):new at(nE(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!KI(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=KI(t,n,i,r,o);if(a){for(let s=n-1;s>=0;s--){let{match:l,type:c}=this.frontier[s],u=KI(t,s,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:a,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=rE(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=rE(this.placed,this.depth,Fe.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Fe.empty,!0);n.childCount&&(this.placed=rE(this.placed,this.frontier.length,n))}}function nE(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(nE(e.firstChild.content,t-1,n)))}function rE(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(rE(e.lastChild.content,t-1,n)))}function GI(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Zae(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Zae(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Fe.empty,!0)))),e.copy(r)}function KI(e,t,n,r,i){let o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!XMe(n,o.content,a)?s:null}function XMe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function ZMe(e){return e.spec.defining||e.spec.definingForContent}function QMe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(Xae(i,o,r))return e.step(new ao(t,n,r));let a=Jae(i,o);a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let p=i.depth,m=i.pos-1;p>0;p--,m--){let v=i.node(p).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;a.indexOf(p)>-1?s=p:i.before(p)==m&&a.splice(1,0,-p)}let l=a.indexOf(s),c=[],u=r.openStart;for(let p=r.content,m=0;;m++){let v=p.firstChild;if(c.push(v),m==r.openStart)break;p=v.content}for(let p=u-1;p>=0;p--){let m=c[p],v=ZMe(m.type);if(v&&!m.sameMarkup(i.node(Math.abs(s)-1)))u=p;else if(v||!m.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let m=(p+u+1)%(r.openStart+1),v=c[m];if(v)for(let x=0;x<a.length;x++){let w=a[(x+l)%a.length],T=!0;w<0&&(T=!1,w=-w);let k=i.node(w-1),N=i.index(w-1);if(k.canReplaceWith(N,N,v.type,v.marks))return e.replace(i.before(w),T?o.after(w):n,new at(Qae(r.content,0,r.openStart,m),m,r.openEnd))}}let d=e.steps.length;for(let p=a.length-1;p>=0&&(e.replace(t,n,r),!(e.steps.length>d));p--){let m=a[p];m<0||(t=i.before(m),n=o.after(m))}}function Qae(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(Qae(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),a=o.fillBefore(e).append(e);e=a.append(o.matchFragment(a).fillBefore(Fe.empty,!0))}return e}function JMe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=GMe(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new at(Fe.from(r),0,0))}function eDe(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=Jae(r,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||r.node(s).type.contentMatch.validEnd)return e.delete(r.start(s),i.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return e.delete(r.before(s),i.after(s))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}function Jae(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}class Fv extends _a{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return so.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return so.fromReplace(t,this.pos,this.pos+1,new at(Fe.from(i),0,n.isLeaf?0:1))}getMap(){return Sl.empty}invert(t){return new Fv(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Fv(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Fv(n.pos,n.attr,n.value)}}_a.jsonID("attr",Fv);class rC extends _a{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return so.ok(r)}getMap(){return Sl.empty}invert(t){return new rC(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new rC(n.attr,n.value)}}_a.jsonID("docAttr",rC);let a1=class extends Error{};a1=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};a1.prototype=Object.create(Error.prototype);a1.prototype.constructor=a1;a1.prototype.name="TransformError";class n9{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new o1}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new a1(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=at.empty){let i=SD(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new at(Fe.from(r),0,0))}delete(t,n){return this.replace(t,n,at.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return QMe(this,t,n,r),this}replaceRangeWith(t,n,r){return JMe(this,t,n,r),this}deleteRange(t,n){return eDe(this,t,n),this}lift(t,n){return BMe(this,t,n),this}join(t,n=1){return YMe(this,t,n),this}wrap(t,n){return FMe(this,t,n),this}setBlockType(t,n=t,r,i=null){return UMe(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return VMe(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Fv(t,n,r)),this}setDocAttribute(t,n){return this.step(new rC(t,n)),this}addNodeMark(t,n){return this.step(new Fp(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Ur)n.isInSet(r.marks)&&this.step(new j0(t,n));else{let i=r.marks,o,a=[];for(;o=n.isInSet(i);)a.push(new j0(t,o)),i=o.removeFromSet(i);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(t,n=1,r){return qMe(this,t,n,r),this}addMark(t,n,r){return PMe(this,t,n,r),this}removeMark(t,n,r){return LMe(this,t,n,r),this}clearIncompatible(t,n,r){return e9(this,t,n,r),this}}const XI=Object.create(null);class Jt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new ese(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=at.empty){let r=n.content.lastChild,i=null;for(let s=0;s<n.openEnd;s++)i=r,r=r.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),s?at.empty:n),s==0&&rq(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=t.mapping.slice(r),c=l.map(a.pos),u=l.map(s.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),rq(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Et(t):wv(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let a=n<0?wv(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):wv(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new $s(t.node(0))}static atStart(t){return wv(t,t,0,0,1)||new $s(t)}static atEnd(t){return wv(t,t,t.content.size,t.childCount,-1)||new $s(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=XI[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in XI)throw new RangeError("Duplicate use of selection JSON ID "+t);return XI[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Et.between(this.$anchor,this.$head).getBookmark()}}Jt.prototype.visible=!0;class ese{constructor(t,n){this.$from=t,this.$to=n}}let tq=!1;function nq(e){!tq&&!e.parent.inlineContent&&(tq=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Et extends Jt{constructor(t,n=t){nq(t),nq(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Jt.near(r);let i=t.resolve(n.map(this.anchor));return new Et(i.parent.inlineContent?i:r,r)}replace(t,n=at.empty){if(super.replace(t,n),n==at.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Et&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new ED(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Et(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Jt.findFrom(n,r,!0)||Jt.findFrom(n,-r,!0);if(o)n=o.$head;else return Jt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Jt.findFrom(t,-r,!0)||Jt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Et(t,n)}}Jt.jsonID("text",Et);class ED{constructor(t,n){this.anchor=t,this.head=n}map(t){return new ED(t.map(this.anchor),t.map(this.head))}resolve(t){return Et.between(t.resolve(this.anchor),t.resolve(this.head))}}class Rt extends Jt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?Jt.near(o):new Rt(o)}content(){return new at(Fe.from(this.node),0,0)}eq(t){return t instanceof Rt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new r9(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Rt(t.resolve(n.anchor))}static create(t,n){return new Rt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Rt.prototype.visible=!1;Jt.jsonID("node",Rt);class r9{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new ED(r,r):new r9(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Rt.isSelectable(r)?new Rt(n):Jt.near(n)}}class $s extends Jt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=at.empty){if(n==at.empty){t.delete(0,t.doc.content.size);let r=Jt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new $s(t)}map(t){return new $s(t)}eq(t){return t instanceof $s}getBookmark(){return tDe}}Jt.jsonID("all",$s);const tDe={map(){return this},resolve(e){return new $s(e)}};function wv(e,t,n,r,i,o=!1){if(t.inlineContent)return Et.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let s=t.child(a);if(s.isAtom){if(!o&&Rt.isSelectable(s))return Rt.create(e,n-(i<0?s.nodeSize:0))}else{let l=wv(e,s,n+i,i<0?s.childCount:0,i,o);if(l)return l}n+=s.nodeSize*i}return null}function rq(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof ao||i instanceof Ki))return;let o=e.mapping.maps[r],a;o.forEach((s,l,c,u)=>{a==null&&(a=u)}),e.setSelection(Jt.near(e.doc.resolve(a),n))}const iq=1,Y_=2,oq=4;let nDe=class extends n9{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|iq)&~Y_,this.storedMarks=null,this}get selectionSet(){return(this.updated&iq)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Y_,this}ensureMarks(t){return Ur.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Y_)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Y_,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ur.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(Jt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=oq,this}get scrolledIntoView(){return(this.updated&oq)>0}};function aq(e,t){return!t||!e?e:e.bind(t)}class iE{constructor(t,n,r){this.name=t,this.init=aq(n.init,r),this.apply=aq(n.apply,r)}}const rDe=[new iE("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new iE("selection",{init(e,t){return e.selection||Jt.atStart(t.doc)},apply(e){return e.selection}}),new iE("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new iE("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class ZI{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=rDe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new iE(r.key,r.spec.state,r))})}}class Ov{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,c=i?i[a].state:this,u=l<n.length&&s.spec.appendTransaction.call(s,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<a?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ov(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new nDe(this)}static create(t){let n=new ZI(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Ov(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new ZI(this.schema,t.plugins),r=n.fields,i=new Ov(n);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new ZI(t.schema,t.plugins),o=new Ov(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Ff.fromJSON(t.schema,n.doc);else if(a.name=="selection")o.selection=Jt.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let s in r){let l=r[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){o[a.name]=c.fromJSON.call(l,t,n[s],o);return}}o[a.name]=a.init(t,o)}}),o}}function tse(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=tse(i,t,{})),n[r]=i}return n}class on{constructor(t){this.spec=t,this.props={},t.props&&tse(t.props,this,this.props),this.key=t.key?t.key.key:nse("plugin")}getState(t){return t[this.key]}}const QI=Object.create(null);function nse(e){return e in QI?e+"$"+ ++QI[e]:(QI[e]=0,e+"$")}class wn{constructor(t="key"){this.key=nse(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const i9=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function rse(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const ise=(e,t,n)=>{let r=rse(e,n);if(!r)return!1;let i=o9(r);if(!i){let a=r.blockRange(),s=a&&ix(a);return s==null?!1:(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(hse(e,i,t,-1))return!0;if(r.parent.content.size==0&&(s1(o,"end")||Rt.isSelectable(o)))for(let a=r.depth;;a--){let s=SD(e.doc,r.before(a),r.after(a),at.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(s1(o,"end")?Jt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Rt.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},iDe=(e,t,n)=>{let r=rse(e,n);if(!r)return!1;let i=o9(r);return i?ose(e,i,t):!1},oDe=(e,t,n)=>{let r=sse(e,n);if(!r)return!1;let i=a9(r);return i?ose(e,i,t):!1};function ose(e,t,n){let r=t.nodeBefore,i=r,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let a=t.nodeAfter,s=a,l=t.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let u=s.firstChild;if(!u)return!1;s=u}let c=SD(e.doc,o,l,at.empty);if(!c||c.from!=o||c instanceof ao&&c.slice.size>=l-o)return!1;if(n){let u=e.tr.step(c);u.setSelection(Et.create(u.doc,o)),n(u.scrollIntoView())}return!0}function s1(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const ase=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=o9(r)}let a=o&&o.nodeBefore;return!a||!Rt.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Rt.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function o9(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function sse(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const lse=(e,t,n)=>{let r=sse(e,n);if(!r)return!1;let i=a9(r);if(!i)return!1;let o=i.nodeAfter;if(hse(e,i,t,1))return!0;if(r.parent.content.size==0&&(s1(o,"start")||Rt.isSelectable(o))){let a=SD(e.doc,r.before(),r.after(),at.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=e.tr.step(a);s.setSelection(s1(o,"start")?Jt.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):Rt.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},cse=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=a9(r)}let a=o&&o.nodeAfter;return!a||!Rt.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Rt.create(e.doc,o.pos)).scrollIntoView()),!0)};function a9(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const aDe=(e,t)=>{let n=e.selection,r=n instanceof Rt,i;if(r){if(n.node.isTextblock||!uy(e.doc,n.from))return!1;i=n.from}else if(i=wD(e.doc,n.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);r&&o.setSelection(Rt.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},sDe=(e,t)=>{let n=e.selection,r;if(n instanceof Rt){if(n.node.isTextblock||!uy(e.doc,n.to))return!1;r=n.to}else if(r=wD(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},lDe=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&ix(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},use=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function s9(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const cDe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),a=s9(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(t){let s=n.after(),l=e.tr.replaceWith(s,s,a.createAndFill());l.setSelection(Jt.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},dse=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof $s||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=s9(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(a,o.createAndFill());s.setSelection(Et.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},fse=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Uf(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&ix(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function uDe(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof Rt&&t.selection.node.isBlock)return!r.parentOffset||!Uf(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,s,l=!1,c=!1;for(let m=r.depth;;m--)if(r.node(m).isBlock){l=r.end(m)==r.pos+(r.depth-m),c=r.start(m)==r.pos-(r.depth-m),s=s9(r.node(m-1).contentMatchAt(r.indexAfter(m-1))),o.unshift(l&&s?{type:s}:null),a=m;break}else{if(m==1)return!1;o.unshift(null)}let u=t.tr;(t.selection instanceof Et||t.selection instanceof $s)&&u.deleteSelection();let d=u.mapping.map(r.pos),p=Uf(u.doc,d,o.length,o);if(p||(o[0]=s?{type:s}:null,p=Uf(u.doc,d,o.length,o)),!p)return!1;if(u.split(d,o.length,o),!l&&c&&r.node(a).type!=s){let m=u.mapping.map(r.before(a)),v=u.doc.resolve(m);s&&r.node(a-1).canReplaceWith(v.index(),v.index()+1,s)&&u.setNodeMarkup(u.mapping.map(r.before(a)),s)}return n&&n(u.scrollIntoView()),!0}}const dDe=uDe(),fDe=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(Rt.create(e.doc,i))),!0)};function hDe(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||uy(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function hse(e,t,n,r){let i=t.nodeBefore,o=t.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&hDe(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(n){let m=t.pos+o.nodeSize,v=Fe.empty;for(let T=a.length-1;T>=0;T--)v=Fe.from(a[T].create(null,v));v=Fe.from(i.copy(v));let x=e.tr.step(new Ki(t.pos-1,m,t.pos,m,new at(v,1,0),a.length,!0)),w=x.doc.resolve(m+2*a.length);w.nodeAfter&&w.nodeAfter.type==i.type&&uy(x.doc,w.pos)&&x.join(w.pos),n(x.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:Jt.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),p=d&&ix(d);if(p!=null&&p>=t.depth)return n&&n(e.tr.lift(d,p).scrollIntoView()),!0;if(c&&s1(o,"start",!0)&&s1(i,"end")){let m=i,v=[];for(;v.push(m),!m.isTextblock;)m=m.lastChild;let x=o,w=1;for(;!x.isTextblock;x=x.firstChild)w++;if(m.canReplace(m.childCount,m.childCount,x.content)){if(n){let T=Fe.empty;for(let N=v.length-1;N>=0;N--)T=Fe.from(v[N].copy(T));let k=e.tr.step(new Ki(t.pos-v.length,t.pos+o.nodeSize,t.pos+w,t.pos+o.nodeSize-w,new at(T,v.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function pse(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(Et.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const pDe=pse(-1),mDe=pse(1);function gDe(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o),s=a&&Wae(a,e,t);return s?(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0):!1}}function sq(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=n.selection.ranges[o];n.doc.nodesBetween(a,s,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let o=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[a];o.setBlockType(s,l,e,t)}r(o.scrollIntoView())}return!0}}function l9(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}l9(i9,ise,ase);l9(i9,lse,cse);l9(use,dse,fse,dDe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function yDe(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o);if(!a)return!1;let s=r?n.tr:null;return bDe(s,a,e,t)?(r&&r(s.scrollIntoView()),!0):!1}}function bDe(e,t,n,r=null){let i=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new TN(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new TN(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let s=Wae(o,n,r,t);return s?(e&&vDe(e,t,s,i,n),!0):!1}function vDe(e,t,n,r,i){let o=Fe.empty;for(let u=n.length-1;u>=0;u--)o=Fe.from(n[u].type.create(n[u].attrs,o));e.step(new Ki(t.start-(r?2:0),t.end,t.start,t.end,new at(o,0,0),n.length,!0));let a=0;for(let u=0;u<n.length;u++)n[u].type==i&&(a=u+1);let s=n.length-a,l=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,p=!0;u<d;u++,p=!1)!p&&Uf(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(u).nodeSize;return e}function xDe(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return o?n?r.node(o.depth-1).type==e?wDe(t,n,e,o):SDe(t,n,o):!0:!1}}function wDe(e,t,n,r){let i=e.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new Ki(o-1,a,o,a,new at(Fe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new TN(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const s=ix(r);if(s==null)return!1;i.lift(r,s);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return uy(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function SDe(e,t,n){let r=e.tr,i=n.parent;for(let m=n.end,v=n.endIndex-1,x=n.startIndex;v>x;v--)m-=i.child(v).nodeSize,r.delete(m-1,m+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?Fe.empty:Fe.from(i))))return!1;let d=o.pos,p=d+a.nodeSize;return r.step(new Ki(d-(s?1:0),p+(l?1:0),d+1,p-1,new at((s?Fe.empty:Fe.from(i.copy(Fe.empty))).append(l?Fe.empty:Fe.from(i.copy(Fe.empty))),s?0:1,l?0:1),s?0:1)),t(r.scrollIntoView()),!0}function EDe(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==s.type,u=Fe.from(c?e.create():null),d=new at(Fe.from(e.create(null,Fe.from(s.type.create(null,u)))),c?3:1,0),p=o.start,m=o.end;n(t.tr.step(new Ki(p-(c?3:1),m,p,m,d,1,!0)).scrollIntoView())}return!0}}const Zo=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},l1=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let oB=null;const Of=function(e,t,n){let r=oB||(oB=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},CDe=function(){oB=null},B0=function(e,t,n,r){return n&&(lq(e,t,n,r,-1)||lq(e,t,n,r,1))},TDe=/^(img|br|input|textarea|hr)$/i;function lq(e,t,n,r,i){for(var o;;){if(e==n&&t==r)return!0;if(t==(i<0?0:ac(e))){let a=e.parentNode;if(!a||a.nodeType!=1||PT(e)||TDe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Zo(e)+(i<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=i;else return!1;else e=a,t=i<0?ac(e):0}else return!1}}function ac(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function kDe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=ac(e)}else if(e.parentNode&&!PT(e))t=Zo(e),e=e.parentNode;else return null}}function _De(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!PT(e))t=Zo(e)+1,e=e.parentNode;else return null}}function ADe(e,t,n){for(let r=t==0,i=t==ac(e);r||i;){if(e==n)return!0;let o=Zo(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==ac(e)}}function PT(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const CD=function(e){return e.focusNode&&B0(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function r0(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function NDe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function ODe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(ac(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(ac(r.startContainer),r.startOffset)}}}const Md=typeof navigator<"u"?navigator:null,cq=typeof document<"u"?document:null,Sm=Md&&Md.userAgent||"",aB=/Edge\/(\d+)/.exec(Sm),mse=/MSIE \d/.exec(Sm),sB=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Sm),Hs=!!(mse||sB||aB),Gp=mse?document.documentMode:sB?+sB[1]:aB?+aB[1]:0,hc=!Hs&&/gecko\/(\d+)/i.test(Sm);hc&&+(/Firefox\/(\d+)/.exec(Sm)||[0,0])[1];const lB=!Hs&&/Chrome\/(\d+)/.exec(Sm),Sa=!!lB,gse=lB?+lB[1]:0,is=!Hs&&!!Md&&/Apple Computer/.test(Md.vendor),c1=is&&(/Mobile\/\w+/.test(Sm)||!!Md&&Md.maxTouchPoints>2),rc=c1||(Md?/Mac/.test(Md.platform):!1),MDe=Md?/Win/.test(Md.platform):!1,Df=/Android \d/.test(Sm),LT=!!cq&&"webkitFontSmoothing"in cq.documentElement.style,DDe=LT?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function RDe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function xf(e,t){return typeof e=="number"?e:e[t]}function IDe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function uq(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(a.nodeType!=1){a=l1(a);continue}let s=a,l=s==o.body,c=l?RDe(o):IDe(s),u=0,d=0;if(t.top<c.top+xf(r,"top")?d=-(c.top-t.top+xf(i,"top")):t.bottom>c.bottom-xf(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+xf(i,"top")-c.top:t.bottom-c.bottom+xf(i,"bottom")),t.left<c.left+xf(r,"left")?u=-(c.left-t.left+xf(i,"left")):t.right>c.right-xf(r,"right")&&(u=t.right-c.right+xf(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let m=s.scrollLeft,v=s.scrollTop;d&&(s.scrollTop+=d),u&&(s.scrollLeft+=u);let x=s.scrollLeft-m,w=s.scrollTop-v;t={left:t.left-x,top:t.top-w,right:t.right-x,bottom:t.bottom-w}}let p=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:l1(a)}}function PDe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=e.root.elementFromPoint(o,a);if(!s||s==e.dom||!e.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=n-20){r=s,i=l.top;break}}return{refDOM:r,refTop:i,stack:yse(e.dom)}}function yse(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=l1(r));return t}function LDe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;bse(n,r==0?0:r-t)}function bse(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let lv=null;function jDe(e){if(e.setActive)return e.setActive();if(lv)return e.focus(lv);let t=yse(e);e.focus(lv==null?{get preventScroll(){return lv={preventScroll:!0},!0}}:void 0),lv||(lv=!1,bse(t,0))}function vse(e,t){let n,r=2e8,i,o=0,a=t.top,s=t.top,l,c;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let p;if(u.nodeType==1)p=u.getClientRects();else if(u.nodeType==3)p=Of(u).getClientRects();else continue;for(let m=0;m<p.length;m++){let v=p[m];if(v.top<=a&&v.bottom>=s){a=Math.max(v.bottom,a),s=Math.min(v.top,s);let x=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(x<r){n=u,r=x,i=x&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,u.nodeType==1&&x&&(o=d+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!l&&v.left<=t.left&&v.right>=t.left&&(l=u,c={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?BDe(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:vse(n,i)}function BDe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=Sp(r,1);if(o.top!=o.bottom&&c9(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function c9(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function $De(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function HDe(e,t,n){let{node:r,offset:i}=vse(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function FDe(e,t,n,r){let i=-1;for(let o=t,a=!1;o!=e.dom;){let s=e.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!a&&l.left>r.left||l.top>r.top?i=s.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function xse(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let a=e.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(c9(t,c))return xse(a,t,c)}}if((o=(o+1)%r)==i)break}return e}function UDe(e,t){let n=e.dom.ownerDocument,r,i=0,o=ODe(n,t.left,t.top);o&&({node:r,offset:i}=o);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),s;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=e.dom.getBoundingClientRect();if(!c9(t,c)||(a=xse(e.dom,t,c),!a))return null}if(is)for(let c=a;r&&c;c=l1(c))c.draggable&&(r=void 0);if(a=$De(a,t),r){if(hc&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let c;LT&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=FDe(e,r,i,t))}s==null&&(s=HDe(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function dq(e){return e.top<e.bottom||e.left<e.right}function Sp(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(dq(r))return r}return Array.prototype.find.call(n,dq)||e.getBoundingClientRect()}const zDe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function wse(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),a=LT||hc;if(r.nodeType==3)if(a&&(zDe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Sp(Of(r,i,i),n);if(hc&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Sp(Of(r,i-1,i-1),-1);if(c.top==l.top){let u=Sp(Of(r,i,i+1),-1);if(u.top!=l.top)return OS(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,OS(Sp(Of(r,l,c),u),u<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==ac(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return JI(l.getBoundingClientRect(),!1)}if(o==null&&i<ac(r)){let l=r.childNodes[i];if(l.nodeType==1)return JI(l.getBoundingClientRect(),!0)}return JI(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==ac(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Of(l,ac(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return OS(Sp(c,1),!1)}if(o==null&&i<ac(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Of(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return OS(Sp(c,-1),!0)}return OS(Sp(r.nodeType==3?Of(r):r,-n),n>=0)}function OS(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function JI(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Sse(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function VDe(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return Sse(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=e.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=wse(e,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Of(s,0,s.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?a.top-u.top>(u.bottom-a.top)*2:u.bottom-a.bottom>(a.bottom-u.top)*2))return!1}}return!0})}const qDe=/[\u0590-\u08ac]/;function WDe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=e.domSelection();return s?!qDe.test(r.parent.textContent)||!s.modify?n=="left"||n=="backward"?o:a:Sse(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),p=s.caretBidiLevel;s.modify("move",n,"character");let m=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:v,focusOffset:x}=e.domSelectionRange(),w=v&&!m.contains(v.nodeType==1?v:v.parentNode)||l==v&&c==x;try{s.collapse(u,d),l&&(l!=u||c!=d)&&s.extend&&s.extend(l,c)}catch{}return p!=null&&(s.caretBidiLevel=p),w}):r.pos==r.start()||r.pos==r.end()}let fq=null,hq=null,pq=!1;function YDe(e,t,n){return fq==t&&hq==n?pq:(fq=t,hq=n,pq=n=="up"||n=="down"?VDe(e,t,n):WDe(e,t,n))}const pc=0,mq=1,a0=2,Dd=3;class jT{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=pc,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,a;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>Zo(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!n||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let s=i.children[a];if(s.size){i=s;break}}return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],s=o+a.size;if(s>t||a instanceof Cse){i=t-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Ese&&o.side>=0;r--);if(n<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&n&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Zo(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Zo(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,s=0;;s++){let l=this.children[s],c=a+l.size;if(i==-1&&t<=c){let u=a+l.border;if(t>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,u);t=a;for(let d=s;d>0;d--){let p=this.children[d-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=Zo(p.dom)+1;break}t-=p.size}i==-1&&(i=0)}if(i>-1&&(c>n||s==this.children.length-1)){n=c;for(let u=s+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Zo(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),a=Math.max(t,n);for(let m=0,v=0;m<this.children.length;m++){let x=this.children[m],w=v+x.size;if(o>v&&a<w)return x.setSelection(t-v-x.border,n-v-x.border,r,i);v=w}let s=this.domFromPos(t,t?-1:1),l=n==t?s:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((hc||is)&&t==n){let{node:m,offset:v}=s;if(m.nodeType==3){if(d=!!(v&&m.nodeValue[v-1]==`
`),d&&v==m.nodeValue.length)for(let x=m,w;x;x=x.parentNode){if(w=x.nextSibling){w.nodeName=="BR"&&(s=l={node:w.parentNode,offset:Zo(w)+1});break}let T=x.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let x=m.childNodes[v-1];d=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(hc&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let m=u.focusNode.childNodes[u.focusOffset];m&&m.contentEditable=="false"&&(i=!0)}if(!(i||d&&is)&&B0(s.node,s.offset,u.anchorNode,u.anchorOffset)&&B0(l.node,l.offset,u.focusNode,u.focusOffset))return;let p=!1;if((c.extend||t==n)&&!(d&&hc)){c.collapse(s.node,s.offset);try{t!=n&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(t>n){let v=s;s=l,l=v}let m=document.createRange();m.setEnd(l.node,l.offset),m.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(m)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let s=r+o.border,l=a-o.border;if(t>=s&&n<=l){this.dirty=t==r||n==a?a0:mq,t==s&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Dd:o.markDirty(t-s,n-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?a0:Dd}r=a}this.dirty=a0}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?a0:mq;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class Ese extends jT{constructor(t,n,r,i){let o,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==pc&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class GDe extends jT{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class $0 extends jT{constructor(t,n,r,i,o){super(t,[],r,i),this.mark=n,this.spec=o}static create(t,n,r,i){let o=i.nodeViews[n.type.name],a=o&&o(n,i,r);return(!a||!a.dom)&&(a=Ol.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new $0(t,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Dd||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Dd&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=pc){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=pc}}slice(t,n,r){let i=$0.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=uB(o,n,a,r)),t>0&&(o=uB(o,0,t,r));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Kp extends jT{constructor(t,n,r,i,o,a,s,l,c){super(t,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=s}static create(t,n,r,i,o,a){let s=o.nodeViews[n.type.name],l,c=s&&s(n,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Ol.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let p=u;return u=_se(u,r,n),c?l=new KDe(t,n,r,i,u,d||null,p,c,o,a+1):n.isText?new TD(t,n,r,i,u,p,o):new Kp(t,n,r,i,u,d||null,p,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Fe.empty)}return t}matchesNode(t,n,r){return this.dirty==pc&&t.eq(this.node)&&_N(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new ZDe(this,a&&a.node,t);eRe(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Ur.none:this.node.child(u).marks,r,t),l.placeWidget(c,t,i)},(c,u,d,p)=>{l.syncToMarks(c.marks,r,t);let m;l.findNodeMatch(c,u,d,p)||s&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(m=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,m,t)||l.updateNextNode(c,u,d,t,p,i)||l.addNode(c,u,d,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==a0)&&(a&&this.protectLocalComposition(t,a),Tse(this.contentDOM,this.children,t),c1&&tRe(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Et)||r<n||i>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=nRe(this.node.content,a,r-n,i-n);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new GDe(this,o,n,i);t.input.compositionNodes.push(a),this.children=uB(this.children,r,r+i.length,t,a)}update(t,n,r,i){return this.dirty==Dd||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=pc}updateOuterDeco(t){if(_N(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=kse(this.dom,this.nodeDOM,cB(this.outerDeco,this.node,n),cB(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function gq(e,t,n,r,i){_se(r,t,e);let o=new Kp(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class TD extends Kp{constructor(t,n,r,i,o,a,s){super(t,n,r,i,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Dd||this.dirty!=pc&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=pc||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=pc,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new TD(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Dd)}get domAtom(){return!1}isText(t){return this.node.text==t}}class Cse extends jT{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==pc&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class KDe extends Kp{constructor(t,n,r,i,o,a,s,l,c,u){super(t,n,r,i,o,a,s,c,u),this.spec=l}update(t,n,r,i){if(this.dirty==Dd)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Tse(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=yq(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(s,r);if(a instanceof $0){let l=r?r.previousSibling:e.lastChild;Tse(a.contentDOM,a.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=yq(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const yE=function(e){e&&(this.nodeName=e)};yE.prototype=Object.create(null);const s0=[new yE];function cB(e,t,n){if(e.length==0)return s0;let r=n?s0[0]:new yE,i=[r];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&i.push(r=new yE(a.nodeName));for(let s in a){let l=a[s];l!=null&&(n&&i.length==1&&i.push(r=new yE(t.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+l:s=="style"?r.style=(r.style?r.style+";":"")+l:s!="nodeName"&&(r[s]=l))}}}return i}function kse(e,t,n,r){if(n==s0&&r==s0)return t;let i=t;for(let o=0;o<r.length;o++){let a=r[o],s=n[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=s0[0]),i=l}XDe(i,s||s0[0],a)}return i}function XDe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function _se(e,t,n){return kse(e,e,s0,cB(t,n,e.nodeType!=1))}function _N(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function yq(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class ZDe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=QDe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=pc,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=$0.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let c=this.top.children[s];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let a=this.top.children[i];return a.dirty==Dd&&a.dom==a.contentDOM&&(a.dirty=a0),a.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Kp){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,p=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Dd&&_N(n,l.outerDeco));if(!p&&l.update(t,n,r,i))return this.destroyBetween(this.index,s),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!p&&(d=this.recreateWrapper(l,t,n,r,i,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=a0,d.updateChildren(i,a+1),d.dirty=pc),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,o,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!_N(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let s=Kp.create(this.top,n,r,i,o,a);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,n,r,i,o){let a=Kp.create(this.top,t,n,r,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Ese(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof $0;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof TD)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((is||Sa)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Cse(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function QDe(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(r){let c=n.children[r-1];if(c instanceof $0)n=c,r=c.children.length;else{s=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function JDe(e,t){return e.type.side-t.type.side}function eRe(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,i,t.forChild(o,u),c),o+=u.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let u,d;for(;a<i.length&&i[a].to==o;){let w=i[a++];w.widget&&(u?(d||(d=[u])).push(w):u=w)}if(u)if(d){d.sort(JDe);for(let w=0;w<d.length;w++)n(d[w],c,!!l)}else n(u,c,!!l);let p,m;if(l)m=-1,p=l,l=null;else if(c<e.childCount)m=c,p=e.child(c++);else break;for(let w=0;w<s.length;w++)s[w].to<=o&&s.splice(w--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let v=o+p.nodeSize;if(p.isText){let w=v;a<i.length&&i[a].from<w&&(w=i[a].from);for(let T=0;T<s.length;T++)s[T].to<w&&(w=s[T].to);w<v&&(l=p.cut(w-o),p=p.cut(0,w-o),v=w,m=-1)}else for(;a<i.length&&i[a].to<v;)a++;let x=p.isInline&&!p.isLeaf?s.filter(w=>!w.inline):s.slice();r(p,x,t.forChild(o,p),m),o=v}}function tRe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function nRe(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let a=e.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<e.childCount;){let c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let c=s<r?l.lastIndexOf(t,r-s-1):-1;if(c>=0&&c+t.length+s>=n)return s+c;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}function uB(e,t,n,r,i){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,u=s+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function u9(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s=r.resolve(a),l,c;if(CD(n)){for(l=a;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Rt.isSelectable(d)&&i.parent&&!(d.isInline&&ADe(n.focusNode,n.focusOffset,i.dom))){let p=i.posBefore;c=new Rt(a==p?s:r.resolve(p))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=a,p=a;for(let m=0;m<n.rangeCount;m++){let v=n.getRangeAt(m);d=Math.min(d,e.docView.posFromDOM(v.startContainer,v.startOffset,1)),p=Math.max(p,e.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(d<0)return null;[l,a]=p==e.state.selection.anchor?[p,d]:[d,p],s=r.resolve(a)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=t=="pointer"||e.state.selection.head<s.pos&&!o?1:-1;c=d9(e,u,s,d)}return c}function Ase(e){return e.editable?e.hasFocus():Ose(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function zf(e,t=!1){let n=e.state.selection;if(Nse(e,n),!!Ase(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Sa){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&B0(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)iRe(e);else{let{anchor:r,head:i}=n,o,a;bq&&!(n instanceof Et)&&(n.$from.parent.inlineContent||(o=vq(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=vq(e,n.to))),e.docView.setSelection(r,i,e,t),bq&&(o&&xq(o),a&&xq(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&rRe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const bq=is||Sa&&gse<63;function vq(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(is&&i&&i.contentEditable=="false")return eP(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return eP(i);if(o)return eP(o)}}function eP(e){return e.contentEditable="true",is&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function xq(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function rRe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!Ase(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function iRe(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,Zo(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Hs&&Gp<=11&&(n.disabled=!0,n.disabled=!1)}function Nse(e,t){if(t instanceof Rt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(wq(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else wq(e)}function wq(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function d9(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Et.between(t,n,r)}function Sq(e){return e.editable&&!e.hasFocus()?!1:Ose(e)}function Ose(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function oRe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return B0(t.node,t.offset,n.anchorNode,n.anchorOffset)}function dB(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Jt.findFrom(o,t)}function kp(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Eq(e,t,n){let r=e.state.selection;if(r instanceof Et)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return kp(e,new Et(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=dB(e.state,t);return i&&i instanceof Rt?kp(e,i):!1}else if(!(rc&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=e.docView.descAt(s))&&!a.contentDOM?Rt.isSelectable(o)?kp(e,new Rt(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):LT?kp(e,new Et(e.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Rt&&r.node.isInline)return kp(e,new Et(t>0?r.$to:r.$from));{let i=dB(e.state,t);return i?kp(e,i):!1}}}function AN(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function bE(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function cv(e,t){return t<0?aRe(e):sRe(e)}function aRe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,a=!1;for(hc&&n.nodeType==1&&r<AN(n)&&bE(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let s=n.childNodes[r-1];if(bE(s,-1))i=n,o=--r;else if(s.nodeType==3)n=s,r=n.nodeValue.length;else break}}else{if(Mse(n))break;{let s=n.previousSibling;for(;s&&bE(s,-1);)i=n.parentNode,o=Zo(s),s=s.previousSibling;if(s)n=s,r=AN(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?fB(e,n,r):i&&fB(e,i,o)}function sRe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=AN(n),o,a;for(;;)if(r<i){if(n.nodeType!=1)break;let s=n.childNodes[r];if(bE(s,1))o=n,a=++r;else break}else{if(Mse(n))break;{let s=n.nextSibling;for(;s&&bE(s,1);)o=s.parentNode,a=Zo(s)+1,s=s.nextSibling;if(s)n=s,r=0,i=AN(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&fB(e,o,a)}function Mse(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function lRe(e,t){for(;e&&t==e.childNodes.length&&!PT(e);)t=Zo(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function cRe(e,t){for(;e&&!t&&!PT(e);)t=Zo(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function fB(e,t,n){if(t.nodeType!=3){let o,a;(a=lRe(t,n))?(t=a,n=0):(o=cRe(t,n))&&(t=o,n=o.nodeValue.length)}let r=e.domSelection();if(!r)return;if(CD(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&zf(e)},50)}function Cq(e,t){let n=e.state.doc.resolve(t);if(!(Sa||MDe)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Tq(e,t,n){let r=e.state.selection;if(r instanceof Et&&!r.empty||n.indexOf("s")>-1||rc&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=dB(e.state,t);if(a&&a instanceof Rt)return kp(e,a)}if(!i.parent.inlineContent){let a=t<0?i:o,s=r instanceof $s?Jt.near(a,t):Jt.findFrom(a,t);return s?kp(e,s):!1}return!1}function kq(e,t){if(!(e.state.selection instanceof Et))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=e.state.tr;return t<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),e.dispatch(a),!0}return!1}function _q(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function uRe(e){if(!is||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;_q(e,r,"true"),setTimeout(()=>_q(e,r,"false"),20)}return!1}function dRe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function fRe(e,t){let n=t.keyCode,r=dRe(t);if(n==8||rc&&n==72&&r=="c")return kq(e,-1)||cv(e,-1);if(n==46&&!t.shiftKey||rc&&n==68&&r=="c")return kq(e,1)||cv(e,1);if(n==13||n==27)return!0;if(n==37||rc&&n==66&&r=="c"){let i=n==37?Cq(e,e.state.selection.from)=="ltr"?-1:1:-1;return Eq(e,i,r)||cv(e,i)}else if(n==39||rc&&n==70&&r=="c"){let i=n==39?Cq(e,e.state.selection.from)=="ltr"?1:-1:1;return Eq(e,i,r)||cv(e,i)}else{if(n==38||rc&&n==80&&r=="c")return Tq(e,-1,r)||cv(e,-1);if(n==40||rc&&n==78&&r=="c")return uRe(e)||Tq(e,1,r)||cv(e,1);if(r==(rc?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function f9(e,t){e.someProp("transformCopied",m=>{t=m(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let m=r.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let a=e.someProp("clipboardSerializer")||Ol.fromSchema(e.state.schema),s=jse(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=Lse[c.nodeName.toLowerCase()]);){for(let m=u.length-1;m>=0;m--){let v=s.createElement(u[m]);for(;l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let p=e.someProp("clipboardTextSerializer",m=>m(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:p,slice:t}}function Dse(e,t,n,r,i){let o=i.parent.type.spec.code,a,s;if(!n&&!t)return null;let l=!!t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",p=>{t=p(t,o||r,e)}),o)return s=new at(Fe.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",p=>{s=p(s,e,!0)}),s;let d=e.someProp("clipboardTextParser",p=>p(t,i,r,e));if(d)s=d;else{let p=i.marks(),{schema:m}=e.state,v=Ol.fromSchema(m);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(x=>{let w=a.appendChild(document.createElement("p"));x&&w.appendChild(v.serializeNode(m.text(x,p)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),a=gRe(n),LT&&yRe(a);let c=a&&a.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||pu.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!hRe.test(p.parentNode.nodeName)?{ignore:!0}:null}})),u)s=bRe(Aq(s,+u[1],+u[2]),u[4]);else if(s=at.maxOpen(pRe(s.content,i),!0),s.openStart||s.openEnd){let d=0,p=0;for(let m=s.content.firstChild;d<s.openStart&&!m.type.spec.isolating;d++,m=m.firstChild);for(let m=s.content.lastChild;p<s.openEnd&&!m.type.spec.isolating;p++,m=m.lastChild);s=Aq(s,d,p)}return e.someProp("transformPasted",d=>{s=d(s,e,l)}),s}const hRe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function pRe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),o,a=[];if(e.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),c;if(!l)return a=null;if(c=a.length&&o.length&&Ise(l,o,s,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=Pse(a[a.length-1],o.length));let u=Rse(s,l);a.push(u),i=i.matchType(u.type),o=l}}),a)return Fe.from(a)}return e}function Rse(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Fe.from(e));return e}function Ise(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=Ise(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Fe.from(Rse(n,e,i+1))))}}function Pse(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,Pse(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Fe.empty,!0);return e.copy(n.append(r))}function hB(e,t,n,r,i,o){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(o=0),i<r-1&&(s=hB(s,t,n,r,i+1,o)),i>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(Fe.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function Aq(e,t,n){return t<e.openStart&&(e=new at(hB(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new at(hB(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Lse={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Nq=null;function jse(){return Nq||(Nq=document.implementation.createHTMLDocument("title"))}let tP=null;function mRe(e){let t=window.trustedTypes;return t?(tP||(tP=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),tP.createHTML(e)):e}function gRe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=jse().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&Lse[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=mRe(e),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function yRe(e){let t=e.querySelectorAll(Sa?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function bRe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:a}=e;for(let s=r.length-2;s>=0;s-=2){let l=n.nodes[r[s]];if(!l||l.hasRequiredAttrs())break;i=Fe.from(l.create(r[s+1],i)),o++,a++}return new at(i,o,a)}const as={},ss={},vRe={touchstart:!0,touchmove:!0};class xRe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function wRe(e){for(let t in as){let n=as[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{ERe(e,r)&&!h9(e,r)&&(e.editable||!(r.type in ss))&&n(e,r)},vRe[t]?{passive:!0}:void 0)}is&&e.dom.addEventListener("input",()=>null),pB(e)}function Up(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function SRe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function pB(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>h9(e,r))})}function h9(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function ERe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function CRe(e,t){!h9(e,t)&&as[t.type]&&(e.editable||!(t.type in ss))&&as[t.type](e,t)}ss.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!$se(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Df&&Sa&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),c1&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,r0(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||fRe(e,n)?n.preventDefault():Up(e,"key")};ss.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};ss.keypress=(e,t)=>{let n=t;if($se(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||rc&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Et)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,r.$from.pos,r.$to.pos,i,o))&&e.dispatch(o()),n.preventDefault()}};function kD(e){return{left:e.clientX,top:e.clientY}}function TRe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function p9(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(e.someProp(t,s=>a>o.depth?s(e,n,o.nodeAfter,o.before(a),i,!0):s(e,n,o.node(a),o.before(a),i,!1)))return!0;return!1}function Uv(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function kRe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Rt.isSelectable(r)?(Uv(e,new Rt(n)),!0):!1}function _Re(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Rt&&(r=n.node);let o=e.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(Rt.isSelectable(s)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(a);break}}return i!=null?(Uv(e,Rt.create(e.state.doc,i)),!0):!1}function ARe(e,t,n,r,i){return p9(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?_Re(e,n):kRe(e,n))}function NRe(e,t,n,r){return p9(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function ORe(e,t,n,r){return p9(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||MRe(e,n,r)}function MRe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Uv(e,Et.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Uv(e,Et.create(r,s+1,s+1+a.content.size));else if(Rt.isSelectable(a))Uv(e,Rt.create(r,s));else continue;return!0}}function m9(e){return NN(e)}const Bse=rc?"metaKey":"ctrlKey";as.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=m9(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&TRe(n,e.input.lastClick)&&!n[Bse]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let a=e.posAtCoords(kD(n));a&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new DRe(e,a,n,!!r)):(o=="doubleClick"?NRe:ORe)(e,a.pos,a.inside,n)?n.preventDefault():Up(e,"pointer"))};class DRe{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Bse],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),a=n.inside;else{let u=t.state.doc.resolve(n.pos);o=u.parent,a=u.depth?u.before():0}const s=i?null:r.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Rt&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&hc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Up(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>zf(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(kD(t))),this.updateAllowDefault(t),this.allowDefault||!n?Up(this.view,"pointer"):ARe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||is&&this.mightDrag&&!this.mightDrag.node.isAtom||Sa&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Uv(this.view,Jt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Up(this.view,"pointer")}move(t){this.updateAllowDefault(t),Up(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}as.touchstart=e=>{e.input.lastTouch=Date.now(),m9(e),Up(e,"pointer")};as.touchmove=e=>{e.input.lastTouch=Date.now(),Up(e,"pointer")};as.contextmenu=e=>m9(e);function $se(e,t){return e.composing?!0:is&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const RRe=Df?5e3:-1;ss.compositionstart=ss.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Et&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),NN(e,!0),e.markCursor=null;else if(NN(e,!t.selection.empty),hc&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=e.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}e.input.composing=!0}Hse(e,RRe)};ss.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Hse(e,20))};function Hse(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>NN(e),t))}function Fse(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=PRe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function IRe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=kDe(t.focusNode,t.focusOffset),r=_De(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function PRe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function NN(e,t=!1){if(!(Df&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Fse(e),t||e.docView&&e.docView.dirty){let n=u9(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function LRe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const iC=Hs&&Gp<15||c1&&DDe<604;as.copy=ss.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=iC?null:n.clipboardData,a=r.content(),{dom:s,text:l}=f9(e,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):LRe(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function jRe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function BRe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?oC(e,r.value,null,i,t):oC(e,r.textContent,r.innerHTML,i,t)},50)}function oC(e,t,n,r,i){let o=Dse(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||at.empty)))return!0;if(!o)return!1;let a=jRe(o),s=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Use(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ss.paste=(e,t)=>{let n=t;if(e.composing&&!Df)return;let r=iC?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&oC(e,Use(r),r.getData("text/html"),i,n)?n.preventDefault():BRe(e,n)};class zse{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const $Re=rc?"altKey":"ctrlKey";function Vse(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[$Re]}as.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(kD(n)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Rt?i.to-1:i.to))){if(r&&r.mightDrag)a=Rt.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(a=Rt.create(e.state.doc,d.posBefore))}}let s=(a||e.state.selection).content(),{dom:l,text:c,slice:u}=f9(e,s);(!n.dataTransfer.files.length||!Sa||gse>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(iC?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",iC||n.dataTransfer.setData("text/plain",c),e.dragging=new zse(u,Vse(e,n),a)};as.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};ss.dragover=ss.dragenter=(e,t)=>t.preventDefault();ss.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(kD(n));if(!i)return;let o=e.state.doc.resolve(i.pos),a=r&&r.slice;a?e.someProp("transformPasted",v=>{a=v(a,e,!1)}):a=Dse(e,Use(n.dataTransfer),iC?null:n.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&Vse(e,n));if(e.someProp("handleDrop",v=>v(e,n,a||at.empty,s))){n.preventDefault();return}if(!a)return;n.preventDefault();let l=a?t9(e.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(s){let{node:v}=r;v?v.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,p=c.doc;if(d?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),c.doc.eq(p))return;let m=c.doc.resolve(u);if(d&&Rt.isSelectable(a.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new Rt(m));else{let v=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((x,w,T,k)=>v=k),c.setSelection(d9(e,m,c.doc.resolve(v)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};as.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&zf(e)},20))};as.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};as.beforeinput=(e,t)=>{if(Sa&&Df&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,r0(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in ss)as[e]=ss[e];function aC(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class ON{constructor(t,n){this.toDOM=t,this.spec=n||v0,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new ir(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof ON&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&aC(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Xp{constructor(t,n){this.attrs=t,this.spec=n||v0}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new ir(o,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Xp&&aC(this.attrs,t.attrs)&&aC(this.spec,t.spec)}static is(t){return t.type instanceof Xp}destroy(){}}class g9{constructor(t,n){this.attrs=t,this.spec=n||v0}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=o.pos?null:new ir(o.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof g9&&aC(this.attrs,t.attrs)&&aC(this.spec,t.spec)}destroy(){}}class ir{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new ir(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new ir(t,t,new ON(n,r))}static inline(t,n,r,i){return new ir(t,n,new Xp(r,i))}static node(t,n,r,i){return new ir(t,n,new g9(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xp}get widget(){return this.type instanceof ON}}const Sv=[],v0={};class mn{constructor(t,n){this.local=t.length?t:Sv,this.children=n.length?n:Sv}static create(t,n){return n.length?MN(n,t,0,v0):ga}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=n&&s.to>=t&&(!o||o(s.spec))&&r.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,n-s,r,i+s,o)}}map(t,n,r){return this==ga||t.maps.length==0?this:this.mapInner(t,n,0,0,r||v0)}mapInner(t,n,r,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,r,i);l&&l.type.valid(n,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?HRe(this.children,a||[],t,n,r,i,o):a?new mn(a.sort(x0),Sv):ga}add(t,n){return n.length?this==ga?mn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((s,l)=>{let c=l+r,u;if(u=Wse(n,s,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,u,c+1):i.splice(o,0,l,l+s.nodeSize,MN(u,s,c+1,v0)),o+=3}});let a=qse(o?Yse(n):n,-r);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new mn(a.length?this.local.concat(a).sort(x0):this.local,i||this.children)}remove(t){return t.length==0||this==ga?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,s=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>s&&d.to<l&&(t[u]=null,(a||(a=[])).push(d));if(!a)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(a,s+1);c!=ga?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<i.length;s++)i[s].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new mn(i,r):ga}forChild(t,n){if(this==ga)return this;if(n.isLeaf)return mn.empty;let r,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(r=this.children[s+2]);break}let o=t+1,a=o+n.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof Xp){let c=Math.max(o,l.from)-o,u=Math.min(a,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let s=new mn(i.sort(x0),Sv);return r?new Dp([s,r]):s}return r||ga}eq(t){if(this==t)return!0;if(!(t instanceof mn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return y9(this.localsInner(t))}localsInner(t){if(this==ga)return Sv;if(t.inlineContent||!this.local.some(Xp.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xp||n.push(this.local[r]);return n}forEachSet(t){t(this)}}mn.empty=new mn([],[]);mn.removeOverlap=y9;const ga=mn.empty;class Dp{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,v0));return Dp.from(r)}forChild(t,n){if(n.isLeaf)return mn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=ga&&(o instanceof Dp?r=r.concat(o.members):r.push(o))}return Dp.from(r)}eq(t){if(!(t instanceof Dp)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?y9(r?n:n.sort(x0)):Sv}static from(t){switch(t.length){case 0:return ga;case 1:return t[0];default:return new Dp(t.every(n=>n instanceof mn)?t:t.reduce((n,r)=>n.concat(r instanceof mn?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function HRe(e,t,n,r,i,o,a){let s=e.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((p,m,v,x)=>{let w=x-v-(m-p);for(let T=0;T<s.length;T+=3){let k=s[T+1];if(k<0||p>k+u-d)continue;let N=s[T]+u-d;m>=N?s[T+1]=p<=N?-2:-1:p>=u&&w&&(s[T]+=w,s[T+1]+=w)}d+=w}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){l=!0,s[c+1]=-1;continue}let u=n.map(e[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let p=n.map(e[c+1]+o,-1),m=p-i,{index:v,offset:x}=r.content.findIndex(d),w=r.maybeChild(v);if(w&&x==d&&x+w.nodeSize==m){let T=s[c+2].mapInner(n,w,u+1,e[c]+o+1,a);T!=ga?(s[c]=d,s[c+1]=m,s[c+2]=T):(s[c+1]=-2,l=!0)}else l=!0}if(l){let c=FRe(s,e,t,n,i,o,a),u=MN(c,r,0,a);t=u.local;for(let d=0;d<s.length;d+=3)s[d+1]<0&&(s.splice(d,3),d-=3);for(let d=0,p=0;d<u.children.length;d+=3){let m=u.children[d];for(;p<s.length&&s[p]<m;)p+=3;s.splice(p,0,u.children[d],u.children[d+1],u.children[d+2])}}return new mn(t.sort(x0),s)}function qse(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new ir(i.from+t,i.to+t,i.type))}return n}function FRe(e,t,n,r,i,o,a){function s(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):a.onRemove&&a.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)s(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&s(e[l+2],t[l]+o+1);return n}function Wse(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,a;o<e.length;o++)(a=e[o])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[o]=null);return i}function Yse(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function MN(e,t,n,r){let i=[],o=!1;t.forEach((s,l)=>{let c=Wse(e,s,l+n);if(c){o=!0;let u=MN(c,s,n+l+1,r);u!=ga&&i.push(l,l+s.nodeSize,u)}});let a=qse(o?Yse(e):e,-n).sort(x0);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new mn(a,i):ga}function x0(e,t){return e.from-t.from||e.to-t.to}function y9(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),Oq(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),Oq(t,i,r.copy(o.from,r.to)));break}}}return t}function Oq(e,t,n){for(;t<e.length&&x0(n,e[t])>0;)t++;e.splice(t,0,n)}function nP(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=ga&&t.push(r)}),e.cursorWrapper&&t.push(mn.create(e.state.doc,[e.cursorWrapper.deco])),Dp.from(t)}const URe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},zRe=Hs&&Gp<=11;let VRe=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}};class qRe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new VRe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Hs&&Gp<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),zRe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,URe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Sq(this.view)){if(this.suppressingSelectionUpdates)return zf(this.view);if(Hs&&Gp<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&B0(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=l1(o))n.add(o);for(let o=t.anchorNode;o;o=l1(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Sq(t)&&!this.ignoreSelectionChange(r),o=-1,a=-1,s=!1,l=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),a=a<0?d.to:Math.max(d.to,a),d.typeOver&&(s=!0))}if(hc&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,p]=u;d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let p of u){let m=p.parentNode;m&&m.nodeName=="LI"&&(!d||GRe(t,d)!=m)&&p.remove()}}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&CD(r)&&(c=u9(t))&&c.eq(Jt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,zf(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,a),WRe(t)),this.handleDOMChange(o,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||zf(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(Hs&&Gp<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:p}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(o=p)}let a=i&&i.parentNode==t.target?Zo(i)+1:0,s=r.localPosFromDOM(t.target,a,-1),l=o&&o.parentNode==t.target?Zo(o):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:s,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Mq=new WeakMap,Dq=!1;function WRe(e){if(!Mq.has(e)&&(Mq.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=hc,Dq)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Dq=!0}}function Rq(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return B0(a.node,a.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function YRe(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return Rq(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?Rq(e,n):null}function GRe(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function KRe(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:a,to:s}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],CD(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Sa&&e.input.lastKeyCode===8)for(let w=o;w>i;w--){let T=r.childNodes[w-1],k=T.pmViewDesc;if(T.nodeName=="BR"&&!k){o=w;break}if(!k||k.size)break}let d=e.state.doc,p=e.someProp("domParser")||pu.fromSchema(e.state.schema),m=d.resolve(a),v=null,x=p.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:o,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:XRe,context:m});if(c&&c[0].pos!=null){let w=c[0].pos,T=c[1]&&c[1].pos;T==null&&(T=w),v={anchor:w+a,head:T+a}}return{doc:x,sel:v,from:a,to:s}}function XRe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(is&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||is&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const ZRe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function QRe(e,t,n,r,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let R=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,L=u9(e,R);if(L&&!e.state.selection.eq(L)){if(Sa&&Df&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",$=>$(e,r0(13,"Enter"))))return;let B=e.state.tr.setSelection(L);R=="pointer"?B.setMeta("pointer",!0):R=="key"&&B.scrollIntoView(),o&&B.setMeta("composition",o),e.dispatch(B)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(n);t=a.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l=e.state.selection,c=KRe(e,t,n),u=e.state.doc,d=u.slice(c.from,c.to),p,m;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(p=e.state.selection.to,m="end"):(p=e.state.selection.from,m="start"),e.input.lastKeyCode=null;let v=t3e(d.content,c.doc.content,c.from,p,m);if(v&&e.input.domChangeCount++,(c1&&e.input.lastIOSEnter>Date.now()-225||Df)&&i.some(R=>R.nodeType==1&&!ZRe.test(R.nodeName))&&(!v||v.endA>=v.endB)&&e.someProp("handleKeyDown",R=>R(e,r0(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!v)if(r&&l instanceof Et&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))v={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let R=Iq(e,e.state.doc,c.sel);if(R&&!R.eq(e.state.selection)){let L=e.state.tr.setSelection(R);o&&L.setMeta("composition",o),e.dispatch(L)}}return}e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof Et&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),Hs&&Gp<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>c.from&&c.doc.textBetween(v.start-c.from-1,v.start-c.from+1)==" "&&(v.start--,v.endA--,v.endB--);let x=c.doc.resolveNoCache(v.start-c.from),w=c.doc.resolveNoCache(v.endB-c.from),T=u.resolve(v.start),k=x.sameParent(w)&&x.parent.inlineContent&&T.end()>=v.endA;if((c1&&e.input.lastIOSEnter>Date.now()-225&&(!k||i.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!k&&x.pos<c.doc.content.size&&(!x.sameParent(w)||!x.parent.inlineContent)&&x.pos<w.pos&&!/\S/.test(c.doc.textBetween(x.pos,w.pos,"","")))&&e.someProp("handleKeyDown",R=>R(e,r0(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>v.start&&e3e(u,v.start,v.endA,x,w)&&e.someProp("handleKeyDown",R=>R(e,r0(8,"Backspace")))){Df&&Sa&&e.domObserver.suppressSelectionUpdates();return}Sa&&v.endB==v.start&&(e.input.lastChromeDelete=Date.now()),Df&&!k&&x.start()!=w.start()&&w.parentOffset==0&&x.depth==w.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==v.endA&&(v.endB-=2,w=c.doc.resolveNoCache(v.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(R){return R(e,r0(13,"Enter"))})},20));let N=v.start,I=v.endA,O=R=>{let L=R||e.state.tr.replace(N,I,c.doc.slice(v.start-c.from,v.endB-c.from));if(c.sel){let B=Iq(e,L.doc,c.sel);B&&!(Sa&&e.composing&&B.empty&&(v.start!=v.endB||e.input.lastChromeDelete<Date.now()-100)&&(B.head==N||B.head==L.mapping.map(I)-1)||Hs&&B.empty&&B.head==N)&&L.setSelection(B)}return o&&L.setMeta("composition",o),L.scrollIntoView()},A;if(k)if(x.pos==w.pos){Hs&&Gp<=11&&x.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>zf(e),20));let R=O(e.state.tr.delete(N,I)),L=u.resolve(v.start).marksAcross(u.resolve(v.endA));L&&R.ensureMarks(L),e.dispatch(R)}else if(v.endA==v.endB&&(A=JRe(x.parent.content.cut(x.parentOffset,w.parentOffset),T.parent.content.cut(T.parentOffset,v.endA-T.start())))){let R=O(e.state.tr);A.type=="add"?R.addMark(N,I,A.mark):R.removeMark(N,I,A.mark),e.dispatch(R)}else if(x.parent.child(x.index()).isText&&x.index()==w.index()-(w.textOffset?0:1)){let R=x.parent.textBetween(x.parentOffset,w.parentOffset),L=()=>O(e.state.tr.insertText(R,N,I));e.someProp("handleTextInput",B=>B(e,N,I,R,L))||e.dispatch(L())}else e.dispatch(O());else e.dispatch(O())}function Iq(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:d9(e,t.resolve(n.anchor),t.resolve(n.head))}function JRe(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,a,s,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=u=>u.mark(s.addToSet(u.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=u=>u.mark(s.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(Fe.from(c).eq(e))return{mark:s,type:a}}function e3e(e,t,n,r,i){if(n-t<=i.pos-r.pos||rP(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let s=o.nodeAfter;return s!=null&&n==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(rP(o,!0,!0));return!a.parent.isTextblock||a.pos>n||rP(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function rP(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function t3e(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));r-=a+l-o}if(a<o&&e.size<t.size){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<t.size&&Pq(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&Pq(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function Pq(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Gse{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new xRe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Hq),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Bq(this),jq(this),this.nodeViews=$q(this),this.docView=gq(this.state.doc,Lq(this),nP(this),this.dom,this),this.domObserver=new qRe(this,(r,i,o,a)=>QRe(this,r,i,o,a)),this.domObserver.start(),wRe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&pB(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Hq),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,o=!1,a=!1;t.storedMarks&&this.composing&&(Fse(this),a=!0),this.state=t;let s=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=$q(this);r3e(m,this.nodeViews)&&(this.nodeViews=m,o=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&pB(this),this.editable=Bq(this),jq(this);let l=nP(this),c=Lq(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(t.doc,c,l);(d||!t.selection.eq(i.selection))&&(a=!0);let p=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&PDe(this);if(a){this.domObserver.stop();let m=d&&(Hs||Sa)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&n3e(i.selection,t.selection);if(d){let v=Sa?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=IRe(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=gq(t.doc,c,l,this.dom,this)),v&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&oRe(this))?zf(this,m):(Nse(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():p&&LDe(p)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Rt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&uq(this,n.getBoundingClientRect(),t)}else uq(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new zse(t.slice,t.move,i<0?void 0:Rt.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[t];if(s!=null&&(i=n?n(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[t];if(s!=null&&(i=n?n(s):s))return i}}hasFocus(){if(Hs){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&jDe(this.dom),zf(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return UDe(this,t)}coordsAtPos(t,n=1){return wse(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return YDe(this,n||this.state,t)}pasteHTML(t,n){return oC(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return oC(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return f9(this,t)}destroy(){this.docView&&(SRe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],nP(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,CDe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return CRe(this,t)}domSelectionRange(){let t=this.domSelection();return t?is&&this.root.nodeType===11&&NDe(this.dom.ownerDocument)==this.dom&&YRe(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Gse.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function Lq(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[ir.node(0,e.state.doc.content.size,t)]}function jq(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ir.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Bq(e){return!e.someProp("editable",t=>t(e.state)===!1)}function n3e(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function $q(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function r3e(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function Hq(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var um={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},DN={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},i3e=typeof navigator<"u"&&/Mac/.test(navigator.platform),o3e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Qo=0;Qo<10;Qo++)um[48+Qo]=um[96+Qo]=String(Qo);for(var Qo=1;Qo<=24;Qo++)um[Qo+111]="F"+Qo;for(var Qo=65;Qo<=90;Qo++)um[Qo]=String.fromCharCode(Qo+32),DN[Qo]=String.fromCharCode(Qo);for(var iP in um)DN.hasOwnProperty(iP)||(DN[iP]=um[iP]);function a3e(e){var t=i3e&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||o3e&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?DN:um)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const s3e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),l3e=typeof navigator<"u"&&/Win/.test(navigator.platform);function c3e(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))s3e?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function u3e(e){let t=Object.create(null);for(let n in e)t[c3e(n)]=e[n];return t}function oP(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function d3e(e){return new on({props:{handleKeyDown:b9(e)}})}function b9(e){let t=u3e(e);return function(n,r){let i=a3e(r),o,a=t[oP(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let s=t[oP(i,r,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(l3e&&r.ctrlKey&&r.altKey)&&(o=um[r.keyCode])&&o!=i){let s=t[oP(o,r)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}var f3e=Object.defineProperty,v9=(e,t)=>{for(var n in t)f3e(e,n,{get:t[n],enumerable:!0})};function _D(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var AD=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,s])=>[a,(...c)=>{const u=s(...c)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a=[],s=!!e,l=e||i.tr,c=()=>(!s&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),a.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,p])=>[d,(...v)=>{const x=this.buildProps(l,t),w=p(...v)(x);return a.push(w),u}])),run:c};return u}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([s,l])=>[s,(...c)=>l(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a={tr:e,editor:r,view:o,state:_D({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([s,l])=>[s,(...c)=>l(...c)(a)]))}};return a}},Kse={};v9(Kse,{blur:()=>h3e,clearContent:()=>p3e,clearNodes:()=>m3e,command:()=>g3e,createParagraphNear:()=>y3e,cut:()=>b3e,deleteCurrentNode:()=>v3e,deleteNode:()=>x3e,deleteRange:()=>w3e,deleteSelection:()=>S3e,enter:()=>E3e,exitCode:()=>C3e,extendMarkRange:()=>T3e,first:()=>k3e,focus:()=>_3e,forEach:()=>A3e,insertContent:()=>N3e,insertContentAt:()=>M3e,joinBackward:()=>I3e,joinDown:()=>R3e,joinForward:()=>P3e,joinItemBackward:()=>L3e,joinItemForward:()=>j3e,joinTextblockBackward:()=>B3e,joinTextblockForward:()=>$3e,joinUp:()=>D3e,keyboardShortcut:()=>F3e,lift:()=>U3e,liftEmptyBlock:()=>z3e,liftListItem:()=>V3e,newlineInCode:()=>q3e,resetAttributes:()=>W3e,scrollIntoView:()=>Y3e,selectAll:()=>G3e,selectNodeBackward:()=>K3e,selectNodeForward:()=>X3e,selectParentNode:()=>Z3e,selectTextblockEnd:()=>Q3e,selectTextblockStart:()=>J3e,setContent:()=>eIe,setMark:()=>pIe,setMeta:()=>mIe,setNode:()=>gIe,setNodeSelection:()=>yIe,setTextDirection:()=>bIe,setTextSelection:()=>vIe,sinkListItem:()=>xIe,splitBlock:()=>wIe,splitListItem:()=>SIe,toggleList:()=>EIe,toggleMark:()=>CIe,toggleNode:()=>TIe,toggleWrap:()=>kIe,undoInputRule:()=>_Ie,unsetAllMarks:()=>AIe,unsetMark:()=>NIe,unsetTextDirection:()=>OIe,updateAttributes:()=>MIe,wrapIn:()=>DIe,wrapInList:()=>RIe});var h3e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),p3e=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),m3e=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:a})=>{e.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),p=c.resolve(u.map(l+s.nodeSize)),m=d.blockRange(p);if(!m)return;const v=ix(m);if(s.type.isTextblock){const{defaultType:x}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(m.start,x)}(v||v===0)&&t.lift(m,v)})}),!0},g3e=e=>t=>e(t),y3e=()=>({state:e,dispatch:t})=>dse(e,t),b3e=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,o.content),r.setSelection(new Et(r.doc.resolve(Math.max(a-1,0)))),!0},v3e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(t){const s=i.before(o),l=i.after(o);e.delete(s,l).scrollIntoView()}return!0}return!1};function Ho(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var x3e=e=>({tr:t,state:n,dispatch:r})=>{const i=Ho(e,n.schema),o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(r){const l=o.before(a),c=o.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},w3e=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},S3e=()=>({state:e,dispatch:t})=>i9(e,t),E3e=()=>({commands:e})=>e.keyboardShortcut("Enter"),C3e=()=>({state:e,dispatch:t})=>cDe(e,t);function x9(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function RN(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:x9(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function Xse(e,t,n={}){return e.find(r=>r.type===t&&RN(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function Fq(e,t,n={}){return!!Xse(e,t,n)}function u1(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!Xse([...i.node.marks],t,n)))return;let a=i.index,s=e.start()+i.offset,l=a+1,c=s+i.node.nodeSize;for(;a>0&&Fq([...e.parent.child(a-1).marks],t,n);)a-=1,s-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&Fq([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:c}}function uh(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var T3e=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=uh(e,r.schema),{doc:a,selection:s}=n,{$from:l,from:c,to:u}=s;if(i){const d=u1(l,o,t);if(d&&d.from<=c&&d.to>=u){const p=Et.create(a,d.from,d.to);n.setSelection(p)}}return!0},k3e=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function w9(e){return e instanceof Et}function Rf(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Zse(e,t=null){if(!t)return null;const n=Jt.atStart(e),r=Jt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,o=r.to;return t==="all"?Et.create(e,Rf(0,i,o),Rf(e.content.size,i,o)):Et.create(e,Rf(t,i,o),Rf(t,i,o))}function Qse(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ND(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var _3e=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const a=()=>{(ND()||Qse())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!w9(n.state.selection))return a(),!0;const s=Zse(i.doc,e)||n.state.selection,l=n.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},A3e=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),N3e=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),Jse=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&Jse(r)}return e};function G_(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return Jse(n)}function sC(e,t,n){if(e instanceof Ff||e instanceof Fe)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return Fe.fromArray(e.map(s=>t.nodeFromJSON(s)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),sC("",t,n)}if(i){if(n.errorOnInvalidContent){let a=!1,s="";const l=new Bae({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,s=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?pu.fromSchema(l).parseSlice(G_(e),n.parseOptions):pu.fromSchema(l).parse(G_(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}const o=pu.fromSchema(t);return n.slice?o.parseSlice(G_(e),n.parseOptions).content:o.parse(G_(e),n.parseOptions)}return sC("",t,n)}function ele(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof ao||i instanceof Ki))return;const o=e.mapping.maps[r];let a=0;o.forEach((s,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Jt.near(e.doc.resolve(a),n))}var O3e=e=>!("type"in e),M3e=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{var a;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let s;const l=w=>{o.emit("contentError",{editor:o,error:w,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{sC(t,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(w){l(w)}try{s=sC(t,o.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(w){return l(w),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},p=!0,m=!0;if((O3e(s)?s:[s]).forEach(w=>{w.check(),p=p?w.isText&&w.marks.length===0:!1,m=m?w.isBlock:!1}),u===d&&m){const{parent:w}=r.doc.resolve(u);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(u-=1,d+=1)}let x;if(p){if(Array.isArray(t))x=t.map(w=>w.text||"").join("");else if(t instanceof Fe){let w="";t.forEach(T=>{T.text&&(w+=T.text)}),x=w}else typeof t=="object"&&t&&t.text?x=t.text:x=t;r.insertText(x,u,d)}else{x=s;const w=r.doc.resolve(u),T=w.node(),k=w.parentOffset===0,N=T.isText||T.isTextblock,I=T.content.size>0;k&&N&&I&&(u=Math.max(0,u-1)),r.replaceWith(u,d,x)}n.updateSelection&&ele(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:x}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:x})}return!0},D3e=()=>({state:e,dispatch:t})=>aDe(e,t),R3e=()=>({state:e,dispatch:t})=>sDe(e,t),I3e=()=>({state:e,dispatch:t})=>ise(e,t),P3e=()=>({state:e,dispatch:t})=>lse(e,t),L3e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=wD(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},j3e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=wD(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},B3e=()=>({state:e,dispatch:t})=>iDe(e,t),$3e=()=>({state:e,dispatch:t})=>oDe(e,t);function tle(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function H3e(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<t.length-1;s+=1){const l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))ND()||tle()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var F3e=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=H3e(e).split(/-(?!$)/),a=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,s))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function lC(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,a=t?Ho(t,e.schema):null,s=[];e.doc.nodesBetween(r,i,(d,p)=>{if(d.isText)return;const m=Math.max(r,p),v=Math.min(i,p+d.nodeSize);s.push({node:d,from:m,to:v})});const l=i-r,c=s.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>RN(d.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((d,p)=>d+p.to-p.from,0)>=l}var U3e=(e,t={})=>({state:n,dispatch:r})=>{const i=Ho(e,n.schema);return lC(n,i,t)?lDe(n,r):!1},z3e=()=>({state:e,dispatch:t})=>fse(e,t),V3e=e=>({state:t,dispatch:n})=>{const r=Ho(e,t.schema);return xDe(r)(t,n)},q3e=()=>({state:e,dispatch:t})=>use(e,t);function OD(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Uq(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var W3e=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=OD(typeof e=="string"?e:e.name,r.schema);if(!s)return!1;s==="node"&&(o=Ho(e,r.schema)),s==="mark"&&(a=uh(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{o&&o===u.type&&(l=!0,i&&n.setNodeMarkup(d,void 0,Uq(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(p=>{a===p.type&&(l=!0,i&&n.addMark(d,d+u.nodeSize,a.create(Uq(p.attrs,t))))})})}),l},Y3e=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),G3e=()=>({tr:e,dispatch:t})=>{if(t){const n=new $s(e.doc);e.setSelection(n)}return!0},K3e=()=>({state:e,dispatch:t})=>ase(e,t),X3e=()=>({state:e,dispatch:t})=>cse(e,t),Z3e=()=>({state:e,dispatch:t})=>fDe(e,t),Q3e=()=>({state:e,dispatch:t})=>mDe(e,t),J3e=()=>({state:e,dispatch:t})=>pDe(e,t);function IN(e,t,n={},r={}){return sC(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var eIe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:a,commands:s})=>{const{doc:l}=o;if(r.preserveWhitespace!=="full"){const c=IN(e,i.schema,r,{errorOnInvalidContent:t??i.options.enableContentCheck});return a&&o.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&o.setMeta("preventUpdate",!n),s.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??i.options.enableContentCheck})};function nle(e,t){const n=uh(t,e.schema),{from:r,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{a.push(...l.marks)});const s=a.find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function MD(e,t){const n=new n9(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function tIe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function zq(e,t){const n=[];return e.descendants((r,i)=>{t(r)&&n.push({node:r,pos:i})}),n}function rle(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function nIe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function DD(e){return t=>nIe(t.$from,e)}function qt(e,t,n){return e.config[t]===void 0&&e.parent?qt(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?qt(e.parent,t,n):null}):e.config[t]}function S9(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=qt(t,"addExtensions",n);return r?[t,...S9(r())]:t}).flat(10)}function E9(e,t){const n=Ol.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function ile(e){return typeof e=="function"}function $r(e,t=void 0,...n){return ile(e)?t?e.bind(t)(...n):e(...n):e}function rIe(e={}){return Object.keys(e).length===0&&e.constructor===Object}function d1(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function ole(e){const t=[],{nodeExtensions:n,markExtensions:r}=d1(e),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage,extensions:i},l=qt(a,"addGlobalAttributes",s);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([p,m])=>{t.push({type:d,name:p,attribute:{...o,...m}})})})})}),i.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=qt(a,"addAttributes",s);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const p={...o,...d};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,t.push({type:a.name,name:u,attribute:p})})}),t}function Ml(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const s=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],c=s.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const s=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,p]=u.split(":").map(m=>m.trim());c.set(d,p)}),s.forEach(u=>{const[d,p]=u.split(":").map(m=>m.trim());c.set(d,p)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=o}),r},{})}function cC(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Ml(n,r),{})}function iIe(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Vq(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((o,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(n):iIe(n.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...r,...i}}}}function qq(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&rIe(n)?!1:n!=null))}function Wq(e){var t,n;const r={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(r.default=e.attribute.default),((n=e?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function ale(e,t){var n;const r=ole(e),{nodeExtensions:i,markExtensions:o}=d1(e),a=(n=i.find(c=>qt(c,"topNode")))==null?void 0:n.name,s=Object.fromEntries(i.map(c=>{const u=r.filter(T=>T.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},p=e.reduce((T,k)=>{const N=qt(k,"extendNodeSchema",d);return{...T,...N?N(c):{}}},{}),m=qq({...p,content:$r(qt(c,"content",d)),marks:$r(qt(c,"marks",d)),group:$r(qt(c,"group",d)),inline:$r(qt(c,"inline",d)),atom:$r(qt(c,"atom",d)),selectable:$r(qt(c,"selectable",d)),draggable:$r(qt(c,"draggable",d)),code:$r(qt(c,"code",d)),whitespace:$r(qt(c,"whitespace",d)),linebreakReplacement:$r(qt(c,"linebreakReplacement",d)),defining:$r(qt(c,"defining",d)),isolating:$r(qt(c,"isolating",d)),attrs:Object.fromEntries(u.map(Wq))}),v=$r(qt(c,"parseHTML",d));v&&(m.parseDOM=v.map(T=>Vq(T,u)));const x=qt(c,"renderHTML",d);x&&(m.toDOM=T=>x({node:T,HTMLAttributes:cC(T,u)}));const w=qt(c,"renderText",d);return w&&(m.toText=w),[c.name,m]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(w=>w.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},p=e.reduce((w,T)=>{const k=qt(T,"extendMarkSchema",d);return{...w,...k?k(c):{}}},{}),m=qq({...p,inclusive:$r(qt(c,"inclusive",d)),excludes:$r(qt(c,"excludes",d)),group:$r(qt(c,"group",d)),spanning:$r(qt(c,"spanning",d)),code:$r(qt(c,"code",d)),attrs:Object.fromEntries(u.map(Wq))}),v=$r(qt(c,"parseHTML",d));v&&(m.parseDOM=v.map(w=>Vq(w,u)));const x=qt(c,"renderHTML",d);return x&&(m.toDOM=w=>x({mark:w,HTMLAttributes:cC(w,u)})),[c.name,m]}));return new Bae({topNode:a,nodes:s,marks:l})}function oIe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function C9(e){return e.sort((n,r)=>{const i=qt(n,"priority")||100,o=qt(r,"priority")||100;return i>o?-1:i<o?1:0})}function T9(e){const t=C9(S9(e)),n=oIe(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function aIe(e,t){const n=T9(e);return ale(n,t)}function sle(e,t,n){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:a={}}=n||{};let s="";return e.nodesBetween(r,i,(l,c,u,d)=>{var p;l.isBlock&&c>r&&(s+=o);const m=a?.[l.type.name];if(m)return u&&(s+=m({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(s+=(p=l?.text)==null?void 0:p.slice(Math.max(r,c)-c,i-c))}),s}function sIe(e,t){const n={from:0,to:e.content.size};return sle(e,n,t)}function lle(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function lIe(e,t){const n=Ho(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,s=>{o.push(s)});const a=o.reverse().find(s=>s.type.name===n.name);return a?{...a.attrs}:{}}function cle(e,t){const n=OD(typeof t=="string"?t:t.name,e.schema);return n==="node"?lIe(e,t):n==="mark"?nle(e,t):{}}function cIe(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function uIe(e){const t=cIe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((o,a)=>a!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function k9(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((s,l)=>{a.push({from:s,to:l})});else{const{from:s,to:l}=n[o];if(s===void 0||l===void 0)return;a.push({from:s,to:l})}a.forEach(({from:s,to:l})=>{const c=t.slice(o).map(s,-1),u=t.slice(o).map(l),d=t.invert().map(c,-1),p=t.invert().map(u);r.push({oldRange:{from:d,to:p},newRange:{from:c,to:u}})})}),uIe(r)}function _9(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e),a=u1(o,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(e,t,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),r}function aP(e,t){return t.nodes[e]||t.marks[e]||null}function YA(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var dIe=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,o,a,s)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-o))}),n};function mB(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?uh(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>RN(d.attrs,n,{strict:!1}));let a=0;const s=[];if(i.forEach(({$from:d,$to:p})=>{const m=d.pos,v=p.pos;e.doc.nodesBetween(m,v,(x,w)=>{if(!x.isText&&!x.marks.length)return;const T=Math.max(m,w),k=Math.min(v,w+x.nodeSize),N=k-T;a+=N,s.push(...x.marks.map(I=>({mark:I,from:T,to:k})))})}),a===0)return!1;const l=s.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>RN(d.mark.attrs,n,{strict:!1})).reduce((d,p)=>d+p.to-p.from,0),c=s.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,p)=>d+p.to-p.from,0);return(l>0?l+c:l)>=a}function fIe(e,t,n={}){if(!t)return lC(e,null,n)||mB(e,null,n);const r=OD(t,e.schema);return r==="node"?lC(e,t,n):r==="mark"?mB(e,t,n):!1}function Yq(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function Gq(e,t){const{nodeExtensions:n}=d1(t),r=n.find(a=>a.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=$r(qt(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function RD(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(RD(o,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function PN(e){return e instanceof Rt}function LN(e,t,n){const i=e.state.doc.content.size,o=Rf(t,0,i),a=Rf(n,0,i),s=e.coordsAtPos(o),l=e.coordsAtPos(a,-1),c=Math.min(s.top,l.top),u=Math.max(s.bottom,l.bottom),d=Math.min(s.left,l.left),p=Math.max(s.right,l.right),m=p-d,v=u-c,T={top:c,bottom:u,left:d,right:p,width:m,height:v,x:d,y:c};return{...T,toJSON:()=>T}}function hIe(e,t,n){var r;const{selection:i}=t;let o=null;if(w9(i)&&(o=i.$cursor),o){const s=(r=e.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(s)||!s.some(c=>c.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let c=s.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(s.pos,l.pos,(u,d,p)=>{if(c)return!1;if(u.isInline){const m=!p||p.type.allowsMarkType(n),v=!!n.isInSet(u.marks)||!u.marks.some(x=>x.type.excludes(n));c=m&&v}return!c}),c})}var pIe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:a,ranges:s}=o,l=uh(e,r.schema);if(i)if(a){const c=nle(r,l);n.addStoredMark(l.create({...c,...t}))}else s.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(p,m)=>{const v=Math.max(m,u),x=Math.min(m+p.nodeSize,d);p.marks.find(T=>T.type===l)?p.marks.forEach(T=>{l===T.type&&n.addMark(v,x,l.create({...T.attrs,...t}))}):n.addMark(v,x,l.create(t))})});return hIe(r,n,l)},mIe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),gIe=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=Ho(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:s})=>sq(o,{...a,...t})(n)?!0:s.clearNodes()).command(({state:s})=>sq(o,{...a,...t})(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},yIe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=Rf(e,0,r.content.size),o=Rt.create(r,i);t.setSelection(o)}return!0},bIe=(e,t)=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=r;let a,s;return typeof t=="number"?(a=t,s=t):t&&"from"in t&&"to"in t?(a=t.from,s=t.to):(a=o.from,s=o.to),i&&n.doc.nodesBetween(a,s,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},vIe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,a=Et.atStart(r).from,s=Et.atEnd(r).to,l=Rf(i,a,s),c=Rf(o,a,s),u=Et.create(r,l,c);t.setSelection(u)}return!0},xIe=e=>({state:t,dispatch:n})=>{const r=Ho(e,t.schema);return EDe(r)(t,n)};function Kq(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t?.includes(i.type.name));e.tr.ensureMarks(r)}}var wIe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:a}=t,{$from:s,$to:l}=o,c=i.extensionManager.attributes,u=YA(c,s.node().type.name,s.node().attrs);if(o instanceof Rt&&o.node.isBlock)return!s.parentOffset||!Uf(a,s.pos)?!1:(r&&(e&&Kq(n,i.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,p=s.depth===0?void 0:tIe(s.node(-1).contentMatchAt(s.indexAfter(-1)));let m=d&&p?[{type:p,attrs:u}]:void 0,v=Uf(t.doc,t.mapping.map(s.pos),1,m);if(!m&&!v&&Uf(t.doc,t.mapping.map(s.pos),1,p?[{type:p}]:void 0)&&(v=!0,m=p?[{type:p,attrs:u}]:void 0),r){if(v&&(o instanceof Et&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,m),p&&!d&&!s.parentOffset&&s.parent.type!==p)){const x=t.mapping.map(s.before()),w=t.doc.resolve(x);s.node(-1).canReplaceWith(w.index(),w.index()+1,p)&&t.setNodeMarkup(t.mapping.map(s.before()),p)}e&&Kq(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return v},SIe=(e,t={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var a;const s=Ho(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==s)return!1;const p=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let T=Fe.empty;const k=l.index(-1)?1:l.index(-2)?2:3;for(let L=l.depth-k;L>=l.depth-3;L-=1)T=Fe.from(l.node(L).copy(T));const N=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,I={...YA(p,l.node().type.name,l.node().attrs),...t},O=((a=s.contentMatch.defaultType)==null?void 0:a.createAndFill(I))||void 0;T=T.append(Fe.from(s.createAndFill(null,O)||void 0));const A=l.before(l.depth-(k-1));n.replace(A,l.after(-N),new at(T,4-k,0));let R=-1;n.doc.nodesBetween(A,n.doc.content.size,(L,B)=>{if(R>-1)return!1;L.isTextblock&&L.content.size===0&&(R=B+1)}),R>-1&&n.setSelection(Et.near(n.doc.resolve(R))),n.scrollIntoView()}return!0}const m=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,v={...YA(p,d.type.name,d.attrs),...t},x={...YA(p,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const w=m?[{type:s,attrs:v},{type:m,attrs:x}]:[{type:s,attrs:v}];if(!Uf(n.doc,l.pos,2))return!1;if(i){const{selection:T,storedMarks:k}=r,{splittableMarks:N}=o.extensionManager,I=k||T.$to.parentOffset&&T.$from.marks();if(n.split(l.pos,2,w).scrollIntoView(),!I||!i)return!0;const O=I.filter(A=>N.includes(A.type.name));n.ensureMarks(O)}return!0},sP=(e,t)=>{const n=DD(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&uy(e.doc,n.pos)&&e.join(n.pos),!0},lP=(e,t)=>{const n=DD(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&uy(e.doc,r)&&e.join(r),!0},EIe=(e,t,n,r={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:p}=i.extensionManager,m=Ho(e,a.schema),v=Ho(t,a.schema),{selection:x,storedMarks:w}=a,{$from:T,$to:k}=x,N=T.blockRange(k),I=w||x.$to.parentOffset&&x.$from.marks();if(!N)return!1;const O=DD(A=>Gq(A.type.name,d))(x);if(N.depth>=1&&O&&N.depth-O.depth<=1){if(O.node.type===m)return c.liftListItem(v);if(Gq(O.node.type.name,d)&&m.validContent(O.node.content)&&s)return l().command(()=>(o.setNodeMarkup(O.pos,m),!0)).command(()=>sP(o,m)).command(()=>lP(o,m)).run()}return!n||!I||!s?l().command(()=>u().wrapInList(m,r)?!0:c.clearNodes()).wrapInList(m,r).command(()=>sP(o,m)).command(()=>lP(o,m)).run():l().command(()=>{const A=u().wrapInList(m,r),R=I.filter(L=>p.includes(L.type.name));return o.ensureMarks(R),A?!0:c.clearNodes()}).wrapInList(m,r).command(()=>sP(o,m)).command(()=>lP(o,m)).run()},CIe=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,a=uh(e,r.schema);return mB(r,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)},TIe=(e,t,n={})=>({state:r,commands:i})=>{const o=Ho(e,r.schema),a=Ho(t,r.schema),s=lC(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),s?i.setNode(a,l):i.setNode(o,{...l,...n})},kIe=(e,t={})=>({state:n,commands:r})=>{const i=Ho(e,n.schema);return lC(n,i,t)?r.lift(i):r.wrapIn(i,t)},_Ie=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const a=e.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){const l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},AIe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},NIe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=uh(e,r.schema),{$from:c,empty:u,ranges:d}=s;if(!i)return!0;if(u&&a){let{from:p,to:m}=s;const v=(o=c.marks().find(w=>w.type===l))==null?void 0:o.attrs,x=u1(c,l,v);x&&(p=x.from,m=x.to),n.removeMark(p,m,l)}else d.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},OIe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:i}=n;let o,a;return typeof e=="number"?(o=e,a=e):e&&"from"in e&&"to"in e?(o=e.from,a=e.to):(o=i.from,a=i.to),r&&t.doc.nodesBetween(o,a,(s,l)=>{if(s.isText)return;const c={...s.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},MIe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=OD(typeof e=="string"?e:e.name,r.schema);if(!s)return!1;s==="node"&&(o=Ho(e,r.schema)),s==="mark"&&(a=uh(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let p,m,v,x;n.selection.empty?r.doc.nodesBetween(u,d,(w,T)=>{o&&o===w.type&&(l=!0,v=Math.max(T,u),x=Math.min(T+w.nodeSize,d),p=T,m=w)}):r.doc.nodesBetween(u,d,(w,T)=>{T<u&&o&&o===w.type&&(l=!0,v=Math.max(T,u),x=Math.min(T+w.nodeSize,d),p=T,m=w),T>=u&&T<=d&&(o&&o===w.type&&(l=!0,i&&n.setNodeMarkup(T,void 0,{...w.attrs,...t})),a&&w.marks.length&&w.marks.forEach(k=>{if(a===k.type&&(l=!0,i)){const N=Math.max(T,u),I=Math.min(T+w.nodeSize,d);n.addMark(N,I,a.create({...k.attrs,...t}))}}))}),m&&(p!==void 0&&i&&n.setNodeMarkup(p,void 0,{...m.attrs,...t}),a&&m.marks.length&&m.marks.forEach(w=>{a===w.type&&i&&n.addMark(v,x,a.create({...w.attrs,...t}))}))}),l},DIe=(e,t={})=>({state:n,dispatch:r})=>{const i=Ho(e,n.schema);return gDe(i,t)(n,r)},RIe=(e,t={})=>({state:n,dispatch:r})=>{const i=Ho(e,n.schema);return yDe(i,t)(n,r)},IIe=class{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}once(t,n){const r=(...i)=>{this.off(t,r),n.apply(this,i)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},ule=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},PIe=(e,t)=>{if(x9(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function K_(e){var t;const{editor:n,from:r,to:i,text:o,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(p=>p.type.spec.code))return!1;let u=!1;const d=dIe(c)+o;return a.forEach(p=>{if(u)return;const m=PIe(d,p.find);if(!m)return;const v=l.state.tr,x=_D({state:l.state,transaction:v}),w={from:r-(m[0].length-o.length),to:i},{commands:T,chain:k,can:N}=new AD({editor:n,state:x});p.handler({state:x,range:w,match:m,commands:T,chain:k,can:N})===null||!v.steps.length||(p.undoable&&v.setMeta(s,{transform:v,from:r,to:i,text:o}),l.dispatch(v),u=!0)}),u}function LIe(e){const{editor:t,rules:n}=e,r=new on({state:{init(){return null},apply(i,o,a){const s=i.getMeta(r);if(s)return s;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=E9(Fe.from(u),a.schema);const{from:d}=l,p=d+u.length;K_({editor:t,from:d,to:p,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,s){return K_({editor:t,from:o,to:a,text:s,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&K_({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?K_({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function jIe(e){return Object.prototype.toString.call(e).slice(8,-1)}function X_(e){return jIe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function dle(e,t){const n={...e};return X_(e)&&X_(t)&&Object.keys(t).forEach(r=>{X_(t[r])&&X_(e[r])?n[r]=dle(e[r],t[r]):n[r]=t[r]}),n}var A9=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...$r(qt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...$r(qt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>dle(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Ll=class fle extends A9{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new fle(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(c=>c?.type.name===n.name))return!1;const l=a.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function BIe(e){return typeof e=="number"}var $Ie=class{constructor(e){this.find=e.find,this.handler=e.handler}},HIe=(e,t,n)=>{if(x9(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function FIe(e){const{editor:t,state:n,from:r,to:i,rule:o,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:u}=new AD({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,i,(m,v)=>{var x,w,T,k,N;if((w=(x=m.type)==null?void 0:x.spec)!=null&&w.code||!(m.isText||m.isTextblock||m.isInline))return;const I=(N=(k=(T=m.content)==null?void 0:T.size)!=null?k:m.nodeSize)!=null?N:0,O=Math.max(r,v),A=Math.min(i,v+I);if(O>=A)return;const R=m.isText?m.text||"":m.textBetween(O-v,A-v,void 0,"");HIe(R,o.find,a).forEach(B=>{if(B.index===void 0)return;const $=O+B.index+1,q=$+B[0].length,z={from:n.tr.mapping.map($),to:n.tr.mapping.map(q)},Y=o.handler({state:n,range:z,match:B,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:s});d.push(Y)})}),d.every(m=>m!==null)}var Z_=null,UIe=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function zIe(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,s;try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}const l=({state:u,from:d,to:p,rule:m,pasteEvt:v})=>{const x=u.tr,w=_D({state:u,transaction:x});if(!(!FIe({editor:t,state:w,from:Math.max(d-1,0),to:p.b-1,rule:m,pasteEvent:v,dropEvent:s})||!x.steps.length)){try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return n.map(u=>new on({view(d){const p=v=>{var x;r=(x=d.dom.parentElement)!=null&&x.contains(v.target)?d.dom.parentElement:null,r&&(Z_=t)},m=()=>{Z_&&(Z_=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(d,p)=>{if(o=r===d.dom.parentElement,s=p,!o){const m=Z_;m?.isEditable&&setTimeout(()=>{const v=m.state.selection;v&&m.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(d,p)=>{var m;const v=(m=p.clipboardData)==null?void 0:m.getData("text/html");return a=p,i=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(d,p,m)=>{const v=d[0],x=v.getMeta("uiEvent")==="paste"&&!i,w=v.getMeta("uiEvent")==="drop"&&!o,T=v.getMeta("applyPasteRules"),k=!!T;if(!x&&!w&&!k)return;if(k){let{text:O}=T;typeof O=="string"?O=O:O=E9(Fe.from(O),m.schema);const{from:A}=T,R=A+O.length,L=UIe(O);return l({rule:u,state:m,from:A,to:{b:R},pasteEvt:L})}const N=p.doc.content.findDiffStart(m.doc.content),I=p.doc.content.findDiffEnd(m.doc.content);if(!(!BIe(N)||!I||N===I.b))return l({rule:u,state:m,from:N,to:I,pasteEvt:a})}}))}var ID=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=T9(e),this.schema=ale(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:aP(t.name,this.schema)},r=qt(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return C9([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:aP(r.name,this.schema)},o=[],a=qt(r,"addKeyboardShortcuts",i);let s={};if(r.type==="mark"&&qt(r,"exitable",i)&&(s.ArrowRight=()=>Ll.handleExit({editor:e,mark:r})),a){const p=Object.fromEntries(Object.entries(a()).map(([m,v])=>[m,()=>v({editor:e})]));s={...s,...p}}const l=d3e(s);o.push(l);const c=qt(r,"addInputRules",i);if(Yq(r,e.options.enableInputRules)&&c){const p=c();if(p&&p.length){const m=LIe({editor:e,rules:p}),v=Array.isArray(m)?m:[m];o.push(...v)}}const u=qt(r,"addPasteRules",i);if(Yq(r,e.options.enablePasteRules)&&u){const p=u();if(p&&p.length){const m=zIe({editor:e,rules:p});o.push(...m)}}const d=qt(r,"addProseMirrorPlugins",i);if(d){const p=d();o.push(...p)}return o})}get attributes(){return ole(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=d1(this.extensions);return Object.fromEntries(t.filter(n=>!!qt(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Ho(n.name,this.schema)},o=qt(n,"addNodeView",i);if(!o)return[];const a=o();if(!a)return[];const s=(l,c,u,d,p)=>{const m=cC(l,r);return a({node:l,view:c,getPos:u,decorations:d,innerDecorations:p,editor:e,extension:n,HTMLAttributes:m})};return[n.name,s]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=d1(this.extensions);return Object.fromEntries(t.filter(n=>!!qt(n,"addMarkView")).map(n=>{const r=this.attributes.filter(s=>s.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:uh(n.name,this.schema)},o=qt(n,"addMarkView",i);if(!o)return[];const a=(s,l,c)=>{const u=cC(s,r);return o()({mark:s,view:l,inline:c,editor:e,extension:n,HTMLAttributes:u,updateAttributes:d=>{nPe(s,e,d)}})};return[n.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:aP(t.name,this.schema)};t.type==="mark"&&((n=$r(qt(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=qt(t,"onBeforeCreate",r),o=qt(t,"onCreate",r),a=qt(t,"onUpdate",r),s=qt(t,"onSelectionUpdate",r),l=qt(t,"onTransaction",r),c=qt(t,"onFocus",r),u=qt(t,"onBlur",r),d=qt(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};ID.resolve=T9;ID.sort=C9;ID.flatten=S9;var Ev={};v9(Ev,{ClipboardTextSerializer:()=>ple,Commands:()=>mle,Delete:()=>gle,Drop:()=>yle,Editable:()=>ble,FocusEvents:()=>xle,Keymap:()=>wle,Paste:()=>Sle,Tabindex:()=>Ele,TextDirection:()=>Cle,focusEventsPluginKey:()=>vle});var ur=class hle extends A9{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new hle(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},ple=ur.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new on({key:new wn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map(u=>u.$from.pos)),s=Math.max(...o.map(u=>u.$to.pos)),l=lle(n);return sle(r,{from:a,to:s},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),mle=ur.create({name:"commands",addCommands(){return{...Kse}}}),gle=ur.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const o=()=>{var a,s,l,c;if((c=(l=(s=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:s.filterTransaction)==null?void 0:l.call(s,e))!=null?c:e.getMeta("y-sync$"))return;const u=MD(e.before,[e,...t]);k9(u).forEach(m=>{u.mapping.mapResult(m.oldRange.from).deletedAfter&&u.mapping.mapResult(m.oldRange.to).deletedBefore&&u.before.nodesBetween(m.oldRange.from,m.oldRange.to,(v,x)=>{const w=x+v.nodeSize-2,T=m.oldRange.from<=x&&w<=m.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:x,to:w,newFrom:u.mapping.map(x),newTo:u.mapping.map(w),deletedRange:m.oldRange,newRange:m.newRange,partial:!T,editor:this.editor,transaction:e,combinedTransform:u})})});const p=u.mapping;u.steps.forEach((m,v)=>{var x,w;if(m instanceof uu){const T=p.slice(v).map(m.from,-1),k=p.slice(v).map(m.to),N=p.invert().map(T,-1),I=p.invert().map(k),O=(x=u.doc.nodeAt(T-1))==null?void 0:x.marks.some(R=>R.eq(m.mark)),A=(w=u.doc.nodeAt(k))==null?void 0:w.marks.some(R=>R.eq(m.mark));this.editor.emit("delete",{type:"mark",mark:m.mark,from:m.from,to:m.to,deletedRange:{from:N,to:I},newRange:{from:T,to:k},partial:!!(A||O),editor:this.editor,transaction:e,combinedTransform:u})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),yle=ur.create({name:"drop",addProseMirrorPlugins(){return[new on({key:new wn("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),ble=ur.create({name:"editable",addProseMirrorPlugins(){return[new on({key:new wn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),vle=new wn("focusEvents"),xle=ur.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new on({key:vle,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),wle=ur.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:c}=s,{empty:u,$anchor:d}=l,{pos:p,parent:m}=d,v=d.parent.isTextblock&&p>0?s.doc.resolve(p-1):d,x=v.parent.type.spec.isolating,w=d.pos-d.parentOffset,T=x&&v.parent.childCount===1?w===d.pos:Jt.atStart(c).from===p;return!u||!m.type.isTextblock||m.textContent.length||!T||T&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ND()||tle()?o:i},addProseMirrorPlugins(){return[new on({key:new wn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(x=>x.getMeta("composition")))return;const r=e.some(x=>x.docChanged)&&!t.doc.eq(n.doc),i=e.some(x=>x.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:a,to:s}=t.selection,l=Jt.atStart(t.doc).from,c=Jt.atEnd(t.doc).to;if(o||!(a===l&&s===c)||!RD(n.doc))return;const p=n.tr,m=_D({state:n,transaction:p}),{commands:v}=new AD({editor:this.editor,state:m});if(v.clearNodes(),!!p.steps.length)return p}})]}}),Sle=ur.create({name:"paste",addProseMirrorPlugins(){return[new on({key:new wn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Ele=ur.create({name:"tabindex",addProseMirrorPlugins(){return[new on({key:new wn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Cle=ur.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=d1(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new on({key:new wn("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),VIe=class Cv{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Cv(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Cv(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Cv(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(a);if(!i&&s.depth<=this.depth)return;const l=new Cv(s,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new Cv(s,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const o=i.node.attrs,a=Object.keys(n);for(let s=0;s<a.length;s+=1){const l=a[s];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===t&&o.every(l=>n[l]===a.node.attrs[l])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},qIe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function WIe(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var YIe=class extends IIe{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=Zse(t,this.options.autofocus);this.editorState=Ov.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=WIe(qIe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=ile(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(o))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[ble,ple.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),mle,xle,wle,Ele,yle,Sle,gle,Cle.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new ID(r,this)}createCommandManager(){this.commandManager=new AD({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=IN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=IN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new Gse(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),s=a?.getMeta("focus"),l=a?.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(e.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||o.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return cle(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return fIe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return E9(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return sIe(this.state.doc,{blockSeparator:t,textSerializers:{...lle(this.schema),...n}})}get isEmpty(){return RD(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new VIe(t,this)}get $doc(){return this.$pos(0)}};function f1(e){return new ule({find:e.find,handler:({state:t,range:n,match:r})=>{const i=$r(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,a=r[r.length-1],s=r[0];if(a){const l=s.search(/\S/),c=n.from+s.indexOf(a),u=c+a.length;if(_9(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(x=>x===e.type&&x!==m.mark.type)).filter(m=>m.to>c).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+l,c);const p=n.from+l+a.length;o.addMark(n.from+l,p,e.type.create(i||{})),o.removeStoredMark(e.type)}},undoable:e.undoable})}var GIe={};v9(GIe,{createAtomBlockMarkdownSpec:()=>KIe,createBlockMarkdownSpec:()=>XIe,createInlineMarkdownSpec:()=>JIe,parseAttributes:()=>N9,parseIndentedBlocks:()=>ePe,renderNestedMarkdownContent:()=>tPe,serializeAttributes:()=>O9});function N9(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(u=>u.trim().slice(1));t.class=c.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(t.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const p=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),m=n[p];m&&(t[c]=m.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function O9(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function KIe(e){const{nodeName:t,name:n,parseAttributes:r=N9,serializeAttributes:i=O9,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:s}=e,l=n||t,c=u=>{if(!s)return u;const d={};return s.forEach(p=>{p in u&&(d[p]=u[p])}),d};return{parseMarkdown:(u,d)=>{const p={...o,...u.attributes};return d.createNode(t,p,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const p=new RegExp(`^:::${l}(?:\\s|$)`,"m"),m=(d=u.match(p))==null?void 0:d.index;return m!==void 0?m:-1},tokenize(u,d,p){const m=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=u.match(m);if(!v)return;const x=v[1]||"",w=r(x);if(!a.find(k=>!(k in w)))return{type:t,raw:v[0],attributes:w}}},renderMarkdown:u=>{const d=c(u.attrs||{}),p=i(d),m=p?` {${p}}`:"";return`:::${l}${m} :::`}}}function XIe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=N9,serializeAttributes:o=O9,defaultAttributes:a={},content:s="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const p={};return l.forEach(m=>{m in d&&(p[m]=d[m])}),p};return{parseMarkdown:(d,p)=>{let m;if(r){const x=r(d);m=typeof x=="string"?[{type:"text",text:x}]:x}else s==="block"?m=p.parseChildren(d.tokens||[]):m=p.parseInline(d.tokens||[]);const v={...a,...d.attributes};return p.createNode(t,v,m)},markdownTokenizer:{name:t,level:"block",start(d){var p;const m=new RegExp(`^:::${c}`,"m"),v=(p=d.match(m))==null?void 0:p.index;return v!==void 0?v:-1},tokenize(d,p,m){var v;const x=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),w=d.match(x);if(!w)return;const[T,k=""]=w,N=i(k);let I=1;const O=T.length;let A="";const R=/^:::([\w-]*)(\s.*)?/gm,L=d.slice(O);for(R.lastIndex=0;;){const B=R.exec(L);if(B===null)break;const $=B.index,q=B[1];if(!((v=B[2])!=null&&v.endsWith(":::"))){if(q)I+=1;else if(I-=1,I===0){const z=L.slice(0,$);A=z.trim();const Y=d.slice(0,O+$+B[0].length);let W=[];if(A)if(s==="block")for(W=m.blockTokens(z),W.forEach(Z=>{Z.text&&(!Z.tokens||Z.tokens.length===0)&&(Z.tokens=m.inlineTokens(Z.text))});W.length>0;){const Z=W[W.length-1];if(Z.type==="paragraph"&&(!Z.text||Z.text.trim()===""))W.pop();else break}else W=m.inlineTokens(A);return{type:t,raw:Y,attributes:N,content:A,tokens:W}}}}}},renderMarkdown:(d,p)=>{const m=u(d.attrs||{}),v=o(m),x=v?` {${v}}`:"",w=p.renderChildren(d.content||[],`

`);return`:::${c}${x}

${w}

:::`}}}function ZIe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,i,o,a]=r;t[i]=o||a,r=n.exec(e)}return t}function QIe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function JIe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=ZIe,serializeAttributes:o=QIe,defaultAttributes:a={},selfClosing:s=!1,allowedAttributes:l}=e,c=n||t,u=p=>{if(!l)return p;const m={};return l.forEach(v=>{v in p&&(m[v]=p[v])}),m},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,m)=>{const v={...a,...p.attributes};if(s)return m.createNode(t,v);const x=r?r(p):p.content||"";return x?m.createNode(t,v,[m.createTextNode(x)]):m.createNode(t,v,[])},markdownTokenizer:{name:t,level:"inline",start(p){const m=s?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),v=p.match(m),x=v?.index;return x!==void 0?x:-1},tokenize(p,m,v){const x=s?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),w=p.match(x);if(!w)return;let T="",k="";if(s){const[,I]=w;k=I}else{const[,I,O]=w;k=I,T=O||""}const N=i(k.trim());return{type:t,raw:w[0],content:T.trim(),attributes:N}}},renderMarkdown:p=>{let m="";r?m=r(p):p.content&&p.content.length>0&&(m=p.content.filter(T=>T.type==="text").map(T=>T.text).join(""));const v=u(p.attrs||{}),x=o(v),w=x?` ${x}`:"";return s?`[${c}${w}]`:`[${c}${w}]${m}[/${c}]`}}}function ePe(e,t,n){var r,i,o,a;const s=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<s.length;){const p=s[u],m=p.match(t.itemPattern);if(!m){if(l.length>0)break;if(p.trim()===""){u+=1,c=`${c}${p}
`;continue}else return}const v=t.extractItemData(m),{indentLevel:x,mainContent:w}=v;c=`${c}${p}
`;const T=[w];for(u+=1;u<s.length;){const O=s[u];if(O.trim()===""){const R=s.slice(u+1).findIndex($=>$.trim()!=="");if(R===-1)break;if((((i=(r=s[u+1+R].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>x){T.push(O),c=`${c}${O}
`,u+=1;continue}else break}if((((a=(o=O.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>x)T.push(O),c=`${c}${O}
`,u+=1;else break}let k;const N=T.slice(1);if(N.length>0){const O=N.map(A=>A.slice(x+d)).join(`
`);O.trim()&&(t.customNestedParser?k=t.customNestedParser(O):k=n.blockTokens(O))}const I=t.createToken(v,k);l.push(I)}if(l.length!==0)return{items:l,raw:c}}function tPe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const i=typeof n=="function"?n(r):n,[o,...a]=e.content,s=t.renderChildren([o]),l=[`${i}${s}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(p=>p?t.indent(p):"").join(`
`);l.push(d)}}),l.join(`
`)}function nPe(e,t,n={}){const{state:r}=t,{doc:i,tr:o}=r,a=e;i.descendants((s,l)=>{const c=o.mapping.map(l),u=o.mapping.map(l)+s.nodeSize;let d=null;if(s.marks.forEach(m=>{if(m!==a)return!1;d=m}),!d)return;let p=!1;if(Object.keys(n).forEach(m=>{n[m]!==d.attrs[m]&&(p=!0)}),p){const m=e.type.create({...e.attrs,...n});o.removeMark(c,u,e.type),o.addMark(c,u,m)}}),o.docChanged&&t.view.dispatch(o)}var zs=class Tle extends A9{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new Tle(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},rPe=class{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,r,i,o,a,s;const{view:l}=this.editor,c=e.target,u=c.nodeType===3?(t=c.parentElement)==null?void 0:t.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||(n=this.contentDOM)!=null&&n.contains(c)||!u)return;let d=0,p=0;if(this.dom!==u){const k=this.dom.getBoundingClientRect(),N=u.getBoundingClientRect(),I=(i=e.offsetX)!=null?i:(r=e.nativeEvent)==null?void 0:r.offsetX,O=(a=e.offsetY)!=null?a:(o=e.nativeEvent)==null?void 0:o.offsetY;d=N.x-k.x+I,p=N.y-k.y+O}const m=this.dom.cloneNode(!0);try{const k=this.dom.getBoundingClientRect();m.style.width=`${Math.round(k.width)}px`,m.style.height=`${Math.round(k.height)}px`,m.style.boxSizing="border-box",m.style.pointerEvents="none"}catch{}let v=null;try{v=document.createElement("div"),v.style.position="absolute",v.style.top="-9999px",v.style.left="-9999px",v.style.pointerEvents="none",v.appendChild(m),document.body.appendChild(v),(s=e.dataTransfer)==null||s.setDragImage(m,d,p)}finally{v&&setTimeout(()=>{try{v?.remove()}catch{}},0)}const x=this.getPos();if(typeof x!="number")return;const w=Rt.create(l.state.doc,x),T=l.state.tr.setSelection(w);l.dispatch(T)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const n=e.target;if(!(this.dom.contains(n)&&!((t=this.contentDOM)!=null&&t.contains(n))))return!1;const i=e.type.startsWith("drag"),o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!i)return!0;const{isEditable:s}=this.editor,{isDragging:l}=this,c=!!this.node.type.spec.draggable,u=Rt.isSelectable(this.node),d=e.type==="copy",p=e.type==="paste",m=e.type==="cut",v=e.type==="mousedown";if(!c&&u&&i&&e.target===this.dom&&e.preventDefault(),c&&i&&!l&&e.target===this.dom)return e.preventDefault(),!1;if(c&&s&&!l&&v){const x=n.closest("[data-drag-handle]");x&&(this.dom===x||this.dom.contains(x))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(l||o||d||p||m||v&&u)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(ND()||Qse())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(n=>n.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const n=this.getPos();return typeof n!="number"?!1:(t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}};function H0(e){return new $Ie({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const o=$r(e.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:a}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const u=l.search(/\S/),d=n.from+l.indexOf(s),p=d+s.length;if(_9(n.from,n.to,t.doc).filter(v=>v.mark.type.excluded.find(w=>w===e.type&&w!==v.mark.type)).filter(v=>v.to>d).length)return null;p<n.to&&a.delete(p,n.to),d>n.from&&a.delete(n.from+u,d),c=n.from+u+s.length,a.addMark(n.from+u,c,e.type.create(o||{})),a.removeStoredMark(e.type)}}})}var Q_,iPe=new Uint8Array(16);function oPe(){if(!Q_&&(Q_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Q_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q_(iPe)}const aPe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function sPe(e){return typeof e=="string"&&aPe.test(e)}var Go=[];for(var cP=0;cP<256;++cP)Go.push((cP+256).toString(16).substr(1));function lPe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Go[e[t+0]]+Go[e[t+1]]+Go[e[t+2]]+Go[e[t+3]]+"-"+Go[e[t+4]]+Go[e[t+5]]+"-"+Go[e[t+6]]+Go[e[t+7]]+"-"+Go[e[t+8]]+Go[e[t+9]]+"-"+Go[e[t+10]]+Go[e[t+11]]+Go[e[t+12]]+Go[e[t+13]]+Go[e[t+14]]+Go[e[t+15]]).toLowerCase();if(!sPe(n))throw TypeError("Stringified UUID is invalid");return n}function kle(e,t,n){e=e||{};var r=e.random||(e.rng||oPe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,lPe(r)}function cPe(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function uPe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return cPe(t)}const BT=ur.create({name:"uniqueID",priority:1e4,addOptions(){return{attributeName:"id",types:[],setIdAttribute:!1,generateID:()=>{if(typeof window<"u"&&window.__TEST_OPTIONS){const e=window.__TEST_OPTIONS;return e.mockID===void 0?e.mockID=0:e.mockID++,e.mockID.toString()}return kle()},filterTransaction:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:e=>e.getAttribute(`data-${this.options.attributeName}`),renderHTML:e=>{const t={[`data-${this.options.attributeName}`]:e[this.options.attributeName]};return this.options.setIdAttribute?{...t,id:e[this.options.attributeName]}:t}}}}]},addProseMirrorPlugins(){let e=null,t=!1;return[new on({key:new wn("uniqueID"),appendTransaction:(n,r,i)=>{const o=n.some(m=>m.docChanged)&&!r.doc.eq(i.doc),a=this.options.filterTransaction&&n.some(m=>{var v,x;return!((x=(v=this.options).filterTransaction)!=null&&x.call(v,m))});if(!o||a)return;const{tr:s}=i,{types:l,attributeName:c,generateID:u}=this.options,d=MD(r.doc,n),{mapping:p}=d;if(k9(d).forEach(({newRange:m})=>{const v=rle(i.doc,m,T=>l.includes(T.type.name)),x=v.map(({node:T})=>T.attrs[c]).filter(T=>T!==null),w=uPe(x);v.forEach(({node:T,pos:k})=>{var N;const I=(N=s.doc.nodeAt(k))==null?void 0:N.attrs[c];if(I===null){const A=r.doc.type.createAndFill().content;if(r.doc.content.findDiffStart(A)===null){const R=JSON.parse(JSON.stringify(i.doc.toJSON()));if(R.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(R.content)===JSON.stringify(A.toJSON())){s.setNodeMarkup(k,void 0,{...T.attrs,[c]:"initialBlockId"});return}}s.setNodeMarkup(k,void 0,{...T.attrs,[c]:u()});return}const{deleted:O}=p.invert().mapResult(k);O&&w.includes(I)&&s.setNodeMarkup(k,void 0,{...T.attrs,[c]:u()})})}),!!s.steps.length)return s.setMeta("uniqueID",!0),s},view(n){const r=i=>{let o;e=!((o=n.dom.parentElement)===null||o===void 0)&&o.contains(i.target)?n.dom.parentElement:null};return window.addEventListener("dragstart",r),{destroy(){window.removeEventListener("dragstart",r)}}},props:{handleDOMEvents:{drop:(n,r)=>{let i;return e!==n.dom.parentElement||((i=r.dataTransfer)===null||i===void 0?void 0:i.effectAllowed)==="copy"?t=!0:t=!1,e=null,!1},paste:()=>(t=!0,!1)},transformPasted:n=>{if(!t)return n;const{types:r,attributeName:i}=this.options,o=a=>{const s=[];return a.forEach(l=>{if(l.isText){s.push(l);return}if(!r.includes(l.type.name)){s.push(l.copy(o(l.content)));return}const c=l.type.create({...l.attrs,[i]:null},o(l.content),l.marks);s.push(c)}),Fe.from(s)};return t=!1,new at(o(n.content),n.openStart,n.openEnd)}}})]}});function Xq(e){return e.type==="link"}function _le(e){return typeof e!="string"&&e.type==="link"}function F0(e){return typeof e!="string"&&e.type==="text"}function dm(e){var t,n,r,i,o;return fm(e)?{...e}:uC(e)?{type:"tableCell",content:[].concat(e.content),props:{backgroundColor:((t=e.props)==null?void 0:t.backgroundColor)??"default",textColor:((n=e.props)==null?void 0:n.textColor)??"default",textAlignment:((r=e.props)==null?void 0:r.textAlignment)??"left",colspan:((i=e.props)==null?void 0:i.colspan)??1,rowspan:((o=e.props)==null?void 0:o.rowspan)??1}}:{type:"tableCell",content:[].concat(e),props:{backgroundColor:"default",textColor:"default",textAlignment:"left",colspan:1,rowspan:1}}}function uC(e){return e!=null&&typeof e!="string"&&!Array.isArray(e)&&e.type==="tableCell"}function fm(e){return uC(e)&&e.props!==void 0&&e.content!==void 0}function U0(e){return fm(e)?e.props.colspan??1:1}function dC(e){return fm(e)?e.props.rowspan??1:1}let Rd=class extends Error{constructor(t){super(`Unreachable case: ${t}`)}};function Sn(e,t=!0){const{"data-test":n,...r}=e;if(Object.keys(r).length>0&&t)throw new Error("Object must be empty "+JSON.stringify(e))}function eh(e,t){const n=e.resolve(t);if(n.nodeAfter&&n.nodeAfter.type.isInGroup("bnBlock"))return{posBeforeNode:n.pos,node:n.nodeAfter};let r=n.depth,i=n.node(r);for(;r>0;){if(i.type.isInGroup("bnBlock"))return{posBeforeNode:n.before(r),node:i};r--,i=n.node(r)}const o=[];e.descendants((s,l)=>{s.type.isInGroup("bnBlock")&&o.push(l)}),console.warn(`Position ${t} is not within a blockContainer node.`);const a=e.resolve(o.find(s=>s>=t)||o[o.length-1]);return{posBeforeNode:a.pos,node:a.nodeAfter}}function M9(e,t){if(!e.type.isInGroup("bnBlock"))throw new Error(`Attempted to get bnBlock node at position but found node of different type ${e.type.name}`);const n=e,r=t,i=r+n.nodeSize,o={node:n,beforePos:r,afterPos:i};if(n.type.name==="blockContainer"){let a,s;if(n.forEach((l,c)=>{if(l.type.spec.group==="blockContent"){const u=l,d=r+c+1,p=d+l.nodeSize;a={node:u,beforePos:d,afterPos:p}}else if(l.type.name==="blockGroup"){const u=l,d=r+c+1,p=d+l.nodeSize;s={node:u,beforePos:d,afterPos:p}}}),!a)throw new Error(`blockContainer node does not contain a blockContent node in its children: ${n}`);return{isBlockContainer:!0,bnBlock:o,blockContent:a,childContainer:s,blockNoteType:a.node.type.name}}else{if(!o.node.type.isInGroup("childContainer"))throw new Error(`bnBlock node is not in the childContainer group: ${o.node}`);return{isBlockContainer:!1,bnBlock:o,childContainer:o,blockNoteType:o.node.type.name}}}function th(e){return M9(e.node,e.posBeforeNode)}function PD(e){if(!e.nodeAfter)throw new Error(`Attempted to get blockContainer node at position ${e.pos} but a node at this position does not exist`);return M9(e.nodeAfter,e.pos)}function Ns(e){const t=eh(e.doc,e.selection.anchor);return th(t)}function $T(e){const t=eh(e.doc,e.selection.anchor);return th(t)}function ho(e){return"doc"in e?e.doc.type.schema:e.type.schema}function Ale(e){return e.cached.blockNoteEditor}function HT(e){return Ale(e).schema}function D9(e){return HT(e).blockSchema}function R9(e){return HT(e).inlineContentSchema}function ox(e){return HT(e).styleSchema}function I9(e){return Ale(e).blockCache}function Nle(e,t,n){var r,i;const o={type:"tableContent",columnWidths:[],headerRows:void 0,headerCols:void 0,rows:[]},a=[];e.content.forEach((s,l,c)=>{const u={cells:[]};c===0&&s.content.forEach(d=>{let p=d.attrs.colwidth;p==null&&(p=new Array(d.attrs.colspan??1).fill(void 0)),o.columnWidths.push(...p)}),u.cells=s.content.content.map((d,p)=>(a[c]||(a[c]=[]),a[c][p]=d.type.name==="tableHeader",{type:"tableCell",content:d.content.content.map(m=>LD(m,t,n)).reduce((m,v)=>{if(!m.length)return v;const x=m[m.length-1],w=v[0];return w&&F0(x)&&F0(w)&&JSON.stringify(x.styles)===JSON.stringify(w.styles)?(x.text+=`
`+w.text,m.push(...v.slice(1)),m):(m.push(...v),m)},[]),props:{colspan:d.attrs.colspan,rowspan:d.attrs.rowspan,backgroundColor:d.attrs.backgroundColor,textColor:d.attrs.textColor,textAlignment:d.attrs.textAlignment}})),o.rows.push(u)});for(let s=0;s<a.length;s++)(r=a[s])!=null&&r.every(l=>l)&&(o.headerRows=(o.headerRows??0)+1);for(let s=0;s<((i=a[0])==null?void 0:i.length);s++)a!=null&&a.every(l=>l[s])&&(o.headerCols=(o.headerCols??0)+1);return o}function LD(e,t,n){const r=[];let i;return e.content.forEach(o=>{if(o.type.name==="hardBreak"){if(i)if(F0(i))i.text+=`
`;else if(Xq(i))i.content[i.content.length-1].text+=`
`;else throw new Error("unexpected");else i={type:"text",text:`
`,styles:{}};return}if(o.type.name!=="link"&&o.type.name!=="text"){if(!t[o.type.name]){console.warn("unrecognized inline content type",o.type.name);return}i&&(r.push(i),i=void 0),r.push(P9(o,t,n));return}const a={};let s;for(const l of o.marks)if(l.type.name==="link")s=l;else{const c=n[l.type.name];if(!c){if(l.type.spec.blocknoteIgnore)continue;throw new Error(`style ${l.type.name} not found in styleSchema`)}if(c.propSchema==="boolean")a[c.type]=!0;else if(c.propSchema==="string")a[c.type]=l.attrs.stringValue;else throw new Rd(c.propSchema)}i?F0(i)?s?(r.push(i),i={type:"link",href:s.attrs.href,content:[{type:"text",text:o.textContent,styles:a}]}):JSON.stringify(i.styles)===JSON.stringify(a)?i.text+=o.textContent:(r.push(i),i={type:"text",text:o.textContent,styles:a}):Xq(i)&&(s?i.href===s.attrs.href?JSON.stringify(i.content[i.content.length-1].styles)===JSON.stringify(a)?i.content[i.content.length-1].text+=o.textContent:i.content.push({type:"text",text:o.textContent,styles:a}):(r.push(i),i={type:"link",href:s.attrs.href,content:[{type:"text",text:o.textContent,styles:a}]}):(r.push(i),i={type:"text",text:o.textContent,styles:a})):s?i={type:"link",href:s.attrs.href,content:[{type:"text",text:o.textContent,styles:a}]}:i={type:"text",text:o.textContent,styles:a}}),i&&r.push(i),r}function P9(e,t,n){if(e.type.name==="text"||e.type.name==="link")throw new Error("unexpected");const r={},i=t[e.type.name];for(const[a,s]of Object.entries(e.attrs)){if(!i)throw Error("ic node is of an unrecognized type: "+e.type.name);const l=i.propSchema;a in l&&(r[a]=s)}let o;return i.content==="styled"?o=LD(e,t,n):o=void 0,{type:e.type.name,props:r,content:o}}function ni(e,t,n=D9(t),r=R9(t),i=ox(t),o=I9(t)){var a;if(!e.type.isInGroup("bnBlock"))throw Error("Node should be a bnBlock, but is instead: "+e.type.name);const s=o?.get(e);if(s)return s;const l=M9(e,0);let c=l.bnBlock.node.attrs.id;c===null&&(c=BT.options.generateID());const u=n[l.blockNoteType];if(!u)throw Error("Block is of an unrecognized type: "+l.blockNoteType);const d={};for(const[w,T]of Object.entries({...e.attrs,...l.isBlockContainer?l.blockContent.node.attrs:{}})){const k=u.propSchema;w in k&&!(k[w].default===void 0&&T===void 0)&&(d[w]=T)}const p=n[l.blockNoteType],m=[];(a=l.childContainer)==null||a.node.forEach(w=>{m.push(ni(w,t,n,r,i,o))});let v;if(p.content==="inline"){if(!l.isBlockContainer)throw new Error("impossible");v=LD(l.blockContent.node,r,i)}else if(p.content==="table"){if(!l.isBlockContainer)throw new Error("impossible");v=Nle(l.blockContent.node,r,i)}else if(p.content==="none")v=void 0;else throw new Rd(p.content);const x={id:c,type:p.type,props:d,content:v,children:m};return o?.set(e,x),x}function dPe(e,t=ho(e),n=D9(t),r=R9(t),i=ox(t),o=I9(t)){const a=[];return e.firstChild&&e.firstChild.descendants(s=>(a.push(ni(s,t,n,r,i,o)),!1)),a}function fPe(e,t,n=D9(t),r=R9(t),i=ox(t),o=I9(t)){function a(s,l,c){if(s.type.name!=="blockGroup")throw new Error("unexpected");const u=[];let d,p;return s.forEach((m,v,x)=>{if(m.type.name!=="blockContainer")throw new Error("unexpected");if(m.childCount===0)return;if(m.childCount===0||m.childCount>2)throw new Error("unexpected, blockContainer.childCount: "+m.childCount);const w=x===0,T=x===s.childCount-1;if(m.firstChild.type.name==="blockGroup"){if(!w)throw new Error("unexpected");const O=a(m.firstChild,Math.max(0,l-1),T?Math.max(0,c-1):0);d=O.blockCutAtStart,T&&(p=O.blockCutAtEnd),u.push(...O.blocks);return}const k=ni(m,t,n,r,i,o),N=m.childCount>1?m.child(1):void 0;let I=[];if(N){const O=a(N,0,T?Math.max(0,c-1):0);I=O.blocks,T&&(p=O.blockCutAtEnd)}T&&!N&&c>1&&(p=k.id),w&&l>1&&(d=k.id),u.push({...k,children:I})}),{blocks:u,blockCutAtStart:d,blockCutAtEnd:p}}if(e.content.childCount===0)return{blocks:[],blockCutAtStart:void 0,blockCutAtEnd:void 0};if(e.content.childCount!==1)throw new Error("slice must be a single block, did you forget includeParents=true?");return a(e.content.firstChild,Math.max(e.openStart-1,0),Math.max(e.openEnd-1,0))}function Em(e){const{height:t,width:n}=L9(e),r=new Array(t).fill(!1).map(()=>new Array(n).fill(null)),i=(o,a)=>{for(let s=o;s<t;s++)for(let l=a;l<n;l++)if(!r[s][l])return{row:s,col:l};throw new Error("Unable to create occupancy grid for table, no more available cells")};for(let o=0;o<e.content.rows.length;o++)for(let a=0;a<e.content.rows[o].cells.length;a++){const s=dm(e.content.rows[o].cells[a]),l=dC(s),c=U0(s),{row:u,col:d}=i(o,a);for(let p=u;p<u+l;p++)for(let m=d;m<d+c;m++){if(r[p][m])throw new Error(`Unable to create occupancy grid for table, cell at ${p},${m} is already occupied`);r[p][m]={row:o,col:a,rowspan:l,colspan:c,cell:s}}}return r}function fC(e){const t=new Set;return e.map(n=>({cells:n.map(r=>t.has(r.row+":"+r.col)?!1:(t.add(r.row+":"+r.col),r.cell)).filter(r=>r!==!1)}))}function z0(e,t,n=Em(t)){for(let r=0;r<n.length;r++)for(let i=0;i<n[r].length;i++){const o=n[r][i];if(o.row===e.row&&o.col===e.col)return{row:r,col:i,cell:o.cell}}throw new Error(`Unable to resolve relative table cell indices for table, cell at ${e.row},${e.col} is not occupied`)}function L9(e){const t=e.content.rows.length;let n=0;return e.content.rows.forEach(r=>{let i=0;r.cells.forEach(o=>{i+=U0(o)}),n=Math.max(n,i)}),{height:t,width:n}}function Ole(e,t,n=Em(t)){var r;const i=(r=n[e.row])==null?void 0:r[e.col];if(i)return{row:i.row,col:i.col,cell:i.cell}}function gB(e,t){var n;const r=Em(e);if(t<0||t>=r.length)return[];let i=0;for(let a=0;a<t;a++){const s=(n=r[i])==null?void 0:n[0];if(!s)return[];i+=s.rowspan}const o=new Array(r[0].length).fill(!1).map((a,s)=>Ole({row:i,col:s},e,r)).filter(a=>a!==void 0);return o.filter((a,s)=>o.findIndex(l=>l.row===a.row&&l.col===a.col)===s)}function yB(e,t){var n;const r=Em(e);if(t<0||t>=r[0].length)return[];let i=0;for(let a=0;a<t;a++){const s=(n=r[0])==null?void 0:n[i];if(!s)return[];i+=s.colspan}const o=new Array(r.length).fill(!1).map((a,s)=>Ole({row:s,col:i},e,r)).filter(a=>a!==void 0);return o.filter((a,s)=>o.findIndex(l=>l.row===a.row&&l.col===a.col)===s)}function hPe(e,t,n,r=Em(e)){const{col:i}=z0({row:0,col:t},e,r),{col:o}=z0({row:0,col:n},e,r);return r.forEach(a=>{const[s]=a.splice(i,1);a.splice(o,0,s)}),fC(r)}function pPe(e,t,n,r=Em(e)){const{row:i}=z0({row:t,col:0},e,r),{row:o}=z0({row:n,col:0},e,r),[a]=r.splice(i,1);return r.splice(o,0,a),fC(r)}function bB(e){return e?uC(e)?bB(e.content):typeof e=="string"?e.length===0:Array.isArray(e)?e.every(t=>typeof t=="string"?t.length===0:F0(t)?t.text.length===0:_le(t)?typeof t.content=="string"?t.content.length===0:t.content.every(n=>n.text.length===0):!1):!1:!0}function mPe(e,t,n=Em(e)){if(t==="columns"){let o=0;for(let a=n[0].length-1;a>=0&&n.every(s=>bB(s[a].cell)&&s[a].colspan===1);a--)o++;for(let a=n.length-1;a>=0;a--){const s=Math.max(n[a].length-o,1);n[a]=n[a].slice(0,s)}return fC(n)}let r=0;for(let o=n.length-1;o>=0&&n[o].every(a=>bB(a.cell)&&a.rowspan===1);o--)r++;const i=Math.min(r,n.length-1);return n.splice(n.length-i,i),fC(n)}function gPe(e,t,n,r=Em(e)){const{width:i,height:o}=L9(e);if(t==="columns")r.forEach((a,s)=>{if(n>=0)for(let l=0;l<n;l++)a.push({row:s,col:Math.max(...a.map(c=>c.col))+1,rowspan:1,colspan:1,cell:dm("")});else a.splice(i+n,-1*n)});else if(n>0)for(let a=0;a<n;a++){const s=new Array(i).fill(null).map((l,c)=>({row:o+a,col:c,rowspan:1,colspan:1,cell:dm("")}));r.push(s)}else n<0&&r.splice(o+n,-1*n);return fC(r)}function Mle(e,t,n){const r=gB(e,n);if(!r.some(a=>dC(a.cell)>1))return!0;let i=n,o=n;return r.forEach(a=>{const s=dC(a.cell);i=Math.max(i,a.row+s-1),o=Math.min(o,a.row)}),t<n?n===i:n===o}function Dle(e,t,n){const r=yB(e,n);if(!r.some(a=>U0(a.cell)>1))return!0;let i=n,o=n;return r.forEach(a=>{const s=U0(a.cell);i=Math.max(i,a.col+s-1),o=Math.min(o,a.col)}),t<n?n===i:n===o}function yPe(e,t,n){const r=z0(e,n),i=z0(t,n);return r.col===i.col}function Zq(e,t,n,r){const i=[];for(const[o,a]of Object.entries(e.styles||{})){const s=n[o];if(!s)throw new Error(`style ${o} not found in styleSchema`);if(s.propSchema==="boolean")a&&i.push(t.mark(o));else if(s.propSchema==="string")a&&i.push(t.mark(o,{stringValue:a}));else throw new Rd(s.propSchema)}return!r||!t.nodes[r].spec.code?e.text.split(/(\n)/g).filter(o=>o.length>0).map(o=>o===`
`?t.nodes.hardBreak.createChecked():t.text(o,i)):e.text.length>0?[t.text(e.text,i)]:[]}function bPe(e,t,n){const r=t.marks.link.create({href:e.href});return vB(e.content,t,n).map(i=>{if(i.type.name==="text")return i.mark([...i.marks,r]);if(i.type.name==="hardBreak")return i;throw new Error("unexpected node type")})}function vB(e,t,n,r){const i=[];if(typeof e=="string")return i.push(...Zq({text:e,styles:{}},t,n,r)),i;for(const o of e)i.push(...Zq(o,t,n,r));return i}function vu(e,t,n,r=ox(t)){const i=[];for(const o of e)typeof o=="string"?i.push(...vB(o,t,r,n)):_le(o)?i.push(...bPe(o,t,r)):F0(o)?i.push(...vB([o],t,r,n)):i.push(Rle(o,t,r));return i}function jD(e,t,n=ox(t)){const r=[],i=new Array(e.headerRows??0).fill(!0),o=new Array(e.headerCols??0).fill(!0),a=e.columnWidths??[];for(let s=0;s<e.rows.length;s++){const l=e.rows[s],c=[],u=i[s];for(let p=0;p<l.cells.length;p++){const m=l.cells[p],v=o[p],x=void 0;let w=null;const T=z0({row:s,col:p},{content:e});let k=a[T.col]?[a[T.col]]:null;if(m)if(typeof m=="string")w=t.text(m);else if(uC(m)){m.content&&(w=vu(m.content,t,"tableParagraph",n));const I=U0(m);I>1&&(k=new Array(I).fill(!1).map((O,A)=>a[T.col+A]??void 0))}else w=vu(m,t,"tableParagraph",n);const N=t.nodes[v||u?"tableHeader":"tableCell"].createChecked({...uC(m)?m.props:{},colwidth:k},t.nodes.tableParagraph.createChecked(x,w));c.push(N)}const d=t.nodes.tableRow.createChecked({},c);r.push(d)}return r}function Rle(e,t,n){let r,i=e.type;if(i===void 0&&(i="paragraph"),!t.nodes[i])throw new Error(`node type ${i} not found in schema`);if(!e.content)r=t.nodes[i].createChecked(e.props);else if(typeof e.content=="string"){const o=vu([e.content],t,i,n);r=t.nodes[i].createChecked(e.props,o)}else if(Array.isArray(e.content)){const o=vu(e.content,t,i,n);r=t.nodes[i].createChecked(e.props,o)}else if(e.content.type==="tableContent"){const o=jD(e.content,t,n);r=t.nodes[i].createChecked(e.props,o)}else throw new Rd(e.content.type);return r}function dy(e,t,n=ox(t)){let r=e.id;r===void 0&&(r=BT.options.generateID());const i=[];if(e.children)for(const o of e.children)i.push(dy(o,t,n));if(!e.type||t.nodes[e.type].isInGroup("blockContent")){const o=Rle(e,t,n),a=i.length>0?t.nodes.blockGroup.createChecked({},i):void 0;return t.nodes.blockContainer.createChecked({id:r,...e.props},a?[o,a]:o)}else{if(t.nodes[e.type].isInGroup("bnBlock"))return t.nodes[e.type].createChecked({id:r,...e.props},i);throw new Error(`block type ${e.type} doesn't match blockContent or bnBlock group`)}}var xB,wB;if(typeof WeakMap<"u"){let e=new WeakMap;xB=t=>e.get(t),wB=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;xB=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},wB=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var ti=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let o=r+1,a=i+1;for(let s=1;o<this.width&&this.map[t+s]==n;s++)o++;for(let s=1;a<this.height&&this.map[t+this.width*s]==n;s++)a++;return{left:r,top:i,right:o,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:o,bottom:a}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:a==this.height)?null:this.map[r+this.width*(n<0?o-1:a)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:o}=this.findCell(e),{left:a,right:s,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(i,l),right:Math.max(r,s),bottom:Math.max(o,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const o=r*this.width+i,a=this.map[o];n[a]||(n[a]=!0,!(i==e.left&&i&&this.map[o-1]==a||r==e.top&&r&&this.map[o-this.width]==a)&&t.push(a))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==e){let a=t+e*this.width;const s=(e+1)*this.width;for(;a<s&&this.map[a]<i;)a++;return a==s?o-1:this.map[a]}i=o}}static get(e){return xB(e)||wB(e,vPe(e))}};function vPe(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=xPe(e),n=e.childCount,r=[];let i=0,o=null;const a=[];for(let c=0,u=t*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const d=e.child(c);u++;for(let v=0;;v++){for(;i<r.length&&r[i]!=0;)i++;if(v==d.childCount)break;const x=d.child(v),{colspan:w,rowspan:T,colwidth:k}=x.attrs;for(let N=0;N<T;N++){if(N+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:T-N});break}const I=i+N*t;for(let O=0;O<w;O++){r[I+O]==0?r[I+O]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:w-O});const A=k&&k[O];if(A){const R=(I+O)%t*2,L=a[R];L==null||L!=A&&a[R+1]==1?(a[R]=A,a[R+1]=1):L==A&&a[R+1]++}}}i+=w,u+=x.nodeSize}const p=(c+1)*t;let m=0;for(;i<p;)r[i++]==0&&m++;m&&(o||(o=[])).push({type:"missing",row:c,n:m}),u++}(t===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const s=new ti(t,n,r,o);let l=!1;for(let c=0;!l&&c<a.length;c+=2)a[c]!=null&&a[c+1]<n&&(l=!0);return l&&wPe(s,a,e),s}function xPe(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let o=0;if(n)for(let a=0;a<r;a++){const s=e.child(a);for(let l=0;l<s.childCount;l++){const c=s.child(l);a+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const s=i.child(a);o+=s.attrs.colspan,s.attrs.rowspan>1&&(n=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function wPe(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const o=e.map[i];if(r[o])continue;r[o]=!0;const a=n.nodeAt(o);if(!a)throw new RangeError(`No cell with offset ${o} found`);let s=null;const l=a.attrs;for(let c=0;c<l.colspan;c++){const u=(i+c)%e.width,d=t[u*2];d!=null&&(!l.colwidth||l.colwidth[c]!=d)&&((s||(s=SPe(l)))[c]=d)}s&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}function SPe(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function ka(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var Rp=new wn("selectingCells");function ax(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function EPe(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function Bd(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function j9(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=ax(t.$head)||CPe(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function CPe(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function SB(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function TPe(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function B9(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function Ile(e,t,n){const r=e.node(-1),i=ti.get(r),o=e.start(-1),a=i.nextCell(e.pos-o,t,n);return a==null?null:e.node(0).resolve(o+a)}function V0(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function Ple(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function kPe(e,t,n){const r=ka(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var Rr=class Af extends Jt{constructor(t,n=t){const r=t.node(-1),i=ti.get(r),o=t.start(-1),a=i.rectBetween(t.pos-o,n.pos-o),s=t.node(0),l=i.cellsInRect(a).filter(u=>u!=n.pos-o);l.unshift(n.pos-o);const c=l.map(u=>{const d=r.nodeAt(u);if(!d)throw RangeError(`No cell with offset ${u} found`);const p=o+u+1;return new ese(s.resolve(p),s.resolve(p+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(SB(r)&&SB(i)&&B9(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?Af.rowSelection(r,i):o&&this.isColSelection()?Af.colSelection(r,i):new Af(r,i)}return Et.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=ti.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},a=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,d=i.left;d<i.right;d++,u++){const p=n.map[u];if(o[p])continue;o[p]=!0;const m=n.findCell(p);let v=t.nodeAt(p);if(!v)throw RangeError(`No cell with offset ${p} found`);const x=i.left-m.left,w=m.right-i.right;if(x>0||w>0){let T=v.attrs;if(x>0&&(T=V0(T,0,x)),w>0&&(T=V0(T,T.colspan-w,w)),m.left<i.left){if(v=v.type.createAndFill(T),!v)throw RangeError(`Could not create cell with attrs ${JSON.stringify(T)}`)}else v=v.type.create(T,v.content)}if(m.top<i.top||m.bottom>i.bottom){const T={...v.attrs,rowspan:Math.min(m.bottom,i.bottom)-Math.max(m.top,i.top)};m.top<i.top?v=v.type.createAndFill(T):v=v.type.create(T,v.content)}c.push(v)}a.push(t.child(l).copy(Fe.from(c)))}const s=this.isColSelection()&&this.isRowSelection()?t:a;return new at(Fe.from(s),1,1)}replace(t,n=at.empty){const r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:s,$to:l}=i[a],c=t.mapping.slice(r);t.replace(c.map(s.pos),c.map(l.pos),a?at.empty:n)}const o=Jt.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);o&&t.setSelection(o)}replaceWith(t,n){this.replace(t,new at(Fe.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=ti.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<o.length;a++)t(n.nodeAt(o[a]),i+o[a])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=ti.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(t=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))),new Af(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=ti.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,s=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,s)==n.width}eq(t){return t instanceof Af&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=ti.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(n=l.resolve(o+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(t=l.resolve(o+i.map[i.width*(a.top+1)-1]))),new Af(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Af(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new Af(t.resolve(n),t.resolve(r))}getBookmark(){return new _Pe(this.$anchorCell.pos,this.$headCell.pos)}};Rr.prototype.visible=!1;Jt.jsonID("cell",Rr);var _Pe=class Lle{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Lle(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&B9(n,r)?new Rr(n,r):Jt.near(r,1)}};function APe(e){if(!(e.selection instanceof Rr))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(ir.node(r,r+n.nodeSize,{class:"selectedCell"}))}),mn.create(e.doc,t)}function NPe({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function OPe({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&t.parentOffset===0}function MPe(e,t,n){const r=(t||e).selection,i=(t||e).doc;let o,a;if(r instanceof Rt&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")o=Rr.create(i,r.from);else if(a=="row"){const s=i.resolve(r.from+1);o=Rr.rowSelection(s,s)}else if(!n){const s=ti.get(r.node),l=r.from+1,c=l+s.map[s.width*s.height-1];o=Rr.create(i,l+1,c)}}else r instanceof Et&&NPe(r)?o=Et.create(i,r.from):r instanceof Et&&OPe(r)&&(o=Et.create(i,r.$from.start(),r.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}var DPe=new wn("fix-tables");function jle(e,t,n,r){const i=e.childCount,o=t.childCount;e:for(let a=0,s=0;a<o;a++){const l=t.child(a);for(let c=s,u=Math.min(i,a+3);c<u;c++)if(e.child(c)==l){s=c+1,n+=l.nodeSize;continue e}r(l,n),s<i&&e.child(s).sameMarkup(l)?jle(e.child(s),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function RPe(e,t){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=IPe(e,i,o,n))};return t?t.doc!=e.doc&&jle(t.doc,e.doc,0,r):e.doc.descendants(r),n}function IPe(e,t,n,r){const i=ti.get(t);if(!i.problems)return r;r||(r=e.tr);const o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=t.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let p=0;p<d.rowspan;p++)o[c.row+p]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,V0(d,d.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=t.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=t.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const u=r.mapping.map(n);r.delete(u,u+t.nodeSize)}}let a,s;for(let l=0;l<o.length;l++)o[l]&&(a==null&&(a=l),s=l);for(let l=0,c=n+1;l<i.height;l++){const u=t.child(l),d=c+u.nodeSize,p=o[l];if(p>0){let m="cell";u.firstChild&&(m=u.firstChild.type.spec.tableRole);const v=[];for(let w=0;w<p;w++){const T=ka(e.schema)[m].createAndFill();T&&v.push(T)}const x=(l==0||a==l-1)&&s==l?c+1:d-1;r.insert(r.mapping.map(x),v)}c=d}return r.setMeta(DPe,{fixTables:!0})}function $d(e){const t=e.selection,n=j9(e),r=n.node(-1),i=n.start(-1),o=ti.get(r);return{...t instanceof Rr?o.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function Ble(e,{map:t,tableStart:n,table:r},i){let o=i>0?-1:0;kPe(t,r,i+o)&&(o=i==0||i==t.width?null:0);for(let a=0;a<t.height;a++){const s=a*t.width+i;if(i>0&&i<t.width&&t.map[s-1]==t.map[s]){const l=t.map[s],c=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,Ple(c.attrs,i-t.colCount(l))),a+=c.attrs.rowspan-1}else{const l=o==null?ka(r.type.schema).cell:r.nodeAt(t.map[s+o]).type,c=t.positionAt(a,i,r);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function PPe(e,t){if(!Bd(e))return!1;if(t){const n=$d(e);t(Ble(e.tr,n,n.left))}return!0}function LPe(e,t){if(!Bd(e))return!1;if(t){const n=$d(e);t(Ble(e.tr,n,n.right))}return!0}function jPe(e,{map:t,table:n,tableStart:r},i){const o=e.mapping.maps.length;for(let a=0;a<t.height;){const s=a*t.width+i,l=t.map[s],c=n.nodeAt(l),u=c.attrs;if(i>0&&t.map[s-1]==l||i<t.width-1&&t.map[s+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(r+l),null,V0(u,i-t.colCount(l)));else{const d=e.mapping.slice(o).map(r+l);e.delete(d,d+c.nodeSize)}a+=u.rowspan}}function BPe(e,t){if(!Bd(e))return!1;if(t){const n=$d(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;jPe(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=ti.get(o)}t(r)}return!0}function $Pe(e,t,n){var r;const i=ka(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(((r=t.nodeAt(e.map[o+n*e.width]))==null?void 0:r.type)!=i)return!1;return!0}function $le(e,{map:t,tableStart:n,table:r},i){var o;let a=n;for(let c=0;c<i;c++)a+=r.child(c).nodeSize;const s=[];let l=i>0?-1:0;$Pe(t,r,i+l)&&(l=i==0||i==t.height?null:0);for(let c=0,u=t.width*i;c<t.width;c++,u++)if(i>0&&i<t.height&&t.map[u]==t.map[u-t.width]){const d=t.map[u],p=r.nodeAt(d).attrs;e.setNodeMarkup(n+d,null,{...p,rowspan:p.rowspan+1}),c+=p.colspan-1}else{const d=l==null?ka(r.type.schema).cell:(o=r.nodeAt(t.map[u+l*t.width]))==null?void 0:o.type,p=d?.createAndFill();p&&s.push(p)}return e.insert(a,ka(r.type.schema).row.create(null,s)),e}function HPe(e,t){if(!Bd(e))return!1;if(t){const n=$d(e);t($le(e.tr,n,n.top))}return!0}function FPe(e,t){if(!Bd(e))return!1;if(t){const n=$d(e);t($le(e.tr,n,n.bottom))}return!0}function UPe(e,{map:t,table:n,tableStart:r},i){let o=0;for(let c=0;c<i;c++)o+=n.child(c).nodeSize;const a=o+n.child(i).nodeSize,s=e.mapping.maps.length;e.delete(o+r,a+r);const l=new Set;for(let c=0,u=i*t.width;c<t.width;c++,u++){const d=t.map[u];if(!l.has(d)){if(l.add(d),i>0&&d==t.map[u-t.width]){const p=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(s).map(d+r),null,{...p,rowspan:p.rowspan-1}),c+=p.colspan-1}else if(i<t.height&&d==t.map[u+t.width]){const p=n.nodeAt(d),m=p.attrs,v=p.type.create({...m,rowspan:p.attrs.rowspan-1},p.content),x=t.positionAt(i+1,c,n);e.insert(e.mapping.slice(s).map(r+x),v),c+=m.colspan-1}}}}function zPe(e,t){if(!Bd(e))return!1;if(t){const n=$d(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;UPe(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=ti.get(n.table)}t(r)}return!0}function Qq(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function VPe({width:e,height:t,map:n},r){let i=r.top*e+r.left,o=i,a=(r.bottom-1)*e+r.left,s=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[o]==n[o-1]||r.right<e&&n[s]==n[s+1])return!0;o+=e,s+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[a]==n[a+e])return!0;i++,a++}return!1}function qPe(e,t){const n=e.selection;if(!(n instanceof Rr)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=$d(e),{map:i}=r;if(VPe(i,r))return!1;if(t){const o=e.tr,a={};let s=Fe.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let d=r.left;d<r.right;d++){const p=i.map[u*i.width+d],m=r.table.nodeAt(p);if(!(a[p]||!m))if(a[p]=!0,l==null)l=p,c=m;else{Qq(m)||(s=s.append(m.content));const v=o.mapping.map(p+r.tableStart);o.delete(v,v+m.nodeSize)}}if(l==null||c==null)return!0;if(o.setNodeMarkup(l+r.tableStart,null,{...Ple(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),s.size){const u=l+1+c.content.size,d=Qq(c)?l+1:u;o.replaceWith(d+r.tableStart,u+r.tableStart,s)}o.setSelection(new Rr(o.doc.resolve(l+r.tableStart))),t(o)}return!0}function WPe(e,t){const n=ka(e.schema);return YPe(({node:r})=>n[r.type.spec.tableRole])(e,t)}function YPe(e){return(t,n)=>{var r;const i=t.selection;let o,a;if(i instanceof Rr){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(o=EPe(i.$from),!o)return!1;a=(r=ax(i.$from))==null?void 0:r.pos}if(o==null||a==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let s=o.attrs;const l=[],c=s.colwidth;s.rowspan>1&&(s={...s,rowspan:1}),s.colspan>1&&(s={...s,colspan:1});const u=$d(t),d=t.tr;for(let m=0;m<u.right-u.left;m++)l.push(c?{...s,colwidth:c&&c[m]?[c[m]]:null}:s);let p;for(let m=u.top;m<u.bottom;m++){let v=u.map.positionAt(m,u.left,u.table);m==u.top&&(v+=o.nodeSize);for(let x=u.left,w=0;x<u.right;x++,w++)x==u.left&&m==u.top||d.insert(p=d.mapping.map(v+u.tableStart,1),e({node:o,row:m,col:x}).createAndFill(l[w]))}d.setNodeMarkup(a,e({node:o,row:u.top,col:u.left}),l[0]),i instanceof Rr&&d.setSelection(new Rr(d.doc.resolve(i.$anchorCell.pos),p?d.doc.resolve(p):void 0)),n(d)}return!0}}function GPe(e){return function(t,n){if(!Bd(t))return!1;if(n){const r=ka(t.schema),i=$d(t),o=t.tr,a=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),s=a.map(l=>i.table.nodeAt(l));for(let l=0;l<a.length;l++)s[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+a[l],r.cell,s[l].attrs);if(o.steps.length==0)for(let l=0;l<a.length;l++)o.setNodeMarkup(i.tableStart+a[l],r.header_cell,s[l].attrs);n(o)}return!0}}function Jq(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const o=t.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function $9(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?GPe(e):function(n,r){if(!Bd(n))return!1;if(r){const i=ka(n.schema),o=$d(n),a=n.tr,s=Jq("row",o,i),l=Jq("column",o,i),u=(e==="column"?s:e==="row"?l:!1)?1:0,d=e=="column"?{left:0,top:u,right:1,bottom:o.map.height}:e=="row"?{left:u,top:0,right:o.map.width,bottom:1}:o,p=e=="column"?l?i.cell:i.header_cell:e=="row"?s?i.cell:i.header_cell:i.cell;o.map.cellsInRect(d).forEach(m=>{const v=m+o.tableStart,x=a.doc.nodeAt(v);x&&a.setNodeMarkup(v,p,x.attrs)}),r(a)}return!0}}$9("row",{useDeprecatedLogic:!0});$9("column",{useDeprecatedLogic:!0});$9("cell",{useDeprecatedLogic:!0});function KPe(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){const o=e.node(-1).child(r),a=o.lastChild;if(a)return i-1-a.nodeSize;i-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function eW(e){return function(t,n){if(!Bd(t))return!1;const r=KPe(j9(t),e);if(r==null)return!1;if(n){const i=t.doc.resolve(r);n(t.tr.setSelection(Et.between(i,TPe(i))).scrollIntoView())}return!0}}function J_(e,t){const n=e.selection;if(!(n instanceof Rr))return!1;if(t){const r=e.tr,i=ka(e.schema).cell.createAndFill().content;n.forEachCell((o,a)=>{o.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+o.nodeSize-1),new at(i,0,0))}),r.docChanged&&t(r)}return!0}function XPe(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),o=i.type.spec.tableRole,a=i.type.schema,s=[];if(o=="row")for(let l=0;l<t.childCount;l++){let c=t.child(l).content;const u=l?0:Math.max(0,n-1),d=l<t.childCount-1?0:Math.max(0,r-1);(u||d)&&(c=EB(ka(a).row,new at(c,u,d)).content),s.push(c)}else if(o=="cell"||o=="header_cell")s.push(n||r?EB(ka(a).row,new at(t,n,r)).content:t);else return null;return ZPe(a,s)}function ZPe(e,t){const n=[];for(let i=0;i<t.length;i++){const o=t[i];for(let a=o.childCount-1;a>=0;a--){const{rowspan:s,colspan:l}=o.child(a).attrs;for(let c=i;c<i+s;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(Fe.empty),n[i]<r){const o=ka(e).cell.createAndFill(),a=[];for(let s=n[i];s<r;s++)a.push(o);t[i]=t[i].append(Fe.from(a))}return{height:t.length,width:r,rows:t}}function EB(e,t){const n=e.createAndFill();return new n9(n).replace(0,n.content.size,t).doc}function QPe({width:e,height:t,rows:n},r,i){if(e!=r){const o=[],a=[];for(let s=0;s<n.length;s++){const l=n[s],c=[];for(let u=o[s]||0,d=0;u<r;d++){let p=l.child(d%l.childCount);u+p.attrs.colspan>r&&(p=p.type.createChecked(V0(p.attrs,p.attrs.colspan,u+p.attrs.colspan-r),p.content)),c.push(p),u+=p.attrs.colspan;for(let m=1;m<p.attrs.rowspan;m++)o[s+m]=(o[s+m]||0)+p.attrs.colspan}a.push(Fe.from(c))}n=a,e=r}if(t!=i){const o=[];for(let a=0,s=0;a<i;a++,s++){const l=[],c=n[s%t];for(let u=0;u<c.childCount;u++){let d=c.child(u);a+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}o.push(Fe.from(l))}n=o,t=i}return{width:e,height:t,rows:n}}function JPe(e,t,n,r,i,o,a){const s=e.doc.type.schema,l=ka(s);let c,u;if(i>t.width)for(let d=0,p=0;d<t.height;d++){const m=n.child(d);p+=m.nodeSize;const v=[];let x;m.lastChild==null||m.lastChild.type==l.cell?x=c||(c=l.cell.createAndFill()):x=u||(u=l.header_cell.createAndFill());for(let w=t.width;w<i;w++)v.push(x);e.insert(e.mapping.slice(a).map(p-1+r),v)}if(o>t.height){const d=[];for(let v=0,x=(t.height-1)*t.width;v<Math.max(t.width,i);v++){const w=v>=t.width?!1:n.nodeAt(t.map[x+v]).type==l.header_cell;d.push(w?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const p=l.row.create(null,Fe.from(d)),m=[];for(let v=t.height;v<o;v++)m.push(p);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),m)}return!!(c||u)}function tW(e,t,n,r,i,o,a,s){if(a==0||a==t.height)return!1;let l=!1;for(let c=i;c<o;c++){const u=a*t.width+c,d=t.map[u];if(t.map[u-t.width]==d){l=!0;const p=n.nodeAt(d),{top:m,left:v}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(s).map(d+r),null,{...p.attrs,rowspan:a-m}),e.insert(e.mapping.slice(s).map(t.positionAt(a,v,n)),p.type.createAndFill({...p.attrs,rowspan:m+p.attrs.rowspan-a})),c+=p.attrs.colspan-1}}return l}function nW(e,t,n,r,i,o,a,s){if(a==0||a==t.width)return!1;let l=!1;for(let c=i;c<o;c++){const u=c*t.width+a,d=t.map[u];if(t.map[u-1]==d){l=!0;const p=n.nodeAt(d),m=t.colCount(d),v=e.mapping.slice(s).map(d+r);e.setNodeMarkup(v,null,V0(p.attrs,a-m,p.attrs.colspan-(a-m))),e.insert(v+p.nodeSize,p.type.createAndFill(V0(p.attrs,0,a-m))),c+=p.attrs.rowspan-1}}return l}function rW(e,t,n,r,i){let o=n?e.doc.nodeAt(n-1):e.doc;if(!o)throw new Error("No table found");let a=ti.get(o);const{top:s,left:l}=r,c=l+i.width,u=s+i.height,d=e.tr;let p=0;function m(){if(o=n?d.doc.nodeAt(n-1):d.doc,!o)throw new Error("No table found");a=ti.get(o),p=d.mapping.maps.length}JPe(d,a,o,n,c,u,p)&&m(),tW(d,a,o,n,l,c,s,p)&&m(),tW(d,a,o,n,l,c,u,p)&&m(),nW(d,a,o,n,s,u,l,p)&&m(),nW(d,a,o,n,s,u,c,p)&&m();for(let v=s;v<u;v++){const x=a.positionAt(v,l,o),w=a.positionAt(v,c,o);d.replace(d.mapping.slice(p).map(x+n),d.mapping.slice(p).map(w+n),new at(i.rows[v-s],0,0))}m(),d.setSelection(new Rr(d.doc.resolve(n+a.positionAt(s,l,o)),d.doc.resolve(n+a.positionAt(u-1,c-1,o)))),t(d)}var eLe=b9({ArrowLeft:eA("horiz",-1),ArrowRight:eA("horiz",1),ArrowUp:eA("vert",-1),ArrowDown:eA("vert",1),"Shift-ArrowLeft":tA("horiz",-1),"Shift-ArrowRight":tA("horiz",1),"Shift-ArrowUp":tA("vert",-1),"Shift-ArrowDown":tA("vert",1),Backspace:J_,"Mod-Backspace":J_,Delete:J_,"Mod-Delete":J_});function GA(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function eA(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof Rr)return GA(n,r,Jt.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;const a=Hle(i,e,t);if(a==null)return!1;if(e=="horiz")return GA(n,r,Jt.near(n.doc.resolve(o.head+t),t));{const s=n.doc.resolve(a),l=Ile(s,e,t);let c;return l?c=Jt.near(l,1):t<0?c=Jt.near(n.doc.resolve(s.before(-1)),-1):c=Jt.near(n.doc.resolve(s.after(-1)),1),GA(n,r,c)}}}function tA(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let a;if(o instanceof Rr)a=o;else{const l=Hle(i,e,t);if(l==null)return!1;a=new Rr(n.doc.resolve(l))}const s=Ile(a.$headCell,e,t);return s?GA(n,r,new Rr(a.$anchorCell,s)):!1}}function tLe(e,t){const n=e.state.doc,r=ax(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new Rr(r))),!0):!1}function nLe(e,t,n){if(!Bd(e.state))return!1;let r=XPe(n);const i=e.state.selection;if(i instanceof Rr){r||(r={width:1,height:1,rows:[Fe.from(EB(ka(e.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),s=ti.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=QPe(r,s.right-s.left,s.bottom-s.top),rW(e.state,e.dispatch,a,s,r),!0}else if(r){const o=j9(e.state),a=o.start(-1);return rW(e.state,e.dispatch,a,ti.get(o.node(-1)).findCell(o.pos-a),r),!0}else return!1}function rLe(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=iW(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof Rr)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=ax(e.state.selection.$anchor))!=null&&((n=uP(e,t))==null?void 0:n.pos)!=i.pos)o(i,t),t.preventDefault();else if(!r)return;function o(l,c){let u=uP(e,c);const d=Rp.getState(e.state)==null;if(!u||!B9(l,u))if(d)u=l;else return;const p=new Rr(l,u);if(d||!e.state.selection.eq(p)){const m=e.state.tr.setSelection(p);d&&m.setMeta(Rp,l.pos),e.dispatch(m)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",s),Rp.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Rp,-1))}function s(l){const c=l,u=Rp.getState(e.state);let d;if(u!=null)d=e.state.doc.resolve(u);else if(iW(e,c.target)!=r&&(d=uP(e,t),!d))return a();d&&o(d,c)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",s)}function Hle(e,t,n){if(!(e.state.selection instanceof Et))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const s=r.before(i),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?s:null}}return null}function iW(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function uP(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?ax(e.state.doc.resolve(n.pos)):null}var Fle=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),CB(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,CB(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function CB(e,t,n,r,i,o){var a;let s=0,l=!0,c=t.firstChild;const u=e.firstChild;if(u){for(let d=0,p=0;d<u.childCount;d++){const{colspan:m,colwidth:v}=u.child(d).attrs;for(let x=0;x<m;x++,p++){const w=i==p?o:v&&v[x],T=w?w+"px":"";if(s+=w||r,w||(l=!1),c)c.style.width!=T&&(c.style.width=T),c=c.nextSibling;else{const k=document.createElement("col");k.style.width=T,t.appendChild(k)}}}for(;c;){const d=c.nextSibling;(a=c.parentNode)==null||a.removeChild(c),c=d}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var El=new wn("tableColumnResizing");function iLe({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=Fle,lastColumnResizable:i=!0}={}){const o=new on({key:El,state:{init(a,s){var l,c;const u=(c=(l=o.spec)==null?void 0:l.props)==null?void 0:c.nodeViews,d=ka(s.schema).table.name;return r&&u&&(u[d]=(p,m)=>new r(p,n,m)),new oLe(-1,!1)},apply(a,s){return s.apply(a)}},props:{attributes:a=>{const s=El.getState(a);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,s)=>{aLe(a,s,e,i)},mouseleave:a=>{sLe(a)},mousedown:(a,s)=>{lLe(a,s,t,n)}},decorations:a=>{const s=El.getState(a);if(s&&s.activeHandle>-1)return hLe(a,s.activeHandle)},nodeViews:{}}});return o}var oLe=class KA{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(El);if(r&&r.setHandle!=null)return new KA(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new KA(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return SB(t.doc.resolve(i))||(i=-1),new KA(i,n.dragging)}return n}};function aLe(e,t,n,r){if(!e.editable)return;const i=El.getState(e.state);if(i&&!i.dragging){const o=uLe(t.target);let a=-1;if(o){const{left:s,right:l}=o.getBoundingClientRect();t.clientX-s<=n?a=oW(e,t,"left",n):l-t.clientX<=n&&(a=oW(e,t,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const s=e.state.doc.resolve(a),l=s.node(-1),c=ti.get(l),u=s.start(-1);if(c.colCount(s.pos-u)+s.nodeAfter.attrs.colspan-1==c.width-1)return}Ule(e,a)}}}function sLe(e){if(!e.editable)return;const t=El.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&Ule(e,-1)}function lLe(e,t,n,r){var i;if(!e.editable)return!1;const o=(i=e.dom.ownerDocument.defaultView)!=null?i:window,a=El.getState(e.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const s=e.state.doc.nodeAt(a.activeHandle),l=cLe(e,a.activeHandle,s.attrs);e.dispatch(e.state.tr.setMeta(El,{setDragging:{startX:t.clientX,startWidth:l}}));function c(d){o.removeEventListener("mouseup",c),o.removeEventListener("mousemove",u);const p=El.getState(e.state);p?.dragging&&(dLe(e,p.activeHandle,aW(p.dragging,d,n)),e.dispatch(e.state.tr.setMeta(El,{setDragging:null})))}function u(d){if(!d.which)return c(d);const p=El.getState(e.state);if(p&&p.dragging){const m=aW(p.dragging,d,n);sW(e,p.activeHandle,m,r)}}return sW(e,a.activeHandle,l,r),o.addEventListener("mouseup",c),o.addEventListener("mousemove",u),t.preventDefault(),!0}function cLe(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=e.domAtPos(t);let s=o.node.childNodes[o.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(s-=r[c],l--);return s/l}function uLe(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function oW(e,t,n,r){const i=n=="right"?-r:r,o=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!o)return-1;const{pos:a}=o,s=ax(e.state.doc.resolve(a));if(!s)return-1;if(n=="right")return s.pos;const l=ti.get(s.node(-1)),c=s.start(-1),u=l.map.indexOf(s.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function aW(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function Ule(e,t){e.dispatch(e.state.tr.setMeta(El,{setHandle:t}))}function dLe(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),o=ti.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let c=0;c<o.height;c++){const u=c*o.width+s;if(c&&o.map[u]==o.map[u-o.width])continue;const d=o.map[u],p=i.nodeAt(d).attrs,m=p.colspan==1?0:s-o.colCount(d);if(p.colwidth&&p.colwidth[m]==n)continue;const v=p.colwidth?p.colwidth.slice():fLe(p.colspan);v[m]=n,l.setNodeMarkup(a+d,null,{...p,colwidth:v})}l.docChanged&&e.dispatch(l)}function sW(e,t,n,r){const i=e.state.doc.resolve(t),o=i.node(-1),a=i.start(-1),s=ti.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let l=e.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&CB(o,l.firstChild,l,r,s,n)}function fLe(e){return Array(e).fill(0)}function hLe(e,t){var n;const r=[],i=e.doc.resolve(t),o=i.node(-1);if(!o)return mn.empty;const a=ti.get(o),s=i.start(-1),l=a.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;for(let c=0;c<a.height;c++){const u=l+c*a.width;if((l==a.width-1||a.map[u]!=a.map[u+1])&&(c==0||a.map[u]!=a.map[u-a.width])){const d=a.map[u],p=s+d+o.nodeAt(d).nodeSize-1,m=document.createElement("div");m.className="column-resize-handle",(n=El.getState(e))!=null&&n.dragging&&r.push(ir.node(s+d,s+d+o.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),r.push(ir.widget(p,m))}}return mn.create(e.doc,r)}function pLe({allowTableNodeSelection:e=!1}={}){return new on({key:Rp,state:{init(){return null},apply(t,n){const r=t.getMeta(Rp);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:o}=t.mapping.mapResult(n);return i?null:o}},props:{decorations:APe,handleDOMEvents:{mousedown:rLe},createSelectionBetween(t){return Rp.getState(t.state)!=null?t.state.selection:null},handleTripleClick:tLe,handleKeyDown:eLe,handlePaste:nLe},appendTransaction(t,n,r){return MPe(r,RPe(r,n),e)}})}var lW=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},mLe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,gLe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,yLe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,bLe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,vLe=Ll.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return lW("strong",{...Ml(this.options.HTMLAttributes,e),children:lW("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[f1({find:mLe,type:this.type}),f1({find:yLe,type:this.type})]},addPasteRules(){return[H0({find:gLe,type:this.type}),H0({find:bLe,type:this.type})]}}),xLe=vLe,wLe=/(^|[^`])`([^`]+)`(?!`)$/,SLe=/(^|[^`])`([^`]+)`(?!`)/g,ELe=Ll.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Ml(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[f1({find:wLe,type:this.type})]},addPasteRules(){return[H0({find:SLe,type:this.type})]}}),CLe=ELe,TLe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,kLe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_Le=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,ALe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,NLe=Ll.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Ml(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[f1({find:TLe,type:this.type}),f1({find:_Le,type:this.type})]},addPasteRules(){return[H0({find:kLe,type:this.type}),H0({find:ALe,type:this.type})]}}),OLe=NLe,MLe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,DLe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,RLe=Ll.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Ml(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[f1({find:MLe,type:this.type})]},addPasteRules(){return[H0({find:DLe,type:this.type})]}}),ILe=RLe,PLe=Ll.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Ml(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),LLe=PLe,jLe=class zle{constructor(t){this.cache=new Map(t)}get(t){return this.cache.get(t)}set(t,n,r){t<0||this.cache.set(t,[n,r])}replace(t,n,r,i){this.remove(t),this.set(n,r,i)}remove(t){this.cache.delete(t)}invalidate(t){const n=new zle(this.cache),r=t.mapping;return this.cache.forEach(([i,o],a)=>{if(a<0)return;const s=r.mapResult(a),l=t.doc.nodeAt(s.pos);if(s.deleted||!l?.eq(i))n.remove(a);else if(a!==s.pos){const c=o.map(u=>u.map(r,0,0)).filter(u=>u!=null);n.replace(a,s.pos,l,c)}}),n}};function BLe({parser:e,nodeTypes:t=["code_block","codeBlock"],languageExtractor:n=r=>r.attrs.language}){const r=new wn("prosemirror-highlight");return new on({key:r,state:{init(i,o){const a=new jLe,[s,l]=cW(o.doc,e,t,n,a);return{cache:a,decorations:s,promises:l}},apply:(i,o)=>{const a=o.cache.invalidate(i),s=!!i.getMeta("prosemirror-highlight-refresh");if(!i.docChanged&&!s){const u=o.decorations.map(i.mapping,i.doc),d=o.promises;return{cache:a,decorations:u,promises:d}}const[l,c]=cW(i.doc,e,t,n,a);return{cache:a,decorations:l,promises:c}}},view:i=>{const o=new Set,a=()=>{if(o.size>0)return;const l=i.state.tr.setMeta("prosemirror-highlight-refresh",!0);i.dispatch(l)},s=()=>{var l;const c=r.getState(i.state);for(const u of(l=c?.promises)!=null?l:[])o.add(u),u.then(()=>{o.delete(u),a()}).catch(()=>{o.delete(u)})};return s(),{update:()=>{s()}}},props:{decorations(i){var o;return(o=this.getState(i))==null?void 0:o.decorations}}})}function cW(e,t,n,r,i){const o=[],a=[];return e.descendants((s,l)=>{if(!s.type.isTextblock)return!0;if(n.includes(s.type.name)){const c=r(s),u=i.get(l);if(u){const[d,p]=u;o.push(...p)}else{const d=t({content:s.textContent,language:c||void 0,pos:l,size:s.nodeSize});d&&Array.isArray(d)?(i.set(l,s,d),o.push(...d)):d instanceof Promise&&(i.remove(l),a.push(d))}}return!1}),[mn.create(e,o),a]}function $Le(e,t){return function({content:r,language:i,pos:o,size:a}){var s;const l=[],{tokens:c,fg:u,bg:d,rootStyle:p}=e.codeToTokens(r,{lang:i,theme:e.getLoadedThemes()[0]}),m=p||(u&&d?`--prosemirror-highlight:${u};--prosemirror-highlight-bg:${d}`:"");if(m){const x=ir.node(o,o+a,{style:m});l.push(x)}let v=o+1;for(const x of c){for(const w of x){const T=v+w.content.length,k=ir.inline(v,T,{style:HLe((s=w.htmlStyle)!=null?s:`color: ${w.color}`),class:"shiki"});l.push(k),v=T}v+=1}return l}}function HLe(e){return typeof e=="string"?e:Object.entries(e).map(([t,n])=>`${t}:${n}`).join(";")}var FLe=Object.defineProperty,ULe=(e,t,n)=>t in e?FLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ms=(e,t,n)=>ULe(e,typeof t!="symbol"?t+"":t,n);const zLe=()=>typeof navigator<"u"&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function gl(e,t="Ctrl"){return zLe()?e.replace("Mod",""):e.replace("Mod",t)}function bi(...e){return[...new Set(e.filter(t=>t).join(" ").split(" "))].join(" ")}function VLe(e,t,n,r){const i=document.createElement("div");i.className=bi("bn-block-content",n.class),i.setAttribute("data-content-type",e);for(const[a,s]of Object.entries(n))a!=="class"&&i.setAttribute(a,s);const o=document.createElement(t);o.className=bi("bn-inline-content",r.class);for(const[a,s]of Object.entries(r))a!=="class"&&o.setAttribute(a,s);return i.appendChild(o),{dom:i,contentDOM:o}}const uW=(e,t)=>{let n=dy(e,t.pmSchema);n.type.name==="blockContainer"&&(n=n.firstChild);const r=t.pmSchema.nodes[n.type.name].spec.toDOM;if(r===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const i=r(n);if(typeof i!="object"||!("dom"in i))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return i};function qLe(e,t="<br>"){const n=e.querySelectorAll("p");if(n.length>1){const r=n[0];for(let i=1;i<n.length;i++){const o=n[i];r.innerHTML+=t+o.innerHTML,o.remove()}}}function jN(e){return"data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function dW(e){const t=e.split("/");return!t.length||t[t.length-1]===""?e:t[t.length-1]}function WLe(e){var t;const n=["mp4","webm","ogg","mov","mkv","flv","avi","wmv","m4v"];try{const r=((t=new URL(e).pathname.split(".").pop())==null?void 0:t.toLowerCase())||"";return n.includes(r)}catch{return!1}}function YLe(e){const t={};return Object.entries(e).forEach(([n,r])=>{t[n]={default:r.default,keepOnSplit:!0,parseHTML:i=>{const o=i.getAttribute(jN(n));if(o===null)return null;if(r.default===void 0&&r.type==="boolean"||r.default!==void 0&&typeof r.default=="boolean")return o==="true"?!0:o==="false"?!1:null;if(r.default===void 0&&r.type==="number"||r.default!==void 0&&typeof r.default=="number"){const a=parseFloat(o);return!Number.isNaN(a)&&Number.isFinite(a)?a:null}return o},renderHTML:i=>i[n]!==r.default?{[jN(n)]:i[n]}:{}}}),t}function Vle(e,t,n,r){const i=e();if(i===void 0)throw new Error("Cannot find node position");const o=n.state.doc.resolve(i).node().attrs.id;if(!o)throw new Error("Block doesn't have id");const a=t.getBlock(o);if(a.type!==r)throw new Error("Block type does not match");return a}function TB(e,t,n,r,i=!1,o){const a=document.createElement("div");if(o!==void 0)for(const[s,l]of Object.entries(o))s!=="class"&&a.setAttribute(s,l);a.className=bi("bn-block-content",o?.class||""),a.setAttribute("data-content-type",t);for(const[s,l]of Object.entries(n)){const c=r[s].default;l!==c&&a.setAttribute(jN(s),l)}return i&&a.setAttribute("data-file-block",""),a.appendChild(e.dom),e.contentDOM&&(e.contentDOM.className=bi("bn-inline-content",e.contentDOM.className)),{...e,dom:a}}function H9(e,t,n){return{config:{type:e.type,content:e.content,propSchema:t},implementation:{node:e.node,render:uW,toExternalHTML:uW},extensions:n}}function GLe(e,t){e.stopEvent=n=>(n.type==="mousedown"&&setTimeout(()=>{t.view.dom.blur()},10),!0)}function KLe(e,t){const n=[{tag:"[data-content-type="+e.type+"]",contentElement:".bn-inline-content"}];return t.parse&&n.push({tag:"*",getAttrs(r){var i;if(typeof r=="string")return!1;const o=(i=t.parse)==null?void 0:i.call(t,r);return o===void 0?!1:o},getContent:e.content==="inline"||e.content==="none"?(r,i)=>{var o;if(t.parseContent)return t.parseContent({el:r,schema:i});if(e.content==="inline"){const a=r.cloneNode(!0);return qLe(a,(o=t.meta)!=null&&o.code?`
`:"<br>"),pu.fromSchema(i).parse(a,{topNode:i.nodes.paragraph.create()}).content}return Fe.empty}:void 0}),n}function XLe(e,t,n,r){var i,o,a,s;const l=t.node||zs.create({name:e.type,content:e.content==="inline"?"inline*":e.content==="none"?"":e.content,group:"blockContent",selectable:((i=t.meta)==null?void 0:i.selectable)??!0,isolating:((o=t.meta)==null?void 0:o.isolating)??!0,code:((a=t.meta)==null?void 0:a.code)??!1,defining:((s=t.meta)==null?void 0:s.defining)??!0,priority:r,addAttributes(){return YLe(e.propSchema)},parseHTML(){return KLe(e,t)},renderHTML({HTMLAttributes:c}){var u;const d=document.createElement("div");return TB({dom:d,contentDOM:e.content==="inline"?d:void 0},e.type,{},e.propSchema,((u=t.meta)==null?void 0:u.fileBlockAccept)!==void 0,c)},addNodeView(){return c=>{var u,d;const p=this.options.editor,m=Vle(c.getPos,p,this.editor,e.type),v=((u=this.options.domAttributes)==null?void 0:u.blockContent)||{},x=t.render.call({blockContentDOMAttributes:v,props:c,renderType:"nodeView"},m,p);return((d=t.meta)==null?void 0:d.selectable)===!1&&GLe(x,this.editor),x}}});if(l.name!==e.type)throw new Error("Node name does not match block type. This is a bug in BlockNote.");return{config:e,implementation:{...t,node:l,render(c,u){var d;const p=((d=l.options.domAttributes)==null?void 0:d.blockContent)||{};return t.render.call({blockContentDOMAttributes:p,props:void 0,renderType:"dom"},c,u)},toExternalHTML:(c,u)=>{var d,p;const m=((d=l.options.domAttributes)==null?void 0:d.blockContent)||{};return((p=t.toExternalHTML)==null?void 0:p.call({blockContentDOMAttributes:m},c,u))??t.render.call({blockContentDOMAttributes:m,renderType:"dom",props:void 0},c,u)}},extensions:n}}function jl(e,t,n){return(r={})=>{const i=typeof e=="function"?e(r):e,o=typeof t=="function"?t(r):t,a=n?typeof n=="function"?n(r):n:void 0;return{config:i,implementation:{...o,toExternalHTML(s,l){var c,u;const d=(c=o.toExternalHTML)==null?void 0:c.call({blockContentDOMAttributes:this.blockContentDOMAttributes},s,l);if(d!==void 0)return TB(d,s.type,s.props,i.propSchema,((u=o.meta)==null?void 0:u.fileBlockAccept)!==void 0)},render(s,l){var c;const u=o.render.call({blockContentDOMAttributes:this.blockContentDOMAttributes,renderType:this.renderType,props:this.props},s,l);return TB(u,s.type,s.props,i.propSchema,((c=o.meta)==null?void 0:c.fileBlockAccept)!==void 0,this.blockContentDOMAttributes)}},extensions:a}}}function qle(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,n.config]))}function ZLe(e){return e==="boolean"?{}:{stringValue:{default:void 0,keepOnSplit:!0,parseHTML:t=>t.getAttribute("data-value"),renderHTML:t=>t.stringValue!==void 0?{"data-value":t.stringValue}:{}}}}function nA(e,t,n,r){return e.dom.setAttribute("data-style-type",t),r==="string"&&e.dom.setAttribute("data-value",n),e.contentDOM&&e.contentDOM.setAttribute("data-editable",""),e}function Wle(e,t){return{config:e,implementation:t}}function MS(e,t){return Wle({type:e.name,propSchema:t},{mark:e,render(n,r){const i=r.pmSchema.marks[e.name].spec.toDOM;if(i===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const o=r.pmSchema.mark(e.name,{stringValue:n}),a=Ol.renderSpec(document,i(o,!0));if(typeof a!="object"||!("dom"in a))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap mark's `renderHTML` function does not return an object with the `dom` property.");return a},toExternalHTML(n,r){const i=r.pmSchema.marks[e.name].spec.toDOM;if(i===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const o=r.pmSchema.mark(e.name,{stringValue:n}),a=Ol.renderSpec(document,i(o,!0));if(typeof a!="object"||!("dom"in a))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap mark's `renderHTML` function does not return an object with the `dom` property.");return a}})}function Yle(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,n.config]))}function QLe(e,t){const n=[{tag:`[data-style-type="${e.type}"]`,contentElement:r=>{const i=r;return i.matches("[data-editable]")?i:i.querySelector("[data-editable]")||i}}];return t&&n.push({tag:"*",consuming:!1,getAttrs(r){if(typeof r=="string")return!1;const i=t?.(r);return i===void 0?!1:{stringValue:i}}}),n}function Gle(e,t){const n=Ll.create({name:e.type,addAttributes(){return ZLe(e.propSchema)},parseHTML(){return QLe(e,t.parse)},renderHTML({mark:r}){const i=(t.toExternalHTML||t.render)(r.attrs.stringValue);return nA(i,e.type,r.attrs.stringValue,e.propSchema)},addMarkView(){return({mark:r})=>{const i=t.render(r.attrs.stringValue);return nA(i,e.type,r.attrs.stringValue,e.propSchema)}}});return Wle(e,{...t,mark:n,render:r=>{const i=t.render(r);return nA(i,e.type,r,e.propSchema)},toExternalHTML:r=>{const i=(t.toExternalHTML||t.render)(r);return nA(i,e.type,r,e.propSchema)}})}function JLe(e){const t=t4e(e);let{roots:n,nonRoots:r}=fW(t);const i=[];for(;n.size;){i.push(n);const o=new Set;for(const a of n){const s=e.get(a);if(s)for(const l of s){const c=t.get(l);if(c===void 0)continue;const u=c-1;t.set(l,u),u===0&&o.add(l)}}n=o}if(r=fW(t).nonRoots,r.size)throw new Error(`Cycle(s) detected; toposort only works on acyclic graphs. Cyclic nodes: ${Array.from(r).join(", ")}`);return i}function e4e(e){const t=n4e(e);return JLe(t)}function t4e(e){const t=new Map;for(const[n,r]of e.entries()){t.has(n)||t.set(n,0);for(const i of r){const o=t.get(i)??0;t.set(i,o+1)}}return t}function fW(e){const t=new Set,n=new Set;for(const[r,i]of e.entries())i===0?t.add(r):n.add(r);return{roots:t,nonRoots:n}}function n4e(e){const t=new Map;for(const[n,r]of e.entries()){t.has(n)||t.set(n,new Set);for(const i of r)t.has(i)||t.set(i,new Set),t.get(i).add(n)}return t}function r4e(){return new Map}function hW(e){return e&&Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0))}let i4e=class{constructor(t){Ms(this,"BlockNoteEditor","only for types"),Ms(this,"Block","only for types"),Ms(this,"PartialBlock","only for types"),Ms(this,"inlineContentSpecs"),Ms(this,"styleSpecs"),Ms(this,"blockSpecs"),Ms(this,"blockSchema"),Ms(this,"inlineContentSchema"),Ms(this,"styleSchema"),this.opts=t;const{blockSpecs:n,inlineContentSpecs:r,styleSpecs:i,blockSchema:o,inlineContentSchema:a,styleSchema:s}=this.init();this.blockSpecs=n,this.styleSpecs=i,this.styleSchema=s,this.inlineContentSpecs=r,this.blockSchema=o,this.inlineContentSchema=a}init(){var t;const n=r4e(),r=new Set;n.set("default",r);for(const[u,d]of Object.entries({...this.opts.blockSpecs,...this.opts.inlineContentSpecs,...this.opts.styleSpecs}))(t=d.implementation)!=null&&t.runsBefore?n.set(u,new Set(d.implementation.runsBefore)):r.add(u);const i=e4e(n),o=i.findIndex(u=>u.has("default")),a=u=>91+(i.findIndex(d=>d.has(u))+o)*10,s=Object.fromEntries(Object.entries(this.opts.blockSpecs).map(([u,d])=>[u,XLe(d.config,d.implementation,d.extensions,a(u))])),l=Object.fromEntries(Object.entries(this.opts.inlineContentSpecs).map(([u,d])=>{var p;return typeof d.config!="object"?[u,d]:[u,{...d,implementation:{...d.implementation,node:(p=d.implementation)==null?void 0:p.node.extend({priority:a(u)})}}]})),c=Object.fromEntries(Object.entries(this.opts.styleSpecs).map(([u,d])=>{var p;return[u,{...d,implementation:{...d.implementation,mark:(p=d.implementation)==null?void 0:p.mark.extend({priority:a(u)})}}]}));return{blockSpecs:s,blockSchema:Object.fromEntries(Object.entries(s).map(([u,d])=>[u,d.config])),inlineContentSpecs:hW(l),styleSpecs:hW(c),inlineContentSchema:qle(l),styleSchema:Yle(c)}}extend(t){Object.assign(this.opts.blockSpecs,t.blockSpecs),Object.assign(this.opts.inlineContentSpecs,t.inlineContentSpecs),Object.assign(this.opts.styleSpecs,t.styleSpecs);const{blockSpecs:n,inlineContentSpecs:r,styleSpecs:i,blockSchema:o,inlineContentSchema:a,styleSchema:s}=this.init();return this.blockSpecs=n,this.styleSpecs=i,this.styleSchema=s,this.inlineContentSpecs=r,this.blockSchema=o,this.inlineContentSchema=a,this}};function ls(e,t){let n,r;if(t.firstChild.descendants((i,o)=>n?!1:!F9(i)||i.attrs.id!==e?!0:(n=i,r=o+1,!1)),!(n===void 0||r===void 0))return{node:n,posBeforeNode:r}}function F9(e){return e.type.isInGroup("bnBlock")}const o4e=(e,t)=>({tr:n,dispatch:r})=>(r&&BD(n,e,t),!0);function BD(e,t,n,r,i){const o=PD(e.doc.resolve(t));let a=null;o.blockNoteType==="table"&&(a=l4e(e));const s=ho(e),l=s.nodes[o.blockNoteType],c=s.nodes[n.type||o.blockNoteType],u=c.isInGroup("bnBlock")?c:s.nodes.blockContainer;if(o.isBlockContainer&&c.isInGroup("blockContent"))pW(n,e,o),a4e(n,e,l,c,o);else if(!o.isBlockContainer&&c.isInGroup("bnBlock"))pW(n,e,o);else{const d=ni(o.bnBlock.node,s);e.replaceWith(o.bnBlock.beforePos,o.bnBlock.afterPos,dy({children:d.children,...n},s));return}e.setNodeMarkup(o.bnBlock.beforePos,u,{...o.bnBlock.node.attrs,...n.props}),a&&c4e(e,o,a)}function a4e(e,t,n,r,i,o,a){const s=ho(t);let l="keep";if(e.content)if(typeof e.content=="string")l=vu([e.content],s,r.name);else if(Array.isArray(e.content))l=vu(e.content,s,r.name);else if(e.content.type==="tableContent")l=jD(e.content,s);else throw new Rd(e.content.type);else n.spec.content===""||r.spec.content!==n.spec.content&&(l=[]);l==="keep"?t.setNodeMarkup(i.blockContent.beforePos,r,{...i.blockContent.node.attrs,...e.props}):t.replaceWith(i.blockContent.beforePos,i.blockContent.afterPos,r.createChecked({...i.blockContent.node.attrs,...e.props},l))}function pW(e,t,n){const r=ho(t);if(e.children!==void 0&&e.children.length>0){const i=e.children.map(o=>dy(o,r));if(n.childContainer)t.step(new ao(n.childContainer.beforePos+1,n.childContainer.afterPos-1,new at(Fe.from(i),0,0)));else{if(!n.isBlockContainer)throw new Error("impossible");t.insert(n.blockContent.afterPos,r.nodes.blockGroup.createChecked({},i))}}}function s4e(e,t,n,r,i){const o=typeof t=="string"?t:t.id,a=ls(o,e.doc);if(!a)throw new Error(`Block with ID ${o} not found`);BD(e,a.posBeforeNode,n);const s=e.doc.resolve(a.posBeforeNode+1).node(),l=ho(e);return ni(s,l)}function l4e(e){const t="selection"in e?e.selection:null;if(!(t instanceof Et))return null;const n=e.doc.resolve(t.head);let r=-1,i=-1;for(let x=n.depth;x>=0;x--){const w=n.node(x).type.name;if(r<0&&(w==="tableCell"||w==="tableHeader")&&(r=x),w==="table"){i=x;break}}if(r<0||i<0)return null;const o=n.before(r),a=n.before(i),s=e.doc.nodeAt(a);if(!s||s.type.name!=="table")return null;const l=ti.get(s),c=o-(a+1),u=l.map.indexOf(c);if(u<0)return null;const d=Math.floor(u/l.width),p=u%l.width,m=o+1+1,v=Math.max(0,t.head-m);return{row:d,col:p,offset:v}}function c4e(e,t,n){var r;if(t.blockNoteType!=="table")return!1;let i=-1;if(t.isBlockContainer)i=e.mapping.map(t.blockContent.beforePos);else{const w=e.mapping.map(t.bnBlock.beforePos),T=w+(((r=e.doc.nodeAt(w))==null?void 0:r.nodeSize)||0);e.doc.nodesBetween(w,T,(k,N)=>k.type.name==="table"?(i=N,!1):!0)}const o=i>=0?e.doc.nodeAt(i):null;if(!o||o.type.name!=="table")return!1;const a=ti.get(o),s=Math.max(0,Math.min(n.row,a.height-1)),l=Math.max(0,Math.min(n.col,a.width-1)),c=s*a.width+l,u=a.map[c];if(u==null)return!1;const d=i+1+u+1,p=e.doc.nodeAt(d),m=d+1,v=p?p.content.size:0,x=m+Math.max(0,Math.min(n.offset,v));return"selection"in e&&e.setSelection(Et.create(e.doc,x)),!0}const zp={gray:{text:"#9b9a97",background:"#ebeced"},brown:{text:"#64473a",background:"#e9e5e3"},red:{text:"#e03e3e",background:"#fbe4e4"},orange:{text:"#d9730d",background:"#f6e9d9"},yellow:{text:"#dfab01",background:"#fbf3db"},green:{text:"#4d6461",background:"#ddedea"},blue:{text:"#0b6e99",background:"#ddebf1"},purple:{text:"#6940a5",background:"#eae4f2"},pink:{text:"#ad1a72",background:"#f4dfeb"}},cr={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},Fs=e=>{const t={};return e.hasAttribute("data-background-color")?t.backgroundColor=e.getAttribute("data-background-color"):e.style.backgroundColor&&(t.backgroundColor=e.style.backgroundColor),e.hasAttribute("data-text-color")?t.textColor=e.getAttribute("data-text-color"):e.style.color&&(t.textColor=e.style.color),t.textAlignment=cr.textAlignment.values.includes(e.style.textAlign)?e.style.textAlign:void 0,t},fy=(e,t)=>{e.backgroundColor&&e.backgroundColor!==cr.backgroundColor.default&&(t.style.backgroundColor=e.backgroundColor in zp?zp[e.backgroundColor].background:e.backgroundColor),e.textColor&&e.textColor!==cr.textColor.default&&(t.style.color=e.textColor in zp?zp[e.textColor].text:e.textColor),e.textAlignment&&e.textAlignment!==cr.textAlignment.default&&(t.style.textAlign=e.textAlignment)},u4e=(e="backgroundColor")=>({default:cr.backgroundColor.default,parseHTML:t=>t.hasAttribute("data-background-color")?t.getAttribute("data-background-color"):t.style.backgroundColor?t.style.backgroundColor:cr.backgroundColor.default,renderHTML:t=>t[e]===cr.backgroundColor.default?{}:{"data-background-color":t[e]}}),d4e=(e="textColor")=>({default:cr.textColor.default,parseHTML:t=>t.hasAttribute("data-text-color")?t.getAttribute("data-text-color"):t.style.color?t.style.color:cr.textColor.default,renderHTML:t=>t[e]===cr.textColor.default?{}:{"data-text-color":t[e]}}),$D=(e,t)=>{const n=e.querySelector(t);if(!n)return;const r=e.querySelector("figcaption"),i=r?.textContent??void 0;return{targetElement:n,caption:i}},f4e=(e,t,n)=>{const r=document.createElement("div");r.className="bn-add-file-button";const i=document.createElement("div");i.className="bn-add-file-button-icon",n?i.appendChild(n):i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',r.appendChild(i);const o=document.createElement("p");o.className="bn-add-file-button-text",o.innerHTML=e.type in t.dictionary.file_blocks.add_button_text?t.dictionary.file_blocks.add_button_text[e.type]:t.dictionary.file_blocks.add_button_text.file,r.appendChild(o);const a=l=>{l.preventDefault()},s=()=>{t.transact(l=>l.setMeta(t.filePanel.plugins[0],{block:e}))};return r.addEventListener("mousedown",a,!0),r.addEventListener("click",s,!0),{dom:r,destroy:()=>{r.removeEventListener("mousedown",a,!0),r.removeEventListener("click",s,!0)}}},h4e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',p4e=e=>{const t=document.createElement("div");t.className="bn-file-name-with-icon";const n=document.createElement("div");n.className="bn-file-icon",n.innerHTML=h4e,t.appendChild(n);const r=document.createElement("p");return r.className="bn-file-name",r.textContent=e.props.name,t.appendChild(r),{dom:t}},U9=(e,t,n,r)=>{const i=document.createElement("div");if(i.className="bn-file-block-content-wrapper",e.props.url===""){const a=f4e(e,t,r);i.appendChild(a.dom);const s=t.onUploadStart(l=>{if(l===e.id){i.removeChild(a.dom);const c=document.createElement("div");c.className="bn-file-loading-preview",c.textContent="Loading...",i.appendChild(c)}});return{dom:i,destroy:()=>{s(),a.destroy()}}}const o={dom:i};if(e.props.showPreview===!1||!n){const a=p4e(e);i.appendChild(a.dom),o.destroy=()=>{var s;(s=a.destroy)==null||s.call(a)}}else i.appendChild(n.dom);if(e.props.caption){const a=document.createElement("p");a.className="bn-file-caption",a.textContent=e.props.caption,i.appendChild(a)}return o},z9=(e,t)=>{const n=document.createElement("figure"),r=document.createElement("figcaption");return r.textContent=t,n.appendChild(e),n.appendChild(r),{dom:n}},HD=(e,t)=>{const n=document.createElement("div"),r=document.createElement("p");return r.textContent=t,n.appendChild(e),n.appendChild(r),{dom:n}},mW=e=>({url:e.src||void 0}),m4e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"></path></svg>',g4e=e=>({type:"audio",propSchema:{backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0}},content:"none"}),y4e=(e={})=>t=>{if(t.tagName==="AUDIO"){if(t.closest("figure"))return;const{backgroundColor:n}=Fs(t);return{...mW(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=$D(t,"audio");if(!n)return;const{targetElement:r,caption:i}=n,{backgroundColor:o}=Fs(t);return{...mW(r),backgroundColor:o,caption:i}}},b4e=(e={})=>(t,n)=>{const r=document.createElement("div");r.innerHTML=e.icon??m4e;const i=document.createElement("audio");return i.className="bn-audio",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(o=>{i.src=o}):i.src=t.props.url,i.controls=!0,i.contentEditable="false",i.draggable=!1,U9(t,n,{dom:i},r.firstElementChild)},v4e=(e={})=>(t,n)=>{if(!t.props.url){const i=document.createElement("p");return i.textContent="Add audio",{dom:i}}let r;return t.props.showPreview?(r=document.createElement("audio"),r.src=t.props.url):(r=document.createElement("a"),r.href=t.props.url,r.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?z9(r,t.props.caption):HD(r,t.props.caption):{dom:r}},x4e=jl(g4e,e=>({meta:{fileBlockAccept:["audio/*"]},parse:y4e(e),render:b4e(e),toExternalHTML:v4e(e),runsBefore:["file"]}));let FD=class{constructor(){Ms(this,"callbacks",{})}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),()=>this.off(t,n)}emit(t,...n){const r=this.callbacks[t];r&&r.forEach(i=>i.apply(this,n))}off(t,n){const r=this.callbacks[t];r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t])}removeAllListeners(){this.callbacks={}}},uo=class extends FD{constructor(...t){super(),Ms(this,"plugins",[]),Ms(this,"inputRules"),Ms(this,"keyboardShortcuts"),Ms(this,"tiptapExtensions")}static key(){throw new Error("You must implement the key method in your extension")}addProsemirrorPlugin(t){this.plugins.push(t)}get priority(){}};function wc(e){const t=Object.create(uo.prototype);return t.key=e.key,t.inputRules=e.inputRules,t.keyboardShortcuts=e.keyboardShortcuts,t.plugins=e.plugins??[],t.tiptapExtensions=e.tiptapExtensions,t}const gW=Symbol.for("blocknote.shikiParser"),dP=Symbol.for("blocknote.shikiHighlighterPromise");function w4e(e){const t=globalThis;let n,r;return BLe({parser:i=>{if(!e.createHighlighter)return[];if(!n)return t[dP]=t[dP]||e.createHighlighter(),t[dP].then(a=>{n=a});const o=Kle(e,i.language);return!o||o==="text"||o==="none"||o==="plaintext"||o==="txt"?[]:n.getLoadedLanguages().includes(o)?(r||(r=t[gW]||$Le(n),t[gW]=r),r(i)):n.loadLanguage(o)},languageExtractor:i=>i.attrs.language,nodeTypes:["codeBlock"]})}const S4e=({defaultLanguage:e="text"})=>({type:"codeBlock",propSchema:{language:{default:e}},content:"inline"}),E4e=jl(S4e,e=>({meta:{code:!0,defining:!0,isolating:!1},parse:t=>{var n,r;if(t.tagName!=="PRE"||t.childElementCount!==1||((n=t.firstElementChild)==null?void 0:n.tagName)!=="CODE")return;const i=t.firstElementChild;return{language:i.getAttribute("data-language")||((r=i.className.split(" ").find(o=>o.includes("language-")))==null?void 0:r.replace("language-",""))}},parseContent:({el:t,schema:n})=>{const r=pu.fromSchema(n),i=t.firstElementChild;return r.parse(i,{preserveWhitespace:"full",topNode:n.nodes.codeBlock.create()}).content},render(t,n){const r=document.createDocumentFragment(),i=document.createElement("pre"),o=document.createElement("code");i.appendChild(o);let a;if(e.supportedLanguages){const s=document.createElement("select");Object.entries(e.supportedLanguages??{}).forEach(([u,{name:d}])=>{const p=document.createElement("option");p.value=u,p.text=d,s.appendChild(p)}),s.value=t.props.language||e.defaultLanguage||"text";const l=u=>{const d=u.target.value;n.updateBlock(t.id,{props:{language:d}})};s.addEventListener("change",l),a=()=>s.removeEventListener("change",l);const c=document.createElement("div");c.contentEditable="false",c.appendChild(s),r.appendChild(c)}return r.appendChild(i),{dom:r,contentDOM:o,destroy:()=>{a?.()}}},toExternalHTML(t){const n=document.createElement("pre"),r=document.createElement("code");return r.className=`language-${t.props.language}`,r.dataset.language=t.props.language,n.appendChild(r),{dom:n,contentDOM:r}}}),e=>[wc({key:"code-block-highlighter",plugins:[w4e(e)]}),wc({key:"code-block-keyboard-shortcuts",keyboardShortcuts:{Delete:({editor:t})=>t.transact(n=>{const{block:r}=t.getTextCursorPosition();if(r.type!=="codeBlock")return!1;const{$from:i}=n.selection;return i.parent.textContent?!1:(t.removeBlocks([r]),!0)}),Tab:({editor:t})=>e.indentLineWithTab===!1?!1:t.transact(n=>{const{block:r}=t.getTextCursorPosition();return r.type==="codeBlock"?(n.insertText("  "),!0):!1}),Enter:({editor:t})=>t.transact(n=>{const{block:r,nextBlock:i}=t.getTextCursorPosition();if(r.type!=="codeBlock")return!1;const{$from:o}=n.selection,a=o.parentOffset===o.parent.nodeSize-2,s=o.parent.textContent.endsWith(`

`);if(a&&s){if(n.delete(o.pos-2,o.pos),i)return t.setTextCursorPosition(i,"start"),!0;const[l]=t.insertBlocks([{type:"paragraph"}],r,"after");return t.setTextCursorPosition(l,"start"),!0}return n.insertText(`
`),!0}),"Shift-Enter":({editor:t})=>t.transact(()=>{const{block:n}=t.getTextCursorPosition();if(n.type!=="codeBlock")return!1;const[r]=t.insertBlocks([{type:"paragraph"}],n,"after");return t.setTextCursorPosition(r,"start"),!0})},inputRules:[{find:/^```(.*?)\s$/,replace:({match:t})=>{const n=t[1].trim();return{type:"codeBlock",props:{language:{language:Kle(e,n)??n}.language},content:[]}}}]})]);function Kle(e,t){var n;return(n=Object.entries(e.supportedLanguages??{}).find(([r,{aliases:i}])=>i?.includes(t)||r===t))==null?void 0:n[0]}const C4e=()=>({type:"divider",propSchema:{},content:"none"}),T4e=jl(C4e,{meta:{isolating:!1},parse(e){if(e.tagName==="HR")return{}},render(){return{dom:document.createElement("hr")}}},[wc({key:"divider-block-shortcuts",inputRules:[{find:new RegExp("^---$"),replace(){return{type:"divider",props:{},content:[]}}}]})]),yW=e=>({url:e.src||void 0}),k4e=()=>({type:"file",propSchema:{backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""}},content:"none"}),_4e=()=>e=>{if(e.tagName==="EMBED"){if(e.closest("figure"))return;const{backgroundColor:t}=Fs(e);return{...yW(e),backgroundColor:t}}if(e.tagName==="FIGURE"){const t=$D(e,"embed");if(!t)return;const{targetElement:n,caption:r}=t,{backgroundColor:i}=Fs(e);return{...yW(n),backgroundColor:i,caption:r}}},A4e=jl(k4e,{meta:{fileBlockAccept:["*/*"]},parse:_4e(),render(e,t){return U9(e,t)},toExternalHTML(e){if(!e.props.url){const n=document.createElement("p");return n.textContent="Add file",{dom:n}}const t=document.createElement("a");return t.href=e.props.url,t.textContent=e.props.name||e.props.url,e.props.caption?HD(t,e.props.caption):{dom:t}}}),N4e={set:(e,t)=>window.localStorage.setItem(`toggle-${e.id}`,t?"true":"false"),get:e=>window.localStorage.getItem(`toggle-${e.id}`)==="true"},Xle=(e,t,n,r=N4e)=>{if("isToggleable"in e.props&&!e.props.isToggleable)return{dom:n};const i=document.createElement("div"),o=document.createElement("div");o.className="bn-toggle-wrapper";const a=document.createElement("button");a.className="bn-toggle-button",a.type="button",a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="CURRENTCOLOR"><path d="M320-200v-560l440 280-440 280Z"/></svg>';const s=v=>v.preventDefault();a.addEventListener("mousedown",s);const l=()=>{var v;o.getAttribute("data-show-children")==="true"?(o.setAttribute("data-show-children","false"),r.set(t.getBlock(e),!1),i.contains(c)&&i.removeChild(c)):(o.setAttribute("data-show-children","true"),r.set(t.getBlock(e),!0),((v=t.getBlock(e))==null?void 0:v.children.length)===0&&!i.contains(c)&&i.appendChild(c))};a.addEventListener("click",l),o.appendChild(a),o.appendChild(n);const c=document.createElement("button");c.className="bn-toggle-add-block-button",c.type="button",c.textContent=t.dictionary.toggle_blocks.add_block_button;const u=v=>v.preventDefault();c.addEventListener("mousedown",u);const d=()=>{t.transact(()=>{const v=t.updateBlock(e,{children:[{}]});t.setTextCursorPosition(v.children[0].id,"end"),t.focus()})};c.addEventListener("click",d),i.appendChild(o);let p=e.children.length;const m=t.onChange(()=>{var v;const x=((v=t.getBlock(e))==null?void 0:v.children.length)??0;x>p?(o.getAttribute("data-show-children")==="false"&&(o.setAttribute("data-show-children","true"),r.set(t.getBlock(e),!0)),i.contains(c)&&i.removeChild(c)):x===0&&x<p&&(o.getAttribute("data-show-children")==="true"&&(o.setAttribute("data-show-children","false"),r.set(t.getBlock(e),!1)),i.contains(c)&&i.removeChild(c)),p=x});return r.get(e)?(o.setAttribute("data-show-children","true"),e.children.length===0&&i.appendChild(c)):o.setAttribute("data-show-children","false"),{dom:i,ignoreMutation:v=>v instanceof MutationRecord&&(v.type==="attributes"&&v.target===o&&v.attributeName==="data-show-children"||v.type==="childList"&&(v.addedNodes[0]===c||v.removedNodes[0]===c)),destroy:()=>{a.removeEventListener("mousedown",s),a.removeEventListener("click",l),c.removeEventListener("mousedown",u),c.removeEventListener("click",d),m?.()}}},Zle=[1,2,3,4,5,6],O4e=({defaultLevel:e=1,levels:t=Zle,allowToggleHeadings:n=!0}={})=>({type:"heading",propSchema:{...cr,level:{default:e,values:t},...n?{isToggleable:{default:!1,optional:!0}}:{}},content:"inline"}),M4e=jl(O4e,({allowToggleHeadings:e=!0}={})=>({meta:{isolating:!1},parse(t){let n;switch(t.tagName){case"H1":n=1;break;case"H2":n=2;break;case"H3":n=3;break;case"H4":n=4;break;case"H5":n=5;break;case"H6":n=6;break;default:return}return{...Fs(t),level:n}},render(t,n){const r=document.createElement(`h${t.props.level}`);return e?{...Xle(t,n,r),contentDOM:r}:{dom:r,contentDOM:r}},toExternalHTML(t){const n=document.createElement(`h${t.props.level}`);return fy(t.props,n),{dom:n,contentDOM:n}}}),({levels:e=Zle}={})=>[wc({key:"heading-shortcuts",keyboardShortcuts:Object.fromEntries(e.map(t=>[`Mod-Alt-${t}`,({editor:n})=>{const r=n.getTextCursorPosition();return n.schema.blockSchema[r.block.type].content!=="inline"?!1:(n.updateBlock(r.block,{type:"heading",props:{level:t}}),!0)}])??[]),inputRules:e.map(t=>({find:new RegExp(`^(#{${t}})\\s$`),replace({match:n}){return{type:"heading",props:{level:n[1].length}}}}))})]),Qle=(e,t,n,r,i)=>{const{dom:o,destroy:a}=U9(e,t,n,i),s=o;s.style.position="relative",e.props.url&&e.props.showPreview&&(e.props.previewWidth?s.style.width=`${e.props.previewWidth}px`:s.style.width="fit-content");const l=document.createElement("div");l.className="bn-resize-handle",l.style.left="4px";const c=document.createElement("div");c.className="bn-resize-handle",c.style.right="4px";const u=document.createElement("div");u.style.position="absolute",u.style.height="100%",u.style.width="100%";let d,p=e.props.previewWidth;const m=N=>{var I,O;if(!d){!t.isEditable&&r.contains(l)&&r.contains(c)&&(r.removeChild(l),r.removeChild(c));return}let A;const R="touches"in N?N.touches[0].clientX:N.clientX;e.props.textAlignment==="center"?d.handleUsed==="left"?A=d.initialWidth+(d.initialClientX-R)*2:A=d.initialWidth+(R-d.initialClientX)*2:d.handleUsed==="left"?A=d.initialWidth+d.initialClientX-R:A=d.initialWidth+R-d.initialClientX,p=Math.min(Math.max(A,64),((O=(I=t.domElement)==null?void 0:I.firstElementChild)==null?void 0:O.clientWidth)||Number.MAX_VALUE),s.style.width=`${p}px`},v=N=>{(!N.target||!s.contains(N.target)||!t.isEditable)&&r.contains(l)&&r.contains(c)&&(r.removeChild(l),r.removeChild(c)),d&&(d=void 0,s.contains(u)&&s.removeChild(u),t.updateBlock(e,{props:{previewWidth:p}}))},x=()=>{t.isEditable&&(r.appendChild(l),r.appendChild(c))},w=N=>{N.relatedTarget===l||N.relatedTarget===c||d||t.isEditable&&r.contains(l)&&r.contains(c)&&(r.removeChild(l),r.removeChild(c))},T=N=>{N.preventDefault(),s.contains(u)||s.appendChild(u);const I="touches"in N?N.touches[0].clientX:N.clientX;d={handleUsed:"left",initialWidth:s.clientWidth,initialClientX:I}},k=N=>{N.preventDefault(),s.contains(u)||s.appendChild(u);const I="touches"in N?N.touches[0].clientX:N.clientX;d={handleUsed:"right",initialWidth:s.clientWidth,initialClientX:I}};return window.addEventListener("mousemove",m),window.addEventListener("touchmove",m),window.addEventListener("mouseup",v),window.addEventListener("touchend",v),s.addEventListener("mouseenter",x),s.addEventListener("mouseleave",w),l.addEventListener("mousedown",T),l.addEventListener("touchstart",T),c.addEventListener("mousedown",k),c.addEventListener("touchstart",k),{dom:s,destroy:()=>{a?.(),window.removeEventListener("mousemove",m),window.removeEventListener("touchmove",m),window.removeEventListener("mouseup",v),window.removeEventListener("touchend",v),s.removeEventListener("mouseenter",x),s.removeEventListener("mouseleave",w),l.removeEventListener("mousedown",T),l.removeEventListener("touchstart",T),c.removeEventListener("mousedown",k),c.removeEventListener("touchstart",k)}}},bW=e=>{const t=e.src||void 0,n=e.width||void 0,r=e.alt||void 0;return{url:t,previewWidth:n,name:r}},D4e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"></path></svg>',R4e=(e={})=>({type:"image",propSchema:{textAlignment:cr.textAlignment,backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},content:"none"}),I4e=(e={})=>t=>{if(t.tagName==="IMG"){if(t.closest("figure"))return;const{backgroundColor:n}=Fs(t);return{...bW(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=$D(t,"img");if(!n)return;const{targetElement:r,caption:i}=n,{backgroundColor:o}=Fs(t);return{...bW(r),backgroundColor:o,caption:i}}},P4e=(e={})=>(t,n)=>{const r=document.createElement("div");r.innerHTML=e.icon??D4e;const i=document.createElement("div");i.className="bn-visual-media-wrapper";const o=document.createElement("img");return o.className="bn-visual-media",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(a=>{o.src=a}):o.src=t.props.url,o.alt=t.props.name||t.props.caption||"BlockNote image",o.contentEditable="false",o.draggable=!1,i.appendChild(o),Qle(t,n,{dom:i},i,r.firstElementChild)},L4e=(e={})=>(t,n)=>{if(!t.props.url){const i=document.createElement("p");return i.textContent="Add image",{dom:i}}let r;return t.props.showPreview?(r=document.createElement("img"),r.src=t.props.url,r.alt=t.props.name||t.props.caption||"BlockNote image",t.props.previewWidth&&(r.width=t.props.previewWidth)):(r=document.createElement("a"),r.href=t.props.url,r.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?z9(r,t.props.caption):HD(r,t.props.caption):{dom:r}},j4e=jl(R4e,e=>({meta:{fileBlockAccept:["image/*"]},parse:I4e(e),render:P4e(e),toExternalHTML:L4e(e),runsBefore:["file"]})),B4e=(e,t,n)=>({state:r,dispatch:i})=>i?Jle(r.tr,e,t,n):!0,Jle=(e,t,n,r)=>{const i=eh(e.doc,t),o=th(i);if(!o.isBlockContainer)return!1;const a=ho(e),s=[{type:o.bnBlock.node.type,attrs:r?{...o.bnBlock.node.attrs,id:void 0}:{}},{type:n?o.blockContent.node.type:a.nodes.paragraph,attrs:r?{...o.blockContent.node.attrs}:{}}];return e.split(t,2,s),!0},UD=(e,t)=>{const{blockInfo:n,selectionEmpty:r}=e.transact(a=>({blockInfo:$T(a),selectionEmpty:a.selection.anchor===a.selection.head}));if(!n.isBlockContainer)return!1;const{bnBlock:i,blockContent:o}=n;return o.node.type.name!==t||!r?!1:o.node.childCount===0?(e.transact(a=>{BD(a,i.beforePos,{type:"paragraph",props:{}})}),!0):o.node.childCount>0?e.transact(a=>(a.deleteSelection(),Jle(a,a.selection.from,!0))):!1};function V9(e,t,n){var r,i,o;const a=pu.fromSchema(t),s=e,l=document.createElement("div");l.setAttribute("data-node-type","blockGroup");for(const m of Array.from(s.childNodes))l.appendChild(m.cloneNode(!0));let c=a.parse(l,{topNode:t.nodes.blockGroup.create()});((i=(r=c.firstChild)==null?void 0:r.firstChild)==null?void 0:i.type.name)==="checkListItem"&&(c=c.copy(c.content.cut(c.firstChild.firstChild.nodeSize+2)));const u=(o=c.firstChild)==null?void 0:o.firstChild;if(!(u!=null&&u.isTextblock))return Fe.from(c);const d=t.nodes[n].create({},u.content),p=c.content.cut(u.nodeSize+2);if(p.size>0){const m=c.copy(p);return d.content.addToEnd(m)}return d.content}const $4e=()=>({type:"bulletListItem",propSchema:{...cr},content:"inline"}),H4e=jl($4e,{meta:{isolating:!1},parse(e){var t;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="UL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="UL"))return Fs(e)},parseContent:({el:e,schema:t})=>V9(e,t,"bulletListItem"),render(){const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return fy(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[wc({key:"bullet-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>UD(e,"bulletListItem"),"Mod-Shift-8":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"bulletListItem",props:{}}),!0)}},inputRules:[{find:new RegExp("^[-+*]\\s$"),replace({editor:e}){if(Ns(e.prosemirrorState).blockNoteType!=="heading")return{type:"bulletListItem",props:{}}}}]})]),F4e=()=>({type:"checkListItem",propSchema:{...cr,checked:{default:!1,type:"boolean"}},content:"inline"}),U4e=jl(F4e,{meta:{isolating:!1},parse(e){var t;if(e.tagName==="input")return e.closest("[data-content-type]")||e.closest("li")?void 0:e.type==="checkbox"?{checked:e.checked}:void 0;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="UL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="UL")){const r=e.querySelector("input[type=checkbox]")||null;return r===null?void 0:{...Fs(e),checked:r.checked}}},parseContent:({el:e,schema:t})=>V9(e,t,"checkListItem"),render(e,t){const n=document.createDocumentFragment(),r=document.createElement("input");r.type="checkbox",r.checked=e.props.checked,e.props.checked&&r.setAttribute("checked",""),r.addEventListener("change",()=>{t.updateBlock(e,{props:{checked:!e.props.checked}})});const i=document.createElement("p");return n.appendChild(r),n.appendChild(i),{dom:n,contentDOM:i}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("input");n.type="checkbox",n.checked=e.props.checked,e.props.checked&&n.setAttribute("checked","");const r=document.createElement("p");return fy(e.props,t),t.appendChild(n),t.appendChild(r),{dom:t,contentDOM:r}},runsBefore:["bulletListItem"]},[wc({key:"check-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>UD(e,"checkListItem"),"Mod-Shift-9":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"checkListItem",props:{}}),!0)}},inputRules:[{find:new RegExp("\\[\\s*\\]\\s$"),replace(){return{type:"checkListItem",props:{checked:!1},content:[]}}},{find:new RegExp("\\[[Xx]\\]\\s$"),replace(){return{type:"checkListItem",props:{checked:!0}}}}]})]);function ece(e,t,n,r){let i=e.firstChild.attrs.start||1,o=!0;const a=!!e.firstChild.attrs.start,s=th({posBeforeNode:t,node:e});if(!s.isBlockContainer)throw new Error("impossible");const l=n.doc.resolve(s.bnBlock.beforePos).nodeBefore,c=l?r.get(l):void 0;return c!==void 0?(i=c+1,o=!1):l&&th({posBeforeNode:s.bnBlock.beforePos-l.nodeSize,node:l}).blockNoteType==="numberedListItem"&&(i=ece(l,s.bnBlock.beforePos-l.nodeSize,n,r).index+1,o=!1),r.set(e,i),{index:i,isFirst:o,hasStart:a}}function vW(e,t){const n=new Map,r=t.decorations.map(e.mapping,e.doc),i=[];e.doc.nodesBetween(0,e.doc.nodeSize-2,(a,s)=>{if(a.type.name==="blockContainer"&&a.firstChild.type.name==="numberedListItem"){const{index:l,isFirst:c,hasStart:u}=ece(a,s,e,n);if(r.find(s,s+a.nodeSize,d=>d.index===l&&d.isFirst===c&&d.hasStart===u).length===0){const d=e.doc.nodeAt(s+1);i.push(ir.node(s+1,s+1+d.nodeSize,{"data-index":l.toString()}))}}});const o=i.flatMap(a=>r.find(a.from,a.to));return{decorations:r.remove(o).add(e.doc,i)}}const z4e=()=>new on({key:new wn("numbered-list-indexing-decorations"),state:{init(e,t){return vW(t.tr,{decorations:mn.empty})},apply(e,t){return!e.docChanged&&!e.selectionSet&&t.decorations?t:vW(e,t)}},props:{decorations(e){var t;return((t=this.getState(e))==null?void 0:t.decorations)??mn.empty}}}),V4e=()=>({type:"numberedListItem",propSchema:{...cr,start:{default:void 0,type:"number"}},content:"inline"}),q4e=jl(V4e,{meta:{isolating:!1},parse(e){var t;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="OL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="OL")){const r=parseInt(n.getAttribute("start")||"1"),i=Fs(e);return e.previousElementSibling||r===1?i:{...i,start:r}}},parseContent:({el:e,schema:t})=>V9(e,t,"numberedListItem"),render(){const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return fy(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[wc({key:"numbered-list-item-shortcuts",inputRules:[{find:new RegExp("^(\\d+)\\.\\s$"),replace({match:e,editor:t}){if(Ns(t.prosemirrorState).blockNoteType==="heading")return;const n=parseInt(e[1]);return{type:"numberedListItem",props:{start:n!==1?n:void 0}}}}],keyboardShortcuts:{Enter:({editor:e})=>UD(e,"numberedListItem"),"Mod-Shift-7":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"numberedListItem",props:{}}),!0)}},plugins:[z4e()]})]),W4e=()=>({type:"toggleListItem",propSchema:{...cr},content:"inline"}),Y4e=jl(W4e,{meta:{isolating:!1},render(e,t){const n=document.createElement("p");return{...Xle(e,t,n),contentDOM:n}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return fy(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[wc({key:"toggle-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>UD(e,"toggleListItem"),"Mod-Shift-6":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"toggleListItem",props:{}}),!0)}}})]),G4e=()=>({type:"paragraph",propSchema:cr,content:"inline"}),tce=jl(G4e,{meta:{isolating:!1},parse:e=>{var t;if(e.tagName==="P"&&(t=e.textContent)!=null&&t.trim())return Fs(e)},render:()=>{const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("p");return fy(e.props,t),{dom:t,contentDOM:t}},runsBefore:["default"]},[wc({key:"paragraph-shortcuts",keyboardShortcuts:{"Mod-Alt-0":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"paragraph",props:{}}),!0)}}})]),K4e=()=>({type:"quote",propSchema:{backgroundColor:cr.backgroundColor,textColor:cr.textColor},content:"inline"}),X4e=jl(K4e,{meta:{isolating:!1},parse(e){if(e.tagName==="BLOCKQUOTE"){const{backgroundColor:t,textColor:n}=Fs(e);return{backgroundColor:t,textColor:n}}},render(){const e=document.createElement("blockquote");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("blockquote");return fy(e.props,t),{dom:t,contentDOM:t}}},[wc({key:"quote-block-shortcuts",keyboardShortcuts:{"Mod-Alt-q":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"quote",props:{}}),!0)}},inputRules:[{find:new RegExp("^>\\s$"),replace(){return{type:"quote",props:{}}}}]})]),Z4e=35,q9=120,Q4e=31,J4e=ur.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[iLe({cellMinWidth:Z4e,defaultCellMinWidth:q9,View:null}),pLe()],addKeyboardShortcuts(){return{Enter:()=>this.editor.state.selection.empty&&this.editor.state.selection.$head.parent.type.name==="tableParagraph"?(this.editor.commands.insertContent({type:"hardBreak"}),!0):!1,Backspace:()=>{const e=this.editor.state.selection,t=e.empty,n=e.$head.parentOffset===0,r=e.$head.node().type.name==="tableParagraph";return t&&n&&r},Tab:()=>this.editor.commands.command(({state:e,dispatch:t,view:n})=>eW(1)(e,t,n)),"Shift-Tab":()=>this.editor.commands.command(({state:e,dispatch:t,view:n})=>eW(-1)(e,t,n))}},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:$r(qt(e,"tableRole",t))}}}),eje={textColor:cr.textColor},tje=zs.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"tableContent+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th",getContent:(e,t)=>nce(e,t)}]},renderHTML({HTMLAttributes:e}){return["th",Ml(this.options.HTMLAttributes,e),0]}}),nje=zs.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"tableContent+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td",getContent:(e,t)=>nce(e,t)}]},renderHTML({HTMLAttributes:e}){return["td",Ml(this.options.HTMLAttributes,e),0]}}),rje=zs.create({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",marks:"deletion insertion modification",isolating:!0,parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){var n,r,i;const o=VLe(this.name,"table",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...t},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{}),a=document.createElement("colgroup");for(const s of e.children[0].children)if(s.attrs.colwidth)for(const l of s.attrs.colwidth){const c=document.createElement("col");l&&(c.style=`width: ${l}px`),a.appendChild(c)}else a.appendChild(document.createElement("col"));return(i=o.dom.firstChild)==null||i.appendChild(a),o},addNodeView(){return({node:e,HTMLAttributes:t})=>{var n;class r extends Fle{constructor(o,a,s){super(o,a),this.node=o,this.cellMinWidth=a,this.blockContentHTMLAttributes=s;const l=document.createElement("div");l.className=bi("bn-block-content",s.class),l.setAttribute("data-content-type","table");for(const[p,m]of Object.entries(s))p!=="class"&&l.setAttribute(p,m);const c=this.dom,u=document.createElement("div");u.className="tableWrapper-inner",u.appendChild(c.firstChild),c.appendChild(u),l.appendChild(c);const d=document.createElement("div");d.className="table-widgets-container",d.style.position="relative",c.appendChild(d),this.dom=l}ignoreMutation(o){return!o.target.closest(".tableWrapper-inner")||super.ignoreMutation(o)}}return new r(e,q9,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...t})}}}),ije=zs.create({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML(){return[{tag:"p",getAttrs:e=>{if(typeof e=="string"||!e.textContent||!e.closest("[data-content-type]"))return!1;const t=e.parentElement;return t===null?!1:t.tagName==="TD"||t.tagName==="TH"?{}:!1},node:"tableParagraph"}]},renderHTML({HTMLAttributes:e}){return["p",e,0]}}),oje=zs.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)+",tableRole:"row",marks:"deletion insertion modification",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",Ml(this.options.HTMLAttributes,e),0]}});function nce(e,t){const n=pu.fromSchema(t).parse(e,{topNode:t.nodes.blockGroup.create()}),r=[];return n.content.descendants(i=>{if(i.isInline)return r.push(i),!1}),Fe.fromArray(r)}const aje=()=>H9({node:rje,type:"table",content:"table"},eje,[wc({key:"table-extensions",tiptapExtensions:[J4e,ije,tje,nje,oje]}),wc({key:"table-keyboard-delete",keyboardShortcuts:{Backspace:({editor:e})=>{if(!(e.prosemirrorState.selection instanceof Rr))return!1;const t=e.getTextCursorPosition().block,n=t.content;let r=0;for(const o of n.rows)for(const a of o.cells){if("type"in a&&a.content.length>0||!("type"in a)&&a.length>0)return!1;r++}let i=0;return e.prosemirrorState.selection.forEachCell(()=>{i++}),i<r?!1:(e.transact(()=>{(e.getPrevBlock(t)||e.getNextBlock(t))&&e.setTextCursorPosition(t),e.removeBlocks([t])}),!0)}}})]),xW=e=>{const t=e.src||void 0,n=e.width||void 0;return{url:t,previewWidth:n}},sje='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"></path></svg>',lje=e=>({type:"video",propSchema:{textAlignment:cr.textAlignment,backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},content:"none"}),cje=e=>t=>{if(t.tagName==="VIDEO"){if(t.closest("figure"))return;const{backgroundColor:n}=Fs(t);return{...xW(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=$D(t,"video");if(!n)return;const{targetElement:r,caption:i}=n,{backgroundColor:o}=Fs(t);return{...xW(r),backgroundColor:o,caption:i}}},uje=jl(lje,e=>({meta:{fileBlockAccept:["video/*"]},parse:cje(),render(t,n){const r=document.createElement("div");r.innerHTML=e.icon??sje;const i=document.createElement("div");i.className="bn-visual-media-wrapper";const o=document.createElement("video");return o.className="bn-visual-media",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(a=>{o.src=a}):o.src=t.props.url,o.controls=!0,o.contentEditable="false",o.draggable=!1,o.width=t.props.previewWidth,i.appendChild(o),Qle(t,n,{dom:i},i,r.firstElementChild)},toExternalHTML(t){if(!t.props.url){const r=document.createElement("p");return r.textContent="Add video",{dom:r}}let n;return t.props.showPreview?(n=document.createElement("video"),n.src=t.props.url,t.props.previewWidth&&(n.width=t.props.previewWidth)):(n=document.createElement("a"),n.href=t.props.url,n.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?z9(n,t.props.caption):HD(n,t.props.caption):{dom:n}},runsBefore:["file"]}));function Xr(e,t,n){if(!(t in e.schema.blockSpecs))return!1;if(!n)return!0;for(const[r,i]of Object.entries(n)){if(!(r in e.schema.blockSpecs[t].config.propSchema))return!1;if(typeof i=="string"){if(e.schema.blockSpecs[t].config.propSchema[r].default!==void 0&&typeof e.schema.blockSpecs[t].config.propSchema[r].default!==i||e.schema.blockSpecs[t].config.propSchema[r].type!==void 0&&e.schema.blockSpecs[t].config.propSchema[r].type!==i)return!1}else{if(e.schema.blockSpecs[t].config.propSchema[r].default!==i.default||e.schema.blockSpecs[t].config.propSchema[r].default===void 0&&i.default===void 0&&e.schema.blockSpecs[t].config.propSchema[r].type!==i.type||typeof e.schema.blockSpecs[t].config.propSchema[r].values!=typeof i.values)return!1;if(typeof e.schema.blockSpecs[t].config.propSchema[r].values=="object"&&typeof i.values=="object"){for(const o of i.values)if(!e.schema.blockSpecs[t].config.propSchema[r].values.includes(o))return!1}}}return!0}function kl(e,t,n,r){return Xr(t,n,r)&&e.type===n}function kB(e){return e instanceof Rr}function dje(e){let t=e.getTextCursorPosition().block,n=e.schema.blockSchema[t.type].content;for(;n==="none";){if(t=e.getTextCursorPosition().nextBlock,t===void 0)return;n=e.schema.blockSchema[t.type].content,e.setTextCursorPosition(t,"end")}}function Mr(e,t){const n=e.getTextCursorPosition().block;if(n.content===void 0)throw new Error("Slash Menu open in a block that doesn't contain content.");let r;return Array.isArray(n.content)&&(n.content.length===1&&F0(n.content[0])&&n.content[0].type==="text"&&n.content[0].text==="/"||n.content.length===0)?(r=e.updateBlock(n,t),e.setTextCursorPosition(r)):(r=e.insertBlocks([t],n,"after")[0],e.setTextCursorPosition(e.getTextCursorPosition().nextBlock)),dje(e),r}function rce(e){const t=[];return Xr(e,"heading",{level:"number"})&&t.push({onItemClick:()=>{Mr(e,{type:"heading",props:{level:1}})},badge:gl("Mod-Alt-1"),key:"heading",...e.dictionary.slash_menu.heading},{onItemClick:()=>{Mr(e,{type:"heading",props:{level:2}})},badge:gl("Mod-Alt-2"),key:"heading_2",...e.dictionary.slash_menu.heading_2},{onItemClick:()=>{Mr(e,{type:"heading",props:{level:3}})},badge:gl("Mod-Alt-3"),key:"heading_3",...e.dictionary.slash_menu.heading_3}),Xr(e,"quote")&&t.push({onItemClick:()=>{Mr(e,{type:"quote"})},key:"quote",...e.dictionary.slash_menu.quote}),Xr(e,"toggleListItem")&&t.push({onItemClick:()=>{Mr(e,{type:"toggleListItem"})},badge:gl("Mod-Shift-6"),key:"toggle_list",...e.dictionary.slash_menu.toggle_list}),Xr(e,"numberedListItem")&&t.push({onItemClick:()=>{Mr(e,{type:"numberedListItem"})},badge:gl("Mod-Shift-7"),key:"numbered_list",...e.dictionary.slash_menu.numbered_list}),Xr(e,"bulletListItem")&&t.push({onItemClick:()=>{Mr(e,{type:"bulletListItem"})},badge:gl("Mod-Shift-8"),key:"bullet_list",...e.dictionary.slash_menu.bullet_list}),Xr(e,"checkListItem")&&t.push({onItemClick:()=>{Mr(e,{type:"checkListItem"})},badge:gl("Mod-Shift-9"),key:"check_list",...e.dictionary.slash_menu.check_list}),Xr(e,"paragraph")&&t.push({onItemClick:()=>{Mr(e,{type:"paragraph"})},badge:gl("Mod-Alt-0"),key:"paragraph",...e.dictionary.slash_menu.paragraph}),Xr(e,"codeBlock")&&t.push({onItemClick:()=>{Mr(e,{type:"codeBlock"})},badge:gl("Mod-Alt-c"),key:"code_block",...e.dictionary.slash_menu.code_block}),Xr(e,"divider")&&t.push({onItemClick:()=>{Mr(e,{type:"divider"})},key:"divider",...e.dictionary.slash_menu.divider}),Xr(e,"table")&&t.push({onItemClick:()=>{Mr(e,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},badge:void 0,key:"table",...e.dictionary.slash_menu.table}),Xr(e,"image",{url:"string"})&&t.push({onItemClick:()=>{const n=Mr(e,{type:"image"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"image",...e.dictionary.slash_menu.image}),Xr(e,"video",{url:"string"})&&t.push({onItemClick:()=>{const n=Mr(e,{type:"video"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"video",...e.dictionary.slash_menu.video}),Xr(e,"audio",{url:"string"})&&t.push({onItemClick:()=>{const n=Mr(e,{type:"audio"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"audio",...e.dictionary.slash_menu.audio}),Xr(e,"file",{url:"string"})&&t.push({onItemClick:()=>{const n=Mr(e,{type:"file"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"file",...e.dictionary.slash_menu.file}),Xr(e,"heading",{level:"number",isToggleable:"boolean"})&&t.push({onItemClick:()=>{Mr(e,{type:"heading",props:{level:1,isToggleable:!0}})},key:"toggle_heading",...e.dictionary.slash_menu.toggle_heading},{onItemClick:()=>{Mr(e,{type:"heading",props:{level:2,isToggleable:!0}})},key:"toggle_heading_2",...e.dictionary.slash_menu.toggle_heading_2},{onItemClick:()=>{Mr(e,{type:"heading",props:{level:3,isToggleable:!0}})},key:"toggle_heading_3",...e.dictionary.slash_menu.toggle_heading_3}),Xr(e,"heading",{level:"number"})&&(e.schema.blockSchema.heading.propSchema.level.values||[]).filter(n=>n>3).forEach(n=>{t.push({onItemClick:()=>{Mr(e,{type:"heading",props:{level:n}})},key:`heading_${n}`,...e.dictionary.slash_menu[`heading_${n}`]})}),t.push({onItemClick:()=>{e.openSuggestionMenu(":",{deleteTriggerCharacter:!0,ignoreQueryLength:!0})},key:"emoji",...e.dictionary.slash_menu.emoji}),t}function fje(e,t){return e.filter(({title:n,aliases:r})=>n.toLowerCase().includes(t.toLowerCase())||r&&r.filter(i=>i.toLowerCase().includes(t.toLowerCase())).length!==0)}const ice={audio:x4e(),bulletListItem:H4e(),checkListItem:U4e(),codeBlock:E4e(),divider:T4e(),file:A4e(),heading:M4e(),image:j4e(),numberedListItem:q4e(),paragraph:tce(),quote:X4e(),table:aje(),toggleListItem:Y4e(),video:uje()},hje=Gle({type:"textColor",propSchema:"string"},{render:()=>{const e=document.createElement("span");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("span");return e!==cr.textColor.default&&(t.style.color=e in zp?zp[e].text:e),{dom:t,contentDOM:t}},parse:e=>{if(e.tagName==="SPAN"&&e.style.color)return e.style.color}}),pje=Gle({type:"backgroundColor",propSchema:"string"},{render:()=>{const e=document.createElement("span");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("span");return e!==cr.backgroundColor.default&&(t.style.backgroundColor=e in zp?zp[e].background:e),{dom:t,contentDOM:t}},parse:e=>{if(e.tagName==="SPAN"&&e.style.backgroundColor)return e.style.backgroundColor}}),W9={bold:MS(xLe,"boolean"),italic:MS(OLe,"boolean"),underline:MS(LLe,"boolean"),strike:MS(ILe,"boolean"),code:MS(CLe,"boolean"),textColor:hje,backgroundColor:pje};Yle(W9);const oce={text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}},mje=qle(oce);let zD=class ace extends i4e{static create(t){return new ace({blockSpecs:t?.blockSpecs??ice,inlineContentSpecs:t?.inlineContentSpecs??oce,styleSpecs:t?.styleSpecs??W9})}};var fP,wW;function gje(){return wW||(wW=1,fP=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}),fP}var yje=gje();const bje=vr(yje);function sce(e={}){return new on({view(t){return new vje(t,e)}})}class vje{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(n){let d=t.nodeBefore,p=t.nodeAfter;if(d||p){let m=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(m){let v=m.getBoundingClientRect(),x=d?v.bottom:v.top;d&&p&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*s;r={left:v.left,right:v.right,top:x-w,bottom:x+w}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*a;r={left:d.left-p,right:d.left+p,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),p=d.width/l.offsetWidth,m=d.height/l.offsetHeight;c=d.left-l.scrollLeft*p,u=d.top-l.scrollTop*m}this.element.style.left=(r.left-c)/a+"px",this.element.style.top=(r.top-u)/s+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=t9(this.editorView.state.doc,a,this.editorView.dragging.slice);s!=null&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const mc=()=>new Map,_B=e=>{const t=mc();return e.forEach((n,r)=>{t.set(r,n)}),t},Hd=(e,t,n)=>{let r=e.get(t);return r===void 0&&e.set(t,r=n()),r},xje=(e,t)=>{const n=[];for(const[r,i]of e)n.push(t(i,r));return n},wje=(e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1},q0=()=>new Set,hP=e=>e[e.length-1],Sje=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},hm=Array.from,Eje=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1},AB=Array.isArray;class lce{constructor(){this._observers=mc()}on(t,n){return Hd(this._observers,t,q0).add(n),n}once(t,n){const r=(...i)=>{this.off(t,r),n(...i)};this.on(t,r)}off(t,n){const r=this._observers.get(t);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(t))}emit(t,n){return hm((this._observers.get(t)||mc()).values()).forEach(r=>r(...n))}destroy(){this._observers=mc()}}const nh=Math.floor,XA=Math.abs,Vf=(e,t)=>e<t?e:t,xu=(e,t)=>e>t?e:t,cce=e=>e!==0?e<0:1/e<0,SW=1,EW=2,pP=4,mP=8,hC=32,qf=64,ns=128,Cje=1<<29,VD=31,NB=63,w0=127,Tje=2147483647,uce=Number.MAX_SAFE_INTEGER,kje=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&nh(e)===e),_je=String.fromCharCode,Aje=e=>e.toLowerCase(),Nje=/^\s*/g,Oje=e=>e.replace(Nje,""),Mje=/([A-Z])/g,CW=(e,t)=>Oje(e.replace(Mje,n=>`${t}${Aje(n)}`)),Dje=e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.codePointAt(i);return r},pC=typeof TextEncoder<"u"?new TextEncoder:null,Rje=e=>pC.encode(e),Ije=pC?Rje:Dje;let vE=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});vE&&vE.decode(new Uint8Array).length===1&&(vE=null);class FT{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const UT=()=>new FT,Pje=e=>{const t=UT();return e(t),du(t)},Lje=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},du=e=>{const t=new Uint8Array(Lje(e));let n=0;for(let r=0;r<e.bufs.length;r++){const i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},jje=(e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(xu(n,t)*2),e.cpos=0)},Io=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(n*2),e.cpos=0),e.cbuf[e.cpos++]=t},OB=Io,Kn=(e,t)=>{for(;t>w0;)Io(e,ns|w0&t),t=nh(t/128);Io(e,w0&t)},Y9=(e,t)=>{const n=cce(t);for(n&&(t=-t),Io(e,(t>NB?ns:0)|(n?qf:0)|NB&t),t=nh(t/64);t>0;)Io(e,(t>w0?ns:0)|w0&t),t=nh(t/128)},MB=new Uint8Array(3e4),Bje=MB.length/3,$je=(e,t)=>{if(t.length<Bje){const n=pC.encodeInto(t,MB).written||0;Kn(e,n);for(let r=0;r<n;r++)Io(e,MB[r])}else hl(e,Ije(t))},Hje=(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;Kn(e,r);for(let i=0;i<r;i++)Io(e,n.codePointAt(i))},zv=pC&&pC.encodeInto?$je:Hje,qD=(e,t)=>{const n=e.cbuf.length,r=e.cpos,i=Vf(n-r,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(xu(n*2,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},hl=(e,t)=>{Kn(e,t.byteLength),qD(e,t)},G9=(e,t)=>{jje(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},Fje=(e,t)=>G9(e,4).setFloat32(0,t,!1),Uje=(e,t)=>G9(e,8).setFloat64(0,t,!1),zje=(e,t)=>G9(e,8).setBigInt64(0,t,!1),TW=new DataView(new ArrayBuffer(4)),Vje=e=>(TW.setFloat32(0,e),TW.getFloat32(0)===e),h1=(e,t)=>{switch(typeof t){case"string":Io(e,119),zv(e,t);break;case"number":kje(t)&&XA(t)<=Tje?(Io(e,125),Y9(e,t)):Vje(t)?(Io(e,124),Fje(e,t)):(Io(e,123),Uje(e,t));break;case"bigint":Io(e,122),zje(e,t);break;case"object":if(t===null)Io(e,126);else if(AB(t)){Io(e,117),Kn(e,t.length);for(let n=0;n<t.length;n++)h1(e,t[n])}else if(t instanceof Uint8Array)Io(e,116),hl(e,t);else{Io(e,118);const n=Object.keys(t);Kn(e,n.length);for(let r=0;r<n.length;r++){const i=n[r];zv(e,i),h1(e,t[i])}}break;case"boolean":Io(e,t?120:121);break;default:Io(e,127)}};class kW extends FT{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&Kn(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const _W=e=>{e.count>0&&(Y9(e.encoder,e.count===1?e.s:-e.s),e.count>1&&Kn(e.encoder,e.count-2))};class ZA{constructor(){this.encoder=new FT,this.s=0,this.count=0}write(t){this.s===t?this.count++:(_W(this),this.count=1,this.s=t)}toUint8Array(){return _W(this),du(this.encoder)}}const AW=e=>{if(e.count>0){const t=e.diff*2+(e.count===1?0:1);Y9(e.encoder,t),e.count>1&&Kn(e.encoder,e.count-2)}};class gP{constructor(){this.encoder=new FT,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(AW(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return AW(this),du(this.encoder)}}class qje{constructor(){this.sarr=[],this.s="",this.lensE=new ZA}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new FT;return this.sarr.push(this.s),this.s="",zv(t,this.sarr.join("")),qD(t,this.lensE.toUint8Array()),du(t)}}const pm=e=>new Error(e),mu=()=>{throw pm("Method unimplemented")},Dl=()=>{throw pm("Unexpected case")},dce=pm("Unexpected end of array"),fce=pm("Integer out of Range");class WD{constructor(t){this.arr=t,this.pos=0}}const sx=e=>new WD(e),Wje=e=>e.pos!==e.arr.length,Yje=(e,t)=>{const n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},pl=e=>Yje(e,Bn(e)),p1=e=>e.arr[e.pos++],Bn=e=>{let t=0,n=1;const r=e.arr.length;for(;e.pos<r;){const i=e.arr[e.pos++];if(t=t+(i&w0)*n,n*=128,i<ns)return t;if(t>uce)throw fce}throw dce},K9=e=>{let t=e.arr[e.pos++],n=t&NB,r=64;const i=(t&qf)>0?-1:1;if((t&ns)===0)return i*n;const o=e.arr.length;for(;e.pos<o;){if(t=e.arr[e.pos++],n=n+(t&w0)*r,r*=128,t<ns)return i*n;if(n>uce)throw fce}throw dce},Gje=e=>{let t=Bn(e);if(t===0)return"";{let n=String.fromCodePoint(p1(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(p1(e));else for(;t>0;){const r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))}},Kje=e=>vE.decode(pl(e)),Vv=vE?Kje:Gje,X9=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},Xje=e=>X9(e,4).getFloat32(0,!1),Zje=e=>X9(e,8).getFloat64(0,!1),Qje=e=>X9(e,8).getBigInt64(0,!1),Jje=[e=>{},e=>null,K9,Xje,Zje,Qje,e=>!1,e=>!0,Vv,e=>{const t=Bn(e),n={};for(let r=0;r<t;r++){const i=Vv(e);n[i]=mC(e)}return n},e=>{const t=Bn(e),n=[];for(let r=0;r<t;r++)n.push(mC(e));return n},pl],mC=e=>Jje[127-p1(e)](e);class NW extends WD{constructor(t,n){super(t),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),Wje(this)?this.count=Bn(this)+1:this.count=-1),this.count--,this.s}}class QA extends WD{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=K9(this);const t=cce(this.s);this.count=1,t&&(this.s=-this.s,this.count=Bn(this)+2)}return this.count--,this.s}}class yP extends WD{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=K9(this),n=t&1;this.diff=nh(t/2),this.count=1,n&&(this.count=Bn(this)+2)}return this.s+=this.diff,this.count--,this.s}}class e5e{constructor(t){this.decoder=new QA(t),this.str=Vv(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),n=this.str.slice(this.spos,t);return this.spos=t,n}}const t5e=crypto.getRandomValues.bind(crypto),n5e=Math.random,hce=()=>t5e(new Uint32Array(1))[0],r5e=e=>e[nh(n5e()*e.length)],i5e="10000000-1000-4000-8000"+-1e11,o5e=()=>i5e.replace(/[018]/g,e=>(e^hce()&15>>e/4).toString(16)),a5e=Date.now,OW=e=>new Promise(e);Promise.all.bind(Promise);const MW=e=>e===void 0?null:e;class s5e{constructor(){this.map=new Map}setItem(t,n){this.map.set(t,n)}getItem(t){return this.map.get(t)}}let pce=new s5e,l5e=!0;try{typeof localStorage<"u"&&localStorage&&(pce=localStorage,l5e=!1)}catch{}const c5e=pce,u5e=Object.assign,mce=Object.keys,d5e=(e,t)=>{for(const n in e)t(e[n],n)},DW=e=>mce(e).length,f5e=e=>{for(const t in e)return!1;return!0},gce=(e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0},h5e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p5e=(e,t)=>e===t||DW(e)===DW(t)&&gce(e,(n,r)=>(n!==void 0||h5e(t,r))&&t[r]===n),m5e=Object.freeze,yce=e=>{for(const t in e){const n=e[t];(typeof n=="object"||typeof n=="function")&&yce(e[t])}return m5e(e)},Z9=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&Z9(e,t,n+1)}},g5e=e=>e,y5e=(e,t)=>t.includes(e);var bce={};const m1=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",vce=typeof window<"u"&&typeof document<"u"&&!m1;let ld;const b5e=()=>{if(ld===void 0)if(m1){ld=mc();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];r[0]==="-"?(t!==null&&ld.set(t,""),t=r):t!==null&&(ld.set(t,r),t=null)}t!==null&&ld.set(t,"")}else typeof location=="object"?(ld=mc(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){const[t,n]=e.split("=");ld.set(`--${CW(t,"-")}`,n),ld.set(`-${CW(t,"-")}`,n)}})):ld=mc();return ld},DB=e=>b5e().has(e),BN=e=>MW(m1?bce[e.toUpperCase().replaceAll("-","_")]:c5e.getItem(e)),xce=e=>DB("--"+e)||BN(e)!==null;xce("production");const v5e=m1&&y5e(bce.FORCE_COLOR,["true","1","2"]),x5e=v5e||!DB("--no-colors")&&!xce("no-color")&&(!m1||process.stdout.isTTY)&&(!m1||DB("--color")||BN("COLORTERM")!==null||(BN("TERM")||"").includes("color")),w5e=e=>new Uint8Array(e),S5e=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=_je(e[n]);return btoa(t)},E5e=e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),C5e=vce?S5e:E5e,T5e=e=>{const t=w5e(e.byteLength);return t.set(e),t},k5e=e=>Pje(t=>h1(t,e));class _5e{constructor(t,n){this.left=t,this.right=n}}const wf=(e,t)=>new _5e(e,t),A5e=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const N5e=e=>xje(e,(t,n)=>`${n}:${t};`).join(""),O5e=e=>class{constructor(n){this._=n}destroy(){e(this._)}},M5e=O5e(clearTimeout),Q9=(e,t)=>new M5e(setTimeout(t,e)),dh=Symbol,wce=dh(),Sce=dh(),D5e=dh(),R5e=dh(),I5e=dh(),Ece=dh(),P5e=dh(),J9=dh(),L5e=dh(),j5e=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[];let r=0;for(;r<e.length;r++){const i=e[r];if(i===void 0)break;if(i.constructor===String||i.constructor===Number)t.push(i);else if(i.constructor===Object)break}for(r>0&&n.push(t.join(""));r<e.length;r++){const i=e[r];i instanceof Symbol||n.push(i)}return n},B5e={[wce]:wf("font-weight","bold"),[Sce]:wf("font-weight","normal"),[D5e]:wf("color","blue"),[I5e]:wf("color","green"),[R5e]:wf("color","grey"),[Ece]:wf("color","red"),[P5e]:wf("color","purple"),[J9]:wf("color","orange"),[L5e]:wf("color","black")},$5e=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[],r=mc();let i=[],o=0;for(;o<e.length;o++){const a=e[o],s=B5e[a];if(s!==void 0)r.set(s.left,s.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const l=N5e(r);o>0||l.length>0?(t.push("%c"+a),n.push(l)):t.push(a)}else break}}for(o>0&&(i=n,i.unshift(t.join("")));o<e.length;o++){const a=e[o];a instanceof Symbol||i.push(a)}return i},Cce=x5e?$5e:j5e,H5e=(...e)=>{console.log(...Cce(e)),kce.forEach(t=>t.print(e))},Tce=(...e)=>{console.warn(...Cce(e)),e.unshift(J9),kce.forEach(t=>t.print(e))},kce=q0(),_ce=e=>({[Symbol.iterator](){return this},next:e}),F5e=(e,t)=>_ce(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),bP=(e,t)=>_ce(()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}});class eF{constructor(t,n){this.clock=t,this.len=n}}class lx{constructor(){this.clients=new Map}}const mm=(e,t,n)=>t.clients.forEach((r,i)=>{const o=e.doc.store.clients.get(i);if(o!=null){const a=o[o.length-1],s=a.id.clock+a.length;for(let l=0,c=r[l];l<r.length&&c.clock<s;c=r[++l])Fce(e,o,c.clock,c.len,n)}}),U5e=(e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const i=nh((n+r)/2),o=e[i],a=o.clock;if(a<=t){if(t<a+o.len)return i;n=i+1}else r=i-1}return null},cx=(e,t)=>{const n=e.clients.get(t.client);return n!==void 0&&U5e(n,t.clock)!==null},tF=e=>{e.clients.forEach(t=>{t.sort((i,o)=>i.clock-o.clock);let n,r;for(n=1,r=1;n<t.length;n++){const i=t[r-1],o=t[n];i.clock+i.len>=o.clock?i.len=xu(i.len,o.clock+o.len-i.clock):(r<n&&(t[r]=o),r++)}t.length=r})},RB=e=>{const t=new lx;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,i)=>{if(!t.clients.has(i)){const o=r.slice();for(let a=n+1;a<e.length;a++)Sje(o,e[a].clients.get(i)||[]);t.clients.set(i,o)}});return tF(t),t},gC=(e,t,n,r)=>{Hd(e.clients,t,()=>[]).push(new eF(n,r))},Ace=()=>new lx,Nce=e=>{const t=Ace();return e.clients.forEach((n,r)=>{const i=[];for(let o=0;o<n.length;o++){const a=n[o];if(a.deleted){const s=a.id.clock;let l=a.length;if(o+1<n.length)for(let c=n[o+1];o+1<n.length&&c.deleted;c=n[++o+1])l+=c.length;i.push(new eF(s,l))}}i.length>0&&t.clients.set(r,i)}),t},ux=(e,t)=>{Kn(e.restEncoder,t.clients.size),hm(t.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{e.resetDsCurVal(),Kn(e.restEncoder,n);const i=r.length;Kn(e.restEncoder,i);for(let o=0;o<i;o++){const a=r[o];e.writeDsClock(a.clock),e.writeDsLen(a.len)}})},nF=e=>{const t=new lx,n=Bn(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const i=Bn(e.restDecoder),o=Bn(e.restDecoder);if(o>0){const a=Hd(t.clients,i,()=>[]);for(let s=0;s<o;s++)a.push(new eF(e.readDsClock(),e.readDsLen()))}}return t},RW=(e,t,n)=>{const r=new lx,i=Bn(e.restDecoder);for(let o=0;o<i;o++){e.resetDsCurVal();const a=Bn(e.restDecoder),s=Bn(e.restDecoder),l=n.clients.get(a)||[],c=Yi(n,a);for(let u=0;u<s;u++){const d=e.readDsClock(),p=d+e.readDsLen();if(d<c){c<p&&gC(r,a,c,p-c);let m=Sc(l,d),v=l[m];for(!v.deleted&&v.id.clock<d&&(l.splice(m+1,0,qN(t,v,d-v.id.clock)),m++);m<l.length&&(v=l[m++],v.id.clock<p);)v.deleted||(p<v.id.clock+v.length&&l.splice(m,0,qN(t,v,p-v.id.clock)),v.delete(t))}else gC(r,a,d,p-d)}}if(r.clients.size>0){const o=new W0;return Kn(o.restEncoder,0),ux(o,r),o.toUint8Array()}return null},Oce=hce;class Cm extends lce{constructor({guid:t=o5e(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:a=!1,shouldLoad:s=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=Oce(),this.guid=t,this.collectionid=n,this.share=new Map,this.store=new $ce,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=s,this.autoLoad=a,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=OW(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const l=()=>OW(c=>{const u=d=>{(d===void 0||d===!0)&&(this.off("sync",u),c())};this.on("sync",u)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){const t=this._item;t!==null&&!this.shouldLoad&&Fr(t.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(hm(this.subdocs).map(t=>t.guid))}transact(t,n=null){return Fr(this,t,n)}get(t,n=Bo){const r=Hd(this.share,t,()=>{const o=new n;return o._integrate(this,null),o}),i=r.constructor;if(n!==Bo&&i!==n)if(i===Bo){const o=new n;o._map=r._map,r._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=o}),o._start=r._start;for(let a=o._start;a!==null;a=a.right)a.parent=o;return o._length=r._length,this.share.set(t,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return r}getArray(t=""){return this.get(t,Yv)}getText(t=""){return this.get(t,gm)}getMap(t=""){return this.get(t,y1)}getXmlElement(t=""){return this.get(t,Jo)}getXmlFragment(t=""){return this.get(t,ym)}toJSON(){const t={};return this.share.forEach((n,r)=>{t[r]=n.toJSON()}),t}destroy(){this.isDestroyed=!0,hm(this.subdocs).forEach(n=>n.destroy());const t=this._item;if(t!==null){this._item=null;const n=t.content;n.doc=new Cm({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=t,Fr(t.parent.doc,r=>{const i=n.doc;t.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class Mce{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return Bn(this.restDecoder)}readDsLen(){return Bn(this.restDecoder)}}class Dce extends Mce{readLeftID(){return vn(Bn(this.restDecoder),Bn(this.restDecoder))}readRightID(){return vn(Bn(this.restDecoder),Bn(this.restDecoder))}readClient(){return Bn(this.restDecoder)}readInfo(){return p1(this.restDecoder)}readString(){return Vv(this.restDecoder)}readParentInfo(){return Bn(this.restDecoder)===1}readTypeRef(){return Bn(this.restDecoder)}readLen(){return Bn(this.restDecoder)}readAny(){return mC(this.restDecoder)}readBuf(){return T5e(pl(this.restDecoder))}readJSON(){return JSON.parse(Vv(this.restDecoder))}readKey(){return Vv(this.restDecoder)}}class z5e{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Bn(this.restDecoder),this.dsCurrVal}readDsLen(){const t=Bn(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class g1 extends z5e{constructor(t){super(t),this.keys=[],Bn(t),this.keyClockDecoder=new yP(pl(t)),this.clientDecoder=new QA(pl(t)),this.leftClockDecoder=new yP(pl(t)),this.rightClockDecoder=new yP(pl(t)),this.infoDecoder=new NW(pl(t),p1),this.stringDecoder=new e5e(pl(t)),this.parentInfoDecoder=new NW(pl(t),p1),this.typeRefDecoder=new QA(pl(t)),this.lenDecoder=new QA(pl(t))}readLeftID(){return new qv(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new qv(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return mC(this.restDecoder)}readBuf(){return pl(this.restDecoder)}readJSON(){return mC(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class Rce{constructor(){this.restEncoder=UT()}toUint8Array(){return du(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){Kn(this.restEncoder,t)}writeDsLen(t){Kn(this.restEncoder,t)}}class zT extends Rce{writeLeftID(t){Kn(this.restEncoder,t.client),Kn(this.restEncoder,t.clock)}writeRightID(t){Kn(this.restEncoder,t.client),Kn(this.restEncoder,t.clock)}writeClient(t){Kn(this.restEncoder,t)}writeInfo(t){OB(this.restEncoder,t)}writeString(t){zv(this.restEncoder,t)}writeParentInfo(t){Kn(this.restEncoder,t?1:0)}writeTypeRef(t){Kn(this.restEncoder,t)}writeLen(t){Kn(this.restEncoder,t)}writeAny(t){h1(this.restEncoder,t)}writeBuf(t){hl(this.restEncoder,t)}writeJSON(t){zv(this.restEncoder,JSON.stringify(t))}writeKey(t){zv(this.restEncoder,t)}}class Ice{constructor(){this.restEncoder=UT(),this.dsCurrVal=0}toUint8Array(){return du(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const n=t-this.dsCurrVal;this.dsCurrVal=t,Kn(this.restEncoder,n)}writeDsLen(t){t===0&&Dl(),Kn(this.restEncoder,t-1),this.dsCurrVal+=t}}class W0 extends Ice{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new gP,this.clientEncoder=new ZA,this.leftClockEncoder=new gP,this.rightClockEncoder=new gP,this.infoEncoder=new kW(OB),this.stringEncoder=new qje,this.parentInfoEncoder=new kW(OB),this.typeRefEncoder=new ZA,this.lenEncoder=new ZA}toUint8Array(){const t=UT();return Kn(t,0),hl(t,this.keyClockEncoder.toUint8Array()),hl(t,this.clientEncoder.toUint8Array()),hl(t,this.leftClockEncoder.toUint8Array()),hl(t,this.rightClockEncoder.toUint8Array()),hl(t,du(this.infoEncoder)),hl(t,this.stringEncoder.toUint8Array()),hl(t,du(this.parentInfoEncoder)),hl(t,this.typeRefEncoder.toUint8Array()),hl(t,this.lenEncoder.toUint8Array()),qD(t,du(this.restEncoder)),du(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){h1(this.restEncoder,t)}writeBuf(t){hl(this.restEncoder,t)}writeJSON(t){h1(this.restEncoder,t)}writeKey(t){const n=this.keyMap.get(t);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(n)}}const V5e=(e,t,n,r)=>{r=xu(r,t[0].id.clock);const i=Sc(t,r);Kn(e.restEncoder,t.length-i),e.writeClient(n),Kn(e.restEncoder,r);const o=t[i];o.write(e,r-o.id.clock);for(let a=i+1;a<t.length;a++)t[a].write(e,0)},rF=(e,t,n)=>{const r=new Map;n.forEach((i,o)=>{Yi(t,o)>i&&r.set(o,i)}),VT(t).forEach((i,o)=>{n.has(o)||r.set(o,0)}),Kn(e.restEncoder,r.size),hm(r.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{V5e(e,t.clients.get(i),i,o)})},q5e=(e,t)=>{const n=mc(),r=Bn(e.restDecoder);for(let i=0;i<r;i++){const o=Bn(e.restDecoder),a=new Array(o),s=e.readClient();let l=Bn(e.restDecoder);n.set(s,{i:0,refs:a});for(let c=0;c<o;c++){const u=e.readInfo();switch(VD&u){case 0:{const d=e.readLen();a[c]=new sc(vn(s,l),d),l+=d;break}case 10:{const d=Bn(e.restDecoder);a[c]=new lc(vn(s,l),d),l+=d;break}default:{const d=(u&(qf|ns))===0,p=new ri(vn(s,l),null,(u&ns)===ns?e.readLeftID():null,null,(u&qf)===qf?e.readRightID():null,d?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,d&&(u&hC)===hC?e.readString():null,cue(e,u));a[c]=p,l+=p.length}}}}return n},W5e=(e,t,n)=>{const r=[];let i=hm(n.keys()).sort((m,v)=>m-v);if(i.length===0)return null;const o=()=>{if(i.length===0)return null;let m=n.get(i[i.length-1]);for(;m.refs.length===m.i;)if(i.pop(),i.length>0)m=n.get(i[i.length-1]);else return null;return m};let a=o();if(a===null)return null;const s=new $ce,l=new Map,c=(m,v)=>{const x=l.get(m);(x==null||x>v)&&l.set(m,v)};let u=a.refs[a.i++];const d=new Map,p=()=>{for(const m of r){const v=m.id.client,x=n.get(v);x?(x.i--,s.clients.set(v,x.refs.slice(x.i)),n.delete(v),x.i=0,x.refs=[]):s.clients.set(v,[m]),i=i.filter(w=>w!==v)}r.length=0};for(;;){if(u.constructor!==lc){const v=Hd(d,u.id.client,()=>Yi(t,u.id.client))-u.id.clock;if(v<0)r.push(u),c(u.id.client,u.id.clock-1),p();else{const x=u.getMissing(e,t);if(x!==null){r.push(u);const w=n.get(x)||{refs:[],i:0};if(w.refs.length===w.i)c(x,Yi(t,x)),p();else{u=w.refs[w.i++];continue}}else(v===0||v<u.length)&&(u.integrate(e,v),d.set(u.id.client,u.id.clock+u.length))}}if(r.length>0)u=r.pop();else if(a!==null&&a.i<a.refs.length)u=a.refs[a.i++];else{if(a=o(),a===null)break;u=a.refs[a.i++]}}if(s.clients.size>0){const m=new W0;return rF(m,s,new Map),Kn(m.restEncoder,0),{missing:l,update:m.toUint8Array()}}return null},Y5e=(e,t)=>rF(e,t.doc.store,t.beforeState),G5e=(e,t,n,r=new g1(e))=>Fr(t,i=>{i.local=!1;let o=!1;const a=i.doc,s=a.store,l=q5e(r,a),c=W5e(i,s,l),u=s.pendingStructs;if(u){for(const[p,m]of u.missing)if(m<Yi(s,p)){o=!0;break}if(c){for(const[p,m]of c.missing){const v=u.missing.get(p);(v==null||v>m)&&u.missing.set(p,m)}u.update=HN([u.update,c.update])}}else s.pendingStructs=c;const d=RW(r,i,s);if(s.pendingDs){const p=new g1(sx(s.pendingDs));Bn(p.restDecoder);const m=RW(p,i,s);d&&m?s.pendingDs=HN([d,m]):s.pendingDs=d||m}else s.pendingDs=d;if(o){const p=s.pendingStructs.update;s.pendingStructs=null,$N(i.doc,p)}},n,!1),$N=(e,t,n,r=g1)=>{const i=sx(t);G5e(i,e,n,new r(i))},IW=(e,t,n)=>$N(e,t,n,Dce),K5e=(e,t,n=new Map)=>{rF(e,t.store,n),ux(e,Nce(t.store))},X5e=(e,t=new Uint8Array([0]),n=new W0)=>{const r=Pce(t);K5e(n,e,r);const i=[n.toUint8Array()];if(e.store.pendingDs&&i.push(e.store.pendingDs),e.store.pendingStructs&&i.push(m6e(e.store.pendingStructs.update,t)),i.length>1){if(n.constructor===zT)return h6e(i.map((o,a)=>a===0?o:y6e(o)));if(n.constructor===W0)return HN(i)}return i[0]},PW=(e,t)=>X5e(e,t,new zT),Z5e=e=>{const t=new Map,n=Bn(e.restDecoder);for(let r=0;r<n;r++){const i=Bn(e.restDecoder),o=Bn(e.restDecoder);t.set(i,o)}return t},Pce=e=>Z5e(new Mce(sx(e))),Lce=(e,t)=>(Kn(e.restEncoder,t.size),hm(t.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{Kn(e.restEncoder,n),Kn(e.restEncoder,r)}),e),Q5e=(e,t)=>Lce(e,VT(t.store)),J5e=(e,t=new Ice)=>(e instanceof Map?Lce(t,e):Q5e(t,e),t.toUint8Array()),e6e=e=>J5e(e,new Rce);class t6e{constructor(){this.l=[]}}const LW=()=>new t6e,jW=(e,t)=>e.l.push(t),BW=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter(i=>t!==i),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},jce=(e,t,n)=>Z9(e.l,[t,n]);class qv{constructor(t,n){this.client=t,this.clock=n}}const Mv=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,vn=(e,t)=>new qv(e,t),yC=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw Dl()},bC=(e,t)=>{for(;t!==null;){if(t.parent===e)return!0;t=t.parent._item}return!1};class vC{constructor(t,n,r,i=0){this.type=t,this.tname=n,this.item=r,this.assoc=i}}const xE=e=>new vC(e.type==null?null:vn(e.type.client,e.type.clock),e.tname??null,e.item==null?null:vn(e.item.client,e.item.clock),e.assoc==null?0:e.assoc);class n6e{constructor(t,n,r=0){this.type=t,this.index=n,this.assoc=r}}const r6e=(e,t,n=0)=>new n6e(e,t,n),rA=(e,t,n)=>{let r=null,i=null;return e._item===null?i=yC(e):r=vn(e._item.id.client,e._item.id.clock),new vC(r,i,t,n)},vP=(e,t,n=0)=>{let r=e._start;if(n<0){if(t===0)return rA(e,null,n);t--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>t)return rA(e,vn(r.id.client,r.id.clock+t),n);t-=r.length}if(r.right===null&&n<0)return rA(e,r.lastId,n);r=r.right}return rA(e,null,n)},i6e=(e,t)=>{const n=Wv(e,t),r=t.clock-n.id.clock;return{item:n,diff:r}},o6e=(e,t,n=!0)=>{const r=t.store,i=e.item,o=e.type,a=e.tname,s=e.assoc;let l=null,c=0;if(i!==null){if(Yi(r,i.client)<=i.clock)return null;const u=n?jB(r,i):i6e(r,i),d=u.item;if(!(d instanceof ri))return null;if(l=d.parent,l._item===null||!l._item.deleted){c=d.deleted||!d.countable?0:u.diff+(s>=0?0:1);let p=d.left;for(;p!==null;)!p.deleted&&p.countable&&(c+=p.length),p=p.left}}else{if(a!==null)l=t.get(a);else if(o!==null){if(Yi(r,o.client)<=o.clock)return null;const{item:u}=n?jB(r,o):{item:Wv(r,o)};if(u instanceof ri&&u.content instanceof ku)l=u.content.type;else return null}else throw Dl();s>=0?c=l._length:c=0}return r6e(l,c,e.assoc)},$W=(e,t)=>e===t||e!==null&&t!==null&&e.tname===t.tname&&Mv(e.item,t.item)&&Mv(e.type,t.type)&&e.assoc===t.assoc;class iF{constructor(t,n){this.ds=t,this.sv=n}}const Bce=(e,t)=>new iF(e,t),xP=e=>Bce(Nce(e.store),VT(e.store)),i0=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!cx(t.ds,e.id),IB=(e,t)=>{const n=Hd(e.meta,IB,q0),r=e.doc.store;n.has(t)||(t.sv.forEach((i,o)=>{i<Yi(r,o)&&Ls(e,vn(o,i))}),mm(e,t.ds,i=>{}),n.add(t))};class $ce{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const VT=e=>{const t=new Map;return e.clients.forEach((n,r)=>{const i=n[n.length-1];t.set(r,i.id.clock+i.length)}),t},Yi=(e,t)=>{const n=e.clients.get(t);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},Hce=(e,t)=>{let n=e.clients.get(t.id.client);if(n===void 0)n=[],e.clients.set(t.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw Dl()}n.push(t)},Sc=(e,t)=>{let n=0,r=e.length-1,i=e[r],o=i.id.clock;if(o===t)return r;let a=nh(t/(o+i.length-1)*r);for(;n<=r;){if(i=e[a],o=i.id.clock,o<=t){if(t<o+i.length)return a;n=a+1}else r=a-1;a=nh((n+r)/2)}throw Dl()},a6e=(e,t)=>{const n=e.clients.get(t.client);return n[Sc(n,t.clock)]},Wv=a6e,PB=(e,t,n)=>{const r=Sc(t,n),i=t[r];return i.id.clock<n&&i instanceof ri?(t.splice(r+1,0,qN(e,i,n-i.id.clock)),r+1):r},Ls=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[PB(e,n,t.clock)]},HW=(e,t,n)=>{const r=t.clients.get(n.client),i=Sc(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==sc&&r.splice(i+1,0,qN(e,o,n.clock-o.id.clock+1)),o},s6e=(e,t,n)=>{const r=e.clients.get(t.id.client);r[Sc(r,t.id.clock)]=n},Fce=(e,t,n,r,i)=>{if(r===0)return;const o=n+r;let a=PB(e,t,n),s;do s=t[a++],o<s.id.clock+s.length&&PB(e,t,o),i(s);while(a<t.length&&t[a].id.clock<o)};class l6e{constructor(t,n,r){this.doc=t,this.deleteSet=new lx,this.beforeState=VT(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const FW=(e,t)=>t.deleteSet.clients.size===0&&!wje(t.afterState,(n,r)=>t.beforeState.get(r)!==n)?!1:(tF(t.deleteSet),Y5e(e,t),ux(e,t.deleteSet),!0),UW=(e,t,n)=>{const r=t._item;(r===null||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&Hd(e.changed,t,q0).add(n)},JA=(e,t)=>{let n=e[t],r=e[t-1],i=t;for(;i>0;n=r,r=e[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof ri&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const o=t-i;return o&&e.splice(t+1-o,o),o},c6e=(e,t,n)=>{for(const[r,i]of e.clients.entries()){const o=t.clients.get(r);for(let a=i.length-1;a>=0;a--){const s=i[a],l=s.clock+s.len;for(let c=Sc(o,s.clock),u=o[c];c<o.length&&u.id.clock<l;u=o[++c]){const d=o[c];if(s.clock+s.len<=d.id.clock)break;d instanceof ri&&d.deleted&&!d.keep&&n(d)&&d.gc(t,!1)}}}},u6e=(e,t)=>{e.clients.forEach((n,r)=>{const i=t.clients.get(r);for(let o=n.length-1;o>=0;o--){const a=n[o],s=Vf(i.length-1,1+Sc(i,a.clock+a.len-1));for(let l=s,c=i[l];l>0&&c.id.clock>=a.clock;c=i[l])l-=1+JA(i,l)}})},Uce=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,i=r.store,o=n.deleteSet,a=n._mergeStructs;try{tF(o),n.afterState=VT(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const s=[];n.changed.forEach((l,c)=>s.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,l)})),s.push(()=>{n.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(u=>u.target._item===null||!u.target._item.deleted),l.forEach(u=>{u.currentTarget=c,u._path=null}),l.sort((u,d)=>u.path.length-d.path.length),jce(c._dEH,l,n))})}),s.push(()=>r.emit("afterTransaction",[n,r])),Z9(s,[]),n._needFormattingCleanup&&M6e(n)}finally{r.gc&&c6e(o,i,r.gcFilter),u6e(o,i),n.afterState.forEach((u,d)=>{const p=n.beforeState.get(d)||0;if(p!==u){const m=i.clients.get(d),v=xu(Sc(m,p),1);for(let x=m.length-1;x>=v;)x-=1+JA(m,x)}});for(let u=a.length-1;u>=0;u--){const{client:d,clock:p}=a[u].id,m=i.clients.get(d),v=Sc(m,p);v+1<m.length&&JA(m,v+1)>1||v>0&&JA(m,v)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(H5e(J9,wce,"[yjs] ",Sce,Ece,"Changed the client-id because another client seems to be using it."),r.clientID=Oce()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const u=new zT;FW(u,n)&&r.emit("update",[u.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const u=new W0;FW(u,n)&&r.emit("updateV2",[u.toUint8Array(),n.origin,r,n])}const{subdocsAdded:s,subdocsLoaded:l,subdocsRemoved:c}=n;(s.size>0||c.size>0||l.size>0)&&(s.forEach(u=>{u.clientID=r.clientID,u.collectionid==null&&(u.collectionid=r.collectionid),r.subdocs.add(u)}),c.forEach(u=>r.subdocs.delete(u)),r.emit("subdocs",[{loaded:l,added:s,removed:c},r,n]),c.forEach(u=>u.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):Uce(e,t+1)}}},Fr=(e,t,n=null,r=!0)=>{const i=e._transactionCleanups;let o=!1,a=null;e._transaction===null&&(o=!0,e._transaction=new l6e(e,n,r),i.push(e._transaction),i.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{a=t(e._transaction)}finally{if(o){const s=e._transaction===i[0];e._transaction=null,s&&Uce(i,0)}}return a};class d6e{constructor(t,n){this.insertions=n,this.deletions=t,this.meta=new Map}}const zW=(e,t,n)=>{mm(e,n.deletions,r=>{r instanceof ri&&t.scope.some(i=>i===e.doc||bC(i,r))&&fF(r,!1)})},VW=(e,t,n)=>{let r=null;const i=e.doc,o=e.scope;Fr(i,s=>{for(;t.length>0&&e.currStackItem===null;){const l=i.store,c=t.pop(),u=new Set,d=[];let p=!1;mm(s,c.insertions,m=>{if(m instanceof ri){if(m.redone!==null){let{item:v,diff:x}=jB(l,m.id);x>0&&(v=Ls(s,vn(v.id.client,v.id.clock+x))),m=v}!m.deleted&&o.some(v=>v===s.doc||bC(v,m))&&d.push(m)}}),mm(s,c.deletions,m=>{m instanceof ri&&o.some(v=>v===s.doc||bC(v,m))&&!cx(c.insertions,m.id)&&u.add(m)}),u.forEach(m=>{p=lue(s,m,u,c.insertions,e.ignoreRemoteMapChanges,e)!==null||p});for(let m=d.length-1;m>=0;m--){const v=d[m];e.deleteFilter(v)&&(v.delete(s),p=!0)}e.currStackItem=p?c:null}s.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),r=s},e);const a=e.currStackItem;if(a!=null){const s=r.changedParentTypes;e.emit("stack-item-popped",[{stackItem:a,type:n,changedParentTypes:s,origin:e},e]),e.currStackItem=null}return a};class zce extends lce{constructor(t,{captureTimeout:n=500,captureTransaction:r=l=>!0,deleteFilter:i=()=>!0,trackedOrigins:o=new Set([null]),ignoreRemoteMapChanges:a=!1,doc:s=AB(t)?t[0].doc:t instanceof Cm?t:t.doc}={}){super(),this.scope=[],this.doc=s,this.addToScope(t),this.deleteFilter=i,o.add(this),this.trackedOrigins=o,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=a,this.captureTimeout=n,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(w=>l.changedParentTypes.has(w)||w===this.doc)||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const c=this.undoing,u=this.redoing,d=c?this.redoStack:this.undoStack;c?this.stopCapturing():u||this.clear(!1,!0);const p=new lx;l.afterState.forEach((w,T)=>{const k=l.beforeState.get(T)||0,N=w-k;N>0&&gC(p,T,k,N)});const m=a5e();let v=!1;if(this.lastChange>0&&m-this.lastChange<this.captureTimeout&&d.length>0&&!c&&!u){const w=d[d.length-1];w.deletions=RB([w.deletions,l.deleteSet]),w.insertions=RB([w.insertions,p])}else d.push(new d6e(l.deleteSet,p)),v=!0;!c&&!u&&(this.lastChange=m),mm(l,l.deleteSet,w=>{w instanceof ri&&this.scope.some(T=>T===l.doc||bC(T,w))&&fF(w,!0)});const x=[{stackItem:d[d.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];v?this.emit("stack-item-added",x):this.emit("stack-item-updated",x)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(t){const n=new Set(this.scope);t=AB(t)?t:[t],t.forEach(r=>{n.has(r)||(n.add(r),(r instanceof Bo?r.doc!==this.doc:r!==this.doc)&&Tce("[yjs#509] Not same Y.Doc"),this.scope.push(r))})}addTrackedOrigin(t){this.trackedOrigins.add(t)}removeTrackedOrigin(t){this.trackedOrigins.delete(t)}clear(t=!0,n=!0){(t&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{t&&(this.undoStack.forEach(i=>zW(r,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>zW(r,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:t,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let t;try{t=VW(this,this.undoStack,"undo")}finally{this.undoing=!1}return t}redo(){this.redoing=!0;let t;try{t=VW(this,this.redoStack,"redo")}finally{this.redoing=!1}return t}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*f6e(e){const t=Bn(e.restDecoder);for(let n=0;n<t;n++){const r=Bn(e.restDecoder),i=e.readClient();let o=Bn(e.restDecoder);for(let a=0;a<r;a++){const s=e.readInfo();if(s===10){const l=Bn(e.restDecoder);yield new lc(vn(i,o),l),o+=l}else if((VD&s)!==0){const l=(s&(qf|ns))===0,c=new ri(vn(i,o),null,(s&ns)===ns?e.readLeftID():null,null,(s&qf)===qf?e.readRightID():null,l?e.readParentInfo()?e.readString():e.readLeftID():null,l&&(s&hC)===hC?e.readString():null,cue(e,s));yield c,o+=c.length}else{const l=e.readLen();yield new sc(vn(i,o),l),o+=l}}}}class oF{constructor(t,n){this.gen=f6e(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===lc);return this.curr}}class aF{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const h6e=e=>HN(e,Dce,zT),p6e=(e,t)=>{if(e.constructor===sc){const{client:n,clock:r}=e.id;return new sc(vn(n,r+t),e.length-t)}else if(e.constructor===lc){const{client:n,clock:r}=e.id;return new lc(vn(n,r+t),e.length-t)}else{const n=e,{client:r,clock:i}=n.id;return new ri(vn(r,i+t),null,vn(r,i+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},HN=(e,t=g1,n=W0)=>{if(e.length===1)return e[0];const r=e.map(u=>new t(sx(u)));let i=r.map(u=>new oF(u,!0)),o=null;const a=new n,s=new aF(a);for(;i=i.filter(p=>p.curr!==null),i.sort((p,m)=>{if(p.curr.id.client===m.curr.id.client){const v=p.curr.id.clock-m.curr.id.clock;return v===0?p.curr.constructor===m.curr.constructor?0:p.curr.constructor===lc?1:-1:v}else return m.curr.id.client-p.curr.id.client}),i.length!==0;){const u=i[0],d=u.curr.id.client;if(o!==null){let p=u.curr,m=!1;for(;p!==null&&p.id.clock+p.length<=o.struct.id.clock+o.struct.length&&p.id.client>=o.struct.id.client;)p=u.next(),m=!0;if(p===null||p.id.client!==d||m&&p.id.clock>o.struct.id.clock+o.struct.length)continue;if(d!==o.struct.id.client)Ip(s,o.struct,o.offset),o={struct:p,offset:0},u.next();else if(o.struct.id.clock+o.struct.length<p.id.clock)if(o.struct.constructor===lc)o.struct.length=p.id.clock+p.length-o.struct.id.clock;else{Ip(s,o.struct,o.offset);const v=p.id.clock-o.struct.id.clock-o.struct.length;o={struct:new lc(vn(d,o.struct.id.clock+o.struct.length),v),offset:0}}else{const v=o.struct.id.clock+o.struct.length-p.id.clock;v>0&&(o.struct.constructor===lc?o.struct.length-=v:p=p6e(p,v)),o.struct.mergeWith(p)||(Ip(s,o.struct,o.offset),o={struct:p,offset:0},u.next())}}else o={struct:u.curr,offset:0},u.next();for(let p=u.curr;p!==null&&p.id.client===d&&p.id.clock===o.struct.id.clock+o.struct.length&&p.constructor!==lc;p=u.next())Ip(s,o.struct,o.offset),o={struct:p,offset:0}}o!==null&&(Ip(s,o.struct,o.offset),o=null),sF(s);const l=r.map(u=>nF(u)),c=RB(l);return ux(a,c),a.toUint8Array()},m6e=(e,t,n=g1,r=W0)=>{const i=Pce(t),o=new r,a=new aF(o),s=new n(sx(e)),l=new oF(s,!1);for(;l.curr;){const u=l.curr,d=u.id.client,p=i.get(d)||0;if(l.curr.constructor===lc){l.next();continue}if(u.id.clock+u.length>p)for(Ip(a,u,xu(p-u.id.clock,0)),l.next();l.curr&&l.curr.id.client===d;)Ip(a,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===d&&l.curr.id.clock+l.curr.length<=p;)l.next()}sF(a);const c=nF(s);return ux(o,c),o.toUint8Array()},Vce=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:du(e.encoder.restEncoder)}),e.encoder.restEncoder=UT(),e.written=0)},Ip=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&Vce(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),Kn(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},sF=e=>{Vce(e);const t=e.encoder.restEncoder;Kn(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];Kn(t,r.written),qD(t,r.restEncoder)}},g6e=(e,t,n,r)=>{const i=new n(sx(e)),o=new oF(i,!1),a=new r,s=new aF(a);for(let c=o.curr;c!==null;c=o.next())Ip(s,t(c),0);sF(s);const l=nF(i);return ux(a,l),a.toUint8Array()},y6e=e=>g6e(e,g5e,g1,zT),qW="You must not compute changes after the event-handler fired.";class YD{constructor(t,n){this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=b6e(this.currentTarget,this.target))}deletes(t){return cx(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw pm(qW);const t=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const o=n._map.get(i);let a,s;if(this.adds(o)){let l=o.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(o))if(l!==null&&this.deletes(l))a="delete",s=hP(l.content.getContent());else return;else l!==null&&this.deletes(l)?(a="update",s=hP(l.content.getContent())):(a="add",s=void 0)}else if(this.deletes(o))a="delete",s=hP(o.content.getContent());else return;t.set(i,{action:a,oldValue:s})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw pm(qW);const n=this.target,r=q0(),i=q0(),o=[];if(t={added:r,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(n).has(null)){let s=null;const l=()=>{s&&o.push(s)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((s===null||s.delete===void 0)&&(l(),s={delete:0}),s.delete+=c.length,i.add(c)):this.adds(c)?((s===null||s.insert===void 0)&&(l(),s={insert:[]}),s.insert=s.insert.concat(c.content.getContent()),r.add(c)):((s===null||s.retain===void 0)&&(l(),s={retain:0}),s.retain+=c.length);s!==null&&s.retain===void 0&&l()}this._changes=t}return t}}const b6e=(e,t)=>{const n=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)n.unshift(t._item.parentSub);else{let r=0,i=t._item.parent._start;for(;i!==t._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}t=t._item.parent}return n},Ca=()=>{Tce("Invalid access: Add Yjs type to a document before reading data.")},qce=80;let lF=0;class v6e{constructor(t,n){t.marker=!0,this.p=t,this.index=n,this.timestamp=lF++}}const x6e=e=>{e.timestamp=lF++},Wce=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=lF++},w6e=(e,t,n)=>{if(e.length>=qce){const r=e.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return Wce(r,t,n),r}else{const r=new v6e(t,n);return e.push(r),r}},GD=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;const n=e._searchMarker.length===0?null:e._searchMarker.reduce((o,a)=>XA(t-o.index)<XA(t-a.index)?o:a);let r=e._start,i=0;for(n!==null&&(r=n.p,i=n.index,x6e(n));r.right!==null&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>t;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&XA(n.index-i)<r.parent.length/qce?(Wce(n,r,i),n):w6e(e._searchMarker,r,i)},xC=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const i=e[r];if(n>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){e.splice(r,1);continue}i.p=o,o.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=xu(t,i.index+n))}},KD=(e,t,n)=>{const r=e,i=t.changedParentTypes;for(;Hd(i,e,()=>[]).push(n),e._item!==null;)e=e._item.parent;jce(r._eH,n,t)};class Bo{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=LW(),this._dEH=LW(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,n){this.doc=t,this._item=n}_copy(){throw mu()}clone(){throw mu()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,n){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){jW(this._eH,t)}observeDeep(t){jW(this._dEH,t)}unobserve(t){BW(this._eH,t)}unobserveDeep(t){BW(this._dEH,t)}toJSON(){}}const Yce=(e,t,n)=>{e.doc??Ca(),t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const i=[];let o=e._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){const a=o.content.getContent();if(a.length<=t)t-=a.length;else{for(let s=t;s<a.length&&r>0;s++)i.push(a[s]),r--;t=0}}o=o.right}return i},Gce=e=>{e.doc??Ca();const t=[];let n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)t.push(r[i])}n=n.right}return t},Kce=(e,t)=>{const n=[];let r=e._start;for(;r!==null;){if(r.countable&&i0(r,t)){const i=r.content.getContent();for(let o=0;o<i.length;o++)n.push(i[o])}r=r.right}return n},wC=(e,t)=>{let n=0,r=e._start;for(e.doc??Ca();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let o=0;o<i.length;o++)t(i[o],n++,e)}r=r.right}},Xce=(e,t)=>{const n=[];return wC(e,(r,i)=>{n.push(t(r,i,e))}),n},S6e=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},Zce=(e,t)=>{e.doc??Ca();const n=GD(e,t);let r=e._start;for(n!==null&&(r=n.p,t-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},FN=(e,t,n,r)=>{let i=n;const o=e.doc,a=o.clientID,s=o.store,l=n===null?t._start:n.right;let c=[];const u=()=>{c.length>0&&(i=new ri(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new Y0(c)),i.integrate(e,0),c=[])};r.forEach(d=>{if(d===null)c.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(d);break;default:switch(u(),d.constructor){case Uint8Array:case ArrayBuffer:i=new ri(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new qT(new Uint8Array(d))),i.integrate(e,0);break;case Cm:i=new ri(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new WT(d)),i.integrate(e,0);break;default:if(d instanceof Bo)i=new ri(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new ku(d)),i.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},Qce=()=>pm("Length exceeded!"),Jce=(e,t,n,r)=>{if(n>t._length)throw Qce();if(n===0)return t._searchMarker&&xC(t._searchMarker,n,r.length),FN(e,t,null,r);const i=n,o=GD(t,n);let a=t._start;for(o!==null&&(a=o.p,n-=o.index,n===0&&(a=a.prev,n+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&Ls(e,vn(a.id.client,a.id.clock+n));break}n-=a.length}return t._searchMarker&&xC(t._searchMarker,i,r.length),FN(e,t,a,r)},E6e=(e,t,n)=>{let i=(t._searchMarker||[]).reduce((o,a)=>a.index>o.index?a:o,{index:0,p:t._start}).p;if(i)for(;i.right;)i=i.right;return FN(e,t,i,n)},eue=(e,t,n,r)=>{if(r===0)return;const i=n,o=r,a=GD(t,n);let s=t._start;for(a!==null&&(s=a.p,n-=a.index);s!==null&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&Ls(e,vn(s.id.client,s.id.clock+n)),n-=s.length);for(;r>0&&s!==null;)s.deleted||(r<s.length&&Ls(e,vn(s.id.client,s.id.clock+r)),s.delete(e),r-=s.length),s=s.right;if(r>0)throw Qce();t._searchMarker&&xC(t._searchMarker,i,-o+r)},UN=(e,t,n)=>{const r=t._map.get(n);r!==void 0&&r.delete(e)},cF=(e,t,n,r)=>{const i=t._map.get(n)||null,o=e.doc,a=o.clientID;let s;if(r==null)s=new Y0([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:s=new Y0([r]);break;case Uint8Array:s=new qT(r);break;case Cm:s=new WT(r);break;default:if(r instanceof Bo)s=new ku(r);else throw new Error("Unexpected content type")}new ri(vn(a,Yi(o.store,a)),i,i&&i.lastId,null,null,t,n,s).integrate(e,0)},uF=(e,t)=>{e.doc??Ca();const n=e._map.get(t);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},tue=e=>{const t={};return e.doc??Ca(),e._map.forEach((n,r)=>{n.deleted||(t[r]=n.content.getContent()[n.length-1])}),t},nue=(e,t)=>{e.doc??Ca();const n=e._map.get(t);return n!==void 0&&!n.deleted},C6e=(e,t)=>{const n={};return e._map.forEach((r,i)=>{let o=r;for(;o!==null&&(!t.sv.has(o.id.client)||o.id.clock>=(t.sv.get(o.id.client)||0));)o=o.left;o!==null&&i0(o,t)&&(n[i]=o.content.getContent()[o.length-1])}),n},iA=e=>(e.doc??Ca(),F5e(e._map.entries(),t=>!t[1].deleted));class T6e extends YD{}class Yv extends Bo{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const n=new Yv;return n.push(t),n}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Yv}clone(){const t=new Yv;return t.insert(0,this.toArray().map(n=>n instanceof Bo?n.clone():n)),t}get length(){return this.doc??Ca(),this._length}_callObserver(t,n){super._callObserver(t,n),KD(this,t,new T6e(this,t))}insert(t,n){this.doc!==null?Fr(this.doc,r=>{Jce(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}push(t){this.doc!==null?Fr(this.doc,n=>{E6e(n,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,n=1){this.doc!==null?Fr(this.doc,r=>{eue(r,this,t,n)}):this._prelimContent.splice(t,n)}get(t){return Zce(this,t)}toArray(){return Gce(this)}slice(t=0,n=this.length){return Yce(this,t,n)}toJSON(){return this.map(t=>t instanceof Bo?t.toJSON():t)}map(t){return Xce(this,t)}forEach(t){wC(this,t)}[Symbol.iterator](){return S6e(this)}_write(t){t.writeTypeRef(X6e)}}const k6e=e=>new Yv;class _6e extends YD{constructor(t,n,r){super(t,n),this.keysChanged=r}}class y1 extends Bo{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,n){super._integrate(t,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new y1}clone(){const t=new y1;return this.forEach((n,r)=>{t.set(r,n instanceof Bo?n.clone():n)}),t}_callObserver(t,n){KD(this,t,new _6e(this,t,n))}toJSON(){this.doc??Ca();const t={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];t[r]=i instanceof Bo?i.toJSON():i}}),t}get size(){return[...iA(this)].length}keys(){return bP(iA(this),t=>t[0])}values(){return bP(iA(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return bP(iA(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??Ca(),this._map.forEach((n,r)=>{n.deleted||t(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?Fr(this.doc,n=>{UN(n,this,t)}):this._prelimContent.delete(t)}set(t,n){return this.doc!==null?Fr(this.doc,r=>{cF(r,this,t,n)}):this._prelimContent.set(t,n),n}get(t){return uF(this,t)}has(t){return nue(this,t)}clear(){this.doc!==null?Fr(this.doc,t=>{this.forEach(function(n,r,i){UN(t,i,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(Z6e)}}const A6e=e=>new y1,Vp=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&p5e(e,t);class LB{constructor(t,n,r,i){this.left=t,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&Dl(),this.right.content.constructor){case fo:this.right.deleted||dx(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const WW=(e,t,n)=>{for(;t.right!==null&&n>0;){switch(t.right.content.constructor){case fo:t.right.deleted||dx(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&Ls(e,vn(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},oA=(e,t,n,r)=>{const i=new Map,o=r?GD(t,n):null;if(o){const a=new LB(o.p.left,o.p,o.index,i);return WW(e,a,n-o.index)}else{const a=new LB(null,t._start,0,i);return WW(e,a,n)}},rue=(e,t,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===fo&&Vp(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=e.doc,o=i.clientID;r.forEach((a,s)=>{const l=n.left,c=n.right,u=new ri(vn(o,Yi(i.store,o)),l,l&&l.lastId,c,c&&c.id,t,null,new fo(s,a));u.integrate(e,0),n.right=u,n.forward()})},dx=(e,t)=>{const{key:n,value:r}=t;r===null?e.delete(n):e.set(n,r)},iue=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===fo&&Vp(t[e.right.content.key]??null,e.right.content.value)))break;e.forward()}},oue=(e,t,n,r)=>{const i=e.doc,o=i.clientID,a=new Map;for(const s in r){const l=r[s],c=n.currentAttributes.get(s)??null;if(!Vp(c,l)){a.set(s,c);const{left:u,right:d}=n;n.right=new ri(vn(o,Yi(i.store,o)),u,u&&u.lastId,d,d&&d.id,t,null,new fo(s,l)),n.right.integrate(e,0),n.forward()}}return a},wP=(e,t,n,r,i)=>{n.currentAttributes.forEach((p,m)=>{i[m]===void 0&&(i[m]=null)});const o=e.doc,a=o.clientID;iue(n,i);const s=oue(e,t,n,i),l=r.constructor===String?new wu(r):r instanceof Bo?new ku(r):new hy(r);let{left:c,right:u,index:d}=n;t._searchMarker&&xC(t._searchMarker,n.index,l.getLength()),u=new ri(vn(a,Yi(o.store,a)),c,c&&c.lastId,u,u&&u.id,t,null,l),u.integrate(e,0),n.right=u,n.index=d,n.forward(),rue(e,t,n,s)},YW=(e,t,n,r,i)=>{const o=e.doc,a=o.clientID;iue(n,i);const s=oue(e,t,n,i);e:for(;n.right!==null&&(r>0||s.size>0&&(n.right.deleted||n.right.content.constructor===fo));){if(!n.right.deleted)switch(n.right.content.constructor){case fo:{const{key:l,value:c}=n.right.content,u=i[l];if(u!==void 0){if(Vp(u,c))s.delete(l);else{if(r===0)break e;s.set(l,c)}n.right.delete(e)}else n.currentAttributes.set(l,c);break}default:r<n.right.length&&Ls(e,vn(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new ri(vn(a,Yi(o.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new wu(l)),n.right.integrate(e,0),n.forward()}rue(e,t,n,s)},aue=(e,t,n,r,i)=>{let o=t;const a=mc();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===fo){const c=o.content;a.set(c.key,c)}o=o.right}let s=0,l=!1;for(;t!==o;){if(n===t&&(l=!0),!t.deleted){const c=t.content;switch(c.constructor){case fo:{const{key:u,value:d}=c,p=r.get(u)??null;(a.get(u)!==c||p===d)&&(t.delete(e),s++,!l&&(i.get(u)??null)===d&&p!==d&&(p===null?i.delete(u):i.set(u,p))),!l&&!t.deleted&&dx(i,c);break}}}t=t.right}return s},N6e=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===fo){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}},O6e=e=>{let t=0;return Fr(e.doc,n=>{let r=e._start,i=e._start,o=mc();const a=_B(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case fo:dx(a,i.content);break;default:t+=aue(n,r,i,o,a),o=_B(a),r=i;break}i=i.right}}),t},M6e=e=>{const t=new Set,n=e.doc;for(const[r,i]of e.afterState.entries()){const o=e.beforeState.get(r)||0;i!==o&&Fce(e,n.store.clients.get(r),o,i,a=>{!a.deleted&&a.content.constructor===fo&&a.constructor!==sc&&t.add(a.parent)})}Fr(n,r=>{mm(e,e.deleteSet,i=>{if(i instanceof sc||!i.parent._hasFormatting||t.has(i.parent))return;const o=i.parent;i.content.constructor===fo?t.add(o):N6e(r,i)});for(const i of t)O6e(i)})},GW=(e,t,n)=>{const r=n,i=_B(t.currentAttributes),o=t.right;for(;n>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case ku:case hy:case wu:n<t.right.length&&Ls(e,vn(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}o&&aue(e,o,t.right,i,t.currentAttributes);const a=(t.left||t.right).parent;return a._searchMarker&&xC(a._searchMarker,t.index,-r+n),t};class D6e extends YD{constructor(t,n,r){super(t,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,n=[];Fr(t,r=>{const i=new Map,o=new Map;let a=this.target._start,s=null;const l={};let c="",u=0,d=0;const p=()=>{if(s!==null){let m=null;switch(s){case"delete":d>0&&(m={delete:d}),d=0;break;case"insert":(typeof c=="object"||c.length>0)&&(m={insert:c},i.size>0&&(m.attributes={},i.forEach((v,x)=>{v!==null&&(m.attributes[x]=v)}))),c="";break;case"retain":u>0&&(m={retain:u},f5e(l)||(m.attributes=u5e({},l))),u=0;break}m&&n.push(m),s=null}};for(;a!==null;){switch(a.content.constructor){case ku:case hy:this.adds(a)?this.deletes(a)||(p(),s="insert",c=a.content.getContent()[0],p()):this.deletes(a)?(s!=="delete"&&(p(),s="delete"),d+=1):a.deleted||(s!=="retain"&&(p(),s="retain"),u+=1);break;case wu:this.adds(a)?this.deletes(a)||(s!=="insert"&&(p(),s="insert"),c+=a.content.str):this.deletes(a)?(s!=="delete"&&(p(),s="delete"),d+=a.length):a.deleted||(s!=="retain"&&(p(),s="retain"),u+=a.length);break;case fo:{const{key:m,value:v}=a.content;if(this.adds(a)){if(!this.deletes(a)){const x=i.get(m)??null;Vp(x,v)?v!==null&&a.delete(r):(s==="retain"&&p(),Vp(v,o.get(m)??null)?delete l[m]:l[m]=v)}}else if(this.deletes(a)){o.set(m,v);const x=i.get(m)??null;Vp(x,v)||(s==="retain"&&p(),l[m]=x)}else if(!a.deleted){o.set(m,v);const x=l[m];x!==void 0&&(Vp(x,v)?x!==null&&a.delete(r):(s==="retain"&&p(),v===null?delete l[m]:l[m]=v))}a.deleted||(s==="insert"&&p(),dx(i,a.content));break}}a=a.right}for(p();n.length>0;){const m=n[n.length-1];if(m.retain!==void 0&&m.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class gm extends Bo{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Ca(),this._length}_integrate(t,n){super._integrate(t,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new gm}clone(){const t=new gm;return t.applyDelta(this.toDelta()),t}_callObserver(t,n){super._callObserver(t,n);const r=new D6e(this,t,n);KD(this,t,r),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??Ca();let t="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===wu&&(t+=n.content.str),n=n.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:n=!0}={}){this.doc!==null?Fr(this.doc,r=>{const i=new LB(null,this._start,0,new Map);for(let o=0;o<t.length;o++){const a=t[o];if(a.insert!==void 0){const s=!n&&typeof a.insert=="string"&&o===t.length-1&&i.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof s!="string"||s.length>0)&&wP(r,this,i,s,a.attributes||{})}else a.retain!==void 0?YW(r,this,i,a.retain,a.attributes||{}):a.delete!==void 0&&GW(r,i,a.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,n,r){this.doc??Ca();const i=[],o=new Map,a=this.doc;let s="",l=this._start;function c(){if(s.length>0){const d={};let p=!1;o.forEach((v,x)=>{p=!0,d[x]=v});const m={insert:s};p&&(m.attributes=d),i.push(m),s=""}}const u=()=>{for(;l!==null;){if(i0(l,t)||n!==void 0&&i0(l,n))switch(l.content.constructor){case wu:{const d=o.get("ychange");t!==void 0&&!i0(l,t)?(d===void 0||d.user!==l.id.client||d.type!=="removed")&&(c(),o.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!i0(l,n)?(d===void 0||d.user!==l.id.client||d.type!=="added")&&(c(),o.set("ychange",r?r("added",l.id):{type:"added"})):d!==void 0&&(c(),o.delete("ychange")),s+=l.content.str;break}case ku:case hy:{c();const d={insert:l.content.getContent()[0]};if(o.size>0){const p={};d.attributes=p,o.forEach((m,v)=>{p[v]=m})}i.push(d);break}case fo:i0(l,t)&&(c(),dx(o,l.content));break}l=l.right}c()};return t||n?Fr(a,d=>{t&&IB(d,t),n&&IB(d,n),u()},"cleanup"):u(),i}insert(t,n,r){if(n.length<=0)return;const i=this.doc;i!==null?Fr(i,o=>{const a=oA(o,this,t,!r);r||(r={},a.currentAttributes.forEach((s,l)=>{r[l]=s})),wP(o,this,a,n,r)}):this._pending.push(()=>this.insert(t,n,r))}insertEmbed(t,n,r){const i=this.doc;i!==null?Fr(i,o=>{const a=oA(o,this,t,!r);wP(o,this,a,n,r||{})}):this._pending.push(()=>this.insertEmbed(t,n,r||{}))}delete(t,n){if(n===0)return;const r=this.doc;r!==null?Fr(r,i=>{GW(i,oA(i,this,t,!0),n)}):this._pending.push(()=>this.delete(t,n))}format(t,n,r){if(n===0)return;const i=this.doc;i!==null?Fr(i,o=>{const a=oA(o,this,t,!1);a.right!==null&&YW(o,this,a,n,r)}):this._pending.push(()=>this.format(t,n,r))}removeAttribute(t){this.doc!==null?Fr(this.doc,n=>{UN(n,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,n){this.doc!==null?Fr(this.doc,r=>{cF(r,this,t,n)}):this._pending.push(()=>this.setAttribute(t,n))}getAttribute(t){return uF(this,t)}getAttributes(){return tue(this)}_write(t){t.writeTypeRef(Q6e)}}const R6e=e=>new gm;class SP{constructor(t,n=()=>!0){this._filter=n,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??Ca()}[Symbol.iterator](){return this}next(){let t=this._currentNode,n=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(n)))do if(n=t.content.type,!t.deleted&&(n.constructor===Jo||n.constructor===ym)&&n._start!==null)t=n._start;else for(;t!==null;){const r=t.next;if(r!==null){t=r;break}else t.parent===this._root?t=null:t=t.parent._item}while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class ym extends Bo{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ym}clone(){const t=new ym;return t.insert(0,this.toArray().map(n=>n instanceof Bo?n.clone():n)),t}get length(){return this.doc??Ca(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new SP(this,t)}querySelector(t){t=t.toUpperCase();const r=new SP(this,i=>i.nodeName&&i.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),hm(new SP(this,n=>n.nodeName&&n.nodeName.toUpperCase()===t))}_callObserver(t,n){KD(this,t,new L6e(this,n,t))}toString(){return Xce(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,n={},r){const i=t.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),wC(this,o=>{i.insertBefore(o.toDOM(t,n,r),null)}),i}insert(t,n){this.doc!==null?Fr(this.doc,r=>{Jce(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}insertAfter(t,n){if(this.doc!==null)Fr(this.doc,r=>{const i=t&&t instanceof Bo?t._item:t;FN(r,this,i,n)});else{const r=this._prelimContent,i=t===null?0:r.findIndex(o=>o===t)+1;if(i===0&&t!==null)throw pm("Reference item not found");r.splice(i,0,...n)}}delete(t,n=1){this.doc!==null?Fr(this.doc,r=>{eue(r,this,t,n)}):this._prelimContent.splice(t,n)}toArray(){return Gce(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return Zce(this,t)}slice(t=0,n=this.length){return Yce(this,t,n)}forEach(t){wC(this,t)}_write(t){t.writeTypeRef(eBe)}}const I6e=e=>new ym;class Jo extends ym{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,n){super._integrate(t,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new Jo(this.nodeName)}clone(){const t=new Jo(this.nodeName),n=this.getAttributes();return d5e(n,(r,i)=>{typeof r=="string"&&t.setAttribute(i,r)}),t.insert(0,this.toArray().map(r=>r instanceof Bo?r.clone():r)),t}toString(){const t=this.getAttributes(),n=[],r=[];for(const s in t)r.push(s);r.sort();const i=r.length;for(let s=0;s<i;s++){const l=r[s];n.push(l+'="'+t[l]+'"')}const o=this.nodeName.toLocaleLowerCase(),a=n.length>0?" "+n.join(" "):"";return`<${o}${a}>${super.toString()}</${o}>`}removeAttribute(t){this.doc!==null?Fr(this.doc,n=>{UN(n,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,n){this.doc!==null?Fr(this.doc,r=>{cF(r,this,t,n)}):this._prelimAttrs.set(t,n)}getAttribute(t){return uF(this,t)}hasAttribute(t){return nue(this,t)}getAttributes(t){return t?C6e(this,t):tue(this)}toDOM(t=document,n={},r){const i=t.createElement(this.nodeName),o=this.getAttributes();for(const a in o){const s=o[a];typeof s=="string"&&i.setAttribute(a,s)}return wC(this,a=>{i.appendChild(a.toDOM(t,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(t){t.writeTypeRef(J6e),t.writeKey(this.nodeName)}}const P6e=e=>new Jo(e.readKey());class L6e extends YD{constructor(t,n,r){super(t,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class zN extends y1{constructor(t){super(),this.hookName=t}_copy(){return new zN(this.hookName)}clone(){const t=new zN(this.hookName);return this.forEach((n,r)=>{t.set(r,n)}),t}toDOM(t=document,n={},r){const i=n[this.hookName];let o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(o,this),o}_write(t){t.writeTypeRef(tBe),t.writeKey(this.hookName)}}const j6e=e=>new zN(e.readKey());class Al extends gm{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new Al}clone(){const t=new Al;return t.applyDelta(this.toDelta()),t}toDOM(t=document,n,r){const i=t.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(t=>{const n=[];for(const i in t.attributes){const o=[];for(const a in t.attributes[i])o.push({key:a,value:t.attributes[i][a]});o.sort((a,s)=>a.key<s.key?-1:1),n.push({nodeName:i,attrs:o})}n.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const o=n[i];r+=`<${o.nodeName}`;for(let a=0;a<o.attrs.length;a++){const s=o.attrs[a];r+=` ${s.key}="${s.value}"`}r+=">"}r+=t.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(nBe)}}const B6e=e=>new Al;class dF{constructor(t,n){this.id=t,this.length=n}get deleted(){throw mu()}mergeWith(t){return!1}write(t,n,r){throw mu()}integrate(t,n){throw mu()}}const $6e=0;class sc extends dF{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){n>0&&(this.id.clock+=n,this.length-=n),Hce(t.doc.store,this)}write(t,n){t.writeInfo($6e),t.writeLen(this.length-n)}getMissing(t,n){return null}}class qT{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new qT(this.content)}splice(t){throw mu()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeBuf(this.content)}getRef(){return 3}}const H6e=e=>new qT(e.readBuf());class SC{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new SC(this.len)}splice(t){const n=new SC(this.len-t);return this.len=t,n}mergeWith(t){return this.len+=t.len,!0}integrate(t,n){gC(t.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(t){}gc(t){}write(t,n){t.writeLen(this.len-n)}getRef(){return 1}}const F6e=e=>new SC(e.readLen()),sue=(e,t)=>new Cm({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class WT{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),t.meta!==null&&(n.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new WT(sue(this.doc.guid,this.opts))}splice(t){throw mu()}mergeWith(t){return!1}integrate(t,n){this.doc._item=n,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,n){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const U6e=e=>new WT(sue(e.readString(),e.readAny()));class hy{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new hy(this.embed)}splice(t){throw mu()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeJSON(this.embed)}getRef(){return 5}}const z6e=e=>new hy(e.readJSON());class fo{constructor(t,n){this.key=t,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new fo(this.key,this.value)}splice(t){throw mu()}mergeWith(t){return!1}integrate(t,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(t){}gc(t){}write(t,n){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const V6e=e=>new fo(e.readKey(),e.readJSON());class VN{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new VN(this.arr)}splice(t){const n=new VN(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];t.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const q6e=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const i=e.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new VN(n)},W6e=BN("node_env")==="development";class Y0{constructor(t){this.arr=t,W6e&&yce(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Y0(this.arr)}splice(t){const n=new Y0(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];t.writeAny(o)}}getRef(){return 8}}const Y6e=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new Y0(n)};class wu{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new wu(this.str)}splice(t){const n=new wu(this.str.slice(t));this.str=this.str.slice(0,t);const r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(t){return this.str+=t.str,!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const G6e=e=>new wu(e.readString()),K6e=[k6e,A6e,R6e,P6e,I6e,j6e,B6e],X6e=0,Z6e=1,Q6e=2,J6e=3,eBe=4,tBe=5,nBe=6;class ku{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new ku(this.type._copy())}splice(t){throw mu()}mergeWith(t){return!1}integrate(t,n){this.type._integrate(t.doc,n)}delete(t){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let n=this.type._start;for(;n!==null;)n.gc(t,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,n){this.type._write(t)}getRef(){return 7}}const rBe=e=>new ku(K6e[e.readTypeRef()](e)),jB=(e,t)=>{let n=t,r=0,i;do r>0&&(n=vn(n.client,n.clock+r)),i=Wv(e,n),r=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof ri);return{item:i,diff:r}},fF=(e,t)=>{for(;e!==null&&e.keep!==t;)e.keep=t,e=e.parent._item},qN=(e,t,n)=>{const{client:r,clock:i}=t.id,o=new ri(vn(r,i+n),t,vn(r,i+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),t.redone!==null&&(o.redone=vn(t.redone.client,t.redone.clock+n)),t.right=o,o.right!==null&&(o.right.left=o),e._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),t.length=n,o},KW=(e,t)=>Eje(e,n=>cx(n.deletions,t)),lue=(e,t,n,r,i,o)=>{const a=e.doc,s=a.store,l=a.clientID,c=t.redone;if(c!==null)return Ls(e,c);let u=t.parent._item,d=null,p;if(u!==null&&u.deleted===!0){if(u.redone===null&&(!n.has(u)||lue(e,u,n,r,i,o)===null))return null;for(;u.redone!==null;)u=Ls(e,u.redone)}const m=u===null?t.parent:u.content.type;if(t.parentSub===null){for(d=t.left,p=t;d!==null;){let T=d;for(;T!==null&&T.parent._item!==u;)T=T.redone===null?null:Ls(e,T.redone);if(T!==null&&T.parent._item===u){d=T;break}d=d.left}for(;p!==null;){let T=p;for(;T!==null&&T.parent._item!==u;)T=T.redone===null?null:Ls(e,T.redone);if(T!==null&&T.parent._item===u){p=T;break}p=p.right}}else if(p=null,t.right&&!i){for(d=t;d!==null&&d.right!==null&&(d.right.redone||cx(r,d.right.id)||KW(o.undoStack,d.right.id)||KW(o.redoStack,d.right.id));)for(d=d.right;d.redone;)d=Ls(e,d.redone);if(d&&d.right!==null)return null}else d=m._map.get(t.parentSub)||null;const v=Yi(s,l),x=vn(l,v),w=new ri(x,d,d&&d.lastId,p,p&&p.id,m,t.parentSub,t.content.copy());return t.redone=x,fF(w,!0),w.integrate(e,0),w};let ri=class BB extends dF{constructor(t,n,r,i,o,a,s,l){super(t,l.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=o,this.parent=a,this.parentSub=s,this.redone=null,this.content=l,this.info=this.content.isCountable()?EW:0}set marker(t){(this.info&mP)>0!==t&&(this.info^=mP)}get marker(){return(this.info&mP)>0}get keep(){return(this.info&SW)>0}set keep(t){this.keep!==t&&(this.info^=SW)}get countable(){return(this.info&EW)>0}get deleted(){return(this.info&pP)>0}set deleted(t){this.deleted!==t&&(this.info^=pP)}markDeleted(){this.info|=pP}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Yi(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Yi(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===qv&&this.id.client!==this.parent.client&&this.parent.clock>=Yi(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=HW(t,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ls(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===sc||this.right&&this.right.constructor===sc)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===BB?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===BB&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===qv){const r=Wv(n,this.parent);r.constructor===sc?this.parent=null:this.parent=r.content.type}return null}integrate(t,n){if(n>0&&(this.id.clock+=n,this.left=HW(t,t.doc.store,vn(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const o=new Set,a=new Set;for(;i!==null&&i!==this.right;){if(a.add(i),o.add(i),Mv(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,o.clear();else if(Mv(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&a.has(Wv(t.doc.store,i.origin)))o.has(Wv(t.doc.store,i.origin))||(r=i,o.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Hce(t.doc.store,this),this.content.integrate(t,this),UW(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new sc(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:vn(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&Mv(t.origin,this.lastId)&&this.right===t&&Mv(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),gC(t.deleteSet,this.id.client,this.id.clock,this.length),UW(t,n,this.parentSub),this.content.delete(t)}}gc(t,n){if(!this.deleted)throw Dl();this.content.gc(t),n?s6e(t,this,new sc(this.id,this.length)):this.content=new SC(this.length)}write(t,n){const r=n>0?vn(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,o=this.parentSub,a=this.content.getRef()&VD|(r===null?0:ns)|(i===null?0:qf)|(o===null?0:hC);if(t.writeInfo(a),r!==null&&t.writeLeftID(r),i!==null&&t.writeRightID(i),r===null&&i===null){const s=this.parent;if(s._item!==void 0){const l=s._item;if(l===null){const c=yC(s);t.writeParentInfo(!0),t.writeString(c)}else t.writeParentInfo(!1),t.writeLeftID(l.id)}else s.constructor===String?(t.writeParentInfo(!0),t.writeString(s)):s.constructor===qv?(t.writeParentInfo(!1),t.writeLeftID(s)):Dl();o!==null&&t.writeString(o)}this.content.write(t,n)}};const cue=(e,t)=>iBe[t&VD](e),iBe=[()=>{Dl()},F6e,q6e,H6e,G6e,z6e,V6e,rBe,Y6e,U6e,()=>{Dl()}],oBe=10;class lc extends dF{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){Dl()}write(t,n){t.writeInfo(oBe),Kn(t.restEncoder,this.length-n)}getMissing(t,n){return null}}const uue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},due="__ $YJS$ __";uue[due]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");uue[due]=!0;class Li extends Jt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Li.valid(r)?new Li(r):Jt.near(r)}content(){return at.empty}eq(t){return t instanceof Li&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Li(t.resolve(n.pos))}getBookmark(){return new hF(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!aBe(t)||!sBe(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Li.valid(t))return t;let i=t.pos,o=null;for(let a=t.depth;;a--){let s=t.node(a);if(n>0?t.indexAfter(a)<s.childCount:t.index(a)>0){o=s.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=n;let l=t.doc.resolve(i);if(Li.valid(l))return l}for(;;){let a=n>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!Rt.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=a,i+=n;let s=t.doc.resolve(i);if(Li.valid(s))return s}return null}}}Li.prototype.visible=!1;Li.findFrom=Li.findGapCursorFrom;Jt.jsonID("gapcursor",Li);class hF{constructor(t){this.pos=t}map(t){return new hF(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Li.valid(n)?new Li(n):Jt.near(n)}}function fue(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function aBe(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||fue(i.type))return!0;if(i.inlineContent)return!1}}return!0}function sBe(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||fue(i.type))return!0;if(i.inlineContent)return!1}}return!0}function lBe(){return new on({props:{decorations:fBe,createSelectionBetween(e,t,n){return t.pos==n.pos&&Li.valid(n)?new Li(n):null},handleClick:uBe,handleKeyDown:cBe,handleDOMEvents:{beforeinput:dBe}}})}const cBe=b9({ArrowLeft:aA("horiz",-1),ArrowRight:aA("horiz",1),ArrowUp:aA("vert",-1),ArrowDown:aA("vert",1)});function aA(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let a=r.selection,s=t>0?a.$to:a.$from,l=a.empty;if(a instanceof Et){if(!o.endOfTextblock(n)||s.depth==0)return!1;l=!1,s=r.doc.resolve(t>0?s.after():s.before())}let c=Li.findGapCursorFrom(s,t,l);return c?(i&&i(r.tr.setSelection(new Li(c))),!0):!1}}function uBe(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Li.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Rt.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Li(r))),!0)}function dBe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Li))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Fe.empty;for(let a=r.length-1;a>=0;a--)i=Fe.from(r[a].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new at(i,0,0));return o.setSelection(Et.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function fBe(e){if(!(e.selection instanceof Li))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",mn.create(e.doc,[ir.widget(e.selection.head,t,{key:"gapcursor"})])}var WN=200,$o=function(){};$o.prototype.append=function(t){return t.length?(t=$o.from(t),!this.length&&t||t.length<WN&&this.leafAppend(t)||this.length<WN&&t.leafPrepend(this)||this.appendInner(t)):this};$o.prototype.prepend=function(t){return t.length?$o.from(t).append(this):this};$o.prototype.appendInner=function(t){return new hBe(this,t)};$o.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?$o.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};$o.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};$o.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};$o.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,a){return i.push(t(o,a))},n,r),i};$o.from=function(t){return t instanceof $o?t:t&&t.length?new hue(t):$o.empty};var hue=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=WN)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=WN)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})($o);$o.empty=new hue([]);var hBe=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(r,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(r,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(r,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(r,Math.min(i,s),o,a)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})($o);const pBe=500;class au{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let a=t.tr,s,l,c=[],u=[];return this.items.forEach((d,p)=>{if(!d.step){i||(i=this.remapping(r,p+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new gp(d.map));let m=d.step.map(i.slice(o)),v;m&&a.maybeStep(m).doc&&(v=a.mapping.maps[a.mapping.maps.length-1],c.push(new gp(v,void 0,void 0,c.length+u.length))),o--,v&&i.appendMap(v,o)}else a.maybeStep(d.step);if(d.selection)return s=i?d.selection.map(i.slice(o)):d.selection,l=new au(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(t,n,r,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),p=new gp(t.mapping.maps[u],d,n),m;(m=l&&l.merge(p))&&(p=m,u?o.pop():s=s.slice(0,s.length-1)),o.push(p),n&&(a++,n=void 0),i||(l=p)}let c=a-r.depth;return c>gBe&&(s=mBe(s,c),a-=c),new au(s.append(o),a)}remapping(t,n){let r=new o1;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},t,n),r}addMaps(t){return this.eventCount==0?this:new au(this.items.append(t.map(n=>new gp(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(p=>{p.selection&&s--},i);let l=n;this.items.forEach(p=>{let m=o.getMirror(--l);if(m==null)return;a=Math.min(a,m);let v=o.maps[m];if(p.step){let x=t.steps[m].invert(t.docs[m]),w=p.selection&&p.selection.map(o.slice(l+1,m));w&&s++,r.push(new gp(v,x,w))}else r.push(new gp(v))},i);let c=[];for(let p=n;p<a;p++)c.push(new gp(o.maps[p]));let u=this.items.slice(0,i).append(c).append(r),d=new au(u,s);return d.emptyItemCount()>pBe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=t)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=a.selection&&a.selection.map(n.slice(r));u&&o++;let d=new gp(c.invert(),l,u),p,m=i.length-1;(p=i.length&&i[m].merge(d))?i[m]=p:i.push(d)}}else a.map&&r--},this.items.length,0),new au($o.from(i.reverse()),o)}}au.empty=new au($o.empty,0);function mBe(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}let gp=class pue{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new pue(n.getMap().invert(),n,this.selection)}}};class _p{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const gBe=20;function yBe(e,t,n,r){let i=n.getMeta(S0),o;if(i)return i.historyState;n.getMeta(xBe)&&(e=new _p(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta(S0))return a.getMeta(S0).redo?new _p(e.done.addTransform(n,void 0,r,eN(t)),e.undone,XW(n.mapping.maps),e.prevTime,e.prevComposition):new _p(e.done,e.undone.addTransform(n,void 0,r,eN(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=n.getMeta("composition"),l=e.prevTime==0||!a&&e.prevComposition!=s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!bBe(n,e.prevRanges)),c=a?EP(e.prevRanges,n.mapping):XW(n.mapping.maps);return new _p(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,eN(t)),au.empty,c,n.time,s??e.prevComposition)}else return(o=n.getMeta("rebased"))?new _p(e.done.rebased(n,o),e.undone.rebased(n,o),EP(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new _p(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),EP(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function bBe(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function XW(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,o,a)=>t.push(o,a));return t}function EP(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function vBe(e,t,n){let r=eN(t),i=S0.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,r),l=new _p(n?s:o.remaining,n?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(S0,{redo:n,historyState:l})}let CP=!1,ZW=null;function eN(e){let t=e.plugins;if(ZW!=t){CP=!1,ZW=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){CP=!0;break}}return CP}const S0=new wn("history"),xBe=new wn("closeHistory");function wBe(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new on({key:S0,state:{init(){return new _p(au.empty,au.empty,null,0,-1)},apply(t,n,r){return yBe(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?pF:r=="historyRedo"?mF:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function mue(e,t){return(n,r)=>{let i=S0.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let o=vBe(i,n,e);o&&r(t?o.scrollIntoView():o)}return!0}}const pF=mue(!1,!0),mF=mue(!0,!0);ur.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new on({key:new wn("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const a=o-i,s=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(s,l);return e=!0,c}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:t.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!t.getMeta("paste"))return!1;const s=t.selection.$head.pos,l=o-r,c=s-l,u=s;return t.deleteRange(c,u),!(this.storage.characters({node:t.doc})>r)}})]}});ur.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[sce(this.options)]}});ur.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new on({key:new wn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,o=[];if(!n||!r)return mn.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;a+=1});let s=0;return e.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(s+=1,this.options.mode==="deepest"&&a-s>0||this.options.mode==="shallowest"&&s>1)return this.options.mode==="deepest";o.push(ir.node(c,c+l.nodeSize,{class:this.options.className}))}),mn.create(e,o)}}})]}});var SBe=ur.create({name:"gapCursor",addProseMirrorPlugins(){return[lBe()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=$r(qt(e,"allowGapCursor",n)))!=null?t:null}}});ur.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new on({key:new wn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const o=this.editor.isEmpty;return e.descendants((a,s)=>{const l=r>=s&&r<=s+a.nodeSize,c=!a.isLeaf&&RD(a);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];o&&u.push(this.options.emptyEditorClass);const d=ir.node(s,s+a.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:s,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),mn.create(e,i)}}})]}});ur.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new on({key:new wn("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||PN(n.selection)||e.view.dragging?null:mn.create(n.doc,[ir.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function QW({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}ur.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new wn(this.name),n=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new on({key:t,appendTransaction:(i,o,a)=>{const{doc:s,tr:l,schema:c}=a,u=t.getState(a),d=s.content.size,p=c.nodes[n];if(u)return l.insert(d,p.create())},state:{init:(i,o)=>{const a=o.tr.doc.lastChild;return!QW({node:a,types:r})},apply:(i,o)=>{if(!i.docChanged)return o;const a=i.doc.lastChild;return!QW({node:a,types:r})}}})]}});var EBe=ur.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>pF(e,t),redo:()=>({state:e,dispatch:t})=>mF(e,t)}},addProseMirrorPlugins(){return[wBe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}});const CBe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",TBe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",$B="numeric",HB="ascii",FB="alpha",wE="asciinumeric",oE="alphanumeric",UB="domain",gue="emoji",kBe="scheme",_Be="slashscheme",TP="whitespace";function ABe(e,t){return e in t||(t[e]=[]),t[e]}function l0(e,t,n){t[$B]&&(t[wE]=!0,t[oE]=!0),t[HB]&&(t[wE]=!0,t[FB]=!0),t[wE]&&(t[oE]=!0),t[FB]&&(t[oE]=!0),t[oE]&&(t[UB]=!0),t[gue]&&(t[UB]=!0);for(const r in t){const i=ABe(r,n);i.indexOf(e)<0&&i.push(e)}}function NBe(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Ps(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Ps.groups={};Ps.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],o=t.jr[r][1];if(o&&i.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Ps.groups;let i;return t&&t.j?i=t:(i=new Ps(t),n&&r&&l0(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(e[a]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||Ps.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let a,s=i.go(e);if(s?(a=new Ps,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new Ps,o){if(r)if(a.t&&typeof a.t=="string"){const l=Object.assign(NBe(a.t,r),n);l0(o,l,r)}else n&&l0(o,n,r);a.t=o}return i.j[e]=a,a}};const _n=(e,t,n,r,i)=>e.ta(t,n,r,i),Ri=(e,t,n,r,i)=>e.tr(t,n,r,i),JW=(e,t,n,r,i)=>e.ts(t,n,r,i),ot=(e,t,n,r,i)=>e.tt(t,n,r,i),Nf="WORD",zB="UWORD",yue="ASCIINUMERICAL",bue="ALPHANUMERICAL",EC="LOCALHOST",VB="TLD",qB="UTLD",tN="SCHEME",Tv="SLASH_SCHEME",gF="NUM",WB="WS",yF="NL",SE="OPENBRACE",EE="CLOSEBRACE",YN="OPENBRACKET",GN="CLOSEBRACKET",KN="OPENPAREN",XN="CLOSEPAREN",ZN="OPENANGLEBRACKET",QN="CLOSEANGLEBRACKET",JN="FULLWIDTHLEFTPAREN",eO="FULLWIDTHRIGHTPAREN",tO="LEFTCORNERBRACKET",nO="RIGHTCORNERBRACKET",rO="LEFTWHITECORNERBRACKET",iO="RIGHTWHITECORNERBRACKET",oO="FULLWIDTHLESSTHAN",aO="FULLWIDTHGREATERTHAN",sO="AMPERSAND",lO="APOSTROPHE",cO="ASTERISK",Ap="AT",uO="BACKSLASH",dO="BACKTICK",fO="CARET",Pp="COLON",bF="COMMA",hO="DOLLAR",cd="DOT",pO="EQUALS",vF="EXCLAMATION",Jl="HYPHEN",CE="PERCENT",mO="PIPE",gO="PLUS",yO="POUND",TE="QUERY",xF="QUOTE",vue="FULLWIDTHMIDDLEDOT",wF="SEMI",ud="SLASH",kE="TILDE",bO="UNDERSCORE",xue="EMOJI",vO="SYM";var wue=Object.freeze({__proto__:null,ALPHANUMERICAL:bue,AMPERSAND:sO,APOSTROPHE:lO,ASCIINUMERICAL:yue,ASTERISK:cO,AT:Ap,BACKSLASH:uO,BACKTICK:dO,CARET:fO,CLOSEANGLEBRACKET:QN,CLOSEBRACE:EE,CLOSEBRACKET:GN,CLOSEPAREN:XN,COLON:Pp,COMMA:bF,DOLLAR:hO,DOT:cd,EMOJI:xue,EQUALS:pO,EXCLAMATION:vF,FULLWIDTHGREATERTHAN:aO,FULLWIDTHLEFTPAREN:JN,FULLWIDTHLESSTHAN:oO,FULLWIDTHMIDDLEDOT:vue,FULLWIDTHRIGHTPAREN:eO,HYPHEN:Jl,LEFTCORNERBRACKET:tO,LEFTWHITECORNERBRACKET:rO,LOCALHOST:EC,NL:yF,NUM:gF,OPENANGLEBRACKET:ZN,OPENBRACE:SE,OPENBRACKET:YN,OPENPAREN:KN,PERCENT:CE,PIPE:mO,PLUS:gO,POUND:yO,QUERY:TE,QUOTE:xF,RIGHTCORNERBRACKET:nO,RIGHTWHITECORNERBRACKET:iO,SCHEME:tN,SEMI:wF,SLASH:ud,SLASH_SCHEME:Tv,SYM:vO,TILDE:kE,TLD:VB,UNDERSCORE:bO,UTLD:qB,UWORD:zB,WORD:Nf,WS:WB});const Sf=/[a-z]/,DS=new RegExp("\\p{L}","u"),kP=new RegExp("\\p{Emoji}","u"),Ef=/\d/,_P=/\s/,eY="\r",AP=`
`,OBe="",MBe="",NP="";let sA=null,lA=null;function DBe(e=[]){const t={};Ps.groups=t;const n=new Ps;sA==null&&(sA=tY(CBe)),lA==null&&(lA=tY(TBe)),ot(n,"'",lO),ot(n,"{",SE),ot(n,"}",EE),ot(n,"[",YN),ot(n,"]",GN),ot(n,"(",KN),ot(n,")",XN),ot(n,"<",ZN),ot(n,">",QN),ot(n,"",JN),ot(n,"",eO),ot(n,"",tO),ot(n,"",nO),ot(n,"",rO),ot(n,"",iO),ot(n,"",oO),ot(n,"",aO),ot(n,"&",sO),ot(n,"*",cO),ot(n,"@",Ap),ot(n,"`",dO),ot(n,"^",fO),ot(n,":",Pp),ot(n,",",bF),ot(n,"$",hO),ot(n,".",cd),ot(n,"=",pO),ot(n,"!",vF),ot(n,"-",Jl),ot(n,"%",CE),ot(n,"|",mO),ot(n,"+",gO),ot(n,"#",yO),ot(n,"?",TE),ot(n,'"',xF),ot(n,"/",ud),ot(n,";",wF),ot(n,"~",kE),ot(n,"_",bO),ot(n,"\\",uO),ot(n,"",vue);const r=Ri(n,Ef,gF,{[$B]:!0});Ri(r,Ef,r);const i=Ri(r,Sf,yue,{[wE]:!0}),o=Ri(r,DS,bue,{[oE]:!0}),a=Ri(n,Sf,Nf,{[HB]:!0});Ri(a,Ef,i),Ri(a,Sf,a),Ri(i,Ef,i),Ri(i,Sf,i);const s=Ri(n,DS,zB,{[FB]:!0});Ri(s,Sf),Ri(s,Ef,o),Ri(s,DS,s),Ri(o,Ef,o),Ri(o,Sf),Ri(o,DS,o);const l=ot(n,AP,yF,{[TP]:!0}),c=ot(n,eY,WB,{[TP]:!0}),u=Ri(n,_P,WB,{[TP]:!0});ot(n,NP,u),ot(c,AP,l),ot(c,NP,u),Ri(c,_P,u),ot(u,eY),ot(u,AP),Ri(u,_P,u),ot(u,NP,u);const d=Ri(n,kP,xue,{[gue]:!0});ot(d,"#"),Ri(d,kP,d),ot(d,OBe,d);const p=ot(d,MBe);ot(p,"#"),Ri(p,kP,d);const m=[[Sf,a],[Ef,i]],v=[[Sf,null],[DS,s],[Ef,o]];for(let x=0;x<sA.length;x++)yp(n,sA[x],VB,Nf,m);for(let x=0;x<lA.length;x++)yp(n,lA[x],qB,zB,v);l0(VB,{tld:!0,ascii:!0},t),l0(qB,{utld:!0,alpha:!0},t),yp(n,"file",tN,Nf,m),yp(n,"mailto",tN,Nf,m),yp(n,"http",Tv,Nf,m),yp(n,"https",Tv,Nf,m),yp(n,"ftp",Tv,Nf,m),yp(n,"ftps",Tv,Nf,m),l0(tN,{scheme:!0,ascii:!0},t),l0(Tv,{slashscheme:!0,ascii:!0},t),e=e.sort((x,w)=>x[0]>w[0]?1:-1);for(let x=0;x<e.length;x++){const w=e[x][0],k=e[x][1]?{[kBe]:!0}:{[_Be]:!0};w.indexOf("-")>=0?k[UB]=!0:Sf.test(w)?Ef.test(w)?k[wE]=!0:k[HB]=!0:k[$B]=!0,JW(n,w,w,k)}return JW(n,"localhost",EC,{ascii:!0}),n.jd=new Ps(vO),{start:n,tokens:Object.assign({groups:t},wue)}}function Sue(e,t){const n=RBe(t.replace(/[A-Z]/g,s=>s.toLowerCase())),r=n.length,i=[];let o=0,a=0;for(;a<r;){let s=e,l=null,c=0,u=null,d=-1,p=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(d=0,p=0,u=s):d>=0&&(d+=n[a].length,p++),c+=n[a].length,o+=n[a].length,a++;o-=d,a-=p,c-=d,i.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function RBe(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),o,a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function yp(e,t,n,r,i){let o;const a=t.length;for(let s=0;s<a-1;s++){const l=t[s];e.j[l]?o=e.j[l]:(o=new Ps(r),o.jr=i.slice(),e.j[l]=o),e=o}return o=new Ps(n),o.jr=i.slice(),e.j[t[a-1]]=o,o}function tY(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let o=0;for(;i.indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let a=parseInt(e.substring(r,r+o),10);a>0;a--)n.pop();r+=o}else n.push(e[r]),r++}return t}const CC={defaultProtocol:"http",events:null,format:nY,formatHref:nY,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function SF(e,t=null){let n=Object.assign({},CC);e&&(n=Object.assign(n,e instanceof SF?e.o:e));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}SF.prototype={o:CC,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:CC[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function nY(e){return e}function Eue(e,t){this.t="token",this.v=e,this.tk=t}Eue.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=CC.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),o=this.toFormattedString(e),a={},s=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return a.href=r,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),u&&Object.assign(a,u),{tagName:i,attributes:a,content:o,eventListeners:d}}};function XD(e,t){class n extends Eue{constructor(i,o){super(i,o),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const rY=XD("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),iY=XD("text"),IBe=XD("nl"),cA=XD("url",{isLink:!0,toHref(e=CC.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==EC&&e[1].t===Pp}}),Kl=e=>new Ps(e);function PBe({groups:e}){const t=e.domain.concat([sO,cO,Ap,uO,dO,fO,hO,pO,Jl,gF,CE,mO,gO,yO,ud,vO,kE,bO]),n=[lO,Pp,bF,cd,vF,CE,TE,xF,wF,ZN,QN,SE,EE,GN,YN,KN,XN,JN,eO,tO,nO,rO,iO,oO,aO],r=[sO,lO,cO,uO,dO,fO,hO,pO,Jl,SE,EE,CE,mO,gO,yO,TE,ud,vO,kE,bO],i=Kl(),o=ot(i,kE);_n(o,r,o),_n(o,e.domain,o);const a=Kl(),s=Kl(),l=Kl();_n(i,e.domain,a),_n(i,e.scheme,s),_n(i,e.slashscheme,l),_n(a,r,o),_n(a,e.domain,a);const c=ot(a,Ap);ot(o,Ap,c),ot(s,Ap,c),ot(l,Ap,c);const u=ot(o,cd);_n(u,r,o),_n(u,e.domain,o);const d=Kl();_n(c,e.domain,d),_n(d,e.domain,d);const p=ot(d,cd);_n(p,e.domain,d);const m=Kl(rY);_n(p,e.tld,m),_n(p,e.utld,m),ot(c,EC,m);const v=ot(d,Jl);ot(v,Jl,v),_n(v,e.domain,d),_n(m,e.domain,d),ot(m,cd,p),ot(m,Jl,v);const x=ot(m,Pp);_n(x,e.numeric,rY);const w=ot(a,Jl),T=ot(a,cd);ot(w,Jl,w),_n(w,e.domain,a),_n(T,r,o),_n(T,e.domain,a);const k=Kl(cA);_n(T,e.tld,k),_n(T,e.utld,k),_n(k,e.domain,a),_n(k,r,o),ot(k,cd,T),ot(k,Jl,w),ot(k,Ap,c);const N=ot(k,Pp),I=Kl(cA);_n(N,e.numeric,I);const O=Kl(cA),A=Kl();_n(O,t,O),_n(O,n,A),_n(A,t,O),_n(A,n,A),ot(k,ud,O),ot(I,ud,O);const R=ot(s,Pp),L=ot(l,Pp),B=ot(L,ud),$=ot(B,ud);_n(s,e.domain,a),ot(s,cd,T),ot(s,Jl,w),_n(l,e.domain,a),ot(l,cd,T),ot(l,Jl,w),_n(R,e.domain,O),ot(R,ud,O),ot(R,TE,O),_n($,e.domain,O),_n($,t,O),ot($,ud,O);const q=[[SE,EE],[YN,GN],[KN,XN],[ZN,QN],[JN,eO],[tO,nO],[rO,iO],[oO,aO]];for(let z=0;z<q.length;z++){const[Y,W]=q[z],Z=ot(O,Y);ot(A,Y,Z),ot(Z,W,O);const V=Kl(cA);_n(Z,t,V);const ne=Kl();_n(Z,n),_n(V,t,V),_n(V,n,ne),_n(ne,t,V),_n(ne,n,ne),ot(V,W,O),ot(ne,W,O)}return ot(i,EC,k),ot(i,yF,IBe),{start:i,tokens:wue}}function LBe(e,t,n){let r=n.length,i=0,o=[],a=[];for(;i<r;){let s=e,l=null,c=null,u=0,d=null,p=-1;for(;i<r&&!(l=s.go(n[i].t));)a.push(n[i++]);for(;i<r&&(c=l||s.go(n[i].t));)l=null,s=c,s.accepts()?(p=0,d=s):p>=0&&p++,i++,u++;if(p<0)i-=u,i<r&&(a.push(n[i]),i++);else{a.length>0&&(o.push(OP(iY,t,a)),a=[]),i-=p,u-=p;const m=d.t,v=n.slice(i-u,i);o.push(OP(m,t,v))}}return a.length>0&&o.push(OP(iY,t,a)),o}function OP(e,t,n){const r=n[0].s,i=n[n.length-1].e,o=t.slice(r,i);return new e(o,n)}const jBe=typeof console<"u"&&console&&console.warn||(()=>{}),BBe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",li={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function $Be(){return Ps.groups={},li.scanner=null,li.parser=null,li.tokenQueue=[],li.pluginQueue=[],li.customSchemes=[],li.initialized=!1,li}function oY(e,t=!1){if(li.initialized&&jBe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${BBe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);li.customSchemes.push([e,t])}function HBe(){li.scanner=DBe(li.customSchemes);for(let e=0;e<li.tokenQueue.length;e++)li.tokenQueue[e][1]({scanner:li.scanner});li.parser=PBe(li.scanner.tokens);for(let e=0;e<li.pluginQueue.length;e++)li.pluginQueue[e][1]({scanner:li.scanner,parser:li.parser});return li.initialized=!0,li}function EF(e){return li.initialized||HBe(),LBe(li.parser.start,e,Sue(li.scanner.start,e))}EF.scan=Sue;function Cue(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new SF(n),i=EF(e),o=[];for(let a=0;a<i.length;a++){const s=i[a];s.isLink&&(!t||s.t===t)&&r.check(s)&&o.push(s.toFormattedObject(r))}return o}var CF="[\0- -\u2029]",FBe=new RegExp(CF),UBe=new RegExp(`${CF}$`),zBe=new RegExp(CF,"g");function VBe(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function qBe(e){return new on({key:new wn("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(c=>c.docChanged)&&!n.doc.eq(r.doc),o=t.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=r,s=MD(n.doc,[...t]);if(k9(s).forEach(({newRange:c})=>{const u=rle(r.doc,c,m=>m.isTextblock);let d,p;if(u.length>1)d=u[0],p=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const m=r.doc.textBetween(c.from,c.to," "," ");if(!UBe.test(m))return;d=u[0],p=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&p){const m=p.split(FBe).filter(Boolean);if(m.length<=0)return!1;const v=m[m.length-1],x=d.pos+p.lastIndexOf(v);if(!v)return!1;const w=EF(v).map(T=>T.toObject(e.defaultProtocol));if(!VBe(w))return!1;w.filter(T=>T.isLink).map(T=>({...T,from:x+T.start+1,to:x+T.end+1})).filter(T=>r.schema.marks.code?!r.doc.rangeHasMark(T.from,T.to,r.schema.marks.code):!0).filter(T=>e.validate(T.value)).filter(T=>e.shouldAutoLink(T.value)).forEach(T=>{_9(T.from,T.to,r.doc).some(k=>k.mark.type===e.type)||a.addMark(T.from,T.to,e.type.create({href:T.href}))})}}),!!a.steps.length)return a}})}function WBe(e){return new on({key:new wn("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,o;if(r.button!==0||!t.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let u=r.target;const d=[];for(;u.nodeName!=="DIV";)d.push(u),u=u.parentNode;a=d.find(p=>p.nodeName==="A")}if(!a)return!1;const s=cle(t.state,e.type.name),l=(i=a?.href)!=null?i:s.href,c=(o=a?.target)!=null?o:s.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),a&&l?(window.open(l,c),!0):!1}}})}function YBe(e){return new on({key:new wn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:i}=e,{state:o}=t,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const c=Cue(l,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function Xg(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(zBe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var GBe=Ll.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){oY(e);return}oY(e.scheme,e.optionalSlashes)})},onDestroy(){$Be()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Xg(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Xg(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Xg(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ml(this.options.HTMLAttributes,e),0]:["a",Ml(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Xg(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Xg(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[H0({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=Cue(e).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!Xg(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&t.push({text:o.value,data:{href:o.href},index:o.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(qBe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Xg(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(WBe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(YBe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),KBe=zs.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""});class YT{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}YT.prototype.normal={};YT.prototype.property={};YT.prototype.space=void 0;function Tue(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new YT(n,r,t)}function TC(e){return e.toLowerCase()}class Vs{constructor(t,n){this.attribute=n,this.property=t}}Vs.prototype.attribute="";Vs.prototype.booleanish=!1;Vs.prototype.boolean=!1;Vs.prototype.commaOrSpaceSeparated=!1;Vs.prototype.commaSeparated=!1;Vs.prototype.defined=!1;Vs.prototype.mustUseProperty=!1;Vs.prototype.number=!1;Vs.prototype.overloadedBoolean=!1;Vs.prototype.property="";Vs.prototype.spaceSeparated=!1;Vs.prototype.space=void 0;let XBe=0;const Cn=py(),no=py(),YB=py(),st=py(),Zr=py(),Gv=py(),dl=py();function py(){return 2**++XBe}const GB=Object.freeze(Object.defineProperty({__proto__:null,boolean:Cn,booleanish:no,commaOrSpaceSeparated:dl,commaSeparated:Gv,number:st,overloadedBoolean:YB,spaceSeparated:Zr},Symbol.toStringTag,{value:"Module"})),MP=Object.keys(GB);class TF extends Vs{constructor(t,n,r,i){let o=-1;if(super(t,n),aY(this,"space",i),typeof r=="number")for(;++o<MP.length;){const a=MP[o];aY(this,MP[o],(r&GB[a])===GB[a])}}}TF.prototype.defined=!0;function aY(e,t,n){n&&(e[t]=n)}function fx(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new TF(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[TC(r)]=r,n[TC(o.attribute)]=r}return new YT(t,n,e.space)}const kue=fx({properties:{ariaActiveDescendant:null,ariaAtomic:no,ariaAutoComplete:null,ariaBusy:no,ariaChecked:no,ariaColCount:st,ariaColIndex:st,ariaColSpan:st,ariaControls:Zr,ariaCurrent:null,ariaDescribedBy:Zr,ariaDetails:null,ariaDisabled:no,ariaDropEffect:Zr,ariaErrorMessage:null,ariaExpanded:no,ariaFlowTo:Zr,ariaGrabbed:no,ariaHasPopup:null,ariaHidden:no,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Zr,ariaLevel:st,ariaLive:null,ariaModal:no,ariaMultiLine:no,ariaMultiSelectable:no,ariaOrientation:null,ariaOwns:Zr,ariaPlaceholder:null,ariaPosInSet:st,ariaPressed:no,ariaReadOnly:no,ariaRelevant:null,ariaRequired:no,ariaRoleDescription:Zr,ariaRowCount:st,ariaRowIndex:st,ariaRowSpan:st,ariaSelected:no,ariaSetSize:st,ariaSort:null,ariaValueMax:st,ariaValueMin:st,ariaValueNow:st,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function _ue(e,t){return t in e?e[t]:t}function Aue(e,t){return _ue(e,t.toLowerCase())}const ZBe=fx({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Gv,acceptCharset:Zr,accessKey:Zr,action:null,allow:null,allowFullScreen:Cn,allowPaymentRequest:Cn,allowUserMedia:Cn,alt:null,as:null,async:Cn,autoCapitalize:null,autoComplete:Zr,autoFocus:Cn,autoPlay:Cn,blocking:Zr,capture:null,charSet:null,checked:Cn,cite:null,className:Zr,cols:st,colSpan:null,content:null,contentEditable:no,controls:Cn,controlsList:Zr,coords:st|Gv,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Cn,defer:Cn,dir:null,dirName:null,disabled:Cn,download:YB,draggable:no,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Cn,formTarget:null,headers:Zr,height:st,hidden:YB,high:st,href:null,hrefLang:null,htmlFor:Zr,httpEquiv:Zr,id:null,imageSizes:null,imageSrcSet:null,inert:Cn,inputMode:null,integrity:null,is:null,isMap:Cn,itemId:null,itemProp:Zr,itemRef:Zr,itemScope:Cn,itemType:Zr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Cn,low:st,manifest:null,max:null,maxLength:st,media:null,method:null,min:null,minLength:st,multiple:Cn,muted:Cn,name:null,nonce:null,noModule:Cn,noValidate:Cn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Cn,optimum:st,pattern:null,ping:Zr,placeholder:null,playsInline:Cn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Cn,referrerPolicy:null,rel:Zr,required:Cn,reversed:Cn,rows:st,rowSpan:st,sandbox:Zr,scope:null,scoped:Cn,seamless:Cn,selected:Cn,shadowRootClonable:Cn,shadowRootDelegatesFocus:Cn,shadowRootMode:null,shape:null,size:st,sizes:null,slot:null,span:st,spellCheck:no,src:null,srcDoc:null,srcLang:null,srcSet:null,start:st,step:null,style:null,tabIndex:st,target:null,title:null,translate:null,type:null,typeMustMatch:Cn,useMap:null,value:no,width:st,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Zr,axis:null,background:null,bgColor:null,border:st,borderColor:null,bottomMargin:st,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Cn,declare:Cn,event:null,face:null,frame:null,frameBorder:null,hSpace:st,leftMargin:st,link:null,longDesc:null,lowSrc:null,marginHeight:st,marginWidth:st,noResize:Cn,noHref:Cn,noShade:Cn,noWrap:Cn,object:null,profile:null,prompt:null,rev:null,rightMargin:st,rules:null,scheme:null,scrolling:no,standby:null,summary:null,text:null,topMargin:st,valueType:null,version:null,vAlign:null,vLink:null,vSpace:st,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Cn,disableRemotePlayback:Cn,prefix:null,property:null,results:st,security:null,unselectable:null},space:"html",transform:Aue}),QBe=fx({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:dl,accentHeight:st,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:st,amplitude:st,arabicForm:null,ascent:st,attributeName:null,attributeType:null,azimuth:st,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:st,by:null,calcMode:null,capHeight:st,className:Zr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:st,diffuseConstant:st,direction:null,display:null,dur:null,divisor:st,dominantBaseline:null,download:Cn,dx:null,dy:null,edgeMode:null,editable:null,elevation:st,enableBackground:null,end:null,event:null,exponent:st,externalResourcesRequired:null,fill:null,fillOpacity:st,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Gv,g2:Gv,glyphName:Gv,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:st,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:st,horizOriginX:st,horizOriginY:st,id:null,ideographic:st,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:st,k:st,k1:st,k2:st,k3:st,k4:st,kernelMatrix:dl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:st,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:st,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:st,overlineThickness:st,paintOrder:null,panose1:null,path:null,pathLength:st,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Zr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:st,pointsAtY:st,pointsAtZ:st,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:dl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:dl,rev:dl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:dl,requiredFeatures:dl,requiredFonts:dl,requiredFormats:dl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:st,specularExponent:st,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:st,strikethroughThickness:st,string:null,stroke:null,strokeDashArray:dl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:st,strokeOpacity:st,strokeWidth:null,style:null,surfaceScale:st,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:dl,tabIndex:st,tableValues:null,target:null,targetX:st,targetY:st,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:dl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:st,underlineThickness:st,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:st,values:null,vAlphabetic:st,vMathematical:st,vectorEffect:null,vHanging:st,vIdeographic:st,version:null,vertAdvY:st,vertOriginX:st,vertOriginY:st,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:st,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:_ue}),Nue=fx({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Oue=fx({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Aue}),Mue=fx({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),JBe=/[A-Z]/g,sY=/-[a-z]/g,e8e=/^data[-\w.:]+$/i;function kF(e,t){const n=TC(t);let r=t,i=Vs;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&e8e.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(sY,n8e);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!sY.test(o)){let a=o.replace(JBe,t8e);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=TF}return new i(r,t)}function t8e(e){return"-"+e.toLowerCase()}function n8e(e){return e.charAt(1).toUpperCase()}const ZD=Tue([kue,ZBe,Nue,Oue,Mue],"html"),GT=Tue([kue,QBe,Nue,Oue,Mue],"svg");function lY(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const a=n.slice(i,r).trim();(a||!o)&&t.push(a),i=r+1,r=n.indexOf(",",i)}return t}function r8e(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const cY=/[#.]/g;function i8e(e,t){const n=e||"",r={};let i=0,o,a;for(;i<n.length;){cY.lastIndex=i;const s=cY.exec(n),l=n.slice(i,s?s.index:n.length);l&&(o?o==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:a=l,i+=l.length),s&&(o=s[0],i++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function uY(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function o8e(e){return e.join(" ").trim()}function Due(e,t,n){const r=n?c8e(n):void 0;function i(o,a,...s){let l;if(o==null){l={type:"root",children:[]};const c=a;s.unshift(c)}else{l=i8e(o,t);const c=l.tagName.toLowerCase(),u=r?r.get(c):void 0;if(l.tagName=u||c,a8e(a))s.unshift(a);else for(const[d,p]of Object.entries(a))s8e(e,l.properties,d,p)}for(const c of s)KB(l.children,c);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function a8e(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const a of o)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function s8e(e,t,n,r){const i=kF(e,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=uY(r):i.commaSeparated?o=lY(r):i.commaOrSpaceSeparated?o=uY(lY(r).join(" ")):o=dY(i,i.property,r):Array.isArray(r)?o=[...r]:o=i.property==="style"?l8e(r):String(r);if(Array.isArray(o)){const a=[];for(const s of o)a.push(dY(i,i.property,s));o=a}i.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[i.property]=o}}function KB(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)KB(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?KB(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function dY(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||TC(n)===TC(t)))return!0}return n}function l8e(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function c8e(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const u8e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Rue=Due(ZD,"div"),Iue=Due(GT,"g",u8e);function d8e(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=t.length){let a=0;for(;;){let s=n[a];if(s===void 0){const l=fY(t,n[a-1]);s=l===-1?t.length+1:l+1,n[a]=s}if(s>o)return{line:a+1,column:o-(a>0?n[a-1]:0)+1,offset:o};a++}}}function i(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const s=n[n.length-1],l=fY(t,s),c=l===-1?t.length+1:l+1;if(s===c)break;n.push(c)}const a=(o.line>1?n[o.line-2]:0)+o.column-1;if(a<n[o.line-1])return a}}}function fY(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const nN={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"},Pue={}.hasOwnProperty,f8e=Object.prototype;function h8e(e,t){const n=t||{};return _F({file:n.file||void 0,location:!1,schema:n.space==="svg"?GT:ZD,verbose:n.verbose||!1},e)}function _F(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},rN(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Lue(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),a=d8e(o),s=a.toPoint(0),l=a.toPoint(o.length);n.position={start:s,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},rN(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},rN(e,r,n),n}default:return n=p8e(e,t),n}}function Lue(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=_F(e,t[n]);r.push(i)}return r}function p8e(e,t){const n=e.schema;e.schema=t.namespaceURI===nN.svg?GT:ZD;let r=-1;const i={};for(;++r<t.attrs.length;){const s=t.attrs[r],l=(s.prefix?s.prefix+":":"")+s.name;Pue.call(f8e,l)||(i[l]=s.value)}const a=(e.schema.space==="svg"?Iue:Rue)(t.tagName,i,Lue(e,t.childNodes));if(rN(e,t,a),a.tagName==="template"){const s=t,l=s.sourceCodeLocation,c=l&&l.startTag&&Dv(l.startTag),u=l&&l.endTag&&Dv(l.endTag),d=_F(e,s.content);c&&u&&e.file&&(d.position={start:c.end,end:u.start}),a.content=d}return e.schema=n,a}function rN(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=m8e(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function m8e(e,t,n){const r=Dv(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const o={};let a;if(n.attrs)for(a in n.attrs)Pue.call(n.attrs,a)&&(o[kF(e.schema,a).property]=Dv(n.attrs[a]));n.startTag;const s=Dv(n.startTag),l=n.endTag?Dv(n.endTag):void 0,c={opening:s};l&&(c.closing=l),c.properties=o,t.data={position:c}}}return r}function Dv(e){const t=hY({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=hY({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function hY(e){return e.line&&e.column?e:void 0}const g8e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),mi="";var ie;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(ie||(ie={}));const _s={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function jue(e){return e>=55296&&e<=57343}function y8e(e){return e>=56320&&e<=57343}function b8e(e,t){return(e-55296)*1024+9216+t}function Bue(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function $ue(e){return e>=64976&&e<=65007||g8e.has(e)}var $e;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})($e||($e={}));const v8e=65536;class x8e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=v8e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:o}=this,a=i+n,s=o+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:s,endOffset:s}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(y8e(n))return this.pos++,this._addGap(),b8e(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ie.EOF;return this._err($e.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ie.EOF;const r=this.html.charCodeAt(n);return r===ie.CARRIAGE_RETURN?ie.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ie.EOF;let t=this.html.charCodeAt(this.pos);return t===ie.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ie.LINE_FEED):t===ie.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,jue(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===ie.LINE_FEED||t===ie.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Bue(t)?this._err($e.controlCharacterInInputStream):$ue(t)&&this._err($e.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var lr;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(lr||(lr={}));function Hue(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const w8e=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),S8e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function E8e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=S8e.get(e))!==null&&t!==void 0?t:e}var jo;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(jo||(jo={}));const C8e=32;var qp;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(qp||(qp={}));function XB(e){return e>=jo.ZERO&&e<=jo.NINE}function T8e(e){return e>=jo.UPPER_A&&e<=jo.UPPER_F||e>=jo.LOWER_A&&e<=jo.LOWER_F}function k8e(e){return e>=jo.UPPER_A&&e<=jo.UPPER_Z||e>=jo.LOWER_A&&e<=jo.LOWER_Z||XB(e)}function _8e(e){return e===jo.EQUALS||k8e(e)}var Ro;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ro||(Ro={}));var Mf;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Mf||(Mf={}));class A8e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Ro.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Mf.Strict}startEntity(t){this.decodeMode=t,this.state=Ro.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Ro.EntityStart:return t.charCodeAt(n)===jo.NUM?(this.state=Ro.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Ro.NamedEntity,this.stateNamedEntity(t,n));case Ro.NumericStart:return this.stateNumericStart(t,n);case Ro.NumericDecimal:return this.stateNumericDecimal(t,n);case Ro.NumericHex:return this.stateNumericHex(t,n);case Ro.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|C8e)===jo.LOWER_X?(this.state=Ro.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Ro.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+Number.parseInt(t.substr(n,o),i),this.consumed+=o}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(XB(i)||T8e(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(XB(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===jo.SEMI)this.consumed+=1;else if(this.decodeMode===Mf.Strict)return 0;return this.emitCodePoint(E8e(this.result),this.consumed),this.errors&&(t!==jo.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&qp.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=N8e(r,i,this.treeIndex+Math.max(1,o),a),this.treeIndex<0)return this.result===0||this.decodeMode===Mf.Attribute&&(o===0||_8e(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&qp.VALUE_LENGTH)>>14,o!==0){if(a===jo.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Mf.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&qp.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~qp.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Ro.NamedEntity:return this.result!==0&&(this.decodeMode!==Mf.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ro.NumericDecimal:return this.emitNumericEntity(0,2);case Ro.NumericHex:return this.emitNumericEntity(0,3);case Ro.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ro.EntityStart:return 0}}}function N8e(e,t,n,r){const i=(t&qp.BRANCH_LENGTH)>>7,o=t&qp.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const l=r-o;return l<0||l>=i?-1:e[n+l]-1}let a=n,s=a+i-1;for(;a<=s;){const l=a+s>>>1,c=e[l];if(c<r)a=l+1;else if(c>r)s=l-1;else return e[l+i]}return-1}var tt;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(tt||(tt={}));var E0;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(E0||(E0={}));var ic;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(ic||(ic={}));var _e;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(_e||(_e={}));var P;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(P||(P={}));const O8e=new Map([[_e.A,P.A],[_e.ADDRESS,P.ADDRESS],[_e.ANNOTATION_XML,P.ANNOTATION_XML],[_e.APPLET,P.APPLET],[_e.AREA,P.AREA],[_e.ARTICLE,P.ARTICLE],[_e.ASIDE,P.ASIDE],[_e.B,P.B],[_e.BASE,P.BASE],[_e.BASEFONT,P.BASEFONT],[_e.BGSOUND,P.BGSOUND],[_e.BIG,P.BIG],[_e.BLOCKQUOTE,P.BLOCKQUOTE],[_e.BODY,P.BODY],[_e.BR,P.BR],[_e.BUTTON,P.BUTTON],[_e.CAPTION,P.CAPTION],[_e.CENTER,P.CENTER],[_e.CODE,P.CODE],[_e.COL,P.COL],[_e.COLGROUP,P.COLGROUP],[_e.DD,P.DD],[_e.DESC,P.DESC],[_e.DETAILS,P.DETAILS],[_e.DIALOG,P.DIALOG],[_e.DIR,P.DIR],[_e.DIV,P.DIV],[_e.DL,P.DL],[_e.DT,P.DT],[_e.EM,P.EM],[_e.EMBED,P.EMBED],[_e.FIELDSET,P.FIELDSET],[_e.FIGCAPTION,P.FIGCAPTION],[_e.FIGURE,P.FIGURE],[_e.FONT,P.FONT],[_e.FOOTER,P.FOOTER],[_e.FOREIGN_OBJECT,P.FOREIGN_OBJECT],[_e.FORM,P.FORM],[_e.FRAME,P.FRAME],[_e.FRAMESET,P.FRAMESET],[_e.H1,P.H1],[_e.H2,P.H2],[_e.H3,P.H3],[_e.H4,P.H4],[_e.H5,P.H5],[_e.H6,P.H6],[_e.HEAD,P.HEAD],[_e.HEADER,P.HEADER],[_e.HGROUP,P.HGROUP],[_e.HR,P.HR],[_e.HTML,P.HTML],[_e.I,P.I],[_e.IMG,P.IMG],[_e.IMAGE,P.IMAGE],[_e.INPUT,P.INPUT],[_e.IFRAME,P.IFRAME],[_e.KEYGEN,P.KEYGEN],[_e.LABEL,P.LABEL],[_e.LI,P.LI],[_e.LINK,P.LINK],[_e.LISTING,P.LISTING],[_e.MAIN,P.MAIN],[_e.MALIGNMARK,P.MALIGNMARK],[_e.MARQUEE,P.MARQUEE],[_e.MATH,P.MATH],[_e.MENU,P.MENU],[_e.META,P.META],[_e.MGLYPH,P.MGLYPH],[_e.MI,P.MI],[_e.MO,P.MO],[_e.MN,P.MN],[_e.MS,P.MS],[_e.MTEXT,P.MTEXT],[_e.NAV,P.NAV],[_e.NOBR,P.NOBR],[_e.NOFRAMES,P.NOFRAMES],[_e.NOEMBED,P.NOEMBED],[_e.NOSCRIPT,P.NOSCRIPT],[_e.OBJECT,P.OBJECT],[_e.OL,P.OL],[_e.OPTGROUP,P.OPTGROUP],[_e.OPTION,P.OPTION],[_e.P,P.P],[_e.PARAM,P.PARAM],[_e.PLAINTEXT,P.PLAINTEXT],[_e.PRE,P.PRE],[_e.RB,P.RB],[_e.RP,P.RP],[_e.RT,P.RT],[_e.RTC,P.RTC],[_e.RUBY,P.RUBY],[_e.S,P.S],[_e.SCRIPT,P.SCRIPT],[_e.SEARCH,P.SEARCH],[_e.SECTION,P.SECTION],[_e.SELECT,P.SELECT],[_e.SOURCE,P.SOURCE],[_e.SMALL,P.SMALL],[_e.SPAN,P.SPAN],[_e.STRIKE,P.STRIKE],[_e.STRONG,P.STRONG],[_e.STYLE,P.STYLE],[_e.SUB,P.SUB],[_e.SUMMARY,P.SUMMARY],[_e.SUP,P.SUP],[_e.TABLE,P.TABLE],[_e.TBODY,P.TBODY],[_e.TEMPLATE,P.TEMPLATE],[_e.TEXTAREA,P.TEXTAREA],[_e.TFOOT,P.TFOOT],[_e.TD,P.TD],[_e.TH,P.TH],[_e.THEAD,P.THEAD],[_e.TITLE,P.TITLE],[_e.TR,P.TR],[_e.TRACK,P.TRACK],[_e.TT,P.TT],[_e.U,P.U],[_e.UL,P.UL],[_e.SVG,P.SVG],[_e.VAR,P.VAR],[_e.WBR,P.WBR],[_e.XMP,P.XMP]]);function QD(e){var t;return(t=O8e.get(e))!==null&&t!==void 0?t:P.UNKNOWN}const rt=P,M8e={[tt.HTML]:new Set([rt.ADDRESS,rt.APPLET,rt.AREA,rt.ARTICLE,rt.ASIDE,rt.BASE,rt.BASEFONT,rt.BGSOUND,rt.BLOCKQUOTE,rt.BODY,rt.BR,rt.BUTTON,rt.CAPTION,rt.CENTER,rt.COL,rt.COLGROUP,rt.DD,rt.DETAILS,rt.DIR,rt.DIV,rt.DL,rt.DT,rt.EMBED,rt.FIELDSET,rt.FIGCAPTION,rt.FIGURE,rt.FOOTER,rt.FORM,rt.FRAME,rt.FRAMESET,rt.H1,rt.H2,rt.H3,rt.H4,rt.H5,rt.H6,rt.HEAD,rt.HEADER,rt.HGROUP,rt.HR,rt.HTML,rt.IFRAME,rt.IMG,rt.INPUT,rt.LI,rt.LINK,rt.LISTING,rt.MAIN,rt.MARQUEE,rt.MENU,rt.META,rt.NAV,rt.NOEMBED,rt.NOFRAMES,rt.NOSCRIPT,rt.OBJECT,rt.OL,rt.P,rt.PARAM,rt.PLAINTEXT,rt.PRE,rt.SCRIPT,rt.SECTION,rt.SELECT,rt.SOURCE,rt.STYLE,rt.SUMMARY,rt.TABLE,rt.TBODY,rt.TD,rt.TEMPLATE,rt.TEXTAREA,rt.TFOOT,rt.TH,rt.THEAD,rt.TITLE,rt.TR,rt.TRACK,rt.UL,rt.WBR,rt.XMP]),[tt.MATHML]:new Set([rt.MI,rt.MO,rt.MN,rt.MS,rt.MTEXT,rt.ANNOTATION_XML]),[tt.SVG]:new Set([rt.TITLE,rt.FOREIGN_OBJECT,rt.DESC]),[tt.XLINK]:new Set,[tt.XML]:new Set,[tt.XMLNS]:new Set},ZB=new Set([rt.H1,rt.H2,rt.H3,rt.H4,rt.H5,rt.H6]);_e.STYLE,_e.SCRIPT,_e.XMP,_e.IFRAME,_e.NOEMBED,_e.NOFRAMES,_e.PLAINTEXT;var ae;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(ae||(ae={}));const js={DATA:ae.DATA,RCDATA:ae.RCDATA,RAWTEXT:ae.RAWTEXT,SCRIPT_DATA:ae.SCRIPT_DATA,PLAINTEXT:ae.PLAINTEXT,CDATA_SECTION:ae.CDATA_SECTION};function D8e(e){return e>=ie.DIGIT_0&&e<=ie.DIGIT_9}function aE(e){return e>=ie.LATIN_CAPITAL_A&&e<=ie.LATIN_CAPITAL_Z}function R8e(e){return e>=ie.LATIN_SMALL_A&&e<=ie.LATIN_SMALL_Z}function Ep(e){return R8e(e)||aE(e)}function pY(e){return Ep(e)||D8e(e)}function uA(e){return e+32}function Fue(e){return e===ie.SPACE||e===ie.LINE_FEED||e===ie.TABULATION||e===ie.FORM_FEED}function mY(e){return Fue(e)||e===ie.SOLIDUS||e===ie.GREATER_THAN_SIGN}function I8e(e){return e===ie.NULL?$e.nullCharacterReference:e>1114111?$e.characterReferenceOutsideUnicodeRange:jue(e)?$e.surrogateCharacterReference:$ue(e)?$e.noncharacterCharacterReference:Bue(e)||e===ie.CARRIAGE_RETURN?$e.controlCharacterReference:null}class P8e{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ae.DATA,this.returnState=ae.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new x8e(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new A8e(w8e,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err($e.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err($e.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=I8e(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:lr.START_TAG,tagName:"",tagID:P.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:lr.END_TAG,tagName:"",tagID:P.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:lr.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:lr.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Hue(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err($e.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=QD(t.tagName),t.type===lr.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err($e.endTagWithAttributes),t.selfClosing&&this._err($e.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case lr.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case lr.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case lr.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:lr.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Fue(t)?lr.WHITESPACE_CHARACTER:t===ie.NULL?lr.NULL_CHARACTER:lr.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(lr.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=ae.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Mf.Attribute:Mf.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ae.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ae.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case ae.DATA:{this._stateData(t);break}case ae.RCDATA:{this._stateRcdata(t);break}case ae.RAWTEXT:{this._stateRawtext(t);break}case ae.SCRIPT_DATA:{this._stateScriptData(t);break}case ae.PLAINTEXT:{this._statePlaintext(t);break}case ae.TAG_OPEN:{this._stateTagOpen(t);break}case ae.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case ae.TAG_NAME:{this._stateTagName(t);break}case ae.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case ae.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case ae.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case ae.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case ae.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case ae.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case ae.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case ae.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case ae.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case ae.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case ae.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case ae.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case ae.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case ae.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case ae.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case ae.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case ae.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case ae.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case ae.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case ae.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case ae.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case ae.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case ae.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case ae.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case ae.BOGUS_COMMENT:{this._stateBogusComment(t);break}case ae.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case ae.COMMENT_START:{this._stateCommentStart(t);break}case ae.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case ae.COMMENT:{this._stateComment(t);break}case ae.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case ae.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case ae.COMMENT_END:{this._stateCommentEnd(t);break}case ae.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case ae.DOCTYPE:{this._stateDoctype(t);break}case ae.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case ae.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case ae.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case ae.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case ae.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case ae.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case ae.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case ae.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case ae.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case ae.CDATA_SECTION:{this._stateCdataSection(t);break}case ae.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case ae.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case ae.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case ae.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.TAG_OPEN;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitCodePoint(t);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case ie.AMPERSAND:{this._startCharacterReference();break}case ie.LESS_THAN_SIGN:{this.state=ae.RCDATA_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(mi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.RAWTEXT_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(mi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(mi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(mi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Ep(t))this._createStartTagToken(),this.state=ae.TAG_NAME,this._stateTagName(t);else switch(t){case ie.EXCLAMATION_MARK:{this.state=ae.MARKUP_DECLARATION_OPEN;break}case ie.SOLIDUS:{this.state=ae.END_TAG_OPEN;break}case ie.QUESTION_MARK:{this._err($e.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t);break}case ie.EOF:{this._err($e.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err($e.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ae.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Ep(t))this._createEndTagToken(),this.state=ae.TAG_NAME,this._stateTagName(t);else switch(t){case ie.GREATER_THAN_SIGN:{this._err($e.missingEndTagName),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err($e.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.SOLIDUS:{this.state=ae.SELF_CLOSING_START_TAG;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.tagName+=mi;break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(aE(t)?uA(t):t)}}_stateRcdataLessThanSign(t){t===ie.SOLIDUS?this.state=ae.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ae.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Ep(t)?(this.state=ae.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=ae.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ae.BEFORE_ATTRIBUTE_NAME,!1;case ie.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ae.SELF_CLOSING_START_TAG,!1;case ie.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ae.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===ie.SOLIDUS?this.state=ae.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Ep(t)?(this.state=ae.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case ie.SOLIDUS:{this.state=ae.SCRIPT_DATA_END_TAG_OPEN;break}case ie.EXCLAMATION_MARK:{this.state=ae.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Ep(t)?(this.state=ae.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===ie.HYPHEN_MINUS?(this.state=ae.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===ie.HYPHEN_MINUS?(this.state=ae.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(mi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_ESCAPED,this._emitChars(mi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case ie.HYPHEN_MINUS:{this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.GREATER_THAN_SIGN:{this.state=ae.SCRIPT_DATA,this._emitChars(">");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_ESCAPED,this._emitChars(mi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===ie.SOLIDUS?this.state=ae.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ep(t)?(this._emitChars("<"),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Ep(t)?(this.state=ae.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(_s.SCRIPT,!1)&&mY(this.preprocessor.peek(_s.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<_s.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(mi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(mi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case ie.HYPHEN_MINUS:{this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.GREATER_THAN_SIGN:{this.state=ae.SCRIPT_DATA,this._emitChars(">");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(mi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===ie.SOLIDUS?(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(_s.SCRIPT,!1)&&mY(this.preprocessor.peek(_s.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<_s.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ae.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.SOLIDUS:case ie.GREATER_THAN_SIGN:case ie.EOF:{this.state=ae.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ie.EQUALS_SIGN:{this._err($e.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ae.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ae.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:case ie.SOLIDUS:case ie.GREATER_THAN_SIGN:case ie.EOF:{this._leaveAttrName(),this.state=ae.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ie.EQUALS_SIGN:{this._leaveAttrName(),this.state=ae.BEFORE_ATTRIBUTE_VALUE;break}case ie.QUOTATION_MARK:case ie.APOSTROPHE:case ie.LESS_THAN_SIGN:{this._err($e.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.name+=mi;break}default:this.currentAttr.name+=String.fromCodePoint(aE(t)?uA(t):t)}}_stateAfterAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.SOLIDUS:{this.state=ae.SELF_CLOSING_START_TAG;break}case ie.EQUALS_SIGN:{this.state=ae.BEFORE_ATTRIBUTE_VALUE;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ae.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{this.state=ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this.state=ae.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingAttributeValue),this.state=ae.DATA,this.emitCurrentTagToken();break}default:this.state=ae.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.value+=mi;break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.value+=mi;break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this._leaveAttrValue(),this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.value+=mi;break}case ie.QUOTATION_MARK:case ie.APOSTROPHE:case ie.LESS_THAN_SIGN:case ie.EQUALS_SIGN:case ie.GRAVE_ACCENT:{this._err($e.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this._leaveAttrValue(),this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.SOLIDUS:{this._leaveAttrValue(),this.state=ae.SELF_CLOSING_START_TAG;break}case ie.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this._err($e.missingWhitespaceBetweenAttributes),this.state=ae.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case ie.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this._err($e.unexpectedSolidusInTag),this.state=ae.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.data+=mi;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(_s.DASH_DASH,!0)?(this._createCommentToken(_s.DASH_DASH.length+1),this.state=ae.COMMENT_START):this._consumeSequenceIfMatch(_s.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(_s.DOCTYPE.length+1),this.state=ae.DOCTYPE):this._consumeSequenceIfMatch(_s.CDATA_START,!0)?this.inForeignNode?this.state=ae.CDATA_SECTION:(this._err($e.cdataInHtmlContent),this._createCommentToken(_s.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ae.BOGUS_COMMENT):this._ensureHibernation()||(this._err($e.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_START_DASH;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptClosingOfEmptyComment),this.state=ae.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptClosingOfEmptyComment),this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ae.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END_DASH;break}case ie.LESS_THAN_SIGN:{n.data+="<",this.state=ae.COMMENT_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.data+=mi;break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case ie.EXCLAMATION_MARK:{n.data+="!",this.state=ae.COMMENT_LESS_THAN_SIGN_BANG;break}case ie.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===ie.HYPHEN_MINUS?this.state=ae.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ae.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===ie.HYPHEN_MINUS?this.state=ae.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ae.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==ie.GREATER_THAN_SIGN&&t!==ie.EOF&&this._err($e.nestedComment),this.state=ae.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END;break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EXCLAMATION_MARK:{this.state=ae.COMMENT_END_BANG;break}case ie.HYPHEN_MINUS:{n.data+="-";break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{n.data+="--!",this.state=ae.COMMENT_END_DASH;break}case ie.GREATER_THAN_SIGN:{this._err($e.incorrectlyClosedComment),this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=ae.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this.state=ae.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case ie.EOF:{this._err($e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingWhitespaceBeforeDoctypeName),this.state=ae.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(aE(t))this._createDoctypeToken(String.fromCharCode(uA(t))),this.state=ae.DOCTYPE_NAME;else switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.NULL:{this._err($e.unexpectedNullCharacter),this._createDoctypeToken(mi),this.state=ae.DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=ae.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.AFTER_DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.name+=mi;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(aE(t)?uA(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(_s.PUBLIC,!1)?this.state=ae.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(_s.SYSTEM,!1)?this.state=ae.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err($e.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.QUOTATION_MARK:{this._err($e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err($e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.publicId+=mi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.publicId+=mi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.QUOTATION_MARK:{this._err($e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err($e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.QUOTATION_MARK:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.QUOTATION_MARK:{this._err($e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err($e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.systemId+=mi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.systemId+=mi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.NULL:{this._err($e.unexpectedNullCharacter);break}case ie.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case ie.RIGHT_SQUARE_BRACKET:{this.state=ae.CDATA_SECTION_BRACKET;break}case ie.EOF:{this._err($e.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===ie.RIGHT_SQUARE_BRACKET?this.state=ae.CDATA_SECTION_END:(this._emitChars("]"),this.state=ae.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA;break}case ie.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ae.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(ie.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&pY(this.preprocessor.peek(1))?ae.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){pY(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===ie.SEMICOLON&&this._err($e.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const Uue=new Set([P.DD,P.DT,P.LI,P.OPTGROUP,P.OPTION,P.P,P.RB,P.RP,P.RT,P.RTC]),gY=new Set([...Uue,P.CAPTION,P.COLGROUP,P.TBODY,P.TD,P.TFOOT,P.TH,P.THEAD,P.TR]),xO=new Set([P.APPLET,P.CAPTION,P.HTML,P.MARQUEE,P.OBJECT,P.TABLE,P.TD,P.TEMPLATE,P.TH]),L8e=new Set([...xO,P.OL,P.UL]),j8e=new Set([...xO,P.BUTTON]),yY=new Set([P.ANNOTATION_XML,P.MI,P.MN,P.MO,P.MS,P.MTEXT]),bY=new Set([P.DESC,P.FOREIGN_OBJECT,P.TITLE]),B8e=new Set([P.TR,P.TEMPLATE,P.HTML]),$8e=new Set([P.TBODY,P.TFOOT,P.THEAD,P.TEMPLATE,P.HTML]),H8e=new Set([P.TABLE,P.TEMPLATE,P.HTML]),F8e=new Set([P.TD,P.TH]);class U8e{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=P.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===P.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===tt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==tt.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(ZB,tt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(F8e,tt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(H8e,tt.HTML)}clearBackToTableBodyContext(){this.clearBackTo($8e,tt.HTML)}clearBackToTableRowContext(){this.clearBackTo(B8e,tt.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===P.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===P.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case tt.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case tt.SVG:{if(bY.has(i))return!1;break}case tt.MATHML:{if(yY.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,xO)}hasInListItemScope(t){return this.hasInDynamicScope(t,L8e)}hasInButtonScope(t){return this.hasInDynamicScope(t,j8e)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case tt.HTML:{if(ZB.has(n))return!0;if(xO.has(n))return!1;break}case tt.SVG:{if(bY.has(n))return!1;break}case tt.MATHML:{if(yY.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===tt.HTML)switch(this.tagIDs[n]){case t:return!0;case P.TABLE:case P.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===tt.HTML)switch(this.tagIDs[t]){case P.TBODY:case P.THEAD:case P.TFOOT:return!0;case P.TABLE:case P.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===tt.HTML)switch(this.tagIDs[n]){case t:return!0;case P.OPTION:case P.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&Uue.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&gY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&gY.has(this.currentTagId);)this.pop()}}const DP=3;var md;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(md||(md={}));const vY={type:md.Marker};class z8e{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let s=0;s<this.entries.length;s++){const l=this.entries[s];if(l.type===md.Marker)break;const{element:c}=l;if(this.treeAdapter.getTagName(c)===o&&this.treeAdapter.getNamespaceURI(c)===a){const u=this.treeAdapter.getAttrList(c);u.length===i&&r.push({idx:s,attrs:u})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<DP)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<DP)return;const i=new Map(n.map(a=>[a.name,a.value]));let o=0;for(let a=0;a<r.length;a++){const s=r[a];s.attrs.every(l=>i.get(l.name)===l.value)&&(o+=1,o>=DP&&this.entries.splice(s.idx,1))}}insertMarker(){this.entries.unshift(vY)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:md.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:md.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(vY);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===md.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===md.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===md.Element&&n.element===t)}}const Cp={createDocument(){return{nodeName:"#document",mode:ic.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Cp.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Cp.isTextNode(n)){n.value+=t;return}}Cp.appendChild(e,Cp.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Cp.isTextNode(r)?r.value+=t:Cp.insertBefore(e,Cp.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},zue="html",V8e="about:legacy-compat",q8e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Vue=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],W8e=[...Vue,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Y8e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),que=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],G8e=[...que,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function xY(e,t){return t.some(n=>e.startsWith(n))}function K8e(e){return e.name===zue&&e.publicId===null&&(e.systemId===null||e.systemId===V8e)}function X8e(e){if(e.name!==zue)return ic.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===q8e)return ic.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),Y8e.has(n))return ic.QUIRKS;let r=t===null?W8e:Vue;if(xY(n,r))return ic.QUIRKS;if(r=t===null?que:G8e,xY(n,r))return ic.LIMITED_QUIRKS}return ic.NO_QUIRKS}const wY={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Z8e="definitionurl",Q8e="definitionURL",J8e=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),e$e=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:tt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:tt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:tt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:tt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:tt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:tt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:tt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:tt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:tt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:tt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:tt.XMLNS}]]),t$e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),n$e=new Set([P.B,P.BIG,P.BLOCKQUOTE,P.BODY,P.BR,P.CENTER,P.CODE,P.DD,P.DIV,P.DL,P.DT,P.EM,P.EMBED,P.H1,P.H2,P.H3,P.H4,P.H5,P.H6,P.HEAD,P.HR,P.I,P.IMG,P.LI,P.LISTING,P.MENU,P.META,P.NOBR,P.OL,P.P,P.PRE,P.RUBY,P.S,P.SMALL,P.SPAN,P.STRONG,P.STRIKE,P.SUB,P.SUP,P.TABLE,P.TT,P.U,P.UL,P.VAR]);function r$e(e){const t=e.tagID;return t===P.FONT&&e.attrs.some(({name:r})=>r===E0.COLOR||r===E0.SIZE||r===E0.FACE)||n$e.has(t)}function Wue(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Z8e){e.attrs[t].name=Q8e;break}}function Yue(e){for(let t=0;t<e.attrs.length;t++){const n=J8e.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function AF(e){for(let t=0;t<e.attrs.length;t++){const n=e$e.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function i$e(e){const t=t$e.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=QD(e.tagName))}function o$e(e,t){return t===tt.MATHML&&(e===P.MI||e===P.MO||e===P.MN||e===P.MS||e===P.MTEXT)}function a$e(e,t,n){if(t===tt.MATHML&&e===P.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===E0.ENCODING){const i=n[r].value.toLowerCase();return i===wY.TEXT_HTML||i===wY.APPLICATION_XML}}return t===tt.SVG&&(e===P.FOREIGN_OBJECT||e===P.DESC||e===P.TITLE)}function s$e(e,t,n,r){return(!r||r===tt.HTML)&&a$e(e,t,n)||(!r||r===tt.MATHML)&&o$e(e,t)}const l$e="hidden",c$e=8,u$e=3;var de;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(de||(de={}));const d$e={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Gue=new Set([P.TABLE,P.TBODY,P.TFOOT,P.THEAD,P.TR]),SY={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Cp,onParseError:null};class Kue{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=de.INITIAL,this.originalInsertionMode=de.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...SY,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new P8e(this.options,this),this.activeFormattingElements=new z8e(this.treeAdapter),this.fragmentContextID=r?QD(this.treeAdapter.getTagName(r)):P.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new U8e(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...SY,...n};t??(t=r.treeAdapter.createElement(_e.TEMPLATE,tt.HTML,[]));const i=r.treeAdapter.createElement("documentmock",tt.HTML,[]),o=new this(r,i,t);return o.fragmentContextID===P.TEMPLATE&&o.tmplInsertionModeStack.unshift(de.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:d$e,a={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(a)}onItemPush(t,n,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let o,a;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,a=this.fragmentContextID):{current:o,currentTagId:a}=this.openElements,this._setContextModes(o,a)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===tt.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,tt.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=de.TEXT}switchToPlaintextParsing(){this.insertionMode=de.TEXT,this.originalInsertionMode=de.IN_BODY,this.tokenizer.state=js.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===_e.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==tt.HTML))switch(this.fragmentContextID){case P.TITLE:case P.TEXTAREA:{this.tokenizer.state=js.RCDATA;break}case P.STYLE:case P.XMP:case P.IFRAME:case P.NOEMBED:case P.NOFRAMES:case P.NOSCRIPT:{this.tokenizer.state=js.RAWTEXT;break}case P.SCRIPT:{this.tokenizer.state=js.SCRIPT_DATA;break}case P.PLAINTEXT:{this.tokenizer.state=js.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(s=>this.treeAdapter.isDocumentTypeNode(s));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,tt.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,tt.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(_e.HTML,tt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,P.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),o=r?i.lastIndexOf(r):i.length,a=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:c,endOffset:u}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:c,endOffset:u})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),o=n.type===lr.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===P.SVG&&this.treeAdapter.getTagName(n)===_e.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===tt.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===P.MGLYPH||t.tagID===P.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,tt.HTML)}_processToken(t){switch(t.type){case lr.CHARACTER:{this.onCharacter(t);break}case lr.NULL_CHARACTER:{this.onNullCharacter(t);break}case lr.COMMENT:{this.onComment(t);break}case lr.DOCTYPE:{this.onDoctype(t);break}case lr.START_TAG:{this._processStartTag(t);break}case lr.END_TAG:{this.onEndTag(t);break}case lr.EOF:{this.onEof(t);break}case lr.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return s$e(t,i,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===md.Marker||this.openElements.contains(i.element)),r=n===-1?t-1:n-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=de.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(P.P),this.openElements.popUntilTagNamePopped(P.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case P.TR:{this.insertionMode=de.IN_ROW;return}case P.TBODY:case P.THEAD:case P.TFOOT:{this.insertionMode=de.IN_TABLE_BODY;return}case P.CAPTION:{this.insertionMode=de.IN_CAPTION;return}case P.COLGROUP:{this.insertionMode=de.IN_COLUMN_GROUP;return}case P.TABLE:{this.insertionMode=de.IN_TABLE;return}case P.BODY:{this.insertionMode=de.IN_BODY;return}case P.FRAMESET:{this.insertionMode=de.IN_FRAMESET;return}case P.SELECT:{this._resetInsertionModeForSelect(t);return}case P.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case P.HTML:{this.insertionMode=this.headElement?de.AFTER_HEAD:de.BEFORE_HEAD;return}case P.TD:case P.TH:{if(t>0){this.insertionMode=de.IN_CELL;return}break}case P.HEAD:{if(t>0){this.insertionMode=de.IN_HEAD;return}break}}this.insertionMode=de.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===P.TEMPLATE)break;if(r===P.TABLE){this.insertionMode=de.IN_SELECT_IN_TABLE;return}}this.insertionMode=de.IN_SELECT}_isElementCausesFosterParenting(t){return Gue.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case P.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===tt.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case P.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return M8e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){FHe(this,t);return}switch(this.insertionMode){case de.INITIAL:{RS(this,t);break}case de.BEFORE_HTML:{_E(this,t);break}case de.BEFORE_HEAD:{AE(this,t);break}case de.IN_HEAD:{NE(this,t);break}case de.IN_HEAD_NO_SCRIPT:{OE(this,t);break}case de.AFTER_HEAD:{ME(this,t);break}case de.IN_BODY:case de.IN_CAPTION:case de.IN_CELL:case de.IN_TEMPLATE:{Zue(this,t);break}case de.TEXT:case de.IN_SELECT:case de.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case de.IN_TABLE:case de.IN_TABLE_BODY:case de.IN_ROW:{RP(this,t);break}case de.IN_TABLE_TEXT:{rde(this,t);break}case de.IN_COLUMN_GROUP:{wO(this,t);break}case de.AFTER_BODY:{SO(this,t);break}case de.AFTER_AFTER_BODY:{iN(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){HHe(this,t);return}switch(this.insertionMode){case de.INITIAL:{RS(this,t);break}case de.BEFORE_HTML:{_E(this,t);break}case de.BEFORE_HEAD:{AE(this,t);break}case de.IN_HEAD:{NE(this,t);break}case de.IN_HEAD_NO_SCRIPT:{OE(this,t);break}case de.AFTER_HEAD:{ME(this,t);break}case de.TEXT:{this._insertCharacters(t);break}case de.IN_TABLE:case de.IN_TABLE_BODY:case de.IN_ROW:{RP(this,t);break}case de.IN_COLUMN_GROUP:{wO(this,t);break}case de.AFTER_BODY:{SO(this,t);break}case de.AFTER_AFTER_BODY:{iN(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){QB(this,t);return}switch(this.insertionMode){case de.INITIAL:case de.BEFORE_HTML:case de.BEFORE_HEAD:case de.IN_HEAD:case de.IN_HEAD_NO_SCRIPT:case de.AFTER_HEAD:case de.IN_BODY:case de.IN_TABLE:case de.IN_CAPTION:case de.IN_COLUMN_GROUP:case de.IN_TABLE_BODY:case de.IN_ROW:case de.IN_CELL:case de.IN_SELECT:case de.IN_SELECT_IN_TABLE:case de.IN_TEMPLATE:case de.IN_FRAMESET:case de.AFTER_FRAMESET:{QB(this,t);break}case de.IN_TABLE_TEXT:{IS(this,t);break}case de.AFTER_BODY:{b$e(this,t);break}case de.AFTER_AFTER_BODY:case de.AFTER_AFTER_FRAMESET:{v$e(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case de.INITIAL:{x$e(this,t);break}case de.BEFORE_HEAD:case de.IN_HEAD:case de.IN_HEAD_NO_SCRIPT:case de.AFTER_HEAD:{this._err(t,$e.misplacedDoctype);break}case de.IN_TABLE_TEXT:{IS(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,$e.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?UHe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case de.INITIAL:{RS(this,t);break}case de.BEFORE_HTML:{w$e(this,t);break}case de.BEFORE_HEAD:{E$e(this,t);break}case de.IN_HEAD:{_u(this,t);break}case de.IN_HEAD_NO_SCRIPT:{k$e(this,t);break}case de.AFTER_HEAD:{A$e(this,t);break}case de.IN_BODY:{Aa(this,t);break}case de.IN_TABLE:{b1(this,t);break}case de.IN_TABLE_TEXT:{IS(this,t);break}case de.IN_CAPTION:{CHe(this,t);break}case de.IN_COLUMN_GROUP:{MF(this,t);break}case de.IN_TABLE_BODY:{tR(this,t);break}case de.IN_ROW:{nR(this,t);break}case de.IN_CELL:{_He(this,t);break}case de.IN_SELECT:{ade(this,t);break}case de.IN_SELECT_IN_TABLE:{NHe(this,t);break}case de.IN_TEMPLATE:{MHe(this,t);break}case de.AFTER_BODY:{RHe(this,t);break}case de.IN_FRAMESET:{IHe(this,t);break}case de.AFTER_FRAMESET:{LHe(this,t);break}case de.AFTER_AFTER_BODY:{BHe(this,t);break}case de.AFTER_AFTER_FRAMESET:{$He(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?zHe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case de.INITIAL:{RS(this,t);break}case de.BEFORE_HTML:{S$e(this,t);break}case de.BEFORE_HEAD:{C$e(this,t);break}case de.IN_HEAD:{T$e(this,t);break}case de.IN_HEAD_NO_SCRIPT:{_$e(this,t);break}case de.AFTER_HEAD:{N$e(this,t);break}case de.IN_BODY:{eR(this,t);break}case de.TEXT:{pHe(this,t);break}case de.IN_TABLE:{kC(this,t);break}case de.IN_TABLE_TEXT:{IS(this,t);break}case de.IN_CAPTION:{THe(this,t);break}case de.IN_COLUMN_GROUP:{kHe(this,t);break}case de.IN_TABLE_BODY:{JB(this,t);break}case de.IN_ROW:{ode(this,t);break}case de.IN_CELL:{AHe(this,t);break}case de.IN_SELECT:{sde(this,t);break}case de.IN_SELECT_IN_TABLE:{OHe(this,t);break}case de.IN_TEMPLATE:{DHe(this,t);break}case de.AFTER_BODY:{cde(this,t);break}case de.IN_FRAMESET:{PHe(this,t);break}case de.AFTER_FRAMESET:{jHe(this,t);break}case de.AFTER_AFTER_BODY:{iN(this,t);break}}}onEof(t){switch(this.insertionMode){case de.INITIAL:{RS(this,t);break}case de.BEFORE_HTML:{_E(this,t);break}case de.BEFORE_HEAD:{AE(this,t);break}case de.IN_HEAD:{NE(this,t);break}case de.IN_HEAD_NO_SCRIPT:{OE(this,t);break}case de.AFTER_HEAD:{ME(this,t);break}case de.IN_BODY:case de.IN_TABLE:case de.IN_CAPTION:case de.IN_COLUMN_GROUP:case de.IN_TABLE_BODY:case de.IN_ROW:case de.IN_CELL:case de.IN_SELECT:case de.IN_SELECT_IN_TABLE:{tde(this,t);break}case de.TEXT:{mHe(this,t);break}case de.IN_TABLE_TEXT:{IS(this,t);break}case de.IN_TEMPLATE:{lde(this,t);break}case de.AFTER_BODY:case de.IN_FRAMESET:case de.AFTER_FRAMESET:case de.AFTER_AFTER_BODY:case de.AFTER_AFTER_FRAMESET:{OF(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===ie.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case de.IN_HEAD:case de.IN_HEAD_NO_SCRIPT:case de.AFTER_HEAD:case de.TEXT:case de.IN_COLUMN_GROUP:case de.IN_SELECT:case de.IN_SELECT_IN_TABLE:case de.IN_FRAMESET:case de.AFTER_FRAMESET:{this._insertCharacters(t);break}case de.IN_BODY:case de.IN_CAPTION:case de.IN_CELL:case de.IN_TEMPLATE:case de.AFTER_BODY:case de.AFTER_AFTER_BODY:case de.AFTER_AFTER_FRAMESET:{Xue(this,t);break}case de.IN_TABLE:case de.IN_TABLE_BODY:case de.IN_ROW:{RP(this,t);break}case de.IN_TABLE_TEXT:{nde(this,t);break}}}}function f$e(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):ede(e,t),n}function h$e(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function p$e(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,a=i;a!==n;o++,a=i){i=e.openElements.getCommonAncestor(a);const s=e.activeFormattingElements.getElementEntry(a),l=s&&o>=u$e;!s||l?(l&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(a)):(a=m$e(e,s),r===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function m$e(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function g$e(e,t,n){const r=e.treeAdapter.getTagName(t),i=QD(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);i===P.TEMPLATE&&o===tt.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function y$e(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function NF(e,t){for(let n=0;n<c$e;n++){const r=f$e(e,t);if(!r)break;const i=h$e(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const o=p$e(e,i,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),a&&g$e(e,a,o),y$e(e,i,r)}}function QB(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function b$e(e,t){e._appendCommentNode(t,e.openElements.items[0])}function v$e(e,t){e._appendCommentNode(t,e.document)}function OF(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(o);a&&!a.endTag&&e._setEndLocation(o,t)}}}}function x$e(e,t){e._setDocumentType(t);const n=t.forceQuirks?ic.QUIRKS:X8e(t);K8e(t)||e._err(t,$e.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=de.BEFORE_HTML}function RS(e,t){e._err(t,$e.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,ic.QUIRKS),e.insertionMode=de.BEFORE_HTML,e._processToken(t)}function w$e(e,t){t.tagID===P.HTML?(e._insertElement(t,tt.HTML),e.insertionMode=de.BEFORE_HEAD):_E(e,t)}function S$e(e,t){const n=t.tagID;(n===P.HTML||n===P.HEAD||n===P.BODY||n===P.BR)&&_E(e,t)}function _E(e,t){e._insertFakeRootElement(),e.insertionMode=de.BEFORE_HEAD,e._processToken(t)}function E$e(e,t){switch(t.tagID){case P.HTML:{Aa(e,t);break}case P.HEAD:{e._insertElement(t,tt.HTML),e.headElement=e.openElements.current,e.insertionMode=de.IN_HEAD;break}default:AE(e,t)}}function C$e(e,t){const n=t.tagID;n===P.HEAD||n===P.BODY||n===P.HTML||n===P.BR?AE(e,t):e._err(t,$e.endTagWithoutMatchingOpenElement)}function AE(e,t){e._insertFakeElement(_e.HEAD,P.HEAD),e.headElement=e.openElements.current,e.insertionMode=de.IN_HEAD,e._processToken(t)}function _u(e,t){switch(t.tagID){case P.HTML:{Aa(e,t);break}case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:{e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.TITLE:{e._switchToTextParsing(t,js.RCDATA);break}case P.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,js.RAWTEXT):(e._insertElement(t,tt.HTML),e.insertionMode=de.IN_HEAD_NO_SCRIPT);break}case P.NOFRAMES:case P.STYLE:{e._switchToTextParsing(t,js.RAWTEXT);break}case P.SCRIPT:{e._switchToTextParsing(t,js.SCRIPT_DATA);break}case P.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=de.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(de.IN_TEMPLATE);break}case P.HEAD:{e._err(t,$e.misplacedStartTagForHeadElement);break}default:NE(e,t)}}function T$e(e,t){switch(t.tagID){case P.HEAD:{e.openElements.pop(),e.insertionMode=de.AFTER_HEAD;break}case P.BODY:case P.BR:case P.HTML:{NE(e,t);break}case P.TEMPLATE:{my(e,t);break}default:e._err(t,$e.endTagWithoutMatchingOpenElement)}}function my(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==P.TEMPLATE&&e._err(t,$e.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(P.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,$e.endTagWithoutMatchingOpenElement)}function NE(e,t){e.openElements.pop(),e.insertionMode=de.AFTER_HEAD,e._processToken(t)}function k$e(e,t){switch(t.tagID){case P.HTML:{Aa(e,t);break}case P.BASEFONT:case P.BGSOUND:case P.HEAD:case P.LINK:case P.META:case P.NOFRAMES:case P.STYLE:{_u(e,t);break}case P.NOSCRIPT:{e._err(t,$e.nestedNoscriptInHead);break}default:OE(e,t)}}function _$e(e,t){switch(t.tagID){case P.NOSCRIPT:{e.openElements.pop(),e.insertionMode=de.IN_HEAD;break}case P.BR:{OE(e,t);break}default:e._err(t,$e.endTagWithoutMatchingOpenElement)}}function OE(e,t){const n=t.type===lr.EOF?$e.openElementsLeftAfterEof:$e.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=de.IN_HEAD,e._processToken(t)}function A$e(e,t){switch(t.tagID){case P.HTML:{Aa(e,t);break}case P.BODY:{e._insertElement(t,tt.HTML),e.framesetOk=!1,e.insertionMode=de.IN_BODY;break}case P.FRAMESET:{e._insertElement(t,tt.HTML),e.insertionMode=de.IN_FRAMESET;break}case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:case P.NOFRAMES:case P.SCRIPT:case P.STYLE:case P.TEMPLATE:case P.TITLE:{e._err(t,$e.abandonedHeadElementChild),e.openElements.push(e.headElement,P.HEAD),_u(e,t),e.openElements.remove(e.headElement);break}case P.HEAD:{e._err(t,$e.misplacedStartTagForHeadElement);break}default:ME(e,t)}}function N$e(e,t){switch(t.tagID){case P.BODY:case P.HTML:case P.BR:{ME(e,t);break}case P.TEMPLATE:{my(e,t);break}default:e._err(t,$e.endTagWithoutMatchingOpenElement)}}function ME(e,t){e._insertFakeElement(_e.BODY,P.BODY),e.insertionMode=de.IN_BODY,JD(e,t)}function JD(e,t){switch(t.type){case lr.CHARACTER:{Zue(e,t);break}case lr.WHITESPACE_CHARACTER:{Xue(e,t);break}case lr.COMMENT:{QB(e,t);break}case lr.START_TAG:{Aa(e,t);break}case lr.END_TAG:{eR(e,t);break}case lr.EOF:{tde(e,t);break}}}function Xue(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Zue(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function O$e(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function M$e(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function D$e(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,tt.HTML),e.insertionMode=de.IN_FRAMESET)}function R$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML)}function I$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&ZB.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,tt.HTML)}function P$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function L$e(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),n||(e.formElement=e.openElements.current))}function j$e(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===P.LI&&i===P.LI||(n===P.DD||n===P.DT)&&(i===P.DD||i===P.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==P.ADDRESS&&i!==P.DIV&&i!==P.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML)}function B$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),e.tokenizer.state=js.PLAINTEXT}function $$e(e,t){e.openElements.hasInScope(P.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.framesetOk=!1}function H$e(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(_e.A);n&&(NF(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function F$e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function U$e(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(P.NOBR)&&(NF(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,tt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function z$e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function V$e(e,t){e.treeAdapter.getDocumentMode(e.document)!==ic.QUIRKS&&e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),e.framesetOk=!1,e.insertionMode=de.IN_TABLE}function Que(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,tt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Jue(e){const t=Hue(e,E0.TYPE);return t!=null&&t.toLowerCase()===l$e}function q$e(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,tt.HTML),Jue(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function W$e(e,t){e._appendElement(t,tt.HTML),t.ackSelfClosing=!0}function Y$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._appendElement(t,tt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function G$e(e,t){t.tagName=_e.IMG,t.tagID=P.IMG,Que(e,t)}function K$e(e,t){e._insertElement(t,tt.HTML),e.skipNextNewLine=!0,e.tokenizer.state=js.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=de.TEXT}function X$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,js.RAWTEXT)}function Z$e(e,t){e.framesetOk=!1,e._switchToTextParsing(t,js.RAWTEXT)}function EY(e,t){e._switchToTextParsing(t,js.RAWTEXT)}function Q$e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===de.IN_TABLE||e.insertionMode===de.IN_CAPTION||e.insertionMode===de.IN_TABLE_BODY||e.insertionMode===de.IN_ROW||e.insertionMode===de.IN_CELL?de.IN_SELECT_IN_TABLE:de.IN_SELECT}function J$e(e,t){e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML)}function eHe(e,t){e.openElements.hasInScope(P.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,tt.HTML)}function tHe(e,t){e.openElements.hasInScope(P.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(P.RTC),e._insertElement(t,tt.HTML)}function nHe(e,t){e._reconstructActiveFormattingElements(),Wue(t),AF(t),t.selfClosing?e._appendElement(t,tt.MATHML):e._insertElement(t,tt.MATHML),t.ackSelfClosing=!0}function rHe(e,t){e._reconstructActiveFormattingElements(),Yue(t),AF(t),t.selfClosing?e._appendElement(t,tt.SVG):e._insertElement(t,tt.SVG),t.ackSelfClosing=!0}function CY(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML)}function Aa(e,t){switch(t.tagID){case P.I:case P.S:case P.B:case P.U:case P.EM:case P.TT:case P.BIG:case P.CODE:case P.FONT:case P.SMALL:case P.STRIKE:case P.STRONG:{F$e(e,t);break}case P.A:{H$e(e,t);break}case P.H1:case P.H2:case P.H3:case P.H4:case P.H5:case P.H6:{I$e(e,t);break}case P.P:case P.DL:case P.OL:case P.UL:case P.DIV:case P.DIR:case P.NAV:case P.MAIN:case P.MENU:case P.ASIDE:case P.CENTER:case P.FIGURE:case P.FOOTER:case P.HEADER:case P.HGROUP:case P.DIALOG:case P.DETAILS:case P.ADDRESS:case P.ARTICLE:case P.SEARCH:case P.SECTION:case P.SUMMARY:case P.FIELDSET:case P.BLOCKQUOTE:case P.FIGCAPTION:{R$e(e,t);break}case P.LI:case P.DD:case P.DT:{j$e(e,t);break}case P.BR:case P.IMG:case P.WBR:case P.AREA:case P.EMBED:case P.KEYGEN:{Que(e,t);break}case P.HR:{Y$e(e,t);break}case P.RB:case P.RTC:{eHe(e,t);break}case P.RT:case P.RP:{tHe(e,t);break}case P.PRE:case P.LISTING:{P$e(e,t);break}case P.XMP:{X$e(e,t);break}case P.SVG:{rHe(e,t);break}case P.HTML:{O$e(e,t);break}case P.BASE:case P.LINK:case P.META:case P.STYLE:case P.TITLE:case P.SCRIPT:case P.BGSOUND:case P.BASEFONT:case P.TEMPLATE:{_u(e,t);break}case P.BODY:{M$e(e,t);break}case P.FORM:{L$e(e,t);break}case P.NOBR:{U$e(e,t);break}case P.MATH:{nHe(e,t);break}case P.TABLE:{V$e(e,t);break}case P.INPUT:{q$e(e,t);break}case P.PARAM:case P.TRACK:case P.SOURCE:{W$e(e,t);break}case P.IMAGE:{G$e(e,t);break}case P.BUTTON:{$$e(e,t);break}case P.APPLET:case P.OBJECT:case P.MARQUEE:{z$e(e,t);break}case P.IFRAME:{Z$e(e,t);break}case P.SELECT:{Q$e(e,t);break}case P.OPTION:case P.OPTGROUP:{J$e(e,t);break}case P.NOEMBED:case P.NOFRAMES:{EY(e,t);break}case P.FRAMESET:{D$e(e,t);break}case P.TEXTAREA:{K$e(e,t);break}case P.NOSCRIPT:{e.options.scriptingEnabled?EY(e,t):CY(e,t);break}case P.PLAINTEXT:{B$e(e,t);break}case P.COL:case P.TH:case P.TD:case P.TR:case P.HEAD:case P.FRAME:case P.TBODY:case P.TFOOT:case P.THEAD:case P.CAPTION:case P.COLGROUP:break;default:CY(e,t)}}function iHe(e,t){if(e.openElements.hasInScope(P.BODY)&&(e.insertionMode=de.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function oHe(e,t){e.openElements.hasInScope(P.BODY)&&(e.insertionMode=de.AFTER_BODY,cde(e,t))}function aHe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function sHe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(P.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(P.FORM):n&&e.openElements.remove(n))}function lHe(e){e.openElements.hasInButtonScope(P.P)||e._insertFakeElement(_e.P,P.P),e._closePElement()}function cHe(e){e.openElements.hasInListItemScope(P.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(P.LI),e.openElements.popUntilTagNamePopped(P.LI))}function uHe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function dHe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function fHe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function hHe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(_e.BR,P.BR),e.openElements.pop(),e.framesetOk=!1}function ede(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],a=e.openElements.tagIDs[i];if(r===a&&(r!==P.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,a))break}}function eR(e,t){switch(t.tagID){case P.A:case P.B:case P.I:case P.S:case P.U:case P.EM:case P.TT:case P.BIG:case P.CODE:case P.FONT:case P.NOBR:case P.SMALL:case P.STRIKE:case P.STRONG:{NF(e,t);break}case P.P:{lHe(e);break}case P.DL:case P.UL:case P.OL:case P.DIR:case P.DIV:case P.NAV:case P.PRE:case P.MAIN:case P.MENU:case P.ASIDE:case P.BUTTON:case P.CENTER:case P.FIGURE:case P.FOOTER:case P.HEADER:case P.HGROUP:case P.DIALOG:case P.ADDRESS:case P.ARTICLE:case P.DETAILS:case P.SEARCH:case P.SECTION:case P.SUMMARY:case P.LISTING:case P.FIELDSET:case P.BLOCKQUOTE:case P.FIGCAPTION:{aHe(e,t);break}case P.LI:{cHe(e);break}case P.DD:case P.DT:{uHe(e,t);break}case P.H1:case P.H2:case P.H3:case P.H4:case P.H5:case P.H6:{dHe(e);break}case P.BR:{hHe(e);break}case P.BODY:{iHe(e,t);break}case P.HTML:{oHe(e,t);break}case P.FORM:{sHe(e);break}case P.APPLET:case P.OBJECT:case P.MARQUEE:{fHe(e,t);break}case P.TEMPLATE:{my(e,t);break}default:ede(e,t)}}function tde(e,t){e.tmplInsertionModeStack.length>0?lde(e,t):OF(e,t)}function pHe(e,t){var n;t.tagID===P.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function mHe(e,t){e._err(t,$e.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function RP(e,t){if(e.openElements.currentTagId!==void 0&&Gue.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=de.IN_TABLE_TEXT,t.type){case lr.CHARACTER:{rde(e,t);break}case lr.WHITESPACE_CHARACTER:{nde(e,t);break}}else KT(e,t)}function gHe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,tt.HTML),e.insertionMode=de.IN_CAPTION}function yHe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,tt.HTML),e.insertionMode=de.IN_COLUMN_GROUP}function bHe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(_e.COLGROUP,P.COLGROUP),e.insertionMode=de.IN_COLUMN_GROUP,MF(e,t)}function vHe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,tt.HTML),e.insertionMode=de.IN_TABLE_BODY}function xHe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(_e.TBODY,P.TBODY),e.insertionMode=de.IN_TABLE_BODY,tR(e,t)}function wHe(e,t){e.openElements.hasInTableScope(P.TABLE)&&(e.openElements.popUntilTagNamePopped(P.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function SHe(e,t){Jue(t)?e._appendElement(t,tt.HTML):KT(e,t),t.ackSelfClosing=!0}function EHe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,tt.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function b1(e,t){switch(t.tagID){case P.TD:case P.TH:case P.TR:{xHe(e,t);break}case P.STYLE:case P.SCRIPT:case P.TEMPLATE:{_u(e,t);break}case P.COL:{bHe(e,t);break}case P.FORM:{EHe(e,t);break}case P.TABLE:{wHe(e,t);break}case P.TBODY:case P.TFOOT:case P.THEAD:{vHe(e,t);break}case P.INPUT:{SHe(e,t);break}case P.CAPTION:{gHe(e,t);break}case P.COLGROUP:{yHe(e,t);break}default:KT(e,t)}}function kC(e,t){switch(t.tagID){case P.TABLE:{e.openElements.hasInTableScope(P.TABLE)&&(e.openElements.popUntilTagNamePopped(P.TABLE),e._resetInsertionMode());break}case P.TEMPLATE:{my(e,t);break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TBODY:case P.TD:case P.TFOOT:case P.TH:case P.THEAD:case P.TR:break;default:KT(e,t)}}function KT(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,JD(e,t),e.fosterParentingEnabled=n}function nde(e,t){e.pendingCharacterTokens.push(t)}function rde(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function IS(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)KT(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const ide=new Set([P.CAPTION,P.COL,P.COLGROUP,P.TBODY,P.TD,P.TFOOT,P.TH,P.THEAD,P.TR]);function CHe(e,t){const n=t.tagID;ide.has(n)?e.openElements.hasInTableScope(P.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=de.IN_TABLE,b1(e,t)):Aa(e,t)}function THe(e,t){const n=t.tagID;switch(n){case P.CAPTION:case P.TABLE:{e.openElements.hasInTableScope(P.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=de.IN_TABLE,n===P.TABLE&&kC(e,t));break}case P.BODY:case P.COL:case P.COLGROUP:case P.HTML:case P.TBODY:case P.TD:case P.TFOOT:case P.TH:case P.THEAD:case P.TR:break;default:eR(e,t)}}function MF(e,t){switch(t.tagID){case P.HTML:{Aa(e,t);break}case P.COL:{e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.TEMPLATE:{_u(e,t);break}default:wO(e,t)}}function kHe(e,t){switch(t.tagID){case P.COLGROUP:{e.openElements.currentTagId===P.COLGROUP&&(e.openElements.pop(),e.insertionMode=de.IN_TABLE);break}case P.TEMPLATE:{my(e,t);break}case P.COL:break;default:wO(e,t)}}function wO(e,t){e.openElements.currentTagId===P.COLGROUP&&(e.openElements.pop(),e.insertionMode=de.IN_TABLE,e._processToken(t))}function tR(e,t){switch(t.tagID){case P.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,tt.HTML),e.insertionMode=de.IN_ROW;break}case P.TH:case P.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(_e.TR,P.TR),e.insertionMode=de.IN_ROW,nR(e,t);break}case P.CAPTION:case P.COL:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE,b1(e,t));break}default:b1(e,t)}}function JB(e,t){const n=t.tagID;switch(t.tagID){case P.TBODY:case P.TFOOT:case P.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE);break}case P.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE,kC(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TD:case P.TH:case P.TR:break;default:kC(e,t)}}function nR(e,t){switch(t.tagID){case P.TH:case P.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,tt.HTML),e.insertionMode=de.IN_CELL,e.activeFormattingElements.insertMarker();break}case P.CAPTION:case P.COL:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:case P.TR:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE_BODY,tR(e,t));break}default:b1(e,t)}}function ode(e,t){switch(t.tagID){case P.TR:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE_BODY);break}case P.TABLE:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE_BODY,JB(e,t));break}case P.TBODY:case P.TFOOT:case P.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(P.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=de.IN_TABLE_BODY,JB(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TD:case P.TH:break;default:kC(e,t)}}function _He(e,t){const n=t.tagID;ide.has(n)?(e.openElements.hasInTableScope(P.TD)||e.openElements.hasInTableScope(P.TH))&&(e._closeTableCell(),nR(e,t)):Aa(e,t)}function AHe(e,t){const n=t.tagID;switch(n){case P.TD:case P.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=de.IN_ROW);break}case P.TABLE:case P.TBODY:case P.TFOOT:case P.THEAD:case P.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),ode(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:break;default:eR(e,t)}}function ade(e,t){switch(t.tagID){case P.HTML:{Aa(e,t);break}case P.OPTION:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e._insertElement(t,tt.HTML);break}case P.OPTGROUP:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop(),e._insertElement(t,tt.HTML);break}case P.HR:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop(),e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.INPUT:case P.KEYGEN:case P.TEXTAREA:case P.SELECT:{e.openElements.hasInSelectScope(P.SELECT)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),t.tagID!==P.SELECT&&e._processStartTag(t));break}case P.SCRIPT:case P.TEMPLATE:{_u(e,t);break}}}function sde(e,t){switch(t.tagID){case P.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===P.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===P.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop();break}case P.OPTION:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop();break}case P.SELECT:{e.openElements.hasInSelectScope(P.SELECT)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode());break}case P.TEMPLATE:{my(e,t);break}}}function NHe(e,t){const n=t.tagID;n===P.CAPTION||n===P.TABLE||n===P.TBODY||n===P.TFOOT||n===P.THEAD||n===P.TR||n===P.TD||n===P.TH?(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),e._processStartTag(t)):ade(e,t)}function OHe(e,t){const n=t.tagID;n===P.CAPTION||n===P.TABLE||n===P.TBODY||n===P.TFOOT||n===P.THEAD||n===P.TR||n===P.TD||n===P.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),e.onEndTag(t)):sde(e,t)}function MHe(e,t){switch(t.tagID){case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:case P.NOFRAMES:case P.SCRIPT:case P.STYLE:case P.TEMPLATE:case P.TITLE:{_u(e,t);break}case P.CAPTION:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:{e.tmplInsertionModeStack[0]=de.IN_TABLE,e.insertionMode=de.IN_TABLE,b1(e,t);break}case P.COL:{e.tmplInsertionModeStack[0]=de.IN_COLUMN_GROUP,e.insertionMode=de.IN_COLUMN_GROUP,MF(e,t);break}case P.TR:{e.tmplInsertionModeStack[0]=de.IN_TABLE_BODY,e.insertionMode=de.IN_TABLE_BODY,tR(e,t);break}case P.TD:case P.TH:{e.tmplInsertionModeStack[0]=de.IN_ROW,e.insertionMode=de.IN_ROW,nR(e,t);break}default:e.tmplInsertionModeStack[0]=de.IN_BODY,e.insertionMode=de.IN_BODY,Aa(e,t)}}function DHe(e,t){t.tagID===P.TEMPLATE&&my(e,t)}function lde(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(P.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):OF(e,t)}function RHe(e,t){t.tagID===P.HTML?Aa(e,t):SO(e,t)}function cde(e,t){var n;if(t.tagID===P.HTML){if(e.fragmentContext||(e.insertionMode=de.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===P.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else SO(e,t)}function SO(e,t){e.insertionMode=de.IN_BODY,JD(e,t)}function IHe(e,t){switch(t.tagID){case P.HTML:{Aa(e,t);break}case P.FRAMESET:{e._insertElement(t,tt.HTML);break}case P.FRAME:{e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.NOFRAMES:{_u(e,t);break}}}function PHe(e,t){t.tagID===P.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==P.FRAMESET&&(e.insertionMode=de.AFTER_FRAMESET))}function LHe(e,t){switch(t.tagID){case P.HTML:{Aa(e,t);break}case P.NOFRAMES:{_u(e,t);break}}}function jHe(e,t){t.tagID===P.HTML&&(e.insertionMode=de.AFTER_AFTER_FRAMESET)}function BHe(e,t){t.tagID===P.HTML?Aa(e,t):iN(e,t)}function iN(e,t){e.insertionMode=de.IN_BODY,JD(e,t)}function $He(e,t){switch(t.tagID){case P.HTML:{Aa(e,t);break}case P.NOFRAMES:{_u(e,t);break}}}function HHe(e,t){t.chars=mi,e._insertCharacters(t)}function FHe(e,t){e._insertCharacters(t),e.framesetOk=!1}function ude(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==tt.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function UHe(e,t){if(r$e(t))ude(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===tt.MATHML?Wue(t):r===tt.SVG&&(i$e(t),Yue(t)),AF(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function zHe(e,t){if(t.tagID===P.P||t.tagID===P.BR){ude(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===tt.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}_e.AREA,_e.BASE,_e.BASEFONT,_e.BGSOUND,_e.BR,_e.COL,_e.EMBED,_e.FRAME,_e.HR,_e.IMG,_e.INPUT,_e.KEYGEN,_e.LINK,_e.META,_e.PARAM,_e.SOURCE,_e.TRACK,_e.WBR;function VHe(e,t){return Kue.parse(e,t)}function qHe(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=Kue.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function DE(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?TY(e.position):"start"in e||"end"in e?TY(e):"line"in e||"column"in e?e8(e):""}function e8(e){return kY(e&&e.line)+":"+kY(e&&e.column)}function TY(e){return e8(e&&e.start)+"-"+e8(e&&e.end)}function kY(e){return e&&typeof e=="number"?e:1}class cs extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=DE(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}cs.prototype.file="";cs.prototype.name="";cs.prototype.reason="";cs.prototype.message="";cs.prototype.stack="";cs.prototype.column=void 0;cs.prototype.line=void 0;cs.prototype.ancestors=void 0;cs.prototype.cause=void 0;cs.prototype.fatal=void 0;cs.prototype.place=void 0;cs.prototype.ruleId=void 0;cs.prototype.source=void 0;const dd={basename:WHe,dirname:YHe,extname:GHe,join:KHe,sep:"/"};function WHe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');XT(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function YHe(e){if(XT(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function GHe(e){XT(e);let t=e.length,n=-1,r=0,i=-1,o=0,a;for(;t--;){const s=e.codePointAt(t);if(s===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),s===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function KHe(...e){let t=-1,n;for(;++t<e.length;)XT(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":XHe(n)}function XHe(e){XT(e);const t=e.codePointAt(0)===47;let n=ZHe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function ZHe(e,t){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=e.length;){if(a<e.length)s=e.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function XT(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const QHe={cwd:JHe};function JHe(){return"/"}function t8(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function e9e(e){if(typeof e=="string")e=new URL(e);else if(!t8(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return t9e(e)}function t9e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const IP=["history","path","basename","stem","extname","dirname"];class n8{constructor(t){let n;t?t8(t)?n={path:t}:typeof t=="string"||n9e(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":QHe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<IP.length;){const o=IP[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)IP.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?dd.basename(this.path):void 0}set basename(t){LP(t,"basename"),PP(t,"basename"),this.path=dd.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?dd.dirname(this.path):void 0}set dirname(t){_Y(this.basename,"dirname"),this.path=dd.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?dd.extname(this.path):void 0}set extname(t){if(PP(t,"extname"),_Y(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=dd.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){t8(t)&&(t=e9e(t)),LP(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?dd.basename(this.path,this.extname):void 0}set stem(t){LP(t,"stem"),PP(t,"stem"),this.path=dd.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new cs(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function PP(e,t){if(e&&e.includes(dd.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+dd.sep+"`")}function LP(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function _Y(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function n9e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const r9e={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},i9e="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",o9e=/-[a-z]/g,a9e=/%c(?:([-+])(\d+))?/g,s9e=/%x/g,l9e={2:!0,1:!1,0:null},c9e={};function u9e(e,t){const n=t||c9e,r=n.onerror,i=e instanceof n8?e:new n8(e),o=n.fragment?qHe:VHe,a=String(i),s=o(a,{sourceCodeLocationInfo:!0,onParseError:n.onerror?l:null,scriptingEnabled:!1});return h8e(s,{file:i,space:n.space,verbose:n.verbose});function l(c){const u=c.code,d=d9e(u),p=n[d],m=p??!0,v=typeof m=="number"?m:m?1:0;if(v){const w=r9e[d],T=new cs(x(w.reason),{place:{start:{line:c.startLine,column:c.startCol,offset:c.startOffset},end:{line:c.endLine,column:c.endCol,offset:c.endOffset}},ruleId:u,source:"hast-util-from-html"});i.path&&(T.file=i.path,T.name=i.path+":"+T.name),T.fatal=l9e[v],T.note=x(w.description),T.url=w.url===!1?void 0:i9e+u,r(T)}function x(w){return w.replace(a9e,T).replace(s9e,k);function T(N,I,O){const A=(O?Number.parseInt(O,10):0)*(I==="-"?-1:1),R=a.charAt(c.startOffset+A);return h9e(R)}function k(){return p9e(a.charCodeAt(c.startOffset))}}}}function d9e(e){return e.replace(o9e,f9e)}function f9e(e){return e.charAt(1).toUpperCase()}function h9e(e){return e==="`"?"` ` `":e}function p9e(e){return"0x"+e.toString(16).toUpperCase()}function m9e(e){const t=this,{emitParseErrors:n,...r}={...t.data("settings"),...e};t.parser=i;function i(o,a){return u9e(o,{...r,onerror:n?function(s){a.path&&(s.name=a.path+":"+s.name,s.file=a.path),a.messages.push(s)}:void 0})}}const dde=-1,rR=0,RE=1,EO=2,DF=3,RF=4,IF=5,PF=6,fde=7,hde=8,AY=typeof self=="object"?self:globalThis,g9e=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case rR:case dde:return n(a,i);case RE:{const s=n([],i);for(const l of a)s.push(r(l));return s}case EO:{const s=n({},i);for(const[l,c]of a)s[r(l)]=r(c);return s}case DF:return n(new Date(a),i);case RF:{const{source:s,flags:l}=a;return n(new RegExp(s,l),i)}case IF:{const s=n(new Map,i);for(const[l,c]of a)s.set(r(l),r(c));return s}case PF:{const s=n(new Set,i);for(const l of a)s.add(r(l));return s}case fde:{const{name:s,message:l}=a;return n(new AY[s](l),i)}case hde:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return n(new DataView(s),a)}}return n(new AY[o](a),i)};return r},NY=e=>g9e(new Map,e)(0),uv="",{toString:y9e}={},{keys:b9e}=Object,PS=e=>{const t=typeof e;if(t!=="object"||!e)return[rR,t];const n=y9e.call(e).slice(8,-1);switch(n){case"Array":return[RE,uv];case"Object":return[EO,uv];case"Date":return[DF,uv];case"RegExp":return[RF,uv];case"Map":return[IF,uv];case"Set":return[PF,uv];case"DataView":return[RE,n]}return n.includes("Array")?[RE,n]:n.includes("Error")?[fde,n]:[EO,n]},dA=([e,t])=>e===rR&&(t==="function"||t==="symbol"),v9e=(e,t,n,r)=>{const i=(a,s)=>{const l=r.push(a)-1;return n.set(s,l),l},o=a=>{if(n.has(a))return n.get(a);let[s,l]=PS(a);switch(s){case rR:{let u=a;switch(l){case"bigint":s=hde,u=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([dde],a)}return i([s,u],a)}case RE:{if(l){let p=a;return l==="DataView"?p=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(a)),i([l,[...p]],a)}const u=[],d=i([s,u],a);for(const p of a)u.push(o(p));return d}case EO:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const u=[],d=i([s,u],a);for(const p of b9e(a))(e||!dA(PS(a[p])))&&u.push([o(p),o(a[p])]);return d}case DF:return i([s,a.toISOString()],a);case RF:{const{source:u,flags:d}=a;return i([s,{source:u,flags:d}],a)}case IF:{const u=[],d=i([s,u],a);for(const[p,m]of a)(e||!(dA(PS(p))||dA(PS(m))))&&u.push([o(p),o(m)]);return d}case PF:{const u=[],d=i([s,u],a);for(const p of a)(e||!dA(PS(p)))&&u.push(o(p));return d}}const{message:c}=a;return i([s,{name:l,message:c}],a)};return o},OY=(e,{json:t,lossy:n}={})=>{const r=[];return v9e(!(t||n),!!t,new Map,r)(e),r},v1=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?NY(OY(e,t)):structuredClone(e):(e,t)=>NY(OY(e,t)),LF=(function(e,t,n,r,i){const o=Au(t);return pde(e)?o.call(i,e,n,r):!1}),Au=(function(e){if(e==null)return S9e;if(typeof e=="string")return w9e(e);if(typeof e=="object")return x9e(e);if(typeof e=="function")return jF(e);throw new Error("Expected function, string, or array as `test`")});function x9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Au(e[n]);return jF(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function w9e(e){return jF(t);function t(n){return n.tagName===e}}function jF(e){return t;function t(n,r,i){return!!(pde(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function S9e(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function pde(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const mde=Au(function(e){return e.tagName==="audio"||e.tagName==="canvas"||e.tagName==="embed"||e.tagName==="iframe"||e.tagName==="img"||e.tagName==="math"||e.tagName==="object"||e.tagName==="picture"||e.tagName==="svg"||e.tagName==="video"}),E9e=/[ \t\n\f\r]/g;function ZT(e){return typeof e=="object"?e.type==="text"?MY(e.value):!1:MY(e)}function MY(e){return e.replace(E9e,"")===""}const hx=(function(e){if(e==null)return _9e;if(typeof e=="function")return iR(e);if(typeof e=="object")return Array.isArray(e)?C9e(e):T9e(e);if(typeof e=="string")return k9e(e);throw new Error("Expected function, string, or object as test")});function C9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=hx(e[n]);return iR(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function T9e(e){const t=e;return iR(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function k9e(e){return iR(t);function t(n){return n&&n.type===e}}function iR(e){return t;function t(n,r,i){return!!(A9e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function _9e(){return!0}function A9e(e){return e!==null&&typeof e=="object"&&"type"in e}const N9e=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],O9e=["button","input","select","textarea"],M9e=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],D9e={},BF=hx(["comment","doctype"]);function R9e(e,t){gde(e,{collapse:H9e((t||D9e).newlines?B9e:$9e),whitespace:"normal"})}function gde(e,t){if("children"in e){const n={...t};return(e.type==="root"||vde(e))&&(n.before=!0,n.after=!0),n.whitespace=F9e(e,t),P9e(e,n)}if(e.type==="text"){if(t.whitespace==="normal")return I9e(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{ignore:BF(e),stripAtStart:!1,remove:!1}}function I9e(e,t){const n=t.collapse(e.value),r={ignore:!1,stripAtStart:!1,remove:!1};let i=0,o=n.length;return t.before&&DY(n.charAt(0))&&i++,i!==o&&DY(n.charAt(o-1))&&(t.after?o--:r.stripAtStart=!0),i===o?r.remove=!0:e.value=n.slice(i,o),r}function P9e(e,t){let n=t.before;const r=t.after,i=e.children;let o=i.length,a=-1;for(;++a<o;){const s=gde(i[a],{...t,after:yde(i,a,r),before:n});s.remove?(i.splice(a,1),a--,o--):s.ignore||(n=s.stripAtStart),bde(i[a])&&(n=!1)}return{ignore:!1,stripAtStart:!!(n||r),remove:!1}}function yde(e,t,n){for(;++t<e.length;){const r=e[t];let i=L9e(r);if(i===void 0&&"children"in r&&!j9e(r)&&(i=yde(r.children,-1)),typeof i=="boolean")return i}return n}function L9e(e){if(e.type==="element"){if(bde(e))return!1;if(vde(e))return!0}else if(e.type==="text"){if(!ZT(e))return!1}else if(!BF(e))return!1}function bde(e){return mde(e)||LF(e,O9e)}function vde(e){return LF(e,N9e)}function j9e(e){return!!(e.type==="element"&&e.properties.hidden)||BF(e)||LF(e,M9e)}function DY(e){return e===" "||e===`
`}function B9e(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function $9e(){return" "}function H9e(e){return t;function t(n){return String(n).replace(/[\t\n\v\f\r ]+/g,e)}}function F9e(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}function U9e(e){return function(t){R9e(t,e)}}const xde=[],z9e=!0,CO=!1,wde="skip";function Sde(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=hx(i),a=r?-1:1;s(e,void 0,[])();function s(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const m=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=xde,v,x,w;if((!t||o(l,c,u[u.length-1]||void 0))&&(m=V9e(n(l,u)),m[0]===CO))return m;if("children"in l&&l.children){const T=l;if(T.children&&m[0]!==wde)for(x=(r?T.children.length:-1)+a,w=u.concat(T);x>-1&&x<T.children.length;){const k=T.children[x];if(v=s(k,x,w)(),v[0]===CO)return v;x=typeof v[1]=="number"?v[1]:x+a}}return m}}}function V9e(e){return Array.isArray(e)?e:typeof e=="number"?[z9e,e]:e==null?xde:[e]}function G0(e,t,n,r){let i,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,i=n):(o=t,a=n,i=r),Sde(e,o,s,i);function s(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return a(l,d,u)}}const Ede=Tde("end"),Cde=Tde("start");function Tde(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function kde(e){const t=Cde(e),n=Ede(e);if(t&&n)return{start:t,end:n}}function q9e(e,t){const n=t.properties||{},r=e.all(t),i={type:"link",url:e.resolve(String(n.href||"")||null),title:n.title?String(n.title):null,children:r};return e.patch(t,i),i}function W9e(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||void 0,e.baseFound=!0)}function Y9e(e,t){const n={type:"blockquote",children:e.toFlow(e.all(t))};return e.patch(t,n),n}function G9e(e,t){const n={type:"break"};return e.patch(t,n),n}const RY=(function(e,t,n){const r=hx(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),IY=/\n/g,PY=/[\t ]+/g,r8=Au("br"),LY=Au(tFe),K9e=Au("p"),jY=Au("tr"),X9e=Au(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",eFe,nFe]),_de=Au(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function QT(e,t){const n={},r="children"in e?e.children:[],i=_de(e),o=Ode(e,{whitespace:n.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...Nde(e,{breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<r.length;)a.push(...Ade(r[s],e,{whitespace:o,breakBefore:s?void 0:i,breakAfter:s<r.length-1?r8(r[s+1]):i}));const l=[];let c;for(s=-1;++s<a.length;){const u=a[s];typeof u=="number"?c!==void 0&&u>c&&(c=u):u&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(u))}return l.join("")}function Ade(e,t,n){return e.type==="element"?Z9e(e,t,n):e.type==="text"?n.whitespace==="normal"?Nde(e,n):Q9e(e):[]}function Z9e(e,t,n){const r=Ode(e,n),i=e.children||[];let o=-1,a=[];if(X9e(e))return a;let s,l;for(r8(e)||jY(e)&&RY(t,e,jY)?l=`
`:K9e(e)?(s=2,l=2):_de(e)&&(s=1,l=1);++o<i.length;)a=a.concat(Ade(i[o],e,{whitespace:r,breakBefore:o?void 0:s,breakAfter:o<i.length-1?r8(i[o+1]):l}));return LY(e)&&RY(t,e,LY)&&a.push("	"),s&&a.unshift(s),l&&a.push(l),a}function Nde(e,t){const n=String(e.value),r=[],i=[];let o=0;for(;o<=n.length;){IY.lastIndex=o;const l=IY.exec(n),c=l&&"index"in l?l.index:n.length;r.push(J9e(n.slice(o,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,c===n.length?t.breakAfter:!0)),o=c+1}let a=-1,s;for(;++a<r.length;)r[a].charCodeAt(r[a].length-1)===8203||a<r.length-1&&r[a+1].charCodeAt(0)===8203?(i.push(r[a]),s=void 0):r[a]?(typeof s=="number"&&i.push(s),i.push(r[a]),s=0):(a===0||a===r.length-1)&&i.push(0);return i}function Q9e(e){return[String(e.value)]}function J9e(e,t,n){const r=[];let i=0,o;for(;i<e.length;){PY.lastIndex=i;const a=PY.exec(e);o=a?a.index:e.length,!i&&!o&&a&&!t&&r.push(""),i!==o&&r.push(e.slice(i,o)),i=a?o+a[0].length:o}return i!==o&&!n&&r.push(""),r.join(" ")}function Ode(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function eFe(e){return!!(e.properties||{}).hidden}function tFe(e){return e.tagName==="td"||e.tagName==="th"}function nFe(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function rFe(e){const t=String(e);let n=t.length;for(;n>0;){const r=t.codePointAt(n-1);if(r!==void 0&&(r===10||r===13))n--;else break}return t.slice(0,n)}const jP="language-";function fA(e,t){const n=t.children;let r=-1,i,o;if(t.tagName==="pre")for(;++r<n.length;){const s=n[r];if(s.type==="element"&&s.tagName==="code"&&s.properties&&s.properties.className&&Array.isArray(s.properties.className)){i=s.properties.className;break}}if(i){for(r=-1;++r<i.length;)if(String(i[r]).slice(0,jP.length)===jP){o=String(i[r]).slice(jP.length);break}}const a={type:"code",lang:o||null,meta:null,value:rFe(QT(t))};return e.patch(t,a),a}function iFe(e,t){const n={type:"html",value:"<!--"+t.value+"-->"};return e.patch(t,n),n}function BP(e,t){const r={type:"delete",children:e.all(t)};return e.patch(t,r),r}function $F(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function oFe(e,t){const n=[],r=[];let i=-1;for(;++i<t.children.length;){const s=t.children[i];s.type==="element"&&s.tagName==="div"?n.push(...s.children):n.push(s)}let o={definitions:[],titles:[]};for(i=-1;++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="dt"){const l=n[i-1];l&&l.type==="element"&&l.tagName==="dd"&&(r.push(o),o={definitions:[],titles:[]}),o.titles.push(s)}else o.definitions.push(s)}r.push(o),i=-1;const a=[];for(;++i<r.length;){const s=[...BY(e,r[i].titles),...BY(e,r[i].definitions)];s.length>0&&a.push({type:"listItem",spread:s.length>1,checked:null,children:s})}if(a.length>0){const s={type:"list",ordered:!1,start:null,spread:$F(a),children:a};return e.patch(t,s),s}}function BY(e,t){const n=e.all({type:"root",children:t}),r=e.toSpecificContent(n,aFe);return r.length===0?[]:r.length===1?r[0].children:[{type:"list",ordered:!1,start:null,spread:$F(r),children:r}]}function aFe(){return{type:"listItem",spread:!1,checked:null,children:[]}}function hA(e,t){const r={type:"emphasis",children:e.all(t)};return e.patch(t,r),r}function HF(e){let t=0,n=e.length;for(;t<n&&e[t].type==="break";)t++;for(;n>t&&e[n-1].type==="break";)n--;return t===0&&n===e.length?e:e.slice(t,n)}function dv(e,t){const n=Number(t.tagName.charAt(1))||1,r=HF(e.all(t)),i={type:"heading",depth:n,children:r};return e.patch(t,i),i}function sFe(e,t){const n={type:"thematicBreak"};return e.patch(t,n),n}function lFe(e,t){const n=t.properties||{},r=String(n.src||""),i=String(n.title||"");if(r&&i){const o={type:"link",title:null,url:e.resolve(r),children:[{type:"text",value:i}]};return e.patch(t,o),o}}function $Y(e,t){const n=t.properties||{},r={type:"image",url:e.resolve(String(n.src||"")||null),title:n.title?String(n.title):null,alt:n.alt?String(n.alt):""};return e.patch(t,r),r}function LS(e,t){const n={type:"inlineCode",value:QT(t)};return e.patch(t,n),n}function Mde(e,t){const n=[],r=[],i=t||e.properties||{},o=Dde(e),a=Math.min(Number.parseInt(String(i.size),10),0)||(i.multiple?4:1);let s=-1;for(;++s<o.length;){const u=o[s];u&&u.properties&&u.properties.selected&&n.push(u)}const l=n.length>0?n:o,c=Math.min(l.length,a);for(s=-1;++s<c;){const u=l[s],d=u.properties||{},p=QT(u),m=p||String(d.label||""),v=String(d.value||"")||p;r.push([v,m===v?void 0:m])}return r}function Dde(e){const t=[];let n=-1;for(;++n<e.children.length;){const r=e.children[n];"children"in r&&Array.isArray(r.children)&&t.push(...Dde(r)),r.type==="element"&&r.tagName==="option"&&(!r.properties||!r.properties.disabled)&&t.push(r)}return t}const cFe="[x]",uFe="[ ]";function dFe(e,t){const n=t.properties||{},r=String(n.value||n.placeholder||"");if(n.disabled||n.type==="hidden"||n.type==="file")return;if(n.type==="checkbox"||n.type==="radio"){const l={type:"text",value:n.checked?e.options.checked||cFe:e.options.unchecked||uFe};return e.patch(t,l),l}if(n.type==="image"){const l=n.alt||r;if(l){const c={type:"image",url:e.resolve(String(n.src||"")||null),title:String(n.title||"")||null,alt:String(l)};return e.patch(t,c),c}return}let i=[];if(r)i=[[r,void 0]];else if(n.type!=="button"&&n.type!=="file"&&n.type!=="password"&&n.type!=="reset"&&n.type!=="submit"&&n.list){const l=String(n.list),c=e.elementById.get(l);c&&c.tagName==="datalist"&&(i=Mde(c,n))}if(i.length===0)return;if(n.type==="password"&&(i[0]=["".repeat(i[0][0].length),void 0]),n.type==="email"||n.type==="url"){const l=[];let c=-1;for(;++c<i.length;){const u=e.resolve(i[c][0]),d={type:"link",title:null,url:n.type==="email"?"mailto:"+u:u,children:[{type:"text",value:i[c][1]||u}]};l.push(d),c!==i.length-1&&l.push({type:"text",value:", "})}return l}const o=[];let a=-1;for(;++a<i.length;)o.push(i[a][1]?i[a][1]+" ("+i[a][0]+")":i[a][0]);const s={type:"text",value:o.join(", ")};return e.patch(t,s),s}const fFe={}.hasOwnProperty;function hFe(e,t){const n=e.type==="element"&&fFe.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}const pFe=new Set(["pingback","prefetch","stylesheet"]);function mFe(e){if(e.type!=="element"||e.tagName!=="link")return!1;if(e.properties.itemProp)return!0;const t=e.properties.rel;let n=-1;if(!Array.isArray(t)||t.length===0)return!1;for(;++n<t.length;)if(!pFe.has(String(t[n])))return!1;return!0}const gFe=Au(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),yFe=Au("meta");function Rde(e){return!!(e.type==="text"||gFe(e)||mde(e)||mFe(e)||yFe(e)&&hFe(e,"itemProp"))}function $P(e,t){const{rest:n,checkbox:r}=Pde(t),i=r?!!r.properties.checked:null,o=Ide(n),a=e.toFlow(e.all(n)),s={type:"listItem",spread:o,checked:i,children:a};return e.patch(t,s),s}function Ide(e){let t=-1,n=!1;for(;++t<e.children.length;){const r=e.children[t];if(r.type==="element"){if(Rde(r))continue;if(r.tagName==="p"||n||Ide(r))return!0;n=!0}}return!1}function Pde(e){const t=e.children[0];if(t&&t.type==="element"&&t.tagName==="input"&&t.properties&&(t.properties.type==="checkbox"||t.properties.type==="radio")){const n={...e,children:e.children.slice(1)};return{checkbox:t,rest:n}}if(t&&t.type==="element"&&t.tagName==="p"){const{checkbox:n,rest:r}=Pde(t);if(n){const i={...e,children:[r,...e.children.slice(1)]};return{checkbox:n,rest:i}}}return{checkbox:void 0,rest:e}}function HP(e,t){const n=t.tagName==="ol",r=e.toSpecificContent(e.all(t),bFe);let i=null;n&&(i=t.properties&&t.properties.start?Number.parseInt(String(t.properties.start),10):1);const o={type:"list",ordered:n,start:i,spread:$F(r),children:r};return e.patch(t,o),o}function bFe(){return{type:"listItem",spread:!1,checked:null,children:[]}}const vFe={};function oR(e,t){const n=vFe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Lde(e,r,i)}function Lde(e,t,n){if(xFe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return HY(e.children,t,n)}return Array.isArray(e)?HY(e,t,n):""}function HY(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Lde(e[i],t,n);return r.join("")}function xFe(e){return!!(e&&typeof e=="object")}const jde=hx(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function aR(e){let t=-1;for(;++t<e.length;){const n=e[t];if(!Hde(n)||"children"in n&&aR(n.children))return!0}return!1}function Bde(e){return $de(e,t,function(n){return n});function t(n){return n.every(function(r){return r.type==="text"?ZT(r.value):!1})?[]:[{type:"paragraph",children:HF(n)}]}}function wFe(e){return $de(e.children,t,n);function t(r){const i=FP(e);return i.children=r,[i]}function n(r){if("children"in r&&"children"in e){const i=FP(e),o=FP(r);return i.children=r.children,o.children.push(i),o}return{...r}}}function $de(e,t,n){const r=SFe(e),i=[];let o=[],a=-1;for(;++a<r.length;){const s=r[a];Hde(s)?o.push(s):(o.length>0&&(i.push(...t(o)),o=[]),i.push(n(s)))}return o.length>0&&(i.push(...t(o)),o=[]),i}function SFe(e){const t=[];let n=-1;for(;++n<e.length;){const r=e[n];(r.type==="delete"||r.type==="link")&&aR(r.children)?t.push(...wFe(r)):t.push(r)}return t}function Hde(e){const t=e.data&&e.data.hName;return t?Rde({type:"element",tagName:t,properties:{},children:[]}):jde(e)}function FP(e){return v1({...e,children:[]})}function FY(e,t){const n=t.properties||{},r=t.tagName==="video"?String(n.poster||""):"";let i=String(n.src||""),o=-1,a=!1,s=e.all(t);if(G0({type:"root",children:s},function(d){if(d.type==="link")return a=!0,CO}),a||aR(s))return s;for(;!i&&++o<t.children.length;){const d=t.children[o];d.type==="element"&&d.tagName==="source"&&d.properties&&(i=String(d.properties.src||""))}if(r){const d={type:"image",title:null,url:e.resolve(r),alt:oR(s)};e.patch(t,d),s=[d]}const c=s,u={type:"link",title:n.title?String(n.title):null,url:e.resolve(i),children:c};return e.patch(t,u),u}function UY(e,t){const n=HF(e.all(t));if(n.length>0){const r={type:"paragraph",children:n};return e.patch(t,r),r}}const EFe=['"'];function CFe(e,t){const n=e.options.quotes||EFe;e.qNesting++;const r=e.all(t);e.qNesting--;const i=n[e.qNesting%n.length],o=r[0],a=r[r.length-1],s=i.charAt(0),l=i.length>1?i.charAt(1):i;return o&&o.type==="text"?o.value=s+o.value:r.unshift({type:"text",value:s}),a&&a.type==="text"?a.value+=l:r.push({type:"text",value:l}),r}function TFe(e,t){let n=e.all(t);(e.options.document||aR(n))&&(n=Bde(n));const r={type:"root",children:n};return e.patch(t,r),r}function kFe(e,t){const n=Mde(t);let r=-1;const i=[];for(;++r<n.length;){const o=n[r];i.push(o[1]?o[1]+" ("+o[0]+")":o[0])}if(i.length>0){const o={type:"text",value:i.join(", ")};return e.patch(t,o),o}}function zY(e,t){const r={type:"strong",children:e.all(t)};return e.patch(t,r),r}function VY(e,t){const r={type:"tableCell",children:e.all(t)};if(e.patch(t,r),t.properties){const i=t.properties.rowSpan,o=t.properties.colSpan;if(i||o){const a=r.data||(r.data={});i&&(a.hastUtilToMdastTemporaryRowSpan=i),o&&(a.hastUtilToMdastTemporaryColSpan=o)}}return r}function _Fe(e,t){const r={type:"tableRow",children:e.toSpecificContent(e.all(t),AFe)};return e.patch(t,r),r}function AFe(){return{type:"tableCell",children:[]}}function NFe(e,t){if(e.inTable){const c={type:"text",value:QT(t)};return e.patch(t,c),c}e.inTable=!0;const{align:n,headless:r}=OFe(t),i=e.toSpecificContent(e.all(t),qY);r&&i.unshift(qY());let o=-1;for(;++o<i.length;){const c=i[o],u=e.toSpecificContent(c.children,MFe);c.children=u}let a=1;for(o=-1;++o<i.length;){const c=i[o].children;let u=-1;for(;++u<c.length;){const d=c[u];if(d.data){const p=d.data,m=Number.parseInt(String(p.hastUtilToMdastTemporaryColSpan),10)||1,v=Number.parseInt(String(p.hastUtilToMdastTemporaryRowSpan),10)||1;if(m>1||v>1){let x=o-1;for(;++x<o+v;){let w=u-1;for(;++w<u+m&&i[x];){const T=[];(x!==o||w!==u)&&T.push({type:"tableCell",children:[]}),i[x].children.splice(w,0,...T)}}}"hastUtilToMdastTemporaryColSpan"in d.data&&delete d.data.hastUtilToMdastTemporaryColSpan,"hastUtilToMdastTemporaryRowSpan"in d.data&&delete d.data.hastUtilToMdastTemporaryRowSpan,Object.keys(d.data).length===0&&delete d.data}}c.length>a&&(a=c.length)}for(o=-1;++o<i.length;){const c=i[o].children;let u=c.length-1;for(;++u<a;)c.push({type:"tableCell",children:[]})}let s=n.length-1;for(;++s<a;)n.push(null);e.inTable=!1;const l={type:"table",align:n,children:i};return e.patch(t,l),l}function OFe(e){const t={align:[null],headless:!0};let n=0,r=0;return G0(e,function(i){if(i.type==="element"){if(i.tagName==="table"&&e!==i)return wde;if((i.tagName==="th"||i.tagName==="td")&&i.properties){if(!t.align[r]){const o=String(i.properties.align||"")||null;(o==="center"||o==="left"||o==="right"||o===null)&&(t.align[r]=o)}t.headless&&n<2&&i.tagName==="th"&&(t.headless=!1),r++}else i.tagName==="thead"?t.headless=!1:i.tagName==="tr"&&(n++,r=0)}}),t}function MFe(){return{type:"tableCell",children:[]}}function qY(){return{type:"tableRow",children:[]}}function DFe(e,t){const n={type:"text",value:t.value};return e.patch(t,n),n}function RFe(e,t){const n={type:"text",value:QT(t)};return e.patch(t,n),n}function IFe(e,t){const n={type:"text",value:""};return e.patch(t,n),n}const PFe={comment:iFe,doctype:jn,root:TFe,text:DFe},LFe={applet:jn,area:jn,basefont:jn,bgsound:jn,caption:jn,col:jn,colgroup:jn,command:jn,content:jn,datalist:jn,dialog:jn,element:jn,embed:jn,frame:jn,frameset:jn,isindex:jn,keygen:jn,link:jn,math:jn,menu:jn,menuitem:jn,meta:jn,nextid:jn,noembed:jn,noframes:jn,optgroup:jn,option:jn,param:jn,script:jn,shadow:jn,source:jn,spacer:jn,style:jn,svg:jn,template:jn,title:jn,track:jn,abbr:Ln,acronym:Ln,bdi:Ln,bdo:Ln,big:Ln,blink:Ln,button:Ln,canvas:Ln,cite:Ln,data:Ln,details:Ln,dfn:Ln,font:Ln,ins:Ln,label:Ln,map:Ln,marquee:Ln,meter:Ln,nobr:Ln,noscript:Ln,object:Ln,output:Ln,progress:Ln,rb:Ln,rbc:Ln,rp:Ln,rt:Ln,rtc:Ln,ruby:Ln,slot:Ln,small:Ln,span:Ln,sup:Ln,sub:Ln,tbody:Ln,tfoot:Ln,thead:Ln,time:Ln,address:eo,article:eo,aside:eo,body:eo,center:eo,div:eo,fieldset:eo,figcaption:eo,figure:eo,form:eo,footer:eo,header:eo,hgroup:eo,html:eo,legend:eo,main:eo,multicol:eo,nav:eo,picture:eo,section:eo,a:q9e,audio:FY,b:zY,base:W9e,blockquote:Y9e,br:G9e,code:LS,dir:HP,dl:oFe,dt:$P,dd:$P,del:BP,em:hA,h1:dv,h2:dv,h3:dv,h4:dv,h5:dv,h6:dv,hr:sFe,i:hA,iframe:lFe,img:$Y,image:$Y,input:dFe,kbd:LS,li:$P,listing:fA,mark:hA,ol:HP,p:UY,plaintext:fA,pre:fA,q:CFe,s:BP,samp:LS,select:kFe,strike:BP,strong:zY,summary:UY,table:NFe,td:VY,textarea:RFe,th:VY,tr:_Fe,tt:LS,u:hA,ul:HP,var:LS,video:FY,wbr:IFe,xmp:fA};function Ln(e,t){return e.all(t)}function eo(e,t){return e.toFlow(e.all(t))}function jn(){}const WY={}.hasOwnProperty;function jFe(e){return{all:BFe,baseFound:!1,elementById:new Map,frozenBaseUrl:void 0,handlers:{...LFe,...e.handlers},inTable:!1,nodeHandlers:{...PFe,...e.nodeHandlers},one:$Fe,options:e,patch:HFe,qNesting:0,resolve:FFe,toFlow:UFe,toSpecificContent:zFe}}function BFe(e){const t=e.children||[],n=[];let r=-1;for(;++r<t.length;){const i=t[r],o=this.one(i,e);Array.isArray(o)?n.push(...o):o&&n.push(o)}return n}function $Fe(e,t){if(e.type==="element"){if(e.properties&&e.properties.dataMdast==="ignore")return;if(WY.call(this.handlers,e.tagName))return this.handlers[e.tagName](this,e,t)||void 0}else if(WY.call(this.nodeHandlers,e.type))return this.nodeHandlers[e.type](this,e,t)||void 0;if("value"in e&&typeof e.value=="string"){const n={type:"text",value:e.value};return this.patch(e,n),n}if("children"in e)return this.all(e)}function HFe(e,t){e.position&&(t.position=kde(e))}function FFe(e){const t=this.frozenBaseUrl;return e==null?"":t?String(new URL(e,t)):e}function UFe(e){return Bde(e)}function zFe(e,t){const n=t(),r=[];let i=[],o=-1;for(;++o<e.length;){const s=e[o];if(a(s))i.length>0&&(s.children.unshift(...i),i=[]),r.push(s);else{const l=s;i.push(l)}}if(i.length>0){let s=r[r.length-1];s||(s=t(),r.push(s)),s.children.push(...i),i=[]}return r;function a(s){return s.type===n.type}}const VFe={};function YY(e,t){const n=v1(e),r=t||VFe,i=U9e({newlines:r.newlines===!0}),o=jFe(r);let a;i(n),G0(n,function(l){if(l&&l.type==="element"&&l.properties){const c=String(l.properties.id||"")||void 0;c&&!o.elementById.has(c)&&o.elementById.set(c,l)}});const s=o.one(n,void 0);return s?Array.isArray(s)?a={type:"root",children:s}:a=s:a={type:"root",children:[]},G0(a,function(l,c,u){if(l.type==="text"&&c!==void 0&&u){const d=u.children[c-1];if(d&&d.type===l.type)return d.value+=l.value,u.children.splice(c,1),d.position&&l.position&&(d.position.end=l.position.end),c-1;if(l.value=l.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),u&&(u.type==="heading"||u.type==="paragraph"||u.type==="root")&&(c||(l.value=l.value.replace(/^[\t ]+/,"")),c===u.children.length-1&&(l.value=l.value.replace(/[\t ]+$/,""))),!l.value)return u.children.splice(c,1),c}}),a}const GY={document:!0};function qFe(e,t){return e&&"run"in e?async function(n,r){const i=YY(n,{...GY,...t});await e.run(i,r)}:function(n){return YY(n,{...GY,...e})}}function TO(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const es=Tm(/[A-Za-z]/),Ea=Tm(/[\dA-Za-z]/),WFe=Tm(/[#-'*+\--9=?A-Z^-~]/);function kO(e){return e!==null&&(e<32||e===127)}const i8=Tm(/\d/),YFe=Tm(/[\dA-Fa-f]/),GFe=Tm(/[!-/:-@[-`{-~]/);function Qt(e){return e!==null&&e<-2}function Vr(e){return e!==null&&(e<0||e===32)}function Vn(e){return e===-2||e===-1||e===32}const sR=Tm(new RegExp("\\p{P}|\\p{S}","u")),K0=Tm(/\s/);function Tm(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function KFe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function XFe(e,t,n){const i=hx((n||{}).ignore||[]),o=ZFe(t);let a=-1;for(;++a<o.length;)Sde(e,"text",s);function s(c,u){let d=-1,p;for(;++d<u.length;){const m=u[d],v=p?p.children:void 0;if(i(m,v?v.indexOf(m):void 0,p))return;p=m}if(p)return l(c,u)}function l(c,u){const d=u[u.length-1],p=o[a][0],m=o[a][1];let v=0;const w=d.children.indexOf(c);let T=!1,k=[];p.lastIndex=0;let N=p.exec(c.value);for(;N;){const I=N.index,O={index:N.index,input:N.input,stack:[...u,c]};let A=m(...N,O);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?p.lastIndex=I+1:(v!==I&&k.push({type:"text",value:c.value.slice(v,I)}),Array.isArray(A)?k.push(...A):A&&k.push(A),v=I+N[0].length,T=!0),!p.global)break;N=p.exec(c.value)}return T?(v<c.value.length&&k.push({type:"text",value:c.value.slice(v)}),d.children.splice(w,1,...k)):k=[c],w+k.length}}function ZFe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([QFe(i[0]),JFe(i[1])])}return t}function QFe(e){return typeof e=="string"?new RegExp(KFe(e),"g"):e}function JFe(e){return typeof e=="function"?e:function(){return e}}const UP="phrasing",zP=["autolink","link","image","label"];function e7e(){return{transforms:[s7e],enter:{literalAutolink:n7e,literalAutolinkEmail:VP,literalAutolinkHttp:VP,literalAutolinkWww:VP},exit:{literalAutolink:a7e,literalAutolinkEmail:o7e,literalAutolinkHttp:r7e,literalAutolinkWww:i7e}}}function t7e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:UP,notInConstruct:zP},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:UP,notInConstruct:zP},{character:":",before:"[ps]",after:"\\/",inConstruct:UP,notInConstruct:zP}]}}function n7e(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function VP(e){this.config.enter.autolinkProtocol.call(this,e)}function r7e(e){this.config.exit.autolinkProtocol.call(this,e)}function i7e(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function o7e(e){this.config.exit.autolinkEmail.call(this,e)}function a7e(e){this.exit(e)}function s7e(e){XFe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,l7e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),c7e]],{ignore:["link","linkReference"]})}function l7e(e,t,n,r,i){let o="";if(!Fde(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!u7e(n)))return!1;const a=d7e(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function c7e(e,t,n,r){return!Fde(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function u7e(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function d7e(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=TO(e,"(");let o=TO(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function Fde(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||K0(n)||sR(n))&&(!t||n!==47)}function gu(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}Ude.peek=x7e;function f7e(){this.buffer()}function h7e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function p7e(){this.buffer()}function m7e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function g7e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=gu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function y7e(e){this.exit(e)}function b7e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=gu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function v7e(e){this.exit(e)}function x7e(){return"["}function Ude(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),s(),a(),o+=i.move("]"),o}function w7e(){return{enter:{gfmFootnoteCallString:f7e,gfmFootnoteCall:h7e,gfmFootnoteDefinitionLabelString:p7e,gfmFootnoteDefinition:m7e},exit:{gfmFootnoteCallString:g7e,gfmFootnoteCall:y7e,gfmFootnoteDefinitionLabelString:b7e,gfmFootnoteDefinition:v7e}}}function S7e(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Ude},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,a){const s=o.createTracker(a);let l=s.move("[^");const c=o.enter("footnoteDefinition"),u=o.enter("label");return l+=s.move(o.safe(o.associationId(r),{before:l,after:"]"})),u(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,s.current()),t?zde:E7e))),c(),l}}function E7e(e,t,n){return t===0?e:zde(e,t,n)}function zde(e,t,n){return(n?"":"    ")+e}const C7e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Vde.peek=N7e;function T7e(){return{canContainEols:["delete"],enter:{strikethrough:_7e},exit:{strikethrough:A7e}}}function k7e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:C7e}],handlers:{delete:Vde}}}function _7e(e){this.enter({type:"delete",children:[]},e)}function A7e(e){this.exit(e)}function Vde(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function N7e(){return"~"}function O7e(e){return e.length}function M7e(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||O7e,o=[],a=[],s=[],l=[];let c=0,u=-1;for(;++u<e.length;){const x=[],w=[];let T=-1;for(e[u].length>c&&(c=e[u].length);++T<e[u].length;){const k=D7e(e[u][T]);if(n.alignDelimiters!==!1){const N=i(k);w[T]=N,(l[T]===void 0||N>l[T])&&(l[T]=N)}x.push(k)}a[u]=x,s[u]=w}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)o[d]=KY(r[d]);else{const x=KY(r);for(;++d<c;)o[d]=x}d=-1;const p=[],m=[];for(;++d<c;){const x=o[d];let w="",T="";x===99?(w=":",T=":"):x===108?w=":":x===114&&(T=":");let k=n.alignDelimiters===!1?1:Math.max(1,l[d]-w.length-T.length);const N=w+"-".repeat(k)+T;n.alignDelimiters!==!1&&(k=w.length+k+T.length,k>l[d]&&(l[d]=k),m[d]=k),p[d]=N}a.splice(1,0,p),s.splice(1,0,m),u=-1;const v=[];for(;++u<a.length;){const x=a[u],w=s[u];d=-1;const T=[];for(;++d<c;){const k=x[d]||"";let N="",I="";if(n.alignDelimiters!==!1){const O=l[d]-(w[d]||0),A=o[d];A===114?N=" ".repeat(O):A===99?O%2?(N=" ".repeat(O/2+.5),I=" ".repeat(O/2-.5)):(N=" ".repeat(O/2),I=N):I=" ".repeat(O)}n.delimiterStart!==!1&&!d&&T.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||d)&&T.push(" "),n.alignDelimiters!==!1&&T.push(N),T.push(k),n.alignDelimiters!==!1&&T.push(I),n.padding!==!1&&T.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&T.push("|")}v.push(n.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return v.join(`
`)}function D7e(e){return e==null?"":String(e)}function KY(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const XY={}.hasOwnProperty;function qde(e,t){const n=t||{};function r(i,...o){let a=r.invalid;const s=r.handlers;if(i&&XY.call(i,e)){const l=String(i[e]);a=XY.call(s,l)?s[l]:r.unknown}if(a)return a.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const R7e={}.hasOwnProperty;function Wde(e,t){let n=-1,r;if(t.extensions)for(;++n<t.extensions.length;)Wde(e,t.extensions[n]);for(r in t)if(R7e.call(t,r))switch(r){case"extensions":break;case"unsafe":{ZY(e[r],t[r]);break}case"join":{ZY(e[r],t[r]);break}case"handlers":{I7e(e[r],t[r]);break}default:e.options[r]=t[r]}return e}function ZY(e,t){t&&e.push(...t)}function I7e(e,t){t&&Object.assign(e,t)}function P7e(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),L7e);return i(),a}function L7e(e,t,n){return">"+(n?"":" ")+e}function Yde(e,t){return QY(e,t.inConstruct,!0)&&!QY(e,t.notInConstruct,!1)}function QY(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function JY(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Yde(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function j7e(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+t.length,r=n.indexOf(t,i);return a}function o8(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function B7e(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function $7e(e,t,n,r){const i=B7e(n),o=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(o8(e,n)){const d=n.enter("codeIndented"),p=n.indentLines(o,H7e);return d(),p}const s=n.createTracker(r),l=i.repeat(Math.max(j7e(o,i)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(e.lang){const d=n.enter(`codeFencedLang${a}`);u+=s.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${a}`);u+=s.move(" "),u+=s.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),d()}return u+=s.move(`
`),o&&(u+=s.move(o+`
`)),u+=s.move(l),c(),u}function H7e(e,t,n){return(n?"":"    ")+e}function FF(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function F7e(e,t,n,r){const i=FF(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),a(),c}function U7e(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function bm(e){return"&#x"+e.toString(16).toUpperCase()+";"}function x1(e){if(e===null||Vr(e)||K0(e))return 1;if(sR(e))return 2}function _O(e,t,n){const r=x1(e),i=x1(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Gde.peek=z7e;function Gde(e,t,n,r){const i=U7e(n),o=n.enter("emphasis"),a=n.createTracker(r),s=a.move(i);let l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),u=_O(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=bm(c)+l.slice(1));const d=l.charCodeAt(l.length-1),p=_O(r.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+bm(d));const m=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+m}function z7e(e,t,n){return n.options.emphasis||"*"}function Kde(e,t){let n=!1;return G0(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,CO}),!!((!e.depth||e.depth<3)&&oR(e)&&(t.options.setext||n))}function V7e(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(Kde(e,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),p=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return d(),u(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c=bm(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c}Xde.peek=q7e;function Xde(e){return e.value||""}function q7e(){return"<"}Zde.peek=W7e;function Zde(e,t,n,r){const i=FF(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),a(),c}function W7e(){return"!"}Qde.peek=Y7e;function Qde(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Y7e(){return"!"}Jde.peek=G7e;function Jde(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],s=n.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function G7e(){return"`"}function efe(e,t){const n=oR(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}tfe.peek=K7e;function tfe(e,t,n,r){const i=FF(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(efe(e,n)){const u=n.stack;n.stack=[],s=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(e,{before:d,after:">",...a.current()})),d+=a.move(">"),s(),n.stack=u,d}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${o}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),s(),c}function K7e(e,t,n){return efe(e,n)?"<":"["}nfe.peek=X7e;function nfe(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function X7e(){return"["}function UF(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Z7e(e){const t=UF(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Q7e(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function rfe(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function J7e(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?Q7e(n):UF(n);const s=e.ordered?a==="."?")":".":Z7e(n);let l=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),rfe(n)===a&&u){let d=-1;for(;++d<e.children.length;){const p=e.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),c}function eUe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function tUe(e,t,n,r){const i=eUe(n);let o=n.bulletCurrent||UF(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),u);return l(),c;function u(d,p,m){return p?(m?"":" ".repeat(a))+d:(m?o:o+" ".repeat(a-o.length))+d}}function nUe(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,r);return o(),i(),a}function rUe(e,t,n,r){return(e.children.some(function(a){return jde(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function iUe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}ife.peek=oUe;function ife(e,t,n,r){const i=iUe(n),o=n.enter("strong"),a=n.createTracker(r),s=a.move(i+i);let l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),u=_O(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=bm(c)+l.slice(1));const d=l.charCodeAt(l.length-1),p=_O(r.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+bm(d));const m=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+m}function oUe(e,t,n){return n.options.strong||"*"}function aUe(e,t,n,r){return n.safe(e.value,r)}function sUe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function lUe(e,t,n){const r=(rfe(n)+(n.options.ruleSpaces?" ":"")).repeat(sUe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const zF={blockquote:P7e,break:JY,code:$7e,definition:F7e,emphasis:Gde,hardBreak:JY,heading:V7e,html:Xde,image:Zde,imageReference:Qde,inlineCode:Jde,link:tfe,linkReference:nfe,list:J7e,listItem:tUe,paragraph:nUe,root:rUe,strong:ife,text:aUe,thematicBreak:lUe},cUe=[uUe];function uUe(e,t,n,r){if(t.type==="code"&&o8(t,r)&&(e.type==="list"||e.type===t.type&&o8(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&Kde(t,r))?void 0:n.spread?1:0}const Zg=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],dUe=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Zg},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Zg},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Zg},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Zg},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Zg},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Zg},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Zg},{atBreak:!0,character:"~"}],eG=document.createElement("i");function VF(e){const t="&"+e+";";eG.innerHTML=t;const n=eG.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ofe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const fUe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function afe(e){return e.replace(fUe,hUe)}function hUe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return ofe(n.slice(o?2:1),o?16:10)}return VF(n)||e}function pUe(e){return e.label||!e.identifier?e.label||"":afe(e.identifier)}function mUe(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function gUe(e,t,n){const r=t.indexStack,i=e.children||[],o=[];let a=-1,s=n.before,l;r.push(-1);let c=t.createTracker(n);for(;++a<i.length;){const u=i[a];let d;if(r[r.length-1]=a,a+1<i.length){let v=t.handle.handlers[i[a+1].type];v&&v.peek&&(v=v.peek),d=v?v(i[a+1],e,t,{before:"",after:"",...c.current()}).charAt(0):""}else d=n.after;o.length>0&&(s==="\r"||s===`
`)&&u.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),s=" ",c=t.createTracker(n),c.move(o.join("")));let p=t.handle(u,e,t,{...c.current(),after:d,before:s});l&&l===p.slice(0,1)&&(p=bm(l.charCodeAt(0))+p.slice(1));const m=t.attentionEncodeSurroundingInfo;t.attentionEncodeSurroundingInfo=void 0,l=void 0,m&&(o.length>0&&m.before&&s===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+bm(s.charCodeAt(0))),m.after&&(l=d)),c.move(p),o.push(p),s=p.slice(-1)}return r.pop(),o.join("")}function yUe(e,t,n){const r=t.indexStack,i=e.children||[],o=t.createTracker(n),a=[];let s=-1;for(r.push(-1);++s<i.length;){const l=i[s];r[r.length-1]=s,a.push(o.move(t.handle(l,e,t,{before:`
`,after:`
`,...o.current()}))),l.type!=="list"&&(t.bulletLastUsed=void 0),s<i.length-1&&a.push(o.move(bUe(l,i[s+1],e,t)))}return r.pop(),a.join("")}function bUe(e,t,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](e,t,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const vUe=/\r?\n|\r/g;function xUe(e,t){const n=[];let r=0,i=0,o;for(;o=vUe.exec(e);)a(e.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return a(e.slice(r)),n.join("");function a(s){n.push(t(s,i,!s))}}function wUe(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],o=[],a={};let s=-1;for(;++s<e.unsafe.length;){const u=e.unsafe[s];if(!Yde(e.stack,u))continue;const d=e.compilePattern(u);let p;for(;p=d.exec(r);){const m="before"in u||!!u.atBreak,v="after"in u,x=p.index+(m?p[1].length:0);i.includes(x)?(a[x].before&&!m&&(a[x].before=!1),a[x].after&&!v&&(a[x].after=!1)):(i.push(x),a[x]={before:m,after:v})}}i.sort(SUe);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(s=-1;++s<i.length;){const u=i[s];u<l||u>=c||u+1<c&&i[s+1]===u+1&&a[u].after&&!a[u+1].before&&!a[u+1].after||i[s-1]===u-1&&a[u].before&&!a[u-1].before&&!a[u-1].after||(l!==u&&o.push(tG(r.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!n.encode||!n.encode.includes(r.charAt(u)))?o.push("\\"):(o.push(bm(r.charCodeAt(u))),l++))}return o.push(tG(r.slice(l,c),n.after)),o.join("")}function SUe(e,t){return e-t}function tG(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=e+t;let a=-1,s=0,l;for(;l=n.exec(o);)r.push(l.index);for(;++a<r.length;)s!==r[a]&&i.push(e.slice(s,r[a])),i.push("\\"),s=r[a];return i.push(e.slice(s)),i.join("")}function EUe(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,o=n.column||1;return{move:l,current:a,shift:s};function a(){return{now:{line:i,column:o},lineShift:r}}function s(c){r+=c}function l(c){const u=c||"",d=u.split(/\r?\n|\r/g),p=d[d.length-1];return i+=d.length-1,o=d.length===1?o+p.length:1+p.length+r,u}}function CUe(e,t){const n=t||{},r={associationId:pUe,containerPhrasing:AUe,containerFlow:NUe,createTracker:EUe,compilePattern:mUe,enter:o,handlers:{...zF},handle:void 0,indentLines:xUe,indexStack:[],join:[...cUe],options:{},safe:OUe,stack:[],unsafe:[...dUe]};Wde(r,n),r.options.tightDefinitions&&r.join.push(_Ue),r.handle=qde("type",{invalid:TUe,unknown:kUe,handlers:r.handlers});let i=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function o(a){return r.stack.push(a),s;function s(){r.stack.pop()}}}function TUe(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function kUe(e){const t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function _Ue(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function AUe(e,t){return gUe(e,this,t)}function NUe(e,t){return yUe(e,this,t)}function OUe(e,t){return wUe(this,e,t)}function MUe(){return{enter:{table:DUe,tableData:nG,tableHeader:nG,tableRow:IUe},exit:{codeText:PUe,table:RUe,tableData:qP,tableHeader:qP,tableRow:qP}}}function DUe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function RUe(e){this.exit(e),this.data.inTable=void 0}function IUe(e){this.enter({type:"tableRow",children:[]},e)}function qP(e){this.exit(e)}function nG(e){this.enter({type:"tableCell",children:[]},e)}function PUe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,LUe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function LUe(e,t){return t==="|"?t:e}function jUe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:a,tableCell:l,tableRow:s}};function a(m,v,x,w){return c(u(m,x,w),m.align)}function s(m,v,x,w){const T=d(m,x,w),k=c([T]);return k.slice(0,k.indexOf(`
`))}function l(m,v,x,w){const T=x.enter("tableCell"),k=x.enter("phrasing"),N=x.containerPhrasing(m,{...w,before:o,after:o});return k(),T(),N}function c(m,v){return M7e(m,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function u(m,v,x){const w=m.children;let T=-1;const k=[],N=v.enter("table");for(;++T<w.length;)k[T]=d(w[T],v,x);return N(),k}function d(m,v,x){const w=m.children;let T=-1;const k=[],N=v.enter("tableRow");for(;++T<w.length;)k[T]=l(w[T],m,v,x);return N(),k}function p(m,v,x){let w=zF.inlineCode(m,v,x);return x.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function BUe(){return{exit:{taskListCheckValueChecked:rG,taskListCheckValueUnchecked:rG,paragraph:HUe}}}function $Ue(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:FUe}}}function rG(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function HUe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,a;for(;++o<i.length;){const s=i[o];if(s.type==="paragraph"){a=s;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function FUe(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let l=zF.listItem(e,t,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+a}}function UUe(){return[e7e(),w7e(),T7e(),MUe(),BUe()]}function zUe(e){return{extensions:[t7e(),S7e(e),k7e(),jUe(e),$Ue()]}}function Nl(e,t,n,r){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function oc(e,t){return e.length>0?(Nl(e,e.length,0,t),e):t}const iG={}.hasOwnProperty;function sfe(e){const t={};let n=-1;for(;++n<e.length;)VUe(t,e[n]);return t}function VUe(e,t){let n;for(n in t){const i=(iG.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){iG.call(i,a)||(i[a]=[]);const s=o[a];qUe(i[a],Array.isArray(s)?s:s?[s]:[])}}}function qUe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Nl(e,0,0,r)}const WUe={tokenize:QUe,partial:!0},lfe={tokenize:JUe,partial:!0},cfe={tokenize:eze,partial:!0},ufe={tokenize:tze,partial:!0},YUe={tokenize:nze,partial:!0},dfe={name:"wwwAutolink",tokenize:XUe,previous:hfe},ffe={name:"protocolAutolink",tokenize:ZUe,previous:pfe},fh={name:"emailAutolink",tokenize:KUe,previous:mfe},Fd={};function GUe(){return{text:Fd}}let Qg=48;for(;Qg<123;)Fd[Qg]=fh,Qg++,Qg===58?Qg=65:Qg===91&&(Qg=97);Fd[43]=fh;Fd[45]=fh;Fd[46]=fh;Fd[95]=fh;Fd[72]=[fh,ffe];Fd[104]=[fh,ffe];Fd[87]=[fh,dfe];Fd[119]=[fh,dfe];function KUe(e,t,n){const r=this;let i,o;return a;function a(d){return!a8(d)||!mfe.call(r,r.previous)||qF(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return a8(d)?(e.consume(d),s):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(YUe,u,c)(d):d===45||d===95||Ea(d)?(o=!0,e.consume(d),l):u(d)}function c(d){return e.consume(d),i=!0,l}function u(d){return o&&i&&es(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function XUe(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!hfe.call(r,r.previous)||qF(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(WUe,e.attempt(lfe,e.attempt(cfe,o),n),n)(a))}function o(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function ZUe(e,t,n){const r=this;let i="",o=!1;return a;function a(d){return(d===72||d===104)&&pfe.call(r,r.previous)&&!qF(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):n(d)}function s(d){if(es(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),o?c:(o=!0,l)):n(d)}function c(d){return d===null||kO(d)||Vr(d)||K0(d)||sR(d)?n(d):e.attempt(lfe,e.attempt(cfe,u),n)(d)}function u(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function QUe(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),o):n(a)}function o(a){return a===null?n(a):t(a)}}function JUe(e,t,n){let r,i,o;return a;function a(c){return c===46||c===95?e.check(ufe,l,s)(c):c===null||Vr(c)||K0(c)||c!==45&&sR(c)?l(c):(o=!0,e.consume(c),a)}function s(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),a}function l(c){return i||r||!o?n(c):t(c)}}function eze(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(ufe,t,o)(a):a===null||Vr(a)||K0(a)?t(a):(e.consume(a),i)}function o(a){return a===41&&r++,e.consume(a),i}}function tze(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),o):s===93?(e.consume(s),i):s===60||s===null||Vr(s)||K0(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||Vr(s)||K0(s)?t(s):r(s)}function o(s){return es(s)?a(s):n(s)}function a(s){return s===59?(e.consume(s),r):es(s)?(e.consume(s),a):n(s)}}function nze(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return Ea(o)?n(o):t(o)}}function hfe(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Vr(e)}function pfe(e){return!es(e)}function mfe(e){return!(e===47||a8(e))}function a8(e){return e===43||e===45||e===46||e===95||Ea(e)}function qF(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function px(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Ea(e.charCodeAt(n+1))&&Ea(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function lR(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const s8={name:"attention",resolveAll:rze,tokenize:ize};function rze(e,t){let n=-1,r,i,o,a,s,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},p={...e[n][1].start};oG(d,-l),oG(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[r][1].end={...a.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=oc(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=oc(c,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),c=oc(c,lR(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=oc(c,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=oc(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,Nl(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function ize(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=x1(r);let o;return a;function a(l){return o=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===o)return e.consume(l),s;const c=e.exit("attentionSequence"),u=x1(l),d=!u||u===2&&i||n.includes(l),p=!i||i===2&&u||n.includes(r);return c._open=!!(o===42?d:d&&(i||!p)),c._close=!!(o===42?p:p&&(u||!d)),t(l)}}function oG(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const oze={name:"autolink",tokenize:aze};function aze(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return es(m)?(e.consume(m),a):m===64?n(m):c(m)}function a(m){return m===43||m===45||m===46||Ea(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ea(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||kO(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),u):WFe(m)?(e.consume(m),c):n(m)}function u(m){return Ea(m)?d(m):n(m)}function d(m){return m===46?(e.consume(m),r=0,u):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Ea(m))&&r++<63){const v=m===45?p:d;return e.consume(m),v}return n(m)}}function rr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return Vn(l)?(e.enter(n),s(l)):t(l)}function s(l){return Vn(l)&&o++<i?(e.consume(l),s):(e.exit(n),t(l))}}const JT={partial:!0,tokenize:sze};function sze(e,t,n){return r;function r(o){return Vn(o)?rr(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||Qt(o)?t(o):n(o)}}const gfe={continuation:{tokenize:cze},exit:uze,name:"blockQuote",tokenize:lze};function lze(e,t,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Vn(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function cze(e,t,n){const r=this;return i;function i(a){return Vn(a)?rr(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(gfe,t,n)(a)}}function uze(e){e.exit("blockQuote")}const yfe={name:"characterEscape",tokenize:dze};function dze(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return GFe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const bfe={name:"characterReference",tokenize:fze};function fze(e,t,n){const r=this;let i=0,o,a;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),o=31,a=Ea,u(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=YFe,u):(e.enter("characterReferenceValue"),o=7,a=i8,u(d))}function u(d){if(d===59&&i){const p=e.exit("characterReferenceValue");return a===Ea&&!VF(r.sliceSerialize(p))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(d)&&i++<o?(e.consume(d),u):n(d)}}const aG={partial:!0,tokenize:pze},sG={concrete:!0,name:"codeFenced",tokenize:hze};function hze(e,t,n){const r=this,i={partial:!0,tokenize:O};let o=0,a=0,s;return l;function l(A){return c(A)}function c(A){const R=r.events[r.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,s=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(A)}function u(A){return A===s?(a++,e.consume(A),u):a<3?n(A):(e.exit("codeFencedFenceSequence"),Vn(A)?rr(e,d,"whitespace")(A):d(A))}function d(A){return A===null||Qt(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(aG,x,I)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(A))}function p(A){return A===null||Qt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(A)):Vn(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rr(e,m,"whitespace")(A)):A===96&&A===s?n(A):(e.consume(A),p)}function m(A){return A===null||Qt(A)?d(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(A))}function v(A){return A===null||Qt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(A)):A===96&&A===s?n(A):(e.consume(A),v)}function x(A){return e.attempt(i,I,w)(A)}function w(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),T}function T(A){return o>0&&Vn(A)?rr(e,k,"linePrefix",o+1)(A):k(A)}function k(A){return A===null||Qt(A)?e.check(aG,x,I)(A):(e.enter("codeFlowValue"),N(A))}function N(A){return A===null||Qt(A)?(e.exit("codeFlowValue"),k(A)):(e.consume(A),N)}function I(A){return e.exit("codeFenced"),t(A)}function O(A,R,L){let B=0;return $;function $(Z){return A.enter("lineEnding"),A.consume(Z),A.exit("lineEnding"),q}function q(Z){return A.enter("codeFencedFence"),Vn(Z)?rr(A,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):z(Z)}function z(Z){return Z===s?(A.enter("codeFencedFenceSequence"),Y(Z)):L(Z)}function Y(Z){return Z===s?(B++,A.consume(Z),Y):B>=a?(A.exit("codeFencedFenceSequence"),Vn(Z)?rr(A,W,"whitespace")(Z):W(Z)):L(Z)}function W(Z){return Z===null||Qt(Z)?(A.exit("codeFencedFence"),R(Z)):L(Z)}}}function pze(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const WP={name:"codeIndented",tokenize:gze},mze={partial:!0,tokenize:yze};function gze(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),rr(e,o,"linePrefix",5)(c)}function o(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):Qt(c)?e.attempt(mze,a,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||Qt(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function yze(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Qt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):rr(e,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):Qt(a)?i(a):n(a)}}const bze={name:"codeText",previous:xze,resolve:vze,tokenize:wze};function vze(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function xze(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function wze(e,t,n){let r=0,i,o;return a;function a(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),r++,s):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(o=e.enter("codeTextSequence"),i=0,u(d)):Qt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||Qt(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),c)}function u(d){return d===96?(e.consume(d),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(o.type="codeTextData",c(d))}}class Sze{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&jS(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),jS(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),jS(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);jS(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);jS(this.left,n.reverse())}}}function jS(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function vfe(e){const t={};let n=-1,r,i,o,a,s,l,c;const u=new Sze(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Eze(u,n)),n=t[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=u.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},s=u.slice(i,n),s.unshift(r),u.splice(i,n-i+1,s))}}return Nl(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function Eze(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],c={};let u,d,p=-1,m=n,v=0,x=0;const w=[x];for(;m;){for(;e.get(++i)[1]!==m;);o.push(i),m._tokenizer||(u=r.sliceStream(m),m.next||u.push(null),d&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(x=p+1,w.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):w.pop(),p=w.length;p--;){const T=s.slice(w[p],w[p+1]),k=o.pop();l.push([k,k+T.length-1]),e.splice(k,2,T)}for(l.reverse(),p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const Cze={resolve:kze,tokenize:_ze},Tze={partial:!0,tokenize:Aze};function kze(e){return vfe(e),e}function _ze(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):Qt(s)?e.check(Tze,a,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function a(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Aze(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),rr(e,o,"linePrefix")}function o(a){if(a===null||Qt(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function xfe(e,t,n,r,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(T){return T===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(T),e.exit(o),p):T===null||T===32||T===41||kO(T)?n(T):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),x(T))}function p(T){return T===62?(e.enter(o),e.consume(T),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===62?(e.exit("chunkString"),e.exit(s),p(T)):T===null||T===60||Qt(T)?n(T):(e.consume(T),T===92?v:m)}function v(T){return T===60||T===62||T===92?(e.consume(T),m):m(T)}function x(T){return!u&&(T===null||T===41||Vr(T))?(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(T)):u<c&&T===40?(e.consume(T),u++,x):T===41?(e.consume(T),u--,x):T===null||T===32||T===40||kO(T)?n(T):(e.consume(T),T===92?w:x)}function w(T){return T===40||T===41||T===92?(e.consume(T),x):x(T)}}function wfe(e,t,n,r,i,o){const a=this;let s=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(o),u}function u(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(m):m===93?(e.exit(o),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Qt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===null||m===91||m===93||Qt(m)||s++>999?(e.exit("chunkString"),u(m)):(e.consume(m),l||(l=!Vn(m)),m===92?p:d)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,d):d(m)}}function Sfe(e,t,n,r,i,o){let a;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),a=p===40?41:p,l):n(p)}function l(p){return p===a?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(o),c(p))}function c(p){return p===a?(e.exit(o),l(a)):p===null?n(p):Qt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),rr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===a||p===null||Qt(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?d:u)}function d(p){return p===a||p===92?(e.consume(p),u):u(p)}}function IE(e,t){let n;return r;function r(i){return Qt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Vn(i)?rr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Nze={name:"definition",tokenize:Mze},Oze={partial:!0,tokenize:Dze};function Mze(e,t,n){const r=this;let i;return o;function o(m){return e.enter("definition"),a(m)}function a(m){return wfe.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return i=gu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Vr(m)?IE(e,c)(m):c(m)}function c(m){return xfe(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function u(m){return e.attempt(Oze,d,d)(m)}function d(m){return Vn(m)?rr(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Qt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Dze(e,t,n){return r;function r(s){return Vr(s)?IE(e,i)(s):n(s)}function i(s){return Sfe(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return Vn(s)?rr(e,a,"whitespace")(s):a(s)}function a(s){return s===null||Qt(s)?t(s):n(s)}}const Rze={name:"hardBreakEscape",tokenize:Ize};function Ize(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return Qt(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const Pze={name:"headingAtx",resolve:Lze,tokenize:jze};function Lze(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Nl(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function jze(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),o(u)}function o(u){return e.enter("atxHeadingSequence"),a(u)}function a(u){return u===35&&r++<6?(e.consume(u),a):u===null||Vr(u)?(e.exit("atxHeadingSequence"),s(u)):n(u)}function s(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||Qt(u)?(e.exit("atxHeading"),t(u)):Vn(u)?rr(e,s,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||Vr(u)?(e.exit("atxHeadingText"),s(u)):(e.consume(u),c)}}const Bze=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lG=["pre","script","style","textarea"],$ze={concrete:!0,name:"htmlFlow",resolveTo:Uze,tokenize:zze},Hze={partial:!0,tokenize:qze},Fze={partial:!0,tokenize:Vze};function Uze(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function zze(e,t,n){const r=this;let i,o,a,s,l;return c;function c(U){return u(U)}function u(U){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(U),d}function d(U){return U===33?(e.consume(U),p):U===47?(e.consume(U),o=!0,x):U===63?(e.consume(U),i=3,r.interrupt?t:K):es(U)?(e.consume(U),a=String.fromCharCode(U),w):n(U)}function p(U){return U===45?(e.consume(U),i=2,m):U===91?(e.consume(U),i=5,s=0,v):es(U)?(e.consume(U),i=4,r.interrupt?t:K):n(U)}function m(U){return U===45?(e.consume(U),r.interrupt?t:K):n(U)}function v(U){const he="CDATA[";return U===he.charCodeAt(s++)?(e.consume(U),s===he.length?r.interrupt?t:z:v):n(U)}function x(U){return es(U)?(e.consume(U),a=String.fromCharCode(U),w):n(U)}function w(U){if(U===null||U===47||U===62||Vr(U)){const he=U===47,se=a.toLowerCase();return!he&&!o&&lG.includes(se)?(i=1,r.interrupt?t(U):z(U)):Bze.includes(a.toLowerCase())?(i=6,he?(e.consume(U),T):r.interrupt?t(U):z(U)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(U):o?k(U):N(U))}return U===45||Ea(U)?(e.consume(U),a+=String.fromCharCode(U),w):n(U)}function T(U){return U===62?(e.consume(U),r.interrupt?t:z):n(U)}function k(U){return Vn(U)?(e.consume(U),k):$(U)}function N(U){return U===47?(e.consume(U),$):U===58||U===95||es(U)?(e.consume(U),I):Vn(U)?(e.consume(U),N):$(U)}function I(U){return U===45||U===46||U===58||U===95||Ea(U)?(e.consume(U),I):O(U)}function O(U){return U===61?(e.consume(U),A):Vn(U)?(e.consume(U),O):N(U)}function A(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(e.consume(U),l=U,R):Vn(U)?(e.consume(U),A):L(U)}function R(U){return U===l?(e.consume(U),l=null,B):U===null||Qt(U)?n(U):(e.consume(U),R)}function L(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||Vr(U)?O(U):(e.consume(U),L)}function B(U){return U===47||U===62||Vn(U)?N(U):n(U)}function $(U){return U===62?(e.consume(U),q):n(U)}function q(U){return U===null||Qt(U)?z(U):Vn(U)?(e.consume(U),q):n(U)}function z(U){return U===45&&i===2?(e.consume(U),V):U===60&&i===1?(e.consume(U),ne):U===62&&i===4?(e.consume(U),Q):U===63&&i===3?(e.consume(U),K):U===93&&i===5?(e.consume(U),oe):Qt(U)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Hze,te,Y)(U)):U===null||Qt(U)?(e.exit("htmlFlowData"),Y(U)):(e.consume(U),z)}function Y(U){return e.check(Fze,W,te)(U)}function W(U){return e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),Z}function Z(U){return U===null||Qt(U)?Y(U):(e.enter("htmlFlowData"),z(U))}function V(U){return U===45?(e.consume(U),K):z(U)}function ne(U){return U===47?(e.consume(U),a="",X):z(U)}function X(U){if(U===62){const he=a.toLowerCase();return lG.includes(he)?(e.consume(U),Q):z(U)}return es(U)&&a.length<8?(e.consume(U),a+=String.fromCharCode(U),X):z(U)}function oe(U){return U===93?(e.consume(U),K):z(U)}function K(U){return U===62?(e.consume(U),Q):U===45&&i===2?(e.consume(U),K):z(U)}function Q(U){return U===null||Qt(U)?(e.exit("htmlFlowData"),te(U)):(e.consume(U),Q)}function te(U){return e.exit("htmlFlow"),t(U)}}function Vze(e,t,n){const r=this;return i;function i(a){return Qt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function qze(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(JT,t,n)}}const Wze={name:"htmlText",tokenize:Yze};function Yze(e,t,n){const r=this;let i,o,a;return s;function s(K){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(K),l}function l(K){return K===33?(e.consume(K),c):K===47?(e.consume(K),O):K===63?(e.consume(K),N):es(K)?(e.consume(K),L):n(K)}function c(K){return K===45?(e.consume(K),u):K===91?(e.consume(K),o=0,v):es(K)?(e.consume(K),k):n(K)}function u(K){return K===45?(e.consume(K),m):n(K)}function d(K){return K===null?n(K):K===45?(e.consume(K),p):Qt(K)?(a=d,ne(K)):(e.consume(K),d)}function p(K){return K===45?(e.consume(K),m):d(K)}function m(K){return K===62?V(K):K===45?p(K):d(K)}function v(K){const Q="CDATA[";return K===Q.charCodeAt(o++)?(e.consume(K),o===Q.length?x:v):n(K)}function x(K){return K===null?n(K):K===93?(e.consume(K),w):Qt(K)?(a=x,ne(K)):(e.consume(K),x)}function w(K){return K===93?(e.consume(K),T):x(K)}function T(K){return K===62?V(K):K===93?(e.consume(K),T):x(K)}function k(K){return K===null||K===62?V(K):Qt(K)?(a=k,ne(K)):(e.consume(K),k)}function N(K){return K===null?n(K):K===63?(e.consume(K),I):Qt(K)?(a=N,ne(K)):(e.consume(K),N)}function I(K){return K===62?V(K):N(K)}function O(K){return es(K)?(e.consume(K),A):n(K)}function A(K){return K===45||Ea(K)?(e.consume(K),A):R(K)}function R(K){return Qt(K)?(a=R,ne(K)):Vn(K)?(e.consume(K),R):V(K)}function L(K){return K===45||Ea(K)?(e.consume(K),L):K===47||K===62||Vr(K)?B(K):n(K)}function B(K){return K===47?(e.consume(K),V):K===58||K===95||es(K)?(e.consume(K),$):Qt(K)?(a=B,ne(K)):Vn(K)?(e.consume(K),B):V(K)}function $(K){return K===45||K===46||K===58||K===95||Ea(K)?(e.consume(K),$):q(K)}function q(K){return K===61?(e.consume(K),z):Qt(K)?(a=q,ne(K)):Vn(K)?(e.consume(K),q):B(K)}function z(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(e.consume(K),i=K,Y):Qt(K)?(a=z,ne(K)):Vn(K)?(e.consume(K),z):(e.consume(K),W)}function Y(K){return K===i?(e.consume(K),i=void 0,Z):K===null?n(K):Qt(K)?(a=Y,ne(K)):(e.consume(K),Y)}function W(K){return K===null||K===34||K===39||K===60||K===61||K===96?n(K):K===47||K===62||Vr(K)?B(K):(e.consume(K),W)}function Z(K){return K===47||K===62||Vr(K)?B(K):n(K)}function V(K){return K===62?(e.consume(K),e.exit("htmlTextData"),e.exit("htmlText"),t):n(K)}function ne(K){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(K),e.exit("lineEnding"),X}function X(K){return Vn(K)?rr(e,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):oe(K)}function oe(K){return e.enter("htmlTextData"),a(K)}}const WF={name:"labelEnd",resolveAll:Zze,resolveTo:Qze,tokenize:Jze},Gze={tokenize:eVe},Kze={tokenize:tVe},Xze={tokenize:nVe};function Zze(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Nl(e,0,e.length,n),e}function Qze(e,t){let n=e.length,r=0,i,o,a,s;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},u={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=oc(s,e.slice(o+1,o+r+3)),s=oc(s,[["enter",u,t]]),s=oc(s,lR(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),s=oc(s,[["exit",u,t],e[a-2],e[a-1],["exit",c,t]]),s=oc(s,e.slice(a+1)),s=oc(s,[["exit",l,t]]),Nl(e,o,e.length,s),e}function Jze(e,t,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(p){return o?o._inactive?d(p):(a=r.parser.defined.includes(gu(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(Gze,u,a?u:d)(p):p===91?e.attempt(Kze,u,a?c:d)(p):a?u(p):d(p)}function c(p){return e.attempt(Xze,u,d)(p)}function u(p){return t(p)}function d(p){return o._balanced=!0,n(p)}}function eVe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Vr(d)?IE(e,o)(d):o(d)}function o(d){return d===41?u(d):xfe(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Vr(d)?IE(e,l)(d):u(d)}function s(d){return n(d)}function l(d){return d===34||d===39||d===40?Sfe(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Vr(d)?IE(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function tVe(e,t,n){const r=this;return i;function i(s){return wfe.call(r,e,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(gu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function a(s){return n(s)}}function nVe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const rVe={name:"labelStartImage",resolveAll:WF.resolveAll,tokenize:iVe};function iVe(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const oVe={name:"labelStartLink",resolveAll:WF.resolveAll,tokenize:aVe};function aVe(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const YP={name:"lineEnding",tokenize:sVe};function sVe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),rr(e,t,"linePrefix")}}const oN={name:"thematicBreak",tokenize:lVe};function lVe(e,t,n){let r=0,i;return o;function o(c){return e.enter("thematicBreak"),a(c)}function a(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Qt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Vn(c)?rr(e,s,"whitespace")(c):s(c))}}const As={continuation:{tokenize:fVe},exit:pVe,name:"list",tokenize:dVe},cVe={partial:!0,tokenize:mVe},uVe={partial:!0,tokenize:hVe};function dVe(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:i8(m)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(oN,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return i8(m)&&++a<10?(e.consume(m),l):(!r.interrupt||a<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(JT,r.interrupt?n:u,e.attempt(cVe,p,d))}function u(m){return r.containerState.initialBlankLine=!0,o++,p(m)}function d(m){return Vn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function fVe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(JT,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rr(e,t,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!Vn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(uVe,t,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,rr(e,e.attempt(As,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function hVe(e,t,n){const r=this;return rr(e,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function pVe(e){e.exit(this.containerState.type)}function mVe(e,t,n){const r=this;return rr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!Vn(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const cG={name:"setextUnderline",resolveTo:gVe,tokenize:yVe};function gVe(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function yVe(e,t,n){const r=this;let i;return o;function o(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Vn(c)?rr(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Qt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const bVe={tokenize:kVe,partial:!0};function vVe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:EVe,continuation:{tokenize:CVe},exit:TVe}},text:{91:{name:"gfmFootnoteCall",tokenize:SVe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:xVe,resolveTo:wVe}}}}function xVe(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!a||!a._balanced)return n(l);const c=gu(r.sliceSerialize({start:a.end,end:r.now()}));return c.codePointAt(0)!==94||!o.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function wVe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function SVe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(o>999||d===93&&!a||d===null||d===91||Vr(d))return n(d);if(d===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(gu(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Vr(d)||(a=!0),o++,e.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(e.consume(d),o++,c):c(d)}}function EVe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,s;return l;function l(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(v)}function u(v){if(a>999||v===93&&!s||v===null||v===91||Vr(v))return n(v);if(v===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return o=gu(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Vr(v)||(s=!0),a++,e.consume(v),v===92?d:u}function d(v){return v===91||v===92||v===93?(e.consume(v),a++,u):u(v)}function p(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),i.includes(o)||i.push(o),rr(e,m,"gfmFootnoteDefinitionWhitespace")):n(v)}function m(v){return t(v)}}function CVe(e,t,n){return e.check(JT,t,e.attempt(bVe,t,n))}function TVe(e){e.exit("gfmFootnoteDefinition")}function kVe(e,t,n){const r=this;return rr(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(o):n(o)}}function _Ve(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,s){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let c=l;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[l][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[l][1].end)},d={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[l][1].start)},p=[["enter",u,s],["enter",a[c][1],s],["exit",a[c][1],s],["enter",d,s]],m=s.parser.constructs.insideSpan.null;m&&Nl(p,p.length,0,lR(m,a.slice(c+1,l),s)),Nl(p,p.length,0,[["exit",d,s],["enter",a[l][1],s],["exit",a[l][1],s],["exit",u,s]]),Nl(a,c-1,l-c+3,p),l=c+p.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,s,l){const c=this.previous,u=this.events;let d=0;return p;function p(v){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(v):(a.enter("strikethroughSequenceTemporary"),m(v))}function m(v){const x=x1(c);if(v===126)return d>1?l(v):(a.consume(v),d++,m);if(d<2&&!n)return l(v);const w=a.exit("strikethroughSequenceTemporary"),T=x1(v);return w._open=!T||T===2&&!!x,w._close=!x||x===2&&!!T,s(v)}}}class AVe{constructor(){this.map=[]}add(t,n,r){NVe(this,t,n,r)}consume(t){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function NVe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function OVe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function MVe(){return{flow:{null:{name:"table",tokenize:DVe,resolveAll:RVe}}}}function DVe(e,t,n){const r=this;let i=0,o=0,a;return s;function s($){let q=r.events.length-1;for(;q>-1;){const W=r.events[q][1].type;if(W==="lineEnding"||W==="linePrefix")q--;else break}const z=q>-1?r.events[q][1].type:null,Y=z==="tableHead"||z==="tableRow"?A:l;return Y===A&&r.parser.lazy[r.now().line]?n($):Y($)}function l($){return e.enter("tableHead"),e.enter("tableRow"),c($)}function c($){return $===124||(a=!0,o+=1),u($)}function u($){return $===null?n($):Qt($)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),m):n($):Vn($)?rr(e,u,"whitespace")($):(o+=1,a&&(a=!1,i+=1),$===124?(e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),a=!0,u):(e.enter("data"),d($)))}function d($){return $===null||$===124||Vr($)?(e.exit("data"),u($)):(e.consume($),$===92?p:d)}function p($){return $===92||$===124?(e.consume($),d):d($)}function m($){return r.interrupt=!1,r.parser.lazy[r.now().line]?n($):(e.enter("tableDelimiterRow"),a=!1,Vn($)?rr(e,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):v($))}function v($){return $===45||$===58?w($):$===124?(a=!0,e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),x):O($)}function x($){return Vn($)?rr(e,w,"whitespace")($):w($)}function w($){return $===58?(o+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume($),e.exit("tableDelimiterMarker"),T):$===45?(o+=1,T($)):$===null||Qt($)?I($):O($)}function T($){return $===45?(e.enter("tableDelimiterFiller"),k($)):O($)}function k($){return $===45?(e.consume($),k):$===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume($),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N($))}function N($){return Vn($)?rr(e,I,"whitespace")($):I($)}function I($){return $===124?v($):$===null||Qt($)?!a||i!==o?O($):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t($)):O($)}function O($){return n($)}function A($){return e.enter("tableRow"),R($)}function R($){return $===124?(e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),R):$===null||Qt($)?(e.exit("tableRow"),t($)):Vn($)?rr(e,R,"whitespace")($):(e.enter("data"),L($))}function L($){return $===null||$===124||Vr($)?(e.exit("data"),R($)):(e.consume($),$===92?B:L)}function B($){return $===92||$===124?(e.consume($),L):L($)}}function RVe(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],s=!1,l=0,c,u,d;const p=new AVe;for(;++n<e.length;){const m=e[n],v=m[1];m[0]==="enter"?v.type==="tableHead"?(s=!1,l!==0&&(uG(p,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",c,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,d=void 0,o=[0,0,0,0],a=[0,n+1,0,0],s&&(s=!1,u={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",u,t]])),i=v.type==="tableDelimiterRow"?2:u?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],d=pA(p,t,o,i,void 0,d),o=[0,0,0,0]),a[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],d=pA(p,t,o,i,void 0,d)),o=a,a=[o[1],n,0,0])):v.type==="tableHead"?(s=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,o[1]!==0?(a[0]=a[1],d=pA(p,t,o,i,n,d)):a[1]!==0&&(d=pA(p,t,a,i,n,d)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&uG(p,t,l,c,u),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=OVe(t.events,n))}return e}function pA(e,t,n,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(o.end=Object.assign({},kv(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const l=kv(t.events,n[1]);if(o={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const c=kv(t.events,n[2]),u=kv(t.events,n[3]),d={type:s,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,x=n[3]-n[2]-1;e.add(v,x,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(o.end=Object.assign({},kv(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function uG(e,t,n,r,i){const o=[],a=kv(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function kv(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const IVe={name:"tasklistCheck",tokenize:LVe};function PVe(){return{text:{91:IVe}}}function LVe(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),o)}function o(l){return Vr(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Qt(l)?t(l):Vn(l)?e.check({tokenize:jVe},t,n)(l):n(l)}}function jVe(e,t,n){return rr(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function BVe(e){return sfe([GUe(),vVe(),_Ve(e),MVe(),PVe()])}const $Ve={};function Efe(e){const t=this,n=e||$Ve,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(BVe(n)),o.push(UUe()),a.push(zUe(n))}function HVe(e){const t=this;t.compiler=n;function n(r){return CUe(r,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}function dG(e){if(e)throw e}var GP,fG;function FVe(){if(fG)return GP;fG=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},o=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var u=e.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!d)return!1;var p;for(p in c);return typeof p>"u"||e.call(c,p)},a=function(c,u){n&&u.name==="__proto__"?n(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},s=function(c,u){if(u==="__proto__")if(e.call(c,u)){if(r)return r(c,u).value}else return;return c[u]};return GP=function l(){var c,u,d,p,m,v,x=arguments[0],w=1,T=arguments.length,k=!1;for(typeof x=="boolean"&&(k=x,x=arguments[1]||{},w=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});w<T;++w)if(c=arguments[w],c!=null)for(u in c)d=s(x,u),p=s(c,u),x!==p&&(k&&p&&(o(p)||(m=i(p)))?(m?(m=!1,v=d&&i(d)?d:[]):v=d&&o(d)?d:{},a(x,{name:u,newValue:l(k,v,p)})):typeof p<"u"&&a(x,{name:u,newValue:p}));return x},GP}var UVe=FVe();const KP=vr(UVe);function l8(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zVe(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...c){const u=e[++o];let d=-1;if(l){a(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?VVe(u,s)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function VVe(e,t){let n;return r;function r(...a){const s=e.length>a.length;let l;s&&a.push(i);try{l=e.apply(this,a)}catch(c){const u=c;if(s&&n)throw u;return i(u)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,t(a,...s))}function o(a){i(null,a)}}const qVe=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),WVe={}.hasOwnProperty;class YF extends qVe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zVe()}copy(){const t=new YF;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(KP(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(QP("data",this.frozen),this.namespace[t]=n,this):WVe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(QP("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=mA(t),r=this.parser||this.Parser;return XP("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),XP("process",this.parser||this.Parser),ZP("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=mA(t),l=r.parse(s);r.run(l,s,function(u,d,p){if(u||!d||!p)return c(u);const m=d,v=r.stringify(m,p);GVe(v)?p.value=v:p.result=v,c(u,p)});function c(u,d){u||!d?a(u):o?o(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),XP("processSync",this.parser||this.Parser),ZP("processSync",this.compiler||this.Compiler),this.process(t,i),pG("processSync","process",n),r;function i(o,a){n=!0,dG(o),r=a}}run(t,n,r){hG(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=mA(n);i.run(t,l,c);function c(u,d,p){const m=d||t;u?s(u):a?a(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),pG("runSync","run",r),i;function o(a,s){dG(a),i=s,r=!0}}stringify(t,n){this.freeze();const r=mA(n),i=this.compiler||this.Compiler;return ZP("stringify",i),hG(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(QP("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=KP(!0,i.settings,c.settings))}function s(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];o(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===c){p=d;break}if(p===-1)r.push([c,...u]);else if(u.length>0){let[m,...v]=u;const x=r[p][1];l8(x)&&l8(m)&&(m=KP(!0,x,m)),r[p]=[c,m,...v]}}}}const Cfe=new YF().freeze();function XP(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ZP(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function QP(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function hG(e){if(!l8(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function pG(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function mA(e){return YVe(e)?e:new n8(e)}function YVe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function GVe(e){return typeof e=="string"||KVe(e)}function KVe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}function XVe(e,t){return Tfe(e,{})||{type:"root",children:[]}}function Tfe(e,t){const n=ZVe(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function ZVe(e,t){switch(e.nodeType){case 1:return tqe(e,t);case 3:return JVe(e);case 8:return eqe(e);case 9:return mG(e,t);case 10:return QVe();case 11:return mG(e,t);default:return}}function mG(e,t){return{type:"root",children:kfe(e,t)}}function QVe(){return{type:"doctype"}}function JVe(e){return{type:"text",value:e.nodeValue||""}}function eqe(e){return{type:"comment",value:e.nodeValue||""}}function tqe(e,t){const n=e.namespaceURI,r=n===nN.svg?Iue:Rue,i=n===nN.html?e.tagName.toLowerCase():e.tagName,o=n===nN.html&&i==="template"?e.content:e,a=e.getAttributeNames(),s={};let l=-1;for(;++l<a.length;)s[a[l]]=e.getAttribute(a[l])||"";return r(i,s,kfe(o,t))}function kfe(e,t){const n=e.childNodes,r=[];let i=-1;for(;++i<n.length;){const o=Tfe(n[i],t);o!==void 0&&r.push(o)}return r}const nqe=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else n!==void 0&&n()}},rqe=/[\uD800-\uDBFF]/,iqe=/[\uDC00-\uDFFF]/,oqe=(e,t)=>{let n=0,r=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;for(n>0&&rqe.test(e[n-1])&&n--;r+n<e.length&&r+n<t.length&&e[e.length-r-1]===t[t.length-r-1];)r++;return r>0&&iqe.test(e[e.length-r])&&r--,{index:n,remove:e.length-n-r,insert:t.slice(n,t.length-r)}},aqe=oqe,Dr=new wn("y-sync"),cc=new wn("y-undo"),sE=new wn("yjs-cursor"),kd=(e,t)=>e>>>t|e<<32-t,sqe=e=>kd(e,2)^kd(e,13)^kd(e,22),lqe=e=>kd(e,6)^kd(e,11)^kd(e,25),cqe=e=>kd(e,7)^kd(e,18)^e>>>3,uqe=e=>kd(e,17)^kd(e,19)^e>>>10,dqe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fqe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class hqe{constructor(){const t=new ArrayBuffer(320);this._H=new Uint32Array(t,0,8),this._H.set(fqe),this._W=new Uint32Array(t,64,64)}_updateHash(){const t=this._H,n=this._W;for(let d=16;d<64;d++)n[d]=uqe(n[d-2])+n[d-7]+cqe(n[d-15])+n[d-16];let r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7];for(let d=0,p,m;d<64;d++)p=u+lqe(s)+(s&l^~s&c)+dqe[d]+n[d]>>>0,m=sqe(r)+(r&i^r&o^i&o)>>>0,u=c,c=l,l=s,s=a+p>>>0,a=o,o=i,i=r,r=p+m>>>0;t[0]+=r,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=l,t[6]+=c,t[7]+=u}digest(t){let n=0;for(;n+56<=t.length;){let a=0;for(;a<16&&n+3<t.length;a++)this._W[a]=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++];if(n%64!==0){for(this._W.fill(0,a,16);n<t.length;)this._W[a]|=t[n]<<(3-n%4)*8,n++;this._W[a]|=ns<<(3-n%4)*8}this._updateHash()}const r=n%64!==0;this._W.fill(0,0,16);let i=0;for(;n<t.length;i++)for(let a=3;a>=0&&n<t.length;a--)this._W[i]|=t[n++]<<a*8;r||(this._W[i-(n%4===0?0:1)]|=ns<<(3-n%4)*8),this._W[14]=t.byteLength/Cje,this._W[15]=t.byteLength*8,this._updateHash();const o=new Uint8Array(32);for(let a=0;a<this._H.length;a++)for(let s=0;s<4;s++)o[a*4+s]=this._H[a]>>>(3-s)*8;return o}}const pqe=e=>new hqe().digest(e),mqe=e=>{for(let n=6;n<e.length;n++)e[n%6]=e[n%6]^e[n];return e.slice(0,6)},gqe=e=>C5e(mqe(pqe(k5e(e)))),AO=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&t.sv.get(e.id.client)>e.id.clock&&!cx(t.ds,e.id),yqe=[{light:"#ecd44433",dark:"#ecd444"}],bqe=(e,t,n)=>{if(!e.has(n)){if(e.size<t.length){const r=q0();e.forEach(i=>r.add(i)),t=t.filter(i=>!r.has(i))}e.set(n,r5e(t))}return e.get(n)},vqe=(e,{colors:t=yqe,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:i=()=>{},mapping:o}={})=>{let a=!1;const s=new wqe(e,o),l=new on({props:{editable:c=>{const u=Dr.getState(c);return u.snapshot==null&&u.prevSnapshot==null}},key:Dr,state:{init:(c,u)=>({type:e,doc:e.doc,binding:s,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:t,colorMapping:n,permanentUserData:r}),apply:(c,u)=>{const d=c.getMeta(Dr);if(d!==void 0){u=Object.assign({},u);for(const p in d)u[p]=d[p]}return u.addToHistory=c.getMeta("addToHistory")!==!1,u.isChangeOrigin=d!==void 0&&!!d.isChangeOrigin,u.isUndoRedoOperation=d!==void 0&&!!d.isChangeOrigin&&!!d.isUndoRedoOperation,s.prosemirrorView!==null&&d!==void 0&&(d.snapshot!=null||d.prevSnapshot!=null)&&Q9(0,()=>{s.prosemirrorView!=null&&(d.restore==null?s._renderSnapshot(d.snapshot,d.prevSnapshot,u):(s._renderSnapshot(d.snapshot,d.snapshot,u),delete u.restore,delete u.snapshot,delete u.prevSnapshot,s.mux(()=>{s._prosemirrorChanged(s.prosemirrorView.state.doc)})))}),u}},view:c=>(s.initView(c),o==null&&s._forceRerender(),i(),{update:()=>{const u=l.getState(c.state);if(u.snapshot==null&&u.prevSnapshot==null&&(a||c.state.doc.content.findDiffStart(c.state.doc.type.createAndFill().content)!==null)){if(a=!0,u.addToHistory===!1&&!u.isChangeOrigin){const d=cc.getState(c.state),p=d&&d.undoManager;p&&p.stopCapturing()}s.mux(()=>{u.doc.transact(d=>{d.meta.set("addToHistory",u.addToHistory),s._prosemirrorChanged(c.state.doc)},Dr)})}},destroy:()=>{s.destroy()}})});return l},xqe=(e,t,n)=>{if(t!==null&&t.anchor!==null&&t.head!==null)if(t.type==="all")e.setSelection(new $s(e.doc));else if(t.type==="node"){const r=C0(n.doc,n.type,t.anchor,n.mapping);e.setSelection(Rt.create(e.doc,r))}else{const r=C0(n.doc,n.type,t.anchor,n.mapping),i=C0(n.doc,n.type,t.head,n.mapping);if(r!==null&&i!==null){const o=Et.between(e.doc.resolve(r),e.doc.resolve(i));e.setSelection(o)}}},NO=(e,t)=>({type:t.selection.jsonID,anchor:AC(t.selection.anchor,e.type,e.mapping),head:AC(t.selection.head,e.type,e.mapping)});class wqe{constructor(t,n=new Map){this.type=t,this.prosemirrorView=null,this.mux=nqe(),this.mapping=n,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=t.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=NO(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(vce&&this._domSelectionInView===null&&(Q9(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const t=this.prosemirrorView._root.getSelection();if(t==null||t.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const i=n.getBoundingClientRect(),o=A5e.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||o.clientWidth||0)&&i.top<=(window.innerHeight||o.clientHeight||0)}renderSnapshot(t,n){n||(n=Bce(Ace(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Dr,{snapshot:t,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const t=this.type.toArray().map(r=>aN(r,this.prosemirrorView.state.schema,this)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(Fe.from(t),0,0));n.setMeta(Dr,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const t=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(i=>aN(i,this.prosemirrorView.state.schema,this)).filter(i=>i!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(Fe.from(n),0,0));if(t){const i=Vf(xu(t.anchor,0),r.doc.content.size),o=Vf(xu(t.head,0),r.doc.content.size);r.setSelection(Et.create(r.doc,i,o))}this.prosemirrorView.dispatch(r.setMeta(Dr,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(t,n,r){let i=this.doc,o=this.type;if(t||(t=xP(this.doc)),t instanceof Uint8Array||n instanceof Uint8Array)if((!(t instanceof Uint8Array)||!(n instanceof Uint8Array))&&Dl(),i=new Cm({gc:!1}),$N(i,n),n=xP(i),$N(i,t),t=xP(i),o._item===null){const a=Array.from(this.doc.share.keys()).find(s=>this.doc.share.get(s)===this.type);o=i.getXmlFragment(a)}else{const a=i.store.clients.get(o._item.id.client)??[],s=Sc(a,o._item.id.clock);o=a[s].content.type}this.mapping.clear(),this.mux(()=>{i.transact(a=>{const s=r.permanentUserData;s&&s.dss.forEach(d=>{mm(a,d,p=>{})});const l=(d,p)=>{const m=d==="added"?s.getUserByClientId(p.client):s.getUserByDeletedId(p);return{user:m,type:d,color:bqe(r.colorMapping,r.colors,m)}},c=Kce(o,new iF(n.ds,t.sv)).map(d=>!d._item.deleted||AO(d._item,t)||AO(d._item,n)?aN(d,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},t,n,l):null).filter(d=>d!==null),u=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(Fe.from(c),0,0));this.prosemirrorView.dispatch(u.setMeta(Dr,{isChangeOrigin:!0}))},Dr)})}_typeChanged(t,n){if(this.prosemirrorView==null)return;const r=Dr.getState(this.prosemirrorView.state);if(t.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{const i=(s,l)=>this.mapping.delete(l);mm(n,n.deleteSet,s=>{if(s.constructor===ri){const l=s.content.type;l&&this.mapping.delete(l)}}),n.changed.forEach(i),n.changedParentTypes.forEach(i);const o=this.type.toArray().map(s=>_fe(s,this.prosemirrorView.state.schema,this)).filter(s=>s!==null);let a=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(Fe.from(o),0,0));xqe(a,this.beforeTransactionSelection,this),a=a.setMeta(Dr,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof zce}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&a.scrollIntoView(),this.prosemirrorView.dispatch(a)})}_prosemirrorChanged(t){this.doc.transact(()=>{u8(this.doc,this.type,t,this),this.beforeTransactionSelection=NO(this,this.prosemirrorView.state)},Dr)}initView(t){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=t,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const _fe=(e,t,n,r,i,o)=>{const a=n.mapping.get(e);if(a===void 0){if(e instanceof Jo)return aN(e,t,n,r,i,o);throw mu()}return a},aN=(e,t,n,r,i,o)=>{const a=[],s=l=>{if(l instanceof Jo){const c=_fe(l,t,n,r,i,o);c!==null&&a.push(c)}else{const c=l._item.right?.content?.type;c instanceof gm&&!c._item.deleted&&c._item.id.client===c.doc.clientID&&(l.applyDelta([{retain:l.length},...c.toDelta()]),c.doc.transact(d=>{c._item.delete(d)}));const u=Sqe(l,t,n,r,i,o);u!==null&&u.forEach(d=>{d!==null&&a.push(d)})}};r===void 0||i===void 0?e.toArray().forEach(s):Kce(e,new iF(i.ds,r.sv)).forEach(s);try{const l=e.getAttributes(r);r!==void 0&&(AO(e._item,r)?AO(e._item,i)||(l.ychange=o?o("added",e._item.id):{type:"added"}):l.ychange=o?o("removed",e._item.id):{type:"removed"});const c=t.node(e.nodeName,l,a);return n.mapping.set(e,c),c}catch{return e.doc.transact(c=>{e._item.delete(c)},Dr),n.mapping.delete(e),null}},Sqe=(e,t,n,r,i,o)=>{const a=[],s=e.toDelta(r,i,o);try{for(let l=0;l<s.length;l++){const c=s[l];a.push(t.text(c.insert,Aqe(c.attributes,t)))}}catch{return e.doc.transact(c=>{e._item.delete(c)},Dr),null}return a},Eqe=(e,t)=>{const n=new Al,r=e.map(i=>({insert:i.text,attributes:Ofe(i.marks,t)}));return n.applyDelta(r),t.mapping.set(n,e),n},Cqe=(e,t)=>{const n=new Jo(e.type.name);for(const r in e.attrs){const i=e.attrs[r];i!==null&&r!=="ychange"&&n.setAttribute(r,i)}return n.insert(0,cR(e).map(r=>c8(r,t))),t.mapping.set(n,e),n},c8=(e,t)=>e instanceof Array?Eqe(e,t):Cqe(e,t),gG=e=>typeof e=="object"&&e!==null,GF=(e,t)=>{const n=Object.keys(e).filter(i=>e[i]!==null);let r=n.length===(t==null?0:Object.keys(t).filter(i=>t[i]!==null).length);for(let i=0;i<n.length&&r;i++){const o=n[i],a=e[o],s=t[o];r=o==="ychange"||a===s||gG(a)&&gG(s)&&GF(a,s)}return r},cR=e=>{const t=e.content.content,n=[];for(let r=0;r<t.length;r++){const i=t[r];if(i.isText){const o=[];for(let a=t[r];r<t.length&&a.isText;a=t[++r])o.push(a);r--,n.push(o)}else n.push(i)}return n},Afe=(e,t)=>{const n=e.toDelta();return n.length===t.length&&n.every((r,i)=>r.insert===t[i].text&&mce(r.attributes||{}).length===t[i].marks.length&&gce(r.attributes,(o,a)=>{const s=Nfe(a),l=t[i].marks;return GF(o,l.find(c=>c.type.name===s)?.attrs)}))},_C=(e,t)=>{if(e instanceof Jo&&!(t instanceof Array)&&d8(e,t)){const n=cR(t);return e._length===n.length&&GF(e.getAttributes(),t.attrs)&&e.toArray().every((r,i)=>_C(r,n[i]))}return e instanceof Al&&t instanceof Array&&Afe(e,t)},OO=(e,t)=>e===t||e instanceof Array&&t instanceof Array&&e.length===t.length&&e.every((n,r)=>t[r]===n),yG=(e,t,n)=>{const r=e.toArray(),i=cR(t),o=i.length,a=r.length,s=Vf(a,o);let l=0,c=0,u=!1;for(;l<s;l++){const d=r[l],p=i[l];if(OO(n.mapping.get(d),p))u=!0;else if(!_C(d,p))break}for(;l+c<s;c++){const d=r[a-c-1],p=i[o-c-1];if(OO(n.mapping.get(d),p))u=!0;else if(!_C(d,p))break}return{equalityFactor:l+c,foundMappedChild:u}},Tqe=e=>{let t="",n=e._start;const r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof wu?t+=n.content.str:n.content instanceof fo&&(r[n.content.key]=null)),n=n.right;return{str:t,nAttrs:r}},kqe=(e,t,n)=>{n.mapping.set(e,t);const{nAttrs:r,str:i}=Tqe(e),o=t.map(c=>({insert:c.text,attributes:Object.assign({},r,Ofe(c.marks,n))})),{insert:a,remove:s,index:l}=aqe(i,o.map(c=>c.insert).join(""));e.delete(l,s),e.insert(l,a),e.applyDelta(o.map(c=>({retain:c.insert.length,attributes:c.attributes})))},_qe=/(.*)(--[a-zA-Z0-9+/=]{8})$/,Nfe=e=>_qe.exec(e)?.[1]??e,Aqe=(e,t)=>{const n=[];for(const r in e)n.push(t.mark(Nfe(r),e[r]));return n},Ofe=(e,t)=>{const n={};return e.forEach(r=>{if(r.type.name!=="ychange"){const i=Hd(t.isOMark,r.type,()=>!r.type.excludes(r.type));n[i?`${r.type.name}--${gqe(r.toJSON())}`:r.type.name]=r.attrs}}),n},u8=(e,t,n,r)=>{if(t instanceof Jo&&t.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.mapping.set(t,n),t instanceof Jo){const d=t.getAttributes(),p=n.attrs;for(const m in p)p[m]!==null?d[m]!==p[m]&&m!=="ychange"&&t.setAttribute(m,p[m]):t.removeAttribute(m);for(const m in d)p[m]===void 0&&t.removeAttribute(m)}const i=cR(n),o=i.length,a=t.toArray(),s=a.length,l=Vf(o,s);let c=0,u=0;for(;c<l;c++){const d=a[c],p=i[c];if(!OO(r.mapping.get(d),p))if(_C(d,p))r.mapping.set(d,p);else break}for(;u+c<l;u++){const d=a[s-u-1],p=i[o-u-1];if(!OO(r.mapping.get(d),p))if(_C(d,p))r.mapping.set(d,p);else break}e.transact(()=>{for(;s-c-u>0&&o-c-u>0;){const p=a[c],m=i[c],v=a[s-u-1],x=i[o-u-1];if(p instanceof Al&&m instanceof Array)Afe(p,m)||kqe(p,m,r),c+=1;else{let w=p instanceof Jo&&d8(p,m),T=v instanceof Jo&&d8(v,x);if(w&&T){const k=yG(p,m,r),N=yG(v,x,r);k.foundMappedChild&&!N.foundMappedChild?T=!1:!k.foundMappedChild&&N.foundMappedChild||k.equalityFactor<N.equalityFactor?w=!1:T=!1}w?(u8(e,p,m,r),c+=1):T?(u8(e,v,x,r),u+=1):(r.mapping.delete(t.get(c)),t.delete(c,1),t.insert(c,[c8(m,r)]),c+=1)}}const d=s-c-u;if(s===1&&o===0&&a[0]instanceof Al?(r.mapping.delete(a[0]),a[0].delete(0,a[0].length)):d>0&&(t.slice(c,c+d).forEach(p=>r.mapping.delete(p)),t.delete(c,d)),c+u<o){const p=[];for(let m=c;m<o-u;m++)p.push(c8(i[m],r));t.insert(c,p)}},Dr)},d8=(e,t)=>!(t instanceof Array)&&e.nodeName===t.type.name;let PE=null;const Nqe=()=>{const e=PE;PE=null,e.forEach((t,n)=>{const r=n.state.tr,i=Dr.getState(n.state);i&&i.binding&&!i.binding.isDestroyed&&(t.forEach((o,a)=>{r.setMeta(a,o)}),n.dispatch(r))})},Oqe=(e,t,n)=>{PE||(PE=new Map,Q9(0,Nqe)),Hd(PE,e,mc).set(t,n)},AC=(e,t,n)=>{if(e===0)return vP(t,0,t.length===0?-1:0);let r=t._first===null?null:t._first.content.type;for(;r!==null&&t!==r;){if(r instanceof Al){if(r._length>=e)return vP(r,e,t.length===0?-1:0);if(e-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,e--;while(r!==t&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==t&&(r=r._item===null?null:r._item.next.content.type)}}else{const i=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&e<i)r=r._first.content.type,e--;else{if(e===1&&r._length===0&&i>1)return new vC(r._item===null?null:r._item.id,r._item===null?yC(r):null,null);if(e-=i,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(e===0)return r=r._item===null?r:r._item.parent,new vC(r._item===null?null:r._item.id,r._item===null?yC(r):null,null);do r=r._item.parent,e--;while(r!==t&&r._item.next===null);r!==t&&(r=r._item.next.content.type)}}}if(r===null)throw Dl();if(e===0&&r.constructor!==Al&&r!==t)return Mqe(r._item.parent,r._item)}return vP(t,t._length,t.length===0?-1:0)},Mqe=(e,t)=>{let n=null,r=null;return e._item===null?r=yC(e):n=vn(e._item.id.client,e._item.id.clock),new vC(n,r,t.id)},C0=(e,t,n,r)=>{const i=o6e(n,e);if(i===null||i.type!==t&&!bC(t,i.type._item))return null;let o=i.type,a=0;if(o.constructor===Al)a=i.index;else if(o._item===null||!o._item.deleted){let s=o._first,l=0;for(;l<o._length&&l<i.index&&s!==null;){if(!s.deleted){const c=s.content.type;l++,c instanceof Al?a+=c._length:a+=r.get(c).nodeSize}s=s.right}a+=1}for(;o!==t&&o._item!==null;){const s=o._item.parent;if(s._item===null||!s._item.deleted){a+=1;let l=s._first;for(;l!==null;){const c=l.content.type;if(c===o)break;l.deleted||(c instanceof Al?a+=c._length:a+=r.get(c).nodeSize),l=l.right}}o=s}return a-1},Dqe=(e,t,n)=>e!==t,Rqe=e=>{const t=document.createElement("span");t.classList.add("ProseMirror-yjs-cursor"),t.setAttribute("style",`border-color: ${e.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${e.color}`),n.insertBefore(document.createTextNode(e.name),null);const r=document.createTextNode(""),i=document.createTextNode("");return t.insertBefore(r,null),t.insertBefore(n,null),t.insertBefore(i,null),t},Mfe=e=>({style:`background-color: ${e.color}70`,class:"ProseMirror-yjs-selection"}),Iqe=/^#[0-9a-fA-F]{6}$/,bG=(e,t,n,r,i)=>{const o=Dr.getState(e),a=o.doc,s=[];return o.snapshot!=null||o.prevSnapshot!=null||o.binding.mapping.size===0?mn.create(e.doc,[]):(t.getStates().forEach((l,c)=>{if(n(a.clientID,c,l)&&l.cursor!=null){const u=l.user||{};u.color==null?u.color="#ffa500":Iqe.test(u.color)||console.warn("A user uses an unsupported color format",u),u.name==null&&(u.name=`User: ${c}`);let d=C0(a,o.type,xE(l.cursor.anchor),o.binding.mapping),p=C0(a,o.type,xE(l.cursor.head),o.binding.mapping);if(d!==null&&p!==null){const m=xu(e.doc.content.size-1,0);d=Vf(d,m),p=Vf(p,m),s.push(ir.widget(p,()=>r(u,c),{key:c+"",side:10}));const v=Vf(d,p),x=xu(d,p);s.push(ir.inline(v,x,i(u,c),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),mn.create(e.doc,s))},Pqe=(e,{awarenessStateFilter:t=Dqe,cursorBuilder:n=Rqe,selectionBuilder:r=Mfe,getSelection:i=a=>a.selection}={},o="cursor")=>new on({key:sE,state:{init(a,s){return bG(s,e,t,n,r)},apply(a,s,l,c){const u=Dr.getState(c),d=a.getMeta(sE);return u&&u.isChangeOrigin||d&&d.awarenessUpdated?bG(c,e,t,n,r):s.map(a.mapping,a.doc)}},props:{decorations:a=>sE.getState(a)},view:a=>{const s=()=>{a.docView&&Oqe(a,sE,{awarenessUpdated:!0})},l=()=>{const c=Dr.getState(a.state),u=e.getLocalState()||{};if(a.hasFocus()){const d=i(a.state),p=AC(d.anchor,c.type,c.binding.mapping),m=AC(d.head,c.type,c.binding.mapping);(u.cursor==null||!$W(xE(u.cursor.anchor),p)||!$W(xE(u.cursor.head),m))&&e.setLocalStateField(o,{anchor:p,head:m})}else u.cursor!=null&&C0(c.doc,c.type,xE(u.cursor.anchor),c.binding.mapping)!==null&&e.setLocalStateField(o,null)};return e.on("change",s),a.dom.addEventListener("focusin",l),a.dom.addEventListener("focusout",l),{update:l,destroy:()=>{a.dom.removeEventListener("focusin",l),a.dom.removeEventListener("focusout",l),e.off("change",s),e.setLocalStateField(o,null)}}}}),Lqe=e=>cc.getState(e)?.undoManager?.undo()!=null,jqe=e=>cc.getState(e)?.undoManager?.redo()!=null,Bqe=(e,t)=>t==null?cc.getState(e)?.undoManager?.canUndo():Lqe(e),$qe=(e,t)=>t==null?cc.getState(e)?.undoManager?.canRedo():jqe(e),Hqe=new Set(["paragraph"]),Fqe=(e,t)=>!(e instanceof ri)||!(e.content instanceof ku)||!(e.content.type instanceof gm||e.content.type instanceof Jo&&t.has(e.content.type.nodeName))||e.content.type._length===0,Uqe=({protectedNodes:e=Hqe,trackedOrigins:t=[],undoManager:n=null}={})=>new on({key:cc,state:{init:(r,i)=>{const o=Dr.getState(i),a=n||new zce(o.type,{trackedOrigins:new Set([Dr].concat(t)),deleteFilter:s=>Fqe(s,e),captureTransaction:s=>s.meta.get("addToHistory")!==!1});return{undoManager:a,prevSel:null,hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}},apply:(r,i,o,a)=>{const s=Dr.getState(a).binding,l=i.undoManager,c=l.undoStack.length>0,u=l.redoStack.length>0;return s?{undoManager:l,prevSel:NO(s,o),hasUndoOps:c,hasRedoOps:u}:c!==i.hasUndoOps||u!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):i}},view:r=>{const i=Dr.getState(r.state),o=cc.getState(r.state).undoManager;return o.on("stack-item-added",({stackItem:a})=>{const s=i.binding;s&&a.meta.set(s,cc.getState(r.state).prevSel)}),o.on("stack-item-popped",({stackItem:a})=>{const s=i.binding;s&&(s.beforeTransactionSelection=a.meta.get(s)||s.beforeTransactionSelection)}),{destroy:()=>{o.destroy()}}}}),f8={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},heading_4:{title:"Heading 4",subtext:"Minor subsection heading",aliases:["h4","heading4","subheading4"],group:"Subheadings"},heading_5:{title:"Heading 5",subtext:"Small subsection heading",aliases:["h5","heading5","subheading5"],group:"Subheadings"},heading_6:{title:"Heading 6",subtext:"Lowest-level heading",aliases:["h6","heading6","subheading6"],group:"Subheadings"},toggle_heading:{title:"Toggle Heading 1",subtext:"Toggleable top-level heading",aliases:["h","heading1","h1","collapsable"],group:"Subheadings"},toggle_heading_2:{title:"Toggle Heading 2",subtext:"Toggleable key section heading",aliases:["h2","heading2","subheading","collapsable"],group:"Subheadings"},toggle_heading_3:{title:"Toggle Heading 3",subtext:"Toggleable subsection and group heading",aliases:["h3","heading3","subheading","collapsable"],group:"Subheadings"},quote:{title:"Quote",subtext:"Quote or excerpt",aliases:["quotation","blockquote","bq"],group:"Basic blocks"},toggle_list:{title:"Toggle List",subtext:"List with hideable sub-items",aliases:["li","list","toggleList","toggle list","collapsable list"],group:"Basic blocks"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],group:"Basic blocks"},page_break:{title:"Page Break",subtext:"Page separator",aliases:["page","break","separator"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"},divider:{title:"Divider",subtext:"Visually divide blocks",aliases:["divider","hr","line","horizontal rule"],group:"Basic blocks"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",toggleListItem:"Toggle",bulletListItem:"List",numberedListItem:"List",checkListItem:"List",emptyDocument:void 0,new_comment:"Write a comment...",edit_comment:"Edit comment...",comment_reply:"Add comment..."},file_blocks:{add_button_text:{image:"Add image",video:"Add video",audio:"Add audio",file:"Add file"}},toggle_blocks:{add_block_button:"Empty toggle. Click to add a block."},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors",header_row_menuitem:"Header row",header_column_menuitem:"Header column"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below",split_cell_menuitem:"Split cell",merge_cells_menuitem:"Merge cells",background_color_menuitem:"Background color"},suggestion_menu:{no_items_title:"No items found"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"},table_cell_merge:{tooltip:"Merge cells"},comment:{tooltip:"Add comment"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},comments:{edited:"edited",save_button_text:"Save",cancel_button_text:"Cancel",actions:{add_reaction:"Add reaction",resolve:"Resolve",edit_comment:"Edit comment",delete_comment:"Delete comment",more_actions:"More actions"},reactions:{reacted_by:"Reacted by"},sidebar:{marked_as_resolved:"Marked as resolved",more_replies:e=>`${e} more replies`}},generic:{ctrl_shortcut:"Ctrl"}},zqe={tokenize:Vqe};function Vqe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),rr(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Qt(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),a)}}const qqe={tokenize:Wqe},vG={tokenize:Yqe};function Wqe(e){const t=this,n=[];let r=0,i,o,a;return s;function s(N){if(r<n.length){const I=n[r];return t.containerState=I[1],e.attempt(I[0].continuation,l,c)(N)}return c(N)}function l(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&k();const I=t.events.length;let O=I,A;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){A=t.events[O][1].end;break}T(r);let R=I;for(;R<t.events.length;)t.events[R][1].end={...A},R++;return Nl(t.events,O+1,0,t.events.slice(I)),t.events.length=R,c(N)}return s(N)}function c(N){if(r===n.length){if(!i)return p(N);if(i.currentConstruct&&i.currentConstruct.concrete)return v(N);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(vG,u,d)(N)}function u(N){return i&&k(),T(r),p(N)}function d(N){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,v(N)}function p(N){return t.containerState={},e.attempt(vG,m,v)(N)}function m(N){return r++,n.push([t.currentConstruct,t.containerState]),p(N)}function v(N){if(N===null){i&&k(),T(0),e.consume(N);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),x(N)}function x(N){if(N===null){w(e.exit("chunkFlow"),!0),T(0),e.consume(N);return}return Qt(N)?(e.consume(N),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(N),x)}function w(N,I){const O=t.sliceStream(N);if(I&&O.push(null),N.previous=o,o&&(o.next=N),o=N,i.defineSkip(N.start),i.write(O),t.parser.lazy[N.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<a&&(!i.events[A][1].end||i.events[A][1].end.offset>a))return;const R=t.events.length;let L=R,B,$;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){if(B){$=t.events[L][1].end;break}B=!0}for(T(r),A=R;A<t.events.length;)t.events[A][1].end={...$},A++;Nl(t.events,L+1,0,t.events.slice(R)),t.events.length=A}}function T(N){let I=n.length;for(;I-- >N;){const O=n[I];t.containerState=O[1],O[0].exit.call(t,e)}n.length=N}function k(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Yqe(e,t,n){return rr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const Gqe={tokenize:Kqe};function Kqe(e){const t=this,n=e.attempt(JT,r,e.attempt(this.parser.constructs.flowInitial,i,rr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Cze,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Xqe={resolveAll:Rfe()},Zqe=Dfe("string"),Qqe=Dfe("text");function Dfe(e){return{resolveAll:Rfe(e==="text"?Jqe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,a,s);return a;function a(u){return c(u)?o(u):s(u)}function s(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),o(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let p=-1;if(d)for(;++p<d.length;){const m=d[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Rfe(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function Jqe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(c===-2)l=!0,s++;else if(c!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const eWe={42:As,43:As,45:As,48:As,49:As,50:As,51:As,52:As,53:As,54:As,55:As,56:As,57:As,62:gfe},tWe={91:Nze},nWe={[-2]:WP,[-1]:WP,32:WP},rWe={35:Pze,42:oN,45:[cG,oN],60:$ze,61:cG,95:oN,96:sG,126:sG},iWe={38:bfe,92:yfe},oWe={[-5]:YP,[-4]:YP,[-3]:YP,33:rVe,38:bfe,42:s8,60:[oze,Wze],91:oVe,92:[Rze,yfe],93:WF,95:s8,96:bze},aWe={null:[s8,Xqe]},sWe={null:[42,95]},lWe={null:[]},cWe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:sWe,contentInitial:tWe,disable:lWe,document:eWe,flow:rWe,flowInitial:nWe,insideSpan:aWe,string:iWe,text:oWe},Symbol.toStringTag,{value:"Module"}));function uWe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:R(O),check:R(A),consume:k,enter:N,exit:I,interrupt:R(A,{interrupt:!0})},c={code:null,containerState:{},defineSkip:x,events:[],now:v,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:d};let u=t.tokenize.call(c,l);return t.resolveAll&&o.push(t),c;function d(q){return a=oc(a,q),w(),a[a.length-1]!==null?[]:(L(t,0),c.events=lR(o,c.events,c),c.events)}function p(q,z){return fWe(m(q),z)}function m(q){return dWe(a,q)}function v(){const{_bufferIndex:q,_index:z,line:Y,column:W,offset:Z}=r;return{_bufferIndex:q,_index:z,line:Y,column:W,offset:Z}}function x(q){i[q.line]=q.column,$()}function w(){let q;for(;r._index<a.length;){const z=a[r._index];if(typeof z=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<z.length;)T(z.charCodeAt(r._bufferIndex));else T(z)}}function T(q){u=u(q)}function k(q){Qt(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,$()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=q}function N(q,z){const Y=z||{};return Y.type=q,Y.start=v(),c.events.push(["enter",Y,c]),s.push(Y),Y}function I(q){const z=s.pop();return z.end=v(),c.events.push(["exit",z,c]),z}function O(q,z){L(q,z.from)}function A(q,z){z.restore()}function R(q,z){return Y;function Y(W,Z,V){let ne,X,oe,K;return Array.isArray(W)?te(W):"tokenize"in W?te([W]):Q(W);function Q(we){return ve;function ve(je){const Te=je!==null&&we[je],He=je!==null&&we.null,Ge=[...Array.isArray(Te)?Te:Te?[Te]:[],...Array.isArray(He)?He:He?[He]:[]];return te(Ge)(je)}}function te(we){return ne=we,X=0,we.length===0?V:U(we[X])}function U(we){return ve;function ve(je){return K=B(),oe=we,we.partial||(c.currentConstruct=we),we.name&&c.parser.constructs.disable.null.includes(we.name)?se():we.tokenize.call(z?Object.assign(Object.create(c),z):c,l,he,se)(je)}}function he(we){return q(oe,K),Z}function se(we){return K.restore(),++X<ne.length?U(ne[X]):V}}}function L(q,z){q.resolveAll&&!o.includes(q)&&o.push(q),q.resolve&&Nl(c.events,z,c.events.length-z,q.resolve(c.events.slice(z),c)),q.resolveTo&&(c.events=q.resolveTo(c.events,c))}function B(){const q=v(),z=c.previous,Y=c.currentConstruct,W=c.events.length,Z=Array.from(s);return{from:W,restore:V};function V(){r=q,c.previous=z,c.currentConstruct=Y,c.events.length=W,s=Z,$()}}function $(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function dWe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function fWe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function hWe(e){const r={constructs:sfe([cWe,...(e||{}).extensions||[]]),content:i(zqe),defined:[],document:i(qqe),flow:i(Gqe),lazy:{},string:i(Zqe),text:i(Qqe)};return r;function i(o){return a;function a(s){return uWe(r,o,s)}}}function pWe(e){for(;!vfe(e););return e}const xG=/[\0\t\n\r]/g;function mWe(){let e=1,t="",n=!0,r;return i;function i(o,a,s){const l=[];let c,u,d,p,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),d=0,t="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(xG.lastIndex=d,c=xG.exec(o),p=c&&c.index!==void 0?c.index:o.length,m=o.charCodeAt(p),!c){t=o.slice(d);break}if(m===10&&d===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<p&&(l.push(o.slice(d,p)),e+=p-d),m){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Ife={}.hasOwnProperty;function gWe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),yWe(n)(pWe(hWe(n).document().write(mWe()(e,t,!0))))}function yWe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(er),autolinkProtocol:B,autolinkEmail:B,atxHeading:o(It),blockQuote:o(He),characterEscape:B,characterReference:B,codeFenced:o(Ge),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(Ge,a),codeText:o(De,a),codeTextData:B,data:B,codeFlowValue:B,definition:o(Ft),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Ee),hardBreakEscape:o(sn),hardBreakTrailing:o(sn),htmlFlow:o(Yt,a),htmlFlowData:B,htmlText:o(Yt,a),htmlTextData:B,image:o(xr),label:a,link:o(er),listItem:o(xe),listItemValue:p,listOrdered:o(ue,d),listUnordered:o(ue),paragraph:o(ke),reference:U,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(It),strong:o(Je),thematicBreak:o(Qe)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:Te,autolinkProtocol:je,blockQuote:l(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:se,characterReferenceMarkerNumeric:se,characterReferenceValue:we,characterReference:ve,codeFenced:l(w),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:$,codeIndented:l(T),codeText:l(Z),codeTextData:$,data:$,definition:l(),definitionDestinationString:I,definitionLabelString:k,definitionTitleString:N,emphasis:l(),hardBreakEscape:l(z),hardBreakTrailing:l(z),htmlFlow:l(Y),htmlFlowData:$,htmlText:l(W),htmlTextData:$,image:l(ne),label:oe,labelText:X,lineEnding:q,link:l(V),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:he,resourceDestinationString:K,resourceTitleString:Q,resource:te,setextHeading:l(L),setextHeadingLineSequence:R,setextHeadingText:A,strong:l(),thematicBreak:l()}};Pfe(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Be={type:"root",children:[]};const it={stack:[Be],tokenStack:[],config:t,enter:s,exit:c,buffer:a,resume:u,data:n},At=[];let Wt=-1;for(;++Wt<ge.length;)if(ge[Wt][1].type==="listOrdered"||ge[Wt][1].type==="listUnordered")if(ge[Wt][0]==="enter")At.push(Wt);else{const Zn=At.pop();Wt=i(ge,Zn,Wt)}for(Wt=-1;++Wt<ge.length;){const Zn=t[ge[Wt][0]];Ife.call(Zn,ge[Wt][1].type)&&Zn[ge[Wt][1].type].call(Object.assign({sliceSerialize:ge[Wt][2].sliceSerialize},it),ge[Wt][1])}if(it.tokenStack.length>0){const Zn=it.tokenStack[it.tokenStack.length-1];(Zn[1]||wG).call(it,void 0,Zn[0])}for(Be.position={start:bp(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:bp(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},Wt=-1;++Wt<t.transforms.length;)Be=t.transforms[Wt](Be)||Be;return Be}function i(ge,Be,it){let At=Be-1,Wt=-1,Zn=!1,Tn,or,Yn,wr;for(;++At<=it;){const un=ge[At];switch(un[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{un[0]==="enter"?Wt++:Wt--,wr=void 0;break}case"lineEndingBlank":{un[0]==="enter"&&(Tn&&!wr&&!Wt&&!Yn&&(Yn=At),wr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wr=void 0}if(!Wt&&un[0]==="enter"&&un[1].type==="listItemPrefix"||Wt===-1&&un[0]==="exit"&&(un[1].type==="listUnordered"||un[1].type==="listOrdered")){if(Tn){let xi=At;for(or=void 0;xi--;){const Ct=ge[xi];if(Ct[1].type==="lineEnding"||Ct[1].type==="lineEndingBlank"){if(Ct[0]==="exit")continue;or&&(ge[or][1].type="lineEndingBlank",Zn=!0),Ct[1].type="lineEnding",or=xi}else if(!(Ct[1].type==="linePrefix"||Ct[1].type==="blockQuotePrefix"||Ct[1].type==="blockQuotePrefixWhitespace"||Ct[1].type==="blockQuoteMarker"||Ct[1].type==="listItemIndent"))break}Yn&&(!or||Yn<or)&&(Tn._spread=!0),Tn.end=Object.assign({},or?ge[or][1].start:un[1].end),ge.splice(or||At,0,["exit",Tn,un[2]]),At++,it++}if(un[1].type==="listItemPrefix"){const xi={type:"listItem",_spread:!1,start:Object.assign({},un[1].start),end:void 0};Tn=xi,ge.splice(At,0,["enter",xi,un[2]]),At++,it++,Yn=void 0,wr=!0}}}return ge[Be][1]._spread=Zn,it}function o(ge,Be){return it;function it(At){s.call(this,ge(At),At),Be&&Be.call(this,At)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(ge,Be,it){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Be,it||void 0]),ge.position={start:bp(Be.start),end:void 0}}function l(ge){return Be;function Be(it){ge&&ge.call(this,it),c.call(this,it)}}function c(ge,Be){const it=this.stack.pop(),At=this.tokenStack.pop();if(At)At[0].type!==ge.type&&(Be?Be.call(this,ge,At[0]):(At[1]||wG).call(this,ge,At[0]));else throw new Error("Cannot close `"+ge.type+"` ("+DE({start:ge.start,end:ge.end})+"): its not open");it.position.end=bp(ge.end)}function u(){return oR(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(ge){if(this.data.expectingFirstListItemValue){const Be=this.stack[this.stack.length-2];Be.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.lang=ge}function v(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.meta=ge}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge.replace(/(\r?\n|\r)$/g,"")}function k(ge){const Be=this.resume(),it=this.stack[this.stack.length-1];it.label=Be,it.identifier=gu(this.sliceSerialize(ge)).toLowerCase()}function N(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.title=ge}function I(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.url=ge}function O(ge){const Be=this.stack[this.stack.length-1];if(!Be.depth){const it=this.sliceSerialize(ge).length;Be.depth=it}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function R(ge){const Be=this.stack[this.stack.length-1];Be.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function B(ge){const it=this.stack[this.stack.length-1].children;let At=it[it.length-1];(!At||At.type!=="text")&&(At=Ze(),At.position={start:bp(ge.start),end:void 0},it.push(At)),this.stack.push(At)}function $(ge){const Be=this.stack.pop();Be.value+=this.sliceSerialize(ge),Be.position.end=bp(ge.end)}function q(ge){const Be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const it=Be.children[Be.children.length-1];it.position.end=bp(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Be.type)&&(B.call(this,ge),$.call(this,ge))}function z(){this.data.atHardBreak=!0}function Y(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge}function W(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge}function Z(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge}function V(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Be,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function ne(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Be,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function X(ge){const Be=this.sliceSerialize(ge),it=this.stack[this.stack.length-2];it.label=afe(Be),it.identifier=gu(Be).toLowerCase()}function oe(){const ge=this.stack[this.stack.length-1],Be=this.resume(),it=this.stack[this.stack.length-1];if(this.data.inReference=!0,it.type==="link"){const At=ge.children;it.children=At}else it.alt=Be}function K(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.url=ge}function Q(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.title=ge}function te(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function he(ge){const Be=this.resume(),it=this.stack[this.stack.length-1];it.label=Be,it.identifier=gu(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function se(ge){this.data.characterReferenceType=ge.type}function we(ge){const Be=this.sliceSerialize(ge),it=this.data.characterReferenceType;let At;it?(At=ofe(Be,it==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):At=VF(Be);const Wt=this.stack[this.stack.length-1];Wt.value+=At}function ve(ge){const Be=this.stack.pop();Be.position.end=bp(ge.end)}function je(ge){$.call(this,ge);const Be=this.stack[this.stack.length-1];Be.url=this.sliceSerialize(ge)}function Te(ge){$.call(this,ge);const Be=this.stack[this.stack.length-1];Be.url="mailto:"+this.sliceSerialize(ge)}function He(){return{type:"blockquote",children:[]}}function Ge(){return{type:"code",lang:null,meta:null,value:""}}function De(){return{type:"inlineCode",value:""}}function Ft(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ee(){return{type:"emphasis",children:[]}}function It(){return{type:"heading",depth:0,children:[]}}function sn(){return{type:"break"}}function Yt(){return{type:"html",value:""}}function xr(){return{type:"image",title:null,url:"",alt:null}}function er(){return{type:"link",title:null,url:"",children:[]}}function ue(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function xe(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function ke(){return{type:"paragraph",children:[]}}function Je(){return{type:"strong",children:[]}}function Ze(){return{type:"text",value:""}}function Qe(){return{type:"thematicBreak"}}}function bp(e){return{line:e.line,column:e.column,offset:e.offset}}function Pfe(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Pfe(e,r):bWe(e,r)}}function bWe(e,t){let n;for(n in t)if(Ife.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function wG(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+DE({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+DE({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+DE({start:t.start,end:t.end})+") is still open")}function vWe(e){const t=this;t.parser=n;function n(r){return gWe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function xWe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function wWe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function SWe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function EWe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function CWe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function TWe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=px(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function kWe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _We(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Lfe(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function AWe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Lfe(e,t);const i={src:px(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function NWe(e,t){const n={src:px(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function OWe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function MWe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Lfe(e,t);const i={href:px(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function DWe(e,t){const n={href:px(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function RWe(e,t,n){const r=e.all(t),i=n?IWe(n):jfe(t),o={},a=[];if(typeof t.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const u=r[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?a.push(...u.children):a.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,c),e.applyData(t,c)}function IWe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=jfe(n[r])}return t}function jfe(e){const t=e.spread;return t??e.children.length>1}function PWe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function LWe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jWe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function BWe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $We(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Cde(t.children[1]),l=Ede(t.children[t.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function HWe(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const d=t.children[l],p={},m=a?a[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:o,properties:p,children:[]};d&&(v.children=e.all(d),e.patch(d,v),v=e.applyData(d,v)),c.push(v)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function FWe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const SG=9,EG=32;function UWe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(CG(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(CG(t.slice(i),i>0,!1)),o.join("")}function CG(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===SG||o===EG;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===SG||o===EG;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function zWe(e,t){const n={type:"text",value:UWe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function VWe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const h8={blockquote:xWe,break:wWe,code:SWe,delete:EWe,emphasis:CWe,footnoteReference:TWe,heading:kWe,html:_We,imageReference:AWe,image:NWe,inlineCode:OWe,linkReference:MWe,link:DWe,listItem:RWe,list:PWe,paragraph:LWe,root:jWe,strong:BWe,table:$We,tableCell:FWe,tableRow:HWe,text:zWe,thematicBreak:VWe,toml:gA,yaml:gA,definition:gA,footnoteDefinition:gA};function gA(){}function qWe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function WWe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function YWe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||qWe,r=e.options.footnoteBackLabel||WWe,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),d=String(c.identifier).toUpperCase(),p=px(d.toLowerCase());let m=0;const v=[],x=e.footnoteCounts.get(d);for(;x!==void 0&&++m<=x;){v.length>0&&v.push({type:"text",value:" "});let k=typeof n=="string"?n:n(l,m);typeof k=="string"&&(k={type:"text",value:k}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const w=u[u.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const k=w.children[w.children.length-1];k&&k.type==="text"?k.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...v)}else u.push(...v);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(u,!0)};e.patch(c,T),s.push(T)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...v1(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const p8={}.hasOwnProperty,GWe={};function KWe(e,t){const n=t||GWe,r=new Map,i=new Map,o=new Map,a={...h8,...n.handlers},s={all:c,applyData:ZWe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:n,patch:XWe,wrap:JWe};return G0(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,p=String(u.identifier).toUpperCase();d.has(p)||d.set(p,u)}}),s;function l(u,d){const p=u.type,m=s.handlers[p];if(p8.call(s.handlers,p)&&m)return m(s,u,d);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in u){const{children:x,...w}=u,T=v1(w);return T.children=s.all(u),T}return v1(u)}return(s.options.unknownHandler||QWe)(s,u,d)}function c(u){const d=[];if("children"in u){const p=u.children;let m=-1;for(;++m<p.length;){const v=s.one(p[m],u);if(v){if(m&&p[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=TG(v.value)),!Array.isArray(v)&&v.type==="element")){const x=v.children[0];x&&x.type==="text"&&(x.value=TG(x.value))}Array.isArray(v)?d.push(...v):d.push(v)}}}return d}}function XWe(e,t){e.position&&(t.position=kde(e))}function ZWe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,v1(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function QWe(e,t){const n=t.data||{},r="value"in t&&!(p8.call(n,"hProperties")||p8.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function JWe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function TG(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function kG(e,t){const n=KWe(e,t),r=n.one(e,void 0),i=YWe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function eYe(e,t){return e&&"run"in e?async function(n,r){const i=kG(n,{file:r,...t});await e.run(i,r)}:function(n,r){return kG(n,{file:r,...e||t})}}const tYe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],nYe=/["&'<>`]/g,rYe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iYe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,oYe=/[|\\{}()[\]^$+*?.]/g,_G=new WeakMap;function aYe(e,t){if(e=e.replace(t.subset?sYe(t.subset):nYe,r),t.subset||t.escapeOnly)return e;return e.replace(rYe,n).replace(iYe,r);function n(i,o,a){return t.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,a.charCodeAt(o+2),t)}function r(i,o,a){return t.format(i.charCodeAt(0),a.charCodeAt(o+1),t)}}function sYe(e){let t=_G.get(e);return t||(t=lYe(e),_G.set(e,t)),t}function lYe(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(oYe,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const cYe=/[\dA-Fa-f]/;function uYe(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!cYe.test(String.fromCharCode(t))?r:r+";"}const dYe=/\d/;function fYe(e,t,n){const r="&#"+String(e);return n&&t&&!dYe.test(String.fromCharCode(t))?r:r+";"}const hYe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],JP={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},pYe=["cent","copy","divide","gt","lt","not","para","times"],Bfe={}.hasOwnProperty,m8={};let yA;for(yA in JP)Bfe.call(JP,yA)&&(m8[JP[yA]]=yA);const mYe=/[^\dA-Za-z]/;function gYe(e,t,n,r){const i=String.fromCharCode(e);if(Bfe.call(m8,i)){const o=m8[i],a="&"+o;return n&&hYe.includes(o)&&!pYe.includes(o)&&(!r||t&&t!==61&&mYe.test(String.fromCharCode(t)))?a:a+";"}return""}function yYe(e,t,n){let r=uYe(e,t,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=gYe(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const o=fYe(e,t,n.omitOptionalSemicolons);o.length<r.length&&(r=o)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function Kv(e,t){return aYe(e,Object.assign({format:yYe},t))}const bYe=/^>|^->|<!--|-->|--!>|<!-$/g,vYe=[">"],xYe=["<",">"];function wYe(e,t,n,r){return r.settings.bogusComments?"<?"+Kv(e.value,Object.assign({},r.settings.characterReferences,{subset:vYe}))+">":"<!--"+e.value.replace(bYe,i)+"-->";function i(o){return Kv(o,Object.assign({},r.settings.characterReferences,{subset:xYe}))}}function SYe(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}const ko=Hfe(1),$fe=Hfe(-1),EYe=[];function Hfe(e){return t;function t(n,r,i){const o=n?n.children:EYe;let a=(r||0)+e,s=o[a];if(!i)for(;s&&ZT(s);)a+=e,s=o[a];return s}}const CYe={}.hasOwnProperty;function Ffe(e){return t;function t(n,r,i){return CYe.call(e,n.tagName)&&e[n.tagName](n,r,i)}}const KF=Ffe({body:kYe,caption:eL,colgroup:eL,dd:OYe,dt:NYe,head:eL,html:TYe,li:AYe,optgroup:MYe,option:DYe,p:_Ye,rp:AG,rt:AG,tbody:IYe,td:NG,tfoot:PYe,th:NG,thead:RYe,tr:LYe});function eL(e,t,n){const r=ko(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&ZT(r.value.charAt(0)))}function TYe(e,t,n){const r=ko(n,t);return!r||r.type!=="comment"}function kYe(e,t,n){const r=ko(n,t);return!r||r.type!=="comment"}function _Ye(e,t,n){const r=ko(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function AYe(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&r.tagName==="li"}function NYe(e,t,n){const r=ko(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function OYe(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function AG(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function MYe(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function DYe(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function RYe(e,t,n){const r=ko(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function IYe(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function PYe(e,t,n){return!ko(n,t)}function LYe(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function NG(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const jYe=Ffe({body:HYe,colgroup:FYe,head:$Ye,html:BYe,tbody:UYe});function BYe(e){const t=ko(e,-1);return!t||t.type!=="comment"}function $Ye(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function HYe(e){const t=ko(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&ZT(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function FYe(e,t,n){const r=$fe(n,t),i=ko(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&KF(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function UYe(e,t,n){const r=$fe(n,t),i=ko(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&KF(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const bA={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function zYe(e,t,n,r){const i=r.schema,o=i.space==="svg"?!1:r.settings.omitOptionalTags;let a=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const s=[];let l;i.space==="html"&&e.tagName==="svg"&&(r.schema=GT);const c=VYe(r,e.properties),u=r.all(i.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=i,u&&(a=!1),(c||!o||!jYe(e,t,n))&&(s.push("<",e.tagName,c?" "+c:""),a&&(i.space==="svg"||r.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&s.push(" "),s.push("/")),s.push(">")),s.push(u),!a&&(!o||!KF(e,t,n))&&s.push("</"+e.tagName+">"),s.join("")}function VYe(e,t){const n=[];let r=-1,i;if(t){for(i in t)if(t[i]!==null&&t[i]!==void 0){const o=qYe(e,i,t[i]);o&&n.push(o)}}for(;++r<n.length;){const o=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&o!=='"'&&o!=="'"&&(n[r]+=" ")}return n.join("")}function qYe(e,t,n){const r=kF(e.schema,t),i=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,o=e.settings.allowDangerousCharacters?0:1;let a=e.quote,s;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=Kv(r.attribute,Object.assign({},e.settings.characterReferences,{subset:bA.name[i][o]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?r8e:o8e)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?l:(e.settings.preferUnquoted&&(s=Kv(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:bA.unquoted[i][o]}))),s!==n&&(e.settings.quoteSmart&&TO(n,a)>TO(n,e.alternative)&&(a=e.alternative),s=a+Kv(n,Object.assign({},e.settings.characterReferences,{subset:(a==="'"?bA.single:bA.double)[i][o],attribute:!0}))+a),l+(s&&"="+s))}const WYe=["<","&"];function Ufe(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:Kv(e.value,Object.assign({},r.settings.characterReferences,{subset:WYe}))}function YYe(e,t,n,r){return r.settings.allowDangerousHtml?e.value:Ufe(e,t,n,r)}function GYe(e,t,n,r){return r.all(e)}const KYe=qde("type",{invalid:XYe,unknown:ZYe,handlers:{comment:wYe,doctype:SYe,element:zYe,raw:YYe,root:GYe,text:Ufe}});function XYe(e){throw new Error("Expected node, not `"+e+"`")}function ZYe(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const QYe={},JYe={},eGe=[];function tGe(e,t){const n=t||QYe,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:nGe,all:rGe,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||tYe,characterReferences:n.characterReferences||JYe,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?GT:ZD,quote:r,alternative:i}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function nGe(e,t,n){return KYe(e,t,n,this)}function rGe(e){const t=[],n=e&&e.children||eGe;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function iGe(e){const t=this,n={...t.data("settings"),...e};t.compiler=r;function r(i){return tGe(i,n)}}var oGe=Object.defineProperty,aGe=(e,t,n)=>t in e?oGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ae=(e,t,n)=>aGe(e,typeof t!="symbol"?t+"":t,n);function sGe(e,t,n,r="before"){const i=typeof n=="string"?n:n.id,o=ho(e),a=t.map(c=>dy(c,o)),s=ls(i,e.doc);if(!s)throw new Error(`Block with ID ${i} not found`);let l=s.posBeforeNode;return r==="after"&&(l+=s.node.nodeSize),e.step(new ao(l,l,new at(Fe.from(a),0,0))),a.map(c=>ni(c,o))}function g8(e){if(!e||e.type.name!=="column")throw new Error("Invalid columnPos: does not point to column node.");const t=e.firstChild;if(!t)throw new Error("Invalid column: does not have child node.");const n=t.firstChild;if(!n)throw new Error("Invalid blockContainer: does not have child node.");return e.childCount===1&&t.childCount===1&&n.type.name==="paragraph"&&n.content.content.length===0}function lGe(e,t){const n=e.doc.resolve(t),r=n.nodeAfter;if(!r||r.type.name!=="columnList")throw new Error("Invalid columnListPos: does not point to columnList node.");for(let i=r.childCount-1;i>=0;i--){const o=e.doc.resolve(n.pos+1).posAtIndex(i),a=e.doc.resolve(o).nodeAfter;if(!a||a.type.name!=="column")throw new Error("Invalid columnPos: does not point to column node.");g8(a)&&e.delete(o,o+a.nodeSize)}}function y8(e,t){lGe(e,t);const n=e.doc.resolve(t).nodeAfter;if(!n||n.type.name!=="columnList")throw new Error("Invalid columnListPos: does not point to columnList node.");if(n.childCount>2)return;if(n.childCount<2)throw new Error("Invalid columnList: contains fewer than two children.");const r=t+1,i=e.doc.resolve(r).nodeAfter,o=t+n.nodeSize-1,a=e.doc.resolve(o).nodeBefore;if(!i||!a)throw new Error("Invalid columnList: does not contain children.");const s=g8(i),l=g8(a);if(s&&l){e.delete(t,t+n.nodeSize);return}if(s){e.step(new Ki(t,t+n.nodeSize,o-a.nodeSize+1,o-1,at.empty,0,!1));return}if(l){e.step(new Ki(t,t+n.nodeSize,r+1,r+i.nodeSize-1,at.empty,0,!1));return}}function OG(e,t,n){const r=ho(e),i=n.map(u=>dy(u,r)),o=new Set(t.map(u=>typeof u=="string"?u:u.id)),a=[],s=new Set,l=typeof t[0]=="string"?t[0]:t[0].id;let c=0;if(e.doc.descendants((u,d)=>{if(o.size===0)return!1;if(!u.type.isInGroup("bnBlock")||!o.has(u.attrs.id))return!0;if(a.push(ni(u,r)),o.delete(u.attrs.id),n.length>0&&u.attrs.id===l){const x=e.doc.nodeSize;e.insert(d,i);const w=e.doc.nodeSize;c+=x-w}const p=e.doc.nodeSize,m=e.doc.resolve(d-c);m.node().type.name==="column"?s.add(m.before(-1)):m.node().type.name==="columnList"&&s.add(m.before()),m.node().type.name==="blockGroup"&&m.node(m.depth-1).type.name!=="doc"&&m.node().childCount===1?e.delete(m.before(),m.after()):e.delete(d-c,d-c+u.nodeSize);const v=e.doc.nodeSize;return c+=p-v,!1}),o.size>0){const u=[...o].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+u)}return s.forEach(u=>y8(e,u)),{insertedBlocks:i.map(u=>ni(u,r)),removedBlocks:a}}function zfe(e){const t=Array.from(e.classList).filter(n=>!n.startsWith("bn-"))||[];t.length>0?e.className=t.join(" "):e.removeAttribute("class")}function Vfe(e,t,n,r){var i;let o;if(t)if(typeof t=="string")o=vu([t],e.pmSchema);else if(Array.isArray(t))o=vu(t,e.pmSchema);else if(t.type==="tableContent")o=jD(t,e.pmSchema);else throw new Rd(t.type);else throw new Error("blockContent is required");const a=(r?.document??document).createDocumentFragment();for(const s of o)if(s.type.name!=="text"&&e.schema.inlineContentSchema[s.type.name]){const l=e.schema.inlineContentSpecs[s.type.name].implementation;if(l){const c=P9(s,e.schema.inlineContentSchema,e.schema.styleSchema),u=l.toExternalHTML?l.toExternalHTML(c,e):l.render.call({renderType:"dom",props:void 0},c,()=>{},e);if(u){if(a.appendChild(u.dom),u.contentDOM){const d=n.serializeFragment(s.content,r);u.contentDOM.dataset.editable="",u.contentDOM.appendChild(d)}continue}}}else if(s.type.name==="text"){let l=document.createTextNode(s.textContent);for(const c of s.marks.toReversed())if(c.type.name in e.schema.styleSpecs){const u=(e.schema.styleSpecs[c.type.name].implementation.toExternalHTML??e.schema.styleSpecs[c.type.name].implementation.render)(c.attrs.stringValue,e);u.contentDOM.appendChild(l),l=u.dom}else{const u=c.type.spec.toDOM(c,!0),d=Ol.renderSpec(document,u);d.contentDOM.appendChild(l),l=d.dom}a.appendChild(l)}else{const l=n.serializeFragment(Fe.from([s]),r);a.appendChild(l)}return a.childNodes.length===1&&((i=a.firstChild)==null?void 0:i.nodeType)===1&&zfe(a.firstChild),a}function cGe(e,t,n,r,i,o,a){var s,l,c,u,d,p,m,v,x;const w=a?.document??document,T=t.pmSchema.nodes.blockContainer,k=n.props||{};for(const[B,$]of Object.entries(t.schema.blockSchema[n.type].propSchema))!(B in k)&&$.default!==void 0&&(k[B]=$.default);const N=(l=(s=T.spec)==null?void 0:s.toDOM)==null?void 0:l.call(s,T.create({id:n.id,...k})),I=Array.from(N.dom.attributes),O=t.blockImplementations[n.type].implementation,A=((c=O.toExternalHTML)==null?void 0:c.call({},{...n,props:k},t))||O.render.call({},{...n,props:k},t),R=w.createDocumentFragment();if(A.dom.classList.contains("bn-block-content")){const B=[...I,...Array.from(A.dom.attributes)].filter($=>$.name.startsWith("data")&&$.name!=="data-content-type"&&$.name!=="data-file-block"&&$.name!=="data-node-view-wrapper"&&$.name!=="data-node-type"&&$.name!=="data-id"&&$.name!=="data-editable");for(const $ of B)A.dom.firstChild.setAttribute($.name,$.value);zfe(A.dom.firstChild),R.append(...Array.from(A.dom.childNodes))}else R.append(A.dom);if(A.contentDOM&&n.content){const B=Vfe(t,n.content,r,a);A.contentDOM.appendChild(B)}let L;if(i.has(n.type)?L="OL":o.has(n.type)&&(L="UL"),L){if(((u=e.lastChild)==null?void 0:u.nodeName)!==L){const B=w.createElement(L);L==="OL"&&"start"in k&&k.start&&k?.start!==1&&B.setAttribute("start",k.start+""),e.append(B)}e.lastChild.appendChild(R)}else e.append(R);if(n.children&&n.children.length>0){const B=w.createDocumentFragment();if(qfe(B,t,n.children,r,i,o,a),((d=e.lastChild)==null?void 0:d.nodeName)==="UL"||((p=e.lastChild)==null?void 0:p.nodeName)==="OL")for(;((m=B.firstChild)==null?void 0:m.nodeName)==="UL"||((v=B.firstChild)==null?void 0:v.nodeName)==="OL";)e.lastChild.lastChild.appendChild(B.firstChild);t.pmSchema.nodes[n.type].isInGroup("blockContent")?e.append(B):(x=A.contentDOM)==null||x.append(B)}}const qfe=(e,t,n,r,i,o,a)=>{for(const s of n)cGe(e,t,s,r,i,o,a)},uGe=(e,t,n,r,i,o)=>{const a=(o?.document??document).createDocumentFragment();return qfe(a,e,t,n,r,i,o),a},uR=(e,t)=>{const n=Ol.fromSchema(e);return{exportBlocks:(r,i)=>{const o=uGe(t,r,n,new Set(["numberedListItem"]),new Set(["bulletListItem","checkListItem","toggleListItem"]),i),a=document.createElement("div");return a.append(o),a.innerHTML},exportInlineContent:(r,i)=>{const o=Vfe(t,r,n,i),a=document.createElement("div");return a.append(o.cloneNode(!0)),a.innerHTML}}};function dGe(e,t,n,r,i){let o;if(t)if(typeof t=="string")o=vu([t],e.pmSchema,r);else if(Array.isArray(t))o=vu(t,e.pmSchema,r);else if(t.type==="tableContent")o=jD(t,e.pmSchema);else throw new Rd(t.type);else throw new Error("blockContent is required");const a=(i?.document??document).createDocumentFragment();for(const s of o)if(s.type.name!=="text"&&e.schema.inlineContentSchema[s.type.name]){const l=e.schema.inlineContentSpecs[s.type.name].implementation;if(l){const c=P9(s,e.schema.inlineContentSchema,e.schema.styleSchema),u=l.render.call({renderType:"dom",props:void 0},c,()=>{},e);if(u){if(a.appendChild(u.dom),u.contentDOM){const d=n.serializeFragment(s.content,i);u.contentDOM.dataset.editable="",u.contentDOM.appendChild(d)}continue}}}else if(s.type.name==="text"){let l=document.createTextNode(s.textContent);for(const c of s.marks.toReversed())if(c.type.name in e.schema.styleSpecs){const u=e.schema.styleSpecs[c.type.name].implementation.render(c.attrs.stringValue,e);u.contentDOM.appendChild(l),l=u.dom}else{const u=c.type.spec.toDOM(c,!0),d=Ol.renderSpec(document,u);d.contentDOM.appendChild(l),l=d.dom}a.appendChild(l)}else{const l=n.serializeFragment(Fe.from([s]),i);a.appendChild(l)}return a}function fGe(e,t,n,r){var i,o,a,s,l;const c=e.pmSchema.nodes.blockContainer,u=t.props||{};for(const[v,x]of Object.entries(e.schema.blockSchema[t.type].propSchema))!(v in u)&&x.default!==void 0&&(u[v]=x.default);const d=t.children||[],p=e.blockImplementations[t.type].implementation.render.call({renderType:"dom",props:void 0},{...t,props:u,children:d},e);if(p.contentDOM&&t.content){const v=dGe(e,t.content,n,t.type,r);p.contentDOM.appendChild(v)}if(e.pmSchema.nodes[t.type].isInGroup("bnBlock")){if(t.children&&t.children.length>0){const v=Wfe(e,t.children,n,r);(i=p.contentDOM)==null||i.append(v)}return p.dom}const m=(a=(o=c.spec)==null?void 0:o.toDOM)==null?void 0:a.call(o,c.create({id:t.id,...u}));return(s=m.contentDOM)==null||s.appendChild(p.dom),t.children&&t.children.length>0&&((l=m.contentDOM)==null||l.appendChild(Yfe(e,t.children,n,r))),m.dom}function Wfe(e,t,n,r){const i=(r?.document??document).createDocumentFragment();for(const o of t){const a=fGe(e,o,n,r);i.appendChild(a)}return i}const Yfe=(e,t,n,r)=>{var i;const o=e.pmSchema.nodes.blockGroup,a=o.spec.toDOM(o.create({})),s=Wfe(e,t,n,r);return(i=a.contentDOM)==null||i.appendChild(s),a.dom},hGe=(e,t)=>{const n=Ol.fromSchema(e);return{serializeBlocks:(r,i)=>Yfe(t,r,n,i).outerHTML}};function pGe(e,t){if(t===0)return;const n=e.resolve(t);for(let r=n.depth;r>0;r--){const i=n.node(r);if(F9(i))return i.attrs.id}}function mGe(e){return e.getMeta("paste")?{type:"paste"}:e.getMeta("uiEvent")==="drop"?{type:"drop"}:e.getMeta("history$")?{type:e.getMeta("history$").redo?"redo":"undo"}:e.getMeta("y-sync$")?e.getMeta("y-sync$").isUndoRedoOperation?{type:"undo-redo"}:{type:"yjs-remote"}:{type:"local"}}function MG(e){const t="__root__",n={},r={},i=ho(e);return e.descendants((o,a)=>{if(!F9(o))return!0;const s=pGe(e,a),l=s??t;r[l]||(r[l]=[]);const c=ni(o,i);return n[o.attrs.id]={block:c,parentId:s},r[l].push(o.attrs.id),!0}),{byId:n,childrenByParent:r}}function gGe(e,t){const n=new Set;if(!e||!t)return n;const r=new Set(e),i=t.filter(x=>r.has(x)),o=e.filter(x=>i.includes(x));if(o.length<=1||i.length<=1)return n;const a={};for(let x=0;x<o.length;x++)a[o[x]]=x;const s=i.map(x=>a[x]),l=s.length,c=[],u=[],d=new Array(l).fill(-1),p=(x,w)=>{let T=0,k=x.length;for(;T<k;){const N=T+k>>>1;x[N]<w?T=N+1:k=N}return T};for(let x=0;x<l;x++){const w=s[x],T=p(c,w);T>0&&(d[x]=u[T-1]),T===c.length?(c.push(w),u.push(x)):(c[T]=w,u[T]=x)}const m=new Set;let v=u[u.length-1]??-1;for(;v!==-1;)m.add(v),v=d[v];for(let x=0;x<i.length;x++)m.has(x)||n.add(i[x]);return n}function Gfe(e,t=[]){const n=mGe(e),r=MD(e.before,[e,...t]),i=MG(r.before),o=MG(r.doc),a=[],s=new Set;Object.keys(o.byId).filter(m=>!(m in i.byId)).forEach(m=>{a.push({type:"insert",block:o.byId[m].block,source:n,prevBlock:void 0}),s.add(m)}),Object.keys(i.byId).filter(m=>!(m in o.byId)).forEach(m=>{a.push({type:"delete",block:i.byId[m].block,source:n,prevBlock:void 0}),s.add(m)}),Object.keys(o.byId).filter(m=>m in i.byId).forEach(m=>{var v,x;const w=i.byId[m],T=o.byId[m];w.parentId!==T.parentId?(a.push({type:"move",block:T.block,prevBlock:w.block,source:n,prevParent:w.parentId?(v=i.byId[w.parentId])==null?void 0:v.block:void 0,currentParent:T.parentId?(x=o.byId[T.parentId])==null?void 0:x.block:void 0}),s.add(m)):bje({...w.block,children:void 0},{...T.block,children:void 0})||(a.push({type:"update",block:T.block,prevBlock:w.block,source:n}),s.add(m))});const l=i.childrenByParent,c=o.childrenByParent,u="__root__",d=new Set([...Object.keys(l),...Object.keys(c)]),p=new Set;return d.forEach(m=>{const v=gGe(l[m],c[m]);v.size!==0&&v.forEach(x=>{var w,T;const k=i.byId[x],N=o.byId[x];!k||!N||k.parentId!==N.parentId||s.has(x)||(k.parentId??u)!==m||p.has(x)||(p.add(x),a.push({type:"move",block:N.block,prevBlock:k.block,source:n,prevParent:k.parentId?(w=i.byId[k.parentId])==null?void 0:w.block:void 0,currentParent:N.parentId?(T=o.byId[N.parentId])==null?void 0:T.block:void 0}),s.add(x))})}),a}const XF=["vscode-editor-data","blocknote/html","text/markdown","text/html","text/plain","Files"];function yGe(e,t){if(!e.startsWith(".")||!t.startsWith("."))throw new Error("The strings provided are not valid file extensions.");return e===t}function bGe(e,t){const n=e.split("/"),r=t.split("/");if(n.length!==2)throw new Error(`The string ${e} is not a valid MIME type.`);if(r.length!==2)throw new Error(`The string ${t} is not a valid MIME type.`);return n[1]==="*"||r[1]==="*"?n[0]===r[0]:(n[0]==="*"||r[0]==="*"||n[0]===r[0])&&n[1]===r[1]}function DG(e,t,n,r="after"){let i;return Array.isArray(t.content)&&t.content.length===0?i=e.updateBlock(t,n).id:i=e.insertBlocks([n],t,r)[0].id,i}async function Kfe(e,t){var n;if(!t.uploadFile){console.warn("Attempted ot insert file, but uploadFile is not set in the BlockNote editor options");return}const r="dataTransfer"in e?e.dataTransfer:e.clipboardData;if(r===null)return;let i=null;for(const a of XF)if(r.types.includes(a)){i=a;break}if(i!=="Files")return;const o=r.items;if(o){e.preventDefault();for(let a=0;a<o.length;a++){let s="file";for(const c of Object.values(t.schema.blockSpecs))for(const u of((n=c.implementation.meta)==null?void 0:n.fileBlockAccept)||[]){const d=u.startsWith("."),p=o[a].getAsFile();if(p&&(!d&&p.type&&bGe(o[a].type,u)||d&&yGe("."+p.name.split(".").pop(),u))){s=c.config.type;break}}const l=o[a].getAsFile();if(l){const c={type:s,props:{name:l.name}};let u;if(e.type==="paste"){const m=t.getTextCursorPosition().block;u=DG(t,m,c)}else if(e.type==="drop"){const m={left:e.clientX,top:e.clientY},v=t.prosemirrorView.posAtCoords(m);if(!v)return;u=t.transact(x=>{const w=eh(x.doc,v.pos),T=t.prosemirrorView.dom.querySelector(`[data-id="${w.node.attrs.id}"]`),k=T?.getBoundingClientRect();return DG(t,t.getBlock(w.node.attrs.id),c,k&&(k.top+k.bottom)/2>m.top?"before":"after")})}else return;const d=await t.uploadFile(l,u),p=typeof d=="string"?{props:{url:d}}:{...d};t.updateBlock(u,p)}}}}const vGe=e=>ur.create({name:"dropFile",addProseMirrorPlugins(){return[new on({props:{handleDOMEvents:{drop(t,n){if(!e.isEditable)return;let r=null;for(const i of XF)if(n.dataTransfer.types.includes(i)){r=i;break}return r===null?!0:r==="Files"?(Kfe(n,e),!0):!1}}}})]}}),xGe=/(^|\n) {0,3}#{1,6} {1,8}[^\n]{1,64}\r?\n\r?\n\s{0,32}\S/,wGe=/(_|__|\*|\*\*|~~|==|\+\+)(?!\s)(?:[^\s](?:.{0,62}[^\s])?|\S)(?=\1)/,SGe=/\[[^\]]{1,128}\]\(https?:\/\/\S{1,999}\)/,EGe=/(?:\s|^)`(?!\s)(?:[^\s`](?:[^`]{0,46}[^\s`])?|[^\s`])`([^\w]|$)/,CGe=/(?:^|\n)\s{0,5}-\s{1}[^\n]+\n\s{0,15}-\s/,TGe=/(?:^|\n)\s{0,5}\d+\.\s{1}[^\n]+\n\s{0,15}\d+\.\s/,kGe=/\n{2} {0,3}-{2,48}\n{2}/,_Ge=/(?:\n|^)(```|~~~|\$\$)(?!`|~)[^\s]{0,64} {0,64}[^\n]{0,64}\n[\s\S]{0,9999}?\s*\1 {0,64}(?:\n+|$)/,AGe=/(?:\n|^)(?!\s)\w[^\n]{0,64}\r?\n(-|=)\1{0,64}\n\n\s{0,64}(\w|$)/,NGe=/(?:^|(\r?\n\r?\n))( {0,3}>[^\n]{1,333}\n){1,999}($|(\r?\n))/,OGe=/^\s*\|(.+\|)+\s*$/m,MGe=/^\s*\|(\s*[-:]+[-:]\s*\|)+\s*$/m,DGe=/^\s*\|(.+\|)+\s*$/m,RGe=e=>xGe.test(e)||wGe.test(e)||SGe.test(e)||EGe.test(e)||CGe.test(e)||TGe.test(e)||kGe.test(e)||_Ge.test(e)||AGe.test(e)||NGe.test(e)||OGe.test(e)||MGe.test(e)||DGe.test(e);async function IGe(e,t){const{schema:n}=t.state;if(!e.clipboardData)return!1;const r=e.clipboardData.getData("text/plain");if(!r)return!1;if(!n.nodes.codeBlock)return t.pasteText(r),!0;const i=e.clipboardData.getData("vscode-editor-data"),o=i?JSON.parse(i):void 0,a=o?.mode;return a?(t.pasteHTML(`<pre><code class="language-${a}">${r.replace(/\r\n?/g,`
`)}</code></pre>`),!0):!1}function PGe({event:e,editor:t,prioritizeMarkdownOverHTML:n,plainTextAsMarkdown:r}){var i;if(t.transact(s=>s.selection.$from.parent.type.spec.code&&s.selection.$to.parent.type.spec.code)){const s=(i=e.clipboardData)==null?void 0:i.getData("text/plain");if(s)return t.pasteText(s),!0}let o;for(const s of XF)if(e.clipboardData.types.includes(s)){o=s;break}if(!o)return!0;if(o==="vscode-editor-data")return IGe(e,t.prosemirrorView),!0;if(o==="Files")return Kfe(e,t),!0;const a=e.clipboardData.getData(o);if(o==="blocknote/html")return t.pasteHTML(a,!0),!0;if(o==="text/markdown")return t.pasteMarkdown(a),!0;if(n){const s=e.clipboardData.getData("text/plain");if(RGe(s))return t.pasteMarkdown(s),!0}return o==="text/html"?(t.pasteHTML(a),!0):r?(t.pasteMarkdown(a),!0):(t.pasteText(a),!0)}const LGe=(e,t)=>ur.create({name:"pasteFromClipboard",addProseMirrorPlugins(){return[new on({props:{handleDOMEvents:{paste(n,r){if(r.preventDefault(),!!e.isEditable)return t({event:r,editor:e,defaultPasteHandler:({prioritizeMarkdownOverHTML:i=!0,plainTextAsMarkdown:o=!0}={})=>PGe({event:r,editor:e,prioritizeMarkdownOverHTML:i,plainTextAsMarkdown:o})})}}}})]}});function jGe(){const e=t=>{let n=t.children.length;for(let r=0;r<n;r++){const i=t.children[r];if(i.type==="element"&&(e(i),i.tagName==="u"))if(i.children.length>0){t.children.splice(r,1,...i.children);const o=i.children.length-1;n+=o,r+=o}else t.children.splice(r,1),n--,r--}};return e}function BGe(){const e=t=>{var n;if(t.children&&"length"in t.children&&t.children.length)for(let r=t.children.length-1;r>=0;r--){const i=t.children[r],o=r+1<t.children.length?t.children[r+1]:void 0;i.type==="element"&&i.tagName==="input"&&((n=i.properties)==null?void 0:n.type)==="checkbox"&&o?.type==="element"&&o.tagName==="p"?(o.tagName="span",o.children.splice(0,0,XVe(document.createTextNode(" ")))):e(i)}};return e}function $Ge(){return e=>{G0(e,"element",(t,n,r)=>{var i,o,a,s;if(r&&t.tagName==="video"){const l=((i=t.properties)==null?void 0:i.src)||((o=t.properties)==null?void 0:o["data-url"])||"",c=((a=t.properties)==null?void 0:a.title)||((s=t.properties)==null?void 0:s["data-name"])||"";r.children[n]={type:"text",value:`![${c}](${l})`}}})}}function ZF(e){return Cfe().use(m9e,{fragment:!0}).use($Ge).use(jGe).use(BGe).use(qFe).use(Efe).use(HVe,{handlers:{text:t=>t.value}}).processSync(e).value}function HGe(e,t,n,r){const i=uR(t,n).exportBlocks(e,r);return ZF(i)}function Xfe(e){const t=[];return e.descendants(n=>{var r,i;const o=ho(n);return n.type.name==="blockContainer"&&((r=n.firstChild)==null?void 0:r.type.name)==="blockGroup"?!0:n.type.name==="columnList"&&n.childCount===1?((i=n.firstChild)==null||i.forEach(a=>{t.push(ni(a,o))}),!1):n.type.isInGroup("bnBlock")?(t.push(ni(n,o)),!1):!0}),t}function FGe(e,t,n){var r;let i=!1;const o=e.state.selection instanceof Rr;if(!o){const l=e.state.doc.slice(e.state.selection.from,e.state.selection.to,!1).content,c=[];for(let u=0;u<l.childCount;u++)c.push(l.child(u));i=c.find(u=>u.type.isInGroup("bnBlock")||u.type.name==="blockGroup"||u.type.spec.group==="blockContent")===void 0,i&&(t=l)}let a;const s=uR(e.state.schema,n);if(o){((r=t.firstChild)==null?void 0:r.type.name)==="table"&&(t=t.firstChild.content);const l=Nle(t,n.schema.inlineContentSchema,n.schema.styleSchema);a=`<table>${s.exportInlineContent(l,{})}</table>`}else if(i){const l=LD(t,n.schema.inlineContentSchema,n.schema.styleSchema);a=s.exportInlineContent(l,{})}else{const l=Xfe(t);a=s.exportBlocks(l,{})}return a}function Zfe(e,t){"node"in e.state.selection&&e.state.selection.node.type.spec.group==="blockContent"&&t.transact(a=>a.setSelection(new Rt(a.doc.resolve(e.state.selection.from-1))));const n=e.serializeForClipboard(e.state.selection.content()).dom.innerHTML,r=e.state.selection.content().content,i=FGe(e,r,t),o=ZF(i);return{clipboardHTML:n,externalHTML:i,markdown:o}}const RG=()=>{const e=window.getSelection();if(!e||e.isCollapsed)return!0;let t=e.focusNode;for(;t;){if(t instanceof HTMLElement&&t.getAttribute("contenteditable")==="false")return!0;t=t.parentElement}return!1},IG=(e,t,n)=>{n.preventDefault(),n.clipboardData.clearData();const{clipboardHTML:r,externalHTML:i,markdown:o}=Zfe(t,e);n.clipboardData.setData("blocknote/html",r),n.clipboardData.setData("text/html",i),n.clipboardData.setData("text/plain",o)},UGe=e=>ur.create({name:"copyToClipboard",addProseMirrorPlugins(){return[new on({props:{handleDOMEvents:{copy(t,n){return RG()||IG(e,t,n),!0},cut(t,n){return RG()||(IG(e,t,n),t.editable&&t.dispatch(t.state.tr.deleteSelection())),!0},dragstart(t,n){if(!("node"in t.state.selection)||t.state.selection.node.type.spec.group!=="blockContent")return;e.transact(a=>a.setSelection(new Rt(a.doc.resolve(t.state.selection.from-1)))),n.preventDefault(),n.dataTransfer.clearData();const{clipboardHTML:r,externalHTML:i,markdown:o}=Zfe(t,e);return n.dataTransfer.setData("blocknote/html",r),n.dataTransfer.setData("text/html",i),n.dataTransfer.setData("text/plain",o),!0}}}})]}}),zGe=ur.create({name:"blockBackgroundColor",addGlobalAttributes(){return[{types:["tableCell","tableHeader"],attributes:{backgroundColor:u4e()}}]}});let VGe=class extends uo{constructor(){super(),Ae(this,"beforeChangeCallbacks",[]),this.addProsemirrorPlugin(new on({key:new wn("blockChange"),filterTransaction:t=>{let n;return this.beforeChangeCallbacks.reduce((r,i)=>r===!1?r:i({getChanges(){return n||(n=Gfe(t),n)},tr:t})!==!1,!0)}}))}static key(){return"blockChange"}subscribe(t){return this.beforeChangeCallbacks.push(t),()=>{this.beforeChangeCallbacks=this.beforeChangeCallbacks.filter(n=>n!==t)}}};const sN=class Qfe extends uo{constructor(t){super(),Ae(this,"provider"),Ae(this,"recentlyUpdatedCursors"),Ae(this,"renderCursor",(n,r)=>{let i=this.recentlyUpdatedCursors.get(r);if(!i){const o=(this.collaboration.renderCursor??Qfe.defaultCursorRender)(n);this.collaboration.showCursorLabels!=="always"&&(o.addEventListener("mouseenter",()=>{const a=this.recentlyUpdatedCursors.get(r);a.element.setAttribute("data-active",""),a.hideTimeout&&(clearTimeout(a.hideTimeout),this.recentlyUpdatedCursors.set(r,{element:a.element,hideTimeout:void 0}))}),o.addEventListener("mouseleave",()=>{const a=this.recentlyUpdatedCursors.get(r);this.recentlyUpdatedCursors.set(r,{element:a.element,hideTimeout:setTimeout(()=>{a.element.removeAttribute("data-active")},2e3)})})),i={element:o,hideTimeout:void 0},this.recentlyUpdatedCursors.set(r,i)}return i.element}),Ae(this,"updateUser",n=>{this.provider.awareness.setLocalStateField("user",n)}),this.collaboration=t,this.provider=t.provider,this.recentlyUpdatedCursors=new Map,this.provider.awareness.setLocalStateField("user",t.user),t.showCursorLabels!=="always"&&this.provider.awareness.on("change",({updated:n})=>{for(const r of n){const i=this.recentlyUpdatedCursors.get(r);i&&(i.element.setAttribute("data-active",""),i.hideTimeout&&clearTimeout(i.hideTimeout),this.recentlyUpdatedCursors.set(r,{element:i.element,hideTimeout:setTimeout(()=>{i.element.removeAttribute("data-active")},2e3)}))}}),this.addProsemirrorPlugin(Pqe(this.provider.awareness,{selectionBuilder:Mfe,cursorBuilder:this.renderCursor}))}static key(){return"yCursorPlugin"}get priority(){return 999}static isDarkColor(t){const n=t.charAt(0)==="#"?t.substring(1,7):t,r=parseInt(n.substring(0,2),16),i=parseInt(n.substring(2,4),16),o=parseInt(n.substring(4,6),16),a=[r/255,i/255,o/255].map(s=>s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4));return .2126*a[0]+.7152*a[1]+.0722*a[2]<=.179}};Ae(sN,"defaultCursorRender",e=>{const t=document.createElement("span");t.classList.add("bn-collaboration-cursor__base");const n=document.createElement("span");n.setAttribute("contentedEditable","false"),n.classList.add("bn-collaboration-cursor__caret"),n.setAttribute("style",`background-color: ${e.color}; color: ${sN.isDarkColor(e.color)?"white":"black"}`);const r=document.createElement("span");return r.classList.add("bn-collaboration-cursor__label"),r.setAttribute("style",`background-color: ${e.color}; color: ${sN.isDarkColor(e.color)?"white":"black"}`),r.insertBefore(document.createTextNode(e.name),null),n.insertBefore(r,null),t.insertBefore(document.createTextNode(""),null),t.insertBefore(n,null),t.insertBefore(document.createTextNode(""),null),t});let QF=sN,MO=class extends uo{static key(){return"ySyncPlugin"}constructor(t){super(),this.addProsemirrorPlugin(vqe(t))}get priority(){return 1001}},DO=class extends uo{static key(){return"yUndoPlugin"}constructor({editor:t}){super(),this.addProsemirrorPlugin(Uqe({trackedOrigins:[t]}))}get priority(){return 1e3}},Jfe=class extends uo{constructor({editor:t,collaboration:n}){super(t),Ae(this,"editor"),Ae(this,"collaboration"),Ae(this,"forkedState"),this.editor=t,this.collaboration=n}static key(){return"ForkYDocPlugin"}findTypeInOtherYdoc(t,n){const r=t.doc;if(t._item===null){const i=Array.from(r.share.keys()).find(o=>r.share.get(o)===t);if(i==null)throw new Error("type does not exist in other ydoc");return n.get(i,t.constructor)}else{const i=t._item,o=n.store.clients.get(i.id.client)??[],a=Sc(o,i.id.clock);return o[a].content.type}}get isForkedFromRemote(){return this.forkedState!==void 0}fork(){var t;if(this.isForkedFromRemote)return;const n=(t=this.collaboration)==null?void 0:t.fragment;if(!n)throw new Error("No fragment to fork from");const r=new Cm;IW(r,PW(n.doc));const i=this.findTypeInOtherYdoc(n,r);this.forkedState={undoStack:cc.getState(this.editor.prosemirrorState).undoManager.undoStack,originalFragment:n,forkedFragment:i},this.editor._tiptapEditor.unregisterPlugin([sE,cc,Dr]),this.editor._tiptapEditor.registerPlugin(new MO(i).plugins[0]),this.editor._tiptapEditor.registerPlugin(new DO({editor:this.editor}).plugins[0]),this.emit("forked",!0)}merge({keepChanges:t}){if(!this.forkedState)return;this.editor._tiptapEditor.unregisterPlugin(Dr),this.editor._tiptapEditor.unregisterPlugin(cc);const{originalFragment:n,forkedFragment:r,undoStack:i}=this.forkedState;if(this.editor.extensions.ySyncPlugin=new MO(n),this.editor.extensions.yCursorPlugin=new QF(this.collaboration),this.editor.extensions.yUndoPlugin=new DO({editor:this.editor}),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.ySyncPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yCursorPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yUndoPlugin.plugins[0]),cc.getState(this.editor.prosemirrorState).undoManager.undoStack=i,t){const o=PW(r.doc,e6e(n.doc));IW(n.doc,o,this.editor)}this.forkedState=void 0,this.emit("forked",!1)}};const ehe=(e,t)=>{t(e),e.forEach(n=>{n instanceof Jo&&ehe(n,t)})},qGe=(e,t)=>{const n=new Map;return e.forEach(r=>{r instanceof Jo&&ehe(r,i=>{if(i.nodeName==="blockContainer"&&i.hasAttribute("id")){const o=i.getAttribute("textColor"),a=i.getAttribute("backgroundColor"),s={textColor:o===cr.textColor.default?void 0:o,backgroundColor:a===cr.backgroundColor.default?void 0:a};(s.textColor||s.backgroundColor)&&n.set(i.getAttribute("id"),s)}})}),n.size===0?!1:(t.doc.descendants((r,i)=>{if(r.type.name==="blockContainer"&&n.has(r.attrs.id)){const o=t.doc.nodeAt(i+1);if(!o)throw new Error("No element found");t.setNodeMarkup(i+1,void 0,{...o.attrs,...n.get(r.attrs.id)})}}),!0)},WGe=[qGe];let YGe=class the extends uo{constructor(t){const n=new wn(the.key());super(),Ae(this,"migrationDone",!1),this.addProsemirrorPlugin(new on({key:n,appendTransaction:(r,i,o)=>{if(this.migrationDone||!r.some(s=>s.getMeta("y-sync$"))||r.every(s=>!s.docChanged)||!t.firstChild)return;const a=o.tr;for(const s of WGe)s(t,a);if(this.migrationDone=!0,!!a.docChanged)return a}}))}static key(){return"schemaMigrationPlugin"}};const RO=Ll.create({name:"comment",excludes:"",inclusive:!1,keepOnSplit:!0,addAttributes(){return{orphan:{parseHTML:e=>!!e.getAttribute("data-orphan"),renderHTML:e=>e.orphan?{"data-orphan":"true"}:{},default:!1},threadId:{parseHTML:e=>e.getAttribute("data-bn-thread-id"),renderHTML:e=>({"data-bn-thread-id":e.threadId}),default:""}}},renderHTML({HTMLAttributes:e}){return["span",Ml(e,{class:"bn-thread-mark"})]},parseHTML(){return[{tag:"span.bn-thread-mark"}]},extendMarkSchema(e){return e.name==="comment"?{blocknoteIgnore:!0}:{}}});let GGe=class extends FD{constructor(t){super(),Ae(this,"userCache",new Map),Ae(this,"loadingUsers",new Set),this.resolveUsers=t}async loadUsers(t){const n=t.filter(r=>!this.userCache.has(r)&&!this.loadingUsers.has(r));if(n.length!==0){for(const r of n)this.loadingUsers.add(r);try{const r=await this.resolveUsers(n);for(const i of r)this.userCache.set(i.id,i);this.emit("update",this.userCache)}finally{for(const r of n)this.loadingUsers.delete(r)}}}getUser(t){return this.userCache.get(t)}subscribe(t){return this.on("update",t)}};const vA=new wn("blocknote-comments"),KGe="SET_SELECTED_THREAD_ID";function XGe(e,t){const n=new Map;return e.descendants((r,i)=>{r.marks.forEach(o=>{if(o.type.name===t){const a=o.attrs.threadId;if(!a)return;const s=i,l=s+r.nodeSize,c=n.get(a)??{from:1/0,to:0};n.set(a,{from:Math.min(s,c.from),to:Math.max(l,c.to)})}})}),n}let nhe=class extends uo{constructor(t,n,r,i,o){if(super(),Ae(this,"userStore"),Ae(this,"pendingComment",!1),Ae(this,"selectedThreadId"),Ae(this,"threadPositions",new Map),Ae(this,"updateMarksFromThreads",s=>{this.editor.transact(l=>{l.doc.descendants((c,u)=>{c.marks.forEach(d=>{if(d.type.name===this.markType){const p=d.type,m=d.attrs.threadId,v=s.get(m),x=!!(!v||v.resolved||v.deletedAt);if(x!==d.attrs.orphan){const w=Math.max(u,0),T=Math.min(u+c.nodeSize,l.doc.content.size-1,l.doc.content.size-1);l.removeMark(w,T,d),l.addMark(w,T,p.create({...d.attrs,orphan:x})),x&&this.selectedThreadId===m&&(this.selectedThreadId=void 0,this.emitStateUpdate())}}})})})}),this.editor=t,this.threadStore=n,this.markType=r,this.resolveUsers=i,this.commentEditorSchema=o,!i)throw new Error("resolveUsers is required for comments");this.userStore=new GGe(i),this.threadStore.subscribe(this.updateMarksFromThreads),t.onCreate(()=>{this.updateMarksFromThreads(this.threadStore.getThreads()),t.onSelectionChange(()=>{this.pendingComment&&(this.pendingComment=!1,this.emitStateUpdate())})});const a=this;this.addProsemirrorPlugin(new on({key:vA,state:{init(){return{decorations:mn.empty}},apply(s,l){const c=s.getMeta(vA);if(!s.docChanged&&!c)return l;const u=s.docChanged?XGe(s.doc,a.markType):a.threadPositions;(u.size>0||a.threadPositions.size>0)&&(a.threadPositions=u,a.emitStateUpdate());const d=[];if(a.selectedThreadId){const p=u.get(a.selectedThreadId);p&&d.push(ir.inline(p.from,p.to,{class:"bn-thread-mark-selected"}))}return{decorations:mn.create(s.doc,d)}}},props:{decorations(s){var l;return((l=vA.getState(s))==null?void 0:l.decorations)??mn.empty},handleClick:(s,l,c)=>{var u;if(c.button!==0)return;const d=s.state.doc.nodeAt(l);if(!d){a.selectThread(void 0);return}const p=s.state.schema.marks[r],m=s.state.doc.resolve(l),v=(u=d.marks.filter(w=>w.type.name===r&&w.attrs.orphan!==!0).map(w=>{const T=u1(m,p,w.attrs);return{mark:w,distance:(Math.abs(T.from-l)+Math.abs(T.to-l))/2,length:T.to-T.from}}).sort((w,T)=>w.distance!==T.distance?w.distance-T.distance:w.length-T.length)[0])==null?void 0:u.mark,x=v?.attrs.threadId;a.selectThread(x)}}}))}static key(){return"comments"}emitStateUpdate(){this.emit("update",{selectedThreadId:this.selectedThreadId,pendingComment:this.pendingComment,threadPositions:this.threadPositions})}onUpdate(t){return this.on("update",t)}selectThread(t){var n,r;if(this.selectedThreadId!==t&&(this.selectedThreadId=t,this.emitStateUpdate(),this.editor.transact(i=>i.setMeta(vA,{name:KGe})),t)){const i=this.threadPositions.get(t);if(!i)return;(r=(n=this.editor.prosemirrorView)==null?void 0:n.domAtPos(i.from).node)==null||r.scrollIntoView({behavior:"smooth",block:"center"})}}startPendingComment(){this.pendingComment=!0,this.emitStateUpdate()}stopPendingComment(){this.pendingComment=!1,this.emitStateUpdate()}async createThread(t){const n=await this.threadStore.createThread(t);if(this.threadStore.addThreadToDocument){const r=this.editor.prosemirrorView,i=r.state.selection,o=Dr.getState(r.state),a={prosemirror:{head:i.head,anchor:i.anchor},yjs:o?NO(o.binding,r.state):void 0};await this.threadStore.addThreadToDocument({threadId:n.id,selection:a})}else this.editor._tiptapEditor.commands.setMark(this.markType,{orphan:!1,threadId:n.id})}},ZGe=class{constructor(t,n,r,i){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"mouseDownHandler",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"dragstartHandler",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"scrollHandler",()=>{var o;if((o=this.state)!=null&&o.show){const a=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);if(!a)return;this.state.referencePos=a.getBoundingClientRect(),this.emitUpdate()}}),Ae(this,"closeMenu",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pluginKey=n,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized file panel");i(this.state)},r.dom.addEventListener("mousedown",this.mouseDownHandler),r.dom.addEventListener("dragstart",this.dragstartHandler),r.root.addEventListener("scroll",this.scrollHandler,!0)}update(t,n){var r,i;const o=this.pluginKey.getState(t.state),a=this.pluginKey.getState(n);if(!((r=this.state)!=null&&r.show)&&o!=null&&o.block&&this.editor.isEditable){const c=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${o.block.id}"]`);if(!c)return;this.state={show:!0,referencePos:c.getBoundingClientRect(),block:o.block},this.emitUpdate();return}const s=o?.block&&!(a!=null&&a.block),l=!(o!=null&&o.block)&&a?.block;s&&this.state&&!this.state.show&&(this.state.show=!0,this.emitUpdate()),l&&(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}};const tL=new wn("FilePanelPlugin");let QGe=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"closeMenu",()=>{var n;return(n=this.view)==null?void 0:n.closeMenu()}),this.addProsemirrorPlugin(new on({key:tL,view:n=>(this.view=new ZGe(t,tL,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>{var i;return r.key==="Escape"&&this.shown?((i=this.view)==null||i.closeMenu(),!0):!1}},state:{init:()=>({block:void 0}),apply:(n,r)=>n.getMeta(tL)||(!n.getMeta(Dr)&&(n.selectionSet||n.docChanged)?{block:void 0}:r)}}))}static key(){return"filePanel"}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}onUpdate(t){return this.on("update",t)}},JGe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"preventHide",!1),Ae(this,"preventShow",!1),Ae(this,"shouldShow",({view:i,state:o,from:a,to:s})=>{const{doc:l,selection:c}=o,{empty:u}=c,d=!l.textBetween(a,s).length&&w9(o.selection);if(c.$from.parent.type.spec.code||PN(c)&&c.node.type.spec.code||u||d)return!1;const p=document.activeElement;return!(!this.isElementWithinEditorWrapper(p)&&i.editable)}),Ae(this,"blurHandler",i=>{var o;if(this.preventHide){this.preventHide=!1;return}const a=this.pmView.dom.parentElement;i&&i.relatedTarget&&(a===i.relatedTarget||a.contains(i.relatedTarget)||i.relatedTarget.matches(".bn-ui-container, .bn-ui-container *"))||(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"isElementWithinEditorWrapper",i=>{if(!i)return!1;const o=this.pmView.dom.parentElement;return o?o.contains(i):!1}),Ae(this,"viewMousedownHandler",i=>{(!this.isElementWithinEditorWrapper(i.target)||i.button===0)&&(this.preventShow=!0)}),Ae(this,"mouseupHandler",()=>{this.preventShow&&(this.preventShow=!1,setTimeout(()=>this.update(this.pmView)))}),Ae(this,"dragHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"scrollHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),Ae(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized formatting toolbar");r(this.state)},n.dom.addEventListener("mousedown",this.viewMousedownHandler),n.root.addEventListener("mouseup",this.mouseupHandler),n.dom.addEventListener("dragstart",this.dragHandler),n.dom.addEventListener("dragover",this.dragHandler),n.dom.addEventListener("blur",this.blurHandler),n.root.addEventListener("scroll",this.scrollHandler,!0)}update(t,n){var r,i,o;const{state:a,composing:s}=t,{doc:l,selection:c}=a,u=n&&n.doc.eq(l)&&n.selection.eq(c);if(s||u)return;const{ranges:d}=c,p=Math.min(...d.map(w=>w.$from.pos)),m=Math.max(...d.map(w=>w.$to.pos)),v=this.shouldShow({view:t,state:a,from:p,to:m}),x=typeof Range.prototype.getClientRects>"u";if(!this.preventShow&&(v||this.preventHide)&&!x){const w=this.getSelectionBoundingBox();if(w.height===0&&w.width===0){queueMicrotask(()=>{const k={show:!0,referencePos:this.getSelectionBoundingBox()};this.state=k,this.emitUpdate(),t.dispatch(t.state.tr.setSelection(Et.create(t.state.doc,t.state.selection.from+1,t.state.selection.to))),t.dispatch(t.state.tr.setSelection(Et.create(t.state.doc,t.state.selection.from-1,t.state.selection.to)))});return}const T={show:!0,referencePos:this.getSelectionBoundingBox()};(T.show!==((r=this.state)==null?void 0:r.show)||T.referencePos.toJSON()!==((i=this.state)==null?void 0:i.referencePos.toJSON()))&&(this.state=T,this.emitUpdate());return}if((o=this.state)!=null&&o.show&&!this.preventHide&&(!v||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("mouseup",this.mouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}getSelectionBoundingBox(){const{state:t}=this.pmView,{selection:n}=t,{ranges:r}=n,i=Math.min(...r.map(a=>a.$from.pos)),o=Math.max(...r.map(a=>a.$to.pos));if(PN(n)){const a=this.pmView.nodeDOM(i);if(a)return a.getBoundingClientRect()}return LN(this.pmView,i,o)}};const eKe=new wn("FormattingToolbarPlugin");let tKe=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new on({key:eKe,view:n=>(this.view=new JGe(t,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"formattingToolbar"}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}onUpdate(t){return this.on("update",t)}};const nKe=zs.create({name:"hardBreak",inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,priority:10,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Ml(this.options.HTMLAttributes,e)]},renderText(){return`
`}}),b8=(e,t)=>{const n=e.resolve(t),r=n.index();if(r===0)return;const i=n.posAtIndex(r-1);return PD(e.resolve(i))},rhe=(e,t)=>{for(;t.childContainer;){const n=t.childContainer.node,r=e.resolve(t.childContainer.beforePos+1).posAtIndex(n.childCount-1);t=PD(e.resolve(r))}return t},rKe=(e,t)=>e.isBlockContainer&&e.blockContent.node.type.spec.content==="inline*"&&e.blockContent.node.childCount>0&&t.isBlockContainer&&t.blockContent.node.type.spec.content==="inline*",iKe=(e,t,n,r)=>{if(!r.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but next block is not a block container`);if(r.childContainer){const i=e.doc.resolve(r.childContainer.beforePos+1),o=e.doc.resolve(r.childContainer.afterPos-1),a=i.blockRange(o);if(t){const s=e.doc.resolve(r.bnBlock.beforePos);e.tr.lift(a,s.depth)}}if(t){if(!n.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but previous block is not a block container`);t(e.tr.delete(n.blockContent.afterPos-1,r.blockContent.beforePos+1))}return!0},PG=e=>({state:t,dispatch:n})=>{const r=t.doc.resolve(e),i=PD(r),o=b8(t.doc,i.bnBlock.beforePos);if(!o)return!1;const a=rhe(t.doc,o);return rKe(a,i)?iKe(t,n,a,i):!1};function oKe(e,t,n){const{$from:r,$to:i}=e.selection,o=r.blockRange(i,m=>m.childCount>0&&(m.type.name==="blockGroup"||m.type.name==="column"));if(!o)return!1;const a=o.startIndex;if(a===0)return!1;const s=o.parent.child(a-1);if(s.type!==t)return!1;const l=s.lastChild&&s.lastChild.type===n,c=Fe.from(l?t.create():null),u=new at(Fe.from(t.create(null,Fe.from(n.create(null,c)))),l?3:1,0),d=o.start,p=o.end;return e.step(new Ki(d-(l?3:1),p,d,p,u,1,!0)).scrollIntoView(),!0}function ihe(e){return e.transact(t=>oKe(t,e.pmSchema.nodes.blockContainer,e.pmSchema.nodes.blockGroup))}function aKe(e){e._tiptapEditor.commands.liftListItem("blockContainer")}function sKe(e){return e.transact(t=>{const{bnBlock:n}=$T(t);return t.doc.resolve(n.beforePos).nodeBefore!==null})}function lKe(e){return e.transact(t=>{const{bnBlock:n}=$T(t);return t.doc.resolve(n.beforePos).depth>1})}const cKe=ur.create({priority:50,addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({chain:r,commands:i})=>[()=>i.deleteSelection(),()=>i.undoInputRule(),()=>i.command(({state:o})=>{const a=Ns(o);if(!a.isBlockContainer)return!1;const s=o.selection.from===a.blockContent.beforePos+1,l=a.blockContent.node.type.name==="paragraph";return s&&!l?i.command(o4e(a.bnBlock.beforePos,{type:"paragraph",props:{}})):!1}),()=>i.command(({state:o})=>{const a=Ns(o);if(!a.isBlockContainer)return!1;const{blockContent:s}=a;return o.selection.from===s.beforePos+1?i.liftListItem("blockContainer"):!1}),()=>i.command(({state:o})=>{const a=Ns(o);if(!a.isBlockContainer)return!1;const{bnBlock:s,blockContent:l}=a,c=o.selection.from===l.beforePos+1,u=o.selection.empty,d=s.beforePos;return c&&u?r().command(PG(d)).scrollIntoView().run():!1}),()=>i.command(({state:o,tr:a,dispatch:s})=>{const l=Ns(o);if(!l.isBlockContainer||a.selection.from!==l.blockContent.beforePos+1)return!1;const c=a.doc.resolve(l.bnBlock.beforePos);if(c.nodeBefore||c.node().type.name!=="column")return!1;const u=a.doc.resolve(l.bnBlock.beforePos),d=a.doc.resolve(u.before()),p=d.before();if(s){const m=a.doc.slice(l.bnBlock.beforePos,l.bnBlock.afterPos).content;a.delete(l.bnBlock.beforePos,l.bnBlock.afterPos),d.index()===0?(y8(a,p),a.insert(p,m),a.setSelection(Et.near(a.doc.resolve(p)))):(a.insert(d.pos-1,m),a.setSelection(Et.near(a.doc.resolve(d.pos-1))),y8(a,p))}return!0}),()=>i.command(({state:o})=>{const a=Ns(o);if(!a.isBlockContainer)return!1;if(a.blockContent.node.childCount===0&&a.blockContent.node.type.spec.content==="inline*"){const s=b8(o.doc,a.bnBlock.beforePos);if(!s||!s.isBlockContainer)return!1;let l=r();if(s.blockContent.node.type.spec.content==="tableRow+"){const c=a.bnBlock.beforePos-1-1-1-1-1;l=l.setTextSelection(c)}else if(s.blockContent.node.type.spec.content===""){const c=s.blockContent.afterPos-s.blockContent.node.nodeSize;l=l.setNodeSelection(c)}else{const c=s.blockContent.afterPos-s.blockContent.node.nodeSize;l=l.setTextSelection(c)}return l.deleteRange({from:a.bnBlock.beforePos,to:a.bnBlock.afterPos}).scrollIntoView().run()}return!1}),()=>i.command(({state:o})=>{const a=Ns(o);if(!a.isBlockContainer)throw new Error("todo");const s=o.selection.from===a.blockContent.beforePos+1,l=o.selection.empty,c=b8(o.doc,a.bnBlock.beforePos);if(c&&s&&l){const u=rhe(o.doc,c);if(!u.isBlockContainer)throw new Error("todo");if(u.blockContent.node.type.spec.content===""||u.blockContent.node.type.spec.content==="inline*"&&u.blockContent.node.childCount===0)return r().cut({from:a.bnBlock.beforePos,to:a.bnBlock.afterPos},u.bnBlock.afterPos).deleteRange({from:u.bnBlock.beforePos,to:u.bnBlock.afterPos}).run()}return!1})]),t=()=>this.editor.commands.first(({commands:r})=>[()=>r.deleteSelection(),()=>r.command(({state:i})=>{const o=Ns(i);if(!o.isBlockContainer)return!1;const{bnBlock:a,blockContent:s,childContainer:l}=o,{depth:c}=i.doc.resolve(a.beforePos),u=a.afterPos===i.doc.nodeSize-3,d=i.selection.from===s.afterPos-1,p=i.selection.empty;if(!u&&d&&p&&l===void 0){let m=c,v=a.afterPos+1,x=i.doc.resolve(v).depth;for(;x<m;)m=x,v+=2,x=i.doc.resolve(v).depth;return r.command(PG(v-1))}return!1})]),n=(r=!1)=>this.editor.commands.first(({commands:i,tr:o})=>[()=>i.command(({state:a})=>{const s=Ns(a);if(!s.isBlockContainer)return!1;const{bnBlock:l,blockContent:c}=s,{depth:u}=a.doc.resolve(l.beforePos),d=a.selection.$anchor.parentOffset===0,p=a.selection.anchor===a.selection.head,m=c.node.childCount===0,v=u>1;return d&&p&&m&&v?i.liftListItem("blockContainer"):!1}),()=>i.command(({state:a})=>{var s;const l=Ns(a),c=((s=this.options.editor.schema.blockSchema[l.blockNoteType].meta)==null?void 0:s.hardBreakShortcut)??"shift+enter";if(c==="none")return!1;if(c==="shift+enter"&&r||c==="enter"){const u=o.storedMarks||o.selection.$head.marks().filter(d=>this.editor.extensionManager.splittableMarks.includes(d.type.name));return o.insert(o.selection.head,o.doc.type.schema.nodes.hardBreak.create()).ensureMarks(u),!0}return!1}),()=>i.command(({state:a,dispatch:s})=>{const l=Ns(a);if(!l.isBlockContainer)return!1;const{bnBlock:c,blockContent:u}=l,d=a.selection.$anchor.parentOffset===0,p=a.selection.anchor===a.selection.head,m=u.node.childCount===0;if(d&&p&&m){const v=c.afterPos,x=v+2;if(s){const w=a.schema.nodes.blockContainer.createAndFill();a.tr.insert(v,w).scrollIntoView(),a.tr.setSelection(new Et(a.doc.resolve(x)))}return!0}return!1}),()=>i.command(({state:a,chain:s})=>{const l=Ns(a);if(!l.isBlockContainer)return!1;const{blockContent:c}=l,u=a.selection.$anchor.parentOffset===0;return c.node.childCount===0?!1:(s().deleteSelection().command(B4e(a.selection.from,u,u)).run(),!0)})]);return{Backspace:e,Delete:t,Enter:()=>n(),"Shift-Enter":()=>n(!0),Tab:()=>{var r,i,o;return this.options.tabBehavior!=="prefer-indent"&&((r=this.options.editor.formattingToolbar)!=null&&r.shown||(i=this.options.editor.linkToolbar)!=null&&i.shown||(o=this.options.editor.filePanel)!=null&&o.shown)?!1:ihe(this.options.editor)},"Shift-Tab":()=>{var r,i,o;return this.options.tabBehavior!=="prefer-indent"&&((r=this.options.editor.formattingToolbar)!=null&&r.shown||(i=this.options.editor.linkToolbar)!=null&&i.shown||(o=this.options.editor.filePanel)!=null&&o.shown)?!1:(this.editor.commands.liftListItem("blockContainer"),!0)},"Shift-Mod-ArrowUp":()=>(this.options.editor.moveBlocksUp(),!0),"Shift-Mod-ArrowDown":()=>(this.options.editor.moveBlocksDown(),!0),"Mod-z":()=>this.options.editor.undo(),"Mod-y":()=>this.options.editor.redo(),"Shift-Mod-z":()=>this.options.editor.redo()}}});let uKe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"menuUpdateTimer"),Ae(this,"startMenuUpdateTimer"),Ae(this,"stopMenuUpdateTimer"),Ae(this,"mouseHoveredLinkMark"),Ae(this,"mouseHoveredLinkMarkRange"),Ae(this,"keyboardHoveredLinkMark"),Ae(this,"keyboardHoveredLinkMarkRange"),Ae(this,"linkMark"),Ae(this,"linkMarkRange"),Ae(this,"mouseOverHandler",i=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),i.target instanceof HTMLAnchorElement&&i.target.nodeName==="A"){const o=i.target,a=this.pmView.posAtDOM(o,0)+1,s=this.pmView.state.doc.resolve(a),l=s.marks();for(const c of l)if(c.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=c,this.mouseHoveredLinkMarkRange=u1(s,c.type,c.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),Ae(this,"clickHandler",i=>{var o;const a=this.pmView.dom.parentElement;this.linkMark&&i&&i.target&&!(a===i.target||a.contains(i.target))&&(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"scrollHandler",()=>{var i;this.linkMark!==void 0&&(i=this.state)!=null&&i.show&&(this.state.referencePos=LN(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),Ae(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized link toolbar");r(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update(this.pmView,void 0,!0)},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),this.pmView.root.addEventListener("click",this.clickHandler,!0),this.pmView.root.addEventListener("scroll",this.scrollHandler,!0)}editLink(t,n){var r;this.editor.transact(i=>{const o=ho(i);i.insertText(n,this.linkMarkRange.from,this.linkMarkRange.to),i.addMark(this.linkMarkRange.from,this.linkMarkRange.from+n.length,o.mark("link",{href:t}))}),this.pmView.focus(),(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var t;this.editor.transact(n=>n.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate())}update(t,n,r=!1){var i;const{state:o}=t;if(n&&n.selection.from===o.selection.from&&n.selection.to===o.selection.to||!this.pmView.hasFocus())return;const a=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){const s=this.pmView.state.selection.$from.marks();for(const l of s)if(l.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=l,this.keyboardHoveredLinkMarkRange=u1(this.pmView.state.selection.$from,l.type,l.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&r&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:LN(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if((i=this.state)!=null&&i.show&&a&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0),this.pmView.root.removeEventListener("click",this.clickHandler,!0)}};const dKe=new wn("LinkToolbarPlugin");let fKe=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"editLink",(n,r)=>{this.view.editLink(n,r)}),Ae(this,"deleteLink",()=>{this.view.deleteLink()}),Ae(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),Ae(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),Ae(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new on({key:dKe,view:n=>(this.view=new uKe(t,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"linkToolbar"}onUpdate(t){return this.on("update",t)}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}};const ohe=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"],ahe="https",hKe=new wn("node-selection-keyboard");let pKe=class extends uo{static key(){return"nodeSelectionKeyboard"}constructor(){super(),this.addProsemirrorPlugin(new on({key:hKe,props:{handleKeyDown:(t,n)=>{if("node"in t.state.selection){if(n.ctrlKey||n.metaKey)return!1;if(n.key.length===1)return n.preventDefault(),!0;if(n.key==="Enter"&&!n.shiftKey&&!n.altKey&&!n.ctrlKey&&!n.metaKey){const r=t.state.tr;return t.dispatch(r.insert(t.state.tr.selection.$to.after(),t.state.schema.nodes.paragraph.createChecked()).setSelection(new Et(r.doc.resolve(t.state.tr.selection.$to.after()+1)))),!0}}return!1}}}))}};const mKe=new wn("blocknote-placeholder");let gKe=class extends uo{static key(){return"placeholder"}constructor(t,n){super(),this.addProsemirrorPlugin(new on({key:mKe,view:r=>{const i=`placeholder-selector-${kle()}`;r.dom.classList.add(i);const o=document.createElement("style"),a=t._tiptapEditor.options.injectNonce;a&&o.setAttribute("nonce",a),r.root instanceof window.ShadowRoot?r.root.append(o):r.root.head.appendChild(o);const s=o.sheet,l=(c="")=>`.${i} .bn-block-content${c} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`;try{const{default:c,emptyDocument:u,...d}=n;for(const[v,x]of Object.entries(d)){const w=`[data-content-type="${v}"]`;s.insertRule(`${l(w)} { content: ${JSON.stringify(x)}; }`)}s.insertRule(`${l("[data-is-only-empty-block]")} { content: ${JSON.stringify(u)}; }`),s.insertRule(`${l("[data-is-empty-and-focused]")} { content: ${JSON.stringify(c)}; }`)}catch(c){console.warn("Failed to insert placeholder CSS rule - this is likely due to the browser not supporting certain CSS pseudo-element selectors (:has, :only-child:, or :before)",c)}return{destroy:()=>{r.root instanceof window.ShadowRoot?r.root.removeChild(o):r.root.head.removeChild(o)}}},props:{decorations:r=>{const{doc:i,selection:o}=r;if(!t.isEditable||!o.empty||o.$from.parent.type.spec.code)return;const a=[];r.doc.content.size===6&&a.push(ir.node(2,4,{"data-is-only-empty-block":"true"}));const s=o.$anchor,l=s.parent;if(l.content.size===0){const c=s.before();a.push(ir.node(c,c+l.nodeSize,{"data-is-empty-and-focused":"true"}))}return mn.create(i,a)}}}))}};const LG=new wn("previous-blocks"),yKe={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"};let bKe=class extends uo{static key(){return"previousBlockType"}constructor(){super();let t;this.addProsemirrorPlugin(new on({key:LG,view(n){return{update:async(r,i)=>{var o;((o=this.key)==null?void 0:o.getState(r.state).updatedBlocks.size)>0&&(t=setTimeout(()=>{r.dispatch(r.state.tr.setMeta(LG,{clearUpdate:!0}))},0))},destroy:()=>{t&&clearTimeout(t)}}},state:{init(){return{prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}},apply(n,r,i,o){if(r.currentTransactionOldBlockAttrs={},r.updatedBlocks.clear(),!n.docChanged||i.doc.eq(o.doc))return r;const a={},s=zq(i.doc,u=>u.attrs.id),l=new Map(s.map(u=>[u.node.attrs.id,u])),c=zq(o.doc,u=>u.attrs.id);for(const u of c){const d=l.get(u.node.attrs.id),p=d?.node.firstChild,m=u.node.firstChild;if(d&&p&&m){const v={index:m.attrs.index,level:m.attrs.level,type:m.type.name,depth:o.doc.resolve(u.pos).depth},x={index:p.attrs.index,level:p.attrs.level,type:p.type.name,depth:i.doc.resolve(d.pos).depth};a[u.node.attrs.id]=x,r.currentTransactionOldBlockAttrs[u.node.attrs.id]=x,JSON.stringify(x)!==JSON.stringify(v)&&(x["depth-change"]=x.depth-v.depth,r.updatedBlocks.add(u.node.attrs.id))}}return r.prevTransactionOldBlockAttrs=a,r}},props:{decorations(n){const r=this.getState(n);if(r.updatedBlocks.size===0)return;const i=[];return n.doc.descendants((o,a)=>{if(!o.attrs.id||!r.updatedBlocks.has(o.attrs.id))return;const s=r.currentTransactionOldBlockAttrs[o.attrs.id],l={};for(const[u,d]of Object.entries(s))l["data-prev-"+yKe[u]]=d||"none";const c=ir.node(a,a+o.nodeSize,{...l});i.push(c)}),mn.create(n.doc,i)}}}))}};const jG=new wn("blocknote-show-selection");let vKe=class extends uo{constructor(t){super(),Ae(this,"enabled",!1),this.editor=t,this.addProsemirrorPlugin(new on({key:jG,props:{decorations:n=>{const{doc:r,selection:i}=n;if(!this.enabled)return mn.empty;const o=ir.inline(i.from,i.to,{"data-show-selection":"true"});return mn.create(r,[o])}}}))}static key(){return"showSelection"}setEnabled(t){this.enabled!==t&&(this.enabled=t,this.editor.transact(n=>n.setMeta(jG,{})))}getEnabled(){return this.enabled}};function she(e,t){for(var n,r;e&&e.parentElement&&e.parentElement!==t.dom&&((n=e.getAttribute)==null?void 0:n.call(e,"data-node-type"))!=="blockContainer";)e=e.parentElement;if(((r=e.getAttribute)==null?void 0:r.call(e,"data-node-type"))==="blockContainer")return{node:e,id:e.getAttribute("data-id")}}let v8=class lN extends Jt{constructor(t,n){super(t,n),Ae(this,"nodes");const r=t.node();this.nodes=[],t.doc.nodesBetween(t.pos,n.pos,(i,o,a)=>{if(a!==null&&a.eq(r))return this.nodes.push(i),!1})}static create(t,n,r=n){return new lN(t.resolve(n),t.resolve(r))}content(){return new at(Fe.from(this.nodes),0,0)}eq(t){if(!(t instanceof lN)||this.nodes.length!==t.nodes.length||this.from!==t.from||this.to!==t.to)return!1;for(let n=0;n<this.nodes.length;n++)if(!this.nodes[n].eq(t.nodes[n]))return!1;return!0}map(t,n){const r=n.mapResult(this.from),i=n.mapResult(this.to);return i.deleted?Jt.near(t.resolve(r.pos)):r.deleted?Jt.near(t.resolve(i.pos)):new lN(t.resolve(r.pos),t.resolve(i.pos))}toJSON(){return{type:"multiple-node",anchor:this.anchor,head:this.head}}};Jt.jsonID("multiple-node",v8);let ru;function xKe(e,t){let n,r;const i=t.resolve(e.from).node().type.spec.group==="blockContent",o=t.resolve(e.to).node().type.spec.group==="blockContent",a=Math.min(e.$anchor.depth,e.$head.depth);if(i&&o){const s=e.$from.start(a-1),l=e.$to.end(a-1);n=t.resolve(s-1).pos,r=t.resolve(l+1).pos}else n=e.from,r=e.to;return{from:n,to:r}}function BG(e,t,n=t){t===n&&(n+=e.state.doc.resolve(t+1).node().nodeSize);const r=e.domAtPos(t).node.cloneNode(!0),i=e.domAtPos(t).node,o=(u,d)=>Array.prototype.indexOf.call(u.children,d),a=o(i,e.domAtPos(t+1).node.parentElement),s=o(i,e.domAtPos(n-1).node.parentElement);for(let u=i.childElementCount-1;u>=0;u--)(u>s||u<a)&&r.removeChild(r.children[u]);lhe(e.root),ru=r;const l=ru.getElementsByTagName("iframe");for(let u=0;u<l.length;u++){const d=l[u],p=d.parentElement;p&&p.removeChild(d)}const c=e.dom.className.split(" ").filter(u=>u!=="ProseMirror"&&u!=="bn-root"&&u!=="bn-editor").join(" ");ru.className=ru.className+" bn-drag-preview "+c,e.root instanceof ShadowRoot?e.root.appendChild(ru):e.root.body.appendChild(ru)}function lhe(e){ru!==void 0&&(e instanceof ShadowRoot?e.removeChild(ru):e.body.removeChild(ru),ru=void 0)}function wKe(e,t,n){if(!e.dataTransfer||n.headless)return;const r=n.prosemirrorView,i=ls(t.id,r.state.doc);if(!i)throw new Error(`Block with ID ${t.id} not found`);const o=i.posBeforeNode;if(o!=null){const a=r.state.selection,s=r.state.doc,{from:l,to:c}=xKe(a,s),u=l<=o&&o<c,d=a.$anchor.node()!==a.$head.node()||a instanceof v8;u&&d?(r.dispatch(r.state.tr.setSelection(v8.create(s,l,c))),BG(r,l,c)):(r.dispatch(r.state.tr.setSelection(Rt.create(r.state.doc,o))),BG(r,o));const p=r.state.selection.content(),m=n.pmSchema,v=r.serializeForClipboard(p).dom.innerHTML,x=uR(m,n),w=Xfe(p.content),T=x.exportBlocks(w,{}),k=ZF(T);e.dataTransfer.clearData(),e.dataTransfer.setData("blocknote/html",v),e.dataTransfer.setData("text/html",T),e.dataTransfer.setData("text/plain",k),e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(ru,0,0)}}const $G=250;function x8(e,t,n=!0){const r=e.root.elementsFromPoint(t.left,t.top);for(const i of r)if(e.dom.contains(i))return n&&i.closest("[data-node-type=columnList]")?x8(e,{left:t.left+50,top:t.top},!1):she(i,e)}function SKe(e,t){if(!t.dom.firstChild)return;const n=t.dom.firstChild.getBoundingClientRect(),r={left:Math.min(Math.max(n.left+10,e.x),n.right-10),top:e.y},i=x8(t,r);if(!i)return;const o=i.node.getBoundingClientRect();return x8(t,{left:o.right-10,top:e.y},!1)}let che=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"mousePos"),Ae(this,"hoveredBlock"),Ae(this,"menuFrozen",!1),Ae(this,"isDragOrigin",!1),Ae(this,"updateState",i=>{this.state=i,this.emitUpdate(this.state)}),Ae(this,"updateStateFromMousePos",()=>{var i,o,a,s,l;if(this.menuFrozen||!this.mousePos)return;const c=this.findClosestEditorElement({clientX:this.mousePos.x,clientY:this.mousePos.y});if(c?.element!==this.pmView.dom||c.distance>$G){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.updateState(this.state));return}const u=SKe(this.mousePos,this.pmView);if(!u||!this.editor.isEditable){(o=this.state)!=null&&o.show&&(this.state.show=!1,this.updateState(this.state));return}if(!((a=this.state)!=null&&a.show&&(s=this.hoveredBlock)!=null&&s.hasAttribute("data-id")&&((l=this.hoveredBlock)==null?void 0:l.getAttribute("data-id"))===u.id)&&(this.hoveredBlock=u.node,this.editor.isEditable)){const d=u.node.getBoundingClientRect(),p=u.node.closest("[data-node-type=column]");this.state={show:!0,referencePos:new DOMRect(p?p.firstElementChild.getBoundingClientRect().x:this.pmView.dom.firstChild.getBoundingClientRect().x,d.y,d.width,d.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))},this.updateState(this.state)}}),Ae(this,"onDragStart",i=>{var o;const a=(o=i.dataTransfer)==null?void 0:o.getData("blocknote/html");if(!a||this.pmView.dragging)return;const s=document.createElement("div");s.innerHTML=a;const l=pu.fromSchema(this.pmView.state.schema).parse(s,{topNode:this.pmView.state.schema.nodes.blockGroup.create()});this.pmView.dragging={slice:new at(l.content,0,0),move:!0}}),Ae(this,"findClosestEditorElement",i=>{const o=Array.from(this.pmView.root.querySelectorAll(".bn-editor"));if(o.length===0)return null;let a=o[0],s=Number.MAX_VALUE;return o.forEach(l=>{const c=l.querySelector(".bn-block-group").getBoundingClientRect(),u=i.clientX<c.left?c.left-i.clientX:i.clientX>c.right?i.clientX-c.right:0,d=i.clientY<c.top?c.top-i.clientY:i.clientY>c.bottom?i.clientY-c.bottom:0,p=Math.sqrt(Math.pow(u,2)+Math.pow(d,2));p<s&&(s=p,a=l)}),{element:a,distance:s}}),Ae(this,"onDragOver",i=>{if(i.synthetic)return;const o=this.getDragEventContext(i);if(!o||!o.isDropPoint){this.closeDropCursor();return}o.isDropPoint&&!o.isDropWithinEditorBounds&&this.dispatchSyntheticEvent(i)}),Ae(this,"closeDropCursor",()=>{const i=new Event("dragleave",{bubbles:!1});i.synthetic=!0,this.pmView.dom.dispatchEvent(i)}),Ae(this,"getDragEventContext",i=>{var o;const a=!((o=i.dataTransfer)!=null&&o.types.includes("blocknote/html"))&&!!this.pmView.dragging,s=!!this.isDragOrigin,l=a||s,c=this.findClosestEditorElement(i);if(!c||c.distance>$G)return;const u=c.element===this.pmView.dom,d=u&&c.distance===0;if(!(!u&&!l))return{isDropPoint:u,isDropWithinEditorBounds:d,isDragOrigin:l}}),Ae(this,"onDrop",i=>{if(i.synthetic)return;const o=this.getDragEventContext(i);if(!o){this.closeDropCursor();return}const{isDropPoint:a,isDropWithinEditorBounds:s,isDragOrigin:l}=o;if(!s&&a&&this.dispatchSyntheticEvent(i),a){if(this.pmView.dragging)return;this.pmView.dispatch(this.pmView.state.tr.setSelection(Et.create(this.pmView.state.tr.doc,this.pmView.state.tr.selection.anchor)));return}else if(l){setTimeout(()=>this.pmView.dispatch(this.pmView.state.tr.deleteSelection()),0);return}}),Ae(this,"onDragEnd",i=>{i.synthetic||(this.pmView.dragging=null)}),Ae(this,"onKeyDown",i=>{var o;(o=this.state)!=null&&o.show&&this.editor.isFocused()&&(this.state.show=!1,this.emitUpdate(this.state))}),Ae(this,"onMouseMove",i=>{var o;if(this.menuFrozen)return;this.mousePos={x:i.clientX,y:i.clientY};const a=this.pmView.dom.getBoundingClientRect(),s=this.mousePos.x>a.left&&this.mousePos.x<a.right&&this.mousePos.y>a.top&&this.mousePos.y<a.bottom,l=this.pmView.dom.parentElement;if(s&&i&&i.target&&!(l===i.target||l.contains(i.target))){(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.updateStateFromMousePos()}),Ae(this,"onScroll",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.referencePos=this.hoveredBlock.getBoundingClientRect(),this.emitUpdate(this.state)),this.updateStateFromMousePos()}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized side menu");r(this.state)},this.pmView.root.addEventListener("dragstart",this.onDragStart),this.pmView.root.addEventListener("dragover",this.onDragOver),this.pmView.root.addEventListener("drop",this.onDrop,!0),this.pmView.root.addEventListener("dragend",this.onDragEnd,!0),this.pmView.root.addEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.addEventListener("keydown",this.onKeyDown,!0),n.root.addEventListener("scroll",this.onScroll,!0)}dispatchSyntheticEvent(t){const n=new Event(t.type,t),r=this.pmView.dom.firstChild.getBoundingClientRect();n.clientX=t.clientX,n.clientY=t.clientY,n.clientX=Math.min(Math.max(t.clientX,r.left),r.left+r.width),n.clientY=Math.min(Math.max(t.clientY,r.top),r.top+r.height),n.dataTransfer=t.dataTransfer,n.preventDefault=()=>t.preventDefault(),n.synthetic=!0,this.pmView.dom.dispatchEvent(n)}update(t,n){var r;!n.doc.eq(this.pmView.state.doc)&&(r=this.state)!=null&&r.show&&this.updateStateFromMousePos()}destroy(){var t;(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.pmView.root.removeEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.removeEventListener("dragstart",this.onDragStart),this.pmView.root.removeEventListener("dragover",this.onDragOver),this.pmView.root.removeEventListener("drop",this.onDrop,!0),this.pmView.root.removeEventListener("dragend",this.onDragEnd,!0),this.pmView.root.removeEventListener("keydown",this.onKeyDown,!0),this.pmView.root.removeEventListener("scroll",this.onScroll,!0)}};const uhe=new wn("SideMenuPlugin");let EKe=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"blockDragStart",(n,r)=>{this.view&&(this.view.isDragOrigin=!0),wKe(n,r,this.editor)}),Ae(this,"blockDragEnd",()=>{lhe(this.editor.prosemirrorView.root),this.view&&(this.view.isDragOrigin=!1),this.editor.blur()}),Ae(this,"freezeMenu",()=>{this.view.menuFrozen=!0,this.view.state.show=!0,this.view.emitUpdate(this.view.state)}),Ae(this,"unfreezeMenu",()=>{this.view.menuFrozen=!1,this.view.state.show=!1,this.view.emitUpdate(this.view.state)}),this.editor=t,this.addProsemirrorPlugin(new on({key:uhe,view:n=>(this.view=new che(t,n,r=>{this.emit("update",r)}),this.view)}))}static key(){return"sideMenu"}onUpdate(t){return this.on("update",t)}};const xA=new Map;function CKe(e){if(xA.has(e))return xA.get(e);const t=new o1;return e._tiptapEditor.on("transaction",({transaction:n})=>{t.appendMapping(n.mapping)}),e._tiptapEditor.on("destroy",()=>{xA.delete(e)}),xA.set(e,t),t}function TKe(e,t,n="left"){const r=Dr.getState(e.prosemirrorState);if(!r){const o=CKe(e),a=o.maps.length;return()=>o.slice(a).map(t,n==="left"?-1:1)}const i=AC(t+(n==="right"?1:-1),r.binding.type,r.binding.mapping);return()=>{const o=Dr.getState(e.prosemirrorState),a=C0(o.doc,o.binding.type,i,o.binding.mapping);if(a===null)throw new Error("Position not found, cannot track positions");return a+(n==="right"?-1:1)}}const kKe=DD(e=>e.type.name==="blockContainer");let _Ke=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"rootEl"),Ae(this,"pluginState"),Ae(this,"handleScroll",()=>{var o,a;if((o=this.state)!=null&&o.show){const s=(a=this.rootEl)==null?void 0:a.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);if(!s)return;this.state.referencePos=s.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),Ae(this,"closeMenu",()=>{this.editor.transact(o=>o.setMeta(Xv,null))}),Ae(this,"clearQuery",()=>{this.pluginState!==void 0&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos()-(this.pluginState.deleteTriggerCharacter?this.pluginState.triggerCharacter.length:0),to:this.editor.transact(o=>o.selection.from)}).run()});var i;this.editor=t,this.pluginState=void 0,this.emitUpdate=o=>{var a;if(!this.state)throw new Error("Attempting to update uninitialized suggestions menu");n(o,{...this.state,ignoreQueryLength:(a=this.pluginState)==null?void 0:a.ignoreQueryLength})},this.rootEl=r.root,(i=this.rootEl)==null||i.addEventListener("scroll",this.handleScroll,!0)}update(t,n){var r;const i=Xv.getState(n),o=Xv.getState(t.state),a=i===void 0&&o!==void 0,s=i!==void 0&&o===void 0;if(!a&&!(i!==void 0&&o!==void 0)&&!s)return;if(this.pluginState=s?i:o,s||!this.editor.isEditable){this.state&&(this.state.show=!1),this.emitUpdate(this.pluginState.triggerCharacter);return}const l=(r=this.rootEl)==null?void 0:r.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&l&&(this.state={show:!0,referencePos:l.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){var t;(t=this.rootEl)==null||t.removeEventListener("scroll",this.handleScroll,!0)}};const Xv=new wn("SuggestionMenuPlugin");let AKe=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"triggerCharacters",[]),Ae(this,"addTriggerCharacter",r=>{this.triggerCharacters.push(r)}),Ae(this,"removeTriggerCharacter",r=>{this.triggerCharacters=this.triggerCharacters.filter(i=>i!==r)}),Ae(this,"closeMenu",()=>this.view.closeMenu()),Ae(this,"clearQuery",()=>this.view.clearQuery());const n=this.triggerCharacters;this.addProsemirrorPlugin(new on({key:Xv,view:r=>(this.view=new _Ke(t,(i,o)=>{this.emit(`update ${i}`,o)},r),this.view),state:{init(){},apply:(r,i,o,a)=>{if(r.selection.$from.parent.type.spec.code)return i;const s=r.getMeta(Xv);if(typeof s=="object"&&s!==null){i&&this.closeMenu();const c=TKe(t,a.selection.from-s.triggerCharacter.length);return{triggerCharacter:s.triggerCharacter,deleteTriggerCharacter:s.deleteTriggerCharacter!==!1,queryStartPos:()=>c()+s.triggerCharacter.length,query:"",decorationId:`id_${Math.floor(Math.random()*4294967295)}`,ignoreQueryLength:s?.ignoreQueryLength}}if(i===void 0)return i;if(a.selection.from!==a.selection.to||s===null||r.getMeta("focus")||r.getMeta("blur")||r.getMeta("pointer")||i.triggerCharacter!==void 0&&a.selection.from<i.queryStartPos()||!a.selection.$from.sameParent(a.doc.resolve(i.queryStartPos())))return;const l={...i};return l.query=a.doc.textBetween(i.queryStartPos(),a.selection.from),l}},props:{handleTextInput(r,i,o,a){if(i===o){const s=r.state.doc;for(const l of n){const c=l.length>1?s.textBetween(i-l.length,i)+a:a;if(l===c)return r.dispatch(r.state.tr.insertText(a)),r.dispatch(r.state.tr.setMeta(Xv,{triggerCharacter:c}).scrollIntoView()),!0}}return!1},decorations(r){const i=this.getState(r);if(i===void 0)return null;if(!i.deleteTriggerCharacter){const o=kKe(r.selection);if(o)return mn.create(r.doc,[ir.node(o.pos,o.pos+o.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}return mn.create(r.doc,[ir.inline(i.queryStartPos()-i.triggerCharacter.length,i.queryStartPos(),{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}}}))}static key(){return"suggestionMenu"}onUpdate(t,n){return this.triggerCharacters.includes(t)||this.addTriggerCharacter(t),this.on(`update ${t}`,n)}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}};const NKe=Ll.create({name:"insertion",inclusive:!1,excludes:"deletion modification insertion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(e){return e.name!=="insertion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return["ins",{"data-id":String(t.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"ins",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10)}:!1}}]}}}),OKe=Ll.create({name:"deletion",inclusive:!1,excludes:"insertion modification deletion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(e){return e.name!=="deletion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return["del",{"data-id":String(t.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"del",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10)}:!1}}]}}}),MKe=Ll.create({name:"modification",inclusive:!1,excludes:"deletion insertion",addAttributes(){return{id:{default:null,validate:"number"},type:{validate:"string"},attrName:{default:null,validate:"string|null"},previousValue:{default:null},newValue:{default:null}}},extendMarkSchema(e){return e.name!=="modification"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return[n?"span":"div",{"data-type":"modification","data-id":String(t.attrs.id),"data-mod-type":t.attrs.type,"data-mod-prev-val":JSON.stringify(t.attrs.previousValue),"data-mod-new-val":JSON.stringify(t.attrs.newValue)},0]},parseDOM:[{tag:"span[data-type='modification']",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10),type:t.dataset.modType,previousValue:t.dataset.modPrevVal,newValue:t.dataset.modNewVal}:!1}},{tag:"div[data-type='modification']",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10),type:t.dataset.modType,previousValue:t.dataset.modPrevVal}:!1}}]}}});let Ds;function HG(e){Ds||(Ds=document.createElement("div"),Ds.innerHTML="_",Ds.style.opacity="0",Ds.style.height="1px",Ds.style.width="1px",e instanceof Document?e.body.appendChild(Ds):e.appendChild(Ds))}function DKe(e){Ds&&(e instanceof Document?e.body.removeChild(Ds):e.removeChild(Ds),Ds=void 0)}function wA(e){return Array.prototype.indexOf.call(e.parentElement.childNodes,e)}function RKe(e){let t=e;for(;t&&t.nodeName!=="TD"&&t.nodeName!=="TH"&&!t.classList.contains("tableWrapper");){if(t.classList.contains("ProseMirror"))return;const n=t.parentNode;if(!n||!(n instanceof Element))return;t=n}return t.nodeName==="TD"||t.nodeName==="TH"?{type:"cell",domNode:t,tbodyNode:t.closest("tbody")}:{type:"wrapper",domNode:t,tbodyNode:t.querySelector("tbody")}}function IKe(e,t){const n=t.querySelectorAll(e);for(let r=0;r<n.length;r++)n[r].style.visibility="hidden"}let PKe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"tableId"),Ae(this,"tablePos"),Ae(this,"tableElement"),Ae(this,"menuFrozen",!1),Ae(this,"mouseState","up"),Ae(this,"prevWasEditable",null),Ae(this,"viewMousedownHandler",()=>{this.mouseState="down"}),Ae(this,"mouseUpHandler",i=>{this.mouseState="up",this.mouseMoveHandler(i)}),Ae(this,"mouseMoveHandler",i=>{var o,a,s,l,c,u,d;if(this.menuFrozen||this.mouseState==="selecting"||!(i.target instanceof Element)||!this.pmView.dom.contains(i.target))return;const p=RKe(i.target);if(p?.type==="cell"&&this.mouseState==="down"&&!((o=this.state)!=null&&o.draggingState)){this.mouseState="selecting",(a=this.state)!=null&&a.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!p||!this.editor.isEditable){(s=this.state)!=null&&s.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!p.tbodyNode)return;const m=p.tbodyNode.getBoundingClientRect(),v=she(p.domNode,this.pmView);if(!v)return;this.tableElement=v.node;let x;const w=this.editor.transact(N=>ls(v.id,N.doc));if(!w)throw new Error(`Block with ID ${v.id} not found`);const T=ni(w.node,this.editor.pmSchema,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema);if(Xr(this.editor,"table")&&(this.tablePos=w.posBeforeNode+1,x=T),!x)return;this.tableId=v.id;const k=(l=p.domNode.closest(".tableWrapper"))==null?void 0:l.querySelector(".table-widgets-container");if(p?.type==="wrapper"){const N=i.clientY>=m.bottom-1&&i.clientY<m.bottom+20,I=i.clientX>=m.right-1&&i.clientX<m.right+20,O=i.clientX>m.right||i.clientY>m.bottom;this.state={...this.state,show:!0,showAddOrRemoveRowsButton:N,showAddOrRemoveColumnsButton:I,referencePosTable:m,block:x,widgetContainer:k,colIndex:O||(c=this.state)==null?void 0:c.colIndex,rowIndex:O||(u=this.state)==null?void 0:u.rowIndex,referencePosCell:O||(d=this.state)==null?void 0:d.referencePosCell}}else{const N=wA(p.domNode),I=wA(p.domNode.parentElement),O=p.domNode.getBoundingClientRect();if(this.state!==void 0&&this.state.show&&this.tableId===v.id&&this.state.rowIndex===I&&this.state.colIndex===N)return;this.state={show:!0,showAddOrRemoveColumnsButton:N===x.content.rows[0].cells.length-1,showAddOrRemoveRowsButton:I===x.content.rows.length-1,referencePosTable:m,block:x,draggingState:void 0,referencePosCell:O,colIndex:N,rowIndex:I,widgetContainer:k}}return this.emitUpdate(),!1}),Ae(this,"dragOverHandler",i=>{var o;if(((o=this.state)==null?void 0:o.draggingState)===void 0)return;i.preventDefault(),i.dataTransfer.dropEffect="move",IKe(".prosemirror-dropcursor-block, .prosemirror-dropcursor-inline",this.pmView.root);const a={left:Math.min(Math.max(i.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(i.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},s=this.pmView.root.elementsFromPoint(a.left,a.top).filter(x=>x.tagName==="TD"||x.tagName==="TH");if(s.length===0)return;const l=s[0];let c=!1;const u=wA(l.parentElement),d=wA(l),p=this.state.draggingState.draggedCellOrientation==="row"?this.state.rowIndex:this.state.colIndex,m=(this.state.draggingState.draggedCellOrientation==="row"?u:d)!==p;(this.state.rowIndex!==u||this.state.colIndex!==d)&&(this.state.rowIndex=u,this.state.colIndex=d,this.state.referencePosCell=l.getBoundingClientRect(),c=!0);const v=this.state.draggingState.draggedCellOrientation==="row"?a.top:a.left;this.state.draggingState.mousePos!==v&&(this.state.draggingState.mousePos=v,c=!0),c&&this.emitUpdate(),m&&this.editor.transact(x=>x.setMeta(lE,!0))}),Ae(this,"dropHandler",i=>{if(this.mouseState="up",this.state===void 0||this.state.draggingState===void 0)return!1;if(this.state.rowIndex===void 0||this.state.colIndex===void 0)throw new Error("Attempted to drop table row or column, but no table block was hovered prior.");i.preventDefault();const{draggingState:o,colIndex:a,rowIndex:s}=this.state,l=this.state.block.content.columnWidths;if(o.draggedCellOrientation==="row"){if(!Mle(this.state.block,o.originalIndex,s))return!1;const c=pPe(this.state.block,o.originalIndex,s);this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,rows:c}})}else{if(!Dle(this.state.block,o.originalIndex,a))return!1;const c=hPe(this.state.block,o.originalIndex,a),[u]=l.splice(o.originalIndex,1);l.splice(a,0,u),this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,columnWidths:l,rows:c}})}return this.editor.setTextCursorPosition(this.state.block.id),!0}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized image toolbar");r(this.state)},n.dom.addEventListener("mousemove",this.mouseMoveHandler),n.dom.addEventListener("mousedown",this.viewMousedownHandler),window.addEventListener("mouseup",this.mouseUpHandler),n.root.addEventListener("dragover",this.dragOverHandler),n.root.addEventListener("drop",this.dropHandler)}update(){var t;if(!this.state||!this.state.show)return;if(this.state.block=this.editor.getBlock(this.state.block.id),!this.state.block||this.state.block.type!=="table"||!((t=this.tableElement)!=null&&t.isConnected)){this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate();return}const{height:n,width:r}=L9(this.state.block);this.state.rowIndex!==void 0&&this.state.colIndex!==void 0&&(this.state.rowIndex>=n&&(this.state.rowIndex=n-1),this.state.colIndex>=r&&(this.state.colIndex=r-1));const i=this.tableElement.querySelector("tbody");if(!i)throw new Error("Table block does not contain a 'tbody' HTML element. This should never happen.");if(this.state.rowIndex!==void 0&&this.state.colIndex!==void 0){const o=i.children[this.state.rowIndex].children[this.state.colIndex];o?this.state.referencePosCell=o.getBoundingClientRect():(this.state.rowIndex=void 0,this.state.colIndex=void 0)}this.state.referencePosTable=i.getBoundingClientRect(),this.emitUpdate()}destroy(){this.pmView.dom.removeEventListener("mousemove",this.mouseMoveHandler),window.removeEventListener("mouseup",this.mouseUpHandler),this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("dragover",this.dragOverHandler),this.pmView.root.removeEventListener("drop",this.dropHandler)}};const lE=new wn("TableHandlesPlugin");let LKe=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"colDragStart",n=>{if(this.view.state===void 0||this.view.state.colIndex===void 0)throw new Error("Attempted to drag table column, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:n.clientX},this.view.emitUpdate(),this.editor.transact(r=>r.setMeta(lE,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),!this.editor.headless&&(HG(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(Ds,0,0),n.dataTransfer.effectAllowed="move")}),Ae(this,"rowDragStart",n=>{if(this.view.state===void 0||this.view.state.rowIndex===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:n.clientY},this.view.emitUpdate(),this.editor.transact(r=>r.setMeta(lE,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),!this.editor.headless&&(HG(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(Ds,0,0),n.dataTransfer.effectAllowed="copyMove")}),Ae(this,"dragEnd",()=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor.transact(n=>n.setMeta(lE,null)),!this.editor.headless&&DKe(this.editor.prosemirrorView.root)}),Ae(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),Ae(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),Ae(this,"getCellsAtRowHandle",(n,r)=>gB(n,r)),Ae(this,"getCellsAtColumnHandle",(n,r)=>yB(n,r)),Ae(this,"setCellSelection",(n,r,i=r)=>{const o=this.view;if(!o)throw new Error("Table handles view not initialized");const a=n.doc.resolve(o.tablePos+1),s=n.doc.resolve(a.posAtIndex(r.row)+1),l=n.doc.resolve(s.posAtIndex(r.col)),c=n.doc.resolve(a.posAtIndex(i.row)+1),u=n.doc.resolve(c.posAtIndex(i.col)),d=n.tr;return d.setSelection(new Rr(l,u)),n.apply(d)}),Ae(this,"addRowOrColumn",(n,r)=>{this.editor.exec((i,o)=>{const a=this.setCellSelection(i,r.orientation==="row"?{row:n,col:0}:{row:0,col:n});return r.orientation==="row"?r.side==="above"?HPe(a,o):FPe(a,o):r.side==="left"?PPe(a,o):LPe(a,o)})}),Ae(this,"removeRowOrColumn",(n,r)=>r==="row"?this.editor.exec((i,o)=>{const a=this.setCellSelection(i,{row:n,col:0});return zPe(a,o)}):this.editor.exec((i,o)=>{const a=this.setCellSelection(i,{row:0,col:n});return BPe(a,o)})),Ae(this,"mergeCells",n=>this.editor.exec((r,i)=>{const o=n?this.setCellSelection(r,n.relativeStartCell,n.relativeEndCell):r;return qPe(o,i)})),Ae(this,"splitCell",n=>this.editor.exec((r,i)=>{const o=n?this.setCellSelection(r,n):r;return WPe(o,i)})),Ae(this,"getCellSelection",()=>this.editor.transact(n=>{const r=n.selection;let i=r.$from,o=r.$to;if(kB(r)){const{ranges:v}=r;v.forEach(x=>{i=x.$from.min(i??x.$from),o=x.$to.max(o??x.$to)})}else if(i=n.doc.resolve(r.$from.pos-r.$from.parentOffset-1),o=n.doc.resolve(r.$to.pos-r.$to.parentOffset-1),i.pos===0||o.pos===0)return;const a=n.doc.resolve(i.pos-i.parentOffset-1),s=n.doc.resolve(o.pos-o.parentOffset-1),l=n.doc.resolve(a.pos-a.parentOffset-1),c=i.index(a.depth),u=a.index(l.depth),d=o.index(s.depth),p=s.index(l.depth),m=[];for(let v=u;v<=p;v++)for(let x=c;x<=d;x++)m.push({row:v,col:x});return{from:{row:u,col:c},to:{row:p,col:d},cells:m}})),Ae(this,"getMergeDirection",n=>this.editor.transact(r=>{const i=kB(r.selection)?r.selection:void 0;if(!i||!n||i.ranges.length<=1)return;const o=this.getCellSelection();if(o)return yPe(o.from,o.to,n)?"vertical":"horizontal"})),Ae(this,"cropEmptyRowsOrColumns",(n,r)=>mPe(n,r)),Ae(this,"addRowsOrColumns",(n,r,i)=>gPe(n,r,i)),this.editor=t,this.addProsemirrorPlugin(new on({key:lE,view:n=>(this.view=new PKe(t,n,r=>{this.emit("update",r)}),this.view),props:{decorations:n=>{if(this.view===void 0||this.view.state===void 0||this.view.state.draggingState===void 0||this.view.tablePos===void 0)return;const r=this.view.state.draggingState.draggedCellOrientation==="row"?this.view.state.rowIndex:this.view.state.colIndex;if(r===void 0)return;const i=[],{block:o,draggingState:a}=this.view.state,{originalIndex:s,draggedCellOrientation:l}=a;if(r===s||!o||l==="row"&&!Mle(o,s,r)||l==="col"&&!Dle(o,s,r))return mn.create(n.doc,i);const c=n.doc.resolve(this.view.tablePos+1);return this.view.state.draggingState.draggedCellOrientation==="row"?gB(this.view.state.block,r).forEach(({row:u,col:d})=>{const p=n.doc.resolve(c.posAtIndex(u)+1),m=n.doc.resolve(p.posAtIndex(d)+1),v=m.node(),x=m.pos+(r>s?v.nodeSize-2:0);i.push(ir.widget(x,()=>{const w=document.createElement("div");return w.className="bn-table-drop-cursor",w.style.left="0",w.style.right="0",r>s?w.style.bottom="-2px":w.style.top="-3px",w.style.height="4px",w}))}):yB(this.view.state.block,r).forEach(({row:u,col:d})=>{const p=n.doc.resolve(c.posAtIndex(u)+1),m=n.doc.resolve(p.posAtIndex(d)+1),v=m.node(),x=m.pos+(r>s?v.nodeSize-2:0);i.push(ir.widget(x,()=>{const w=document.createElement("div");return w.className="bn-table-drop-cursor",w.style.top="0",w.style.bottom="0",r>s?w.style.right="-2px":w.style.left="-3px",w.style.width="4px",w}))}),mn.create(n.doc,i)}}}))}static key(){return"tableHandles"}onUpdate(t){return this.on("update",t)}};const jKe=ur.create({name:"textAlignment",addGlobalAttributes(){return[{types:["tableCell","tableHeader"],attributes:{textAlignment:{default:"left",parseHTML:e=>e.getAttribute("data-text-alignment"),renderHTML:e=>e.textAlignment==="left"?{}:{"data-text-alignment":e.textAlignment}}}}]}}),BKe=ur.create({name:"blockTextColor",addGlobalAttributes(){return[{types:["table","tableCell","tableHeader"],attributes:{textColor:d4e()}}]}}),$Ke=ur.create({name:"trailingNode",addProseMirrorPlugins(){const e=new wn(this.name);return[new on({key:e,appendTransaction:(t,n,r)=>{const{doc:i,tr:o,schema:a}=r,s=e.getState(r),l=i.content.size-2,c=a.nodes.blockContainer,u=a.nodes.paragraph;if(s)return o.insert(l,c.create(void 0,u.create()))},state:{init:(t,n)=>{},apply:(t,n)=>{if(!t.docChanged)return n;let r=t.doc.lastChild;if(!r||r.type.name!=="blockGroup")throw new Error("Expected blockGroup");if(r=r.lastChild,!r||r.type.name!=="blockContainer")return!0;const i=r.firstChild;if(!i)throw new Error("Expected blockContent");return r.nodeSize>4||i.type.spec.content!=="inline*"}}})]}}),HKe={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},FKe=zs.create({name:"blockContainer",group:"blockGroupChild bnBlock",content:"blockContent blockGroup?",priority:50,defining:!0,marks:"insertion modification deletion",parseHTML(){return[{tag:"div[data-node-type="+this.name+"]",getAttrs:e=>{if(typeof e=="string")return!1;const t={};for(const[n,r]of Object.entries(HKe))e.getAttribute(r)&&(t[n]=e.getAttribute(r));return t}},{tag:'div[data-node-type="blockOuter"]',skip:!0}]},renderHTML({HTMLAttributes:e}){var t;const n=document.createElement("div");n.className="bn-block-outer",n.setAttribute("data-node-type","blockOuter");for(const[o,a]of Object.entries(e))o!=="class"&&n.setAttribute(o,a);const r={...((t=this.options.domAttributes)==null?void 0:t.block)||{},...e},i=document.createElement("div");i.className=bi("bn-block",r.class),i.setAttribute("data-node-type",this.name);for(const[o,a]of Object.entries(r))o!=="class"&&i.setAttribute(o,a);return n.appendChild(i),{dom:n,contentDOM:i}}}),UKe=zs.create({name:"blockGroup",group:"childContainer",content:"blockGroupChild+",marks:"deletion insertion modification",parseHTML(){return[{tag:"div",getAttrs:e=>typeof e=="string"?!1:e.getAttribute("data-node-type")==="blockGroup"?null:!1}]},renderHTML({HTMLAttributes:e}){var t;const n={...((t=this.options.domAttributes)==null?void 0:t.blockGroup)||{},...e},r=document.createElement("div");r.className=bi("bn-block-group",n.class),r.setAttribute("data-node-type","blockGroup");for(const[i,o]of Object.entries(n))i!=="class"&&r.setAttribute(i,o);return{dom:r,contentDOM:r}}}),zKe=zs.create({name:"doc",topNode:!0,content:"blockGroup",marks:"insertion modification deletion"}),VKe=e=>{var t;const n={},r=qKe(e);for(const o of r)n[o.name]=o;e.collaboration&&(n.ySyncPlugin=new MO(e.collaboration.fragment),n.yUndoPlugin=new DO({editor:e.editor}),(t=e.collaboration.provider)!=null&&t.awareness&&(n.yCursorPlugin=new QF(e.collaboration)),n.forkYDocPlugin=new Jfe({editor:e.editor,collaboration:e.collaboration}),n.schemaMigrationPlugin=new YGe(e.collaboration.fragment)),n.formattingToolbar=new tKe(e.editor),n.linkToolbar=new fKe(e.editor),n.sideMenu=new EKe(e.editor),n.suggestionMenus=new AKe(e.editor),n.filePanel=new QGe(e.editor),n.placeholder=new gKe(e.editor,e.placeholders),(e.animations??!0)&&(n.animations=new bKe),e.tableHandles&&(n.tableHandles=new LKe(e.editor)),n.nodeSelectionKeyboard=new pKe,n.blockChange=new VGe,n.showSelection=new vKe(e.editor),e.comments&&(n.comments=new nhe(e.editor,e.comments.threadStore,RO.name,e.comments.resolveUsers,e.comments.schema));const i=e.disableExtensions||[];for(const o of i)delete n[o];return n};let FG=!1;const qKe=e=>{const t=[Ev.ClipboardTextSerializer,Ev.Commands,Ev.Editable,Ev.FocusEvents,Ev.Tabindex,SBe,ur.create({name:"dropCursor",addProseMirrorPlugins:()=>[e.dropCursor({width:5,color:"#ddeeff",editor:e.editor})]}),BT.configure({types:["blockContainer","columnList","column"],setIdAttribute:e.setIdAttribute}),nKe,KBe,NKe,OKe,MKe,GBe.extend({inclusive:!1}).configure({defaultProtocol:ahe,protocols:FG?[]:ohe}),...Object.values(e.styleSpecs).map(n=>n.implementation.mark.configure({editor:e.editor})),BKe,zGe,jKe,ur.create({name:"OverrideEscape",addKeyboardShortcuts(){return{Escape:()=>e.editor.suggestionMenus.shown?!1:this.editor.commands.blur()}}}),zKe,FKe.configure({editor:e.editor,domAttributes:e.domAttributes}),cKe.configure({editor:e.editor,tabBehavior:e.tabBehavior}),UKe.configure({domAttributes:e.domAttributes}),...Object.values(e.inlineContentSpecs).filter(n=>n.config!=="link"&&n.config!=="text").map(n=>n.implementation.node.configure({editor:e.editor})),...Object.values(e.blockSpecs).flatMap(n=>[..."node"in n.implementation?[n.implementation.node.configure({editor:e.editor,domAttributes:e.domAttributes})]:[]]),UGe(e.editor),LGe(e.editor,e.pasteHandler||(n=>n.defaultPasteHandler())),vGe(e.editor),...e.trailingBlock===void 0||e.trailingBlock?[$Ke]:[],...e.comments?[RO]:[]];return FG=!0,e.collaboration||t.push(EBe),t};function WKe(e){return e.transact(t=>{const n=eh(t.doc,t.selection.anchor);if(t.selection instanceof Rr)return{type:"cell",anchorBlockId:n.node.attrs.id,anchorCellOffset:t.selection.$anchorCell.pos-n.posBeforeNode,headCellOffset:t.selection.$headCell.pos-n.posBeforeNode};if(t.selection instanceof Rt)return{type:"node",anchorBlockId:n.node.attrs.id};{const r=eh(t.doc,t.selection.head);return{type:"text",anchorBlockId:n.node.attrs.id,headBlockId:r.node.attrs.id,anchorOffset:t.selection.anchor-n.posBeforeNode,headOffset:t.selection.head-r.posBeforeNode}}})}function YKe(e,t){var n,r;const i=(n=ls(t.anchorBlockId,e.doc))==null?void 0:n.posBeforeNode;if(i===void 0)throw new Error(`Could not find block with ID ${t.anchorBlockId} to update selection`);let o;if(t.type==="cell")o=Rr.create(e.doc,i+t.anchorCellOffset,i+t.headCellOffset);else if(t.type==="node")o=Rt.create(e.doc,i+1);else{const a=(r=ls(t.headBlockId,e.doc))==null?void 0:r.posBeforeNode;if(a===void 0)throw new Error(`Could not find block with ID ${t.headBlockId} to update selection`);o=Et.create(e.doc,i+t.anchorOffset,a+t.headOffset)}e.setSelection(o)}function w8(e){return e.map(t=>t.type==="columnList"?t.children.map(n=>w8(n.children)).flat():{...t,children:w8(t.children)}).flat()}function dhe(e,t,n){e.transact(r=>{var i;const o=((i=e.getSelection())==null?void 0:i.blocks)||[e.getTextCursorPosition().block],a=WKe(e);e.removeBlocks(o),e.insertBlocks(w8(o),t,n),YKe(r,a)})}function fhe(e){return!e||e.type!=="columnList"}function hhe(e,t,n){let r,i;if(t?t.children.length>0?(r=t.children[t.children.length-1],i="after"):(r=t,i="before"):n&&(r=n,i="before"),!r||!i)return;const o=e.getParentBlock(r);return fhe(o)?{referenceBlock:r,placement:i}:hhe(e,i==="after"?r:e.getPrevBlock(r),o)}function phe(e,t,n){let r,i;if(t?t.children.length>0?(r=t.children[0],i="before"):(r=t,i="after"):n&&(r=n,i="after"),!r||!i)return;const o=e.getParentBlock(r);return fhe(o)?{referenceBlock:r,placement:i}:phe(e,i==="before"?r:e.getNextBlock(r),o)}function GKe(e){e.transact(()=>{const t=e.getSelection(),n=t?.blocks[0]||e.getTextCursorPosition().block,r=hhe(e,e.getPrevBlock(n),e.getParentBlock(n));r&&dhe(e,r.referenceBlock,r.placement)})}function KKe(e){e.transact(()=>{const t=e.getSelection(),n=t?.blocks[t?.blocks.length-1]||e.getTextCursorPosition().block,r=phe(e,e.getNextBlock(n),e.getParentBlock(n));r&&dhe(e,r.referenceBlock,r.placement)})}function XKe(e,t){const n=typeof t=="string"?t:t.id,r=ho(e),i=ls(n,e);if(i)return ni(i.node,r)}function ZKe(e,t){const n=typeof t=="string"?t:t.id,r=ls(n,e),i=ho(e);if(!r)return;const o=e.resolve(r.posBeforeNode).nodeBefore;if(o)return ni(o,i)}function QKe(e,t){const n=typeof t=="string"?t:t.id,r=ls(n,e),i=ho(e);if(!r)return;const o=e.resolve(r.posBeforeNode+r.node.nodeSize).nodeAfter;if(o)return ni(o,i)}function JKe(e,t){const n=typeof t=="string"?t:t.id,r=ho(e),i=ls(n,e);if(!i)return;const o=e.resolve(i.posBeforeNode),a=o.node(),s=o.node(-1),l=s.type.name!=="doc"?a.type.name==="blockGroup"?s:a:void 0;if(l)return ni(l,r)}class eXe{constructor(t){this.editor=t}get document(){return this.editor.transact(t=>dPe(t.doc,this.editor.pmSchema))}getBlock(t){return this.editor.transact(n=>XKe(n.doc,t))}getPrevBlock(t){return this.editor.transact(n=>ZKe(n.doc,t))}getNextBlock(t){return this.editor.transact(n=>QKe(n.doc,t))}getParentBlock(t){return this.editor.transact(n=>JKe(n.doc,t))}forEachBlock(t,n=!1){const r=this.document.slice();n&&r.reverse();function i(o){for(const a of o){if(t(a)===!1)return!1;const s=n?a.children.slice().reverse():a.children;if(!i(s))return!1}return!0}i(r)}insertBlocks(t,n,r="before"){return this.editor.transact(i=>sGe(i,t,n,r))}updateBlock(t,n){return this.editor.transact(r=>s4e(r,t,n))}removeBlocks(t){return this.editor.transact(n=>OG(n,t,[]).removedBlocks)}replaceBlocks(t,n){return this.editor.transact(r=>OG(r,t,n))}canNestBlock(){return sKe(this.editor)}nestBlock(){ihe(this.editor)}canUnnestBlock(){return lKe(this.editor)}unnestBlock(){aKe(this.editor)}moveBlocksUp(){return GKe(this.editor)}moveBlocksDown(){return KKe(this.editor)}}class tXe{constructor(t,n){Ae(this,"editor"),Ae(this,"options"),Ae(this,"_commentsPlugin"),Ae(this,"_forkYDocPlugin"),Ae(this,"_syncPlugin"),Ae(this,"_undoPlugin"),Ae(this,"_cursorPlugin"),this.editor=t,this.options=n}get syncPlugin(){return this._syncPlugin}get undoPlugin(){return this._undoPlugin}get cursorPlugin(){return this._cursorPlugin}get forkYDocPlugin(){return this._forkYDocPlugin}initExtensions(){var t;const n={};if(this._syncPlugin=new MO(this.options.fragment),n.ySyncPlugin=this._syncPlugin,this._undoPlugin=new DO({editor:this.editor}),n.yUndoPlugin=this._undoPlugin,(t=this.options.provider)!=null&&t.awareness&&(this._cursorPlugin=new QF(this.options),n.yCursorPlugin=this._cursorPlugin),this._forkYDocPlugin=new Jfe({editor:this.editor,collaboration:this.options}),n.forkYDocPlugin=this._forkYDocPlugin,this.options.comments){if(!this.options.resolveUsers)throw new Error("resolveUsers is required when using comments");this._commentsPlugin=new nhe(this.editor,this.options.comments.threadStore,RO.name,this.options.resolveUsers,this.options.comments.schema),n.comments=this._commentsPlugin,n.commentMark=RO}return n}updateUserInfo(t){const n=this.cursorPlugin;if(!n)throw new Error("Cannot update collaboration user info when collaboration is disabled.");n.updateUser(t)}getUndoCommand(){return Bqe}getRedoCommand(){return $qe}shouldAvoidInitialContent(){return!!this.options.provider}getOptions(){return this.options}get comments(){return this._commentsPlugin}get hasComments(){return!!this.options.comments}get resolveUsers(){return this.options.resolveUsers}}class nXe extends FD{constructor(t){super(),this.editor=t,t.onCreate(()=>{t._tiptapEditor.on("update",({transaction:n,appendedTransactions:r})=>{this.emit("onChange",t,{getChanges(){return Gfe(n,r)}})}),t._tiptapEditor.on("selectionUpdate",({transaction:n})=>{this.emit("onSelectionChange",{editor:t,transaction:n})}),t._tiptapEditor.on("mount",()=>{this.emit("onMount",{editor:t})}),t._tiptapEditor.on("unmount",()=>{this.emit("onUnmount",{editor:t})})})}onChange(t){return this.on("onChange",t),()=>{this.off("onChange",t)}}onSelectionChange(t,n=!1){const r=i=>{i.transaction.getMeta("$y-sync")&&!n||t(this.editor)};return this.on("onSelectionChange",r),()=>{this.off("onSelectionChange",r)}}onMount(t){return this.on("onMount",t),()=>{this.off("onMount",t)}}onUnmount(t){return this.on("onUnmount",t),()=>{this.off("onUnmount",t)}}}function rXe(e){return Array.prototype.indexOf.call(e.parentElement.childNodes,e)}function iXe(e){return e.nodeType===3&&!/\S/.test(e.nodeValue||"")}function oXe(e){e.querySelectorAll("li > ul, li > ol").forEach(t=>{const n=rXe(t),r=t.parentElement,i=Array.from(r.childNodes).slice(n+1);t.remove(),i.forEach(o=>{o.remove()}),r.insertAdjacentElement("afterend",t),i.reverse().forEach(o=>{if(iXe(o))return;const a=document.createElement("li");a.append(o),t.insertAdjacentElement("afterend",a)}),r.childNodes.length===0&&r.remove()})}function aXe(e){e.querySelectorAll("li + ul, li + ol").forEach(t=>{var n,r;const i=t.previousElementSibling,o=document.createElement("div");i.insertAdjacentElement("afterend",o),o.append(i);const a=document.createElement("div");for(a.setAttribute("data-node-type","blockGroup"),o.append(a);((n=o.nextElementSibling)==null?void 0:n.nodeName)==="UL"||((r=o.nextElementSibling)==null?void 0:r.nodeName)==="OL";)a.append(o.nextElementSibling)})}let UG=null;function sXe(){return UG||(UG=document.implementation.createHTMLDocument("title"))}function lXe(e){if(typeof e=="string"){const t=sXe().createElement("div");t.innerHTML=e,e=t}return oXe(e),aXe(e),e}function mhe(e,t){const n=lXe(e),r=pu.fromSchema(t).parse(n,{topNode:t.nodes.blockGroup.create()}),i=[];for(let o=0;o<r.childCount;o++)i.push(ni(r.child(o),t));return i}function cXe(e,t){const n=t.value?t.value:"",r={};t.lang&&(r["data-language"]=t.lang);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function uXe(e,t){var n;const r=String(t?.url||""),i=t!=null&&t.title?String(t.title):void 0;let o={type:"element",tagName:"video",properties:{src:r,"data-name":i,"data-url":r,controls:!0},children:[]};return(n=e.patch)==null||n.call(e,t,o),o=e.applyData?e.applyData(t,o):o,o}function ghe(e){return Cfe().use(vWe).use(Efe).use(eYe,{handlers:{...h8,image:(t,n)=>{const r=String(n?.url||"");return WLe(r)?uXe(t,n):h8.image(t,n)},code:cXe}}).use(iGe).processSync(e).value}function dXe(e,t){const n=ghe(e);return mhe(n,t)}class fXe{constructor(t){this.editor=t}blocksToHTMLLossy(t=this.editor.document){return uR(this.editor.pmSchema,this.editor).exportBlocks(t,{})}blocksToFullHTML(t=this.editor.document){return hGe(this.editor.pmSchema,this.editor).serializeBlocks(t,{})}tryParseHTMLToBlocks(t){return mhe(t,this.editor.pmSchema)}blocksToMarkdownLossy(t=this.editor.document){return HGe(t,this.editor.pmSchema,this.editor,{})}tryParseMarkdownToBlocks(t){return dXe(t,this.editor.pmSchema)}pasteHTML(t,n=!1){var r;let i=t;if(!n){const o=this.tryParseHTMLToBlocks(t);i=this.blocksToFullHTML(o)}i&&((r=this.editor.prosemirrorView)==null||r.pasteHTML(i))}pasteText(t){var n;return(n=this.editor.prosemirrorView)==null?void 0:n.pasteText(t)}pasteMarkdown(t){const n=ghe(t);return this.pasteHTML(n)}}class hXe{constructor(t){this.editor=t}extension(t,n=t.key()){const r=this.editor.extensions[n];if(!r)throw new Error(`Extension ${n} not found`);return r}getExtensions(){return this.editor.extensions}getExtension(t){return this.editor.extensions[t]}hasExtension(t){return t in this.editor.extensions}get formattingToolbar(){return this.editor.extensions.formattingToolbar}get linkToolbar(){return this.editor.extensions.linkToolbar}get sideMenu(){return this.editor.extensions.sideMenu}get suggestionMenus(){return this.editor.extensions.suggestionMenus}get filePanel(){return this.editor.extensions.filePanel}get tableHandles(){return this.editor.extensions.tableHandles}get showSelectionPlugin(){return this.editor.extensions.showSelection}get isCollaborationEnabled(){return this.hasExtension("ySyncPlugin")||this.hasExtension("liveblocksExtension")}}function pXe(e){const t=ho(e);if(e.selection.empty||"node"in e.selection)return;const n=e.doc.resolve(eh(e.doc,e.selection.from).posBeforeNode),r=e.doc.resolve(eh(e.doc,e.selection.to).posBeforeNode),i=(c,u)=>{const d=n.posAtIndex(c,u),p=e.doc.resolve(d).nodeAfter;if(!p)throw new Error(`Error getting selection - node not found at position ${d}`);return ni(p,t)},o=[],a=n.sharedDepth(r.pos),s=n.index(a),l=r.index(a);if(n.depth>a){o.push(ni(n.nodeAfter,t));for(let c=n.depth;c>a;c--)if(n.node(c).type.isInGroup("childContainer")){const u=n.index(c)+1,d=n.node(c).childCount;for(let p=u;p<d;p++)o.push(i(p,c))}}else o.push(i(s,a));for(let c=s+1;c<=l;c++)o.push(i(c,a));if(o.length===0)throw new Error(`Error getting selection - selection doesn't span any blocks (${e.selection})`);return{blocks:o}}function mXe(e,t,n){const r=typeof t=="string"?t:t.id,i=typeof n=="string"?n:n.id,o=ho(e),a=HT(o);if(r===i)throw new Error(`Attempting to set selection with the same anchor and head blocks (id ${r})`);const s=ls(r,e.doc);if(!s)throw new Error(`Block with ID ${r} not found`);const l=ls(i,e.doc);if(!l)throw new Error(`Block with ID ${i} not found`);const c=th(s),u=th(l),d=a.blockSchema[c.blockNoteType],p=a.blockSchema[u.blockNoteType];if(!c.isBlockContainer||d.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${r})`);if(!u.isBlockContainer||p.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${i})`);let m,v;if(d.content==="table"){const x=ti.get(c.blockContent.node);m=c.blockContent.beforePos+x.positionAt(0,0,c.blockContent.node)+1+2}else m=c.blockContent.beforePos+1;if(p.content==="table"){const x=ti.get(u.blockContent.node),w=u.blockContent.beforePos+x.positionAt(x.height-1,x.width-1,u.blockContent.node)+1,T=e.doc.resolve(w).nodeAfter.nodeSize;v=w+T-2}else v=u.blockContent.afterPos-1;e.setSelection(Et.create(e.doc,m,v))}function gXe(e){const t=ho(e);let n=e.selection.$from,r=e.selection.$to;for(;r.parentOffset>=r.parent.nodeSize-2&&r.depth>0;)r=e.doc.resolve(r.pos+1);for(;r.parentOffset===0&&r.depth>0;)r=e.doc.resolve(r.pos-1);for(;n.parentOffset===0&&n.depth>0;)n=e.doc.resolve(n.pos-1);for(;n.parentOffset>=n.parent.nodeSize-2&&n.depth>0;)n=e.doc.resolve(n.pos+1);const i=fPe(e.doc.slice(n.pos,r.pos,!0),t);return{_meta:{startPos:n.pos,endPos:r.pos},...i}}function yXe(e){const{bnBlock:t}=$T(e),n=ho(e.doc),r=e.doc.resolve(t.beforePos),i=r.nodeBefore,o=e.doc.resolve(t.afterPos).nodeAfter;let a;return r.depth>1&&(a=r.node(),a.type.isInGroup("bnBlock")||(a=r.node(r.depth-1))),{block:ni(t.node,n),prevBlock:i===null?void 0:ni(i,n),nextBlock:o===null?void 0:ni(o,n),parentBlock:a===void 0?void 0:ni(a,n)}}function yhe(e,t,n="start"){const r=typeof t=="string"?t:t.id,i=ho(e.doc),o=HT(i),a=ls(r,e.doc);if(!a)throw new Error(`Block with ID ${r} not found`);const s=th(a),l=o.blockSchema[s.blockNoteType].content;if(s.isBlockContainer){const c=s.blockContent;if(l==="none"){e.setSelection(Rt.create(e.doc,c.beforePos));return}if(l==="inline")n==="start"?e.setSelection(Et.create(e.doc,c.beforePos+1)):e.setSelection(Et.create(e.doc,c.afterPos-1));else if(l==="table")n==="start"?e.setSelection(Et.create(e.doc,c.beforePos+4)):e.setSelection(Et.create(e.doc,c.afterPos-4));else throw new Rd(l)}else{const c=n==="start"?s.childContainer.node.firstChild:s.childContainer.node.lastChild;yhe(e,c.attrs.id,n)}}class bXe{constructor(t){this.editor=t}getSelection(){return this.editor.transact(t=>pXe(t))}getSelectionCutBlocks(){return this.editor.transact(t=>gXe(t))}setSelection(t,n){return this.editor.transact(r=>mXe(r,t,n))}getTextCursorPosition(){return this.editor.transact(t=>yXe(t))}setTextCursorPosition(t,n="start"){return this.editor.transact(r=>yhe(r,t,n))}getSelectionBoundingBox(){if(!this.editor.prosemirrorView)return;const{selection:t}=this.editor.prosemirrorState,{ranges:n}=t,r=Math.min(...n.map(o=>o.$from.pos)),i=Math.max(...n.map(o=>o.$to.pos));if(PN(t)){const o=this.editor.prosemirrorView.nodeDOM(r);if(o)return o.getBoundingClientRect()}return LN(this.editor.prosemirrorView,r,i)}}class vXe{constructor(t,n){Ae(this,"activeTransaction",null),Ae(this,"isInCan",!1),this.editor=t,this.options=n}can(t){try{return this.isInCan=!0,t()}finally{this.isInCan=!1}}exec(t){if(this.activeTransaction)throw new Error("`exec` should not be called within a `transact` call, move the `exec` call outside of the `transact` call");if(this.isInCan)return this.canExec(t);const n=this.prosemirrorState,r=this.prosemirrorView;return t(n,i=>this.prosemirrorView.dispatch(i),r)}canExec(t){if(this.activeTransaction)throw new Error("`canExec` should not be called within a `transact` call, move the `canExec` call outside of the `transact` call");const n=this.prosemirrorState,r=this.prosemirrorView;return t(n,void 0,r)}transact(t){if(this.activeTransaction)return t(this.activeTransaction);try{this.activeTransaction=this.editor._tiptapEditor.state.tr;const n=t(this.activeTransaction),r=this.activeTransaction;return this.activeTransaction=null,r&&(r.docChanged||r.selectionSet||r.scrolledIntoView||r.storedMarksSet||!r.isGeneric)&&this.prosemirrorView.dispatch(r),n}finally{this.activeTransaction=null}}get prosemirrorState(){if(this.activeTransaction)throw new Error("`prosemirrorState` should not be called within a `transact` call, move the `prosemirrorState` call outside of the `transact` call or use `editor.transact` to read the current editor state");return this.editor._tiptapEditor.state}get prosemirrorView(){return this.editor._tiptapEditor.view}isFocused(){var t;return((t=this.prosemirrorView)==null?void 0:t.hasFocus())||!1}focus(){var t;(t=this.prosemirrorView)==null||t.focus()}get isEditable(){if(!this.editor._tiptapEditor){if(!this.editor.headless)throw new Error("no editor, but also not headless?");return!1}return this.editor._tiptapEditor.isEditable===void 0?!0:this.editor._tiptapEditor.isEditable}set isEditable(t){if(!this.editor._tiptapEditor){if(!this.editor.headless)throw new Error("no editor, but also not headless?");return}this.editor._tiptapEditor.options.editable!==t&&this.editor._tiptapEditor.setEditable(t)}undo(){var t;return this.exec(((t=this.options)==null?void 0:t.undo)??pF)}redo(){var t;return this.exec(((t=this.options)==null?void 0:t.redo)??mF)}}function xXe(e,t,n,r={updateSelection:!0}){let{from:i,to:o}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},a=!0,s=!0,l="";if(n.forEach(c=>{c.check(),a&&c.isText&&c.marks.length===0?l+=c.text:a=!1,s=s?c.isBlock:!1}),i===o&&s){const{parent:c}=e.doc.resolve(i);c.isTextblock&&!c.type.spec.code&&!c.childCount&&(i-=1,o+=1)}return a?e.insertText(l,i,o):e.replaceWith(i,o,n),r.updateSelection&&ele(e,e.steps.length-1,-1),!0}class wXe{constructor(t){this.editor=t}insertInlineContent(t,{updateSelection:n=!1}={}){const r=vu(t,this.editor.pmSchema);this.editor.transact(i=>{xXe(i,{from:i.selection.from,to:i.selection.to},r,{updateSelection:n})})}getActiveStyles(){return this.editor.transact(t=>{const n={},r=t.selection.$to.marks();for(const i of r){const o=this.editor.schema.styleSchema[i.type.name];if(!o){i.type.name!=="link"&&!i.type.spec.blocknoteIgnore&&console.warn("mark not found in styleschema",i.type.name);continue}o.propSchema==="boolean"?n[o.type]=!0:n[o.type]=i.attrs.stringValue}return n})}addStyles(t){for(const[n,r]of Object.entries(t)){const i=this.editor.schema.styleSchema[n];if(!i)throw new Error(`style ${n} not found in styleSchema`);if(i.propSchema==="boolean")this.editor._tiptapEditor.commands.setMark(n);else if(i.propSchema==="string")this.editor._tiptapEditor.commands.setMark(n,{stringValue:r});else throw new Rd(i.propSchema)}}removeStyles(t){for(const n of Object.keys(t))this.editor._tiptapEditor.commands.unsetMark(n)}toggleStyles(t){for(const[n,r]of Object.entries(t)){const i=this.editor.schema.styleSchema[n];if(!i)throw new Error(`style ${n} not found in styleSchema`);if(i.propSchema==="boolean")this.editor._tiptapEditor.commands.toggleMark(n);else if(i.propSchema==="string")this.editor._tiptapEditor.commands.toggleMark(n,{stringValue:r});else throw new Rd(i.propSchema)}}getSelectedText(){return this.editor.transact(t=>t.doc.textBetween(t.selection.from,t.selection.to))}getSelectedLinkUrl(){return this.editor._tiptapEditor.getAttributes("link").href}createLink(t,n){if(t==="")return;const r=this.editor.pmSchema.mark("link",{href:t});this.editor.transact(i=>{const{from:o,to:a}=i.selection;n?i.insertText(n,o,a).addMark(o,o+n.length,r):i.setSelection(Et.create(i.doc,a)).addMark(o,a,r)})}}function SXe(e,t){const n=[];return e.forEach((r,i,o)=>{o!==t&&n.push(r)}),Fe.from(n)}function EXe(e,t){const n=[];for(let r=0;r<e.childCount;r++)if(e.child(r).type.name==="tableRow")if(n.length>0&&n[n.length-1].type.name==="table"){const i=n[n.length-1],o=i.copy(i.content.addToEnd(e.child(r)));n[n.length-1]=o}else{const i=t.nodes.table.createChecked(void 0,e.child(r));n.push(i)}else n.push(e.child(r));return e=Fe.from(n),e}function CXe(e,t){let n=Fe.from(e.content);if(n=EXe(n,t.state.schema),!TXe(n,t))return new at(n,e.openStart,e.openEnd);for(let r=0;r<n.childCount;r++)if(n.child(r).type.spec.group==="blockContent"){const i=[n.child(r)];if(r+1<n.childCount&&n.child(r+1).type.name==="blockGroup"){const a=n.child(r+1).child(0).child(0);(a.type.name==="bulletListItem"||a.type.name==="numberedListItem"||a.type.name==="checkListItem")&&(i.push(n.child(r+1)),n=SXe(n,r+1))}const o=t.state.schema.nodes.blockContainer.createChecked(void 0,i);n=n.replaceChild(r,o)}return new at(n,e.openStart,e.openEnd)}function TXe(e,t){var n,r;const i=e.childCount===1,o=((n=e.firstChild)==null?void 0:n.type.spec.content)==="inline*",a=((r=e.firstChild)==null?void 0:r.type.spec.content)==="tableRow+";if(i){if(o)return!1;if(a){const s=Ns(t.state);if(s.isBlockContainer)return s.blockContent.node.type.spec.content!=="tableRow+"}}return!0}const kXe={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};let bhe=class vhe extends FD{constructor(t){var n,r,i,o,a,s,l,c,u,d,p,m,v,x,w,T,k,N,I;super(),Ae(this,"pmSchema"),Ae(this,"extensions",{}),Ae(this,"_tiptapEditor"),Ae(this,"elementRenderer",null),Ae(this,"blockCache",new WeakMap),Ae(this,"dictionary"),Ae(this,"schema"),Ae(this,"blockImplementations"),Ae(this,"inlineContentImplementations"),Ae(this,"styleImplementations"),Ae(this,"uploadFile"),Ae(this,"onUploadStartCallbacks",[]),Ae(this,"onUploadEndCallbacks",[]),Ae(this,"resolveFileUrl"),Ae(this,"resolveUsers"),Ae(this,"settings"),Ae(this,"_blockManager"),Ae(this,"_collaborationManager"),Ae(this,"_eventManager"),Ae(this,"_exportManager"),Ae(this,"_extensionManager"),Ae(this,"_selectionManager"),Ae(this,"_stateManager"),Ae(this,"_styleManager"),Ae(this,"mount",Y=>{this._tiptapEditor.mount({mount:Y})}),Ae(this,"unmount",()=>{this._tiptapEditor.unmount()}),this.options=t;const O=t;if(O.onEditorContentChange)throw new Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(O.onTextCursorPositionChange)throw new Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(O.onEditorReady)throw new Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(O.editable)throw new Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");this.dictionary=t.dictionary||f8,this.settings={tables:{splitCells:((n=t?.tables)==null?void 0:n.splitCells)??!1,cellBackgroundColor:((r=t?.tables)==null?void 0:r.cellBackgroundColor)??!1,cellTextColor:((i=t?.tables)==null?void 0:i.cellTextColor)??!1,headers:((o=t?.tables)==null?void 0:o.headers)??!1}};const A={defaultStyles:!0,schema:t.schema||zD.create(),...t,placeholders:{...this.dictionary.placeholders,...t.placeholders}};if(A.collaboration||A.comments){const Y={fragment:((a=A.collaboration)==null?void 0:a.fragment)||new ym,user:((s=A.collaboration)==null?void 0:s.user)||{name:"User",color:"#FF0000"},provider:((l=A.collaboration)==null?void 0:l.provider)||null,renderCursor:(c=A.collaboration)==null?void 0:c.renderCursor,showCursorLabels:(u=A.collaboration)==null?void 0:u.showCursorLabels,comments:A.comments,resolveUsers:A.resolveUsers};this._collaborationManager=new tXe(this,Y)}else this._collaborationManager=void 0;if(A.comments&&!A.resolveUsers)throw new Error("resolveUsers is required when using comments");this.schema=A.schema,this.blockImplementations=A.schema.blockSpecs,this.inlineContentImplementations=A.schema.inlineContentSpecs,this.styleImplementations=A.schema.styleSpecs,this.extensions={...VKe({editor:this,domAttributes:A.domAttributes||{},blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:A.collaboration,trailingBlock:A.trailingBlock,disableExtensions:A.disableExtensions,setIdAttribute:A.setIdAttribute,animations:A.animations??!0,tableHandles:Xr(this,"table"),dropCursor:this.options.dropCursor??sce,placeholders:A.placeholders,tabBehavior:A.tabBehavior,pasteHandler:A.pasteHandler}),...(d=this._collaborationManager)==null?void 0:d.initExtensions()},(((p=A._tiptapOptions)==null?void 0:p.extensions)||[]).forEach(Y=>{this.extensions[Y.name]=Y});for(let Y of A.extensions||[]){typeof Y=="function"&&(Y=Y(this));const W=Y.key??Y.constructor.key();if(!W)throw new Error(`Extension ${Y.constructor.name} does not have a key method`);if(this.extensions[W])throw new Error(`Extension ${Y.constructor.name} already exists with key ${W}`);this.extensions[W]=Y}if(Object.entries(A._extensions||{}).forEach(([Y,W])=>{const Z=typeof W=="function"?W(this):W;if(!("plugin"in Z)){this.extensions[Y]=Z;return}this.extensions[Y]=new class extends uo{static key(){return Y}constructor(){super(),this.addProsemirrorPlugin(Z.plugin)}get priority(){return Z.priority}}}),A.uploadFile){const Y=A.uploadFile;this.uploadFile=async(W,Z)=>{this.onUploadStartCallbacks.forEach(V=>V.apply(this,[Z]));try{return await Y(W,Z)}finally{this.onUploadEndCallbacks.forEach(V=>V.apply(this,[Z]))}}}this.resolveFileUrl=A.resolveFileUrl;const R="ySyncPlugin"in this.extensions||"liveblocksExtension"in this.extensions;R&&A.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider");const L=Object.fromEntries(Object.values(this.schema.blockSpecs).map(Y=>Y.extensions).filter(Y=>Y!==void 0).flat().map(Y=>[Y.key??Y.constructor.key(),Y])),B=[...Object.entries({...this.extensions,...L}).map(([Y,W])=>{if(W instanceof ur||W instanceof zs||W instanceof Ll)return W;if(W instanceof uo)return!W.plugins.length&&!W.keyboardShortcuts&&!W.inputRules&&!W.tiptapExtensions?void 0:ur.create({name:Y,priority:W.priority,addProseMirrorPlugins:()=>W.plugins,addExtensions:()=>W.tiptapExtensions||[],addInputRules:W.inputRules?()=>W.inputRules.map(Z=>new ule({find:Z.find,handler:({range:V,match:ne,state:X})=>{const oe=Z.replace({match:ne,range:V,editor:this});if(oe){const K=this.getTextCursorPosition();if(this.schema.blockSchema[K.block.type].content!=="inline")return;const Q=$T(X.tr),te=X.tr.deleteRange(V.from,V.to);BD(te,Q.bnBlock.beforePos,oe);return}return null}})):void 0,addKeyboardShortcuts:W.keyboardShortcuts?()=>Object.fromEntries(Object.entries(W.keyboardShortcuts).map(([Z,V])=>[Z,()=>V({editor:this})])):void 0})})].filter(Y=>Y!==void 0),$={...kXe,...A._tiptapOptions,element:null,autofocus:A.autofocus??!1,extensions:B,editorProps:{...(m=A._tiptapOptions)==null?void 0:m.editorProps,attributes:{tabIndex:"0",...(x=(v=A._tiptapOptions)==null?void 0:v.editorProps)==null?void 0:x.attributes,...(w=A.domAttributes)==null?void 0:w.editor,class:bi("bn-editor",A.defaultStyles?"bn-default-styles":"",((k=(T=A.domAttributes)==null?void 0:T.editor)==null?void 0:k.class)||"")},transformPasted:CXe}};try{const Y=A.initialContent||(R?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:BT.options.generateID()}]);if(!Array.isArray(Y)||Y.length===0)throw new Error("initialContent must be a non-empty array of blocks, received: "+Y);const W=aIe($.extensions),Z=Y.map(ne=>dy(ne,W,this.schema.styleSchema).toJSON()),V=IN({type:"doc",content:[{type:"blockGroup",content:Z}]},W,$.parseOptions);this._tiptapEditor=new YIe({...$,content:V.toJSON()}),this.pmSchema=this._tiptapEditor.schema}catch(Y){throw new Error("Error creating document from blocks passed as `initialContent`",{cause:Y})}let q;const z=this.pmSchema.nodes.doc.createAndFill;this.pmSchema.nodes.doc.createAndFill=(...Y)=>{if(q)return q;const W=z.apply(this.pmSchema.nodes.doc,Y),Z=JSON.parse(JSON.stringify(W.toJSON()));return Z.content[0].content[0].attrs.id="initialBlockId",q=Ff.fromJSON(this.pmSchema,Z),q},this.pmSchema.cached.blockNoteEditor=this,this._blockManager=new eXe(this),this._eventManager=new nXe(this),this._exportManager=new fXe(this),this._extensionManager=new hXe(this),this._selectionManager=new bXe(this),this._stateManager=new vXe(this,R?{undo:(N=this._collaborationManager)==null?void 0:N.getUndoCommand(),redo:(I=this._collaborationManager)==null?void 0:I.getRedoCommand()}:void 0),this._styleManager=new wXe(this),this.emit("create")}get formattingToolbar(){return this._extensionManager.formattingToolbar}get linkToolbar(){return this._extensionManager.linkToolbar}get sideMenu(){return this._extensionManager.sideMenu}get suggestionMenus(){return this._extensionManager.suggestionMenus}get filePanel(){return this._extensionManager.filePanel}get tableHandles(){return this._extensionManager.tableHandles}get comments(){var t;return(t=this._collaborationManager)==null?void 0:t.comments}get showSelectionPlugin(){return this._extensionManager.showSelectionPlugin}get forkYDocPlugin(){var t;return(t=this._collaborationManager)==null?void 0:t.forkYDocPlugin}static create(t){return new vhe(t??{})}exec(t){return this._stateManager.exec(t)}canExec(t){return this._stateManager.canExec(t)}transact(t){return this._stateManager.transact(t)}extension(t,n=t.key()){return this._extensionManager.extension(t,n)}get prosemirrorState(){return this._stateManager.prosemirrorState}get prosemirrorView(){return this._stateManager.prosemirrorView}get domElement(){var t;if(!this.headless)return(t=this.prosemirrorView)==null?void 0:t.dom}isFocused(){var t;return this.headless?!1:((t=this.prosemirrorView)==null?void 0:t.hasFocus())||!1}get headless(){return!this._tiptapEditor.isInitialized}focus(){this.headless||this.prosemirrorView.focus()}blur(){this.headless||this.prosemirrorView.dom.blur()}onUploadStart(t){return this.onUploadStartCallbacks.push(t),()=>{const n=this.onUploadStartCallbacks.indexOf(t);n>-1&&this.onUploadStartCallbacks.splice(n,1)}}onUploadEnd(t){return this.onUploadEndCallbacks.push(t),()=>{const n=this.onUploadEndCallbacks.indexOf(t);n>-1&&this.onUploadEndCallbacks.splice(n,1)}}get topLevelBlocks(){return this.document}get document(){return this._blockManager.document}getBlock(t){return this._blockManager.getBlock(t)}getPrevBlock(t){return this._blockManager.getPrevBlock(t)}getNextBlock(t){return this._blockManager.getNextBlock(t)}getParentBlock(t){return this._blockManager.getParentBlock(t)}forEachBlock(t,n=!1){this._blockManager.forEachBlock(t,n)}onEditorContentChange(t){this._tiptapEditor.on("update",t)}onEditorSelectionChange(t){this._tiptapEditor.on("selectionUpdate",t)}getTextCursorPosition(){return this._selectionManager.getTextCursorPosition()}setTextCursorPosition(t,n="start"){return this._selectionManager.setTextCursorPosition(t,n)}getSelection(){return this._selectionManager.getSelection()}getSelectionCutBlocks(){return this._selectionManager.getSelectionCutBlocks()}setSelection(t,n){return this._selectionManager.setSelection(t,n)}get isEditable(){return this._stateManager.isEditable}set isEditable(t){this._stateManager.isEditable=t}insertBlocks(t,n,r="before"){return this._blockManager.insertBlocks(t,n,r)}updateBlock(t,n){return this._blockManager.updateBlock(t,n)}removeBlocks(t){return this._blockManager.removeBlocks(t)}replaceBlocks(t,n){return this._blockManager.replaceBlocks(t,n)}undo(){return this._stateManager.undo()}redo(){return this._stateManager.redo()}insertInlineContent(t,{updateSelection:n=!1}={}){this._styleManager.insertInlineContent(t,{updateSelection:n})}getActiveStyles(){return this._styleManager.getActiveStyles()}addStyles(t){this._styleManager.addStyles(t)}removeStyles(t){this._styleManager.removeStyles(t)}toggleStyles(t){this._styleManager.toggleStyles(t)}getSelectedText(){return this._styleManager.getSelectedText()}getSelectedLinkUrl(){return this._styleManager.getSelectedLinkUrl()}createLink(t,n){this._styleManager.createLink(t,n)}canNestBlock(){return this._blockManager.canNestBlock()}nestBlock(){this._blockManager.nestBlock()}canUnnestBlock(){return this._blockManager.canUnnestBlock()}unnestBlock(){this._blockManager.unnestBlock()}moveBlocksUp(){return this._blockManager.moveBlocksUp()}moveBlocksDown(){return this._blockManager.moveBlocksDown()}blocksToHTMLLossy(t=this.document){return this._exportManager.blocksToHTMLLossy(t)}blocksToFullHTML(t=this.document){return this._exportManager.blocksToFullHTML(t)}tryParseHTMLToBlocks(t){return this._exportManager.tryParseHTMLToBlocks(t)}blocksToMarkdownLossy(t=this.document){return this._exportManager.blocksToMarkdownLossy(t)}tryParseMarkdownToBlocks(t){return this._exportManager.tryParseMarkdownToBlocks(t)}updateCollaborationUserInfo(t){if(!this._collaborationManager)throw new Error("Cannot update collaboration user info when collaboration is disabled.");this._collaborationManager.updateUserInfo(t)}onChange(t){return this._eventManager.onChange(t)}onSelectionChange(t,n){return this._eventManager.onSelectionChange(t,n)}onCreate(t){return this.on("create",t),()=>{this.off("create",t)}}onMount(t){this._eventManager.onMount(t)}onUnmount(t){this._eventManager.onUnmount(t)}getSelectionBoundingBox(){return this._selectionManager.getSelectionBoundingBox()}get isEmpty(){const t=this.document;return t.length===0||t.length===1&&t[0].type==="paragraph"&&t[0].content.length===0}openSuggestionMenu(t,n){!this.prosemirrorView||this.headless||(this.focus(),this.transact(r=>{n!=null&&n.deleteTriggerCharacter&&r.insertText(t),r.scrollIntoView().setMeta(this.suggestionMenus.plugins[0],{triggerCharacter:t,deleteTriggerCharacter:n?.deleteTriggerCharacter||!1,ignoreQueryLength:n?.ignoreQueryLength||!1})}))}getForceSelectionVisible(){return this.showSelectionPlugin.getEnabled()}setForceSelectionVisible(t){this.showSelectionPlugin.setEnabled(t)}pasteHTML(t,n=!1){this._exportManager.pasteHTML(t,n)}pasteText(t){return this._exportManager.pasteText(t)}pasteMarkdown(t){return this._exportManager.pasteMarkdown(t)}},nL;async function _Xe(){return nL||(nL=(async()=>{const[e,t]=await Promise.all([wN(()=>import("./module-RjUF93sV.js"),[]),wN(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in e?e.default:e,r="default"in t?t.default:t;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),nL)}async function AXe(e,t){if(!("text"in e.schema.inlineContentSchema)||e.schema.inlineContentSchema.text!==mje.text)return[];const{emojiData:n,emojiMart:r}=await _Xe();return(t.trim()===""?Object.values(n.emojis):await r.SearchIndex.search(t)).map(i=>({id:i.skins[0].native,onItemClick:()=>e.insertInlineContent(i.skins[0].native+" ")}))}function NXe(e,...t){const n=[...e];for(const r of t)for(const i of r){const o=n.findLastIndex(a=>a.group===i.group);o===-1?n.push(i):n.splice(o+1,0,i)}return n}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var OXe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],S8=OXe.join(","),xhe=typeof Element>"u",NC=xhe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,IO=!xhe&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},PO=function e(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",a=o||n&&t&&e(t.parentNode);return a},MXe=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},DXe=function(t,n,r){if(PO(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(S8));return n&&NC.call(t,S8)&&i.unshift(t),i=i.filter(r),i},RXe=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!PO(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),l=s.length?s:a.children,c=e(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:a,candidates:c})}else{var u=NC.call(a,S8);u&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var d=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),p=!PO(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(d&&p){var m=e(d===!0?a.children:d.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:a,candidates:m})}else o.unshift.apply(o,a.children)}}return i},whe=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},She=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||MXe(t))&&!whe(t)?0:t.tabIndex},IXe=function(t,n){var r=She(t);return r<0&&n&&!whe(t)?0:r},PXe=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Ehe=function(t){return t.tagName==="INPUT"},LXe=function(t){return Ehe(t)&&t.type==="hidden"},jXe=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},BXe=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},$Xe=function(t){if(!t.name)return!0;var n=t.form||IO(t),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=BXe(i,t.form);return!o||o===t},HXe=function(t){return Ehe(t)&&t.type==="radio"},FXe=function(t){return HXe(t)&&!$Xe(t)},UXe=function(t){var n,r=t&&IO(t),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==t){var a,s,l;for(o=!!((a=i)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(i)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!o&&i;){var c,u,d;r=IO(i),i=(c=r)===null||c===void 0?void 0:c.host,o=!!((u=i)!==null&&u!==void 0&&(d=u.ownerDocument)!==null&&d!==void 0&&d.contains(i))}}return o},zG=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},zXe=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=NC.call(t,"details>summary:first-of-type"),a=o?t.parentElement:t;if(NC.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var s=t;t;){var l=t.parentElement,c=IO(t);if(l&&!l.shadowRoot&&i(l)===!0)return zG(t);t.assignedSlot?t=t.assignedSlot:!l&&c!==t.ownerDocument?t=c.host:t=l}t=s}if(UXe(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return zG(t);return!1},VXe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return NC.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},qXe=function(t,n){return!(n.disabled||PO(n)||LXe(n)||zXe(n,t)||jXe(n)||VXe(n))},VG=function(t,n){return!(FXe(n)||She(n)<0||!qXe(t,n))},WXe=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},YXe=function e(t){var n=[],r=[];return t.forEach(function(i,o){var a=!!i.scopeParent,s=a?i.scopeParent:i,l=IXe(s,a),c=a?e(i.candidates):s;l===0?a?n.push.apply(n,c):n.push(s):r.push({documentOrder:o,tabIndex:l,item:i,isScope:a,content:c})}),r.sort(PXe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},Che=function(t,n){n=n||{};var r;return n.getShadowRoot?r=RXe([t],n.includeContainer,{filter:VG.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:WXe}):r=DXe(t,n.includeContainer,VG.bind(null,n)),YXe(r)};function GXe(){return/apple/i.test(navigator.vendor)}function KXe(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function E8(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&G6(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function BS(e){return"composedPath"in e?e.composedPath()[0]:e.target}function rL(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function XXe(e){return e.matches("html,body")}function OC(e){return e?.ownerDocument||document}function cN(e,t,n){return n===void 0&&(n=!0),e.filter(i=>{var o;return i.parentId===t&&(!n||((o=i.context)==null?void 0:o.open))}).flatMap(i=>[i,...cN(e,i.id,n)])}function ZXe(e){return"nativeEvent"in e}var QXe=typeof document<"u",JXe=function(){},_d=QXe?C.useLayoutEffect:JXe;const eZe={...mT};function SA(e){const t=C.useRef(e);return _d(()=>{t.current=e}),t}const tZe=eZe.useInsertionEffect,nZe=tZe||(e=>e());function _v(e){const t=C.useRef(()=>{});return nZe(()=>{t.current=e}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}const The=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function khe(e,t){const n=Che(e,The()),r=n.length;if(r===0)return;const i=KXe(OC(e)),o=n.indexOf(i),a=o===-1?t===1?0:r-1:o+t;return n[a]}function rZe(e){return khe(OC(e).body,1)||e}function iZe(e){return khe(OC(e).body,-1)||e}function iL(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!E8(n,r)}function oZe(e){Che(e,The()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function qG(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const aZe="data-floating-ui-focusable",WG="active",YG="selected",sZe={...mT};let GG=!1,lZe=0;const KG=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lZe++;function cZe(){const[e,t]=C.useState(()=>GG?KG():void 0);return _d(()=>{e==null&&t(KG())},[]),C.useEffect(()=>{GG=!0},[]),e}const uZe=sZe.useId,_he=uZe||cZe;function dZe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const fZe=C.createContext(null),hZe=C.createContext(null),pZe=()=>{var e;return((e=C.useContext(fZe))==null?void 0:e.id)||null},Ahe=()=>C.useContext(hZe);function JF(e){return"data-floating-ui-"+e}const Nhe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},XG=C.forwardRef(function(t,n){const[r,i]=C.useState();_d(()=>{GXe()&&i("button")},[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[JF("focus-guard")]:"",style:Nhe};return g.jsx("span",{...t,...o})}),Ohe=C.createContext(null),ZG=JF("portal");function mZe(e){e===void 0&&(e={});const{id:t,root:n}=e,r=_he(),i=yZe(),[o,a]=C.useState(null),s=C.useRef(null);return _d(()=>()=>{o?.remove(),queueMicrotask(()=>{s.current=null})},[o]),_d(()=>{if(!r||s.current)return;const l=t?document.getElementById(t):null;if(!l)return;const c=document.createElement("div");c.id=r,c.setAttribute(ZG,""),l.appendChild(c),s.current=c,a(c)},[t,r]),_d(()=>{if(n===null||!r||s.current)return;let l=n||i?.portalNode;l&&!VH(l)&&(l=l.current),l=l||document.body;let c=null;t&&(c=document.createElement("div"),c.id=t,l.appendChild(c));const u=document.createElement("div");u.id=r,u.setAttribute(ZG,""),l=c||l,l.appendChild(u),s.current=u,a(u)},[t,n,r,i]),o}function gZe(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,o=mZe({id:n,root:r}),[a,s]=C.useState(null),l=C.useRef(null),c=C.useRef(null),u=C.useRef(null),d=C.useRef(null),p=a?.modal,m=a?.open,v=!!a&&!a.modal&&a.open&&i&&!!(r||o);return C.useEffect(()=>{if(!o||!i||p)return;function x(w){o&&iL(w)&&(w.type==="focusin"?qG:oZe)(o)}return o.addEventListener("focusin",x,!0),o.addEventListener("focusout",x,!0),()=>{o.removeEventListener("focusin",x,!0),o.removeEventListener("focusout",x,!0)}},[o,i,p]),C.useEffect(()=>{o&&(m||qG(o))},[m,o]),g.jsxs(Ohe.Provider,{value:C.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:u,afterInsideRef:d,portalNode:o,setFocusManagerState:s}),[i,o]),children:[v&&o&&g.jsx(XG,{"data-type":"outside",ref:l,onFocus:x=>{if(iL(x,o)){var w;(w=u.current)==null||w.focus()}else{const T=a?a.domReference:null,k=iZe(T);k?.focus()}}}),v&&o&&g.jsx("span",{"aria-owns":o.id,style:Nhe}),o&&Ta.createPortal(t,o),v&&o&&g.jsx(XG,{"data-type":"outside",ref:c,onFocus:x=>{if(iL(x,o)){var w;(w=d.current)==null||w.focus()}else{const T=a?a.domReference:null,k=rZe(T);k?.focus(),a?.closeOnFocusOut&&a?.onOpenChange(!1,x.nativeEvent,"focus-out")}}})]})}const yZe=()=>C.useContext(Ohe),bZe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},vZe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},QG=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function xZe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:a=!0,escapeKey:s=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:p=!1,bubbles:m,capture:v}=t,x=Ahe(),w=_v(typeof l=="function"?l:()=>!1),T=typeof l=="function"?w:l,k=C.useRef(!1),{escapeKey:N,outsidePress:I}=QG(m),{escapeKey:O,outsidePress:A}=QG(v),R=C.useRef(!1),L=_v(W=>{var Z;if(!n||!a||!s||W.key!=="Escape"||R.current)return;const V=(Z=o.current.floatingContext)==null?void 0:Z.nodeId,ne=x?cN(x.nodesRef.current,V):[];if(!N&&(W.stopPropagation(),ne.length>0)){let X=!0;if(ne.forEach(oe=>{var K;if((K=oe.context)!=null&&K.open&&!oe.context.dataRef.current.__escapeKeyBubbles){X=!1;return}}),!X)return}r(!1,ZXe(W)?W.nativeEvent:W,"escape-key")}),B=_v(W=>{var Z;const V=()=>{var ne;L(W),(ne=BS(W))==null||ne.removeEventListener("keydown",V)};(Z=BS(W))==null||Z.addEventListener("keydown",V)}),$=_v(W=>{var Z;const V=o.current.insideReactTree;o.current.insideReactTree=!1;const ne=k.current;if(k.current=!1,c==="click"&&ne||V||typeof T=="function"&&!T(W))return;const X=BS(W),oe="["+JF("inert")+"]",K=OC(i.floating).querySelectorAll(oe);let Q=qi(X)?X:null;for(;Q&&!$f(Q);){const se=Qf(Q);if($f(se)||!qi(se))break;Q=se}if(K.length&&qi(X)&&!XXe(X)&&!E8(X,i.floating)&&Array.from(K).every(se=>!E8(Q,se)))return;if(bu(X)&&Y){const se=$f(X),we=xc(X),ve=/auto|scroll/,je=se||ve.test(we.overflowX),Te=se||ve.test(we.overflowY),He=je&&X.clientWidth>0&&X.scrollWidth>X.clientWidth,Ge=Te&&X.clientHeight>0&&X.scrollHeight>X.clientHeight,De=we.direction==="rtl",Ft=Ge&&(De?W.offsetX<=X.offsetWidth-X.clientWidth:W.offsetX>X.clientWidth),Ee=He&&W.offsetY>X.clientHeight;if(Ft||Ee)return}const te=(Z=o.current.floatingContext)==null?void 0:Z.nodeId,U=x&&cN(x.nodesRef.current,te).some(se=>{var we;return rL(W,(we=se.context)==null?void 0:we.elements.floating)});if(rL(W,i.floating)||rL(W,i.domReference)||U)return;const he=x?cN(x.nodesRef.current,te):[];if(he.length>0){let se=!0;if(he.forEach(we=>{var ve;if((ve=we.context)!=null&&ve.open&&!we.context.dataRef.current.__outsidePressBubbles){se=!1;return}}),!se)return}r(!1,W,"outside-press")}),q=_v(W=>{var Z;const V=()=>{var ne;$(W),(ne=BS(W))==null||ne.removeEventListener(c,V)};(Z=BS(W))==null||Z.addEventListener(c,V)});C.useEffect(()=>{if(!n||!a)return;o.current.__escapeKeyBubbles=N,o.current.__outsidePressBubbles=I;let W=-1;function Z(K){r(!1,K,"ancestor-scroll")}function V(){window.clearTimeout(W),R.current=!0}function ne(){W=window.setTimeout(()=>{R.current=!1},fD()?5:0)}const X=OC(i.floating);s&&(X.addEventListener("keydown",O?B:L,O),X.addEventListener("compositionstart",V),X.addEventListener("compositionend",ne)),T&&X.addEventListener(c,A?q:$,A);let oe=[];return p&&(qi(i.domReference)&&(oe=Yp(i.domReference)),qi(i.floating)&&(oe=oe.concat(Yp(i.floating))),!qi(i.reference)&&i.reference&&i.reference.contextElement&&(oe=oe.concat(Yp(i.reference.contextElement)))),oe=oe.filter(K=>{var Q;return K!==((Q=X.defaultView)==null?void 0:Q.visualViewport)}),oe.forEach(K=>{K.addEventListener("scroll",Z,{passive:!0})}),()=>{s&&(X.removeEventListener("keydown",O?B:L,O),X.removeEventListener("compositionstart",V),X.removeEventListener("compositionend",ne)),T&&X.removeEventListener(c,A?q:$,A),oe.forEach(K=>{K.removeEventListener("scroll",Z)}),window.clearTimeout(W)}},[o,i,s,T,c,n,r,p,a,N,I,L,O,B,$,A,q]),C.useEffect(()=>{o.current.insideReactTree=!1},[o,T,c]);const z=C.useMemo(()=>({onKeyDown:L,...u&&{[bZe[d]]:W=>{r(!1,W.nativeEvent,"reference-press")},...d!=="click"&&{onClick(W){r(!1,W.nativeEvent,"reference-press")}}}}),[L,r,u,d]),Y=C.useMemo(()=>({onKeyDown:L,onMouseDown(){k.current=!0},onMouseUp(){k.current=!0},[vZe[c]]:()=>{o.current.insideReactTree=!0}}),[L,c,o]);return C.useMemo(()=>a?{reference:z,floating:Y}:{},[a,z,Y])}function wZe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=_he(),o=C.useRef({}),[a]=C.useState(()=>dZe()),s=pZe()!=null,[l,c]=C.useState(r.reference),u=_v((m,v,x)=>{o.current.openEvent=m?v:void 0,a.emit("openchange",{open:m,event:v,reason:x,nested:s}),n?.(m,v,x)}),d=C.useMemo(()=>({setPositionReference:c}),[]),p=C.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return C.useMemo(()=>({dataRef:o,open:t,onOpenChange:u,elements:p,events:a,floatingId:i,refs:d}),[t,u,p,a,i,d])}function e7(e){e===void 0&&(e={});const{nodeId:t}=e,n=wZe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,a]=C.useState(null),[s,l]=C.useState(null),u=i?.domReference||o,d=C.useRef(null),p=Ahe();_d(()=>{u&&(d.current=u)},[u]);const m=Zoe({...e,elements:{...i,...s&&{reference:s}}}),v=C.useCallback(N=>{const I=qi(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;l(I),m.refs.setReference(I)},[m.refs]),x=C.useCallback(N=>{(qi(N)||N===null)&&(d.current=N,a(N)),(qi(m.refs.reference.current)||m.refs.reference.current===null||N!==null&&!qi(N))&&m.refs.setReference(N)},[m.refs]),w=C.useMemo(()=>({...m.refs,setReference:x,setPositionReference:v,domReference:d}),[m.refs,x,v]),T=C.useMemo(()=>({...m.elements,domReference:u}),[m.elements,u]),k=C.useMemo(()=>({...m,...r,refs:w,elements:T,nodeId:t}),[m,w,T,t,r]);return _d(()=>{r.dataRef.current.floatingContext=k;const N=p?.nodesRef.current.find(I=>I.id===t);N&&(N.context=k)}),C.useMemo(()=>({...m,context:k,refs:w,elements:T}),[m,w,T,k])}function oL(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[WG]:a,[YG]:s,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[aZe]:""},...o,...t.map(a=>{const s=a?a[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((a,s)=>(s&&Object.entries(s).forEach(l=>{let[c,u]=l;if(!(i&&[WG,YG].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var d;(d=r.get(c))==null||d.push(u),a[c]=function(){for(var p,m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];return(p=r.get(c))==null?void 0:p.map(w=>w(...v)).find(w=>w!==void 0)}}}else a[c]=u}),a),{})}}function SZe(e){e===void 0&&(e=[]);const t=e.map(s=>s?.reference),n=e.map(s=>s?.floating),r=e.map(s=>s?.item),i=C.useCallback(s=>oL(s,e,"reference"),t),o=C.useCallback(s=>oL(s,e,"floating"),n),a=C.useCallback(s=>oL(s,e,"item"),r);return C.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:a}),[i,o,a])}const JG=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function fv(e,t){return typeof e=="function"?e(t):e}function EZe(e,t){const[n,r]=C.useState(e);return e&&!n&&r(!0),C.useEffect(()=>{if(!e&&n){const i=setTimeout(()=>r(!1),t);return()=>clearTimeout(i)}},[e,n,t]),n}function CZe(e,t){t===void 0&&(t={});const{open:n,elements:{floating:r}}=e,{duration:i=250}=t,a=(typeof i=="number"?i:i.close)||0,[s,l]=C.useState("unmounted"),c=EZe(n,a);return!c&&s==="close"&&l("unmounted"),_d(()=>{if(r){if(n){l("initial");const u=requestAnimationFrame(()=>{Ta.flushSync(()=>{l("open")})});return()=>{cancelAnimationFrame(u)}}l("close")}},[n,r]),{isMounted:c,status:s}}function t7(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:r,close:i,common:o,duration:a=250}=t,s=e.placement,l=s.split("-")[0],c=C.useMemo(()=>({side:l,placement:s}),[l,s]),u=typeof a=="number",d=(u?a:a.open)||0,p=(u?a:a.close)||0,[m,v]=C.useState(()=>({...fv(o,c),...fv(n,c)})),{isMounted:x,status:w}=CZe(e,{duration:a}),T=SA(n),k=SA(r),N=SA(i),I=SA(o);return _d(()=>{const O=fv(T.current,c),A=fv(N.current,c),R=fv(I.current,c),L=fv(k.current,c)||Object.keys(O).reduce((B,$)=>(B[$]="",B),{});if(w==="initial"&&v(B=>({transitionProperty:B.transitionProperty,...R,...O})),w==="open"&&v({transitionProperty:Object.keys(L).map(JG).join(","),transitionDuration:d+"ms",...R,...L}),w==="close"){const B=A||O;v({transitionProperty:Object.keys(B).map(JG).join(","),transitionDuration:p+"ms",...R,...B})}},[p,N,T,k,I,d,w,c]),{isMounted:x,styles:m}}var aL={exports:{}},sL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eK;function TZe(){if(eK)return sL;eK=1;var e=pT();function t(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,a=e.useDebugValue;function s(d,p){var m=p(),v=r({inst:{value:m,getSnapshot:p}}),x=v[0].inst,w=v[1];return o(function(){x.value=m,x.getSnapshot=p,l(x)&&w({inst:x})},[d,m,p]),i(function(){return l(x)&&w({inst:x}),d(function(){l(x)&&w({inst:x})})},[d]),a(m),m}function l(d){var p=d.getSnapshot;d=d.value;try{var m=p();return!n(d,m)}catch{return!0}}function c(d,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return sL.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,sL}var tK;function Mhe(){return tK||(tK=1,aL.exports=TZe()),aL.exports}var Dhe=Mhe(),lL={exports:{}},cL={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nK;function kZe(){if(nK)return cL;nK=1;var e=pT(),t=Mhe();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,a=e.useEffect,s=e.useMemo,l=e.useDebugValue;return cL.useSyncExternalStoreWithSelector=function(c,u,d,p,m){var v=o(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=s(function(){function T(A){if(!k){if(k=!0,N=A,A=p(A),m!==void 0&&x.hasValue){var R=x.value;if(m(R,A))return I=R}return I=A}if(R=I,r(N,A))return R;var L=p(A);return m!==void 0&&m(R,L)?(N=A,R):(N=A,I=L)}var k=!1,N,I,O=d===void 0?null:d;return[function(){return T(u())},O===null?void 0:function(){return T(O())}]},[u,d,p,m]);var w=i(c,v[0],v[1]);return a(function(){x.hasValue=!0,x.value=w},[w]),l(w),w},cL}var rK;function _Ze(){return rK||(rK=1,lL.exports=kZe()),lL.exports}_Ze();var AZe=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},NZe=({contentComponent:e})=>{const t=Dhe.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return g.jsx(g.Fragment,{children:Object.values(t)})};function OZe(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:bH.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}var MZe=class extends F.Component{constructor(e){var t;super(e),this.editorContentRef=F.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=OZe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:AZe(t,this.editorContentRef),...n}),e?.contentComponent&&g.jsx(NZe,{contentComponent:e.contentComponent})]})}},DZe=C.forwardRef((e,t)=>{const n=F.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return F.createElement(MZe,{key:n,innerRef:t,...e})});F.memo(DZe);var RZe=C.createContext({editor:null});RZe.Consumer;var Rhe=C.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Ihe=()=>C.useContext(Rhe),IZe=F.forwardRef((e,t)=>{const{onDragStart:n}=Ihe(),r=e.as||"div";return g.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function iK(e){return!!(typeof e=="function"&&e.prototype&&e.prototype.isReactComponent)}function oK(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.forward_ref)"||e.$$typeof.description==="react.forward_ref"))}function PZe(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.memo)"||e.$$typeof.description==="react.memo"))}function LZe(e){if(iK(e)||oK(e))return!0;if(PZe(e)){const t=e.type;if(t)return iK(t)||oK(t)}return!1}function jZe(){try{if(C.version)return parseInt(C.version.split(".")[0],10)>=19}catch{}return!1}var BZe=class{constructor(e,{editor:t,props:n={},as:r="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?Ta.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var e;const t=this.component,n=this.props,r=this.editor,i=jZe(),o=LZe(t),a={...n};a.ref&&!(i||o)&&delete a.ref,!a.ref&&(i||o)&&(a.ref=s=>{this.ref=s}),this.reactElement=g.jsx(t,{...a}),(e=r?.contentComponent)==null||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t?.contentComponent)==null||e.removeRenderer(this.id);try{this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}catch{}}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}};F.createContext({markViewContentRef:()=>{}});var $Ze=class extends rPe{constructor(e,t,n){if(super(e,t,n),!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const r=this.dom.querySelector("[data-node-view-content]");if(!r)return;r.appendChild(this.contentDOMElement)}}mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(l={})=>this.updateAttributes(l),deleteNode:()=>this.deleteNode(),ref:C.createRef()};if(!this.component.displayName){const l=c=>c.charAt(0).toUpperCase()+c.substring(1);this.component.displayName=l(this.extension.name)}const r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:l=>{l&&this.contentDOMElement&&l.firstChild!==this.contentDOMElement&&(l.hasAttribute("data-node-view-wrapper")&&l.removeAttribute("data-node-view-wrapper"),l.appendChild(this.contentDOMElement))}},i=this.component,o=C.memo(l=>g.jsx(Rhe.Provider,{value:r,children:C.createElement(i,l)}));o.displayName="ReactNodeView";let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);const{className:s=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new BZe(o,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${s}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!((e=this.renderer.element.firstElementChild)!=null&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,n=this.getPos();if(typeof n=="number")if(e<=n&&t>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,n){const r=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,o=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:e,newDecorations:t,oldInnerDecorations:a,innerDecorations:n,updateProps:()=>r({node:e,decorations:t,innerDecorations:n})})}return e===this.node&&this.decorations===t&&this.innerDecorations===n||(this.node=e,this.decorations=t,this.innerDecorations=n,r({node:e,decorations:t,innerDecorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,n=cC(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:n})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}};function HZe(e,t){return n=>n.editor.contentComponent?new $Ze(e,n,t):{}}const Phe=C.createContext(void 0);function Ud(e){return C.useContext(Phe)}function Xt(e){const t=Ud();if(!(t!=null&&t.editor))throw new Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return t.editor}function n7(e,t,n){const r=Ud();t||(t=r?.editor),C.useEffect(()=>{if(!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return t.onSelectionChange(e,n)},[e,t,n])}function FZe(e,t){const n=Xt();t=t||n;const[r,i]=C.useState(()=>{if(e)return t.getSelectionBoundingBox()}),o=C.useCallback(()=>{if(!e)return;const a=t.getSelectionBoundingBox();i(a)},[t,e]);return n7(o,t,!0),C.useEffect(()=>{i(e?t.getSelectionBoundingBox():void 0)},[e,t]),r}function UZe(e){return e.getBoundingClientRect!==void 0}function km(e,t,n,r){const{refs:i,update:o,context:a,floatingStyles:s,isPositioned:l}=e7({open:e,...r}),{isMounted:c,styles:u}=t7(a),d=typeof r?.canDismiss=="object"?r.canDismiss:{enabled:r?.canDismiss},p=xZe(a,d),{getReferenceProps:m,getFloatingProps:v}=SZe([p]);return C.useEffect(()=>{t!==null&&(t instanceof HTMLElement||UZe(t)?i.setReference(t):i.setReference({getBoundingClientRect:()=>t}),o())},[t,i,o]),C.useMemo(()=>({isMounted:c,ref:i.setFloating,setReference:i.setReference,style:{display:"flex",...u,...s,zIndex:n},getFloatingProps:v,getReferenceProps:m,isPositioned:l}),[l,s,c,i.setFloating,i.setReference,u,n,v,m])}function hh(e){const[t,n]=C.useState();return C.useEffect(()=>e(r=>{n({...r})}),[e]),t}const Lhe=C.createContext(void 0);function zt(){return C.useContext(Lhe)}const r7=(e={},t=[])=>C.useMemo(()=>{const n=bhe.create(e);return window&&(window.ProseMirror=n._tiptapEditor),n},t);function gn(){return Ud().editor.dictionary}function dR(e,t){const n=Ud();t||(t=n?.editor),C.useEffect(()=>{if(!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return t.onChange(e)},[e,t])}const i7=e=>{const[t,n]=C.useState(!1),[r,i]=C.useState(e.editor.isEmpty),o=zt();dR(()=>{i(e.editor.isEmpty)},e.editor);const a=C.useCallback(()=>{n(!0)},[]),s=C.useCallback(()=>{n(!1)},[]);return C.useEffect(()=>{e.editable&&e.autoFocus&&e.editor.focus()},[e.autoFocus,e.editable,e.editor]),g.jsxs(g.Fragment,{children:[g.jsx(o.Comments.Editor,{autoFocus:e.autoFocus,className:"bn-comment-editor",editor:e.editor,onFocus:a,onBlur:s,editable:e.editable}),e.actions&&g.jsx("div",{className:"bn-comment-actions-wrapper",children:g.jsx(e.actions,{isFocused:t,isEmpty:r})})]})},{textColor:FTt,backgroundColor:UTt,...zZe}=W9,o7=zD.create({blockSpecs:{paragraph:tce()},styleSpecs:zZe});function VZe(){const e=Xt();if(!e.comments)throw new Error("Comments plugin not found");const t=e.comments,n=zt(),r=gn(),i=r7({trailingBlock:!1,dictionary:{...r,placeholders:{emptyDocument:r.placeholders.new_comment}},schema:e.comments.commentEditorSchema||o7});return g.jsx(n.Comments.Card,{className:"bn-thread",children:g.jsx(i7,{autoFocus:!0,editable:!0,editor:i,actions:({isEmpty:o})=>g.jsx(n.Generic.Toolbar.Root,{className:bi("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:g.jsx(n.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Save",variant:"compact",isDisabled:o,onClick:async()=>{await t.createThread({initialComment:{body:i.document}}),t.stopPendingComment()},children:"Save"})})})})}const qZe=e=>{const t=Xt();if(!t.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=t.comments;C.useEffect(()=>{const u=n.onUpdate(d=>t.setForceSelectionVisible(d.pendingComment));return()=>u()},[n,t]);const r=hh(n.onUpdate.bind(n)),i=FZe(r?.pendingComment),{isMounted:o,ref:a,style:s,getFloatingProps:l}=km(r?.pendingComment||!1,i||null,5e3,{placement:"bottom",middleware:[ch(10),MT(),xm()],onOpenChange:u=>{u||(n.stopPendingComment(),t.focus())},...e.floatingOptions});if(!o||!r)return null;const c=e.floatingComposer||VZe;return g.jsx("div",{ref:a,style:s,...l(),children:g.jsx(c,{})})};var jhe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aK=F.createContext&&F.createContext(jhe),WZe=["attr","size","title"];function YZe(e,t){if(e==null)return{};var n=GZe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GZe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function LO(){return LO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LO.apply(this,arguments)}function sK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sK(Object(n),!0).forEach(function(r){KZe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KZe(e,t,n){return t=XZe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XZe(e){var t=ZZe(e,"string");return typeof t=="symbol"?t:t+""}function ZZe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bhe(e){return e&&e.map((t,n)=>F.createElement(t.tag,jO({key:n},t.attr),Bhe(t.child)))}function Zt(e){return t=>F.createElement(QZe,LO({attr:jO({},e.attr)},t),Bhe(e.child))}function QZe(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=YZe(e,WZe),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),F.createElement("svg",LO({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:jO(jO({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&F.createElement("title",null,o),e.children)};return aK!==void 0?F.createElement(aK.Consumer,null,n=>t(n)):t(jhe)}function JZe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(e)}function $he(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"},child:[]}]})(e)}function eQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"},child:[]}]})(e)}function tQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z"},child:[]}]})(e)}function nQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"},child:[]}]})(e)}function rQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"},child:[]}]})(e)}function iQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"},child:[]}]})(e)}function oQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"},child:[]}]})(e)}function aQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"},child:[]}]})(e)}function sQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(e)}function lQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"},child:[]}]})(e)}function lK(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z"},child:[]}]})(e)}function BO(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"},child:[]}]})(e)}function $O(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"},child:[]}]})(e)}function HO(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(e)}function Hhe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM22 8V16H23.5V18H22V20H20V18H14.5V16.66L19.5 8H22ZM20 11.133L17.19 16H20V11.133Z"},child:[]}]})(e)}function Fhe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8V10H17.6769L17.2126 12.6358C17.5435 12.5472 17.8912 12.5 18.25 12.5C20.4591 12.5 22.25 14.2909 22.25 16.5C22.25 18.7091 20.4591 20.5 18.25 20.5C16.4233 20.5 14.8827 19.2756 14.4039 17.6027L16.3271 17.0519C16.5667 17.8881 17.3369 18.5 18.25 18.5C19.3546 18.5 20.25 17.6046 20.25 16.5C20.25 15.3954 19.3546 14.5 18.25 14.5C17.6194 14.5 17.057 14.7918 16.6904 15.2478L14.8803 14.3439L16 8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(e)}function Uhe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21.097 8L18.499 12.5C20.7091 12.5 22.5 14.2909 22.5 16.5C22.5 18.7091 20.7091 20.5 18.5 20.5C16.2909 20.5 14.5 18.7091 14.5 16.5C14.5 15.7636 14.699 15.0737 15.0461 14.4811L18.788 8H21.097ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 14.5C17.3954 14.5 16.5 15.3954 16.5 16.5C16.5 17.6046 17.3954 18.5 18.5 18.5C19.6046 18.5 20.5 17.6046 20.5 16.5C20.5 15.3954 19.6046 14.5 18.5 14.5Z"},child:[]}]})(e)}function cQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"},child:[]}]})(e)}function uQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"},child:[]}]})(e)}function cK(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z"},child:[]}]})(e)}function dQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"},child:[]}]})(e)}function fQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"},child:[]}]})(e)}function zhe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z"},child:[]}]})(e)}function Vhe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(e)}function qhe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function Whe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function hQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"},child:[]}]})(e)}function pQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"},child:[]}]})(e)}function Yhe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4H3V6H21V4ZM21 11H8V13H21V11ZM21 18H8V20H21V18ZM5 11H3V20H5V11Z"},child:[]}]})(e)}function mQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"},child:[]}]})(e)}function gQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(e)}function a7(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(e)}function yQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"},child:[]}]})(e)}function bQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(e)}function vQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"},child:[]}]})(e)}function xQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(e)}function wQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(e)}function Ghe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 18V20H2V18H22ZM2 3.5L10 8.5L2 13.5V3.5ZM22 11V13H12V11H22ZM22 4V6H12V4H22Z"},child:[]}]})(e)}function SQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"},child:[]}]})(e)}function EQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(e)}function CQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(e)}function TQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(e)}function kQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"},child:[]}]})(e)}function _Qe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z"},child:[]}]})(e)}function AQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"},child:[]}]})(e)}function NQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(e)}function OQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11V13H19V11H5Z"},child:[]}]})(e)}function MQe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM8 13C8 15.2091 9.79086 17 12 17C14.2091 17 16 15.2091 16 13H8ZM8 11C8.82843 11 9.5 10.3284 9.5 9.5C9.5 8.67157 8.82843 8 8 8C7.17157 8 6.5 8.67157 6.5 9.5C6.5 10.3284 7.17157 11 8 11ZM16 11C16.8284 11 17.5 10.3284 17.5 9.5C17.5 8.67157 16.8284 8 16 8C15.1716 8 14.5 8.67157 14.5 9.5C14.5 10.3284 15.1716 11 16 11Z"},child:[]}]})(e)}function uK(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"},child:[]}]})(e)}let uL;async function DQe(){return uL||(uL=(async()=>{const[e,t]=await Promise.all([wN(()=>import("./module-RjUF93sV.js"),[]),wN(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in e?e.default:e,r="default"in t?t.default:t;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),uL)}function RQe(e){const t=C.useRef(null),n=C.useRef(null);return n.current&&n.current.update(e),C.useEffect(()=>((async()=>{const{emojiMart:r}=await DQe();n.current=new r.Picker({...e,ref:t})})(),()=>{n.current=null}),[]),F.createElement("div",{ref:t})}const dK=e=>{const[t,n]=C.useState(!1),r=zt(),i=Xt(),o=Ud();return g.jsxs(r.Generic.Popover.Root,{opened:t,children:[g.jsx(r.Generic.Popover.Trigger,{children:g.jsx("div",{onClick:a=>{var s;a.preventDefault(),a.stopPropagation(),n(!t),(s=e.onOpenChange)==null||s.call(e,!t)},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.children})}),Ta.createPortal(g.jsx(r.Generic.Popover.Content,{className:"bn-emoji-picker-popover",variant:"panel-popover",children:g.jsx(RQe,{perLine:7,onClickOutside:()=>{var a;n(!1),(a=e.onOpenChange)==null||a.call(e,!1)},onEmojiSelect:a=>{var s;e.onEmojiSelect(a),n(!1),(s=e.onOpenChange)==null||s.call(e,!1)},theme:o?.colorSchemePreference})}),i.domElement.parentElement)]})};function IQe(e,t){return s7(e,[t]).get(t)}function s7(e,t){const n=e.comments;if(!n)throw new Error("Comments plugin not found");const r=n.userStore,i=C.useCallback(()=>{const s=new Map;for(const l of t){const c=r.getUser(l);c&&s.set(l,c)}return s},[r,t]),o=C.useMemo(()=>({current:i()}),[i]),a=C.useCallback(s=>{const l=r.subscribe(c=>{o.current=i(),s()});return r.loadUsers(t),l},[r,i,t,o]);return C.useSyncExternalStore(a,()=>o.current)}const PQe=e=>{const t=zt(),n=gn(),r=Xt();if(!r.comments)throw new Error("ReactionBadge must be used inside a BlockNote editor with comments enabled");const i=e.comment.reactions.find(l=>l.emoji===e.emoji);if(!i)throw new Error("Trying to render reaction badge for non-existing reaction");const[o,a]=C.useState([]),s=s7(r,o);return g.jsx(t.Generic.Badge.Root,{className:bi("bn-badge","bn-comment-reaction"),text:i.userIds.length.toString(),icon:i.emoji,isSelected:r.comments.threadStore.auth.canDeleteReaction(e.comment,i.emoji),onClick:()=>e.onReactionSelect(i.emoji),onMouseEnter:()=>a(i.userIds),mainTooltip:n.comments.reactions.reacted_by,secondaryTooltip:`${Array.from(s.values()).map(l=>l.username).join(`
`)}`},i.emoji)},LQe=({comment:e,thread:t,showResolveButton:n})=>{const r=Xt();if(!r.comments)throw new Error("Comments plugin not found");const i=gn(),o=r7({initialContent:e.body,trailingBlock:!1,dictionary:{...i,placeholders:{emptyDocument:i.placeholders.edit_comment}},schema:r.comments.commentEditorSchema||o7}),a=zt(),[s,l]=C.useState(!1),[c,u]=C.useState(!1);if(!r.comments)throw new Error("Comments plugin not found");const d=r.comments.threadStore,p=C.useCallback(()=>{l(!0)},[]),m=C.useCallback(()=>{o.replaceBlocks(o.document,e.body),l(!1)},[o,e.body]),v=C.useCallback(async $=>{await d.updateComment({commentId:e.id,comment:{body:o.document},threadId:t.id}),l(!1)},[e,t.id,o,d]),x=C.useCallback(async()=>{await d.deleteComment({commentId:e.id,threadId:t.id})},[e,t.id,d]),w=C.useCallback(async $=>{d.auth.canAddReaction(e,$)?await d.addReaction({threadId:t.id,commentId:e.id,emoji:$}):d.auth.canDeleteReaction(e,$)&&await d.deleteReaction({threadId:t.id,commentId:e.id,emoji:$})},[d,e,t.id]),T=C.useCallback(async()=>{await d.resolveThread({threadId:t.id})},[t.id,d]),k=C.useCallback(async()=>{await d.unresolveThread({threadId:t.id})},[t.id,d]),N=IQe(r,e.userId);if(!e.body)return null;let I;const O=d.auth.canAddReaction(e),A=d.auth.canDeleteComment(e),R=d.auth.canUpdateComment(e),L=n&&(t.resolved?d.auth.canUnresolveThread(t):d.auth.canResolveThread(t));s||(I=g.jsxs(a.Generic.Toolbar.Root,{className:bi("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:[O&&g.jsx(dK,{onEmojiSelect:$=>w($.native),onOpenChange:u,children:g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.actions.add_reaction,variant:"compact",children:g.jsx(uK,{size:16})},"add-reaction")}),L&&(t.resolved?g.jsx(a.Generic.Toolbar.Button,{mainTooltip:"Re-open",variant:"compact",onClick:k,children:g.jsx(JZe,{size:16})},"reopen"):g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.actions.resolve,variant:"compact",onClick:T,children:g.jsx(CQe,{size:16})},"resolve")),(A||R)&&g.jsxs(a.Generic.Menu.Root,{position:"bottom-start",children:[g.jsx(a.Generic.Menu.Trigger,{children:g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.actions.more_actions,variant:"compact",children:g.jsx(NQe,{size:16})},"more-actions")}),g.jsxs(a.Generic.Menu.Dropdown,{className:"bn-menu-dropdown",children:[R&&g.jsx(a.Generic.Menu.Item,{icon:g.jsx(eQe,{}),onClick:p,children:i.comments.actions.edit_comment},"edit-comment"),A&&g.jsx(a.Generic.Menu.Item,{icon:g.jsx(kQe,{}),onClick:x,children:i.comments.actions.delete_comment},"delete-comment")]})]})]}));const B=e.createdAt.toLocaleDateString(void 0,{month:"short",day:"numeric"});if(!e.body)throw new Error("soft deletes are not yet supported");return g.jsx(a.Comments.Comment,{authorInfo:N??"loading",timeString:B,edited:e.updatedAt.getTime()!==e.createdAt.getTime(),showActions:"hover",actions:I,className:"bn-thread-comment",emojiPickerOpen:c,children:g.jsx(i7,{autoFocus:s,editor:o,editable:s,actions:e.reactions.length>0||s?({isEmpty:$})=>g.jsxs(g.Fragment,{children:[e.reactions.length>0&&!s&&g.jsxs(a.Generic.Badge.Group,{className:bi("bn-badge-group","bn-comment-reactions"),children:[e.reactions.map(q=>g.jsx(PQe,{comment:e,emoji:q.emoji,onReactionSelect:w},q.emoji)),O&&g.jsx(dK,{onEmojiSelect:q=>w(q.native),onOpenChange:u,children:g.jsx(a.Generic.Badge.Root,{className:bi("bn-badge","bn-comment-add-reaction"),text:"+",icon:g.jsx(uK,{size:16}),mainTooltip:i.comments.actions.add_reaction})})]}),s&&g.jsxs(a.Generic.Toolbar.Root,{variant:"action-toolbar",className:bi("bn-action-toolbar","bn-comment-actions"),children:[g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.save_button_text,variant:"compact",onClick:v,isDisabled:$,children:i.comments.save_button_text}),g.jsx(a.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:i.comments.cancel_button_text,variant:"compact",onClick:m,children:i.comments.cancel_button_text})]})]}):void 0})})},jQe=({thread:e,maxCommentsBeforeCollapse:t})=>{const n=zt(),r=gn(),i=Xt(),o=s7(i,e.resolvedBy?[e.resolvedBy]:[]),a=e.comments.map((s,l)=>g.jsx(LQe,{thread:e,comment:s,showResolveButton:l===0},s.id+JSON.stringify(s.body||"{}")));if(e.resolved&&e.resolvedUpdatedAt&&e.resolvedBy){if(!o.get(e.resolvedBy))throw new Error(`User ${e.resolvedBy} resolved thread ${e.id}, but their data could not be found.`);const s=e.comments.findLastIndex(l=>e.resolvedUpdatedAt.getTime()>l.createdAt.getTime())+1;a.splice(s,0,g.jsx(n.Comments.Comment,{className:"bn-thread-comment",authorInfo:e.resolvedBy&&o.get(e.resolvedBy)||"loading",timeString:e.resolvedUpdatedAt.toLocaleDateString(void 0,{month:"short",day:"numeric"}),edited:!1,showActions:!1,children:g.jsx("div",{className:"bn-resolved-text",children:r.comments.sidebar.marked_as_resolved})},"resolved-comment"))}return t&&a.length>t&&a.splice(1,a.length-2,g.jsx(n.Comments.ExpandSectionsPrompt,{className:"bn-thread-expand-prompt",children:r.comments.sidebar.more_replies(e.comments.length-2)},"expand-prompt")),a},Khe=({thread:e,selected:t,referenceText:n,maxCommentsBeforeCollapse:r,onFocus:i,onBlur:o,tabIndex:a})=>{const s=zt(),l=gn(),c=Xt(),u=c.comments;if(!u)throw new Error("Comments plugin not found");const d=r7({trailingBlock:!1,dictionary:{...l,placeholders:{emptyDocument:l.placeholders.comment_reply}},schema:c.comments.commentEditorSchema||o7}),p=C.useCallback(async()=>{await u.threadStore.addComment({comment:{body:d.document},threadId:e.id}),d.removeBlocks(d.document)},[u,d,e.id]);return g.jsxs(s.Comments.Card,{className:"bn-thread",headerText:n,onFocus:i,onBlur:o,selected:t,tabIndex:a,children:[g.jsx(s.Comments.CardSection,{className:"bn-thread-comments",children:g.jsx(jQe,{thread:e,maxCommentsBeforeCollapse:t?void 0:r||5})}),t&&g.jsx(s.Comments.CardSection,{className:"bn-thread-composer",children:g.jsx(i7,{autoFocus:!1,editable:!0,editor:d,actions:({isEmpty:m})=>m?null:g.jsx(s.Generic.Toolbar.Root,{variant:"action-toolbar",className:bi("bn-action-toolbar","bn-comment-actions"),children:g.jsx(s.Generic.Toolbar.Button,{mainTooltip:l.comments.save_button_text,variant:"compact",isDisabled:m,onClick:p,children:l.comments.save_button_text})})})})]})};function BQe(e){const t=e.comments;if(!t)throw new Error("Comments plugin not found");const n=t.threadStore,r=C.useRef(void 0);r.current||(r.current=n.getThreads());const i=C.useCallback(o=>n.subscribe(a=>{r.current=a,o()}),[n]);return C.useSyncExternalStore(i,()=>r.current)}const $Qe=e=>{const t=Xt();if(!t.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=hh(t.comments.onUpdate.bind(t.comments)),{isMounted:r,ref:i,style:o,getFloatingProps:a,setReference:s}=km(!!(n!=null&&n.selectedThreadId),null,5e3,{placement:"bottom",middleware:[ch(10),MT(),xm()],onOpenChange:d=>{var p;d||((p=t.comments)==null||p.selectThread(void 0),t.focus())},whileElementsMounted:Koe,...e.floatingOptions}),l=C.useCallback(()=>{var d;if(!(n!=null&&n.selectedThreadId))return;const p=(d=t.domElement)==null?void 0:d.querySelector(`[data-bn-thread-id="${n?.selectedThreadId}"]`);p&&s(p)},[s,t,n?.selectedThreadId]);C.useEffect(()=>{if(n!=null&&n.selectedThreadId)return t.onChange(()=>{l()})},[t,l,n?.selectedThreadId]),C.useLayoutEffect(l,[l]);const c=BQe(t);if(!r||!n||!n.selectedThreadId)return null;const u=e.floatingThread||Khe;return g.jsx("div",{ref:i,style:o,...a(),children:g.jsx(u,{thread:c.get(n.selectedThreadId),selected:!0})})},HQe=e=>{const t=zt(),n=gn(),{block:r}=e,i=Xt(),[o,a]=C.useState(""),s=C.useCallback(u=>{a(u.currentTarget.value)},[]),l=C.useCallback(u=>{u.key==="Enter"&&(u.preventDefault(),i.updateBlock(r,{props:{name:dW(o),url:o}}))},[i,r,o]),c=C.useCallback(()=>{i.updateBlock(r,{props:{name:dW(o),url:o}})},[i,r,o]);return g.jsxs(t.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(t.FilePanel.TextInput,{className:"bn-text-input",placeholder:n.file_panel.embed.url_placeholder,value:o,onChange:s,onKeyDown:l,"data-test":"embed-input"}),g.jsx(t.FilePanel.Button,{className:"bn-button",onClick:c,"data-test":"embed-input-button",children:n.file_panel.embed.embed_button[r.type]||n.file_panel.embed.embed_button.file})]})},FQe=e=>{var t,n;const r=zt(),i=gn(),{block:o,setLoading:a}=e,s=Xt(),[l,c]=C.useState(!1);C.useEffect(()=>{l&&setTimeout(()=>{c(!1)},3e3)},[l]);const u=C.useCallback(m=>{if(m===null)return;async function v(x){if(a(!0),s.uploadFile!==void 0)try{let w=await s.uploadFile(x,o.id);typeof w=="string"&&(w={props:{name:x.name,url:w}}),s.updateBlock(o,w)}catch{c(!0)}finally{a(!1)}}v(m)},[o,s,a]),d=s.schema.blockSpecs[o.type],p=(n=(t=d.implementation.meta)==null?void 0:t.fileBlockAccept)!=null&&n.length?d.implementation.meta.fileBlockAccept.join(","):"*/*";return g.jsxs(r.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(r.FilePanel.FileInput,{className:"bn-file-input","data-test":"upload-input",accept:p,placeholder:i.file_panel.upload.file_placeholder[o.type]||i.file_panel.upload.file_placeholder.file,value:null,onChange:u}),l&&g.jsx("div",{className:"bn-error-text",children:i.file_panel.upload.upload_error})]})},Xhe=e=>{const t=zt(),n=gn(),r=Xt(),[i,o]=C.useState(!1),a=e.tabs??[...r.uploadFile!==void 0?[{name:n.file_panel.upload.title,tabPanel:g.jsx(FQe,{block:e.block,setLoading:o})}]:[],{name:n.file_panel.embed.title,tabPanel:g.jsx(HQe,{block:e.block})}],[s,l]=C.useState(e.defaultOpenTab||a[0].name);return g.jsx(t.FilePanel.Root,{className:"bn-panel",defaultOpenTab:s,openTab:s,setOpenTab:l,tabs:a,loading:i})},UQe=e=>{const t=Xt();if(!t.filePanel)throw new Error("FileToolbarController can only be used when BlockNote editor schema contains file block");const n=hh(t.filePanel.onUpdate.bind(t.filePanel)),{isMounted:r,ref:i,style:o,getFloatingProps:a}=km(n?.show||!1,n?.referencePos||null,5e3,{placement:"bottom",middleware:[ch(10),xm()],onOpenChange:d=>{d||(t.filePanel.closeMenu(),t.focus())},...e.floatingOptions});if(!r||!n)return null;const{show:s,referencePos:l,...c}=n,u=e.filePanel||Xhe;return g.jsx("div",{ref:i,style:o,...a(),children:g.jsx(u,{...c})})};function zQe(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function gy(e,t){dR(e,t),n7(e,t)}function fR(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function qs(e){const t=Ud();if(e||(e=t?.editor),!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");const n=e,[r,i]=C.useState(()=>{var a;return((a=n.getSelection())==null?void 0:a.blocks)||[n.getTextCursorPosition().block]}),o=C.useCallback(()=>{var a;return i(((a=n.getSelection())==null?void 0:a.blocks)||[n.getTextCursorPosition().block])},[n]);return gy(o,n),r}const VQe={bold:sQe,italic:dQe,underline:yQe,strike:mQe,code:tQe};function qQe(e,t){return e in t.schema.styleSchema&&t.schema.styleSchema[e].type===e&&t.schema.styleSchema[e].propSchema==="boolean"}const EA=e=>{const t=gn(),n=zt(),r=Xt(),i=qQe(e.basicTextStyle,r),o=qs(r),[a,s]=C.useState(e.basicTextStyle in r.getActiveStyles());gy(()=>{i&&s(e.basicTextStyle in r.getActiveStyles())},r);const l=u=>{if(r.focus(),!!i){if(r.schema.styleSchema[u].propSchema!=="boolean")throw new Error("can only toggle boolean styles");r.toggleStyles({[u]:!0})}};if(!C.useMemo(()=>i?!!o.find(u=>u.content!==void 0):!1,[i,o])||!r.isEditable)return null;const c=VQe[e.basicTextStyle];return g.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":e.basicTextStyle,onClick:()=>l(e.basicTextStyle),isSelected:a,label:t.formatting_toolbar[e.basicTextStyle].tooltip,mainTooltip:t.formatting_toolbar[e.basicTextStyle].tooltip,secondaryTooltip:gl(t.formatting_toolbar[e.basicTextStyle].secondary_tooltip,t.generic.ctrl_shortcut),icon:g.jsx(c,{})})},C8=e=>{const t=e.textColor||"default",n=e.backgroundColor||"default",r=e.size||16,i=C.useMemo(()=>({pointerEvents:"none",fontSize:(r*.75).toString()+"px",height:r.toString()+"px",lineHeight:r.toString()+"px",textAlign:"center",width:r.toString()+"px"}),[r]);return g.jsx("div",{className:"bn-color-icon","data-background-color":n,"data-text-color":t,style:i,children:"A"})},fK=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],hR=e=>{const t=zt(),n=gn();return g.jsxs(g.Fragment,{children:[g.jsx(()=>e.text?g.jsxs(g.Fragment,{children:[g.jsx(t.Generic.Menu.Label,{children:n.color_picker.text_title}),fK.map(r=>g.jsx(t.Generic.Menu.Item,{onClick:()=>{e.onClick&&e.onClick(),e.text.setColor(r)},"data-test":"text-color-"+r,icon:g.jsx(C8,{textColor:r,size:e.iconSize}),checked:e.text.color===r,children:n.color_picker.colors[r]},"text-color-"+r))]}):null,{}),g.jsx(()=>e.background?g.jsxs(g.Fragment,{children:[g.jsx(t.Generic.Menu.Label,{children:n.color_picker.background_title}),fK.map(r=>g.jsx(t.Generic.Menu.Item,{onClick:()=>{e.onClick&&e.onClick(),e.background.setColor(r)},"data-test":"background-color-"+r,icon:g.jsx(C8,{backgroundColor:r,size:e.iconSize}),checked:e.background.color===r,children:n.color_picker.colors[r]},"background-color-"+r))]}):null,{})]})};function hK(e,t){return`${e}Color`in t.schema.styleSchema&&t.schema.styleSchema[`${e}Color`].type===`${e}Color`&&t.schema.styleSchema[`${e}Color`].propSchema==="string"}const WQe=()=>{const e=zt(),t=gn(),n=Xt(),r=hK("text",n),i=hK("background",n),o=qs(n),[a,s]=C.useState(r&&n.getActiveStyles().textColor||"default"),[l,c]=C.useState(i&&n.getActiveStyles().backgroundColor||"default");gy(()=>{r&&s(n.getActiveStyles().textColor||"default"),i&&c(n.getActiveStyles().backgroundColor||"default")},n);const u=C.useCallback(p=>{if(!r)throw Error("Tried to set text color, but style does not exist in editor schema.");p==="default"?n.removeStyles({textColor:p}):n.addStyles({textColor:p}),setTimeout(()=>{n.focus()})},[n,r]),d=C.useCallback(p=>{if(!i)throw Error("Tried to set background color, but style does not exist in editor schema.");p==="default"?n.removeStyles({backgroundColor:p}):n.addStyles({backgroundColor:p}),setTimeout(()=>{n.focus()})},[i,n]);return!C.useMemo(()=>{if(!r&&!i)return!1;for(const p of o)if(p.content!==void 0)return!0;return!1},[i,o,r])||!n.isEditable?null:g.jsxs(e.Generic.Menu.Root,{children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"colors",label:t.formatting_toolbar.colors.tooltip,mainTooltip:t.formatting_toolbar.colors.tooltip,icon:g.jsx(C8,{textColor:a,backgroundColor:l,size:20})})}),g.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(hR,{text:r?{color:a,setColor:u}:void 0,background:i?{color:l,setColor:d}:void 0})})]})},pK=e=>{for(const t of ohe)if(e.startsWith(t))return e;return`${ahe}://${e}`},Zhe=e=>{const t=zt(),n=gn(),{url:r,text:i,editLink:o,showTextField:a}=e,[s,l]=C.useState(r),[c,u]=C.useState(i);C.useEffect(()=>{l(r),u(i)},[i,r]);const d=C.useCallback(x=>{x.key==="Enter"&&(x.preventDefault(),o(pK(s),c))},[o,s,c]),p=C.useCallback(x=>l(x.currentTarget.value),[]),m=C.useCallback(x=>u(x.currentTarget.value),[]),v=C.useCallback(()=>o(pK(s),c),[o,s,c]);return g.jsxs(t.Generic.Form.Root,{children:[g.jsx(t.Generic.Form.TextInput,{className:"bn-text-input",name:"url",icon:g.jsx(zhe,{}),autoFocus:!0,placeholder:n.link_toolbar.form.url_placeholder,value:s,onKeyDown:d,onChange:p,onSubmit:v}),a!==!1&&g.jsx(t.Generic.Form.TextInput,{className:"bn-text-input",name:"title",icon:g.jsx(a7,{}),placeholder:n.link_toolbar.form.title_placeholder,value:c,onKeyDown:d,onChange:m,onSubmit:v})]})};function YQe(e){return"link"in e.schema.inlineContentSchema&&e.schema.inlineContentSchema.link==="link"}const GQe=()=>{const e=Xt(),t=zt(),n=gn(),r=YQe(e),i=qs(e),[o,a]=C.useState(!1),[s,l]=C.useState(e.getSelectedLinkUrl()||""),[c,u]=C.useState(e.getSelectedText());gy(()=>{u(e.getSelectedText()||""),l(e.getSelectedLinkUrl()||"")},e),C.useEffect(()=>{const m=v=>{(v.ctrlKey||v.metaKey)&&v.key==="k"&&(a(!0),v.preventDefault())};if(!e.headless)return e.prosemirrorView.dom.addEventListener("keydown",m),()=>{e.prosemirrorView.dom.removeEventListener("keydown",m)}},[e.prosemirrorView,e.headless]);const d=C.useCallback(m=>{e.createLink(m),a(!1),e.focus()},[e]),p=e.transact(m=>kB(m.selection));return!C.useMemo(()=>{if(!r)return!1;for(const m of i)if(m.content===void 0)return!1;return!p},[r,i,p])||!("link"in e.schema.inlineContentSchema)||!e.isEditable?null:g.jsxs(t.Generic.Popover.Root,{opened:o,children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"createLink",label:n.formatting_toolbar.link.tooltip,mainTooltip:n.formatting_toolbar.link.tooltip,secondaryTooltip:gl(n.formatting_toolbar.link.secondary_tooltip,n.generic.ctrl_shortcut),icon:g.jsx(zhe,{}),onClick:()=>a(!0)})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(Zhe,{url:s,text:c,editLink:d,showTextField:!1})})]})},KQe=()=>{const e=gn(),t=zt(),n=Xt(),[r,i]=C.useState(),o=qs(n),a=C.useMemo(()=>{if(o.length!==1)return;const c=o[0];if(kl(c,n,c.type,{url:"string",caption:"string"}))return i(c.props.caption),c},[n,o]),s=C.useCallback(c=>{a&&Xr(n,a.type,{caption:"string"})&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(a,{props:{caption:r}}))},[r,n,a]),l=C.useCallback(c=>i(c.currentTarget.value),[]);return!a||a.props.url===""||!n.isEditable?null:g.jsxs(t.Generic.Popover.Root,{children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_caption.tooltip,mainTooltip:e.formatting_toolbar.file_caption.tooltip,icon:g.jsx(cK,{}),isSelected:a.props.caption!==""})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(t.Generic.Form.Root,{children:g.jsx(t.Generic.Form.TextInput,{name:"file-caption",icon:g.jsx(cK,{}),value:r||"",autoFocus:!0,placeholder:e.formatting_toolbar.file_caption.input_placeholder,onKeyDown:s,onChange:l})})})]})},XQe=()=>{const e=gn(),t=zt(),n=Xt(),r=qs(n),i=C.useMemo(()=>{if(r.length!==1)return;const a=r[0];if(kl(a,n,a.type,{url:"string"}))return a},[n,r]),o=C.useCallback(()=>{n.focus(),n.removeBlocks([i])},[n,i]);return!i||i.props.url===""||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_delete.tooltip[i.type]||e.formatting_toolbar.file_delete.tooltip.file,mainTooltip:e.formatting_toolbar.file_delete.tooltip[i.type]||e.formatting_toolbar.file_delete.tooltip.file,icon:g.jsx(TQe,{}),onClick:o})},ZQe=()=>{const e=gn(),t=zt(),n=Xt(),[r,i]=C.useState(),o=qs(n),a=C.useMemo(()=>{if(o.length!==1)return;const c=o[0];if(kl(c,n,c.type,{url:"string",name:"string"}))return i(c.props.name),c},[n,o]),s=C.useCallback(c=>{a&&Xr(n,a.type,{name:"string"})&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(a,{props:{name:r}}))},[r,n,a]),l=C.useCallback(c=>i(c.currentTarget.value),[]);return!a||a.props.name===""||!n.isEditable?null:g.jsxs(t.Generic.Popover.Root,{children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_rename.tooltip[a.type]||e.formatting_toolbar.file_rename.tooltip.file,mainTooltip:e.formatting_toolbar.file_rename.tooltip[a.type]||e.formatting_toolbar.file_rename.tooltip.file,icon:g.jsx(lK,{})})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(t.Generic.Form.Root,{children:g.jsx(t.Generic.Form.TextInput,{name:"file-name",icon:g.jsx(lK,{}),value:r||"",autoFocus:!0,placeholder:e.formatting_toolbar.file_rename.input_placeholder[a.type]||e.formatting_toolbar.file_rename.input_placeholder.file,onKeyDown:s,onChange:l})})})]})},QQe=()=>{const e=gn(),t=zt(),n=Xt(),r=qs(n),[i,o]=C.useState(!1);C.useEffect(()=>{o(!1)},[r]);const a=r.length===1?r[0]:void 0;return a===void 0||!kl(a,n,a.type,{url:"string"})||!n.isEditable?null:g.jsxs(t.Generic.Popover.Root,{opened:i,position:"bottom",children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",onClick:()=>o(!i),isSelected:i,mainTooltip:e.formatting_toolbar.file_replace.tooltip[a.type]||e.formatting_toolbar.file_replace.tooltip.file,label:e.formatting_toolbar.file_replace.tooltip[a.type]||e.formatting_toolbar.file_replace.tooltip.file,icon:g.jsx(wQe,{})})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-panel-popover",variant:"panel-popover",children:g.jsx(Xhe,{block:a})})]})},JQe=()=>{const e=gn(),t=zt(),n=Xt(),r=qs(n),[i,o]=C.useState(()=>n.canNestBlock());gy(()=>{o(n.canNestBlock())},n);const a=C.useCallback(()=>{n.focus(),n.nestBlock()},[n]);return!C.useMemo(()=>!r.find(s=>n.schema.blockSchema[s.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"nestBlock",onClick:a,isDisabled:!i,label:e.formatting_toolbar.nest.tooltip,mainTooltip:e.formatting_toolbar.nest.tooltip,secondaryTooltip:gl(e.formatting_toolbar.nest.secondary_tooltip,e.generic.ctrl_shortcut),icon:g.jsx(uQe,{})})},eJe=()=>{const e=gn(),t=zt(),n=Xt(),r=qs(n),[i,o]=C.useState(()=>n.canUnnestBlock());gy(()=>{o(n.canUnnestBlock())},n);const a=C.useCallback(()=>{n.focus(),n.unnestBlock()},[n]);return!C.useMemo(()=>!r.find(s=>n.schema.blockSchema[s.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"unnestBlock",onClick:a,isDisabled:!i,label:e.formatting_toolbar.unnest.tooltip,mainTooltip:e.formatting_toolbar.unnest.tooltip,secondaryTooltip:gl(e.formatting_toolbar.unnest.secondary_tooltip,e.generic.ctrl_shortcut),icon:g.jsx(cQe,{})})},tJe=e=>[{name:e.slash_menu.paragraph.title,type:"paragraph",icon:a7},{name:e.slash_menu.heading.title,type:"heading",props:{level:1,isToggleable:!1},icon:BO},{name:e.slash_menu.heading_2.title,type:"heading",props:{level:2,isToggleable:!1},icon:$O},{name:e.slash_menu.heading_3.title,type:"heading",props:{level:3,isToggleable:!1},icon:HO},{name:e.slash_menu.heading_4.title,type:"heading",props:{level:4,isToggleable:!1},icon:Hhe},{name:e.slash_menu.heading_5.title,type:"heading",props:{level:5,isToggleable:!1},icon:Fhe},{name:e.slash_menu.heading_6.title,type:"heading",props:{level:6,isToggleable:!1},icon:Uhe},{name:e.slash_menu.toggle_heading.title,type:"heading",props:{level:1,isToggleable:!0},icon:BO},{name:e.slash_menu.toggle_heading_2.title,type:"heading",props:{level:2,isToggleable:!0},icon:$O},{name:e.slash_menu.toggle_heading_3.title,type:"heading",props:{level:3,isToggleable:!0},icon:HO},{name:e.slash_menu.quote.title,type:"quote",icon:Yhe},{name:e.slash_menu.toggle_list.title,type:"toggleListItem",icon:Ghe},{name:e.slash_menu.bullet_list.title,type:"bulletListItem",icon:Whe},{name:e.slash_menu.numbered_list.title,type:"numberedListItem",icon:qhe},{name:e.slash_menu.check_list.title,type:"checkListItem",icon:Vhe}],nJe=e=>{const t=zt(),n=Xt(),r=qs(n),i=r[0],o=C.useMemo(()=>(e.items||tJe(n.dictionary)).filter(s=>Xr(n,s.type,Object.fromEntries(Object.entries(s.props||{}).map(([l,c])=>[l,typeof c])))),[n,e.items]),a=C.useMemo(()=>o.map(s=>{const l=s.icon,c=s.type===i.type,u=Object.entries(s.props||{}).filter(([d,p])=>p!==i.props[d]).length===0;return{text:s.name,icon:g.jsx(l,{size:16}),onClick:()=>{n.focus(),n.transact(()=>{for(const d of r)n.updateBlock(d,{type:s.type,props:s.props})})},isSelected:c&&u}}),[n,o,i.props,i.type,r]);return!C.useMemo(()=>a.find(s=>s.isSelected)!==void 0,[a])||!n.isEditable?null:g.jsx(t.FormattingToolbar.Select,{className:"bn-select",items:a})},rJe=()=>{const e=gn(),t=zt(),n=Xt(),r=C.useCallback(()=>{var i;(i=n.comments)==null||i.startPendingComment(),n.formattingToolbar.closeMenu()},[n]);return n.comments?g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.comment.tooltip,mainTooltip:e.formatting_toolbar.comment.tooltip,icon:g.jsx($he,{}),onClick:r}):null},iJe=()=>{const e=gn(),t=zt(),n=Xt(),r=C.useCallback(()=>{n._tiptapEditor.chain().focus().addPendingComment().run()},[n]);return!n._tiptapEditor.commands.addPendingComment||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.comment.tooltip,mainTooltip:e.formatting_toolbar.comment.tooltip,icon:g.jsx($he,{}),onClick:r})};function T8(e,t){try{const n=new URL(e,t);if(n.protocol!=="javascript:")return n.href}catch{}return"#"}const oJe=()=>{const e=gn(),t=zt(),n=Xt(),r=qs(n),i=C.useMemo(()=>{if(r.length!==1)return;const a=r[0];if(kl(a,n,a.type,{url:"string"}))return a},[n,r]),o=C.useCallback(()=>{i&&i.props.url&&(n.focus(),n.resolveFileUrl?n.resolveFileUrl(i.props.url).then(a=>window.open(T8(a,window.location.href))):window.open(T8(i.props.url,window.location.href)))},[n,i]);return!i||i.props.url===""?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_download.tooltip[i.type]||e.formatting_toolbar.file_download.tooltip.file,mainTooltip:e.formatting_toolbar.file_download.tooltip[i.type]||e.formatting_toolbar.file_download.tooltip.file,icon:g.jsx(_Qe,{}),onClick:o})},aJe=()=>{const e=gn(),t=zt(),n=Xt(),r=qs(n),i=C.useMemo(()=>{if(r.length!==1)return;const a=r[0];if(kl(a,n,a.type,{url:"string",showPreview:"boolean"}))return a},[n,r]),o=C.useCallback(()=>{i&&Xr(n,i.type,{showPreview:"boolean"})&&n.updateBlock(i,{props:{showPreview:!i.props.showPreview}})},[n,i]);return!i||i.props.url===""||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:"Toggle preview",mainTooltip:e.formatting_toolbar.file_preview_toggle.tooltip,icon:g.jsx(xQe,{}),isSelected:i.props.showPreview,onClick:o})},sJe=()=>{const e=gn(),t=zt(),n=Xt(),r=qs(n),i=C.useMemo(()=>{var a;if(r.length!==1)return;const s=r[0];if(s.type==="table")return(a=n.tableHandles)==null?void 0:a.getMergeDirection(s)},[n,r]),o=C.useCallback(()=>{var a;(a=n.tableHandles)==null||a.mergeCells()},[n]);return!n.isEditable||i===void 0||!n.settings.tables.splitCells?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.table_cell_merge.tooltip,mainTooltip:e.formatting_toolbar.table_cell_merge.tooltip,icon:i==="horizontal"?g.jsx(hQe,{}):g.jsx(pQe,{}),onClick:o})},lJe={left:oQe,center:rQe,right:aQe,justify:iQe},dL=e=>{const t=zt(),n=gn(),r=Xt(),i=qs(r),o=C.useMemo(()=>{var l;const c=i[0];if(kl(c,r,c.type,{textAlignment:cr.textAlignment}))return c.props.textAlignment;if(c.type==="table"){const u=(l=r.tableHandles)==null?void 0:l.getCellSelection();if(!u)return;const d=u.cells.map(({row:m,col:v})=>dm(c.content.rows[m].cells[v]).props.textAlignment),p=d[0];if(d.every(m=>m===p))return p}},[r,i]),a=C.useCallback(l=>{var c;r.focus();for(const u of i)if(kl(u,r,u.type,{textAlignment:cr.textAlignment})&&Xr(r,u.type,{textAlignment:cr.textAlignment}))r.updateBlock(u,{props:{textAlignment:l}});else if(u.type==="table"){const d=(c=r.tableHandles)==null?void 0:c.getCellSelection();if(!d)continue;const p=u.content.rows.map(m=>({...m,cells:m.cells.map(v=>dm(v))}));d.cells.forEach(({row:m,col:v})=>{p[m].cells[v].props.textAlignment=l}),r.updateBlock(u,{type:"table",content:{...u.content,type:"tableContent",rows:p}}),r.setTextCursorPosition(u)}},[r,i]);if(!C.useMemo(()=>!!i.find(l=>kl(l,r,l.type,{textAlignment:cr.textAlignment})||l.type==="table"&&l.children),[r,i])||!r.isEditable)return null;const s=lJe[e.textAlignment];return g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":`alignText${e.textAlignment.slice(0,1).toUpperCase()+e.textAlignment.slice(1)}`,onClick:()=>a(e.textAlignment),isSelected:o===e.textAlignment,label:n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,mainTooltip:n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,icon:g.jsx(s,{})})},Qhe=e=>[g.jsx(nJe,{items:e},"blockTypeSelect"),g.jsx(sJe,{},"tableCellMergeButton"),g.jsx(KQe,{},"fileCaptionButton"),g.jsx(QQe,{},"replaceFileButton"),g.jsx(ZQe,{},"fileRenameButton"),g.jsx(XQe,{},"fileDeleteButton"),g.jsx(oJe,{},"fileDownloadButton"),g.jsx(aJe,{},"filePreviewButton"),g.jsx(EA,{basicTextStyle:"bold"},"boldStyleButton"),g.jsx(EA,{basicTextStyle:"italic"},"italicStyleButton"),g.jsx(EA,{basicTextStyle:"underline"},"underlineStyleButton"),g.jsx(EA,{basicTextStyle:"strike"},"strikeStyleButton"),g.jsx(dL,{textAlignment:"left"},"textAlignLeftButton"),g.jsx(dL,{textAlignment:"center"},"textAlignCenterButton"),g.jsx(dL,{textAlignment:"right"},"textAlignRightButton"),g.jsx(WQe,{},"colorStyleButton"),g.jsx(JQe,{},"nestBlockButton"),g.jsx(eJe,{},"unnestBlockButton"),g.jsx(GQe,{},"createLinkButton"),g.jsx(rJe,{},"addCommentButton"),g.jsx(iJe,{},"addTiptapCommentButton")],Jhe=e=>{const t=zt();return g.jsx(t.FormattingToolbar.Root,{className:"bn-toolbar bn-formatting-toolbar",children:e.children||Qhe(e.blockTypeSelectItems)})},mK=e=>{switch(e){case"left":return"top-start";case"center":return"top";case"right":return"top-end";default:return"top-start"}},epe=e=>{const t=C.useRef(null),n=Xt(),[r,i]=C.useState(()=>{const p=n.getTextCursorPosition().block;return"textAlignment"in p.props?mK(p.props.textAlignment):"top-start"});gy(()=>{const p=n.getTextCursorPosition().block;"textAlignment"in p.props?i(mK(p.props.textAlignment)):i("top-start")},n);const o=hh(n.formattingToolbar.onUpdate.bind(n.formattingToolbar)),{isMounted:a,ref:s,style:l,getFloatingProps:c}=km(o?.show||!1,o?.referencePos||null,3e3,{placement:r,middleware:[ch(10),MT(),xm()],onOpenChange:(p,m)=>{p||(n.formattingToolbar.closeMenu(),n.focus())},canDismiss:{enabled:!0,escapeKey:!0,outsidePress:p=>{var m;const v=(m=n._tiptapEditor)==null?void 0:m.view;return!v||!p.target?!1:!zQe(p,v.dom.parentElement)}},...e.floatingOptions}),u=C.useMemo(()=>fR([t,s]),[t,s]);if(!a||!o)return null;if(!o.show&&t.current)return g.jsx("div",{ref:u,style:l,dangerouslySetInnerHTML:{__html:t.current.innerHTML}});const d=e.formattingToolbar||Jhe;return g.jsx("div",{ref:u,style:l,...c(),children:g.jsx(d,{})})},cJe=e=>{const t=zt(),n=gn();return g.jsx(t.LinkToolbar.Button,{className:"bn-button",label:n.link_toolbar.delete.tooltip,mainTooltip:n.link_toolbar.delete.tooltip,isSelected:!1,onClick:e.deleteLink,icon:g.jsx(fQe,{})})},uJe=e=>{const t=zt(),n=gn();return g.jsxs(t.Generic.Popover.Root,{children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.edit.tooltip,isSelected:!1,children:n.link_toolbar.edit.text})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(Zhe,{...e})})]})},dJe=e=>{const t=zt(),n=gn();return g.jsx(t.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.open.tooltip,label:n.link_toolbar.open.tooltip,isSelected:!1,onClick:()=>{window.open(T8(e.url,window.location.href),"_blank")},icon:g.jsx(AQe,{})})},fJe=e=>{const t=zt();return g.jsx(t.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",onMouseEnter:e.stopHideTimer,onMouseLeave:e.startHideTimer,children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(uJe,{url:e.url,text:e.text,editLink:e.editLink}),g.jsx(dJe,{url:e.url}),g.jsx(cJe,{deleteLink:e.deleteLink})]})})},hJe=e=>{const t=Xt(),n={deleteLink:t.linkToolbar.deleteLink,editLink:t.linkToolbar.editLink,startHideTimer:t.linkToolbar.startHideTimer,stopHideTimer:t.linkToolbar.stopHideTimer},r=hh(t.linkToolbar.onUpdate.bind(t.linkToolbar)),{isMounted:i,ref:o,style:a,getFloatingProps:s}=km(r?.show||!1,r?.referencePos||null,4e3,{placement:"top-start",middleware:[ch(10),xm()],onOpenChange:p=>{p||(t.linkToolbar.closeMenu(),t.focus())},...e.floatingOptions});if(!i||!r)return null;const{show:l,referencePos:c,...u}=r,d=e.linkToolbar||fJe;return g.jsx("div",{ref:o,style:a,...s(),children:g.jsx(d,{...u,...n})})};function pJe(e){return Zt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(e)}const mJe=e=>{const t=zt(),n=gn(),r=Xt(),i=C.useCallback(()=>{const o=e.block.content;if(o!==void 0&&Array.isArray(o)&&o.length===0)r.setTextCursorPosition(e.block),r.openSuggestionMenu("/");else{const a=r.insertBlocks([{type:"paragraph"}],e.block,"after")[0];r.setTextCursorPosition(a),r.openSuggestionMenu("/")}},[r,e.block]);return g.jsx(t.SideMenu.Button,{className:"bn-button",label:n.side_menu.add_block_label,icon:g.jsx(pJe,{size:24,onClick:i,"data-test":"dragHandleAdd"})})};function tpe(e){return Zt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function gJe(e){return Zt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(e)}const npe=e=>{const t=zt(),n=Xt(),r=e.block;return!kl(r,n,r.type,{textColor:"string"})&&!kl(r,n,r.type,{backgroundColor:"string"})?null:g.jsxs(t.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(t.Generic.Menu.Trigger,{sub:!0,children:g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children})}),g.jsx(t.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(hR,{iconSize:18,text:kl(r,n,r.type,{textColor:"string"})&&Xr(n,r.type,{textColor:"string"})?{color:r.props.textColor,setColor:i=>n.updateBlock(r,{type:r.type,props:{textColor:i}})}:void 0,background:kl(r,n,r.type,{backgroundColor:"string"})&&Xr(n,r.type,{backgroundColor:"string"})?{color:r.props.backgroundColor,setColor:i=>n.updateBlock(r,{props:{backgroundColor:i}})}:void 0})})]})},yJe=e=>{const t=zt(),n=Xt();return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",onClick:()=>n.removeBlocks([e.block]),children:e.children})},bJe=e=>{const t=zt(),n=Xt();if(e.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!e.block.content.headerRows;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const i=n.getBlock(e.block.id);i&&n.updateBlock(i,{...i,content:{...i.content,headerRows:r?void 0:1}})},children:e.children})},vJe=e=>{const t=zt(),n=Xt();if(e.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!e.block.content.headerCols;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{n.updateBlock(e.block,{type:"table",content:{...e.block.content,type:"tableContent",headerCols:r?void 0:1}})},children:e.children})},xJe=e=>{const t=zt(),n=gn();return g.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(yJe,{...e,children:n.drag_handle.delete_menuitem}),g.jsx(npe,{...e,children:n.drag_handle.colors_menuitem}),g.jsx(bJe,{...e,children:n.drag_handle.header_row_menuitem}),g.jsx(vJe,{...e,children:n.drag_handle.header_column_menuitem})]})})},wJe=e=>{const t=zt(),n=gn(),r=e.dragHandleMenu||xJe;return g.jsxs(t.Generic.Menu.Root,{onOpenChange:i=>{i?e.freezeMenu():e.unfreezeMenu()},position:"left",children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.SideMenu.Button,{label:n.side_menu.drag_handle_label,draggable:!0,onDragStart:i=>e.blockDragStart(i,e.block),onDragEnd:e.blockDragEnd,className:"bn-button",icon:g.jsx(tpe,{size:24,"data-test":"dragHandle"})})}),g.jsx(r,{block:e.block,children:e.children})]})},rpe=e=>{const t=zt(),n=C.useMemo(()=>{var r;const i={"data-block-type":e.block.type};return e.block.type==="heading"&&(i["data-level"]=e.block.props.level.toString()),(r=e.editor.schema.blockSpecs[e.block.type].implementation.meta)!=null&&r.fileBlockAccept&&(e.block.props.url?i["data-url"]="true":i["data-url"]="false"),i},[e.block.props,e.block.type,e.editor.schema.blockSpecs]);return g.jsx(t.SideMenu.Root,{className:"bn-side-menu",...n,children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(mJe,{...e}),g.jsx(wJe,{...e})]})})},ipe=e=>{const t=Xt(),n={blockDragStart:t.sideMenu.blockDragStart,blockDragEnd:t.sideMenu.blockDragEnd,freezeMenu:t.sideMenu.freezeMenu,unfreezeMenu:t.sideMenu.unfreezeMenu},r=hh(t.sideMenu.onUpdate.bind(t.sideMenu)),{isMounted:i,ref:o,style:a,getFloatingProps:s}=km(r?.show||!1,r?.referencePos||null,1e3,{placement:"left-start",...e.floatingOptions});if(!i||!r)return null;const{show:l,referencePos:c,...u}=r,d=e.sideMenu||rpe;return g.jsx("div",{ref:o,style:a,...s(),children:g.jsx(d,{...u,...n,editor:t})})};async function SJe(e,t){return(await AXe(e,t)).map(({id:n,onItemClick:r})=>({id:n,onItemClick:r,icon:n}))}function EJe(e){const t=zt(),n=gn(),{items:r,loadingState:i,selectedIndex:o,onItemClick:a,columns:s}=e,l=i==="loading-initial"||i==="loading"?g.jsx(t.GridSuggestionMenu.Loader,{className:"bn-grid-suggestion-menu-loader",columns:s}):null,c=C.useMemo(()=>{const u=[];for(let d=0;d<r.length;d++){const p=r[d];u.push(g.jsx(t.GridSuggestionMenu.Item,{className:"bn-grid-suggestion-menu-item",item:p,id:`bn-grid-suggestion-menu-item-${d}`,isSelected:d===o,onClick:()=>a?.(p)},p.id))}return u},[t,r,a,o]);return g.jsxs(t.GridSuggestionMenu.Root,{id:"bn-grid-suggestion-menu",columns:s,className:"bn-grid-suggestion-menu",children:[l,c,c.length===0&&e.loadingState==="loaded"&&g.jsx(t.GridSuggestionMenu.EmptyItem,{className:"bn-grid-suggestion-menu-empty-item",columns:s,children:n.suggestion_menu.no_items_title})]})}function ope(e,t,n,r=3){const i=C.useRef(0);C.useEffect(()=>{t!==void 0&&(e.length>0?i.current=t.length:t.length-i.current>r&&n())},[n,r,e.length,t])}function ape(e,t){const[n,r]=C.useState([]),[i,o]=C.useState(!1),a=C.useRef(void 0),s=C.useRef(void 0);return C.useEffect(()=>{const l=e;a.current=e,o(!0),t(e).then(c=>{a.current===l&&(r(c),o(!1),s.current=l)})},[e,t]),{items:n||[],usedQuery:s.current,loadingState:s.current===void 0?"loading-initial":i?"loading":"loaded"}}function CJe(e,t,n,r,i){const[o,a]=C.useState(0),s=r!==void 0&&r>1;return C.useEffect(()=>{var l;const c=u=>(u.key==="ArrowLeft"&&(u.preventDefault(),n.length&&a((o-1+n.length)%n.length)),u.key==="ArrowRight"&&(u.preventDefault(),n.length&&a((o+1+n.length)%n.length)),u.key==="ArrowUp"?(u.preventDefault(),n.length&&a((o-r+n.length)%n.length),!0):u.key==="ArrowDown"?(u.preventDefault(),n.length&&a((o+r)%n.length),!0):u.key==="Enter"&&!u.isComposing?(u.stopPropagation(),u.preventDefault(),n.length&&i?.(n[o]),!0):!1);return(l=e.domElement)==null||l.addEventListener("keydown",c,!0),()=>{var u;(u=e.domElement)==null||u.removeEventListener("keydown",c,!0)}},[e.domElement,n,o,i,r,s]),C.useEffect(()=>{a(0)},[t]),{selectedIndex:n.length===0?void 0:o}}function TJe(e){const t=Ud().setContentEditableProps,n=Xt(),{getItems:r,gridSuggestionMenuComponent:i,query:o,clearQuery:a,closeMenu:s,onItemClick:l,columns:c}=e,u=C.useCallback(x=>{s(),a(),l?.(x)},[l,s,a]),{items:d,usedQuery:p,loadingState:m}=ape(o,r);ope(d,p,s);const{selectedIndex:v}=CJe(n,o,d,c,u);return C.useEffect(()=>(t(x=>({...x,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{t(x=>({...x,"aria-expanded":!1,"aria-controls":void 0}))}),[t]),C.useEffect(()=>(t(x=>({...x,"aria-activedescendant":v?"bn-suggestion-menu-item-"+v:void 0})),()=>{t(x=>({...x,"aria-activedescendant":void 0}))}),[t,v]),g.jsx(i,{items:d,onItemClick:u,loadingState:m,selectedIndex:v,columns:c})}function kJe(e){const t=Xt(),{triggerCharacter:n,gridSuggestionMenuComponent:r,columns:i,minQueryLength:o,onItemClick:a,getItems:s,floatingOptions:l}=e,c=C.useMemo(()=>a||(k=>{k.onItemClick(t)}),[t,a]),u=C.useMemo(()=>s||(async k=>await SJe(t,k)),[t,s]),d={closeMenu:t.suggestionMenus.closeMenu,clearQuery:t.suggestionMenus.clearQuery},p=C.useCallback(k=>t.suggestionMenus.onUpdate(n,k),[t.suggestionMenus,n]),m=hh(p),{isMounted:v,ref:x,style:w,getFloatingProps:T}=km(m?.show||!1,m?.referencePos||null,2e3,{placement:"bottom-start",middleware:[ch(10),xm(),mD({apply({availableHeight:k,elements:N}){Object.assign(N.floating.style,{maxHeight:`${k-10}px`})}})],onOpenChange(k){k||t.suggestionMenus.closeMenu()},...l});return!v||!m||!(m!=null&&m.ignoreQueryLength)&&o&&(m.query.startsWith(" ")||m.query.length<o)?null:g.jsx("div",{ref:x,style:w,...T(),children:g.jsx(TJe,{query:m.query,closeMenu:d.closeMenu,clearQuery:d.clearQuery,getItems:u,columns:i,gridSuggestionMenuComponent:r||EJe,onItemClick:c})})}function _Je(e){const t=zt(),n=gn(),{items:r,loadingState:i,selectedIndex:o,onItemClick:a}=e,s=i==="loading-initial"||i==="loading"?g.jsx(t.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader"}):null,l=C.useMemo(()=>{let c;const u=[];for(let d=0;d<r.length;d++){const p=r[d];p.group!==c&&(c=p.group,u.push(g.jsx(t.SuggestionMenu.Label,{className:"bn-suggestion-menu-label",children:c},c))),u.push(g.jsx(t.SuggestionMenu.Item,{className:bi("bn-suggestion-menu-item",p.size==="small"?"bn-suggestion-menu-item-small":""),item:p,id:`bn-suggestion-menu-item-${d}`,isSelected:d===o,onClick:()=>a?.(p)},p.title))}return u},[t,r,a,o]);return g.jsxs(t.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu",children:[l,l.length===0&&(e.loadingState==="loading"||e.loadingState==="loaded")&&g.jsx(t.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),s]})}function AJe(e,t){const[n,r]=C.useState(0);return{selectedIndex:n,setSelectedIndex:r,handler:i=>{if(i.key==="ArrowUp")return i.preventDefault(),e.length&&r((n-1+e.length)%e.length),!0;if(i.key==="ArrowDown")return i.preventDefault(),e.length&&r((n+1)%e.length),!0;const o=NJe(i)?i.nativeEvent.isComposing:i.isComposing;return i.key==="Enter"&&!o?(i.preventDefault(),i.stopPropagation(),e.length&&t?.(e[n]),!0):!1}}}function NJe(e){return e.nativeEvent!==void 0}function OJe(e,t,n,r,i){const{selectedIndex:o,setSelectedIndex:a,handler:s}=AJe(n,r);return C.useEffect(()=>{var l;return(l=e.domElement)==null||l.addEventListener("keydown",s,!0),()=>{var c;(c=e.domElement)==null||c.removeEventListener("keydown",s,!0)}},[e.domElement,n,o,r,i,s]),C.useEffect(()=>{a(0)},[t,a]),{selectedIndex:n.length===0?void 0:o}}function MJe(e){const t=Ud().setContentEditableProps,n=Xt(),{getItems:r,suggestionMenuComponent:i,query:o,clearQuery:a,closeMenu:s,onItemClick:l}=e,c=C.useCallback(v=>{s(),a(),l?.(v)},[l,s,a]),{items:u,usedQuery:d,loadingState:p}=ape(o,r);ope(u,d,s);const{selectedIndex:m}=OJe(n,o,u,c);return C.useEffect(()=>(t(v=>({...v,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{t(v=>({...v,"aria-expanded":!1,"aria-controls":void 0}))}),[t]),C.useEffect(()=>(t(v=>({...v,"aria-activedescendant":m?"bn-suggestion-menu-item-"+m:void 0})),()=>{t(v=>({...v,"aria-activedescendant":void 0}))}),[t,m]),g.jsx(i,{items:u,onItemClick:c,loadingState:p,selectedIndex:m})}const DJe={heading:BO,heading_2:$O,heading_3:HO,heading_4:Hhe,heading_5:Fhe,heading_6:Uhe,toggle_heading:BO,toggle_heading_2:$O,toggle_heading_3:HO,quote:Yhe,toggle_list:Ghe,numbered_list:qhe,bullet_list:Whe,check_list:Vhe,paragraph:a7,table:gQe,image:vQe,video:bQe,audio:SQe,file:nQe,emoji:MQe,code_block:lQe,divider:OQe};function RJe(e){return rce(e).map(t=>{const n=DJe[t.key];return{...t,icon:g.jsx(n,{size:18})}})}function spe(e){const t=Xt(),{triggerCharacter:n,suggestionMenuComponent:r,minQueryLength:i,onItemClick:o,getItems:a,floatingOptions:s}=e,l=C.useMemo(()=>o||(T=>{T.onItemClick(t)}),[t,o]),c=C.useMemo(()=>a||(async T=>fje(RJe(t),T)),[t,a]),u={closeMenu:t.suggestionMenus.closeMenu,clearQuery:t.suggestionMenus.clearQuery},d=C.useCallback(T=>t.suggestionMenus.onUpdate(n,T),[t.suggestionMenus,n]),p=hh(d),{isMounted:m,ref:v,style:x,getFloatingProps:w}=km(p?.show||!1,p?.referencePos||null,2e3,{placement:"bottom-start",middleware:[ch(10),xm({mainAxis:!0,crossAxis:!1}),MT(),mD({apply({availableHeight:T,elements:k}){Object.assign(k.floating.style,{maxHeight:`${T-10}px`,minHeight:"300px"})}})],onOpenChange(T){T||t.suggestionMenus.closeMenu()},...s});return!m||!p||!(p!=null&&p.ignoreQueryLength)&&i&&(p.query.startsWith(" ")||p.query.length<i)?null:g.jsx("div",{ref:v,style:x,...w(),onMouseDown:T=>T.preventDefault(),children:g.jsx(MJe,{query:p.query,closeMenu:u.closeMenu,clearQuery:u.clearQuery,getItems:c,suggestionMenuComponent:r||_Je,onItemClick:l})})}const IJe=(e,t=.3)=>{const n=Math.floor(e)+t,r=Math.ceil(e)-t;return e>=n&&e<=r?Math.round(e):e<n?Math.floor(e):Math.ceil(e)},PJe=e=>{const t=zt(),n=C.useRef(!1),[r,i]=C.useState(),o=C.useCallback(s=>{e.onMouseDown(),i({originalContent:e.block.content,originalCroppedContent:{rows:e.editor.tableHandles.cropEmptyRowsOrColumns(e.block,e.orientation==="addOrRemoveColumns"?"columns":"rows")},startPos:e.orientation==="addOrRemoveColumns"?s.clientX:s.clientY}),n.current=!1,s.preventDefault()},[e]),a=C.useCallback(()=>{n.current||e.editor.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:e.orientation==="addOrRemoveColumns"?e.editor.tableHandles.addRowsOrColumns(e.block,"columns",1):e.editor.tableHandles.addRowsOrColumns(e.block,"rows",1)}})},[e.block,e.orientation,e.editor]);return C.useEffect(()=>{const s=l=>{var c,u;if(!r)throw new Error("editingState is undefined");n.current=!0;const d=(e.orientation==="addOrRemoveColumns"?l.clientX:l.clientY)-r.startPos,p=e.orientation==="addOrRemoveColumns"?((c=r.originalCroppedContent.rows[0])==null?void 0:c.cells.length)??0:r.originalCroppedContent.rows.length,m=e.orientation==="addOrRemoveColumns"?((u=r.originalContent.rows[0])==null?void 0:u.cells.length)??0:r.originalContent.rows.length,v=e.orientation==="addOrRemoveColumns"?e.block.content.rows[0].cells.length:e.block.content.rows.length,x=m+IJe(d/(e.orientation==="addOrRemoveColumns"?q9:Q4e),.3);x>=p&&x>0&&x!==v&&(e.editor.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:e.orientation==="addOrRemoveColumns"?e.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"columns",x-p):e.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"rows",x-p)}}),e.block.content&&e.editor.setTextCursorPosition(e.block))};return r&&window.addEventListener("mousemove",s),()=>{window.removeEventListener("mousemove",s)}},[r,e.block,e.editor,e.orientation]),C.useEffect(()=>{const s=e.onMouseUp,l=()=>{i(void 0),s()};return r&&window.addEventListener("mouseup",l),()=>{window.removeEventListener("mouseup",l)}},[r,e.onMouseUp]),e.editor.isEditable?g.jsx(t.TableHandle.ExtendButton,{className:bi("bn-extend-button",e.orientation==="addOrRemoveColumns"?"bn-extend-button-add-remove-columns":"bn-extend-button-add-remove-rows",r!==null?"bn-extend-button-editing":""),onClick:a,onMouseDown:o,children:e.children||g.jsx(EQe,{size:18,"data-test":"extendButton"})}):null},gK=e=>{const t=zt(),n=gn(),r=Xt().tableHandles;return r?g.jsx(t.Generic.Menu.Item,{onClick:()=>{r.addRowOrColumn(e.index,e.orientation==="row"?{orientation:"row",side:e.side}:{orientation:"column",side:e.side})},children:n.table_handle[`add_${e.side}_menuitem`]}):null},LJe=e=>{const t=zt(),n=gn(),r=Xt().tableHandles;return r?g.jsx(t.Generic.Menu.Item,{onClick:()=>{r.removeRowOrColumn(e.index,e.orientation)},children:e.orientation==="row"?n.table_handle.delete_row_menuitem:n.table_handle.delete_column_menuitem}):null},jJe=e=>{const t=zt(),n=gn(),r=Xt(),i=r.tableHandles,o=C.useMemo(()=>!i||!e.block?[]:e.orientation==="row"?i.getCellsAtRowHandle(e.block,e.index):i.getCellsAtColumnHandle(e.block,e.index),[e.block,e.index,e.orientation,i]),a=(l,c)=>{const u=e.block.content.rows.map(d=>({...d,cells:d.cells.map(p=>dm(p))}));o.forEach(({row:d,col:p})=>{c==="text"?u[d].cells[p].props.textColor=l:u[d].cells[p].props.backgroundColor=l}),r.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:u}}),r.setTextCursorPosition(e.block)};if(!o||!o[0]||!i||r.settings.tables.cellTextColor===!1&&r.settings.tables.cellBackgroundColor===!1)return null;const s=dm(o[0].cell);return g.jsxs(t.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(t.Generic.Menu.Trigger,{sub:!0,children:g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children||n.drag_handle.colors_menuitem})}),g.jsx(t.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(hR,{iconSize:18,text:r.settings.tables.cellTextColor?{color:o.every(({cell:l})=>fm(l)&&l.props.textColor===s.props.textColor)?s.props.textColor:"default",setColor:l=>{a(l,"text")}}:void 0,background:r.settings.tables.cellBackgroundColor?{color:o.every(({cell:l})=>fm(l)&&l.props.backgroundColor===s.props.backgroundColor)?s.props.backgroundColor:"default",setColor:l=>a(l,"background")}:void 0})})]})},BJe=e=>{const t=zt(),n=gn(),r=Xt();if(!r.tableHandles||e.index!==0||e.orientation!=="row"||!r.settings.tables.headers)return null;const i=!!e.block.content.headerRows;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:i,onClick:()=>{const o=r.getBlock(e.block.id);o&&r.updateBlock(o,{...o,content:{...o.content,headerRows:i?void 0:1}})},children:n.drag_handle.header_row_menuitem})},$Je=e=>{const t=zt(),n=gn(),r=Xt();if(!r.tableHandles||e.index!==0||e.orientation!=="column"||!r.settings.tables.headers)return null;const i=!!e.block.content.headerCols;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:i,onClick:()=>{const o=r.getBlock(e.block.id);o&&r.updateBlock(o,{...o,content:{...o.content,headerCols:i?void 0:1}})},children:n.drag_handle.header_column_menuitem})},HJe=e=>{const t=zt();return g.jsx(t.Generic.Menu.Dropdown,{className:"bn-table-handle-menu",children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(LJe,{orientation:e.orientation,block:e.block,index:e.index}),g.jsx(gK,{orientation:e.orientation,block:e.block,index:e.index,side:e.orientation==="row"?"above":"left"}),g.jsx(gK,{orientation:e.orientation,block:e.block,index:e.index,side:e.orientation==="row"?"below":"right"}),g.jsx(BJe,{orientation:e.orientation,block:e.block,index:e.index}),g.jsx($Je,{orientation:e.orientation,block:e.block,index:e.index}),g.jsx(jJe,{orientation:e.orientation,block:e.block,index:e.index})]})})},FJe=e=>{const t=zt(),[n,r]=C.useState(!1),i=e.tableHandleMenu||HJe,o=C.useMemo(()=>{const a=e.editor.tableHandles;return!a||!e.block||e.block.type!=="table"?!1:e.orientation==="column"?a.getCellsAtColumnHandle(e.block,e.index).every(({cell:s})=>U0(s)===1):a.getCellsAtRowHandle(e.block,e.index).every(({cell:s})=>dC(s)===1)},[e.block,e.editor.tableHandles,e.index,e.orientation]);return g.jsxs(t.Generic.Menu.Root,{onOpenChange:a=>{a?(e.freezeHandles(),e.hideOtherSide()):(e.unfreezeHandles(),e.showOtherSide(),e.editor.focus())},position:"right",children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.TableHandle.Root,{className:bi("bn-table-handle",n?"bn-table-handle-dragging":"",o?"":"bn-table-handle-not-draggable"),draggable:o,onDragStart:a=>{r(!0),e.dragStart(a)},onDragEnd:()=>{e.dragEnd(),r(!1)},style:e.orientation==="column"?{transform:"rotate(0.25turn)"}:void 0,children:e.children||g.jsx(tpe,{size:24,"data-test":"tableHandle"})})}),Ta.createPortal(g.jsx(i,{orientation:e.orientation,block:e.block,index:e.index}),e.menuContainer)]})};function yK(e,t,n){const{refs:r,update:i,context:o,floatingStyles:a}=e7({open:t,placement:e==="addOrRemoveColumns"?"right":"bottom",middleware:[mD({apply({rects:c,elements:u}){Object.assign(u.floating.style,e==="addOrRemoveColumns"?{height:`${c.reference.height}px`}:{width:`${c.reference.width}px`})}})]}),{isMounted:s,styles:l}=t7(o);return C.useEffect(()=>{i()},[n,i]),C.useEffect(()=>{n!==null&&r.setReference({getBoundingClientRect:()=>n})},[e,n,r]),C.useMemo(()=>({isMounted:s,ref:r.setFloating,style:{display:"flex",...l,...a}}),[a,s,r.setFloating,l])}function UJe(e,t,n){const r=yK("addOrRemoveRows",t,n),i=yK("addOrRemoveColumns",e,n);return C.useMemo(()=>({addOrRemoveRowsButton:r,addOrRemoveColumnsButton:i}),[i,r])}function zJe(e,t,n){return n&&n.draggedCellOrientation==="row"?new DOMRect(t.x,n.mousePos,t.width,0):new DOMRect(t.x,e.y,t.width,e.height)}function VJe(e,t,n){return n&&n.draggedCellOrientation==="col"?new DOMRect(n.mousePos,t.y,0,t.height):new DOMRect(e.x,t.y,e.width,t.height)}function qJe(e){return new DOMRect(e.x,e.y,e.width,0)}function fL(e,t,n,r,i){const{refs:o,update:a,context:s,floatingStyles:l}=e7({open:t,placement:e==="row"?"left":e==="col"?"top":"bottom-end",middleware:[ch(e==="row"?-10:e==="col"?-12:{mainAxis:1,crossAxis:-1})]}),{isMounted:c,styles:u}=t7(s);return C.useEffect(()=>{a()},[n,r,a]),C.useEffect(()=>{n===null||r===null||i&&e==="cell"||o.setReference({getBoundingClientRect:()=>(e==="row"?zJe:e==="col"?VJe:qJe)(n,r,i)})},[i,e,n,r,o]),C.useMemo(()=>({isMounted:c,ref:o.setFloating,style:{display:"flex",...u,...l}}),[l,c,o.setFloating,u])}function WJe(e,t,n,r){const i=fL("row",e,t,n,r),o=fL("col",e,t,n,r),a=fL("cell",e,t,n,r);return C.useMemo(()=>({rowHandle:i,colHandle:o,cellHandle:a}),[o,i,a])}const YJe=e=>{var t,n;const r=zt(),i=gn(),o=Xt(),a=(l,c)=>{const u=e.block.content.rows.map(d=>({...d,cells:d.cells.map(p=>dm(p))}));c==="text"?u[e.rowIndex].cells[e.colIndex].props.textColor=l:u[e.rowIndex].cells[e.colIndex].props.backgroundColor=l,o.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:u}}),o.setTextCursorPosition(e.block)},s=(n=(t=e.block.content.rows[e.rowIndex])==null?void 0:t.cells)==null?void 0:n[e.colIndex];return!s||o.settings.tables.cellTextColor===!1&&o.settings.tables.cellBackgroundColor===!1?null:g.jsxs(r.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(r.Generic.Menu.Trigger,{sub:!0,children:g.jsx(r.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children||i.drag_handle.colors_menuitem})}),g.jsx(r.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(hR,{iconSize:18,text:o.settings.tables.cellTextColor?{color:fm(s)?s.props.textColor:"default",setColor:l=>a(l,"text")}:void 0,background:o.settings.tables.cellBackgroundColor?{color:fm(s)?s.props.backgroundColor:"default",setColor:l=>a(l,"background")}:void 0})})]})},GJe=e=>{var t,n;const r=zt(),i=gn(),o=Xt(),a=(n=(t=e.block.content.rows[e.rowIndex])==null?void 0:t.cells)==null?void 0:n[e.colIndex];return!a||!fm(a)||dC(a)===1&&U0(a)===1||!o.settings.tables.splitCells?null:g.jsx(r.Generic.Menu.Item,{onClick:()=>{var s;(s=o.tableHandles)==null||s.splitCell({row:e.rowIndex,col:e.colIndex})},children:i.table_handle.split_cell_menuitem})},KJe=e=>{const t=zt();return g.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-table-handle-menu",children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(GJe,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex}),g.jsx(YJe,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex})]})})},XJe=e=>{const t=zt(),n=e.tableCellMenu||KJe;return!e.editor.settings.tables.splitCells&&!e.editor.settings.tables.cellBackgroundColor&&!e.editor.settings.tables.cellTextColor?null:g.jsxs(t.Generic.Menu.Root,{onOpenChange:r=>{r?e.freezeHandles():(e.unfreezeHandles(),e.editor.focus())},position:"right",children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.Generic.Menu.Button,{className:"bn-table-cell-handle",children:e.children||g.jsx(gJe,{size:12,"data-test":"tableCellHandle"})})}),Ta.createPortal(g.jsx(n,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex}),e.menuContainer)]})},ZJe=e=>{var t,n;const r=Xt(),[i,o]=C.useState(null);if(!r.tableHandles)throw new Error("TableHandlesController can only be used when BlockNote editor schema contains table block");const a={rowDragStart:r.tableHandles.rowDragStart,colDragStart:r.tableHandles.colDragStart,dragEnd:r.tableHandles.dragEnd,freezeHandles:r.tableHandles.freezeHandles,unfreezeHandles:r.tableHandles.unfreezeHandles},{freezeHandles:s,unfreezeHandles:l}=a,c=C.useCallback(()=>{s(),O(!0),N(!0)},[s]),u=C.useCallback(()=>{l(),O(!1),N(!1)},[l]),d=hh(r.tableHandles.onUpdate.bind(r.tableHandles)),p=C.useMemo(()=>{var B,$;return d!=null&&d.draggingState?{draggedCellOrientation:(B=d?.draggingState)==null?void 0:B.draggedCellOrientation,mousePos:($=d?.draggingState)==null?void 0:$.mousePos}:void 0},[d?.draggingState,(t=d?.draggingState)==null?void 0:t.draggedCellOrientation,(n=d?.draggingState)==null?void 0:n.mousePos]),{rowHandle:m,colHandle:v,cellHandle:x}=WJe(d?.show||!1,d?.referencePosCell||null,d?.referencePosTable||null,p),{addOrRemoveColumnsButton:w,addOrRemoveRowsButton:T}=UJe(d?.showAddOrRemoveColumnsButton||!1,d?.showAddOrRemoveRowsButton||!1,d?.referencePosTable||null),[k,N]=C.useState(!1),[I,O]=C.useState(!1);if(!d)return null;const A=e.tableHandle||FJe,R=e.extendButton||PJe,L=e.tableCellHandle||XJe;return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:o}),g.jsxs(gZe,{root:d.widgetContainer,children:[!k&&i&&m.isMounted&&d.rowIndex!==void 0&&g.jsx("div",{ref:m.ref,style:m.style,children:g.jsx(A,{editor:r,orientation:"row",showOtherSide:()=>O(!1),hideOtherSide:()=>O(!0),index:d.rowIndex,block:d.block,dragStart:a.rowDragStart,dragEnd:a.dragEnd,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles,menuContainer:i})}),!I&&i&&v.isMounted&&d.colIndex!==void 0&&g.jsx("div",{ref:v.ref,style:v.style,children:g.jsx(A,{editor:r,orientation:"column",showOtherSide:()=>N(!1),hideOtherSide:()=>N(!0),index:d.colIndex,block:d.block,dragStart:a.colDragStart,dragEnd:a.dragEnd,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles,menuContainer:i})}),i&&x.isMounted&&d.colIndex!==void 0&&d.rowIndex!==void 0&&g.jsx("div",{ref:x.ref,style:x.style,children:g.jsx(L,{editor:r,block:d.block,rowIndex:d.rowIndex,colIndex:d.colIndex,menuContainer:i,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles})}),g.jsx("div",{ref:T.ref,style:T.style,children:g.jsx(R,{editor:r,orientation:"addOrRemoveRows",block:d.block,onMouseDown:c,onMouseUp:u})}),g.jsx("div",{ref:w.ref,style:w.style,children:g.jsx(R,{editor:r,orientation:"addOrRemoveColumns",block:d.block,onMouseDown:c,onMouseUp:u})})]})]})};function QJe(e){const t=Xt();if(!t)throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return g.jsxs(g.Fragment,{children:[e.formattingToolbar!==!1&&g.jsx(epe,{}),e.linkToolbar!==!1&&g.jsx(hJe,{}),e.slashMenu!==!1&&g.jsx(spe,{triggerCharacter:"/"}),e.emojiPicker!==!1&&g.jsx(kJe,{triggerCharacter:":",columns:10,minQueryLength:2}),e.sideMenu!==!1&&g.jsx(ipe,{}),t.filePanel&&e.filePanel!==!1&&g.jsx(UQe,{}),t.tableHandles&&e.tableHandles!==!1&&g.jsx(ZJe,{}),t.comments&&e.comments!==!1&&g.jsxs(g.Fragment,{children:[g.jsx(qZe,{}),g.jsx($Qe,{})]})]})}const JJe=()=>{const e=C.useMemo(()=>{var a;return(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: dark)")},[]),t=C.useMemo(()=>{var a;return(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: light)")},[]),n=e?.matches,r=t?.matches,[i,o]=C.useState(n?"dark":r?"light":"no-preference");return C.useEffect(()=>{o(n?"dark":r?"light":"no-preference")},[n,r]),C.useEffect(()=>{if(typeof e?.addEventListener=="function"){const a=({matches:l})=>l&&o("dark"),s=({matches:l})=>l&&o("light");return e?.addEventListener("change",a),t?.addEventListener("change",s),()=>{e?.removeEventListener("change",a),t?.removeEventListener("change",s)}}else{const a=()=>o(e.matches?"dark":t.matches?"light":"no-preference");return e?.addEventListener("change",a),t?.addEventListener("change",a),()=>{e?.removeEventListener("change",a),t?.removeEventListener("change",a)}}},[e,t]),i},lpe=C.createContext(void 0);function eet(){return C.useContext(lpe)}function tet(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:Ta.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}const net=({contentComponent:e})=>{const t=C.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return g.jsx(g.Fragment,{children:Object.values(t)})},ret=C.forwardRef((e,t)=>{const[n,r]=C.useState();return C.useImperativeHandle(t,()=>(i,o)=>{Ta.flushSync(()=>{r({node:i,container:o})}),r(void 0)},[]),g.jsx(g.Fragment,{children:n&&Ta.createPortal(n.node,n.container)})}),bK=()=>{};function iet(e,t){const{editor:n,className:r,theme:i,children:o,editable:a,onSelectionChange:s,onChange:l,formattingToolbar:c,linkToolbar:u,slashMenu:d,emojiPicker:p,sideMenu:m,filePanel:v,tableHandles:x,comments:w,autoFocus:T,renderEditor:k=!0,...N}=e,[I,O]=C.useState(),A=Ud(),R=JJe(),L=A?.colorSchemePreference||R,B=i||(L==="dark"?"dark":"light");dR(l||bK,n),n7(s||bK,n),C.useEffect(()=>{n.isEditable=a!==!1},[a,n]);const $=C.useCallback(Y=>{n.elementRenderer=Y},[n]),q=C.useMemo(()=>({...A,editor:n,setContentEditableProps:O,colorSchemePreference:B}),[A,n,B]),z=C.useMemo(()=>({editorProps:{autoFocus:T,contentEditableProps:I},defaultUIProps:{formattingToolbar:c,linkToolbar:u,slashMenu:d,emojiPicker:p,sideMenu:m,filePanel:v,tableHandles:x,comments:w}}),[T,I,c,u,d,p,m,v,x,w]);return g.jsx(Phe.Provider,{value:q,children:g.jsxs(lpe.Provider,{value:z,children:[g.jsx(ret,{ref:$}),g.jsx(oet,{className:r,renderEditor:k,editable:a,editorColorScheme:B,ref:t,...N,children:o})]})})}const oet=F.forwardRef(({className:e,renderEditor:t,editable:n,editorColorScheme:r,children:i,...o},a)=>g.jsx("div",{className:bi("bn-container",r,e),"data-color-scheme":r,...o,ref:a,children:t?g.jsx(set,{editable:n,children:i}):i})),aet=F.forwardRef(iet),set=e=>{const t=eet(),n=Xt(),r=C.useMemo(()=>tet(),[]),i=C.useCallback(o=>{e.editable!==void 0&&e.editable!==n.isEditable&&(n.isEditable=e.editable),n._tiptapEditor.contentComponent=r,o?n.mount(o):n.unmount()},[n,r,e.editable]);return g.jsxs(g.Fragment,{children:[g.jsx(net,{contentComponent:r}),g.jsx(cet,{...t.editorProps,...e,mount:i}),g.jsx(QJe,{...t.defaultUIProps}),e.children]})},cet=e=>{const{autoFocus:t,mount:n,contentEditableProps:r}=e;return g.jsx("div",{"aria-autocomplete":"list","aria-haspopup":"listbox","data-bn-autofocus":t,ref:n,...r})};function vK(e,t){let n;const r=document.createElement("div");let i;if(t!=null&&t.elementRenderer)t.elementRenderer(e(l=>n=l||void 0),r);else{if(!(t!=null&&t.headless))throw new Error("elementRenderer not available, expected headless editor");i=ere.createRoot(r),Ta.flushSync(()=>{i.render(e(l=>n=l||void 0))})}if(!r.childElementCount)return console.warn("ReactInlineContentSpec: renderHTML() failed"),{dom:document.createElement("span")};n?.setAttribute("data-tmp-find","true");const o=r.cloneNode(!0),a=o.firstElementChild,s=o.querySelector("[data-tmp-find]");return s?.removeAttribute("data-tmp-find"),i?.unmount(),{dom:a,contentDOM:s||void 0}}function hL(e){var t;return g.jsx(IZe,{onDragOver:n=>n.preventDefault(),...Object.fromEntries(Object.entries(e.domAttributes||{}).filter(([n])=>n!=="class")),className:bi("bn-block-content",((t=e.domAttributes)==null?void 0:t.class)||""),"data-content-type":e.blockType,...Object.fromEntries(Object.entries(e.blockProps).filter(([n,r])=>{const i=e.propSchema[n];return r!==i.default}).map(([n,r])=>[jN(n),r])),"data-file-block":e.isFileBlock===!0||void 0,children:e.children})}function yy(e,t,n){return(r={})=>{const i=typeof e=="function"?e(r):e,o=typeof t=="function"?t(r):t;return{config:i,implementation:{...o,toExternalHTML(s,l){const c=o.toExternalHTML||o.render;return vK(u=>g.jsx(hL,{blockType:s.type,blockProps:s.props,propSchema:i.propSchema,domAttributes:this.blockContentDOMAttributes,children:g.jsx(c,{block:s,editor:l,contentRef:d=>{u(d),d&&(d.className=bi("bn-inline-content",d.className))}})}),l)},render(s,l){if(this.renderType==="nodeView")return HZe(c=>{var u;const d=Vle(c.getPos,l,c.editor,i.type),p=Ihe().nodeViewContentRef;if(!p)throw new Error("nodeViewContentRef is not set");const m=o.render;return g.jsx(hL,{blockType:d.type,blockProps:d.props,propSchema:i.propSchema,isFileBlock:!!((u=o.meta)!=null&&u.fileBlockAccept),domAttributes:this.blockContentDOMAttributes,children:g.jsx(m,{block:d,editor:l,contentRef:v=>{p(v),v&&(v.className=bi("bn-inline-content",v.className),v.dataset.nodeViewContent="")}})})},{className:"bn-react-node-view-renderer"})(this.props);{const c=o.render;return vK(u=>g.jsx(hL,{blockType:s.type,blockProps:s.props,propSchema:i.propSchema,domAttributes:this.blockContentDOMAttributes,children:g.jsx(c,{block:s,editor:l,contentRef:d=>{u(d),d&&(d.className=bi("bn-inline-content",d.className))}})}),l)}}},extensions:void 0}}}F.memo(({thread:e,selectedThreadId:t,editor:n,maxCommentsBeforeCollapse:r,referenceText:i})=>{const o=C.useCallback(s=>{var l;s.target.closest(".bn-action-toolbar")||(l=n.comments)==null||l.selectThread(e.id)},[n.comments,e.id]),a=C.useCallback(s=>{var l;if(!s.relatedTarget||s.relatedTarget.closest(".bn-action-toolbar"))return;const c=s.target instanceof Node?s.target:null,u=s.relatedTarget instanceof Node?s.relatedTarget.closest(".bn-thread"):null;(!c||!u||!u.contains(c))&&((l=n.comments)==null||l.selectThread(void 0))},[n.comments]);return g.jsx(Khe,{thread:e,selected:e.id===t,referenceText:i,maxCommentsBeforeCollapse:r,onFocus:o,onBlur:a,tabIndex:0})});function uet(e){return e.currentTarget instanceof HTMLElement&&e.relatedTarget instanceof HTMLElement?e.currentTarget.contains(e.relatedTarget):!1}function det({onBlur:e,onFocus:t}={}){const n=C.useRef(null),[r,i]=C.useState(!1),o=C.useRef(!1),a=c=>{i(c),o.current=c},s=c=>{o.current||(a(!0),t?.(c))},l=c=>{o.current&&!uet(c)&&(a(!1),e?.(c))};return C.useEffect(()=>{const c=n.current;if(c)return c.addEventListener("focusin",s),c.addEventListener("focusout",l),()=>{c?.removeEventListener("focusin",s),c?.removeEventListener("focusout",l)}},[s,l]),{ref:n,focused:r}}function l7(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.top<r.top,o=n.bottom>r.bottom;return i&&o?"both":i?"top":o?"bottom":"none"}var ek=e=>e.type==="checkbox",c0=e=>e instanceof Date,Rs=e=>e==null;const cpe=e=>typeof e=="object";var lo=e=>!Rs(e)&&!Array.isArray(e)&&cpe(e)&&!c0(e),fet=e=>lo(e)&&e.target?ek(e.target)?e.target.checked:e.target.value:e,het=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pet=(e,t)=>e.has(het(t)),met=e=>{const t=e.constructor&&e.constructor.prototype;return lo(t)&&t.hasOwnProperty("isPrototypeOf")},c7=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Do(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(c7&&(e instanceof Blob||r))&&(n||lo(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!met(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Do(e[i]));else return e;return t}var pR=e=>/^\w*$/.test(e),Vi=e=>e===void 0,u7=e=>Array.isArray(e)?e.filter(Boolean):[],d7=e=>u7(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Pt=(e,t,n)=>{if(!t||!lo(e))return n;const r=(pR(t)?[t]:d7(t)).reduce((i,o)=>Rs(i)?i:i[o],e);return Vi(r)||r===e?Vi(e[t])?n:e[t]:r},hd=e=>typeof e=="boolean",gi=(e,t,n)=>{let r=-1;const i=pR(t)?[t]:d7(t),o=i.length,a=o-1;for(;++r<o;){const s=i[r];let l=n;if(r!==a){const c=e[s];l=lo(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=l,e=e[s]}};const xK={BLUR:"blur",FOCUS_OUT:"focusout"},su={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},upe=F.createContext(null);upe.displayName="HookFormContext";const get=e=>{const{children:t,...n}=e;return F.createElement(upe.Provider,{value:n},t)};var yet=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const a=o;return t._proxyFormState[a]!==su.all&&(t._proxyFormState[a]=!r||su.all),e[a]}});return i};const bet=typeof window<"u"?F.useLayoutEffect:F.useEffect;var Cl=e=>typeof e=="string",vet=(e,t,n,r,i)=>Cl(e)?(r&&t.watch.add(e),Pt(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),Pt(n,o))):(r&&(t.watchAll=!0),n),k8=e=>Rs(e)||!cpe(e);function Lp(e,t,n=new WeakSet){if(k8(e)||k8(t))return e===t;if(c0(e)&&c0(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of r){const a=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const s=t[o];if(c0(a)&&c0(s)||lo(a)&&lo(s)||Array.isArray(a)&&Array.isArray(s)?!Lp(a,s,n):a!==s)return!1}}return!0}var xet=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},LE=e=>Array.isArray(e)?e:[e],wK=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}};function dpe(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],o=t[r];if(i&&lo(i)&&o){const a=dpe(i,o);lo(a)&&(n[r]=a)}else e[r]&&(n[r]=o)}return n}var Qa=e=>lo(e)&&!Object.keys(e).length,f7=e=>e.type==="file",lu=e=>typeof e=="function",FO=e=>{if(!c7)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fpe=e=>e.type==="select-multiple",h7=e=>e.type==="radio",wet=e=>h7(e)||ek(e),pL=e=>FO(e)&&e.isConnected;function Eet(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Vi(e)?r++:e[t[r++]];return e}function Cet(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vi(e[t]))return!1;return!0}function to(e,t){const n=Array.isArray(t)?t:pR(t)?[t]:d7(t),r=n.length===1?e:Eet(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(lo(r)&&Qa(r)||Array.isArray(r)&&Cet(r))&&to(e,n.slice(0,-1)),e}var Tet=e=>{for(const t in e)if(lu(e[t]))return!0;return!1};function hpe(e){return Array.isArray(e)||lo(e)&&!Tet(e)}function _8(e,t={}){for(const n in e)hpe(e[n])?(t[n]=Array.isArray(e[n])?[]:{},_8(e[n],t[n])):Vi(e[n])||(t[n]=!0);return t}function Av(e,t,n){n||(n=_8(t));for(const r in e)hpe(e[r])?Vi(t)||k8(n[r])?n[r]=_8(e[r],Array.isArray(e[r])?[]:{}):Av(e[r],Rs(t)?{}:t[r],n[r]):n[r]=!Lp(e[r],t[r]);return n}const SK={value:!1,isValid:!1},EK={value:!0,isValid:!0};var ppe=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vi(e[0].attributes.value)?Vi(e[0].value)||e[0].value===""?EK:{value:e[0].value,isValid:!0}:EK:SK}return SK},mpe=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Vi(e)?e:t?e===""?NaN:e&&+e:n&&Cl(e)?new Date(e):r?r(e):e;const CK={isValid:!1,value:null};var gpe=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,CK):CK;function TK(e){const t=e.ref;return f7(t)?t.files:h7(t)?gpe(e.refs).value:fpe(t)?[...t.selectedOptions].map(({value:n})=>n):ek(t)?ppe(e.refs).value:mpe(Vi(t.value)?e.ref.value:t.value,e)}var ket=(e,t,n,r)=>{const i={};for(const o of e){const a=Pt(t,o);a&&gi(i,o,a._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},UO=e=>e instanceof RegExp,$S=e=>Vi(e)?e:UO(e)?e.source:lo(e)?UO(e.value)?e.value.source:e.value:e,kK=e=>({isOnSubmit:!e||e===su.onSubmit,isOnBlur:e===su.onBlur,isOnChange:e===su.onChange,isOnAll:e===su.all,isOnTouch:e===su.onTouched});const _K="AsyncFunction";var _et=e=>!!e&&!!e.validate&&!!(lu(e.validate)&&e.validate.constructor.name===_K||lo(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===_K)),Aet=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),AK=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const jE=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=Pt(e,i);if(o){const{_f:a,...s}=o;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(jE(s,t))break}else if(lo(s)&&jE(s,t))break}}};function NK(e,t,n){const r=Pt(e,n);if(r||pR(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),a=Pt(t,o),s=Pt(e,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(s&&s.type)return{name:o,error:s};if(s&&s.root&&s.root.type)return{name:`${o}.root`,error:s.root};i.pop()}return{name:n}}var Net=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Qa(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(a=>t[a]===(!r||su.all))},Oet=(e,t,n)=>!e||!t||e===t||LE(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),Met=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,Det=(e,t)=>!u7(Pt(e,t)).length&&to(e,t),Ret=(e,t,n)=>{const r=LE(Pt(e,n));return gi(r,"root",t[n]),gi(e,n,r),e};function OK(e,t,n="validate"){if(Cl(e)||Array.isArray(e)&&e.every(Cl)||hd(e)&&!e)return{type:n,message:Cl(e)?e:"",ref:t}}var hv=e=>lo(e)&&!UO(e)?e:{value:e,message:""},MK=async(e,t,n,r,i,o)=>{const{ref:a,refs:s,required:l,maxLength:c,minLength:u,min:d,max:p,pattern:m,validate:v,name:x,valueAsNumber:w,mount:T}=e._f,k=Pt(n,x);if(!T||t.has(x))return{};const N=s?s[0]:a,I=z=>{i&&N.reportValidity&&(N.setCustomValidity(hd(z)?"":z||""),N.reportValidity())},O={},A=h7(a),R=ek(a),L=A||R,B=(w||f7(a))&&Vi(a.value)&&Vi(k)||FO(a)&&a.value===""||k===""||Array.isArray(k)&&!k.length,$=xet.bind(null,x,r,O),q=(z,Y,W,Z=Cf.maxLength,V=Cf.minLength)=>{const ne=z?Y:W;O[x]={type:z?Z:V,message:ne,ref:a,...$(z?Z:V,ne)}};if(o?!Array.isArray(k)||!k.length:l&&(!L&&(B||Rs(k))||hd(k)&&!k||R&&!ppe(s).isValid||A&&!gpe(s).isValid)){const{value:z,message:Y}=Cl(l)?{value:!!l,message:l}:hv(l);if(z&&(O[x]={type:Cf.required,message:Y,ref:N,...$(Cf.required,Y)},!r))return I(Y),O}if(!B&&(!Rs(d)||!Rs(p))){let z,Y;const W=hv(p),Z=hv(d);if(!Rs(k)&&!isNaN(k)){const V=a.valueAsNumber||k&&+k;Rs(W.value)||(z=V>W.value),Rs(Z.value)||(Y=V<Z.value)}else{const V=a.valueAsDate||new Date(k),ne=K=>new Date(new Date().toDateString()+" "+K),X=a.type=="time",oe=a.type=="week";Cl(W.value)&&k&&(z=X?ne(k)>ne(W.value):oe?k>W.value:V>new Date(W.value)),Cl(Z.value)&&k&&(Y=X?ne(k)<ne(Z.value):oe?k<Z.value:V<new Date(Z.value))}if((z||Y)&&(q(!!z,W.message,Z.message,Cf.max,Cf.min),!r))return I(O[x].message),O}if((c||u)&&!B&&(Cl(k)||o&&Array.isArray(k))){const z=hv(c),Y=hv(u),W=!Rs(z.value)&&k.length>+z.value,Z=!Rs(Y.value)&&k.length<+Y.value;if((W||Z)&&(q(W,z.message,Y.message),!r))return I(O[x].message),O}if(m&&!B&&Cl(k)){const{value:z,message:Y}=hv(m);if(UO(z)&&!k.match(z)&&(O[x]={type:Cf.pattern,message:Y,ref:a,...$(Cf.pattern,Y)},!r))return I(Y),O}if(v){if(lu(v)){const z=await v(k,n),Y=OK(z,N);if(Y&&(O[x]={...Y,...$(Cf.validate,Y.message)},!r))return I(Y.message),O}else if(lo(v)){let z={};for(const Y in v){if(!Qa(z)&&!r)break;const W=OK(await v[Y](k,n),N,Y);W&&(z={...W,...$(Y,W.message)},I(W.message),r&&(O[x]=z))}if(!Qa(z)&&(O[x]={ref:N,...z},!r))return O}}return I(!0),O};const Iet={mode:su.onSubmit,reValidateMode:su.onChange,shouldFocusError:!0};function Pet(e={}){let t={...Iet,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:lu(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=lo(t.defaultValues)||lo(t.values)?Do(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Do(i),a={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const p={array:wK(),state:wK()},m=t.criteriaMode===su.all,v=ue=>xe=>{clearTimeout(c),c=setTimeout(ue,xe)},x=async ue=>{if(!t.disabled&&(u.isValid||d.isValid||ue)){const xe=t.resolver?Qa((await R()).errors):await B(r,!0);xe!==n.isValid&&p.state.next({isValid:xe})}},w=(ue,xe)=>{!t.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((ue||Array.from(s.mount)).forEach(ke=>{ke&&(xe?gi(n.validatingFields,ke,xe):to(n.validatingFields,ke))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Qa(n.validatingFields)}))},T=(ue,xe=[],ke,Je,Ze=!0,Qe=!0)=>{if(Je&&ke&&!t.disabled){if(a.action=!0,Qe&&Array.isArray(Pt(r,ue))){const ge=ke(Pt(r,ue),Je.argA,Je.argB);Ze&&gi(r,ue,ge)}if(Qe&&Array.isArray(Pt(n.errors,ue))){const ge=ke(Pt(n.errors,ue),Je.argA,Je.argB);Ze&&gi(n.errors,ue,ge),Det(n.errors,ue)}if((u.touchedFields||d.touchedFields)&&Qe&&Array.isArray(Pt(n.touchedFields,ue))){const ge=ke(Pt(n.touchedFields,ue),Je.argA,Je.argB);Ze&&gi(n.touchedFields,ue,ge)}(u.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Av(i,o)),p.state.next({name:ue,isDirty:q(ue,xe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else gi(o,ue,xe)},k=(ue,xe)=>{gi(n.errors,ue,xe),p.state.next({errors:n.errors})},N=ue=>{n.errors=ue,p.state.next({errors:n.errors,isValid:!1})},I=(ue,xe,ke,Je)=>{const Ze=Pt(r,ue);if(Ze){const Qe=Pt(o,ue,Vi(ke)?Pt(i,ue):ke);Vi(Qe)||Je&&Je.defaultChecked||xe?gi(o,ue,xe?Qe:TK(Ze._f)):W(ue,Qe),a.mount&&x()}},O=(ue,xe,ke,Je,Ze)=>{let Qe=!1,ge=!1;const Be={name:ue};if(!t.disabled){if(!ke||Je){(u.isDirty||d.isDirty)&&(ge=n.isDirty,n.isDirty=Be.isDirty=q(),Qe=ge!==Be.isDirty);const it=Lp(Pt(i,ue),xe);ge=!!Pt(n.dirtyFields,ue),it?to(n.dirtyFields,ue):gi(n.dirtyFields,ue,!0),Be.dirtyFields=n.dirtyFields,Qe=Qe||(u.dirtyFields||d.dirtyFields)&&ge!==!it}if(ke){const it=Pt(n.touchedFields,ue);it||(gi(n.touchedFields,ue,ke),Be.touchedFields=n.touchedFields,Qe=Qe||(u.touchedFields||d.touchedFields)&&it!==ke)}Qe&&Ze&&p.state.next(Be)}return Qe?Be:{}},A=(ue,xe,ke,Je)=>{const Ze=Pt(n.errors,ue),Qe=(u.isValid||d.isValid)&&hd(xe)&&n.isValid!==xe;if(t.delayError&&ke?(l=v(()=>k(ue,ke)),l(t.delayError)):(clearTimeout(c),l=null,ke?gi(n.errors,ue,ke):to(n.errors,ue)),(ke?!Lp(Ze,ke):Ze)||!Qa(Je)||Qe){const ge={...Je,...Qe&&hd(xe)?{isValid:xe}:{},errors:n.errors,name:ue};n={...n,...ge},p.state.next(ge)}},R=async ue=>{w(ue,!0);const xe=await t.resolver(o,t.context,ket(ue||s.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(ue),xe},L=async ue=>{const{errors:xe}=await R(ue);if(ue)for(const ke of ue){const Je=Pt(xe,ke);Je?gi(n.errors,ke,Je):to(n.errors,ke)}else n.errors=xe;return xe},B=async(ue,xe,ke={valid:!0})=>{for(const Je in ue){const Ze=ue[Je];if(Ze){const{_f:Qe,...ge}=Ze;if(Qe){const Be=s.array.has(Qe.name),it=Ze._f&&_et(Ze._f);it&&u.validatingFields&&w([Qe.name],!0);const At=await MK(Ze,s.disabled,o,m,t.shouldUseNativeValidation&&!xe,Be);if(it&&u.validatingFields&&w([Qe.name]),At[Qe.name]&&(ke.valid=!1,xe))break;!xe&&(Pt(At,Qe.name)?Be?Ret(n.errors,At,Qe.name):gi(n.errors,Qe.name,At[Qe.name]):to(n.errors,Qe.name))}!Qa(ge)&&await B(ge,xe,ke)}}return ke.valid},$=()=>{for(const ue of s.unMount){const xe=Pt(r,ue);xe&&(xe._f.refs?xe._f.refs.every(ke=>!pL(ke)):!pL(xe._f.ref))&&ve(ue)}s.unMount=new Set},q=(ue,xe)=>!t.disabled&&(ue&&xe&&gi(o,ue,xe),!Lp(K(),i)),z=(ue,xe,ke)=>vet(ue,s,{...a.mount?o:Vi(xe)?i:Cl(ue)?{[ue]:xe}:xe},ke,xe),Y=ue=>u7(Pt(a.mount?o:i,ue,t.shouldUnregister?Pt(i,ue,[]):[])),W=(ue,xe,ke={})=>{const Je=Pt(r,ue);let Ze=xe;if(Je){const Qe=Je._f;Qe&&(!Qe.disabled&&gi(o,ue,mpe(xe,Qe)),Ze=FO(Qe.ref)&&Rs(xe)?"":xe,fpe(Qe.ref)?[...Qe.ref.options].forEach(ge=>ge.selected=Ze.includes(ge.value)):Qe.refs?ek(Qe.ref)?Qe.refs.forEach(ge=>{(!ge.defaultChecked||!ge.disabled)&&(Array.isArray(Ze)?ge.checked=!!Ze.find(Be=>Be===ge.value):ge.checked=Ze===ge.value||!!Ze)}):Qe.refs.forEach(ge=>ge.checked=ge.value===Ze):f7(Qe.ref)?Qe.ref.value="":(Qe.ref.value=Ze,Qe.ref.type||p.state.next({name:ue,values:Do(o)})))}(ke.shouldDirty||ke.shouldTouch)&&O(ue,Ze,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&oe(ue)},Z=(ue,xe,ke)=>{for(const Je in xe){if(!xe.hasOwnProperty(Je))return;const Ze=xe[Je],Qe=ue+"."+Je,ge=Pt(r,Qe);(s.array.has(ue)||lo(Ze)||ge&&!ge._f)&&!c0(Ze)?Z(Qe,Ze,ke):W(Qe,Ze,ke)}},V=(ue,xe,ke={})=>{const Je=Pt(r,ue),Ze=s.array.has(ue),Qe=Do(xe);gi(o,ue,Qe),Ze?(p.array.next({name:ue,values:Do(o)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&ke.shouldDirty&&p.state.next({name:ue,dirtyFields:Av(i,o),isDirty:q(ue,Qe)})):Je&&!Je._f&&!Rs(Qe)?Z(ue,Qe,ke):W(ue,Qe,ke),AK(ue,s)&&p.state.next({...n,name:ue}),p.state.next({name:a.mount?ue:void 0,values:Do(o)})},ne=async ue=>{a.mount=!0;const xe=ue.target;let ke=xe.name,Je=!0;const Ze=Pt(r,ke),Qe=it=>{Je=Number.isNaN(it)||c0(it)&&isNaN(it.getTime())||Lp(it,Pt(o,ke,it))},ge=kK(t.mode),Be=kK(t.reValidateMode);if(Ze){let it,At;const Wt=xe.type?TK(Ze._f):fet(ue),Zn=ue.type===xK.BLUR||ue.type===xK.FOCUS_OUT,Tn=!Aet(Ze._f)&&!t.resolver&&!Pt(n.errors,ke)&&!Ze._f.deps||Met(Zn,Pt(n.touchedFields,ke),n.isSubmitted,Be,ge),or=AK(ke,s,Zn);gi(o,ke,Wt),Zn?(!xe||!xe.readOnly)&&(Ze._f.onBlur&&Ze._f.onBlur(ue),l&&l(0)):Ze._f.onChange&&Ze._f.onChange(ue);const Yn=O(ke,Wt,Zn),wr=!Qa(Yn)||or;if(!Zn&&p.state.next({name:ke,type:ue.type,values:Do(o)}),Tn)return(u.isValid||d.isValid)&&(t.mode==="onBlur"?Zn&&x():Zn||x()),wr&&p.state.next({name:ke,...or?{}:Yn});if(!Zn&&or&&p.state.next({...n}),t.resolver){const{errors:un}=await R([ke]);if(Qe(Wt),Je){const xi=NK(n.errors,r,ke),Ct=NK(un,r,xi.name||ke);it=Ct.error,ke=Ct.name,At=Qa(un)}}else w([ke],!0),it=(await MK(Ze,s.disabled,o,m,t.shouldUseNativeValidation))[ke],w([ke]),Qe(Wt),Je&&(it?At=!1:(u.isValid||d.isValid)&&(At=await B(r,!0)));Je&&(Ze._f.deps&&(!Array.isArray(Ze._f.deps)||Ze._f.deps.length>0)&&oe(Ze._f.deps),A(ke,At,it,Yn))}},X=(ue,xe)=>{if(Pt(n.errors,xe)&&ue.focus)return ue.focus(),1},oe=async(ue,xe={})=>{let ke,Je;const Ze=LE(ue);if(t.resolver){const Qe=await L(Vi(ue)?ue:Ze);ke=Qa(Qe),Je=ue?!Ze.some(ge=>Pt(Qe,ge)):ke}else ue?(Je=(await Promise.all(Ze.map(async Qe=>{const ge=Pt(r,Qe);return await B(ge&&ge._f?{[Qe]:ge}:ge)}))).every(Boolean),!(!Je&&!n.isValid)&&x()):Je=ke=await B(r);return p.state.next({...!Cl(ue)||(u.isValid||d.isValid)&&ke!==n.isValid?{}:{name:ue},...t.resolver||!ue?{isValid:ke}:{},errors:n.errors}),xe.shouldFocus&&!Je&&jE(r,X,ue?Ze:s.mount),Je},K=(ue,xe)=>{let ke={...a.mount?o:i};return xe&&(ke=dpe(xe.dirtyFields?n.dirtyFields:n.touchedFields,ke)),Vi(ue)?ke:Cl(ue)?Pt(ke,ue):ue.map(Je=>Pt(ke,Je))},Q=(ue,xe)=>({invalid:!!Pt((xe||n).errors,ue),isDirty:!!Pt((xe||n).dirtyFields,ue),error:Pt((xe||n).errors,ue),isValidating:!!Pt(n.validatingFields,ue),isTouched:!!Pt((xe||n).touchedFields,ue)}),te=ue=>{ue&&LE(ue).forEach(xe=>to(n.errors,xe)),p.state.next({errors:ue?n.errors:{}})},U=(ue,xe,ke)=>{const Je=(Pt(r,ue,{_f:{}})._f||{}).ref,Ze=Pt(n.errors,ue)||{},{ref:Qe,message:ge,type:Be,...it}=Ze;gi(n.errors,ue,{...it,...xe,ref:Je}),p.state.next({name:ue,errors:n.errors,isValid:!1}),ke&&ke.shouldFocus&&Je&&Je.focus&&Je.focus()},he=(ue,xe)=>lu(ue)?p.state.subscribe({next:ke=>"values"in ke&&ue(z(void 0,xe),ke)}):z(ue,xe,!0),se=ue=>p.state.subscribe({next:xe=>{Oet(ue.name,xe.name,ue.exact)&&Net(xe,ue.formState||u,Yt,ue.reRenderRoot)&&ue.callback({values:{...o},...n,...xe,defaultValues:i})}}).unsubscribe,we=ue=>(a.mount=!0,d={...d,...ue.formState},se({...ue,formState:d})),ve=(ue,xe={})=>{for(const ke of ue?LE(ue):s.mount)s.mount.delete(ke),s.array.delete(ke),xe.keepValue||(to(r,ke),to(o,ke)),!xe.keepError&&to(n.errors,ke),!xe.keepDirty&&to(n.dirtyFields,ke),!xe.keepTouched&&to(n.touchedFields,ke),!xe.keepIsValidating&&to(n.validatingFields,ke),!t.shouldUnregister&&!xe.keepDefaultValue&&to(i,ke);p.state.next({values:Do(o)}),p.state.next({...n,...xe.keepDirty?{isDirty:q()}:{}}),!xe.keepIsValid&&x()},je=({disabled:ue,name:xe})=>{(hd(ue)&&a.mount||ue||s.disabled.has(xe))&&(ue?s.disabled.add(xe):s.disabled.delete(xe))},Te=(ue,xe={})=>{let ke=Pt(r,ue);const Je=hd(xe.disabled)||hd(t.disabled);return gi(r,ue,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:ue}},name:ue,mount:!0,...xe}}),s.mount.add(ue),ke?je({disabled:hd(xe.disabled)?xe.disabled:t.disabled,name:ue}):I(ue,!0,xe.value),{...Je?{disabled:xe.disabled||t.disabled}:{},...t.progressive?{required:!!xe.required,min:$S(xe.min),max:$S(xe.max),minLength:$S(xe.minLength),maxLength:$S(xe.maxLength),pattern:$S(xe.pattern)}:{},name:ue,onChange:ne,onBlur:ne,ref:Ze=>{if(Ze){Te(ue,xe),ke=Pt(r,ue);const Qe=Vi(Ze.value)&&Ze.querySelectorAll&&Ze.querySelectorAll("input,select,textarea")[0]||Ze,ge=wet(Qe),Be=ke._f.refs||[];if(ge?Be.find(it=>it===Qe):Qe===ke._f.ref)return;gi(r,ue,{_f:{...ke._f,...ge?{refs:[...Be.filter(pL),Qe,...Array.isArray(Pt(i,ue))?[{}]:[]],ref:{type:Qe.type,name:ue}}:{ref:Qe}}}),I(ue,!1,void 0,Qe)}else ke=Pt(r,ue,{}),ke._f&&(ke._f.mount=!1),(t.shouldUnregister||xe.shouldUnregister)&&!(pet(s.array,ue)&&a.action)&&s.unMount.add(ue)}}},He=()=>t.shouldFocusError&&jE(r,X,s.mount),Ge=ue=>{hd(ue)&&(p.state.next({disabled:ue}),jE(r,(xe,ke)=>{const Je=Pt(r,ke);Je&&(xe.disabled=Je._f.disabled||ue,Array.isArray(Je._f.refs)&&Je._f.refs.forEach(Ze=>{Ze.disabled=Je._f.disabled||ue}))},0,!1))},De=(ue,xe)=>async ke=>{let Je;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Ze=Do(o);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Qe,values:ge}=await R();n.errors=Qe,Ze=Do(ge)}else await B(r);if(s.disabled.size)for(const Qe of s.disabled)to(Ze,Qe);if(to(n.errors,"root"),Qa(n.errors)){p.state.next({errors:{}});try{await ue(Ze,ke)}catch(Qe){Je=Qe}}else xe&&await xe({...n.errors},ke),He(),setTimeout(He);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qa(n.errors)&&!Je,submitCount:n.submitCount+1,errors:n.errors}),Je)throw Je},Ft=(ue,xe={})=>{Pt(r,ue)&&(Vi(xe.defaultValue)?V(ue,Do(Pt(i,ue))):(V(ue,xe.defaultValue),gi(i,ue,Do(xe.defaultValue))),xe.keepTouched||to(n.touchedFields,ue),xe.keepDirty||(to(n.dirtyFields,ue),n.isDirty=xe.defaultValue?q(ue,Do(Pt(i,ue))):q()),xe.keepError||(to(n.errors,ue),u.isValid&&x()),p.state.next({...n}))},Ee=(ue,xe={})=>{const ke=ue?Do(ue):i,Je=Do(ke),Ze=Qa(ue),Qe=Ze?i:Je;if(xe.keepDefaultValues||(i=ke),!xe.keepValues){if(xe.keepDirtyValues){const ge=new Set([...s.mount,...Object.keys(Av(i,o))]);for(const Be of Array.from(ge))Pt(n.dirtyFields,Be)?gi(Qe,Be,Pt(o,Be)):V(Be,Pt(Qe,Be))}else{if(c7&&Vi(ue))for(const ge of s.mount){const Be=Pt(r,ge);if(Be&&Be._f){const it=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(FO(it)){const At=it.closest("form");if(At){At.reset();break}}}}if(xe.keepFieldsRef)for(const ge of s.mount)V(ge,Pt(Qe,ge));else r={}}o=t.shouldUnregister?xe.keepDefaultValues?Do(i):{}:Do(Qe),p.array.next({values:{...Qe}}),p.state.next({values:{...Qe}})}s={mount:xe.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!xe.keepIsValid||!!xe.keepDirtyValues||!t.shouldUnregister&&!Qa(Qe),a.watch=!!t.shouldUnregister,p.state.next({submitCount:xe.keepSubmitCount?n.submitCount:0,isDirty:Ze?!1:xe.keepDirty?n.isDirty:!!(xe.keepDefaultValues&&!Lp(ue,i)),isSubmitted:xe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ze?{}:xe.keepDirtyValues?xe.keepDefaultValues&&o?Av(i,o):n.dirtyFields:xe.keepDefaultValues&&ue?Av(i,ue):xe.keepDirty?n.dirtyFields:{},touchedFields:xe.keepTouched?n.touchedFields:{},errors:xe.keepErrors?n.errors:{},isSubmitSuccessful:xe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},It=(ue,xe)=>Ee(lu(ue)?ue(o):ue,xe),sn=(ue,xe={})=>{const ke=Pt(r,ue),Je=ke&&ke._f;if(Je){const Ze=Je.refs?Je.refs[0]:Je.ref;Ze.focus&&(Ze.focus(),xe.shouldSelect&&lu(Ze.select)&&Ze.select())}},Yt=ue=>{n={...n,...ue}},er={control:{register:Te,unregister:ve,getFieldState:Q,handleSubmit:De,setError:U,_subscribe:se,_runSchema:R,_focusError:He,_getWatch:z,_getDirty:q,_setValid:x,_setFieldArray:T,_setDisabledField:je,_setErrors:N,_getFieldArray:Y,_reset:Ee,_resetDefaultValues:()=>lu(t.defaultValues)&&t.defaultValues().then(ue=>{It(ue,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:Ge,_subjects:p,_proxyFormState:u,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(ue){a=ue},get _defaultValues(){return i},get _names(){return s},set _names(ue){s=ue},get _formState(){return n},get _options(){return t},set _options(ue){t={...t,...ue}}},subscribe:we,trigger:oe,register:Te,handleSubmit:De,watch:he,setValue:V,getValues:K,reset:It,resetField:Ft,clearErrors:te,unregister:ve,setError:U,setFocus:sn,getFieldState:Q};return{...er,formControl:er}}function Let(e={}){const t=F.useRef(void 0),n=F.useRef(void 0),[r,i]=F.useState({isDirty:!1,isValidating:!1,isLoading:lu(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:lu(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!lu(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...s}=Pet(e);t.current={...s,formState:r}}const o=t.current.control;return o._options=e,bet(()=>{const a=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(s=>({...s,isReady:!0})),o._formState.isReady=!0,a},[o]),F.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),F.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),F.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),F.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==r.isDirty&&o._subjects.state.next({isDirty:a})}},[o,r.isDirty]),F.useEffect(()=>{e.values&&!Lp(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=e.values,i(a=>({...a}))):o._resetDefaultValues()},[o,e.values]),F.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=yet(r,o),t.current}function jet(){return Dhe.useSyncExternalStore(Bet,()=>!0,()=>!1)}function Bet(){return()=>{}}var p7="Avatar",[$et]=Us(p7),[Het,ype]=$et(p7),bpe=C.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,o]=C.useState("idle");return g.jsx(Het,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:g.jsx(Dt.span,{...r,ref:t})})});bpe.displayName=p7;var vpe="AvatarImage",xpe=C.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=e,a=ype(vpe,n),s=Fet(r,o),l=Co(c=>{i(c),a.onImageLoadingStatusChange(c)});return Xi(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?g.jsx(Dt.img,{...o,ref:t,src:r}):null});xpe.displayName=vpe;var wpe="AvatarFallback",Spe=C.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,o=ype(wpe,n),[a,s]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&o.imageLoadingStatus!=="loaded"?g.jsx(Dt.span,{...i,ref:t}):null});Spe.displayName=wpe;function DK(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Fet(e,{referrerPolicy:t,crossOrigin:n}){const r=jet(),i=C.useRef(null),o=r?(i.current||(i.current=new window.Image),i.current):null,[a,s]=C.useState(()=>DK(o,e));return Xi(()=>{s(DK(o,e))},[o,e]),Xi(()=>{const l=d=>()=>{s(d)};if(!o)return;const c=l("loaded"),u=l("error");return o.addEventListener("load",c),o.addEventListener("error",u),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",c),o.removeEventListener("error",u)}},[o,n,t]),a}var Uet=bpe,zet=xpe,Vet=Spe;const m7="-",qet=e=>{const t=Yet(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const s=a.split(m7);return s[0]===""&&s.length!==1&&s.shift(),Epe(s,t)||Wet(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},Epe=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Epe(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(m7);return t.validators.find(({validator:a})=>a(o))?.classGroupId},RK=/^\[(.+)\]$/,Wet=e=>{if(RK.test(e)){const t=RK.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Yet=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Ket(Object.entries(e.classGroups),n).forEach(([o,a])=>{A8(a,r,o,t)}),r},A8=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:IK(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(Get(i)){A8(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{A8(a,IK(t,o),n,r)})})},IK=(e,t)=>{let n=e;return t.split(m7).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Get=e=>e.isThemeGetter,Ket=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[t+a,s])):o);return[n,i]}):e,Xet=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},Cpe="!",Zet=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,a=s=>{const l=[];let c=0,u=0,d;for(let w=0;w<s.length;w++){let T=s[w];if(c===0){if(T===i&&(r||s.slice(w,w+o)===t)){l.push(s.slice(u,w)),u=w+o;continue}if(T==="/"){d=w;continue}}T==="["?c++:T==="]"&&c--}const p=l.length===0?s:s.substring(u),m=p.startsWith(Cpe),v=m?p.substring(1):p,x=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}};return n?s=>n({className:s,parseClassName:a}):a},Qet=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Jet=e=>({cache:Xet(e.cacheSize),parseClassName:Zet(e),...qet(e)}),ett=/\s+/,ttt=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],a=e.trim().split(ett);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let v=!!m,x=r(v?p.substring(0,m):p);if(!x){if(!v){s=c+(s.length>0?" "+s:s);continue}if(x=r(p),!x){s=c+(s.length>0?" "+s:s);continue}v=!1}const w=Qet(u).join(":"),T=d?w+Cpe:w,k=T+x;if(o.includes(k))continue;o.push(k);const N=i(x,v);for(let I=0;I<N.length;++I){const O=N[I];o.push(T+O)}s=c+(s.length>0?" "+s:s)}return s};function ntt(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Tpe(t))&&(r&&(r+=" "),r+=n);return r}const Tpe=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Tpe(e[r]))&&(n&&(n+=" "),n+=t);return n};function rtt(e,...t){let n,r,i,o=a;function a(l){const c=t.reduce((u,d)=>d(u),e());return n=Jet(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=ttt(l,n);return i(l,u),u}return function(){return o(ntt.apply(null,arguments))}}const si=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},kpe=/^\[(?:([a-z-]+):)?(.+)\]$/i,itt=/^\d+\/\d+$/,ott=new Set(["px","full","screen"]),att=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,stt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ltt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ctt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,utt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tf=e=>Zv(e)||ott.has(e)||itt.test(e),vp=e=>mx(e,"length",btt),Zv=e=>!!e&&!Number.isNaN(Number(e)),mL=e=>mx(e,"number",Zv),HS=e=>!!e&&Number.isInteger(Number(e)),dtt=e=>e.endsWith("%")&&Zv(e.slice(0,-1)),En=e=>kpe.test(e),xp=e=>att.test(e),ftt=new Set(["length","size","percentage"]),htt=e=>mx(e,ftt,_pe),ptt=e=>mx(e,"position",_pe),mtt=new Set(["image","url"]),gtt=e=>mx(e,mtt,xtt),ytt=e=>mx(e,"",vtt),FS=()=>!0,mx=(e,t,n)=>{const r=kpe.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},btt=e=>stt.test(e)&&!ltt.test(e),_pe=()=>!1,vtt=e=>ctt.test(e),xtt=e=>utt.test(e),wtt=()=>{const e=si("colors"),t=si("spacing"),n=si("blur"),r=si("brightness"),i=si("borderColor"),o=si("borderRadius"),a=si("borderSpacing"),s=si("borderWidth"),l=si("contrast"),c=si("grayscale"),u=si("hueRotate"),d=si("invert"),p=si("gap"),m=si("gradientColorStops"),v=si("gradientColorStopPositions"),x=si("inset"),w=si("margin"),T=si("opacity"),k=si("padding"),N=si("saturate"),I=si("scale"),O=si("sepia"),A=si("skew"),R=si("space"),L=si("translate"),B=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",En,t],z=()=>[En,t],Y=()=>["",Tf,vp],W=()=>["auto",Zv,En],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",En],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Zv,En];return{cacheSize:500,separator:":",theme:{colors:[FS],spacing:[Tf,vp],blur:["none","",xp,En],brightness:Q(),borderColor:[e],borderRadius:["none","","full",xp,En],borderSpacing:z(),borderWidth:Y(),contrast:Q(),grayscale:oe(),hueRotate:Q(),invert:oe(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[dtt,vp],inset:q(),margin:q(),opacity:Q(),padding:z(),saturate:Q(),scale:Q(),sepia:oe(),skew:Q(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",En]}],container:["container"],columns:[{columns:[xp]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),En]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",HS,En]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",En]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",HS,En]}],"grid-cols":[{"grid-cols":[FS]}],"col-start-end":[{col:["auto",{span:["full",HS,En]},En]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[FS]}],"row-start-end":[{row:["auto",{span:[HS,En]},En]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",En]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",En]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",En,t]}],"min-w":[{"min-w":[En,t,"min","max","fit"]}],"max-w":[{"max-w":[En,t,"none","full","min","max","fit","prose",{screen:[xp]},xp]}],h:[{h:[En,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[En,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[En,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[En,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xp,vp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mL]}],"font-family":[{font:[FS]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",En]}],"line-clamp":[{"line-clamp":["none",Zv,mL]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tf,En]}],"list-image":[{"list-image":["none",En]}],"list-style-type":[{list:["none","disc","decimal",En]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tf,vp]}],"underline-offset":[{"underline-offset":["auto",Tf,En]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",En]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",En]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),ptt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",htt]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gtt]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Tf,En]}],"outline-w":[{outline:[Tf,vp]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Tf,vp]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xp,ytt]}],"shadow-color":[{shadow:[FS]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xp,En]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[N]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",En]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",En]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",En]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[HS,En]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",En]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",En]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",En]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Tf,vp,mL]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Stt=rtt(wtt);function PK(e){const t=Ett(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(Ttt);if(l){const c=l.props.children,u=s.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,u):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function Ett(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=_tt(i),s=ktt(o,i.props);return i.type!==C.Fragment&&(s.ref=r?rs(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ctt=Symbol("radix.slottable");function Ttt(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ctt}function ktt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function _tt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function g7(e){const t=e+"CollectionProvider",[n,r]=Us(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:w,children:T}=x,k=F.useRef(null),N=F.useRef(new Map).current;return g.jsx(i,{scope:w,itemMap:N,collectionRef:k,children:T})};a.displayName=t;const s=e+"CollectionSlot",l=PK(s),c=F.forwardRef((x,w)=>{const{scope:T,children:k}=x,N=o(s,T),I=An(w,N.collectionRef);return g.jsx(l,{ref:I,children:k})});c.displayName=s;const u=e+"CollectionItemSlot",d="data-radix-collection-item",p=PK(u),m=F.forwardRef((x,w)=>{const{scope:T,children:k,...N}=x,I=F.useRef(null),O=An(w,I),A=o(u,T);return F.useEffect(()=>(A.itemMap.set(I,{ref:I,...N}),()=>void A.itemMap.delete(I))),g.jsx(p,{[d]:"",ref:O,children:k})});m.displayName=u;function v(x){const w=o(e+"CollectionConsumer",x);return F.useCallback(()=>{const k=w.collectionRef.current;if(!k)return[];const N=Array.from(k.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((A,R)=>N.indexOf(A.ref.current)-N.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:c,ItemSlot:m},v,r]}var Att=C.createContext(void 0);function tk(e){const t=C.useContext(Att);return e||t||"ltr"}var gL="rovingFocusGroup.onEntryFocus",Ntt={bubbles:!1,cancelable:!0},nk="RovingFocusGroup",[N8,Ape,Ott]=g7(nk),[Mtt,mR]=Us(nk,[Ott]),[Dtt,Rtt]=Mtt(nk),Npe=C.forwardRef((e,t)=>g.jsx(N8.Provider,{scope:e.__scopeRovingFocusGroup,children:g.jsx(N8.Slot,{scope:e.__scopeRovingFocusGroup,children:g.jsx(Itt,{...e,ref:t})})}));Npe.displayName=nk;var Itt=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,p=C.useRef(null),m=An(t,p),v=tk(o),[x,w]=yu({prop:a,defaultProp:s??null,onChange:l,caller:nk}),[T,k]=C.useState(!1),N=Co(c),I=Ape(n),O=C.useRef(!1),[A,R]=C.useState(0);return C.useEffect(()=>{const L=p.current;if(L)return L.addEventListener(gL,N),()=>L.removeEventListener(gL,N)},[N]),g.jsx(Dtt,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:x,onItemFocus:C.useCallback(L=>w(L),[w]),onItemShiftTab:C.useCallback(()=>k(!0),[]),onFocusableItemAdd:C.useCallback(()=>R(L=>L+1),[]),onFocusableItemRemove:C.useCallback(()=>R(L=>L-1),[]),children:g.jsx(Dt.div,{tabIndex:T||A===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{O.current=!0}),onFocus:dt(e.onFocus,L=>{const B=!O.current;if(L.target===L.currentTarget&&B&&!T){const $=new CustomEvent(gL,Ntt);if(L.currentTarget.dispatchEvent($),!$.defaultPrevented){const q=I().filter(V=>V.focusable),z=q.find(V=>V.active),Y=q.find(V=>V.id===x),Z=[z,Y,...q].filter(Boolean).map(V=>V.ref.current);Dpe(Z,u)}}O.current=!1}),onBlur:dt(e.onBlur,()=>k(!1))})})}),Ope="RovingFocusGroupItem",Mpe=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=e,l=Gi(),c=o||l,u=Rtt(Ope,n),d=u.currentTabStopId===c,p=Ape(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:x}=u;return C.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),g.jsx(N8.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:g.jsx(Dt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:dt(e.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:dt(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:dt(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const T=jtt(w,u.orientation,u.dir);if(T!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let N=p().filter(I=>I.focusable).map(I=>I.ref.current);if(T==="last")N.reverse();else if(T==="prev"||T==="next"){T==="prev"&&N.reverse();const I=N.indexOf(w.currentTarget);N=u.loop?Btt(N,I+1):N.slice(I+1)}setTimeout(()=>Dpe(N))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:x!=null}):a})})});Mpe.displayName=Ope;var Ptt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ltt(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jtt(e,t,n){const r=Ltt(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Ptt[r]}function Dpe(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Btt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Rpe=Npe,Ipe=Mpe;function $tt(e){const t=Htt(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(Utt);if(l){const c=l.props.children,u=s.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,u):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function Htt(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=Vtt(i),s=ztt(o,i.props);return i.type!==C.Fragment&&(s.ref=r?rs(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ftt=Symbol("radix.slottable");function Utt(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ftt}function ztt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Vtt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var O8=["Enter"," "],qtt=["ArrowDown","PageUp","Home"],Ppe=["ArrowUp","PageDown","End"],Wtt=[...qtt,...Ppe],Ytt={ltr:[...O8,"ArrowRight"],rtl:[...O8,"ArrowLeft"]},Gtt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rk="Menu",[MC,Ktt,Xtt]=g7(rk),[by,Lpe]=Us(rk,[Xtt,wm,mR]),ik=wm(),jpe=mR(),[Bpe,_m]=by(rk),[Ztt,ok]=by(rk),$pe=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:a=!0}=e,s=ik(t),[l,c]=C.useState(null),u=C.useRef(!1),d=Co(o),p=tk(i);return C.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),g.jsx(DT,{...s,children:g.jsx(Bpe,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c,children:g.jsx(Ztt,{scope:t,onClose:C.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:p,modal:a,children:r})})})};$pe.displayName=rk;var Qtt="MenuAnchor",y7=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ik(n);return g.jsx(RT,{...i,...r,ref:t})});y7.displayName=Qtt;var b7="MenuPortal",[Jtt,Hpe]=by(b7,{forceMount:void 0}),Fpe=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=_m(b7,t);return g.jsx(Jtt,{scope:t,forceMount:n,children:g.jsx(Fo,{present:n||o.open,children:g.jsx(Y1,{asChild:!0,container:i,children:r})})})};Fpe.displayName=b7;var gc="MenuContent",[ent,v7]=by(gc),Upe=C.forwardRef((e,t)=>{const n=Hpe(gc,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=_m(gc,e.__scopeMenu),a=ok(gc,e.__scopeMenu);return g.jsx(MC.Provider,{scope:e.__scopeMenu,children:g.jsx(Fo,{present:r||o.open,children:g.jsx(MC.Slot,{scope:e.__scopeMenu,children:a.modal?g.jsx(tnt,{...i,ref:t}):g.jsx(nnt,{...i,ref:t})})})})}),tnt=C.forwardRef((e,t)=>{const n=_m(gc,e.__scopeMenu),r=C.useRef(null),i=An(t,r);return C.useEffect(()=>{const o=r.current;if(o)return eD(o)},[]),g.jsx(x7,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:dt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),nnt=C.forwardRef((e,t)=>{const n=_m(gc,e.__scopeMenu);return g.jsx(x7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),rnt=$tt("MenuContent.ScrollLock"),x7=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:m,disableOutsideScroll:v,...x}=e,w=_m(gc,n),T=ok(gc,n),k=ik(n),N=jpe(n),I=Ktt(n),[O,A]=C.useState(null),R=C.useRef(null),L=An(t,R,w.onContentChange),B=C.useRef(0),$=C.useRef(""),q=C.useRef(0),z=C.useRef(null),Y=C.useRef("right"),W=C.useRef(0),Z=v?vT:C.Fragment,V=v?{as:rnt,allowPinchZoom:!0}:void 0,ne=oe=>{const K=$.current+oe,Q=I().filter(ve=>!ve.disabled),te=document.activeElement,U=Q.find(ve=>ve.ref.current===te)?.textValue,he=Q.map(ve=>ve.textValue),se=mnt(he,K,U),we=Q.find(ve=>ve.textValue===se)?.ref.current;(function ve(je){$.current=je,window.clearTimeout(B.current),je!==""&&(B.current=window.setTimeout(()=>ve(""),1e3))})(K),we&&setTimeout(()=>we.focus())};C.useEffect(()=>()=>window.clearTimeout(B.current),[]),QM();const X=C.useCallback(oe=>Y.current===z.current?.side&&ynt(oe,z.current?.area),[]);return g.jsx(ent,{scope:n,searchRef:$,onItemEnter:C.useCallback(oe=>{X(oe)&&oe.preventDefault()},[X]),onItemLeave:C.useCallback(oe=>{X(oe)||(R.current?.focus(),A(null))},[X]),onTriggerLeave:C.useCallback(oe=>{X(oe)&&oe.preventDefault()},[X]),pointerGraceTimerRef:q,onPointerGraceIntentChange:C.useCallback(oe=>{z.current=oe},[]),children:g.jsx(Z,{...V,children:g.jsx(bT,{asChild:!0,trapped:i,onMountAutoFocus:dt(o,oe=>{oe.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:g.jsx(W1,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:m,children:g.jsx(Rpe,{asChild:!0,...N,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:A,onEntryFocus:dt(l,oe=>{T.isUsingKeyboardRef.current||oe.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(gD,{role:"menu","aria-orientation":"vertical","data-state":ome(w.open),"data-radix-menu-content":"",dir:T.dir,...k,...x,ref:L,style:{outline:"none",...x.style},onKeyDown:dt(x.onKeyDown,oe=>{const Q=oe.target.closest("[data-radix-menu-content]")===oe.currentTarget,te=oe.ctrlKey||oe.altKey||oe.metaKey,U=oe.key.length===1;Q&&(oe.key==="Tab"&&oe.preventDefault(),!te&&U&&ne(oe.key));const he=R.current;if(oe.target!==he||!Wtt.includes(oe.key))return;oe.preventDefault();const we=I().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);Ppe.includes(oe.key)&&we.reverse(),hnt(we)}),onBlur:dt(e.onBlur,oe=>{oe.currentTarget.contains(oe.target)||(window.clearTimeout(B.current),$.current="")}),onPointerMove:dt(e.onPointerMove,DC(oe=>{const K=oe.target,Q=W.current!==oe.clientX;if(oe.currentTarget.contains(K)&&Q){const te=oe.clientX>W.current?"right":"left";Y.current=te,W.current=oe.clientX}}))})})})})})})});Upe.displayName=gc;var int="MenuGroup",w7=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Dt.div,{role:"group",...r,ref:t})});w7.displayName=int;var ont="MenuLabel",zpe=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Dt.div,{...r,ref:t})});zpe.displayName=ont;var zO="MenuItem",LK="menu.itemSelect",gR=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=C.useRef(null),a=ok(zO,e.__scopeMenu),s=v7(zO,e.__scopeMenu),l=An(t,o),c=C.useRef(!1),u=()=>{const d=o.current;if(!n&&d){const p=new CustomEvent(LK,{bubbles:!0,cancelable:!0});d.addEventListener(LK,m=>r?.(m),{once:!0}),Tre(d,p),p.defaultPrevented?c.current=!1:a.onClose()}};return g.jsx(Vpe,{...i,ref:l,disabled:n,onClick:dt(e.onClick,u),onPointerDown:d=>{e.onPointerDown?.(d),c.current=!0},onPointerUp:dt(e.onPointerUp,d=>{c.current||d.currentTarget?.click()}),onKeyDown:dt(e.onKeyDown,d=>{const p=s.searchRef.current!=="";n||p&&d.key===" "||O8.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});gR.displayName=zO;var Vpe=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,a=v7(zO,n),s=jpe(n),l=C.useRef(null),c=An(t,l),[u,d]=C.useState(!1),[p,m]=C.useState("");return C.useEffect(()=>{const v=l.current;v&&m((v.textContent??"").trim())},[o.children]),g.jsx(MC.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:g.jsx(Ipe,{asChild:!0,...s,focusable:!r,children:g.jsx(Dt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:dt(e.onPointerMove,DC(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:dt(e.onPointerLeave,DC(v=>a.onItemLeave(v))),onFocus:dt(e.onFocus,()=>d(!0)),onBlur:dt(e.onBlur,()=>d(!1))})})})}),ant="MenuCheckboxItem",qpe=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return g.jsx(Xpe,{scope:e.__scopeMenu,checked:n,children:g.jsx(gR,{role:"menuitemcheckbox","aria-checked":VO(n)?"mixed":n,...i,ref:t,"data-state":C7(n),onSelect:dt(i.onSelect,()=>r?.(VO(n)?!0:!n),{checkForDefaultPrevented:!1})})})});qpe.displayName=ant;var Wpe="MenuRadioGroup",[snt,lnt]=by(Wpe,{value:void 0,onValueChange:()=>{}}),Ype=C.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=Co(r);return g.jsx(snt,{scope:e.__scopeMenu,value:n,onValueChange:o,children:g.jsx(w7,{...i,ref:t})})});Ype.displayName=Wpe;var Gpe="MenuRadioItem",Kpe=C.forwardRef((e,t)=>{const{value:n,...r}=e,i=lnt(Gpe,e.__scopeMenu),o=n===i.value;return g.jsx(Xpe,{scope:e.__scopeMenu,checked:o,children:g.jsx(gR,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":C7(o),onSelect:dt(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Kpe.displayName=Gpe;var S7="MenuItemIndicator",[Xpe,cnt]=by(S7,{checked:!1}),Zpe=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=cnt(S7,n);return g.jsx(Fo,{present:r||VO(o.checked)||o.checked===!0,children:g.jsx(Dt.span,{...i,ref:t,"data-state":C7(o.checked)})})});Zpe.displayName=S7;var unt="MenuSeparator",Qpe=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Dt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Qpe.displayName=unt;var dnt="MenuArrow",Jpe=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ik(n);return g.jsx(yD,{...i,...r,ref:t})});Jpe.displayName=dnt;var E7="MenuSub",[fnt,eme]=by(E7),tme=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,o=_m(E7,t),a=ik(t),[s,l]=C.useState(null),[c,u]=C.useState(null),d=Co(i);return C.useEffect(()=>(o.open===!1&&d(!1),()=>d(!1)),[o.open,d]),g.jsx(DT,{...a,children:g.jsx(Bpe,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:g.jsx(fnt,{scope:t,contentId:Gi(),triggerId:Gi(),trigger:s,onTriggerChange:l,children:n})})})};tme.displayName=E7;var cE="MenuSubTrigger",nme=C.forwardRef((e,t)=>{const n=_m(cE,e.__scopeMenu),r=ok(cE,e.__scopeMenu),i=eme(cE,e.__scopeMenu),o=v7(cE,e.__scopeMenu),a=C.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},u=C.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return C.useEffect(()=>u,[u]),C.useEffect(()=>{const d=s.current;return()=>{window.clearTimeout(d),l(null)}},[s,l]),g.jsx(y7,{asChild:!0,...c,children:g.jsx(Vpe,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":ome(n.open),...e,ref:rs(t,i.onTriggerChange),onClick:d=>{e.onClick?.(d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:dt(e.onPointerMove,DC(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:dt(e.onPointerLeave,DC(d=>{u();const p=n.content?.getBoundingClientRect();if(p){const m=n.content?.dataset.side,v=m==="right",x=v?-5:5,w=p[v?"left":"right"],T=p[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:w,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:w,y:p.bottom}],side:m}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:dt(e.onKeyDown,d=>{const p=o.searchRef.current!=="";e.disabled||p&&d.key===" "||Ytt[r.dir].includes(d.key)&&(n.onOpenChange(!0),n.content?.focus(),d.preventDefault())})})})});nme.displayName=cE;var rme="MenuSubContent",ime=C.forwardRef((e,t)=>{const n=Hpe(gc,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=_m(gc,e.__scopeMenu),a=ok(gc,e.__scopeMenu),s=eme(rme,e.__scopeMenu),l=C.useRef(null),c=An(t,l);return g.jsx(MC.Provider,{scope:e.__scopeMenu,children:g.jsx(Fo,{present:r||o.open,children:g.jsx(MC.Slot,{scope:e.__scopeMenu,children:g.jsx(x7,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{a.isUsingKeyboardRef.current&&l.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:dt(e.onFocusOutside,u=>{u.target!==s.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:dt(e.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:dt(e.onKeyDown,u=>{const d=u.currentTarget.contains(u.target),p=Gtt[a.dir].includes(u.key);d&&p&&(o.onOpenChange(!1),s.trigger?.focus(),u.preventDefault())})})})})})});ime.displayName=rme;function ome(e){return e?"open":"closed"}function VO(e){return e==="indeterminate"}function C7(e){return VO(e)?"indeterminate":e?"checked":"unchecked"}function hnt(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function pnt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function mnt(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=pnt(e,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function gnt(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const s=t[o],l=t[a],c=s.x,u=s.y,d=l.x,p=l.y;u>r!=p>r&&n<(d-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function ynt(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return gnt(n,t)}function DC(e){return t=>t.pointerType==="mouse"?e(t):void 0}var bnt=$pe,vnt=y7,xnt=Fpe,wnt=Upe,Snt=w7,Ent=zpe,Cnt=gR,Tnt=qpe,knt=Ype,_nt=Kpe,Ant=Zpe,Nnt=Qpe,Ont=Jpe,Mnt=tme,Dnt=nme,Rnt=ime,yR="DropdownMenu",[Int]=Us(yR,[Lpe]),Na=Lpe(),[Pnt,ame]=Int(yR),sme=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,l=Na(t),c=C.useRef(null),[u,d]=yu({prop:i,defaultProp:o??!1,onChange:a,caller:yR});return g.jsx(Pnt,{scope:t,triggerId:Gi(),triggerRef:c,contentId:Gi(),open:u,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(p=>!p),[d]),modal:s,children:g.jsx(bnt,{...l,open:u,onOpenChange:d,dir:r,modal:s,children:n})})};sme.displayName=yR;var lme="DropdownMenuTrigger",cme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=ame(lme,n),a=Na(n);return g.jsx(vnt,{asChild:!0,...a,children:g.jsx(Dt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:rs(t,o.triggerRef),onPointerDown:dt(e.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(o.onOpenToggle(),o.open||s.preventDefault())}),onKeyDown:dt(e.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&o.onOpenToggle(),s.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});cme.displayName=lme;var Lnt="DropdownMenuPortal",ume=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Na(t);return g.jsx(xnt,{...r,...n})};ume.displayName=Lnt;var dme="DropdownMenuContent",fme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ame(dme,n),o=Na(n),a=C.useRef(!1);return g.jsx(wnt,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:dt(e.onCloseAutoFocus,s=>{a.current||i.triggerRef.current?.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:dt(e.onInteractOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fme.displayName=dme;var jnt="DropdownMenuGroup",Bnt=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Snt,{...i,...r,ref:t})});Bnt.displayName=jnt;var $nt="DropdownMenuLabel",hme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Ent,{...i,...r,ref:t})});hme.displayName=$nt;var Hnt="DropdownMenuItem",pme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Cnt,{...i,...r,ref:t})});pme.displayName=Hnt;var Fnt="DropdownMenuCheckboxItem",mme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Tnt,{...i,...r,ref:t})});mme.displayName=Fnt;var Unt="DropdownMenuRadioGroup",znt=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(knt,{...i,...r,ref:t})});znt.displayName=Unt;var Vnt="DropdownMenuRadioItem",gme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(_nt,{...i,...r,ref:t})});gme.displayName=Vnt;var qnt="DropdownMenuItemIndicator",yme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Ant,{...i,...r,ref:t})});yme.displayName=qnt;var Wnt="DropdownMenuSeparator",bme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Nnt,{...i,...r,ref:t})});bme.displayName=Wnt;var Ynt="DropdownMenuArrow",Gnt=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Ont,{...i,...r,ref:t})});Gnt.displayName=Ynt;var Knt=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:o}=e,a=Na(t),[s,l]=yu({prop:r,defaultProp:o??!1,onChange:i,caller:"DropdownMenuSub"});return g.jsx(Mnt,{...a,open:s,onOpenChange:l,children:n})},Xnt="DropdownMenuSubTrigger",vme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Dnt,{...i,...r,ref:t})});vme.displayName=Xnt;var Znt="DropdownMenuSubContent",xme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Rnt,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xme.displayName=Znt;var wme=sme,Sme=cme,Qnt=ume,T7=fme,k7=hme,_7=pme,A7=mme,Eme=gme,N7=yme,O7=bme,Jnt=Knt,M7=vme,D7=xme;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ert=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),trt=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),jK=e=>{const t=trt(e);return t.charAt(0).toUpperCase()+t.slice(1)},Cme=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),nrt=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rrt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const irt=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>C.createElement("svg",{ref:l,...rrt,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Cme("lucide",i),...!o&&!nrt(s)&&{"aria-hidden":"true"},...s},[...a.map(([c,u])=>C.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=(e,t)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(irt,{ref:o,iconNode:t,className:Cme(`lucide-${ert(jK(e))}`,`lucide-${e}`,r),...i}));return n.displayName=jK(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ort=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tme=bR("check",ort);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const art=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kme=bR("chevron-down",art);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const srt=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_me=bR("chevron-right",srt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lrt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],crt=bR("chevron-up",lrt);function urt(e){const t=drt(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(hrt);if(l){const c=l.props.children,u=s.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,u):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function drt(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=mrt(i),s=prt(o,i.props);return i.type!==C.Fragment&&(s.ref=r?rs(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var frt=Symbol("radix.slottable");function hrt(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===frt}function prt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function mrt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vR="Popover",[Ame]=Us(vR,[wm]),ak=wm(),[grt,Am]=Ame(vR),Nme=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!1}=e,s=ak(t),l=C.useRef(null),[c,u]=C.useState(!1),[d,p]=yu({prop:r,defaultProp:i??!1,onChange:o,caller:vR});return g.jsx(DT,{...s,children:g.jsx(grt,{scope:t,contentId:Gi(),triggerRef:l,open:d,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:c,onCustomAnchorAdd:C.useCallback(()=>u(!0),[]),onCustomAnchorRemove:C.useCallback(()=>u(!1),[]),modal:a,children:n})})};Nme.displayName=vR;var Ome="PopoverAnchor",yrt=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Am(Ome,n),o=ak(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=i;return C.useEffect(()=>(a(),()=>s()),[a,s]),g.jsx(RT,{...o,...r,ref:t})});yrt.displayName=Ome;var Mme="PopoverTrigger",Dme=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Am(Mme,n),o=ak(n),a=An(t,i.triggerRef),s=g.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":jme(i.open),...r,ref:a,onClick:dt(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:g.jsx(RT,{asChild:!0,...o,children:s})});Dme.displayName=Mme;var R7="PopoverPortal",[brt,vrt]=Ame(R7,{forceMount:void 0}),Rme=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=Am(R7,t);return g.jsx(brt,{scope:t,forceMount:n,children:g.jsx(Fo,{present:n||o.open,children:g.jsx(Y1,{asChild:!0,container:i,children:r})})})};Rme.displayName=R7;var w1="PopoverContent",Ime=C.forwardRef((e,t)=>{const n=vrt(w1,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=Am(w1,e.__scopePopover);return g.jsx(Fo,{present:r||o.open,children:o.modal?g.jsx(wrt,{...i,ref:t}):g.jsx(Srt,{...i,ref:t})})});Ime.displayName=w1;var xrt=urt("PopoverContent.RemoveScroll"),wrt=C.forwardRef((e,t)=>{const n=Am(w1,e.__scopePopover),r=C.useRef(null),i=An(t,r),o=C.useRef(!1);return C.useEffect(()=>{const a=r.current;if(a)return eD(a)},[]),g.jsx(vT,{as:xrt,allowPinchZoom:!0,children:g.jsx(Pme,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,a=>{a.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:dt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Srt=C.forwardRef((e,t)=>{const n=Am(w1,e.__scopePopover),r=C.useRef(!1),i=C.useRef(!1);return g.jsx(Pme,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Pme=C.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=e,p=Am(w1,n),m=ak(n);return QM(),g.jsx(bT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:g.jsx(W1,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:g.jsx(gD,{"data-state":jme(p.open),role:"dialog",id:p.contentId,...m,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Lme="PopoverClose",Ert=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Am(Lme,n);return g.jsx(Dt.button,{type:"button",...r,ref:t,onClick:dt(e.onClick,()=>i.onOpenChange(!1))})});Ert.displayName=Lme;var Crt="PopoverArrow",Trt=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ak(n);return g.jsx(yD,{...i,...r,ref:t})});Trt.displayName=Crt;function jme(e){return e?"open":"closed"}var Bme=Nme,$me=Dme,krt=Rme,Hme=Ime;function M8(e,[t,n]){return Math.min(n,Math.max(t,e))}function _rt(e){const t=Art(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(Ort);if(l){const c=l.props.children,u=s.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,u):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function Art(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=Drt(i),s=Mrt(o,i.props);return i.type!==C.Fragment&&(s.ref=r?rs(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Nrt=Symbol("radix.slottable");function Ort(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Nrt}function Mrt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Drt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rrt(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Irt=[" ","Enter","ArrowUp","ArrowDown"],Prt=[" ","Enter"],X0="Select",[xR,wR,Lrt]=g7(X0),[gx]=Us(X0,[Lrt,wm]),SR=wm(),[jrt,Nm]=gx(X0),[Brt,$rt]=gx(X0),Fme=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:m,form:v}=e,x=SR(t),[w,T]=C.useState(null),[k,N]=C.useState(null),[I,O]=C.useState(!1),A=tk(c),[R,L]=yu({prop:r,defaultProp:i??!1,onChange:o,caller:X0}),[B,$]=yu({prop:a,defaultProp:s,onChange:l,caller:X0}),q=C.useRef(null),z=w?v||!!w.closest("form"):!0,[Y,W]=C.useState(new Set),Z=Array.from(Y).map(V=>V.props.value).join(";");return g.jsx(DT,{...x,children:g.jsxs(jrt,{required:m,scope:t,trigger:w,onTriggerChange:T,valueNode:k,onValueNodeChange:N,valueNodeHasChildren:I,onValueNodeHasChildrenChange:O,contentId:Gi(),value:B,onValueChange:$,open:R,onOpenChange:L,dir:A,triggerPointerDownPosRef:q,disabled:p,children:[g.jsx(xR.Provider,{scope:t,children:g.jsx(Brt,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(V=>{W(ne=>new Set(ne).add(V))},[]),onNativeOptionRemove:C.useCallback(V=>{W(ne=>{const X=new Set(ne);return X.delete(V),X})},[]),children:n})}),z?g.jsxs(dge,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:B,onChange:V=>$(V.target.value),disabled:p,form:v,children:[B===void 0?g.jsx("option",{value:""}):null,Array.from(Y)]},Z):null]})})};Fme.displayName=X0;var Ume="SelectTrigger",zme=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=SR(n),a=Nm(Ume,n),s=a.disabled||r,l=An(t,a.onTriggerChange),c=wR(n),u=C.useRef("touch"),[d,p,m]=hge(x=>{const w=c().filter(N=>!N.disabled),T=w.find(N=>N.value===a.value),k=pge(w,x,T);k!==void 0&&a.onValueChange(k.value)}),v=x=>{s||(a.onOpenChange(!0),m()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return g.jsx(RT,{asChild:!0,...o,children:g.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":fge(a.value)?"":void 0,...i,ref:l,onClick:dt(i.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&v(x)}),onPointerDown:dt(i.onPointerDown,x=>{u.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:dt(i.onKeyDown,x=>{const w=d.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(w&&x.key===" ")&&Irt.includes(x.key)&&(v(),x.preventDefault())})})})});zme.displayName=Ume;var Vme="SelectValue",qme=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=e,l=Nm(Vme,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,d=An(t,l.onValueNodeChange);return Xi(()=>{c(u)},[c,u]),g.jsx(Dt.span,{...s,ref:d,style:{pointerEvents:"none"},children:fge(l.value)?g.jsx(g.Fragment,{children:a}):o})});qme.displayName=Vme;var Hrt="SelectIcon",Wme=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return g.jsx(Dt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});Wme.displayName=Hrt;var Frt="SelectPortal",Yme=e=>g.jsx(Y1,{asChild:!0,...e});Yme.displayName=Frt;var Z0="SelectContent",Gme=C.forwardRef((e,t)=>{const n=Nm(Z0,e.__scopeSelect),[r,i]=C.useState();if(Xi(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Ta.createPortal(g.jsx(Kme,{scope:e.__scopeSelect,children:g.jsx(xR.Slot,{scope:e.__scopeSelect,children:g.jsx("div",{children:e.children})})}),o):null}return g.jsx(Xme,{...e,ref:t})});Gme.displayName=Z0;var eu=10,[Kme,Om]=gx(Z0),Urt="SelectContentImpl",zrt=_rt("SelectContent.RemoveScroll"),Xme=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:w,...T}=e,k=Nm(Z0,n),[N,I]=C.useState(null),[O,A]=C.useState(null),R=An(t,ve=>I(ve)),[L,B]=C.useState(null),[$,q]=C.useState(null),z=wR(n),[Y,W]=C.useState(!1),Z=C.useRef(!1);C.useEffect(()=>{if(N)return eD(N)},[N]),QM();const V=C.useCallback(ve=>{const[je,...Te]=z().map(De=>De.ref.current),[He]=Te.slice(-1),Ge=document.activeElement;for(const De of ve)if(De===Ge||(De?.scrollIntoView({block:"nearest"}),De===je&&O&&(O.scrollTop=0),De===He&&O&&(O.scrollTop=O.scrollHeight),De?.focus(),document.activeElement!==Ge))return},[z,O]),ne=C.useCallback(()=>V([L,N]),[V,L,N]);C.useEffect(()=>{Y&&ne()},[Y,ne]);const{onOpenChange:X,triggerPointerDownPosRef:oe}=k;C.useEffect(()=>{if(N){let ve={x:0,y:0};const je=He=>{ve={x:Math.abs(Math.round(He.pageX)-(oe.current?.x??0)),y:Math.abs(Math.round(He.pageY)-(oe.current?.y??0))}},Te=He=>{ve.x<=10&&ve.y<=10?He.preventDefault():N.contains(He.target)||X(!1),document.removeEventListener("pointermove",je),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Te,{capture:!0})}}},[N,X,oe]),C.useEffect(()=>{const ve=()=>X(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[X]);const[K,Q]=hge(ve=>{const je=z().filter(Ge=>!Ge.disabled),Te=je.find(Ge=>Ge.ref.current===document.activeElement),He=pge(je,ve,Te);He&&setTimeout(()=>He.ref.current.focus())}),te=C.useCallback((ve,je,Te)=>{const He=!Z.current&&!Te;(k.value!==void 0&&k.value===je||He)&&(B(ve),He&&(Z.current=!0))},[k.value]),U=C.useCallback(()=>N?.focus(),[N]),he=C.useCallback((ve,je,Te)=>{const He=!Z.current&&!Te;(k.value!==void 0&&k.value===je||He)&&q(ve)},[k.value]),se=r==="popper"?D8:Zme,we=se===D8?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:w}:{};return g.jsx(Kme,{scope:n,content:N,viewport:O,onViewportChange:A,itemRefCallback:te,selectedItem:L,onItemLeave:U,itemTextRefCallback:he,focusSelectedItem:ne,selectedItemText:$,position:r,isPositioned:Y,searchRef:K,children:g.jsx(vT,{as:zrt,allowPinchZoom:!0,children:g.jsx(bT,{asChild:!0,trapped:k.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:dt(i,ve=>{k.trigger?.focus({preventScroll:!0}),ve.preventDefault()}),children:g.jsx(W1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:g.jsx(se,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ve=>ve.preventDefault(),...T,...we,onPlaced:()=>W(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:dt(T.onKeyDown,ve=>{const je=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!je&&ve.key.length===1&&Q(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let He=z().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(He=He.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const Ge=ve.target,De=He.indexOf(Ge);He=He.slice(De+1)}setTimeout(()=>V(He)),ve.preventDefault()}})})})})})})});Xme.displayName=Urt;var Vrt="SelectItemAlignedPosition",Zme=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Nm(Z0,n),a=Om(Z0,n),[s,l]=C.useState(null),[c,u]=C.useState(null),d=An(t,R=>u(R)),p=wR(n),m=C.useRef(!1),v=C.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:T,focusSelectedItem:k}=a,N=C.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&x&&w&&T){const R=o.trigger.getBoundingClientRect(),L=c.getBoundingClientRect(),B=o.valueNode.getBoundingClientRect(),$=T.getBoundingClientRect();if(o.dir!=="rtl"){const Ge=$.left-L.left,De=B.left-Ge,Ft=R.left-De,Ee=R.width+Ft,It=Math.max(Ee,L.width),sn=window.innerWidth-eu,Yt=M8(De,[eu,Math.max(eu,sn-It)]);s.style.minWidth=Ee+"px",s.style.left=Yt+"px"}else{const Ge=L.right-$.right,De=window.innerWidth-B.right-Ge,Ft=window.innerWidth-R.right-De,Ee=R.width+Ft,It=Math.max(Ee,L.width),sn=window.innerWidth-eu,Yt=M8(De,[eu,Math.max(eu,sn-It)]);s.style.minWidth=Ee+"px",s.style.right=Yt+"px"}const q=p(),z=window.innerHeight-eu*2,Y=x.scrollHeight,W=window.getComputedStyle(c),Z=parseInt(W.borderTopWidth,10),V=parseInt(W.paddingTop,10),ne=parseInt(W.borderBottomWidth,10),X=parseInt(W.paddingBottom,10),oe=Z+V+Y+X+ne,K=Math.min(w.offsetHeight*5,oe),Q=window.getComputedStyle(x),te=parseInt(Q.paddingTop,10),U=parseInt(Q.paddingBottom,10),he=R.top+R.height/2-eu,se=z-he,we=w.offsetHeight/2,ve=w.offsetTop+we,je=Z+V+ve,Te=oe-je;if(je<=he){const Ge=q.length>0&&w===q[q.length-1].ref.current;s.style.bottom="0px";const De=c.clientHeight-x.offsetTop-x.offsetHeight,Ft=Math.max(se,we+(Ge?U:0)+De+ne),Ee=je+Ft;s.style.height=Ee+"px"}else{const Ge=q.length>0&&w===q[0].ref.current;s.style.top="0px";const Ft=Math.max(he,Z+x.offsetTop+(Ge?te:0)+we)+Te;s.style.height=Ft+"px",x.scrollTop=je-he+x.offsetTop}s.style.margin=`${eu}px 0`,s.style.minHeight=K+"px",s.style.maxHeight=z+"px",r?.(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,s,c,x,w,T,o.dir,r]);Xi(()=>N(),[N]);const[I,O]=C.useState();Xi(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const A=C.useCallback(R=>{R&&v.current===!0&&(N(),k?.(),v.current=!1)},[N,k]);return g.jsx(Wrt,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:A,children:g.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:g.jsx(Dt.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Zme.displayName=Vrt;var qrt="SelectPopperPosition",D8=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=eu,...o}=e,a=SR(n);return g.jsx(gD,{...a,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});D8.displayName=qrt;var[Wrt,I7]=gx(Z0,{}),R8="SelectViewport",Qme=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=Om(R8,n),a=I7(R8,n),s=An(t,o.onViewportChange),l=C.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(xR.Slot,{scope:n,children:g.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:dt(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=a;if(p?.current&&d){const m=Math.abs(l.current-u.scrollTop);if(m>0){const v=window.innerHeight-eu*2,x=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),T=Math.max(x,w);if(T<v){const k=T+m,N=Math.min(v,k),I=k-N;d.style.height=N+"px",d.style.bottom==="0px"&&(u.scrollTop=I>0?I:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Qme.displayName=R8;var Jme="SelectGroup",[Yrt,Grt]=gx(Jme),Krt=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Gi();return g.jsx(Yrt,{scope:n,id:i,children:g.jsx(Dt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Krt.displayName=Jme;var ege="SelectLabel",tge=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Grt(ege,n);return g.jsx(Dt.div,{id:i.id,...r,ref:t})});tge.displayName=ege;var qO="SelectItem",[Xrt,nge]=gx(qO),rge=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=e,s=Nm(qO,n),l=Om(qO,n),c=s.value===r,[u,d]=C.useState(o??""),[p,m]=C.useState(!1),v=An(t,k=>l.itemRefCallback?.(k,r,i)),x=Gi(),w=C.useRef("touch"),T=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(Xrt,{scope:n,value:r,disabled:i,textId:x,isSelected:c,onItemTextChange:C.useCallback(k=>{d(N=>N||(k?.textContent??"").trim())},[]),children:g.jsx(xR.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:g.jsx(Dt.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:dt(a.onFocus,()=>m(!0)),onBlur:dt(a.onBlur,()=>m(!1)),onClick:dt(a.onClick,()=>{w.current!=="mouse"&&T()}),onPointerUp:dt(a.onPointerUp,()=>{w.current==="mouse"&&T()}),onPointerDown:dt(a.onPointerDown,k=>{w.current=k.pointerType}),onPointerMove:dt(a.onPointerMove,k=>{w.current=k.pointerType,i?l.onItemLeave?.():w.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(a.onPointerLeave,k=>{k.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:dt(a.onKeyDown,k=>{l.searchRef?.current!==""&&k.key===" "||(Prt.includes(k.key)&&T(),k.key===" "&&k.preventDefault())})})})})});rge.displayName=qO;var uE="SelectItemText",ige=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,a=Nm(uE,n),s=Om(uE,n),l=nge(uE,n),c=$rt(uE,n),[u,d]=C.useState(null),p=An(t,T=>d(T),l.onItemTextChange,T=>s.itemTextRefCallback?.(T,l.value,l.disabled)),m=u?.textContent,v=C.useMemo(()=>g.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=c;return Xi(()=>(x(v),()=>w(v)),[x,w,v]),g.jsxs(g.Fragment,{children:[g.jsx(Dt.span,{id:l.textId,...o,ref:p}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ta.createPortal(o.children,a.valueNode):null]})});ige.displayName=uE;var oge="SelectItemIndicator",age=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return nge(oge,n).isSelected?g.jsx(Dt.span,{"aria-hidden":!0,...r,ref:t}):null});age.displayName=oge;var I8="SelectScrollUpButton",sge=C.forwardRef((e,t)=>{const n=Om(I8,e.__scopeSelect),r=I7(I8,e.__scopeSelect),[i,o]=C.useState(!1),a=An(t,r.onScrollButtonChange);return Xi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?g.jsx(cge,{...e,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});sge.displayName=I8;var P8="SelectScrollDownButton",lge=C.forwardRef((e,t)=>{const n=Om(P8,e.__scopeSelect),r=I7(P8,e.__scopeSelect),[i,o]=C.useState(!1),a=An(t,r.onScrollButtonChange);return Xi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?g.jsx(cge,{...e,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});lge.displayName=P8;var cge=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=Om("SelectScrollButton",n),a=C.useRef(null),s=wR(n),l=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),Xi(()=>{s().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),g.jsx(Dt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:dt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:dt(i.onPointerMove,()=>{o.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:dt(i.onPointerLeave,()=>{l()})})}),Zrt="SelectSeparator",uge=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return g.jsx(Dt.div,{"aria-hidden":!0,...r,ref:t})});uge.displayName=Zrt;var L8="SelectArrow",Qrt=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=SR(n),o=Nm(L8,n),a=Om(L8,n);return o.open&&a.position==="popper"?g.jsx(yD,{...i,...r,ref:t}):null});Qrt.displayName=L8;var Jrt="SelectBubbleInput",dge=C.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=C.useRef(null),o=An(r,i),a=Rrt(t);return C.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&u){const d=new Event("change",{bubbles:!0});u.call(s,t),s.dispatchEvent(d)}},[a,t]),g.jsx(Dt.select,{...n,style:{...lae,...n.style},ref:o,defaultValue:t})});dge.displayName=Jrt;function fge(e){return e===""||e===void 0}function hge(e){const t=Co(e),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(a=>{const s=n.current+a;t(s),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(s)},[t]),o=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function pge(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=eit(e,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function eit(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var mge=Fme,P7=zme,gge=qme,yge=Wme,tit=Yme,L7=Gme,bge=Qme,vge=tge,j7=rge,xge=ige,wge=age,B7=sge,$7=lge,Sge=uge,ER="Tabs",[nit]=Us(ER,[mR]),Ege=mR(),[rit,H7]=nit(ER),Cge=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=e,u=tk(s),[d,p]=yu({prop:r,onChange:i,defaultProp:o??"",caller:ER});return g.jsx(rit,{scope:n,baseId:Gi(),value:d,onValueChange:p,orientation:a,dir:u,activationMode:l,children:g.jsx(Dt.div,{dir:u,"data-orientation":a,...c,ref:t})})});Cge.displayName=ER;var Tge="TabsList",kge=C.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=H7(Tge,n),a=Ege(n);return g.jsx(Rpe,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:g.jsx(Dt.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});kge.displayName=Tge;var _ge="TabsTrigger",Age=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,a=H7(_ge,n),s=Ege(n),l=Mge(a.baseId,r),c=Dge(a.baseId,r),u=r===a.value;return g.jsx(Ipe,{asChild:!0,...s,focusable:!i,active:u,children:g.jsx(Dt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:t,onMouseDown:dt(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:dt(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:dt(e.onFocus,()=>{const d=a.activationMode!=="manual";!u&&!i&&d&&a.onValueChange(r)})})})});Age.displayName=_ge;var Nge="TabsContent",Oge=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=e,s=H7(Nge,n),l=Mge(s.baseId,r),c=Dge(s.baseId,r),u=r===s.value,d=C.useRef(u);return C.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),g.jsx(Fo,{present:i||u,children:({present:p})=>g.jsx(Dt.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:p&&o})})});Oge.displayName=Nge;function Mge(e,t){return`${e}-trigger-${t}`}function Dge(e,t){return`${e}-content-${t}`}var Rge=Cge,F7=kge,U7=Age,z7=Oge,Ige="Toggle",Pge=C.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:i,...o}=e,[a,s]=yu({prop:n,onChange:i,defaultProp:r??!1,caller:Ige});return g.jsx(Dt.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:dt(e.onClick,()=>{e.disabled||s(!a)})})});Pge.displayName=Ige;var iit=Pge;function Lt(...e){return Stt(Xn(e))}function oit({className:e,...t}){return g.jsx(Uet,{"data-slot":"avatar",className:Lt("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function ait({className:e,...t}){return g.jsx(zet,{"data-slot":"avatar-image",className:Lt("aspect-square size-full",e),...t})}function sit({className:e,...t}){return g.jsx(Vet,{"data-slot":"avatar-fallback",className:Lt("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const lit=oy("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function cit({className:e,variant:t,asChild:n=!1,...r}){return g.jsx(n?DH:"span",{"data-slot":"badge",className:Lt(lit({variant:t}),e),...r})}const uit=oy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*=size-])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function dit({className:e,variant:t,size:n,asChild:r=!1,...i}){return g.jsx(r?DH:"button",{"data-slot":"button",className:Lt(uit({variant:t,size:n,className:e})),...i})}function fit({className:e,...t}){return g.jsx("div",{"data-slot":"card",className:Lt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function hit({className:e,...t}){return g.jsx("div",{"data-slot":"card-content",className:Lt("px-6",e),...t})}function pit({...e}){return g.jsx(wme,{"data-slot":"dropdown-menu",...e})}function mit({...e}){return g.jsx(Sme,{"data-slot":"dropdown-menu-trigger",...e})}function git({className:e,sideOffset:t=4,...n}){return g.jsx(T7,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-dropdown-menu-content-available-height) origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border p-1 shadow-md",e),...n})}function yit({className:e,inset:t,variant:n="default",...r}){return g.jsx(_7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r})}function bit({className:e,children:t,checked:n,...r}){return g.jsxs(A7,{"data-slot":"dropdown-menu-checkbox-item",className:Lt("focus:bg-accent focus:text-accent-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-8 pr-2 text-sm data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),checked:n,...r,children:[g.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:g.jsx(N7,{children:g.jsx(Tme,{className:"size-4"})})}),t]})}function vit({className:e,inset:t,...n}){return g.jsx(k7,{"data-slot":"dropdown-menu-label","data-inset":t,className:Lt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function xit({className:e,...t}){return g.jsx(O7,{"data-slot":"dropdown-menu-separator",className:Lt("bg-border -mx-1 my-1 h-px",e),...t})}function wit({...e}){return g.jsx(Jnt,{"data-slot":"dropdown-menu-sub",...e})}function Sit({className:e,inset:t,children:n,...r}){return g.jsxs(M7,{"data-slot":"dropdown-menu-sub-trigger","data-inset":t,className:Lt("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground outline-hidden flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm data-[inset]:pl-8",e),...r,children:[n,g.jsx(_me,{className:"ml-auto size-4"})]})}function Eit({className:e,...t}){return g.jsx(D7,{"data-slot":"dropdown-menu-sub-content",className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-lg",e),...t})}function Cit({className:e,...t}){return g.jsx(QH,{"data-slot":"label",className:Lt("flex select-none items-center gap-2 text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-50 group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50",e),...t})}const Tit=get;C.createContext({});C.createContext({});function kit({className:e,type:t,...n}){return g.jsx("input",{type:t,"data-slot":"input",className:Lt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base outline-none transition-[color,box-shadow] file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function _it({...e}){return g.jsx(Bme,{"data-slot":"popover",...e})}function Ait({...e}){return g.jsx($me,{"data-slot":"popover-trigger",...e})}function Nit({className:e,align:t="center",sideOffset:n=4,...r}){return g.jsx(Hme,{"data-slot":"popover-content",align:t,sideOffset:n,className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-popover-content-transform-origin) outline-hidden z-50 w-72 rounded-md border p-4 shadow-md",e),...r})}function Oit({...e}){return g.jsx(mge,{"data-slot":"select",...e})}function Mit({...e}){return g.jsx(gge,{"data-slot":"select-value",...e})}function Dit({className:e,size:t="default",children:n,...r}){return g.jsxs(P7,{"data-slot":"select-trigger","data-size":t,className:Lt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*=text-])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 shadow-xs flex w-fit items-center justify-between gap-2 whitespace-nowrap rounded-md border bg-transparent px-3 py-2 text-sm outline-none transition-[color,box-shadow] focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r,children:[n,g.jsx(yge,{asChild:!0,children:g.jsx(kme,{className:"size-4 opacity-50"})})]})}function Rit({className:e,children:t,position:n="popper",...r}){return g.jsxs(L7,{"data-slot":"select-content",className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-select-content-available-height) origin-(--radix-select-content-transform-origin) relative z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[g.jsx(Pit,{}),g.jsx(bge,{className:Lt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),g.jsx(Lit,{})]})}function Iit({className:e,children:t,...n}){return g.jsxs(j7,{"data-slot":"select-item",className:Lt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2 relative flex w-full cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-2 pr-8 text-sm data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...n,children:[g.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:g.jsx(wge,{children:g.jsx(Tme,{className:"size-4"})})}),g.jsx(xge,{children:t})]})}function Pit({className:e,...t}){return g.jsx(B7,{"data-slot":"select-scroll-up-button",className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(crt,{className:"size-4"})})}function Lit({className:e,...t}){return g.jsx($7,{"data-slot":"select-scroll-down-button",className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(kme,{className:"size-4"})})}function jit({className:e,...t}){return g.jsx("div",{"data-slot":"skeleton",className:Lt("bg-accent animate-pulse rounded-md",e),...t})}function Bit({className:e,...t}){return g.jsx(Rge,{"data-slot":"tabs",className:Lt("flex flex-col gap-2",e),...t})}function $it({className:e,...t}){return g.jsx(F7,{"data-slot":"tabs-list",className:Lt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Hit({className:e,...t}){return g.jsx(U7,{"data-slot":"tabs-trigger",className:Lt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 whitespace-nowrap rounded-md border border-transparent px-2 py-1 text-sm font-medium transition-[color,box-shadow] focus-visible:outline-1 focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...t})}function Fit({className:e,...t}){return g.jsx(z7,{"data-slot":"tabs-content",className:Lt("flex-1 outline-none",e),...t})}const Uit=oy("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*=size-])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function zit({className:e,variant:t,size:n,...r}){return g.jsx(iit,{"data-slot":"toggle",className:Lt(Uit({variant:t,size:n,className:e})),...r})}function Lge({delayDuration:e=0,...t}){return g.jsx(vae,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Vit({...e}){return g.jsx(Lge,{children:g.jsx(xae,{"data-slot":"tooltip",...e})})}function qit({...e}){return g.jsx(wae,{"data-slot":"tooltip-trigger",...e})}function Wit({className:e,sideOffset:t=0,children:n,...r}){return g.jsxs(ZH,{"data-slot":"tooltip-content",sideOffset:t,className:Lt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-tooltip-content-transform-origin) z-50 w-fit text-balance rounded-md px-3 py-1.5 text-xs",e),...r,children:[n,g.jsx(JOe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})}const Yit={Avatar:{Avatar:oit,AvatarFallback:sit,AvatarImage:ait},Badge:{Badge:cit},Button:{Button:dit},Card:{Card:fit,CardContent:hit},DropdownMenu:{DropdownMenu:pit,DropdownMenuCheckboxItem:bit,DropdownMenuContent:git,DropdownMenuItem:yit,DropdownMenuLabel:vit,DropdownMenuSeparator:xit,DropdownMenuSub:wit,DropdownMenuSubContent:Eit,DropdownMenuSubTrigger:Sit,DropdownMenuTrigger:mit},Form:{Form:Tit},Input:{Input:kit},Label:{Label:Cit},Popover:{Popover:_it,PopoverContent:Nit,PopoverTrigger:Ait},Select:{Select:Oit,SelectContent:Rit,SelectItem:Iit,SelectTrigger:Dit,SelectValue:Mit},Skeleton:{Skeleton:jit},Tabs:{Tabs:Bit,TabsContent:Fit,TabsList:$it,TabsTrigger:Hit},Toggle:{Toggle:zit},Tooltip:{Tooltip:Vit,TooltipContent:Wit,TooltipProvider:Lge,TooltipTrigger:qit}},jge=C.createContext(void 0);function Lr(){return C.useContext(jge)}const Git=e=>{const{children:t,...n}=e;Sn(n);const r=Lr(),i=Let();return g.jsx(r.Form.Form,{...i,children:t})},Kit=C.forwardRef((e,t)=>{const{className:n,name:r,label:i,variant:o,icon:a,value:s,autoFocus:l,placeholder:c,disabled:u,onKeyDown:d,onChange:p,onSubmit:m,autoComplete:v,rightSection:x,...w}=e;Sn(w);const T=Lr();return g.jsxs("div",{className:Lt(n,"border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","text-foreground items-center gap-2"),children:[a,g.jsxs("div",{className:"flex-1",children:[i&&g.jsx(T.Label.Label,{htmlFor:i,children:i}),g.jsx(T.Input.Input,{className:Lt(n,"h-auto border-none p-0"),id:i,name:r,autoFocus:l,placeholder:c,disabled:u,value:s,onKeyDown:d,onChange:p,onSubmit:m,ref:t})]}),x]})}),Xit=e=>C.forwardRef((t,n)=>g.jsx(e,{onPointerDown:r=>{r.nativeEvent.fakeEvent||(r.ctrlKey=!0)},onPointerUp:r=>{const i=new PointerEvent("pointerdown",r.nativeEvent);i.fakeEvent=!0,r.target.dispatchEvent(i)},...t,ref:n})),Zit=e=>{const{children:t,onOpenChange:n,position:r,sub:i,...o}=e;Sn(o);const a=Lr();return i?g.jsx(a.DropdownMenu.DropdownMenuSub,{onOpenChange:n,children:t}):g.jsx(a.DropdownMenu.DropdownMenu,{modal:!1,onOpenChange:n,children:t})},Qit=e=>{const{children:t,sub:n,...r}=e;Sn(r);const i=Lr(),o=C.useMemo(()=>Xit(i.DropdownMenu.DropdownMenuTrigger),[i.DropdownMenu.DropdownMenuTrigger]);return n?g.jsx(i.DropdownMenu.DropdownMenuSubTrigger,{children:t}):g.jsx(o,{asChild:!0,...r,children:t})},Jit=C.forwardRef((e,t)=>{const{className:n,children:r,sub:i,...o}=e;Sn(o);const a=Lr();return i?g.jsx(a.DropdownMenu.DropdownMenuSubContent,{className:n,ref:t,children:r}):g.jsx(a.DropdownMenu.DropdownMenuContent,{className:n,ref:t,children:r})}),eot=C.forwardRef((e,t)=>{const{className:n,children:r,icon:i,checked:o,subTrigger:a,onClick:s,...l}=e;Sn(l);const c=Lr();return a?g.jsxs(g.Fragment,{children:[i,r]}):o!==void 0?g.jsxs(c.DropdownMenu.DropdownMenuCheckboxItem,{className:Lt(n,"gap-1",o?"":"px-2"),ref:t,checked:o,onClick:s,...l,children:[i,r]}):g.jsxs(c.DropdownMenu.DropdownMenuItem,{className:n,ref:t,onClick:s,...l,children:[i,r,a&&g.jsx(_me,{className:"ml-auto h-4 w-4"})]})}),tot=C.forwardRef((e,t)=>{const{className:n,...r}=e;Sn(r);const i=Lr();return g.jsx(i.DropdownMenu.DropdownMenuSeparator,{className:n,ref:t})}),not=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;Sn(i);const o=Lr();return g.jsx(o.DropdownMenu.DropdownMenuLabel,{className:n,ref:t,children:r})}),rot=C.forwardRef((e,t)=>{const{className:n,children:r,icon:i,onClick:o,onDragEnd:a,onDragStart:s,draggable:l,label:c,...u}=e;Sn(u,!1);const d=Lr();return g.jsxs(d.Button.Button,{variant:"ghost",className:Lt(n,"text-gray-400"),ref:t,"aria-label":c,onClick:o,onDragStart:s,onDragEnd:a,draggable:l,...u,children:[i,r]})}),iot=C.forwardRef((e,t)=>{const{className:n,tabs:r,defaultOpenTab:i,openTab:o,setOpenTab:a,loading:s,...l}=e;Sn(l);const c=Lr();return g.jsxs(c.Tabs.Tabs,{className:Lt(n,"bg-popover max-w-screen rounded-lg p-2"),ref:t,value:o,defaultValue:i,onValueChange:a,children:[g.jsx(c.Tabs.TabsList,{children:r.map(u=>g.jsx(c.Tabs.TabsTrigger,{value:u.name,children:u.name},u.name))}),r.map(u=>g.jsx(c.Tabs.TabsContent,{value:u.name,children:g.jsx(c.Card.Card,{children:g.jsx(c.Card.CardContent,{className:"p-4",children:u.tabPanel})})},u.name))]})}),oot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return Sn(i),g.jsx("div",{className:Lt(n,"flex flex-col items-start justify-center gap-2"),ref:t,children:r})}),aot=C.forwardRef((e,t)=>{const{className:n,value:r,placeholder:i,onKeyDown:o,onChange:a,...s}=e;Sn(s);const l=Lr();return g.jsx(l.Input.Input,{"data-test":"embed-input",className:Lt(n,"w-80 max-w-full"),ref:t,value:r,placeholder:i,onKeyDown:o,onChange:a})}),sot=e=>{const{children:t,opened:n,position:r,...i}=e;Sn(i);const o=Lr();return g.jsx(o.Popover.Popover,{open:n,children:t})},lot=C.forwardRef((e,t)=>{const{children:n,...r}=e;Sn(r);const i=Lr();return g.jsx(i.Popover.PopoverTrigger,{ref:t,asChild:!0,children:n})}),cot=C.forwardRef((e,t)=>{const{className:n,variant:r,children:i,...o}=e;Sn(o);const a=Lr();return g.jsx(a.Popover.PopoverContent,{sideOffset:8,className:Lt(n,"z-[10000] flex flex-col gap-2",r==="panel-popover"?"w-fit max-w-none border-none p-0 shadow-none":""),ref:t,children:i})}),uot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return Sn(i,!1),g.jsx("div",{className:n,ref:t,...i,children:r})}),dot=C.forwardRef((e,t)=>{const{className:n,children:r,icon:i,onClick:o,onDragEnd:a,onDragStart:s,draggable:l,label:c,...u}=e;Sn(u,!1);const d=Lr();return g.jsxs(d.Button.Button,{variant:"ghost",className:Lt(n,"text-gray-400"),ref:t,"aria-label":c,onClick:o,onDragStart:s,onDragEnd:a,draggable:l,...u,children:[i,r]})}),fot=C.forwardRef((e,t)=>{const{className:n,children:r,id:i,columns:o,...a}=e;return Sn(a),g.jsx("div",{className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-dropdown-menu-content-available-height) origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border p-1 shadow-md","grid",n),style:{gridTemplateColumns:`repeat(${o}, 1fr)`},ref:t,id:i,role:"grid",children:r})}),hot=C.forwardRef((e,t)=>{const{className:n,children:r,columns:i,...o}=e;return Sn(o),g.jsx("div",{className:n,style:{gridColumn:`1 / ${i+1}`},ref:t,children:r})}),pot=C.forwardRef((e,t)=>{const{className:n,children:r,id:i,...o}=e;return Sn(o),g.jsx("div",{id:i,role:"listbox",className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-dropdown-menu-content-available-height) origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border p-1 shadow-md",n),ref:t,children:r})}),mot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return Sn(i),g.jsx("div",{className:Lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive",n),ref:t,children:g.jsx("div",{children:r})})}),got=C.forwardRef((e,t)=>{const n=Lr(),{className:r,item:i,isSelected:o,onClick:a,id:s,...l}=e;Sn(l);const c=C.useRef(null);return C.useEffect(()=>{if(!c.current||!o)return;const u=l7(c.current,document.querySelector(".bn-suggestion-menu, #ai-suggestion-menu"));u==="top"?c.current.scrollIntoView(!0):u==="bottom"&&c.current.scrollIntoView(!1)},[o]),g.jsxs("div",{className:Lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive",e.item.size==="small"?"gap-3 py-1":"",r),"data-highlighted":!0,ref:fR([t,c]),id:s,onMouseDown:u=>u.preventDefault(),onClick:a,role:"option","aria-selected":o||void 0,children:[i.icon&&g.jsx("div",{className:Lt("p-3",e.item.size==="small"?"p-0":"",r),"data-position":"left",children:i.icon}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:Lt("text-base",e.item.size==="small"?"text-sm":"",r),children:i.title}),g.jsx("div",{className:Lt("text-xs",e.item.size==="small"?"hidden":"",r),children:i.subtext})]}),i.badge&&g.jsx("div",{"data-position":"right",className:"text-xs",children:g.jsx(n.Badge.Badge,{variant:"secondary",children:i.badge})})]})}),yot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return Sn(i),g.jsx("div",{className:Lt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),ref:t,children:r})}),bot=C.forwardRef((e,t)=>{const{className:n,...r}=e;return Sn(r),g.jsx("div",{className:Lt(n,"animate-spin"),ref:t,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 -960 960 960",width:"1em",fill:"#e8eaed",children:g.jsx("path",{d:"M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q17 0 28.5 11.5T520-840q0 17-11.5 28.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-17 11.5-28.5T840-520q17 0 28.5 11.5T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Z"})})})}),vot=C.forwardRef((e,t)=>{const{className:n,children:r,onMouseDown:i,onClick:o,...a}=e;Sn(a,!1);const s=Lr();return g.jsx(s.Button.Button,{variant:"ghost",className:Lt(n,"h-full w-full p-0 text-gray-400",n!=null&&n.includes("extend-button-add-remove-columns")?"ml-1":"mt-1",n!=null&&n.includes("extend-button-editing")?"bg-accent text-accent-foreground":""),ref:t,onClick:o,onMouseDown:i,...a,children:r})}),xot=C.forwardRef((e,t)=>{const{className:n,children:r,draggable:i,onDragStart:o,onDragEnd:a,style:s,label:l,...c}=e;Sn(c,!1);const u=Lr();return g.jsx(u.Button.Button,{variant:"ghost",className:Lt(n,"h-fit w-fit p-0 text-gray-400"),ref:t,"aria-label":l,draggable:i,onDragStart:o,onDragEnd:a,style:s,...c,children:r})}),yL=C.forwardRef((e,t)=>{const{className:n,children:r,onMouseEnter:i,onMouseLeave:o,variant:a,...s}=e;Sn(s);const l=Lr();return g.jsx(l.Tooltip.TooltipProvider,{delayDuration:0,children:g.jsx("div",{className:Lt(n,"bg-popover text-popover-foreground flex h-fit gap-1 rounded-lg border p-1 shadow-md",a==="action-toolbar"?"w-fit":""),ref:t,onMouseEnter:i,onMouseLeave:o,children:r})})}),bL=C.forwardRef((e,t)=>{const{className:n,children:r,mainTooltip:i,secondaryTooltip:o,icon:a,isSelected:s,isDisabled:l,onClick:c,label:u,variant:d,...p}=e;Sn(p,!1);const m=Lr(),v=s===void 0?g.jsxs(m.Button.Button,{className:Lt(n,d==="compact"?"h-6 min-w-6 p-0":""),variant:"ghost",size:d==="compact"?"sm":"default",disabled:l,onClick:c,ref:t,"aria-label":u,...p,children:[a,r]}):g.jsxs(m.Toggle.Toggle,{className:Lt(n,"data-[state=open]:bg-accent data-[state=closed]:text-accent-foreground",d==="compact"?"h-6 min-w-6 p-0":""),size:d==="compact"?"sm":"default","aria-label":u,onClick:c,pressed:s,disabled:l,"data-state":s?"on":"off","data-disabled":l,ref:t,...p,children:[a,r]});return g.jsxs(m.Tooltip.Tooltip,{children:[g.jsx(m.Tooltip.TooltipTrigger,{asChild:!0,children:v}),g.jsxs(m.Tooltip.TooltipContent,{className:"flex flex-col items-center whitespace-pre-wrap",children:[g.jsx("span",{children:i}),o&&g.jsx("span",{children:o})]})]})}),vL=C.forwardRef((e,t)=>{const{className:n,items:r,isDisabled:i,...o}=e;Sn(o);const a=Lr(),s=c=>g.jsxs("div",{className:"flex items-center gap-1",children:[c.icon,c.text]}),l=r.filter(c=>c.isSelected)[0];return l?g.jsxs(a.Select.Select,{value:l.text,onValueChange:c=>{var u,d;return(d=(u=r.find(p=>p.text===c)).onClick)==null?void 0:d.call(u)},disabled:i,children:[g.jsx(a.Select.SelectTrigger,{className:"border-none",children:g.jsx(a.Select.SelectValue,{})}),g.jsx(a.Select.SelectContent,{className:n,ref:t,children:r.map(c=>g.jsx(a.Select.SelectItem,{disabled:c.isDisabled,value:c.text,children:g.jsx(s,{...c})},c.text))})]}):null}),wot=C.forwardRef((e,t)=>{const{className:n,children:r,selected:i,headerText:o,onFocus:a,onBlur:s,tabIndex:l,...c}=e;Sn(c);const u=Lr();return g.jsxs(u.Card.Card,{className:Lt(n,"w-[300px]",i?"bg-accent text-accent-foreground":""),onFocus:a,onBlur:s,tabIndex:l,ref:t,children:[o&&g.jsx("div",{className:"px-4 pt-4 text-sm italic",children:o}),r]})}),Sot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return Sn(i),g.jsx("div",{className:Lt(n,"p-4",n!=null&&n.includes("thread-comments")?"flex flex-col gap-6 border-b":""),ref:t,children:r})}),Eot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;Sn(i,!1);const o=Lr();return g.jsx(o.Button.Button,{className:Lt(n,"text-foreground w-fit bg-transparent p-0 hover:bg-transparent"),ref:t,children:r})}),Cot=C.forwardRef((e,t)=>{const{authorInfo:n,timeString:r,edited:i,...o}=e,a=gn();Sn(o,!1);const s=Lr();return n==="loading"?g.jsxs("div",{className:"flex flex-row flex-nowrap items-center gap-4",children:[g.jsx(s.Skeleton.Skeleton,{className:"size-7 animate-pulse rounded-full bg-neutral-400"}),g.jsx(s.Skeleton.Skeleton,{className:"h-3 w-32 animate-pulse rounded-full bg-neutral-400"})]}):g.jsxs("div",{className:"flex flex-row flex-nowrap items-center gap-4",children:[g.jsxs(s.Avatar.Avatar,{children:[g.jsx(s.Avatar.AvatarImage,{src:n.avatarUrl,alt:n.username,className:"h-7 rounded-full"}),g.jsx(s.Avatar.AvatarFallback,{children:n.username[0]})]}),g.jsxs("div",{className:"flex flex-row flex-nowrap items-center gap-2",children:[g.jsx("span",{className:"text-sm font-bold",children:n.username}),g.jsxs("span",{className:"text-xs",children:[r," ",i&&`(${a.comments.edited})`]})]})]})}),Tot=C.forwardRef((e,t)=>{const{className:n,showActions:r,authorInfo:i,timeString:o,actions:a,edited:s,emojiPickerOpen:l,children:c,...u}=e;Sn(u);const[d,p]=C.useState(!1),{focused:m,ref:v}=det(),x=a&&(r===!0||r===void 0||r==="hover"&&d||m);return g.jsxs("div",{ref:t,className:Lt(n,"relative flex flex-col gap-2"),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[x?g.jsx("div",{className:"absolute right-0 top-0 z-10",ref:v,children:a}):null,g.jsx(Cot,{...e}),c]})}),kot=C.forwardRef((e,t)=>{const{className:n,onFocus:r,onBlur:i,autoFocus:o,editor:a,editable:s,...l}=e;Sn(l);const c=Ud();return g.jsx(Bge,{autoFocus:o,className:Lt(n,""),theme:c?.colorSchemePreference,editor:e.editor,sideMenu:!1,slashMenu:!1,tableHandles:!1,filePanel:!1,formattingToolbar:!1,editable:s,ref:t,onFocus:r,onBlur:i,children:g.jsx(epe,{formattingToolbar:_ot})})}),_ot=()=>{const e=Qhe([]).filter(t=>t.key!=="nestBlockButton"&&t.key!=="unnestBlockButton");return g.jsx(Jhe,{blockTypeSelectItems:[],children:e})},Aot=C.forwardRef((e,t)=>{const{className:n,text:r,icon:i,isSelected:o,mainTooltip:a,secondaryTooltip:s,onClick:l,onMouseEnter:c,...u}=e;Sn(u,!1);const d=Lr(),p=g.jsxs(d.Button.Button,{variant:o?"secondary":"outline",className:Lt(n,"flex h-7 items-center gap-1 rounded-full px-2.5"),onClick:l,onMouseEnter:c,ref:t,children:[g.jsx("span",{children:i}),g.jsx("span",{children:r})]});return a?g.jsxs(d.Tooltip.Tooltip,{children:[g.jsx(d.Tooltip.TooltipTrigger,{asChild:!0,children:p}),g.jsxs(d.Tooltip.TooltipContent,{className:"flex flex-col items-center whitespace-pre-wrap",children:[g.jsx("span",{children:a}),s&&g.jsx("span",{children:s})]})]}):p}),Not=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;Sn(i);const o=Lr();return g.jsx(o.Tooltip.TooltipProvider,{delayDuration:0,children:g.jsx("div",{className:Lt(n,"flex w-full flex-row flex-wrap gap-1"),ref:t,children:r})})}),Oot=C.forwardRef((e,t)=>{const{className:n,children:r,onClick:i,label:o,...a}=e;Sn(a);const s=Lr();return g.jsx(s.Button.Button,{type:"submit",className:n,"aria-label":o,ref:t,onClick:i,children:r})}),Mot=C.forwardRef((e,t)=>{const{className:n,accept:r,value:i,placeholder:o,onChange:a,...s}=e;Sn(s);const l=Lr();return g.jsx(l.Input.Input,{type:"file",className:n,ref:t,accept:r,value:i?i.name:void 0,onChange:async c=>a?.(c.target.files[0]),placeholder:o})}),Dot=C.forwardRef((e,t)=>{const{className:n,isSelected:r,onClick:i,item:o,id:a,...s}=e;Sn(s);const l=C.useRef(null);return C.useEffect(()=>{if(!l.current||!r)return;const c=l7(l.current,document.querySelector(".bn-grid-suggestion-menu"));c==="top"?l.current.scrollIntoView(!0):c==="bottom"&&l.current.scrollIntoView(!1)},[r]),g.jsx("div",{className:Lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","text-lg!",n),ref:fR([t,l]),id:a,role:"option",onClick:i,"aria-selected":r||void 0,children:o.icon})}),Rot=C.forwardRef((e,t)=>{const{className:n,children:r,columns:i,...o}=e;return Sn(o),g.jsx("div",{className:n,style:{gridColumn:`1 / ${i+1}`},ref:t,children:r})}),Iot={FormattingToolbar:{Root:yL,Button:bL,Select:vL},FilePanel:{Root:iot,Button:Oot,FileInput:Mot,TabPanel:oot,TextInput:aot},LinkToolbar:{Root:yL,Button:bL,Select:vL},SideMenu:{Root:uot,Button:dot},SuggestionMenu:{Root:pot,Item:got,EmptyItem:mot,Label:yot,Loader:bot},GridSuggestionMenu:{Root:fot,Item:Dot,EmptyItem:hot,Loader:Rot},TableHandle:{Root:xot,ExtendButton:vot},Comments:{Comment:Tot,Editor:kot,Card:wot,CardSection:Sot,ExpandSectionsPrompt:Eot},Generic:{Badge:{Root:Aot,Group:Not},Toolbar:{Root:yL,Button:bL,Select:vL},Form:{Root:Git,TextInput:Kit},Menu:{Root:Zit,Trigger:Qit,Dropdown:Jit,Divider:tot,Label:not,Item:eot,Button:rot},Popover:{Root:sot,Trigger:lot,Content:cot}}},Bge=e=>{const{className:t,shadCNComponents:n,...r}=e,i=C.useMemo(()=>({...Yit,...n}),[n]);return g.jsx(jge.Provider,{value:i,children:g.jsx(Lhe.Provider,{value:Iot,children:g.jsx(aet,{className:bi("bn-shadcn",t||""),...r})})})};var Pot=Object.defineProperty,Lot=(e,t,n)=>t in e?Pot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ja=(e,t,n)=>Lot(e,typeof t!="symbol"?t+"":t,n);const jot={slash_menu:{two_columns:{title:"",subtext:"   ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"    ",aliases:["","",""],group:" "}}},Bot={slash_menu:{two_columns:{title:"Zwei Spalten",subtext:"Zwei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blcke"},three_columns:{title:"Drei Spalten",subtext:"Drei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blcke"}}},$ot={slash_menu:{two_columns:{title:"Two Columns",subtext:"Two columns side by side",aliases:["columns","row","split"],group:"Basic blocks"},three_columns:{title:"Three Columns",subtext:"Three columns side by side",aliases:["columns","row","split"],group:"Basic blocks"}}},Hot={slash_menu:{two_columns:{title:"Dos Columnas",subtext:"Dos columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques bsicos"},three_columns:{title:"Tres Columnas",subtext:"Tres columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques bsicos"}}},Fot={slash_menu:{two_columns:{title:"Deux Colonnes",subtext:"Deux colonnes cte  cte",aliases:["colonnes","range","partager"],group:"Blocs de base"},three_columns:{title:"Trois Colonnes",subtext:"Trois colonnes cte  cte",aliases:["colonnes","range","partager"],group:"Blocs de base"}}},Uot={slash_menu:{two_columns:{title:"Dva Stupca",subtext:"Dva stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"},three_columns:{title:"Tri Stupca",subtext:"Tri stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"}}},zot={slash_menu:{two_columns:{title:"Tvr Dlkar",subtext:"Tvr dlkar hli vi hli",aliases:["dlkar","r","skipta"],group:"Grunnblokkar"},three_columns:{title:"rr Dlkar",subtext:"rr dlkar hli vi hli",aliases:["dlkar","r","skipta"],group:"Grunnblokkar"}}},Vot={slash_menu:{two_columns:{title:"",subtext:"",aliases:["","",""],group:""},three_columns:{title:"",subtext:"",aliases:["","",""],group:""}}},qot={slash_menu:{two_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "}}},Wot={slash_menu:{two_columns:{title:"Twee Kolommen",subtext:"Twee kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"},three_columns:{title:"Drie Kolommen",subtext:"Drie kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"}}},Yot={slash_menu:{two_columns:{title:"Dwie Kolumny",subtext:"Dwie kolumny obok siebie",aliases:["kolumny","rzd","podzieli"],group:"Podstawowe bloki"},three_columns:{title:"Trzy Kolumny",subtext:"Trzy kolumny obok siebie",aliases:["kolumny","rzd","podzieli"],group:"Podstawowe bloki"}}},Got={slash_menu:{two_columns:{title:"Duas Colunas",subtext:"Duas colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos bsicos"},three_columns:{title:"Trs Colunas",subtext:"Trs colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos bsicos"}}},Kot={slash_menu:{two_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "}}},Xot={slash_menu:{two_columns:{title:"Hai Ct",subtext:"Hai ct cnh nhau",aliases:["ct","hng","chia"],group:"Khi c bn"},three_columns:{title:"Ba Ct",subtext:"Ba ct cnh nhau",aliases:["ct","hng","chia"],group:"Khi c bn"}}},Zot={slash_menu:{two_columns:{title:"",subtext:"",aliases:["","",""],group:""},three_columns:{title:"",subtext:"",aliases:["","",""],group:""}}},Qot=Object.freeze(Object.defineProperty({__proto__:null,ar:jot,de:Bot,en:$ot,es:Hot,fr:Fot,hr:Uot,is:zot,ja:Vot,ko:qot,nl:Wot,pl:Yot,pt:Got,ru:Kot,vi:Xot,zh:Zot},Symbol.toStringTag,{value:"Module"}));function BK(e){if(!e.dictionary.multi_column)throw new Error("Multi-column dictionary not found");return e.dictionary.multi_column}const jp=new wn("ColumnResizePlugin");let Jot=class{constructor(t,n){Ja(this,"editor"),Ja(this,"view"),Ja(this,"RESIZE_MARGIN_WIDTH_PX",20),Ja(this,"COLUMN_MIN_WIDTH_PERCENT",.5),Ja(this,"getColumnHoverOrDefaultState",r=>{if(!this.editor.isEditable)return{type:"default"};const i=r.target;if(!this.view.dom.contains(i))return{type:"default"};const o=i.closest(".bn-block-column");if(!o)return{type:"default"};const a=r.clientX,s=o.getBoundingClientRect(),l=a<s.left+this.RESIZE_MARGIN_WIDTH_PX?"left":a>s.right-this.RESIZE_MARGIN_WIDTH_PX?"right":"none",c=l==="left"?o.previousElementSibling:l==="right"?o.nextElementSibling:void 0;if(!c)return{type:"default"};const u=l==="left"?c:o,d=l==="left"?o:c,p=u.getAttribute("data-id"),m=d.getAttribute("data-id"),v=ls(p,this.view.state.doc),x=ls(m,this.view.state.doc);if(!v||!x||!v.posBeforeNode)throw new Error("Column not found");return{type:"hover",leftColumn:{element:u,id:p,...v},rightColumn:{element:d,id:m,...x}}}),Ja(this,"mouseDownHandler",r=>{let i=this.getColumnHoverOrDefaultState(r);if(i.type==="default")return;r.preventDefault();const o=r.clientX,a=i.leftColumn.element.getBoundingClientRect().width,s=i.rightColumn.element.getBoundingClientRect().width,l=i.leftColumn.node.attrs.width,c=i.rightColumn.node.attrs.width;i={type:"resize",startPos:o,leftColumn:{...i.leftColumn,widthPx:a,widthPercent:l},rightColumn:{...i.rightColumn,widthPx:s,widthPercent:c}},this.view.dispatch(this.view.state.tr.setMeta(jp,i)),this.editor.sideMenu.freezeMenu()}),Ja(this,"mouseMoveHandler",r=>{var i,o;const a=jp.getState(this.view.state);if(!a)return;if(a.type!=="resize"){const d=this.getColumnHoverOrDefaultState(r),p=a.type==="default"&&d.type==="default",m=a.type!=="default"&&d.type!=="default"&&a.leftColumn.id===d.leftColumn.id&&a.rightColumn.id===d.rightColumn.id;if(p||m||d.type==="hover"&&(o=(i=this.editor.sideMenu.view)==null?void 0:i.state)!=null&&o.show)return;this.view.dispatch(this.view.state.tr.setMeta(jp,d));return}const s=(r.clientX-a.startPos)*a.leftColumn.widthPercent,l=(a.leftColumn.widthPx+s)/a.leftColumn.widthPx-1;let c=a.leftColumn.widthPercent+l,u=a.rightColumn.widthPercent-l;c<this.COLUMN_MIN_WIDTH_PERCENT?(u-=this.COLUMN_MIN_WIDTH_PERCENT-c,c=this.COLUMN_MIN_WIDTH_PERCENT):u<this.COLUMN_MIN_WIDTH_PERCENT&&(c-=this.COLUMN_MIN_WIDTH_PERCENT-u,u=this.COLUMN_MIN_WIDTH_PERCENT),this.view.dispatch(this.view.state.tr.setNodeAttribute(a.leftColumn.posBeforeNode,"width",c).setNodeAttribute(a.rightColumn.posBeforeNode,"width",u).setMeta("addToHistory",!1))}),Ja(this,"mouseUpHandler",r=>{const i=jp.getState(this.view.state);if(!i||i.type!=="resize")return;const o=this.getColumnHoverOrDefaultState(r);this.view.dispatch(this.view.state.tr.setMeta(jp,o)),this.editor.sideMenu.unfreezeMenu()}),this.editor=t,this.view=n,this.view.dom.addEventListener("mousedown",this.mouseDownHandler),document.body.addEventListener("mousemove",this.mouseMoveHandler),document.body.addEventListener("mouseup",this.mouseUpHandler)}destroy(){this.view.dom.removeEventListener("mousedown",this.mouseDownHandler),document.body.removeEventListener("mousemove",this.mouseMoveHandler),document.body.removeEventListener("mouseup",this.mouseUpHandler)}};const eat=e=>new on({key:jp,props:{decorations:t=>{const n=jp.getState(t);return!n||n.type==="default"?mn.empty:mn.create(t.doc,[ir.node(n.leftColumn.posBeforeNode,n.leftColumn.posBeforeNode+n.leftColumn.node.nodeSize,{style:"box-shadow: 4px 0 0 #ccc; cursor: col-resize"}),ir.node(n.rightColumn.posBeforeNode,n.rightColumn.posBeforeNode+n.rightColumn.node.nodeSize,{style:"cursor: col-resize"})])}},state:{init:()=>({type:"default"}),apply:(t,n)=>{const r=t.getMeta(jp);return r===void 0?n:r}},view:t=>new Jot(e,t)}),tat=e=>ur.create({name:"columnResize",addProseMirrorPlugins(){return[eat(e)]}}),nat=zs.create({name:"column",group:"bnBlock childContainer",content:"blockContainer+",priority:40,defining:!0,marks:"deletion insertion modification",addAttributes(){return{width:{default:1,parseHTML:e=>{const t=e.getAttribute("data-width");if(t===null)return null;const n=parseFloat(t);return isFinite(n)?n:null},renderHTML:e=>({"data-width":e.width.toString(),style:`flex-grow: ${e.width};`})}}},parseHTML(){return[{tag:"div",getAttrs:e=>typeof e=="string"?!1:e.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:e}){const t=document.createElement("div");t.className="bn-block-column",t.setAttribute("data-node-type",this.name);for(const[n,r]of Object.entries(e))t.setAttribute(n,r);return{dom:t,contentDOM:t}},addExtensions(){return[tat(this.options.editor)]}}),rat=zs.create({name:"columnList",group:"childContainer bnBlock blockGroupChild",content:"column column+",priority:40,defining:!0,marks:"deletion insertion modification",parseHTML(){return[{tag:"div",getAttrs:e=>typeof e=="string"?!1:e.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:e}){const t=document.createElement("div");t.className="bn-block-column-list",t.setAttribute("data-node-type",this.name);for(const[n,r]of Object.entries(e))t.setAttribute(n,r);return t.style.display="flex",{dom:t,contentDOM:t}}}),$ge=H9({node:nat,type:"column",content:"none"},{width:{default:1}}),Hge=H9({node:rat,type:"columnList",content:"none"},{}),$K=zD.create({blockSpecs:{column:$ge,columnList:Hge}}),iat=e=>e.extend({blockSpecs:{column:$ge,columnList:Hge}}),WO=.1;function oat(e){return{left:e.clientX,top:e.clientY}}function aat(e){const t=e.editor;return new on({view(n){return new sat(n,e)},props:{handleDrop(n,r,i,o){const a=n.posAtCoords(oat(r));if(!a)throw new Error("Could not get event position");const s=Fge(n.state,a),l=th(s),c=n.nodeDOM(s.posBeforeNode).getBoundingClientRect();let u="regular";if(r.clientX<=c.left+c.width*WO&&(u="left"),r.clientX>=c.right-c.width*WO&&(u="right"),u==="regular")return!1;const d=ni(i.content.child(0),t.pmSchema);if(l.blockNoteType==="column"){const p=n.state.doc.resolve(l.bnBlock.beforePos).node(),m=ni(p,t.pmSchema);let v=0;m.children.forEach(k=>{v+=k.props.width});const x=v/m.children.length;if(x<.99||x>1.01){const k=1/x;m.children.forEach(N=>{N.props.width=N.props.width*k})}const w=m.children.findIndex(k=>k.id===l.bnBlock.node.attrs.id),T=m.children.map(k=>({...k,children:k.children.filter(N=>N.id!==d.id)})).filter(k=>k.children.length>0).toSpliced(u==="left"?w:w+1,0,{type:"column",children:[d],props:{},content:void 0,id:BT.options.generateID()});t.getBlock(d.id)&&t.removeBlocks([d]),t.updateBlock(m,{children:T})}else{const p=ni(l.bnBlock.node,t.pmSchema);if(p.id===d.id)return;const m=u==="left"?[d,p]:[p,d];t.getBlock(d.id)&&t.removeBlocks([d]),t.replaceBlocks([p],[{type:"columnList",children:m.map(v=>({type:"column",children:[v]}))}])}return!0}}})}let sat=class{constructor(t,n){Ja(this,"width"),Ja(this,"color"),Ja(this,"class"),Ja(this,"cursorPos"),Ja(this,"element",null),Ja(this,"timeout"),Ja(this,"handlers"),this.editorView=t,this.width=n.width??1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{const i=o=>{this[r](o)};return t.dom.addEventListener(r,i,r==="drop"?!0:void 0),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n,t==="drop"?!0:void 0))}update(t,n){this.cursorPos!=null&&n.doc!==t.state.doc&&(this.cursorPos.pos>t.state.doc.content.size?this.setCursor(void 0):this.updateOverlay())}setCursor(t){var n,r;t===this.cursorPos||t?.pos===((n=this.cursorPos)==null?void 0:n.pos)&&t?.position===((r=this.cursorPos)==null?void 0:r.position)||(this.cursorPos=t,t?this.updateOverlay():(this.element.parentNode.removeChild(this.element),this.element=null))}updateOverlay(){if(!this.cursorPos)throw new Error("updateOverlay called with no cursor position");const t=this.editorView.state.doc.resolve(this.cursorPos.pos),n=!t.parent.inlineContent;let r;const i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(n){const d=t.nodeBefore,p=t.nodeAfter;if(d||p)if(this.cursorPos.position==="left"||this.cursorPos.position==="right"){const m=this.editorView.nodeDOM(this.cursorPos.pos);if(!m)throw new Error("nodeDOM returned null in updateOverlay");const v=m.getBoundingClientRect(),x=this.width/2*s,w=this.cursorPos.position==="left"?v.left:v.right;r={left:w-x,right:w+x,top:v.top,bottom:v.bottom}}else{const m=this.editorView.nodeDOM(this.cursorPos.pos-(d?d.nodeSize:0));if(m){const v=m.getBoundingClientRect();let x=d?v.bottom:v.top;d&&p&&(x=(x+this.editorView.nodeDOM(this.cursorPos.pos).getBoundingClientRect().top)/2);const w=this.width/2*s;this.cursorPos.position==="regular"&&(r={left:v.left,right:v.right,top:x-w,bottom:x+w})}}}if(!r){const d=this.editorView.coordsAtPos(this.cursorPos.pos),p=this.width/2*a;r={left:d.left-p,right:d.left+p,top:d.top,bottom:d.bottom}}const l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-vertical",this.cursorPos.position!=="regular"),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l===document.body&&getComputedStyle(l).position==="static")c=-window.scrollX,u=-window.scrollY;else{const d=l.getBoundingClientRect(),p=d.width/l.offsetWidth,m=d.height/l.offsetHeight;c=d.left-l.scrollLeft*p,u=d.top-l.scrollTop*m}this.element.style.left=(r.left-c)/a+"px",this.element.style.top=(r.top-u)/s+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(void 0),t)}dragover(t){if(!this.editorView.editable)return;const n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let a="regular",s=n.pos;const l=Fge(this.editorView.state,n),c=this.editorView.nodeDOM(l.posBeforeNode).getBoundingClientRect();if(t.clientX<=c.left+c.width*WO&&(a="left",s=l.posBeforeNode),t.clientX>=c.right-c.width*WO&&(a="right",s=l.posBeforeNode),a==="regular"&&this.editorView.dragging&&this.editorView.dragging.slice){const u=t9(this.editorView.state.doc,s,this.editorView.dragging.slice);u!=null&&(s=u)}this.setCursor({pos:s,position:a}),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.setCursor(void 0)}dragleave(t){(t.target===this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(void 0)}};function Fge(e,t){const n=eh(e.doc,t.pos);let r=e.doc.resolve(n.posBeforeNode);return r.parent.type.name==="column"&&(r=e.doc.resolve(r.before())),{posBeforeNode:r.pos,node:r.nodeAfter}}var lat={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0};F.createContext;function cat(e){return"column"in e.schema.blockSchema&&e.schema.blockSchema.columnList===$K.blockSchema.columnList&&"column"in e.schema.blockSchema&&e.schema.blockSchema.column===$K.blockSchema.column}const uat=e=>{const t=zt(),n=gn(),r=Xt(),i=C.useCallback(()=>{const o=e.block.content;if(o!==void 0&&Array.isArray(o)&&o.length===0)r.setTextCursorPosition(e.block),r.openSuggestionMenu("/");else{const s=r.insertBlocks([{type:"paragraph"}],e.block,"after")[0];r.setTextCursorPosition(s),r.openSuggestionMenu("/")}},[r,e.block]);return g.jsx(t.SideMenu.Button,{className:"bn-button cursor-pointer",label:n.side_menu.add_block_label,icon:g.jsx(OH,{className:"size-5 text-secondary-foreground",onClick:i,"data-test":"dragHandleAdd"})})},dat=wme,fat=Sme,hat=C.forwardRef(({className:e,inset:t,children:n,...r},i)=>g.jsxs(M7,{ref:i,className:Ie("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,g.jsx(_H,{className:"ml-auto"})]}));hat.displayName=M7.displayName;const pat=C.forwardRef(({className:e,...t},n)=>g.jsx(D7,{ref:n,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));pat.displayName=D7.displayName;const Uge=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>g.jsx(Qnt,{children:g.jsx(T7,{ref:r,sideOffset:t,className:Ie("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Uge.displayName=T7.displayName;const j8=C.forwardRef(({className:e,inset:t,...n},r)=>g.jsx(_7,{ref:r,className:Ie("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));j8.displayName=_7.displayName;const mat=C.forwardRef(({className:e,children:t,checked:n,...r},i)=>g.jsxs(A7,{ref:i,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(N7,{children:g.jsx(N0,{className:"h-4 w-4"})})}),t]}));mat.displayName=A7.displayName;const gat=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(Eme,{ref:r,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(N7,{children:g.jsx(Oie,{className:"h-2 w-2 fill-current"})})}),t]}));gat.displayName=Eme.displayName;const zge=C.forwardRef(({className:e,inset:t,...n},r)=>g.jsx(k7,{ref:r,className:Ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));zge.displayName=k7.displayName;const Vge=C.forwardRef(({className:e,...t},n)=>g.jsx(O7,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));Vge.displayName=O7.displayName;const yat=e=>{const t=gn(),n=e.block.type,r=e.openBlockSettings??(()=>{}),i=Xt();return g.jsxs(dat,{modal:!1,onOpenChange:o=>{o?e.freezeMenu():e.unfreezeMenu()},children:[g.jsx(fat,{asChild:!0,children:g.jsx(yi,{"aria-label":t.side_menu.drag_handle_label,draggable:!0,onDragStart:o=>e.blockDragStart(o,e.block),onDragEnd:e.blockDragEnd,className:"bn-button cursor-grab bn-menu-dropdown bn-drag-handle-menu",variant:"ghost",onPointerDown:o=>{o.nativeEvent.fakeEvent||(o.ctrlKey=!0)},onPointerUp:o=>{const a=new PointerEvent("pointerdown",o.nativeEvent);a.fakeEvent=!0,o.target.dispatchEvent(a)},children:g.jsx(fke,{className:"size-5 text-secondary-foreground","data-test":"dragHandle"})})}),g.jsxs(Uge,{className:"bn-menu-dropdown bn-drag-handle-menu min-w-64",children:[g.jsx(zge,{className:"text-secondary-foreground text-xs",children:"Actions"}),r&&(n==="flow"||n==="flowHistory"||n==="flowStatus"||n==="heatmap"||n==="metric"||n==="metricHistory"||n==="metricTable"||n==="metricRatio")&&g.jsx(j8,{className:"bn-menu-item py-1",onClick:()=>{r(e.block.id)},children:g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer"),children:[g.jsx("div",{className:"p-1","data-position":"left",children:g.jsx(a2e,{className:"size-4.5"})}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:"font-medium text-sm",children:"Settings"})})]})}),g.jsx(npe,{...e,children:g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer"),children:[g.jsx("div",{className:"p-1","data-position":"left",children:g.jsx(Yke,{className:"size-4.5"})}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:"font-medium text-sm",children:"Color"})})]})}),g.jsx(Vge,{}),g.jsx(j8,{className:"bn-menu-item destructive group",onClick:()=>i.removeBlocks([e.block]),children:g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer"),children:[g.jsx("div",{className:"p-1 group-hover:text-red-600 dark:group-hover:text-red-400","data-position":"left",children:g.jsx(C2e,{className:"size-4.5 group-hover:text-red-600 dark:group-hover:text-red-400"})}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:"font-medium text-sm group-hover:text-red-600 dark:group-hover:text-red-400",children:"Delete"})})]})})]})]})},bat=C.forwardRef((e,t)=>{const{className:n,item:r,isSelected:i,onClick:o,id:a,...s}=e;Sn(s);const l=C.useRef(null);C.useEffect(()=>{if(!l.current||!i)return;const u=l7(l.current,document.querySelector(".bn-suggestion-menu, #ai-suggestion-menu"));u==="top"?l.current.scrollIntoView(!0):u==="bottom"&&l.current.scrollIntoView(!1)},[i]);const c=g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer",e.item.size==="small"?"gap-3 py-1":"",n),"data-highlighted":!0,ref:fR([t,l]),id:a,onMouseDown:u=>u.preventDefault(),onClick:o,role:"option","aria-selected":i||void 0,children:[r.icon&&g.jsx("div",{className:Ie("p-1",n),"data-position":"left",children:r.icon}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:Ie("font-medium text-sm",n),children:r.title})}),r.badge&&g.jsx("div",{"data-position":"right",className:"text-xs text-secondary-foreground",children:r.badge})]});return r.subtext?g.jsx(wl,{delayDuration:300,children:g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:c}),g.jsx(Hr,{side:"right",sideOffset:8,children:g.jsx("p",{children:r.subtext})})]})}):c});function vat(e){const t=zt(),n=gn(),{items:r,loadingState:i,selectedIndex:o,onItemClick:a}=e,s=i==="loading-initial"||i==="loading"?g.jsx(t.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader"}):null,l=C.useMemo(()=>{let c;const u=[];for(let d=0;d<r.length;d++){const p=r[d];p.group!==c&&(c=p.group,u.push(g.jsx(t.SuggestionMenu.Label,{className:"bn-suggestion-menu-label text-secondary-foreground text-xs",children:c},c))),u.push(g.jsx(bat,{className:Ie("bn-suggestion-menu-item",p.size==="small"?"bn-suggestion-menu-item-small":""),item:p,id:`bn-suggestion-menu-item-${d}`,isSelected:d===o,onClick:()=>a?.(p)},p.title))}return u},[t,r,a,o]);return g.jsxs(t.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu max-h-96 overflow-y-auto",children:[l,l.length===0&&(e.loadingState==="loading"||e.loadingState==="loaded")&&g.jsx(t.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),s]})}const xat=oy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Zp({className:e,variant:t,...n}){return g.jsx("span",{className:Ie(xat({variant:t}),e),...n})}function Ec({...e}){return g.jsx(Bme,{"data-slot":"popover",...e})}function Cc({...e}){return g.jsx($me,{"data-slot":"popover-trigger",...e})}function Tc({className:e,align:t="center",sideOffset:n=4,...r}){return g.jsx(krt,{children:g.jsx(Hme,{"data-slot":"popover-content",align:t,sideOffset:n,className:Ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function rh({labelKey:e,labelValue:t,readonly:n=!0,availableValues:r,onValueChange:i,onRemove:o}){const[a,s]=F.useState(()=>!n&&!t);return!n&&r&&i?g.jsxs(Ec,{open:a,onOpenChange:l=>{s(l),t&&!l&&i(t)},children:[g.jsx(Cc,{asChild:!0,children:g.jsxs(Zp,{variant:"secondary",className:"gap-1 cursor-pointer hover:bg-secondary/80 transition-all duration-200 border-0 h-6 px-3 text-muted-foreground flex items-center",children:[e,t&&`: ${t}`,o&&g.jsx(MH,{className:"h-3 w-3 cursor-pointer hover:text-destructive mt-[2px]",onClick:l=>{l.stopPropagation(),o()}})]})}),g.jsx(Tc,{className:"w-[200px] p-0",align:"start",children:g.jsxs(rm,{children:[g.jsx(im,{placeholder:"Search values..."}),g.jsxs(om,{className:"max-h-[200px]",children:[g.jsx(am,{children:"No values found."}),g.jsx(sm,{children:r.map(l=>g.jsx(lm,{value:l,onSelect:()=>{s(!1),i(l)},children:l},l))})]})]})})]}):g.jsxs(Zp,{variant:"secondary",className:"h-5 px-2 font-normal h-6 border-0 text-muted-foreground",children:[e,t&&`=${t}`]})}function vy({availableLabels:e,filters:t,onFiltersChange:n}){const[r,i]=C.useState(!1),[o,a]=C.useState(null),s=(d,p)=>{const m=[...t];m[d]={...m[d],value:p},n(m)},l=(d,p)=>{const m=[...t,{label:d,value:p}];n(m),a(null)},c=d=>{const p=t.filter((m,v)=>v!==d);n(p)},u=d=>{a(d),i(!1)};return g.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[t.map((d,p)=>{if(!d)return null;const m=e.find(v=>v.label===d.label);return g.jsx(rh,{labelKey:d.label,labelValue:d.value,readonly:!1,availableValues:m?.values,onValueChange:v=>s(p,v),onRemove:()=>c(p)},`${d.label}-${p}`)}),o&&g.jsx(rh,{labelKey:o,labelValue:"",readonly:!1,availableValues:e.find(d=>d.label===o)?.values,onValueChange:d=>{d?l(o,d):a(null)},onRemove:()=>a(null)},`${o}-draft`),g.jsxs(Ec,{open:r,onOpenChange:i,children:[g.jsx(Cc,{asChild:!0,children:g.jsx(yi,{variant:"ghost",size:"sm",className:"justify-start text-sm text-muted-foreground h-6",children:g.jsx(Ike,{className:"h-4 w-4"})})}),g.jsx(Tc,{className:"w-[200px] p-0",align:"start",children:g.jsxs(rm,{children:[g.jsx(im,{placeholder:"Search labels..."}),g.jsxs(om,{className:"max-h-[300px]",children:[g.jsx(am,{children:"No labels found."}),g.jsx(sm,{heading:"Labels",children:e.map(d=>g.jsx(lm,{value:d.label,onSelect:()=>u(d.label),children:d.label},d.label))})]})]})})]})]})}const qge={success:{label:"Success",Icon:qTe,iconClass:"text-[#5cb660] dark:text-[#5cb660]"},failure:{label:"Failed",Icon:KTe,iconClass:"text-[#e56458] dark:text-[#e56458]"},running:{label:"Running",Icon:jie,iconClass:"text-[#2883df] dark:text-[#2883df]"}};function Wge({status:e,className:t}){const n=qge[e];return g.jsxs(Zp,{variant:"outline",className:Ie("text-muted-foreground px-1.5 gap-1.5 border-0",t),children:[g.jsx(n.Icon,{className:Ie("size-4",n.iconClass)}),n.label]})}function CR({currentPage:e,totalPages:t,onPreviousPage:n,onNextPage:r}){return t<=1?null:g.jsx("div",{className:"flex items-center justify-end py-1 border-b",children:g.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[g.jsx("button",{type:"button",onClick:n,disabled:e===1,className:"px-2 py-1 rounded hover:bg-accent disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Previous"}),g.jsxs("span",{className:"px-2",children:["Page ",e," of ",t]}),g.jsx("button",{type:"button",onClick:r,disabled:e===t,className:"px-2 py-1 rounded hover:bg-accent disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Next"})]})})}function wat({steps:e,events:t,startTime:n,endTime:r}){if(e.length===0)return g.jsx("div",{className:"text-sm text-muted-foreground py-4",children:"No steps recorded for this execution."});const i=n.getTime(),a=(r?r.getTime():Date.now())-i,s=d=>{const p=d.startTime.getTime(),v=(d.endTime?d.endTime.getTime():Date.now())-p,x=(p-i)/a*100,w=v/a*100;return{left:`${x}%`,width:`${w}%`,durationMs:v}},l=d=>d<1e3?`${Math.round(d)}ms`:d<6e4?`${(d/1e3).toFixed(2)}s`:`${(d/6e4).toFixed(2)}m`,c=d=>{switch(d){case"success":return"bg-[#5cb660]";case"failure":return"bg-[#e56458]";case"running":return"bg-[#2883df]";default:return"bg-gray-500"}},u=d=>{const m=(d.eventDt.getTime()-i)/a*100;return Math.max(0,Math.min(100,m))};return g.jsx(wl,{children:g.jsxs("div",{className:"py-4 px-2 space-y-3",children:[e.map((d,p)=>{const m=s(d);return g.jsx("div",{className:"relative",children:g.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[g.jsx("span",{className:"text-sm font-medium w-32 flex-shrink-0 truncate",children:d.name}),g.jsx("div",{className:"flex-1 relative h-6 bg-muted rounded",children:g.jsx("div",{className:Ie("absolute h-full rounded transition-all",c(d.status)),style:{left:m.left,width:m.width}})}),g.jsx("span",{className:"text-xs text-muted-foreground w-16 text-right flex-shrink-0",children:l(m.durationMs)})]})},p)}),t.length>0&&g.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[g.jsx("span",{className:"w-32 flex-shrink-0"}),g.jsxs("div",{className:"flex-1 relative h-6",children:[g.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-muted-foreground/20"}),t.map((d,p)=>{const m=u(d);return g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx("div",{className:`absolute w-2 h-2 rounded-full bg-muted-foreground/80
                                           hover:bg-primary hover:scale-125 cursor-pointer
                                           transition-all -translate-x-1/2 -translate-y-1/2`,style:{left:`${m}%`,top:"50%"}})}),g.jsxs(Hr,{children:[g.jsx("div",{className:"font-medium",children:d.eventName}),g.jsx("div",{className:"text-xs text-muted-foreground",children:d.eventDt.toLocaleTimeString()})]})]},p)})]}),g.jsx("span",{className:"w-16 flex-shrink-0"})]})]})})}function Rv({seconds:e,startTime:t,endTime:n}){if(!e){if(!t||!n)return"-";e=Toe(n,t)}e=Math.round(e);const r=Math.floor(e/60),i=Math.floor(r/60);return i>1?`${i}h ${r%60}m`:i>0?`${i}h ${r%60}m ${e%60}s`:r>0?`${r}m ${e%60}s`:`${e}s`}function YO(e){const n=Toe(new Date,e),r=Math.floor(n/60),i=Math.floor(r/60);if(n<60)return`${n} seconds ago`;if(r<60)return`${r} minutes ago`;if(i<24){const o=r%60;return`${i} hours and ${o} minutes ago`}return Kf(e,"PPp")}const xL=10;function Yge({flowHistory:e,statusFilter:t,visibleColumns:n={labels:!0,start:!0,end:!0,duration:!0,status:!0}}){const[r,i]=C.useState(1),[o,a]=C.useState(new Set),s=C.useMemo(()=>t==="all"?e:e.filter(x=>x.status===t),[e,t]),l=Math.ceil(s.length/xL),c=(r-1)*xL,u=c+xL,d=s.slice(c,u);C.useEffect(()=>{i(1)},[t]);const p=()=>{i(x=>Math.max(1,x-1))},m=()=>{i(x=>Math.min(l,x+1))},v=x=>{a(w=>{const T=new Set(w);return T.has(x)?T.delete(x):T.add(x),T})};return g.jsx(wl,{children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs(sy,{className:"table-fixed",children:[g.jsx(ly,{children:g.jsxs(wa,{children:[g.jsx(oo,{className:"w-8"}),n.labels&&g.jsx(oo,{className:"w-auto",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(_T,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})}),n.start&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(tm,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Start"})]})}),n.end&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(tm,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"End"})]})}),n.duration&&g.jsx(oo,{className:"w-24",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(sD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Duration"})]})}),n.status&&g.jsx(oo,{className:"w-24",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(aD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Status"})]})})]})}),g.jsxs(cy,{children:[d.map((x,w)=>{const T=c+w,k=o.has(T);return g.jsxs(F.Fragment,{children:[g.jsxs(wa,{className:"hover:bg-muted/50",children:[g.jsx(_i,{className:"w-8 cursor-pointer",onClick:()=>v(T),children:k?g.jsx(kT,{className:"size-4 text-muted-foreground"}):g.jsx(_H,{className:"size-4 text-muted-foreground"})}),n.labels&&g.jsx(_i,{children:g.jsx("div",{className:"flex flex-wrap gap-1",onClick:N=>N.stopPropagation(),children:Object.entries(x.labels).map(([N,I])=>g.jsx(rh,{labelKey:N,labelValue:I},N))})}),n.start&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:g.jsxs(Jr,{children:[g.jsx(ei,{className:"cursor-default",children:YO(x.startTime)}),g.jsx(Hr,{children:Kf(x.startTime,"PPpp")})]})}),n.end&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:x.endTime?g.jsxs(Jr,{children:[g.jsx(ei,{className:"cursor-default",children:YO(x.endTime)}),g.jsx(Hr,{children:Kf(x.endTime,"PPpp")})]}):"-"}),n.duration&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:Rv({startTime:x.startTime,endTime:x.endTime})}),n.status&&g.jsx(_i,{children:g.jsx(Wge,{status:x.status})})]},`${T}`),k&&g.jsx(wa,{children:g.jsx(_i,{colSpan:1+(n.labels?1:0)+(n.start?1:0)+(n.end?1:0)+(n.duration?1:0)+(n.status?1:0),className:"bg-muted/30 p-0",children:g.jsx("div",{className:"px-4",children:g.jsx(wat,{steps:x.steps,events:x.events,startTime:x.startTime,endTime:x.endTime})})})},`${T}-expanded`)]},`${T}-fragment`)}),s.length===0&&g.jsx(wa,{children:g.jsx(_i,{colSpan:6,className:"text-center text-secondary-foreground text-sm py-6",children:"No execution history found for the selected filter."})})]})]}),g.jsx(CR,{currentPage:r,totalPages:l,onPreviousPage:p,onNextPage:m})]})})}function Sat({failedCount:e,successCount:t,pendingCount:n,runCount:r,statusFilter:i,onStatusFilterChange:o}){return g.jsxs(g.Fragment,{children:[g.jsxs("button",{type:"button","data-active":i==="all",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("all"),children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"All"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:r.toLocaleString()})]}),g.jsxs("button",{type:"button","data-active":i==="success",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("success"),children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#5cb660]"}),"Success"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:t.toLocaleString()})]}),g.jsxs("button",{type:"button","data-active":i==="failure",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("failure"),children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#e56458]"}),"Failed"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:e.toLocaleString()})]}),g.jsxs("button",{type:"button","data-active":i==="running",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("running"),children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#2883df]"}),"Running"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:n.toLocaleString()})]})]})}function Eat(){return g.jsx(g.Fragment,{children:[...Array(4)].map((e,t)=>g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:g.jsx(Cd,{className:"h-3 w-16"})}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:g.jsx(Cd,{className:"h-8 w-20"})})]},t))})}const Mm=xT,Cat=wT,Gge=C.forwardRef(({className:e,...t},n)=>g.jsx(G1,{className:Ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Gge.displayName=G1.displayName;const Tat=oy("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ph=C.forwardRef(({side:e="right",className:t,children:n,...r},i)=>g.jsxs(Cat,{children:[g.jsx(Gge,{}),g.jsx(K1,{ref:i,className:Ie(Tat({side:e}),t),...r,children:n})]}));ph.displayName=K1.displayName;const mh=({className:e,...t})=>g.jsx("div",{className:Ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});mh.displayName="SheetHeader";const gh=C.forwardRef(({className:e,...t},n)=>g.jsx(ST,{ref:n,className:Ie("text-lg font-semibold text-foreground",e),...t}));gh.displayName=ST.displayName;const Kge=C.forwardRef(({className:e,...t},n)=>g.jsx(ET,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));Kge.displayName=ET.displayName;const TR=TT()(rD((e,t)=>({currentTenant:null,setCurrentTenant:n=>{e({currentTenant:n})}}),{name:"tenant"}));function V7({notebookId:e,flowName:t,open:n,startDate:r,endDate:i,labels:o,onOpenChange:a}){const s=TR(k=>k.currentTenant),[l,c]=C.useState(null),[u,d]=C.useState(!0),[p,m]=C.useState("all");C.useEffect(()=>{if(!s||!n)return;const k=async()=>{d(!0);try{const I=await ay.getFlowHistory(s,t,r,i,Object.entries(o).map(([O,A])=>({label:O,value:A})),e);c(I)}catch(I){console.error("Failed to fetch flow history:",I),c([])}finally{d(!1)}};m("all"),k()},[s,t,o,r,i,n,e]);const v=C.useMemo(()=>l?.filter(k=>k.status==="failure").length||0,[l]),x=C.useMemo(()=>l?.filter(k=>k.status==="success").length||0,[l]),w=C.useMemo(()=>l?.filter(k=>k.status==="running").length||0,[l]),T=C.useMemo(()=>l?.length||0,[l]);return g.jsx(Mm,{open:n,onOpenChange:a,children:g.jsxs(ph,{side:"right",className:"w-full sm:max-w-5xl p-0 flex flex-col",children:[g.jsx(mh,{className:"flex-shrink-0",children:g.jsxs(Td,{className:"flex flex-col items-stretch border-b !p-0 sm:flex-row",children:[g.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-1 px-6 pt-4 pb-3 sm:py-6",children:[g.jsx(gh,{className:"text-2xl",children:t}),g.jsx(Kge,{children:"Flow execution history and details"})]}),g.jsx("div",{className:"flex",children:u&&l===null?g.jsx(Eat,{}):t&&g.jsx(Sat,{failedCount:v,successCount:x,pendingCount:w,runCount:T,statusFilter:p,onStatusFilterChange:m})})]})}),g.jsx("div",{className:"flex-1 flex flex-col px-6 py-6 overflow-hidden",children:g.jsx("div",{className:"flex flex-col h-full gap-2",children:g.jsx("div",{className:"flex-1 overflow-y-auto",children:u&&l===null?g.jsx(rx,{columns:6,rows:10}):g.jsx(Yge,{flowHistory:l||[],statusFilter:p})})})})]})})}const wL=14;function kat({notebookId:e,tenant:t,startDate:n,endDate:r,filters:i,visibleColumns:o={name:!0,labels:!0,lastStatus:!0,lastStart:!0,lastEnd:!0,lastDuration:!0,runCounts:!0}}){const[a,s]=C.useState(null),[l,c]=C.useState(!0),[u,d]=C.useState(1),[p,m]=C.useState(null),[v,x]=C.useState(!1);C.useEffect(()=>{t&&(async()=>{c(!0);try{const L=await ay.getByTenant(t,n,r,i,e);s(L)}finally{c(!1)}})()},[t,n,r,i,e]);const w=R=>{m(R),x(!0)},T=Math.ceil((a?.length||0)/wL),k=(u-1)*wL,N=k+wL,I=a?.slice(k,N)||[],O=()=>{d(R=>Math.max(1,R-1))},A=()=>{d(R=>Math.min(T,R+1))};return l&&a===null?g.jsx(rx,{columns:6,rows:5}):g.jsxs(g.Fragment,{children:[g.jsxs(sy,{className:"table-fixed",children:[g.jsx(ly,{children:g.jsxs(wa,{children:[o.name&&g.jsx(oo,{className:"w-48",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(kH,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Name"})]})}),o.labels&&g.jsx(oo,{className:"w-auto",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(_T,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})}),o.lastStatus&&g.jsx(oo,{className:"w-24",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(aD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last Status"})]})}),o.lastStart&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(tm,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last Start"})]})}),o.lastEnd&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(tm,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last End"})]})}),o.lastDuration&&g.jsx(oo,{className:"w-28",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(sD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last Duration"})]})}),o.runCounts&&g.jsx(oo,{className:"w-28",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Iie,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Run Counts"})]})})]})}),g.jsxs(cy,{children:[I.map((R,L)=>g.jsxs(wa,{className:"group",children:[o.name&&g.jsx(_i,{className:"group-hover:opacity-100 transition-opacity",children:g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("span",{className:"font-medium",children:R.name}),g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsxs("div",{className:"absolute -right-3 -top-2 px-2 py-1.5 rounded-b-lg border border-t-0 bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1 opacity-0 shadow-xs ",onClick:()=>w(R),children:[g.jsx(Aie,{className:"size-4 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground ",children:"Details"})]})}),g.jsx(Hr,{children:g.jsx("p",{children:"View flow details"})})]})]})}),o.labels&&g.jsx(_i,{children:g.jsx("div",{className:"flex gap-1",onClick:B=>B.stopPropagation(),children:Object.entries(R.labels).map(([B,$])=>g.jsx("div",{className:"cursor-pointer",children:g.jsx(rh,{labelKey:B,labelValue:$,readonly:!0})},B))})}),o.lastStatus&&g.jsx(_i,{children:g.jsx(Wge,{status:R.lastRunStatus})}),o.lastStart&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:g.jsxs(Jr,{children:[g.jsx(ei,{className:"cursor-default",children:YO(R.lastRunStartedAt)}),g.jsx(Hr,{children:Kf(R.lastRunStartedAt,"PPpp")})]})}),o.lastEnd&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:R.lastRunEndedAt?g.jsxs(Jr,{children:[g.jsx(ei,{className:"cursor-default",children:YO(R.lastRunEndedAt)}),g.jsx(Hr,{children:Kf(R.lastRunEndedAt,"PPpp")})]}):"-"}),o.lastDuration&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:Rv({startTime:R.lastRunStartedAt,endTime:R.lastRunEndedAt})}),o.runCounts&&g.jsx(_i,{children:g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx(Zp,{variant:"outline",className:"border-0 bg-[#dbe6dd] text-green-700 h-6 px-2 text-xs font-medium",children:R.successCount}),g.jsx(Zp,{variant:"outline",className:"border-0 bg-[#d2e4f8] text-blue-700 h-6 px-2 text-xs font-medium",children:R.pendingCount}),g.jsx(Zp,{variant:"outline",className:"border-0 bg-[#f9dcd9] text-red-700 h-6 px-2 text-xs font-medium",children:R.failedCount})]})})]},`${R.name}-${L}`)),a?.length===0&&g.jsx(wa,{children:g.jsx(_i,{colSpan:Object.keys(o).length,className:"text-center text-secondary-foreground text-sm py-6",children:"No flows found for the selected time window."})})]})]}),g.jsx(CR,{currentPage:u,totalPages:T,onPreviousPage:O,onNextPage:A}),p&&g.jsx(V7,{notebookId:e,labels:p.labels,flowName:p.name,open:v,startDate:n,endDate:r,onOpenChange:x})]})}const _at=yy({type:"flow",propSchema:{showName:{default:!0},showLabels:{default:!0},showLastStatus:{default:!0},showLastStart:{default:!0},showLastEnd:{default:!0},showLastDuration:{default:!0},showRunCounts:{default:!0},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=Pd(),n=t?decodeURIComponent(t):"",r=ft(x=>x.settingsOpenBlockId),i=ft(x=>x.closeBlockSettings),o=ft(x=>x.startDate),a=ft(x=>x.endDate),s=ft(x=>x.currentNotebook?.filters),l=ft(x=>x.currentNotebook?.id),c=dc(x=>x.labels),u=F.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),d=F.useMemo(()=>[...s||[],...u],[s,u]);if(!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const p=r===e.block.id,m=(x,w)=>{e.editor.updateBlock(e.block,{props:{...e.block.props,[x]:w}})},v=x=>{e.editor.updateBlock(e.block,{props:{...e.block.props,blockFilters:JSON.stringify(x)}})};return o!==null&&a!==null&&d!==void 0&&l&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:g.jsx(kat,{notebookId:l,tenant:n,startDate:o,endDate:a,filters:d,visibleColumns:{name:e.block.props.showName,labels:e.block.props.showLabels,lastStatus:e.block.props.showLastStatus,lastStart:e.block.props.showLastStart,lastEnd:e.block.props.showLastEnd,lastDuration:e.block.props.showLastDuration,runCounts:e.block.props.showRunCounts}})}),g.jsx(Mm,{open:p,onOpenChange:x=>{x||i()},children:g.jsxs(ph,{children:[g.jsx(mh,{children:g.jsx(gh,{children:"Flow Settings"})}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Columns"}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showName",!e.block.props.showName),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(kH,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Name"})]}),e.block.props.showName?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLabels",!e.block.props.showLabels),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(_T,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Labels"})]}),e.block.props.showLabels?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastStatus",!e.block.props.showLastStatus),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(aD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last Status"})]}),e.block.props.showLastStatus?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastStart",!e.block.props.showLastStart),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(tm,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last Start"})]}),e.block.props.showLastStart?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastEnd",!e.block.props.showLastEnd),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(tm,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last End"})]}),e.block.props.showLastEnd?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastDuration",!e.block.props.showLastDuration),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(sD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last Duration"})]}),e.block.props.showLastDuration?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showRunCounts",!e.block.props.showRunCounts),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Iie,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Run Counts"})]}),e.block.props.showRunCounts?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]})]})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(vy,{availableLabels:c,filters:u,onFiltersChange:v})]})]})]})})]})}})();function q7({flows:e,selectedFlowName:t,onFlowSelect:n}){const[r,i]=C.useState(!1);if(e.length===0)return g.jsx("div",{className:"text-sm text-muted-foreground",children:"No flows available"});const o=Nv.uniq(e.map(a=>a.name));return g.jsxs(Ec,{open:r,onOpenChange:i,children:[g.jsx(Cc,{asChild:!0,children:g.jsxs(yi,{variant:"outline",role:"combobox","aria-expanded":r,className:"w-full justify-between",children:[t?o.find(a=>a===t):"Select a flow...",g.jsx(AH,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),g.jsx(Tc,{className:"w-[400px] p-0",children:g.jsxs(rm,{children:[g.jsx(im,{placeholder:"Search flows..."}),g.jsxs(om,{children:[g.jsx(am,{children:"No flow found."}),g.jsx(sm,{children:o.map(a=>g.jsxs(lm,{value:a,onSelect:s=>{n(s===t?"":s),i(!1)},children:[g.jsx(N0,{className:Ie("mr-2 h-4 w-4",t===a?"opacity-100":"opacity-0")}),a]},a))})]})]})})]})}const Aat=yy({type:"flowHistory",propSchema:{flowName:{default:""},statusFilter:{default:"all"},showLabels:{default:!0},showStart:{default:!0},showEnd:{default:!0},showDuration:{default:!0},showStatus:{default:!0},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=Pd(),n=t?decodeURIComponent(t):"",r=ft(L=>L.settingsOpenBlockId),i=ft(L=>L.closeBlockSettings),o=ft(L=>L.openBlockSettings),a=ft(L=>L.flows),s=ft(L=>L.startDate),l=ft(L=>L.endDate),c=ft(L=>L.currentNotebook?.filters),u=ft(L=>L.currentNotebook?.id),d=dc(L=>L.labels),[p,m]=C.useState(null),[v,x]=C.useState(!1),w=e.block.props.flowName,T=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),k=C.useMemo(()=>[...c||[],...T],[c,T]);if(C.useEffect(()=>{(async()=>{if(!n||!w||!u||s===null||l===null||k===void 0){m([]);return}x(!0);try{const B=await ay.getFlowHistory(n,w,s,l,k,u);m(B)}catch(B){console.error("Failed to fetch detailed flow:",B),m([])}finally{x(!1)}})()},[n,w,s,l,k,u]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const N=r===e.block.id,I=L=>{e.editor.updateBlock(e.block,{props:{...e.block.props,flowName:L}})},O=(L,B)=>{e.editor.updateBlock(e.block,{props:{...e.block.props,[L]:B}})},A=L=>{e.editor.updateBlock(e.block,{props:{...e.block.props,blockFilters:JSON.stringify(L)}})},R=()=>w?v&&p===null?g.jsx(rx,{columns:6,rows:5}):g.jsx(Yge,{flowHistory:p||[],statusFilter:"all",visibleColumns:{labels:e.block.props.showLabels,start:e.block.props.showStart,end:e.block.props.showEnd,duration:e.block.props.showDuration,status:e.block.props.showStatus}}):g.jsx(JE,{icon:Lie,title:"No flow selected",description:"Select a flow to view its execution history.",onClick:()=>o(e.block.id),className:"cursor-pointer"});return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:R()}),g.jsx(Mm,{open:N,onOpenChange:L=>{L||i()},children:g.jsxs(ph,{children:[g.jsx(mh,{children:g.jsx(gh,{children:"Flow History Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Flow"}),g.jsx(q7,{flows:a,selectedFlowName:w,onFlowSelect:I})]}),g.jsxs("div",{className:"space-y-1 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Columns"}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>O("showLabels",!e.block.props.showLabels),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(_T,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Labels"})]}),e.block.props.showLabels?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>O("showStart",!e.block.props.showStart),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(tm,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Start"})]}),e.block.props.showStart?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>O("showEnd",!e.block.props.showEnd),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(tm,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"End"})]}),e.block.props.showEnd?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>O("showDuration",!e.block.props.showDuration),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(sD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Duration"})]}),e.block.props.showDuration?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>O("showStatus",!e.block.props.showStatus),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(aD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Status"})]}),e.block.props.showStatus?g.jsx(nc,{className:"size-4",strokeWidth:2.5}):g.jsx(tc,{className:"size-4",strokeWidth:2.5})]})]})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(vy,{availableLabels:d,filters:T,onFiltersChange:A})]})]})]})})]})}})(),BE=mge,$E=gge,Qv=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(P7,{ref:r,className:Ie("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,g.jsx(yge,{asChild:!0,children:g.jsx(kT,{className:"h-4 w-4 opacity-50"})})]}));Qv.displayName=P7.displayName;const Xge=C.forwardRef(({className:e,...t},n)=>g.jsx(B7,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(HTe,{className:"h-4 w-4"})}));Xge.displayName=B7.displayName;const Zge=C.forwardRef(({className:e,...t},n)=>g.jsx($7,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(kT,{className:"h-4 w-4"})}));Zge.displayName=$7.displayName;const Jv=C.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>g.jsx(tit,{children:g.jsxs(L7,{ref:i,className:Ie("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[g.jsx(Xge,{}),g.jsx(bge,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),g.jsx(Zge,{})]})}));Jv.displayName=L7.displayName;const Nat=C.forwardRef(({className:e,...t},n)=>g.jsx(vge,{ref:n,className:Ie("px-2 py-1.5 text-sm font-semibold",e),...t}));Nat.displayName=vge.displayName;const Ii=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(j7,{ref:r,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(wge,{children:g.jsx(N0,{className:"h-4 w-4"})})}),g.jsx(xge,{children:t})]}));Ii.displayName=j7.displayName;const Oat=C.forwardRef(({className:e,...t},n)=>g.jsx(Sge,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));Oat.displayName=Sge.displayName;const Mat=yy({type:"flowStatus",propSchema:{flowName:{default:""},title:{default:""},blockFilters:{default:"[]"},displayMode:{default:"status"}},content:"none"},{render:e=>{const{tenant:t}=Pd(),n=t?decodeURIComponent(t):"",r=ft(z=>z.settingsOpenBlockId),i=ft(z=>z.closeBlockSettings),o=ft(z=>z.flows),a=ft(z=>z.currentNotebook),s=ft(z=>z.startDate),l=ft(z=>z.endDate),c=ft(z=>z.currentNotebook?.filters),u=dc(z=>z.labels),[d,p]=F.useState(null),[m,v]=F.useState(!1),[x,w]=F.useState([]),T=e.block.props.flowName,k=e.block.props.title,N=e.block.props.displayMode||"status",I=F.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),O=F.useMemo(()=>[...c||[],...I],[c,I]);if(F.useEffect(()=>{if(!n||!s||!l||!a?.id)return;(async()=>{try{const Y=await ay.getByTenant(n,s,l,O,a.id);w(Y.filter(W=>W.name===T))}catch{w([])}})()},[n,s,l,O,a?.id,T]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const A=r===e.block.id,R=z=>{p(z),v(!0)},L=z=>{e.editor.updateBlock(e.block,{props:{...e.block.props,flowName:z}})},B=z=>{e.editor.updateBlock(e.block,{props:{...e.block.props,blockFilters:JSON.stringify(z)}})},$=()=>x.length===0?g.jsx("div",{className:"outline-none flex flex-col gap-1",children:g.jsxs(Hf,{className:"@container/card shadow-none",children:[g.jsx(Td,{className:"pb-2 pt-2 pl-3",children:g.jsx(P0,{className:"text-xl relative font-semibold flex items-center gap-2",children:g.jsxs(Zp,{variant:"outline",className:"text-muted-foreground px-1.5 gap-1.5 border-0 text-base",children:[g.jsx(Oie,{className:Ie("size-5","text-muted-foreground")}),k||T||"N/A"]})})}),g.jsx(Od,{}),g.jsx(xN,{className:"px-6 py-3 text-secondary-foreground",children:"No runs"}),g.jsx(g0,{className:"flex-col items-start gap-1.5 text-sm p-3 pt-0"})]})}):g.jsx("div",{className:"outline-none flex flex-col gap-1",children:x.map(z=>q(z))}),q=z=>{const Y=qge[z.lastRunStatus];return g.jsx("div",{className:"outline-none flex flex-col gap-1 group",children:g.jsxs(Hf,{className:"@container/card shadow-none",children:[g.jsx(Td,{className:"pb-2 pt-2 pl-3",children:g.jsxs(P0,{className:"text-xl relative font-semibold flex items-center gap-2",children:[g.jsx(wl,{children:g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsxs(Zp,{variant:"outline",className:"text-muted-foreground px-1.5 gap-1.5 border-0 text-base",children:[g.jsx(Y.Icon,{className:Ie("size-5",Y.iconClass)}),k||z.name]})}),g.jsxs(Hr,{children:[z.lastRunStatus==="running"&&g.jsxs("p",{children:["Running since"," ",z.lastRunStartedAt?.toLocaleString()]}),z.lastRunStatus!=="running"&&g.jsxs("p",{children:["Last run ended at"," ",z.lastRunEndedAt?.toLocaleString()]})]})]})}),g.jsxs("div",{className:"absolute right-0 -top-2 px-2 py-1.5 rounded-b-lg border border-t-0 bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1.5 opacity-0 shadow-xs",onClick:()=>R(z),children:[g.jsx(Aie,{className:"size-4 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Details"})]})]})}),g.jsx(Od,{}),g.jsxs(xN,{className:"px-6 py-3",children:[N==="runCount"&&g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3",children:[g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 px-6 py-2 text-left border-0",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#5cb660]"}),"Success"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:z.successCount.toLocaleString()})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l ",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#e56458]"}),"Failed"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:z.failedCount.toLocaleString()})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#2883df]"}),"Running"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:z.pendingCount.toLocaleString()})]})]}),N==="status"&&g.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-4",children:[g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 px-6 py-2 text-left border-0",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Last duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:Rv({seconds:z.lastDurationInSeconds})})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l ",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Average duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:Rv({seconds:z.avgDurationInSeconds})})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Min duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:Rv({seconds:z.minDurationInSeconds})})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Max duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:Rv({seconds:z.maxDurationInSeconds})})]})]})]}),g.jsx(g0,{className:"flex-col items-start gap-1.5 text-sm p-3 pt-0",children:g.jsx("div",{className:"flex gap-1",children:Object.entries(z.labels).map(([W,Z])=>g.jsx("div",{children:g.jsx(rh,{labelKey:W,labelValue:Z,readonly:!0})},W))})})]})},z.groupId)};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:$()}),g.jsx(Mm,{open:A,onOpenChange:z=>{z||i()},children:g.jsxs(ph,{children:[g.jsx(mh,{children:g.jsx(gh,{children:"Flow Status Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Title"}),g.jsx(fc,{placeholder:"Optional title...",value:k,onChange:z=>{e.editor.updateBlock(e.block,{props:{...e.block.props,title:z.target.value}})}})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Display"}),g.jsx(wl,{delayDuration:300,children:g.jsxs(BE,{value:N,onValueChange:z=>{e.editor.updateBlock(e.block,{props:{...e.block.props,displayMode:z}})},children:[g.jsx(Qv,{children:g.jsx($E,{})}),g.jsxs(Jv,{children:[g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(Ii,{value:"status",children:"Duration"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{children:"Display flow duration across time period"})})]}),g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(Ii,{value:"runCount",children:"Count"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{children:"Count of flow runs split by status"})})]})]})]})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Flow"}),g.jsx(q7,{flows:o,selectedFlowName:T,onFlowSelect:L})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(vy,{availableLabels:u,filters:I,onFiltersChange:B})]})]})]})}),a&&d&&s!==null&&l!==null&&g.jsx(V7,{labels:d.labels,flowName:d.name,open:m,startDate:s,endDate:l,onOpenChange:v,notebookId:a.id})]})}})();function Dat(e){if(!e||e.totalRuns===0)return"var(--color-secondary)";const t=e.failureCount===0&&e.runningCount===0,n=e.successCount===0&&e.runningCount===0,r=e.runningCount>0;return n?"#e56458":t?"#5cb660":r?"#2883df":"orange"}const Rat=yy({type:"heatmap",propSchema:{flowName:{default:""},title:{default:""},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=Pd(),n=t?decodeURIComponent(t):"",r=ft(X=>X.startDate),i=ft(X=>X.endDate),o=ft(X=>X.currentNotebook?.filters),a=ft(X=>X.currentNotebook?.id),s=ft(X=>X.flows),l=dc(X=>X.labels),c=ft(X=>X.settingsOpenBlockId),u=ft(X=>X.closeBlockSettings),[d,p]=C.useState(!1),[m,v]=C.useState([]),[x,w]=C.useState([]),[T,k]=C.useState(!1),[N,I]=C.useState({}),[O,A]=C.useState(null),R=e.block.props.flowName,L=e.block.props.title,B=c===e.block.id,$=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),q=C.useMemo(()=>[...o||[],...$],[o,$]),z=C.useMemo(()=>{if(!O)return null;const X=new Date(O),oe=new Date(O);return X.setHours(0,0,0,0),oe.setHours(23,59,59,999),{type:"absolute",metadata:{start:X,end:oe}}},[O]),Y=F.useMemo(()=>{if(r===null||i===null)return[];let X=r;const oe=[X];for(;X<i;)X=Q1(X,1),oe.push(X);return oe},[r,i]);if(C.useEffect(()=>{if(!n||!R||r===null||i===null||q===void 0||!a){v([]),w([]);return}(async()=>{p(!0);try{const oe=await ay.getFlowHistory(n,R,r,i,q,a);v(oe)}catch(oe){console.error("Failed to fetch flow histories:",oe),v([])}finally{p(!1)}})()},[n,R,r,i,q,a]),C.useEffect(()=>{const X=Nv.groupBy(m,K=>K.groupId),oe=Object.entries(X).map(([K,Q])=>{const te=new Map;for(const U of Q){const he=U.startTime,se=jI(he,{representation:"date"}),we=te.get(se);we?(we.totalRuns++,U.status==="success"&&we.successCount++,U.status==="failure"&&we.failureCount++,U.status==="running"&&we.runningCount++):te.set(se,{date:he,dateStr:se,totalRuns:1,successCount:U.status==="success"?1:0,failureCount:U.status==="failure"?1:0,runningCount:U.status==="running"?1:0})}return{labels:Q[0].labels,groupId:K,dayDataMap:te}});w(oe)},[m]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});if(r===null||i===null)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground"})});const W=(X,oe)=>{I(X),A(oe),k(!0)},Z=X=>{e.editor.updateBlock(e.block,{props:{...e.block.props,flowName:X}})},V=X=>{e.editor.updateBlock(e.block,{props:{...e.block.props,blockFilters:JSON.stringify(X)}})},ne=()=>d&&m===null?g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"h-5 w-32 bg-muted rounded animate-pulse"}),g.jsx("div",{className:"flex gap-[2px]",children:Array.from({length:30}).map((X,oe)=>g.jsx("div",{className:"w-3 h-8 bg-muted rounded-sm animate-pulse",style:{animationDelay:`${oe*20}ms`}},oe))})]}):g.jsx("div",{className:"space-y-1",children:g.jsxs(wl,{children:[x.map((X,oe)=>g.jsxs("div",{className:"space-y-1",children:[oe===0&&g.jsx("div",{className:"text-m font-medium mb-1",children:L||R||"N/A"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"flex gap-[2px] flex-1",children:Y.map(K=>{const Q=jI(K,{representation:"date"}),te=X.dayDataMap.get(Q)||null,U=Dat(te);return g.jsxs(Jr,{delayDuration:0,children:[g.jsx(ei,{asChild:!0,children:g.jsx("div",{className:"w-3 h-8 rounded-sm transition-opacity hover:opacity-80 cursor-pointer",style:{backgroundColor:U},onClick:()=>W(X.labels,K)})}),g.jsx(Hr,{children:g.jsxs("div",{className:"text-xs",children:[g.jsx("div",{className:"font-semibold mb-1",children:Q}),te?g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#5cb660"}}),g.jsx("span",{children:te.successCount})]}),te.failureCount>0&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#e56458"}}),g.jsx("span",{children:te.failureCount})]}),te.runningCount>0&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#2883df"}}),g.jsx("span",{children:te.runningCount})]})]}):g.jsx("div",{className:"text-muted-foreground",children:"No runs"})]})})]},Q)})}),g.jsx("div",{className:"flex items-center gap-1",children:Object.entries(X.labels).map(([K,Q])=>g.jsx(rh,{labelKey:K,labelValue:Q,readonly:!0},K))})]})]},X.groupId)),x.length===0&&g.jsxs("div",{className:"space-y-1",children:[g.jsx("div",{className:"text-m font-medium mb-1",children:L||R||"N/A"}),g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("div",{className:"flex gap-[2px] flex-1",children:Y.map(X=>{const oe=jI(X,{representation:"date"});return g.jsxs(Jr,{delayDuration:0,children:[g.jsx(ei,{asChild:!0,children:g.jsx("div",{className:"w-3 h-8 rounded-sm transition-opacity hover:opacity-80 cursor-pointer",style:{backgroundColor:"var(--color-secondary)"}})}),g.jsx(Hr,{children:g.jsxs("div",{className:"text-xs",children:[g.jsx("div",{className:"font-semibold mb-1",children:oe}),g.jsx("div",{className:"text-muted-foreground",children:"No runs"})]})})]},oe)})})})]})]})});return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:ne()}),g.jsx(Mm,{open:B,onOpenChange:X=>{X||u()},children:g.jsxs(ph,{children:[g.jsx(mh,{children:g.jsx(gh,{children:"Heatmap Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Title"}),g.jsx(fc,{placeholder:"Optional title...",value:L,onChange:X=>{e.editor.updateBlock(e.block,{props:{...e.block.props,title:X.target.value}})}})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Flow"}),g.jsx(q7,{flows:s,selectedFlowName:R,onFlowSelect:Z})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(vy,{availableLabels:l,filters:$,onFiltersChange:V})]})]})]})}),z&&a&&g.jsx(V7,{labels:N,flowName:R,open:T,startDate:r,endDate:i,onOpenChange:k,notebookId:a})]})}})();var SL,HK;function Ws(){if(HK)return SL;HK=1;var e=Array.isArray;return SL=e,SL}var EL,FK;function Qge(){if(FK)return EL;FK=1;var e=typeof $p=="object"&&$p&&$p.Object===Object&&$p;return EL=e,EL}var CL,UK;function zd(){if(UK)return CL;UK=1;var e=Qge(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return CL=n,CL}var TL,zK;function sk(){if(zK)return TL;zK=1;var e=zd(),t=e.Symbol;return TL=t,TL}var kL,VK;function Iat(){if(VK)return kL;VK=1;var e=sk(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=r.call(a);return c&&(s?a[i]=l:delete a[i]),u}return kL=o,kL}var _L,qK;function Pat(){if(qK)return _L;qK=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return _L=n,_L}var AL,WK;function yh(){if(WK)return AL;WK=1;var e=sk(),t=Iat(),n=Pat(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return AL=a,AL}var NL,YK;function bh(){if(YK)return NL;YK=1;function e(t){return t!=null&&typeof t=="object"}return NL=e,NL}var OL,GK;function yx(){if(GK)return OL;GK=1;var e=yh(),t=bh(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return OL=r,OL}var ML,KK;function W7(){if(KK)return ML;KK=1;var e=Ws(),t=yx(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return ML=i,ML}var DL,XK;function Dm(){if(XK)return DL;XK=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return DL=e,DL}var RL,ZK;function Y7(){if(ZK)return RL;ZK=1;var e=yh(),t=Dm(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==o}return RL=a,RL}var IL,QK;function Lat(){if(QK)return IL;QK=1;var e=zd(),t=e["__core-js_shared__"];return IL=t,IL}var PL,JK;function jat(){if(JK)return PL;JK=1;var e=Lat(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return PL=n,PL}var LL,eX;function Jge(){if(eX)return LL;eX=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return LL=n,LL}var jL,tX;function Bat(){if(tX)return jL;tX=1;var e=Y7(),t=jat(),n=Dm(),r=Jge(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(p){if(!n(p)||t(p))return!1;var m=e(p)?u:o;return m.test(r(p))}return jL=d,jL}var BL,nX;function $at(){if(nX)return BL;nX=1;function e(t,n){return t?.[n]}return BL=e,BL}var $L,rX;function xy(){if(rX)return $L;rX=1;var e=Bat(),t=$at();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return $L=n,$L}var HL,iX;function kR(){if(iX)return HL;iX=1;var e=xy(),t=e(Object,"create");return HL=t,HL}var FL,oX;function Hat(){if(oX)return FL;oX=1;var e=kR();function t(){this.__data__=e?e(null):{},this.size=0}return FL=t,FL}var UL,aX;function Fat(){if(aX)return UL;aX=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return UL=e,UL}var zL,sX;function Uat(){if(sX)return zL;sX=1;var e=kR(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return zL=i,zL}var VL,lX;function zat(){if(lX)return VL;lX=1;var e=kR(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return VL=r,VL}var qL,cX;function Vat(){if(cX)return qL;cX=1;var e=kR(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return qL=n,qL}var WL,uX;function qat(){if(uX)return WL;uX=1;var e=Hat(),t=Fat(),n=Uat(),r=zat(),i=Vat();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,WL=o,WL}var YL,dX;function Wat(){if(dX)return YL;dX=1;function e(){this.__data__=[],this.size=0}return YL=e,YL}var GL,fX;function G7(){if(fX)return GL;fX=1;function e(t,n){return t===n||t!==t&&n!==n}return GL=e,GL}var KL,hX;function _R(){if(hX)return KL;hX=1;var e=G7();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return KL=t,KL}var XL,pX;function Yat(){if(pX)return XL;pX=1;var e=_R(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return XL=r,XL}var ZL,mX;function Gat(){if(mX)return ZL;mX=1;var e=_R();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return ZL=t,ZL}var QL,gX;function Kat(){if(gX)return QL;gX=1;var e=_R();function t(n){return e(this.__data__,n)>-1}return QL=t,QL}var JL,yX;function Xat(){if(yX)return JL;yX=1;var e=_R();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return JL=t,JL}var e4,bX;function AR(){if(bX)return e4;bX=1;var e=Wat(),t=Yat(),n=Gat(),r=Kat(),i=Xat();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,e4=o,e4}var t4,vX;function K7(){if(vX)return t4;vX=1;var e=xy(),t=zd(),n=e(t,"Map");return t4=n,t4}var n4,xX;function Zat(){if(xX)return n4;xX=1;var e=qat(),t=AR(),n=K7();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return n4=r,n4}var r4,wX;function Qat(){if(wX)return r4;wX=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return r4=e,r4}var i4,SX;function NR(){if(SX)return i4;SX=1;var e=Qat();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return i4=t,i4}var o4,EX;function Jat(){if(EX)return o4;EX=1;var e=NR();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return o4=t,o4}var a4,CX;function est(){if(CX)return a4;CX=1;var e=NR();function t(n){return e(this,n).get(n)}return a4=t,a4}var s4,TX;function tst(){if(TX)return s4;TX=1;var e=NR();function t(n){return e(this,n).has(n)}return s4=t,s4}var l4,kX;function nst(){if(kX)return l4;kX=1;var e=NR();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return l4=t,l4}var c4,_X;function X7(){if(_X)return c4;_X=1;var e=Zat(),t=Jat(),n=est(),r=tst(),i=nst();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,c4=o,c4}var u4,AX;function e0e(){if(AX)return u4;AX=1;var e=X7(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var c=r.apply(this,a);return o.cache=l.set(s,c)||l,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,u4=n,u4}var d4,NX;function rst(){if(NX)return d4;NX=1;var e=e0e(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return d4=n,d4}var f4,OX;function ist(){if(OX)return f4;OX=1;var e=rst(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,l,c){o.push(l?c.replace(n,"$1"):s||a)}),o});return f4=r,f4}var h4,MX;function Z7(){if(MX)return h4;MX=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return h4=e,h4}var p4,DX;function ost(){if(DX)return p4;DX=1;var e=sk(),t=Z7(),n=Ws(),r=yx(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return p4=a,p4}var m4,RX;function t0e(){if(RX)return m4;RX=1;var e=ost();function t(n){return n==null?"":e(n)}return m4=t,m4}var g4,IX;function n0e(){if(IX)return g4;IX=1;var e=Ws(),t=W7(),n=ist(),r=t0e();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return g4=i,g4}var y4,PX;function OR(){if(PX)return y4;PX=1;var e=yx();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return y4=t,y4}var b4,LX;function Q7(){if(LX)return b4;LX=1;var e=n0e(),t=OR();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return b4=n,b4}var v4,jX;function r0e(){if(jX)return v4;jX=1;var e=Q7();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return v4=t,v4}var ast=r0e();const yc=vr(ast);var x4,BX;function sst(){if(BX)return x4;BX=1;function e(t){return t==null}return x4=e,x4}var lst=sst();const qn=vr(lst);var w4,$X;function cst(){if($X)return w4;$X=1;var e=yh(),t=Ws(),n=bh(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return w4=i,w4}var ust=cst();const Q0=vr(ust);var dst=Y7();const Rn=vr(dst);var fst=Dm();const bx=vr(fst);var S4={exports:{}},kr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HX;function hst(){if(HX)return kr;HX=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function x(w){if(typeof w=="object"&&w!==null){var T=w.$$typeof;switch(T){case e:switch(w=w.type,w){case n:case i:case r:case c:case u:return w;default:switch(w=w&&w.$$typeof,w){case s:case a:case l:case p:case d:case o:return w;default:return T}}case t:return T}}}return kr.ContextConsumer=a,kr.ContextProvider=o,kr.Element=e,kr.ForwardRef=l,kr.Fragment=n,kr.Lazy=p,kr.Memo=d,kr.Portal=t,kr.Profiler=i,kr.StrictMode=r,kr.Suspense=c,kr.SuspenseList=u,kr.isAsyncMode=function(){return!1},kr.isConcurrentMode=function(){return!1},kr.isContextConsumer=function(w){return x(w)===a},kr.isContextProvider=function(w){return x(w)===o},kr.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},kr.isForwardRef=function(w){return x(w)===l},kr.isFragment=function(w){return x(w)===n},kr.isLazy=function(w){return x(w)===p},kr.isMemo=function(w){return x(w)===d},kr.isPortal=function(w){return x(w)===t},kr.isProfiler=function(w){return x(w)===i},kr.isStrictMode=function(w){return x(w)===r},kr.isSuspense=function(w){return x(w)===c},kr.isSuspenseList=function(w){return x(w)===u},kr.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===c||w===u||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===d||w.$$typeof===o||w.$$typeof===a||w.$$typeof===l||w.$$typeof===v||w.getModuleId!==void 0)},kr.typeOf=x,kr}var FX;function pst(){return FX||(FX=1,S4.exports=hst()),S4.exports}var mst=pst(),E4,UX;function i0e(){if(UX)return E4;UX=1;var e=yh(),t=bh(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return E4=r,E4}var C4,zX;function gst(){if(zX)return C4;zX=1;var e=i0e();function t(n){return e(n)&&n!=+n}return C4=t,C4}var yst=gst();const lk=vr(yst);var bst=i0e();const vst=vr(bst);var fu=function(t){return t===0?0:t>0?1:-1},u0=function(t){return Q0(t)&&t.indexOf("%")===t.length-1},ut=function(t){return vst(t)&&!lk(t)},xst=function(t){return qn(t)},To=function(t){return ut(t)||Q0(t)},wst=0,ck=function(t){var n=++wst;return"".concat(t||"").concat(n)},J0=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ut(t)&&!Q0(t))return r;var o;if(u0(t)){var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return lk(o)&&(o=r),i&&o>n&&(o=n),o},Bp=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Sst=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},iu=function(t,n){return ut(t)&&ut(n)?function(r){return t+r*(n-t)}:function(){return n}};function GO(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):yc(r,t))===n})}var Est=function(t,n){return ut(t)&&ut(n)?t-n:Q0(t)&&Q0(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function e1(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function B8(e){"@babel/helpers - typeof";return B8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B8(e)}var Cst=["viewBox","children"],Tst=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],VX=["points","pathLength"],T4={svg:Cst,polygon:VX,polyline:VX},J7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],KO=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),!bx(r))return null;var i={};return Object.keys(r).forEach(function(o){J7.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},kst=function(t,n,r){return function(i){return t(n,r,i),null}},XO=function(t,n,r){if(!bx(t)||B8(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var a=t[o];J7.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=kst(a,n,r))}),i},_st=["children"],Ast=["children"];function qX(e,t){if(e==null)return{};var n=Nst(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $8(e){"@babel/helpers - typeof";return $8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$8(e)}var WX={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Wf=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},YX=null,k4=null,eU=function e(t){if(t===YX&&Array.isArray(k4))return k4;var n=[];return C.Children.forEach(t,function(r){qn(r)||(mst.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),k4=n,YX=t,n};function bc(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return Wf(i)}):r=[Wf(t)],eU(e).forEach(function(i){var o=yc(i,"type.displayName")||yc(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function yl(e,t){var n=bc(e,t);return n&&n[0]}var GX=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!ut(r)||r<=0||!ut(i)||i<=0)},Ost=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Mst=function(t){return t&&t.type&&Q0(t.type)&&Ost.indexOf(t.type)>=0},Dst=function(t){return t&&$8(t)==="object"&&"clipDot"in t},Rst=function(t,n,r,i){var o,a=(o=T4?.[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Rn(t)&&(i&&a.includes(n)||Tst.includes(n))||r&&J7.includes(n)},Jn=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(C.isValidElement(t)&&(i=t.props),!bx(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Rst((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},H8=function e(t,n){if(t===n)return!0;var r=C.Children.count(t);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return KX(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!KX(o,a))return!1}return!0},KX=function(t,n){if(qn(t)&&qn(n))return!0;if(!qn(t)&&!qn(n)){var r=t.props||{},i=r.children,o=qX(r,_st),a=n.props||{},s=a.children,l=qX(a,Ast);return i&&s?e1(o,l)&&H8(i,s):!i&&!s?e1(o,l):!1}return!1},XX=function(t,n){var r=[],i={};return eU(t).forEach(function(o,a){if(Mst(o))r.push(o);else if(o){var s=Wf(o.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(o,s,a);r.push(d),i[s]=!0}}}),r},Ist=function(t){var n=t&&t.type;return n&&WX[n]?WX[n]:null},Pst=function(t,n){return eU(n).indexOf(t)},Lst=["children","width","height","viewBox","className","style","title","desc"];function F8(){return F8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F8.apply(this,arguments)}function jst(e,t){if(e==null)return{};var n=Bst(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function U8(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,c=jst(e,Lst),u=i||{width:n,height:r,x:0,y:0},d=Xn("recharts-surface",o);return F.createElement("svg",F8({},Jn(c,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),F.createElement("title",null,s),F.createElement("desc",null,l),t)}var $st=["children","className"];function z8(){return z8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z8.apply(this,arguments)}function Hst(e,t){if(e==null)return{};var n=Fst(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Wi=F.forwardRef(function(e,t){var n=e.children,r=e.className,i=Hst(e,$st),o=Xn("recharts-layer",r);return F.createElement("g",z8({className:o},Jn(i,!0),{ref:t}),n)}),Yf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},_4,ZX;function Ust(){if(ZX)return _4;ZX=1;function e(t,n,r){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(o);++i<o;)a[i]=t[i+n];return a}return _4=e,_4}var A4,QX;function zst(){if(QX)return A4;QX=1;var e=Ust();function t(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:e(n,r,i)}return A4=t,A4}var N4,JX;function o0e(){if(JX)return N4;JX=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function l(c){return s.test(c)}return N4=l,N4}var O4,eZ;function Vst(){if(eZ)return O4;eZ=1;function e(t){return t.split("")}return O4=e,O4}var M4,tZ;function qst(){if(tZ)return M4;tZ=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=c+"?",x="["+o+"]?",w="(?:"+m+"(?:"+[u,d,p].join("|")+")"+x+v+")*",T=x+v+w,k="(?:"+[u+s+"?",s,d,p,a].join("|")+")",N=RegExp(l+"(?="+l+")|"+k+T,"g");function I(O){return O.match(N)||[]}return M4=I,M4}var D4,nZ;function Wst(){if(nZ)return D4;nZ=1;var e=Vst(),t=o0e(),n=qst();function r(i){return t(i)?n(i):e(i)}return D4=r,D4}var R4,rZ;function Yst(){if(rZ)return R4;rZ=1;var e=zst(),t=o0e(),n=Wst(),r=t0e();function i(o){return function(a){a=r(a);var s=t(a)?n(a):void 0,l=s?s[0]:a.charAt(0),c=s?e(s,1).join(""):a.slice(1);return l[o]()+c}}return R4=i,R4}var I4,iZ;function Gst(){if(iZ)return I4;iZ=1;var e=Yst(),t=e("toUpperCase");return I4=t,I4}var Kst=Gst();const MR=vr(Kst);function Qr(e){return function(){return e}}const a0e=Math.cos,ZO=Math.sin,Nu=Math.sqrt,QO=Math.PI,DR=2*QO,V8=Math.PI,q8=2*V8,t0=1e-6,Xst=q8-t0;function s0e(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zst(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return s0e;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Qst{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?s0e:Zst(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,c=i-n,u=a-t,d=s-n,p=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>t0)if(!(Math.abs(d*l-c*u)>t0)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,v=i-s,x=l*l+c*c,w=m*m+v*v,T=Math.sqrt(x),k=Math.sqrt(p),N=o*Math.tan((V8-Math.acos((x+p-w)/(2*T*k)))/2),I=N/k,O=N/T;Math.abs(I-1)>t0&&this._append`L${t+I*u},${n+I*d}`,this._append`A${o},${o},0,0,${+(d*m>u*v)},${this._x1=t+O*l},${this._y1=n+O*c}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,u=n+l,d=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>t0||Math.abs(this._y1-u)>t0)&&this._append`L${c},${u}`,r&&(p<0&&(p=p%q8+q8),p>Xst?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:p>t0&&this._append`A${r},${r},0,${+(p>=V8)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function tU(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Qst(t)}function nU(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function l0e(e){this._context=e}l0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function RR(e){return new l0e(e)}function c0e(e){return e[0]}function u0e(e){return e[1]}function d0e(e,t){var n=Qr(!0),r=null,i=RR,o=null,a=tU(s);e=typeof e=="function"?e:e===void 0?c0e:Qr(e),t=typeof t=="function"?t:t===void 0?u0e:Qr(t);function s(l){var c,u=(l=nU(l)).length,d,p=!1,m;for(r==null&&(o=i(m=a())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(d,c,l),+t(d,c,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Qr(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Qr(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qr(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function CA(e,t,n){var r=null,i=Qr(!0),o=null,a=RR,s=null,l=tU(c);e=typeof e=="function"?e:e===void 0?c0e:Qr(+e),t=typeof t=="function"?t:Qr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?u0e:Qr(+n);function c(d){var p,m,v,x=(d=nU(d)).length,w,T=!1,k,N=new Array(x),I=new Array(x);for(o==null&&(s=a(k=l())),p=0;p<=x;++p){if(!(p<x&&i(w=d[p],p,d))===T)if(T=!T)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=m;--v)s.point(N[v],I[v]);s.lineEnd(),s.areaEnd()}T&&(N[p]=+e(w,p,d),I[p]=+t(w,p,d),s.point(r?+r(w,p,d):N[p],n?+n(w,p,d):I[p]))}if(k)return s=null,k+""||null}function u(){return d0e().defined(i).curve(a).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Qr(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Qr(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Qr(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Qr(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Qr(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Qr(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Qr(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),c):a},c.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),c):o},c}class f0e{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Jst(e){return new f0e(e,!0)}function elt(e){return new f0e(e,!1)}const rU={draw(e,t){const n=Nu(t/QO);e.moveTo(n,0),e.arc(0,0,n,0,DR)}},tlt={draw(e,t){const n=Nu(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},h0e=Nu(1/3),nlt=h0e*2,rlt={draw(e,t){const n=Nu(t/nlt),r=n*h0e;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},ilt={draw(e,t){const n=Nu(t),r=-n/2;e.rect(r,r,n,n)}},olt=.8908130915292852,p0e=ZO(QO/10)/ZO(7*QO/10),alt=ZO(DR/10)*p0e,slt=-a0e(DR/10)*p0e,llt={draw(e,t){const n=Nu(t*olt),r=alt*n,i=slt*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=DR*o/5,s=a0e(a),l=ZO(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},P4=Nu(3),clt={draw(e,t){const n=-Nu(t/(P4*3));e.moveTo(0,n*2),e.lineTo(-P4*n,-n),e.lineTo(P4*n,-n),e.closePath()}},Xl=-.5,Zl=Nu(3)/2,W8=1/Nu(12),ult=(W8/2+1)*3,dlt={draw(e,t){const n=Nu(t/ult),r=n/2,i=n*W8,o=r,a=n*W8+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Xl*r-Zl*i,Zl*r+Xl*i),e.lineTo(Xl*o-Zl*a,Zl*o+Xl*a),e.lineTo(Xl*s-Zl*l,Zl*s+Xl*l),e.lineTo(Xl*r+Zl*i,Xl*i-Zl*r),e.lineTo(Xl*o+Zl*a,Xl*a-Zl*o),e.lineTo(Xl*s+Zl*l,Xl*l-Zl*s),e.closePath()}};function flt(e,t){let n=null,r=tU(i);e=typeof e=="function"?e:Qr(e||rU),t=typeof t=="function"?t:Qr(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Qr(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Qr(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function JO(){}function eM(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function m0e(e){this._context=e}m0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eM(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hlt(e){return new m0e(e)}function g0e(e){this._context=e}g0e.prototype={areaStart:JO,areaEnd:JO,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function plt(e){return new g0e(e)}function y0e(e){this._context=e}y0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:eM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mlt(e){return new y0e(e)}function b0e(e){this._context=e}b0e.prototype={areaStart:JO,areaEnd:JO,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function glt(e){return new b0e(e)}function oZ(e){return e<0?-1:1}function aZ(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(oZ(o)+oZ(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function sZ(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function L4(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function tM(e){this._context=e}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:L4(this,this._t0,sZ(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,L4(this,sZ(this,n=aZ(this,e,t)),n);break;default:L4(this,this._t0,n=aZ(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function v0e(e){this._context=new x0e(e)}(v0e.prototype=Object.create(tM.prototype)).point=function(e,t){tM.prototype.point.call(this,t,e)};function x0e(e){this._context=e}x0e.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function ylt(e){return new tM(e)}function blt(e){return new v0e(e)}function w0e(e){this._context=e}w0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=lZ(e),i=lZ(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function lZ(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function vlt(e){return new w0e(e)}function IR(e,t){this._context=e,this._t=t}IR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function xlt(e){return new IR(e,.5)}function wlt(e){return new IR(e,0)}function Slt(e){return new IR(e,1)}function S1(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Y8(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Elt(e,t){return e[t]}function Clt(e){const t=[];return t.key=e,t}function Tlt(){var e=Qr([]),t=Y8,n=S1,r=Elt;function i(o){var a=Array.from(e.apply(this,arguments),Clt),s,l=a.length,c=-1,u;for(const d of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(d,a[s].key,c,o)]).data=d;for(s=0,u=nU(t(a));s<l;++s)a[u[s]].index=s;return n(a,u),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Qr(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Qr(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Y8:typeof o=="function"?o:Qr(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??S1,i):n},i}function klt(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}S1(e,t)}}function _lt(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}S1(e,t)}}function Alt(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[r][1]||0,p=u[r-1][1]||0,m=(d-p)/2,v=0;v<s;++v){var x=e[t[v]],w=x[r][1]||0,T=x[r-1][1]||0;m+=w-T}l+=d,c+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,S1(e,t)}}function RC(e){"@babel/helpers - typeof";return RC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RC(e)}var Nlt=["type","size","sizeType"];function G8(){return G8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G8.apply(this,arguments)}function cZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cZ(Object(n),!0).forEach(function(r){Olt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Olt(e,t,n){return t=Mlt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mlt(e){var t=Dlt(e,"string");return RC(t)=="symbol"?t:t+""}function Dlt(e,t){if(RC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(RC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rlt(e,t){if(e==null)return{};var n=Ilt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ilt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var S0e={symbolCircle:rU,symbolCross:tlt,symbolDiamond:rlt,symbolSquare:ilt,symbolStar:llt,symbolTriangle:clt,symbolWye:dlt},Plt=Math.PI/180,Llt=function(t){var n="symbol".concat(MR(t));return S0e[n]||rU},jlt=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Plt;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Blt=function(t,n){S0e["symbol".concat(MR(t))]=n},iU=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,a=t.sizeType,s=a===void 0?"area":a,l=Rlt(t,Nlt),c=uZ(uZ({},l),{},{type:r,size:o,sizeType:s}),u=function(){var w=Llt(r),T=flt().type(w).size(jlt(o,s,r));return T()},d=c.className,p=c.cx,m=c.cy,v=Jn(c,!0);return p===+p&&m===+m&&o===+o?F.createElement("path",G8({},v,{className:Xn("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(m,")"),d:u()})):null};iU.registerSymbol=Blt;function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function K8(){return K8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K8.apply(this,arguments)}function dZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dZ(Object(n),!0).forEach(function(r){IC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hlt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Flt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C0e(r.key),r)}}function Ult(e,t,n){return t&&Flt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zlt(e,t,n){return t=nM(t),Vlt(e,E0e()?Reflect.construct(t,n||[],nM(e).constructor):t.apply(e,n))}function Vlt(e,t){if(t&&(E1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qlt(e)}function qlt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E0e=function(){return!!e})()}function nM(e){return nM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nM(e)}function Wlt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X8(e,t)}function X8(e,t){return X8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X8(e,t)}function IC(e,t,n){return t=C0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C0e(e){var t=Ylt(e,"string");return E1(t)=="symbol"?t:t+""}function Ylt(e,t){if(E1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(E1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ql=32,oU=(function(e){function t(){return Hlt(this,t),zlt(this,t,arguments)}return Wlt(t,e),Ult(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Ql/2,a=Ql/6,s=Ql/3,l=r.inactive?i:r.color;if(r.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Ql,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Ql,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ql/8,"h").concat(Ql,"v").concat(Ql*3/4,"h").concat(-Ql,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var c=$lt({},r);return delete c.legendIcon,F.cloneElement(r.legendIcon,c)}return F.createElement(iU,{fill:l,cx:o,cy:o,size:Ql,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Ql,height:Ql},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,v){var x=m.formatter||l,w=Xn(IC(IC({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var T=Rn(m.value)?null:m.value;Yf(!Rn(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=m.inactive?c:m.color;return F.createElement("li",K8({className:w,style:d,key:"legend-item-".concat(v)},XO(r.props,m,v)),F.createElement(U8,{width:a,height:a,viewBox:u,style:p},r.renderIcon(m)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},x?x(T,m,v):T))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(C.PureComponent);IC(oU,"displayName","Legend");IC(oU,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var j4,fZ;function Glt(){if(fZ)return j4;fZ=1;var e=AR();function t(){this.__data__=new e,this.size=0}return j4=t,j4}var B4,hZ;function Klt(){if(hZ)return B4;hZ=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return B4=e,B4}var $4,pZ;function Xlt(){if(pZ)return $4;pZ=1;function e(t){return this.__data__.get(t)}return $4=e,$4}var H4,mZ;function Zlt(){if(mZ)return H4;mZ=1;function e(t){return this.__data__.has(t)}return H4=e,H4}var F4,gZ;function Qlt(){if(gZ)return F4;gZ=1;var e=AR(),t=K7(),n=X7(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(o,a),this.size=s.size,this}return F4=i,F4}var U4,yZ;function T0e(){if(yZ)return U4;yZ=1;var e=AR(),t=Glt(),n=Klt(),r=Xlt(),i=Zlt(),o=Qlt();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,U4=a,U4}var z4,bZ;function Jlt(){if(bZ)return z4;bZ=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return z4=t,z4}var V4,vZ;function ect(){if(vZ)return V4;vZ=1;function e(t){return this.__data__.has(t)}return V4=e,V4}var q4,xZ;function k0e(){if(xZ)return q4;xZ=1;var e=X7(),t=Jlt(),n=ect();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,q4=r,q4}var W4,wZ;function _0e(){if(wZ)return W4;wZ=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return W4=e,W4}var Y4,SZ;function A0e(){if(SZ)return Y4;SZ=1;function e(t,n){return t.has(n)}return Y4=e,Y4}var G4,EZ;function N0e(){if(EZ)return G4;EZ=1;var e=k0e(),t=_0e(),n=A0e(),r=1,i=2;function o(a,s,l,c,u,d){var p=l&r,m=a.length,v=s.length;if(m!=v&&!(p&&v>m))return!1;var x=d.get(a),w=d.get(s);if(x&&w)return x==s&&w==a;var T=-1,k=!0,N=l&i?new e:void 0;for(d.set(a,s),d.set(s,a);++T<m;){var I=a[T],O=s[T];if(c)var A=p?c(O,I,T,s,a,d):c(I,O,T,a,s,d);if(A!==void 0){if(A)continue;k=!1;break}if(N){if(!t(s,function(R,L){if(!n(N,L)&&(I===R||u(I,R,l,c,d)))return N.push(L)})){k=!1;break}}else if(!(I===O||u(I,O,l,c,d))){k=!1;break}}return d.delete(a),d.delete(s),k}return G4=o,G4}var K4,CZ;function tct(){if(CZ)return K4;CZ=1;var e=zd(),t=e.Uint8Array;return K4=t,K4}var X4,TZ;function nct(){if(TZ)return X4;TZ=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return X4=e,X4}var Z4,kZ;function aU(){if(kZ)return Z4;kZ=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Z4=e,Z4}var Q4,_Z;function rct(){if(_Z)return Q4;_Z=1;var e=sk(),t=tct(),n=G7(),r=N0e(),i=nct(),o=aU(),a=1,s=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",p="[object Number]",m="[object RegExp]",v="[object Set]",x="[object String]",w="[object Symbol]",T="[object ArrayBuffer]",k="[object DataView]",N=e?e.prototype:void 0,I=N?N.valueOf:void 0;function O(A,R,L,B,$,q,z){switch(L){case k:if(A.byteLength!=R.byteLength||A.byteOffset!=R.byteOffset)return!1;A=A.buffer,R=R.buffer;case T:return!(A.byteLength!=R.byteLength||!q(new t(A),new t(R)));case l:case c:case p:return n(+A,+R);case u:return A.name==R.name&&A.message==R.message;case m:case x:return A==R+"";case d:var Y=i;case v:var W=B&a;if(Y||(Y=o),A.size!=R.size&&!W)return!1;var Z=z.get(A);if(Z)return Z==R;B|=s,z.set(A,R);var V=r(Y(A),Y(R),B,$,q,z);return z.delete(A),V;case w:if(I)return I.call(A)==I.call(R)}return!1}return Q4=O,Q4}var J4,AZ;function O0e(){if(AZ)return J4;AZ=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return J4=e,J4}var ej,NZ;function ict(){if(NZ)return ej;NZ=1;var e=O0e(),t=Ws();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return ej=n,ej}var tj,OZ;function oct(){if(OZ)return tj;OZ=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return tj=e,tj}var nj,MZ;function act(){if(MZ)return nj;MZ=1;function e(){return[]}return nj=e,nj}var rj,DZ;function sct(){if(DZ)return rj;DZ=1;var e=oct(),t=act(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return rj=o,rj}var ij,RZ;function lct(){if(RZ)return ij;RZ=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return ij=e,ij}var oj,IZ;function cct(){if(IZ)return oj;IZ=1;var e=yh(),t=bh(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return oj=r,oj}var aj,PZ;function sU(){if(PZ)return aj;PZ=1;var e=cct(),t=bh(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return aj=o,aj}var dE={exports:{}},sj,LZ;function uct(){if(LZ)return sj;LZ=1;function e(){return!1}return sj=e,sj}dE.exports;var jZ;function M0e(){return jZ||(jZ=1,(function(e,t){var n=zd(),r=uct(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c})(dE,dE.exports)),dE.exports}var lj,BZ;function lU(){if(BZ)return lj;BZ=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return lj=n,lj}var cj,$Z;function cU(){if($Z)return cj;$Z=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return cj=t,cj}var uj,HZ;function dct(){if(HZ)return uj;HZ=1;var e=yh(),t=cU(),n=bh(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",p="[object RegExp]",m="[object Set]",v="[object String]",x="[object WeakMap]",w="[object ArrayBuffer]",T="[object DataView]",k="[object Float32Array]",N="[object Float64Array]",I="[object Int8Array]",O="[object Int16Array]",A="[object Int32Array]",R="[object Uint8Array]",L="[object Uint8ClampedArray]",B="[object Uint16Array]",$="[object Uint32Array]",q={};q[k]=q[N]=q[I]=q[O]=q[A]=q[R]=q[L]=q[B]=q[$]=!0,q[r]=q[i]=q[w]=q[o]=q[T]=q[a]=q[s]=q[l]=q[c]=q[u]=q[d]=q[p]=q[m]=q[v]=q[x]=!1;function z(Y){return n(Y)&&t(Y.length)&&!!q[e(Y)]}return uj=z,uj}var dj,FZ;function D0e(){if(FZ)return dj;FZ=1;function e(t){return function(n){return t(n)}}return dj=e,dj}var fE={exports:{}};fE.exports;var UZ;function fct(){return UZ||(UZ=1,(function(e,t){var n=Qge(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();e.exports=s})(fE,fE.exports)),fE.exports}var fj,zZ;function R0e(){if(zZ)return fj;zZ=1;var e=dct(),t=D0e(),n=fct(),r=n&&n.isTypedArray,i=r?t(r):e;return fj=i,fj}var hj,VZ;function hct(){if(VZ)return hj;VZ=1;var e=lct(),t=sU(),n=Ws(),r=M0e(),i=lU(),o=R0e(),a=Object.prototype,s=a.hasOwnProperty;function l(c,u){var d=n(c),p=!d&&t(c),m=!d&&!p&&r(c),v=!d&&!p&&!m&&o(c),x=d||p||m||v,w=x?e(c.length,String):[],T=w.length;for(var k in c)(u||s.call(c,k))&&!(x&&(k=="length"||m&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,T)))&&w.push(k);return w}return hj=l,hj}var pj,qZ;function pct(){if(qZ)return pj;qZ=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return pj=t,pj}var mj,WZ;function I0e(){if(WZ)return mj;WZ=1;function e(t,n){return function(r){return t(n(r))}}return mj=e,mj}var gj,YZ;function mct(){if(YZ)return gj;YZ=1;var e=I0e(),t=e(Object.keys,Object);return gj=t,gj}var yj,GZ;function gct(){if(GZ)return yj;GZ=1;var e=pct(),t=mct(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return yj=i,yj}var bj,KZ;function uk(){if(KZ)return bj;KZ=1;var e=Y7(),t=cU();function n(r){return r!=null&&t(r.length)&&!e(r)}return bj=n,bj}var vj,XZ;function PR(){if(XZ)return vj;XZ=1;var e=hct(),t=gct(),n=uk();function r(i){return n(i)?e(i):t(i)}return vj=r,vj}var xj,ZZ;function yct(){if(ZZ)return xj;ZZ=1;var e=ict(),t=sct(),n=PR();function r(i){return e(i,n,t)}return xj=r,xj}var wj,QZ;function bct(){if(QZ)return wj;QZ=1;var e=yct(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,l,c,u){var d=s&t,p=e(o),m=p.length,v=e(a),x=v.length;if(m!=x&&!d)return!1;for(var w=m;w--;){var T=p[w];if(!(d?T in a:r.call(a,T)))return!1}var k=u.get(o),N=u.get(a);if(k&&N)return k==a&&N==o;var I=!0;u.set(o,a),u.set(a,o);for(var O=d;++w<m;){T=p[w];var A=o[T],R=a[T];if(l)var L=d?l(R,A,T,a,o,u):l(A,R,T,o,a,u);if(!(L===void 0?A===R||c(A,R,s,l,u):L)){I=!1;break}O||(O=T=="constructor")}if(I&&!O){var B=o.constructor,$=a.constructor;B!=$&&"constructor"in o&&"constructor"in a&&!(typeof B=="function"&&B instanceof B&&typeof $=="function"&&$ instanceof $)&&(I=!1)}return u.delete(o),u.delete(a),I}return wj=i,wj}var Sj,JZ;function vct(){if(JZ)return Sj;JZ=1;var e=xy(),t=zd(),n=e(t,"DataView");return Sj=n,Sj}var Ej,eQ;function xct(){if(eQ)return Ej;eQ=1;var e=xy(),t=zd(),n=e(t,"Promise");return Ej=n,Ej}var Cj,tQ;function P0e(){if(tQ)return Cj;tQ=1;var e=xy(),t=zd(),n=e(t,"Set");return Cj=n,Cj}var Tj,nQ;function wct(){if(nQ)return Tj;nQ=1;var e=xy(),t=zd(),n=e(t,"WeakMap");return Tj=n,Tj}var kj,rQ;function Sct(){if(rQ)return kj;rQ=1;var e=vct(),t=K7(),n=xct(),r=P0e(),i=wct(),o=yh(),a=Jge(),s="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",p="[object DataView]",m=a(e),v=a(t),x=a(n),w=a(r),T=a(i),k=o;return(e&&k(new e(new ArrayBuffer(1)))!=p||t&&k(new t)!=s||n&&k(n.resolve())!=c||r&&k(new r)!=u||i&&k(new i)!=d)&&(k=function(N){var I=o(N),O=I==l?N.constructor:void 0,A=O?a(O):"";if(A)switch(A){case m:return p;case v:return s;case x:return c;case w:return u;case T:return d}return I}),kj=k,kj}var _j,iQ;function Ect(){if(iQ)return _j;iQ=1;var e=T0e(),t=N0e(),n=rct(),r=bct(),i=Sct(),o=Ws(),a=M0e(),s=R0e(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function v(x,w,T,k,N,I){var O=o(x),A=o(w),R=O?u:i(x),L=A?u:i(w);R=R==c?d:R,L=L==c?d:L;var B=R==d,$=L==d,q=R==L;if(q&&a(x)){if(!a(w))return!1;O=!0,B=!1}if(q&&!B)return I||(I=new e),O||s(x)?t(x,w,T,k,N,I):n(x,w,R,T,k,N,I);if(!(T&l)){var z=B&&m.call(x,"__wrapped__"),Y=$&&m.call(w,"__wrapped__");if(z||Y){var W=z?x.value():x,Z=Y?w.value():w;return I||(I=new e),N(W,Z,T,k,I)}}return q?(I||(I=new e),r(x,w,T,k,N,I)):!1}return _j=v,_j}var Aj,oQ;function uU(){if(oQ)return Aj;oQ=1;var e=Ect(),t=bh();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return Aj=n,Aj}var Nj,aQ;function Cct(){if(aQ)return Nj;aQ=1;var e=T0e(),t=uU(),n=1,r=2;function i(o,a,s,l){var c=s.length,u=c,d=!l;if(o==null)return!u;for(o=Object(o);c--;){var p=s[c];if(d&&p[2]?p[1]!==o[p[0]]:!(p[0]in o))return!1}for(;++c<u;){p=s[c];var m=p[0],v=o[m],x=p[1];if(d&&p[2]){if(v===void 0&&!(m in o))return!1}else{var w=new e;if(l)var T=l(v,x,m,o,a,w);if(!(T===void 0?t(x,v,n|r,l,w):T))return!1}}return!0}return Nj=i,Nj}var Oj,sQ;function L0e(){if(sQ)return Oj;sQ=1;var e=Dm();function t(n){return n===n&&!e(n)}return Oj=t,Oj}var Mj,lQ;function Tct(){if(lQ)return Mj;lQ=1;var e=L0e(),t=PR();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Mj=n,Mj}var Dj,cQ;function j0e(){if(cQ)return Dj;cQ=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Dj=e,Dj}var Rj,uQ;function kct(){if(uQ)return Rj;uQ=1;var e=Cct(),t=Tct(),n=j0e();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return Rj=r,Rj}var Ij,dQ;function _ct(){if(dQ)return Ij;dQ=1;function e(t,n){return t!=null&&n in Object(t)}return Ij=e,Ij}var Pj,fQ;function Act(){if(fQ)return Pj;fQ=1;var e=n0e(),t=sU(),n=Ws(),r=lU(),i=cU(),o=OR();function a(s,l,c){l=e(l,s);for(var u=-1,d=l.length,p=!1;++u<d;){var m=o(l[u]);if(!(p=s!=null&&c(s,m)))break;s=s[m]}return p||++u!=d?p:(d=s==null?0:s.length,!!d&&i(d)&&r(m,d)&&(n(s)||t(s)))}return Pj=a,Pj}var Lj,hQ;function Nct(){if(hQ)return Lj;hQ=1;var e=_ct(),t=Act();function n(r,i){return r!=null&&t(r,i,e)}return Lj=n,Lj}var jj,pQ;function Oct(){if(pQ)return jj;pQ=1;var e=uU(),t=r0e(),n=Nct(),r=W7(),i=L0e(),o=j0e(),a=OR(),s=1,l=2;function c(u,d){return r(u)&&i(d)?o(a(u),d):function(p){var m=t(p,u);return m===void 0&&m===d?n(p,u):e(d,m,s|l)}}return jj=c,jj}var Bj,mQ;function vx(){if(mQ)return Bj;mQ=1;function e(t){return t}return Bj=e,Bj}var $j,gQ;function Mct(){if(gQ)return $j;gQ=1;function e(t){return function(n){return n?.[t]}}return $j=e,$j}var Hj,yQ;function Dct(){if(yQ)return Hj;yQ=1;var e=Q7();function t(n){return function(r){return e(r,n)}}return Hj=t,Hj}var Fj,bQ;function Rct(){if(bQ)return Fj;bQ=1;var e=Mct(),t=Dct(),n=W7(),r=OR();function i(o){return n(o)?e(r(o)):t(o)}return Fj=i,Fj}var Uj,vQ;function Rm(){if(vQ)return Uj;vQ=1;var e=kct(),t=Oct(),n=vx(),r=Ws(),i=Rct();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return Uj=o,Uj}var zj,xQ;function B0e(){if(xQ)return zj;xQ=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return zj=e,zj}var Vj,wQ;function Ict(){if(wQ)return Vj;wQ=1;function e(t){return t!==t}return Vj=e,Vj}var qj,SQ;function Pct(){if(SQ)return qj;SQ=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return qj=e,qj}var Wj,EQ;function Lct(){if(EQ)return Wj;EQ=1;var e=B0e(),t=Ict(),n=Pct();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return Wj=r,Wj}var Yj,CQ;function jct(){if(CQ)return Yj;CQ=1;var e=Lct();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Yj=t,Yj}var Gj,TQ;function Bct(){if(TQ)return Gj;TQ=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Gj=e,Gj}var Kj,kQ;function $ct(){if(kQ)return Kj;kQ=1;function e(){}return Kj=e,Kj}var Xj,_Q;function Hct(){if(_Q)return Xj;_Q=1;var e=P0e(),t=$ct(),n=aU(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Xj=i,Xj}var Zj,AQ;function Fct(){if(AQ)return Zj;AQ=1;var e=k0e(),t=jct(),n=Bct(),r=A0e(),i=Hct(),o=aU(),a=200;function s(l,c,u){var d=-1,p=t,m=l.length,v=!0,x=[],w=x;if(u)v=!1,p=n;else if(m>=a){var T=c?null:i(l);if(T)return o(T);v=!1,p=r,w=new e}else w=c?[]:x;e:for(;++d<m;){var k=l[d],N=c?c(k):k;if(k=u||k!==0?k:0,v&&N===N){for(var I=w.length;I--;)if(w[I]===N)continue e;c&&w.push(N),x.push(k)}else p(w,N,u)||(w!==x&&w.push(N),x.push(k))}return x}return Zj=s,Zj}var Qj,NQ;function Uct(){if(NQ)return Qj;NQ=1;var e=Rm(),t=Fct();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return Qj=n,Qj}var zct=Uct();const OQ=vr(zct);function $0e(e,t,n){return t===!0?OQ(e,n):Rn(t)?OQ(e,t):e}function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}var Vct=["ref"];function MQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MQ(Object(n),!0).forEach(function(r){LR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F0e(r.key),r)}}function Wct(e,t,n){return t&&DQ(e.prototype,t),n&&DQ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yct(e,t,n){return t=rM(t),Gct(e,H0e()?Reflect.construct(t,n||[],rM(e).constructor):t.apply(e,n))}function Gct(e,t){if(t&&(C1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kct(e)}function Kct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H0e=function(){return!!e})()}function rM(e){return rM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rM(e)}function Xct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z8(e,t)}function Z8(e,t){return Z8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z8(e,t)}function LR(e,t,n){return t=F0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F0e(e){var t=Zct(e,"string");return C1(t)=="symbol"?t:t+""}function Zct(e,t){if(C1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(C1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qct(e,t){if(e==null)return{};var n=Jct(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jct(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function eut(e){return e.value}function tut(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var n=Qct(t,Vct);return F.createElement(oU,n)}var RQ=1,T0=(function(e){function t(){var n;qct(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Yct(this,t,[].concat(i)),LR(n,"lastBoundingBox",{width:-1,height:-1}),n}return Xct(t,e),Wct(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>RQ||Math.abs(i.height-this.lastBoundingBox.height)>RQ)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();d={left:((c||0)-m.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((u||0)-v.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return kf(kf({},d),p)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=kf(kf({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},tut(o,kf(kf({},this.props),{},{payload:$0e(u,c,eut)})))}}],[{key:"getWithHeight",value:function(r,i){var o=kf(kf({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ut(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(C.PureComponent);LR(T0,"displayName","Legend");LR(T0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Jj,IQ;function nut(){if(IQ)return Jj;IQ=1;var e=sk(),t=sU(),n=Ws(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return Jj=i,Jj}var e5,PQ;function U0e(){if(PQ)return e5;PQ=1;var e=O0e(),t=nut();function n(r,i,o,a,s){var l=-1,c=r.length;for(o||(o=t),s||(s=[]);++l<c;){var u=r[l];i>0&&o(u)?i>1?n(u,i-1,o,a,s):e(s,u):a||(s[s.length]=u)}return s}return e5=n,e5}var t5,LQ;function rut(){if(LQ)return t5;LQ=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),l=s.length;l--;){var c=s[t?l:++o];if(r(a[c],c,a)===!1)break}return n}}return t5=e,t5}var n5,jQ;function iut(){if(jQ)return n5;jQ=1;var e=rut(),t=e();return n5=t,n5}var r5,BQ;function z0e(){if(BQ)return r5;BQ=1;var e=iut(),t=PR();function n(r,i){return r&&e(r,i,t)}return r5=n,r5}var i5,$Q;function out(){if($Q)return i5;$Q=1;var e=uk();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,l=Object(i);(r?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return i5=t,i5}var o5,HQ;function dU(){if(HQ)return o5;HQ=1;var e=z0e(),t=out(),n=t(e);return o5=n,o5}var a5,FQ;function V0e(){if(FQ)return a5;FQ=1;var e=dU(),t=uk();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,l,c){a[++o]=i(s,l,c)}),a}return a5=n,a5}var s5,UQ;function aut(){if(UQ)return s5;UQ=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return s5=e,s5}var l5,zQ;function sut(){if(zQ)return l5;zQ=1;var e=yx();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),l=r!==void 0,c=r===null,u=r===r,d=e(r);if(!c&&!d&&!s&&n>r||s&&l&&u&&!c&&!d||o&&l&&u||!i&&u||!a)return 1;if(!o&&!s&&!d&&n<r||d&&i&&a&&!o&&!s||c&&i&&a||!l&&a||!u)return-1}return 0}return l5=t,l5}var c5,VQ;function lut(){if(VQ)return c5;VQ=1;var e=sut();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,l=a.length,c=i.length;++o<l;){var u=e(a[o],s[o]);if(u){if(o>=c)return u;var d=i[o];return u*(d=="desc"?-1:1)}}return n.index-r.index}return c5=t,c5}var u5,qQ;function cut(){if(qQ)return u5;qQ=1;var e=Z7(),t=Q7(),n=Rm(),r=V0e(),i=aut(),o=D0e(),a=lut(),s=vx(),l=Ws();function c(u,d,p){d.length?d=e(d,function(x){return l(x)?function(w){return t(w,x.length===1?x[0]:x)}:x}):d=[s];var m=-1;d=e(d,o(n));var v=r(u,function(x,w,T){var k=e(d,function(N){return N(x)});return{criteria:k,index:++m,value:x}});return i(v,function(x,w){return a(x,w,p)})}return u5=c,u5}var d5,WQ;function uut(){if(WQ)return d5;WQ=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return d5=e,d5}var f5,YQ;function dut(){if(YQ)return f5;YQ=1;var e=uut(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,l=t(a.length-i,0),c=Array(l);++s<l;)c[s]=a[i+s];s=-1;for(var u=Array(i+1);++s<i;)u[s]=a[s];return u[i]=o(c),e(r,this,u)}}return f5=n,f5}var h5,GQ;function fut(){if(GQ)return h5;GQ=1;function e(t){return function(){return t}}return h5=e,h5}var p5,KQ;function q0e(){if(KQ)return p5;KQ=1;var e=xy(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return p5=t,p5}var m5,XQ;function hut(){if(XQ)return m5;XQ=1;var e=fut(),t=q0e(),n=vx(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return m5=r,m5}var g5,ZQ;function put(){if(ZQ)return g5;ZQ=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),l=t-(s-a);if(a=s,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return g5=r,g5}var y5,QQ;function mut(){if(QQ)return y5;QQ=1;var e=hut(),t=put(),n=t(e);return y5=n,y5}var b5,JQ;function gut(){if(JQ)return b5;JQ=1;var e=vx(),t=dut(),n=mut();function r(i,o){return n(t(i,o,e),i+"")}return b5=r,b5}var v5,eJ;function jR(){if(eJ)return v5;eJ=1;var e=G7(),t=uk(),n=lU(),r=Dm();function i(o,a,s){if(!r(s))return!1;var l=typeof a;return(l=="number"?t(s)&&n(a,s.length):l=="string"&&a in s)?e(s[a],o):!1}return v5=i,v5}var x5,tJ;function yut(){if(tJ)return x5;tJ=1;var e=U0e(),t=cut(),n=gut(),r=jR(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return x5=i,x5}var but=yut();const fU=vr(but);function PC(e){"@babel/helpers - typeof";return PC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PC(e)}function Q8(){return Q8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q8.apply(this,arguments)}function vut(e,t){return Eut(e)||Sut(e,t)||wut(e,t)||xut()}function xut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wut(e,t){if(e){if(typeof e=="string")return nJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nJ(e,t)}}function nJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sut(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Eut(e){if(Array.isArray(e))return e}function rJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rJ(Object(n),!0).forEach(function(r){Cut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cut(e,t,n){return t=Tut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tut(e){var t=kut(e,"string");return PC(t)=="symbol"?t:t+""}function kut(e,t){if(PC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(PC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ut(e){return Array.isArray(e)&&To(e[0])&&To(e[1])?e.join(" ~ "):e}var Aut=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,a=t.itemStyle,s=a===void 0?{}:a,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,p=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,x=t.label,w=t.labelFormatter,T=t.accessibilityLayer,k=T===void 0?!1:T,N=function(){if(u&&u.length){var z={padding:0,margin:0},Y=(p?fU(u,p):u).map(function(W,Z){if(W.type==="none")return null;var V=w5({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},s),ne=W.formatter||d||_ut,X=W.value,oe=W.name,K=X,Q=oe;if(ne&&K!=null&&Q!=null){var te=ne(X,oe,W,Z,u);if(Array.isArray(te)){var U=vut(te,2);K=U[0],Q=U[1]}else K=te}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:V},To(Q)?F.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,To(Q)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},K),F.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:z},Y)}return null},I=w5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),O=w5({margin:0},c),A=!qn(x),R=A?x:"",L=Xn("recharts-default-tooltip",m),B=Xn("recharts-tooltip-label",v);A&&w&&u!==void 0&&u!==null&&(R=w(x,u));var $=k?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",Q8({className:L,style:I},$),F.createElement("p",{className:B,style:O},F.isValidElement(R)?R:"".concat(R)),N())};function LC(e){"@babel/helpers - typeof";return LC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LC(e)}function TA(e,t,n){return t=Nut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nut(e){var t=Out(e,"string");return LC(t)=="symbol"?t:t+""}function Out(e,t){if(LC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(LC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var US="recharts-tooltip-wrapper",Mut={visibility:"hidden"};function Dut(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Xn(US,TA(TA(TA(TA({},"".concat(US,"-right"),ut(n)&&t&&ut(t.x)&&n>=t.x),"".concat(US,"-left"),ut(n)&&t&&ut(t.x)&&n<t.x),"".concat(US,"-bottom"),ut(r)&&t&&ut(t.y)&&r>=t.y),"".concat(US,"-top"),ut(r)&&t&&ut(t.y)&&r<t.y))}function iJ(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&ut(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;if(t[r])return a[r]?u:d;if(a[r]){var p=u,m=l[r];return p<m?Math.max(d,l[r]):Math.max(u,l[r])}var v=d+s,x=l[r]+c;return v>x?Math.max(u,l[r]):Math.max(d,l[r])}function Rut(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Iut(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,a=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,d;return a.height>0&&a.width>0&&n?(u=iJ({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=iJ({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Rut({translateX:u,translateY:d,useTranslate3d:s})):c=Mut,{cssProperties:c,cssClasses:Dut({translateX:u,translateY:d,coordinate:n})}}function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function oJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oJ(Object(n),!0).forEach(function(r){e$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Put(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y0e(r.key),r)}}function jut(e,t,n){return t&&Lut(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function But(e,t,n){return t=iM(t),$ut(e,W0e()?Reflect.construct(t,n||[],iM(e).constructor):t.apply(e,n))}function $ut(e,t){if(t&&(T1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hut(e)}function Hut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W0e=function(){return!!e})()}function iM(e){return iM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iM(e)}function Fut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J8(e,t)}function J8(e,t){return J8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J8(e,t)}function e$(e,t,n){return t=Y0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y0e(e){var t=Uut(e,"string");return T1(t)=="symbol"?t:t+""}function Uut(e,t){if(T1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(T1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sJ=1,zut=(function(e){function t(){var n;Put(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=But(this,t,[].concat(i)),e$(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),e$(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return Fut(t,e),jut(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>sJ||Math.abs(r.height-this.state.lastBoundingBox.height)>sJ)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,p=i.isAnimationActive,m=i.offset,v=i.position,x=i.reverseDirection,w=i.useTranslate3d,T=i.viewBox,k=i.wrapperStyle,N=Iut({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:m,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:T}),I=N.cssClasses,O=N.cssProperties,A=aJ(aJ({transition:p&&o?"transform ".concat(s,"ms ").concat(l):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},k);return F.createElement("div",{tabIndex:-1,className:I,style:A,ref:function(L){r.wrapperNode=L}},c)}}])})(C.PureComponent),Vut=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xx={isSsr:Vut()};function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function lJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lJ(Object(n),!0).forEach(function(r){hU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K0e(r.key),r)}}function Yut(e,t,n){return t&&Wut(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gut(e,t,n){return t=oM(t),Kut(e,G0e()?Reflect.construct(t,n||[],oM(e).constructor):t.apply(e,n))}function Kut(e,t){if(t&&(k1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xut(e)}function Xut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G0e=function(){return!!e})()}function oM(e){return oM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oM(e)}function Zut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t$(e,t)}function t$(e,t){return t$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t$(e,t)}function hU(e,t,n){return t=K0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K0e(e){var t=Qut(e,"string");return k1(t)=="symbol"?t:t+""}function Qut(e,t){if(k1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(k1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jut(e){return e.dataKey}function edt(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(Aut,t)}var pd=(function(e){function t(){return qut(this,t),Gut(this,t,arguments)}return Zut(t,e),Yut(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,p=i.isAnimationActive,m=i.offset,v=i.payload,x=i.payloadUniqBy,w=i.position,T=i.reverseDirection,k=i.useTranslate3d,N=i.viewBox,I=i.wrapperStyle,O=v??[];d&&O.length&&(O=$0e(v.filter(function(R){return R.value!=null&&(R.hide!==!0||r.props.includeHidden)}),x,Jut));var A=O.length>0;return F.createElement(zut,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:o,coordinate:u,hasPayload:A,offset:m,position:w,reverseDirection:T,useTranslate3d:k,viewBox:N,wrapperStyle:I},edt(c,cJ(cJ({},this.props),{},{payload:O})))}}])})(C.PureComponent);hU(pd,"displayName","Tooltip");hU(pd,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xx.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var S5,uJ;function tdt(){if(uJ)return S5;uJ=1;var e=zd(),t=function(){return e.Date.now()};return S5=t,S5}var E5,dJ;function ndt(){if(dJ)return E5;dJ=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return E5=t,E5}var C5,fJ;function rdt(){if(fJ)return C5;fJ=1;var e=ndt(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return C5=n,C5}var T5,hJ;function X0e(){if(hJ)return T5;hJ=1;var e=rdt(),t=Dm(),n=yx(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=o.test(c);return d||a.test(c)?s(c.slice(2),d?2:8):i.test(c)?r:+c}return T5=l,T5}var k5,pJ;function idt(){if(pJ)return k5;pJ=1;var e=Dm(),t=tdt(),n=X0e(),r="Expected a function",i=Math.max,o=Math.min;function a(s,l,c){var u,d,p,m,v,x,w=0,T=!1,k=!1,N=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(T=!!c.leading,k="maxWait"in c,p=k?i(n(c.maxWait)||0,l):p,N="trailing"in c?!!c.trailing:N);function I(Y){var W=u,Z=d;return u=d=void 0,w=Y,m=s.apply(Z,W),m}function O(Y){return w=Y,v=setTimeout(L,l),T?I(Y):m}function A(Y){var W=Y-x,Z=Y-w,V=l-W;return k?o(V,p-Z):V}function R(Y){var W=Y-x,Z=Y-w;return x===void 0||W>=l||W<0||k&&Z>=p}function L(){var Y=t();if(R(Y))return B(Y);v=setTimeout(L,A(Y))}function B(Y){return v=void 0,N&&u?I(Y):(u=d=void 0,m)}function $(){v!==void 0&&clearTimeout(v),w=0,u=x=d=v=void 0}function q(){return v===void 0?m:B(t())}function z(){var Y=t(),W=R(Y);if(u=arguments,d=this,x=Y,W){if(v===void 0)return O(x);if(k)return clearTimeout(v),v=setTimeout(L,l),I(x)}return v===void 0&&(v=setTimeout(L,l)),m}return z.cancel=$,z.flush=q,z}return k5=a,k5}var _5,mJ;function odt(){if(mJ)return _5;mJ=1;var e=idt(),t=Dm(),n="Expected a function";function r(i,o,a){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return t(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),e(i,o,{leading:s,maxWait:o,trailing:l})}return _5=r,_5}var adt=odt();const Z0e=vr(adt);function jC(e){"@babel/helpers - typeof";return jC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jC(e)}function gJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gJ(Object(n),!0).forEach(function(r){sdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sdt(e,t,n){return t=ldt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ldt(e){var t=cdt(e,"string");return jC(t)=="symbol"?t:t+""}function cdt(e,t){if(jC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function udt(e,t){return pdt(e)||hdt(e,t)||fdt(e,t)||ddt()}function ddt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fdt(e,t){if(e){if(typeof e=="string")return yJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yJ(e,t)}}function yJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hdt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function pdt(e){if(Array.isArray(e))return e}var mdt=C.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,a=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,p=e.maxHeight,m=e.children,v=e.debounce,x=v===void 0?0:v,w=e.id,T=e.className,k=e.onResize,N=e.style,I=N===void 0?{}:N,O=C.useRef(null),A=C.useRef();A.current=k,C.useImperativeHandle(t,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var R=C.useState({containerWidth:i.width,containerHeight:i.height}),L=udt(R,2),B=L[0],$=L[1],q=C.useCallback(function(Y,W){$(function(Z){var V=Math.round(Y),ne=Math.round(W);return Z.containerWidth===V&&Z.containerHeight===ne?Z:{containerWidth:V,containerHeight:ne}})},[]);C.useEffect(function(){var Y=function(oe){var K,Q=oe[0].contentRect,te=Q.width,U=Q.height;q(te,U),(K=A.current)===null||K===void 0||K.call(A,te,U)};x>0&&(Y=Z0e(Y,x,{trailing:!0,leading:!1}));var W=new ResizeObserver(Y),Z=O.current.getBoundingClientRect(),V=Z.width,ne=Z.height;return q(V,ne),W.observe(O.current),function(){W.disconnect()}},[q,x]);var z=C.useMemo(function(){var Y=B.containerWidth,W=B.containerHeight;if(Y<0||W<0)return null;Yf(u0(a)||u0(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Yf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Z=u0(a)?Y:a,V=u0(l)?W:l;n&&n>0&&(Z?V=Z/n:V&&(Z=V*n),p&&V>p&&(V=p)),Yf(Z>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,V,a,l,u,d,n);var ne=!Array.isArray(m)&&Wf(m.type).endsWith("Chart");return F.Children.map(m,function(X){return F.isValidElement(X)?C.cloneElement(X,kA({width:Z,height:V},ne?{style:kA({height:"100%",width:"100%",maxHeight:V,maxWidth:Z},X.props.style)}:{})):X})},[n,m,l,p,d,u,B,a]);return F.createElement("div",{id:w?"".concat(w):void 0,className:Xn("recharts-responsive-container",T),style:kA(kA({},I),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:p}),ref:O},z)}),Q0e=function(t){return null};Q0e.displayName="Cell";function BC(e){"@babel/helpers - typeof";return BC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BC(e)}function bJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bJ(Object(n),!0).forEach(function(r){gdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gdt(e,t,n){return t=ydt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ydt(e){var t=bdt(e,"string");return BC(t)=="symbol"?t:t+""}function bdt(e,t){if(BC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(BC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pv={widthCache:{},cacheCount:0},vdt=2e3,xdt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vJ="recharts_measurement_span";function wdt(e){var t=n$({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var HE=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xx.isSsr)return{width:0,height:0};var r=wdt(n),i=JSON.stringify({text:t,copyStyle:r});if(pv.widthCache[i])return pv.widthCache[i];try{var o=document.getElementById(vJ);o||(o=document.createElement("span"),o.setAttribute("id",vJ),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=n$(n$({},xdt),r);Object.assign(o.style,a),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return pv.widthCache[i]=l,++pv.cacheCount>vdt&&(pv.cacheCount=0,pv.widthCache={}),l}catch{return{width:0,height:0}}},Sdt=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function $C(e){"@babel/helpers - typeof";return $C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$C(e)}function aM(e,t){return kdt(e)||Tdt(e,t)||Cdt(e,t)||Edt()}function Edt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cdt(e,t){if(e){if(typeof e=="string")return xJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xJ(e,t)}}function xJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tdt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function kdt(e){if(Array.isArray(e))return e}function _dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ndt(r.key),r)}}function Adt(e,t,n){return t&&wJ(e.prototype,t),n&&wJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ndt(e){var t=Odt(e,"string");return $C(t)=="symbol"?t:t+""}function Odt(e,t){if($C(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($C(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mdt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ddt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,J0e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rdt=Object.keys(J0e),Iv="NaN";function Idt(e,t){return e*J0e[t]}var _A=(function(){function e(t,n){_dt(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Mdt.test(n)&&(this.num=NaN,this.unit=""),Rdt.includes(n)&&(this.num=Idt(t,n),this.unit="px")}return Adt(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ddt.exec(n))!==null&&r!==void 0?r:[],o=aM(i,3),a=o[1],s=o[2];return new e(parseFloat(a),s??"")}}])})();function eye(e){if(e.includes(Iv))return Iv;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=SJ.exec(t))!==null&&n!==void 0?n:[],i=aM(r,4),o=i[1],a=i[2],s=i[3],l=_A.parse(o??""),c=_A.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Iv;t=t.replace(SJ,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,p=(d=EJ.exec(t))!==null&&d!==void 0?d:[],m=aM(p,4),v=m[1],x=m[2],w=m[3],T=_A.parse(v??""),k=_A.parse(w??""),N=x==="+"?T.add(k):T.subtract(k);if(N.isNaN())return Iv;t=t.replace(EJ,N.toString())}return t}var CJ=/\(([^()]*)\)/;function Pdt(e){for(var t=e;t.includes("(");){var n=CJ.exec(t),r=aM(n,2),i=r[1];t=t.replace(CJ,eye(i))}return t}function Ldt(e){var t=e.replace(/\s+/g,"");return t=Pdt(t),t=eye(t),t}function jdt(e){try{return Ldt(e)}catch{return Iv}}function A5(e){var t=jdt(e.slice(5,-1));return t===Iv?"":t}var Bdt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$dt=["dx","dy","angle","className","breakAll"];function r$(){return r$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r$.apply(this,arguments)}function TJ(e,t){if(e==null)return{};var n=Hdt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hdt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kJ(e,t){return Vdt(e)||zdt(e,t)||Udt(e,t)||Fdt()}function Fdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Udt(e,t){if(e){if(typeof e=="string")return _J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _J(e,t)}}function _J(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zdt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Vdt(e){if(Array.isArray(e))return e}var tye=/[ \f\n\r\t\v\u2028\u2029]+/,nye=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];qn(n)||(r?o=n.toString().split(""):o=n.toString().split(tye));var a=o.map(function(l){return{word:l,width:HE(l,i).width}}),s=r?0:HE("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},qdt=function(t,n,r,i,o){var a=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=ut(a),d=s,p=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(V,ne){var X=ne.word,oe=ne.width,K=V[V.length-1];if(K&&(i==null||o||K.width+oe+r<Number(i)))K.words.push(X),K.width+=oe+r;else{var Q={words:[X],width:oe};V.push(Q)}return V},[])},m=p(n),v=function(Z){return Z.reduce(function(V,ne){return V.width>ne.width?V:ne})};if(!u)return m;for(var x="",w=function(Z){var V=d.slice(0,Z),ne=nye({breakAll:c,style:l,children:V+x}).wordsWithComputedWidth,X=p(ne),oe=X.length>a||v(X).width>Number(i);return[oe,X]},T=0,k=d.length-1,N=0,I;T<=k&&N<=d.length-1;){var O=Math.floor((T+k)/2),A=O-1,R=w(A),L=kJ(R,2),B=L[0],$=L[1],q=w(O),z=kJ(q,1),Y=z[0];if(!B&&!Y&&(T=O+1),B&&Y&&(k=O-1),!B&&Y){I=$;break}N++}return I||m},AJ=function(t){var n=qn(t)?[]:t.toString().split(tye);return[{words:n}]},Wdt=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,a=t.breakAll,s=t.maxLines;if((n||r)&&!xx.isSsr){var l,c,u=nye({breakAll:a,children:i,style:o});if(u){var d=u.wordsWithComputedWidth,p=u.spaceWidth;l=d,c=p}else return AJ(i);return qdt({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return AJ(i)},NJ="#808080",sM=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.lineHeight,s=a===void 0?"1em":a,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,p=t.textAnchor,m=p===void 0?"start":p,v=t.verticalAnchor,x=v===void 0?"end":v,w=t.fill,T=w===void 0?NJ:w,k=TJ(t,Bdt),N=C.useMemo(function(){return Wdt({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:d,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,d,k.style,k.width]),I=k.dx,O=k.dy,A=k.angle,R=k.className,L=k.breakAll,B=TJ(k,$dt);if(!To(r)||!To(o))return null;var $=r+(ut(I)?I:0),q=o+(ut(O)?O:0),z;switch(x){case"start":z=A5("calc(".concat(c,")"));break;case"middle":z=A5("calc(".concat((N.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:z=A5("calc(".concat(N.length-1," * -").concat(s,")"));break}var Y=[];if(d){var W=N[0].width,Z=k.width;Y.push("scale(".concat((ut(Z)?Z/W:1)/W,")"))}return A&&Y.push("rotate(".concat(A,", ").concat($,", ").concat(q,")")),Y.length&&(B.transform=Y.join(" ")),F.createElement("text",r$({},Jn(B,!0),{x:$,y:q,className:Xn("recharts-text",R),textAnchor:m,fill:T.includes("url")?NJ:T}),N.map(function(V,ne){var X=V.words.join(L?"":" ");return F.createElement("tspan",{x:$,dy:ne===0?z:s,key:"".concat(X,"-").concat(ne)},X)}))};function Qp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ydt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pU(e){let t,n,r;e.length!==2?(t=Qp,n=(s,l)=>Qp(e(s),l),r=(s,l)=>e(s)-l):(t=e===Qp||e===Ydt?e:Gdt,n=e,r=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function Gdt(){return 0}function rye(e){return e===null?NaN:+e}function*Kdt(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Xdt=pU(Qp),dk=Xdt.right;pU(rye).center;class OJ extends Map{constructor(t,n=Jdt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(MJ(this,t))}has(t){return super.has(MJ(this,t))}set(t,n){return super.set(Zdt(this,t),n)}delete(t){return super.delete(Qdt(this,t))}}function MJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Zdt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Qdt({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Jdt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function eft(e=Qp){if(e===Qp)return iye;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function iye(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tft=Math.sqrt(50),nft=Math.sqrt(10),rft=Math.sqrt(2);function lM(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=tft?10:o>=nft?5:o>=rft?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?lM(e,t,n*2):[s,l,c]}function i$(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?lM(t,e,n):lM(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function o$(e,t,n){return t=+t,e=+e,n=+n,lM(e,t,n)[2]}function a$(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?o$(t,e,n):o$(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function DJ(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function RJ(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oye(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?iye:eft(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*d/l+p)),v=Math.min(r,Math.floor(t+(l-c)*d/l+p));oye(e,t,m,v,i)}const o=e[t];let a=n,s=r;for(zS(e,n,t),i(e[r],o)>0&&zS(e,n,r);a<s;){for(zS(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?zS(e,n,s):(++s,zS(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function zS(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ift(e,t,n){if(e=Float64Array.from(Kdt(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return RJ(e);if(t>=1)return DJ(e);var r,i=(r-1)*t,o=Math.floor(i),a=DJ(oye(e,o).subarray(0,o+1)),s=RJ(e.subarray(o+1));return a+(s-a)*(i-o)}}function oft(e,t,n=rye){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function aft(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function _c(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function vh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const s$=Symbol("implicit");function mU(){var e=new OJ,t=[],n=[],r=s$;function i(o){let a=e.get(o);if(a===void 0){if(r!==s$)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new OJ;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return mU(t,n).unknown(r)},_c.apply(i,arguments),i}function HC(){var e=mU().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var p=t().length,m=i<r,v=m?i:r,x=m?r:i;o=(x-v)/Math.max(1,p-l+c*2),s&&(o=Math.floor(o)),v+=(x-v-o*(p-l))*u,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var w=aft(p).map(function(T){return v+o*T});return n(m?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,d()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),d()):u},e.copy=function(){return HC(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},_c.apply(d(),arguments)}function aye(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aye(t())},e}function FE(){return aye(HC.apply(null,arguments).paddingInner(1))}function gU(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function sye(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fk(){}var FC=.7,cM=1/FC,t1="\\s*([+-]?\\d+)\\s*",UC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sft=/^#([0-9a-f]{3,8})$/,lft=new RegExp(`^rgb\\(${t1},${t1},${t1}\\)$`),cft=new RegExp(`^rgb\\(${Ad},${Ad},${Ad}\\)$`),uft=new RegExp(`^rgba\\(${t1},${t1},${t1},${UC}\\)$`),dft=new RegExp(`^rgba\\(${Ad},${Ad},${Ad},${UC}\\)$`),fft=new RegExp(`^hsl\\(${UC},${Ad},${Ad}\\)$`),hft=new RegExp(`^hsla\\(${UC},${Ad},${Ad},${UC}\\)$`),IJ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gU(fk,zC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PJ,formatHex:PJ,formatHex8:pft,formatHsl:mft,formatRgb:LJ,toString:LJ});function PJ(){return this.rgb().formatHex()}function pft(){return this.rgb().formatHex8()}function mft(){return lye(this).formatHsl()}function LJ(){return this.rgb().formatRgb()}function zC(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sft.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?jJ(t):n===3?new Bs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?AA(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?AA(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lft.exec(e))?new Bs(t[1],t[2],t[3],1):(t=cft.exec(e))?new Bs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uft.exec(e))?AA(t[1],t[2],t[3],t[4]):(t=dft.exec(e))?AA(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fft.exec(e))?HJ(t[1],t[2]/100,t[3]/100,1):(t=hft.exec(e))?HJ(t[1],t[2]/100,t[3]/100,t[4]):IJ.hasOwnProperty(e)?jJ(IJ[e]):e==="transparent"?new Bs(NaN,NaN,NaN,0):null}function jJ(e){return new Bs(e>>16&255,e>>8&255,e&255,1)}function AA(e,t,n,r){return r<=0&&(e=t=n=NaN),new Bs(e,t,n,r)}function gft(e){return e instanceof fk||(e=zC(e)),e?(e=e.rgb(),new Bs(e.r,e.g,e.b,e.opacity)):new Bs}function l$(e,t,n,r){return arguments.length===1?gft(e):new Bs(e,t,n,r??1)}function Bs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gU(Bs,l$,sye(fk,{brighter(e){return e=e==null?cM:Math.pow(cM,e),new Bs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?FC:Math.pow(FC,e),new Bs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bs(k0(this.r),k0(this.g),k0(this.b),uM(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BJ,formatHex:BJ,formatHex8:yft,formatRgb:$J,toString:$J}));function BJ(){return`#${d0(this.r)}${d0(this.g)}${d0(this.b)}`}function yft(){return`#${d0(this.r)}${d0(this.g)}${d0(this.b)}${d0((isNaN(this.opacity)?1:this.opacity)*255)}`}function $J(){const e=uM(this.opacity);return`${e===1?"rgb(":"rgba("}${k0(this.r)}, ${k0(this.g)}, ${k0(this.b)}${e===1?")":`, ${e})`}`}function uM(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function k0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function d0(e){return e=k0(e),(e<16?"0":"")+e.toString(16)}function HJ(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cu(e,t,n,r)}function lye(e){if(e instanceof cu)return new cu(e.h,e.s,e.l,e.opacity);if(e instanceof fk||(e=zC(e)),!e)return new cu;if(e instanceof cu)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new cu(a,s,l,e.opacity)}function bft(e,t,n,r){return arguments.length===1?lye(e):new cu(e,t,n,r??1)}function cu(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gU(cu,bft,sye(fk,{brighter(e){return e=e==null?cM:Math.pow(cM,e),new cu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?FC:Math.pow(FC,e),new cu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Bs(N5(e>=240?e-240:e+120,i,r),N5(e,i,r),N5(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new cu(FJ(this.h),NA(this.s),NA(this.l),uM(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uM(this.opacity);return`${e===1?"hsl(":"hsla("}${FJ(this.h)}, ${NA(this.s)*100}%, ${NA(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FJ(e){return e=(e||0)%360,e<0?e+360:e}function NA(e){return Math.max(0,Math.min(1,e||0))}function N5(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yU=e=>()=>e;function vft(e,t){return function(n){return e+n*t}}function xft(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wft(e){return(e=+e)==1?cye:function(t,n){return n-t?xft(t,n,e):yU(isNaN(t)?n:t)}}function cye(e,t){var n=t-e;return n?vft(e,n):yU(isNaN(e)?t:e)}const UJ=(function e(t){var n=wft(t);function r(i,o){var a=n((i=l$(i)).r,(o=l$(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=cye(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r})(1);function Sft(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Eft(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Cft(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=wx(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Tft(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dM(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kft(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=wx(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var c$=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O5=new RegExp(c$.source,"g");function _ft(e){return function(){return e}}function Aft(e){return function(t){return e(t)+""}}function Nft(e,t){var n=c$.lastIndex=O5.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=c$.exec(e))&&(i=O5.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:dM(r,i)})),n=O5.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Aft(l[0].x):_ft(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function wx(e,t){var n=typeof t,r;return t==null||n==="boolean"?yU(t):(n==="number"?dM:n==="string"?(r=zC(t))?(t=r,UJ):Nft:t instanceof zC?UJ:t instanceof Date?Tft:Eft(t)?Sft:Array.isArray(t)?Cft:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kft:dM)(e,t)}function bU(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Oft(e,t){t===void 0&&(t=e,e=wx);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Mft(e){return function(){return e}}function fM(e){return+e}var zJ=[0,1];function ts(e){return e}function u$(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Mft(isNaN(t)?NaN:.5)}function Dft(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Rft(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=u$(i,r),o=n(a,o)):(r=u$(r,i),o=n(o,a)),function(s){return o(r(s))}}function Ift(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=u$(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=dk(e,s,1,r)-1;return o[l](i[l](s))}}function hk(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function BR(){var e=zJ,t=zJ,n=wx,r,i,o,a=ts,s,l,c;function u(){var p=Math.min(e.length,t.length);return a!==ts&&(a=Dft(e[0],e[p-1])),s=p>2?Ift:Rft,l=c=null,d}function d(p){return p==null||isNaN(p=+p)?o:(l||(l=s(e.map(r),t,n)))(r(a(p)))}return d.invert=function(p){return a(i((c||(c=s(t,e.map(r),dM)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,fM),u()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),n=bU,u()},d.clamp=function(p){return arguments.length?(a=p?!0:ts,u()):a!==ts},d.interpolate=function(p){return arguments.length?(n=p,u()):n},d.unknown=function(p){return arguments.length?(o=p,d):o},function(p,m){return r=p,i=m,u()}}function vU(){return BR()(ts,ts)}function Pft(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hM(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _1(e){return e=hM(Math.abs(e)),e?e[1]:NaN}function Lft(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function jft(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Bft=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function VC(e){if(!(t=Bft.exec(e)))throw new Error("invalid format: "+e);var t;return new xU({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}VC.prototype=xU.prototype;function xU(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $ft(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var uye;function Hft(e,t){var n=hM(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(uye=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+hM(e,Math.max(0,t+o-1))[0]}function VJ(e,t){var n=hM(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qJ={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pft,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VJ(e*100,t),r:VJ,s:Hft,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WJ(e){return e}var YJ=Array.prototype.map,GJ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fft(e){var t=e.grouping===void 0||e.thousands===void 0?WJ:Lft(YJ.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?WJ:jft(YJ.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=VC(d);var p=d.fill,m=d.align,v=d.sign,x=d.symbol,w=d.zero,T=d.width,k=d.comma,N=d.precision,I=d.trim,O=d.type;O==="n"?(k=!0,O="g"):qJ[O]||(N===void 0&&(N=12),I=!0,O="g"),(w||p==="0"&&m==="=")&&(w=!0,p="0",m="=");var A=x==="$"?n:x==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",R=x==="$"?r:/[%p]/.test(O)?a:"",L=qJ[O],B=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function $(q){var z=A,Y=R,W,Z,V;if(O==="c")Y=L(q)+Y,q="";else{q=+q;var ne=q<0||1/q<0;if(q=isNaN(q)?l:L(Math.abs(q),N),I&&(q=$ft(q)),ne&&+q==0&&v!=="+"&&(ne=!1),z=(ne?v==="("?v:s:v==="-"||v==="("?"":v)+z,Y=(O==="s"?GJ[8+uye/3]:"")+Y+(ne&&v==="("?")":""),B){for(W=-1,Z=q.length;++W<Z;)if(V=q.charCodeAt(W),48>V||V>57){Y=(V===46?i+q.slice(W+1):q.slice(W))+Y,q=q.slice(0,W);break}}}k&&!w&&(q=t(q,1/0));var X=z.length+q.length+Y.length,oe=X<T?new Array(T-X+1).join(p):"";switch(k&&w&&(q=t(oe+q,oe.length?T-Y.length:1/0),oe=""),m){case"<":q=z+q+Y+oe;break;case"=":q=z+oe+q+Y;break;case"^":q=oe.slice(0,X=oe.length>>1)+z+q+Y+oe.slice(X);break;default:q=oe+z+q+Y;break}return o(q)}return $.toString=function(){return d+""},$}function u(d,p){var m=c((d=VC(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(_1(p)/3)))*3,x=Math.pow(10,-v),w=GJ[8+v/3];return function(T){return m(x*T)+w}}return{format:c,formatPrefix:u}}var OA,wU,dye;Uft({thousands:",",grouping:[3],currency:["$",""]});function Uft(e){return OA=Fft(e),wU=OA.format,dye=OA.formatPrefix,OA}function zft(e){return Math.max(0,-_1(Math.abs(e)))}function Vft(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_1(t)/3)))*3-_1(Math.abs(e)))}function qft(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_1(t)-_1(e))+1}function fye(e,t,n,r){var i=a$(e,t,n),o;switch(r=VC(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Vft(i,a))&&(r.precision=o),dye(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=qft(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=zft(i))&&(r.precision=o-(r.type==="%")*2);break}}return wU(r)}function Im(e){var t=e.domain;return e.ticks=function(n){var r=t();return i$(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return fye(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=o$(a,s,n),c===l)return r[i]=a,r[o]=s,t(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function pM(){var e=vU();return e.copy=function(){return hk(e,pM())},_c.apply(e,arguments),Im(e)}function hye(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,fM),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return hye(e).unknown(t)},e=arguments.length?Array.from(e,fM):[0,1],Im(n)}function pye(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function KJ(e){return Math.log(e)}function XJ(e){return Math.exp(e)}function Wft(e){return-Math.log(-e)}function Yft(e){return-Math.exp(-e)}function Gft(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Kft(e){return e===10?Gft:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Xft(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ZJ(e){return(t,n)=>-e(-t,n)}function SU(e){const t=e(KJ,XJ),n=t.domain;let r=10,i,o;function a(){return i=Xft(r),o=Kft(r),n()[0]<0?(i=ZJ(i),o=ZJ(o),e(Wft,Yft)):e(KJ,XJ),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let p=i(c),m=i(u),v,x;const w=s==null?10:+s;let T=[];if(!(r%1)&&m-p<w){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(v=1;v<r;++v)if(x=p<0?v/o(-p):v*o(p),!(x<c)){if(x>u)break;T.push(x)}}else for(;p<=m;++p)for(v=r-1;v>=1;--v)if(x=p>0?v/o(-p):v*o(p),!(x<c)){if(x>u)break;T.push(x)}T.length*2<w&&(T=i$(c,u,w))}else T=i$(p,m,Math.min(m-p,w)).map(o);return d?T.reverse():T},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=VC(l)).precision==null&&(l.trim=!0),l=wU(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},t.nice=()=>n(pye(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function mye(){const e=SU(BR()).domain([1,10]);return e.copy=()=>hk(e,mye()).base(e.base()),_c.apply(e,arguments),e}function QJ(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JJ(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function EU(e){var t=1,n=e(QJ(t),JJ(t));return n.constant=function(r){return arguments.length?e(QJ(t=+r),JJ(t)):t},Im(n)}function gye(){var e=EU(BR());return e.copy=function(){return hk(e,gye()).constant(e.constant())},_c.apply(e,arguments)}function eee(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Zft(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Qft(e){return e<0?-e*e:e*e}function CU(e){var t=e(ts,ts),n=1;function r(){return n===1?e(ts,ts):n===.5?e(Zft,Qft):e(eee(n),eee(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Im(t)}function TU(){var e=CU(BR());return e.copy=function(){return hk(e,TU()).exponent(e.exponent())},_c.apply(e,arguments),e}function Jft(){return TU.apply(null,arguments).exponent(.5)}function tee(e){return Math.sign(e)*e*e}function eht(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yye(){var e=vU(),t=[0,1],n=!1,r;function i(o){var a=eht(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(tee(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,fM)).map(tee)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yye(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},_c.apply(i,arguments),Im(i)}function bye(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=oft(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[dk(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Qp),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return bye().domain(e).range(t).unknown(r)},_c.apply(o,arguments)}function vye(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[dk(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return vye().domain([e,t]).range(i).unknown(o)},_c.apply(Im(a),arguments)}function xye(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[dk(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xye().domain(e).range(t).unknown(n)},_c.apply(i,arguments)}const M5=new Date,D5=new Date;function _o(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<a);return l},i.filter=o=>_o(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(M5.setTime(+o),D5.setTime(+a),e(M5),e(D5),Math.floor(n(M5,D5))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const mM=_o(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mM.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_o(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):mM);mM.range;const If=1e3,uc=If*60,Pf=uc*60,ih=Pf*24,kU=ih*7,nee=ih*30,R5=ih*365,f0=_o(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*If)},(e,t)=>(t-e)/If,e=>e.getUTCSeconds());f0.range;const _U=_o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*If)},(e,t)=>{e.setTime(+e+t*uc)},(e,t)=>(t-e)/uc,e=>e.getMinutes());_U.range;const AU=_o(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*uc)},(e,t)=>(t-e)/uc,e=>e.getUTCMinutes());AU.range;const NU=_o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*If-e.getMinutes()*uc)},(e,t)=>{e.setTime(+e+t*Pf)},(e,t)=>(t-e)/Pf,e=>e.getHours());NU.range;const OU=_o(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Pf)},(e,t)=>(t-e)/Pf,e=>e.getUTCHours());OU.range;const pk=_o(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uc)/ih,e=>e.getDate()-1);pk.range;const $R=_o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ih,e=>e.getUTCDate()-1);$R.range;const wye=_o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ih,e=>Math.floor(e/ih));wye.range;function wy(e){return _o(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*uc)/kU)}const HR=wy(0),gM=wy(1),tht=wy(2),nht=wy(3),A1=wy(4),rht=wy(5),iht=wy(6);HR.range;gM.range;tht.range;nht.range;A1.range;rht.range;iht.range;function Sy(e){return _o(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/kU)}const FR=Sy(0),yM=Sy(1),oht=Sy(2),aht=Sy(3),N1=Sy(4),sht=Sy(5),lht=Sy(6);FR.range;yM.range;oht.range;aht.range;N1.range;sht.range;lht.range;const MU=_o(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());MU.range;const DU=_o(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());DU.range;const oh=_o(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());oh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_o(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});oh.range;const ah=_o(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ah.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_o(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ah.range;function Sye(e,t,n,r,i,o){const a=[[f0,1,If],[f0,5,5*If],[f0,15,15*If],[f0,30,30*If],[o,1,uc],[o,5,5*uc],[o,15,15*uc],[o,30,30*uc],[i,1,Pf],[i,3,3*Pf],[i,6,6*Pf],[i,12,12*Pf],[r,1,ih],[r,2,2*ih],[n,1,kU],[t,1,nee],[t,3,3*nee],[e,1,R5]];function s(c,u,d){const p=u<c;p&&([c,u]=[u,c]);const m=d&&typeof d.range=="function"?d:l(c,u,d),v=m?m.range(c,+u+1):[];return p?v.reverse():v}function l(c,u,d){const p=Math.abs(u-c)/d,m=pU(([,,w])=>w).right(a,p);if(m===a.length)return e.every(a$(c/R5,u/R5,d));if(m===0)return mM.every(Math.max(a$(c,u,d),1));const[v,x]=a[p/a[m-1][2]<a[m][2]/p?m-1:m];return v.every(x)}return[s,l]}const[cht,uht]=Sye(ah,DU,FR,wye,OU,AU),[dht,fht]=Sye(oh,MU,HR,pk,NU,_U);function I5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function P5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function VS(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function hht(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=qS(i),u=WS(i),d=qS(o),p=WS(o),m=qS(a),v=WS(a),x=qS(s),w=WS(s),T=qS(l),k=WS(l),N={a:ne,A:X,b:oe,B:K,c:null,d:lee,e:lee,f:Lht,g:Wht,G:Ght,H:Rht,I:Iht,j:Pht,L:Eye,m:jht,M:Bht,p:Q,q:te,Q:dee,s:fee,S:$ht,u:Hht,U:Fht,V:Uht,w:zht,W:Vht,x:null,X:null,y:qht,Y:Yht,Z:Kht,"%":uee},I={a:U,A:he,b:se,B:we,c:null,d:cee,e:cee,f:Jht,g:cpt,G:dpt,H:Xht,I:Zht,j:Qht,L:Tye,m:ept,M:tpt,p:ve,q:je,Q:dee,s:fee,S:npt,u:rpt,U:ipt,V:opt,w:apt,W:spt,x:null,X:null,y:lpt,Y:upt,Z:fpt,"%":uee},O={a:$,A:q,b:z,B:Y,c:W,d:aee,e:aee,f:Nht,g:oee,G:iee,H:see,I:see,j:Tht,L:Aht,m:Cht,M:kht,p:B,q:Eht,Q:Mht,s:Dht,S:_ht,u:bht,U:vht,V:xht,w:yht,W:wht,x:Z,X:V,y:oee,Y:iee,Z:Sht,"%":Oht};N.x=A(n,N),N.X=A(r,N),N.c=A(t,N),I.x=A(n,I),I.X=A(r,I),I.c=A(t,I);function A(Te,He){return function(Ge){var De=[],Ft=-1,Ee=0,It=Te.length,sn,Yt,xr;for(Ge instanceof Date||(Ge=new Date(+Ge));++Ft<It;)Te.charCodeAt(Ft)===37&&(De.push(Te.slice(Ee,Ft)),(Yt=ree[sn=Te.charAt(++Ft)])!=null?sn=Te.charAt(++Ft):Yt=sn==="e"?" ":"0",(xr=He[sn])&&(sn=xr(Ge,Yt)),De.push(sn),Ee=Ft+1);return De.push(Te.slice(Ee,Ft)),De.join("")}}function R(Te,He){return function(Ge){var De=VS(1900,void 0,1),Ft=L(De,Te,Ge+="",0),Ee,It;if(Ft!=Ge.length)return null;if("Q"in De)return new Date(De.Q);if("s"in De)return new Date(De.s*1e3+("L"in De?De.L:0));if(He&&!("Z"in De)&&(De.Z=0),"p"in De&&(De.H=De.H%12+De.p*12),De.m===void 0&&(De.m="q"in De?De.q:0),"V"in De){if(De.V<1||De.V>53)return null;"w"in De||(De.w=1),"Z"in De?(Ee=P5(VS(De.y,0,1)),It=Ee.getUTCDay(),Ee=It>4||It===0?yM.ceil(Ee):yM(Ee),Ee=$R.offset(Ee,(De.V-1)*7),De.y=Ee.getUTCFullYear(),De.m=Ee.getUTCMonth(),De.d=Ee.getUTCDate()+(De.w+6)%7):(Ee=I5(VS(De.y,0,1)),It=Ee.getDay(),Ee=It>4||It===0?gM.ceil(Ee):gM(Ee),Ee=pk.offset(Ee,(De.V-1)*7),De.y=Ee.getFullYear(),De.m=Ee.getMonth(),De.d=Ee.getDate()+(De.w+6)%7)}else("W"in De||"U"in De)&&("w"in De||(De.w="u"in De?De.u%7:"W"in De?1:0),It="Z"in De?P5(VS(De.y,0,1)).getUTCDay():I5(VS(De.y,0,1)).getDay(),De.m=0,De.d="W"in De?(De.w+6)%7+De.W*7-(It+5)%7:De.w+De.U*7-(It+6)%7);return"Z"in De?(De.H+=De.Z/100|0,De.M+=De.Z%100,P5(De)):I5(De)}}function L(Te,He,Ge,De){for(var Ft=0,Ee=He.length,It=Ge.length,sn,Yt;Ft<Ee;){if(De>=It)return-1;if(sn=He.charCodeAt(Ft++),sn===37){if(sn=He.charAt(Ft++),Yt=O[sn in ree?He.charAt(Ft++):sn],!Yt||(De=Yt(Te,Ge,De))<0)return-1}else if(sn!=Ge.charCodeAt(De++))return-1}return De}function B(Te,He,Ge){var De=c.exec(He.slice(Ge));return De?(Te.p=u.get(De[0].toLowerCase()),Ge+De[0].length):-1}function $(Te,He,Ge){var De=m.exec(He.slice(Ge));return De?(Te.w=v.get(De[0].toLowerCase()),Ge+De[0].length):-1}function q(Te,He,Ge){var De=d.exec(He.slice(Ge));return De?(Te.w=p.get(De[0].toLowerCase()),Ge+De[0].length):-1}function z(Te,He,Ge){var De=T.exec(He.slice(Ge));return De?(Te.m=k.get(De[0].toLowerCase()),Ge+De[0].length):-1}function Y(Te,He,Ge){var De=x.exec(He.slice(Ge));return De?(Te.m=w.get(De[0].toLowerCase()),Ge+De[0].length):-1}function W(Te,He,Ge){return L(Te,t,He,Ge)}function Z(Te,He,Ge){return L(Te,n,He,Ge)}function V(Te,He,Ge){return L(Te,r,He,Ge)}function ne(Te){return a[Te.getDay()]}function X(Te){return o[Te.getDay()]}function oe(Te){return l[Te.getMonth()]}function K(Te){return s[Te.getMonth()]}function Q(Te){return i[+(Te.getHours()>=12)]}function te(Te){return 1+~~(Te.getMonth()/3)}function U(Te){return a[Te.getUTCDay()]}function he(Te){return o[Te.getUTCDay()]}function se(Te){return l[Te.getUTCMonth()]}function we(Te){return s[Te.getUTCMonth()]}function ve(Te){return i[+(Te.getUTCHours()>=12)]}function je(Te){return 1+~~(Te.getUTCMonth()/3)}return{format:function(Te){var He=A(Te+="",N);return He.toString=function(){return Te},He},parse:function(Te){var He=R(Te+="",!1);return He.toString=function(){return Te},He},utcFormat:function(Te){var He=A(Te+="",I);return He.toString=function(){return Te},He},utcParse:function(Te){var He=R(Te+="",!0);return He.toString=function(){return Te},He}}}var ree={"-":"",_:" ",0:"0"},Uo=/^\s*\d+/,pht=/^%/,mht=/[\\^$*+?|[\]().{}]/g;function pr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function ght(e){return e.replace(mht,"\\$&")}function qS(e){return new RegExp("^(?:"+e.map(ght).join("|")+")","i")}function WS(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function yht(e,t,n){var r=Uo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bht(e,t,n){var r=Uo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function vht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function wht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function iee(e,t,n){var r=Uo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function oee(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Sht(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Eht(e,t,n){var r=Uo.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Cht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function aee(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Tht(e,t,n){var r=Uo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function see(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function kht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _ht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Aht(e,t,n){var r=Uo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Nht(e,t,n){var r=Uo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Oht(e,t,n){var r=pht.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Mht(e,t,n){var r=Uo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Dht(e,t,n){var r=Uo.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function lee(e,t){return pr(e.getDate(),t,2)}function Rht(e,t){return pr(e.getHours(),t,2)}function Iht(e,t){return pr(e.getHours()%12||12,t,2)}function Pht(e,t){return pr(1+pk.count(oh(e),e),t,3)}function Eye(e,t){return pr(e.getMilliseconds(),t,3)}function Lht(e,t){return Eye(e,t)+"000"}function jht(e,t){return pr(e.getMonth()+1,t,2)}function Bht(e,t){return pr(e.getMinutes(),t,2)}function $ht(e,t){return pr(e.getSeconds(),t,2)}function Hht(e){var t=e.getDay();return t===0?7:t}function Fht(e,t){return pr(HR.count(oh(e)-1,e),t,2)}function Cye(e){var t=e.getDay();return t>=4||t===0?A1(e):A1.ceil(e)}function Uht(e,t){return e=Cye(e),pr(A1.count(oh(e),e)+(oh(e).getDay()===4),t,2)}function zht(e){return e.getDay()}function Vht(e,t){return pr(gM.count(oh(e)-1,e),t,2)}function qht(e,t){return pr(e.getFullYear()%100,t,2)}function Wht(e,t){return e=Cye(e),pr(e.getFullYear()%100,t,2)}function Yht(e,t){return pr(e.getFullYear()%1e4,t,4)}function Ght(e,t){var n=e.getDay();return e=n>=4||n===0?A1(e):A1.ceil(e),pr(e.getFullYear()%1e4,t,4)}function Kht(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pr(t/60|0,"0",2)+pr(t%60,"0",2)}function cee(e,t){return pr(e.getUTCDate(),t,2)}function Xht(e,t){return pr(e.getUTCHours(),t,2)}function Zht(e,t){return pr(e.getUTCHours()%12||12,t,2)}function Qht(e,t){return pr(1+$R.count(ah(e),e),t,3)}function Tye(e,t){return pr(e.getUTCMilliseconds(),t,3)}function Jht(e,t){return Tye(e,t)+"000"}function ept(e,t){return pr(e.getUTCMonth()+1,t,2)}function tpt(e,t){return pr(e.getUTCMinutes(),t,2)}function npt(e,t){return pr(e.getUTCSeconds(),t,2)}function rpt(e){var t=e.getUTCDay();return t===0?7:t}function ipt(e,t){return pr(FR.count(ah(e)-1,e),t,2)}function kye(e){var t=e.getUTCDay();return t>=4||t===0?N1(e):N1.ceil(e)}function opt(e,t){return e=kye(e),pr(N1.count(ah(e),e)+(ah(e).getUTCDay()===4),t,2)}function apt(e){return e.getUTCDay()}function spt(e,t){return pr(yM.count(ah(e)-1,e),t,2)}function lpt(e,t){return pr(e.getUTCFullYear()%100,t,2)}function cpt(e,t){return e=kye(e),pr(e.getUTCFullYear()%100,t,2)}function upt(e,t){return pr(e.getUTCFullYear()%1e4,t,4)}function dpt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?N1(e):N1.ceil(e),pr(e.getUTCFullYear()%1e4,t,4)}function fpt(){return"+0000"}function uee(){return"%"}function dee(e){return+e}function fee(e){return Math.floor(+e/1e3)}var mv,_ye,Aye;hpt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hpt(e){return mv=hht(e),_ye=mv.format,mv.parse,Aye=mv.utcFormat,mv.utcParse,mv}function ppt(e){return new Date(e)}function mpt(e){return e instanceof Date?+e:+new Date(+e)}function RU(e,t,n,r,i,o,a,s,l,c){var u=vU(),d=u.invert,p=u.domain,m=c(".%L"),v=c(":%S"),x=c("%I:%M"),w=c("%I %p"),T=c("%a %d"),k=c("%b %d"),N=c("%B"),I=c("%Y");function O(A){return(l(A)<A?m:s(A)<A?v:a(A)<A?x:o(A)<A?w:r(A)<A?i(A)<A?T:k:n(A)<A?N:I)(A)}return u.invert=function(A){return new Date(d(A))},u.domain=function(A){return arguments.length?p(Array.from(A,mpt)):p().map(ppt)},u.ticks=function(A){var R=p();return e(R[0],R[R.length-1],A??10)},u.tickFormat=function(A,R){return R==null?O:c(R)},u.nice=function(A){var R=p();return(!A||typeof A.range!="function")&&(A=t(R[0],R[R.length-1],A??10)),A?p(pye(R,A)):u},u.copy=function(){return hk(u,RU(e,t,n,r,i,o,a,s,l,c))},u}function gpt(){return _c.apply(RU(dht,fht,oh,MU,HR,pk,NU,_U,f0,_ye).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ypt(){return _c.apply(RU(cht,uht,ah,DU,FR,$R,OU,AU,f0,Aye).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function UR(){var e=0,t=1,n,r,i,o,a=ts,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(p){var m,v;return arguments.length?([m,v]=p,a=d(m,v),c):[a(0),a(1)]}}return c.range=u(wx),c.rangeRound=u(bU),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),c}}function Pm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Nye(){var e=Im(UR()(ts));return e.copy=function(){return Pm(e,Nye())},vh.apply(e,arguments)}function Oye(){var e=SU(UR()).domain([1,10]);return e.copy=function(){return Pm(e,Oye()).base(e.base())},vh.apply(e,arguments)}function Mye(){var e=EU(UR());return e.copy=function(){return Pm(e,Mye()).constant(e.constant())},vh.apply(e,arguments)}function IU(){var e=CU(UR());return e.copy=function(){return Pm(e,IU()).exponent(e.exponent())},vh.apply(e,arguments)}function bpt(){return IU.apply(null,arguments).exponent(.5)}function Dye(){var e=[],t=ts;function n(r){if(r!=null&&!isNaN(r=+r))return t((dk(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Qp),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>ift(e,o/r))},n.copy=function(){return Dye(t).domain(e)},vh.apply(n,arguments)}function zR(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,c=ts,u,d=!1,p;function m(x){return isNaN(x=+x)?p:(x=.5+((x=+u(x))-o)*(r*x<r*o?s:l),c(d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,n]=x,i=u(e=+e),o=u(t=+t),a=u(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[e,t,n]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(c=x,m):c};function v(x){return function(w){var T,k,N;return arguments.length?([T,k,N]=w,c=Oft(x,[T,k,N]),m):[c(0),c(.5),c(1)]}}return m.range=v(wx),m.rangeRound=v(bU),m.unknown=function(x){return arguments.length?(p=x,m):p},function(x){return u=x,i=x(e),o=x(t),a=x(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function Rye(){var e=Im(zR()(ts));return e.copy=function(){return Pm(e,Rye())},vh.apply(e,arguments)}function Iye(){var e=SU(zR()).domain([.1,1,10]);return e.copy=function(){return Pm(e,Iye()).base(e.base())},vh.apply(e,arguments)}function Pye(){var e=EU(zR());return e.copy=function(){return Pm(e,Pye()).constant(e.constant())},vh.apply(e,arguments)}function PU(){var e=CU(zR());return e.copy=function(){return Pm(e,PU()).exponent(e.exponent())},vh.apply(e,arguments)}function vpt(){return PU.apply(null,arguments).exponent(.5)}const hee=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:HC,scaleDiverging:Rye,scaleDivergingLog:Iye,scaleDivergingPow:PU,scaleDivergingSqrt:vpt,scaleDivergingSymlog:Pye,scaleIdentity:hye,scaleImplicit:s$,scaleLinear:pM,scaleLog:mye,scaleOrdinal:mU,scalePoint:FE,scalePow:TU,scaleQuantile:bye,scaleQuantize:vye,scaleRadial:yye,scaleSequential:Nye,scaleSequentialLog:Oye,scaleSequentialPow:IU,scaleSequentialQuantile:Dye,scaleSequentialSqrt:bpt,scaleSequentialSymlog:Mye,scaleSqrt:Jft,scaleSymlog:gye,scaleThreshold:xye,scaleTime:gpt,scaleUtc:ypt,tickFormat:fye},Symbol.toStringTag,{value:"Module"}));var L5,pee;function Lye(){if(pee)return L5;pee=1;var e=yx();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,u=s}return u}return L5=t,L5}var j5,mee;function xpt(){if(mee)return j5;mee=1;function e(t,n){return t>n}return j5=e,j5}var B5,gee;function wpt(){if(gee)return B5;gee=1;var e=Lye(),t=xpt(),n=vx();function r(i){return i&&i.length?e(i,n,t):void 0}return B5=r,B5}var Spt=wpt();const VR=vr(Spt);var $5,yee;function Ept(){if(yee)return $5;yee=1;function e(t,n){return t<n}return $5=e,$5}var H5,bee;function Cpt(){if(bee)return H5;bee=1;var e=Lye(),t=Ept(),n=vx();function r(i){return i&&i.length?e(i,n,t):void 0}return H5=r,H5}var Tpt=Cpt();const qR=vr(Tpt);var F5,vee;function kpt(){if(vee)return F5;vee=1;var e=Z7(),t=Rm(),n=V0e(),r=Ws();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return F5=i,F5}var U5,xee;function _pt(){if(xee)return U5;xee=1;var e=U0e(),t=kpt();function n(r,i){return e(t(r,i),1)}return U5=n,U5}var Apt=_pt();const Npt=vr(Apt);var z5,wee;function Opt(){if(wee)return z5;wee=1;var e=uU();function t(n,r){return e(n,r)}return z5=t,z5}var Mpt=Opt();const WR=vr(Mpt);var Sx=1e9,Dpt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jU,vi=!0,kc="[DecimalError] ",_0=kc+"Invalid argument: ",LU=kc+"Exponent out of range: ",Ex=Math.floor,n0=Math.pow,Rpt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tl,Po=1e7,ci=7,jye=9007199254740991,bM=Ex(jye/ci),St={};St.absoluteValue=St.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};St.comparedTo=St.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};St.decimalPlaces=St.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ci;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};St.dividedBy=St.div=function(e){return Gf(this,new this.constructor(e))};St.dividedToIntegerBy=St.idiv=function(e){var t=this,n=t.constructor;return zr(Gf(t,new n(e),0,1),n.precision)};St.equals=St.eq=function(e){return!this.cmp(e)};St.exponent=function(){return co(this)};St.greaterThan=St.gt=function(e){return this.cmp(e)>0};St.greaterThanOrEqualTo=St.gte=function(e){return this.cmp(e)>=0};St.isInteger=St.isint=function(){return this.e>this.d.length-2};St.isNegative=St.isneg=function(){return this.s<0};St.isPositive=St.ispos=function(){return this.s>0};St.isZero=function(){return this.s===0};St.lessThan=St.lt=function(e){return this.cmp(e)<0};St.lessThanOrEqualTo=St.lte=function(e){return this.cmp(e)<1};St.logarithm=St.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Tl))throw Error(kc+"NaN");if(n.s<1)throw Error(kc+(n.s?"NaN":"-Infinity"));return n.eq(Tl)?new r(0):(vi=!1,t=Gf(qC(n,o),qC(e,o),o),vi=!0,zr(t,i))};St.minus=St.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Hye(t,e):Bye(t,(e.s=-e.s,e))};St.modulo=St.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(kc+"NaN");return n.s?(vi=!1,t=Gf(n,e,0,1).times(e),vi=!0,n.minus(t)):zr(new r(n),i)};St.naturalExponential=St.exp=function(){return $ye(this)};St.naturalLogarithm=St.ln=function(){return qC(this)};St.negated=St.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};St.plus=St.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Bye(t,e):Hye(t,(e.s=-e.s,e))};St.precision=St.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_0+e);if(t=co(i)+1,r=i.d.length-1,n=r*ci+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};St.squareRoot=St.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(kc+"NaN")}for(e=co(s),vi=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=bd(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ex((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Gf(s,o,a+2)).times(.5),bd(o.d).slice(0,a)===(t=bd(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(zr(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return vi=!0,zr(r,n)};St.times=St.mul=function(e){var t,n,r,i,o,a,s,l,c,u=this,d=u.constructor,p=u.d,m=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,l=p.length,c=m.length,l<c&&(o=p,p=m,m=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+m[r]*p[i-r-1]+t,o[i--]=s%Po|0,t=s/Po|0;o[i]=(o[i]+t)%Po|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,vi?zr(e,d.precision):e};St.toDecimalPlaces=St.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Id(e,0,Sx),t===void 0?t=r.rounding:Id(t,0,8),zr(n,e+co(n)+1,t))};St.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ey(r,!0):(Id(e,0,Sx),t===void 0?t=i.rounding:Id(t,0,8),r=zr(new i(r),e+1,t),n=ey(r,!0,e+1)),n};St.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?ey(i):(Id(e,0,Sx),t===void 0?t=o.rounding:Id(t,0,8),r=zr(new o(i),e+co(i)+1,t),n=ey(r.abs(),!1,e+co(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};St.toInteger=St.toint=function(){var e=this,t=e.constructor;return zr(new t(e),co(e)+1,t.rounding)};St.toNumber=function(){return+this};St.toPower=St.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Tl);if(s=new l(s),!s.s){if(e.s<1)throw Error(kc+"Infinity");return s}if(s.eq(Tl))return s;if(r=l.precision,e.eq(Tl))return zr(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=u<0?-u:u)<=jye){for(i=new l(Tl),t=Math.ceil(r/ci+4),vi=!1;n%2&&(i=i.times(s),Eee(i.d,t)),n=Ex(n/2),n!==0;)s=s.times(s),Eee(s.d,t);return vi=!0,e.s<0?new l(Tl).div(i):zr(i,r)}}else if(o<0)throw Error(kc+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,vi=!1,i=e.times(qC(s,r+c)),vi=!0,i=$ye(i),i.s=o,i};St.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=co(i),r=ey(i,n<=o.toExpNeg||n>=o.toExpPos)):(Id(e,1,Sx),t===void 0?t=o.rounding:Id(t,0,8),i=zr(new o(i),e,t),n=co(i),r=ey(i,e<=n||n<=o.toExpNeg,e)),r};St.toSignificantDigits=St.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Id(e,1,Sx),t===void 0?t=r.rounding:Id(t,0,8)),zr(new r(n),e,t)};St.toString=St.valueOf=St.val=St.toJSON=St[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=co(e),n=e.constructor;return ey(e,t<=n.toExpNeg||t>=n.toExpPos)};function Bye(e,t){var n,r,i,o,a,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),vi?zr(t,d):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(d/ci),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Po|0,l[o]%=Po;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,vi?zr(t,d):t}function Id(e,t,n){if(e!==~~e||e<t||e>n)throw Error(_0+e)}function bd(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=ci-r.length,n&&(o+=Np(n)),o+=r;a=e[t],r=a+"",n=ci-r.length,n&&(o+=Np(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Gf=(function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Po|0,a=o/Po|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Po+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,u,d,p,m,v,x,w,T,k,N,I,O,A,R,L,B=r.constructor,$=r.s==i.s?1:-1,q=r.d,z=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(kc+"Division by zero");for(l=r.e-i.e,R=z.length,O=q.length,m=new B($),v=m.d=[],c=0;z[c]==(q[c]||0);)++c;if(z[c]>(q[c]||0)&&--l,o==null?k=o=B.precision:a?k=o+(co(r)-co(i))+1:k=o,k<0)return new B(0);if(k=k/ci+2|0,c=0,R==1)for(u=0,z=z[0],k++;(c<O||u)&&k--;c++)N=u*Po+(q[c]||0),v[c]=N/z|0,u=N%z|0;else{for(u=Po/(z[0]+1)|0,u>1&&(z=e(z,u),q=e(q,u),R=z.length,O=q.length),I=R,x=q.slice(0,R),w=x.length;w<R;)x[w++]=0;L=z.slice(),L.unshift(0),A=z[0],z[1]>=Po/2&&++A;do u=0,s=t(z,x,R,w),s<0?(T=x[0],R!=w&&(T=T*Po+(x[1]||0)),u=T/A|0,u>1?(u>=Po&&(u=Po-1),d=e(z,u),p=d.length,w=x.length,s=t(d,x,p,w),s==1&&(u--,n(d,R<p?L:z,p))):(u==0&&(s=u=1),d=z.slice()),p=d.length,p<w&&d.unshift(0),n(x,d,w),s==-1&&(w=x.length,s=t(z,x,R,w),s<1&&(u++,n(x,R<w?L:z,w))),w=x.length):s===0&&(u++,x=[0]),v[c++]=u,s&&x[0]?x[w++]=q[I]||0:(x=[q[I]],w=1);while((I++<O||x[0]!==void 0)&&k--)}return v[0]||v.shift(),m.e=l,zr(m,a?o+co(m)+1:o)}})();function $ye(e,t){var n,r,i,o,a,s,l=0,c=0,u=e.constructor,d=u.precision;if(co(e)>16)throw Error(LU+co(e));if(!e.s)return new u(Tl);for(vi=!1,s=d,a=new u(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(r=Math.log(n0(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new u(Tl),u.precision=s;;){if(i=zr(i.times(e),s),n=n.times(++l),a=o.plus(Gf(i,n,s)),bd(a.d).slice(0,s)===bd(o.d).slice(0,s)){for(;c--;)o=zr(o.times(o),s);return u.precision=d,t==null?(vi=!0,zr(o,d)):o}o=a}}function co(e){for(var t=e.e*ci,n=e.d[0];n>=10;n/=10)t++;return t}function V5(e,t,n){if(t>e.LN10.sd())throw vi=!0,n&&(e.precision=n),Error(kc+"LN10 precision limit exceeded");return zr(new e(e.LN10),t)}function Np(e){for(var t="";e--;)t+="0";return t}function qC(e,t){var n,r,i,o,a,s,l,c,u,d=1,p=10,m=e,v=m.d,x=m.constructor,w=x.precision;if(m.s<1)throw Error(kc+(m.s?"NaN":"-Infinity"));if(m.eq(Tl))return new x(0);if(t==null?(vi=!1,c=w):c=t,m.eq(10))return t==null&&(vi=!0),V5(x,c);if(c+=p,x.precision=c,n=bd(v),r=n.charAt(0),o=co(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=bd(m.d),r=n.charAt(0),d++;o=co(m),r>1?(m=new x("0."+n),o++):m=new x(r+"."+n.slice(1))}else return l=V5(x,c+2,w).times(o+""),m=qC(new x(r+"."+n.slice(1)),c-p).plus(l),x.precision=w,t==null?(vi=!0,zr(m,w)):m;for(s=a=m=Gf(m.minus(Tl),m.plus(Tl),c),u=zr(m.times(m),c),i=3;;){if(a=zr(a.times(u),c),l=s.plus(Gf(a,new x(i),c)),bd(l.d).slice(0,c)===bd(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(V5(x,c+2,w).times(o+""))),s=Gf(s,new x(d),c),x.precision=w,t==null?(vi=!0,zr(s,w)):s;s=l,i+=2}}function See(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ex(n/ci),e.d=[],r=(n+1)%ci,n<0&&(r+=ci),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ci;r<i;)e.d.push(+t.slice(r,r+=ci));t=t.slice(r),r=ci-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),vi&&(e.e>bM||e.e<-bM))throw Error(LU+n)}else e.s=0,e.e=0,e.d=[0];return e}function zr(e,t,n){var r,i,o,a,s,l,c,u,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=ci,i=t,c=d[u=0];else{if(u=Math.ceil((r+1)/ci),o=d.length,u>=o)return e;for(c=o=d[u],a=1;o>=10;o/=10)a++;r%=ci,i=r-ci+a}if(n!==void 0&&(o=n0(10,a-i-1),s=c/o%10|0,l=t<0||d[u+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/n0(10,a-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=co(e),d.length=1,t=t-o-1,d[0]=n0(10,(ci-t%ci)%ci),e.e=Ex(-t/ci)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=u,o=1,u--):(d.length=u+1,o=n0(10,ci-r),d[u]=i>0?(c/n0(10,a-i)%n0(10,i)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==Po&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=Po)break;d[u--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(vi&&(e.e>bM||e.e<-bM))throw Error(LU+co(e));return e}function Hye(e,t){var n,r,i,o,a,s,l,c,u,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),vi?zr(t,m):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,s=d.length):(n=d,r=c,s=l.length),i=Math.max(Math.ceil(m/ci),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Po-1;--l[o],l[i]+=Po}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,vi?zr(t,m):t):new p(0)}function ey(e,t,n){var r,i=co(e),o=bd(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Np(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Np(-i-1)+o,n&&(r=n-a)>0&&(o+=Np(r))):i>=a?(o+=Np(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Np(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Np(r))),e.s<0?"-"+o:o}function Eee(e,t){if(e.length>t)return e.length=t,!0}function Fye(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(_0+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return See(a,o.toString())}else if(typeof o!="string")throw Error(_0+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Rpt.test(o))See(a,o);else throw Error(_0+o)}if(i.prototype=St,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Fye,i.config=i.set=Ipt,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Ipt(e){if(!e||typeof e!="object")throw Error(kc+"Object expected");var t,n,r,i=["precision",1,Sx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ex(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(_0+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(_0+n+": "+r);return this}var jU=Fye(Dpt);Tl=new jU(1);const Pr=jU;function Ppt(e){return $pt(e)||Bpt(e)||jpt(e)||Lpt()}function Lpt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpt(e,t){if(e){if(typeof e=="string")return d$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d$(e,t)}}function Bpt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $pt(e){if(Array.isArray(e))return d$(e)}function d$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hpt=function(t){return t},Uye={},zye=function(t){return t===Uye},Cee=function(t){return function n(){return arguments.length===0||arguments.length===1&&zye(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Fpt=function e(t,n){return t===1?n:Cee(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==Uye}).length;return a>=t?n.apply(void 0,i):e(t-a,Cee(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return zye(d)?l.shift():d});return n.apply(void 0,Ppt(u).concat(l))}))})},YR=function(t){return Fpt(t.length,t)},f$=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Upt=YR(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),zpt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Hpt;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},h$=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Vye=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=t.apply(void 0,o)),r}};function Vpt(e){var t;return e===0?t=1:t=Math.floor(new Pr(e).abs().log(10).toNumber())+1,t}function qpt(e,t,n){for(var r=new Pr(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Wpt=YR(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Ypt=YR(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Gpt=YR(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const GR={rangeStep:qpt,getDigitCount:Vpt,interpolateNumber:Wpt,uninterpolateNumber:Ypt,uninterpolateTruncation:Gpt};function p$(e){return Zpt(e)||Xpt(e)||qye(e)||Kpt()}function Kpt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xpt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Zpt(e){if(Array.isArray(e))return m$(e)}function WC(e,t){return emt(e)||Jpt(e,t)||qye(e,t)||Qpt()}function Qpt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qye(e,t){if(e){if(typeof e=="string")return m$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m$(e,t)}}function m$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jpt(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function emt(e){if(Array.isArray(e))return e}function Wye(e){var t=WC(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Yye(e,t,n){if(e.lte(0))return new Pr(0);var r=GR.getDigitCount(e.toNumber()),i=new Pr(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new Pr(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?l:new Pr(Math.ceil(l))}function tmt(e,t,n){var r=1,i=new Pr(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Pr(10).pow(GR.getDigitCount(e)-1),i=new Pr(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Pr(Math.floor(e)))}else e===0?i=new Pr(Math.floor((t-1)/2)):n||(i=new Pr(Math.floor(e)));var a=Math.floor((t-1)/2),s=zpt(Upt(function(l){return i.add(new Pr(l-a).mul(r)).toNumber()}),f$);return s(0,t)}function Gye(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Pr(0),tickMin:new Pr(0),tickMax:new Pr(0)};var o=Yye(new Pr(t).sub(e).div(n-1),r,i),a;e<=0&&t>=0?a=new Pr(0):(a=new Pr(e).add(t).div(2),a=a.sub(new Pr(a).mod(o)));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new Pr(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?Gye(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new Pr(s).mul(o)),tickMax:a.add(new Pr(l).mul(o))})}function nmt(e){var t=WC(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=Wye([n,r]),l=WC(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(p$(f$(0,i-1).map(function(){return 1/0}))):[].concat(p$(f$(0,i-1).map(function(){return-1/0})),[u]);return n>r?h$(d):d}if(c===u)return tmt(c,i,o);var p=Gye(c,u,a,o),m=p.step,v=p.tickMin,x=p.tickMax,w=GR.rangeStep(v,x.add(new Pr(.1).mul(m)),m);return n>r?h$(w):w}function rmt(e,t){var n=WC(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Wye([r,i]),s=WC(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(t,2),d=Yye(new Pr(c).sub(l).div(u-1),o,0),p=[].concat(p$(GR.rangeStep(new Pr(l),new Pr(c).sub(new Pr(.99).mul(d)),d)),[c]);return r>i?h$(p):p}var imt=Vye(nmt),omt=Vye(rmt),amt="Invariant failed";function ty(e,t){throw new Error(amt)}var smt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function vM(){return vM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vM.apply(this,arguments)}function lmt(e,t){return fmt(e)||dmt(e,t)||umt(e,t)||cmt()}function cmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function umt(e,t){if(e){if(typeof e=="string")return Tee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tee(e,t)}}function Tee(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dmt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function fmt(e){if(Array.isArray(e))return e}function hmt(e,t){if(e==null)return{};var n=pmt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pmt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function mmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gmt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zye(r.key),r)}}function ymt(e,t,n){return t&&gmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bmt(e,t,n){return t=xM(t),vmt(e,Kye()?Reflect.construct(t,n||[],xM(e).constructor):t.apply(e,n))}function vmt(e,t){if(t&&(O1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xmt(e)}function xmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kye=function(){return!!e})()}function xM(e){return xM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xM(e)}function wmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g$(e,t)}function g$(e,t){return g$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g$(e,t)}function Xye(e,t,n){return t=Zye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zye(e){var t=Smt(e,"string");return O1(t)=="symbol"?t:t+""}function Smt(e,t){if(O1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(O1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mk=(function(e){function t(){return mmt(this,t),bmt(this,t,arguments)}return wmt(t,e),ymt(t,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,p=hmt(r,smt),m=Jn(p,!1);this.props.direction==="x"&&u.type!=="number"&&ty();var v=l.map(function(x){var w=c(x,s),T=w.x,k=w.y,N=w.value,I=w.errorVal;if(!I)return null;var O=[],A,R;if(Array.isArray(I)){var L=lmt(I,2);A=L[0],R=L[1]}else A=R=I;if(o==="vertical"){var B=u.scale,$=k+i,q=$+a,z=$-a,Y=B(N-A),W=B(N+R);O.push({x1:W,y1:q,x2:W,y2:z}),O.push({x1:Y,y1:$,x2:W,y2:$}),O.push({x1:Y,y1:q,x2:Y,y2:z})}else if(o==="horizontal"){var Z=d.scale,V=T+i,ne=V-a,X=V+a,oe=Z(N-A),K=Z(N+R);O.push({x1:ne,y1:K,x2:X,y2:K}),O.push({x1:V,y1:oe,x2:V,y2:K}),O.push({x1:ne,y1:oe,x2:X,y2:oe})}return F.createElement(Wi,vM({className:"recharts-errorBar",key:"bar-".concat(O.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),O.map(function(Q){return F.createElement("line",vM({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return F.createElement(Wi,{className:"recharts-errorBars"},v)}}])})(F.Component);Xye(mk,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Xye(mk,"displayName","ErrorBar");function YC(e){"@babel/helpers - typeof";return YC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YC(e)}function kee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kee(Object(n),!0).forEach(function(r){Emt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Emt(e,t,n){return t=Cmt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cmt(e){var t=Tmt(e,"string");return YC(t)=="symbol"?t:t+""}function Tmt(e,t){if(YC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(YC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qye=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,a=yl(n,T0);if(!a)return null;var s=T0.defaultProps,l=s!==void 0?Jg(Jg({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(u,d){var p=d.item,m=d.props,v=m.sectors||m.data||[];return u.concat(v.map(function(x){return{type:a.props.iconType||p.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(u){var d=u.item,p=d.type.defaultProps,m=p!==void 0?Jg(Jg({},p),d.props):{},v=m.dataKey,x=m.name,w=m.legendType,T=m.hide;return{inactive:T,dataKey:v,type:l.iconType||w||"square",color:BU(d),value:x||v,payload:m}}),Jg(Jg(Jg({},l),T0.getWithHeight(a,i)),{},{payload:c,item:a})};function GC(e){"@babel/helpers - typeof";return GC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GC(e)}function _ee(e){return Nmt(e)||Amt(e)||_mt(e)||kmt()}function kmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _mt(e,t){if(e){if(typeof e=="string")return y$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y$(e,t)}}function Amt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nmt(e){if(Array.isArray(e))return y$(e)}function y$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Aee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aee(Object(n),!0).forEach(function(r){n1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n1(e,t,n){return t=Omt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Omt(e){var t=Mmt(e,"string");return GC(t)=="symbol"?t:t+""}function Mmt(e,t){if(GC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(GC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rl(e,t,n){return qn(e)||qn(t)?n:To(t)?yc(e,t,n):Rn(t)?t(e):n}function UE(e,t,n,r){var i=Npt(e,function(s){return Rl(s,t)});if(n==="number"){var o=i.filter(function(s){return ut(s)||parseFloat(s)});return o.length?[qR(o),VR(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!qn(s)}):i;return a.map(function(s){return To(s)||s instanceof Date?s:""})}var Dmt=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r?.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(fu(d-u)!==fu(p-d)){var v=[];if(fu(p-d)===fu(l[1]-l[0])){m=p;var x=d+l[1]-l[0];v[0]=Math.min(x,(x+u)/2),v[1]=Math.max(x,(x+u)/2)}else{m=u;var w=p+l[1]-l[0];v[0]=Math.min(d,(w+d)/2),v[1]=Math.max(d,(w+d)/2)}var T=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(t>T[0]&&t<=T[1]||t>=v[0]&&t<=v[1]){a=i[c].index;break}}else{var k=Math.min(u,p),N=Math.max(u,p);if(t>(k+d)/2&&t<=(N+d)/2){a=i[c].index;break}}}else for(var I=0;I<s;I++)if(I===0&&t<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<s-1&&t>(r[I].coordinate+r[I-1].coordinate)/2&&t<=(r[I].coordinate+r[I+1].coordinate)/2||I===s-1&&t>(r[I].coordinate+r[I-1].coordinate)/2){a=r[I].index;break}return a},BU=function(t){var n,r=t,i=r.type.displayName,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Rmt=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,d=Object.keys(u),p=0,m=d.length;p<m;p++){var v=u[d[p]],x=v.items,w=v.cateAxisId,T=x.filter(function(R){return Wf(R.type).indexOf("Bar")>=0});if(T&&T.length){var k=T[0].type.defaultProps,N=k!==void 0?Pi(Pi({},k),T[0].props):T[0].props,I=N.barSize,O=N[w];a[O]||(a[O]=[]);var A=qn(I)?n:I;a[O].push({item:T[0],stackList:T.slice(1),barSize:qn(A)?void 0:J0(A,r,0)})}}return a},Imt=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,a=o===void 0?[]:o,s=t.maxBarSize,l=a.length;if(l<1)return null;var c=J0(n,i,0,!0),u,d=[];if(a[0].barSize===+a[0].barSize){var p=!1,m=i/l,v=a.reduce(function(I,O){return I+O.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&m>0&&(p=!0,m*=.9,v=l*m);var x=(i-v)/2>>0,w={offset:x-c,size:0};u=a.reduce(function(I,O){var A={item:O.item,position:{offset:w.offset+w.size+c,size:p?m:O.barSize}},R=[].concat(_ee(I),[A]);return w=R[R.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(L){R.push({item:L,position:w})}),R},d)}else{var T=J0(r,i,0,!0);i-2*T-(l-1)*c<=0&&(c=0);var k=(i-2*T-(l-1)*c)/l;k>1&&(k>>=0);var N=s===+s?Math.min(k,s):k;u=a.reduce(function(I,O,A){var R=[].concat(_ee(I),[{item:O.item,position:{offset:T+(k+c)*A+(k-N)/2,size:N}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(L){R.push({item:L,position:R[R.length-1].position})}),R},d)}return u},Pmt=function(t,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=Qye({children:o,legendWidth:l});if(c){var u=i||{},d=u.width,p=u.height,m=c.align,v=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&m!=="center"&&ut(t[m]))return Pi(Pi({},t),{},n1({},m,t[m]+(d||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&v!=="middle"&&ut(t[v]))return Pi(Pi({},t),{},n1({},v,t[v]+(p||0)))}return t},Lmt=function(t,n,r){return qn(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Jye=function(t,n,r,i,o){var a=n.props.children,s=bc(a,mk).filter(function(c){return Lmt(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=Rl(u,r);if(qn(d))return c;var p=Array.isArray(d)?[qR(d),VR(d)]:[d,d],m=l.reduce(function(v,x){var w=Rl(u,x,0),T=p[0]-Math.abs(Array.isArray(w)?w[0]:w),k=p[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(T,v[0]),Math.max(k,v[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},jmt=function(t,n,r,i,o){var a=n.map(function(s){return Jye(t,s,r,o,i)}).filter(function(s){return!qn(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},ebe=function(t,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&Jye(t,l,c,i)||UE(t,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},tbe=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},nbe=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var o,a,s=t.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Lf=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,a=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&s?.length>=2?fu(s[0]-s[1])*2*c:c,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var p=o?o.indexOf(d):d;return{coordinate:i(p)+c,value:d,offset:c}});return u.filter(function(d){return!lk(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,p){return{coordinate:i(d)+c,value:d,index:p,offset:c}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,p){return{coordinate:i(d)+c,value:o?o[d]:d,index:p,offset:c}})},q5=new WeakMap,MA=function(t,n){if(typeof n!="function")return t;q5.has(t)||q5.set(t,new WeakMap);var r=q5.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Bmt=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:HC(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:pM(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:FE(),realScaleType:"point"}:o==="category"?{scale:HC(),realScaleType:"band"}:{scale:pM(),realScaleType:"linear"};if(Q0(i)){var l="scale".concat(MR(i));return{scale:(hee[l]||FE)(),realScaleType:hee[l]?l:"point"}}return Rn(i)?{scale:i}:{scale:FE(),realScaleType:"point"}},Nee=1e-4,$mt=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-Nee,a=Math.max(i[0],i[1])+Nee,s=t(n[0]),l=t(n[r-1]);(s<o||s>a||l<o||l>a)&&t.domain([n[0],n[r-1]])}},Hmt=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Fmt=function(t,n){if(!n||n.length!==2||!ut(n[0])||!ut(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!ut(t[0])||t[0]<r)&&(o[0]=r),(!ut(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Umt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=lk(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1])}},zmt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=lk(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=o,t[a][r][1]=o+s,o=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},Vmt={sign:Umt,expand:klt,none:S1,silhouette:_lt,wiggle:Alt,positive:zmt},qmt=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Vmt[r],a=Tlt().keys(i).value(function(s,l){return+Rl(s,l,0)}).order(Y8).offset(o);return a(t)},Wmt=function(t,n,r,i,o,a){if(!t)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(d,p){var m,v=(m=p.type)!==null&&m!==void 0&&m.defaultProps?Pi(Pi({},p.type.defaultProps),p.props):p.props,x=v.stackId,w=v.hide;if(w)return d;var T=v[r],k=d[T]||{hasStack:!1,stackGroups:{}};if(To(x)){var N=k.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};N.items.push(p),k.hasStack=!0,k.stackGroups[x]=N}else k.stackGroups[ck("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Pi(Pi({},d),{},n1({},T,k))},l),u={};return Object.keys(c).reduce(function(d,p){var m=c[p];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,w){var T=m.stackGroups[w];return Pi(Pi({},x),{},n1({},w,{numericAxisId:r,cateAxisId:i,items:T.items,stackedData:qmt(t,T.items,o)}))},v)}return Pi(Pi({},d),{},n1({},p,m))},u)},Ymt=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=imt(c,o,s);return t.domain([qR(u),VR(u)]),{niceTicks:u}}if(o&&i==="number"){var d=t.domain(),p=omt(d,o,s);return{niceTicks:p}}return null};function Oee(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qn(i[t.dataKey])){var s=GO(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Rl(i,qn(a)?t.dataKey:a);return qn(l)?null:t.scale(l)}var Mee=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,a=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Rl(a,n.dataKey,n.domain[s]);return qn(l)?null:n.scale(l)-o/2+i},Gmt=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Kmt=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(To(o)){var a=n[o];if(a){var s=a.items.indexOf(t);return s>=0?a.stackedData[s]:null}}return null},Xmt=function(t){return t.reduce(function(n,r){return[qR(r.concat([n[0]]).filter(ut)),VR(r.concat([n[1]]).filter(ut))]},[1/0,-1/0])},rbe=function(t,n,r){return Object.keys(t).reduce(function(i,o){var a=t[o],s=a.stackedData,l=s.reduce(function(c,u){var d=Xmt(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Dee=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ree=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b$=function(t,n,r){if(Rn(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(ut(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(Dee.test(t[0])){var o=+Dee.exec(t[0])[1];i[0]=n[0]-o}else Rn(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(ut(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(Ree.test(t[1])){var a=+Ree.exec(t[1])[1];i[1]=n[1]+a}else Rn(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},wM=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=fU(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},Iee=function(t,n,r){return!t||!t.length||WR(t,yc(r,"type.defaultProps.domain"))?n:t},ibe=function(t,n){var r=t.type.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Pi(Pi({},Jn(t,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:BU(t),value:Rl(n,i),type:l,payload:n,chartType:c,hide:u})};function KC(e){"@babel/helpers - typeof";return KC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KC(e)}function Pee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pee(Object(n),!0).forEach(function(r){Zmt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zmt(e,t,n){return t=Qmt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qmt(e){var t=Jmt(e,"string");return KC(t)=="symbol"?t:t+""}function Jmt(e,t){if(KC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(KC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SM=Math.PI/180,egt=function(t){return t*180/Math.PI},ea=function(t,n,r,i){return{x:t+Math.cos(-SM*i)*r,y:n+Math.sin(-SM*i)*r}},tgt=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},ngt=function(t,n){var r=t.x,i=t.y,o=n.cx,a=n.cy,s=tgt({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:egt(c),angleInRadian:c}},rgt=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},igt=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return t+s*360},jee=function(t,n){var r=t.x,i=t.y,o=ngt({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=rgt(n),d=u.startAngle,p=u.endAngle,m=s,v;if(d<=p){for(;m>p;)m-=360;for(;m<d;)m+=360;v=m>=d&&m<=p}else{for(;m>d;)m-=360;for(;m<p;)m+=360;v=m>=p&&m<=d}return v?Lee(Lee({},n),{},{radius:a,angle:igt(m,n)}):null};function XC(e){"@babel/helpers - typeof";return XC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XC(e)}var ogt=["offset"];function agt(e){return ugt(e)||cgt(e)||lgt(e)||sgt()}function sgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lgt(e,t){if(e){if(typeof e=="string")return v$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v$(e,t)}}function cgt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ugt(e){if(Array.isArray(e))return v$(e)}function v$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dgt(e,t){if(e==null)return{};var n=fgt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fgt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Bee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bee(Object(n),!0).forEach(function(r){hgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hgt(e,t,n){return t=pgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pgt(e){var t=mgt(e,"string");return XC(t)=="symbol"?t:t+""}function mgt(e,t){if(XC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(XC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZC.apply(this,arguments)}var ggt=function(t){var n=t.value,r=t.formatter,i=qn(t.children)?n:t.children;return Rn(r)?r(i):i},ygt=function(t,n){var r=fu(n-t),i=Math.min(Math.abs(n-t),360);return r*i},bgt=function(t,n,r){var i=t.position,o=t.viewBox,a=t.offset,s=t.className,l=o,c=l.cx,u=l.cy,d=l.innerRadius,p=l.outerRadius,m=l.startAngle,v=l.endAngle,x=l.clockWise,w=(d+p)/2,T=ygt(m,v),k=T>=0?1:-1,N,I;i==="insideStart"?(N=m+k*a,I=x):i==="insideEnd"?(N=v-k*a,I=!x):i==="end"&&(N=v+k*a,I=x),I=T<=0?I:!I;var O=ea(c,u,w,N),A=ea(c,u,w,N+(I?1:-1)*359),R="M".concat(O.x,",").concat(O.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(I?0:1,`,
    `).concat(A.x,",").concat(A.y),L=qn(t.id)?ck("recharts-radial-line-"):t.id;return F.createElement("text",ZC({},r,{dominantBaseline:"central",className:Xn("recharts-radial-bar-label",s)}),F.createElement("defs",null,F.createElement("path",{id:L,d:R})),F.createElement("textPath",{xlinkHref:"#".concat(L)},n))},vgt=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,d=o.endAngle,p=(u+d)/2;if(i==="outside"){var m=ea(a,s,c+r,p),v=m.x,x=m.y;return{x:v,y:x,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,T=ea(a,s,w,p),k=T.x,N=T.y;return{x:k,y:N,textAnchor:"middle",verticalAnchor:"middle"}},xgt=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,a=n,s=a.x,l=a.y,c=a.width,u=a.height,d=u>=0?1:-1,p=d*i,m=d>0?"end":"start",v=d>0?"start":"end",x=c>=0?1:-1,w=x*i,T=x>0?"end":"start",k=x>0?"start":"end";if(o==="top"){var N={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return So(So({},N),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var I={x:s+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:v};return So(So({},I),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var O={x:s-w,y:l+u/2,textAnchor:T,verticalAnchor:"middle"};return So(So({},O),r?{width:Math.max(O.x-r.x,0),height:u}:{})}if(o==="right"){var A={x:s+c+w,y:l+u/2,textAnchor:k,verticalAnchor:"middle"};return So(So({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:u}:{})}var R=r?{width:c,height:u}:{};return o==="insideLeft"?So({x:s+w,y:l+u/2,textAnchor:k,verticalAnchor:"middle"},R):o==="insideRight"?So({x:s+c-w,y:l+u/2,textAnchor:T,verticalAnchor:"middle"},R):o==="insideTop"?So({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:v},R):o==="insideBottom"?So({x:s+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:m},R):o==="insideTopLeft"?So({x:s+w,y:l+p,textAnchor:k,verticalAnchor:v},R):o==="insideTopRight"?So({x:s+c-w,y:l+p,textAnchor:T,verticalAnchor:v},R):o==="insideBottomLeft"?So({x:s+w,y:l+u-p,textAnchor:k,verticalAnchor:m},R):o==="insideBottomRight"?So({x:s+c-w,y:l+u-p,textAnchor:T,verticalAnchor:m},R):bx(o)&&(ut(o.x)||u0(o.x))&&(ut(o.y)||u0(o.y))?So({x:s+J0(o.x,c),y:l+J0(o.y,u),textAnchor:"end",verticalAnchor:"end"},R):So({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},R)},wgt=function(t){return"cx"in t&&ut(t.cx)};function va(e){var t=e.offset,n=t===void 0?5:t,r=dgt(e,ogt),i=So({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,p=i.textBreakAll;if(!o||qn(s)&&qn(l)&&!C.isValidElement(c)&&!Rn(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var m;if(Rn(c)){if(m=C.createElement(c,i),C.isValidElement(m))return m}else m=ggt(i);var v=wgt(o),x=Jn(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return bgt(i,m,x);var w=v?vgt(i):xgt(i);return F.createElement(sM,ZC({className:Xn("recharts-label",d)},x,w,{breakAll:p}),m)}va.displayName="Label";var obe=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,a=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,p=t.y,m=t.top,v=t.left,x=t.width,w=t.height,T=t.clockWise,k=t.labelViewBox;if(k)return k;if(ut(x)&&ut(w)){if(ut(d)&&ut(p))return{x:d,y:p,width:x,height:w};if(ut(m)&&ut(v))return{x:m,y:v,width:x,height:w}}return ut(d)&&ut(p)?{x:d,y:p,width:0,height:0}:ut(n)&&ut(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:T}:t.viewBox?t.viewBox:{}},Sgt=function(t,n){return t?t===!0?F.createElement(va,{key:"label-implicit",viewBox:n}):To(t)?F.createElement(va,{key:"label-implicit",viewBox:n,value:t}):C.isValidElement(t)?t.type===va?C.cloneElement(t,{key:"label-implicit",viewBox:n}):F.createElement(va,{key:"label-implicit",content:t,viewBox:n}):Rn(t)?F.createElement(va,{key:"label-implicit",content:t,viewBox:n}):bx(t)?F.createElement(va,ZC({viewBox:n},t,{key:"label-implicit"})):null:null},Egt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=obe(t),a=bc(i,va).map(function(l,c){return C.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=Sgt(t.label,n||o);return[s].concat(agt(a))};va.parseViewBox=obe;va.renderCallByParent=Egt;var W5,$ee;function Cgt(){if($ee)return W5;$ee=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return W5=e,W5}var Tgt=Cgt();const kgt=vr(Tgt);function QC(e){"@babel/helpers - typeof";return QC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QC(e)}var _gt=["valueAccessor"],Agt=["data","dataKey","clockWise","id","textBreakAll"];function Ngt(e){return Rgt(e)||Dgt(e)||Mgt(e)||Ogt()}function Ogt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mgt(e,t){if(e){if(typeof e=="string")return x$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x$(e,t)}}function Dgt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rgt(e){if(Array.isArray(e))return x$(e)}function x$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EM(){return EM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EM.apply(this,arguments)}function Hee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hee(Object(n),!0).forEach(function(r){Igt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Igt(e,t,n){return t=Pgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pgt(e){var t=Lgt(e,"string");return QC(t)=="symbol"?t:t+""}function Lgt(e,t){if(QC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(QC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uee(e,t){if(e==null)return{};var n=jgt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jgt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Bgt=function(t){return Array.isArray(t.value)?kgt(t.value):t.value};function Jp(e){var t=e.valueAccessor,n=t===void 0?Bgt:t,r=Uee(e,_gt),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=Uee(r,Agt);return!i||!i.length?null:F.createElement(Wi,{className:"recharts-label-list"},i.map(function(u,d){var p=qn(o)?n(u,d):Rl(u&&u.payload,o),m=qn(s)?{}:{id:"".concat(s,"-").concat(d)};return F.createElement(va,EM({},Jn(u,!0),c,m,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:va.parseViewBox(qn(a)?u:Fee(Fee({},u),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Jp.displayName="LabelList";function $gt(e,t){return e?e===!0?F.createElement(Jp,{key:"labelList-implicit",data:t}):F.isValidElement(e)||Rn(e)?F.createElement(Jp,{key:"labelList-implicit",data:t,content:e}):bx(e)?F.createElement(Jp,EM({data:t},e,{key:"labelList-implicit"})):null:null}function Hgt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=bc(r,Jp).map(function(a,s){return C.cloneElement(a,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var o=$gt(e.label,t);return[o].concat(Ngt(i))}Jp.renderCallByParent=Hgt;function JC(e){"@babel/helpers - typeof";return JC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JC(e)}function w$(){return w$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w$.apply(this,arguments)}function zee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zee(Object(n),!0).forEach(function(r){Fgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fgt(e,t,n){return t=Ugt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ugt(e){var t=zgt(e,"string");return JC(t)=="symbol"?t:t+""}function zgt(e,t){if(JC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(JC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vgt=function(t,n){var r=fu(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},DA=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,a=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/SM,p=c?o:o+a*d,m=ea(n,r,u,p),v=ea(n,r,i,p),x=c?o-a*d:o,w=ea(n,r,u*Math.cos(d*SM),x);return{center:m,circleTangency:v,lineTangency:w,theta:d}},abe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.startAngle,s=t.endAngle,l=Vgt(a,s),c=a+l,u=ea(n,r,o,a),d=ea(n,r,o,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=ea(n,r,i,a),v=ea(n,r,i,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},qgt=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=fu(u-c),p=DA({cx:n,cy:r,radius:o,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),m=p.circleTangency,v=p.lineTangency,x=p.theta,w=DA({cx:n,cy:r,radius:o,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),T=w.circleTangency,k=w.lineTangency,N=w.theta,I=l?Math.abs(c-u):Math.abs(c-u)-x-N;if(I<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):abe({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(I>180),",").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var A=DA({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=A.circleTangency,L=A.lineTangency,B=A.theta,$=DA({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),q=$.circleTangency,z=$.lineTangency,Y=$.theta,W=l?Math.abs(c-u):Math.abs(c-u)-B-Y;if(W<0&&a===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(z.x,",").concat(z.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(d>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},Wgt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sbe=function(t){var n=Vee(Vee({},Wgt),t),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,p=n.className;if(a<o||u===d)return null;var m=Xn("recharts-sector",p),v=a-o,x=J0(s,v,0,!0),w;return x>0&&Math.abs(u-d)<360?w=qgt({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):w=abe({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),F.createElement("path",w$({},Jn(n,!0),{className:m,d:w,role:"img"}))};function eT(e){"@babel/helpers - typeof";return eT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eT(e)}function S$(){return S$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S$.apply(this,arguments)}function qee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qee(Object(n),!0).forEach(function(r){Ygt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ygt(e,t,n){return t=Ggt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ggt(e){var t=Kgt(e,"string");return eT(t)=="symbol"?t:t+""}function Kgt(e,t){if(eT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yee={curveBasisClosed:plt,curveBasisOpen:mlt,curveBasis:hlt,curveBumpX:Jst,curveBumpY:elt,curveLinearClosed:glt,curveLinear:RR,curveMonotoneX:ylt,curveMonotoneY:blt,curveNatural:vlt,curveStep:xlt,curveStepAfter:Slt,curveStepBefore:wlt},RA=function(t){return t.x===+t.x&&t.y===+t.y},YS=function(t){return t.x},GS=function(t){return t.y},Xgt=function(t,n){if(Rn(t))return t;var r="curve".concat(MR(t));return(r==="curveMonotone"||r==="curveBump")&&n?Yee["".concat(r).concat(n==="vertical"?"Y":"X")]:Yee[r]||RR},Zgt=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=Xgt(r,s),d=c?o.filter(function(x){return RA(x)}):o,p;if(Array.isArray(a)){var m=c?a.filter(function(x){return RA(x)}):a,v=d.map(function(x,w){return Wee(Wee({},x),{},{base:m[w]})});return s==="vertical"?p=CA().y(GS).x1(YS).x0(function(x){return x.base.x}):p=CA().x(YS).y1(GS).y0(function(x){return x.base.y}),p.defined(RA).curve(u),p(v)}return s==="vertical"&&ut(a)?p=CA().y(GS).x1(YS).x0(a):ut(a)?p=CA().x(YS).y1(GS).y0(a):p=d0e().x(YS).y(GS),p.defined(RA).curve(u),p(d)},E$=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Zgt(t):i;return C.createElement("path",S$({},Jn(t,!1),KO(t),{className:Xn("recharts-curve",n),d:a,ref:o}))},Y5={exports:{}},G5,Gee;function Qgt(){if(Gee)return G5;Gee=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return G5=e,G5}var K5,Kee;function Jgt(){if(Kee)return K5;Kee=1;var e=Qgt();function t(){}function n(){}return n.resetWarningCache=t,K5=function(){function r(a,s,l,c,u,d){if(d!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},K5}var Xee;function e0t(){return Xee||(Xee=1,Y5.exports=Jgt()()),Y5.exports}var t0t=e0t();const _r=vr(t0t);var n0t=Object.getOwnPropertyNames,r0t=Object.getOwnPropertySymbols,i0t=Object.prototype.hasOwnProperty;function Zee(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function IA(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=e(n,r,i);return o.delete(n),o.delete(r),l}}function o0t(e){return e?.[Symbol.toStringTag]}function Qee(e){return n0t(e).concat(r0t(e))}var a0t=Object.hasOwn||(function(e,t){return i0t.call(e,t)});function Ey(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var s0t="__v",l0t="__o",c0t="_owner",Jee=Object.getOwnPropertyDescriptor,ete=Object.keys;function u0t(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function d0t(e,t){return Ey(e.getTime(),t.getTime())}function f0t(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function h0t(e,t){return e===t}function tte(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;){if(i[d]){d++;continue}var p=a.value,m=s.value;if(n.equals(p[0],m[0],l,d,e,t,n)&&n.equals(p[1],m[1],p[0],m[0],e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var p0t=Ey;function m0t(e,t,n){var r=ete(e),i=r.length;if(ete(t).length!==i)return!1;for(;i-- >0;)if(!lbe(e,t,n,r[i]))return!1;return!0}function KS(e,t,n){var r=Qee(e),i=r.length;if(Qee(t).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!lbe(e,t,n,o)||(a=Jee(e,o),s=Jee(t,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function g0t(e,t){return Ey(e.valueOf(),t.valueOf())}function y0t(e,t){return e.source===t.source&&e.flags===t.flags}function nte(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.values(),a,s;(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function b0t(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function v0t(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lbe(e,t,n,r){return(r===c0t||r===l0t||r===s0t)&&(e.$$typeof||t.$$typeof)?!0:a0t(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var x0t="[object Arguments]",w0t="[object Boolean]",S0t="[object Date]",E0t="[object Error]",C0t="[object Map]",T0t="[object Number]",k0t="[object Object]",_0t="[object RegExp]",A0t="[object Set]",N0t="[object String]",O0t="[object URL]",M0t=Array.isArray,rte=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ite=Object.assign,D0t=Object.prototype.toString.call.bind(Object.prototype.toString);function R0t(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,p=e.areUrlsEqual,m=e.unknownTagComparators;return function(x,w,T){if(x===w)return!0;if(x==null||w==null)return!1;var k=typeof x;if(k!==typeof w)return!1;if(k!=="object")return k==="number"?a(x,w,T):k==="function"?i(x,w,T):!1;var N=x.constructor;if(N!==w.constructor)return!1;if(N===Object)return s(x,w,T);if(M0t(x))return t(x,w,T);if(rte!=null&&rte(x))return d(x,w,T);if(N===Date)return n(x,w,T);if(N===RegExp)return c(x,w,T);if(N===Map)return o(x,w,T);if(N===Set)return u(x,w,T);var I=D0t(x);if(I===S0t)return n(x,w,T);if(I===_0t)return c(x,w,T);if(I===C0t)return o(x,w,T);if(I===A0t)return u(x,w,T);if(I===k0t)return typeof x.then!="function"&&typeof w.then!="function"&&s(x,w,T);if(I===O0t)return p(x,w,T);if(I===E0t)return r(x,w,T);if(I===x0t)return s(x,w,T);if(I===w0t||I===T0t||I===N0t)return l(x,w,T);if(m){var O=m[I];if(!O){var A=o0t(x);A&&(O=m[A])}if(O)return O(x,w,T)}return!1}}function I0t(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?KS:u0t,areDatesEqual:d0t,areErrorsEqual:f0t,areFunctionsEqual:h0t,areMapsEqual:r?Zee(tte,KS):tte,areNumbersEqual:p0t,areObjectsEqual:r?KS:m0t,arePrimitiveWrappersEqual:g0t,areRegExpsEqual:y0t,areSetsEqual:r?Zee(nte,KS):nte,areTypedArraysEqual:r?KS:b0t,areUrlsEqual:v0t,unknownTagComparators:void 0};if(n&&(i=ite({},i,n(i))),t){var o=IA(i.areArraysEqual),a=IA(i.areMapsEqual),s=IA(i.areObjectsEqual),l=IA(i.areSetsEqual);i=ite({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function P0t(e){return function(t,n,r,i,o,a,s){return e(t,n,s)}}function L0t(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(l,c){var u=r(),d=u.cache,p=d===void 0?t?new WeakMap:void 0:d,m=u.meta;return n(l,c,{cache:p,equals:i,meta:m,strict:o})};if(t)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,a)}}var j0t=Lm();Lm({strict:!0});Lm({circular:!0});Lm({circular:!0,strict:!0});Lm({createInternalComparator:function(){return Ey}});Lm({strict:!0,createInternalComparator:function(){return Ey}});Lm({circular:!0,createInternalComparator:function(){return Ey}});Lm({circular:!0,createInternalComparator:function(){return Ey},strict:!0});function Lm(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,a=o===void 0?!1:o,s=I0t(e),l=R0t(s),c=r?r(l):P0t(l);return L0t({circular:n,comparator:l,createState:i,equals:c,strict:a})}function B0t(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ote(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):B0t(i)};requestAnimationFrame(r)}function C$(e){"@babel/helpers - typeof";return C$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C$(e)}function $0t(e){return z0t(e)||U0t(e)||F0t(e)||H0t()}function H0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F0t(e,t){if(e){if(typeof e=="string")return ate(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ate(e,t)}}function ate(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z0t(e){if(Array.isArray(e))return e}function V0t(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=$0t(a),l=s[0],c=s.slice(1);if(typeof l=="number"){ote(i.bind(null,c),l);return}i(l),ote(i.bind(null,c));return}C$(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function tT(e){"@babel/helpers - typeof";return tT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tT(e)}function ste(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ste(Object(n),!0).forEach(function(r){cbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ste(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cbe(e,t,n){return t=q0t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q0t(e){var t=W0t(e,"string");return tT(t)==="symbol"?t:String(t)}function W0t(e,t){if(tT(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tT(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y0t=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},G0t=function(t){return t},K0t=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},zE=function(t,n){return Object.keys(n).reduce(function(r,i){return lte(lte({},r),{},cbe({},i,t(i,n[i])))},{})},cte=function(t,n,r){return t.map(function(i){return"".concat(K0t(i)," ").concat(n,"ms ").concat(r)}).join(",")};function X0t(e,t){return J0t(e)||Q0t(e,t)||ube(e,t)||Z0t()}function Z0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function J0t(e){if(Array.isArray(e))return e}function eyt(e){return ryt(e)||nyt(e)||ube(e)||tyt()}function tyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ube(e,t){if(e){if(typeof e=="string")return T$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T$(e,t)}}function nyt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ryt(e){if(Array.isArray(e))return T$(e)}function T$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var CM=1e-4,dbe=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},fbe=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},ute=function(t,n){return function(r){var i=dbe(t,n);return fbe(i,r)}},iyt=function(t,n){return function(r){var i=dbe(t,n),o=[].concat(eyt(i.map(function(a,s){return a*s}).slice(1)),[0]);return fbe(o,r)}},dte=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),u=X0t(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var d=ute(i,a),p=ute(o,s),m=iyt(i,a),v=function(T){return T>1?1:T<0?0:T},x=function(T){for(var k=T>1?1:T,N=k,I=0;I<8;++I){var O=d(N)-k,A=m(N);if(Math.abs(O-k)<CM||A<CM)return p(N);N=v(N-O/A)}return p(N)};return x.isStepper=!1,x},oyt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,a=t.dt,s=a===void 0?17:a,l=function(u,d,p){var m=-(u-d)*r,v=p*o,x=p+(m-v)*s/1e3,w=p*s/1e3+u;return Math.abs(w-d)<CM&&Math.abs(x)<CM?[d,0]:[w,x]};return l.isStepper=!0,l.dt=s,l},ayt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dte(i);case"spring":return oyt();default:if(i.split("(")[0]==="cubic-bezier")return dte(i)}return typeof i=="function"?i:null};function nT(e){"@babel/helpers - typeof";return nT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nT(e)}function fte(e){return cyt(e)||lyt(e)||hbe(e)||syt()}function syt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lyt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cyt(e){if(Array.isArray(e))return _$(e)}function hte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hte(Object(n),!0).forEach(function(r){k$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k$(e,t,n){return t=uyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uyt(e){var t=dyt(e,"string");return nT(t)==="symbol"?t:String(t)}function dyt(e,t){if(nT(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nT(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fyt(e,t){return myt(e)||pyt(e,t)||hbe(e,t)||hyt()}function hyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hbe(e,t){if(e){if(typeof e=="string")return _$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _$(e,t)}}function _$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pyt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function myt(e){if(Array.isArray(e))return e}var TM=function(t,n,r){return t+(n-t)*r},A$=function(t){var n=t.from,r=t.to;return n!==r},gyt=function e(t,n,r){var i=zE(function(o,a){if(A$(a)){var s=t(a.from,a.to,a.velocity),l=fyt(s,2),c=l[0],u=l[1];return Ko(Ko({},a),{},{from:c,velocity:u})}return a},n);return r<1?zE(function(o,a){return A$(a)?Ko(Ko({},a),{},{velocity:TM(a.velocity,i[o].velocity,r),from:TM(a.from,i[o].from,r)}):a},n):e(t,i,r-1)};const yyt=(function(e,t,n,r,i){var o=Y0t(e,t),a=o.reduce(function(w,T){return Ko(Ko({},w),{},k$({},T,[e[T],t[T]]))},{}),s=o.reduce(function(w,T){return Ko(Ko({},w),{},k$({},T,{from:e[T],velocity:0,to:t[T]}))},{}),l=-1,c,u,d=function(){return null},p=function(){return zE(function(T,k){return k.from},s)},m=function(){return!Object.values(s).filter(A$).length},v=function(T){c||(c=T);var k=T-c,N=k/n.dt;s=gyt(n,s,N),i(Ko(Ko(Ko({},e),t),p())),c=T,m()||(l=requestAnimationFrame(d))},x=function(T){u||(u=T);var k=(T-u)/r,N=zE(function(O,A){return TM.apply(void 0,fte(A).concat([n(k)]))},a);if(i(Ko(Ko(Ko({},e),t),N)),k<1)l=requestAnimationFrame(d);else{var I=zE(function(O,A){return TM.apply(void 0,fte(A).concat([n(1)]))},a);i(Ko(Ko(Ko({},e),t),I))}};return d=n.isStepper?v:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}var byt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function vyt(e,t){if(e==null)return{};var n=xyt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xyt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function X5(e){return Cyt(e)||Eyt(e)||Syt(e)||wyt()}function wyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Syt(e,t){if(e){if(typeof e=="string")return N$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N$(e,t)}}function Eyt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cyt(e){if(Array.isArray(e))return N$(e)}function N$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pte(Object(n),!0).forEach(function(r){hE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hE(e,t,n){return t=pbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kyt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pbe(r.key),r)}}function _yt(e,t,n){return t&&kyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pbe(e){var t=Ayt(e,"string");return M1(t)==="symbol"?t:String(t)}function Ayt(e,t){if(M1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(M1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O$(e,t)}function O$(e,t){return O$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O$(e,t)}function Oyt(e){var t=Myt();return function(){var r=kM(e),i;if(t){var o=kM(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return M$(this,i)}}function M$(e,t){if(t&&(M1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D$(e)}function D$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Myt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kM(e){return kM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kM(e)}var sh=(function(e){Nyt(n,e);var t=Oyt(n);function n(r,i){var o;Tyt(this,n),o=t.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,d=a.steps,p=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(D$(o)),o.changeStyle=o.changeStyle.bind(D$(o)),!s||m<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:u}),M$(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof p=="function")return o.state={style:c},M$(o);o.state={style:l?hE({},l,c):c}}else o.state={style:{}};return o}return _yt(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,d=o.from,p=this.state.style;if(s){if(!a){var m={style:l?hE({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(m);return}if(!(j0t(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||c?d:i.to;if(this.state&&p){var w={style:l?hE({},l,x):x};(l&&p[l]!==x||!l&&p!==x)&&this.setState(w)}this.runAnimation(Qc(Qc({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,p=i.onAnimationStart,m=yyt(a,s,ayt(c),l,this.changeStyle),v=function(){o.stopJSAnimation=m()};this.manager.start([p,u,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,d=c.duration,p=d===void 0?0:d,m=function(x,w,T){if(T===0)return x;var k=w.duration,N=w.easing,I=N===void 0?"ease":N,O=w.style,A=w.properties,R=w.onAnimationEnd,L=T>0?a[T-1]:w,B=A||Object.keys(O);if(typeof I=="function"||I==="spring")return[].concat(X5(x),[o.runJSAnimation.bind(o,{from:L.style,to:O,duration:k,easing:I}),k]);var $=cte(B,k,I),q=Qc(Qc(Qc({},L.style),O),{},{transition:$});return[].concat(X5(x),[q,k,R]).filter(G0t)};return this.manager.start([l].concat(X5(a.reduce(m,[u,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=V0t());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,p=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var x=s?hE({},s,l):l,w=cte(Object.keys(x),a,c);v.start([u,o,Qc(Qc({},x),{},{transition:w}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=vyt(i,byt),c=C.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var d=function(m){var v=m.props,x=v.style,w=x===void 0?{}:x,T=v.className,k=C.cloneElement(m,Qc(Qc({},l),{},{style:Qc(Qc({},w),u),className:T}));return k};return c===1?d(C.Children.only(o)):F.createElement("div",null,C.Children.map(o,function(p){return d(p)}))}}]),n})(C.PureComponent);sh.displayName="Animate";sh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sh.propTypes={from:_r.oneOfType([_r.object,_r.string]),to:_r.oneOfType([_r.object,_r.string]),attributeName:_r.string,duration:_r.number,begin:_r.number,easing:_r.oneOfType([_r.string,_r.func]),steps:_r.arrayOf(_r.shape({duration:_r.number.isRequired,style:_r.object.isRequired,easing:_r.oneOfType([_r.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_r.func]),properties:_r.arrayOf("string"),onAnimationEnd:_r.func})),children:_r.oneOfType([_r.node,_r.func]),isActive:_r.bool,canBegin:_r.bool,onAnimationEnd:_r.func,shouldReAnimate:_r.bool,onAnimationStart:_r.func,onAnimationReStart:_r.func};function rT(e){"@babel/helpers - typeof";return rT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rT(e)}function _M(){return _M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_M.apply(this,arguments)}function Dyt(e,t){return Lyt(e)||Pyt(e,t)||Iyt(e,t)||Ryt()}function Ryt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iyt(e,t){if(e){if(typeof e=="string")return mte(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mte(e,t)}}function mte(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pyt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Lyt(e){if(Array.isArray(e))return e}function gte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gte(Object(n),!0).forEach(function(r){jyt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jyt(e,t,n){return t=Byt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Byt(e){var t=$yt(e,"string");return rT(t)=="symbol"?t:t+""}function $yt(e,t){if(rT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bte=function(t,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],p=0,m=4;p<m;p++)d[p]=o[p]>a?a:o[p];u="M".concat(t,",").concat(n+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(n)),u+="L ".concat(t+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(n+s*d[1])),u+="L ".concat(t+r,",").concat(n+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+r-l*d[2],",").concat(n+i)),u+="L ".concat(t+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(n+i-s*d[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);u="M ".concat(t,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+l*v,",").concat(n,`
            L `).concat(t+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+r,",").concat(n+s*v,`
            L `).concat(t+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+r-l*v,",").concat(n+i,`
            L `).concat(t+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t,",").concat(n+i-s*v," Z")}else u="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},Hyt=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),d=Math.min(a,a+l),p=Math.max(a,a+l);return r>=c&&r<=u&&i>=d&&i<=p}return!1},Fyt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$U=function(t){var n=yte(yte({},Fyt),t),r=C.useRef(),i=C.useState(-1),o=Dyt(i,2),a=o[0],s=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&s(I)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,p=n.radius,m=n.className,v=n.animationEasing,x=n.animationDuration,w=n.animationBegin,T=n.isAnimationActive,k=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var N=Xn("recharts-rectangle",m);return k?F.createElement(sh,{canBegin:a>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:x,animationEasing:v,isActive:k},function(I){var O=I.width,A=I.height,R=I.x,L=I.y;return F.createElement(sh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,isActive:T,easing:v},F.createElement("path",_M({},Jn(n,!0),{className:N,d:bte(R,L,O,A,p),ref:r})))}):F.createElement("path",_M({},Jn(n,!0),{className:N,d:bte(l,c,u,d,p)}))};function R$(){return R$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R$.apply(this,arguments)}var HU=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,a=Xn("recharts-dot",o);return n===+n&&r===+r&&i===+i?C.createElement("circle",R$({},Jn(t,!1),KO(t),{className:a,cx:n,cy:r,r:i})):null};function iT(e){"@babel/helpers - typeof";return iT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iT(e)}var Uyt=["x","y","top","left","width","height","className"];function I$(){return I$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I$.apply(this,arguments)}function vte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zyt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vte(Object(n),!0).forEach(function(r){Vyt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vyt(e,t,n){return t=qyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qyt(e){var t=Wyt(e,"string");return iT(t)=="symbol"?t:t+""}function Wyt(e,t){if(iT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(iT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yyt(e,t){if(e==null)return{};var n=Gyt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gyt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Kyt=function(t,n,r,i,o,a){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Xyt=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.top,s=a===void 0?0:a,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,p=t.height,m=p===void 0?0:p,v=t.className,x=Yyt(t,Uyt),w=zyt({x:r,y:o,top:s,left:c,width:d,height:m},x);return!ut(r)||!ut(o)||!ut(d)||!ut(m)||!ut(s)||!ut(c)?null:F.createElement("path",I$({},Jn(w,!0),{className:Xn("recharts-cross",v),d:Kyt(r,o,d,m,s,c)}))},Z5,xte;function Zyt(){if(xte)return Z5;xte=1;var e=I0e(),t=e(Object.getPrototypeOf,Object);return Z5=t,Z5}var Q5,wte;function Qyt(){if(wte)return Q5;wte=1;var e=yh(),t=Zyt(),n=bh(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function c(u){if(!n(u)||e(u)!=r)return!1;var d=t(u);if(d===null)return!0;var p=s.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&a.call(p)==l}return Q5=c,Q5}var Jyt=Qyt();const ebt=vr(Jyt);var J5,Ste;function tbt(){if(Ste)return J5;Ste=1;var e=yh(),t=bh(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return J5=r,J5}var nbt=tbt();const rbt=vr(nbt);function oT(e){"@babel/helpers - typeof";return oT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oT(e)}function AM(){return AM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AM.apply(this,arguments)}function ibt(e,t){return lbt(e)||sbt(e,t)||abt(e,t)||obt()}function obt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function abt(e,t){if(e){if(typeof e=="string")return Ete(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ete(e,t)}}function Ete(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sbt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function lbt(e){if(Array.isArray(e))return e}function Cte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cte(Object(n),!0).forEach(function(r){cbt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cbt(e,t,n){return t=ubt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ubt(e){var t=dbt(e,"string");return oT(t)=="symbol"?t:t+""}function dbt(e,t){if(oT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kte=function(t,n,r,i,o){var a=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-a/2,",").concat(n+o),s+="L ".concat(t+r-a/2-i,",").concat(n+o),s+="L ".concat(t,",").concat(n," Z"),s},fbt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hbt=function(t){var n=Tte(Tte({},fbt),t),r=C.useRef(),i=C.useState(-1),o=ibt(i,2),a=o[0],s=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&s(N)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,p=n.height,m=n.className,v=n.animationEasing,x=n.animationDuration,w=n.animationBegin,T=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||p!==+p||u===0&&d===0||p===0)return null;var k=Xn("recharts-trapezoid",m);return T?F.createElement(sh,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:p,x:l,y:c},duration:x,animationEasing:v,isActive:T},function(N){var I=N.upperWidth,O=N.lowerWidth,A=N.height,R=N.x,L=N.y;return F.createElement(sh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,easing:v},F.createElement("path",AM({},Jn(n,!0),{className:k,d:kte(R,L,I,O,A),ref:r})))}):F.createElement("g",null,F.createElement("path",AM({},Jn(n,!0),{className:k,d:kte(l,c,u,d,p)})))},pbt=["option","shapeType","propTransformer","activeClassName","isActive"];function aT(e){"@babel/helpers - typeof";return aT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aT(e)}function mbt(e,t){if(e==null)return{};var n=gbt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gbt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_te(Object(n),!0).forEach(function(r){ybt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_te(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ybt(e,t,n){return t=bbt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bbt(e){var t=vbt(e,"string");return aT(t)=="symbol"?t:t+""}function vbt(e,t){if(aT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(aT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xbt(e,t){return NM(NM({},t),e)}function wbt(e,t){return e==="symbols"}function Ate(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return F.createElement($U,n);case"trapezoid":return F.createElement(hbt,n);case"sector":return F.createElement(sbe,n);case"symbols":if(wbt(t))return F.createElement(iU,n);break;default:return null}}function Sbt(e){return C.isValidElement(e)?e.props:e}function Ebt(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?xbt:r,o=e.activeClassName,a=o===void 0?"recharts-active-shape":o,s=e.isActive,l=mbt(e,pbt),c;if(C.isValidElement(t))c=C.cloneElement(t,NM(NM({},l),Sbt(t)));else if(Rn(t))c=t(l);else if(ebt(t)&&!rbt(t)){var u=i(t,l);c=F.createElement(Ate,{shapeType:n,elementProps:u})}else{var d=l;c=F.createElement(Ate,{shapeType:n,elementProps:d})}return s?F.createElement(Wi,{className:a},c):c}function KR(e,t){return t!=null&&"trapezoids"in e.props}function XR(e,t){return t!=null&&"sectors"in e.props}function sT(e,t){return t!=null&&"points"in e.props}function Cbt(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function Tbt(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function kbt(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function _bt(e,t){var n;return KR(e,t)?n=Cbt:XR(e,t)?n=Tbt:sT(e,t)&&(n=kbt),n}function Abt(e,t){var n;return KR(e,t)?n="trapezoids":XR(e,t)?n="sectors":sT(e,t)&&(n="points"),n}function Nbt(e,t){if(KR(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(XR(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return sT(e,t)?t.payload:{}}function Obt(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Abt(n,t),o=Nbt(n,t),a=r.filter(function(l,c){var u=WR(o,l),d=n.props[i].filter(function(v){var x=_bt(n,t);return x(v,t)}),p=n.props[i].indexOf(d[d.length-1]),m=c===p;return u&&m}),s=r.indexOf(a[a.length-1]);return s}var e6,Nte;function Mbt(){if(Nte)return e6;Nte=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,l=t(e((i-r)/(o||1)),0),c=Array(l);l--;)c[a?l:++s]=r,r+=o;return c}return e6=n,e6}var t6,Ote;function mbe(){if(Ote)return t6;Ote=1;var e=X0e(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return t6=r,t6}var n6,Mte;function Dbt(){if(Mte)return n6;Mte=1;var e=Mbt(),t=jR(),n=mbe();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return n6=r,n6}var r6,Dte;function Rbt(){if(Dte)return r6;Dte=1;var e=Dbt(),t=e();return r6=t,r6}var Ibt=Rbt();const OM=vr(Ibt);function lT(e){"@babel/helpers - typeof";return lT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lT(e)}function Rte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ite(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rte(Object(n),!0).forEach(function(r){gbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gbe(e,t,n){return t=Pbt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pbt(e){var t=Lbt(e,"string");return lT(t)=="symbol"?t:t+""}function Lbt(e,t){if(lT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jbt=["Webkit","Moz","O","ms"],Bbt=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=jbt.reduce(function(o,a){return Ite(Ite({},o),{},gbe({},a+r,n))},{});return i[t]=n,i};function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function MM(){return MM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MM.apply(this,arguments)}function Pte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pte(Object(n),!0).forEach(function(r){ml(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bbe(r.key),r)}}function Hbt(e,t,n){return t&&Lte(e.prototype,t),n&&Lte(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fbt(e,t,n){return t=DM(t),Ubt(e,ybe()?Reflect.construct(t,n||[],DM(e).constructor):t.apply(e,n))}function Ubt(e,t){if(t&&(D1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zbt(e)}function zbt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ybe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ybe=function(){return!!e})()}function DM(e){return DM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},DM(e)}function Vbt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P$(e,t)}function P$(e,t){return P$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P$(e,t)}function ml(e,t,n){return t=bbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bbe(e){var t=qbt(e,"string");return D1(t)=="symbol"?t:t+""}function qbt(e,t){if(D1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(D1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wbt=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,a=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=FE().domain(OM(0,l)).range([o,o+a-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},jte=function(t){return t.changedTouches&&!!t.changedTouches.length},R1=(function(e){function t(n){var r;return $bt(this,t),r=Fbt(this,t,[n]),ml(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ml(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ml(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a?.({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),ml(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ml(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ml(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ml(r,"handleSlideDragStart",function(i){var o=jte(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Vbt(t,e),Hbt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,o),p=Math.max(i,o),m=t.getIndexInRange(a,d),v=t.getIndexInRange(a,p);return{startIndex:m-m%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Rl(o[r],s,r);return Rn(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,p=l.startIndex,m=l.endIndex,v=l.onChange,x=r.pageX-o;x>0?x=Math.min(x,c+u-d-s,c+u-d-a):x<0&&(x=Math.max(x,c-a,c-s));var w=this.getIndex({startX:a+x,endX:s+x});(w.startIndex!==p||w.endIndex!==m)&&v&&v(w),this.setState({startX:a+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=jte(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,d=u.x,p=u.width,m=u.travellerWidth,v=u.onChange,x=u.gap,w=u.data,T={startX:this.state.startX,endX:this.state.endX},k=r.pageX-o;k>0?k=Math.min(k,d+p-m-c):k<0&&(k=Math.max(k,d-c)),T[a]=c+k;var N=this.getIndex(T),I=N.startIndex,O=N.endIndex,A=function(){var L=w.length-1;return a==="startX"&&(s>l?I%x===0:O%x===0)||s<l&&O===L||a==="endX"&&(s>l?O%x===0:I%x===0)||s>l&&O===L};this.setState(ml(ml({},a,c+k),"brushMoveStartX",r.pageX),function(){v&&A()&&v(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var p=d+r;if(!(p===-1||p>=s.length)){var m=s[p];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(ml({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return F.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,d=C.Children.only(c);return d?F.cloneElement(d,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,p=l.traveller,m=l.ariaLabel,v=l.data,x=l.startIndex,w=l.endIndex,T=Math.max(r,this.props.x),k=i6(i6({},Jn(this.props,!1)),{},{x:T,y:c,width:u,height:d}),N=m||"Min value: ".concat((o=v[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[w])===null||a===void 0?void 0:a.name);return F.createElement(Wi,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),s.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,k))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,p=u.endX,m=5,v={pointerEvents:"none",fill:c};return F.createElement(Wi,{className:"recharts-brush-texts"},F.createElement(sM,MM({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-m,y:a+s/2},v),this.getTextOfTick(i)),F.createElement(sM,MM({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+m,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,p=this.state,m=p.startX,v=p.endX,x=p.isTextActive,w=p.isSlideMoving,T=p.isTravellerMoving,k=p.isTravellerFocused;if(!i||!i.length||!ut(s)||!ut(l)||!ut(c)||!ut(u)||c<=0||u<=0)return null;var N=Xn("recharts-brush",o),I=F.Children.count(a)===1,O=Bbt("userSelect","none");return F.createElement(Wi,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(x||w||T||k||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return F.isValidElement(r)?o=F.cloneElement(r,i):Rn(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return i6({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?Wbt({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])})(C.PureComponent);ml(R1,"displayName","Brush");ml(R1,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var o6,Bte;function Ybt(){if(Bte)return o6;Bte=1;var e=dU();function t(n,r){var i;return e(n,function(o,a,s){return i=r(o,a,s),!i}),!!i}return o6=t,o6}var a6,$te;function Gbt(){if($te)return a6;$te=1;var e=_0e(),t=Rm(),n=Ybt(),r=Ws(),i=jR();function o(a,s,l){var c=r(a)?e:n;return l&&i(a,s,l)&&(s=void 0),c(a,t(s,3))}return a6=o,a6}var Kbt=Gbt();const Xbt=vr(Kbt);var Nd=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},s6,Hte;function Zbt(){if(Hte)return s6;Hte=1;var e=q0e();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return s6=t,s6}var l6,Fte;function Qbt(){if(Fte)return l6;Fte=1;var e=Zbt(),t=z0e(),n=Rm();function r(i,o){var a={};return o=n(o,3),t(i,function(s,l,c){e(a,l,o(s,l,c))}),a}return l6=r,l6}var Jbt=Qbt();const evt=vr(Jbt);var c6,Ute;function tvt(){if(Ute)return c6;Ute=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return c6=e,c6}var u6,zte;function nvt(){if(zte)return u6;zte=1;var e=dU();function t(n,r){var i=!0;return e(n,function(o,a,s){return i=!!r(o,a,s),i}),i}return u6=t,u6}var d6,Vte;function rvt(){if(Vte)return d6;Vte=1;var e=tvt(),t=nvt(),n=Rm(),r=Ws(),i=jR();function o(a,s,l){var c=r(a)?e:t;return l&&i(a,s,l)&&(s=void 0),c(a,n(s,3))}return d6=o,d6}var ivt=rvt();const vbe=vr(ivt);var ovt=["x","y"];function cT(e){"@babel/helpers - typeof";return cT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cT(e)}function L$(){return L$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L$.apply(this,arguments)}function qte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qte(Object(n),!0).forEach(function(r){avt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function avt(e,t,n){return t=svt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function svt(e){var t=lvt(e,"string");return cT(t)=="symbol"?t:t+""}function lvt(e,t){if(cT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cvt(e,t){if(e==null)return{};var n=uvt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uvt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dvt(e,t){var n=e.x,r=e.y,i=cvt(e,ovt),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),p=parseInt(d,10);return XS(XS(XS(XS(XS({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function Wte(e){return F.createElement(Ebt,L$({shapeType:"rectangle",propTransformer:dvt,activeClassName:"recharts-active-bar"},e))}var fvt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=ut(r)||xst(r);return o?t(r,i):(o||ty(),n)}},hvt=["value","background"],xbe;function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function pvt(e,t){if(e==null)return{};var n=mvt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mvt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function RM(){return RM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RM.apply(this,arguments)}function Yte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yte(Object(n),!0).forEach(function(r){Wp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sbe(r.key),r)}}function yvt(e,t,n){return t&&Gte(e.prototype,t),n&&Gte(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bvt(e,t,n){return t=IM(t),vvt(e,wbe()?Reflect.construct(t,n||[],IM(e).constructor):t.apply(e,n))}function vvt(e,t){if(t&&(I1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xvt(e)}function xvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wbe=function(){return!!e})()}function IM(e){return IM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IM(e)}function wvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j$(e,t)}function j$(e,t){return j$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j$(e,t)}function Wp(e,t,n){return t=Sbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sbe(e){var t=Svt(e,"string");return I1(t)=="symbol"?t:t+""}function Svt(e,t){if(I1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(I1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gk=(function(e){function t(){var n;gvt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=bvt(this,t,[].concat(i)),Wp(n,"state",{isAnimationFinished:!1}),Wp(n,"id",ck("recharts-bar-")),Wp(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Wp(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return wvt(t,e),yvt(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=Jn(this.props,!1);return r&&r.map(function(d,p){var m=p===l,v=m?c:a,x=ro(ro(ro({},u),d),{},{isActive:m,option:v,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(Wi,RM({className:"recharts-bar-rectangle"},XO(i.props,d,p),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value,"-").concat(p)}),F.createElement(Wte,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,p=this.state.prevData;return F.createElement(sh,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,x=o.map(function(w,T){var k=p&&p[T];if(k){var N=iu(k.x,w.x),I=iu(k.y,w.y),O=iu(k.width,w.width),A=iu(k.height,w.height);return ro(ro({},w),{},{x:N(v),y:I(v),width:O(v),height:A(v)})}if(a==="horizontal"){var R=iu(0,w.height),L=R(v);return ro(ro({},w),{},{y:w.y+w.height-L,height:L})}var B=iu(0,w.width),$=B(v);return ro(ro({},w),{},{width:$})});return F.createElement(Wi,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!WR(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Jn(this.props.background,!1);return o.map(function(c,u){c.value;var d=c.background,p=pvt(c,hvt);if(!d)return null;var m=ro(ro(ro(ro(ro({},p),{},{fill:"#eee"},d),l),XO(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return F.createElement(Wte,RM({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=bc(u,mk);if(!d)return null;var p=c==="vertical"?a[0].height/2:a[0].width/2,m=function(w,T){var k=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:k,errorVal:Rl(w,T)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(Wi,v,d.map(function(x){return F.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,p=r.height,m=r.isAnimationActive,v=r.background,x=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,T=Xn("recharts-bar",a),k=s&&s.allowDataOverflow,N=l&&l.allowDataOverflow,I=k||N,O=qn(x)?this.id:x;return F.createElement(Wi,{className:T},k||N?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(O)},F.createElement("rect",{x:k?c:c-d/2,y:N?u:u-p/2,width:k?d:d*2,height:N?p:p*2}))):null,F.createElement(Wi,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(O,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,O),(!m||w)&&Jp.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(C.PureComponent);xbe=gk;Wp(gk,"displayName","Bar");Wp(gk,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xx.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wp(gk,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,m=Hmt(r,n);if(!m)return null;var v=t.layout,x=n.type.defaultProps,w=x!==void 0?ro(ro({},x),n.props):n.props,T=w.dataKey,k=w.children,N=w.minPointSize,I=v==="horizontal"?a:o,O=c?I.scale.domain():null,A=Gmt({numericAxis:I}),R=bc(k,Q0e),L=d.map(function(B,$){var q,z,Y,W,Z,V;c?q=Fmt(c[u+$],O):(q=Rl(B,T),Array.isArray(q)||(q=[A,q]));var ne=fvt(N,xbe.defaultProps.minPointSize)(q[1],$);if(v==="horizontal"){var X,oe=[a.scale(q[0]),a.scale(q[1])],K=oe[0],Q=oe[1];z=Mee({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:B,index:$}),Y=(X=Q??K)!==null&&X!==void 0?X:void 0,W=m.size;var te=K-Q;if(Z=Number.isNaN(te)?0:te,V={x:z,y:a.y,width:W,height:a.height},Math.abs(ne)>0&&Math.abs(Z)<Math.abs(ne)){var U=fu(Z||ne)*(Math.abs(ne)-Math.abs(Z));Y-=U,Z+=U}}else{var he=[o.scale(q[0]),o.scale(q[1])],se=he[0],we=he[1];if(z=se,Y=Mee({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:B,index:$}),W=we-se,Z=m.size,V={x:o.x,y:Y,width:o.width,height:Z},Math.abs(ne)>0&&Math.abs(W)<Math.abs(ne)){var ve=fu(W||ne)*(Math.abs(ne)-Math.abs(W));W+=ve}}return ro(ro(ro({},B),{},{x:z,y:Y,width:W,height:Z,value:c?q:q[1],payload:B,background:V},R&&R[$]&&R[$].props),{},{tooltipPayload:[ibe(n,B)],tooltipPosition:{x:z+W/2,y:Y+Z/2}})});return ro({data:L,layout:v},p)});function uT(e){"@babel/helpers - typeof";return uT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uT(e)}function Evt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ebe(r.key),r)}}function Cvt(e,t,n){return t&&Kte(e.prototype,t),n&&Kte(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xte(Object(n),!0).forEach(function(r){ZR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZR(e,t,n){return t=Ebe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ebe(e){var t=Tvt(e,"string");return uT(t)=="symbol"?t:t+""}function Tvt(e,t){if(uT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kvt=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!yl(c,gk);return u.reduce(function(m,v){var x=n[v],w=x.orientation,T=x.domain,k=x.padding,N=k===void 0?{}:k,I=x.mirror,O=x.reversed,A="".concat(w).concat(I?"Mirror":""),R,L,B,$,q;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var z=T[1]-T[0],Y=1/0,W=x.categoricalDomain.sort(Est);if(W.forEach(function(he,se){se>0&&(Y=Math.min((he||0)-(W[se-1]||0),Y))}),Number.isFinite(Y)){var Z=Y/z,V=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(R=Z*V/2),x.padding==="no-gap"){var ne=J0(t.barCategoryGap,Z*V),X=Z*V/2;R=X-ne-(X-ne)/V*ne}}}i==="xAxis"?L=[r.left+(N.left||0)+(R||0),r.left+r.width-(N.right||0)-(R||0)]:i==="yAxis"?L=l==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(R||0),r.top+r.height-(N.bottom||0)-(R||0)]:L=x.range,O&&(L=[L[1],L[0]]);var oe=Bmt(x,o,p),K=oe.scale,Q=oe.realScaleType;K.domain(T).range(L),$mt(K);var te=Ymt(K,tu(tu({},x),{},{realScaleType:Q}));i==="xAxis"?(q=w==="top"&&!I||w==="bottom"&&I,B=r.left,$=d[A]-q*x.height):i==="yAxis"&&(q=w==="left"&&!I||w==="right"&&I,B=d[A]-q*x.width,$=r.top);var U=tu(tu(tu({},x),te),{},{realScaleType:Q,x:B,y:$,scale:K,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return U.bandSize=wM(U,te),!x.hide&&i==="xAxis"?d[A]+=(q?-1:1)*U.height:x.hide||(d[A]+=(q?-1:1)*U.width),tu(tu({},m),{},ZR({},v,U))},{})},Cbe=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},_vt=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return Cbe({x:n,y:r},{x:i,y:o})},Tbe=(function(){function e(t){Evt(this,e),this.scale=t}return Cvt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])})();ZR(Tbe,"EPS",1e-4);var FU=function(t){var n=Object.keys(t).reduce(function(r,i){return tu(tu({},r),{},ZR({},i,Tbe.create(t[i])))},{});return tu(tu({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return evt(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return vbe(i,function(o,a){return n[a].isInRange(o)})}})};function Avt(e){return(e%180+180)%180}var Nvt=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Avt(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},f6,Zte;function Ovt(){if(Zte)return f6;Zte=1;var e=Rm(),t=uk(),n=PR();function r(i){return function(o,a,s){var l=Object(o);if(!t(o)){var c=e(a,3);o=n(o),a=function(d){return c(l[d],d,l)}}var u=i(o,a,s);return u>-1?l[c?o[u]:u]:void 0}}return f6=r,f6}var h6,Qte;function Mvt(){if(Qte)return h6;Qte=1;var e=mbe();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return h6=t,h6}var p6,Jte;function Dvt(){if(Jte)return p6;Jte=1;var e=B0e(),t=Rm(),n=Mvt(),r=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=r(l+c,0)),e(o,t(a,3),c)}return p6=i,p6}var m6,ene;function Rvt(){if(ene)return m6;ene=1;var e=Ovt(),t=Dvt(),n=e(t);return m6=n,m6}var Ivt=Rvt();const Pvt=vr(Ivt);var Lvt=e0e();const jvt=vr(Lvt);var Bvt=jvt(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),UU=C.createContext(void 0),zU=C.createContext(void 0),kbe=C.createContext(void 0),_be=C.createContext({}),Abe=C.createContext(void 0),Nbe=C.createContext(0),Obe=C.createContext(0),tne=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=t.clipPathId,s=t.children,l=t.width,c=t.height,u=Bvt(o);return F.createElement(UU.Provider,{value:r},F.createElement(zU.Provider,{value:i},F.createElement(_be.Provider,{value:o},F.createElement(kbe.Provider,{value:u},F.createElement(Abe.Provider,{value:a},F.createElement(Nbe.Provider,{value:c},F.createElement(Obe.Provider,{value:l},s)))))))},$vt=function(){return C.useContext(Abe)},Mbe=function(t){var n=C.useContext(UU);n==null&&ty();var r=n[t];return r==null&&ty(),r},Hvt=function(){var t=C.useContext(UU);return Bp(t)},Fvt=function(){var t=C.useContext(zU),n=Pvt(t,function(r){return vbe(r.domain,Number.isFinite)});return n||Bp(t)},Dbe=function(t){var n=C.useContext(zU);n==null&&ty();var r=n[t];return r==null&&ty(),r},Uvt=function(){var t=C.useContext(kbe);return t},zvt=function(){return C.useContext(_be)},VU=function(){return C.useContext(Obe)},qU=function(){return C.useContext(Nbe)};function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function Vvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qvt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ibe(r.key),r)}}function Wvt(e,t,n){return t&&qvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yvt(e,t,n){return t=PM(t),Gvt(e,Rbe()?Reflect.construct(t,n||[],PM(e).constructor):t.apply(e,n))}function Gvt(e,t){if(t&&(P1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kvt(e)}function Kvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rbe=function(){return!!e})()}function PM(e){return PM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PM(e)}function Xvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B$(e,t)}function B$(e,t){return B$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B$(e,t)}function nne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nne(Object(n),!0).forEach(function(r){WU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WU(e,t,n){return t=Ibe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ibe(e){var t=Zvt(e,"string");return P1(t)=="symbol"?t:t+""}function Zvt(e,t){if(P1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(P1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qvt(e,t){return n1t(e)||t1t(e,t)||e1t(e,t)||Jvt()}function Jvt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e1t(e,t){if(e){if(typeof e=="string")return ine(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ine(e,t)}}function ine(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t1t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function n1t(e){if(Array.isArray(e))return e}function $$(){return $$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$$.apply(this,arguments)}var r1t=function(t,n){var r;return F.isValidElement(t)?r=F.cloneElement(t,n):Rn(t)?r=t(n):r=F.createElement("line",$$({},n,{className:"recharts-reference-line-line"})),r},i1t=function(t,n,r,i,o,a,s,l,c){var u=o.x,d=o.y,p=o.width,m=o.height;if(r){var v=c.y,x=t.y.apply(v,{position:a});if(Nd(c,"discard")&&!t.y.isInRange(x))return null;var w=[{x:u+p,y:x},{x:u,y:x}];return l==="left"?w.reverse():w}if(n){var T=c.x,k=t.x.apply(T,{position:a});if(Nd(c,"discard")&&!t.x.isInRange(k))return null;var N=[{x:k,y:d+m},{x:k,y:d}];return s==="top"?N.reverse():N}if(i){var I=c.segment,O=I.map(function(A){return t.apply(A,{position:a})});return Nd(c,"discard")&&Xbt(O,function(A){return!t.isInRange(A)})?null:O}return null};function o1t(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,c=$vt(),u=Mbe(i),d=Dbe(o),p=Uvt();if(!c||!p)return null;Yf(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=FU({x:u.scale,y:d.scale}),v=To(t),x=To(n),w=r&&r.length===2,T=i1t(m,v,x,w,p,e.position,u.orientation,d.orientation,e);if(!T)return null;var k=Qvt(T,2),N=k[0],I=N.x,O=N.y,A=k[1],R=A.x,L=A.y,B=Nd(e,"hidden")?"url(#".concat(c,")"):void 0,$=rne(rne({clipPath:B},Jn(e,!0)),{},{x1:I,y1:O,x2:R,y2:L});return F.createElement(Wi,{className:Xn("recharts-reference-line",s)},r1t(a,$),va.renderCallByParent(e,_vt({x1:I,y1:O,x2:R,y2:L})))}var YU=(function(e){function t(){return Vvt(this,t),Yvt(this,t,arguments)}return Xvt(t,e),Wvt(t,[{key:"render",value:function(){return F.createElement(o1t,this.props)}}])})(F.Component);WU(YU,"displayName","ReferenceLine");WU(YU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function H$(){return H$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H$.apply(this,arguments)}function L1(e){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(e)}function one(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ane(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?one(Object(n),!0).forEach(function(r){QR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):one(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s1t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lbe(r.key),r)}}function l1t(e,t,n){return t&&s1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c1t(e,t,n){return t=LM(t),u1t(e,Pbe()?Reflect.construct(t,n||[],LM(e).constructor):t.apply(e,n))}function u1t(e,t){if(t&&(L1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d1t(e)}function d1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pbe=function(){return!!e})()}function LM(e){return LM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LM(e)}function f1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F$(e,t)}function F$(e,t){return F$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F$(e,t)}function QR(e,t,n){return t=Lbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lbe(e){var t=h1t(e,"string");return L1(t)=="symbol"?t:t+""}function h1t(e,t){if(L1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(L1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var p1t=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,a=FU({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Nd(t,"discard")&&!a.isInRange(s)?null:s},JR=(function(e){function t(){return a1t(this,t),c1t(this,t,arguments)}return f1t(t,e),l1t(t,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=To(i),u=To(o);if(Yf(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=p1t(this.props);if(!d)return null;var p=d.x,m=d.y,v=this.props,x=v.shape,w=v.className,T=Nd(this.props,"hidden")?"url(#".concat(l,")"):void 0,k=ane(ane({clipPath:T},Jn(this.props,!0)),{},{cx:p,cy:m});return F.createElement(Wi,{className:Xn("recharts-reference-dot",w)},t.renderDot(x,k),va.renderCallByParent(this.props,{x:p-a,y:m-a,width:2*a,height:2*a}))}}])})(F.Component);QR(JR,"displayName","ReferenceDot");QR(JR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});QR(JR,"renderDot",function(e,t){var n;return F.isValidElement(e)?n=F.cloneElement(e,t):Rn(e)?n=e(t):n=F.createElement(HU,H$({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function U$(){return U$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U$.apply(this,arguments)}function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function sne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sne(Object(n),!0).forEach(function(r){e3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g1t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bbe(r.key),r)}}function y1t(e,t,n){return t&&g1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b1t(e,t,n){return t=jM(t),v1t(e,jbe()?Reflect.construct(t,n||[],jM(e).constructor):t.apply(e,n))}function v1t(e,t){if(t&&(j1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x1t(e)}function x1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jbe=function(){return!!e})()}function jM(e){return jM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jM(e)}function w1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z$(e,t)}function z$(e,t){return z$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z$(e,t)}function e3(e,t,n){return t=Bbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bbe(e){var t=S1t(e,"string");return j1(t)=="symbol"?t:t+""}function S1t(e,t){if(j1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(j1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E1t=function(t,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var p=FU({x:u.scale,y:d.scale}),m={x:t?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return Nd(o,"discard")&&(!p.isInRange(m)||!p.isInRange(v))?null:Cbe(m,v)},t3=(function(e){function t(){return m1t(this,t),b1t(this,t,arguments)}return w1t(t,e),y1t(t,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Yf(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=To(i),p=To(o),m=To(a),v=To(s),x=this.props.shape;if(!d&&!p&&!m&&!v&&!x)return null;var w=E1t(d,p,m,v,this.props);if(!w&&!x)return null;var T=Nd(this.props,"hidden")?"url(#".concat(u,")"):void 0;return F.createElement(Wi,{className:Xn("recharts-reference-area",l)},t.renderRect(x,lne(lne({clipPath:T},Jn(this.props,!0)),w)),va.renderCallByParent(this.props,w))}}])})(F.Component);e3(t3,"displayName","ReferenceArea");e3(t3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});e3(t3,"renderRect",function(e,t){var n;return F.isValidElement(e)?n=F.cloneElement(e,t):Rn(e)?n=e(t):n=F.createElement($U,U$({},t,{className:"recharts-reference-area-rect"})),n});function $be(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function C1t(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Nvt(r,n)}function T1t(e,t,n){var r=n==="width",i=e.x,o=e.y,a=e.width,s=e.height;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function BM(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function k1t(e,t){return $be(e,t+1)}function _1t(e,t,n,r,i){for(var o=(r||[]).slice(),a=t.start,s=t.end,l=0,c=1,u=a,d=function(){var v=r?.[l];if(v===void 0)return{v:$be(r,c)};var x=l,w,T=function(){return w===void 0&&(w=n(v,x)),w},k=v.coordinate,N=l===0||BM(e,k,T,u,s);N||(l=0,u=a,c+=1),N&&(u=k+e*(T()/2+i),l+=c)},p;c<=o.length;)if(p=d(),p)return p.v;return[]}function dT(e){"@babel/helpers - typeof";return dT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dT(e)}function cne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cne(Object(n),!0).forEach(function(r){A1t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A1t(e,t,n){return t=N1t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N1t(e){var t=O1t(e,"string");return dT(t)=="symbol"?t:t+""}function O1t(e,t){if(dT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M1t(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(p){var m=o[p],v,x=function(){return v===void 0&&(v=n(m,p)),v};if(p===a-1){var w=e*(m.coordinate+e*x()/2-l);o[p]=m=ya(ya({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else o[p]=m=ya(ya({},m),{},{tickCoord:m.coordinate});var T=BM(e,m.tickCoord,x,s,l);T&&(l=m.tickCoord-e*(x()/2+i),o[p]=ya(ya({},m),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function D1t(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),p=e*(u.coordinate+e*d/2-c);a[s-1]=u=ya(ya({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var m=BM(e,u.tickCoord,function(){return d},l,c);m&&(c=u.tickCoord-e*(d/2+i),a[s-1]=ya(ya({},u),{},{isShow:!0}))}for(var v=o?s-1:s,x=function(k){var N=a[k],I,O=function(){return I===void 0&&(I=n(N,k)),I};if(k===0){var A=e*(N.coordinate-e*O()/2-l);a[k]=N=ya(ya({},N),{},{tickCoord:A<0?N.coordinate-A*e:N.coordinate})}else a[k]=N=ya(ya({},N),{},{tickCoord:N.coordinate});var R=BM(e,N.tickCoord,O,l,c);R&&(l=N.tickCoord+e*(O()/2+i),a[k]=ya(ya({},N),{},{isShow:!0}))},w=0;w<v;w++)x(w);return a}function GU(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(ut(l)||xx.isSsr)return k1t(i,typeof l=="number"&&ut(l)?l:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",v=u&&m==="width"?HE(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=function(N,I){var O=Rn(c)?c(N.value,I):N.value;return m==="width"?C1t(HE(O,{fontSize:t,letterSpacing:n}),v,d):HE(O,{fontSize:t,letterSpacing:n})[m]},w=i.length>=2?fu(i[1].coordinate-i[0].coordinate):1,T=T1t(o,w,m);return l==="equidistantPreserveStart"?_1t(w,T,x,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=D1t(w,T,x,i,a,l==="preserveStartEnd"):p=M1t(w,T,x,i,a),p.filter(function(k){return k.isShow}))}var R1t=["viewBox"],I1t=["viewBox"],P1t=["ticks"];function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pv.apply(this,arguments)}function une(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?une(Object(n),!0).forEach(function(r){KU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):une(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g6(e,t){if(e==null)return{};var n=L1t(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function L1t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function j1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fbe(r.key),r)}}function B1t(e,t,n){return t&&dne(e.prototype,t),n&&dne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $1t(e,t,n){return t=$M(t),H1t(e,Hbe()?Reflect.construct(t,n||[],$M(e).constructor):t.apply(e,n))}function H1t(e,t){if(t&&(B1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F1t(e)}function F1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hbe=function(){return!!e})()}function $M(e){return $M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$M(e)}function U1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V$(e,t)}function V$(e,t){return V$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V$(e,t)}function KU(e,t,n){return t=Fbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fbe(e){var t=z1t(e,"string");return B1(t)=="symbol"?t:t+""}function z1t(e,t){if(B1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(B1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cx=(function(e){function t(n){var r;return j1t(this,t),r=$1t(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return U1t(t,e),B1t(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=g6(r,R1t),s=this.props,l=s.viewBox,c=g6(s,I1t);return!e1(o,l)||!e1(a,c)||!e1(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,p=i.tickMargin,m,v,x,w,T,k,N=d?-1:1,I=r.tickSize||u,O=ut(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=v=r.coordinate,w=a+ +!d*l,x=w-N*I,k=x-N*p,T=O;break;case"left":x=w=r.coordinate,v=o+ +!d*s,m=v-N*I,T=m-N*p,k=O;break;case"right":x=w=r.coordinate,v=o+ +d*s,m=v+N*I,T=m+N*p,k=O;break;default:m=v=r.coordinate,w=a+ +d*l,x=w+N*I,k=x+N*p,T=O;break}return{line:{x1:m,y1:x,x2:v,y2:w},tick:{x:T,y:k}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=wo(wo(wo({},Jn(this.props,!1)),Jn(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);d=wo(wo({},d),{},{x1:i,y1:o+p*s,x2:i+a,y2:o+p*s})}else{var m=+(l==="left"&&!c||l==="right"&&c);d=wo(wo({},d),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return F.createElement("line",Pv({},d,{className:Xn("recharts-cartesian-axis-line",yc(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,p=s.unit,m=GU(wo(wo({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),w=Jn(this.props,!1),T=Jn(u,!1),k=wo(wo({},w),{},{fill:"none"},Jn(l,!1)),N=m.map(function(I,O){var A=a.getTickLineCoord(I),R=A.line,L=A.tick,B=wo(wo(wo(wo({textAnchor:v,verticalAnchor:x},w),{},{stroke:"none",fill:c},T),L),{},{index:O,payload:I,visibleTicksCount:m.length,tickFormatter:d});return F.createElement(Wi,Pv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},XO(a.props,I,O)),l&&F.createElement("line",Pv({},k,R,{className:Xn("recharts-cartesian-axis-tick-line",yc(l,"className"))})),u&&t.renderTickItem(u,B,"".concat(Rn(d)?d(I.value,O):I.value).concat(p||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,p=d.ticks,m=g6(d,P1t),v=p;return Rn(l)&&(v=p&&p.length>0?l(this.props):l(m)),a<=0||s<=0||!v||!v.length?null:F.createElement(Wi,{className:Xn("recharts-cartesian-axis",c),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),va.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Xn(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(r)?a=F.cloneElement(r,wo(wo({},i),{},{className:s})):Rn(r)?a=r(wo(wo({},i),{},{className:s})):a=F.createElement(sM,Pv({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])})(C.Component);KU(Cx,"displayName","CartesianAxis");KU(Cx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var V1t=["x1","y1","x2","y2","key"],q1t=["offset"];function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}function fne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fne(Object(n),!0).forEach(function(r){W1t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W1t(e,t,n){return t=Y1t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y1t(e){var t=G1t(e,"string");return ny(t)=="symbol"?t:t+""}function G1t(e,t){if(ny(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h0.apply(this,arguments)}function hne(e,t){if(e==null)return{};var n=K1t(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function K1t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var X1t=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.ry;return F.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Ube(e,t){var n;if(F.isValidElement(e))n=F.cloneElement(e,t);else if(Rn(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=hne(t,V1t),c=Jn(l,!1);c.offset;var u=hne(c,q1t);n=F.createElement("line",h0({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Z1t(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=xa(xa({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return Ube(i,c)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Q1t(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=xa(xa({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return Ube(i,c)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function J1t(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==u[0]&&u.unshift(0);var d=u.map(function(p,m){var v=!u[m+1],x=v?i+a-p:u[m+1]-p;if(x<=0)return null;var w=m%t.length;return F.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:x,width:o,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ext(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(p){return Math.round(p+o-o)}).sort(function(p,m){return p-m});o!==u[0]&&u.unshift(0);var d=u.map(function(p,m){var v=!u[m+1],x=v?o+s-p:u[m+1]-p;if(x<=0)return null;var w=m%r.length;return F.createElement("rect",{key:"react-".concat(m),x:p,y:a,width:x,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var txt=function(t,n){var r=t.xAxis,i=t.width,o=t.height,a=t.offset;return nbe(GU(xa(xa(xa({},Cx.defaultProps),r),{},{ticks:Lf(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},nxt=function(t,n){var r=t.yAxis,i=t.width,o=t.height,a=t.offset;return nbe(GU(xa(xa(xa({},Cx.defaultProps),r),{},{ticks:Lf(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},gv={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zbe(e){var t,n,r,i,o,a,s=VU(),l=qU(),c=zvt(),u=xa(xa({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:gv.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:gv.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:gv.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:gv.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:gv.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:gv.verticalFill,x:ut(e.x)?e.x:c.left,y:ut(e.y)?e.y:c.top,width:ut(e.width)?e.width:c.width,height:ut(e.height)?e.height:c.height}),d=u.x,p=u.y,m=u.width,v=u.height,x=u.syncWithTicks,w=u.horizontalValues,T=u.verticalValues,k=Hvt(),N=Fvt();if(!ut(m)||m<=0||!ut(v)||v<=0||!ut(d)||d!==+d||!ut(p)||p!==+p)return null;var I=u.verticalCoordinatesGenerator||txt,O=u.horizontalCoordinatesGenerator||nxt,A=u.horizontalPoints,R=u.verticalPoints;if((!A||!A.length)&&Rn(O)){var L=w&&w.length,B=O({yAxis:N?xa(xa({},N),{},{ticks:L?w:N.ticks}):void 0,width:s,height:l,offset:c},L?!0:x);Yf(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ny(B),"]")),Array.isArray(B)&&(A=B)}if((!R||!R.length)&&Rn(I)){var $=T&&T.length,q=I({xAxis:k?xa(xa({},k),{},{ticks:$?T:k.ticks}):void 0,width:s,height:l,offset:c},$?!0:x);Yf(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ny(q),"]")),Array.isArray(q)&&(R=q)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(X1t,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),F.createElement(Z1t,h0({},u,{offset:c,horizontalPoints:A,xAxis:k,yAxis:N})),F.createElement(Q1t,h0({},u,{offset:c,verticalPoints:R,xAxis:k,yAxis:N})),F.createElement(J1t,h0({},u,{horizontalPoints:A})),F.createElement(ext,h0({},u,{verticalPoints:R})))}zbe.displayName="CartesianGrid";var rxt=["type","layout","connectNulls","ref"],ixt=["key"];function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function pne(e,t){if(e==null)return{};var n=oxt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oxt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VE.apply(this,arguments)}function mne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mne(Object(n),!0).forEach(function(r){nu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yv(e){return cxt(e)||lxt(e)||sxt(e)||axt()}function axt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sxt(e,t){if(e){if(typeof e=="string")return q$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q$(e,t)}}function lxt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cxt(e){if(Array.isArray(e))return q$(e)}function q$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qbe(r.key),r)}}function dxt(e,t,n){return t&&gne(e.prototype,t),n&&gne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fxt(e,t,n){return t=HM(t),hxt(e,Vbe()?Reflect.construct(t,n||[],HM(e).constructor):t.apply(e,n))}function hxt(e,t){if(t&&($1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pxt(e)}function pxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vbe=function(){return!!e})()}function HM(e){return HM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HM(e)}function mxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W$(e,t)}function W$(e,t){return W$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W$(e,t)}function nu(e,t,n){return t=qbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qbe(e){var t=gxt(e,"string");return $1(t)=="symbol"?t:t+""}function gxt(e,t){if($1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yk=(function(e){function t(){var n;uxt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=fxt(this,t,[].concat(i)),nu(n,"state",{isAnimationFinished:!0,totalLength:0}),nu(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),nu(n,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(T,k){return T+k});if(!c)return n.generateSimpleStrokeDasharray(s,a);for(var u=Math.floor(a/c),d=a%c,p=s-a,m=[],v=0,x=0;v<l.length;x+=l[v],++v)if(x+l[v]>d){m=[].concat(yv(l.slice(0,v)),[d-x]);break}var w=m.length%2===0?[0,p]:[p];return[].concat(yv(t.repeat(l,u)),yv(m),w).map(function(T){return"".concat(T,"px")}).join(", ")}),nu(n,"id",ck("recharts-line-")),nu(n,"pathRef",function(a){n.mainCurve=a}),nu(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),nu(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return mxt(t,e),dxt(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=bc(u,mk);if(!d)return null;var p=function(x,w){return{x:x.x,y:x.y,value:x.value,errorVal:Rl(x.payload,w)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(Wi,m,d.map(function(v){return F.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=Jn(this.props,!1),p=Jn(l,!0),m=c.map(function(x,w){var T=fl(fl(fl({key:"dot-".concat(w),r:3},d),p),{},{index:w,cx:x.x,cy:x.y,value:x.value,dataKey:u,payload:x.payload,points:c});return t.renderDotItem(l,T)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return F.createElement(Wi,VE({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var d=pne(s,rxt),p=fl(fl(fl({},Jn(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:u});return F.createElement(E$,VE({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,p=a.animationEasing,m=a.animationId,v=a.animateNewValues,x=a.width,w=a.height,T=this.state,k=T.prevPoints,N=T.totalLength;return F.createElement(sh,{begin:u,duration:d,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var O=I.t;if(k){var A=k.length/s.length,R=s.map(function(z,Y){var W=Math.floor(Y*A);if(k[W]){var Z=k[W],V=iu(Z.x,z.x),ne=iu(Z.y,z.y);return fl(fl({},z),{},{x:V(O),y:ne(O)})}if(v){var X=iu(x*2,z.x),oe=iu(w/2,z.y);return fl(fl({},z),{},{x:X(O),y:oe(O)})}return fl(fl({},z),{},{x:z.x,y:z.y})});return o.renderCurveStatically(R,r,i)}var L=iu(0,N),B=L(O),$;if(l){var q="".concat(l).split(/[,\s]+/gim).map(function(z){return parseFloat(z)});$=o.getStrokeDasharray(B,N,q)}else $=o.generateSimpleStrokeDasharray(N,B);return o.renderCurveStatically(s,r,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&a&&a.length&&(!c&&u>0||!WR(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,p=i.left,m=i.width,v=i.height,x=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var T=this.state.isAnimationFinished,k=s.length===1,N=Xn("recharts-line",l),I=c&&c.allowDataOverflow,O=u&&u.allowDataOverflow,A=I||O,R=qn(w)?this.id:w,L=(r=Jn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},B=L.r,$=B===void 0?3:B,q=L.strokeWidth,z=q===void 0?2:q,Y=Dst(a)?a:{},W=Y.clipDot,Z=W===void 0?!0:W,V=$*2+z;return F.createElement(Wi,{className:N},I||O?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(R)},F.createElement("rect",{x:I?p:p-m/2,y:O?d:d-v/2,width:I?m:m*2,height:O?v:v*2})),!Z&&F.createElement("clipPath",{id:"clipPath-dots-".concat(R)},F.createElement("rect",{x:p-V/2,y:d-V/2,width:m+V,height:v+V}))):null,!k&&this.renderCurve(A,R),this.renderErrorBar(A,R),(k||a)&&this.renderDots(A,Z,R),(!x||T)&&Jp.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(yv(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(yv(a),yv(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(F.isValidElement(r))o=F.cloneElement(r,i);else if(Rn(r))o=r(i);else{var a=i.key,s=pne(i,ixt),l=Xn("recharts-line-dot",typeof r!="boolean"?r.className:"");o=F.createElement(HU,VE({key:a},s,{className:l}))}return o}}])})(C.PureComponent);nu(yk,"displayName","Line");nu(yk,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!xx.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});nu(yk,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(p,m){var v=Rl(p,a);return u==="horizontal"?{x:Oee({axis:n,ticks:i,bandSize:s,entry:p,index:m}),y:qn(v)?null:r.scale(v),value:v,payload:p}:{x:qn(v)?null:n.scale(v),y:Oee({axis:r,ticks:o,bandSize:s,entry:p,index:m}),value:v,payload:p}});return fl({points:d,layout:u},c)});function H1(e){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(e)}function yxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bxt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gbe(r.key),r)}}function vxt(e,t,n){return t&&bxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xxt(e,t,n){return t=FM(t),wxt(e,Wbe()?Reflect.construct(t,n||[],FM(e).constructor):t.apply(e,n))}function wxt(e,t){if(t&&(H1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sxt(e)}function Sxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wbe=function(){return!!e})()}function FM(e){return FM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FM(e)}function Ext(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y$(e,t)}function Y$(e,t){return Y$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y$(e,t)}function Ybe(e,t,n){return t=Gbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gbe(e){var t=Cxt(e,"string");return H1(t)=="symbol"?t:t+""}function Cxt(e,t){if(H1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(H1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function G$(){return G$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G$.apply(this,arguments)}function Txt(e){var t=e.xAxisId,n=VU(),r=qU(),i=Mbe(t);return i==null?null:C.createElement(Cx,G$({},i,{className:Xn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Lf(a,!0)}}))}var n3=(function(e){function t(){return yxt(this,t),xxt(this,t,arguments)}return Ext(t,e),vxt(t,[{key:"render",value:function(){return C.createElement(Txt,this.props)}}])})(C.Component);Ybe(n3,"displayName","XAxis");Ybe(n3,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function F1(e){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}function kxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zbe(r.key),r)}}function Axt(e,t,n){return t&&_xt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nxt(e,t,n){return t=UM(t),Oxt(e,Kbe()?Reflect.construct(t,n||[],UM(e).constructor):t.apply(e,n))}function Oxt(e,t){if(t&&(F1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mxt(e)}function Mxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kbe=function(){return!!e})()}function UM(e){return UM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},UM(e)}function Dxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K$(e,t)}function K$(e,t){return K$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K$(e,t)}function Xbe(e,t,n){return t=Zbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zbe(e){var t=Rxt(e,"string");return F1(t)=="symbol"?t:t+""}function Rxt(e,t){if(F1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(F1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function X$(){return X$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X$.apply(this,arguments)}var Ixt=function(t){var n=t.yAxisId,r=VU(),i=qU(),o=Dbe(n);return o==null?null:C.createElement(Cx,X$({},o,{className:Xn("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Lf(s,!0)}}))},r3=(function(e){function t(){return kxt(this,t),Nxt(this,t,arguments)}return Dxt(t,e),Axt(t,[{key:"render",value:function(){return C.createElement(Ixt,this.props)}}])})(C.Component);Xbe(r3,"displayName","YAxis");Xbe(r3,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function yne(e){return Bxt(e)||jxt(e)||Lxt(e)||Pxt()}function Pxt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lxt(e,t){if(e){if(typeof e=="string")return Z$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z$(e,t)}}function jxt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bxt(e){if(Array.isArray(e))return Z$(e)}function Z$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q$=function(t,n,r,i,o){var a=bc(t,YU),s=bc(t,JR),l=[].concat(yne(a),yne(s)),c=bc(t,t3),u="".concat(i,"Id"),d=i[0],p=n;if(l.length&&(p=l.reduce(function(x,w){if(w.props[u]===r&&Nd(w.props,"extendDomain")&&ut(w.props[d])){var T=w.props[d];return[Math.min(x[0],T),Math.max(x[1],T)]}return x},p)),c.length){var m="".concat(d,"1"),v="".concat(d,"2");p=c.reduce(function(x,w){if(w.props[u]===r&&Nd(w.props,"extendDomain")&&ut(w.props[m])&&ut(w.props[v])){var T=w.props[m],k=w.props[v];return[Math.min(x[0],T,k),Math.max(x[1],T,k)]}return x},p)}return o&&o.length&&(p=o.reduce(function(x,w){return ut(w)?[Math.min(x[0],w),Math.max(x[1],w)]:x},p)),p},y6={exports:{}},bne;function $xt(){return bne||(bne=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,d||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,v=new Array(m);p<m;p++)v[p]=d[p].fn;return v},s.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,p,m,v){var x=n?n+c:c;if(!this._events[x])return!1;var w=this._events[x],T=arguments.length,k,N;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),T){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,d),!0;case 4:return w.fn.call(w.context,u,d,p),!0;case 5:return w.fn.call(w.context,u,d,p,m),!0;case 6:return w.fn.call(w.context,u,d,p,m,v),!0}for(N=1,k=new Array(T-1);N<T;N++)k[N-1]=arguments[N];w.fn.apply(w.context,k)}else{var I=w.length,O;for(N=0;N<I;N++)switch(w[N].once&&this.removeListener(c,w[N].fn,void 0,!0),T){case 1:w[N].fn.call(w[N].context);break;case 2:w[N].fn.call(w[N].context,u);break;case 3:w[N].fn.call(w[N].context,u,d);break;case 4:w[N].fn.call(w[N].context,u,d,p);break;default:if(!k)for(O=1,k=new Array(T-1);O<T;O++)k[O-1]=arguments[O];w[N].fn.apply(w[N].context,k)}}return!0},s.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,p){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===u&&(!p||v.once)&&(!d||v.context===d)&&a(this,m);else{for(var x=0,w=[],T=v.length;x<T;x++)(v[x].fn!==u||p&&!v[x].once||d&&v[x].context!==d)&&w.push(v[x]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(y6)),y6.exports}var Hxt=$xt();const Fxt=vr(Hxt);var b6=new Fxt,v6="recharts.syncMouseEvents";function fT(e){"@babel/helpers - typeof";return fT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fT(e)}function Uxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zxt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qbe(r.key),r)}}function Vxt(e,t,n){return t&&zxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x6(e,t,n){return t=Qbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qbe(e){var t=qxt(e,"string");return fT(t)=="symbol"?t:t+""}function qxt(e,t){if(fT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wxt=(function(){function e(){Uxt(this,e),x6(this,"activeIndex",0),x6(this,"coordinateList",[]),x6(this,"layout","horizontal")}return Vxt(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+c,p=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])})();function Yxt(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],i=e?.[1];if(r&&i&&ut(r)&&ut(i))return!0}return!1}function Gxt(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Jbe(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,a=ea(t,n,r,i),s=ea(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Kxt(e,t,n){var r,i,o,a;if(e==="horizontal")r=t.x,o=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,p=ea(s,l,c,d),m=ea(s,l,u,d);r=p.x,i=p.y,o=m.x,a=m.y}else return Jbe(t);return[{x:r,y:i},{x:o,y:a}]}function hT(e){"@babel/helpers - typeof";return hT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hT(e)}function vne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vne(Object(n),!0).forEach(function(r){Xxt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xxt(e,t,n){return t=Zxt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zxt(e){var t=Qxt(e,"string");return hT(t)=="symbol"?t:t+""}function Qxt(e,t){if(hT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jxt(e){var t,n,r=e.element,i=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||p!=="ScatterChart"&&i!=="axis")return null;var v,x=E$;if(p==="ScatterChart")v=a,x=Xyt;else if(p==="BarChart")v=Gxt(d,a,l,u),x=$U;else if(d==="radial"){var w=Jbe(a),T=w.cx,k=w.cy,N=w.radius,I=w.startAngle,O=w.endAngle;v={cx:T,cy:k,startAngle:I,endAngle:O,innerRadius:N,outerRadius:N},x=sbe}else v={points:Kxt(d,a,l)},x=E$;var A=PA(PA(PA(PA({stroke:"#ccc",pointerEvents:"none"},l),v),Jn(m,!1)),{},{payload:s,payloadIndex:c,className:Xn("recharts-tooltip-cursor",m.className)});return C.isValidElement(m)?C.cloneElement(m,A):C.createElement(x,A)}var ewt=["item"],twt=["children","className","width","height","style","compact","title","desc"];function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lv.apply(this,arguments)}function xne(e,t){return iwt(e)||rwt(e,t)||tve(e,t)||nwt()}function nwt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rwt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function iwt(e){if(Array.isArray(e))return e}function wne(e,t){if(e==null)return{};var n=owt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function owt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function awt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function swt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nve(r.key),r)}}function lwt(e,t,n){return t&&swt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cwt(e,t,n){return t=zM(t),uwt(e,eve()?Reflect.construct(t,n||[],zM(e).constructor):t.apply(e,n))}function uwt(e,t){if(t&&(U1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dwt(e)}function dwt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eve=function(){return!!e})()}function zM(e){return zM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zM(e)}function fwt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J$(e,t)}function J$(e,t){return J$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J$(e,t)}function z1(e){return mwt(e)||pwt(e)||tve(e)||hwt()}function hwt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tve(e,t){if(e){if(typeof e=="string")return eH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eH(e,t)}}function pwt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mwt(e){if(Array.isArray(e))return eH(e)}function eH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sne(Object(n),!0).forEach(function(r){rn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rn(e,t,n){return t=nve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nve(e){var t=gwt(e,"string");return U1(t)=="symbol"?t:t+""}function gwt(e,t){if(U1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(U1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ywt={xAxis:["bottom","top"],yAxis:["left","right"]},bwt={width:"100%",height:"100%"},rve={x:0,y:0};function LA(e){return e}var vwt=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},xwt=function(t,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var a=o.coordinate,s=i.radius;return Ve(Ve(Ve({},i),ea(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return Ve(Ve(Ve({},i),ea(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return rve},i3=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(z1(s),z1(c)):s},[]);return a.length>0?a:t&&t.length&&ut(i)&&ut(o)?t.slice(i,o+1):[]};function ive(e){return e==="number"?[0,"auto"]:void 0}var tH=function(t,n,r,i){var o=t.graphicalItems,a=t.tooltipAxis,s=i3(n,t);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var m=d===void 0?s:d;p=GO(m,a.dataKey,i)}else p=d&&d[r]||s[r];return p?[].concat(z1(l),[ibe(c,p)]):l},[])},Ene=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},a=vwt(o,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=Dmt(a,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,p=tH(t,n,u,d),m=xwt(r,s,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:p,activeCoordinate:m}}return null},wwt=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=t.layout,d=t.children,p=t.stackOffset,m=tbe(u,o);return r.reduce(function(v,x){var w,T=x.type.defaultProps!==void 0?Ve(Ve({},x.type.defaultProps),x.props):x.props,k=T.type,N=T.dataKey,I=T.allowDataOverflow,O=T.allowDuplicatedCategory,A=T.scale,R=T.ticks,L=T.includeHidden,B=T[a];if(v[B])return v;var $=i3(t.data,{graphicalItems:i.filter(function(te){var U,he=a in te.props?te.props[a]:(U=te.type.defaultProps)===null||U===void 0?void 0:U[a];return he===B}),dataStartIndex:l,dataEndIndex:c}),q=$.length,z,Y,W;Yxt(T.domain,I,k)&&(z=b$(T.domain,null,I),m&&(k==="number"||A!=="auto")&&(W=UE($,N,"category")));var Z=ive(k);if(!z||z.length===0){var V,ne=(V=T.domain)!==null&&V!==void 0?V:Z;if(N){if(z=UE($,N,k),k==="category"&&m){var X=Sst(z);O&&X?(Y=z,z=OM(0,q)):O||(z=Iee(ne,z,x).reduce(function(te,U){return te.indexOf(U)>=0?te:[].concat(z1(te),[U])},[]))}else if(k==="category")O?z=z.filter(function(te){return te!==""&&!qn(te)}):z=Iee(ne,z,x).reduce(function(te,U){return te.indexOf(U)>=0||U===""||qn(U)?te:[].concat(z1(te),[U])},[]);else if(k==="number"){var oe=jmt($,i.filter(function(te){var U,he,se=a in te.props?te.props[a]:(U=te.type.defaultProps)===null||U===void 0?void 0:U[a],we="hide"in te.props?te.props.hide:(he=te.type.defaultProps)===null||he===void 0?void 0:he.hide;return se===B&&(L||!we)}),N,o,u);oe&&(z=oe)}m&&(k==="number"||A!=="auto")&&(W=UE($,N,"category"))}else m?z=OM(0,q):s&&s[B]&&s[B].hasStack&&k==="number"?z=p==="expand"?[0,1]:rbe(s[B].stackGroups,l,c):z=ebe($,i.filter(function(te){var U=a in te.props?te.props[a]:te.type.defaultProps[a],he="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return U===B&&(L||!he)}),k,u,!0);if(k==="number")z=Q$(d,z,B,o,R),ne&&(z=b$(ne,z,I));else if(k==="category"&&ne){var K=ne,Q=z.every(function(te){return K.indexOf(te)>=0});Q&&(z=K)}}return Ve(Ve({},v),{},rn({},B,Ve(Ve({},T),{},{axisType:o,domain:z,categoricalDomain:W,duplicateDomain:Y,originalDomain:(w=T.domain)!==null&&w!==void 0?w:Z,isCategorical:m,layout:u})))},{})},Swt=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=t.layout,d=t.children,p=i3(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=p.length,v=tbe(u,o),x=-1;return r.reduce(function(w,T){var k=T.type.defaultProps!==void 0?Ve(Ve({},T.type.defaultProps),T.props):T.props,N=k[a],I=ive("number");if(!w[N]){x++;var O;return v?O=OM(0,m):s&&s[N]&&s[N].hasStack?(O=rbe(s[N].stackGroups,l,c),O=Q$(d,O,N,o)):(O=b$(I,ebe(p,r.filter(function(A){var R,L,B=a in A.props?A.props[a]:(R=A.type.defaultProps)===null||R===void 0?void 0:R[a],$="hide"in A.props?A.props.hide:(L=A.type.defaultProps)===null||L===void 0?void 0:L.hide;return B===N&&!$}),"number",u),i.defaultProps.allowDataOverflow),O=Q$(d,O,N,o)),Ve(Ve({},w),{},rn({},N,Ve(Ve({axisType:o},i.defaultProps),{},{hide:!0,orientation:yc(ywt,"".concat(o,".").concat(x%2),null),domain:O,originalDomain:I,isCategorical:v,layout:u})))}return w},{})},Ewt=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=t.children,d="".concat(i,"Id"),p=bc(u,o),m={};return p&&p.length?m=wwt(t,{axes:p,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(m=Swt(t,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),m},Cwt=function(t){var n=Bp(t),r=Lf(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:fU(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:wM(n,r)}},Cne=function(t){var n=t.children,r=t.defaultShowTooltip,i=yl(n,R1),o=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Twt=function(t){return!t||!t.length?!1:t.some(function(n){var r=Wf(n&&n.type);return r&&r.indexOf("Bar")>=0})},Tne=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kwt=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,a=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,d=r.children,p=r.margin||{},m=yl(d,R1),v=yl(d,T0),x=Object.keys(l).reduce(function(O,A){var R=l[A],L=R.orientation;return!R.mirror&&!R.hide?Ve(Ve({},O),{},rn({},L,O[L]+R.width)):O},{left:p.left||0,right:p.right||0}),w=Object.keys(a).reduce(function(O,A){var R=a[A],L=R.orientation;return!R.mirror&&!R.hide?Ve(Ve({},O),{},rn({},L,yc(O,"".concat(L))+R.height)):O},{top:p.top||0,bottom:p.bottom||0}),T=Ve(Ve({},w),x),k=T.bottom;m&&(T.bottom+=m.props.height||R1.defaultProps.height),v&&n&&(T=Pmt(T,i,r,n));var N=c-T.left-T.right,I=u-T.top-T.bottom;return Ve(Ve({brushBottom:k},T),{},{width:Math.max(N,0),height:Math.max(I,0)})},_wt=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Awt=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,a=t.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,p=function(T,k){var N=k.graphicalItems,I=k.stackGroups,O=k.offset,A=k.updateId,R=k.dataStartIndex,L=k.dataEndIndex,B=T.barSize,$=T.layout,q=T.barGap,z=T.barCategoryGap,Y=T.maxBarSize,W=Tne($),Z=W.numericAxisName,V=W.cateAxisName,ne=Twt(N),X=[];return N.forEach(function(oe,K){var Q=i3(T.data,{graphicalItems:[oe],dataStartIndex:R,dataEndIndex:L}),te=oe.type.defaultProps!==void 0?Ve(Ve({},oe.type.defaultProps),oe.props):oe.props,U=te.dataKey,he=te.maxBarSize,se=te["".concat(Z,"Id")],we=te["".concat(V,"Id")],ve={},je=l.reduce(function(xe,ke){var Je=k["".concat(ke.axisType,"Map")],Ze=te["".concat(ke.axisType,"Id")];Je&&Je[Ze]||ke.axisType==="zAxis"||ty();var Qe=Je[Ze];return Ve(Ve({},xe),{},rn(rn({},ke.axisType,Qe),"".concat(ke.axisType,"Ticks"),Lf(Qe)))},ve),Te=je[V],He=je["".concat(V,"Ticks")],Ge=I&&I[se]&&I[se].hasStack&&Kmt(oe,I[se].stackGroups),De=Wf(oe.type).indexOf("Bar")>=0,Ft=wM(Te,He),Ee=[],It=ne&&Rmt({barSize:B,stackGroups:I,totalSize:_wt(je,V)});if(De){var sn,Yt,xr=qn(he)?Y:he,er=(sn=(Yt=wM(Te,He,!0))!==null&&Yt!==void 0?Yt:xr)!==null&&sn!==void 0?sn:0;Ee=Imt({barGap:q,barCategoryGap:z,bandSize:er!==Ft?er:Ft,sizeList:It[we],maxBarSize:xr}),er!==Ft&&(Ee=Ee.map(function(xe){return Ve(Ve({},xe),{},{position:Ve(Ve({},xe.position),{},{offset:xe.position.offset-er/2})})}))}var ue=oe&&oe.type&&oe.type.getComposedData;ue&&X.push({props:Ve(Ve({},ue(Ve(Ve({},je),{},{displayedData:Q,props:T,dataKey:U,item:oe,bandSize:Ft,barPosition:Ee,offset:O,stackedData:Ge,layout:$,dataStartIndex:R,dataEndIndex:L}))),{},rn(rn(rn({key:oe.key||"item-".concat(K)},Z,je[Z]),V,je[V]),"animationId",A)),childIndex:Pst(oe,T.children),item:oe})}),X},m=function(T,k){var N=T.props,I=T.dataStartIndex,O=T.dataEndIndex,A=T.updateId;if(!GX({props:N}))return null;var R=N.children,L=N.layout,B=N.stackOffset,$=N.data,q=N.reverseStackOrder,z=Tne(L),Y=z.numericAxisName,W=z.cateAxisName,Z=bc(R,r),V=Wmt($,Z,"".concat(Y,"Id"),"".concat(W,"Id"),B,q),ne=l.reduce(function(te,U){var he="".concat(U.axisType,"Map");return Ve(Ve({},te),{},rn({},he,Ewt(N,Ve(Ve({},U),{},{graphicalItems:Z,stackGroups:U.axisType===Y&&V,dataStartIndex:I,dataEndIndex:O}))))},{}),X=kwt(Ve(Ve({},ne),{},{props:N,graphicalItems:Z}),k?.legendBBox);Object.keys(ne).forEach(function(te){ne[te]=u(N,ne[te],X,te.replace("Map",""),n)});var oe=ne["".concat(W,"Map")],K=Cwt(oe),Q=p(N,Ve(Ve({},ne),{},{dataStartIndex:I,dataEndIndex:O,updateId:A,graphicalItems:Z,stackGroups:V,offset:X}));return Ve(Ve({formattedGraphicalItems:Q,graphicalItems:Z,offset:X,stackGroups:V},K),ne)},v=(function(w){function T(k){var N,I,O;return awt(this,T),O=cwt(this,T,[k]),rn(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rn(O,"accessibilityManager",new Wxt),rn(O,"handleLegendBBoxUpdate",function(A){if(A){var R=O.state,L=R.dataStartIndex,B=R.dataEndIndex,$=R.updateId;O.setState(Ve({legendBBox:A},m({props:O.props,dataStartIndex:L,dataEndIndex:B,updateId:$},Ve(Ve({},O.state),{},{legendBBox:A}))))}}),rn(O,"handleReceiveSyncEvent",function(A,R,L){if(O.props.syncId===A){if(L===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(R)}}),rn(O,"handleBrushChange",function(A){var R=A.startIndex,L=A.endIndex;if(R!==O.state.dataStartIndex||L!==O.state.dataEndIndex){var B=O.state.updateId;O.setState(function(){return Ve({dataStartIndex:R,dataEndIndex:L},m({props:O.props,dataStartIndex:R,dataEndIndex:L,updateId:B},O.state))}),O.triggerSyncEvent({dataStartIndex:R,dataEndIndex:L})}}),rn(O,"handleMouseEnter",function(A){var R=O.getMouseInfo(A);if(R){var L=Ve(Ve({},R),{},{isTooltipActive:!0});O.setState(L),O.triggerSyncEvent(L);var B=O.props.onMouseEnter;Rn(B)&&B(L,A)}}),rn(O,"triggeredAfterMouseMove",function(A){var R=O.getMouseInfo(A),L=R?Ve(Ve({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(L),O.triggerSyncEvent(L);var B=O.props.onMouseMove;Rn(B)&&B(L,A)}),rn(O,"handleItemMouseEnter",function(A){O.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),rn(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),rn(O,"handleMouseMove",function(A){A.persist(),O.throttleTriggeredAfterMouseMove(A)}),rn(O,"handleMouseLeave",function(A){O.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};O.setState(R),O.triggerSyncEvent(R);var L=O.props.onMouseLeave;Rn(L)&&L(R,A)}),rn(O,"handleOuterEvent",function(A){var R=Ist(A),L=yc(O.props,"".concat(R));if(R&&Rn(L)){var B,$;/.*touch.*/i.test(R)?$=O.getMouseInfo(A.changedTouches[0]):$=O.getMouseInfo(A),L((B=$)!==null&&B!==void 0?B:{},A)}}),rn(O,"handleClick",function(A){var R=O.getMouseInfo(A);if(R){var L=Ve(Ve({},R),{},{isTooltipActive:!0});O.setState(L),O.triggerSyncEvent(L);var B=O.props.onClick;Rn(B)&&B(L,A)}}),rn(O,"handleMouseDown",function(A){var R=O.props.onMouseDown;if(Rn(R)){var L=O.getMouseInfo(A);R(L,A)}}),rn(O,"handleMouseUp",function(A){var R=O.props.onMouseUp;if(Rn(R)){var L=O.getMouseInfo(A);R(L,A)}}),rn(O,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),rn(O,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&O.handleMouseDown(A.changedTouches[0])}),rn(O,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&O.handleMouseUp(A.changedTouches[0])}),rn(O,"handleDoubleClick",function(A){var R=O.props.onDoubleClick;if(Rn(R)){var L=O.getMouseInfo(A);R(L,A)}}),rn(O,"handleContextMenu",function(A){var R=O.props.onContextMenu;if(Rn(R)){var L=O.getMouseInfo(A);R(L,A)}}),rn(O,"triggerSyncEvent",function(A){O.props.syncId!==void 0&&b6.emit(v6,O.props.syncId,A,O.eventEmitterSymbol)}),rn(O,"applySyncEvent",function(A){var R=O.props,L=R.layout,B=R.syncMethod,$=O.state.updateId,q=A.dataStartIndex,z=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)O.setState(Ve({dataStartIndex:q,dataEndIndex:z},m({props:O.props,dataStartIndex:q,dataEndIndex:z,updateId:$},O.state)));else if(A.activeTooltipIndex!==void 0){var Y=A.chartX,W=A.chartY,Z=A.activeTooltipIndex,V=O.state,ne=V.offset,X=V.tooltipTicks;if(!ne)return;if(typeof B=="function")Z=B(X,A);else if(B==="value"){Z=-1;for(var oe=0;oe<X.length;oe++)if(X[oe].value===A.activeLabel){Z=oe;break}}var K=Ve(Ve({},ne),{},{x:ne.left,y:ne.top}),Q=Math.min(Y,K.x+K.width),te=Math.min(W,K.y+K.height),U=X[Z]&&X[Z].value,he=tH(O.state,O.props.data,Z),se=X[Z]?{x:L==="horizontal"?X[Z].coordinate:Q,y:L==="horizontal"?te:X[Z].coordinate}:rve;O.setState(Ve(Ve({},A),{},{activeLabel:U,activeCoordinate:se,activePayload:he,activeTooltipIndex:Z}))}else O.setState(A)}),rn(O,"renderCursor",function(A){var R,L=O.state,B=L.isTooltipActive,$=L.activeCoordinate,q=L.activePayload,z=L.offset,Y=L.activeTooltipIndex,W=L.tooltipAxisBandSize,Z=O.getTooltipEventType(),V=(R=A.props.active)!==null&&R!==void 0?R:B,ne=O.props.layout,X=A.key||"_recharts-cursor";return F.createElement(Jxt,{key:X,activeCoordinate:$,activePayload:q,activeTooltipIndex:Y,chartName:n,element:A,isActive:V,layout:ne,offset:z,tooltipAxisBandSize:W,tooltipEventType:Z})}),rn(O,"renderPolarAxis",function(A,R,L){var B=yc(A,"type.axisType"),$=yc(O.state,"".concat(B,"Map")),q=A.type.defaultProps,z=q!==void 0?Ve(Ve({},q),A.props):A.props,Y=$&&$[z["".concat(B,"Id")]];return C.cloneElement(A,Ve(Ve({},Y),{},{className:Xn(B,Y.className),key:A.key||"".concat(R,"-").concat(L),ticks:Lf(Y,!0)}))}),rn(O,"renderPolarGrid",function(A){var R=A.props,L=R.radialLines,B=R.polarAngles,$=R.polarRadius,q=O.state,z=q.radiusAxisMap,Y=q.angleAxisMap,W=Bp(z),Z=Bp(Y),V=Z.cx,ne=Z.cy,X=Z.innerRadius,oe=Z.outerRadius;return C.cloneElement(A,{polarAngles:Array.isArray(B)?B:Lf(Z,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray($)?$:Lf(W,!0).map(function(K){return K.coordinate}),cx:V,cy:ne,innerRadius:X,outerRadius:oe,key:A.key||"polar-grid",radialLines:L})}),rn(O,"renderLegend",function(){var A=O.state.formattedGraphicalItems,R=O.props,L=R.children,B=R.width,$=R.height,q=O.props.margin||{},z=B-(q.left||0)-(q.right||0),Y=Qye({children:L,formattedGraphicalItems:A,legendWidth:z,legendContent:c});if(!Y)return null;var W=Y.item,Z=wne(Y,ewt);return C.cloneElement(W,Ve(Ve({},Z),{},{chartWidth:B,chartHeight:$,margin:q,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),rn(O,"renderTooltip",function(){var A,R=O.props,L=R.children,B=R.accessibilityLayer,$=yl(L,pd);if(!$)return null;var q=O.state,z=q.isTooltipActive,Y=q.activeCoordinate,W=q.activePayload,Z=q.activeLabel,V=q.offset,ne=(A=$.props.active)!==null&&A!==void 0?A:z;return C.cloneElement($,{viewBox:Ve(Ve({},V),{},{x:V.left,y:V.top}),active:ne,label:Z,payload:ne?W:[],coordinate:Y,accessibilityLayer:B})}),rn(O,"renderBrush",function(A){var R=O.props,L=R.margin,B=R.data,$=O.state,q=$.offset,z=$.dataStartIndex,Y=$.dataEndIndex,W=$.updateId;return C.cloneElement(A,{key:A.key||"_recharts-brush",onChange:MA(O.handleBrushChange,A.props.onChange),data:B,x:ut(A.props.x)?A.props.x:q.left,y:ut(A.props.y)?A.props.y:q.top+q.height+q.brushBottom-(L.bottom||0),width:ut(A.props.width)?A.props.width:q.width,startIndex:z,endIndex:Y,updateId:"brush-".concat(W)})}),rn(O,"renderReferenceElement",function(A,R,L){if(!A)return null;var B=O,$=B.clipPathId,q=O.state,z=q.xAxisMap,Y=q.yAxisMap,W=q.offset,Z=A.type.defaultProps||{},V=A.props,ne=V.xAxisId,X=ne===void 0?Z.xAxisId:ne,oe=V.yAxisId,K=oe===void 0?Z.yAxisId:oe;return C.cloneElement(A,{key:A.key||"".concat(R,"-").concat(L),xAxis:z[X],yAxis:Y[K],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:$})}),rn(O,"renderActivePoints",function(A){var R=A.item,L=A.activePoint,B=A.basePoint,$=A.childIndex,q=A.isRange,z=[],Y=R.props.key,W=R.item.type.defaultProps!==void 0?Ve(Ve({},R.item.type.defaultProps),R.item.props):R.item.props,Z=W.activeDot,V=W.dataKey,ne=Ve(Ve({index:$,dataKey:V,cx:L.x,cy:L.y,r:4,fill:BU(R.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Jn(Z,!1)),KO(Z));return z.push(T.renderActiveDot(Z,ne,"".concat(Y,"-activePoint-").concat($))),B?z.push(T.renderActiveDot(Z,Ve(Ve({},ne),{},{cx:B.x,cy:B.y}),"".concat(Y,"-basePoint-").concat($))):q&&z.push(null),z}),rn(O,"renderGraphicChild",function(A,R,L){var B=O.filterFormatItem(A,R,L);if(!B)return null;var $=O.getTooltipEventType(),q=O.state,z=q.isTooltipActive,Y=q.tooltipAxis,W=q.activeTooltipIndex,Z=q.activeLabel,V=O.props.children,ne=yl(V,pd),X=B.props,oe=X.points,K=X.isRange,Q=X.baseLine,te=B.item.type.defaultProps!==void 0?Ve(Ve({},B.item.type.defaultProps),B.item.props):B.item.props,U=te.activeDot,he=te.hide,se=te.activeBar,we=te.activeShape,ve=!!(!he&&z&&ne&&(U||se||we)),je={};$!=="axis"&&ne&&ne.props.trigger==="click"?je={onClick:MA(O.handleItemMouseEnter,A.props.onClick)}:$!=="axis"&&(je={onMouseLeave:MA(O.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:MA(O.handleItemMouseEnter,A.props.onMouseEnter)});var Te=C.cloneElement(A,Ve(Ve({},B.props),je));function He(ke){return typeof Y.dataKey=="function"?Y.dataKey(ke.payload):null}if(ve)if(W>=0){var Ge,De;if(Y.dataKey&&!Y.allowDuplicatedCategory){var Ft=typeof Y.dataKey=="function"?He:"payload.".concat(Y.dataKey.toString());Ge=GO(oe,Ft,Z),De=K&&Q&&GO(Q,Ft,Z)}else Ge=oe?.[W],De=K&&Q&&Q[W];if(we||se){var Ee=A.props.activeIndex!==void 0?A.props.activeIndex:W;return[C.cloneElement(A,Ve(Ve(Ve({},B.props),je),{},{activeIndex:Ee})),null,null]}if(!qn(Ge))return[Te].concat(z1(O.renderActivePoints({item:B,activePoint:Ge,basePoint:De,childIndex:W,isRange:K})))}else{var It,sn=(It=O.getItemByXY(O.state.activeCoordinate))!==null&&It!==void 0?It:{graphicalItem:Te},Yt=sn.graphicalItem,xr=Yt.item,er=xr===void 0?A:xr,ue=Yt.childIndex,xe=Ve(Ve(Ve({},B.props),je),{},{activeIndex:ue});return[C.cloneElement(er,xe),null,null]}return K?[Te,null,null]:[Te,null]}),rn(O,"renderCustomized",function(A,R,L){return C.cloneElement(A,Ve(Ve({key:"recharts-customized-".concat(L)},O.props),O.state))}),rn(O,"renderMap",{CartesianGrid:{handler:LA,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:LA},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:LA},YAxis:{handler:LA},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((N=k.id)!==null&&N!==void 0?N:ck("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=Z0e(O.triggeredAfterMouseMove,(I=k.throttleDelay)!==null&&I!==void 0?I:1e3/60),O.state={},O}return fwt(T,w),lwt(T,[{key:"componentDidMount",value:function(){var N,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,I=N.children,O=N.data,A=N.height,R=N.layout,L=yl(I,pd);if(L){var B=L.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,q=tH(this.state,O,B,$),z=this.state.tooltipTicks[B].coordinate,Y=(this.state.offset.top+A)/2,W=R==="horizontal",Z=W?{x:z,y:Y}:{y:z,x:Y},V=this.state.formattedGraphicalItems.find(function(X){var oe=X.item;return oe.type.name==="Scatter"});V&&(Z=Ve(Ve({},Z),V.props.points[B].tooltipPosition),q=V.props.points[B].tooltipPayload);var ne={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:$,activePayload:q,activeCoordinate:Z};this.setState(ne),this.renderCursor(L),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var O,A;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(N){H8([yl(N.children,pd)],[yl(this.props.children,pd)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=yl(this.props.children,pd);if(N&&typeof N.props.shared=="boolean"){var I=N.props.shared?"axis":"item";return s.indexOf(I)>=0?I:o}return o}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var I=this.container,O=I.getBoundingClientRect(),A=Sdt(O),R={chartX:Math.round(N.pageX-A.left),chartY:Math.round(N.pageY-A.top)},L=O.width/I.offsetWidth||1,B=this.inRange(R.chartX,R.chartY,L);if(!B)return null;var $=this.state,q=$.xAxisMap,z=$.yAxisMap,Y=this.getTooltipEventType(),W=Ene(this.state,this.props.data,this.props.layout,B);if(Y!=="axis"&&q&&z){var Z=Bp(q).scale,V=Bp(z).scale,ne=Z&&Z.invert?Z.invert(R.chartX):null,X=V&&V.invert?V.invert(R.chartY):null;return Ve(Ve({},R),{},{xValue:ne,yValue:X},W)}return W?Ve(Ve({},R),W):null}},{key:"inRange",value:function(N,I){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,R=N/O,L=I/O;if(A==="horizontal"||A==="vertical"){var B=this.state.offset,$=R>=B.left&&R<=B.left+B.width&&L>=B.top&&L<=B.top+B.height;return $?{x:R,y:L}:null}var q=this.state,z=q.angleAxisMap,Y=q.radiusAxisMap;if(z&&Y){var W=Bp(z);return jee({x:R,y:L},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,I=this.getTooltipEventType(),O=yl(N,pd),A={};O&&I==="axis"&&(O.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=KO(this.props,this.handleOuterEvent);return Ve(Ve({},R),A)}},{key:"addListener",value:function(){b6.on(v6,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){b6.removeListener(v6,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,I,O){for(var A=this.state.formattedGraphicalItems,R=0,L=A.length;R<L;R++){var B=A[R];if(B.item===N||B.props.key===N.key||I===Wf(B.item.type)&&O===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,I=this.state.offset,O=I.left,A=I.top,R=I.height,L=I.width;return F.createElement("defs",null,F.createElement("clipPath",{id:N},F.createElement("rect",{x:O,y:A,height:R,width:L})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(I,O){var A=xne(O,2),R=A[0],L=A[1];return Ve(Ve({},I),{},rn({},R,L.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(I,O){var A=xne(O,2),R=A[0],L=A[1];return Ve(Ve({},I),{},rn({},R,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[N])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(N){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[N])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(N){var I=this.state,O=I.formattedGraphicalItems,A=I.activeItem;if(O&&O.length)for(var R=0,L=O.length;R<L;R++){var B=O[R],$=B.props,q=B.item,z=q.type.defaultProps!==void 0?Ve(Ve({},q.type.defaultProps),q.props):q.props,Y=Wf(q.type);if(Y==="Bar"){var W=($.data||[]).find(function(X){return Hyt(N,X)});if(W)return{graphicalItem:B,payload:W}}else if(Y==="RadialBar"){var Z=($.data||[]).find(function(X){return jee(N,X)});if(Z)return{graphicalItem:B,payload:Z}}else if(KR(B,A)||XR(B,A)||sT(B,A)){var V=Obt({graphicalItem:B,activeTooltipItem:A,itemData:z.data}),ne=z.activeIndex===void 0?V:z.activeIndex;return{graphicalItem:Ve(Ve({},B),{},{childIndex:ne}),payload:sT(B,A)?z.data[V]:B.props.data[V]}}}return null}},{key:"render",value:function(){var N=this;if(!GX(this))return null;var I=this.props,O=I.children,A=I.className,R=I.width,L=I.height,B=I.style,$=I.compact,q=I.title,z=I.desc,Y=wne(I,twt),W=Jn(Y,!1);if($)return F.createElement(tne,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(U8,Lv({},W,{width:R,height:L,title:q,desc:z}),this.renderClipPath(),XX(O,this.renderMap)));if(this.props.accessibilityLayer){var Z,V;W.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,W.role=(V=this.props.role)!==null&&V!==void 0?V:"application",W.onKeyDown=function(X){N.accessibilityManager.keyboardEvent(X)},W.onFocus=function(){N.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return F.createElement(tne,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",Lv({className:Xn("recharts-wrapper",A),style:Ve({position:"relative",cursor:"default",width:R,height:L},B)},ne,{ref:function(oe){N.container=oe}}),F.createElement(U8,Lv({},W,{width:R,height:L,title:q,desc:z,style:bwt}),this.renderClipPath(),XX(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);rn(v,"displayName",n),rn(v,"defaultProps",Ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),rn(v,"getDerivedStateFromProps",function(w,T){var k=w.dataKey,N=w.data,I=w.children,O=w.width,A=w.height,R=w.layout,L=w.stackOffset,B=w.margin,$=T.dataStartIndex,q=T.dataEndIndex;if(T.updateId===void 0){var z=Cne(w);return Ve(Ve(Ve({},z),{},{updateId:0},m(Ve(Ve({props:w},z),{},{updateId:0}),T)),{},{prevDataKey:k,prevData:N,prevWidth:O,prevHeight:A,prevLayout:R,prevStackOffset:L,prevMargin:B,prevChildren:I})}if(k!==T.prevDataKey||N!==T.prevData||O!==T.prevWidth||A!==T.prevHeight||R!==T.prevLayout||L!==T.prevStackOffset||!e1(B,T.prevMargin)){var Y=Cne(w),W={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},Z=Ve(Ve({},Ene(T,N,R)),{},{updateId:T.updateId+1}),V=Ve(Ve(Ve({},Y),W),Z);return Ve(Ve(Ve({},V),m(Ve({props:w},V),T)),{},{prevDataKey:k,prevData:N,prevWidth:O,prevHeight:A,prevLayout:R,prevStackOffset:L,prevMargin:B,prevChildren:I})}if(!H8(I,T.prevChildren)){var ne,X,oe,K,Q=yl(I,R1),te=Q&&(ne=(X=Q.props)===null||X===void 0?void 0:X.startIndex)!==null&&ne!==void 0?ne:$,U=Q&&(oe=(K=Q.props)===null||K===void 0?void 0:K.endIndex)!==null&&oe!==void 0?oe:q,he=te!==$||U!==q,se=!qn(N),we=se&&!he?T.updateId:T.updateId+1;return Ve(Ve({updateId:we},m(Ve(Ve({props:w},T),{},{updateId:we,dataStartIndex:te,dataEndIndex:U}),T)),{},{prevChildren:I,dataStartIndex:te,dataEndIndex:U})}return null}),rn(v,"renderActiveDot",function(w,T,k){var N;return C.isValidElement(w)?N=C.cloneElement(w,T):Rn(w)?N=w(T):N=F.createElement(HU,T),F.createElement(Wi,{className:"recharts-active-dot",key:k},N)});var x=C.forwardRef(function(T,k){return F.createElement(v,Lv({},T,{ref:k}))});return x.displayName=v.displayName,x},Nwt=Awt({chartName:"LineChart",GraphicalChild:yk,axisComponents:[{axisType:"xAxis",AxisComp:n3},{axisType:"yAxis",AxisComp:r3}],formatAxisMap:kvt});const Owt={light:"",dark:".dark"},ove=C.createContext(null);function ave(){const e=C.useContext(ove);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const sve=C.forwardRef(({id:e,className:t,children:n,config:r,...i},o)=>{const a=C.useId(),s=`chart-${e||a.replace(/:/g,"")}`;return g.jsx(ove.Provider,{value:{config:r},children:g.jsxs("div",{"data-chart":s,ref:o,className:Ie("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...i,children:[g.jsx(Mwt,{id:s,config:r}),g.jsx(mdt,{children:n})]})})});sve.displayName="Chart";const Mwt=({id:e,config:t})=>{const n=Object.entries(t).filter(([,r])=>r.theme||r.color);return n.length?g.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(Owt).map(([r,i])=>`
${i} [data-chart=${e}] {
${n.map(([o,a])=>{const s=a.theme?.[r]||a.color;return s?`  --color-${o}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Dwt=pd,Rwt=C.forwardRef(({active:e,payload:t,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:o=!1,label:a,labelFormatter:s,labelClassName:l,formatter:c,color:u,nameKey:d,labelKey:p},m)=>{const{config:v}=ave(),x=C.useMemo(()=>{if(i||!t?.length)return null;const[T]=t,k=`${p||T?.dataKey||T?.name||"value"}`,N=nH(v,T,k),I=!p&&typeof a=="string"?v[a]?.label||a:N?.label;return s?g.jsx("div",{className:Ie("font-medium",l),children:s(I,t)}):I?g.jsx("div",{className:Ie("font-medium",l),children:I}):null},[a,s,t,i,l,v,p]);if(!e||!t?.length)return null;const w=t.length===1&&r!=="dot";return g.jsxs("div",{ref:m,className:Ie("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[w?null:x,g.jsx("div",{className:"grid gap-1.5",children:t.filter(T=>T.type!=="none").map((T,k)=>{const N=`${d||T.name||T.dataKey||"value"}`,I=nH(v,T,N),O=u||T.payload.fill||T.color;return g.jsx("div",{className:Ie("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:c&&T?.value!==void 0&&T.name?c(T.value,T.name,T,k,T.payload):g.jsxs(g.Fragment,{children:[I?.icon?g.jsx(I.icon,{}):!o&&g.jsx("div",{className:Ie("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":w&&r==="dashed"}),style:{"--color-bg":O,"--color-border":O}}),g.jsxs("div",{className:Ie("flex flex-1 justify-between leading-none",w?"items-end":"items-center"),children:[g.jsxs("div",{className:"grid gap-1.5",children:[w?x:null,g.jsx("span",{className:"text-muted-foreground",children:I?.label||T.name})]}),T.value&&g.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:T.value.toLocaleString()})]})]})},T.dataKey)})})]})});Rwt.displayName="ChartTooltip";const Iwt=T0,Pwt=C.forwardRef(({className:e,hideIcon:t=!1,payload:n,verticalAlign:r="bottom",nameKey:i},o)=>{const{config:a}=ave();return n?.length?g.jsx("div",{ref:o,className:Ie("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",e),children:n.filter(s=>s.type!=="none").map(s=>{const l=`${i||s.dataKey||"value"}`,c=nH(a,s,l);return g.jsxs("div",{className:Ie("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c?.icon&&!t?g.jsx(c.icon,{}):g.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),c?.label]},s.value)})}):null});Pwt.displayName="ChartLegend";function nH(e,t,n){if(typeof t!="object"||t===null)return;const r="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let i=n;return n in t&&typeof t[n]=="string"?i=t[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in e?e[i]:e[n]}function kne(e){if(e===0)return 0;const t=Math.floor(Math.log10(Math.abs(e))),n=Math.max(0,2-t-1);return Number(e.toFixed(n))}function rH(e,t,n){let r=e,i="";if(t==="percent"||t==="%"){const a=e*100;return{formattedValue:kne(a).toLocaleString(),displayUnit:"%"}}return t==="bytes"?(r=e/1024/1024/1024,i="GB"):t==="seconds"||t==="s"?i="s":t&&t!=="count"&&(i=t),n?.startsWith("rate")&&(n==="ratePerSecond"?i=`${t||"events"}/s`:n==="ratePerMinute"?i=`${t||"events"}/min`:n==="ratePerHour"?i=`${t||"events"}/h`:n==="ratePerDay"&&(i=`${t||"events"}/day`)),{formattedValue:kne(r).toLocaleString(),displayUnit:i}}function lve({historyData:e,startDate:t,endDate:n,unit:r,transform:i}){const[o,a]=C.useState(new Set),[s,l]=C.useState(null),c=C.useMemo(()=>e.series.some(R=>Object.keys(R.labels).length>0),[e.series]),u=new Set;for(const R of e.series)for(const L of R.values)u.add(L.timestamp.getTime());const d=new Set;for(const R of e.series)for(const L of R.values)d.add(L.timestamp.getTime());const p=Array.from(d).sort((R,L)=>R-L),v=(()=>{const L=(n.getTime()-t.getTime())/(1e3*60*60);return L<=1||L<=24?"time":L<=168?"datetime":"date"})(),x=C.useCallback(R=>Object.entries(R).map(([L,B])=>`${L}=${B}`).join(", "),[]),w=C.useCallback((R,L)=>{const B=e.series.map($=>x($.labels));L.metaKey||L.ctrlKey?a($=>{if($.size===B.length-1&&!$.has(R))return new Set;const z=new Set(B);return z.delete(R),z}):a($=>{const q=new Set($);return q.has(R)?q.delete(R):q.add(R),q})},[e.series,x]),T=F.useMemo(()=>p.map(R=>{const L=new Date(R);let B;v==="time"?B=L.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):v==="datetime"?B=L.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):B=L.toLocaleDateString("en-US",{month:"short",day:"numeric"});const $={timestamp:B};for(let q=0;q<e.series.length;q++){const z=e.series[q],Y=x(z.labels),W=z.values.find(Z=>Z.timestamp.getTime()===R);if(W){const{formattedValue:Z}=rH(W.value,r??void 0,i);$[Y]=Number.parseFloat(Z.replace(/,/g,""))}}return $}),[e.series,r,i,v,p,x]),k={},N=["var(--color-chart-1)","var(--color-chart-2)","var(--color-chart-3)","var(--color-chart-4)","var(--color-chart-5)"];for(let R=0;R<e.series.length;R++){const L=e.series[R],B=x(L.labels);k[B]={label:B,color:N[R%N.length]}}const{displayUnit:I}=F.useMemo(()=>rH(0,r??void 0,i),[r,i]),O=C.useMemo(()=>({active:R,payload:L,label:B})=>!R||!L?.length?null:g.jsxs("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:[g.jsx("div",{className:"mb-1 font-bold text-sm",children:B}),g.jsx("div",{className:"flex flex-col gap-1",children:L.filter($=>!o.has($.dataKey)).map($=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:$.color}}),g.jsx("span",{className:"text-sm",children:g.jsxs("span",{className:"font-medium",children:[$.value,I?` ${I}`:""]})})]},$.dataKey))})]}),[o,I]),A=C.useMemo(()=>({payload:R})=>R?.length?g.jsx("div",{className:"flex items-center justify-center gap-4 pt-3 flex-wrap",children:R.filter(L=>L.type!=="none").map(L=>{const B=L.dataKey,$=o.has(B);return g.jsxs("div",{className:"flex items-center gap-1.5 cursor-pointer select-none hover:opacity-80 transition-opacity",onClick:q=>w(B,q),onMouseEnter:()=>l(B),onMouseLeave:()=>l(null),onKeyDown:q=>{(q.key==="Enter"||q.key===" ")&&w(B,q)},role:"button",tabIndex:0,title:`Click to toggle, ${typeof window<"u"&&window.navigator.userAgent.includes("Mac")?"Cmd":"Ctrl"}+Click to isolate`,children:[g.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:L.color,opacity:$?.3:1}}),g.jsx("span",{style:{opacity:$?.5:1,textDecoration:$?"line-through":"none"},children:L.value})]},L.value)})}):null,[o,w]);return g.jsx(sve,{config:k,className:"h-[400px] w-full",children:g.jsxs(Nwt,{data:T,children:[g.jsx(zbe,{vertical:!1}),g.jsx(n3,{dataKey:"timestamp",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:32,tickFormatter:R=>R}),g.jsx(r3,{tickLine:!1,axisLine:!1,tickMargin:8,width:80,tickFormatter:R=>`${R.toLocaleString()}${I?` ${I}`:""}`,tick:{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}}),g.jsx(Dwt,{content:g.jsx(O,{})}),c&&g.jsx(Iwt,{content:g.jsx(A,{})}),e.series.map((R,L)=>{const B=x(R.labels),$=o.has(B),q=s===B,z=s!==null&&!q;return g.jsx(yk,{dataKey:B,type:"monotone",stroke:N[L%N.length],strokeWidth:q?3:2,dot:{fill:N[L%N.length],strokeWidth:q?2:0,r:q?5:3},activeDot:{r:6,strokeWidth:2,stroke:"var(--background)"},hide:$,strokeOpacity:$?0:z?.2:1},B)})]})})}function cve({notebookId:e=null,open:t,onOpenChange:n,metricName:r,prettyName:i,transform:o,tenantName:a,startDate:s,endDate:l,filters:c,groupBy:u,groupByFn:d,unit:p}){const[m,v]=C.useState({series:[]});return C.useEffect(()=>{const x=async()=>{try{const w=await D0.getHistory(a,r,o,s,l,c,u,d,e);v(w)}catch(w){console.error("Failed to fetch metric history:",w),v({series:[]})}};t&&x()},[a,r,o,s,l,c,u,d,t,e]),g.jsx(CH,{open:t,onOpenChange:n,children:g.jsxs(TH,{children:[g.jsx(Eie,{children:g.jsxs(Cie,{className:"flex items-center justify-between",children:[g.jsx("div",{className:"space-y-2",children:g.jsx("div",{className:"text-2xl font-bold",children:i})}),g.jsx(rTe,{asChild:!0,children:g.jsx(yi,{variant:"ghost",size:"icon",children:g.jsx(MH,{className:"h-4 w-4"})})})]})}),g.jsx("div",{className:"px-4 pb-10",children:g.jsx(lve,{historyData:m,unit:p,transform:o,startDate:s,endDate:l})})]})})}function Lwt({metrics:e,metricsLoading:t,selectedMetric:n,selectedGroupBy:r,selectedGroupByFn:i,onMetricSelect:o,onGroupByChange:a,onGroupByFnChange:s}){const[l,c]=C.useState(!1);if(t&&e.length===0)return g.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading metrics..."});if(e.length===0)return g.jsx("div",{className:"text-sm text-muted-foreground",children:"No metrics available"});const u={};for(const p of e){const m=uve(p.transform,p.type);u[m]||(u[m]=[]),u[m].push(p)}const d=n&&n.groupBy.length>1;return g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Metric"}),g.jsxs(Ec,{open:l,onOpenChange:c,modal:!0,children:[g.jsx(Cc,{asChild:!0,children:g.jsxs(yi,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between",children:[n?n.prettyName:"Select a metric...",g.jsx(AH,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),g.jsx(Tc,{className:"w-[400px] p-0",children:g.jsxs(rm,{children:[g.jsx(im,{placeholder:"Search metrics..."}),g.jsxs(om,{children:[g.jsx(am,{children:"No metric found."}),Object.entries(u).map(([p,m])=>g.jsx(sm,{heading:g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("span",{children:dve(p)}),g.jsx(wl,{delayDuration:300,children:g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(eE,{className:"size-3 text-muted-foreground"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:fve(p)})})]})})]}),children:m.map(v=>g.jsxs(lm,{value:v.prettyName,onSelect:()=>{o(v),!i&&v.groupBy.length>0&&s(v.groupBy[0]),c(!1)},className:"flex items-center justify-between",children:[g.jsx("span",{children:v.prettyName}),g.jsx(N0,{className:Ie("mr-2 h-4 w-4",n?.prometheusName===v.prometheusName&&n?.transform===v.transform?"opacity-100":"opacity-0")})]},`${v.prometheusName}-${v.transform}`))},p))]})]})})]}),n&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"space-y-2 flex-1",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Group By"}),g.jsxs(Ec,{children:[g.jsx(Cc,{asChild:!0,children:g.jsx(yi,{variant:"outline",className:"w-full justify-start text-left",children:r.length>0?g.jsx("span",{children:r.join(", ")}):g.jsx("span",{className:"text-muted-foreground",children:"Select labels to group by..."})})}),g.jsx(Tc,{className:"w-[300px] p-0",align:"start",children:g.jsxs(rm,{children:[g.jsx(im,{placeholder:"Search labels..."}),g.jsxs(om,{children:[g.jsx(am,{children:"No labels found."}),g.jsx(sm,{heading:"Available Labels",children:n.labels.map(p=>g.jsxs(lm,{value:p,onSelect:()=>{const m=r.includes(p)?r.filter(v=>v!==p):[...r,p];a(m)},children:[g.jsx(N0,{className:Ie("mr-2 h-4 w-4",r.includes(p)?"opacity-100":"opacity-0")}),p]},p))})]})]})})]})]}),d&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Group Function"}),g.jsxs(BE,{value:i||n.groupBy[0],onValueChange:s,children:[g.jsx(Qv,{className:"w-full",children:g.jsx($E,{})}),g.jsxs(Jv,{children:[n.groupBy.includes("sum")&&g.jsx(Ii,{value:"sum",children:"Sum"}),n.groupBy.includes("avg")&&g.jsx(Ii,{value:"avg",children:"Average"}),n.groupBy.includes("min")&&g.jsx(Ii,{value:"min",children:"Min"}),n.groupBy.includes("max")&&g.jsx(Ii,{value:"max",children:"Max"})]})]})]})]})]})}function iH({metrics:e,selectedMetric:t,selectedTimeAggregation:n,selectedGroupBy:r,selectedGroupByFn:i,blockFilters:o,matchOperator:a="==",matchValue:s="",onMetricSelect:l,onTimeAggregationChange:c,onGroupByChange:u,onGroupByFnChange:d,onFiltersChange:p,onMatchConditionChange:m,disableGroupBy:v=!1}){const x=dc(O=>O.labels),[w,T]=C.useState(!1);if(e.length===0)return g.jsx("div",{className:"text-sm text-muted-foreground",children:"No metrics available"});const k={};for(const O of e){const A=uve(O.transform,O.type);k[A]||(k[A]=[]),k[A].push(O)}const N=t&&t.timeAggregation.length>1,I=t&&t.groupBy.length>1;return g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Metric"}),g.jsxs(Ec,{open:w,onOpenChange:T,modal:!0,children:[g.jsx(Cc,{asChild:!0,children:g.jsxs(yi,{variant:"outline",role:"combobox","aria-expanded":w,className:"w-full justify-between",children:[t?t.prettyName:"Select a metric...",g.jsx(AH,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),g.jsx(Tc,{className:"w-[400px] p-0",children:g.jsxs(rm,{children:[g.jsx(im,{placeholder:"Search metrics..."}),g.jsxs(om,{children:[g.jsx(am,{children:"No metric found."}),Object.entries(k).map(([O,A])=>g.jsx(sm,{heading:g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("span",{children:dve(O)}),g.jsx(wl,{delayDuration:300,children:g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(eE,{className:"size-3 text-muted-foreground"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:fve(O)})})]})})]}),children:A.map(R=>g.jsxs(lm,{value:R.prettyName,onSelect:()=>{l(R),(!n||!R.timeAggregation.includes(n))&&c(R.timeAggregation[0]),(!i||!R.groupBy.includes(i))&&d(R.groupBy[0]),T(!1)},className:"flex items-center justify-between",children:[g.jsx("span",{children:R.prettyName}),g.jsx(N0,{className:Ie("mr-2 h-4 w-4",t?.prometheusName===R.prometheusName&&t?.transform===R.transform?"opacity-100":"opacity-0")})]},`${R.prometheusName}-${R.transform}`))},O))]})]})})]}),t&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex gap-2",children:[!v&&g.jsxs("div",{className:"space-y-2 flex-1",children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Group By"}),g.jsx(wl,{delayDuration:300,children:g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(eE,{className:"size-3 text-muted-foreground cursor-help"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Labels to group by. If no labels are selected, all values will be combined into a single one."})})]})})]}),g.jsxs(Ec,{children:[g.jsx(Cc,{asChild:!0,children:g.jsx(yi,{variant:"outline",className:"w-full justify-start text-left",children:r.length>0?g.jsx("span",{children:r.join(", ")}):g.jsx("span",{className:"text-muted-foreground",children:"Select labels to group by..."})})}),g.jsx(Tc,{className:"w-[300px] p-0",align:"start",children:g.jsxs(rm,{children:[g.jsx(im,{placeholder:"Search labels..."}),g.jsxs(om,{children:[g.jsx(am,{children:"No labels found."}),g.jsx(sm,{heading:"Available Labels",children:t.labels.map(O=>g.jsxs(lm,{value:O,onSelect:()=>{const A=r.includes(O)?r.filter(R=>R!==O):[...r,O];u(A)},children:[g.jsx(N0,{className:Ie("mr-2 h-4 w-4",r.includes(O)?"opacity-100":"opacity-0")}),O]},O))})]})]})})]})]}),I&&g.jsxs("div",{className:Ie("space-y-2",v?"flex-1":"w-32"),children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Apply"}),g.jsx(wl,{delayDuration:300,children:g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(eE,{className:"size-3 text-muted-foreground cursor-help"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"What function to apply when combining values from multiple labels. For example, when combining temperature values across different rooms, this allows you to choose whether to max, min, or average the values."})})]})})]}),g.jsxs(BE,{value:i||t.groupBy[0],onValueChange:d,children:[g.jsx(Qv,{className:"w-full",children:g.jsx($E,{})}),g.jsxs(Jv,{children:[t.groupBy.includes("sum")&&g.jsx(Ii,{value:"sum",children:"Sum"}),t.groupBy.includes("avg")&&g.jsx(Ii,{value:"avg",children:"Average"}),t.groupBy.includes("min")&&g.jsx(Ii,{value:"min",children:"Min"}),t.groupBy.includes("max")&&g.jsx(Ii,{value:"max",children:"Max"})]})]})]})]}),N&&g.jsxs("div",{className:"space-y-2 flex-1",children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Time Aggregation"}),g.jsx(wl,{delayDuration:300,children:g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(eE,{className:"size-3 text-muted-foreground cursor-help"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"How to aggregate the metric values over the selected time window"})})]})})]}),g.jsx(wl,{delayDuration:300,children:g.jsxs(BE,{value:n||t.timeAggregation[0],onValueChange:c,children:[g.jsx(Qv,{className:"w-full",children:g.jsx($E,{})}),g.jsxs(Jv,{children:[t.timeAggregation.includes("last")&&g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(Ii,{value:"last",children:"Last value"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Returns the most recent value in the time window"})})]}),t.timeAggregation.includes("avg")&&g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(Ii,{value:"avg",children:"Average over time"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Calculates the mean of all values in the time window"})})]}),t.timeAggregation.includes("min")&&g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(Ii,{value:"min",children:"Minimum over time"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Returns the lowest value in the time window"})})]}),t.timeAggregation.includes("max")&&g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(Ii,{value:"max",children:"Maximum over time"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Returns the highest value in the time window"})})]}),t.timeAggregation.includes("match")&&g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(Ii,{value:"match",children:"Match rate"})}),g.jsx(Hr,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Percentage of time where metric matches a condition"})})]})]})]})})]}),n==="match"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Match Condition"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(BE,{value:a,onValueChange:O=>{m?.(O,s)},children:[g.jsx(Qv,{className:"w-24",children:g.jsx($E,{})}),g.jsxs(Jv,{children:[g.jsx(Ii,{value:"==",children:"="}),g.jsx(Ii,{value:">",children:">"}),g.jsx(Ii,{value:"<",children:"<"}),g.jsx(Ii,{value:">=",children:">="}),g.jsx(Ii,{value:"<=",children:"<="}),g.jsx(Ii,{value:"!=",children:"!="})]})]}),g.jsx(fc,{type:"number",placeholder:"Value",value:s,onChange:O=>{m?.(a,O.target.value)}})]}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:["Shows percentage of time where metric ",a," ",s||"..."]})]}),g.jsx("div",{className:"space-y-2",children:g.jsxs("div",{className:"flex gap-2 flex-col",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(vy,{availableLabels:x,filters:o,onFiltersChange:p})]})})]})]})}function uve(e,t){return e?.startsWith("rate")?"rate":e?.startsWith("p")?"percentile":t==="counter"?"increase":"raw"}function dve(e){switch(e){case"increase":return"Increase";case"rate":return"Rate";case"percentile":return"Percentile";default:return"Raw"}}function fve(e){switch(e){case"increase":return"Total increase of a counter over the time window. For example: number of new signups in the last hour.";case"rate":return"Shows the rate of change per time unit (second, minute, hour, or day). For example: number of signups per second.";case"percentile":return"Shows the value below which a given percentage of observations fall. For example: 90th percentile of response time.";default:return"Shows the raw value of the metric. For example: Current stock price."}}const jwt=yy({type:"metric",propSchema:{metricName:{default:""},title:{default:""},transform:{default:""},timeAggregation:{default:"last"},groupBy:{default:"[]"},groupByFn:{default:"sum"},matchOperator:{default:"=="},matchValue:{default:""},healthMin:{default:""},healthMax:{default:""},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=Pd(),n=t?decodeURIComponent(t):"",r=ft(se=>se.settingsOpenBlockId),i=ft(se=>se.closeBlockSettings),o=ft(se=>se.instantMetrics),a=ft(se=>se.currentNotebook?.filters),s=ft(se=>se.startDate),l=ft(se=>se.endDate),c=ft(se=>se.currentNotebook?.id),[u,d]=C.useState(null),[p,m]=C.useState(!1),[v,x]=C.useState(!1),[w,T]=C.useState({}),k=e.block.props.metricName,N=e.block.props.title,I=e.block.props.transform,O=e.block.props.timeAggregation,A=e.block.props.groupByFn,R=e.block.props.healthMin,L=e.block.props.healthMax,B=e.block.props.matchOperator,$=e.block.props.matchValue,q=C.useMemo(()=>{try{return JSON.parse(e.block.props.groupBy)}catch{return[]}},[e.block.props.groupBy]),z=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),Y=C.useMemo(()=>[...a||[],...z],[a,z]),W=F.useMemo(()=>o.find(se=>se.prometheusName===k&&se.transform===(I||null)),[k,I,o]);if(C.useEffect(()=>{if(!n||!k||s===null||l===null||Y===void 0||!c){d(null);return}(async()=>{if(O==="match"&&!$){d(null);return}m(!0);try{const we=await D0.getScalar(n,k,s,l,I||null,q,A,O,B,$,Y,c);d(we)}catch(we){console.error("Failed to fetch metric scalar:",we),d(null)}finally{m(!1)}})()},[n,k,I,O,q,A,B,$,s,l,Y,c]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const Z=r===e.block.id,V=se=>{e.editor.updateBlock(e.block,{props:{metricName:se.prometheusName,transform:se.transform||""}})},ne=se=>{e.editor.updateBlock(e.block,{props:{timeAggregation:se}})},X=se=>{e.editor.updateBlock(e.block,{props:{groupByFn:se}})},oe=se=>{e.editor.updateBlock(e.block,{props:{groupBy:JSON.stringify(se)}})},K=se=>{e.editor.updateBlock(e.block,{props:{blockFilters:JSON.stringify(se)}})},Q=se=>{T(se),x(!0)},te=se=>{const we=R?Number.parseFloat(R):null,ve=L?Number.parseFloat(L):null;return we===null&&ve===null?"text-green-700":we!==null&&!Number.isNaN(we)&&se<we||ve!==null&&!Number.isNaN(ve)&&se>ve?"text-red-700":"text-green-700"},U=()=>p&&u===null&&k?g.jsxs(Hf,{className:"@container/card shadow-none",children:[g.jsxs(Td,{children:[g.jsx(Cd,{className:"h-4 w-32"}),g.jsx(Cd,{className:"h-8 w-24"})]}),g.jsx(g0,{className:"flex-col items-start gap-1.5",children:g.jsx(Cd,{className:"h-3 w-48"})})]}):u===null||u.scalars.length===0?g.jsxs(Hf,{className:"@container/card shadow-none",children:[g.jsxs(Td,{className:"relative pb-3",children:[g.jsx(P0,{children:N||u?.prettyName||"N/A"}),g.jsx(eC,{className:Ie("text-2xl font-semibold @[250px]/card:text-3xl"),children:""})]}),g.jsx(g0,{className:"flex flex-wrap gap-1.5 p-3 pt-0"})]}):g.jsx("div",{className:"outline-none flex flex-col gap-1",children:u.scalars.map(se=>he(se))}),he=se=>{const we=O==="match",ve=rH(se.value,we?"%":u?.unit??void 0,I||null),je=R||L?te(se.value):"",Te=()=>N||(u?we?`${u.prettyName} ${B} ${$}`:!I&&u.type==="counter"?`${u.prettyName} - Increase`:O==="last"?`${u.prettyName} - Last value`:O==="avg"?`${u.prettyName} - Average over time`:O==="min"?`${u.prettyName} - Minimum over time`:O==="max"?`${u.prettyName} - Maximum over time`:u.prettyName:"N/A");return g.jsx("div",{className:"group",children:g.jsxs(Hf,{className:"@container/card shadow-none",children:[g.jsxs(Td,{className:"relative pb-3",children:[g.jsxs("div",{className:"absolute right-3 top-0 px-2 py-1.5 rounded-b-lg border border-t-0 bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1.5 opacity-0 shadow-xs",onClick:()=>Q(se.labels),children:[g.jsx(oD,{className:"size-4 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"History"})]}),g.jsx(P0,{children:Te()}),g.jsxs(eC,{className:Ie("text-2xl font-semibold @[250px]/card:text-3xl",je),children:[ve.formattedValue,ve.displayUnit&&g.jsx("span",{className:Ie("text-muted-foreground ml-2 text-xl",je),children:ve.displayUnit})]})]}),g.jsx(g0,{className:"flex flex-wrap gap-1.5 p-3 pt-0",children:Object.entries(se.labels).map(([He,Ge])=>g.jsx(rh,{labelKey:He,labelValue:Ge},He))})]})},Object.entries(se.labels).map(([He,Ge])=>`${He}:${Ge}`).join(","))};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:U()}),g.jsx(Mm,{open:Z,onOpenChange:se=>{se||i()},children:g.jsxs(ph,{children:[g.jsx(mh,{children:g.jsx(gh,{children:"Metric Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Title"}),g.jsx(fc,{placeholder:"Optional title...",value:N,onChange:se=>{e.editor.updateBlock(e.block,{props:{title:se.target.value}})}})]}),g.jsx("div",{className:"space-y-3",children:g.jsx(iH,{metrics:o,selectedMetric:W??null,selectedTimeAggregation:O,selectedGroupBy:q,selectedGroupByFn:A,onMetricSelect:V,onTimeAggregationChange:ne,onGroupByChange:oe,onGroupByFnChange:X,onFiltersChange:K,blockFilters:z,matchOperator:B,matchValue:$,onMatchConditionChange:(se,we)=>{e.editor.updateBlock(e.block,{props:{matchOperator:se,matchValue:we}})}})}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Health Interval (Optional)"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(fc,{type:"number",placeholder:"Min",value:R,onChange:se=>{e.editor.updateBlock(e.block,{props:{healthMin:se.target.value}})}}),g.jsx(fc,{type:"number",placeholder:"Max",value:L,onChange:se=>{e.editor.updateBlock(e.block,{props:{healthMax:se.target.value}})}})]}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"Values outside this range will be shown in red"})]})]})]})}),s!==null&&l!==null&&c&&g.jsx(cve,{metricName:k,prettyName:u?.prettyName??"",transform:u?.type==="counter"&&!I?"ratePerSecond":I||null,unit:u?.unit??null,tenantName:n,groupBy:q,groupByFn:A,filters:[...Y,...Object.entries(w).map(([se,we])=>({label:se,value:we}))],open:v,startDate:s,endDate:l,onOpenChange:x,notebookId:c})]})}})(),Bwt=yy({type:"metricHistory",propSchema:{metricName:{default:""},transform:{default:""},groupBy:{default:"[]"},groupByFn:{default:"sum"},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=Pd(),n=t?decodeURIComponent(t):"",r=ft(W=>W.settingsOpenBlockId),i=ft(W=>W.closeBlockSettings),o=ft(W=>W.openBlockSettings),a=dc(W=>W.labels),s=ft(W=>W.rangeMetrics),l=ft(W=>W.metricsLoading),c=ft(W=>W.startDate),u=ft(W=>W.endDate),d=ft(W=>W.currentNotebook?.filters),p=ft(W=>W.currentNotebook?.id),m=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),v=C.useMemo(()=>[...d||[],...m],[d,m]),[x,w]=C.useState({prettyName:"",unit:null,transform:null,series:[]}),[T,k]=C.useState(!1),N=e.block.props.metricName,I=e.block.props.transform,O=C.useMemo(()=>{try{return JSON.parse(e.block.props.groupBy)}catch{return[]}},[e.block.props.groupBy]),A=e.block.props.groupByFn,R=F.useMemo(()=>s.find(W=>W.prometheusName===N&&W.transform===(I||null)),[N,I,s]);if(C.useEffect(()=>{if(!n||!N||!c||!u||v===void 0||!p){w({prettyName:"",unit:null,transform:null,series:[]});return}(async()=>{k(!0);try{const Z=await D0.getHistory(n,N,I||null,c,u,v,O,A,p);w(Z)}catch(Z){console.error("Failed to fetch metric history:",Z),w({prettyName:"",unit:null,transform:null,series:[]})}finally{k(!1)}})()},[n,N,I,c,u,v,O,A,p]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const L=r===e.block.id,B=W=>{e.editor.updateBlock(e.block,{props:{...e.block.props,metricName:W.prometheusName,transform:W.transform||""}})},$=W=>{e.editor.updateBlock(e.block,{props:{...e.block.props,groupBy:JSON.stringify(W)}})},q=W=>{e.editor.updateBlock(e.block,{props:{...e.block.props,groupByFn:W}})},z=W=>{e.editor.updateBlock(e.block,{props:{blockFilters:JSON.stringify(W)}})},Y=()=>N?!c||!u?g.jsx("div",{className:"rounded-lg border p-8 text-center text-muted-foreground",children:g.jsx("p",{children:"No time window configured"})}):g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsx("div",{children:g.jsx("h3",{className:"text-lg font-semibold",children:x.prettyName})})}),g.jsx(lve,{historyData:x,unit:x.unit,transform:I||null,startDate:c,endDate:u})]}):g.jsx(JE,{icon:oD,title:"No metric selected",description:"Select a metric to view its history.",onClick:()=>o(e.block.id),className:"cursor-pointer"});return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:Y()}),g.jsx(Mm,{open:L,onOpenChange:W=>{W||i()},children:g.jsxs(ph,{children:[g.jsx(mh,{children:g.jsx(gh,{children:"Metric History Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsx(Lwt,{metrics:s,metricsLoading:l,selectedMetric:R??null,selectedGroupBy:O,selectedGroupByFn:A,onMetricSelect:B,onGroupByChange:$,onGroupByFnChange:q}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(vy,{availableLabels:a,filters:m,onFiltersChange:z})]})]})]})})]})}})(),$wt=yy({type:"metricRatio",propSchema:{title:{default:""},metricAName:{default:""},transformA:{default:""},timeAggregationA:{default:"last"},groupByA:{default:"[]"},groupByFnA:{default:"sum"},matchOperatorA:{default:"=="},matchValueA:{default:""},filtersA:{default:"[]"},metricBName:{default:""},transformB:{default:""},timeAggregationB:{default:"last"},groupByB:{default:"[]"},groupByFnB:{default:"sum"},matchOperatorB:{default:"=="},matchValueB:{default:""},filtersB:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=Pd(),n=t?decodeURIComponent(t):"",r=ft(Ee=>Ee.settingsOpenBlockId),i=ft(Ee=>Ee.closeBlockSettings),o=ft(Ee=>Ee.instantMetrics),a=ft(Ee=>Ee.startDate),s=ft(Ee=>Ee.endDate),l=ft(Ee=>Ee.currentNotebook?.filters),c=ft(Ee=>Ee.currentNotebook?.id),[u,d]=C.useState(null),[p,m]=C.useState(null),[v,x]=C.useState(!1),w=e.block.props.title,T=e.block.props.metricAName,k=e.block.props.transformA,N=e.block.props.timeAggregationA,I=e.block.props.groupByFnA,O=e.block.props.matchOperatorA,A=e.block.props.matchValueA,R=e.block.props.metricBName,L=e.block.props.transformB,B=e.block.props.timeAggregationB,$=e.block.props.groupByFnB,q=e.block.props.matchOperatorB,z=e.block.props.matchValueB,Y=C.useMemo(()=>{try{return JSON.parse(e.block.props.groupByA)}catch{return[]}},[e.block.props.groupByA]),W=C.useMemo(()=>{try{return JSON.parse(e.block.props.groupByB)}catch{return[]}},[e.block.props.groupByB]),Z=C.useMemo(()=>{try{return JSON.parse(e.block.props.filtersA)}catch{return[]}},[e.block.props.filtersA]),V=C.useMemo(()=>{try{return JSON.parse(e.block.props.filtersB)}catch{return[]}},[e.block.props.filtersB]),ne=F.useMemo(()=>o.find(Ee=>Ee.prometheusName===T&&Ee.transform===(k||null)),[T,k,o]),X=F.useMemo(()=>o.find(Ee=>Ee.prometheusName===R&&Ee.transform===(L||null)),[R,L,o]),oe=C.useMemo(()=>[...l||[],...Z],[l,Z]),K=C.useMemo(()=>[...l||[],...V],[l,V]);if(C.useEffect(()=>{if(!n||!T||!R||a===null||s===null||oe===void 0||K===void 0||!c){d(null),m(null);return}(async()=>{x(!0);try{const It=await D0.getScalar(n,T,a,s,k||null,Y,I,N,O,A,oe,c),sn=await D0.getScalar(n,R,a,s,L||null,W,$,B,q,z,K,c);d(It),m(sn)}catch(It){console.error("Failed to fetch metric ratio:",It),d(null),m(null)}finally{x(!1)}})()},[n,T,k,R,L,N,B,Y,W,I,$,O,A,q,z,a,s,oe,K,c]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const Q=r===e.block.id,te=Ee=>{e.editor.updateBlock(e.block,{props:{metricAName:Ee.prometheusName,transformA:Ee.transform||""}})},U=Ee=>{e.editor.updateBlock(e.block,{props:{timeAggregationA:Ee}})},he=Ee=>{e.editor.updateBlock(e.block,{props:{groupByA:JSON.stringify(Ee)}})},se=Ee=>{e.editor.updateBlock(e.block,{props:{groupByFnA:Ee}})},we=Ee=>{e.editor.updateBlock(e.block,{props:{filtersA:JSON.stringify(Ee)}})},ve=Ee=>{e.editor.updateBlock(e.block,{props:{metricBName:Ee.prometheusName,transformB:Ee.transform||""}})},je=Ee=>{e.editor.updateBlock(e.block,{props:{timeAggregationB:Ee}})},Te=Ee=>{e.editor.updateBlock(e.block,{props:{groupByB:JSON.stringify(Ee)}})},He=Ee=>{e.editor.updateBlock(e.block,{props:{groupByFnB:Ee}})},Ge=Ee=>{e.editor.updateBlock(e.block,{props:{filtersB:JSON.stringify(Ee)}})},De=()=>{if(!u||!p)return{value:"",suffix:""};const Ee=u.scalars.reduce((Yt,xr)=>Yt+xr.value,0),It=p.scalars.reduce((Yt,xr)=>Yt+xr.value,0);return It===0?{value:"",suffix:""}:{value:(Ee/It*100).toFixed(1),suffix:"%"}},Ft=()=>{if(!T||!R)return g.jsx(JE,{icon:$ie,title:"No metrics selected",description:"Select metrics for Metric A and Metric B."});if(v&&u===null&&p===null)return g.jsxs(Hf,{className:"@container/card shadow-none",children:[g.jsxs(Td,{children:[g.jsx(Cd,{className:"h-4 w-32"}),g.jsx(Cd,{className:"h-8 w-24"})]}),g.jsx(g0,{className:"flex-col items-start gap-1.5",children:g.jsx(Cd,{className:"h-3 w-48"})})]});if(!T||!R)return g.jsx(JE,{icon:r2e,title:"Metric not found",description:"One or more selected metrics could not be loaded."});const{value:Ee,suffix:It}=De();return g.jsx("div",{className:"outline-none flex flex-col gap-1",children:g.jsx(Hf,{className:"@container/card shadow-none",children:g.jsxs(Td,{children:[g.jsx(P0,{children:w||`${u?.prettyName} / ${p?.prettyName}`}),g.jsxs(eC,{className:"text-2xl font-semibold @[250px]/card:text-3xl",children:[Ee,g.jsx("span",{className:"text-muted-foreground ml-2 text-xl",children:It})]})]})})})};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:Ft()}),g.jsx(Mm,{open:Q,onOpenChange:Ee=>{Ee||i()},children:g.jsxs(ph,{children:[g.jsx(mh,{children:g.jsx(gh,{children:"Metric Ratio Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Title"}),g.jsx(fc,{placeholder:"Optional title...",value:w,onChange:Ee=>{e.editor.updateBlock(e.block,{props:{title:Ee.target.value}})}})]}),g.jsxs("div",{className:"space-y-3 mt-6 p-3 border rounded-lg bg-muted/30",children:[g.jsx("h3",{className:"text-sm font-medium",children:"Metric A (Numerator)"}),g.jsx(iH,{disableGroupBy:!0,metrics:o,selectedMetric:ne??null,selectedTimeAggregation:N,selectedGroupBy:Y,selectedGroupByFn:I,blockFilters:Z,matchOperator:O,matchValue:A,onMetricSelect:te,onTimeAggregationChange:U,onGroupByChange:he,onGroupByFnChange:se,onFiltersChange:we,onMatchConditionChange:(Ee,It)=>{e.editor.updateBlock(e.block,{props:{matchOperatorA:Ee,matchValueA:It}})}})]}),g.jsxs("div",{className:"space-y-3 p-3 border rounded-lg bg-muted/30",children:[g.jsx("h3",{className:"text-sm font-medium",children:"Metric B (Denominator)"}),g.jsx(iH,{disableGroupBy:!0,metrics:o,selectedMetric:X??null,selectedTimeAggregation:B,selectedGroupBy:W,selectedGroupByFn:$,blockFilters:V,matchOperator:q,matchValue:z,onMetricSelect:ve,onTimeAggregationChange:je,onGroupByChange:Te,onGroupByFnChange:He,onFiltersChange:Ge,onMatchConditionChange:(Ee,It)=>{e.editor.updateBlock(e.block,{props:{matchOperatorB:Ee,matchValueB:It}})}})]})]})]})})]})}})(),Hwt=(e={})=>C.useMemo(()=>{const t=bhe.create(e);window&&(window.ProseMirror=t._tiptapEditor);const n=t.extensions.sideMenu;return n.plugins[0]=new on({key:uhe,view:r=>{n.view=new che(t,r,o=>{n.emit("update",o)});const i=o=>{let a=n.view.pmView.root.querySelectorAll("div[role=dialog] .bn-editor");if(a.length===0&&(a=Array.from(n.view.pmView.root.querySelectorAll(".bn-editor"))),a.length===0)return null;let s=a[0],l=Number.MAX_VALUE;return a.forEach(c=>{const u=c.querySelector(".bn-block-group").getBoundingClientRect(),d=o.clientX<u.left?u.left-o.clientX:o.clientX>u.right?o.clientX-u.right:0,p=o.clientY<u.top?u.top-o.clientY:o.clientY>u.bottom?o.clientY-u.bottom:0,m=Math.sqrt(d**2+p**2);m<l&&(l=m,s=c)}),{element:s,distance:l}};return n.view.findClosestEditorElement=i,n.view}}),t},[]),Fwt={heading:fV,heading_2:hV,heading_3:pV,heading_4:bke,heading_5:xke,heading_6:Ske,toggle_heading:fV,toggle_heading_2:hV,toggle_heading_3:pV,quote:Jke,toggle_list:Lie,numbered_list:Lke,bullet_list:Bke,check_list:Mke,paragraph:Xke,table:y2e,image:_ke,video:h2e,audio:ETe,file:lke,emoji:l2e,code_block:JTe,divider:qke,columns_2:Mie,columns_3:Die};function Uwt(e){const t=[];return cat(e)&&t.push({...BK(e).slash_menu.two_columns,icon:g.jsx(Mie,{className:"size-4.5"}),onItemClick:()=>{Mr(e,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}},{...BK(e).slash_menu.three_columns,icon:g.jsx(Die,{className:"size-4.5"}),onItemClick:()=>{Mr(e,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}}),t}function zwt(e,t=[]){const n=rce(e).map(i=>{const o=Fwt[i.key];return{...i,icon:g.jsx(o,{className:"size-4.5"})}}),r=Uwt(e);return[...NXe(n,r),...t]}function hve({tenantName:e,notebook:t,openBlockSettings:n,updateNotebook:r,editable:i=!0}){const[o,a]=C.useState(!1),[s,l]=C.useState(!1),{table:c,...u}=ice,d=Hwt({schema:iat(zD.create({blockSpecs:{...u,flow:_at,flowHistory:Aat,flowStatus:Mat,heatmap:Rat,metric:jwt,metricHistory:Bwt,metricRatio:$wt}})),dropCursor:aat,dictionary:{...f8,multi_column:Qot.en},placeholders:{...f8.placeholders,emptyDocument:"Write or press '/' for commands",default:"Write or press '/' for commands"},extensions:[]});d.onMount(()=>{l(!0)}),C.useEffect(()=>{a(!1),s&&(d.replaceBlocks(d.document,t.blocks||[]),a(!0))},[t.id,d,s]),dR(m=>{if(!o)return;const v=[],x=[];m.document.forEach(w=>{w.type==="flow"?v.push({names:[],filters:JSON.parse(w.props.blockFilters)}):w.type==="flowHistory"||w.type==="flowStatus"||w.type==="heatmap"?v.push({names:[w.props.flowName],filters:JSON.parse(w.props.blockFilters)}):w.type==="metric"||w.type==="metricHistory"?x.push({names:[w.props.metricName],filters:JSON.parse(w.props.blockFilters)}):w.type==="metricRatio"&&(x.push({names:[w.props.metricAName],filters:JSON.parse(w.props.filtersA)}),x.push({names:[w.props.metricBName],filters:JSON.parse(w.props.filtersB)}))}),r(e,t,{blocks:m.document,flowBlocksFilters:v,metricBlocksFilters:x})},d);const p=F.useCallback(m=>g.jsxs(rpe,{...m,children:[g.jsx(uat,{...m}),g.jsx(yat,{openBlockSettings:n,...m})]}),[n]);return g.jsx("div",{className:"flex-1 flex flex-col h-screen",children:g.jsx("div",{className:"flex-1 overflow-y-auto",children:g.jsxs("div",{className:"mx-auto py-12",children:[g.jsxs("div",{className:"mx-32",children:[i?g.jsx("input",{type:"text",value:t.title,onChange:m=>{r(e,t,{title:m.target.value})},placeholder:"Untitled",className:"w-full text-5xl font-bold mb-4 outline-none border-none bg-transparent placeholder:text-muted-foreground"}):g.jsx("h1",{className:"w-full text-5xl font-bold mb-4",children:t.title}),i?g.jsx("input",{type:"text",value:t.description,onChange:m=>{r(e,t,{description:m.target.value})},placeholder:"Add a description...",className:"w-full text-lg text-secondary-foreground mb-8 outline-none border-none bg-transparent placeholder:text-muted-foreground"}):g.jsx("p",{className:"w-full text-lg text-secondary-foreground mb-8",children:t.description})]}),g.jsx("div",{className:"mx-19 mb-32",children:g.jsxs(Bge,{editor:d,theme:"light",slashMenu:!1,sideMenu:!1,editable:i,children:[g.jsx(spe,{triggerCharacter:"/",suggestionMenuComponent:vat,getItems:async m=>{const v=zwt(d,[{title:"Flows Table",onItemClick:()=>{Mr(d,{type:"flow"})},group:"Flows",subtext:"List of all flows with information about their last run",icon:g.jsx(m2e,{className:"size-4.5"}),aliases:[]},{title:"Flow History",onItemClick:()=>{const w=Mr(d,{type:"flowHistory"});n(w.id)},group:"Flows",subtext:"List of all executions for a given flow",icon:g.jsx(Cke,{className:"size-4.5"}),aliases:[]},{title:"Flow Card",onItemClick:()=>{const w=Mr(d,{type:"flowStatus"});n(w.id)},group:"Flows",subtext:"Card showing key information about a specific flow",icon:g.jsx(t2e,{className:"size-4.5"}),aliases:["run counts","flow run count"]},{title:"Heatmap",onItemClick:()=>{const w=Mr(d,{type:"heatmap"});n(w.id)},group:"Flows",subtext:"Heatmap showing daily status for a given flow",icon:g.jsx(Nke,{className:"size-4.5"}),aliases:["flow heatmap"]},{title:"Number",onItemClick:()=>{const w=Mr(d,{type:"metric"});n(w.id)},group:"Metrics",subtext:"Display a metric value aggregated across time window. For example, the total number of signups.",icon:g.jsx(d2e,{className:"size-4.5"}),aliases:["metric"]},{title:"Chart",onItemClick:()=>{const w=Mr(d,{type:"metricHistory"});n(w.id)},group:"Metrics",subtext:"Chart showing metric history over time. For example, the number of signups over time.",icon:g.jsx(oD,{className:"size-4.5"}),aliases:["metric history"]},{title:"Metric Ratio",onItemClick:()=>{const w=Mr(d,{type:"metricRatio"});n(w.id)},group:"Metrics",subtext:"Display ratio between two metrics. For example, the ratio of US signups to global signups.",icon:g.jsx($ie,{className:"size-4.5"}),aliases:["metric ratio","percentage"]}]),x=m.trim().toLowerCase();return x?v.filter(w=>w.title?.toLowerCase().includes(x)||w.aliases?.some(T=>T.includes(x))):v}}),g.jsx(ipe,{sideMenu:p})]})})]})})})}function Vwt(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const qwt={},pE={};function p0(e,t){try{const r=(qwt[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in pE?pE[r]:_ne(r,r.split(":"))}catch{if(e in pE)return pE[e];const n=e?.match(Wwt);return n?_ne(e,n.slice(1)):NaN}}const Wwt=/([+-]\d\d):?(\d\d)?/;function _ne(e,t){const n=+(t[0]||0),r=+(t[1]||0),i=+(t[2]||0)/60;return pE[e]=n*60+r>0?n*60+r+i:n*60-r-i}class vd extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(p0(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),pve(this),oH(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new vd(...n,t):new vd(Date.now(),t)}withTimeZone(t){return new vd(+this,t)}getTimezoneOffset(){const t=-p0(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),oH(this),+this}[Symbol.for("constructDateFrom")](t){return new vd(+new Date(t),this.timeZone)}}const Ane=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Ane.test(e))return;const t=e.replace(Ane,"$1UTC");vd.prototype[t]&&(e.startsWith("get")?vd.prototype[e]=function(){return this.internal[t]()}:(vd.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Ywt(this),+this},vd.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),oH(this),+this}))});function oH(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-p0(e.timeZone,e)*60))}function Ywt(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),pve(e)}function pve(e){const t=p0(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+e).getTimezoneOffset(),o=-new Date(+r).getTimezoneOffset(),a=i-o,s=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&s&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const l=i-n;l&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);const c=new Date(+e);c.setUTCSeconds(0);const u=i>0?c.getSeconds():(c.getSeconds()-60)%60,d=Math.round(-(p0(e.timeZone,e)*60))%60;(d||u)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+d),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+d+u));const p=p0(e.timeZone,e),m=p>0?Math.floor(p):Math.ceil(p),x=-new Date(+e).getTimezoneOffset()-m,w=m!==n,T=x-l;if(w&&T){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+T);const k=p0(e.timeZone,e),N=k>0?Math.floor(k):Math.ceil(k),I=m-N;I&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+I),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+I))}}class ba extends vd{static tz(t,...n){return n.length?new ba(...n,t):new ba(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),i=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,i]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${t} GMT${n}${r}${i} (${Vwt(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),i=String(Math.abs(t)%60).padStart(2,"0");return[n,r,i]}withTimeZone(t){return new ba(+this,t)}[Symbol.for("constructDateFrom")](t){return new ba(+new Date(t),this.timeZone)}}const Nne=5,Gwt=4;function Kwt(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,i=t.addDays(e,-r+1),o=t.addDays(i,Nne*7-1);return t.getMonth(e)===t.getMonth(o)?Nne:Gwt}function mve(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function Xwt(e,t){const n=mve(e,t),r=Kwt(e,t);return t.addDays(n,r*7-1)}class Il{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ba.tz(this.options.timeZone):new this.Date,this.newDate=(r,i,o)=>this.overrides?.newDate?this.overrides.newDate(r,i,o):this.options.timeZone?new ba(r,i,o,this.options.timeZone):new Date(r,i,o),this.addDays=(r,i)=>this.overrides?.addDays?this.overrides.addDays(r,i):Q1(r,i),this.addMonths=(r,i)=>this.overrides?.addMonths?this.overrides.addMonths(r,i):jH(r,i),this.addWeeks=(r,i)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,i):g_e(r,i),this.addYears=(r,i)=>this.overrides?.addYears?this.overrides.addYears(r,i):y_e(r,i),this.differenceInCalendarDays=(r,i)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,i):Eoe(r,i),this.differenceInCalendarMonths=(r,i)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,i):S_e(r,i),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):__e(r),this.eachYearOfInterval=r=>{const i=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):O_e(r),o=new Set(i.map(s=>this.getYear(s)));if(o.size===i.length)return i;const a=[];return o.forEach(s=>{a.push(new Date(s,0,1))}),a},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):Xwt(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):M_e(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):k_e(r),this.endOfWeek=(r,i)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,i):BH(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):N_e(r),this.format=(r,i,o)=>{const a=this.overrides?.format?this.overrides.format(r,i,this.options):Kf(r,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):Aoe(r),this.getMonth=(r,i)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):AAe(r,this.options),this.getYear=(r,i)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):NAe(r,this.options),this.getWeek=(r,i)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):Ooe(r,this.options),this.isAfter=(r,i)=>this.overrides?.isAfter?this.overrides.isAfter(r,i):OAe(r,i),this.isBefore=(r,i)=>this.overrides?.isBefore?this.overrides.isBefore(r,i):MAe(r,i),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):Coe(r),this.isSameDay=(r,i)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,i):x_e(r,i),this.isSameMonth=(r,i)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,i):DAe(r,i),this.isSameYear=(r,i)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,i):RAe(r,i),this.max=r=>this.overrides?.max?this.overrides.max(r):b_e(r),this.min=r=>this.overrides?.min?this.overrides.min(r):v_e(r),this.setMonth=(r,i)=>this.overrides?.setMonth?this.overrides.setMonth(r,i):IAe(r,i),this.setYear=(r,i)=>this.overrides?.setYear?this.overrides.setYear(r,i):PAe(r,i),this.startOfBroadcastWeek=(r,i)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):mve(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):r1(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):XE(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):A_e(r),this.startOfWeek=(r,i)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):O0(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):_oe(r),this.options={locale:$H,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Il.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:i}=this.options,o=n?.code;if(o&&Il.yearFirstLocales.has(o))try{return new Intl.DateTimeFormat(o,{month:"long",year:"numeric",timeZone:r,numberingSystem:i}).format(t)}catch{}const a=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,a)}}Il.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Vd=new Il;class gve{constructor(t,n,r=Vd){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Zwt{constructor(t,n){this.date=t,this.weeks=n}}class Qwt{constructor(t,n){this.days=n,this.weekNumber=t}}function Jwt(e){return F.createElement("button",{...e})}function eSt(e){return F.createElement("span",{...e})}function tSt(e){const{size:t=24,orientation:n="left",className:r}=e;return F.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&F.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&F.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&F.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&F.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function nSt(e){const{day:t,modifiers:n,...r}=e;return F.createElement("td",{...r})}function rSt(e){const{day:t,modifiers:n,...r}=e,i=F.useRef(null);return F.useEffect(()=>{n.focused&&i.current?.focus()},[n.focused]),F.createElement("button",{ref:i,...r})}var Vt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Vt||(Vt={}));var ki;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(ki||(ki={}));var hu;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(hu||(hu={}));var bl;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(bl||(bl={}));function iSt(e){const{options:t,className:n,components:r,classNames:i,...o}=e,a=[i[Vt.Dropdown],n].join(" "),s=t?.find(({value:l})=>l===o.value);return F.createElement("span",{"data-disabled":o.disabled,className:i[Vt.DropdownRoot]},F.createElement(r.Select,{className:a,...o},t?.map(({value:l,label:c,disabled:u})=>F.createElement(r.Option,{key:l,value:l,disabled:u},c))),F.createElement("span",{className:i[Vt.CaptionLabel],"aria-hidden":!0},s?.label,F.createElement(r.Chevron,{orientation:"down",size:18,className:i[Vt.Chevron]})))}function oSt(e){return F.createElement("div",{...e})}function aSt(e){return F.createElement("div",{...e})}function sSt(e){const{calendarMonth:t,displayIndex:n,...r}=e;return F.createElement("div",{...r},e.children)}function lSt(e){const{calendarMonth:t,displayIndex:n,...r}=e;return F.createElement("div",{...r})}function cSt(e){return F.createElement("table",{...e})}function uSt(e){return F.createElement("div",{...e})}const yve=C.createContext(void 0);function bk(){const e=C.useContext(yve);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function dSt(e){const{components:t}=bk();return F.createElement(t.Dropdown,{...e})}function fSt(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:i,...o}=e,{components:a,classNames:s,labels:{labelPrevious:l,labelNext:c}}=bk(),u=C.useCallback(p=>{i&&n?.(p)},[i,n]),d=C.useCallback(p=>{r&&t?.(p)},[r,t]);return F.createElement("nav",{...o},F.createElement(a.PreviousMonthButton,{type:"button",className:s[Vt.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:d},F.createElement(a.Chevron,{disabled:r?void 0:!0,className:s[Vt.Chevron],orientation:"left"})),F.createElement(a.NextMonthButton,{type:"button",className:s[Vt.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":c(i),onClick:u},F.createElement(a.Chevron,{disabled:i?void 0:!0,orientation:"right",className:s[Vt.Chevron]})))}function hSt(e){const{components:t}=bk();return F.createElement(t.Button,{...e})}function pSt(e){return F.createElement("option",{...e})}function mSt(e){const{components:t}=bk();return F.createElement(t.Button,{...e})}function gSt(e){const{rootRef:t,...n}=e;return F.createElement("div",{...n,ref:t})}function ySt(e){return F.createElement("select",{...e})}function bSt(e){const{week:t,...n}=e;return F.createElement("tr",{...n})}function vSt(e){return F.createElement("th",{...e})}function xSt(e){return F.createElement("thead",{"aria-hidden":!0},F.createElement("tr",{...e}))}function wSt(e){const{week:t,...n}=e;return F.createElement("th",{...n})}function SSt(e){return F.createElement("th",{...e})}function ESt(e){return F.createElement("tbody",{...e})}function CSt(e){const{components:t}=bk();return F.createElement(t.Dropdown,{...e})}const TSt=Object.freeze(Object.defineProperty({__proto__:null,Button:Jwt,CaptionLabel:eSt,Chevron:tSt,Day:nSt,DayButton:rSt,Dropdown:iSt,DropdownNav:oSt,Footer:aSt,Month:sSt,MonthCaption:lSt,MonthGrid:cSt,Months:uSt,MonthsDropdown:dSt,Nav:fSt,NextMonthButton:hSt,Option:pSt,PreviousMonthButton:mSt,Root:gSt,Select:ySt,Week:bSt,WeekNumber:wSt,WeekNumberHeader:SSt,Weekday:vSt,Weekdays:xSt,Weeks:ESt,YearsDropdown:CSt},Symbol.toStringTag,{value:"Module"}));function jf(e,t,n=!1,r=Vd){let{from:i,to:o}=e;const{differenceInCalendarDays:a,isSameDay:s}=r;return i&&o?(a(o,i)<0&&([i,o]=[o,i]),a(t,i)>=(n?1:0)&&a(o,t)>=(n?1:0)):!n&&o?s(o,t):!n&&i?s(i,t):!1}function bve(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function XU(e){return!!(e&&typeof e=="object"&&"from"in e)}function vve(e){return!!(e&&typeof e=="object"&&"after"in e)}function xve(e){return!!(e&&typeof e=="object"&&"before"in e)}function wve(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Sve(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Bf(e,t,n=Vd){const r=Array.isArray(t)?t:[t],{isSameDay:i,differenceInCalendarDays:o,isAfter:a}=n;return r.some(s=>{if(typeof s=="boolean")return s;if(n.isDate(s))return i(e,s);if(Sve(s,n))return s.includes(e);if(XU(s))return jf(s,e,!1,n);if(wve(s))return Array.isArray(s.dayOfWeek)?s.dayOfWeek.includes(e.getDay()):s.dayOfWeek===e.getDay();if(bve(s)){const l=o(s.before,e),c=o(s.after,e),u=l>0,d=c<0;return a(s.before,s.after)?d&&u:u||d}return vve(s)?o(e,s.after)>0:xve(s)?o(s.before,e)>0:typeof s=="function"?s(e):!1})}function kSt(e,t,n,r,i){const{disabled:o,hidden:a,modifiers:s,showOutsideDays:l,broadcastCalendar:c,today:u}=t,{isSameDay:d,isSameMonth:p,startOfMonth:m,isBefore:v,endOfMonth:x,isAfter:w}=i,T=n&&m(n),k=r&&x(r),N={[ki.focused]:[],[ki.outside]:[],[ki.disabled]:[],[ki.hidden]:[],[ki.today]:[]},I={};for(const O of e){const{date:A,displayMonth:R}=O,L=!!(R&&!p(A,R)),B=!!(T&&v(A,T)),$=!!(k&&w(A,k)),q=!!(o&&Bf(A,o,i)),z=!!(a&&Bf(A,a,i))||B||$||!c&&!l&&L||c&&l===!1&&L,Y=d(A,u??i.today());L&&N.outside.push(O),q&&N.disabled.push(O),z&&N.hidden.push(O),Y&&N.today.push(O),s&&Object.keys(s).forEach(W=>{const Z=s?.[W];Z&&Bf(A,Z,i)&&(I[W]?I[W].push(O):I[W]=[O])})}return O=>{const A={[ki.focused]:!1,[ki.disabled]:!1,[ki.hidden]:!1,[ki.outside]:!1,[ki.today]:!1},R={};for(const L in N){const B=N[L];A[L]=B.some($=>$===O)}for(const L in I)R[L]=I[L].some(B=>B===O);return{...A,...R}}}function _St(e,t,n={}){return Object.entries(e).filter(([,i])=>i===!0).reduce((i,[o])=>(n[o]?i.push(n[o]):t[ki[o]]?i.push(t[ki[o]]):t[hu[o]]&&i.push(t[hu[o]]),i),[t[Vt.Day]])}function ASt(e){return{...TSt,...e}}function NSt(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function ZU(){const e={};for(const t in Vt)e[Vt[t]]=`rdp-${Vt[t]}`;for(const t in ki)e[ki[t]]=`rdp-${ki[t]}`;for(const t in hu)e[hu[t]]=`rdp-${hu[t]}`;for(const t in bl)e[bl[t]]=`rdp-${bl[t]}`;return e}function Eve(e,t,n){return(n??new Il(t)).formatMonthYear(e)}const OSt=Eve;function MSt(e,t,n){return(n??new Il(t)).format(e,"d")}function DSt(e,t=Vd){return t.format(e,"LLLL")}function RSt(e,t,n){return(n??new Il(t)).format(e,"cccccc")}function ISt(e,t=Vd){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function PSt(){return""}function Cve(e,t=Vd){return t.format(e,"yyyy")}const LSt=Cve,jSt=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Eve,formatDay:MSt,formatMonthCaption:OSt,formatMonthDropdown:DSt,formatWeekNumber:ISt,formatWeekNumberHeader:PSt,formatWeekdayName:RSt,formatYearCaption:LSt,formatYearDropdown:Cve},Symbol.toStringTag,{value:"Module"}));function BSt(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...jSt,...e}}function $St(e,t,n,r,i){const{startOfMonth:o,startOfYear:a,endOfYear:s,eachMonthOfInterval:l,getMonth:c}=i;return l({start:a(e),end:s(e)}).map(p=>{const m=r.formatMonthDropdown(p,i),v=c(p),x=t&&p<o(t)||n&&p>o(n)||!1;return{value:v,label:m,disabled:x}})}function HSt(e,t={},n={}){let r={...t?.[Vt.Day]};return Object.entries(e).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n?.[i]}}),r}function FSt(e,t,n){const r=e.today(),i=t?e.startOfISOWeek(r):e.startOfWeek(r),o=[];for(let a=0;a<7;a++){const s=e.addDays(i,a);o.push(s)}return o}function USt(e,t,n,r,i=!1){if(!e||!t)return;const{startOfYear:o,endOfYear:a,eachYearOfInterval:s,getYear:l}=r,c=o(e),u=a(t),d=s({start:c,end:u});return i&&d.reverse(),d.map(p=>{const m=n.formatYearDropdown(p,r);return{value:l(p),label:m,disabled:!1}})}function Tve(e,t,n,r){let i=(r??new Il(n)).format(e,"PPPP");return t.today&&(i=`Today, ${i}`),t.selected&&(i=`${i}, selected`),i}const zSt=Tve;function kve(e,t,n){return(n??new Il(t)).formatMonthYear(e)}const VSt=kve;function qSt(e,t,n,r){let i=(r??new Il(n)).format(e,"PPPP");return t?.today&&(i=`Today, ${i}`),i}function WSt(e){return"Choose the Month"}function YSt(){return""}function GSt(e){return"Go to the Next Month"}function KSt(e){return"Go to the Previous Month"}function XSt(e,t,n){return(n??new Il(t)).format(e,"cccc")}function ZSt(e,t){return`Week ${e}`}function QSt(e){return"Week Number"}function JSt(e){return"Choose the Year"}const eEt=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:VSt,labelDay:zSt,labelDayButton:Tve,labelGrid:kve,labelGridcell:qSt,labelMonthDropdown:WSt,labelNav:YSt,labelNext:GSt,labelPrevious:KSt,labelWeekNumber:ZSt,labelWeekNumberHeader:QSt,labelWeekday:XSt,labelYearDropdown:JSt},Symbol.toStringTag,{value:"Module"})),vk=e=>e instanceof HTMLElement?e:null,w6=e=>[...e.querySelectorAll("[data-animated-month]")??[]],tEt=e=>vk(e.querySelector("[data-animated-month]")),S6=e=>vk(e.querySelector("[data-animated-caption]")),E6=e=>vk(e.querySelector("[data-animated-weeks]")),nEt=e=>vk(e.querySelector("[data-animated-nav]")),rEt=e=>vk(e.querySelector("[data-animated-weekdays]"));function iEt(e,t,{classNames:n,months:r,focused:i,dateLib:o}){const a=C.useRef(null),s=C.useRef(r),l=C.useRef(!1);C.useLayoutEffect(()=>{const c=s.current;if(s.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||c.length===0||r.length!==c.length)return;const u=o.isSameMonth(r[0].date,c[0].date),d=o.isAfter(r[0].date,c[0].date),p=d?n[bl.caption_after_enter]:n[bl.caption_before_enter],m=d?n[bl.weeks_after_enter]:n[bl.weeks_before_enter],v=a.current,x=e.current.cloneNode(!0);if(x instanceof HTMLElement?(w6(x).forEach(N=>{if(!(N instanceof HTMLElement))return;const I=tEt(N);I&&N.contains(I)&&N.removeChild(I);const O=S6(N);O&&O.classList.remove(p);const A=E6(N);A&&A.classList.remove(m)}),a.current=x):a.current=null,l.current||u||i)return;const w=v instanceof HTMLElement?w6(v):[],T=w6(e.current);if(T?.every(k=>k instanceof HTMLElement)&&w&&w.every(k=>k instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const k=nEt(e.current);k&&(k.style.zIndex="1"),T.forEach((N,I)=>{const O=w[I];if(!O)return;N.style.position="relative",N.style.overflow="hidden";const A=S6(N);A&&A.classList.add(p);const R=E6(N);R&&R.classList.add(m);const L=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),k&&(k.style.zIndex=""),A&&A.classList.remove(p),R&&R.classList.remove(m),N.style.position="",N.style.overflow="",N.contains(O)&&N.removeChild(O)};O.style.pointerEvents="none",O.style.position="absolute",O.style.overflow="hidden",O.setAttribute("aria-hidden","true");const B=rEt(O);B&&(B.style.opacity="0");const $=S6(O);$&&($.classList.add(d?n[bl.caption_before_exit]:n[bl.caption_after_exit]),$.addEventListener("animationend",L));const q=E6(O);q&&q.classList.add(d?n[bl.weeks_before_exit]:n[bl.weeks_after_exit]),N.insertBefore(O,N.firstChild)})}})}function oEt(e,t,n,r){const i=e[0],o=e[e.length-1],{ISOWeek:a,fixedWeeks:s,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:u,differenceInCalendarMonths:d,endOfBroadcastWeek:p,endOfISOWeek:m,endOfMonth:v,endOfWeek:x,isAfter:w,startOfBroadcastWeek:T,startOfISOWeek:k,startOfWeek:N}=r,I=l?T(i,r):a?k(i):N(i),O=l?p(o):a?m(v(o)):x(v(o)),A=u(O,I),R=d(o,i)+1,L=[];for(let q=0;q<=A;q++){const z=c(I,q);if(t&&w(z,t))break;L.push(z)}const $=(l?35:42)*R;if(s&&L.length<$){const q=$-L.length;for(let z=0;z<q;z++){const Y=c(L[L.length-1],1);L.push(Y)}}return L}function aEt(e){const t=[];return e.reduce((n,r)=>{const i=r.weeks.reduce((o,a)=>o.concat(a.days.slice()),t.slice());return n.concat(i.slice())},t.slice())}function sEt(e,t,n,r){const{numberOfMonths:i=1}=n,o=[];for(let a=0;a<i;a++){const s=r.addMonths(e,a);if(t&&s>t)break;o.push(s)}return o}function One(e,t,n,r){const{month:i,defaultMonth:o,today:a=r.today(),numberOfMonths:s=1}=e;let l=i||o||a;const{differenceInCalendarMonths:c,addMonths:u,startOfMonth:d}=r;if(n&&c(n,l)<s-1){const p=-1*(s-1);l=u(n,p)}return t&&c(l,t)<0&&(l=t),d(l)}function lEt(e,t,n,r){const{addDays:i,endOfBroadcastWeek:o,endOfISOWeek:a,endOfMonth:s,endOfWeek:l,getISOWeek:c,getWeek:u,startOfBroadcastWeek:d,startOfISOWeek:p,startOfWeek:m}=r,v=e.reduce((x,w)=>{const T=n.broadcastCalendar?d(w,r):n.ISOWeek?p(w):m(w),k=n.broadcastCalendar?o(w):n.ISOWeek?a(s(w)):l(s(w)),N=t.filter(R=>R>=T&&R<=k),I=n.broadcastCalendar?35:42;if(n.fixedWeeks&&N.length<I){const R=t.filter(L=>{const B=I-N.length;return L>k&&L<=i(k,B)});N.push(...R)}const O=N.reduce((R,L)=>{const B=n.ISOWeek?c(L):u(L),$=R.find(z=>z.weekNumber===B),q=new gve(L,w,r);return $?$.days.push(q):R.push(new Qwt(B,[q])),R},[]),A=new Zwt(w,O);return x.push(A),x},[]);return n.reverseMonths?v.reverse():v}function cEt(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:i,startOfDay:o,startOfMonth:a,endOfMonth:s,addYears:l,endOfYear:c,newDate:u,today:d}=t,{fromYear:p,toYear:m,fromMonth:v,toMonth:x}=e;!n&&v&&(n=v),!n&&p&&(n=t.newDate(p,0,1)),!r&&x&&(r=x),!r&&m&&(r=u(m,11,31));const w=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=a(n):p?n=u(p,0,1):!n&&w&&(n=i(l(e.today??d(),-100))),r?r=s(r):m?r=u(m,11,31):!r&&w&&(r=c(e.today??d())),[n&&o(n),r&&o(r)]}function uEt(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:o=1}=n,{startOfMonth:a,addMonths:s,differenceInCalendarMonths:l}=r,c=i?o:1,u=a(e);if(!t)return s(u,c);if(!(l(t,e)<o))return s(u,c)}function dEt(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:o}=n,{startOfMonth:a,addMonths:s,differenceInCalendarMonths:l}=r,c=i?o??1:1,u=a(e);if(!t)return s(u,-c);if(!(l(u,t)<=0))return s(u,-c)}function fEt(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function o3(e,t){const[n,r]=C.useState(e);return[t===void 0?n:t,r]}function hEt(e,t){const[n,r]=cEt(e,t),{startOfMonth:i,endOfMonth:o}=t,a=One(e,n,r,t),[s,l]=o3(a,e.month?a:void 0);C.useEffect(()=>{const A=One(e,n,r,t);l(A)},[e.timeZone]);const c=sEt(s,r,e,t),u=oEt(c,e.endMonth?o(e.endMonth):void 0,e,t),d=lEt(c,u,e,t),p=fEt(d),m=aEt(d),v=dEt(s,n,e,t),x=uEt(s,r,e,t),{disableNavigation:w,onMonthChange:T}=e,k=A=>p.some(R=>R.days.some(L=>L.isEqualTo(A))),N=A=>{if(w)return;let R=i(A);n&&R<i(n)&&(R=i(n)),r&&R>i(r)&&(R=i(r)),l(R),T?.(R)};return{months:d,weeks:p,days:m,navStart:n,navEnd:r,previousMonth:v,nextMonth:x,goToMonth:N,goToDay:A=>{k(A)||N(A.date)}}}var fd;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(fd||(fd={}));function Mne(e){return!e[ki.disabled]&&!e[ki.hidden]&&!e[ki.outside]}function pEt(e,t,n,r){let i,o=-1;for(const a of e){const s=t(a);Mne(s)&&(s[ki.focused]&&o<fd.FocusedModifier?(i=a,o=fd.FocusedModifier):r?.isEqualTo(a)&&o<fd.LastFocused?(i=a,o=fd.LastFocused):n(a.date)&&o<fd.Selected?(i=a,o=fd.Selected):s[ki.today]&&o<fd.Today&&(i=a,o=fd.Today))}return i||(i=e.find(a=>Mne(t(a)))),i}function mEt(e,t,n,r,i,o,a){const{ISOWeek:s,broadcastCalendar:l}=o,{addDays:c,addMonths:u,addWeeks:d,addYears:p,endOfBroadcastWeek:m,endOfISOWeek:v,endOfWeek:x,max:w,min:T,startOfBroadcastWeek:k,startOfISOWeek:N,startOfWeek:I}=a;let A={day:c,week:d,month:u,year:p,startOfWeek:R=>l?k(R,a):s?N(R):I(R),endOfWeek:R=>l?m(R):s?v(R):x(R)}[e](n,t==="after"?1:-1);return t==="before"&&r?A=w([r,A]):t==="after"&&i&&(A=T([i,A])),A}function _ve(e,t,n,r,i,o,a,s=0){if(s>365)return;const l=mEt(e,t,n.date,r,i,o,a),c=!!(o.disabled&&Bf(l,o.disabled,a)),u=!!(o.hidden&&Bf(l,o.hidden,a)),d=l,p=new gve(l,d,a);return!c&&!u?p:_ve(e,t,p,r,i,o,a,s+1)}function gEt(e,t,n,r,i){const{autoFocus:o}=e,[a,s]=C.useState(),l=pEt(t.days,n,r||(()=>!1),a),[c,u]=C.useState(o?l:void 0);return{isFocusTarget:x=>!!l?.isEqualTo(x),setFocused:u,focused:c,blur:()=>{s(c),u(void 0)},moveFocus:(x,w)=>{if(!c)return;const T=_ve(x,w,c,t.navStart,t.navEnd,e,i);T&&(e.disableNavigation&&!t.days.some(N=>N.isEqualTo(T))||(t.goToDay(T),u(T)))}}}function yEt(e,t){const{selected:n,required:r,onSelect:i}=e,[o,a]=o3(n,i?n:void 0),s=i?n:o,{isSameDay:l}=t,c=m=>s?.some(v=>l(v,m))??!1,{min:u,max:d}=e;return{selected:s,select:(m,v,x)=>{let w=[...s??[]];if(c(m)){if(s?.length===u||r&&s?.length===1)return;w=s?.filter(T=>!l(T,m))}else s?.length===d?w=[m]:w=[...w,m];return i||a(w),i?.(w,m,v,x),w},isSelected:c}}function bEt(e,t,n=0,r=0,i=!1,o=Vd){const{from:a,to:s}=t||{},{isSameDay:l,isAfter:c,isBefore:u}=o;let d;if(!a&&!s)d={from:e,to:n>0?void 0:e};else if(a&&!s)l(a,e)?n===0?d={from:a,to:e}:i?d={from:a,to:void 0}:d=void 0:u(e,a)?d={from:e,to:a}:d={from:a,to:e};else if(a&&s)if(l(a,e)&&l(s,e))i?d={from:a,to:s}:d=void 0;else if(l(a,e))d={from:a,to:n>0?void 0:e};else if(l(s,e))d={from:e,to:n>0?void 0:e};else if(u(e,a))d={from:e,to:s};else if(c(e,a))d={from:a,to:e};else if(c(e,s))d={from:a,to:e};else throw new Error("Invalid range");if(d?.from&&d?.to){const p=o.differenceInCalendarDays(d.to,d.from);r>0&&p>r?d={from:e,to:void 0}:n>1&&p<n&&(d={from:e,to:void 0})}return d}function vEt(e,t,n=Vd){const r=Array.isArray(t)?t:[t];let i=e.from;const o=n.differenceInCalendarDays(e.to,e.from),a=Math.min(o,6);for(let s=0;s<=a;s++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function Dne(e,t,n=Vd){return jf(e,t.from,!1,n)||jf(e,t.to,!1,n)||jf(t,e.from,!1,n)||jf(t,e.to,!1,n)}function xEt(e,t,n=Vd){const r=Array.isArray(t)?t:[t];if(r.filter(s=>typeof s!="function").some(s=>typeof s=="boolean"?s:n.isDate(s)?jf(e,s,!1,n):Sve(s,n)?s.some(l=>jf(e,l,!1,n)):XU(s)?s.from&&s.to?Dne(e,{from:s.from,to:s.to},n):!1:wve(s)?vEt(e,s.dayOfWeek,n):bve(s)?n.isAfter(s.before,s.after)?Dne(e,{from:n.addDays(s.after,1),to:n.addDays(s.before,-1)},n):Bf(e.from,s,n)||Bf(e.to,s,n):vve(s)||xve(s)?Bf(e.from,s,n)||Bf(e.to,s,n):!1))return!0;const a=r.filter(s=>typeof s=="function");if(a.length){let s=e.from;const l=n.differenceInCalendarDays(e.to,e.from);for(let c=0;c<=l;c++){if(a.some(u=>u(s)))return!0;s=n.addDays(s,1)}}return!1}function wEt(e,t){const{disabled:n,excludeDisabled:r,selected:i,required:o,onSelect:a}=e,[s,l]=o3(i,a?i:void 0),c=a?i:s;return{selected:c,select:(p,m,v)=>{const{min:x,max:w}=e,T=p?bEt(p,c,x,w,o,t):void 0;return r&&n&&T?.from&&T.to&&xEt({from:T.from,to:T.to},n,t)&&(T.from=p,T.to=void 0),a||l(T),a?.(T,p,m,v),T},isSelected:p=>c&&jf(c,p,!1,t)}}function SEt(e,t){const{selected:n,required:r,onSelect:i}=e,[o,a]=o3(n,i?n:void 0),s=i?n:o,{isSameDay:l}=t;return{selected:s,select:(d,p,m)=>{let v=d;return!r&&s&&s&&l(d,s)&&(v=void 0),i||a(v),i?.(v,d,p,m),v},isSelected:d=>s?l(s,d):!1}}function EEt(e,t){const n=SEt(e,t),r=yEt(e,t),i=wEt(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function CEt(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new ba(t.today,t.timeZone)),t.month&&(t.month=new ba(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new ba(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new ba(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new ba(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new ba(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(Ct=>new ba(Ct,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new ba(t.selected.from,t.timeZone):void 0,to:t.selected.to?new ba(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:r,labels:i,dateLib:o,locale:a,classNames:s}=C.useMemo(()=>{const Ct={...$H,...t.locale};return{dateLib:new Il({locale:Ct,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:ASt(t.components),formatters:BSt(t.formatters),labels:{...eEt,...t.labels},locale:Ct,classNames:{...ZU(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:c,navLayout:u,numberOfMonths:d=1,onDayBlur:p,onDayClick:m,onDayFocus:v,onDayKeyDown:x,onDayMouseEnter:w,onDayMouseLeave:T,onNextClick:k,onPrevClick:N,showWeekNumber:I,styles:O}=t,{formatCaption:A,formatDay:R,formatMonthDropdown:L,formatWeekNumber:B,formatWeekNumberHeader:$,formatWeekdayName:q,formatYearDropdown:z}=r,Y=hEt(t,o),{days:W,months:Z,navStart:V,navEnd:ne,previousMonth:X,nextMonth:oe,goToMonth:K}=Y,Q=kSt(W,t,V,ne,o),{isSelected:te,select:U,selected:he}=EEt(t,o)??{},{blur:se,focused:we,isFocusTarget:ve,moveFocus:je,setFocused:Te}=gEt(t,Y,Q,te??(()=>!1),o),{labelDayButton:He,labelGridcell:Ge,labelGrid:De,labelMonthDropdown:Ft,labelNav:Ee,labelPrevious:It,labelNext:sn,labelWeekday:Yt,labelWeekNumber:xr,labelWeekNumberHeader:er,labelYearDropdown:ue}=i,xe=C.useMemo(()=>FSt(o,t.ISOWeek),[o,t.ISOWeek]),ke=c!==void 0||m!==void 0,Je=C.useCallback(()=>{X&&(K(X),N?.(X))},[X,K,N]),Ze=C.useCallback(()=>{oe&&(K(oe),k?.(oe))},[K,oe,k]),Qe=C.useCallback((Ct,lt)=>ct=>{ct.preventDefault(),ct.stopPropagation(),Te(Ct),U?.(Ct.date,lt,ct),m?.(Ct.date,lt,ct)},[U,m,Te]),ge=C.useCallback((Ct,lt)=>ct=>{Te(Ct),v?.(Ct.date,lt,ct)},[v,Te]),Be=C.useCallback((Ct,lt)=>ct=>{se(),p?.(Ct.date,lt,ct)},[se,p]),it=C.useCallback((Ct,lt)=>ct=>{const Tt={ArrowLeft:[ct.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ct.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ct.shiftKey?"year":"week","after"],ArrowUp:[ct.shiftKey?"year":"week","before"],PageUp:[ct.shiftKey?"year":"month","before"],PageDown:[ct.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Tt[ct.key]){ct.preventDefault(),ct.stopPropagation();const[jt,vt]=Tt[ct.key];je(jt,vt)}x?.(Ct.date,lt,ct)},[je,x,t.dir]),At=C.useCallback((Ct,lt)=>ct=>{w?.(Ct.date,lt,ct)},[w]),Wt=C.useCallback((Ct,lt)=>ct=>{T?.(Ct.date,lt,ct)},[T]),Zn=C.useCallback(Ct=>lt=>{const ct=Number(lt.target.value),Tt=o.setMonth(o.startOfMonth(Ct),ct);K(Tt)},[o,K]),Tn=C.useCallback(Ct=>lt=>{const ct=Number(lt.target.value),Tt=o.setYear(o.startOfMonth(Ct),ct);K(Tt)},[o,K]),{className:or,style:Yn}=C.useMemo(()=>({className:[s[Vt.Root],t.className].filter(Boolean).join(" "),style:{...O?.[Vt.Root],...t.style}}),[s,t.className,t.style,O]),wr=NSt(t),un=C.useRef(null);iEt(un,!!t.animate,{classNames:s,months:Z,focused:we,dateLib:o});const xi={dayPickerProps:t,selected:he,select:U,isSelected:te,months:Z,nextMonth:oe,previousMonth:X,goToMonth:K,getModifiers:Q,components:n,classNames:s,styles:O,labels:i,formatters:r};return F.createElement(yve.Provider,{value:xi},F.createElement(n.Root,{rootRef:t.animate?un:void 0,className:or,style:Yn,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...wr},F.createElement(n.Months,{className:s[Vt.Months],style:O?.[Vt.Months]},!t.hideNavigation&&!u&&F.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:s[Vt.Nav],style:O?.[Vt.Nav],"aria-label":Ee(),onPreviousClick:Je,onNextClick:Ze,previousMonth:X,nextMonth:oe}),Z.map((Ct,lt)=>F.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:s[Vt.Month],style:O?.[Vt.Month],key:lt,displayIndex:lt,calendarMonth:Ct},u==="around"&&!t.hideNavigation&&lt===0&&F.createElement(n.PreviousMonthButton,{type:"button",className:s[Vt.PreviousMonthButton],tabIndex:X?void 0:-1,"aria-disabled":X?void 0:!0,"aria-label":It(X),onClick:Je,"data-animated-button":t.animate?"true":void 0},F.createElement(n.Chevron,{disabled:X?void 0:!0,className:s[Vt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),F.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:s[Vt.MonthCaption],style:O?.[Vt.MonthCaption],calendarMonth:Ct,displayIndex:lt},l?.startsWith("dropdown")?F.createElement(n.DropdownNav,{className:s[Vt.Dropdowns],style:O?.[Vt.Dropdowns]},(()=>{const ct=l==="dropdown"||l==="dropdown-months"?F.createElement(n.MonthsDropdown,{key:"month",className:s[Vt.MonthsDropdown],"aria-label":Ft(),classNames:s,components:n,disabled:!!t.disableNavigation,onChange:Zn(Ct.date),options:$St(Ct.date,V,ne,r,o),style:O?.[Vt.Dropdown],value:o.getMonth(Ct.date)}):F.createElement("span",{key:"month"},L(Ct.date,o)),Tt=l==="dropdown"||l==="dropdown-years"?F.createElement(n.YearsDropdown,{key:"year",className:s[Vt.YearsDropdown],"aria-label":ue(o.options),classNames:s,components:n,disabled:!!t.disableNavigation,onChange:Tn(Ct.date),options:USt(V,ne,r,o,!!t.reverseYears),style:O?.[Vt.Dropdown],value:o.getYear(Ct.date)}):F.createElement("span",{key:"year"},z(Ct.date,o));return o.getMonthYearOrder()==="year-first"?[Tt,ct]:[ct,Tt]})(),F.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},A(Ct.date,o.options,o))):F.createElement(n.CaptionLabel,{className:s[Vt.CaptionLabel],role:"status","aria-live":"polite"},A(Ct.date,o.options,o))),u==="around"&&!t.hideNavigation&&lt===d-1&&F.createElement(n.NextMonthButton,{type:"button",className:s[Vt.NextMonthButton],tabIndex:oe?void 0:-1,"aria-disabled":oe?void 0:!0,"aria-label":sn(oe),onClick:Ze,"data-animated-button":t.animate?"true":void 0},F.createElement(n.Chevron,{disabled:oe?void 0:!0,className:s[Vt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),lt===d-1&&u==="after"&&!t.hideNavigation&&F.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:s[Vt.Nav],style:O?.[Vt.Nav],"aria-label":Ee(),onPreviousClick:Je,onNextClick:Ze,previousMonth:X,nextMonth:oe}),F.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":De(Ct.date,o.options,o)||void 0,className:s[Vt.MonthGrid],style:O?.[Vt.MonthGrid]},!t.hideWeekdays&&F.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:s[Vt.Weekdays],style:O?.[Vt.Weekdays]},I&&F.createElement(n.WeekNumberHeader,{"aria-label":er(o.options),className:s[Vt.WeekNumberHeader],style:O?.[Vt.WeekNumberHeader],scope:"col"},$()),xe.map(ct=>F.createElement(n.Weekday,{"aria-label":Yt(ct,o.options,o),className:s[Vt.Weekday],key:String(ct),style:O?.[Vt.Weekday],scope:"col"},q(ct,o.options,o)))),F.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:s[Vt.Weeks],style:O?.[Vt.Weeks]},Ct.weeks.map(ct=>F.createElement(n.Week,{className:s[Vt.Week],key:ct.weekNumber,style:O?.[Vt.Week],week:ct},I&&F.createElement(n.WeekNumber,{week:ct,style:O?.[Vt.WeekNumber],"aria-label":xr(ct.weekNumber,{locale:a}),className:s[Vt.WeekNumber],scope:"row",role:"rowheader"},B(ct.weekNumber,o)),ct.days.map(Tt=>{const{date:jt}=Tt,vt=Q(Tt);if(vt[ki.focused]=!vt.hidden&&!!we?.isEqualTo(Tt),vt[hu.selected]=te?.(jt)||vt.selected,XU(he)){const{from:Hn,to:ui}=he;vt[hu.range_start]=!!(Hn&&ui&&o.isSameDay(jt,Hn)),vt[hu.range_end]=!!(Hn&&ui&&o.isSameDay(jt,ui)),vt[hu.range_middle]=jf(he,jt,!0,o)}const xt=HSt(vt,O,t.modifiersStyles),an=_St(vt,s,t.modifiersClassNames),Gn=!ke&&!vt.hidden?Ge(jt,vt,o.options,o):void 0;return F.createElement(n.Day,{key:`${o.format(jt,"yyyy-MM-dd")}_${o.format(Tt.displayMonth,"yyyy-MM")}`,day:Tt,modifiers:vt,className:an.join(" "),style:xt,role:"gridcell","aria-selected":vt.selected||void 0,"aria-label":Gn,"data-day":o.format(jt,"yyyy-MM-dd"),"data-month":Tt.outside?o.format(jt,"yyyy-MM"):void 0,"data-selected":vt.selected||void 0,"data-disabled":vt.disabled||void 0,"data-hidden":vt.hidden||void 0,"data-outside":Tt.outside||void 0,"data-focused":vt.focused||void 0,"data-today":vt.today||void 0},!vt.hidden&&ke?F.createElement(n.DayButton,{className:s[Vt.DayButton],style:O?.[Vt.DayButton],type:"button",day:Tt,modifiers:vt,disabled:vt.disabled||void 0,tabIndex:ve(Tt)?0:-1,"aria-label":He(jt,vt,o.options,o),onClick:Qe(Tt,vt),onBlur:Be(Tt,vt),onFocus:ge(Tt,vt),onKeyDown:it(Tt,vt),onMouseEnter:At(Tt,vt),onMouseLeave:Wt(Tt,vt)},R(jt,o.options,o)):!vt.hidden&&R(Tt.date,o.options,o))})))))))),t.footer&&F.createElement(n.Footer,{className:s[Vt.Footer],style:O?.[Vt.Footer],role:"status","aria-live":"polite"},t.footer)))}function TEt({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:i="ghost",formatters:o,components:a,...s}){const l=ZU();return g.jsx(CEt,{showOutsideDays:n,className:Ie("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:c=>c.toLocaleString("default",{month:"short"}),...o},classNames:{root:Ie("w-fit",l.root),months:Ie("relative flex flex-col gap-4 md:flex-row",l.months),month:Ie("flex w-full flex-col gap-4",l.month),nav:Ie("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",l.nav),button_previous:Ie(KE({variant:i}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",l.button_previous),button_next:Ie(KE({variant:i}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",l.button_next),month_caption:Ie("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",l.month_caption),dropdowns:Ie("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",l.dropdowns),dropdown_root:Ie("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",l.dropdown_root),dropdown:Ie("bg-popover absolute inset-0 opacity-0",l.dropdown),caption_label:Ie("select-none font-medium",r==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:Ie("flex",l.weekdays),weekday:Ie("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",l.weekday),week:Ie("mt-2 flex w-full",l.week),week_number_header:Ie("w-[--cell-size] select-none",l.week_number_header),week_number:Ie("text-muted-foreground select-none text-[0.8rem]",l.week_number),day:Ie("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",l.day),range_start:Ie("bg-accent rounded-l-md",l.range_start),range_middle:Ie("rounded-none",l.range_middle),range_end:Ie("bg-accent rounded-r-md",l.range_end),today:Ie("font-semibold",l.today),outside:Ie("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:Ie("text-muted-foreground opacity-50",l.disabled),hidden:Ie("invisible",l.hidden),...t},components:{Root:({className:c,rootRef:u,...d})=>g.jsx("div",{"data-slot":"calendar",ref:u,className:Ie(c),...d}),Chevron:({className:c,orientation:u,...d})=>u==="left"?g.jsx(Nie,{className:Ie("size-4",c),...d}):u==="right"?g.jsx(_H,{className:Ie("size-4",c),...d}):g.jsx(kT,{className:Ie("size-4",c),...d}),DayButton:kEt,WeekNumber:({children:c,...u})=>g.jsx("td",{...u,children:g.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:c})}),...a},...s})}function kEt({className:e,day:t,modifiers:n,...r}){const i=ZU(),o=C.useRef(null);return C.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),g.jsx(yi,{ref:o,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:Ie("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",i.day,e),...r})}function _Et(e){return/^(0[0-9]|1[0-9]|2[0-3])$/.test(e)}function AEt(e){return/^(0[1-9]|1[0-2])$/.test(e)}function NEt(e){return/^[0-5][0-9]$/.test(e)}function a3(e,{max:t,min:n=0,loop:r=!1}){let i=parseInt(e,10);return Number.isNaN(i)?"00":(r?(i>t&&(i=n),i<n&&(i=t)):(i>t&&(i=t),i<n&&(i=n)),i.toString().padStart(2,"0"))}function Ave(e){return _Et(e)?e:a3(e,{max:23})}function Nve(e){return AEt(e)?e:a3(e,{min:1,max:12})}function VM(e){return NEt(e)?e:a3(e,{max:59})}function QU(e,{min:t,max:n,step:r}){let i=parseInt(e,10);return Number.isNaN(i)?"00":(i+=r,a3(String(i),{min:t,max:n,loop:!0}))}function OEt(e,t){return QU(e,{min:0,max:23,step:t})}function MEt(e,t){return QU(e,{min:1,max:12,step:t})}function Rne(e,t){return QU(e,{min:0,max:59,step:t})}function DEt(e,t){const n=VM(t);return e.setMinutes(parseInt(n,10)),e}function REt(e,t){const n=VM(t);return e.setSeconds(parseInt(n,10)),e}function IEt(e,t){const n=Ave(t);return e.setHours(parseInt(n,10)),e}function PEt(e,t,n){const r=parseInt(Nve(t),10),i=BEt(r,n);return e.setHours(i),e}function Ine(e,t,n,r){switch(n){case"minutes":return DEt(e,t);case"seconds":return REt(e,t);case"hours":return IEt(e,t);case"12hours":return r?PEt(e,t,r):e;default:return e}}function LEt(e,t){switch(t){case"minutes":return VM(String(e.getMinutes()));case"seconds":return VM(String(e.getSeconds()));case"hours":return Ave(String(e.getHours()));case"12hours":{const n=$Et(e.getHours());return Nve(String(n))}default:return"00"}}function jEt(e,t,n){switch(n){case"minutes":return Rne(e,t);case"seconds":return Rne(e,t);case"hours":return OEt(e,t);case"12hours":return MEt(e,t);default:return"00"}}function BEt(e,t){return t==="PM"?e<=11?e+12:e:t==="AM"&&e===12?0:e}function $Et(e){return e===0||e===12?"12":e>=22?`${e-12}`:e%12>9?`${e}`:`0${e%12}`}const aH=F.forwardRef(({className:e,type:t="tel",value:n,id:r,name:i,date:o=new Date(new Date().setHours(0,0,0,0)),setDate:a,onChange:s,onKeyDown:l,picker:c,period:u,onLeftFocus:d,onRightFocus:p,...m},v)=>{const[x,w]=F.useState(!1),[T,k]=F.useState("0");F.useEffect(()=>{if(x){const A=setTimeout(()=>{w(!1)},2e3);return()=>clearTimeout(A)}},[x]);const N=F.useMemo(()=>LEt(o,c),[o,c]),I=A=>c==="12hours"&&x&&N.slice(1,2)==="1"&&T==="0"?`0${A}`:x?N.slice(1,2)+A:`0${A}`,O=A=>{if(A.key!=="Tab"){if(A.preventDefault(),A.key==="ArrowRight"&&p?.(),A.key==="ArrowLeft"&&d?.(),["ArrowUp","ArrowDown"].includes(A.key)){const R=A.key==="ArrowUp"?1:-1,L=jEt(N,R,c);x&&w(!1);const B=new Date(o);a(Ine(B,L,c,u))}if(A.key>="0"&&A.key<="9"){c==="12hours"&&k(A.key);const R=I(A.key);x&&p?.(),w(B=>!B);const L=new Date(o);a(Ine(L,R,c,u))}}};return g.jsx(fc,{ref:v,id:r||c,name:i||c,className:Ie("w-[48px] text-center font-mono text-base tabular-nums caret-transparent focus:bg-accent focus:text-accent-foreground [&::-webkit-inner-spin-button]:appearance-none",e),value:n||N,onChange:A=>{A.preventDefault(),s?.(A)},type:t,inputMode:"decimal",onKeyDown:A=>{l?.(A),O(A)},...m})});aH.displayName="TimePickerInput";function HEt({date:e,setDate:t}){const n=C.useRef(null),r=C.useRef(null),i=C.useRef(null);return g.jsxs("div",{className:"flex items-end gap-2",children:[g.jsxs("div",{className:"grid gap-1 text-center",children:[g.jsx(Jf,{htmlFor:"hours",className:"text-xs",children:"Hours"}),g.jsx(aH,{picker:"hours",date:e,setDate:t,ref:r,onRightFocus:()=>n.current?.focus()})]}),g.jsxs("div",{className:"grid gap-1 text-center",children:[g.jsx(Jf,{htmlFor:"minutes",className:"text-xs",children:"Minutes"}),g.jsx(aH,{picker:"minutes",date:e,setDate:t,ref:n,onLeftFocus:()=>r.current?.focus(),onRightFocus:()=>i.current?.focus()})]})]})}function qM({date:e,setDate:t,className:n,buttonClassName:r,defaultTime:i}){const o=a=>{if(a){if(i){const s=new Date(a);s.setHours(i.hours??0,i.minutes??0,i.seconds??0,0),t(s);return}if(e){const l=(a.getTime()-e.getTime())/(1e3*60*60*24),c=u_e(e,{days:Math.ceil(l)});t(c)}else t(a)}};return g.jsxs(Ec,{children:[g.jsx(Cc,{asChild:!0,children:g.jsxs(yi,{variant:"outline",className:Ie("w-[254px] justify-start text-left font-normal",!e&&"text-muted-foreground",r),children:[g.jsx(_ie,{className:"mr-2 h-4 w-4"}),e?Kf(e,"PPP HH:mm"):g.jsx("span",{children:"Pick a date"})]})}),g.jsxs(Tc,{className:Ie("w-auto p-0",n),children:[g.jsx(TEt,{mode:"single",selected:e,onSelect:a=>o(a)}),g.jsx("div",{className:"p-3 border-t border-border",children:g.jsx(HEt,{setDate:t,date:e})})]})]})}var FEt=Object.defineProperty,UEt=(e,t)=>{for(var n in t)FEt(e,n,{get:t[n],enumerable:!0})},m0={};UEt(m0,{ActiveEmoji:()=>Zve,Empty:()=>Xve,List:()=>Yve,Loading:()=>Kve,Root:()=>Hve,Search:()=>Fve,SkinTone:()=>Qve,SkinToneSelector:()=>Gve,Viewport:()=>Uve});var Ove="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",JU=["none","light","medium-light","medium","medium-dark","dark"];function C6(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Jc=2,ma=null;function Pne(e){try{ma??=document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{}if(!ma||(queueMicrotask(()=>{ma&&(ma=null)}),ma.canvas.width=Jc,ma.canvas.height=Jc,ma.font=`2px ${Ove}`,ma.textBaseline="middle",ma.measureText(e).width>=Jc*2))return!1;ma.fillStyle="#00f",ma.fillText(e,0,0);let t=ma.getImageData(0,0,Jc,Jc).data;ma.clearRect(0,0,Jc,Jc),ma.fillStyle="#f00",ma.fillText(e,0,0);let n=ma.getImageData(0,0,Jc,Jc).data;for(let r=0;r<Jc*Jc*4;r+=4)if(t[r]!==n[r]||t[r+1]!==n[r+1]||t[r+2]!==n[r+2])return!1;return!0}function Lne(e,t,n){try{let r=e.getItem(t);if(!r)throw new Error(`No value found for "${t}".`);let i=JSON.parse(r);return n(i)}catch{return null}}function Mve(e,t,n){e.setItem(t,JSON.stringify(n))}function jne(e){return t=>t===void 0?void 0:e(t)}function Bne(e){return t=>t===null?null:e(t)}function Yo(e){if(typeof e!="string")throw new Error;return e}function uN(e){if(typeof e!="number")throw new Error;return e}function Dve(e){if(typeof e!="boolean")throw new Error;return e}function Tp(e){return t=>{if(typeof t!="object"||t===null)throw new Error;let n={};for(let r in e){let i=t[r];i===void 0&&e[r](void 0),n[r]=e[r](i)}return n}}function T6(e){return t=>{if(!Array.isArray(t))throw new Error;return t.length>0&&e(t[0]),t}}var Rve=(e,t)=>`${e}/${t}/data.json`,Ive=(e,t)=>`${e}/${t}/messages.json`,zEt=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],$ne="en",Pve=e=>`frimousse/data/${e}`,Hne="frimousse/metadata";async function Fne(e,t){try{return(await fetch(e,{method:"HEAD",signal:t})).headers.get("etag")}catch{return null}}async function VEt(e,t,n){let[{emojis:r,emojisEtag:i},{messages:o,messagesEtag:a}]=await Promise.all([fetch(Rve(e,t),{signal:n}).then(async s=>({emojis:await s.json(),emojisEtag:s.headers.get("etag")})),fetch(Ive(e,t),{signal:n}).then(async s=>({messages:await s.json(),messagesEtag:s.headers.get("etag")}))]);return{emojis:r,messages:o,emojisEtag:i,messagesEtag:a}}async function qEt(e,t,n){let[r,i]=await Promise.all([Fne(Rve(e,t),n),Fne(Ive(e,t),n)]);return{emojisEtag:r,messagesEtag:i}}function WEt(e){return e.skins?e.skins.filter(t=>typeof t.tone=="number").reduce((t,n)=>{let r=JU[n.tone];return t[r]=n.emoji,t},{}):void 0}async function Une(e,t,n){let{emojis:r,emojisEtag:i,messages:o,messagesEtag:a}=await VEt(e,t,n),s=o.subgroups.find(v=>v.key==="country-flag"||v.key==="subdivision-flag"),l=o.groups.filter(v=>v.key!=="component"),c=r.filter(v=>"group"in v),u=l.map(v=>({index:v.order,label:C6(v.message)})),d=o.skinTones.reduce((v,x)=>(v[x.key]=C6(x.message),v),{}),p=c.map(v=>({emoji:v.emoji,category:v.group,version:v.version,label:C6(v.label),tags:v.tags??[],countryFlag:s&&v.subgroup===s.order||void 0,skins:WEt(v)})),m={locale:t,emojis:p,categories:u,skinTones:d};return Mve(localStorage,Pve(t),{data:m,metadata:{emojisEtag:i,messagesEtag:a}}),m}function YEt(e,t){let n=new Map;for(let a of e)n.has(a.version)||n.set(a.version,a.emoji);let r=[...n.keys()].sort((a,s)=>s-a),i=r[0]??0,o=Pne("");if(typeof t=="number")return{emojiVersion:t,countryFlags:o};for(let a of r){let s=n.get(a);if(Pne(s))return{emojiVersion:a,countryFlags:o}}return{emojiVersion:i,countryFlags:o}}var GEt=Tp({emojiVersion:uN,countryFlags:Dve}),KEt=Tp({data:Tp({locale:Yo,emojis:T6(Tp({emoji:Yo,category:uN,label:Yo,version:uN,tags:T6(Yo),countryFlag:jne(Dve),skins:jne(Tp({light:Yo,"medium-light":Yo,medium:Yo,"medium-dark":Yo,dark:Yo}))})),categories:T6(Tp({index:uN,label:Yo})),skinTones:Tp({light:Yo,"medium-light":Yo,medium:Yo,"medium-dark":Yo,dark:Yo})}),metadata:Tp({emojisEtag:Bne(Yo),messagesEtag:Bne(Yo)})});async function XEt({locale:e,emojiVersion:t,emojibaseUrl:n,signal:r}){let i=typeof n=="string"?n:`https://cdn.jsdelivr.net/npm/emojibase-data@${typeof t=="number"?Math.floor(t):"latest"}`,o=Lne(sessionStorage,Hne,GEt),a=Lne(localStorage,Pve(e),KEt),s;if(!a)s=await Une(i,e,r);else if(o)s=a.data;else try{let{emojisEtag:c,messagesEtag:u}=await qEt(i,e,r);s=!c||!u||c!==a.metadata.emojisEtag||u!==a.metadata.messagesEtag?await Une(i,e,r):a.data}catch{s=a.data}o??=YEt(s.emojis,t),Mve(sessionStorage,Hne,o);let l=s.emojis.filter(c=>{let u=c.version<=o.emojiVersion;return c.countryFlag?u&&o.countryFlags:u});return{locale:e,emojis:l,categories:s.categories,skinTones:s.skinTones}}function zne(e){return zEt.includes(e)?e:(console.warn(`Locale "${e}" is not supported, using "${$ne}" instead.`),$ne)}function Vne(e){return JU.includes(e)?e:(console.warn(`Skin tone "${e}" is not valid, using "none" instead.`),"none")}function ZEt(e,t){let n=[];if(t<=0)return n;for(let r=0,i=e.length;r<i;r+=t)n.push(e.slice(r,r+t));return n}function QEt(e,t){if(!t)return e;let n=t.toLowerCase().trim(),r=new WeakMap;return e.filter(i=>{let o=0;i.label.toLowerCase().includes(n)&&(o+=10);for(let a of i.tags)a.toLowerCase().includes(n)&&(o+=1);return o>0?(r.set(i,o),!0):!1}).sort((i,o)=>(r.get(o)??0)-(r.get(i)??0))}function JEt(e,t,n,r){let i=QEt(e.emojis,r),o=[],a=[],s=[],l={},c=0,u=0;for(let d of i)l[d.category]||(l[d.category]=[]),l[d.category].push({emoji:n&&n!=="none"&&d.skins?d.skins[n]:d.emoji,label:d.label});for(let d of e.categories){let p=l[d.index];if(!p||p.length===0)continue;let m=ZEt(Array.from(p),t).map(v=>({categoryIndex:c,emojis:v}));o.push(...m),a.push({label:d.label,rowsCount:m.length,startRowIndex:u}),s.push(u),c++,u+=m.length}return{count:i.length,categories:a,categoriesStartRowIndices:s,rows:o,skinTones:e.skinTones}}function eCt(e){let t={},n=null,r=null,i=new Set,o=()=>{if(n){t=n,n=null;for(let c of i)c(t)}r=null},a=()=>n??t,s=c=>{n??=t,Object.assign(n,typeof c=="function"?c(a()):c),r||(r=requestAnimationFrame(o))},l=c=>(i.add(c),()=>i.delete(c));return t=e(s,a),{get:a,set:s,subscribe:l}}function tCt(e){let[t]=C.useState(e);return t}function nCt(e){let t=C.createContext(null);return{useStore:()=>{let n=C.useContext(t);if(!n)throw new Error(e);return n},Provider:({store:n,children:r})=>g.jsx(t.Provider,{value:n,children:r})}}function Pl(e,t,n=Object.is){let[r,i]=C.useState(()=>t(e.get()));return C.useEffect(()=>e.subscribe(()=>{let o=t(e.get());i(a=>n(a,o)?a:o)}),[e,t,n]),C.useDebugValue(r),r}function xd(e,t,n){let r=C.useCallback(i=>i[t],[t]);return Pl(e,r,n)}var qne=2;function rCt(e,t,n,r,i){let o=0;return eCt((a,s)=>({locale:t,columns:n,sticky:r,skinTone:i,onEmojiSelect:e,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:l=>{let c=s(),u=l?.data??c.data,d=l?.categoryHeaderHeight??c.categoryHeaderHeight,p=l?.rowHeight??c.rowHeight,m=l?.viewportHeight??c.viewportHeight;if(!u||u.rows.length===0||!d||!p||!m)return a({...l,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let v=0,x=0;for(let L of u.categories)if(x++*d+L.startRowIndex*p<o)v+=d;else break;let w=u.categories.length*d+u.rows.length*p,T=Math.floor(qne*p/2),k=Math.ceil(qne*p/2),N=Math.min(o-v-T,w-m),I=N+m+k,O=Math.max(0,Math.floor(N/p)),A=Math.min(u.rows.length-1,Math.ceil(I/p)),R=u.rows[O]?.categoryIndex;return a(R===void 0&&l?l:{...l,viewportStartCategoryIndex:R,viewportStartRowIndex:O,viewportEndRowIndex:A})},onDataChange:l=>{s().updateViewportState({data:l,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:l=>{a({search:l,interaction:l?"keyboard":"none"})},onActiveEmojiChange:(l,c,u)=>{if(a({interaction:l,activeColumnIndex:c,activeRowIndex:u}),l!=="keyboard")return;let{listRef:d,viewportRef:p,sticky:m,rowHeight:v,viewportHeight:x,categoryHeaderHeight:w}=s(),T=d?.current,k=p?.current;if(!T||!k||!v||!w||!x)return;let N=u;N===0&&k.scrollTo({top:0,behavior:"instant"});let I=T.querySelector(`[aria-rowindex="${N}"]`);if(!(I instanceof HTMLElement))return;let O=I.offsetTop,A=getComputedStyle(I),R=Number.parseFloat(A.scrollMarginTop),L=Number.parseFloat(A.scrollMarginBottom),B=o+R;m&&O<o+x/2&&(B+=w);let $=B+x-L;(O<B||O+v>$)&&k.scrollTo({top:Math.max(O<B+w?O-Math.max(m?w:0,R):O-x+v+L,0),behavior:"instant"})},onActiveEmojiReset:()=>{a({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:l=>{s().updateViewportState({rowHeight:l})},onCategoryHeaderHeightChange:l=>{s().updateViewportState({categoryHeaderHeight:l})},onViewportSizeChange:(l,c)=>{s().updateViewportState({viewportWidth:l,viewportHeight:c})},onViewportScroll:l=>{o=l,s().updateViewportState()}}))}var{useStore:Ys,Provider:iCt}=nCt("EmojiPicker.Root is missing.");function oCt(e){return e.search}function ez(e){return e.interaction==="none"?void 0:e.data?.rows[e.activeRowIndex]?.emojis[e.activeColumnIndex]}function aCt(e){return e.data===void 0||typeof e.data?.count=="number"&&e.data.count===0}function sCt(e){return e.data===null||e.viewportHeight===null||e.rowHeight===null||e.categoryHeaderHeight===null}function Lve(e){return e.data?.rows.length}function lCt(e){return e.data?.categories.length}function cCt(e){return e.data?.categoriesStartRowIndices}function uCt(e){return e.data?.skinTones}function jve(e,t){return e?.emoji===t?.emoji}function dCt(e,t){return e?.categoryIndex!==t?.categoryIndex||e?.emojis.length!==t?.emojis.length?!1:!!e?.emojis.every((n,r)=>jve(n,t?.emojis[r]))}var ZS="",Wne=new RegExp("\\p{Emoji_Modifier_Base}","u"),fCt=/\uFE0F$/,hCt=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,pCt={light:"","medium-light":"",medium:"","medium-dark":"",dark:""};function mCt(e,t){if(!e.split(ZS).some(r=>Wne.test(r)))return e;let n=e.split(ZS).map(r=>r.replace(hCt,"")).join(ZS);return t==="none"?n:n.split(ZS).map((r,i,o)=>{let a=o.length>1;return!Wne.test(r)||a&&r===""?r:r.replace(fCt,"")+pCt[t]}).join(ZS)}function gCt(e){return JU.map(t=>({skinTone:t,emoji:mCt(e,t)}))}function Bve(){let e=Ys(),t=Pl(e,ez,jve);return C.useDeferredValue(t)}function $ve(e=""){let t=Ys(),n=xd(t,"skinTone"),r=C.useMemo(()=>gCt(e),[e]),i=C.useCallback(o=>{t.set({skinTone:o})},[]);return[n,i,r]}function tz(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null||Array.isArray(e)!==Array.isArray(t))return!1;let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(i=>i in t&&e[i]===t[i])}function yCt(...e){}function bCt(e,t){let n=null;if(typeof window.requestIdleCallback=="function")n=window.requestIdleCallback(e,t);else{let r=Date.now();n=window.setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,t?.timeout-(Date.now()-r))})},10)}return()=>{typeof window.cancelIdleCallback=="function"?window.cancelIdleCallback(n):window.clearTimeout(n)}}var ou=typeof window<"u"?C.useLayoutEffect:C.useEffect;function vCt(e){let t=C.useRef(e);return ou(()=>{t.current=e}),C.useCallback((...n)=>t.current(...n),[])}function xCt({emojiVersion:e,emojibaseUrl:t}){let[n,r]=C.useState(void 0),i=Ys(),o=xd(i,"locale"),a=xd(i,"columns"),s=xd(i,"skinTone"),l=xd(i,"search");return C.useEffect(()=>{let c=new AbortController,u=c.signal;return XEt({locale:o,emojiVersion:e,emojibaseUrl:t,signal:u}).then(d=>{r(d)}).catch(d=>{u.aborted||console.error(d)}),()=>{c.abort()}},[e,t,o]),C.useEffect(()=>{if(n)return bCt(()=>{i.get().onDataChange(JEt(n,a,s,l))},{timeout:100})},[n,a,s,l]),null}var Hve=C.forwardRef(({locale:e="en",columns:t=9,skinTone:n="none",onEmojiSelect:r=yCt,emojiVersion:i,emojibaseUrl:o,onFocusCapture:a,onBlurCapture:s,children:l,style:c,sticky:u=!0,...d},p)=>{let m=vCt(r),v=tCt(()=>rCt(m,zne(e),t,u,Vne(n))),[x,w]=C.useState(!1),T=C.useRef(null),k=C.useCallback(O=>{O&&(T.current=O,v.set({rootRef:T}))},[]);ou(()=>{v.set({locale:zne(e)})},[e]),ou(()=>{v.set({columns:t})},[t]),ou(()=>{v.set({sticky:u})},[u]),ou(()=>{v.set({skinTone:Vne(n)})},[n]);let N=C.useCallback(O=>{a?.(O);let{searchRef:A,viewportRef:R}=v.get(),L=O.target===A?.current||O.target.hasAttribute("frimousse-search"),B=O.target===R?.current||O.target.hasAttribute("frimousse-viewport");O.isDefaultPrevented()||(w(L||B),O.isDefaultPrevented()||(w(L||B),B?v.get().onActiveEmojiChange("keyboard",0,0):L&&v.get().search===""&&v.set({interaction:"none"})))},[a]),I=C.useCallback(O=>{s?.(O),!O.isDefaultPrevented()&&!O.currentTarget.contains(O.relatedTarget)&&w(!1)},[s]);return ou(()=>{x||v.get().onActiveEmojiReset()},[x]),C.useImperativeHandle(p,()=>T.current),C.useEffect(()=>{if(!x)return;function O(A){if(A.defaultPrevented||!A.key.startsWith("Arrow")&&A.key!=="Enter")return;let{data:R,onEmojiSelect:L,onActiveEmojiChange:B,interaction:$,activeColumnIndex:q,activeRowIndex:z}=v.get();if(A.key==="Enter"){let Y=ez(v.get());Y&&(A.preventDefault(),L(Y))}if(A.key.startsWith("Arrow")){let Y=q,W=z;if(A.preventDefault(),$!=="none"){if(R?.rows&&R.rows.length>0)switch(A.key){case"ArrowLeft":{if(Y===0){let Z=W-1,V=R.rows[Z];V&&(W=Z,Y=V.emojis.length-1)}else Y-=1;break}case"ArrowRight":{if(Y===R.rows[W].emojis.length-1){let Z=W+1;R.rows[Z]&&(W=Z,Y=0)}else Y+=1;break}case"ArrowUp":{let Z=R.rows[W-1];Z&&(W-=1,Z.emojis[Y]||(Y=Z.emojis.length-1));break}case"ArrowDown":{let Z=R.rows[W+1];Z&&(W+=1,Z.emojis[Y]||(Y=Z.emojis.length-1));break}}B("keyboard",Y,W)}else B("keyboard",0,0)}}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[x]),ou(()=>{let O=null,A=null,R=null,L=null,B=v.subscribe(W=>{T.current&&(O!==W.viewportWidth&&(O=W.viewportWidth,T.current.style.setProperty("--frimousse-viewport-width",`${W.viewportWidth}px`)),A!==W.viewportHeight&&(A=W.viewportHeight,T.current.style.setProperty("--frimousse-viewport-height",`${W.viewportHeight}px`)),R!==W.rowHeight&&(R=W.rowHeight,T.current.style.setProperty("--frimousse-row-height",`${W.rowHeight}px`)),L!==W.categoryHeaderHeight&&(L=W.categoryHeaderHeight,T.current.style.setProperty("--frimousse-category-header-height",`${W.categoryHeaderHeight}px`)))}),{viewportWidth:$,viewportHeight:q,rowHeight:z,categoryHeaderHeight:Y}=v.get();return $&&T.current.style.setProperty("--frimousse-viewport-width",`${$}px`),q&&T.current.style.setProperty("--frimousse-viewport-height",`${q}px`),z&&T.current.style.setProperty("--frimousse-row-height",`${z}px`),Y&&T.current.style.setProperty("--frimousse-category-header-height",`${Y}px`),B},[]),g.jsx("div",{"data-focused":x?"":void 0,"frimousse-root":"",onBlurCapture:I,onFocusCapture:N,...d,ref:k,style:{"--frimousse-emoji-font":Ove,...c},children:g.jsxs(iCt,{store:v,children:[g.jsx(xCt,{emojiVersion:i,emojibaseUrl:o}),l]})})}),Fve=C.forwardRef(({value:e,defaultValue:t,onChange:n,...r},i)=>{let o=Ys(),a=C.useRef(null),s=C.useCallback(d=>{d&&(a.current=d,o.set({searchRef:a}))},[]),l=typeof e=="string",c=C.useRef(l);C.useEffect(()=>{c.current=l},[l]),ou(()=>{o.set({search:typeof e=="string"?e:typeof t=="string"?t:""})},[]),ou(()=>{typeof e=="string"&&o.get().onSearchChange(e)},[e]);let u=C.useCallback(d=>{n?.(d),d.isDefaultPrevented()||o.get().onSearchChange(d.target.value)},[n]);return C.useImperativeHandle(i,()=>a.current),g.jsx("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search",spellCheck:!1,type:"search",...r,defaultValue:t,onChange:u,ref:s,value:e})}),wCt=C.memo(()=>{let e=Bve();return e?g.jsx("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:e.label}):null}),Uve=C.forwardRef(({children:e,onScroll:t,onKeyDown:n,style:r,...i},o)=>{let a=Ys(),s=C.useRef(null),l=C.useCallback(p=>{p&&(s.current=p,a.set({viewportRef:s}))},[]),c=Pl(a,Lve),u=Pl(a,lCt),d=C.useCallback(p=>{t?.(p),a.get().onViewportScroll(p.currentTarget.scrollTop)},[t]);return ou(()=>{if(!s.current)return;let p=new ResizeObserver(([m])=>{let v=m?.borderBoxSize[0]?.inlineSize??0,x=m?.borderBoxSize[0]?.blockSize??0,{onViewportSizeChange:w,viewportHeight:T,viewportWidth:k}=a.get();(T!==x||k!==v)&&w(v,x)});return p.observe(s.current),a.get().onViewportSizeChange(s.current.offsetWidth,s.current.clientHeight),()=>{p.disconnect()}},[]),C.useImperativeHandle(o,()=>s.current),g.jsxs("div",{"frimousse-viewport":"",...i,onScroll:d,ref:l,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:typeof c=="number"&&typeof u=="number"?`var(--frimousse-viewport-width, auto) calc(${c} * var(--frimousse-row-height) + ${u} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...r},children:[g.jsx(wCt,{}),e]})});function zve(e,t,n){return{emoji:{...e,isActive:n},role:"gridcell","aria-colindex":t,"aria-selected":n||void 0,"aria-label":e.label,"data-active":n?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function Vve(e,t=!1){return{role:t?void 0:"row","aria-rowindex":t?void 0:e,"frimousse-row":"",style:{contain:t?void 0:"content",height:t?void 0:"var(--frimousse-row-height)",display:"flex"}}}function qve(e,t){return{"frimousse-category":"",style:{contain:"content",top:t?`calc(${e} * var(--frimousse-category-header-height) + ${t.startRowIndex} * var(--frimousse-row-height))`:void 0,height:t?`calc(var(--frimousse-category-header-height) + ${t.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function Wve(e,t=!1,n=!0){return{category:e,"frimousse-category-header":"",style:{contain:t?void 0:"layout paint",height:t?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:n?"sticky":void 0,top:0}}}function Yne(e,t,n,r){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${e} * var(--frimousse-row-height) + ${t} * var(--frimousse-category-header-height))`,paddingTop:`calc(${n} * var(--frimousse-row-height) + ${r} * var(--frimousse-category-header-height))`}}}function Gne(e,t,n){return{"aria-colcount":e,"aria-rowcount":t,"frimousse-list":"",style:{"--frimousse-list-columns":e,...n},role:"grid"}}function SCt(e){e.preventDefault()}var ECt=C.memo(({Emoji:e,emoji:t,columnIndex:n,rowIndex:r})=>{let i=Ys(),o=Pl(i,c=>ez(c)?.emoji===t.emoji),a=C.useCallback(()=>{i.get().onEmojiSelect(t)},[t]),s=C.useCallback(()=>{i.get().onActiveEmojiChange("pointer",n,r)},[n,r]),l=C.useCallback(()=>{i.get().onActiveEmojiReset()},[]);return g.jsx(e,{...zve(t,n,o),onClick:a,onPointerDown:SCt,onPointerEnter:s,onPointerLeave:l})}),CCt=C.memo(({Row:e,Emoji:t,rowIndex:n})=>{let r=Ys(),i=Pl(r,o=>o.data?.rows[n],dCt);return i?g.jsx(e,{...Vve(n),children:i.emojis.map((o,a)=>g.jsx(ECt,{Emoji:t,columnIndex:a,emoji:o,rowIndex:n},o.label))}):null}),TCt=C.memo(({CategoryHeader:e,categoryIndex:t})=>{let n=Ys(),r=Pl(n,o=>o.data?.categories[t],tz),i=xd(n,"sticky");return r?g.jsx("div",{...qve(t,r),children:g.jsx(e,{...Wve({label:r.label},!1,i)})}):null}),Kne=C.memo(({CategoryHeader:e,Row:t,Emoji:n})=>{let r=C.useRef(null),i=Ys(),o=xd(i,"columns"),a=C.useMemo(()=>Array(o).fill({emoji:"",label:""}),[o]),s=C.useMemo(()=>({label:"Category"}),[]),l=C.useRef(null),c=C.useRef(null);return ou(()=>{let u=r.current?.parentElement?.parentElement;if(!u||!l.current||!c.current)return;let d=new ResizeObserver(v=>{for(let x of v){let w=x.contentRect.height,{onRowHeightChange:T,onCategoryHeaderHeightChange:k,rowHeight:N,categoryHeaderHeight:I}=i.get();x.target===l.current&&N!==w&&T(w),x.target===c.current&&I!==w&&k(w)}});d.observe(u),d.observe(l.current),d.observe(c.current);let{onRowHeightChange:p,onCategoryHeaderHeightChange:m}=i.get();return p(l.current.clientHeight),m(c.current.clientHeight),()=>{d.disconnect()}},[]),g.jsxs("div",{"aria-hidden":!0,ref:r,style:{height:0,visibility:"hidden"},children:[g.jsx("div",{"frimousse-row-sizer":"",ref:l,children:g.jsx(t,{...Vve(-1,!0),children:a.map((u,d)=>g.jsx(n,{...zve(u,d,!1)},d))})}),g.jsx("div",{...qve(-1),children:g.jsx("div",{"frimousse-category-header-sizer":"",ref:c,children:g.jsx(e,{...Wve(s,!0)})})})]})});function kCt({category:e,...t}){return g.jsx("div",{...t,children:e.label})}function _Ct({emoji:e,...t}){return g.jsx("button",{type:"button",...t,children:e.emoji})}function ACt({...e}){return g.jsx("div",{...e})}var Yve=C.forwardRef(({style:e,components:t,...n},r)=>{let i=Ys(),o=C.useRef(null),a=C.useCallback(T=>{T&&(o.current=T,i.set({listRef:o}))},[]),s=t?.CategoryHeader??kCt,l=t?.Emoji??_Ct,c=t?.Row??ACt,u=xd(i,"columns"),d=xd(i,"viewportStartRowIndex"),p=xd(i,"viewportEndRowIndex"),m=Pl(i,Lve),v=Pl(i,cCt,tz),x=C.useMemo(()=>v?.filter(T=>T<d).length??0,[v,d]),w=v?.length??0;return C.useImperativeHandle(r,()=>o.current),!m||!v||w===0?g.jsx("div",{...Gne(u,0,e),...n,children:g.jsx("div",{...Yne(0,0,0,0),children:g.jsx(Kne,{CategoryHeader:s,Emoji:l,Row:c})})}):g.jsx("div",{...Gne(u,m,e),...n,ref:a,children:g.jsxs("div",{...Yne(m,w,d,x),children:[g.jsx(Kne,{CategoryHeader:s,Emoji:l,Row:c}),Array.from({length:p-d+1},(T,k)=>{let N=d+k,I=v.indexOf(N);return g.jsxs(C.Fragment,{children:[I>=0&&g.jsx("div",{style:{height:"var(--frimousse-category-header-height)"}}),g.jsx(CCt,{Emoji:l,Row:c,rowIndex:N})]},N)}),Array.from({length:w},(T,k)=>g.jsx(TCt,{CategoryHeader:s,categoryIndex:k},k))]})})}),Gve=C.forwardRef(({emoji:e,onClick:t,"aria-label":n="Change skin tone",...r},i)=>{let o=Ys(),a=Pl(o,uCt,tz),[s,l,c]=$ve(e),u=C.useMemo(()=>Math.max(0,c.findIndex(w=>w.skinTone===s)),[s,c]),d=c[u],p=c[(u+1)%c.length].skinTone,m=s==="none"?void 0:a?.[s],v=p==="none"?void 0:a?.[p],x=C.useCallback(w=>{t?.(w),w.isDefaultPrevented()||l(p)},[t,l,p]);return g.jsx("button",{type:"button",...r,"aria-label":n+(v?` (${v})`:""),"aria-live":"polite","aria-valuetext":m,"frimousse-skin-tone-selector":"",onClick:x,ref:i,children:d.emoji})});function Kve({children:e,...t}){let n=Ys();return Pl(n,sCt)?g.jsx("span",{"frimousse-loading":"",...t,children:e}):null}function NCt({children:e}){let t=Ys(),n=Pl(t,oCt);return e({search:n})}function Xve({children:e,...t}){let n=Ys();return Pl(n,aCt)?g.jsx("span",{"frimousse-empty":"",...t,children:typeof e=="function"?g.jsx(NCt,{children:e}):e}):null}function Zve({children:e}){let t=Bve();return e({emoji:t})}function Qve({children:e,emoji:t}){let[n,r,i]=$ve(t);return e({skinTone:n,setSkinTone:r,skinToneVariations:i})}Hve.displayName="EmojiPicker.Root";Fve.displayName="EmojiPicker.Search";Uve.displayName="EmojiPicker.Viewport";Yve.displayName="EmojiPicker.List";Kve.displayName="EmojiPicker.Loading";Xve.displayName="EmojiPicker.Empty";Gve.displayName="EmojiPicker.SkinToneSelector";Zve.displayName="EmojiPicker.ActiveEmoji";Qve.displayName="EmojiPicker.SkinTone";function OCt({className:e,...t}){return g.jsx(m0.Root,{className:Ie("bg-popover text-popover-foreground isolate flex h-full w-fit flex-col overflow-hidden rounded-md",e),"data-slot":"emoji-picker",...t})}function MCt({className:e,...t}){return g.jsxs("div",{className:Ie("flex h-9 items-center gap-2 border-b px-3",e),"data-slot":"emoji-picker-search-wrapper",children:[g.jsx(Bie,{className:"size-4 shrink-0 opacity-50"}),g.jsx(m0.Search,{className:"outline-hidden placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm disabled:cursor-not-allowed disabled:opacity-50","data-slot":"emoji-picker-search",...t})]})}function DCt({children:e,...t}){return g.jsx("div",{...t,className:"scroll-my-1 px-1","data-slot":"emoji-picker-row",children:e})}function RCt({emoji:e,className:t,...n}){return g.jsx("button",{...n,className:Ie("data-[active]:bg-accent flex size-7 items-center justify-center rounded-sm text-base",t),"data-slot":"emoji-picker-emoji",children:e.emoji})}function ICt({category:e,...t}){return g.jsx("div",{...t,className:"bg-popover text-muted-foreground px-3 pb-2 pt-3.5 text-xs leading-none","data-slot":"emoji-picker-category-header",children:e.label})}function PCt({className:e,...t}){return g.jsxs(m0.Viewport,{className:Ie("outline-hidden relative flex-1",e),"data-slot":"emoji-picker-viewport",...t,children:[g.jsx(m0.Loading,{className:"absolute inset-0 flex items-center justify-center text-muted-foreground","data-slot":"emoji-picker-loading",children:g.jsx(jie,{className:"size-4 animate-spin"})}),g.jsx(m0.Empty,{className:"absolute inset-0 flex items-center justify-center text-muted-foreground text-sm","data-slot":"emoji-picker-empty",children:"No emoji found."}),g.jsx(m0.List,{className:"select-none pb-1",components:{Row:DCt,Emoji:RCt,CategoryHeader:ICt},"data-slot":"emoji-picker-list"})]})}function Jve({emoji:e,setEmoji:t,title:n,setTitle:r,start:i,setStart:o,end:a,setEnd:s,isEditing:l}){const[c,u]=C.useState(!1),d=["","","","","",""];return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs(Ec,{open:c,onOpenChange:u,children:[g.jsx(Cc,{asChild:!0,children:g.jsx("button",{type:"button",className:"text-xl cursor-pointer transition-opacity flex-shrink-0 hover:bg-muted rounded-md p-1",onClick:()=>u(!0),children:e})}),g.jsx(Tc,{className:"w-full p-1",children:g.jsxs(OCt,{onEmojiSelect:p=>{t(p.emoji),u(!1)},children:[g.jsx(MCt,{placeholder:"Search emoji..."}),g.jsx(PCt,{className:"max-h-[200px]"}),g.jsxs("div",{className:"border-t px-1 pb-0 pt-1",children:[g.jsx("div",{className:"text-xs text-muted-foreground ml-1 mb-1",children:"Frequently Used"}),g.jsx("div",{className:"flex flex-wrap gap-1",children:d.map(p=>g.jsx("button",{type:"button",className:"text-sm hover:bg-muted rounded-sm p-1 transition-colors",onClick:()=>{t(p),u(!1)},children:p},p))})]})]})})]}),g.jsx(fc,{id:"title",placeholder:l?"Edit annotation":"New annotation",value:n,onChange:p=>r(p.target.value),className:"border-0 shadow-none px-0 focus-visible:ring-0 font-semibold text-lg md:text-lg flex-1 placeholder:text-secondary-foreground/60 h-auto"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Jf,{className:"text-xs",children:"Start Date"}),g.jsx(qM,{date:i,setDate:o,buttonClassName:"w-full"})]}),g.jsxs("div",{className:"space-y-2 mb-3",children:[g.jsx(Jf,{className:"text-xs",children:"End Date"}),g.jsx(qM,{date:a,setDate:s,buttonClassName:"w-full"})]})]})}function LCt(e,t){const n=l=>l.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),r=l=>l.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),i=n(e),o=n(t),a=r(e),s=r(t);return i===o?`${i} at ${a} - ${s}`:`${i} ${a} - ${o} ${s}`}function Xne({comment:e,className:t,onDelete:n,onUpdate:r}){const i=k=>"id"in k,[o,a]=C.useState(!1),[s,l]=C.useState(e.emoji),[c,u]=C.useState(e.title),[d,p]=C.useState(e.start),[m,v]=C.useState(e.end),x=k=>{a(k),k?(l(e.emoji),u(e.title),p(e.start),v(e.end)):w()},w=async()=>{!c||!d||!m||!r||(await r({...i(e)&&{id:e.id},emoji:s,title:c,start:d,end:m}),a(!1))},T=g.jsxs("div",{className:Ie("cursor-pointer relative group transition-colors hover:bg-muted/50 py-3 px-4",t),children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"text-2xl flex-shrink-0",children:e.emoji}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"font-medium text-sm mb-1 truncate",children:e.title}),g.jsx("div",{className:"text-xs text-muted-foreground",children:LCt(e.start,e.end)})]})]}),n&&g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:i(e)&&g.jsx("div",{className:"absolute right-4 top-3 px-2 py-1 rounded-md bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1 opacity-0",onClick:k=>{k.stopPropagation(),n(e.id)},children:g.jsx(Hie,{className:"size-4 text-muted-foreground hover:text-destructive"})})}),g.jsx(Hr,{children:g.jsx("p",{children:"Delete comment"})})]})]});return i(e)&&r?g.jsxs(Ec,{open:o,onOpenChange:x,children:[g.jsx(Cc,{asChild:!0,children:T}),g.jsx(Tc,{className:"w-[405px]",side:"bottom",align:"start",sideOffset:-65,children:g.jsx(Jve,{emoji:s,setEmoji:l,title:c,setTitle:u,start:d,setStart:p,end:m,setEnd:v,isEditing:!0})})]}):T}function jCt(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var nz="ScrollArea",[e1e]=Us(nz),[BCt,Ac]=e1e(nz),t1e=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...a}=e,[s,l]=C.useState(null),[c,u]=C.useState(null),[d,p]=C.useState(null),[m,v]=C.useState(null),[x,w]=C.useState(null),[T,k]=C.useState(0),[N,I]=C.useState(0),[O,A]=C.useState(!1),[R,L]=C.useState(!1),B=An(t,q=>l(q)),$=tk(i);return g.jsx(BCt,{scope:n,type:r,dir:$,scrollHideDelay:o,scrollArea:s,viewport:c,onViewportChange:u,content:d,onContentChange:p,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:O,onScrollbarXEnabledChange:A,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:R,onScrollbarYEnabledChange:L,onCornerWidthChange:k,onCornerHeightChange:I,children:g.jsx(Dt.div,{dir:$,...a,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});t1e.displayName=nz;var n1e="ScrollAreaViewport",r1e=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=e,a=Ac(n1e,n),s=C.useRef(null),l=An(t,s,a.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(Dt.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:g.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});r1e.displayName=n1e;var qd="ScrollAreaScrollbar",i1e=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ac(qd,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=i,s=e.orientation==="horizontal";return C.useEffect(()=>(s?o(!0):a(!0),()=>{s?o(!1):a(!1)}),[s,o,a]),i.type==="hover"?g.jsx($Ct,{...r,ref:t,forceMount:n}):i.type==="scroll"?g.jsx(HCt,{...r,ref:t,forceMount:n}):i.type==="auto"?g.jsx(o1e,{...r,ref:t,forceMount:n}):i.type==="always"?g.jsx(rz,{...r,ref:t}):null});i1e.displayName=qd;var $Ct=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ac(qd,e.__scopeScrollArea),[o,a]=C.useState(!1);return C.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),a(!0)},u=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(Fo,{present:n||o,children:g.jsx(o1e,{"data-state":o?"visible":"hidden",...r,ref:t})})}),HCt=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ac(qd,e.__scopeScrollArea),o=e.orientation==="horizontal",a=l3(()=>l("SCROLL_END"),100),[s,l]=jCt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),C.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let d=c[u];const p=()=>{const m=c[u];d!==m&&(l("SCROLL"),a()),d=m};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[i.viewport,o,l,a]),g.jsx(Fo,{present:n||s!=="hidden",children:g.jsx(rz,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:dt(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:dt(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),o1e=C.forwardRef((e,t)=>{const n=Ac(qd,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,a]=C.useState(!1),s=e.orientation==="horizontal",l=l3(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;a(s?c:u)}},10);return V1(n.viewport,l),V1(n.content,l),g.jsx(Fo,{present:r||o,children:g.jsx(rz,{"data-state":o?"visible":"hidden",...i,ref:t})})}),rz=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Ac(qd,e.__scopeScrollArea),o=C.useRef(null),a=C.useRef(0),[s,l]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=u1e(s.viewport,s.content),u={...r,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function d(p,m){return WCt(p,a.current,s,m)}return n==="horizontal"?g.jsx(FCt,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollLeft,m=Zne(p,s,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=d(p,i.dir))}}):n==="vertical"?g.jsx(UCt,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollTop,m=Zne(p,s);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=d(p))}}):null}),FCt=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Ac(qd,e.__scopeScrollArea),[a,s]=C.useState(),l=C.useRef(null),c=An(t,l,o.onScrollbarXChange);return C.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),g.jsx(s1e,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":s3(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(o.viewport){const p=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),f1e(p,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:YM(a.paddingLeft),paddingEnd:YM(a.paddingRight)}})}})}),UCt=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Ac(qd,e.__scopeScrollArea),[a,s]=C.useState(),l=C.useRef(null),c=An(t,l,o.onScrollbarYChange);return C.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),g.jsx(s1e,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":s3(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(o.viewport){const p=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),f1e(p,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:YM(a.paddingTop),paddingEnd:YM(a.paddingBottom)}})}})}),[zCt,a1e]=e1e(qd),s1e=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...p}=e,m=Ac(qd,n),[v,x]=C.useState(null),w=An(t,B=>x(B)),T=C.useRef(null),k=C.useRef(""),N=m.viewport,I=r.content-r.viewport,O=Co(u),A=Co(l),R=l3(d,10);function L(B){if(T.current){const $=B.clientX-T.current.left,q=B.clientY-T.current.top;c({x:$,y:q})}}return C.useEffect(()=>{const B=$=>{const q=$.target;v?.contains(q)&&O($,I)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[N,v,I,O]),C.useEffect(A,[r,A]),V1(v,R),V1(m.content,R),g.jsx(zCt,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Co(o),onThumbPointerUp:Co(a),onThumbPositionChange:A,onThumbPointerDown:Co(s),children:g.jsx(Dt.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:dt(e.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),T.current=v.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),L(B))}),onPointerMove:dt(e.onPointerMove,L),onPointerUp:dt(e.onPointerUp,B=>{const $=B.target;$.hasPointerCapture(B.pointerId)&&$.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=k.current,m.viewport&&(m.viewport.style.scrollBehavior=""),T.current=null})})})}),WM="ScrollAreaThumb",l1e=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=a1e(WM,e.__scopeScrollArea);return g.jsx(Fo,{present:n||i.hasThumb,children:g.jsx(VCt,{ref:t,...r})})}),VCt=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=Ac(WM,n),a=a1e(WM,n),{onThumbPositionChange:s}=a,l=An(t,d=>a.onThumbChange(d)),c=C.useRef(void 0),u=l3(()=>{c.current&&(c.current(),c.current=void 0)},100);return C.useEffect(()=>{const d=o.viewport;if(d){const p=()=>{if(u(),!c.current){const m=YCt(d,s);c.current=m,s()}};return s(),d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[o.viewport,u,s]),g.jsx(Dt.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:dt(e.onPointerDownCapture,d=>{const m=d.target.getBoundingClientRect(),v=d.clientX-m.left,x=d.clientY-m.top;a.onThumbPointerDown({x:v,y:x})}),onPointerUp:dt(e.onPointerUp,a.onThumbPointerUp)})});l1e.displayName=WM;var iz="ScrollAreaCorner",c1e=C.forwardRef((e,t)=>{const n=Ac(iz,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(qCt,{...e,ref:t}):null});c1e.displayName=iz;var qCt=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Ac(iz,n),[o,a]=C.useState(0),[s,l]=C.useState(0),c=!!(o&&s);return V1(i.scrollbarX,()=>{const u=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(u),l(u)}),V1(i.scrollbarY,()=>{const u=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(u),a(u)}),c?g.jsx(Dt.div,{...r,ref:t,style:{width:o,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function YM(e){return e?parseInt(e,10):0}function u1e(e,t){const n=e/t;return isNaN(n)?0:n}function s3(e){const t=u1e(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function WCt(e,t,n,r="ltr"){const i=s3(n),o=i/2,a=t||o,s=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return d1e([l,c],d)(e)}function Zne(e,t,n="ltr"){const r=s3(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,a=t.content-t.viewport,s=o-r,l=n==="ltr"?[0,a]:[a*-1,0],c=M8(e,l);return d1e([0,a],[0,s])(c)}function d1e(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function f1e(e,t){return e>0&&e<t}var YCt=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const o={left:e.scrollLeft,top:e.scrollTop},a=n.left!==o.left,s=n.top!==o.top;(a||s)&&t(),n=o,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function l3(e,t){const n=Co(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function V1(e,t){const n=Co(t);Xi(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var GCt=t1e,KCt=r1e,XCt=c1e;function ZCt({className:e,children:t,...n}){return g.jsxs(GCt,{"data-slot":"scroll-area",className:Ie("relative",e),...n,children:[g.jsx(KCt,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),g.jsx(QCt,{}),g.jsx(XCt,{})]})}function QCt({className:e,orientation:t="vertical",...n}){return g.jsx(i1e,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Ie("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:g.jsx(l1e,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function JCt({visible:e,className:t}){const n=ft(I=>I.deleteComment),r=ft(I=>I.createComment),i=ft(I=>I.updateComment),o=ft(I=>I.pendingComment),a=ft(I=>I.comments),[s,l]=C.useState(!1),[c,u]=C.useState(""),[d,p]=C.useState(""),[m,v]=C.useState(new Date),[x,w]=C.useState(new Date),T=I=>{l(I),I?(u(""),p(""),v(new Date),w(new Date)):k()},k=async()=>{!d||!m||!x||(await r({emoji:c,title:d,start:m,end:x}),l(!1))},N=async I=>{I.id!==void 0&&await i({id:I.id,emoji:I.emoji,title:I.title,start:I.start,end:I.end})};return g.jsx("div",{className:Ie("border-l bg-background flex flex-col transition-all duration-300 ease-in-out overflow-hidden",e?"w-[400px]":"w-0 border-l-0",t),children:g.jsxs("div",{className:"w-[400px] flex flex-col h-full",children:[g.jsxs("div",{className:"py-2 px-6 flex items-center justify-between text-muted-foreground",children:[g.jsx("h3",{children:"Time annotations"}),g.jsxs(Ec,{open:s,onOpenChange:T,children:[g.jsx(Cc,{asChild:!0,children:g.jsx(yi,{variant:"ghost",size:"icon",className:"cursor-pointer",children:g.jsx(OH,{className:"size-5"})})}),g.jsx(Tc,{className:"w-[405px]",align:"start",children:g.jsx(Jve,{emoji:c,setEmoji:u,title:d,setTitle:p,start:m,setStart:v,end:x,setEnd:w,isEditing:!1})})]})]}),g.jsx(Od,{}),g.jsx(ZCt,{className:"flex-1",children:g.jsxs("div",{className:"divide-y",children:[a.map(I=>g.jsx(Xne,{comment:I,onDelete:n,onUpdate:N},I.id)),o&&g.jsx(Xne,{comment:o,onDelete:n})]})})]})})}const Qne=[{label:"Last 15 minutes",value:"15m"},{label:"Last 30 minutes",value:"30m"},{label:"Last hour",value:"1h"},{label:"Last 6 hours",value:"6h"},{label:"Last 12 hours",value:"12h"},{label:"Last 24 hours",value:"24h"},{label:"Last 7 days",value:"7d"},{label:"Last 30 days",value:"30d"},{label:"Today",value:"today"},{label:"This week",value:"w"}];function eTt({value:e,onChange:t,className:n}){const[r,i]=C.useState(!1),[o,a]=C.useState(!1),[s,l]=C.useState(void 0),[c,u]=C.useState(void 0),{start:d,end:p}=C.useMemo(()=>z6(e),[e]);C.useEffect(()=>{l(d),u(p)},[d,p]);const m=()=>{if(e.type==="relative"){const w=Qne.find(T=>T.value===e.metadata.value);if(w)return w.label}return`${Kf(d,"MMM d, HH:mm")} - ${Kf(p,"MMM d, HH:mm")}`},v=w=>{t({type:"relative",metadata:{value:w}}),i(!1)},x=()=>{if(!s||!c)return;t({type:"absolute",metadata:{start:s,end:c}}),i(!1)};return g.jsxs(Ec,{open:r,onOpenChange:i,children:[g.jsx(Cc,{asChild:!0,children:g.jsxs(yi,{variant:"ghost",size:"sm",className:Ie("justify-between text-sm text-muted-foreground gap-0",n),children:[g.jsx(_ie,{className:"mr-2 h-4 w-4"}),m()]})}),g.jsx(Tc,{className:"w-80 p-0",align:"end",children:o?g.jsxs("div",{className:"p-3 space-y-4",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Jf,{className:"text-xs",children:"Start Date & Time"}),g.jsx(qM,{date:s,setDate:l,buttonClassName:"w-full",defaultTime:{hours:0,minutes:0,seconds:0}})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Jf,{className:"text-xs",children:"End Date & Time"}),g.jsx(qM,{date:c,setDate:u,buttonClassName:"w-full",defaultTime:{hours:23,minutes:59,seconds:59}})]})]}),g.jsx(Od,{className:"my-2"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs(yi,{variant:"ghost",size:"sm",onClick:()=>a(!1),children:[g.jsx(Nie,{className:"h-3.5 w-3.5"}),"Back"]}),g.jsx(yi,{variant:"default",size:"sm",onClick:x,children:"Apply"})]})]}):g.jsxs("div",{className:"p-3 space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Quick Ranges"}),g.jsx("div",{className:"grid grid-cols-2 gap-2",children:Qne.map(w=>g.jsx(yi,{variant:e?.type==="relative"&&e.metadata.value===w.value?"default":"outline",size:"sm",className:"text-xs h-7",onClick:()=>v(w.value),children:w.label},w.label))})]}),g.jsx(Od,{}),g.jsx(yi,{variant:"outline",size:"sm",className:"w-full text-xs h-7",onClick:()=>{l(d),u(p),a(!0)},children:"Custom range..."})]})})]})}function tTt({timeWindow:e,filters:t,availableLabels:n,onTimeWindowChange:r,onFiltersChange:i}){return g.jsxs("div",{className:"flex items-center flex-wrap gap-0",children:[g.jsx(vy,{availableLabels:n,filters:t,onFiltersChange:i}),g.jsx(eTt,{value:e,onChange:r})]})}function nTt(){const{tenant:e,notebookId:t}=Pd(),n=TR(O=>O.setCurrentTenant),r=dc(O=>O.labels),i=ft(O=>O.currentNotebook),o=iD(O=>O.toggleSidebar),a=ft(O=>O.currentNotebook?.timeWindow),s=ft(O=>O.currentNotebook?.filters),l=ft(O=>O.setCurrentNotebook),c=ft(O=>O.updateNotebook),u=ft(O=>O.loading),d=ft(O=>O.fetchFlows),p=ft(O=>O.fetchMetrics),m=ft(O=>O.notebookCreating),v=ft(O=>O.openBlockSettings),x=ft(O=>O.startDate),w=ft(O=>O.endDate),T=ft(O=>O.commentsDrawerOpen),k=ft(O=>O.toggleCommentsDrawer),N=ft(O=>O.fetchComments),I=e?decodeURIComponent(e):"";return C.useEffect(()=>{x===null||w===null||N(void 0,x,w)},[x,w,N]),C.useEffect(()=>{!e||!t||u||(n(e),l(e,t))},[t,e,l,u,n]),C.useEffect(()=>{!e||x===null||w===null||s===void 0||t===void 0||(d(e,x,w,s,t),p())},[e,d,p,x,w,s,t]),g.jsxs("div",{className:"flex-1 flex h-screen min-w-0",children:[g.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[g.jsxs("div",{className:"flex items-center justify-between gap-4 px-8 py-3",children:[g.jsxs("nav",{className:"flex items-center text-muted-foreground gap-1",children:[g.jsxs(yi,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:o,children:[g.jsx(NH,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Toggle sidebar"})]}),g.jsx(Od,{orientation:"vertical",className:"h-4 mr-2 text-secondary-foreground"}),g.jsx(Sd,{to:"/",className:"hover:text-foreground transition-colors font-lg",children:g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d"})}),"/",g.jsx(Sd,{to:`/tenants/${encodeURIComponent(I)}`,className:"hover:text-foreground transition-colors font-medium",children:I}),"/",g.jsx("span",{className:"font-medium text-foreground",children:i?i.title:""})]}),g.jsxs("div",{className:"flex items-center gap-0",children:[a!==void 0&&s!==void 0&&g.jsx(tTt,{timeWindow:a,filters:s,availableLabels:r,onTimeWindowChange:O=>{i&&c(I,i,{timeWindow:O})},onFiltersChange:O=>{i&&c(I,i,{filters:O})}}),i&&g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(yi,{variant:"ghost",size:"sm",className:"justify-start text-sm text-muted-foreground h-6",onClick:()=>{i&&c(I,i,{isPublic:!i.isPublic})},children:i.isPublic?g.jsx(uke,{className:"size-4"}):g.jsx(Fke,{className:"size-4"})})}),g.jsx(Hr,{children:i.isPublic?"Notebook is public - click to make private":"Notebook is private - click to make public"})]}),g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsx(yi,{variant:"ghost",size:"sm",className:"justify-start text-sm text-muted-foreground h-6",onClick:k,children:T?g.jsx(UTe,{className:"size-5"}):g.jsx(ATe,{className:"size-4"})})}),g.jsx(Hr,{children:T?"Hide annotations":"Show annotations"})]})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i&&!m&&g.jsx(hve,{tenantName:I,notebook:i,openBlockSettings:v,updateNotebook:c}),(!i||m)&&g.jsx("div",{className:"mx-auto py-12",children:g.jsxs("div",{className:"mx-32 space-y-4",children:[g.jsx("div",{className:"h-7 w-3/4 bg-muted rounded-lg animate-pulse"}),g.jsx("div",{className:"h-7 w-1/2 bg-muted rounded-lg animate-pulse"})]})})]})]}),g.jsx(JCt,{visible:T})]})}function rTt(){const{tenant:e,notebookId:t}=Pd(),n=TR(d=>d.setCurrentTenant),r=ft(d=>d.setCurrentNotebook),i=ft(d=>d.currentNotebook),[o,a]=C.useState(!0),[s,l]=C.useState(null),c=e?decodeURIComponent(e):"",u=ft(d=>d.fetchComments);return C.useEffect(()=>{t&&u(t)},[t,u]),C.useEffect(()=>{(async()=>{if(!(!c||!t)){a(!0),l(null);try{const p=await tE.getOne(t);if(!p){l("Notebook not found");return}n(c),r(c,void 0,p)}catch(p){console.error("Failed to fetch notebook:",p),l("Failed to load notebook")}finally{a(!1)}}})()},[c,t,r,n]),o?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"mx-auto py-12",children:g.jsxs("div",{className:"mx-32 space-y-4",children:[g.jsx("div",{className:"h-7 w-3/4 bg-muted rounded-lg animate-pulse"}),g.jsx("div",{className:"h-7 w-1/2 bg-muted rounded-lg animate-pulse"})]})})}):s?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Error"}),g.jsx("p",{className:"text-muted-foreground",children:s})]})}):i?g.jsx("div",{className:"min-h-screen",children:g.jsx(hve,{tenantName:c,notebook:i,editable:!1,openBlockSettings:()=>{},updateNotebook:()=>{}})}):g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"text-lg text-muted-foreground",children:"Notebook not found"})})}const k6=14;function iTt({tenant:e}){const[t,n]=C.useState([]),[r,i]=C.useState(!0),[o,a]=C.useState(1),[s,l]=C.useState(!1),[c,u]=C.useState(null);C.useEffect(()=>{e&&(async()=>{i(!0);try{const{range:N}=await D0.list();n(N)}catch(N){console.error("Failed to fetch metrics:",N),n([])}finally{i(!1)}})()},[e]);const d=Math.ceil(t.length/k6),p=(o-1)*k6,m=p+k6,v=t.slice(p,m),x=()=>{a(k=>Math.max(1,k-1))},w=()=>{a(k=>Math.min(d,k+1))},T=k=>{u(k),l(!0)};return r?g.jsx(rx,{columns:2,rows:5}):g.jsxs(g.Fragment,{children:[c&&g.jsx(cve,{open:s,onOpenChange:l,metricName:c.prometheusName,prettyName:c.prettyName,unit:c.unit,transform:c.transform,tenantName:e,startDate:Q1(new Date,-7),endDate:new Date,filters:[],groupBy:c.labels,groupByFn:c.groupBy[0]}),g.jsxs(sy,{children:[g.jsx(ly,{children:g.jsxs(wa,{children:[g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(kH,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Name"})]})}),g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(_T,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})})]})}),g.jsx(cy,{children:v.map((k,N)=>{const I=p+N;return g.jsx(F.Fragment,{children:g.jsxs(wa,{className:"group cursor-pointer hover:bg-muted/50",children:[g.jsx(_i,{children:g.jsxs("div",{className:"relative flex items-center gap-2",children:[g.jsx("span",{children:k.prettyName}),g.jsxs(Jr,{children:[g.jsx(ei,{asChild:!0,children:g.jsxs("div",{className:"absolute -right-3 -top-2 px-2 py-1.5 rounded-b-lg border border-t-0 bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1 opacity-0 shadow-xs ",onClick:O=>{O.stopPropagation(),T(k)},children:[g.jsx(oD,{className:"size-4 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground ",children:"History"})]})}),g.jsx(Hr,{children:g.jsx("p",{children:"View metric history"})})]})]})}),g.jsx(_i,{children:g.jsx("div",{className:"flex flex-wrap gap-1",children:k.labels.map(O=>g.jsx(rh,{labelKey:O,readonly:!0},O))})})]})},`${k.prometheusName}-${I}-fragment`)})})]}),g.jsx(CR,{currentPage:o,totalPages:d,onPreviousPage:x,onNextPage:w})]})}const _6=14;function oTt({tenant:e}){const[t,n]=C.useState([]),[r,i]=C.useState(!0),[o,a]=C.useState(1);C.useEffect(()=>{e&&(async()=>{i(!0);try{const v=await ay.list();n(v)}catch(v){console.error("Failed to fetch flows:",v),n([])}finally{i(!1)}})()},[e]);const s=Math.ceil(t.length/_6),l=(o-1)*_6,c=l+_6,u=t.slice(l,c),d=()=>{a(m=>Math.max(1,m-1))},p=()=>{a(m=>Math.min(s,m+1))};return r?g.jsx(rx,{columns:2,rows:5}):t.length===0?g.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No flows found"}):g.jsxs(g.Fragment,{children:[g.jsxs(sy,{children:[g.jsx(ly,{children:g.jsxs(wa,{children:[g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Fie,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Flow Name"})]})}),g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(v2e,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})})]})}),g.jsx(cy,{children:u.map((m,v)=>{const x=l+v;return g.jsx(F.Fragment,{children:g.jsxs(wa,{className:"hover:bg-muted/50",children:[g.jsx(_i,{children:g.jsx("span",{children:m.name})}),g.jsx(_i,{children:g.jsx("div",{className:"flex flex-wrap gap-1",children:m.labels.map(w=>g.jsx(rh,{labelKey:w,readonly:!0},w))})})]})},`${m.name}-${x}-fragment`)})})]}),g.jsx(CR,{currentPage:o,totalPages:s,onPreviousPage:d,onNextPage:p})]})}const aTt=Rge,h1e=C.forwardRef(({className:e,...t},n)=>g.jsx(F7,{ref:n,className:Ie("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));h1e.displayName=F7.displayName;const sH=C.forwardRef(({className:e,...t},n)=>g.jsx(U7,{ref:n,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));sH.displayName=U7.displayName;const lH=C.forwardRef(({className:e,...t},n)=>g.jsx(z7,{ref:n,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));lH.displayName=z7.displayName;function sTt(){const{tenant:e}=Pd(),[t,n]=Rwe(),r=TR(l=>l.setCurrentTenant),i=iD(l=>l.toggleSidebar),o=e?decodeURIComponent(e):"",a=t.get("tab")||"metrics",s=l=>{n({tab:l})};return C.useEffect(()=>{r(o)},[o,r]),g.jsxs("div",{className:"flex-1 min-w-0 space-y-6 px-8 py-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-4",children:g.jsxs("nav",{className:"flex items-center text-muted-foreground gap-1",children:[g.jsxs(yi,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:i,children:[g.jsx(NH,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Toggle sidebar"})]}),g.jsx(Od,{orientation:"vertical",className:"h-4 mr-2 text-secondary-foreground"}),g.jsx(Sd,{to:"/",className:"hover:text-foreground transition-colors font-lg",children:g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d"})}),"/",g.jsx(Sd,{to:`/tenants/${encodeURIComponent(o)}`,className:"hover:text-foreground transition-colors font-medium",children:o})]})}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[g.jsx(Rie,{className:"h-8 w-8 text-muted-foreground"}),o]}),g.jsxs("p",{className:"text-sm text-secondary-foreground",children:[a==="metrics"&&"Overview of key metrics and performance indicators",a==="flows"&&"View and analyze workflow executions"]})]}),g.jsxs(aTt,{value:a,onValueChange:s,children:[g.jsxs(h1e,{children:[g.jsxs(sH,{value:"metrics",className:"flex items-center gap-2",children:[g.jsx(DTe,{className:"h-4 w-4"}),"Metrics"]}),g.jsxs(sH,{value:"flows",className:"flex items-center gap-2",children:[g.jsx(Fie,{className:"h-4 w-4"}),"Flows"]})]}),g.jsx(lH,{value:"metrics",className:"space-y-4",children:g.jsx(iTt,{tenant:o})}),g.jsx(lH,{value:"flows",className:"space-y-4",children:g.jsx(oTt,{tenant:o})})]})]})}function A6({children:e}){const t=LH(r=>r.isAuthenticated),n=Cu();if(!t){const r=n.pathname.match(/^\/tenants\/([^/]+)\/notebooks\/([^/]+)$/);if(r){const[,i,o]=r;return g.jsx(Lz,{to:`/view/${i}/notebooks/${o}`,replace:!0})}return g.jsx(Lz,{to:"/login",replace:!0})}return g.jsx(g.Fragment,{children:e})}const lTt=kwe([{path:"/login",element:g.jsx(sMe,{})},{path:"/view/:tenant/notebooks/:notebookId",element:g.jsx(rTt,{})},{path:"/",element:g.jsx(A6,{children:g.jsx(UI,{children:g.jsx(nMe,{})})})},{path:"/tenants/:tenant",element:g.jsx(A6,{children:g.jsx(UI,{children:g.jsx(sTt,{})})})},{path:"/tenants/:tenant/notebooks/:notebookId",element:g.jsx(A6,{children:g.jsx(UI,{children:g.jsx(nTt,{})})})}]);A1e.createRoot(document.getElementById("root")).render(g.jsx(C.StrictMode,{children:g.jsx(wl,{delayDuration:200,children:g.jsx($we,{router:lTt})})}));
