function j1e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hI={exports:{}},wE={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dz;function B1e(){if(dz)return wE;dz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var s in i)s!=="key"&&(o[s]=i[s])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:a,ref:i!==void 0?i:null,props:o}}return wE.Fragment=t,wE.jsx=n,wE.jsxs=n,wE}var fz;function $1e(){return fz||(fz=1,hI.exports=B1e()),hI.exports}var g=$1e(),pI={exports:{}},pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hz;function H1e(){if(hz)return pn;hz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),u=Symbol.for("react.activity"),p=Symbol.iterator;function m(Q){return Q===null||typeof Q!="object"?null:(Q=p&&Q[p]||Q["@@iterator"],typeof Q=="function"?Q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function T(Q,te,z){this.props=Q,this.context=te,this.refs=w,this.updater=z||v}T.prototype.isReactComponent={},T.prototype.setState=function(Q,te){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,te,"setState")},T.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function k(){}k.prototype=T.prototype;function N(Q,te,z){this.props=Q,this.context=te,this.refs=w,this.updater=z||v}var I=N.prototype=new k;I.constructor=N,x(I,T.prototype),I.isPureReactComponent=!0;var M=Array.isArray;function A(){}var R={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function B(Q,te,z){var fe=z.ref;return{$$typeof:e,type:Q,key:te,ref:fe!==void 0?fe:null,props:z}}function $(Q,te){return B(Q.type,te,Q.props)}function W(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e}function V(Q){var te={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(z){return te[z]})}var Y=/\/+/g;function U(Q,te){return typeof Q=="object"&&Q!==null&&Q.key!=null?V(""+Q.key):te.toString(36)}function X(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(A,A):(Q.status="pending",Q.then(function(te){Q.status==="pending"&&(Q.status="fulfilled",Q.value=te)},function(te){Q.status==="pending"&&(Q.status="rejected",Q.reason=te)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function q(Q,te,z,fe,me){var ke=typeof Q;(ke==="undefined"||ke==="boolean")&&(Q=null);var Ee=!1;if(Q===null)Ee=!0;else switch(ke){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(Q.$$typeof){case e:case t:Ee=!0;break;case d:return Ee=Q._init,q(Ee(Q._payload),te,z,fe,me)}}if(Ee)return me=me(Q),Ee=fe===""?"."+U(Q,0):fe,M(me)?(z="",Ee!=null&&(z=Ee.replace(Y,"$&/")+"/"),q(me,te,z,"",function(je){return je})):me!=null&&(W(me)&&(me=$(me,z+(me.key==null||Q&&Q.key===me.key?"":(""+me.key).replace(Y,"$&/")+"/")+Ee)),te.push(me)),1;Ee=0;var ve=fe===""?".":fe+":";if(M(Q))for(var we=0;we<Q.length;we++)fe=Q[we],ke=ve+U(fe,we),Ee+=q(fe,te,z,ke,me);else if(we=m(Q),typeof we=="function")for(Q=we.call(Q),we=0;!(fe=Q.next()).done;)fe=fe.value,ke=ve+U(fe,we++),Ee+=q(fe,te,z,ke,me);else if(ke==="object"){if(typeof Q.then=="function")return q(X(Q),te,z,fe,me);throw te=String(Q),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ne(Q,te,z){if(Q==null)return Q;var fe=[],me=0;return q(Q,fe,"","",function(ke){return te.call(z,ke,me++)}),fe}function Z(Q){if(Q._status===-1){var te=Q._result;te=te(),te.then(function(z){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=z)},function(z){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=z)}),Q._status===-1&&(Q._status=0,Q._result=te)}if(Q._status===1)return Q._result.default;throw Q._result}var oe=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},K={map:ne,forEach:function(Q,te,z){ne(Q,function(){te.apply(this,arguments)},z)},count:function(Q){var te=0;return ne(Q,function(){te++}),te},toArray:function(Q){return ne(Q,function(te){return te})||[]},only:function(Q){if(!W(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return pn.Activity=u,pn.Children=K,pn.Component=T,pn.Fragment=n,pn.Profiler=i,pn.PureComponent=N,pn.StrictMode=r,pn.Suspense=l,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,pn.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return R.H.useMemoCache(Q)}},pn.cache=function(Q){return function(){return Q.apply(null,arguments)}},pn.cacheSignal=function(){return null},pn.cloneElement=function(Q,te,z){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var fe=x({},Q.props),me=Q.key;if(te!=null)for(ke in te.key!==void 0&&(me=""+te.key),te)!L.call(te,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&te.ref===void 0||(fe[ke]=te[ke]);var ke=arguments.length-2;if(ke===1)fe.children=z;else if(1<ke){for(var Ee=Array(ke),ve=0;ve<ke;ve++)Ee[ve]=arguments[ve+2];fe.children=Ee}return B(Q.type,me,fe)},pn.createContext=function(Q){return Q={$$typeof:a,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:o,_context:Q},Q},pn.createElement=function(Q,te,z){var fe,me={},ke=null;if(te!=null)for(fe in te.key!==void 0&&(ke=""+te.key),te)L.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(me[fe]=te[fe]);var Ee=arguments.length-2;if(Ee===1)me.children=z;else if(1<Ee){for(var ve=Array(Ee),we=0;we<Ee;we++)ve[we]=arguments[we+2];me.children=ve}if(Q&&Q.defaultProps)for(fe in Ee=Q.defaultProps,Ee)me[fe]===void 0&&(me[fe]=Ee[fe]);return B(Q,ke,me)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(Q){return{$$typeof:s,render:Q}},pn.isValidElement=W,pn.lazy=function(Q){return{$$typeof:d,_payload:{_status:-1,_result:Q},_init:Z}},pn.memo=function(Q,te){return{$$typeof:c,type:Q,compare:te===void 0?null:te}},pn.startTransition=function(Q){var te=R.T,z={};R.T=z;try{var fe=Q(),me=R.S;me!==null&&me(z,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(A,oe)}catch(ke){oe(ke)}finally{te!==null&&z.types!==null&&(te.types=z.types),R.T=te}},pn.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},pn.use=function(Q){return R.H.use(Q)},pn.useActionState=function(Q,te,z){return R.H.useActionState(Q,te,z)},pn.useCallback=function(Q,te){return R.H.useCallback(Q,te)},pn.useContext=function(Q){return R.H.useContext(Q)},pn.useDebugValue=function(){},pn.useDeferredValue=function(Q,te){return R.H.useDeferredValue(Q,te)},pn.useEffect=function(Q,te){return R.H.useEffect(Q,te)},pn.useEffectEvent=function(Q){return R.H.useEffectEvent(Q)},pn.useId=function(){return R.H.useId()},pn.useImperativeHandle=function(Q,te,z){return R.H.useImperativeHandle(Q,te,z)},pn.useInsertionEffect=function(Q,te){return R.H.useInsertionEffect(Q,te)},pn.useLayoutEffect=function(Q,te){return R.H.useLayoutEffect(Q,te)},pn.useMemo=function(Q,te){return R.H.useMemo(Q,te)},pn.useOptimistic=function(Q,te){return R.H.useOptimistic(Q,te)},pn.useReducer=function(Q,te,z){return R.H.useReducer(Q,te,z)},pn.useRef=function(Q){return R.H.useRef(Q)},pn.useState=function(Q){return R.H.useState(Q)},pn.useSyncExternalStore=function(Q,te,z){return R.H.useSyncExternalStore(Q,te,z)},pn.useTransition=function(){return R.H.useTransition()},pn.version="19.2.0",pn}var pz;function fT(){return pz||(pz=1,pI.exports=H1e()),pI.exports}var C=fT();const F=vr(C),hT=j1e({__proto__:null,default:F},[C]);var mI={exports:{}},EE={},gI={exports:{}},yI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mz;function F1e(){return mz||(mz=1,(function(e){function t(q,ne){var Z=q.length;q.push(ne);e:for(;0<Z;){var oe=Z-1>>>1,K=q[oe];if(0<i(K,ne))q[oe]=ne,q[Z]=K,Z=oe;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ne=q[0],Z=q.pop();if(Z!==ne){q[0]=Z;e:for(var oe=0,K=q.length,Q=K>>>1;oe<Q;){var te=2*(oe+1)-1,z=q[te],fe=te+1,me=q[fe];if(0>i(z,Z))fe<K&&0>i(me,z)?(q[oe]=me,q[fe]=Z,oe=fe):(q[oe]=z,q[te]=Z,oe=te);else if(fe<K&&0>i(me,Z))q[oe]=me,q[fe]=Z,oe=fe;else break e}}return ne}function i(q,ne){var Z=q.sortIndex-ne.sortIndex;return Z!==0?Z:q.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],d=1,u=null,p=3,m=!1,v=!1,x=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function I(q){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=q)r(c),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=n(c)}}function M(q){if(x=!1,I(q),!v)if(n(l)!==null)v=!0,A||(A=!0,V());else{var ne=n(c);ne!==null&&X(M,ne.startTime-q)}}var A=!1,R=-1,L=5,B=-1;function $(){return w?!0:!(e.unstable_now()-B<L)}function W(){if(w=!1,A){var q=e.unstable_now();B=q;var ne=!0;try{e:{v=!1,x&&(x=!1,k(R),R=-1),m=!0;var Z=p;try{t:{for(I(q),u=n(l);u!==null&&!(u.expirationTime>q&&$());){var oe=u.callback;if(typeof oe=="function"){u.callback=null,p=u.priorityLevel;var K=oe(u.expirationTime<=q);if(q=e.unstable_now(),typeof K=="function"){u.callback=K,I(q),ne=!0;break t}u===n(l)&&r(l),I(q)}else r(l);u=n(l)}if(u!==null)ne=!0;else{var Q=n(c);Q!==null&&X(M,Q.startTime-q),ne=!1}}break e}finally{u=null,p=Z,m=!1}ne=void 0}}finally{ne?V():A=!1}}}var V;if(typeof N=="function")V=function(){N(W)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,U=Y.port2;Y.port1.onmessage=W,V=function(){U.postMessage(null)}}else V=function(){T(W,0)};function X(q,ne){R=T(function(){q(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(q){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var Z=p;p=ne;try{return q()}finally{p=Z}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=p;p=q;try{return ne()}finally{p=Z}},e.unstable_scheduleCallback=function(q,ne,Z){var oe=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?oe+Z:oe):Z=oe,q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Z+K,q={id:d++,callback:ne,priorityLevel:q,startTime:Z,expirationTime:K,sortIndex:-1},Z>oe?(q.sortIndex=Z,t(c,q),n(l)===null&&q===n(c)&&(x?(k(R),R=-1):x=!0,X(M,Z-oe))):(q.sortIndex=K,t(l,q),v||m||(v=!0,A||(A=!0,V()))),q},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(q){var ne=p;return function(){var Z=p;p=ne;try{return q.apply(this,arguments)}finally{p=Z}}}})(yI)),yI}var gz;function U1e(){return gz||(gz=1,gI.exports=F1e()),gI.exports}var bI={exports:{}},ma={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yz;function z1e(){if(yz)return ma;yz=1;var e=fT();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(l,c,d){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:u==null?null:""+u,children:l,containerInfo:c,implementation:d}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return ma.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ma.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return o(l,c,null,d)},ma.flushSync=function(l){var c=a.T,d=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=c,r.p=d,r.d.f()}},ma.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},ma.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},ma.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,u=s(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:u,integrity:p,fetchPriority:m}):d==="script"&&r.d.X(l,{crossOrigin:u,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},ma.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=s(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},ma.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,u=s(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},ma.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=s(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},ma.requestFormReset=function(l){r.d.r(l)},ma.unstable_batchedUpdates=function(l,c){return l(c)},ma.useFormState=function(l,c,d){return a.H.useFormState(l,c,d)},ma.useFormStatus=function(){return a.H.useHostTransitionStatus()},ma.version="19.2.0",ma}var bz;function ore(){if(bz)return bI.exports;bz=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bI.exports=z1e(),bI.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vz;function V1e(){if(vz)return EE;vz=1;var e=U1e(),t=fT(),n=ore();function r(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function o(f){var h=f,y=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(y=h.return),f=h.return;while(f)}return h.tag===3?y:null}function a(f){if(f.tag===13){var h=f.memoizedState;if(h===null&&(f=f.alternate,f!==null&&(h=f.memoizedState)),h!==null)return h.dehydrated}return null}function s(f){if(f.tag===31){var h=f.memoizedState;if(h===null&&(f=f.alternate,f!==null&&(h=f.memoizedState)),h!==null)return h.dehydrated}return null}function l(f){if(o(f)!==f)throw Error(r(188))}function c(f){var h=f.alternate;if(!h){if(h=o(f),h===null)throw Error(r(188));return h!==f?null:f}for(var y=f,E=h;;){var _=y.return;if(_===null)break;var D=_.alternate;if(D===null){if(E=_.return,E!==null){y=E;continue}break}if(_.child===D.child){for(D=_.child;D;){if(D===y)return l(_),f;if(D===E)return l(_),h;D=D.sibling}throw Error(r(188))}if(y.return!==E.return)y=_,E=D;else{for(var H=!1,J=_.child;J;){if(J===y){H=!0,y=_,E=D;break}if(J===E){H=!0,E=_,y=D;break}J=J.sibling}if(!H){for(J=D.child;J;){if(J===y){H=!0,y=D,E=_;break}if(J===E){H=!0,E=D,y=_;break}J=J.sibling}if(!H)throw Error(r(189))}}if(y.alternate!==E)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?f:h}function d(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(h=d(f),h!==null)return h;f=f.sibling}return null}var u=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function V(f){return f===null||typeof f!="object"?null:(f=W&&f[W]||f["@@iterator"],typeof f=="function"?f:null)}var Y=Symbol.for("react.client.reference");function U(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Y?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case x:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case A:return"SuspenseList";case B:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case v:return"Portal";case N:return f.displayName||"Context";case k:return(f._context.displayName||"Context")+".Consumer";case I:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case R:return h=f.displayName||null,h!==null?h:U(f.type)||"Memo";case L:h=f._payload,f=f._init;try{return U(f(h))}catch{}}return null}var X=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},oe=[],K=-1;function Q(f){return{current:f}}function te(f){0>K||(f.current=oe[K],oe[K]=null,K--)}function z(f,h){K++,oe[K]=f.current,f.current=h}var fe=Q(null),me=Q(null),ke=Q(null),Ee=Q(null);function ve(f,h){switch(z(ke,h),z(me,f),z(fe,null),h.nodeType){case 9:case 11:f=(f=h.documentElement)&&(f=f.namespaceURI)?Pg(f):0;break;default:if(f=h.tagName,h=h.namespaceURI)h=Pg(h),f=ha(h,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}te(fe),z(fe,f)}function we(){te(fe),te(me),te(ke)}function je(f){f.memoizedState!==null&&z(Ee,f);var h=fe.current,y=ha(h,f.type);h!==y&&(z(me,f),z(fe,y))}function Ke(f){me.current===f&&(te(fe),te(me)),Ee.current===f&&(te(Ee),ap._currentValue=Z)}var Me,Lt;function Ve(f){if(Me===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);Me=h&&h[1]||"",Lt=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+f+Lt}var an=!1;function cn(f,h){if(!f||an)return"";an=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(h){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Le){var De=Le}Reflect.construct(f,[],We)}else{try{We.call()}catch(Le){De=Le}f.call(We.prototype)}}else{try{throw Error()}catch(Le){De=Le}(We=f())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Le){if(Le&&De&&typeof Le.stack=="string")return[Le.stack,De.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=E.DetermineComponentFrameRoot(),H=D[0],J=D[1];if(H&&J){var de=H.split(`
`),Oe=J.split(`
`);for(_=E=0;E<de.length&&!de[E].includes("DetermineComponentFrameRoot");)E++;for(;_<Oe.length&&!Oe[_].includes("DetermineComponentFrameRoot");)_++;if(E===de.length||_===Oe.length)for(E=de.length-1,_=Oe.length-1;1<=E&&0<=_&&de[E]!==Oe[_];)_--;for(;1<=E&&0<=_;E--,_--)if(de[E]!==Oe[_]){if(E!==1||_!==1)do if(E--,_--,0>_||de[E]!==Oe[_]){var Ue=`
`+de[E].replace(" at new "," at ");return f.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",f.displayName)),Ue}while(1<=E&&0<=_);break}}}finally{an=!1,Error.prepareStackTrace=y}return(y=f?f.displayName||f.name:"")?Ve(y):""}function Qt(f,h){switch(f.tag){case 26:case 27:case 5:return Ve(f.type);case 16:return Ve("Lazy");case 13:return f.child!==h&&h!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return cn(f.type,!1);case 11:return cn(f.type.render,!1);case 1:return cn(f.type,!0);case 31:return Ve("Activity");default:return""}}function Yr(f){try{var h="",y=null;do h+=Qt(f,y),y=f,f=f.return;while(f);return h}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}var er=Object.prototype.hasOwnProperty,ce=e.unstable_scheduleCallback,xe=e.unstable_cancelCallback,Te=e.unstable_shouldYield,Je=e.unstable_requestPaint,Ze=e.unstable_now,Qe=e.unstable_getCurrentPriorityLevel,ge=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,it=e.unstable_NormalPriority,Nt=e.unstable_LowPriority,qt=e.unstable_IdlePriority,Zn=e.log,kn=e.unstable_setDisableYieldValue,or=null,Yn=null;function xr(f){if(typeof Zn=="function"&&kn(f),Yn&&typeof Yn.setStrictMode=="function")try{Yn.setStrictMode(or,f)}catch{}}var un=Math.clz32?Math.clz32:lt,wi=Math.log,Tt=Math.LN2;function lt(f){return f>>>=0,f===0?32:31-(wi(f)/Tt|0)|0}var ct=256,kt=262144,jt=4194304;function vt(f){var h=f&42;if(h!==0)return h;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function xt(f,h,y){var E=f.pendingLanes;if(E===0)return 0;var _=0,D=f.suspendedLanes,H=f.pingedLanes;f=f.warmLanes;var J=E&134217727;return J!==0?(E=J&~D,E!==0?_=vt(E):(H&=J,H!==0?_=vt(H):y||(y=J&~f,y!==0&&(_=vt(y))))):(J=E&~D,J!==0?_=vt(J):H!==0?_=vt(H):y||(y=E&~f,y!==0&&(_=vt(y)))),_===0?0:h!==0&&h!==_&&(h&D)===0&&(D=_&-_,y=h&-h,D>=y||D===32&&(y&4194048)!==0)?h:_}function on(f,h){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&h)===0}function Gn(f,h){switch(f){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var f=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),f}function fi(f){for(var h=[],y=0;31>y;y++)h.push(f);return h}function se(f,h){f.pendingLanes|=h,h!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function ye(f,h,y,E,_,D){var H=f.pendingLanes;f.pendingLanes=y,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=y,f.entangledLanes&=y,f.errorRecoveryDisabledLanes&=y,f.shellSuspendCounter=0;var J=f.entanglements,de=f.expirationTimes,Oe=f.hiddenUpdates;for(y=H&~y;0<y;){var Ue=31-un(y),We=1<<Ue;J[Ue]=0,de[Ue]=-1;var De=Oe[Ue];if(De!==null)for(Oe[Ue]=null,Ue=0;Ue<De.length;Ue++){var Le=De[Ue];Le!==null&&(Le.lane&=-536870913)}y&=~We}E!==0&&Re(f,E,0),D!==0&&_===0&&f.tag!==0&&(f.suspendedLanes|=D&~(H&~h))}function Re(f,h,y){f.pendingLanes|=h,f.suspendedLanes&=~h;var E=31-un(h);f.entangledLanes|=h,f.entanglements[E]=f.entanglements[E]|1073741824|y&261930}function Xe(f,h){var y=f.entangledLanes|=h;for(f=f.entanglements;y;){var E=31-un(y),_=1<<E;_&h|f[E]&h&&(f[E]|=h),y&=~_}}function nt(f,h){var y=h&-h;return y=(y&42)!==0?1:_t(y),(y&(f.suspendedLanes|h))!==0?0:y}function _t(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function bt(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function At(){var f=ne.p;return f!==0?f:(f=window.event,f===void 0?32:S_(f.type))}function $t(f,h){var y=ne.p;try{return ne.p=f,h()}finally{ne.p=y}}var Ht=Math.random().toString(36).slice(2),ft="__reactFiber$"+Ht,mt="__reactProps$"+Ht,xn="__reactContainer$"+Ht,mr="__reactEvents$"+Ht,Ni="__reactListeners$"+Ht,mo="__reactHandles$"+Ht,Rr="__reactResources$"+Ht,ar="__reactMarker$"+Ht;function Xs(f){delete f[ft],delete f[mt],delete f[mr],delete f[Ni],delete f[mo]}function fs(f){var h=f[ft];if(h)return h;for(var y=f.parentNode;y;){if(h=y[xn]||y[ft]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(f=a_(f);f!==null;){if(y=f[ft])return y;f=a_(f)}return h}f=y,y=f.parentNode}return null}function Zi(f){if(f=f[ft]||f[xn]){var h=f.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return f}return null}function Oo(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f.stateNode;throw Error(r(33))}function Ma(f){var h=f[Rr];return h||(h=f[Rr]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Gr(f){f[ar]=!0}var $l=new Set,Vd={};function Da(f,h){yn(f,h),yn(f+"Capture",h)}function yn(f,h){for(Vd[f]=h,f=0;f<h.length;f++)$l.add(h[f])}var $i=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},Hl={};function Ei(f){return er.call(Hl,f)?!0:er.call(_c,f)?!1:$i.test(f)?Hl[f]=!0:(_c[f]=!0,!1)}function Ac(f,h,y){if(Ei(h))if(y===null)f.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":f.removeAttribute(h);return;case"boolean":var E=h.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){f.removeAttribute(h);return}}f.setAttribute(h,""+y)}}function Nu(f,h,y){if(y===null)f.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(h);return}f.setAttribute(h,""+y)}}function hs(f,h,y,E){if(E===null)f.removeAttribute(y);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(y);return}f.setAttributeNS(h,y,""+E)}}function Ra(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function yy(f){var h=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function d3(f,h,y){var E=Object.getOwnPropertyDescriptor(f.constructor.prototype,h);if(!f.hasOwnProperty(h)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var _=E.get,D=E.set;return Object.defineProperty(f,h,{configurable:!0,get:function(){return _.call(this)},set:function(H){y=""+H,D.call(this,H)}}),Object.defineProperty(f,h,{enumerable:E.enumerable}),{getValue:function(){return y},setValue:function(H){y=""+H},stopTracking:function(){f._valueTracker=null,delete f[h]}}}}function by(f){if(!f._valueTracker){var h=yy(f)?"checked":"value";f._valueTracker=d3(f,h,""+f[h])}}function Om(f){if(!f)return!1;var h=f._valueTracker;if(!h)return!0;var y=h.getValue(),E="";return f&&(E=yy(f)?f.checked?"true":"false":f.value),f=E,f!==y?(h.setValue(f),!0):!1}function Mm(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var f3=/[\n"\\]/g;function Ia(f){return f.replace(f3,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function vy(f,h,y,E,_,D,H,J){f.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?f.type=H:f.removeAttribute("type"),h!=null?H==="number"?(h===0&&f.value===""||f.value!=h)&&(f.value=""+Ra(h)):f.value!==""+Ra(h)&&(f.value=""+Ra(h)):H!=="submit"&&H!=="reset"||f.removeAttribute("value"),h!=null?Ax(f,H,Ra(h)):y!=null?Ax(f,H,Ra(y)):E!=null&&f.removeAttribute("value"),_==null&&D!=null&&(f.defaultChecked=!!D),_!=null&&(f.checked=_&&typeof _!="function"&&typeof _!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?f.name=""+Ra(J):f.removeAttribute("name")}function xy(f,h,y,E,_,D,H,J){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(f.type=D),h!=null||y!=null){if(!(D!=="submit"&&D!=="reset"||h!=null)){by(f);return}y=y!=null?""+Ra(y):"",h=h!=null?""+Ra(h):y,J||h===f.value||(f.value=h),f.defaultValue=h}E=E??_,E=typeof E!="function"&&typeof E!="symbol"&&!!E,f.checked=J?f.checked:!!E,f.defaultChecked=!!E,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(f.name=H),by(f)}function Ax(f,h,y){h==="number"&&Mm(f.ownerDocument)===f||f.defaultValue===""+y||(f.defaultValue=""+y)}function qd(f,h,y,E){if(f=f.options,h){h={};for(var _=0;_<y.length;_++)h["$"+y[_]]=!0;for(y=0;y<f.length;y++)_=h.hasOwnProperty("$"+f[y].value),f[y].selected!==_&&(f[y].selected=_),_&&E&&(f[y].defaultSelected=!0)}else{for(y=""+Ra(y),h=null,_=0;_<f.length;_++){if(f[_].value===y){f[_].selected=!0,E&&(f[_].defaultSelected=!0);return}h!==null||f[_].disabled||(h=f[_])}h!==null&&(h.selected=!0)}}function wy(f,h,y){if(h!=null&&(h=""+Ra(h),h!==f.value&&(f.value=h),y==null)){f.defaultValue!==h&&(f.defaultValue=h);return}f.defaultValue=y!=null?""+Ra(y):""}function Ey(f,h,y,E){if(h==null){if(E!=null){if(y!=null)throw Error(r(92));if(X(E)){if(1<E.length)throw Error(r(93));E=E[0]}y=E}y==null&&(y=""),h=y}y=Ra(h),f.defaultValue=y,E=f.textContent,E===y&&E!==""&&E!==null&&(f.value=E),by(f)}function Zs(f,h){if(h){var y=f.firstChild;if(y&&y===f.lastChild&&y.nodeType===3){y.nodeValue=h;return}}f.textContent=h}var xk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nx(f,h,y){var E=h.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?E?f.setProperty(h,""):h==="float"?f.cssFloat="":f[h]="":E?f.setProperty(h,y):typeof y!="number"||y===0||xk.has(h)?h==="float"?f.cssFloat=y:f[h]=(""+y).trim():f[h]=y+"px"}function wk(f,h,y){if(h!=null&&typeof h!="object")throw Error(r(62));if(f=f.style,y!=null){for(var E in y)!y.hasOwnProperty(E)||h!=null&&h.hasOwnProperty(E)||(E.indexOf("--")===0?f.setProperty(E,""):E==="float"?f.cssFloat="":f[E]="");for(var _ in h)E=h[_],h.hasOwnProperty(_)&&y[_]!==E&&Nx(f,_,E)}else for(var D in h)h.hasOwnProperty(D)&&Nx(f,D,h[D])}function Sy(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ek=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dm(f){return Sk.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function Nc(){}var Ox=null;function Mx(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Wd=null,mh=null;function Ck(f){var h=Zi(f);if(h&&(f=h.stateNode)){var y=f[mt]||null;e:switch(f=h.stateNode,h.type){case"input":if(vy(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),h=y.name,y.type==="radio"&&h!=null){for(y=f;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Ia(""+h)+'"][type="radio"]'),h=0;h<y.length;h++){var E=y[h];if(E!==f&&E.form===f.form){var _=E[mt]||null;if(!_)throw Error(r(90));vy(E,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(h=0;h<y.length;h++)E=y[h],E.form===f.form&&Om(E)}break e;case"textarea":wy(f,y.value,y.defaultValue);break e;case"select":h=y.value,h!=null&&qd(f,!!y.multiple,h,!1)}}}var Dx=!1;function Tk(f,h,y){if(Dx)return f(h,y);Dx=!0;try{var E=f(h);return E}finally{if(Dx=!1,(Wd!==null||mh!==null)&&(kb(),Wd&&(h=Wd,f=mh,mh=Wd=null,Ck(h),f)))for(h=0;h<f.length;h++)Ck(f[h])}}function Yd(f,h){var y=f.stateNode;if(y===null)return null;var E=y[mt]||null;if(E===null)return null;y=E[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(f=f.type,E=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!E;break e;default:f=!1}if(f)return null;if(y&&typeof y!="function")throw Error(r(231,h,typeof y));return y}var Oc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rx=!1;if(Oc)try{var Rm={};Object.defineProperty(Rm,"passive",{get:function(){Rx=!0}}),window.addEventListener("test",Rm,Rm),window.removeEventListener("test",Rm,Rm)}catch{Rx=!1}var Ou=null,Ix=null,wr=null;function _r(){if(wr)return wr;var f,h=Ix,y=h.length,E,_="value"in Ou?Ou.value:Ou.textContent,D=_.length;for(f=0;f<y&&h[f]===_[f];f++);var H=y-f;for(E=1;E<=H&&h[y-E]===_[D-E];E++);return wr=_.slice(f,1<E?1-E:void 0)}function Cy(f){var h=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&h===13&&(f=13)):f=h,f===10&&(f=13),32<=f||f===13?f:0}function Ty(){return!0}function kk(){return!1}function na(f){function h(y,E,_,D,H){this._reactName=y,this._targetInst=_,this.type=E,this.nativeEvent=D,this.target=H,this.currentTarget=null;for(var J in f)f.hasOwnProperty(J)&&(y=f[J],this[J]=y?y(D):D[J]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Ty:kk,this.isPropagationStopped=kk,this}return u(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Ty)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Ty)},persist:function(){},isPersistent:Ty}),h}var Gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ky=na(Gd),gh=u({},Gd,{view:0,detail:0}),h3=na(gh),Hi,Im,Qs,Pm=u({},gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Qs&&(Qs&&f.type==="mousemove"?(Hi=f.screenX-Qs.screenX,Im=f.screenY-Qs.screenY):Im=Hi=0,Qs=f),Hi)},movementY:function(f){return"movementY"in f?f.movementY:Im}}),_y=na(Pm),ps=u({},Pm,{dataTransfer:0}),_k=na(ps),Ak=u({},gh,{relatedTarget:0}),Ay=na(Ak),Nk=u({},Gd,{animationName:0,elapsedTime:0,pseudoElement:0}),Ok=na(Nk),Mk=u({},Gd,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Pa=na(Mk),p3=u({},Gd,{data:0}),La=na(p3),m3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ny(f){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(f):(f=Mu[f])?!!h[f]:!1}function Lm(){return Ny}var Kr=u({},gh,{key:function(f){if(f.key){var h=m3[f.key]||f.key;if(h!=="Unidentified")return h}return f.type==="keypress"?(f=Cy(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Dk[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(f){return f.type==="keypress"?Cy(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Cy(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Du=na(Kr),Px=u({},Pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rk=na(Px),Lx=u({},gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),g3=na(Lx),y3=u({},Gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),b3=na(y3),Ik=u({},Pm,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Oy=na(Ik),yh=u({},Gd,{newState:0,oldState:0}),v3=na(yh),Pk=[9,13,27,32],My=Oc&&"CompositionEvent"in window,Kd=null;Oc&&"documentMode"in document&&(Kd=document.documentMode);var jx=Oc&&"TextEvent"in window&&!Kd,Bx=Oc&&(!My||Kd&&8<Kd&&11>=Kd),Lk=" ",Dy=!1;function Ry(f,h){switch(f){case"keyup":return Pk.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jk(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Xd=!1;function ja(f,h){switch(f){case"compositionend":return jk(h);case"keypress":return h.which!==32?null:(Dy=!0,Lk);case"textInput":return f=h.data,f===Lk&&Dy?null:f;default:return null}}function $x(f,h){if(Xd)return f==="compositionend"||!My&&Ry(f,h)?(f=_r(),wr=Ix=Ou=null,Xd=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Bx&&h.locale!=="ko"?null:h.data;default:return null}}var jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hx(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h==="input"?!!jm[f.type]:h==="textarea"}function Fx(f,h,y,E){Wd?mh?mh.push(E):mh=[E]:Wd=E,h=Mg(h,"onChange"),0<h.length&&(y=new ky("onChange","change",null,y,E),f.push({event:y,listeners:h}))}var Bm=null,$m=null;function x3(f){Z2(f,0)}function Iy(f){var h=Oo(f);if(Om(h))return f}function Bk(f,h){if(f==="change")return h}var Zd=!1;if(Oc){var Ux;if(Oc){var zx="oninput"in document;if(!zx){var Py=document.createElement("div");Py.setAttribute("oninput","return;"),zx=typeof Py.oninput=="function"}Ux=zx}else Ux=!1;Zd=Ux&&(!document.documentMode||9<document.documentMode)}function Vx(){Bm&&(Bm.detachEvent("onpropertychange",Mc),$m=Bm=null)}function Mc(f){if(f.propertyName==="value"&&Iy($m)){var h=[];Fx(h,$m,f,Mx(f)),Tk(x3,h)}}function Ly(f,h,y){f==="focusin"?(Vx(),Bm=h,$m=y,Bm.attachEvent("onpropertychange",Mc)):f==="focusout"&&Vx()}function w3(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Iy($m)}function E3(f,h){if(f==="click")return Iy(h)}function S3(f,h){if(f==="input"||f==="change")return Iy(h)}function bh(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var ai=typeof Object.is=="function"?Object.is:bh;function vh(f,h){if(ai(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var y=Object.keys(f),E=Object.keys(h);if(y.length!==E.length)return!1;for(E=0;E<y.length;E++){var _=y[E];if(!er.call(h,_)||!ai(f[_],h[_]))return!1}return!0}function $k(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Hk(f,h){var y=$k(f);f=0;for(var E;y;){if(y.nodeType===3){if(E=f+y.textContent.length,f<=h&&E>=h)return{node:y,offset:h-f};f=E}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=$k(y)}}function Fk(f,h){return f&&h?f===h?!0:f&&f.nodeType===3?!1:h&&h.nodeType===3?Fk(f,h.parentNode):"contains"in f?f.contains(h):f.compareDocumentPosition?!!(f.compareDocumentPosition(h)&16):!1:!1}function Uk(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var h=Mm(f.document);h instanceof f.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)f=h.contentWindow;else break;h=Mm(f.document)}return h}function qx(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h&&(h==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||h==="textarea"||f.contentEditable==="true")}var xh=Oc&&"documentMode"in document&&11>=document.documentMode,be=null,Fe=null,Pe=null,yt=!1;function sn(f,h,y){var E=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;yt||be==null||be!==Mm(E)||(E=be,"selectionStart"in E&&qx(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Pe&&vh(Pe,E)||(Pe=E,E=Mg(Fe,"onSelect"),0<E.length&&(h=new ky("onSelect","select",null,h,y),f.push({event:h,listeners:E}),h.target=be)))}function Nn(f,h){var y={};return y[f.toLowerCase()]=h.toLowerCase(),y["Webkit"+f]="webkit"+h,y["Moz"+f]="moz"+h,y}var Xr={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionrun:Nn("Transition","TransitionRun"),transitionstart:Nn("Transition","TransitionStart"),transitioncancel:Nn("Transition","TransitionCancel"),transitionend:Nn("Transition","TransitionEnd")},gr={},jy={};Oc&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function Qd(f){if(gr[f])return gr[f];if(!Xr[f])return f;var h=Xr[f],y;for(y in h)if(h.hasOwnProperty(y)&&y in jy)return gr[f]=h[y];return f}var Ba=Qd("animationend"),Hm=Qd("animationiteration"),zk=Qd("animationstart"),wh=Qd("transitionrun"),By=Qd("transitionstart"),$y=Qd("transitioncancel"),dr=Qd("transitionend"),Vk=new Map,Hy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hy.push("scrollEnd");function ra(f,h){Vk.set(f,h),Da(h,[f])}var Fy=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},ms=[],Eh=0,Sh=0;function Js(){for(var f=Eh,h=Sh=Eh=0;h<f;){var y=ms[h];ms[h++]=null;var E=ms[h];ms[h++]=null;var _=ms[h];ms[h++]=null;var D=ms[h];if(ms[h++]=null,E!==null&&_!==null){var H=E.pending;H===null?_.next=_:(_.next=H.next,H.next=_),E.pending=_}D!==0&&Wx(y,_,D)}}function Jd(f,h,y,E){ms[Eh++]=f,ms[Eh++]=h,ms[Eh++]=y,ms[Eh++]=E,Sh|=E,f.lanes|=E,f=f.alternate,f!==null&&(f.lanes|=E)}function Uy(f,h,y,E){return Jd(f,h,y,E),Fm(f)}function Fl(f,h){return Jd(f,null,null,h),Fm(f)}function Wx(f,h,y){f.lanes|=y;var E=f.alternate;E!==null&&(E.lanes|=y);for(var _=!1,D=f.return;D!==null;)D.childLanes|=y,E=D.alternate,E!==null&&(E.childLanes|=y),D.tag===22&&(f=D.stateNode,f===null||f._visibility&1||(_=!0)),f=D,D=D.return;return f.tag===3?(D=f.stateNode,_&&h!==null&&(_=31-un(y),f=D.hiddenUpdates,E=f[_],E===null?f[_]=[h]:E.push(h),h.lane=y|536870912),D):null}function Fm(f){if(50<Cg)throw Cg=0,qw=null,Error(r(185));for(var h=f.return;h!==null;)f=h,h=f.return;return f.tag===3?f.stateNode:null}var Dc={};function qk(f,h,y,E){this.tag=f,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function go(f,h,y,E){return new qk(f,h,y,E)}function Rc(f){return f=f.prototype,!(!f||!f.isReactComponent)}function gs(f,h){var y=f.alternate;return y===null?(y=go(f.tag,h,f.key,f.mode),y.elementType=f.elementType,y.type=f.type,y.stateNode=f.stateNode,y.alternate=f,f.alternate=y):(y.pendingProps=h,y.type=f.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=f.flags&65011712,y.childLanes=f.childLanes,y.lanes=f.lanes,y.child=f.child,y.memoizedProps=f.memoizedProps,y.memoizedState=f.memoizedState,y.updateQueue=f.updateQueue,h=f.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=f.sibling,y.index=f.index,y.ref=f.ref,y.refCleanup=f.refCleanup,y}function Wk(f,h){f.flags&=65011714;var y=f.alternate;return y===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,h=y.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),f}function zy(f,h,y,E,_,D){var H=0;if(E=f,typeof f=="function")Rc(f)&&(H=1);else if(typeof f=="string")H=iI(f,y,fe.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case B:return f=go(31,y,h,_),f.elementType=B,f.lanes=D,f;case x:return ef(y.children,_,D,h);case w:H=8,_|=24;break;case T:return f=go(12,y,h,_|2),f.elementType=T,f.lanes=D,f;case M:return f=go(13,y,h,_),f.elementType=M,f.lanes=D,f;case A:return f=go(19,y,h,_),f.elementType=A,f.lanes=D,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case N:H=10;break e;case k:H=9;break e;case I:H=11;break e;case R:H=14;break e;case L:H=16,E=null;break e}H=29,y=Error(r(130,f===null?"null":typeof f,"")),E=null}return h=go(H,y,h,_),h.elementType=f,h.type=E,h.lanes=D,h}function ef(f,h,y,E){return f=go(7,f,E,h),f.lanes=y,f}function Ch(f,h,y){return f=go(6,f,null,h),f.lanes=y,f}function Um(f){var h=go(18,null,null,0);return h.stateNode=f,h}function zm(f,h,y){return h=go(4,f.children!==null?f.children:[],f.key,h),h.lanes=y,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}var Yk=new WeakMap;function $a(f,h){if(typeof f=="object"&&f!==null){var y=Yk.get(f);return y!==void 0?y:(h={value:f,source:h,stack:Yr(h)},Yk.set(f,h),h)}return{value:f,source:h,stack:Yr(h)}}var Th=[],kh=0,hi=null,Oi=0,ys=[],bs=0,Ic=null,Ul=1,vs="";function Ha(f,h){Th[kh++]=Oi,Th[kh++]=hi,hi=f,Oi=h}function Vy(f,h,y){ys[bs++]=Ul,ys[bs++]=vs,ys[bs++]=Ic,Ic=f;var E=Ul;f=vs;var _=32-un(E)-1;E&=~(1<<_),y+=1;var D=32-un(h)+_;if(30<D){var H=_-_%5;D=(E&(1<<H)-1).toString(32),E>>=H,_-=H,Ul=1<<32-un(h)+_|y<<_|E,vs=D+f}else Ul=1<<D|y<<_|E,vs=f}function Ru(f){f.return!==null&&(Ha(f,1),Vy(f,1,0))}function tf(f){for(;f===hi;)hi=Th[--kh],Th[kh]=null,Oi=Th[--kh],Th[kh]=null;for(;f===Ic;)Ic=ys[--bs],ys[bs]=null,vs=ys[--bs],ys[bs]=null,Ul=ys[--bs],ys[bs]=null}function _h(f,h){ys[bs++]=Ul,ys[bs++]=vs,ys[bs++]=Ic,Ul=h.id,vs=h.overflow,Ic=f}var Mi=null,fr=null,Fn=!1,Iu=null,xs=!1,Yx=Error(r(519));function Pu(f){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ju($a(h,f)),Yx}function Vm(f){var h=f.stateNode,y=f.type,E=f.memoizedProps;switch(h[ft]=f,h[mt]=E,y){case"dialog":Mn("cancel",h),Mn("close",h);break;case"iframe":case"object":case"embed":Mn("load",h);break;case"video":case"audio":for(y=0;y<Og.length;y++)Mn(Og[y],h);break;case"source":Mn("error",h);break;case"img":case"image":case"link":Mn("error",h),Mn("load",h);break;case"details":Mn("toggle",h);break;case"input":Mn("invalid",h),xy(h,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0);break;case"select":Mn("invalid",h);break;case"textarea":Mn("invalid",h),Ey(h,E.value,E.defaultValue,E.children)}y=E.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||h.textContent===""+y||E.suppressHydrationWarning===!0||e_(h.textContent,y)?(E.popover!=null&&(Mn("beforetoggle",h),Mn("toggle",h)),E.onScroll!=null&&Mn("scroll",h),E.onScrollEnd!=null&&Mn("scrollend",h),E.onClick!=null&&(h.onclick=Nc),h=!0):h=!1,h||Pu(f,!0)}function Ah(f){for(Mi=f.return;Mi;)switch(Mi.tag){case 5:case 31:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:Mi=Mi.return}}function nf(f){if(f!==Mi)return!1;if(!Fn)return Ah(f),Fn=!0,!1;var h=f.tag,y;if((y=h!==3&&h!==27)&&((y=h===5)&&(y=f.type,y=!(y!=="form"&&y!=="button")||Ju(f.type,f.memoizedProps)),y=!y),y&&fr&&Pu(f),Ah(f),h===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));fr=o_(f)}else if(h===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));fr=o_(f)}else h===27?(h=fr,Jt(f.type)?(f=dE,dE=null,fr=f):fr=h):fr=Mi?_s(f.stateNode.nextSibling):null;return!0}function ee(){fr=Mi=null,Fn=!1}function Lu(){var f=Iu;return f!==null&&(ua===null?ua=f:ua.push.apply(ua,f),Iu=null),f}function ju(f){Iu===null?Iu=[f]:Iu.push(f)}var ia=Q(null),dn=null,Pc=null;function Bu(f,h,y){z(ia,h._currentValue),h._currentValue=y}function Lc(f){f._currentValue=ia.current,te(ia)}function jc(f,h,y){for(;f!==null;){var E=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),f===y)break;f=f.return}}function Gx(f,h,y,E){var _=f.child;for(_!==null&&(_.return=f);_!==null;){var D=_.dependencies;if(D!==null){var H=_.child;D=D.firstContext;e:for(;D!==null;){var J=D;D=_;for(var de=0;de<h.length;de++)if(J.context===h[de]){D.lanes|=y,J=D.alternate,J!==null&&(J.lanes|=y),jc(D.return,y,f),E||(H=null);break e}D=J.next}}else if(_.tag===18){if(H=_.return,H===null)throw Error(r(341));H.lanes|=y,D=H.alternate,D!==null&&(D.lanes|=y),jc(H,y,f),H=null}else H=_.child;if(H!==null)H.return=_;else for(H=_;H!==null;){if(H===f){H=null;break}if(_=H.sibling,_!==null){_.return=H.return,H=_;break}H=H.return}_=H}}function Nh(f,h,y,E){f=null;for(var _=h,D=!1;_!==null;){if(!D){if((_.flags&524288)!==0)D=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var H=_.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var J=_.type;ai(_.pendingProps.value,H.value)||(f!==null?f.push(J):f=[J])}}else if(_===Ee.current){if(H=_.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(f!==null?f.push(ap):f=[ap])}_=_.return}f!==null&&Gx(h,f,y,E),h.flags|=262144}function qy(f){for(f=f.firstContext;f!==null;){if(!ai(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function rf(f){dn=f,Pc=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function yo(f){return Gk(dn,f)}function ws(f,h){return dn===null&&rf(f),Gk(f,h)}function Gk(f,h){var y=h._currentValue;if(h={context:h,memoizedValue:y,next:null},Pc===null){if(f===null)throw Error(r(308));Pc=h,f.dependencies={lanes:0,firstContext:h},f.flags|=524288}else Pc=Pc.next=h;return y}var C3=typeof AbortController<"u"?AbortController:function(){var f=[],h=this.signal={aborted:!1,addEventListener:function(y,E){f.push(E)}};this.abort=function(){h.aborted=!0,f.forEach(function(y){return y()})}},T3=e.unstable_scheduleCallback,k3=e.unstable_NormalPriority,Di={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function el(){return{controller:new C3,data:new Map,refCount:0}}function qm(f){f.refCount--,f.refCount===0&&T3(k3,function(){f.controller.abort()})}var Wm=null,Kx=0,Oh=0,Mh=null;function of(f,h){if(Wm===null){var y=Wm=[];Kx=0,Oh=Ka(),Mh={status:"pending",value:void 0,then:function(E){y.push(E)}}}return Kx++,h.then(Kk,Kk),h}function Kk(){if(--Kx===0&&Wm!==null){Mh!==null&&(Mh.status="fulfilled");var f=Wm;Wm=null,Oh=0,Mh=null;for(var h=0;h<f.length;h++)(0,f[h])()}}function _3(f,h){var y=[],E={status:"pending",value:null,reason:null,then:function(_){y.push(_)}};return f.then(function(){E.status="fulfilled",E.value=h;for(var _=0;_<y.length;_++)(0,y[_])(h)},function(_){for(E.status="rejected",E.reason=_,_=0;_<y.length;_++)(0,y[_])(void 0)}),E}var Es=q.S;q.S=function(f,h){R2=Ze(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&of(f,h),Es!==null&&Es(f,h)};var af=Q(null);function Xx(){var f=af.current;return f!==null?f:Nr.pooledCache}function Wy(f,h){h===null?z(af,af.current):z(af,h.pool)}function Xk(){var f=Xx();return f===null?null:{parent:Di._currentValue,pool:f}}var Dh=Error(r(460)),Yy=Error(r(474)),Ym=Error(r(542)),Gy={then:function(){}};function Zk(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Ky(f,h,y){switch(y=f[y],y===void 0?f.push(h):y!==h&&(h.then(Nc,Nc),h=y),h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,Zx(f),f;default:if(typeof h.status=="string")h.then(Nc,Nc);else{if(f=Nr,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=h,f.status="pending",f.then(function(E){if(h.status==="pending"){var _=h;_.status="fulfilled",_.value=E}},function(E){if(h.status==="pending"){var _=h;_.status="rejected",_.reason=E}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,Zx(f),f}throw zl=h,Dh}}function tl(f){try{var h=f._init;return h(f._payload)}catch(y){throw y!==null&&typeof y=="object"&&typeof y.then=="function"?(zl=y,Dh):y}}var zl=null;function Qk(){if(zl===null)throw Error(r(459));var f=zl;return zl=null,f}function Zx(f){if(f===Dh||f===Ym)throw Error(r(483))}var Rh=null,Fa=0;function Ih(f){var h=Fa;return Fa+=1,Rh===null&&(Rh=[]),Ky(Rh,f,h)}function nl(f,h){h=h.props.ref,f.ref=h!==void 0?h:null}function zo(f,h){throw h.$$typeof===p?Error(r(525)):(f=Object.prototype.toString.call(h),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f)))}function Jk(f){function h(Se,pe){if(f){var Ne=Se.deletions;Ne===null?(Se.deletions=[pe],Se.flags|=16):Ne.push(pe)}}function y(Se,pe){if(!f)return null;for(;pe!==null;)h(Se,pe),pe=pe.sibling;return null}function E(Se){for(var pe=new Map;Se!==null;)Se.key!==null?pe.set(Se.key,Se):pe.set(Se.index,Se),Se=Se.sibling;return pe}function _(Se,pe){return Se=gs(Se,pe),Se.index=0,Se.sibling=null,Se}function D(Se,pe,Ne){return Se.index=Ne,f?(Ne=Se.alternate,Ne!==null?(Ne=Ne.index,Ne<pe?(Se.flags|=67108866,pe):Ne):(Se.flags|=67108866,pe)):(Se.flags|=1048576,pe)}function H(Se){return f&&Se.alternate===null&&(Se.flags|=67108866),Se}function J(Se,pe,Ne,qe){return pe===null||pe.tag!==6?(pe=Ch(Ne,Se.mode,qe),pe.return=Se,pe):(pe=_(pe,Ne),pe.return=Se,pe)}function de(Se,pe,Ne,qe){var Ft=Ne.type;return Ft===x?Ue(Se,pe,Ne.props.children,qe,Ne.key):pe!==null&&(pe.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===L&&tl(Ft)===pe.type)?(pe=_(pe,Ne.props),nl(pe,Ne),pe.return=Se,pe):(pe=zy(Ne.type,Ne.key,Ne.props,null,Se.mode,qe),nl(pe,Ne),pe.return=Se,pe)}function Oe(Se,pe,Ne,qe){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Ne.containerInfo||pe.stateNode.implementation!==Ne.implementation?(pe=zm(Ne,Se.mode,qe),pe.return=Se,pe):(pe=_(pe,Ne.children||[]),pe.return=Se,pe)}function Ue(Se,pe,Ne,qe,Ft){return pe===null||pe.tag!==7?(pe=ef(Ne,Se.mode,qe,Ft),pe.return=Se,pe):(pe=_(pe,Ne),pe.return=Se,pe)}function We(Se,pe,Ne){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=Ch(""+pe,Se.mode,Ne),pe.return=Se,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case m:return Ne=zy(pe.type,pe.key,pe.props,null,Se.mode,Ne),nl(Ne,pe),Ne.return=Se,Ne;case v:return pe=zm(pe,Se.mode,Ne),pe.return=Se,pe;case L:return pe=tl(pe),We(Se,pe,Ne)}if(X(pe)||V(pe))return pe=ef(pe,Se.mode,Ne,null),pe.return=Se,pe;if(typeof pe.then=="function")return We(Se,Ih(pe),Ne);if(pe.$$typeof===N)return We(Se,ws(Se,pe),Ne);zo(Se,pe)}return null}function De(Se,pe,Ne,qe){var Ft=pe!==null?pe.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ft!==null?null:J(Se,pe,""+Ne,qe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case m:return Ne.key===Ft?de(Se,pe,Ne,qe):null;case v:return Ne.key===Ft?Oe(Se,pe,Ne,qe):null;case L:return Ne=tl(Ne),De(Se,pe,Ne,qe)}if(X(Ne)||V(Ne))return Ft!==null?null:Ue(Se,pe,Ne,qe,null);if(typeof Ne.then=="function")return De(Se,pe,Ih(Ne),qe);if(Ne.$$typeof===N)return De(Se,pe,ws(Se,Ne),qe);zo(Se,Ne)}return null}function Le(Se,pe,Ne,qe,Ft){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Se=Se.get(Ne)||null,J(pe,Se,""+qe,Ft);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case m:return Se=Se.get(qe.key===null?Ne:qe.key)||null,de(pe,Se,qe,Ft);case v:return Se=Se.get(qe.key===null?Ne:qe.key)||null,Oe(pe,Se,qe,Ft);case L:return qe=tl(qe),Le(Se,pe,Ne,qe,Ft)}if(X(qe)||V(qe))return Se=Se.get(Ne)||null,Ue(pe,Se,qe,Ft,null);if(typeof qe.then=="function")return Le(Se,pe,Ne,Ih(qe),Ft);if(qe.$$typeof===N)return Le(Se,pe,Ne,ws(pe,qe),Ft);zo(pe,qe)}return null}function wt(Se,pe,Ne,qe){for(var Ft=null,tr=null,Dt=pe,bn=pe=0,Pn=null;Dt!==null&&bn<Ne.length;bn++){Dt.index>bn?(Pn=Dt,Dt=null):Pn=Dt.sibling;var nr=De(Se,Dt,Ne[bn],qe);if(nr===null){Dt===null&&(Dt=Pn);break}f&&Dt&&nr.alternate===null&&h(Se,Dt),pe=D(nr,pe,bn),tr===null?Ft=nr:tr.sibling=nr,tr=nr,Dt=Pn}if(bn===Ne.length)return y(Se,Dt),Fn&&Ha(Se,bn),Ft;if(Dt===null){for(;bn<Ne.length;bn++)Dt=We(Se,Ne[bn],qe),Dt!==null&&(pe=D(Dt,pe,bn),tr===null?Ft=Dt:tr.sibling=Dt,tr=Dt);return Fn&&Ha(Se,bn),Ft}for(Dt=E(Dt);bn<Ne.length;bn++)Pn=Le(Dt,Se,bn,Ne[bn],qe),Pn!==null&&(f&&Pn.alternate!==null&&Dt.delete(Pn.key===null?bn:Pn.key),pe=D(Pn,pe,bn),tr===null?Ft=Pn:tr.sibling=Pn,tr=Pn);return f&&Dt.forEach(function(od){return h(Se,od)}),Fn&&Ha(Se,bn),Ft}function Yt(Se,pe,Ne,qe){if(Ne==null)throw Error(r(151));for(var Ft=null,tr=null,Dt=pe,bn=pe=0,Pn=null,nr=Ne.next();Dt!==null&&!nr.done;bn++,nr=Ne.next()){Dt.index>bn?(Pn=Dt,Dt=null):Pn=Dt.sibling;var od=De(Se,Dt,nr.value,qe);if(od===null){Dt===null&&(Dt=Pn);break}f&&Dt&&od.alternate===null&&h(Se,Dt),pe=D(od,pe,bn),tr===null?Ft=od:tr.sibling=od,tr=od,Dt=Pn}if(nr.done)return y(Se,Dt),Fn&&Ha(Se,bn),Ft;if(Dt===null){for(;!nr.done;bn++,nr=Ne.next())nr=We(Se,nr.value,qe),nr!==null&&(pe=D(nr,pe,bn),tr===null?Ft=nr:tr.sibling=nr,tr=nr);return Fn&&Ha(Se,bn),Ft}for(Dt=E(Dt);!nr.done;bn++,nr=Ne.next())nr=Le(Dt,Se,bn,nr.value,qe),nr!==null&&(f&&nr.alternate!==null&&Dt.delete(nr.key===null?bn:nr.key),pe=D(nr,pe,bn),tr===null?Ft=nr:tr.sibling=nr,tr=nr);return f&&Dt.forEach(function(fI){return h(Se,fI)}),Fn&&Ha(Se,bn),Ft}function Cr(Se,pe,Ne,qe){if(typeof Ne=="object"&&Ne!==null&&Ne.type===x&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case m:e:{for(var Ft=Ne.key;pe!==null;){if(pe.key===Ft){if(Ft=Ne.type,Ft===x){if(pe.tag===7){y(Se,pe.sibling),qe=_(pe,Ne.props.children),qe.return=Se,Se=qe;break e}}else if(pe.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===L&&tl(Ft)===pe.type){y(Se,pe.sibling),qe=_(pe,Ne.props),nl(qe,Ne),qe.return=Se,Se=qe;break e}y(Se,pe);break}else h(Se,pe);pe=pe.sibling}Ne.type===x?(qe=ef(Ne.props.children,Se.mode,qe,Ne.key),qe.return=Se,Se=qe):(qe=zy(Ne.type,Ne.key,Ne.props,null,Se.mode,qe),nl(qe,Ne),qe.return=Se,Se=qe)}return H(Se);case v:e:{for(Ft=Ne.key;pe!==null;){if(pe.key===Ft)if(pe.tag===4&&pe.stateNode.containerInfo===Ne.containerInfo&&pe.stateNode.implementation===Ne.implementation){y(Se,pe.sibling),qe=_(pe,Ne.children||[]),qe.return=Se,Se=qe;break e}else{y(Se,pe);break}else h(Se,pe);pe=pe.sibling}qe=zm(Ne,Se.mode,qe),qe.return=Se,Se=qe}return H(Se);case L:return Ne=tl(Ne),Cr(Se,pe,Ne,qe)}if(X(Ne))return wt(Se,pe,Ne,qe);if(V(Ne)){if(Ft=V(Ne),typeof Ft!="function")throw Error(r(150));return Ne=Ft.call(Ne),Yt(Se,pe,Ne,qe)}if(typeof Ne.then=="function")return Cr(Se,pe,Ih(Ne),qe);if(Ne.$$typeof===N)return Cr(Se,pe,ws(Se,Ne),qe);zo(Se,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,pe!==null&&pe.tag===6?(y(Se,pe.sibling),qe=_(pe,Ne),qe.return=Se,Se=qe):(y(Se,pe),qe=Ch(Ne,Se.mode,qe),qe.return=Se,Se=qe),H(Se)):y(Se,pe)}return function(Se,pe,Ne,qe){try{Fa=0;var Ft=Cr(Se,pe,Ne,qe);return Rh=null,Ft}catch(Dt){if(Dt===Dh||Dt===Ym)throw Dt;var tr=go(29,Dt,null,Se.mode);return tr.lanes=qe,tr.return=Se,tr}finally{}}}var $u=Jk(!0),Qx=Jk(!1),Ss=!1;function Vl(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xy(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Hu(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function rl(f,h,y){var E=f.updateQueue;if(E===null)return null;if(E=E.shared,(sr&2)!==0){var _=E.pending;return _===null?h.next=h:(h.next=_.next,_.next=h),E.pending=h,h=Fm(f),Wx(f,null,y),h}return Jd(f,E,h,y),Fm(f)}function Gm(f,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194048)!==0)){var E=h.lanes;E&=f.pendingLanes,y|=E,h.lanes=y,Xe(f,y)}}function Zy(f,h){var y=f.updateQueue,E=f.alternate;if(E!==null&&(E=E.updateQueue,y===E)){var _=null,D=null;if(y=y.firstBaseUpdate,y!==null){do{var H={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};D===null?_=D=H:D=D.next=H,y=y.next}while(y!==null);D===null?_=D=h:D=D.next=h}else _=D=h;y={baseState:E.baseState,firstBaseUpdate:_,lastBaseUpdate:D,shared:E.shared,callbacks:E.callbacks},f.updateQueue=y;return}f=y.lastBaseUpdate,f===null?y.firstBaseUpdate=h:f.next=h,y.lastBaseUpdate=h}var Fi=!1;function sf(){if(Fi){var f=Mh;if(f!==null)throw f}}function Ph(f,h,y,E){Fi=!1;var _=f.updateQueue;Ss=!1;var D=_.firstBaseUpdate,H=_.lastBaseUpdate,J=_.shared.pending;if(J!==null){_.shared.pending=null;var de=J,Oe=de.next;de.next=null,H===null?D=Oe:H.next=Oe,H=de;var Ue=f.alternate;Ue!==null&&(Ue=Ue.updateQueue,J=Ue.lastBaseUpdate,J!==H&&(J===null?Ue.firstBaseUpdate=Oe:J.next=Oe,Ue.lastBaseUpdate=de))}if(D!==null){var We=_.baseState;H=0,Ue=Oe=de=null,J=D;do{var De=J.lane&-536870913,Le=De!==J.lane;if(Le?(In&De)===De:(E&De)===De){De!==0&&De===Oh&&(Fi=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var wt=f,Yt=J;De=h;var Cr=y;switch(Yt.tag){case 1:if(wt=Yt.payload,typeof wt=="function"){We=wt.call(Cr,We,De);break e}We=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Yt.payload,De=typeof wt=="function"?wt.call(Cr,We,De):wt,De==null)break e;We=u({},We,De);break e;case 2:Ss=!0}}De=J.callback,De!==null&&(f.flags|=64,Le&&(f.flags|=8192),Le=_.callbacks,Le===null?_.callbacks=[De]:Le.push(De))}else Le={lane:De,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ue===null?(Oe=Ue=Le,de=We):Ue=Ue.next=Le,H|=De;if(J=J.next,J===null){if(J=_.shared.pending,J===null)break;Le=J,J=Le.next,Le.next=null,_.lastBaseUpdate=Le,_.shared.pending=null}}while(!0);Ue===null&&(de=We),_.baseState=de,_.firstBaseUpdate=Oe,_.lastBaseUpdate=Ue,D===null&&(_.shared.lanes=0),Gu|=H,f.lanes=H,f.memoizedState=We}}function il(f,h){if(typeof f!="function")throw Error(r(191,f));f.call(h)}function Qy(f,h){var y=f.callbacks;if(y!==null)for(f.callbacks=null,f=0;f<y.length;f++)il(y[f],h)}var Bc=Q(null),ql=Q(0);function Jx(f,h){f=ul,z(ql,f),z(Bc,h),ul=f|h.baseLanes}function bo(){z(ql,ul),z(Bc,Bc.current)}function Km(){ul=ql.current,te(Bc),te(ql)}var Ua=Q(null),Cs=null;function Fu(f){var h=f.alternate;z(Si,Si.current&1),z(Ua,f),Cs===null&&(h===null||Bc.current!==null||h.memoizedState!==null)&&(Cs=f)}function Xm(f){z(Si,Si.current),z(Ua,f),Cs===null&&(Cs=f)}function e2(f){f.tag===22?(z(Si,Si.current),z(Ua,f),Cs===null&&(Cs=f)):Ts()}function Ts(){z(Si,Si.current),z(Ua,Ua.current)}function oa(f){te(Ua),Cs===f&&(Cs=null),te(Si)}var Si=Q(0);function Jy(f){for(var h=f;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Lb(y)||ep(y)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var za=0,fn=null,Er=null,pi=null,Zm=!1,Lh=!1,lf=!1,eb=0,jh=0,Uu=null,A3=0;function Zr(){throw Error(r(321))}function tb(f,h){if(h===null)return!1;for(var y=0;y<h.length&&y<f.length;y++)if(!ai(f[y],h[y]))return!1;return!0}function nb(f,h,y,E,_,D){return za=D,fn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,q.H=f===null||f.memoizedState===null?d2:db,lf=!1,D=y(E,_),lf=!1,Lh&&(D=Qm(h,y,E,_)),ew(f),D}function ew(f){q.H=Vu;var h=Er!==null&&Er.next!==null;if(za=0,pi=Er=fn=null,Zm=!1,jh=0,Uu=null,h)throw Error(r(300));f===null||si||(f=f.dependencies,f!==null&&qy(f)&&(si=!0))}function Qm(f,h,y,E){fn=f;var _=0;do{if(Lh&&(Uu=null),jh=0,Lh=!1,25<=_)throw Error(r(301));if(_+=1,pi=Er=null,f.updateQueue!=null){var D=f.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}q.H=ag,D=h(y,E)}while(Lh);return D}function N3(){var f=q.H,h=f.useState()[0];return h=typeof h.then=="function"?$h(h):h,f=f.useState()[0],(Er!==null?Er.memoizedState:null)!==f&&(fn.flags|=1024),h}function rb(){var f=eb!==0;return eb=0,f}function ib(f,h,y){h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~y}function tw(f){if(Zm){for(f=f.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}Zm=!1}za=0,pi=Er=fn=null,Lh=!1,jh=eb=0,Uu=null}function Mo(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?fn.memoizedState=pi=f:pi=pi.next=f,pi}function Ci(){if(Er===null){var f=fn.alternate;f=f!==null?f.memoizedState:null}else f=Er.next;var h=pi===null?fn.memoizedState:pi.next;if(h!==null)pi=h,Er=f;else{if(f===null)throw fn.alternate===null?Error(r(467)):Error(r(310));Er=f,f={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},pi===null?fn.memoizedState=pi=f:pi=pi.next=f}return pi}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $h(f){var h=jh;return jh+=1,Uu===null&&(Uu=[]),f=Ky(Uu,f,h),h=fn,(pi===null?h.memoizedState:pi.next)===null&&(h=h.alternate,q.H=h===null||h.memoizedState===null?d2:db),f}function Hh(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return $h(f);if(f.$$typeof===N)return yo(f)}throw Error(r(438,String(f)))}function nw(f){var h=null,y=fn.updateQueue;if(y!==null&&(h=y.memoCache),h==null){var E=fn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(h={data:E.data.map(function(_){return _.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),y===null&&(y=Bh(),fn.updateQueue=y),y.memoCache=h,y=h.data[h.index],y===void 0)for(y=h.data[h.index]=Array(f),E=0;E<f;E++)y[E]=$;return h.index++,y}function ol(f,h){return typeof h=="function"?h(f):h}function hn(f){var h=Ci();return rw(h,Er,f)}function rw(f,h,y){var E=f.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=y;var _=f.baseQueue,D=E.pending;if(D!==null){if(_!==null){var H=_.next;_.next=D.next,D.next=H}h.baseQueue=_=D,E.pending=null}if(D=f.baseState,_===null)f.memoizedState=D;else{h=_.next;var J=H=null,de=null,Oe=h,Ue=!1;do{var We=Oe.lane&-536870913;if(We!==Oe.lane?(In&We)===We:(za&We)===We){var De=Oe.revertLane;if(De===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),We===Oh&&(Ue=!0);else if((za&De)===De){Oe=Oe.next,De===Oh&&(Ue=!0);continue}else We={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},de===null?(J=de=We,H=D):de=de.next=We,fn.lanes|=De,Gu|=De;We=Oe.action,lf&&y(D,We),D=Oe.hasEagerState?Oe.eagerState:y(D,We)}else De={lane:We,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},de===null?(J=de=De,H=D):de=de.next=De,fn.lanes|=We,Gu|=We;Oe=Oe.next}while(Oe!==null&&Oe!==h);if(de===null?H=D:de.next=J,!ai(D,f.memoizedState)&&(si=!0,Ue&&(y=Mh,y!==null)))throw y;f.memoizedState=D,f.baseState=H,f.baseQueue=de,E.lastRenderedState=D}return _===null&&(E.lanes=0),[f.memoizedState,E.dispatch]}function iw(f){var h=Ci(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=f;var E=y.dispatch,_=y.pending,D=h.memoizedState;if(_!==null){y.pending=null;var H=_=_.next;do D=f(D,H.action),H=H.next;while(H!==_);ai(D,h.memoizedState)||(si=!0),h.memoizedState=D,h.baseQueue===null&&(h.baseState=D),y.lastRenderedState=D}return[D,E]}function Fh(f,h,y){var E=fn,_=Ci(),D=Fn;if(D){if(y===void 0)throw Error(r(407));y=y()}else y=h();var H=!ai((Er||_).memoizedState,y);if(H&&(_.memoizedState=y,si=!0),_=_.queue,ng(n2.bind(null,E,_,f),[f]),_.getSnapshot!==h||H||pi!==null&&pi.memoizedState.tag&1){if(E.flags|=2048,qa(9,{destroy:void 0},t2.bind(null,E,_,y,h),null),Nr===null)throw Error(r(349));D||(za&127)!==0||ow(E,h,y)}return y}function ow(f,h,y){f.flags|=16384,f={getSnapshot:h,value:y},h=fn.updateQueue,h===null?(h=Bh(),fn.updateQueue=h,h.stores=[f]):(y=h.stores,y===null?h.stores=[f]:y.push(f))}function t2(f,h,y,E){h.value=y,h.getSnapshot=E,Va(h)&&r2(f)}function n2(f,h,y){return y(function(){Va(h)&&r2(f)})}function Va(f){var h=f.getSnapshot;f=f.value;try{var y=h();return!ai(f,y)}catch{return!0}}function r2(f){var h=Fl(f,2);h!==null&&da(h,f,2)}function Uh(f){var h=Mo();if(typeof f=="function"){var y=f;if(f=y(),lf){xr(!0);try{y()}finally{xr(!1)}}}return h.memoizedState=h.baseState=f,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:f},h}function ob(f,h,y,E){return f.baseState=y,rw(f,Er,typeof E=="function"?E:ol)}function i2(f,h,y,E,_){if(ig(f))throw Error(r(485));if(f=h.action,f!==null){var D={payload:_,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){D.listeners.push(H)}};q.T!==null?y(!0):D.isTransition=!1,E(D),y=h.pending,y===null?(D.next=h.pending=D,aw(h,D)):(D.next=y.next,h.pending=y.next=D)}}function aw(f,h){var y=h.action,E=h.payload,_=f.state;if(h.isTransition){var D=q.T,H={};q.T=H;try{var J=y(_,E),de=q.S;de!==null&&de(H,J),aa(f,h,J)}catch(Oe){Jm(f,h,Oe)}finally{D!==null&&H.types!==null&&(D.types=H.types),q.T=D}}else try{D=y(_,E),aa(f,h,D)}catch(Oe){Jm(f,h,Oe)}}function aa(f,h,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(E){$c(f,h,E)},function(E){return Jm(f,h,E)}):$c(f,h,y)}function $c(f,h,y){h.status="fulfilled",h.value=y,sw(h),f.state=y,h=f.pending,h!==null&&(y=h.next,y===h?f.pending=null:(y=y.next,h.next=y,aw(f,y)))}function Jm(f,h,y){var E=f.pending;if(f.pending=null,E!==null){E=E.next;do h.status="rejected",h.reason=y,sw(h),h=h.next;while(h!==E)}f.action=null}function sw(f){f=f.listeners;for(var h=0;h<f.length;h++)(0,f[h])()}function eg(f,h){return h}function lw(f,h){if(Fn){var y=Nr.formState;if(y!==null){e:{var E=fn;if(Fn){if(fr){t:{for(var _=fr,D=xs;_.nodeType!==8;){if(!D){_=null;break t}if(_=_s(_.nextSibling),_===null){_=null;break t}}D=_.data,_=D==="F!"||D==="F"?_:null}if(_){fr=_s(_.nextSibling),E=_.data==="F!";break e}}Pu(E)}E=!1}E&&(h=y[0])}}return y=Mo(),y.memoizedState=y.baseState=h,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:h},y.queue=E,y=vw.bind(null,fn,E),E.dispatch=y,E=Uh(!1),D=Vh.bind(null,fn,!1,E.queue),E=Mo(),_={state:h,dispatch:null,action:f,pending:null},E.queue=_,y=i2.bind(null,fn,_,D,y),_.dispatch=y,E.memoizedState=f,[h,y,!1]}function ab(f){var h=Ci();return cw(h,Er,f)}function cw(f,h,y){if(h=rw(f,h,eg)[0],f=hn(ol)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var E=$h(h)}catch(H){throw H===Dh?Ym:H}else E=h;h=Ci();var _=h.queue,D=_.dispatch;return y!==h.memoizedState&&(fn.flags|=2048,qa(9,{destroy:void 0},uw.bind(null,_,y),null)),[E,D,f]}function uw(f,h){f.action=h}function sb(f){var h=Ci(),y=Er;if(y!==null)return cw(h,y,f);Ci(),h=h.memoizedState,y=Ci();var E=y.queue.dispatch;return y.memoizedState=f,[h,E,!1]}function qa(f,h,y,E){return f={tag:f,create:y,deps:E,inst:h,next:null},h=fn.updateQueue,h===null&&(h=Bh(),fn.updateQueue=h),y=h.lastEffect,y===null?h.lastEffect=f.next=f:(E=y.next,y.next=f,f.next=E,h.lastEffect=f),f}function o2(){return Ci().memoizedState}function al(f,h,y,E){var _=Mo();fn.flags|=f,_.memoizedState=qa(1|h,{destroy:void 0},y,E===void 0?null:E)}function tg(f,h,y,E){var _=Ci();E=E===void 0?null:E;var D=_.memoizedState.inst;Er!==null&&E!==null&&tb(E,Er.memoizedState.deps)?_.memoizedState=qa(h,D,y,E):(fn.flags|=f,_.memoizedState=qa(1|h,D,y,E))}function dw(f,h){al(8390656,8,f,h)}function ng(f,h){tg(2048,8,f,h)}function O3(f){fn.flags|=4;var h=fn.updateQueue;if(h===null)h=Bh(),fn.updateQueue=h,h.events=[f];else{var y=h.events;y===null?h.events=[f]:y.push(f)}}function a2(f){var h=Ci().memoizedState;return O3({ref:h,nextImpl:f}),function(){if((sr&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function s2(f,h){return tg(4,2,f,h)}function fw(f,h){return tg(4,4,f,h)}function hw(f,h){if(typeof h=="function"){f=f();var y=h(f);return function(){typeof y=="function"?y():h(null)}}if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function l2(f,h,y){y=y!=null?y.concat([f]):null,tg(4,4,hw.bind(null,h,f),y)}function lb(){}function pw(f,h){var y=Ci();h=h===void 0?null:h;var E=y.memoizedState;return h!==null&&tb(h,E[1])?E[0]:(y.memoizedState=[f,h],f)}function Vo(f,h){var y=Ci();h=h===void 0?null:h;var E=y.memoizedState;if(h!==null&&tb(h,E[1]))return E[0];if(E=f(),lf){xr(!0);try{f()}finally{xr(!1)}}return y.memoizedState=[E,h],E}function ks(f,h,y){return y===void 0||(za&1073741824)!==0&&(In&261930)===0?f.memoizedState=h:(f.memoizedState=y,f=P2(),fn.lanes|=f,Gu|=f,y)}function c2(f,h,y,E){return ai(y,h)?y:Bc.current!==null?(f=ks(f,y,E),ai(f,h)||(si=!0),f):(za&42)===0||(za&1073741824)!==0&&(In&261930)===0?(si=!0,f.memoizedState=y):(f=P2(),fn.lanes|=f,Gu|=f,h)}function u2(f,h,y,E,_){var D=ne.p;ne.p=D!==0&&8>D?D:8;var H=q.T,J={};q.T=J,Vh(f,!1,h,y);try{var de=_(),Oe=q.S;if(Oe!==null&&Oe(J,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ue=_3(de,E);zh(f,h,Ue,Ga(f))}else zh(f,h,E,Ga(f))}catch(We){zh(f,h,{then:function(){},status:"rejected",reason:We},Ga())}finally{ne.p=D,H!==null&&J.types!==null&&(H.types=J.types),q.T=H}}function cb(){}function zu(f,h,y,E){if(f.tag!==5)throw Error(r(476));var _=mw(f).queue;u2(f,_,h,Z,y===null?cb:function(){return gw(f),y(E)})}function mw(f){var h=f.memoizedState;if(h!==null)return h;h={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:Z},next:null};var y={};return h.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:y},next:null},f.memoizedState=h,f=f.alternate,f!==null&&(f.memoizedState=h),h}function gw(f){var h=mw(f);h.next===null&&(h=f.alternate.memoizedState),zh(f,h.next.queue,{},Ga())}function yw(){return yo(ap)}function bw(){return Ci().memoizedState}function cf(){return Ci().memoizedState}function rg(f){for(var h=f.return;h!==null;){switch(h.tag){case 24:case 3:var y=Ga();f=Hu(y);var E=rl(h,f,y);E!==null&&(da(E,h,y),Gm(E,h,y)),h={cache:el()},f.payload=h;return}h=h.return}}function M3(f,h,y){var E=Ga();y={lane:E,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},ig(f)?og(h,y):(y=Uy(f,h,y,E),y!==null&&(da(y,f,E),ub(y,h,E)))}function vw(f,h,y){var E=Ga();zh(f,h,y,E)}function zh(f,h,y,E){var _={lane:E,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null};if(ig(f))og(h,_);else{var D=f.alternate;if(f.lanes===0&&(D===null||D.lanes===0)&&(D=h.lastRenderedReducer,D!==null))try{var H=h.lastRenderedState,J=D(H,y);if(_.hasEagerState=!0,_.eagerState=J,ai(J,H))return Jd(f,h,_,0),Nr===null&&Js(),!1}catch{}finally{}if(y=Uy(f,h,_,E),y!==null)return da(y,f,E),ub(y,h,E),!0}return!1}function Vh(f,h,y,E){if(E={lane:2,revertLane:Ka(),gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},ig(f)){if(h)throw Error(r(479))}else h=Uy(f,y,E,2),h!==null&&da(h,f,2)}function ig(f){var h=f.alternate;return f===fn||h!==null&&h===fn}function og(f,h){Lh=Zm=!0;var y=f.pending;y===null?h.next=h:(h.next=y.next,y.next=h),f.pending=h}function ub(f,h,y){if((y&4194048)!==0){var E=h.lanes;E&=f.pendingLanes,y|=E,h.lanes=y,Xe(f,y)}}var Vu={readContext:yo,use:Hh,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useLayoutEffect:Zr,useInsertionEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useSyncExternalStore:Zr,useId:Zr,useHostTransitionStatus:Zr,useFormState:Zr,useActionState:Zr,useOptimistic:Zr,useMemoCache:Zr,useCacheRefresh:Zr};Vu.useEffectEvent=Zr;var d2={readContext:yo,use:Hh,useCallback:function(f,h){return Mo().memoizedState=[f,h===void 0?null:h],f},useContext:yo,useEffect:dw,useImperativeHandle:function(f,h,y){y=y!=null?y.concat([f]):null,al(4194308,4,hw.bind(null,h,f),y)},useLayoutEffect:function(f,h){return al(4194308,4,f,h)},useInsertionEffect:function(f,h){al(4,2,f,h)},useMemo:function(f,h){var y=Mo();h=h===void 0?null:h;var E=f();if(lf){xr(!0);try{f()}finally{xr(!1)}}return y.memoizedState=[E,h],E},useReducer:function(f,h,y){var E=Mo();if(y!==void 0){var _=y(h);if(lf){xr(!0);try{y(h)}finally{xr(!1)}}}else _=h;return E.memoizedState=E.baseState=_,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:_},E.queue=f,f=f.dispatch=M3.bind(null,fn,f),[E.memoizedState,f]},useRef:function(f){var h=Mo();return f={current:f},h.memoizedState=f},useState:function(f){f=Uh(f);var h=f.queue,y=vw.bind(null,fn,h);return h.dispatch=y,[f.memoizedState,y]},useDebugValue:lb,useDeferredValue:function(f,h){var y=Mo();return ks(y,f,h)},useTransition:function(){var f=Uh(!1);return f=u2.bind(null,fn,f.queue,!0,!1),Mo().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,h,y){var E=fn,_=Mo();if(Fn){if(y===void 0)throw Error(r(407));y=y()}else{if(y=h(),Nr===null)throw Error(r(349));(In&127)!==0||ow(E,h,y)}_.memoizedState=y;var D={value:y,getSnapshot:h};return _.queue=D,dw(n2.bind(null,E,D,f),[f]),E.flags|=2048,qa(9,{destroy:void 0},t2.bind(null,E,D,y,h),null),y},useId:function(){var f=Mo(),h=Nr.identifierPrefix;if(Fn){var y=vs,E=Ul;y=(E&~(1<<32-un(E)-1)).toString(32)+y,h="_"+h+"R_"+y,y=eb++,0<y&&(h+="H"+y.toString(32)),h+="_"}else y=A3++,h="_"+h+"r_"+y.toString(32)+"_";return f.memoizedState=h},useHostTransitionStatus:yw,useFormState:lw,useActionState:lw,useOptimistic:function(f){var h=Mo();h.memoizedState=h.baseState=f;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=y,h=Vh.bind(null,fn,!0,y),y.dispatch=h,[f,h]},useMemoCache:nw,useCacheRefresh:function(){return Mo().memoizedState=rg.bind(null,fn)},useEffectEvent:function(f){var h=Mo(),y={impl:f};return h.memoizedState=y,function(){if((sr&2)!==0)throw Error(r(440));return y.impl.apply(void 0,arguments)}}},db={readContext:yo,use:Hh,useCallback:pw,useContext:yo,useEffect:ng,useImperativeHandle:l2,useInsertionEffect:s2,useLayoutEffect:fw,useMemo:Vo,useReducer:hn,useRef:o2,useState:function(){return hn(ol)},useDebugValue:lb,useDeferredValue:function(f,h){var y=Ci();return c2(y,Er.memoizedState,f,h)},useTransition:function(){var f=hn(ol)[0],h=Ci().memoizedState;return[typeof f=="boolean"?f:$h(f),h]},useSyncExternalStore:Fh,useId:bw,useHostTransitionStatus:yw,useFormState:ab,useActionState:ab,useOptimistic:function(f,h){var y=Ci();return ob(y,Er,f,h)},useMemoCache:nw,useCacheRefresh:cf};db.useEffectEvent=a2;var ag={readContext:yo,use:Hh,useCallback:pw,useContext:yo,useEffect:ng,useImperativeHandle:l2,useInsertionEffect:s2,useLayoutEffect:fw,useMemo:Vo,useReducer:iw,useRef:o2,useState:function(){return iw(ol)},useDebugValue:lb,useDeferredValue:function(f,h){var y=Ci();return Er===null?ks(y,f,h):c2(y,Er.memoizedState,f,h)},useTransition:function(){var f=iw(ol)[0],h=Ci().memoizedState;return[typeof f=="boolean"?f:$h(f),h]},useSyncExternalStore:Fh,useId:bw,useHostTransitionStatus:yw,useFormState:sb,useActionState:sb,useOptimistic:function(f,h){var y=Ci();return Er!==null?ob(y,Er,f,h):(y.baseState=f,[f,y.queue.dispatch])},useMemoCache:nw,useCacheRefresh:cf};ag.useEffectEvent=a2;function fb(f,h,y,E){h=f.memoizedState,y=y(E,h),y=y==null?h:u({},h,y),f.memoizedState=y,f.lanes===0&&(f.updateQueue.baseState=y)}var sg={enqueueSetState:function(f,h,y){f=f._reactInternals;var E=Ga(),_=Hu(E);_.payload=h,y!=null&&(_.callback=y),h=rl(f,_,E),h!==null&&(da(h,f,E),Gm(h,f,E))},enqueueReplaceState:function(f,h,y){f=f._reactInternals;var E=Ga(),_=Hu(E);_.tag=1,_.payload=h,y!=null&&(_.callback=y),h=rl(f,_,E),h!==null&&(da(h,f,E),Gm(h,f,E))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var y=Ga(),E=Hu(y);E.tag=2,h!=null&&(E.callback=h),h=rl(f,E,y),h!==null&&(da(h,f,y),Gm(h,f,y))}};function f2(f,h,y,E,_,D,H){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,D,H):h.prototype&&h.prototype.isPureReactComponent?!vh(y,E)||!vh(_,D):!0}function xw(f,h,y,E){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,E),h.state!==f&&sg.enqueueReplaceState(h,h.state,null)}function qo(f,h){var y=h;if("ref"in h){y={};for(var E in h)E!=="ref"&&(y[E]=h[E])}if(f=f.defaultProps){y===h&&(y=u({},y));for(var _ in f)y[_]===void 0&&(y[_]=f[_])}return y}function ww(f){Fy(f)}function Ew(f){console.error(f)}function h2(f){Fy(f)}function lg(f,h){try{var y=f.onUncaughtError;y(h.value,{componentStack:h.stack})}catch(E){setTimeout(function(){throw E})}}function p2(f,h,y){try{var E=f.onCaughtError;E(y.value,{componentStack:y.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Sw(f,h,y){return y=Hu(y),y.tag=3,y.payload={element:null},y.callback=function(){lg(f,h)},y}function Wl(f){return f=Hu(f),f.tag=3,f}function hb(f,h,y,E){var _=y.type.getDerivedStateFromError;if(typeof _=="function"){var D=E.value;f.payload=function(){return _(D)},f.callback=function(){p2(h,y,E)}}var H=y.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(f.callback=function(){p2(h,y,E),typeof _!="function"&&(Ku===null?Ku=new Set([this]):Ku.add(this));var J=E.stack;this.componentDidCatch(E.value,{componentStack:J!==null?J:""})})}function Cw(f,h,y,E,_){if(y.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(h=y.alternate,h!==null&&Nh(h,y,_,!0),y=Ua.current,y!==null){switch(y.tag){case 31:case 13:return Cs===null?_b():y.alternate===null&&li===0&&(li=3),y.flags&=-257,y.flags|=65536,y.lanes=_,E===Gy?y.flags|=16384:(h=y.updateQueue,h===null?y.updateQueue=new Set([E]):h.add(E),Jw(f,E,_)),!1;case 22:return y.flags|=65536,E===Gy?y.flags|=16384:(h=y.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([E])},y.updateQueue=h):(y=h.retryQueue,y===null?h.retryQueue=new Set([E]):y.add(E)),Jw(f,E,_)),!1}throw Error(r(435,y.tag))}return Jw(f,E,_),_b(),!1}if(Fn)return h=Ua.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=_,E!==Yx&&(f=Error(r(422),{cause:E}),ju($a(f,y)))):(E!==Yx&&(h=Error(r(423),{cause:E}),ju($a(h,y))),f=f.current.alternate,f.flags|=65536,_&=-_,f.lanes|=_,E=$a(E,y),_=Sw(f.stateNode,E,_),Zy(f,_),li!==4&&(li=2)),!1;var D=Error(r(520),{cause:E});if(D=$a(D,y),Eg===null?Eg=[D]:Eg.push(D),li!==4&&(li=2),h===null)return!0;E=$a(E,y),y=h;do{switch(y.tag){case 3:return y.flags|=65536,f=_&-_,y.lanes|=f,f=Sw(y.stateNode,E,f),Zy(y,f),!1;case 1:if(h=y.type,D=y.stateNode,(y.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Ku===null||!Ku.has(D))))return y.flags|=65536,_&=-_,y.lanes|=_,_=Wl(_),hb(_,f,y,E),Zy(y,_),!1}y=y.return}while(y!==null);return!1}var cg=Error(r(461)),si=!1;function mi(f,h,y,E){h.child=f===null?Qx(h,null,y,E):$u(h,f.child,y,E)}function Wt(f,h,y,E,_){y=y.render;var D=h.ref;if("ref"in E){var H={};for(var J in E)J!=="ref"&&(H[J]=E[J])}else H=E;return rf(h),E=nb(f,h,y,H,D,_),J=rb(),f!==null&&!si?(ib(f,h,_),Yl(f,h,_)):(Fn&&J&&Ru(h),h.flags|=1,mi(f,h,E,_),h.child)}function ug(f,h,y,E,_){if(f===null){var D=y.type;return typeof D=="function"&&!Rc(D)&&D.defaultProps===void 0&&y.compare===null?(h.tag=15,h.type=D,pb(f,h,D,E,_)):(f=zy(y.type,null,E,h,h.mode,_),f.ref=h.ref,f.return=h,h.child=f)}if(D=f.child,!vb(f,_)){var H=D.memoizedProps;if(y=y.compare,y=y!==null?y:vh,y(H,E)&&f.ref===h.ref)return Yl(f,h,_)}return h.flags|=1,f=gs(D,E),f.ref=h.ref,f.return=h,h.child=f}function pb(f,h,y,E,_){if(f!==null){var D=f.memoizedProps;if(vh(D,E)&&f.ref===h.ref)if(si=!1,h.pendingProps=E=D,vb(f,_))(f.flags&131072)!==0&&(si=!0);else return h.lanes=f.lanes,Yl(f,h,_)}return yb(f,h,y,E,_)}function qu(f,h,y,E){var _=E.children,D=f!==null?f.memoizedState:null;if(f===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),E.mode==="hidden"){if((h.flags&128)!==0){if(D=D!==null?D.baseLanes|y:y,f!==null){for(E=h.child=f.child,_=0;E!==null;)_=_|E.lanes|E.childLanes,E=E.sibling;E=_&~D}else E=0,h.child=null;return mb(f,h,D,y,E)}if((y&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},f!==null&&Wy(h,D!==null?D.cachePool:null),D!==null?Jx(h,D):bo(),e2(h);else return E=h.lanes=536870912,mb(f,h,D!==null?D.baseLanes|y:y,y,E)}else D!==null?(Wy(h,D.cachePool),Jx(h,D),Ts(),h.memoizedState=null):(f!==null&&Wy(h,null),bo(),Ts());return mi(f,h,_,y),h.child}function dg(f,h){return f!==null&&f.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function mb(f,h,y,E,_){var D=Xx();return D=D===null?null:{parent:Di._currentValue,pool:D},h.memoizedState={baseLanes:y,cachePool:D},f!==null&&Wy(h,null),bo(),e2(h),f!==null&&Nh(f,h,E,!0),h.childLanes=_,null}function fg(f,h){return h=bb({mode:h.mode,children:h.children},f.mode),h.ref=f.ref,f.child=h,h.return=f,h}function vo(f,h,y){return $u(h,f.child,null,y),f=fg(h,h.pendingProps),f.flags|=2,oa(h),h.memoizedState=null,f}function D3(f,h,y){var E=h.pendingProps,_=(h.flags&128)!==0;if(h.flags&=-129,f===null){if(Fn){if(E.mode==="hidden")return f=fg(h,E),h.lanes=536870912,dg(null,f);if(Xm(h),(f=fr)?(f=i_(f,xs),f=f!==null&&f.data==="&"?f:null,f!==null&&(h.memoizedState={dehydrated:f,treeContext:Ic!==null?{id:Ul,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},y=Um(f),y.return=h,h.child=y,Mi=h,fr=null)):f=null,f===null)throw Pu(h);return h.lanes=536870912,null}return fg(h,E)}var D=f.memoizedState;if(D!==null){var H=D.dehydrated;if(Xm(h),_)if(h.flags&256)h.flags&=-257,h=vo(f,h,y);else if(h.memoizedState!==null)h.child=f.child,h.flags|=128,h=null;else throw Error(r(558));else if(si||Nh(f,h,y,!1),_=(y&f.childLanes)!==0,si||_){if(E=Nr,E!==null&&(H=nt(E,y),H!==0&&H!==D.retryLane))throw D.retryLane=H,Fl(f,H),da(E,f,H),cg;_b(),h=vo(f,h,y)}else f=D.treeContext,fr=_s(H.nextSibling),Mi=h,Fn=!0,Iu=null,xs=!1,f!==null&&_h(h,f),h=fg(h,E),h.flags|=4096;return h}return f=gs(f.child,{mode:E.mode,children:E.children}),f.ref=h.ref,h.child=f,f.return=h,f}function gb(f,h){var y=h.ref;if(y===null)f!==null&&f.ref!==null&&(h.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(f===null||f.ref!==y)&&(h.flags|=4194816)}}function yb(f,h,y,E,_){return rf(h),y=nb(f,h,y,E,void 0,_),E=rb(),f!==null&&!si?(ib(f,h,_),Yl(f,h,_)):(Fn&&E&&Ru(h),h.flags|=1,mi(f,h,y,_),h.child)}function m2(f,h,y,E,_,D){return rf(h),h.updateQueue=null,y=Qm(h,E,y,_),ew(f),E=rb(),f!==null&&!si?(ib(f,h,D),Yl(f,h,D)):(Fn&&E&&Ru(h),h.flags|=1,mi(f,h,y,D),h.child)}function Tw(f,h,y,E,_){if(rf(h),h.stateNode===null){var D=Dc,H=y.contextType;typeof H=="object"&&H!==null&&(D=yo(H)),D=new y(E,D),h.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=sg,h.stateNode=D,D._reactInternals=h,D=h.stateNode,D.props=E,D.state=h.memoizedState,D.refs={},Vl(h),H=y.contextType,D.context=typeof H=="object"&&H!==null?yo(H):Dc,D.state=h.memoizedState,H=y.getDerivedStateFromProps,typeof H=="function"&&(fb(h,y,H,E),D.state=h.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(H=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),H!==D.state&&sg.enqueueReplaceState(D,D.state,null),Ph(h,E,D,_),sf(),D.state=h.memoizedState),typeof D.componentDidMount=="function"&&(h.flags|=4194308),E=!0}else if(f===null){D=h.stateNode;var J=h.memoizedProps,de=qo(y,J);D.props=de;var Oe=D.context,Ue=y.contextType;H=Dc,typeof Ue=="object"&&Ue!==null&&(H=yo(Ue));var We=y.getDerivedStateFromProps;Ue=typeof We=="function"||typeof D.getSnapshotBeforeUpdate=="function",J=h.pendingProps!==J,Ue||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(J||Oe!==H)&&xw(h,D,E,H),Ss=!1;var De=h.memoizedState;D.state=De,Ph(h,E,D,_),sf(),Oe=h.memoizedState,J||De!==Oe||Ss?(typeof We=="function"&&(fb(h,y,We,E),Oe=h.memoizedState),(de=Ss||f2(h,y,de,E,De,Oe,H))?(Ue||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(h.flags|=4194308)):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=Oe),D.props=E,D.state=Oe,D.context=H,E=de):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{D=h.stateNode,Xy(f,h),H=h.memoizedProps,Ue=qo(y,H),D.props=Ue,We=h.pendingProps,De=D.context,Oe=y.contextType,de=Dc,typeof Oe=="object"&&Oe!==null&&(de=yo(Oe)),J=y.getDerivedStateFromProps,(Oe=typeof J=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(H!==We||De!==de)&&xw(h,D,E,de),Ss=!1,De=h.memoizedState,D.state=De,Ph(h,E,D,_),sf();var Le=h.memoizedState;H!==We||De!==Le||Ss||f!==null&&f.dependencies!==null&&qy(f.dependencies)?(typeof J=="function"&&(fb(h,y,J,E),Le=h.memoizedState),(Ue=Ss||f2(h,y,Ue,E,De,Le,de)||f!==null&&f.dependencies!==null&&qy(f.dependencies))?(Oe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(E,Le,de),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(E,Le,de)),typeof D.componentDidUpdate=="function"&&(h.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof D.componentDidUpdate!="function"||H===f.memoizedProps&&De===f.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===f.memoizedProps&&De===f.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=Le),D.props=E,D.state=Le,D.context=de,E=Ue):(typeof D.componentDidUpdate!="function"||H===f.memoizedProps&&De===f.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===f.memoizedProps&&De===f.memoizedState||(h.flags|=1024),E=!1)}return D=E,gb(f,h),E=(h.flags&128)!==0,D||E?(D=h.stateNode,y=E&&typeof y.getDerivedStateFromError!="function"?null:D.render(),h.flags|=1,f!==null&&E?(h.child=$u(h,f.child,null,_),h.child=$u(h,null,y,_)):mi(f,h,y,_),h.memoizedState=D.state,f=h.child):f=Yl(f,h,_),f}function g2(f,h,y,E){return ee(),h.flags|=256,mi(f,h,y,E),h.child}var kw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _w(f){return{baseLanes:f,cachePool:Xk()}}function sl(f,h,y){return f=f!==null?f.childLanes&~y:0,h&&(f|=Ya),f}function Do(f,h,y){var E=h.pendingProps,_=!1,D=(h.flags&128)!==0,H;if((H=D)||(H=f!==null&&f.memoizedState===null?!1:(Si.current&2)!==0),H&&(_=!0,h.flags&=-129),H=(h.flags&32)!==0,h.flags&=-33,f===null){if(Fn){if(_?Fu(h):Ts(),(f=fr)?(f=i_(f,xs),f=f!==null&&f.data!=="&"?f:null,f!==null&&(h.memoizedState={dehydrated:f,treeContext:Ic!==null?{id:Ul,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},y=Um(f),y.return=h,h.child=y,Mi=h,fr=null)):f=null,f===null)throw Pu(h);return ep(f)?h.lanes=32:h.lanes=536870912,null}var J=E.children;return E=E.fallback,_?(Ts(),_=h.mode,J=bb({mode:"hidden",children:J},_),E=ef(E,_,y,null),J.return=h,E.return=h,J.sibling=E,h.child=J,E=h.child,E.memoizedState=_w(y),E.childLanes=sl(f,H,y),h.memoizedState=kw,dg(null,E)):(Fu(h),hg(h,J))}var de=f.memoizedState;if(de!==null&&(J=de.dehydrated,J!==null)){if(D)h.flags&256?(Fu(h),h.flags&=-257,h=pg(f,h,y)):h.memoizedState!==null?(Ts(),h.child=f.child,h.flags|=128,h=null):(Ts(),J=E.fallback,_=h.mode,E=bb({mode:"visible",children:E.children},_),J=ef(J,_,y,null),J.flags|=2,E.return=h,J.return=h,E.sibling=J,h.child=E,$u(h,f.child,null,y),E=h.child,E.memoizedState=_w(y),E.childLanes=sl(f,H,y),h.memoizedState=kw,h=dg(null,E));else if(Fu(h),ep(J)){if(H=J.nextSibling&&J.nextSibling.dataset,H)var Oe=H.dgst;H=Oe,E=Error(r(419)),E.stack="",E.digest=H,ju({value:E,source:null,stack:null}),h=pg(f,h,y)}else if(si||Nh(f,h,y,!1),H=(y&f.childLanes)!==0,si||H){if(H=Nr,H!==null&&(E=nt(H,y),E!==0&&E!==de.retryLane))throw de.retryLane=E,Fl(f,E),da(H,f,E),cg;Lb(J)||_b(),h=pg(f,h,y)}else Lb(J)?(h.flags|=192,h.child=f.child,h=null):(f=de.treeContext,fr=_s(J.nextSibling),Mi=h,Fn=!0,Iu=null,xs=!1,f!==null&&_h(h,f),h=hg(h,E.children),h.flags|=4096);return h}return _?(Ts(),J=E.fallback,_=h.mode,de=f.child,Oe=de.sibling,E=gs(de,{mode:"hidden",children:E.children}),E.subtreeFlags=de.subtreeFlags&65011712,Oe!==null?J=gs(Oe,J):(J=ef(J,_,y,null),J.flags|=2),J.return=h,E.return=h,E.sibling=J,h.child=E,dg(null,E),E=h.child,J=f.child.memoizedState,J===null?J=_w(y):(_=J.cachePool,_!==null?(de=Di._currentValue,_=_.parent!==de?{parent:de,pool:de}:_):_=Xk(),J={baseLanes:J.baseLanes|y,cachePool:_}),E.memoizedState=J,E.childLanes=sl(f,H,y),h.memoizedState=kw,dg(f.child,E)):(Fu(h),y=f.child,f=y.sibling,y=gs(y,{mode:"visible",children:E.children}),y.return=h,y.sibling=null,f!==null&&(H=h.deletions,H===null?(h.deletions=[f],h.flags|=16):H.push(f)),h.child=y,h.memoizedState=null,y)}function hg(f,h){return h=bb({mode:"visible",children:h},f.mode),h.return=f,f.child=h}function bb(f,h){return f=go(22,f,null,h),f.lanes=0,f}function pg(f,h,y){return $u(h,f.child,null,y),f=hg(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function y2(f,h,y){f.lanes|=h;var E=f.alternate;E!==null&&(E.lanes|=h),jc(f.return,h,y)}function Aw(f,h,y,E,_,D){var H=f.memoizedState;H===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:y,tailMode:_,treeForkCount:D}:(H.isBackwards=h,H.rendering=null,H.renderingStartTime=0,H.last=E,H.tail=y,H.tailMode=_,H.treeForkCount=D)}function qh(f,h,y){var E=h.pendingProps,_=E.revealOrder,D=E.tail;E=E.children;var H=Si.current,J=(H&2)!==0;if(J?(H=H&1|2,h.flags|=128):H&=1,z(Si,H),mi(f,h,E,y),E=Fn?Oi:0,!J&&f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&y2(f,y,h);else if(f.tag===19)y2(f,y,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(_){case"forwards":for(y=h.child,_=null;y!==null;)f=y.alternate,f!==null&&Jy(f)===null&&(_=y),y=y.sibling;y=_,y===null?(_=h.child,h.child=null):(_=y.sibling,y.sibling=null),Aw(h,!1,_,y,D,E);break;case"backwards":case"unstable_legacy-backwards":for(y=null,_=h.child,h.child=null;_!==null;){if(f=_.alternate,f!==null&&Jy(f)===null){h.child=_;break}f=_.sibling,_.sibling=y,y=_,_=f}Aw(h,!0,y,null,D,E);break;case"together":Aw(h,!1,null,null,void 0,E);break;default:h.memoizedState=null}return h.child}function Yl(f,h,y){if(f!==null&&(h.dependencies=f.dependencies),Gu|=h.lanes,(y&h.childLanes)===0)if(f!==null){if(Nh(f,h,y,!1),(y&h.childLanes)===0)return null}else return null;if(f!==null&&h.child!==f.child)throw Error(r(153));if(h.child!==null){for(f=h.child,y=gs(f,f.pendingProps),h.child=y,y.return=h;f.sibling!==null;)f=f.sibling,y=y.sibling=gs(f,f.pendingProps),y.return=h;y.sibling=null}return h.child}function vb(f,h){return(f.lanes&h)!==0?!0:(f=f.dependencies,!!(f!==null&&qy(f)))}function R3(f,h,y){switch(h.tag){case 3:ve(h,h.stateNode.containerInfo),Bu(h,Di,f.memoizedState.cache),ee();break;case 27:case 5:je(h);break;case 4:ve(h,h.stateNode.containerInfo);break;case 10:Bu(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Xm(h),null;break;case 13:var E=h.memoizedState;if(E!==null)return E.dehydrated!==null?(Fu(h),h.flags|=128,null):(y&h.child.childLanes)!==0?Do(f,h,y):(Fu(h),f=Yl(f,h,y),f!==null?f.sibling:null);Fu(h);break;case 19:var _=(f.flags&128)!==0;if(E=(y&h.childLanes)!==0,E||(Nh(f,h,y,!1),E=(y&h.childLanes)!==0),_){if(E)return qh(f,h,y);h.flags|=128}if(_=h.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),z(Si,Si.current),E)break;return null;case 22:return h.lanes=0,qu(f,h,y,h.pendingProps);case 24:Bu(h,Di,f.memoizedState.cache)}return Yl(f,h,y)}function b2(f,h,y){if(f!==null)if(f.memoizedProps!==h.pendingProps)si=!0;else{if(!vb(f,y)&&(h.flags&128)===0)return si=!1,R3(f,h,y);si=(f.flags&131072)!==0}else si=!1,Fn&&(h.flags&1048576)!==0&&Vy(h,Oi,h.index);switch(h.lanes=0,h.tag){case 16:e:{var E=h.pendingProps;if(f=tl(h.elementType),h.type=f,typeof f=="function")Rc(f)?(E=qo(f,E),h.tag=1,h=Tw(null,h,f,E,y)):(h.tag=0,h=yb(null,h,f,E,y));else{if(f!=null){var _=f.$$typeof;if(_===I){h.tag=11,h=Wt(null,h,f,E,y);break e}else if(_===R){h.tag=14,h=ug(null,h,f,E,y);break e}}throw h=U(f)||f,Error(r(306,h,""))}}return h;case 0:return yb(f,h,h.type,h.pendingProps,y);case 1:return E=h.type,_=qo(E,h.pendingProps),Tw(f,h,E,_,y);case 3:e:{if(ve(h,h.stateNode.containerInfo),f===null)throw Error(r(387));E=h.pendingProps;var D=h.memoizedState;_=D.element,Xy(f,h),Ph(h,E,null,y);var H=h.memoizedState;if(E=H.cache,Bu(h,Di,E),E!==D.cache&&Gx(h,[Di],y,!0),sf(),E=H.element,D.isDehydrated)if(D={element:E,isDehydrated:!1,cache:H.cache},h.updateQueue.baseState=D,h.memoizedState=D,h.flags&256){h=g2(f,h,E,y);break e}else if(E!==_){_=$a(Error(r(424)),h),ju(_),h=g2(f,h,E,y);break e}else{switch(f=h.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(fr=_s(f.firstChild),Mi=h,Fn=!0,Iu=null,xs=!0,y=Qx(h,null,E,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(ee(),E===_){h=Yl(f,h,y);break e}mi(f,h,E,y)}h=h.child}return h;case 26:return gb(f,h),f===null?(y=u_(h.type,null,h.pendingProps,null))?h.memoizedState=y:Fn||(y=h.type,f=h.pendingProps,E=Ig(ke.current).createElement(y),E[ft]=h,E[mt]=f,xo(E,y,f),Gr(E),h.stateNode=E):h.memoizedState=u_(h.type,f.memoizedProps,h.pendingProps,f.memoizedState),null;case 27:return je(h),f===null&&Fn&&(E=h.stateNode=s_(h.type,h.pendingProps,ke.current),Mi=h,xs=!0,_=fr,Jt(h.type)?(dE=_,fr=_s(E.firstChild)):fr=_),mi(f,h,h.pendingProps.children,y),gb(f,h),f===null&&(h.flags|=4194304),h.child;case 5:return f===null&&Fn&&((_=E=fr)&&(E=K3(E,h.type,h.pendingProps,xs),E!==null?(h.stateNode=E,Mi=h,fr=_s(E.firstChild),xs=!1,_=!0):_=!1),_||Pu(h)),je(h),_=h.type,D=h.pendingProps,H=f!==null?f.memoizedProps:null,E=D.children,Ju(_,D)?E=null:H!==null&&Ju(_,H)&&(h.flags|=32),h.memoizedState!==null&&(_=nb(f,h,N3,null,null,y),ap._currentValue=_),gb(f,h),mi(f,h,E,y),h.child;case 6:return f===null&&Fn&&((f=y=fr)&&(y=hr(y,h.pendingProps,xs),y!==null?(h.stateNode=y,Mi=h,fr=null,f=!0):f=!1),f||Pu(h)),null;case 13:return Do(f,h,y);case 4:return ve(h,h.stateNode.containerInfo),E=h.pendingProps,f===null?h.child=$u(h,null,E,y):mi(f,h,E,y),h.child;case 11:return Wt(f,h,h.type,h.pendingProps,y);case 7:return mi(f,h,h.pendingProps,y),h.child;case 8:return mi(f,h,h.pendingProps.children,y),h.child;case 12:return mi(f,h,h.pendingProps.children,y),h.child;case 10:return E=h.pendingProps,Bu(h,h.type,E.value),mi(f,h,E.children,y),h.child;case 9:return _=h.type._context,E=h.pendingProps.children,rf(h),_=yo(_),E=E(_),h.flags|=1,mi(f,h,E,y),h.child;case 14:return ug(f,h,h.type,h.pendingProps,y);case 15:return pb(f,h,h.type,h.pendingProps,y);case 19:return qh(f,h,y);case 31:return D3(f,h,y);case 22:return qu(f,h,y,h.pendingProps);case 24:return rf(h),E=yo(Di),f===null?(_=Xx(),_===null&&(_=Nr,D=el(),_.pooledCache=D,D.refCount++,D!==null&&(_.pooledCacheLanes|=y),_=D),h.memoizedState={parent:E,cache:_},Vl(h),Bu(h,Di,_)):((f.lanes&y)!==0&&(Xy(f,h),Ph(h,null,null,y),sf()),_=f.memoizedState,D=h.memoizedState,_.parent!==E?(_={parent:E,cache:E},h.memoizedState=_,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=_),Bu(h,Di,E)):(E=D.cache,Bu(h,Di,E),E!==_.cache&&Gx(h,[Di],y,!0))),mi(f,h,h.pendingProps.children,y),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function Hc(f){f.flags|=4}function Nw(f,h,y,E,_){if((h=(f.mode&32)!==0)&&(h=!1),h){if(f.flags|=16777216,(_&335544128)===_)if(f.stateNode.complete)f.flags|=8192;else if(Tg())f.flags|=8192;else throw zl=Gy,Yy}else f.flags&=-16777217}function Ow(f,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!m_(h))if(Tg())f.flags|=8192;else throw zl=Gy,Yy}function mg(f,h){h!==null&&(f.flags|=4),f.flags&16384&&(h=f.tag!==22?Hn():536870912,f.lanes|=h,Kh|=h)}function gg(f,h){if(!Fn)switch(f.tailMode){case"hidden":h=f.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?f.tail=null:y.sibling=null;break;case"collapsed":y=f.tail;for(var E=null;y!==null;)y.alternate!==null&&(E=y),y=y.sibling;E===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function Ar(f){var h=f.alternate!==null&&f.alternate.child===f.child,y=0,E=0;if(h)for(var _=f.child;_!==null;)y|=_.lanes|_.childLanes,E|=_.subtreeFlags&65011712,E|=_.flags&65011712,_.return=f,_=_.sibling;else for(_=f.child;_!==null;)y|=_.lanes|_.childLanes,E|=_.subtreeFlags,E|=_.flags,_.return=f,_=_.sibling;return f.subtreeFlags|=E,f.childLanes=y,h}function v2(f,h,y){var E=h.pendingProps;switch(tf(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(h),null;case 1:return Ar(h),null;case 3:return y=h.stateNode,E=null,f!==null&&(E=f.memoizedState.cache),h.memoizedState.cache!==E&&(h.flags|=2048),Lc(Di),we(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(f===null||f.child===null)&&(nf(h)?Hc(h):f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Lu())),Ar(h),null;case 26:var _=h.type,D=h.memoizedState;return f===null?(Hc(h),D!==null?(Ar(h),Ow(h,D)):(Ar(h),Nw(h,_,null,E,y))):D?D!==f.memoizedState?(Hc(h),Ar(h),Ow(h,D)):(Ar(h),h.flags&=-16777217):(f=f.memoizedProps,f!==E&&Hc(h),Ar(h),Nw(h,_,f,E,y)),null;case 27:if(Ke(h),y=ke.current,_=h.type,f!==null&&h.stateNode!=null)f.memoizedProps!==E&&Hc(h);else{if(!E){if(h.stateNode===null)throw Error(r(166));return Ar(h),null}f=fe.current,nf(h)?Vm(h):(f=s_(_,E,y),h.stateNode=f,Hc(h))}return Ar(h),null;case 5:if(Ke(h),_=h.type,f!==null&&h.stateNode!=null)f.memoizedProps!==E&&Hc(h);else{if(!E){if(h.stateNode===null)throw Error(r(166));return Ar(h),null}if(D=fe.current,nf(h))Vm(h);else{var H=Ig(ke.current);switch(D){case 1:D=H.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:D=H.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":D=H.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":D=H.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":D=H.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof E.is=="string"?H.createElement("select",{is:E.is}):H.createElement("select"),E.multiple?D.multiple=!0:E.size&&(D.size=E.size);break;default:D=typeof E.is=="string"?H.createElement(_,{is:E.is}):H.createElement(_)}}D[ft]=h,D[mt]=E;e:for(H=h.child;H!==null;){if(H.tag===5||H.tag===6)D.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===h)break e;for(;H.sibling===null;){if(H.return===null||H.return===h)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}h.stateNode=D;e:switch(xo(D,_,E),_){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}E&&Hc(h)}}return Ar(h),Nw(h,h.type,f===null?null:f.memoizedProps,h.pendingProps,y),null;case 6:if(f&&h.stateNode!=null)f.memoizedProps!==E&&Hc(h);else{if(typeof E!="string"&&h.stateNode===null)throw Error(r(166));if(f=ke.current,nf(h)){if(f=h.stateNode,y=h.memoizedProps,E=null,_=Mi,_!==null)switch(_.tag){case 27:case 5:E=_.memoizedProps}f[ft]=h,f=!!(f.nodeValue===y||E!==null&&E.suppressHydrationWarning===!0||e_(f.nodeValue,y)),f||Pu(h,!0)}else f=Ig(f).createTextNode(E),f[ft]=h,h.stateNode=f}return Ar(h),null;case 31:if(y=h.memoizedState,f===null||f.memoizedState!==null){if(E=nf(h),y!==null){if(f===null){if(!E)throw Error(r(318));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(557));f[ft]=h}else ee(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ar(h),f=!1}else y=Lu(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=y),f=!0;if(!f)return h.flags&256?(oa(h),h):(oa(h),null);if((h.flags&128)!==0)throw Error(r(558))}return Ar(h),null;case 13:if(E=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(_=nf(h),E!==null&&E.dehydrated!==null){if(f===null){if(!_)throw Error(r(318));if(_=h.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[ft]=h}else ee(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ar(h),_=!1}else _=Lu(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=_),_=!0;if(!_)return h.flags&256?(oa(h),h):(oa(h),null)}return oa(h),(h.flags&128)!==0?(h.lanes=y,h):(y=E!==null,f=f!==null&&f.memoizedState!==null,y&&(E=h.child,_=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(_=E.alternate.memoizedState.cachePool.pool),D=null,E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(D=E.memoizedState.cachePool.pool),D!==_&&(E.flags|=2048)),y!==f&&y&&(h.child.flags|=8192),mg(h,h.updateQueue),Ar(h),null);case 4:return we(),f===null&&iE(h.stateNode.containerInfo),Ar(h),null;case 10:return Lc(h.type),Ar(h),null;case 19:if(te(Si),E=h.memoizedState,E===null)return Ar(h),null;if(_=(h.flags&128)!==0,D=E.rendering,D===null)if(_)gg(E,!1);else{if(li!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(D=Jy(f),D!==null){for(h.flags|=128,gg(E,!1),f=D.updateQueue,h.updateQueue=f,mg(h,f),h.subtreeFlags=0,f=y,y=h.child;y!==null;)Wk(y,f),y=y.sibling;return z(Si,Si.current&1|2),Fn&&Ha(h,E.treeForkCount),h.child}f=f.sibling}E.tail!==null&&Ze()>ff&&(h.flags|=128,_=!0,gg(E,!1),h.lanes=4194304)}else{if(!_)if(f=Jy(D),f!==null){if(h.flags|=128,_=!0,f=f.updateQueue,h.updateQueue=f,mg(h,f),gg(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!Fn)return Ar(h),null}else 2*Ze()-E.renderingStartTime>ff&&y!==536870912&&(h.flags|=128,_=!0,gg(E,!1),h.lanes=4194304);E.isBackwards?(D.sibling=h.child,h.child=D):(f=E.last,f!==null?f.sibling=D:h.child=D,E.last=D)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=Ze(),f.sibling=null,y=Si.current,z(Si,_?y&1|2:y&1),Fn&&Ha(h,E.treeForkCount),f):(Ar(h),null);case 22:case 23:return oa(h),Km(),E=h.memoizedState!==null,f!==null?f.memoizedState!==null!==E&&(h.flags|=8192):E&&(h.flags|=8192),E?(y&536870912)!==0&&(h.flags&128)===0&&(Ar(h),h.subtreeFlags&6&&(h.flags|=8192)):Ar(h),y=h.updateQueue,y!==null&&mg(h,y.retryQueue),y=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),E=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==y&&(h.flags|=2048),f!==null&&te(af),null;case 24:return y=null,f!==null&&(y=f.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),Lc(Di),Ar(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function yg(f,h){switch(tf(h),h.tag){case 1:return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return Lc(Di),we(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 26:case 27:case 5:return Ke(h),null;case 31:if(h.memoizedState!==null){if(oa(h),h.alternate===null)throw Error(r(340));ee()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 13:if(oa(h),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(r(340));ee()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return te(Si),null;case 4:return we(),null;case 10:return Lc(h.type),null;case 22:case 23:return oa(h),Km(),f!==null&&te(af),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 24:return Lc(Di),null;case 25:return null;default:return null}}function xb(f,h){switch(tf(h),h.tag){case 3:Lc(Di),we();break;case 26:case 27:case 5:Ke(h);break;case 4:we();break;case 31:h.memoizedState!==null&&oa(h);break;case 13:oa(h);break;case 19:te(Si);break;case 10:Lc(h.type);break;case 22:case 23:oa(h),Km(),f!==null&&te(af);break;case 24:Lc(Di)}}function Wh(f,h){try{var y=h.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var _=E.next;y=_;do{if((y.tag&f)===f){E=void 0;var D=y.create,H=y.inst;E=D(),H.destroy=E}y=y.next}while(y!==_)}}catch(J){br(h,h.return,J)}}function Fc(f,h,y){try{var E=h.updateQueue,_=E!==null?E.lastEffect:null;if(_!==null){var D=_.next;E=D;do{if((E.tag&f)===f){var H=E.inst,J=H.destroy;if(J!==void 0){H.destroy=void 0,_=h;var de=y,Oe=J;try{Oe()}catch(Ue){br(_,de,Ue)}}}E=E.next}while(E!==D)}}catch(Ue){br(h,h.return,Ue)}}function bg(f){var h=f.updateQueue;if(h!==null){var y=f.stateNode;try{Qy(h,y)}catch(E){br(f,f.return,E)}}}function Mw(f,h,y){y.props=qo(f.type,f.memoizedProps),y.state=f.memoizedState;try{y.componentWillUnmount()}catch(E){br(f,h,E)}}function sa(f,h){try{var y=f.ref;if(y!==null){switch(f.tag){case 26:case 27:case 5:var E=f.stateNode;break;case 30:E=f.stateNode;break;default:E=f.stateNode}typeof y=="function"?f.refCleanup=y(E):y.current=E}}catch(_){br(f,h,_)}}function Ro(f,h){var y=f.ref,E=f.refCleanup;if(y!==null)if(typeof E=="function")try{E()}catch(_){br(f,h,_)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(_){br(f,h,_)}else y.current=null}function x2(f){var h=f.type,y=f.memoizedProps,E=f.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":y.autoFocus&&E.focus();break e;case"img":y.src?E.src=y.src:y.srcSet&&(E.srcset=y.srcSet)}}catch(_){br(f,f.return,_)}}function wb(f,h,y){try{var E=f.stateNode;W3(E,f.type,y,h),E[mt]=h}catch(_){br(f,f.return,_)}}function w2(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Jt(f.type)||f.tag===4}function Dw(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||w2(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Jt(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Rw(f,h,y){var E=f.tag;if(E===5||E===6)f=f.stateNode,h?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(f,h):(h=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,h.appendChild(f),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=Nc));else if(E!==4&&(E===27&&Jt(f.type)&&(y=f.stateNode,h=null),f=f.child,f!==null))for(Rw(f,h,y),f=f.sibling;f!==null;)Rw(f,h,y),f=f.sibling}function Eb(f,h,y){var E=f.tag;if(E===5||E===6)f=f.stateNode,h?y.insertBefore(f,h):y.appendChild(f);else if(E!==4&&(E===27&&Jt(f.type)&&(y=f.stateNode),f=f.child,f!==null))for(Eb(f,h,y),f=f.sibling;f!==null;)Eb(f,h,y),f=f.sibling}function E2(f){var h=f.stateNode,y=f.memoizedProps;try{for(var E=f.type,_=h.attributes;_.length;)h.removeAttributeNode(_[0]);xo(h,E,y),h[ft]=f,h[mt]=y}catch(D){br(f,f.return,D)}}var Uc=!1,Ri=!1,Iw=!1,S2=typeof WeakSet=="function"?WeakSet:Set,Qi=null;function I3(f,h){if(f=f.containerInfo,Rg=zb,f=Uk(f),qx(f)){if("selectionStart"in f)var y={start:f.selectionStart,end:f.selectionEnd};else e:{y=(y=f.ownerDocument)&&y.defaultView||window;var E=y.getSelection&&y.getSelection();if(E&&E.rangeCount!==0){y=E.anchorNode;var _=E.anchorOffset,D=E.focusNode;E=E.focusOffset;try{y.nodeType,D.nodeType}catch{y=null;break e}var H=0,J=-1,de=-1,Oe=0,Ue=0,We=f,De=null;t:for(;;){for(var Le;We!==y||_!==0&&We.nodeType!==3||(J=H+_),We!==D||E!==0&&We.nodeType!==3||(de=H+E),We.nodeType===3&&(H+=We.nodeValue.length),(Le=We.firstChild)!==null;)De=We,We=Le;for(;;){if(We===f)break t;if(De===y&&++Oe===_&&(J=H),De===D&&++Ue===E&&(de=H),(Le=We.nextSibling)!==null)break;We=De,De=We.parentNode}We=Le}y=J===-1||de===-1?null:{start:J,end:de}}else y=null}y=y||{start:0,end:0}}else y=null;for(lE={focusedElem:f,selectionRange:y},zb=!1,Qi=h;Qi!==null;)if(h=Qi,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,Qi=f;else for(;Qi!==null;){switch(h=Qi,D=h.alternate,f=h.flags,h.tag){case 0:if((f&4)!==0&&(f=h.updateQueue,f=f!==null?f.events:null,f!==null))for(y=0;y<f.length;y++)_=f[y],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&D!==null){f=void 0,y=h,_=D.memoizedProps,D=D.memoizedState,E=y.stateNode;try{var wt=qo(y.type,_);f=E.getSnapshotBeforeUpdate(wt,D),E.__reactInternalSnapshotBeforeUpdate=f}catch(Yt){br(y,y.return,Yt)}}break;case 3:if((f&1024)!==0){if(f=h.stateNode.containerInfo,y=f.nodeType,y===9)Pb(f);else if(y===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":Pb(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=h.sibling,f!==null){f.return=h.return,Qi=f;break}Qi=h.return}}function Pw(f,h,y){var E=y.flags;switch(y.tag){case 0:case 11:case 15:Vc(f,y),E&4&&Wh(5,y);break;case 1:if(Vc(f,y),E&4)if(f=y.stateNode,h===null)try{f.componentDidMount()}catch(H){br(y,y.return,H)}else{var _=qo(y.type,h.memoizedProps);h=h.memoizedState;try{f.componentDidUpdate(_,h,f.__reactInternalSnapshotBeforeUpdate)}catch(H){br(y,y.return,H)}}E&64&&bg(y),E&512&&sa(y,y.return);break;case 3:if(Vc(f,y),E&64&&(f=y.updateQueue,f!==null)){if(h=null,y.child!==null)switch(y.child.tag){case 27:case 5:h=y.child.stateNode;break;case 1:h=y.child.stateNode}try{Qy(f,h)}catch(H){br(y,y.return,H)}}break;case 27:h===null&&E&4&&E2(y);case 26:case 5:Vc(f,y),h===null&&E&4&&x2(y),E&512&&sa(y,y.return);break;case 12:Vc(f,y);break;case 31:Vc(f,y),E&4&&jw(f,y);break;case 13:Vc(f,y),E&4&&T2(f,y),E&64&&(f=y.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(y=Ob.bind(null,y),X3(f,y))));break;case 22:if(E=y.memoizedState!==null||Uc,!E){h=h!==null&&h.memoizedState!==null||Ri,_=Uc;var D=Ri;Uc=E,(Ri=h)&&!D?Gl(f,y,(y.subtreeFlags&8772)!==0):Vc(f,y),Uc=_,Ri=D}break;case 30:break;default:Vc(f,y)}}function Lw(f){var h=f.alternate;h!==null&&(f.alternate=null,Lw(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&Xs(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var $r=null,la=!1;function zc(f,h,y){for(y=y.child;y!==null;)C2(f,h,y),y=y.sibling}function C2(f,h,y){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(or,y)}catch{}switch(y.tag){case 26:Ri||Ro(y,h),zc(f,h,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:Ri||Ro(y,h);var E=$r,_=la;Jt(y.type)&&($r=y.stateNode,la=!1),zc(f,h,y),Lg(y.stateNode),$r=E,la=_;break;case 5:Ri||Ro(y,h);case 6:if(E=$r,_=la,$r=null,zc(f,h,y),$r=E,la=_,$r!==null)if(la)try{($r.nodeType===9?$r.body:$r.nodeName==="HTML"?$r.ownerDocument.body:$r).removeChild(y.stateNode)}catch(D){br(y,h,D)}else try{$r.removeChild(y.stateNode)}catch(D){br(y,h,D)}break;case 18:$r!==null&&(la?(f=$r,uE(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,y.stateNode),lp(f)):uE($r,y.stateNode));break;case 4:E=$r,_=la,$r=y.stateNode.containerInfo,la=!0,zc(f,h,y),$r=E,la=_;break;case 0:case 11:case 14:case 15:Fc(2,y,h),Ri||Fc(4,y,h),zc(f,h,y);break;case 1:Ri||(Ro(y,h),E=y.stateNode,typeof E.componentWillUnmount=="function"&&Mw(y,h,E)),zc(f,h,y);break;case 21:zc(f,h,y);break;case 22:Ri=(E=Ri)||y.memoizedState!==null,zc(f,h,y),Ri=E;break;default:zc(f,h,y)}}function jw(f,h){if(h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{lp(f)}catch(y){br(h,h.return,y)}}}function T2(f,h){if(h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{lp(f)}catch(y){br(h,h.return,y)}}function P3(f){switch(f.tag){case 31:case 13:case 19:var h=f.stateNode;return h===null&&(h=f.stateNode=new S2),h;case 22:return f=f.stateNode,h=f._retryCache,h===null&&(h=f._retryCache=new S2),h;default:throw Error(r(435,f.tag))}}function Sb(f,h){var y=P3(f);h.forEach(function(E){if(!y.has(E)){y.add(E);var _=U3.bind(null,f,E);E.then(_,_)}})}function ca(f,h){var y=h.deletions;if(y!==null)for(var E=0;E<y.length;E++){var _=y[E],D=f,H=h,J=H;e:for(;J!==null;){switch(J.tag){case 27:if(Jt(J.type)){$r=J.stateNode,la=!1;break e}break;case 5:$r=J.stateNode,la=!1;break e;case 3:case 4:$r=J.stateNode.containerInfo,la=!0;break e}J=J.return}if($r===null)throw Error(r(160));C2(D,H,_),$r=null,la=!1,D=_.alternate,D!==null&&(D.return=null),_.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)k2(h,f),h=h.sibling}var ll=null;function k2(f,h){var y=f.alternate,E=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:ca(h,f),Hr(f),E&4&&(Fc(3,f,f.return),Wh(3,f),Fc(5,f,f.return));break;case 1:ca(h,f),Hr(f),E&512&&(Ri||y===null||Ro(y,y.return)),E&64&&Uc&&(f=f.updateQueue,f!==null&&(E=f.callbacks,E!==null&&(y=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=y===null?E:y.concat(E))));break;case 26:var _=ll;if(ca(h,f),Hr(f),E&512&&(Ri||y===null||Ro(y,y.return)),E&4){var D=y!==null?y.memoizedState:null;if(E=f.memoizedState,y===null)if(E===null)if(f.stateNode===null){e:{E=f.type,y=f.memoizedProps,_=_.ownerDocument||_;t:switch(E){case"title":D=_.getElementsByTagName("title")[0],(!D||D[ar]||D[ft]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=_.createElement(E),_.head.insertBefore(D,_.querySelector("head > title"))),xo(D,E,y),D[ft]=f,Gr(D),E=D;break e;case"link":var H=h_("link","href",_).get(E+(y.href||""));if(H){for(var J=0;J<H.length;J++)if(D=H[J],D.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&D.getAttribute("rel")===(y.rel==null?null:y.rel)&&D.getAttribute("title")===(y.title==null?null:y.title)&&D.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){H.splice(J,1);break t}}D=_.createElement(E),xo(D,E,y),_.head.appendChild(D);break;case"meta":if(H=h_("meta","content",_).get(E+(y.content||""))){for(J=0;J<H.length;J++)if(D=H[J],D.getAttribute("content")===(y.content==null?null:""+y.content)&&D.getAttribute("name")===(y.name==null?null:y.name)&&D.getAttribute("property")===(y.property==null?null:y.property)&&D.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&D.getAttribute("charset")===(y.charSet==null?null:y.charSet)){H.splice(J,1);break t}}D=_.createElement(E),xo(D,E,y),_.head.appendChild(D);break;default:throw Error(r(468,E))}D[ft]=f,Gr(D),E=D}f.stateNode=E}else p_(_,f.type,f.stateNode);else f.stateNode=f_(_,E,f.memoizedProps);else D!==E?(D===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):D.count--,E===null?p_(_,f.type,f.stateNode):f_(_,E,f.memoizedProps)):E===null&&f.stateNode!==null&&wb(f,f.memoizedProps,y.memoizedProps)}break;case 27:ca(h,f),Hr(f),E&512&&(Ri||y===null||Ro(y,y.return)),y!==null&&E&4&&wb(f,f.memoizedProps,y.memoizedProps);break;case 5:if(ca(h,f),Hr(f),E&512&&(Ri||y===null||Ro(y,y.return)),f.flags&32){_=f.stateNode;try{Zs(_,"")}catch(wt){br(f,f.return,wt)}}E&4&&f.stateNode!=null&&(_=f.memoizedProps,wb(f,_,y!==null?y.memoizedProps:_)),E&1024&&(Iw=!0);break;case 6:if(ca(h,f),Hr(f),E&4){if(f.stateNode===null)throw Error(r(162));E=f.memoizedProps,y=f.stateNode;try{y.nodeValue=E}catch(wt){br(f,f.return,wt)}}break;case 3:if(jg=null,_=ll,ll=jb(h.containerInfo),ca(h,f),ll=_,Hr(f),E&4&&y!==null&&y.memoizedState.isDehydrated)try{lp(h.containerInfo)}catch(wt){br(f,f.return,wt)}Iw&&(Iw=!1,_2(f));break;case 4:E=ll,ll=jb(f.stateNode.containerInfo),ca(h,f),Hr(f),ll=E;break;case 12:ca(h,f),Hr(f);break;case 31:ca(h,f),Hr(f),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,Sb(f,E)));break;case 13:ca(h,f),Hr(f),f.child.flags&8192&&f.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Sg=Ze()),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,Sb(f,E)));break;case 22:_=f.memoizedState!==null;var de=y!==null&&y.memoizedState!==null,Oe=Uc,Ue=Ri;if(Uc=Oe||_,Ri=Ue||de,ca(h,f),Ri=Ue,Uc=Oe,Hr(f),E&8192)e:for(h=f.stateNode,h._visibility=_?h._visibility&-2:h._visibility|1,_&&(y===null||de||Uc||Ri||uf(f)),y=null,h=f;;){if(h.tag===5||h.tag===26){if(y===null){de=y=h;try{if(D=de.stateNode,_)H=D.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{J=de.stateNode;var We=de.memoizedProps.style,De=We!=null&&We.hasOwnProperty("display")?We.display:null;J.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(wt){br(de,de.return,wt)}}}else if(h.tag===6){if(y===null){de=h;try{de.stateNode.nodeValue=_?"":de.memoizedProps}catch(wt){br(de,de.return,wt)}}}else if(h.tag===18){if(y===null){de=h;try{var Le=de.stateNode;_?Za(Le,!0):Za(de.stateNode,!1)}catch(wt){br(de,de.return,wt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===f)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;y===h&&(y=null),h=h.return}y===h&&(y=null),h.sibling.return=h.return,h=h.sibling}E&4&&(E=f.updateQueue,E!==null&&(y=E.retryQueue,y!==null&&(E.retryQueue=null,Sb(f,y))));break;case 19:ca(h,f),Hr(f),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,Sb(f,E)));break;case 30:break;case 21:break;default:ca(h,f),Hr(f)}}function Hr(f){var h=f.flags;if(h&2){try{for(var y,E=f.return;E!==null;){if(w2(E)){y=E;break}E=E.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var _=y.stateNode,D=Dw(f);Eb(f,D,_);break;case 5:var H=y.stateNode;y.flags&32&&(Zs(H,""),y.flags&=-33);var J=Dw(f);Eb(f,J,H);break;case 3:case 4:var de=y.stateNode.containerInfo,Oe=Dw(f);Rw(f,Oe,de);break;default:throw Error(r(161))}}catch(Ue){br(f,f.return,Ue)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function _2(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var h=f;_2(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),f=f.sibling}}function Vc(f,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Pw(f,h.alternate,h),h=h.sibling}function uf(f){for(f=f.child;f!==null;){var h=f;switch(h.tag){case 0:case 11:case 14:case 15:Fc(4,h,h.return),uf(h);break;case 1:Ro(h,h.return);var y=h.stateNode;typeof y.componentWillUnmount=="function"&&Mw(h,h.return,y),uf(h);break;case 27:Lg(h.stateNode);case 26:case 5:Ro(h,h.return),uf(h);break;case 22:h.memoizedState===null&&uf(h);break;case 30:uf(h);break;default:uf(h)}f=f.sibling}}function Gl(f,h,y){for(y=y&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var E=h.alternate,_=f,D=h,H=D.flags;switch(D.tag){case 0:case 11:case 15:Gl(_,D,y),Wh(4,D);break;case 1:if(Gl(_,D,y),E=D,_=E.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Oe){br(E,E.return,Oe)}if(E=D,_=E.updateQueue,_!==null){var J=E.stateNode;try{var de=_.shared.hiddenCallbacks;if(de!==null)for(_.shared.hiddenCallbacks=null,_=0;_<de.length;_++)il(de[_],J)}catch(Oe){br(E,E.return,Oe)}}y&&H&64&&bg(D),sa(D,D.return);break;case 27:E2(D);case 26:case 5:Gl(_,D,y),y&&E===null&&H&4&&x2(D),sa(D,D.return);break;case 12:Gl(_,D,y);break;case 31:Gl(_,D,y),y&&H&4&&jw(_,D);break;case 13:Gl(_,D,y),y&&H&4&&T2(_,D);break;case 22:D.memoizedState===null&&Gl(_,D,y),sa(D,D.return);break;case 30:break;default:Gl(_,D,y)}h=h.sibling}}function Bw(f,h){var y=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),f=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(f=h.memoizedState.cachePool.pool),f!==y&&(f!=null&&f.refCount++,y!=null&&qm(y))}function $w(f,h){f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&qm(f))}function cl(f,h,y,E){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)A2(f,h,y,E),h=h.sibling}function A2(f,h,y,E){var _=h.flags;switch(h.tag){case 0:case 11:case 15:cl(f,h,y,E),_&2048&&Wh(9,h);break;case 1:cl(f,h,y,E);break;case 3:cl(f,h,y,E),_&2048&&(f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&qm(f)));break;case 12:if(_&2048){cl(f,h,y,E),f=h.stateNode;try{var D=h.memoizedProps,H=D.id,J=D.onPostCommit;typeof J=="function"&&J(H,h.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(de){br(h,h.return,de)}}else cl(f,h,y,E);break;case 31:cl(f,h,y,E);break;case 13:cl(f,h,y,E);break;case 23:break;case 22:D=h.stateNode,H=h.alternate,h.memoizedState!==null?D._visibility&2?cl(f,h,y,E):vg(f,h):D._visibility&2?cl(f,h,y,E):(D._visibility|=2,Wu(f,h,y,E,(h.subtreeFlags&10256)!==0||!1)),_&2048&&Bw(H,h);break;case 24:cl(f,h,y,E),_&2048&&$w(h.alternate,h);break;default:cl(f,h,y,E)}}function Wu(f,h,y,E,_){for(_=_&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var D=f,H=h,J=y,de=E,Oe=H.flags;switch(H.tag){case 0:case 11:case 15:Wu(D,H,J,de,_),Wh(8,H);break;case 23:break;case 22:var Ue=H.stateNode;H.memoizedState!==null?Ue._visibility&2?Wu(D,H,J,de,_):vg(D,H):(Ue._visibility|=2,Wu(D,H,J,de,_)),_&&Oe&2048&&Bw(H.alternate,H);break;case 24:Wu(D,H,J,de,_),_&&Oe&2048&&$w(H.alternate,H);break;default:Wu(D,H,J,de,_)}h=h.sibling}}function vg(f,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var y=f,E=h,_=E.flags;switch(E.tag){case 22:vg(y,E),_&2048&&Bw(E.alternate,E);break;case 24:vg(y,E),_&2048&&$w(E.alternate,E);break;default:vg(y,E)}h=h.sibling}}var xg=8192;function Yh(f,h,y){if(f.subtreeFlags&xg)for(f=f.child;f!==null;)N2(f,h,y),f=f.sibling}function N2(f,h,y){switch(f.tag){case 26:Yh(f,h,y),f.flags&xg&&f.memoizedState!==null&&op(y,ll,f.memoizedState,f.memoizedProps);break;case 5:Yh(f,h,y);break;case 3:case 4:var E=ll;ll=jb(f.stateNode.containerInfo),Yh(f,h,y),ll=E;break;case 22:f.memoizedState===null&&(E=f.alternate,E!==null&&E.memoizedState!==null?(E=xg,xg=16777216,Yh(f,h,y),xg=E):Yh(f,h,y));break;default:Yh(f,h,y)}}function O2(f){var h=f.alternate;if(h!==null&&(f=h.child,f!==null)){h.child=null;do h=f.sibling,f.sibling=null,f=h;while(f!==null)}}function wg(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var E=h[y];Qi=E,D2(E,f)}O2(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)M2(f),f=f.sibling}function M2(f){switch(f.tag){case 0:case 11:case 15:wg(f),f.flags&2048&&Fc(9,f,f.return);break;case 3:wg(f);break;case 12:wg(f);break;case 22:var h=f.stateNode;f.memoizedState!==null&&h._visibility&2&&(f.return===null||f.return.tag!==13)?(h._visibility&=-3,Cb(f)):wg(f);break;default:wg(f)}}function Cb(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var E=h[y];Qi=E,D2(E,f)}O2(f)}for(f=f.child;f!==null;){switch(h=f,h.tag){case 0:case 11:case 15:Fc(8,h,h.return),Cb(h);break;case 22:y=h.stateNode,y._visibility&2&&(y._visibility&=-3,Cb(h));break;default:Cb(h)}f=f.sibling}}function D2(f,h){for(;Qi!==null;){var y=Qi;switch(y.tag){case 0:case 11:case 15:Fc(8,y,h);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var E=y.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:qm(y.memoizedState.cache)}if(E=y.child,E!==null)E.return=y,Qi=E;else e:for(y=f;Qi!==null;){E=Qi;var _=E.sibling,D=E.return;if(Lw(E),E===y){Qi=null;break e}if(_!==null){_.return=D,Qi=_;break e}Qi=D}}}var L3={getCacheForType:function(f){var h=yo(Di),y=h.data.get(f);return y===void 0&&(y=f(),h.data.set(f,y)),y},cacheSignal:function(){return yo(Di).controller.signal}},j3=typeof WeakMap=="function"?WeakMap:Map,sr=0,Nr=null,On=null,In=0,yr=0,Wa=null,Yu=!1,Gh=!1,Hw=!1,ul=0,li=0,Gu=0,df=0,Fw=0,Ya=0,Kh=0,Eg=null,ua=null,Uw=!1,Sg=0,R2=0,ff=1/0,Tb=null,Ku=null,Ui=0,Xu=null,Xh=null,qc=0,zw=0,Vw=null,I2=null,Cg=0,qw=null;function Ga(){return(sr&2)!==0&&In!==0?In&-In:q.T!==null?Ka():At()}function P2(){if(Ya===0)if((In&536870912)===0||Fn){var f=kt;kt<<=1,(kt&3932160)===0&&(kt=262144),Ya=f}else Ya=536870912;return f=Ua.current,f!==null&&(f.flags|=32),Ya}function da(f,h,y){(f===Nr&&(yr===2||yr===9)||f.cancelPendingCommit!==null)&&(Zh(f,0),Wc(f,In,Ya,!1)),se(f,y),((sr&2)===0||f!==Nr)&&(f===Nr&&((sr&2)===0&&(df|=y),li===4&&Wc(f,In,Ya,!1)),Kl(f))}function L2(f,h,y){if((sr&6)!==0)throw Error(r(327));var E=!y&&(h&127)===0&&(h&f.expiredLanes)===0||on(f,h),_=E?$3(f,h):Yw(f,h,!0),D=E;do{if(_===0){Gh&&!E&&Wc(f,h,0,!1);break}else{if(y=f.current.alternate,D&&!B2(y)){_=Yw(f,h,!1),D=!1;continue}if(_===2){if(D=h,f.errorRecoveryDisabledLanes&D)var H=0;else H=f.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){h=H;e:{var J=f;_=Eg;var de=J.current.memoizedState.isDehydrated;if(de&&(Zh(J,H).flags|=256),H=Yw(J,H,!1),H!==2){if(Hw&&!de){J.errorRecoveryDisabledLanes|=D,df|=D,_=4;break e}D=ua,ua=_,D!==null&&(ua===null?ua=D:ua.push.apply(ua,D))}_=H}if(D=!1,_!==2)continue}}if(_===1){Zh(f,0),Wc(f,h,0,!0);break}e:{switch(E=f,D=_,D){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:Wc(E,h,Ya,!Yu);break e;case 2:ua=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(_=Sg+300-Ze(),10<_)){if(Wc(E,h,Ya,!Yu),xt(E,0,!0)!==0)break e;qc=h,E.timeoutHandle=t_(j2.bind(null,E,y,ua,Tb,Uw,h,Ya,df,Kh,Yu,D,"Throttled",-0,0),_);break e}j2(E,y,ua,Tb,Uw,h,Ya,df,Kh,Yu,D,null,-0,0)}}break}while(!0);Kl(f)}function j2(f,h,y,E,_,D,H,J,de,Oe,Ue,We,De,Le){if(f.timeoutHandle=-1,We=h.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nc},N2(h,D,We);var wt=(D&62914560)===D?Sg-Ze():(D&4194048)===D?R2-Ze():0;if(wt=oI(We,wt),wt!==null){qc=D,f.cancelPendingCommit=wt(V2.bind(null,f,h,D,y,E,_,H,J,de,Ue,We,null,De,Le)),Wc(f,D,H,!Oe);return}}V2(f,h,D,y,E,_,H,J,de)}function B2(f){for(var h=f;;){var y=h.tag;if((y===0||y===11||y===15)&&h.flags&16384&&(y=h.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var E=0;E<y.length;E++){var _=y[E],D=_.getSnapshot;_=_.value;try{if(!ai(D(),_))return!1}catch{return!1}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Wc(f,h,y,E){h&=~Fw,h&=~df,f.suspendedLanes|=h,f.pingedLanes&=~h,E&&(f.warmLanes|=h),E=f.expirationTimes;for(var _=h;0<_;){var D=31-un(_),H=1<<D;E[D]=-1,_&=~H}y!==0&&Re(f,y,h)}function kb(){return(sr&6)===0?(Ng(0),!1):!0}function Ww(){if(On!==null){if(yr===0)var f=On.return;else f=On,Pc=dn=null,tw(f),Rh=null,Fa=0,f=On;for(;f!==null;)xb(f.alternate,f),f=f.return;On=null}}function Zh(f,h){var y=f.timeoutHandle;y!==-1&&(f.timeoutHandle=-1,G3(y)),y=f.cancelPendingCommit,y!==null&&(f.cancelPendingCommit=null,y()),qc=0,Ww(),Nr=f,On=y=gs(f.current,null),In=h,yr=0,Wa=null,Yu=!1,Gh=on(f,h),Hw=!1,Kh=Ya=Fw=df=Gu=li=0,ua=Eg=null,Uw=!1,(h&8)!==0&&(h|=h&32);var E=f.entangledLanes;if(E!==0)for(f=f.entanglements,E&=h;0<E;){var _=31-un(E),D=1<<_;h|=f[_],E&=~D}return ul=h,Js(),y}function $2(f,h){fn=null,q.H=Vu,h===Dh||h===Ym?(h=Qk(),yr=3):h===Yy?(h=Qk(),yr=4):yr=h===cg?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Wa=h,On===null&&(li=1,lg(f,$a(h,f.current)))}function Tg(){var f=Ua.current;return f===null?!0:(In&4194048)===In?Cs===null:(In&62914560)===In||(In&536870912)!==0?f===Cs:!1}function H2(){var f=q.H;return q.H=Vu,f===null?Vu:f}function F2(){var f=q.A;return q.A=L3,f}function _b(){li=4,Yu||(In&4194048)!==In&&Ua.current!==null||(Gh=!0),(Gu&134217727)===0&&(df&134217727)===0||Nr===null||Wc(Nr,In,Ya,!1)}function Yw(f,h,y){var E=sr;sr|=2;var _=H2(),D=F2();(Nr!==f||In!==h)&&(Tb=null,Zh(f,h)),h=!1;var H=li;e:do try{if(yr!==0&&On!==null){var J=On,de=Wa;switch(yr){case 8:Ww(),H=6;break e;case 3:case 2:case 9:case 6:Ua.current===null&&(h=!0);var Oe=yr;if(yr=0,Wa=null,Qh(f,J,de,Oe),y&&Gh){H=0;break e}break;default:Oe=yr,yr=0,Wa=null,Qh(f,J,de,Oe)}}B3(),H=li;break}catch(Ue){$2(f,Ue)}while(!0);return h&&f.shellSuspendCounter++,Pc=dn=null,sr=E,q.H=_,q.A=D,On===null&&(Nr=null,In=0,Js()),H}function B3(){for(;On!==null;)U2(On)}function $3(f,h){var y=sr;sr|=2;var E=H2(),_=F2();Nr!==f||In!==h?(Tb=null,ff=Ze()+500,Zh(f,h)):Gh=on(f,h);e:do try{if(yr!==0&&On!==null){h=On;var D=Wa;t:switch(yr){case 1:yr=0,Wa=null,Qh(f,h,D,1);break;case 2:case 9:if(Zk(D)){yr=0,Wa=null,z2(h);break}h=function(){yr!==2&&yr!==9||Nr!==f||(yr=7),Kl(f)},D.then(h,h);break e;case 3:yr=7;break e;case 4:yr=5;break e;case 7:Zk(D)?(yr=0,Wa=null,z2(h)):(yr=0,Wa=null,Qh(f,h,D,7));break;case 5:var H=null;switch(On.tag){case 26:H=On.memoizedState;case 5:case 27:var J=On;if(H?m_(H):J.stateNode.complete){yr=0,Wa=null;var de=J.sibling;if(de!==null)On=de;else{var Oe=J.return;Oe!==null?(On=Oe,Ab(Oe)):On=null}break t}}yr=0,Wa=null,Qh(f,h,D,5);break;case 6:yr=0,Wa=null,Qh(f,h,D,6);break;case 8:Ww(),li=6;break e;default:throw Error(r(462))}}H3();break}catch(Ue){$2(f,Ue)}while(!0);return Pc=dn=null,q.H=E,q.A=_,sr=y,On!==null?0:(Nr=null,In=0,Js(),li)}function H3(){for(;On!==null&&!Te();)U2(On)}function U2(f){var h=b2(f.alternate,f,ul);f.memoizedProps=f.pendingProps,h===null?Ab(f):On=h}function z2(f){var h=f,y=h.alternate;switch(h.tag){case 15:case 0:h=m2(y,h,h.pendingProps,h.type,void 0,In);break;case 11:h=m2(y,h,h.pendingProps,h.type.render,h.ref,In);break;case 5:tw(h);default:xb(y,h),h=On=Wk(h,ul),h=b2(y,h,ul)}f.memoizedProps=f.pendingProps,h===null?Ab(f):On=h}function Qh(f,h,y,E){Pc=dn=null,tw(h),Rh=null,Fa=0;var _=h.return;try{if(Cw(f,_,h,y,In)){li=1,lg(f,$a(y,f.current)),On=null;return}}catch(D){if(_!==null)throw On=_,D;li=1,lg(f,$a(y,f.current)),On=null;return}h.flags&32768?(Fn||E===1?f=!0:Gh||(In&536870912)!==0?f=!1:(Yu=f=!0,(E===2||E===9||E===3||E===6)&&(E=Ua.current,E!==null&&E.tag===13&&(E.flags|=16384))),kg(h,f)):Ab(h)}function Ab(f){var h=f;do{if((h.flags&32768)!==0){kg(h,Yu);return}f=h.return;var y=v2(h.alternate,h,ul);if(y!==null){On=y;return}if(h=h.sibling,h!==null){On=h;return}On=h=f}while(h!==null);li===0&&(li=5)}function kg(f,h){do{var y=yg(f.alternate,f);if(y!==null){y.flags&=32767,On=y;return}if(y=f.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!h&&(f=f.sibling,f!==null)){On=f;return}On=f=y}while(f!==null);li=6,On=null}function V2(f,h,y,E,_,D,H,J,de){f.cancelPendingCommit=null;do _g();while(Ui!==0);if((sr&6)!==0)throw Error(r(327));if(h!==null){if(h===f.current)throw Error(r(177));if(D=h.lanes|h.childLanes,D|=Sh,ye(f,y,D,H,J,de),f===Nr&&(On=Nr=null,In=0),Xh=h,Xu=f,qc=y,zw=D,Vw=_,I2=E,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,z3(it,function(){return Zw(),null})):(f.callbackNode=null,f.callbackPriority=0),E=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||E){E=q.T,q.T=null,_=ne.p,ne.p=2,H=sr,sr|=4;try{I3(f,h,y)}finally{sr=H,ne.p=_,q.T=E}}Ui=1,Gw(),Kw(),Nb()}}function Gw(){if(Ui===1){Ui=0;var f=Xu,h=Xh,y=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||y){y=q.T,q.T=null;var E=ne.p;ne.p=2;var _=sr;sr|=4;try{k2(h,f);var D=lE,H=Uk(f.containerInfo),J=D.focusedElem,de=D.selectionRange;if(H!==J&&J&&J.ownerDocument&&Fk(J.ownerDocument.documentElement,J)){if(de!==null&&qx(J)){var Oe=de.start,Ue=de.end;if(Ue===void 0&&(Ue=Oe),"selectionStart"in J)J.selectionStart=Oe,J.selectionEnd=Math.min(Ue,J.value.length);else{var We=J.ownerDocument||document,De=We&&We.defaultView||window;if(De.getSelection){var Le=De.getSelection(),wt=J.textContent.length,Yt=Math.min(de.start,wt),Cr=de.end===void 0?Yt:Math.min(de.end,wt);!Le.extend&&Yt>Cr&&(H=Cr,Cr=Yt,Yt=H);var Se=Hk(J,Yt),pe=Hk(J,Cr);if(Se&&pe&&(Le.rangeCount!==1||Le.anchorNode!==Se.node||Le.anchorOffset!==Se.offset||Le.focusNode!==pe.node||Le.focusOffset!==pe.offset)){var Ne=We.createRange();Ne.setStart(Se.node,Se.offset),Le.removeAllRanges(),Yt>Cr?(Le.addRange(Ne),Le.extend(pe.node,pe.offset)):(Ne.setEnd(pe.node,pe.offset),Le.addRange(Ne))}}}}for(We=[],Le=J;Le=Le.parentNode;)Le.nodeType===1&&We.push({element:Le,left:Le.scrollLeft,top:Le.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<We.length;J++){var qe=We[J];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}zb=!!Rg,lE=Rg=null}finally{sr=_,ne.p=E,q.T=y}}f.current=h,Ui=2}}function Kw(){if(Ui===2){Ui=0;var f=Xu,h=Xh,y=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||y){y=q.T,q.T=null;var E=ne.p;ne.p=2;var _=sr;sr|=4;try{Pw(f,h.alternate,h)}finally{sr=_,ne.p=E,q.T=y}}Ui=3}}function Nb(){if(Ui===4||Ui===3){Ui=0,Je();var f=Xu,h=Xh,y=qc,E=I2;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Ui=5:(Ui=0,Xh=Xu=null,Xw(f,f.pendingLanes));var _=f.pendingLanes;if(_===0&&(Ku=null),bt(y),h=h.stateNode,Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(or,h,void 0,(h.current.flags&128)===128)}catch{}if(E!==null){h=q.T,_=ne.p,ne.p=2,q.T=null;try{for(var D=f.onRecoverableError,H=0;H<E.length;H++){var J=E[H];D(J.value,{componentStack:J.stack})}}finally{q.T=h,ne.p=_}}(qc&3)!==0&&_g(),Kl(f),_=f.pendingLanes,(y&261930)!==0&&(_&42)!==0?f===qw?Cg++:(Cg=0,qw=f):Cg=0,Ng(0)}}function Xw(f,h){(f.pooledCacheLanes&=h)===0&&(h=f.pooledCache,h!=null&&(f.pooledCache=null,qm(h)))}function _g(){return Gw(),Kw(),Nb(),Zw()}function Zw(){if(Ui!==5)return!1;var f=Xu,h=zw;zw=0;var y=bt(qc),E=q.T,_=ne.p;try{ne.p=32>y?32:y,q.T=null,y=Vw,Vw=null;var D=Xu,H=qc;if(Ui=0,Xh=Xu=null,qc=0,(sr&6)!==0)throw Error(r(331));var J=sr;if(sr|=4,M2(D.current),A2(D,D.current,H,y),sr=J,Ng(0,!1),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(or,D)}catch{}return!0}finally{ne.p=_,q.T=E,Xw(f,h)}}function Qw(f,h,y){h=$a(y,h),h=Sw(f.stateNode,h,2),f=rl(f,h,2),f!==null&&(se(f,2),Kl(f))}function br(f,h,y){if(f.tag===3)Qw(f,f,y);else for(;h!==null;){if(h.tag===3){Qw(h,f,y);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Ku===null||!Ku.has(E))){f=$a(y,f),y=Wl(2),E=rl(h,y,2),E!==null&&(hb(y,E,h,f),se(E,2),Kl(E));break}}h=h.return}}function Jw(f,h,y){var E=f.pingCache;if(E===null){E=f.pingCache=new j3;var _=new Set;E.set(h,_)}else _=E.get(h),_===void 0&&(_=new Set,E.set(h,_));_.has(y)||(Hw=!0,_.add(y),f=F3.bind(null,f,h,y),h.then(f,f))}function F3(f,h,y){var E=f.pingCache;E!==null&&E.delete(h),f.pingedLanes|=f.suspendedLanes&y,f.warmLanes&=~y,Nr===f&&(In&y)===y&&(li===4||li===3&&(In&62914560)===In&&300>Ze()-Sg?(sr&2)===0&&Zh(f,0):Fw|=y,Kh===In&&(Kh=0)),Kl(f)}function Ag(f,h){h===0&&(h=Hn()),f=Fl(f,h),f!==null&&(se(f,h),Kl(f))}function Ob(f){var h=f.memoizedState,y=0;h!==null&&(y=h.retryLane),Ag(f,y)}function U3(f,h){var y=0;switch(f.tag){case 31:case 13:var E=f.stateNode,_=f.memoizedState;_!==null&&(y=_.retryLane);break;case 19:E=f.stateNode;break;case 22:E=f.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(h),Ag(f,y)}function z3(f,h){return ce(f,h)}var Jh=null,hf=null,eE=!1,Mb=!1,tE=!1,Zu=0;function Kl(f){f!==hf&&f.next===null&&(hf===null?Jh=hf=f:hf=hf.next=f),Mb=!0,eE||(eE=!0,q3())}function Ng(f,h){if(!tE&&Mb){tE=!0;do for(var y=!1,E=Jh;E!==null;){if(f!==0){var _=E.pendingLanes;if(_===0)var D=0;else{var H=E.suspendedLanes,J=E.pingedLanes;D=(1<<31-un(42|f)+1)-1,D&=_&~(H&~J),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(y=!0,G2(E,D))}else D=In,D=xt(E,E===Nr?D:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(D&3)===0||on(E,D)||(y=!0,G2(E,D));E=E.next}while(y);tE=!1}}function V3(){q2()}function q2(){Mb=eE=!1;var f=0;Zu!==0&&Y3()&&(f=Zu);for(var h=Ze(),y=null,E=Jh;E!==null;){var _=E.next,D=W2(E,h);D===0?(E.next=null,y===null?Jh=_:y.next=_,_===null&&(hf=y)):(y=E,(f!==0||(D&3)!==0)&&(Mb=!0)),E=_}Ui!==0&&Ui!==5||Ng(f),Zu!==0&&(Zu=0)}function W2(f,h){for(var y=f.suspendedLanes,E=f.pingedLanes,_=f.expirationTimes,D=f.pendingLanes&-62914561;0<D;){var H=31-un(D),J=1<<H,de=_[H];de===-1?((J&y)===0||(J&E)!==0)&&(_[H]=Gn(J,h)):de<=h&&(f.expiredLanes|=J),D&=~J}if(h=Nr,y=In,y=xt(f,f===h?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),E=f.callbackNode,y===0||f===h&&(yr===2||yr===9)||f.cancelPendingCommit!==null)return E!==null&&E!==null&&xe(E),f.callbackNode=null,f.callbackPriority=0;if((y&3)===0||on(f,y)){if(h=y&-y,h===f.callbackPriority)return h;switch(E!==null&&xe(E),bt(y)){case 2:case 8:y=Be;break;case 32:y=it;break;case 268435456:y=qt;break;default:y=it}return E=Y2.bind(null,f),y=ce(y,E),f.callbackPriority=h,f.callbackNode=y,h}return E!==null&&E!==null&&xe(E),f.callbackPriority=2,f.callbackNode=null,2}function Y2(f,h){if(Ui!==0&&Ui!==5)return f.callbackNode=null,f.callbackPriority=0,null;var y=f.callbackNode;if(_g()&&f.callbackNode!==y)return null;var E=In;return E=xt(f,f===Nr?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),E===0?null:(L2(f,E,h),W2(f,Ze()),f.callbackNode!=null&&f.callbackNode===y?Y2.bind(null,f):null)}function G2(f,h){if(_g())return null;L2(f,h,!0)}function q3(){r_(function(){(sr&6)!==0?ce(ge,V3):q2()})}function Ka(){if(Zu===0){var f=Oh;f===0&&(f=ct,ct<<=1,(ct&261888)===0&&(ct=256)),Zu=f}return Zu}function K2(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Dm(""+f)}function X2(f,h){var y=h.ownerDocument.createElement("input");return y.name=h.name,y.value=h.value,f.id&&y.setAttribute("form",f.id),h.parentNode.insertBefore(y,h),f=new FormData(f),y.parentNode.removeChild(y),f}function pf(f,h,y,E,_){if(h==="submit"&&y&&y.stateNode===_){var D=K2((_[mt]||null).action),H=E.submitter;H&&(h=(h=H[mt]||null)?K2(h.formAction):H.getAttribute("formAction"),h!==null&&(D=h,H=null));var J=new ky("action","action",null,E,_);f.push({event:J,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Zu!==0){var de=H?X2(_,H):new FormData(_);zu(y,{pending:!0,data:de,method:_.method,action:D},null,de)}}else typeof D=="function"&&(J.preventDefault(),de=H?X2(_,H):new FormData(_),zu(y,{pending:!0,data:de,method:_.method,action:D},D,de))},currentTarget:_}]})}}for(var ln=0;ln<Hy.length;ln++){var nE=Hy[ln],fa=nE.toLowerCase(),Ti=nE[0].toUpperCase()+nE.slice(1);ra(fa,"on"+Ti)}ra(Ba,"onAnimationEnd"),ra(Hm,"onAnimationIteration"),ra(zk,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(wh,"onTransitionRun"),ra(By,"onTransitionStart"),ra($y,"onTransitionCancel"),ra(dr,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Da("onBeforeInput",["compositionend","keypress","textInput","paste"]),Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Og="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Og));function Z2(f,h){h=(h&4)!==0;for(var y=0;y<f.length;y++){var E=f[y],_=E.event;E=E.listeners;e:{var D=void 0;if(h)for(var H=E.length-1;0<=H;H--){var J=E[H],de=J.instance,Oe=J.currentTarget;if(J=J.listener,de!==D&&_.isPropagationStopped())break e;D=J,_.currentTarget=Oe;try{D(_)}catch(Ue){Fy(Ue)}_.currentTarget=null,D=de}else for(H=0;H<E.length;H++){if(J=E[H],de=J.instance,Oe=J.currentTarget,J=J.listener,de!==D&&_.isPropagationStopped())break e;D=J,_.currentTarget=Oe;try{D(_)}catch(Ue){Fy(Ue)}_.currentTarget=null,D=de}}}}function Mn(f,h){var y=h[mr];y===void 0&&(y=h[mr]=new Set);var E=f+"__bubble";y.has(E)||(Rb(h,f,2,!1),y.add(E))}function rE(f,h,y){var E=0;h&&(E|=4),Rb(y,f,E,h)}var Db="_reactListening"+Math.random().toString(36).slice(2);function iE(f){if(!f[Db]){f[Db]=!0,$l.forEach(function(y){y!=="selectionchange"&&(Qu.has(y)||rE(y,!1,f),rE(y,!0,f))});var h=f.nodeType===9?f:f.ownerDocument;h===null||h[Db]||(h[Db]=!0,rE("selectionchange",!1,h))}}function Rb(f,h,y,E){switch(S_(h)){case 2:var _=sI;break;case 8:_=lI;break;default:_=gE}y=_.bind(null,h,y,f),_=void 0,!Rx||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(_=!0),E?_!==void 0?f.addEventListener(h,y,{capture:!0,passive:_}):f.addEventListener(h,y,!0):_!==void 0?f.addEventListener(h,y,{passive:_}):f.addEventListener(h,y,!1)}function oE(f,h,y,E,_){var D=E;if((h&1)===0&&(h&2)===0&&E!==null)e:for(;;){if(E===null)return;var H=E.tag;if(H===3||H===4){var J=E.stateNode.containerInfo;if(J===_)break;if(H===4)for(H=E.return;H!==null;){var de=H.tag;if((de===3||de===4)&&H.stateNode.containerInfo===_)return;H=H.return}for(;J!==null;){if(H=fs(J),H===null)return;if(de=H.tag,de===5||de===6||de===26||de===27){E=D=H;continue e}J=J.parentNode}}E=E.return}Tk(function(){var Oe=D,Ue=Mx(y),We=[];e:{var De=Vk.get(f);if(De!==void 0){var Le=ky,wt=f;switch(f){case"keypress":if(Cy(y)===0)break e;case"keydown":case"keyup":Le=Du;break;case"focusin":wt="focus",Le=Ay;break;case"focusout":wt="blur",Le=Ay;break;case"beforeblur":case"afterblur":Le=Ay;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=_y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=_k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=g3;break;case Ba:case Hm:case zk:Le=Ok;break;case dr:Le=b3;break;case"scroll":case"scrollend":Le=h3;break;case"wheel":Le=Oy;break;case"copy":case"cut":case"paste":Le=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=Rk;break;case"toggle":case"beforetoggle":Le=v3}var Yt=(h&4)!==0,Cr=!Yt&&(f==="scroll"||f==="scrollend"),Se=Yt?De!==null?De+"Capture":null:De;Yt=[];for(var pe=Oe,Ne;pe!==null;){var qe=pe;if(Ne=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Ne===null||Se===null||(qe=Yd(pe,Se),qe!=null&&Yt.push(Xa(pe,qe,Ne))),Cr)break;pe=pe.return}0<Yt.length&&(De=new Le(De,wt,null,y,Ue),We.push({event:De,listeners:Yt}))}}if((h&7)===0){e:{if(De=f==="mouseover"||f==="pointerover",Le=f==="mouseout"||f==="pointerout",De&&y!==Ox&&(wt=y.relatedTarget||y.fromElement)&&(fs(wt)||wt[xn]))break e;if((Le||De)&&(De=Ue.window===Ue?Ue:(De=Ue.ownerDocument)?De.defaultView||De.parentWindow:window,Le?(wt=y.relatedTarget||y.toElement,Le=Oe,wt=wt?fs(wt):null,wt!==null&&(Cr=o(wt),Yt=wt.tag,wt!==Cr||Yt!==5&&Yt!==27&&Yt!==6)&&(wt=null)):(Le=null,wt=Oe),Le!==wt)){if(Yt=_y,qe="onMouseLeave",Se="onMouseEnter",pe="mouse",(f==="pointerout"||f==="pointerover")&&(Yt=Rk,qe="onPointerLeave",Se="onPointerEnter",pe="pointer"),Cr=Le==null?De:Oo(Le),Ne=wt==null?De:Oo(wt),De=new Yt(qe,pe+"leave",Le,y,Ue),De.target=Cr,De.relatedTarget=Ne,qe=null,fs(Ue)===Oe&&(Yt=new Yt(Se,pe+"enter",wt,y,Ue),Yt.target=Ne,Yt.relatedTarget=Cr,qe=Yt),Cr=qe,Le&&wt)t:{for(Yt=Ib,Se=Le,pe=wt,Ne=0,qe=Se;qe;qe=Yt(qe))Ne++;qe=0;for(var Ft=pe;Ft;Ft=Yt(Ft))qe++;for(;0<Ne-qe;)Se=Yt(Se),Ne--;for(;0<qe-Ne;)pe=Yt(pe),qe--;for(;Ne--;){if(Se===pe||pe!==null&&Se===pe.alternate){Yt=Se;break t}Se=Yt(Se),pe=Yt(pe)}Yt=null}else Yt=null;Le!==null&&Qr(We,De,Le,Yt,!1),wt!==null&&Cr!==null&&Qr(We,Cr,wt,Yt,!0)}}e:{if(De=Oe?Oo(Oe):window,Le=De.nodeName&&De.nodeName.toLowerCase(),Le==="select"||Le==="input"&&De.type==="file")var tr=Bk;else if(Hx(De))if(Zd)tr=S3;else{tr=w3;var Dt=Ly}else Le=De.nodeName,!Le||Le.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Oe&&Sy(Oe.elementType)&&(tr=Bk):tr=E3;if(tr&&(tr=tr(f,Oe))){Fx(We,tr,y,Ue);break e}Dt&&Dt(f,De,Oe),f==="focusout"&&Oe&&De.type==="number"&&Oe.memoizedProps.value!=null&&Ax(De,"number",De.value)}switch(Dt=Oe?Oo(Oe):window,f){case"focusin":(Hx(Dt)||Dt.contentEditable==="true")&&(be=Dt,Fe=Oe,Pe=null);break;case"focusout":Pe=Fe=be=null;break;case"mousedown":yt=!0;break;case"contextmenu":case"mouseup":case"dragend":yt=!1,sn(We,y,Ue);break;case"selectionchange":if(xh)break;case"keydown":case"keyup":sn(We,y,Ue)}var bn;if(My)e:{switch(f){case"compositionstart":var Pn="onCompositionStart";break e;case"compositionend":Pn="onCompositionEnd";break e;case"compositionupdate":Pn="onCompositionUpdate";break e}Pn=void 0}else Xd?Ry(f,y)&&(Pn="onCompositionEnd"):f==="keydown"&&y.keyCode===229&&(Pn="onCompositionStart");Pn&&(Bx&&y.locale!=="ko"&&(Xd||Pn!=="onCompositionStart"?Pn==="onCompositionEnd"&&Xd&&(bn=_r()):(Ou=Ue,Ix="value"in Ou?Ou.value:Ou.textContent,Xd=!0)),Dt=Mg(Oe,Pn),0<Dt.length&&(Pn=new La(Pn,f,null,y,Ue),We.push({event:Pn,listeners:Dt}),bn?Pn.data=bn:(bn=jk(y),bn!==null&&(Pn.data=bn)))),(bn=jx?ja(f,y):$x(f,y))&&(Pn=Mg(Oe,"onBeforeInput"),0<Pn.length&&(Dt=new La("onBeforeInput","beforeinput",null,y,Ue),We.push({event:Dt,listeners:Pn}),Dt.data=bn)),pf(We,f,Oe,y,Ue)}Z2(We,h)})}function Xa(f,h,y){return{instance:f,listener:h,currentTarget:y}}function Mg(f,h){for(var y=h+"Capture",E=[];f!==null;){var _=f,D=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||D===null||(_=Yd(f,y),_!=null&&E.unshift(Xa(f,_,D)),_=Yd(f,h),_!=null&&E.push(Xa(f,_,D))),f.tag===3)return E;f=f.return}return[]}function Ib(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function Qr(f,h,y,E,_){for(var D=h._reactName,H=[];y!==null&&y!==E;){var J=y,de=J.alternate,Oe=J.stateNode;if(J=J.tag,de!==null&&de===E)break;J!==5&&J!==26&&J!==27||Oe===null||(de=Oe,_?(Oe=Yd(y,D),Oe!=null&&H.unshift(Xa(y,Oe,de))):_||(Oe=Yd(y,D),Oe!=null&&H.push(Xa(y,Oe,de)))),y=y.return}H.length!==0&&f.push({event:h,listeners:H})}var gi=/\r\n?/g,Q2=/\u0000|\uFFFD/g;function J2(f){return(typeof f=="string"?f:""+f).replace(gi,`
`).replace(Q2,"")}function e_(f,h){return h=J2(h),J2(f)===h}function Sr(f,h,y,E,_,D){switch(y){case"children":typeof E=="string"?h==="body"||h==="textarea"&&E===""||Zs(f,E):(typeof E=="number"||typeof E=="bigint")&&h!=="body"&&Zs(f,""+E);break;case"className":Nu(f,"class",E);break;case"tabIndex":Nu(f,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":Nu(f,y,E);break;case"style":wk(f,E,D);break;case"data":if(h!=="object"){Nu(f,"data",E);break}case"src":case"href":if(E===""&&(h!=="a"||y!=="href")){f.removeAttribute(y);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){f.removeAttribute(y);break}E=Dm(""+E),f.setAttribute(y,E);break;case"action":case"formAction":if(typeof E=="function"){f.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(y==="formAction"?(h!=="input"&&Sr(f,h,"name",_.name,_,null),Sr(f,h,"formEncType",_.formEncType,_,null),Sr(f,h,"formMethod",_.formMethod,_,null),Sr(f,h,"formTarget",_.formTarget,_,null)):(Sr(f,h,"encType",_.encType,_,null),Sr(f,h,"method",_.method,_,null),Sr(f,h,"target",_.target,_,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){f.removeAttribute(y);break}E=Dm(""+E),f.setAttribute(y,E);break;case"onClick":E!=null&&(f.onclick=Nc);break;case"onScroll":E!=null&&Mn("scroll",f);break;case"onScrollEnd":E!=null&&Mn("scrollend",f);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(y=E.__html,y!=null){if(_.children!=null)throw Error(r(60));f.innerHTML=y}}break;case"multiple":f.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":f.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){f.removeAttribute("xlink:href");break}y=Dm(""+E),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(y,""+E):f.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(y,""):f.removeAttribute(y);break;case"capture":case"download":E===!0?f.setAttribute(y,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(y,E):f.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?f.setAttribute(y,E):f.removeAttribute(y);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?f.removeAttribute(y):f.setAttribute(y,E);break;case"popover":Mn("beforetoggle",f),Mn("toggle",f),Ac(f,"popover",E);break;case"xlinkActuate":hs(f,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":hs(f,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":hs(f,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":hs(f,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":hs(f,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":hs(f,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":hs(f,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":hs(f,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":hs(f,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":Ac(f,"is",E);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=Ek.get(y)||y,Ac(f,y,E))}}function aE(f,h,y,E,_,D){switch(y){case"style":wk(f,E,D);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(y=E.__html,y!=null){if(_.children!=null)throw Error(r(60));f.innerHTML=y}}break;case"children":typeof E=="string"?Zs(f,E):(typeof E=="number"||typeof E=="bigint")&&Zs(f,""+E);break;case"onScroll":E!=null&&Mn("scroll",f);break;case"onScrollEnd":E!=null&&Mn("scrollend",f);break;case"onClick":E!=null&&(f.onclick=Nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vd.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(_=y.endsWith("Capture"),h=y.slice(2,_?y.length-7:void 0),D=f[mt]||null,D=D!=null?D[y]:null,typeof D=="function"&&f.removeEventListener(h,D,_),typeof E=="function")){typeof D!="function"&&D!==null&&(y in f?f[y]=null:f.hasAttribute(y)&&f.removeAttribute(y)),f.addEventListener(h,E,_);break e}y in f?f[y]=E:E===!0?f.setAttribute(y,""):Ac(f,y,E)}}}function xo(f,h,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mn("error",f),Mn("load",f);var E=!1,_=!1,D;for(D in y)if(y.hasOwnProperty(D)){var H=y[D];if(H!=null)switch(D){case"src":E=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Sr(f,h,D,H,y,null)}}_&&Sr(f,h,"srcSet",y.srcSet,y,null),E&&Sr(f,h,"src",y.src,y,null);return;case"input":Mn("invalid",f);var J=D=H=_=null,de=null,Oe=null;for(E in y)if(y.hasOwnProperty(E)){var Ue=y[E];if(Ue!=null)switch(E){case"name":_=Ue;break;case"type":H=Ue;break;case"checked":de=Ue;break;case"defaultChecked":Oe=Ue;break;case"value":D=Ue;break;case"defaultValue":J=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,h));break;default:Sr(f,h,E,Ue,y,null)}}xy(f,D,J,de,Oe,H,_,!1);return;case"select":Mn("invalid",f),E=H=D=null;for(_ in y)if(y.hasOwnProperty(_)&&(J=y[_],J!=null))switch(_){case"value":D=J;break;case"defaultValue":H=J;break;case"multiple":E=J;default:Sr(f,h,_,J,y,null)}h=D,y=H,f.multiple=!!E,h!=null?qd(f,!!E,h,!1):y!=null&&qd(f,!!E,y,!0);return;case"textarea":Mn("invalid",f),D=_=E=null;for(H in y)if(y.hasOwnProperty(H)&&(J=y[H],J!=null))switch(H){case"value":E=J;break;case"defaultValue":_=J;break;case"children":D=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(91));break;default:Sr(f,h,H,J,y,null)}Ey(f,E,_,D);return;case"option":for(de in y)if(y.hasOwnProperty(de)&&(E=y[de],E!=null))switch(de){case"selected":f.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:Sr(f,h,de,E,y,null)}return;case"dialog":Mn("beforetoggle",f),Mn("toggle",f),Mn("cancel",f),Mn("close",f);break;case"iframe":case"object":Mn("load",f);break;case"video":case"audio":for(E=0;E<Og.length;E++)Mn(Og[E],f);break;case"image":Mn("error",f),Mn("load",f);break;case"details":Mn("toggle",f);break;case"embed":case"source":case"link":Mn("error",f),Mn("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in y)if(y.hasOwnProperty(Oe)&&(E=y[Oe],E!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Sr(f,h,Oe,E,y,null)}return;default:if(Sy(h)){for(Ue in y)y.hasOwnProperty(Ue)&&(E=y[Ue],E!==void 0&&aE(f,h,Ue,E,y,void 0));return}}for(J in y)y.hasOwnProperty(J)&&(E=y[J],E!=null&&Sr(f,h,J,E,y,null))}function W3(f,h,y,E){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,D=null,H=null,J=null,de=null,Oe=null,Ue=null;for(Le in y){var We=y[Le];if(y.hasOwnProperty(Le)&&We!=null)switch(Le){case"checked":break;case"value":break;case"defaultValue":de=We;default:E.hasOwnProperty(Le)||Sr(f,h,Le,null,E,We)}}for(var De in E){var Le=E[De];if(We=y[De],E.hasOwnProperty(De)&&(Le!=null||We!=null))switch(De){case"type":D=Le;break;case"name":_=Le;break;case"checked":Oe=Le;break;case"defaultChecked":Ue=Le;break;case"value":H=Le;break;case"defaultValue":J=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,h));break;default:Le!==We&&Sr(f,h,De,Le,E,We)}}vy(f,H,J,de,Oe,Ue,D,_);return;case"select":Le=H=J=De=null;for(D in y)if(de=y[D],y.hasOwnProperty(D)&&de!=null)switch(D){case"value":break;case"multiple":Le=de;default:E.hasOwnProperty(D)||Sr(f,h,D,null,E,de)}for(_ in E)if(D=E[_],de=y[_],E.hasOwnProperty(_)&&(D!=null||de!=null))switch(_){case"value":De=D;break;case"defaultValue":J=D;break;case"multiple":H=D;default:D!==de&&Sr(f,h,_,D,E,de)}h=J,y=H,E=Le,De!=null?qd(f,!!y,De,!1):!!E!=!!y&&(h!=null?qd(f,!!y,h,!0):qd(f,!!y,y?[]:"",!1));return;case"textarea":Le=De=null;for(J in y)if(_=y[J],y.hasOwnProperty(J)&&_!=null&&!E.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Sr(f,h,J,null,E,_)}for(H in E)if(_=E[H],D=y[H],E.hasOwnProperty(H)&&(_!=null||D!=null))switch(H){case"value":De=_;break;case"defaultValue":Le=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==D&&Sr(f,h,H,_,E,D)}wy(f,De,Le);return;case"option":for(var wt in y)if(De=y[wt],y.hasOwnProperty(wt)&&De!=null&&!E.hasOwnProperty(wt))switch(wt){case"selected":f.selected=!1;break;default:Sr(f,h,wt,null,E,De)}for(de in E)if(De=E[de],Le=y[de],E.hasOwnProperty(de)&&De!==Le&&(De!=null||Le!=null))switch(de){case"selected":f.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Sr(f,h,de,De,E,Le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in y)De=y[Yt],y.hasOwnProperty(Yt)&&De!=null&&!E.hasOwnProperty(Yt)&&Sr(f,h,Yt,null,E,De);for(Oe in E)if(De=E[Oe],Le=y[Oe],E.hasOwnProperty(Oe)&&De!==Le&&(De!=null||Le!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,h));break;default:Sr(f,h,Oe,De,E,Le)}return;default:if(Sy(h)){for(var Cr in y)De=y[Cr],y.hasOwnProperty(Cr)&&De!==void 0&&!E.hasOwnProperty(Cr)&&aE(f,h,Cr,void 0,E,De);for(Ue in E)De=E[Ue],Le=y[Ue],!E.hasOwnProperty(Ue)||De===Le||De===void 0&&Le===void 0||aE(f,h,Ue,De,E,Le);return}}for(var Se in y)De=y[Se],y.hasOwnProperty(Se)&&De!=null&&!E.hasOwnProperty(Se)&&Sr(f,h,Se,null,E,De);for(We in E)De=E[We],Le=y[We],!E.hasOwnProperty(We)||De===Le||De==null&&Le==null||Sr(f,h,We,De,E,Le)}function sE(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dg(){if(typeof performance.getEntriesByType=="function"){for(var f=0,h=0,y=performance.getEntriesByType("resource"),E=0;E<y.length;E++){var _=y[E],D=_.transferSize,H=_.initiatorType,J=_.duration;if(D&&J&&sE(H)){for(H=0,J=_.responseEnd,E+=1;E<y.length;E++){var de=y[E],Oe=de.startTime;if(Oe>J)break;var Ue=de.transferSize,We=de.initiatorType;Ue&&sE(We)&&(de=de.responseEnd,H+=Ue*(de<J?1:(J-Oe)/(de-Oe)))}if(--E,h+=8*(D+H)/(_.duration/1e3),f++,10<f)break}}if(0<f)return h/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var Rg=null,lE=null;function Ig(f){return f.nodeType===9?f:f.ownerDocument}function Pg(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ha(f,h){if(f===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&h==="foreignObject"?0:f}function Ju(f,h){return f==="textarea"||f==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var cE=null;function Y3(){var f=window.event;return f&&f.type==="popstate"?f===cE?!1:(cE=f,!0):(cE=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,G3=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,r_=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(f){return n_.resolve(null).then(f).catch(Yc)}:t_;function Yc(f){setTimeout(function(){throw f})}function Jt(f){return f==="head"}function uE(f,h){var y=h,E=0;do{var _=y.nextSibling;if(f.removeChild(y),_&&_.nodeType===8)if(y=_.data,y==="/$"||y==="/&"){if(E===0){f.removeChild(_),lp(h);return}E--}else if(y==="$"||y==="$?"||y==="$~"||y==="$!"||y==="&")E++;else if(y==="html")Lg(f.ownerDocument.documentElement);else if(y==="head"){y=f.ownerDocument.head,Lg(y);for(var D=y.firstChild;D;){var H=D.nextSibling,J=D.nodeName;D[ar]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&D.rel.toLowerCase()==="stylesheet"||y.removeChild(D),D=H}}else y==="body"&&Lg(f.ownerDocument.body);y=_}while(y);lp(h)}function Za(f,h){var y=f;f=0;do{var E=y.nextSibling;if(y.nodeType===1?h?(y._stashedDisplay=y.style.display,y.style.display="none"):(y.style.display=y._stashedDisplay||"",y.getAttribute("style")===""&&y.removeAttribute("style")):y.nodeType===3&&(h?(y._stashedText=y.nodeValue,y.nodeValue=""):y.nodeValue=y._stashedText||""),E&&E.nodeType===8)if(y=E.data,y==="/$"){if(f===0)break;f--}else y!=="$"&&y!=="$?"&&y!=="$~"&&y!=="$!"||f++;y=E}while(y)}function Pb(f){var h=f.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var y=h;switch(h=h.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":Pb(y),Xs(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}f.removeChild(y)}}function K3(f,h,y,E){for(;f.nodeType===1;){var _=y;if(f.nodeName.toLowerCase()!==h.toLowerCase()){if(!E&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(E){if(!f[ar])switch(h){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(D=f.getAttribute("rel"),D==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(D!==_.rel||f.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||f.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||f.getAttribute("title")!==(_.title==null?null:_.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(D=f.getAttribute("src"),(D!==(_.src==null?null:_.src)||f.getAttribute("type")!==(_.type==null?null:_.type)||f.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&D&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(h==="input"&&f.type==="hidden"){var D=_.name==null?null:""+_.name;if(_.type==="hidden"&&f.getAttribute("name")===D)return f}else return f;if(f=_s(f.nextSibling),f===null)break}return null}function hr(f,h,y){if(h==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!y||(f=_s(f.nextSibling),f===null))return null;return f}function i_(f,h){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!h||(f=_s(f.nextSibling),f===null))return null;return f}function Lb(f){return f.data==="$?"||f.data==="$~"}function ep(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function X3(f,h){var y=f.ownerDocument;if(f.data==="$~")f._reactRetry=h;else if(f.data!=="$?"||y.readyState!=="loading")h();else{var E=function(){h(),y.removeEventListener("DOMContentLoaded",E)};y.addEventListener("DOMContentLoaded",E),f._reactRetry=E}}function _s(f){for(;f!=null;f=f.nextSibling){var h=f.nodeType;if(h===1||h===3)break;if(h===8){if(h=f.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return f}var dE=null;function o_(f){f=f.nextSibling;for(var h=0;f;){if(f.nodeType===8){var y=f.data;if(y==="/$"||y==="/&"){if(h===0)return _s(f.nextSibling);h--}else y!=="$"&&y!=="$!"&&y!=="$?"&&y!=="$~"&&y!=="&"||h++}f=f.nextSibling}return null}function a_(f){f=f.previousSibling;for(var h=0;f;){if(f.nodeType===8){var y=f.data;if(y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"){if(h===0)return f;h--}else y!=="/$"&&y!=="/&"||h++}f=f.previousSibling}return null}function s_(f,h,y){switch(h=Ig(y),f){case"html":if(f=h.documentElement,!f)throw Error(r(452));return f;case"head":if(f=h.head,!f)throw Error(r(453));return f;case"body":if(f=h.body,!f)throw Error(r(454));return f;default:throw Error(r(451))}}function Lg(f){for(var h=f.attributes;h.length;)f.removeAttributeNode(h[0]);Xs(f)}var As=new Map,l_=new Set;function jb(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Gc=ne.d;ne.d={f:Z3,r:Q3,D:fE,C:J3,L:eI,m:tI,X:pa,S:Ji,M:nI};function Z3(){var f=Gc.f(),h=kb();return f||h}function Q3(f){var h=Zi(f);h!==null&&h.tag===5&&h.type==="form"?gw(h):Gc.r(f)}var ed=typeof document>"u"?null:document;function c_(f,h,y){var E=ed;if(E&&typeof h=="string"&&h){var _=Ia(h);_='link[rel="'+f+'"][href="'+_+'"]',typeof y=="string"&&(_+='[crossorigin="'+y+'"]'),l_.has(_)||(l_.add(_),f={rel:f,crossOrigin:y,href:h},E.querySelector(_)===null&&(h=E.createElement("link"),xo(h,"link",f),Gr(h),E.head.appendChild(h)))}}function fE(f){Gc.D(f),c_("dns-prefetch",f,null)}function J3(f,h){Gc.C(f,h),c_("preconnect",f,h)}function eI(f,h,y){Gc.L(f,h,y);var E=ed;if(E&&f&&h){var _='link[rel="preload"][as="'+Ia(h)+'"]';h==="image"&&y&&y.imageSrcSet?(_+='[imagesrcset="'+Ia(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(_+='[imagesizes="'+Ia(y.imageSizes)+'"]')):_+='[href="'+Ia(f)+'"]';var D=_;switch(h){case"style":D=tp(f);break;case"script":D=rp(f)}As.has(D)||(f=u({rel:"preload",href:h==="image"&&y&&y.imageSrcSet?void 0:f,as:h},y),As.set(D,f),E.querySelector(_)!==null||h==="style"&&E.querySelector(np(D))||h==="script"&&E.querySelector(ip(D))||(h=E.createElement("link"),xo(h,"link",f),Gr(h),E.head.appendChild(h)))}}function tI(f,h){Gc.m(f,h);var y=ed;if(y&&f){var E=h&&typeof h.as=="string"?h.as:"script",_='link[rel="modulepreload"][as="'+Ia(E)+'"][href="'+Ia(f)+'"]',D=_;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=rp(f)}if(!As.has(D)&&(f=u({rel:"modulepreload",href:f},h),As.set(D,f),y.querySelector(_)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(ip(D)))return}E=y.createElement("link"),xo(E,"link",f),Gr(E),y.head.appendChild(E)}}}function Ji(f,h,y){Gc.S(f,h,y);var E=ed;if(E&&f){var _=Ma(E).hoistableStyles,D=tp(f);h=h||"default";var H=_.get(D);if(!H){var J={loading:0,preload:null};if(H=E.querySelector(np(D)))J.loading=5;else{f=u({rel:"stylesheet",href:f,"data-precedence":h},y),(y=As.get(D))&&hE(f,y);var de=H=E.createElement("link");Gr(de),xo(de,"link",f),de._p=new Promise(function(Oe,Ue){de.onload=Oe,de.onerror=Ue}),de.addEventListener("load",function(){J.loading|=1}),de.addEventListener("error",function(){J.loading|=2}),J.loading|=4,Bb(H,h,E)}H={type:"stylesheet",instance:H,count:1,state:J},_.set(D,H)}}}function pa(f,h){Gc.X(f,h);var y=ed;if(y&&f){var E=Ma(y).hoistableScripts,_=rp(f),D=E.get(_);D||(D=y.querySelector(ip(_)),D||(f=u({src:f,async:!0},h),(h=As.get(_))&&$b(f,h),D=y.createElement("script"),Gr(D),xo(D,"link",f),y.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},E.set(_,D))}}function nI(f,h){Gc.M(f,h);var y=ed;if(y&&f){var E=Ma(y).hoistableScripts,_=rp(f),D=E.get(_);D||(D=y.querySelector(ip(_)),D||(f=u({src:f,async:!0,type:"module"},h),(h=As.get(_))&&$b(f,h),D=y.createElement("script"),Gr(D),xo(D,"link",f),y.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},E.set(_,D))}}function u_(f,h,y,E){var _=(_=ke.current)?jb(_):null;if(!_)throw Error(r(446));switch(f){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(h=tp(y.href),y=Ma(_).hoistableStyles,E=y.get(h),E||(E={type:"style",instance:null,count:0,state:null},y.set(h,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){f=tp(y.href);var D=Ma(_).hoistableStyles,H=D.get(f);if(H||(_=_.ownerDocument||_,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(f,H),(D=_.querySelector(np(f)))&&!D._p&&(H.instance=D,H.state.loading=5),As.has(f)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},As.set(f,y),D||rI(_,f,y,H.state))),h&&E===null)throw Error(r(528,""));return H}if(h&&E!==null)throw Error(r(529,""));return null;case"script":return h=y.async,y=y.src,typeof y=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=rp(y),y=Ma(_).hoistableScripts,E=y.get(h),E||(E={type:"script",instance:null,count:0,state:null},y.set(h,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,f))}}function tp(f){return'href="'+Ia(f)+'"'}function np(f){return'link[rel="stylesheet"]['+f+"]"}function d_(f){return u({},f,{"data-precedence":f.precedence,precedence:null})}function rI(f,h,y,E){f.querySelector('link[rel="preload"][as="style"]['+h+"]")?E.loading=1:(h=f.createElement("link"),E.preload=h,h.addEventListener("load",function(){return E.loading|=1}),h.addEventListener("error",function(){return E.loading|=2}),xo(h,"link",y),Gr(h),f.head.appendChild(h))}function rp(f){return'[src="'+Ia(f)+'"]'}function ip(f){return"script[async]"+f}function f_(f,h,y){if(h.count++,h.instance===null)switch(h.type){case"style":var E=f.querySelector('style[data-href~="'+Ia(y.href)+'"]');if(E)return h.instance=E,Gr(E),E;var _=u({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return E=(f.ownerDocument||f).createElement("style"),Gr(E),xo(E,"style",_),Bb(E,y.precedence,f),h.instance=E;case"stylesheet":_=tp(y.href);var D=f.querySelector(np(_));if(D)return h.state.loading|=4,h.instance=D,Gr(D),D;E=d_(y),(_=As.get(_))&&hE(E,_),D=(f.ownerDocument||f).createElement("link"),Gr(D);var H=D;return H._p=new Promise(function(J,de){H.onload=J,H.onerror=de}),xo(D,"link",E),h.state.loading|=4,Bb(D,y.precedence,f),h.instance=D;case"script":return D=rp(y.src),(_=f.querySelector(ip(D)))?(h.instance=_,Gr(_),_):(E=y,(_=As.get(D))&&(E=u({},y),$b(E,_)),f=f.ownerDocument||f,_=f.createElement("script"),Gr(_),xo(_,"link",E),f.head.appendChild(_),h.instance=_);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(E=h.instance,h.state.loading|=4,Bb(E,y.precedence,f));return h.instance}function Bb(f,h,y){for(var E=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=E.length?E[E.length-1]:null,D=_,H=0;H<E.length;H++){var J=E[H];if(J.dataset.precedence===h)D=J;else if(D!==_)break}D?D.parentNode.insertBefore(f,D.nextSibling):(h=y.nodeType===9?y.head:y,h.insertBefore(f,h.firstChild))}function hE(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.title==null&&(f.title=h.title)}function $b(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.integrity==null&&(f.integrity=h.integrity)}var jg=null;function h_(f,h,y){if(jg===null){var E=new Map,_=jg=new Map;_.set(y,E)}else _=jg,E=_.get(y),E||(E=new Map,_.set(y,E));if(E.has(f))return E;for(E.set(f,null),y=y.getElementsByTagName(f),_=0;_<y.length;_++){var D=y[_];if(!(D[ar]||D[ft]||f==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var H=D.getAttribute(h)||"";H=f+H;var J=E.get(H);J?J.push(D):E.set(H,[D])}}return E}function p_(f,h,y){f=f.ownerDocument||f,f.head.insertBefore(y,h==="title"?f.querySelector("head > title"):null)}function iI(f,h,y){if(y===1||h.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return f=h.disabled,typeof h.precedence=="string"&&f==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function m_(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function op(f,h,y,E){if(y.type==="stylesheet"&&(typeof E.media!="string"||matchMedia(E.media).matches!==!1)&&(y.state.loading&4)===0){if(y.instance===null){var _=tp(E.href),D=h.querySelector(np(_));if(D){h=D._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(f.count++,f=Hb.bind(f),h.then(f,f)),y.state.loading|=4,y.instance=D,Gr(D);return}D=h.ownerDocument||h,E=d_(E),(_=As.get(_))&&hE(E,_),D=D.createElement("link"),Gr(D);var H=D;H._p=new Promise(function(J,de){H.onload=J,H.onerror=de}),xo(D,"link",E),y.instance=D}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(y,h),(h=y.state.preload)&&(y.state.loading&3)===0&&(f.count++,y=Hb.bind(f),h.addEventListener("load",y),h.addEventListener("error",y))}}var pE=0;function oI(f,h){return f.stylesheets&&f.count===0&&Ub(f,f.stylesheets),0<f.count||0<f.imgCount?function(y){var E=setTimeout(function(){if(f.stylesheets&&Ub(f,f.stylesheets),f.unsuspend){var D=f.unsuspend;f.unsuspend=null,D()}},6e4+h);0<f.imgBytes&&pE===0&&(pE=62500*Dg());var _=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&Ub(f,f.stylesheets),f.unsuspend)){var D=f.unsuspend;f.unsuspend=null,D()}},(f.imgBytes>pE?50:800)+h);return f.unsuspend=y,function(){f.unsuspend=null,clearTimeout(E),clearTimeout(_)}}:null}function Hb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ub(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var Fb=null;function Ub(f,h){f.stylesheets=null,f.unsuspend!==null&&(f.count++,Fb=new Map,h.forEach(g_,f),Fb=null,Hb.call(f))}function g_(f,h){if(!(h.state.loading&4)){var y=Fb.get(f);if(y)var E=y.get(null);else{y=new Map,Fb.set(f,y);for(var _=f.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<_.length;D++){var H=_[D];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(y.set(H.dataset.precedence,H),E=H)}E&&y.set(null,E)}_=h.instance,H=_.getAttribute("data-precedence"),D=y.get(H)||E,D===E&&y.set(null,_),y.set(H,_),this.count++,E=Hb.bind(this),_.addEventListener("load",E),_.addEventListener("error",E),D?D.parentNode.insertBefore(_,D.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(_,f.firstChild)),h.state.loading|=4}}var ap={$$typeof:N,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function aI(f,h,y,E,_,D,H,J,de){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=E,this.onUncaughtError=_,this.onCaughtError=D,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function y_(f,h,y,E,_,D,H,J,de,Oe,Ue,We){return f=new aI(f,h,y,H,de,Oe,Ue,We,J),h=1,D===!0&&(h|=24),D=go(3,null,null,h),f.current=D,D.stateNode=f,h=el(),h.refCount++,f.pooledCache=h,h.refCount++,D.memoizedState={element:E,isDehydrated:y,cache:h},Vl(D),f}function b_(f){return f?(f=Dc,f):Dc}function v_(f,h,y,E,_,D){_=b_(_),E.context===null?E.context=_:E.pendingContext=_,E=Hu(h),E.payload={element:y},D=D===void 0?null:D,D!==null&&(E.callback=D),y=rl(f,E,h),y!==null&&(da(y,f,h),Gm(y,f,h))}function x_(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var y=f.retryLane;f.retryLane=y!==0&&y<h?y:h}}function mE(f,h){x_(f,h),(f=f.alternate)&&x_(f,h)}function w_(f){if(f.tag===13||f.tag===31){var h=Fl(f,67108864);h!==null&&da(h,f,67108864),mE(f,67108864)}}function E_(f){if(f.tag===13||f.tag===31){var h=Ga();h=_t(h);var y=Fl(f,h);y!==null&&da(y,f,h),mE(f,h)}}var zb=!0;function sI(f,h,y,E){var _=q.T;q.T=null;var D=ne.p;try{ne.p=2,gE(f,h,y,E)}finally{ne.p=D,q.T=_}}function lI(f,h,y,E){var _=q.T;q.T=null;var D=ne.p;try{ne.p=8,gE(f,h,y,E)}finally{ne.p=D,q.T=_}}function gE(f,h,y,E){if(zb){var _=yE(E);if(_===null)oE(f,h,E,Vb,y),C_(f,E);else if(T_(_,f,h,y,E))E.stopPropagation();else if(C_(f,E),h&4&&-1<cI.indexOf(f)){for(;_!==null;){var D=Zi(_);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var H=vt(D.pendingLanes);if(H!==0){var J=D;for(J.pendingLanes|=2,J.entangledLanes|=2;H;){var de=1<<31-un(H);J.entanglements[1]|=de,H&=~de}Kl(D),(sr&6)===0&&(ff=Ze()+500,Ng(0))}}break;case 31:case 13:J=Fl(D,2),J!==null&&da(J,D,2),kb(),mE(D,2)}if(D=yE(E),D===null&&oE(f,h,E,Vb,y),D===_)break;_=D}_!==null&&E.stopPropagation()}else oE(f,h,E,null,y)}}function yE(f){return f=Mx(f),bE(f)}var Vb=null;function bE(f){if(Vb=null,f=fs(f),f!==null){var h=o(f);if(h===null)f=null;else{var y=h.tag;if(y===13){if(f=a(h),f!==null)return f;f=null}else if(y===31){if(f=s(h),f!==null)return f;f=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;f=null}else h!==f&&(f=null)}}return Vb=f,null}function S_(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case ge:return 2;case Be:return 8;case it:case Nt:return 32;case qt:return 268435456;default:return 32}default:return 32}}var vE=!1,td=null,nd=null,rd=null,Bg=new Map,$g=new Map,id=[],cI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(f,h){switch(f){case"focusin":case"focusout":td=null;break;case"dragenter":case"dragleave":nd=null;break;case"mouseover":case"mouseout":rd=null;break;case"pointerover":case"pointerout":Bg.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":$g.delete(h.pointerId)}}function mf(f,h,y,E,_,D){return f===null||f.nativeEvent!==D?(f={blockedOn:h,domEventName:y,eventSystemFlags:E,nativeEvent:D,targetContainers:[_]},h!==null&&(h=Zi(h),h!==null&&w_(h)),f):(f.eventSystemFlags|=E,h=f.targetContainers,_!==null&&h.indexOf(_)===-1&&h.push(_),f)}function T_(f,h,y,E,_){switch(h){case"focusin":return td=mf(td,f,h,y,E,_),!0;case"dragenter":return nd=mf(nd,f,h,y,E,_),!0;case"mouseover":return rd=mf(rd,f,h,y,E,_),!0;case"pointerover":var D=_.pointerId;return Bg.set(D,mf(Bg.get(D)||null,f,h,y,E,_)),!0;case"gotpointercapture":return D=_.pointerId,$g.set(D,mf($g.get(D)||null,f,h,y,E,_)),!0}return!1}function xE(f){var h=fs(f.target);if(h!==null){var y=o(h);if(y!==null){if(h=y.tag,h===13){if(h=a(y),h!==null){f.blockedOn=h,$t(f.priority,function(){E_(y)});return}}else if(h===31){if(h=s(y),h!==null){f.blockedOn=h,$t(f.priority,function(){E_(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){f.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}f.blockedOn=null}function qb(f){if(f.blockedOn!==null)return!1;for(var h=f.targetContainers;0<h.length;){var y=yE(f.nativeEvent);if(y===null){y=f.nativeEvent;var E=new y.constructor(y.type,y);Ox=E,y.target.dispatchEvent(E),Ox=null}else return h=Zi(y),h!==null&&w_(h),f.blockedOn=y,!1;h.shift()}return!0}function k_(f,h,y){qb(f)&&y.delete(h)}function uI(){vE=!1,td!==null&&qb(td)&&(td=null),nd!==null&&qb(nd)&&(nd=null),rd!==null&&qb(rd)&&(rd=null),Bg.forEach(k_),$g.forEach(k_)}function sp(f,h){f.blockedOn===h&&(f.blockedOn=null,vE||(vE=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uI)))}var Wb=null;function __(f){Wb!==f&&(Wb=f,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Wb===f&&(Wb=null);for(var h=0;h<f.length;h+=3){var y=f[h],E=f[h+1],_=f[h+2];if(typeof E!="function"){if(bE(E||y)===null)continue;break}var D=Zi(y);D!==null&&(f.splice(h,3),h-=3,zu(D,{pending:!0,data:_,method:y.method,action:E},E,_))}}))}function lp(f){function h(de){return sp(de,f)}td!==null&&sp(td,f),nd!==null&&sp(nd,f),rd!==null&&sp(rd,f),Bg.forEach(h),$g.forEach(h);for(var y=0;y<id.length;y++){var E=id[y];E.blockedOn===f&&(E.blockedOn=null)}for(;0<id.length&&(y=id[0],y.blockedOn===null);)xE(y),y.blockedOn===null&&id.shift();if(y=(f.ownerDocument||f).$$reactFormReplay,y!=null)for(E=0;E<y.length;E+=3){var _=y[E],D=y[E+1],H=_[mt]||null;if(typeof D=="function")H||__(y);else if(H){var J=null;if(D&&D.hasAttribute("formAction")){if(_=D,H=D[mt]||null)J=H.formAction;else if(bE(_)!==null)continue}else J=H.action;typeof J=="function"?y[E+1]=J:(y.splice(E,3),E-=3),__(y)}}}function Wo(){function f(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(H){return _=H})},focusReset:"manual",scroll:"manual"})}function h(){_!==null&&(_(),_=null),E||setTimeout(y,20)}function y(){if(!E&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var E=!1,_=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(y,100),function(){E=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),_!==null&&(_(),_=null)}}}function Hg(f){this._internalRoot=f}Yb.prototype.render=Hg.prototype.render=function(f){var h=this._internalRoot;if(h===null)throw Error(r(409));var y=h.current,E=Ga();v_(y,E,f,h,null,null)},Yb.prototype.unmount=Hg.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var h=f.containerInfo;v_(f.current,2,null,f,null,null),kb(),h[xn]=null}};function Yb(f){this._internalRoot=f}Yb.prototype.unstable_scheduleHydration=function(f){if(f){var h=At();f={blockedOn:null,target:f,priority:h};for(var y=0;y<id.length&&h!==0&&h<id[y].priority;y++);id.splice(y,0,f),y===0&&xE(f)}};var A_=t.version;if(A_!=="19.2.0")throw Error(r(527,A_,"19.2.0"));ne.findDOMNode=function(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=c(h),f=f!==null?d(f):null,f=f===null?null:f.stateNode,f};var dI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gb.isDisabled&&Gb.supportsFiber)try{or=Gb.inject(dI),Yn=Gb}catch{}}return EE.createRoot=function(f,h){if(!i(f))throw Error(r(299));var y=!1,E="",_=ww,D=Ew,H=h2;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(H=h.onRecoverableError)),h=y_(f,1,!1,null,null,y,E,null,_,D,H,Wo),f[xn]=h.current,iE(f),new Hg(h)},EE.hydrateRoot=function(f,h,y){if(!i(f))throw Error(r(299));var E=!1,_="",D=ww,H=Ew,J=h2,de=null;return y!=null&&(y.unstable_strictMode===!0&&(E=!0),y.identifierPrefix!==void 0&&(_=y.identifierPrefix),y.onUncaughtError!==void 0&&(D=y.onUncaughtError),y.onCaughtError!==void 0&&(H=y.onCaughtError),y.onRecoverableError!==void 0&&(J=y.onRecoverableError),y.formState!==void 0&&(de=y.formState)),h=y_(f,1,!0,h,y??null,E,_,de,D,H,J,Wo),h.context=b_(null),y=h.current,E=Ga(),E=_t(E),_=Hu(E),_.callback=null,rl(y,_,E),y=E,h.current.lanes=y,se(h,y),Kl(h),f[xn]=h.current,iE(f),new Yb(h)},EE.version="19.2.0",EE}var xz;function q1e(){if(xz)return mI.exports;xz=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mI.exports=V1e(),mI.exports}var are=q1e();const W1e=vr(are);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sre=e=>{throw TypeError(e)},Y1e=(e,t,n)=>t.has(e)||sre("Cannot "+n),vI=(e,t,n)=>(Y1e(e,t,"read from private field"),n?n.call(e):t.get(e)),G1e=(e,t,n)=>t.has(e)?sre("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),wz="popstate";function K1e(e={}){function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return qS("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zp(i)}return Z1e(t,n,null,e)}function $n(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ji(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function X1e(){return Math.random().toString(36).substring(2,10)}function Ez(e,t){return{usr:e.state,key:e.key,idx:t}}function qS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?um(t):t,state:n,key:t&&t.key||r||X1e()}}function Zp({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function um(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Z1e(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function u(){s="POP";let w=d(),T=w==null?null:w-c;c=w,l&&l({action:s,location:x.location,delta:T})}function p(w,T){s="PUSH";let k=qS(x.location,w,T);c=d()+1;let N=Ez(k,c),I=x.createHref(k);try{a.pushState(N,"",I)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(I)}o&&l&&l({action:s,location:x.location,delta:1})}function m(w,T){s="REPLACE";let k=qS(x.location,w,T);c=d();let N=Ez(k,c),I=x.createHref(k);a.replaceState(N,"",I),o&&l&&l({action:s,location:x.location,delta:0})}function v(w){return lre(w)}let x={get action(){return s},get location(){return e(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(wz,u),l=w,()=>{i.removeEventListener(wz,u),l=null}},createHref(w){return t(i,w)},createURL:v,encodeLocation(w){let T=v(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:m,go(w){return a.go(w)}};return x}function lre(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$n(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Zp(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var tS,Sz=class{constructor(e){if(G1e(this,tS,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(vI(this,tS).has(e))return vI(this,tS).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){vI(this,tS).set(e,t)}};tS=new WeakMap;var Q1e=new Set(["lazy","caseSensitive","path","id","index","children"]);function J1e(e){return Q1e.has(e)}var exe=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function txe(e){return exe.has(e)}function nxe(e){return e.index===!0}function WS(e,t,n=[],r={},i=!1){return e.map((o,a)=>{let s=[...n,String(a)],l=typeof o.id=="string"?o.id:s.join("-");if($n(o.index!==!0||!o.children,"Cannot specify children on an index route"),$n(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),nxe(o)){let c={...o,...t(o),id:l};return r[l]=c,c}else{let c={...o,...t(o),id:l,children:void 0};return r[l]=c,o.children&&(c.children=WS(o.children,t,s,r,i)),c}})}function Tp(e,t,n="/"){return BA(e,t,n,!1)}function BA(e,t,n,r){let i=typeof t=="string"?um(t):t,o=bc(i.pathname||"/",n);if(o==null)return null;let a=cre(e);ixe(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=mxe(o);s=hxe(a[l],c,r)}return s}function rxe(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function cre(e,t=[],n=[],r="",i=!1){let o=(a,s,l=i,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;$n(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let u=xd([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&($n(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),cre(a.children,t,p,u,l)),!(a.path==null&&!a.index)&&t.push({path:u,score:dxe(u,a.index),routesMeta:p})};return e.forEach((a,s)=>{if(a.path===""||!a.path?.includes("?"))o(a,s);else for(let l of ure(a.path))o(a,s,!0,l)}),t}function ure(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=ure(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function ixe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fxe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var oxe=/^:[\w-]+$/,axe=3,sxe=2,lxe=1,cxe=10,uxe=-2,Cz=e=>e==="*";function dxe(e,t){let n=e.split("/"),r=n.length;return n.some(Cz)&&(r+=uxe),t&&(r+=sxe),n.filter(i=>!Cz(i)).reduce((i,o)=>i+(oxe.test(o)?axe:o===""?lxe:cxe),r)}function fxe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function hxe(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",u=fN({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=fN({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:xd([o,u.pathname]),pathnameBase:vxe(xd([o,u.pathnameBase])),route:p}),u.pathnameBase!=="/"&&(o=xd([o,u.pathnameBase]))}return a}function fN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pxe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:u},p)=>{if(d==="*"){let v=s[p]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const m=s[p];return u&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function pxe(e,t=!1,n=!0){ji(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function mxe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ji(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function bc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gxe({basename:e,pathname:t}){return t==="/"?e:xd([e,t])}function yxe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?um(e):e;return{pathname:n?n.startsWith("/")?n:bxe(n,t):t,search:xxe(r),hash:wxe(i)}}function bxe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xI(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dre(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function XM(e){let t=dre(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ZM(e,t,n,r=!1){let i;typeof e=="string"?i=um(e):(i={...e},$n(!i.pathname||!i.pathname.includes("?"),xI("?","pathname","search",i)),$n(!i.pathname||!i.pathname.includes("#"),xI("#","pathname","hash",i)),$n(!i.search||!i.search.includes("#"),xI("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let u=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),u-=1;i.pathname=p.join("/")}s=u>=0?t[u]:"/"}let l=yxe(i,s),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var xd=e=>e.join("/").replace(/\/\/+/g,"/"),vxe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xxe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wxe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,hN=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function YS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var fre=["POST","PUT","PATCH","DELETE"],Exe=new Set(fre),Sxe=["GET",...fre],Cxe=new Set(Sxe),Txe=new Set([301,302,303,307,308]),kxe=new Set([307,308]),wI={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_xe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SE={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Axe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dH=e=>Axe.test(e),Nxe=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),hre="remix-router-transitions",pre=Symbol("ResetLoaderData");function Oxe(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";$n(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||Nxe,o={},a=WS(e.routes,i,void 0,o),s,l=e.basename||"/";l.startsWith("/")||(l=`/${l}`);let c=e.dataStrategy||Pxe,d={...e.future},u=null,p=new Set,m=null,v=null,x=null,w=e.hydrationData!=null,T=Tp(a,e.history.location,l),k=!1,N=null,I;if(T==null&&!e.patchRoutesOnNavigation){let se=tc(404,{pathname:e.history.location.pathname}),{matches:ye,route:Re}=N_(a);I=!0,T=ye,N={[Re.id]:se}}else if(T&&!e.hydrationData&&on(T,a,e.history.location.pathname).active&&(T=null),T)if(T.some(se=>se.route.lazy))I=!1;else if(!T.some(se=>fH(se.route)))I=!0;else{let se=e.hydrationData?e.hydrationData.loaderData:null,ye=e.hydrationData?e.hydrationData.errors:null;if(ye){let Re=T.findIndex(Xe=>ye[Xe.route.id]!==void 0);I=T.slice(0,Re+1).every(Xe=>!R6(Xe.route,se,ye))}else I=T.every(Re=>!R6(Re.route,se,ye))}else{I=!1,T=[];let se=on(null,a,e.history.location.pathname);se.active&&se.matches&&(k=!0,T=se.matches)}let M,A={historyAction:e.history.action,location:e.history.location,matches:T,initialized:I,navigation:wI,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||N,fetchers:new Map,blockers:new Map},R="POP",L=!1,B,$=!1,W=new Map,V=null,Y=!1,U=!1,X=new Set,q=new Map,ne=0,Z=-1,oe=new Map,K=new Set,Q=new Map,te=new Map,z=new Set,fe=new Map,me,ke=null;function Ee(){if(u=e.history.listen(({action:se,location:ye,delta:Re})=>{if(me){me(),me=void 0;return}ji(fe.size===0||Re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Xe=lt({currentLocation:A.location,nextLocation:ye,historyAction:se});if(Xe&&Re!=null){let nt=new Promise(_t=>{me=_t});e.history.go(Re*-1),Tt(Xe,{state:"blocked",location:ye,proceed(){Tt(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),nt.then(()=>e.history.go(Re))},reset(){let _t=new Map(A.blockers);_t.set(Xe,SE),je({blockers:_t})}});return}return Ve(se,ye)}),n){Xxe(t,W);let se=()=>Zxe(t,W);t.addEventListener("pagehide",se),V=()=>t.removeEventListener("pagehide",se)}return A.initialized||Ve("POP",A.location,{initialHydration:!0}),M}function ve(){u&&u(),V&&V(),p.clear(),B&&B.abort(),A.fetchers.forEach((se,ye)=>qt(ye)),A.blockers.forEach((se,ye)=>wi(ye))}function we(se){return p.add(se),()=>p.delete(se)}function je(se,ye={}){se.matches&&(se.matches=se.matches.map(nt=>{let _t=o[nt.route.id],bt=nt.route;return bt.element!==_t.element||bt.errorElement!==_t.errorElement||bt.hydrateFallbackElement!==_t.hydrateFallbackElement?{...nt,route:_t}:nt})),A={...A,...se};let Re=[],Xe=[];A.fetchers.forEach((nt,_t)=>{nt.state==="idle"&&(z.has(_t)?Re.push(_t):Xe.push(_t))}),z.forEach(nt=>{!A.fetchers.has(nt)&&!q.has(nt)&&Re.push(nt)}),[...p].forEach(nt=>nt(A,{deletedFetchers:Re,viewTransitionOpts:ye.viewTransitionOpts,flushSync:ye.flushSync===!0})),Re.forEach(nt=>qt(nt)),Xe.forEach(nt=>A.fetchers.delete(nt))}function Ke(se,ye,{flushSync:Re}={}){let Xe=A.actionData!=null&&A.navigation.formMethod!=null&&Ls(A.navigation.formMethod)&&A.navigation.state==="loading"&&se.state?._isRedirect!==!0,nt;ye.actionData?Object.keys(ye.actionData).length>0?nt=ye.actionData:nt=null:Xe?nt=A.actionData:nt=null;let _t=ye.loaderData?Iz(A.loaderData,ye.loaderData,ye.matches||[],ye.errors):A.loaderData,bt=A.blockers;bt.size>0&&(bt=new Map(bt),bt.forEach((ft,mt)=>bt.set(mt,SE)));let At=Y?!1:xt(se,ye.matches||A.matches),$t=L===!0||A.navigation.formMethod!=null&&Ls(A.navigation.formMethod)&&se.state?._isRedirect!==!0;s&&(a=s,s=void 0),Y||R==="POP"||(R==="PUSH"?e.history.push(se,se.state):R==="REPLACE"&&e.history.replace(se,se.state));let Ht;if(R==="POP"){let ft=W.get(A.location.pathname);ft&&ft.has(se.pathname)?Ht={currentLocation:A.location,nextLocation:se}:W.has(se.pathname)&&(Ht={currentLocation:se,nextLocation:A.location})}else if($){let ft=W.get(A.location.pathname);ft?ft.add(se.pathname):(ft=new Set([se.pathname]),W.set(A.location.pathname,ft)),Ht={currentLocation:A.location,nextLocation:se}}je({...ye,actionData:nt,loaderData:_t,historyAction:R,location:se,initialized:!0,navigation:wI,revalidation:"idle",restoreScrollPosition:At,preventScrollReset:$t,blockers:bt},{viewTransitionOpts:Ht,flushSync:Re===!0}),R="POP",L=!1,$=!1,Y=!1,U=!1,ke?.resolve(),ke=null}async function Me(se,ye){if(typeof se=="number"){e.history.go(se);return}let Re=D6(A.location,A.matches,l,se,ye?.fromRouteId,ye?.relative),{path:Xe,submission:nt,error:_t}=Tz(!1,Re,ye),bt=A.location,At=qS(A.location,Xe,ye&&ye.state);At={...At,...e.history.encodeLocation(At)};let $t=ye&&ye.replace!=null?ye.replace:void 0,Ht="PUSH";$t===!0?Ht="REPLACE":$t===!1||nt!=null&&Ls(nt.formMethod)&&nt.formAction===A.location.pathname+A.location.search&&(Ht="REPLACE");let ft=ye&&"preventScrollReset"in ye?ye.preventScrollReset===!0:void 0,mt=(ye&&ye.flushSync)===!0,xn=lt({currentLocation:bt,nextLocation:At,historyAction:Ht});if(xn){Tt(xn,{state:"blocked",location:At,proceed(){Tt(xn,{state:"proceeding",proceed:void 0,reset:void 0,location:At}),Me(se,ye)},reset(){let mr=new Map(A.blockers);mr.set(xn,SE),je({blockers:mr})}});return}await Ve(Ht,At,{submission:nt,pendingError:_t,preventScrollReset:ft,replace:ye&&ye.replace,enableViewTransition:ye&&ye.viewTransition,flushSync:mt})}function Lt(){ke||(ke=Qxe()),Qe(),je({revalidation:"loading"});let se=ke.promise;return A.navigation.state==="submitting"?se:A.navigation.state==="idle"?(Ve(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),se):(Ve(R||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:$===!0}),se)}async function Ve(se,ye,Re){B&&B.abort(),B=null,R=se,Y=(Re&&Re.startUninterruptedRevalidation)===!0,vt(A.location,A.matches),L=(Re&&Re.preventScrollReset)===!0,$=(Re&&Re.enableViewTransition)===!0;let Xe=s||a,nt=Re&&Re.overrideNavigation,_t=Re?.initialHydration&&A.matches&&A.matches.length>0&&!k?A.matches:Tp(Xe,ye,l),bt=(Re&&Re.flushSync)===!0;if(_t&&A.initialized&&!U&&zxe(A.location,ye)&&!(Re&&Re.submission&&Ls(Re.submission.formMethod))){Ke(ye,{matches:_t},{flushSync:bt});return}let At=on(_t,Xe,ye.pathname);if(At.active&&At.matches&&(_t=At.matches),!_t){let{error:mo,notFoundMatches:Rr,route:ar}=ct(ye.pathname);Ke(ye,{matches:Rr,loaderData:{},errors:{[ar.id]:mo}},{flushSync:bt});return}B=new AbortController;let $t=dv(e.history,ye,B.signal,Re&&Re.submission),Ht=e.getContext?await e.getContext():new Sz,ft;if(Re&&Re.pendingError)ft=[kp(_t).route.id,{type:"error",error:Re.pendingError}];else if(Re&&Re.submission&&Ls(Re.submission.formMethod)){let mo=await an($t,ye,Re.submission,_t,Ht,At.active,Re&&Re.initialHydration===!0,{replace:Re.replace,flushSync:bt});if(mo.shortCircuited)return;if(mo.pendingActionResult){let[Rr,ar]=mo.pendingActionResult;if(wl(ar)&&YS(ar.error)&&ar.error.status===404){B=null,Ke(ye,{matches:mo.matches,loaderData:{},errors:{[Rr]:ar.error}});return}}_t=mo.matches||_t,ft=mo.pendingActionResult,nt=EI(ye,Re.submission),bt=!1,At.active=!1,$t=dv(e.history,$t.url,$t.signal)}let{shortCircuited:mt,matches:xn,loaderData:mr,errors:Ni}=await cn($t,ye,_t,Ht,At.active,nt,Re&&Re.submission,Re&&Re.fetcherSubmission,Re&&Re.replace,Re&&Re.initialHydration===!0,bt,ft);mt||(B=null,Ke(ye,{matches:xn||_t,...Pz(ft),loaderData:mr,errors:Ni}))}async function an(se,ye,Re,Xe,nt,_t,bt,At={}){Qe();let $t=Gxe(ye,Re);if(je({navigation:$t},{flushSync:At.flushSync===!0}),_t){let mt=await Gn(Xe,ye.pathname,se.signal);if(mt.type==="aborted")return{shortCircuited:!0};if(mt.type==="error"){if(mt.partialMatches.length===0){let{matches:mr,route:Ni}=N_(a);return{matches:mr,pendingActionResult:[Ni.id,{type:"error",error:mt.error}]}}let xn=kp(mt.partialMatches).route.id;return{matches:mt.partialMatches,pendingActionResult:[xn,{type:"error",error:mt.error}]}}else if(mt.matches)Xe=mt.matches;else{let{notFoundMatches:xn,error:mr,route:Ni}=ct(ye.pathname);return{matches:xn,pendingActionResult:[Ni.id,{type:"error",error:mr}]}}}let Ht,ft=$A(Xe,ye);if(!ft.route.action&&!ft.route.lazy)Ht={type:"error",error:tc(405,{method:se.method,pathname:ye.pathname,routeId:ft.route.id})};else{let mt=Rv(i,o,se,Xe,ft,bt?[]:r,nt),xn=await Je(se,mt,nt,null);if(Ht=xn[ft.route.id],!Ht){for(let mr of Xe)if(xn[mr.route.id]){Ht=xn[mr.route.id];break}}if(se.signal.aborted)return{shortCircuited:!0}}if(e0(Ht)){let mt;return At&&At.replace!=null?mt=At.replace:mt=Mz(Ht.response.headers.get("Location"),new URL(se.url),l)===A.location.pathname+A.location.search,await Te(se,Ht,!0,{submission:Re,replace:mt}),{shortCircuited:!0}}if(wl(Ht)){let mt=kp(Xe,ft.route.id);return(At&&At.replace)!==!0&&(R="PUSH"),{matches:Xe,pendingActionResult:[mt.route.id,Ht,ft.route.id]}}return{matches:Xe,pendingActionResult:[ft.route.id,Ht]}}async function cn(se,ye,Re,Xe,nt,_t,bt,At,$t,Ht,ft,mt){let xn=_t||EI(ye,bt),mr=bt||At||jz(xn),Ni=!Y&&!Ht;if(nt){if(Ni){let $i=Qt(mt);je({navigation:xn,...$i!==void 0?{actionData:$i}:{}},{flushSync:ft})}let yn=await Gn(Re,ye.pathname,se.signal);if(yn.type==="aborted")return{shortCircuited:!0};if(yn.type==="error"){if(yn.partialMatches.length===0){let{matches:_c,route:Hl}=N_(a);return{matches:_c,loaderData:{},errors:{[Hl.id]:yn.error}}}let $i=kp(yn.partialMatches).route.id;return{matches:yn.partialMatches,loaderData:{},errors:{[$i]:yn.error}}}else if(yn.matches)Re=yn.matches;else{let{error:$i,notFoundMatches:_c,route:Hl}=ct(ye.pathname);return{matches:_c,loaderData:{},errors:{[Hl.id]:$i}}}}let mo=s||a,{dsMatches:Rr,revalidatingFetchers:ar}=kz(se,Xe,i,o,e.history,A,Re,mr,ye,Ht?[]:r,Ht===!0,U,X,z,Q,K,mo,l,e.patchRoutesOnNavigation!=null,mt);if(Z=++ne,!e.dataStrategy&&!Rr.some(yn=>yn.shouldLoad)&&!Rr.some(yn=>yn.route.middleware&&yn.route.middleware.length>0)&&ar.length===0){let yn=Yn();return Ke(ye,{matches:Re,loaderData:{},errors:mt&&wl(mt[1])?{[mt[0]]:mt[1].error}:null,...Pz(mt),...yn?{fetchers:new Map(A.fetchers)}:{}},{flushSync:ft}),{shortCircuited:!0}}if(Ni){let yn={};if(!nt){yn.navigation=xn;let $i=Qt(mt);$i!==void 0&&(yn.actionData=$i)}ar.length>0&&(yn.fetchers=Yr(ar)),je(yn,{flushSync:ft})}ar.forEach(yn=>{kn(yn.key),yn.controller&&q.set(yn.key,yn.controller)});let Xs=()=>ar.forEach(yn=>kn(yn.key));B&&B.signal.addEventListener("abort",Xs);let{loaderResults:fs,fetcherResults:Zi}=await Ze(Rr,ar,se,Xe);if(se.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",Xs),ar.forEach(yn=>q.delete(yn.key));let Oo=O_(fs);if(Oo)return await Te(se,Oo.result,!0,{replace:$t}),{shortCircuited:!0};if(Oo=O_(Zi),Oo)return K.add(Oo.key),await Te(se,Oo.result,!0,{replace:$t}),{shortCircuited:!0};let{loaderData:Ma,errors:Gr}=Rz(A,Re,fs,mt,ar,Zi);Ht&&A.errors&&(Gr={...A.errors,...Gr});let $l=Yn(),Vd=xr(Z),Da=$l||Vd||ar.length>0;return{matches:Re,loaderData:Ma,errors:Gr,...Da?{fetchers:new Map(A.fetchers)}:{}}}function Qt(se){if(se&&!wl(se[1]))return{[se[0]]:se[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Yr(se){return se.forEach(ye=>{let Re=A.fetchers.get(ye.key),Xe=CE(void 0,Re?Re.data:void 0);A.fetchers.set(ye.key,Xe)}),new Map(A.fetchers)}async function er(se,ye,Re,Xe){kn(se);let nt=(Xe&&Xe.flushSync)===!0,_t=s||a,bt=D6(A.location,A.matches,l,Re,ye,Xe?.relative),At=Tp(_t,bt,l),$t=on(At,_t,bt);if($t.active&&$t.matches&&(At=$t.matches),!At){Be(se,ye,tc(404,{pathname:bt}),{flushSync:nt});return}let{path:Ht,submission:ft,error:mt}=Tz(!0,bt,Xe);if(mt){Be(se,ye,mt,{flushSync:nt});return}let xn=e.getContext?await e.getContext():new Sz,mr=(Xe&&Xe.preventScrollReset)===!0;if(ft&&Ls(ft.formMethod)){await ce(se,ye,Ht,At,xn,$t.active,nt,mr,ft);return}Q.set(se,{routeId:ye,path:Ht}),await xe(se,ye,Ht,At,xn,$t.active,nt,mr,ft)}async function ce(se,ye,Re,Xe,nt,_t,bt,At,$t){Qe(),Q.delete(se);let Ht=A.fetchers.get(se);ge(se,Kxe($t,Ht),{flushSync:bt});let ft=new AbortController,mt=dv(e.history,Re,ft.signal,$t);if(_t){let Ei=await Gn(Xe,new URL(mt.url).pathname,mt.signal,se);if(Ei.type==="aborted")return;if(Ei.type==="error"){Be(se,ye,Ei.error,{flushSync:bt});return}else if(Ei.matches)Xe=Ei.matches;else{Be(se,ye,tc(404,{pathname:Re}),{flushSync:bt});return}}let xn=$A(Xe,Re);if(!xn.route.action&&!xn.route.lazy){let Ei=tc(405,{method:$t.formMethod,pathname:Re,routeId:ye});Be(se,ye,Ei,{flushSync:bt});return}q.set(se,ft);let mr=ne,Ni=Rv(i,o,mt,Xe,xn,r,nt),Rr=(await Je(mt,Ni,nt,se))[xn.route.id];if(mt.signal.aborted){q.get(se)===ft&&q.delete(se);return}if(z.has(se)){if(e0(Rr)||wl(Rr)){ge(se,Tf(void 0));return}}else{if(e0(Rr))if(q.delete(se),Z>mr){ge(se,Tf(void 0));return}else return K.add(se),ge(se,CE($t)),Te(mt,Rr,!1,{fetcherSubmission:$t,preventScrollReset:At});if(wl(Rr)){Be(se,ye,Rr.error);return}}let ar=A.navigation.location||A.location,Xs=dv(e.history,ar,ft.signal),fs=s||a,Zi=A.navigation.state!=="idle"?Tp(fs,A.navigation.location,l):A.matches;$n(Zi,"Didn't find any matches after fetcher action");let Oo=++ne;oe.set(se,Oo);let Ma=CE($t,Rr.data);A.fetchers.set(se,Ma);let{dsMatches:Gr,revalidatingFetchers:$l}=kz(Xs,nt,i,o,e.history,A,Zi,$t,ar,r,!1,U,X,z,Q,K,fs,l,e.patchRoutesOnNavigation!=null,[xn.route.id,Rr]);$l.filter(Ei=>Ei.key!==se).forEach(Ei=>{let Ac=Ei.key,Nu=A.fetchers.get(Ac),hs=CE(void 0,Nu?Nu.data:void 0);A.fetchers.set(Ac,hs),kn(Ac),Ei.controller&&q.set(Ac,Ei.controller)}),je({fetchers:new Map(A.fetchers)});let Vd=()=>$l.forEach(Ei=>kn(Ei.key));ft.signal.addEventListener("abort",Vd);let{loaderResults:Da,fetcherResults:yn}=await Ze(Gr,$l,Xs,nt);if(ft.signal.aborted)return;if(ft.signal.removeEventListener("abort",Vd),oe.delete(se),q.delete(se),$l.forEach(Ei=>q.delete(Ei.key)),A.fetchers.has(se)){let Ei=Tf(Rr.data);A.fetchers.set(se,Ei)}let $i=O_(Da);if($i)return Te(Xs,$i.result,!1,{preventScrollReset:At});if($i=O_(yn),$i)return K.add($i.key),Te(Xs,$i.result,!1,{preventScrollReset:At});let{loaderData:_c,errors:Hl}=Rz(A,Zi,Da,void 0,$l,yn);xr(Oo),A.navigation.state==="loading"&&Oo>Z?($n(R,"Expected pending action"),B&&B.abort(),Ke(A.navigation.location,{matches:Zi,loaderData:_c,errors:Hl,fetchers:new Map(A.fetchers)})):(je({errors:Hl,loaderData:Iz(A.loaderData,_c,Zi,Hl),fetchers:new Map(A.fetchers)}),U=!1)}async function xe(se,ye,Re,Xe,nt,_t,bt,At,$t){let Ht=A.fetchers.get(se);ge(se,CE($t,Ht?Ht.data:void 0),{flushSync:bt});let ft=new AbortController,mt=dv(e.history,Re,ft.signal);if(_t){let ar=await Gn(Xe,new URL(mt.url).pathname,mt.signal,se);if(ar.type==="aborted")return;if(ar.type==="error"){Be(se,ye,ar.error,{flushSync:bt});return}else if(ar.matches)Xe=ar.matches;else{Be(se,ye,tc(404,{pathname:Re}),{flushSync:bt});return}}let xn=$A(Xe,Re);q.set(se,ft);let mr=ne,Ni=Rv(i,o,mt,Xe,xn,r,nt),Rr=(await Je(mt,Ni,nt,se))[xn.route.id];if(q.get(se)===ft&&q.delete(se),!mt.signal.aborted){if(z.has(se)){ge(se,Tf(void 0));return}if(e0(Rr))if(Z>mr){ge(se,Tf(void 0));return}else{K.add(se),await Te(mt,Rr,!1,{preventScrollReset:At});return}if(wl(Rr)){Be(se,ye,Rr.error);return}ge(se,Tf(Rr.data))}}async function Te(se,ye,Re,{submission:Xe,fetcherSubmission:nt,preventScrollReset:_t,replace:bt}={}){ye.response.headers.has("X-Remix-Revalidate")&&(U=!0);let At=ye.response.headers.get("Location");$n(At,"Expected a Location header on the redirect Response"),At=Mz(At,new URL(se.url),l);let $t=qS(A.location,At,{_isRedirect:!0});if(n){let Ni=!1;if(ye.response.headers.has("X-Remix-Reload-Document"))Ni=!0;else if(dH(At)){const mo=lre(At,!0);Ni=mo.origin!==t.location.origin||bc(mo.pathname,l)==null}if(Ni){bt?t.location.replace(At):t.location.assign(At);return}}B=null;let Ht=bt===!0||ye.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ft,formAction:mt,formEncType:xn}=A.navigation;!Xe&&!nt&&ft&&mt&&xn&&(Xe=jz(A.navigation));let mr=Xe||nt;if(kxe.has(ye.response.status)&&mr&&Ls(mr.formMethod))await Ve(Ht,$t,{submission:{...mr,formAction:At},preventScrollReset:_t||L,enableViewTransition:Re?$:void 0});else{let Ni=EI($t,Xe);await Ve(Ht,$t,{overrideNavigation:Ni,fetcherSubmission:nt,preventScrollReset:_t||L,enableViewTransition:Re?$:void 0})}}async function Je(se,ye,Re,Xe){let nt,_t={};try{nt=await jxe(c,se,ye,Xe,Re,!1)}catch(bt){return ye.filter(At=>At.shouldLoad).forEach(At=>{_t[At.route.id]={type:"error",error:bt}}),_t}if(se.signal.aborted)return _t;for(let[bt,At]of Object.entries(nt))if(Wxe(At)){let $t=At.result;_t[bt]={type:"redirect",response:Fxe($t,se,bt,ye,l)}}else _t[bt]=await Hxe(At);return _t}async function Ze(se,ye,Re,Xe){let nt=Je(Re,se,Xe,null),_t=Promise.all(ye.map(async $t=>{if($t.matches&&$t.match&&$t.request&&$t.controller){let ft=(await Je($t.request,$t.matches,Xe,$t.key))[$t.match.route.id];return{[$t.key]:ft}}else return Promise.resolve({[$t.key]:{type:"error",error:tc(404,{pathname:$t.path})}})})),bt=await nt,At=(await _t).reduce(($t,Ht)=>Object.assign($t,Ht),{});return{loaderResults:bt,fetcherResults:At}}function Qe(){U=!0,Q.forEach((se,ye)=>{q.has(ye)&&X.add(ye),kn(ye)})}function ge(se,ye,Re={}){A.fetchers.set(se,ye),je({fetchers:new Map(A.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function Be(se,ye,Re,Xe={}){let nt=kp(A.matches,ye);qt(se),je({errors:{[nt.route.id]:Re},fetchers:new Map(A.fetchers)},{flushSync:(Xe&&Xe.flushSync)===!0})}function it(se){return te.set(se,(te.get(se)||0)+1),z.has(se)&&z.delete(se),A.fetchers.get(se)||_xe}function Nt(se,ye){kn(se,ye?.reason),ge(se,Tf(null))}function qt(se){let ye=A.fetchers.get(se);q.has(se)&&!(ye&&ye.state==="loading"&&oe.has(se))&&kn(se),Q.delete(se),oe.delete(se),K.delete(se),z.delete(se),X.delete(se),A.fetchers.delete(se)}function Zn(se){let ye=(te.get(se)||0)-1;ye<=0?(te.delete(se),z.add(se)):te.set(se,ye),je({fetchers:new Map(A.fetchers)})}function kn(se,ye){let Re=q.get(se);Re&&(Re.abort(ye),q.delete(se))}function or(se){for(let ye of se){let Re=it(ye),Xe=Tf(Re.data);A.fetchers.set(ye,Xe)}}function Yn(){let se=[],ye=!1;for(let Re of K){let Xe=A.fetchers.get(Re);$n(Xe,`Expected fetcher: ${Re}`),Xe.state==="loading"&&(K.delete(Re),se.push(Re),ye=!0)}return or(se),ye}function xr(se){let ye=[];for(let[Re,Xe]of oe)if(Xe<se){let nt=A.fetchers.get(Re);$n(nt,`Expected fetcher: ${Re}`),nt.state==="loading"&&(kn(Re),oe.delete(Re),ye.push(Re))}return or(ye),ye.length>0}function un(se,ye){let Re=A.blockers.get(se)||SE;return fe.get(se)!==ye&&fe.set(se,ye),Re}function wi(se){A.blockers.delete(se),fe.delete(se)}function Tt(se,ye){let Re=A.blockers.get(se)||SE;$n(Re.state==="unblocked"&&ye.state==="blocked"||Re.state==="blocked"&&ye.state==="blocked"||Re.state==="blocked"&&ye.state==="proceeding"||Re.state==="blocked"&&ye.state==="unblocked"||Re.state==="proceeding"&&ye.state==="unblocked",`Invalid blocker state transition: ${Re.state} -> ${ye.state}`);let Xe=new Map(A.blockers);Xe.set(se,ye),je({blockers:Xe})}function lt({currentLocation:se,nextLocation:ye,historyAction:Re}){if(fe.size===0)return;fe.size>1&&ji(!1,"A router only supports one blocker at a time");let Xe=Array.from(fe.entries()),[nt,_t]=Xe[Xe.length-1],bt=A.blockers.get(nt);if(!(bt&&bt.state==="proceeding")&&_t({currentLocation:se,nextLocation:ye,historyAction:Re}))return nt}function ct(se){let ye=tc(404,{pathname:se}),Re=s||a,{matches:Xe,route:nt}=N_(Re);return{notFoundMatches:Xe,route:nt,error:ye}}function kt(se,ye,Re){if(m=se,x=ye,v=Re||null,!w&&A.navigation===wI){w=!0;let Xe=xt(A.location,A.matches);Xe!=null&&je({restoreScrollPosition:Xe})}return()=>{m=null,x=null,v=null}}function jt(se,ye){return v&&v(se,ye.map(Xe=>rxe(Xe,A.loaderData)))||se.key}function vt(se,ye){if(m&&x){let Re=jt(se,ye);m[Re]=x()}}function xt(se,ye){if(m){let Re=jt(se,ye),Xe=m[Re];if(typeof Xe=="number")return Xe}return null}function on(se,ye,Re){if(e.patchRoutesOnNavigation)if(se){if(Object.keys(se[0].params).length>0)return{active:!0,matches:BA(ye,Re,l,!0)}}else return{active:!0,matches:BA(ye,Re,l,!0)||[]};return{active:!1,matches:null}}async function Gn(se,ye,Re,Xe){if(!e.patchRoutesOnNavigation)return{type:"success",matches:se};let nt=se;for(;;){let _t=s==null,bt=s||a,At=o;try{await e.patchRoutesOnNavigation({signal:Re,path:ye,matches:nt,fetcherKey:Xe,patch:(ft,mt)=>{Re.aborted||_z(ft,mt,bt,At,i,!1)}})}catch(ft){return{type:"error",error:ft,partialMatches:nt}}finally{_t&&!Re.aborted&&(a=[...a])}if(Re.aborted)return{type:"aborted"};let $t=Tp(bt,ye,l);if($t)return{type:"success",matches:$t};let Ht=BA(bt,ye,l,!0);if(!Ht||nt.length===Ht.length&&nt.every((ft,mt)=>ft.route.id===Ht[mt].route.id))return{type:"success",matches:null};nt=Ht}}function Hn(se){o={},s=WS(se,i,void 0,o)}function fi(se,ye,Re=!1){let Xe=s==null;_z(se,ye,s||a,o,i,Re),Xe&&(a=[...a],je({}))}return M={get basename(){return l},get future(){return d},get state(){return A},get routes(){return a},get window(){return t},initialize:Ee,subscribe:we,enableScrollRestoration:kt,navigate:Me,fetch:er,revalidate:Lt,createHref:se=>e.history.createHref(se),encodeLocation:se=>e.history.encodeLocation(se),getFetcher:it,resetFetcher:Nt,deleteFetcher:Zn,dispose:ve,getBlocker:un,deleteBlocker:wi,patchRoutes:fi,_internalFetchControllers:q,_internalSetRoutes:Hn,_internalSetStateDoNotUseOrYouWillBreakYourApp(se){je(se)}},M}function Mxe(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function D6(e,t,n,r,i,o){let a,s;if(i){a=[];for(let c of t)if(a.push(c),c.route.id===i){s=c;break}}else a=t,s=t[t.length-1];let l=ZM(r||".",XM(a),bc(e.pathname,n)||e.pathname,o==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&s){let c=hH(l.search);if(s.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&c){let d=new URLSearchParams(l.search),u=d.getAll("index");d.delete("index"),u.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();l.search=p?`?${p}`:""}}return n!=="/"&&(l.pathname=gxe({basename:n,pathname:l.pathname})),Zp(l)}function Tz(e,t,n){if(!n||!Mxe(n))return{path:t};if(n.formMethod&&!Yxe(n.formMethod))return{path:t,error:tc(405,{method:n.formMethod})};let r=()=>({path:t,error:tc(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),a=xre(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ls(o))return r();let u=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[m,v])=>`${p}${m}=${v}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:u}}}else if(n.formEncType==="application/json"){if(!Ls(o))return r();try{let u=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:u,text:void 0}}}catch{return r()}}}$n(typeof FormData=="function","FormData is not available in this environment");let s,l;if(n.formData)s=P6(n.formData),l=n.formData;else if(n.body instanceof FormData)s=P6(n.body),l=n.body;else if(n.body instanceof URLSearchParams)s=n.body,l=Dz(s);else if(n.body==null)s=new URLSearchParams,l=new FormData;else try{s=new URLSearchParams(n.body),l=Dz(s)}catch{return r()}let c={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Ls(c.formMethod))return{path:t,submission:c};let d=um(t);return e&&d.search&&hH(d.search)&&s.append("index",""),d.search=`?${s}`,{path:Zp(d),submission:c}}function kz(e,t,n,r,i,o,a,s,l,c,d,u,p,m,v,x,w,T,k,N){let I=N?wl(N[1])?N[1].error:N[1].data:void 0,M=i.createURL(o.location),A=i.createURL(l),R;if(d&&o.errors){let Y=Object.keys(o.errors)[0];R=a.findIndex(U=>U.route.id===Y)}else if(N&&wl(N[1])){let Y=N[0];R=a.findIndex(U=>U.route.id===Y)-1}let L=N?N[1].statusCode:void 0,B=L&&L>=400,$={currentUrl:M,currentParams:o.matches[0]?.params||{},nextUrl:A,nextParams:a[0].params,...s,actionResult:I,actionStatus:L},W=a.map((Y,U)=>{let{route:X}=Y,q=null;if(R!=null&&U>R?q=!1:X.lazy?q=!0:fH(X)?d?q=R6(X,o.loaderData,o.errors):Dxe(o.loaderData,o.matches[U],Y)&&(q=!0):q=!1,q!==null)return I6(n,r,e,Y,c,t,q);let ne=B?!1:u||M.pathname+M.search===A.pathname+A.search||M.search!==A.search||Rxe(o.matches[U],Y),Z={...$,defaultShouldRevalidate:ne},oe=pN(Y,Z);return I6(n,r,e,Y,c,t,oe,Z)}),V=[];return v.forEach((Y,U)=>{if(d||!a.some(te=>te.route.id===Y.routeId)||m.has(U))return;let X=o.fetchers.get(U),q=X&&X.state!=="idle"&&X.data===void 0,ne=Tp(w,Y.path,T);if(!ne){if(k&&q)return;V.push({key:U,routeId:Y.routeId,path:Y.path,matches:null,match:null,request:null,controller:null});return}if(x.has(U))return;let Z=$A(ne,Y.path),oe=new AbortController,K=dv(i,Y.path,oe.signal),Q=null;if(p.has(U))p.delete(U),Q=Rv(n,r,K,ne,Z,c,t);else if(q)u&&(Q=Rv(n,r,K,ne,Z,c,t));else{let te={...$,defaultShouldRevalidate:B?!1:u};pN(Z,te)&&(Q=Rv(n,r,K,ne,Z,c,t,te))}Q&&V.push({key:U,routeId:Y.routeId,path:Y.path,matches:Q,match:Z,request:K,controller:oe})}),{dsMatches:W,revalidatingFetchers:V}}function fH(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function R6(e,t,n){if(e.lazy)return!0;if(!fH(e))return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function Dxe(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function Rxe(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function pN(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function _z(e,t,n,r,i,o){let a;if(e){let c=r[e];$n(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),a=c.children}else a=n;let s=[],l=[];if(t.forEach(c=>{let d=a.find(u=>mre(c,u));d?l.push({existingRoute:d,newRoute:c}):s.push(c)}),s.length>0){let c=WS(s,i,[e||"_","patch",String(a?.length||"0")],r);a.push(...c)}if(o&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:d,newRoute:u}=l[c],p=d,[m]=WS([u],i,[],{},!0);Object.assign(p,{element:m.element?m.element:p.element,errorElement:m.errorElement?m.errorElement:p.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:p.hydrateFallbackElement})}}function mre(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>mre(n,i))):!1}var Az=new WeakMap,gre=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if($n(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[e];if(!o)return;let a=Az.get(i);a||(a={},Az.set(i,a));let s=a[e];if(s)return s;let l=(async()=>{let c=J1e(e),u=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)ji(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(u)ji(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await o();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return a[e]=l,l},Nz=new WeakMap;function Ixe(e,t,n,r,i){let o=n[e.id];if($n(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=Nz.get(o);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let u=(async()=>{$n(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),m={};for(let v in p){let x=p[v];if(x===void 0)continue;let w=txe(v),k=o[v]!==void 0&&v!=="hasErrorBoundary";w?ji(!w,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?ji(!k,`Route "${o.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):m[v]=x}Object.assign(o,m),Object.assign(o,{...r(o),lazy:void 0})})();return Nz.set(o,u),u.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:u}}let a=Object.keys(e.lazy),s=[],l;for(let d of a){if(i&&i.includes(d))continue;let u=gre({key:d,route:e,manifest:n,mapRouteProperties:r});u&&(s.push(u),d===t&&(l=u))}let c=s.length>0?Promise.all(s).then(()=>{}):void 0;return c?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function Oz(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,o)=>{n[t[o].route.id]=i}),n}async function Pxe(e){return e.matches.some(t=>t.route.middleware)?yre(e,()=>Oz(e)):Oz(e)}function yre(e,t){return Lxe(e,t,r=>r,Vxe,n);function n(r,i,o){if(o)return Promise.resolve(Object.assign(o.value,{[i]:{type:"error",result:r}}));{let{matches:a}=e,s=Math.min(Math.max(a.findIndex(c=>c.route.id===i),0),Math.max(a.findIndex(c=>c.unstable_shouldCallHandler()),0)),l=kp(a,a[s].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:r}})}}}async function Lxe(e,t,n,r,i){let{matches:o,request:a,params:s,context:l}=e,c=o.flatMap(u=>u.route.middleware?u.route.middleware.map(p=>[u.route.id,p]):[]);return await bre({request:a,params:s,context:l},c,t,n,r,i)}async function bre(e,t,n,r,i,o,a=0){let{request:s}=e;if(s.signal.aborted)throw s.signal.reason??new Error(`Request aborted: ${s.method} ${s.url}`);let l=t[a];if(!l)return await n();let[c,d]=l,u,p=async()=>{if(u)throw new Error("You may only call `next()` once per middleware");try{return u={value:await bre(e,t,n,r,i,o,a+1)},u.value}catch(m){return u={value:await o(m,c,u)},u.value}};try{let m=await d(e,p),v=m!=null?r(m):void 0;return i(v)?v:u?v??u.value:(u={value:await p()},u.value)}catch(m){return await o(m,c,u)}}function vre(e,t,n,r,i){let o=gre({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),a=Ixe(r.route,Ls(n.method)?"action":"loader",t,e,i);return{middleware:o,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function I6(e,t,n,r,i,o,a,s=null){let l=!1,c=vre(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:a,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler(d){return l=!0,s?typeof d=="boolean"?pN(r,{...s,defaultShouldRevalidate:d}):pN(r,s):a},resolve(d){let{lazy:u,loader:p,middleware:m}=r.route,v=l||a||d&&!Ls(n.method)&&(u||p),x=m&&m.length>0&&!p&&!u;return v&&!x?Bxe({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:d,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Rv(e,t,n,r,i,o,a,s=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler:()=>!1,_lazyPromises:vre(e,t,n,l,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:I6(e,t,n,l,o,a,!0,s))}async function jxe(e,t,n,r,i,o){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let a={request:t,params:n[0].params,context:i,matches:n},l=await e({...a,fetcherKey:r,runClientMiddleware:c=>{let d=a;return yre(d,()=>c({...d,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return l}async function Bxe({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let a,s,l=Ls(e.method),c=l?"action":"loader",d=u=>{let p,m=new Promise((w,T)=>p=T);s=()=>p(),e.signal.addEventListener("abort",s);let v=w=>typeof u!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):u({request:e,params:t.params,context:o},...w!==void 0?[w]:[]),x=(async()=>{try{return{type:"data",result:await(i?i(T=>v(T)):v())}}catch(w){return{type:"error",result:w}}})();return Promise.race([x,m])};try{let u=l?t.route.action:t.route.loader;if(n||r)if(u){let p,[m]=await Promise.all([d(u).catch(v=>{p=v}),n,r]);if(p!==void 0)throw p;a=m}else{await n;let p=l?t.route.action:t.route.loader;if(p)[a]=await Promise.all([d(p),r]);else if(c==="action"){let m=new URL(e.url),v=m.pathname+m.search;throw tc(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(u)a=await d(u);else{let p=new URL(e.url),m=p.pathname+p.search;throw tc(404,{pathname:m})}}catch(u){return{type:"error",result:u}}finally{s&&e.signal.removeEventListener("abort",s)}return a}async function $xe(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Hxe(e){let{result:t,type:n}=e;if(wre(t)){let r;try{r=await $xe(t)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new hN(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?Lz(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new hN(t.init?.status||500,void 0,t.data),statusCode:YS(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:YS(t)?t.status:void 0}:Lz(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Fxe(e,t,n,r,i){let o=e.headers.get("Location");if($n(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!dH(o)){let a=r.slice(0,r.findIndex(s=>s.route.id===n)+1);o=D6(new URL(t.url),a,i,o),e.headers.set("Location",o)}return e}function Mz(e,t,n){if(dH(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=bc(i.pathname,n)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function dv(e,t,n,r){let i=e.createURL(xre(t)).toString(),o={signal:n};if(r&&Ls(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=P6(r.formData):o.body=r.formData}return new Request(i,o)}function P6(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Dz(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Uxe(e,t,n,r=!1,i=!1){let o={},a=null,s,l=!1,c={},d=n&&wl(n[1])?n[1].error:void 0;return e.forEach(u=>{if(!(u.route.id in t))return;let p=u.route.id,m=t[p];if($n(!e0(m),"Cannot handle redirect results in processLoaderData"),wl(m)){let v=m.error;if(d!==void 0&&(v=d,d=void 0),a=a||{},i)a[p]=v;else{let x=kp(e,p);a[x.route.id]==null&&(a[x.route.id]=v)}r||(o[p]=pre),l||(l=!0,s=YS(m.error)?m.error.status:500),m.headers&&(c[p]=m.headers)}else o[p]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(s=m.statusCode),m.headers&&(c[p]=m.headers)}),d!==void 0&&n&&(a={[n[0]]:d},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:c}}function Rz(e,t,n,r,i,o){let{loaderData:a,errors:s}=Uxe(t,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:d,controller:u}=l;if(u&&u.signal.aborted)return;let p=o[c];if($n(p,"Did not find corresponding fetcher result"),wl(p)){let m=kp(e.matches,d?.route.id);s&&s[m.route.id]||(s={...s,[m.route.id]:p.error}),e.fetchers.delete(c)}else if(e0(p))$n(!1,"Unhandled fetcher revalidation redirect");else{let m=Tf(p.data);e.fetchers.set(c,m)}}),{loaderData:a,errors:s}}function Iz(e,t,n,r){let i=Object.entries(t).filter(([,o])=>o!==pre).reduce((o,[a,s])=>(o[a]=s,o),{});for(let o of n){let a=o.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&o.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function Pz(e){return e?wl(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function kp(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function N_(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function tc(e,{pathname:t,routeId:n,method:r,type:i,message:o}={}){let a="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(a="Bad Request",r&&t&&n?s=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(s="Unable to encode submission body")):e===403?(a="Forbidden",s=`Route "${n}" does not match URL "${t}"`):e===404?(a="Not Found",s=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",r&&t&&n?s=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(s=`Invalid request method "${r.toUpperCase()}"`)),new hN(e||500,a,new Error(s),!0)}function O_(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(e0(i))return{key:r,result:i}}}function xre(e){let t=typeof e=="string"?um(e):e;return Zp({...t,hash:""})}function zxe(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Vxe(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&qxe(n))}function qxe(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function Wxe(e){return wre(e.result)&&Txe.has(e.result.status)}function wl(e){return e.type==="error"}function e0(e){return(e&&e.type)==="redirect"}function Lz(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function wre(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Yxe(e){return Cxe.has(e.toUpperCase())}function Ls(e){return Exe.has(e.toUpperCase())}function hH(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function $A(e,t){let n=typeof t=="string"?um(t).search:t.search;if(e[e.length-1].route.index&&hH(n||""))return e[e.length-1];let r=dre(e);return r[r.length-1]}function jz(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function EI(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Gxe(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function CE(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Kxe(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Tf(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Xxe(e,t){try{let n=e.sessionStorage.getItem(hre);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function Zxe(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(hre,JSON.stringify(n))}catch(r){ji(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Qxe(){let e,t,n=new Promise((r,i)=>{e=async o=>{r(o);try{await n}catch{}},t=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Z0=C.createContext(null);Z0.displayName="DataRouter";var pT=C.createContext(null);pT.displayName="DataRouterState";C.createContext(!1);var pH=C.createContext({isTransitioning:!1});pH.displayName="ViewTransition";var Ere=C.createContext(new Map);Ere.displayName="Fetchers";var Jxe=C.createContext(null);Jxe.displayName="Await";var wu=C.createContext(null);wu.displayName="Navigation";var QM=C.createContext(null);QM.displayName="Location";var Eu=C.createContext({outlet:null,matches:[],isDataRoute:!1});Eu.displayName="Route";var mH=C.createContext(null);mH.displayName="RouteError";function ewe(e,{relative:t}={}){$n(G1(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(wu),{hash:i,pathname:o,search:a}=mT(e,{relative:t}),s=o;return n!=="/"&&(s=o==="/"?n:xd([n,o])),r.createHref({pathname:s,search:a,hash:i})}function G1(){return C.useContext(QM)!=null}function Su(){return $n(G1(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(QM).location}var Sre="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cre(e){C.useContext(wu).static||C.useLayoutEffect(e)}function Q0(){let{isDataRoute:e}=C.useContext(Eu);return e?hwe():twe()}function twe(){$n(G1(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(Z0),{basename:t,navigator:n}=C.useContext(wu),{matches:r}=C.useContext(Eu),{pathname:i}=Su(),o=JSON.stringify(XM(r)),a=C.useRef(!1);return Cre(()=>{a.current=!0}),C.useCallback((l,c={})=>{if(ji(a.current,Sre),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=ZM(l,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:xd([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,i,e])}C.createContext(null);function oh(){let{matches:e}=C.useContext(Eu),t=e[e.length-1];return t?t.params:{}}function mT(e,{relative:t}={}){let{matches:n}=C.useContext(Eu),{pathname:r}=Su(),i=JSON.stringify(XM(n));return C.useMemo(()=>ZM(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function nwe(e,t,n,r,i){$n(G1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=C.useContext(wu),{matches:a}=C.useContext(Eu),s=a[a.length-1],l=s?s.params:{},c=s?s.pathname:"/",d=s?s.pathnameBase:"/",u=s&&s.route;{let k=u&&u.path||"";Tre(c,!u||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=Su(),m;m=p;let v=m.pathname||"/",x=v;if(d!=="/"){let k=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=Tp(e,{pathname:x});return ji(u||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),ji(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),swe(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:xd([d,o.encodeLocation?o.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:xd([d,o.encodeLocation?o.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),a,n,r,i)}function rwe(){let e=fwe(),t=YS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,a)}var iwe=C.createElement(rwe,null),owe=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(Eu.Provider,{value:this.props.routeContext},C.createElement(mH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function awe({routeContext:e,match:t,children:n}){let r=C.useContext(Z0);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Eu.Provider,{value:e},n)}function swe(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=n?.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);$n(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:u,errors:p}=n,m=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){s=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,d,u)=>{let p,m=!1,v=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||iwe,s&&(l<0&&u===0?(Tre("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):l===u&&(m=!0,x=d.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,u+1)),T=()=>{let k;return p?k=v:m?k=x:d.route.Component?k=C.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=c,C.createElement(awe,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:k})};return n&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?C.createElement(owe,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):T()},null)}function gH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lwe(e){let t=C.useContext(Z0);return $n(t,gH(e)),t}function cwe(e){let t=C.useContext(pT);return $n(t,gH(e)),t}function uwe(e){let t=C.useContext(Eu);return $n(t,gH(e)),t}function yH(e){let t=uwe(e),n=t.matches[t.matches.length-1];return $n(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function dwe(){return yH("useRouteId")}function fwe(){let e=C.useContext(mH),t=cwe("useRouteError"),n=yH("useRouteError");return e!==void 0?e:t.errors?.[n]}function hwe(){let{router:e}=lwe("useNavigate"),t=yH("useNavigate"),n=C.useRef(!1);return Cre(()=>{n.current=!0}),C.useCallback(async(i,o={})=>{ji(n.current,Sre),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Bz={};function Tre(e,t,n){!t&&!Bz[e]&&(Bz[e]=!0,ji(!1,n))}var $z={};function Hz(e,t){!e&&!$z[t]&&($z[t]=!0,console.warn(t))}function pwe(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&ji(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:C.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&ji(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:C.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&ji(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:C.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var mwe=["HydrateFallback","hydrateFallbackElement"],gwe=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function ywe({router:e,flushSync:t,unstable_onError:n}){let[r,i]=C.useState(e.state),[o,a]=C.useState(),[s,l]=C.useState({isTransitioning:!1}),[c,d]=C.useState(),[u,p]=C.useState(),[m,v]=C.useState(),x=C.useRef(new Map),w=C.useCallback(M=>{i(A=>(M.errors&&n&&Object.entries(M.errors).forEach(([R,L])=>{A.errors?.[R]!==L&&n(L)}),M))},[n]),T=C.useCallback((M,{deletedFetchers:A,flushSync:R,viewTransitionOpts:L})=>{M.fetchers.forEach(($,W)=>{$.data!==void 0&&x.current.set(W,$.data)}),A.forEach($=>x.current.delete($)),Hz(R===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let B=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Hz(L==null||B,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!B){t&&R?t(()=>w(M)):C.startTransition(()=>w(M));return}if(t&&R){t(()=>{u&&(c&&c.resolve(),u.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let $=e.window.document.startViewTransition(()=>{t(()=>w(M))});$.finished.finally(()=>{t(()=>{d(void 0),p(void 0),a(void 0),l({isTransitioning:!1})})}),t(()=>p($));return}u?(c&&c.resolve(),u.skipTransition(),v({state:M,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(M),l({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[e.window,t,u,c,w]);C.useLayoutEffect(()=>e.subscribe(T),[e,T]),C.useEffect(()=>{s.isTransitioning&&!s.flushSync&&d(new gwe)},[s]),C.useEffect(()=>{if(c&&o&&e.window){let M=o,A=c.promise,R=e.window.document.startViewTransition(async()=>{C.startTransition(()=>w(M)),await A});R.finished.finally(()=>{d(void 0),p(void 0),a(void 0),l({isTransitioning:!1})}),p(R)}},[o,c,e.window,w]),C.useEffect(()=>{c&&o&&r.location.key===o.location.key&&c.resolve()},[c,u,r.location,o]),C.useEffect(()=>{!s.isTransitioning&&m&&(a(m.state),l({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[s.isTransitioning,m]);let k=C.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:M=>e.navigate(M),push:(M,A,R)=>e.navigate(M,{state:A,preventScrollReset:R?.preventScrollReset}),replace:(M,A,R)=>e.navigate(M,{replace:!0,state:A,preventScrollReset:R?.preventScrollReset})}),[e]),N=e.basename||"/",I=C.useMemo(()=>({router:e,navigator:k,static:!1,basename:N,unstable_onError:n}),[e,k,N,n]);return C.createElement(C.Fragment,null,C.createElement(Z0.Provider,{value:I},C.createElement(pT.Provider,{value:r},C.createElement(Ere.Provider,{value:x.current},C.createElement(pH.Provider,{value:s},C.createElement(xwe,{basename:N,location:r.location,navigationType:r.historyAction,navigator:k},C.createElement(bwe,{routes:e.routes,future:e.future,state:r,unstable_onError:n})))))),null)}var bwe=C.memo(vwe);function vwe({routes:e,future:t,state:n,unstable_onError:r}){return nwe(e,void 0,n,r,t)}function Fz({to:e,replace:t,state:n,relative:r}){$n(G1(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(wu);ji(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=C.useContext(Eu),{pathname:a}=Su(),s=Q0(),l=ZM(e,XM(o),a,r==="path"),c=JSON.stringify(l);return C.useEffect(()=>{s(JSON.parse(c),{replace:t,state:n,relative:r})},[s,c,r,t,n]),null}function xwe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){$n(!G1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),s=C.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=um(n));let{pathname:l="/",search:c="",hash:d="",state:u=null,key:p="default"}=n,m=C.useMemo(()=>{let v=bc(l,a);return v==null?null:{location:{pathname:v,search:c,hash:d,state:u,key:p},navigationType:r}},[a,l,c,d,u,p,r]);return ji(m!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:C.createElement(wu.Provider,{value:s},C.createElement(QM.Provider,{children:t,value:m}))}var HA="get",FA="application/x-www-form-urlencoded";function JM(e){return e!=null&&typeof e.tagName=="string"}function wwe(e){return JM(e)&&e.tagName.toLowerCase()==="button"}function Ewe(e){return JM(e)&&e.tagName.toLowerCase()==="form"}function Swe(e){return JM(e)&&e.tagName.toLowerCase()==="input"}function Cwe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Twe(e,t){return e.button===0&&(!t||t==="_self")&&!Cwe(e)}function L6(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function kwe(e,t){let n=L6(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var M_=null;function _we(){if(M_===null)try{new FormData(document.createElement("form"),0),M_=!1}catch{M_=!0}return M_}var Awe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function SI(e){return e!=null&&!Awe.has(e)?(ji(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${FA}"`),null):e}function Nwe(e,t){let n,r,i,o,a;if(Ewe(e)){let s=e.getAttribute("action");r=s?bc(s,t):null,n=e.getAttribute("method")||HA,i=SI(e.getAttribute("enctype"))||FA,o=new FormData(e)}else if(wwe(e)||Swe(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(r=l?bc(l,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||HA,i=SI(e.getAttribute("formenctype"))||SI(s.getAttribute("enctype"))||FA,o=new FormData(s,e),!_we()){let{name:c,type:d,value:u}=e;if(d==="image"){let p=c?`${c}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else c&&o.append(c,u)}}else{if(JM(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=HA,r=null,i=FA,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bH(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Owe(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&bc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Mwe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dwe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Rwe(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await Mwe(o,n);return a.links?a.links():[]}return[]}));return jwe(r.flat(1).filter(Dwe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Uz(e,t,n,r,i,o){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,s=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return o==="assets"?t.filter((l,c)=>a(l,c)||s(l,c)):o==="data"?t.filter((l,c)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,c)||s(l,c))return!0;if(l.route.shouldRevalidate){let u=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function Iwe(e,t,{includeHydrateFallback:n}={}){return Pwe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Pwe(e){return[...new Set(e)]}function Lwe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function jwe(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(Lwe(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function kre(){let e=C.useContext(Z0);return bH(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Bwe(){let e=C.useContext(pT);return bH(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vH=C.createContext(void 0);vH.displayName="FrameworkContext";function _re(){let e=C.useContext(vH);return bH(e,"You must render this element inside a <HydratedRouter> element"),e}function $we(e,t){let n=C.useContext(vH),[r,i]=C.useState(!1),[o,a]=C.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=t,p=C.useRef(null);C.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=T=>{T.forEach(k=>{a(k.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),C.useEffect(()=>{if(r){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:TE(s,m),onBlur:TE(l,v),onMouseEnter:TE(c,m),onMouseLeave:TE(d,v),onTouchStart:TE(u,m)}]:[!1,p,{}]}function TE(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Hwe({page:e,...t}){let{router:n}=kre(),r=C.useMemo(()=>Tp(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?C.createElement(Uwe,{page:e,matches:r,...t}):null}function Fwe(e){let{manifest:t,routeModules:n}=_re(),[r,i]=C.useState([]);return C.useEffect(()=>{let o=!1;return Rwe(e,t,n).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,n]),r}function Uwe({page:e,matches:t,...n}){let r=Su(),{manifest:i,routeModules:o}=_re(),{basename:a}=kre(),{loaderData:s,matches:l}=Bwe(),c=C.useMemo(()=>Uz(e,t,l,i,r,"data"),[e,t,l,i,r]),d=C.useMemo(()=>Uz(e,t,l,i,r,"assets"),[e,t,l,i,r]),u=C.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,x=!1;if(t.forEach(T=>{let k=i.routes[T.route.id];!k||!k.hasLoader||(!c.some(N=>N.route.id===T.route.id)&&T.route.id in s&&o[T.route.id]?.shouldRevalidate||k.hasClientLoader?x=!0:v.add(T.route.id))}),v.size===0)return[];let w=Owe(e,a,"data");return x&&v.size>0&&w.searchParams.set("_routes",t.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[a,s,r,i,c,t,e,o]),p=C.useMemo(()=>Iwe(d,i),[d,i]),m=Fwe(d);return C.createElement(C.Fragment,null,u.map(v=>C.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>C.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:x})=>C.createElement("link",{key:v,nonce:n.nonce,...x})))}function zwe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Are=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Are&&(window.__reactRouterVersion="7.9.4")}catch{}function Vwe(e,t){return Oxe({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:K1e({window:t?.window}),hydrationData:qwe(),routes:e,mapRouteProperties:pwe,hydrationRouteProperties:mwe,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function qwe(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Wwe(e.errors)}),e}function Wwe(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new hN(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var Nre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wd=C.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:d,viewTransition:u,...p},m){let{basename:v}=C.useContext(wu),x=typeof c=="string"&&Nre.test(c),w,T=!1;if(typeof c=="string"&&x&&(w=c,Are))try{let B=new URL(window.location.href),$=c.startsWith("//")?new URL(B.protocol+c):new URL(c),W=bc($.pathname,v);$.origin===B.origin&&W!=null?c=W+$.search+$.hash:T=!0}catch{ji(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=ewe(c,{relative:i}),[N,I,M]=$we(r,p),A=Xwe(c,{replace:a,state:s,target:l,preventScrollReset:d,relative:i,viewTransition:u});function R(B){t&&t(B),B.defaultPrevented||A(B)}let L=C.createElement("a",{...p,...M,href:w||k,onClick:T||o?t:R,ref:zwe(m,I),target:l,"data-discover":!x&&n==="render"?"true":void 0});return N&&!x?C.createElement(C.Fragment,null,L,C.createElement(Hwe,{page:k})):L});wd.displayName="Link";var Ywe=C.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...c},d){let u=mT(a,{relative:c.relative}),p=Su(),m=C.useContext(pT),{navigator:v,basename:x}=C.useContext(wu),w=m!=null&&nEe(u)&&s===!0,T=v.encodeLocation?v.encodeLocation(u).pathname:u.pathname,k=p.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(k=k.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&x&&(N=bc(N,x)||N);const I=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let M=k===T||!i&&k.startsWith(T)&&k.charAt(I)==="/",A=N!=null&&(N===T||!i&&N.startsWith(T)&&N.charAt(T.length)==="/"),R={isActive:M,isPending:A,isTransitioning:w},L=M?t:void 0,B;typeof r=="function"?B=r(R):B=[r,M?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(R):o;return C.createElement(wd,{...c,"aria-current":L,className:B,ref:d,style:$,to:a,viewTransition:s},typeof l=="function"?l(R):l)});Ywe.displayName="NavLink";var Gwe=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:a=HA,action:s,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:u,...p},m)=>{let v=eEe(),x=tEe(s,{relative:c}),w=a.toLowerCase()==="get"?"get":"post",T=typeof s=="string"&&Nre.test(s),k=N=>{if(l&&l(N),N.defaultPrevented)return;N.preventDefault();let I=N.nativeEvent.submitter,M=I?.getAttribute("formmethod")||a;v(I||N.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:i,state:o,relative:c,preventScrollReset:d,viewTransition:u})};return C.createElement("form",{ref:m,method:w,action:x,onSubmit:r?l:k,...p,"data-discover":!T&&e==="render"?"true":void 0})});Gwe.displayName="Form";function Kwe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ore(e){let t=C.useContext(Z0);return $n(t,Kwe(e)),t}function Xwe(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let s=Q0(),l=Su(),c=mT(e,{relative:o});return C.useCallback(d=>{if(Twe(d,t)){d.preventDefault();let u=n!==void 0?n:Zp(l)===Zp(c);s(e,{replace:u,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[l,s,c,n,r,t,e,i,o,a])}function Zwe(e){ji(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=C.useRef(L6(e)),n=C.useRef(!1),r=Su(),i=C.useMemo(()=>kwe(r.search,n.current?null:t.current),[r.search]),o=Q0(),a=C.useCallback((s,l)=>{const c=L6(typeof s=="function"?s(new URLSearchParams(i)):s);n.current=!0,o("?"+c,l)},[o,i]);return[i,a]}var Qwe=0,Jwe=()=>`__${String(++Qwe)}__`;function eEe(){let{router:e}=Ore("useSubmit"),{basename:t}=C.useContext(wu),n=dwe();return C.useCallback(async(r,i={})=>{let{action:o,method:a,encType:s,formData:l,body:c}=Nwe(r,t);if(i.navigate===!1){let d=i.fetcherKey||Jwe();await e.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function tEe(e,{relative:t}={}){let{basename:n}=C.useContext(wu),r=C.useContext(Eu);$n(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...mT(e||".",{relative:t})},a=Su();if(e==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(d=>d==="")){s.delete("index"),l.filter(u=>u).forEach(u=>s.append("index",u));let d=s.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:xd([n,o.pathname])),Zp(o)}function nEe(e,{relative:t}={}){let n=C.useContext(pH);$n(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ore("useViewTransitionState"),i=mT(e,{relative:t});if(!n.isTransitioning)return!1;let o=bc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=bc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fN(i.pathname,a)!=null||fN(i.pathname,o)!=null}var ka=ore();const xH=vr(ka);function rEe(e){return C.createElement(ywe,{flushSync:ka.flushSync,...e})}function iEe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const oEe=e=>{switch(e){case"success":return lEe;case"info":return uEe;case"warning":return cEe;case"error":return dEe;default:return null}},aEe=Array(12).fill(0),sEe=({visible:e,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},F.createElement("div",{className:"sonner-spinner"},aEe.map((n,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),lEe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cEe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uEe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dEe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fEe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hEe=()=>{const[e,t]=F.useState(document.hidden);return F.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let j6=1;class pEe{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,o=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:j6++,a=this.toasts.find(l=>l.id===o),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...t,id:o,title:r}),{...l,...t,id:o,dismissible:s,title:r}):l):this.addToast({title:r,...i,dismissible:s,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let o=r!==void 0,a;const s=i.then(async c=>{if(a=["resolve",c],F.isValidElement(c))o=!1,this.create({id:r,type:"default",message:c});else if(gEe(c)&&!c.ok){o=!1;const u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,v=typeof u=="object"&&!F.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:p,...v})}else if(c instanceof Error){o=!1;const u=typeof n.error=="function"?await n.error(c):n.error,p=typeof n.description=="function"?await n.description(c):n.description,v=typeof u=="object"&&!F.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:p,...v})}else if(n.success!==void 0){o=!1;const u=typeof n.success=="function"?await n.success(c):n.success,p=typeof n.description=="function"?await n.description(c):n.description,v=typeof u=="object"&&!F.isValidElement(u)?u:{message:u};this.create({id:r,type:"success",description:p,...v})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){o=!1;const d=typeof n.error=="function"?await n.error(c):n.error,u=typeof n.description=="function"?await n.description(c):n.description,m=typeof d=="object"&&!F.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:u,...m})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,d)=>s.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{const r=n?.id||j6++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ds=new pEe,mEe=(e,t)=>{const n=t?.id||j6++;return Ds.addToast({title:e,...t,id:n}),n},gEe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",yEe=mEe,bEe=()=>Ds.toasts,vEe=()=>Ds.getActiveToasts();Object.assign(yEe,{success:Ds.success,info:Ds.info,warning:Ds.warning,error:Ds.error,custom:Ds.custom,message:Ds.message,promise:Ds.promise,dismiss:Ds.dismiss,loading:Ds.loading},{getHistory:bEe,getToasts:vEe});iEe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function D_(e){return e.label!==void 0}const xEe=3,wEe="24px",EEe="16px",zz=4e3,SEe=356,CEe=14,TEe=45,kEe=200;function ad(...e){return e.filter(Boolean).join(" ")}function _Ee(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const AEe=e=>{var t,n,r,i,o,a,s,l,c;const{invert:d,toast:u,unstyled:p,interacting:m,setHeights:v,visibleToasts:x,heights:w,index:T,toasts:k,expanded:N,removeToast:I,defaultRichColors:M,closeButton:A,style:R,cancelButtonStyle:L,actionButtonStyle:B,className:$="",descriptionClassName:W="",duration:V,position:Y,gap:U,expandByDefault:X,classNames:q,icons:ne,closeButtonAriaLabel:Z="Close toast"}=e,[oe,K]=F.useState(null),[Q,te]=F.useState(null),[z,fe]=F.useState(!1),[me,ke]=F.useState(!1),[Ee,ve]=F.useState(!1),[we,je]=F.useState(!1),[Ke,Me]=F.useState(!1),[Lt,Ve]=F.useState(0),[an,cn]=F.useState(0),Qt=F.useRef(u.duration||V||zz),Yr=F.useRef(null),er=F.useRef(null),ce=T===0,xe=T+1<=x,Te=u.type,Je=u.dismissible!==!1,Ze=u.className||"",Qe=u.descriptionClassName||"",ge=F.useMemo(()=>w.findIndex(xt=>xt.toastId===u.id)||0,[w,u.id]),Be=F.useMemo(()=>{var xt;return(xt=u.closeButton)!=null?xt:A},[u.closeButton,A]),it=F.useMemo(()=>u.duration||V||zz,[u.duration,V]),Nt=F.useRef(0),qt=F.useRef(0),Zn=F.useRef(0),kn=F.useRef(null),[or,Yn]=Y.split("-"),xr=F.useMemo(()=>w.reduce((xt,on,Gn)=>Gn>=ge?xt:xt+on.height,0),[w,ge]),un=hEe(),wi=u.invert||d,Tt=Te==="loading";qt.current=F.useMemo(()=>ge*U+xr,[ge,xr]),F.useEffect(()=>{Qt.current=it},[it]),F.useEffect(()=>{fe(!0)},[]),F.useEffect(()=>{const xt=er.current;if(xt){const on=xt.getBoundingClientRect().height;return cn(on),v(Gn=>[{toastId:u.id,height:on,position:u.position},...Gn]),()=>v(Gn=>Gn.filter(Hn=>Hn.toastId!==u.id))}},[v,u.id]),F.useLayoutEffect(()=>{if(!z)return;const xt=er.current,on=xt.style.height;xt.style.height="auto";const Gn=xt.getBoundingClientRect().height;xt.style.height=on,cn(Gn),v(Hn=>Hn.find(se=>se.toastId===u.id)?Hn.map(se=>se.toastId===u.id?{...se,height:Gn}:se):[{toastId:u.id,height:Gn,position:u.position},...Hn])},[z,u.title,u.description,v,u.id,u.jsx,u.action,u.cancel]);const lt=F.useCallback(()=>{ke(!0),Ve(qt.current),v(xt=>xt.filter(on=>on.toastId!==u.id)),setTimeout(()=>{I(u)},kEe)},[u,I,v,qt]);F.useEffect(()=>{if(u.promise&&Te==="loading"||u.duration===1/0||u.type==="loading")return;let xt;return N||m||un?(()=>{if(Zn.current<Nt.current){const Hn=new Date().getTime()-Nt.current;Qt.current=Qt.current-Hn}Zn.current=new Date().getTime()})():(()=>{Qt.current!==1/0&&(Nt.current=new Date().getTime(),xt=setTimeout(()=>{u.onAutoClose==null||u.onAutoClose.call(u,u),lt()},Qt.current))})(),()=>clearTimeout(xt)},[N,m,u,Te,un,lt]),F.useEffect(()=>{u.delete&&(lt(),u.onDismiss==null||u.onDismiss.call(u,u))},[lt,u.delete]);function ct(){var xt;if(ne?.loading){var on;return F.createElement("div",{className:ad(q?.loader,u==null||(on=u.classNames)==null?void 0:on.loader,"sonner-loader"),"data-visible":Te==="loading"},ne.loading)}return F.createElement(sEe,{className:ad(q?.loader,u==null||(xt=u.classNames)==null?void 0:xt.loader),visible:Te==="loading"})}const kt=u.icon||ne?.[Te]||oEe(Te);var jt,vt;return F.createElement("li",{tabIndex:0,ref:er,className:ad($,Ze,q?.toast,u==null||(t=u.classNames)==null?void 0:t.toast,q?.default,q?.[Te],u==null||(n=u.classNames)==null?void 0:n[Te]),"data-sonner-toast":"","data-rich-colors":(jt=u.richColors)!=null?jt:M,"data-styled":!(u.jsx||u.unstyled||p),"data-mounted":z,"data-promise":!!u.promise,"data-swiped":Ke,"data-removed":me,"data-visible":xe,"data-y-position":or,"data-x-position":Yn,"data-index":T,"data-front":ce,"data-swiping":Ee,"data-dismissible":Je,"data-type":Te,"data-invert":wi,"data-swipe-out":we,"data-swipe-direction":Q,"data-expanded":!!(N||X&&z),"data-testid":u.testId,style:{"--index":T,"--toasts-before":T,"--z-index":k.length-T,"--offset":`${me?Lt:qt.current}px`,"--initial-height":X?"auto":`${an}px`,...R,...u.style},onDragEnd:()=>{ve(!1),K(null),kn.current=null},onPointerDown:xt=>{xt.button!==2&&(Tt||!Je||(Yr.current=new Date,Ve(qt.current),xt.target.setPointerCapture(xt.pointerId),xt.target.tagName!=="BUTTON"&&(ve(!0),kn.current={x:xt.clientX,y:xt.clientY})))},onPointerUp:()=>{var xt,on,Gn;if(we||!Je)return;kn.current=null;const Hn=Number(((xt=er.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fi=Number(((on=er.current)==null?void 0:on.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),se=new Date().getTime()-((Gn=Yr.current)==null?void 0:Gn.getTime()),ye=oe==="x"?Hn:fi,Re=Math.abs(ye)/se;if(Math.abs(ye)>=TEe||Re>.11){Ve(qt.current),u.onDismiss==null||u.onDismiss.call(u,u),te(oe==="x"?Hn>0?"right":"left":fi>0?"down":"up"),lt(),je(!0);return}else{var Xe,nt;(Xe=er.current)==null||Xe.style.setProperty("--swipe-amount-x","0px"),(nt=er.current)==null||nt.style.setProperty("--swipe-amount-y","0px")}Me(!1),ve(!1),K(null)},onPointerMove:xt=>{var on,Gn,Hn;if(!kn.current||!Je||((on=window.getSelection())==null?void 0:on.toString().length)>0)return;const se=xt.clientY-kn.current.y,ye=xt.clientX-kn.current.x;var Re;const Xe=(Re=e.swipeDirections)!=null?Re:_Ee(Y);!oe&&(Math.abs(ye)>1||Math.abs(se)>1)&&K(Math.abs(ye)>Math.abs(se)?"x":"y");let nt={x:0,y:0};const _t=bt=>1/(1.5+Math.abs(bt)/20);if(oe==="y"){if(Xe.includes("top")||Xe.includes("bottom"))if(Xe.includes("top")&&se<0||Xe.includes("bottom")&&se>0)nt.y=se;else{const bt=se*_t(se);nt.y=Math.abs(bt)<Math.abs(se)?bt:se}}else if(oe==="x"&&(Xe.includes("left")||Xe.includes("right")))if(Xe.includes("left")&&ye<0||Xe.includes("right")&&ye>0)nt.x=ye;else{const bt=ye*_t(ye);nt.x=Math.abs(bt)<Math.abs(ye)?bt:ye}(Math.abs(nt.x)>0||Math.abs(nt.y)>0)&&Me(!0),(Gn=er.current)==null||Gn.style.setProperty("--swipe-amount-x",`${nt.x}px`),(Hn=er.current)==null||Hn.style.setProperty("--swipe-amount-y",`${nt.y}px`)}},Be&&!u.jsx&&Te!=="loading"?F.createElement("button",{"aria-label":Z,"data-disabled":Tt,"data-close-button":!0,onClick:Tt||!Je?()=>{}:()=>{lt(),u.onDismiss==null||u.onDismiss.call(u,u)},className:ad(q?.closeButton,u==null||(r=u.classNames)==null?void 0:r.closeButton)},(vt=ne?.close)!=null?vt:fEe):null,(Te||u.icon||u.promise)&&u.icon!==null&&(ne?.[Te]!==null||u.icon)?F.createElement("div",{"data-icon":"",className:ad(q?.icon,u==null||(i=u.classNames)==null?void 0:i.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||ct():null,u.type!=="loading"?kt:null):null,F.createElement("div",{"data-content":"",className:ad(q?.content,u==null||(o=u.classNames)==null?void 0:o.content)},F.createElement("div",{"data-title":"",className:ad(q?.title,u==null||(a=u.classNames)==null?void 0:a.title)},u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title),u.description?F.createElement("div",{"data-description":"",className:ad(W,Qe,q?.description,u==null||(s=u.classNames)==null?void 0:s.description)},typeof u.description=="function"?u.description():u.description):null),F.isValidElement(u.cancel)?u.cancel:u.cancel&&D_(u.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||L,onClick:xt=>{D_(u.cancel)&&Je&&(u.cancel.onClick==null||u.cancel.onClick.call(u.cancel,xt),lt())},className:ad(q?.cancelButton,u==null||(l=u.classNames)==null?void 0:l.cancelButton)},u.cancel.label):null,F.isValidElement(u.action)?u.action:u.action&&D_(u.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||B,onClick:xt=>{D_(u.action)&&(u.action.onClick==null||u.action.onClick.call(u.action,xt),!xt.defaultPrevented&&lt())},className:ad(q?.actionButton,u==null||(c=u.classNames)==null?void 0:c.actionButton)},u.action.label):null)};function Vz(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function NEe(e,t){const n={};return[e,t].forEach((r,i)=>{const o=i===1,a=o?"--mobile-offset":"--offset",s=o?EEe:wEe;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=s:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(s)}),n}const OEe=F.forwardRef(function(t,n){const{id:r,invert:i,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:l,className:c,offset:d,mobileOffset:u,theme:p="light",richColors:m,duration:v,style:x,visibleToasts:w=xEe,toastOptions:T,dir:k=Vz(),gap:N=CEe,icons:I,containerAriaLabel:M="Notifications"}=t,[A,R]=F.useState([]),L=F.useMemo(()=>r?A.filter(z=>z.toasterId===r):A.filter(z=>!z.toasterId),[A,r]),B=F.useMemo(()=>Array.from(new Set([o].concat(L.filter(z=>z.position).map(z=>z.position)))),[L,o]),[$,W]=F.useState([]),[V,Y]=F.useState(!1),[U,X]=F.useState(!1),[q,ne]=F.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=F.useRef(null),oe=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=F.useRef(null),Q=F.useRef(!1),te=F.useCallback(z=>{R(fe=>{var me;return(me=fe.find(ke=>ke.id===z.id))!=null&&me.delete||Ds.dismiss(z.id),fe.filter(({id:ke})=>ke!==z.id)})},[]);return F.useEffect(()=>Ds.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{R(fe=>fe.map(me=>me.id===z.id?{...me,delete:!0}:me))});return}setTimeout(()=>{xH.flushSync(()=>{R(fe=>{const me=fe.findIndex(ke=>ke.id===z.id);return me!==-1?[...fe.slice(0,me),{...fe[me],...z},...fe.slice(me+1)]:[z,...fe]})})})}),[A]),F.useEffect(()=>{if(p!=="system"){ne(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:fe})=>{ne(fe?"dark":"light")})}catch{z.addListener(({matches:me})=>{try{ne(me?"dark":"light")}catch(ke){console.error(ke)}})}},[p]),F.useEffect(()=>{A.length<=1&&Y(!1)},[A]),F.useEffect(()=>{const z=fe=>{var me;if(a.every(ve=>fe[ve]||fe.code===ve)){var Ee;Y(!0),(Ee=Z.current)==null||Ee.focus()}fe.code==="Escape"&&(document.activeElement===Z.current||(me=Z.current)!=null&&me.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[a]),F.useEffect(()=>{if(Z.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,Q.current=!1)}},[Z.current]),F.createElement("section",{ref:n,"aria-label":`${M} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((z,fe)=>{var me;const[ke,Ee]=z.split("-");return L.length?F.createElement("ol",{key:z,dir:k==="auto"?Vz():k,tabIndex:-1,ref:Z,className:c,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":ke,"data-x-position":Ee,style:{"--front-toast-height":`${((me=$[0])==null?void 0:me.height)||0}px`,"--width":`${SEe}px`,"--gap":`${N}px`,...x,...NEe(d,u)},onBlur:ve=>{Q.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(Q.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,K.current=ve.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{U||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},L.filter(ve=>!ve.position&&fe===0||ve.position===z).map((ve,we)=>{var je,Ke;return F.createElement(AEe,{key:ve.id,icons:I,index:we,toast:ve,defaultRichColors:m,duration:(je=T?.duration)!=null?je:v,className:T?.className,descriptionClassName:T?.descriptionClassName,invert:i,visibleToasts:w,closeButton:(Ke=T?.closeButton)!=null?Ke:l,interacting:U,position:z,style:T?.style,unstyled:T?.unstyled,classNames:T?.classNames,cancelButtonStyle:T?.cancelButtonStyle,actionButtonStyle:T?.actionButtonStyle,closeButtonAriaLabel:T?.closeButtonAriaLabel,removeToast:te,toasts:L.filter(Me=>Me.position==ve.position),heights:$.filter(Me=>Me.position==ve.position),setHeights:W,expandByDefault:s,gap:N,expanded:V,swipeDirections:t.swipeDirections})})):null}))});function ut(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function qz(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function is(...e){return t=>{let n=!1;const r=e.map(i=>{const o=qz(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():qz(e[i],null)}}}}function wn(...e){return C.useCallback(is(...e),e)}function MEe(e,t){const n=C.createContext(t),r=o=>{const{children:a,...s}=o,l=C.useMemo(()=>s,Object.values(s));return g.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function i(o){const a=C.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function us(e,t=[]){let n=[];function r(o,a){const s=C.createContext(a),l=n.length;n=[...n,a];const c=u=>{const{scope:p,children:m,...v}=u,x=p?.[e]?.[l]||s,w=C.useMemo(()=>v,Object.values(v));return g.jsx(x.Provider,{value:w,children:m})};c.displayName=o+"Provider";function d(u,p){const m=p?.[e]?.[l]||s,v=C.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${o}\``)}return[c,d]}const i=()=>{const o=n.map(a=>C.createContext(a));return function(s){const l=s?.[e]||o;return C.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,DEe(i,...t)]}function DEe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const u=l(o)[`__scope${c}`];return{...s,...u}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Xi=globalThis?.document?C.useLayoutEffect:()=>{},REe=hT[" useId ".trim().toString()]||(()=>{}),IEe=0;function Gi(e){const[t,n]=C.useState(REe());return Xi(()=>{n(r=>r??String(IEe++))},[e]),t?`radix-${t}`:""}var PEe=hT[" useInsertionEffect ".trim().toString()]||Xi;function vc({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,a]=LEe({defaultProp:t,onChange:n}),s=e!==void 0,l=s?e:i;{const d=C.useRef(e!==void 0);C.useEffect(()=>{const u=d.current;u!==s&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,r])}const c=C.useCallback(d=>{if(s){const u=jEe(d)?d(e):d;u!==e&&a.current?.(u)}else o(d)},[s,e,o,a]);return[l,c]}function LEe({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),i=C.useRef(n),o=C.useRef(t);return PEe(()=>{o.current=t},[t]),C.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}function jEe(e){return typeof e=="function"}function BEe(e){const t=$Ee(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(FEe);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function $Ee(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=zEe(i),s=UEe(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HEe=Symbol("radix.slottable");function FEe(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HEe}function UEe(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function zEe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var VEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=VEe.reduce((e,t)=>{const n=BEe(`Primitive.${t}`),r=C.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Mre(e,t){e&&ka.flushSync(()=>e.dispatchEvent(t))}function To(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>t.current?.(...n),[])}function qEe(e,t=globalThis?.document){const n=To(e);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var WEe="DismissableLayer",B6="dismissableLayer.update",YEe="dismissableLayer.pointerDownOutside",GEe="dismissableLayer.focusOutside",Wz,Dre=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),K1=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=e,c=C.useContext(Dre),[d,u]=C.useState(null),p=d?.ownerDocument??globalThis?.document,[,m]=C.useState({}),v=wn(t,R=>u(R)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),T=x.indexOf(w),k=d?x.indexOf(d):-1,N=c.layersWithOutsidePointerEventsDisabled.size>0,I=k>=T,M=ZEe(R=>{const L=R.target,B=[...c.branches].some($=>$.contains(L));!I||B||(i?.(R),a?.(R),R.defaultPrevented||s?.())},p),A=QEe(R=>{const L=R.target;[...c.branches].some($=>$.contains(L))||(o?.(R),a?.(R),R.defaultPrevented||s?.())},p);return qEe(R=>{k===c.layers.size-1&&(r?.(R),!R.defaultPrevented&&s&&(R.preventDefault(),s()))},p),C.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Wz=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Yz(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Wz)}},[d,p,n,c]),C.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Yz())},[d,c]),C.useEffect(()=>{const R=()=>m({});return document.addEventListener(B6,R),()=>document.removeEventListener(B6,R)},[]),g.jsx(Ct.div,{...l,ref:v,style:{pointerEvents:N?I?"auto":"none":void 0,...e.style},onFocusCapture:ut(e.onFocusCapture,A.onFocusCapture),onBlurCapture:ut(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ut(e.onPointerDownCapture,M.onPointerDownCapture)})});K1.displayName=WEe;var KEe="DismissableLayerBranch",XEe=C.forwardRef((e,t)=>{const n=C.useContext(Dre),r=C.useRef(null),i=wn(t,r);return C.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),g.jsx(Ct.div,{...e,ref:i})});XEe.displayName=KEe;function ZEe(e,t=globalThis?.document){const n=To(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){Rre(YEe,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function QEe(e,t=globalThis?.document){const n=To(e),r=C.useRef(!1);return C.useEffect(()=>{const i=o=>{o.target&&!r.current&&Rre(GEe,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Yz(){const e=new CustomEvent(B6);document.dispatchEvent(e)}function Rre(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Mre(i,o):i.dispatchEvent(o)}var CI="focusScope.autoFocusOnMount",TI="focusScope.autoFocusOnUnmount",Gz={bubbles:!1,cancelable:!0},JEe="FocusScope",gT=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[s,l]=C.useState(null),c=To(i),d=To(o),u=C.useRef(null),p=wn(t,x=>l(x)),m=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let x=function(N){if(m.paused||!s)return;const I=N.target;s.contains(I)?u.current=I:gp(u.current,{select:!0})},w=function(N){if(m.paused||!s)return;const I=N.relatedTarget;I!==null&&(s.contains(I)||gp(u.current,{select:!0}))},T=function(N){if(document.activeElement===document.body)for(const M of N)M.removedNodes.length>0&&gp(s)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const k=new MutationObserver(T);return s&&k.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),k.disconnect()}}},[r,s,m.paused]),C.useEffect(()=>{if(s){Xz.add(m);const x=document.activeElement;if(!s.contains(x)){const T=new CustomEvent(CI,Gz);s.addEventListener(CI,c),s.dispatchEvent(T),T.defaultPrevented||(eSe(oSe(Ire(s)),{select:!0}),document.activeElement===x&&gp(s))}return()=>{s.removeEventListener(CI,c),setTimeout(()=>{const T=new CustomEvent(TI,Gz);s.addEventListener(TI,d),s.dispatchEvent(T),T.defaultPrevented||gp(x??document.body,{select:!0}),s.removeEventListener(TI,d),Xz.remove(m)},0)}}},[s,c,d,m]);const v=C.useCallback(x=>{if(!n&&!r||m.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,T=document.activeElement;if(w&&T){const k=x.currentTarget,[N,I]=tSe(k);N&&I?!x.shiftKey&&T===I?(x.preventDefault(),n&&gp(N,{select:!0})):x.shiftKey&&T===N&&(x.preventDefault(),n&&gp(I,{select:!0})):T===k&&x.preventDefault()}},[n,r,m.paused]);return g.jsx(Ct.div,{tabIndex:-1,...a,ref:p,onKeyDown:v})});gT.displayName=JEe;function eSe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(gp(r,{select:t}),document.activeElement!==n)return}function tSe(e){const t=Ire(e),n=Kz(t,e),r=Kz(t.reverse(),e);return[n,r]}function Ire(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kz(e,t){for(const n of e)if(!nSe(n,{upTo:t}))return n}function nSe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rSe(e){return e instanceof HTMLInputElement&&"select"in e}function gp(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&rSe(e)&&t&&e.select()}}var Xz=iSe();function iSe(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Zz(e,t),e.unshift(t)},remove(t){e=Zz(e,t),e[0]?.resume()}}}function Zz(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function oSe(e){return e.filter(t=>t.tagName!=="A")}var aSe="Portal",X1=C.forwardRef((e,t)=>{const{container:n,...r}=e,[i,o]=C.useState(!1);Xi(()=>o(!0),[]);const a=n||i&&globalThis?.document?.body;return a?xH.createPortal(g.jsx(Ct.div,{...r,ref:t}),a):null});X1.displayName=aSe;function sSe(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var _o=e=>{const{present:t,children:n}=e,r=lSe(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),o=wn(r.ref,cSe(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:o}):null};_o.displayName="Presence";function lSe(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),o=C.useRef("none"),a=e?"mounted":"unmounted",[s,l]=sSe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=R_(r.current);o.current=s==="mounted"?c:"none"},[s]),Xi(()=>{const c=r.current,d=i.current;if(d!==e){const p=o.current,m=R_(c);e?l("MOUNT"):m==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Xi(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,u=m=>{const x=R_(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&x&&(l("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=m=>{m.target===t&&(o.current=R_(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:C.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function R_(e){return e?.animationName||"none"}function cSe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kI=0;function eD(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qz()),document.body.insertAdjacentElement("beforeend",e[1]??Qz()),kI++,()=>{kI===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),kI--}},[])}function Qz(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var md=function(){return md=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},md.apply(this,arguments)};function Pre(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function uSe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var UA="right-scroll-bar-position",zA="width-before-scroll-bar",dSe="with-scroll-bars-hidden",fSe="--removed-body-scroll-bar-size";function _I(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hSe(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var pSe=typeof window<"u"?C.useLayoutEffect:C.useEffect,Jz=new WeakMap;function mSe(e,t){var n=hSe(null,function(r){return e.forEach(function(i){return _I(i,r)})});return pSe(function(){var r=Jz.get(n);if(r){var i=new Set(r),o=new Set(e),a=n.current;i.forEach(function(s){o.has(s)||_I(s,null)}),o.forEach(function(s){i.has(s)||_I(s,a)})}Jz.set(n,e)},[e]),n}function gSe(e){return e}function ySe(e,t){t===void 0&&(t=gSe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var d=a;a=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),n}}}};return i}function bSe(e){e===void 0&&(e={});var t=ySe(null);return t.options=md({async:!0,ssr:!1},e),t}var Lre=function(e){var t=e.sideCar,n=Pre(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,md({},n))};Lre.isSideCarExport=!0;function vSe(e,t){return e.useMedium(t),Lre}var jre=bSe(),AI=function(){},tD=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:AI,onWheelCapture:AI,onTouchMoveCapture:AI}),i=r[0],o=r[1],a=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,p=e.sideCar,m=e.noRelative,v=e.noIsolation,x=e.inert,w=e.allowPinchZoom,T=e.as,k=T===void 0?"div":T,N=e.gapMode,I=Pre(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=p,A=mSe([n,t]),R=md(md({},I),i);return C.createElement(C.Fragment,null,d&&C.createElement(M,{sideCar:jre,removeScrollBar:c,shards:u,noRelative:m,noIsolation:v,inert:x,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:N}),a?C.cloneElement(C.Children.only(s),md(md({},R),{ref:A})):C.createElement(k,md({},R,{className:l,ref:A}),s))});tD.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tD.classNames={fullWidth:zA,zeroRight:UA};var xSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wSe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=xSe();return t&&e.setAttribute("nonce",t),e}function ESe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function SSe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var CSe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=wSe())&&(ESe(t,n),SSe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TSe=function(){var e=CSe();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Bre=function(){var e=TSe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},kSe={left:0,top:0,right:0,gap:0},NI=function(e){return parseInt(e||"",10)||0},_Se=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[NI(n),NI(r),NI(i)]},ASe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kSe;var t=_Se(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},NSe=Bre(),Iv="data-scroll-locked",OSe=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(dSe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Iv,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(UA,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(zA,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(UA," .").concat(UA,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zA," .").concat(zA,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Iv,`] {
    `).concat(fSe,": ").concat(s,`px;
  }
`)},eV=function(){var e=parseInt(document.body.getAttribute(Iv)||"0",10);return isFinite(e)?e:0},MSe=function(){C.useEffect(function(){return document.body.setAttribute(Iv,(eV()+1).toString()),function(){var e=eV()-1;e<=0?document.body.removeAttribute(Iv):document.body.setAttribute(Iv,e.toString())}},[])},DSe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;MSe();var o=C.useMemo(function(){return ASe(i)},[i]);return C.createElement(NSe,{styles:OSe(o,!t,i,n?"":"!important")})},$6=!1;if(typeof window<"u")try{var I_=Object.defineProperty({},"passive",{get:function(){return $6=!0,!0}});window.addEventListener("test",I_,I_),window.removeEventListener("test",I_,I_)}catch{$6=!1}var Kb=$6?{passive:!1}:!1,RSe=function(e){return e.tagName==="TEXTAREA"},$re=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!RSe(e)&&n[t]==="visible")},ISe=function(e){return $re(e,"overflowY")},PSe=function(e){return $re(e,"overflowX")},tV=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Hre(e,r);if(i){var o=Fre(e,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},LSe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},jSe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Hre=function(e,t){return e==="v"?ISe(t):PSe(t)},Fre=function(e,t){return e==="v"?LSe(t):jSe(t)},BSe=function(e,t){return e==="h"&&t==="rtl"?-1:1},$Se=function(e,t,n,r,i){var o=BSe(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),c=!1,d=a>0,u=0,p=0;do{if(!s)break;var m=Fre(e,s),v=m[0],x=m[1],w=m[2],T=x-w-o*v;(v||T)&&Hre(e,s)&&(u+=T,p+=v);var k=s.parentNode;s=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&Math.abs(u)<1||!d&&Math.abs(p)<1)&&(c=!0),c},P_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nV=function(e){return[e.deltaX,e.deltaY]},rV=function(e){return e&&"current"in e?e.current:e},HSe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FSe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},USe=0,Xb=[];function zSe(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(USe++)[0],o=C.useState(Bre)[0],a=C.useRef(e);C.useEffect(function(){a.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=uSe([e.lockRef.current],(e.shards||[]).map(rV),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=C.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var T=P_(x),k=n.current,N="deltaX"in x?x.deltaX:k[0]-T[0],I="deltaY"in x?x.deltaY:k[1]-T[1],M,A=x.target,R=Math.abs(N)>Math.abs(I)?"h":"v";if("touches"in x&&R==="h"&&A.type==="range")return!1;var L=tV(R,A);if(!L)return!0;if(L?M=R:(M=R==="v"?"h":"v",L=tV(R,A)),!L)return!1;if(!r.current&&"changedTouches"in x&&(N||I)&&(r.current=M),!M)return!0;var B=r.current||M;return $Se(B,w,x,B==="h"?N:I)},[]),l=C.useCallback(function(x){var w=x;if(!(!Xb.length||Xb[Xb.length-1]!==o)){var T="deltaY"in w?nV(w):P_(w),k=t.current.filter(function(M){return M.name===w.type&&(M.target===w.target||w.target===M.shadowParent)&&HSe(M.delta,T)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var N=(a.current.shards||[]).map(rV).filter(Boolean).filter(function(M){return M.contains(w.target)}),I=N.length>0?s(w,N[0]):!a.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),c=C.useCallback(function(x,w,T,k){var N={name:x,delta:w,target:T,should:k,shadowParent:VSe(T)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(I){return I!==N})},1)},[]),d=C.useCallback(function(x){n.current=P_(x),r.current=void 0},[]),u=C.useCallback(function(x){c(x.type,nV(x),x.target,s(x,e.lockRef.current))},[]),p=C.useCallback(function(x){c(x.type,P_(x),x.target,s(x,e.lockRef.current))},[]);C.useEffect(function(){return Xb.push(o),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Kb),document.addEventListener("touchmove",l,Kb),document.addEventListener("touchstart",d,Kb),function(){Xb=Xb.filter(function(x){return x!==o}),document.removeEventListener("wheel",l,Kb),document.removeEventListener("touchmove",l,Kb),document.removeEventListener("touchstart",d,Kb)}},[]);var m=e.removeScrollBar,v=e.inert;return C.createElement(C.Fragment,null,v?C.createElement(o,{styles:FSe(i)}):null,m?C.createElement(DSe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function VSe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qSe=vSe(jre,zSe);var yT=C.forwardRef(function(e,t){return C.createElement(tD,md({},e,{ref:t,sideCar:qSe}))});yT.classNames=tD.classNames;var WSe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zb=new WeakMap,L_=new WeakMap,j_={},OI=0,Ure=function(e){return e&&(e.host||Ure(e.parentNode))},YSe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Ure(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},GSe=function(e,t,n,r){var i=YSe(t,Array.isArray(e)?e:[e]);j_[n]||(j_[n]=new WeakMap);var o=j_[n],a=[],s=new Set,l=new Set(i),c=function(u){!u||s.has(u)||(s.add(u),c(u.parentNode))};i.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(p){if(s.has(p))d(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",x=(Zb.get(p)||0)+1,w=(o.get(p)||0)+1;Zb.set(p,x),o.set(p,w),a.push(p),x===1&&v&&L_.set(p,!0),w===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",p,T)}})};return d(t),s.clear(),OI++,function(){a.forEach(function(u){var p=Zb.get(u)-1,m=o.get(u)-1;Zb.set(u,p),o.set(u,m),p||(L_.has(u)||u.removeAttribute(r),L_.delete(u)),m||u.removeAttribute(n)}),OI--,OI||(Zb=new WeakMap,Zb=new WeakMap,L_=new WeakMap,j_={})}},nD=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=WSe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),GSe(r,i,n,"aria-hidden")):function(){return null}};function KSe(e){const t=XSe(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(QSe);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function XSe(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=eCe(i),s=JSe(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZSe=Symbol("radix.slottable");function QSe(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZSe}function JSe(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function eCe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rD="Dialog",[zre,Vre]=us(rD),[tCe,Cu]=zre(rD),qre=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,s=C.useRef(null),l=C.useRef(null),[c,d]=vc({prop:r,defaultProp:i??!1,onChange:o,caller:rD});return g.jsx(tCe,{scope:t,triggerRef:s,contentRef:l,contentId:Gi(),titleId:Gi(),descriptionId:Gi(),open:c,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(u=>!u),[d]),modal:a,children:n})};qre.displayName=rD;var Wre="DialogTrigger",Yre=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cu(Wre,n),o=wn(t,i.triggerRef);return g.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":SH(i.open),...r,ref:o,onClick:ut(e.onClick,i.onOpenToggle)})});Yre.displayName=Wre;var wH="DialogPortal",[nCe,Gre]=zre(wH,{forceMount:void 0}),Kre=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Cu(wH,t);return g.jsx(nCe,{scope:t,forceMount:n,children:C.Children.map(r,a=>g.jsx(_o,{present:n||o.open,children:g.jsx(X1,{asChild:!0,container:i,children:a})}))})};Kre.displayName=wH;var mN="DialogOverlay",Xre=C.forwardRef((e,t)=>{const n=Gre(mN,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Cu(mN,e.__scopeDialog);return o.modal?g.jsx(_o,{present:r||o.open,children:g.jsx(iCe,{...i,ref:t})}):null});Xre.displayName=mN;var rCe=KSe("DialogOverlay.RemoveScroll"),iCe=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cu(mN,n);return g.jsx(yT,{as:rCe,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Ct.div,{"data-state":SH(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),C0="DialogContent",Zre=C.forwardRef((e,t)=>{const n=Gre(C0,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Cu(C0,e.__scopeDialog);return g.jsx(_o,{present:r||o.open,children:o.modal?g.jsx(oCe,{...i,ref:t}):g.jsx(aCe,{...i,ref:t})})});Zre.displayName=C0;var oCe=C.forwardRef((e,t)=>{const n=Cu(C0,e.__scopeDialog),r=C.useRef(null),i=wn(t,n.contentRef,r);return C.useEffect(()=>{const o=r.current;if(o)return nD(o)},[]),g.jsx(Qre,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ut(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ut(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:ut(e.onFocusOutside,o=>o.preventDefault())})}),aCe=C.forwardRef((e,t)=>{const n=Cu(C0,e.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return g.jsx(Qre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Qre=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,s=Cu(C0,n),l=C.useRef(null),c=wn(t,l);return eD(),g.jsxs(g.Fragment,{children:[g.jsx(gT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:g.jsx(K1,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":SH(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(lCe,{titleId:s.titleId}),g.jsx(uCe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),EH="DialogTitle",Jre=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cu(EH,n);return g.jsx(Ct.h2,{id:i.titleId,...r,ref:t})});Jre.displayName=EH;var eie="DialogDescription",tie=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cu(eie,n);return g.jsx(Ct.p,{id:i.descriptionId,...r,ref:t})});tie.displayName=eie;var nie="DialogClose",rie=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cu(nie,n);return g.jsx(Ct.button,{type:"button",...r,ref:t,onClick:ut(e.onClick,()=>i.onOpenChange(!1))})});rie.displayName=nie;function SH(e){return e?"open":"closed"}var iie="DialogTitleWarning",[sCe,oie]=MEe(iie,{contentName:C0,titleName:EH,docsSlug:"dialog"}),lCe=({titleId:e})=>{const t=oie(iie),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},cCe="DialogDescriptionWarning",uCe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oie(cCe).contentName}}.`;return C.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},bT=qre,dCe=Yre,vT=Kre,Z1=Xre,Q1=Zre,xT=Jre,wT=tie,iD=rie;function fCe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const aie=F.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),ET=()=>{const e=F.useContext(aie);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};fCe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function hCe(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function pCe(){return CH(/^Mac/)}function mCe(){return CH(/^iPhone/)}function iV(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function gCe(){return CH(/^iPad/)||pCe()&&navigator.maxTouchPoints>1}function sie(){return mCe()||gCe()}function CH(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const yCe=24,bCe=typeof window<"u"?C.useLayoutEffect:C.useEffect;function oV(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const MI=typeof document<"u"&&window.visualViewport;function aV(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function lie(e){for(aV(e)&&(e=e.parentElement);e&&!aV(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const vCe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let B_=0,DI;function xCe(e={}){let{isDisabled:t}=e;bCe(()=>{if(!t)return B_++,B_===1&&sie()&&(DI=wCe()),()=>{B_--,B_===0&&DI?.()}},[t])}function wCe(){let e,t=0,n=u=>{e=lie(u.target),!(e===document.documentElement&&e===document.body)&&(t=u.changedTouches[0].pageY)},r=u=>{if(!e||e===document.documentElement||e===document.body){u.preventDefault();return}let p=u.changedTouches[0].pageY,m=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((m<=0&&p>t||m>=v&&p<t)&&u.preventDefault(),t=p)},i=u=>{let p=u.target;H6(p)&&p!==document.activeElement&&(u.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},o=u=>{let p=u.target;H6(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",MI&&(MI.height<window.innerHeight?requestAnimationFrame(()=>{sV(p)}):MI.addEventListener("resize",()=>sV(p),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},s=window.pageXOffset,l=window.pageYOffset,c=oV(ECe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=oV(kE(document,"touchstart",n,{passive:!1,capture:!0}),kE(document,"touchmove",r,{passive:!1,capture:!0}),kE(document,"touchend",i,{passive:!1,capture:!0}),kE(document,"focus",o,!0),kE(window,"scroll",a));return()=>{c(),d(),window.scrollTo(s,l)}}function ECe(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function kE(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function sV(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=lie(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const a=n.getBoundingClientRect().bottom+yCe;o>a&&(n.scrollTop+=i-r)}e=n.parentElement}}function H6(e){return e instanceof HTMLInputElement&&!vCe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function SCe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function CCe(...e){return t=>e.forEach(n=>SCe(n,t))}function cie(...e){return C.useCallback(CCe(...e),e)}const uie=new WeakMap;function Co(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}r[i]=e.style[i],e.style[i]=o}),!n&&uie.set(e,r)}function TCe(e,t){if(!e||!(e instanceof HTMLElement))return;let n=uie.get(e);n&&(e.style[t]=n[t])}const io=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function $_(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[io(t)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[io(t)?5:4]):null)}function kCe(e){return 8*(Math.log(e+1)-2)}function RI(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function _Ce(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const ki={DURATION:.5,EASE:[.32,.72,0,1]},die=.4,ACe=.25,NCe=100,fie=8,Fg=16,F6=26,II="vaul-dragging";function hie(e){const t=F.useRef(e);return F.useEffect(()=>{t.current=e}),F.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function OCe({defaultProp:e,onChange:t}){const n=F.useState(e),[r]=n,i=F.useRef(r),o=hie(t);return F.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function pie({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=OCe({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,s=hie(n),l=F.useCallback(c=>{if(o){const u=typeof c=="function"?c(e):c;u!==e&&s(u)}else i(c)},[o,e,i,s]);return[a,l]}function MCe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:o,onSnapPointChange:a,direction:s="bottom",container:l,snapToSequentialPoint:c}){const[d,u]=pie({prop:e,defaultProp:n?.[0],onChange:t}),[p,m]=F.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);F.useEffect(()=>{function R(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const v=F.useMemo(()=>d===n?.[n.length-1]||null,[n,d]),x=F.useMemo(()=>{var R;return(R=n?.findIndex(L=>L===d))!=null?R:null},[n,d]),w=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===d||!n,T=F.useMemo(()=>{const R=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var L;return(L=n?.map(B=>{const $=typeof B=="string";let W=0;if($&&(W=parseInt(B,10)),io(s)){const Y=$?W:p?B*R.height:0;return p?s==="bottom"?R.height-Y:-R.height+Y:Y}const V=$?W:p?B*R.width:0;return p?s==="right"?R.width-V:-R.width+V:V}))!=null?L:[]},[n,p,l]),k=F.useMemo(()=>x!==null?T?.[x]:null,[T,x]),N=F.useCallback(R=>{var L;const B=(L=T?.findIndex($=>$===R))!=null?L:null;a(B),Co(r.current,{transition:`transform ${ki.DURATION}s cubic-bezier(${ki.EASE.join(",")})`,transform:io(s)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`}),T&&B!==T.length-1&&o!==void 0&&B!==o&&B<o?Co(i.current,{transition:`opacity ${ki.DURATION}s cubic-bezier(${ki.EASE.join(",")})`,opacity:"0"}):Co(i.current,{transition:`opacity ${ki.DURATION}s cubic-bezier(${ki.EASE.join(",")})`,opacity:"1"}),u(n?.[Math.max(B,0)])},[r.current,n,T,o,i,u]);F.useEffect(()=>{if(d||e){var R;const L=(R=n?.findIndex(B=>B===e||B===d))!=null?R:-1;T&&L!==-1&&typeof T[L]=="number"&&N(T[L])}},[d,e,n,T,N]);function I({draggedDistance:R,closeDrawer:L,velocity:B,dismissible:$}){if(o===void 0)return;const W=s==="bottom"||s==="right"?(k??0)-R:(k??0)+R,V=x===o-1,Y=x===0,U=R>0;if(V&&Co(i.current,{transition:`opacity ${ki.DURATION}s cubic-bezier(${ki.EASE.join(",")})`}),!c&&B>2&&!U){$?L():N(T[0]);return}if(!c&&B>2&&U&&T&&n){N(T[n.length-1]);return}const X=T?.reduce((ne,Z)=>typeof ne!="number"||typeof Z!="number"?ne:Math.abs(Z-W)<Math.abs(ne-W)?Z:ne),q=io(s)?window.innerHeight:window.innerWidth;if(B>die&&Math.abs(R)<q*.4){const ne=U?1:-1;if(ne>0&&v&&n){N(T[n.length-1]);return}if(Y&&ne<0&&$&&L(),x===null)return;N(T[x+ne]);return}N(X)}function M({draggedDistance:R}){if(k===null)return;const L=s==="bottom"||s==="right"?k-R:k+R;(s==="bottom"||s==="right")&&L<T[T.length-1]||(s==="top"||s==="left")&&L>T[T.length-1]||Co(r.current,{transform:io(s)?`translate3d(0, ${L}px, 0)`:`translate3d(${L}px, 0, 0)`})}function A(R,L){if(!n||typeof x!="number"||!T||o===void 0)return null;const B=x===o-1;if(x>=o&&L)return 0;if(B&&!L)return 1;if(!w&&!B)return null;const W=B?x+1:x-1,V=B?T[W]-T[W-1]:T[W+1]-T[W],Y=R/Math.abs(V);return B?1-Y:Y}return{isLastSnapPoint:v,activeSnapPoint:d,shouldFade:w,getPercentageDragged:A,setActiveSnapPoint:u,activeSnapPointIndex:x,onRelease:I,onDrag:M,snapPointsOffset:T}}const DCe=()=>()=>{};function RCe(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=ET(),o=F.useRef(null),a=C.useMemo(()=>document.body.style.backgroundColor,[]);function s(){return(window.innerWidth-F6)/window.innerWidth}F.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;_Ce(r&&!i?RI(document.body,{background:"black"}):DCe,RI(l,{transformOrigin:io(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${ki.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ki.EASE.join(",")})`}));const c=RI(l,{borderRadius:`${fie}px`,overflow:"hidden",...io(e)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),o.current=window.setTimeout(()=>{a?document.body.style.background=a:document.body.style.removeProperty("background")},ki.DURATION*1e3)}}},[t,n,a])}let _E=null;function ICe({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:o}){const[a,s]=F.useState(()=>typeof window<"u"?window.location.href:""),l=F.useRef(0),c=F.useCallback(()=>{if(iV()&&_E===null&&e&&!o){_E={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:u,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-u}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=p-window.innerHeight;m&&l.current>=p&&(document.body.style.top=`${-(l.current+m)}px`)}),300)}},[e]),d=F.useCallback(()=>{if(iV()&&_E!==null&&!o){const u=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,_E),window.requestAnimationFrame(()=>{if(i&&a!==window.location.href){s(window.location.href);return}window.scrollTo(p,u)}),_E=null}},[a]);return F.useEffect(()=>{function u(){l.current=window.scrollY}return u(),window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}},[]),F.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),F.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),t||window.setTimeout(()=>{d()},500)):d())},[e,r,a,t,n,c,d]),{restorePositionSetting:d}}function PCe({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:i,snapPoints:o,shouldScaleBackground:a=!1,setBackgroundColorOnScale:s=!0,closeThreshold:l=ACe,scrollLockTimeout:c=NCe,dismissible:d=!0,handleOnly:u=!1,fadeFromIndex:p=o&&o.length-1,activeSnapPoint:m,setActiveSnapPoint:v,fixed:x,modal:w=!0,onClose:T,nested:k,noBodyStyles:N=!1,direction:I="bottom",defaultOpen:M=!1,disablePreventScroll:A=!0,snapToSequentialPoint:R=!1,preventScrollRestoration:L=!1,repositionInputs:B=!0,onAnimationEnd:$,container:W,autoFocus:V=!1}){var Y,U;const[X=!1,q]=pie({defaultProp:M,prop:e,onChange:lt=>{t?.(lt),!lt&&!k&&Be(),setTimeout(()=>{$?.(lt)},ki.DURATION*1e3),lt&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),lt||(document.body.style.pointerEvents="auto")}}),[ne,Z]=F.useState(!1),[oe,K]=F.useState(!1),[Q,te]=F.useState(!1),z=F.useRef(null),fe=F.useRef(null),me=F.useRef(null),ke=F.useRef(null),Ee=F.useRef(null),ve=F.useRef(!1),we=F.useRef(null),je=F.useRef(0),Ke=F.useRef(!1),Me=F.useRef(!M),Lt=F.useRef(0),Ve=F.useRef(null),an=F.useRef(((Y=Ve.current)==null?void 0:Y.getBoundingClientRect().height)||0),cn=F.useRef(((U=Ve.current)==null?void 0:U.getBoundingClientRect().width)||0),Qt=F.useRef(0),Yr=F.useCallback(lt=>{o&&lt===Je.length-1&&(fe.current=new Date)},[]),{activeSnapPoint:er,activeSnapPointIndex:ce,setActiveSnapPoint:xe,onRelease:Te,snapPointsOffset:Je,onDrag:Ze,shouldFade:Qe,getPercentageDragged:ge}=MCe({snapPoints:o,activeSnapPointProp:m,setActiveSnapPointProp:v,drawerRef:Ve,fadeFromIndex:p,overlayRef:z,onSnapPointChange:Yr,direction:I,container:W,snapToSequentialPoint:R});xCe({isDisabled:!X||oe||!w||Q||!ne||!B||!A});const{restorePositionSetting:Be}=ICe({isOpen:X,modal:w,nested:k??!1,hasBeenOpened:ne,preventScrollRestoration:L,noBodyStyles:N});function it(){return(window.innerWidth-F6)/window.innerWidth}function Nt(lt){var ct,kt;!d&&!o||Ve.current&&!Ve.current.contains(lt.target)||(an.current=((ct=Ve.current)==null?void 0:ct.getBoundingClientRect().height)||0,cn.current=((kt=Ve.current)==null?void 0:kt.getBoundingClientRect().width)||0,K(!0),me.current=new Date,sie()&&window.addEventListener("touchend",()=>ve.current=!1,{once:!0}),lt.target.setPointerCapture(lt.pointerId),je.current=io(I)?lt.pageY:lt.pageX)}function qt(lt,ct){var kt;let jt=lt;const vt=(kt=window.getSelection())==null?void 0:kt.toString(),xt=Ve.current?$_(Ve.current,I):null,on=new Date;if(jt.tagName==="SELECT"||jt.hasAttribute("data-vaul-no-drag")||jt.closest("[data-vaul-no-drag]"))return!1;if(I==="right"||I==="left")return!0;if(fe.current&&on.getTime()-fe.current.getTime()<500)return!1;if(xt!==null&&(I==="bottom"?xt>0:xt<0))return!0;if(vt&&vt.length>0)return!1;if(Ee.current&&on.getTime()-Ee.current.getTime()<c&&xt===0||ct)return Ee.current=on,!1;for(;jt;){if(jt.scrollHeight>jt.clientHeight){if(jt.scrollTop!==0)return Ee.current=new Date,!1;if(jt.getAttribute("role")==="dialog")return!0}jt=jt.parentNode}return!0}function Zn(lt){if(Ve.current&&oe){const ct=I==="bottom"||I==="right"?1:-1,kt=(je.current-(io(I)?lt.pageY:lt.pageX))*ct,jt=kt>0,vt=o&&!d&&!jt;if(vt&&ce===0)return;const xt=Math.abs(kt),on=document.querySelector("[data-vaul-drawer-wrapper]"),Gn=I==="bottom"||I==="top"?an.current:cn.current;let Hn=xt/Gn;const fi=ge(xt,jt);if(fi!==null&&(Hn=fi),vt&&Hn>=1||!ve.current&&!qt(lt.target,jt))return;if(Ve.current.classList.add(II),ve.current=!0,Co(Ve.current,{transition:"none"}),Co(z.current,{transition:"none"}),o&&Ze({draggedDistance:kt}),jt&&!o){const ye=kCe(kt),Re=Math.min(ye*-1,0)*ct;Co(Ve.current,{transform:io(I)?`translate3d(0, ${Re}px, 0)`:`translate3d(${Re}px, 0, 0)`});return}const se=1-Hn;if((Qe||p&&ce===p-1)&&(r?.(lt,Hn),Co(z.current,{opacity:`${se}`,transition:"none"},!0)),on&&z.current&&a){const ye=Math.min(it()+Hn*(1-it()),1),Re=8-Hn*8,Xe=Math.max(0,14-Hn*14);Co(on,{borderRadius:`${Re}px`,transform:io(I)?`scale(${ye}) translate3d(0, ${Xe}px, 0)`:`scale(${ye}) translate3d(${Xe}px, 0, 0)`,transition:"none"},!0)}if(!o){const ye=xt*ct;Co(Ve.current,{transform:io(I)?`translate3d(0, ${ye}px, 0)`:`translate3d(${ye}px, 0, 0)`})}}}F.useEffect(()=>{window.requestAnimationFrame(()=>{Me.current=!0})},[]),F.useEffect(()=>{var lt;function ct(){if(!Ve.current||!B)return;const kt=document.activeElement;if(H6(kt)||Ke.current){var jt;const vt=((jt=window.visualViewport)==null?void 0:jt.height)||0,xt=window.innerHeight;let on=xt-vt;const Gn=Ve.current.getBoundingClientRect().height||0,Hn=Gn>xt*.8;Qt.current||(Qt.current=Gn);const fi=Ve.current.getBoundingClientRect().top;if(Math.abs(Lt.current-on)>60&&(Ke.current=!Ke.current),o&&o.length>0&&Je&&ce){const se=Je[ce]||0;on+=se}if(Lt.current=on,Gn>vt||Ke.current){const se=Ve.current.getBoundingClientRect().height;let ye=se;se>vt&&(ye=vt-(Hn?fi:F6)),x?Ve.current.style.height=`${se-Math.max(on,0)}px`:Ve.current.style.height=`${Math.max(ye,vt-fi)}px`}else hCe()||(Ve.current.style.height=`${Qt.current}px`);o&&o.length>0&&!Ke.current?Ve.current.style.bottom="0px":Ve.current.style.bottom=`${Math.max(on,0)}px`}}return(lt=window.visualViewport)==null||lt.addEventListener("resize",ct),()=>{var kt;return(kt=window.visualViewport)==null?void 0:kt.removeEventListener("resize",ct)}},[ce,o,Je]);function kn(lt){Yn(),T?.(),lt||q(!1),setTimeout(()=>{o&&xe(o[0])},ki.DURATION*1e3)}function or(){if(!Ve.current)return;const lt=document.querySelector("[data-vaul-drawer-wrapper]"),ct=$_(Ve.current,I);Co(Ve.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${ki.DURATION}s cubic-bezier(${ki.EASE.join(",")})`}),Co(z.current,{transition:`opacity ${ki.DURATION}s cubic-bezier(${ki.EASE.join(",")})`,opacity:"1"}),a&&ct&&ct>0&&X&&Co(lt,{borderRadius:`${fie}px`,overflow:"hidden",...io(I)?{transform:`scale(${it()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${it()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${ki.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ki.EASE.join(",")})`},!0)}function Yn(){!oe||!Ve.current||(Ve.current.classList.remove(II),ve.current=!1,K(!1),ke.current=new Date)}function xr(lt){if(!oe||!Ve.current)return;Ve.current.classList.remove(II),ve.current=!1,K(!1),ke.current=new Date;const ct=$_(Ve.current,I);if(!lt||!qt(lt.target,!1)||!ct||Number.isNaN(ct)||me.current===null)return;const kt=ke.current.getTime()-me.current.getTime(),jt=je.current-(io(I)?lt.pageY:lt.pageX),vt=Math.abs(jt)/kt;if(vt>.05&&(te(!0),setTimeout(()=>{te(!1)},200)),o){Te({draggedDistance:jt*(I==="bottom"||I==="right"?1:-1),closeDrawer:kn,velocity:vt,dismissible:d}),i?.(lt,!0);return}if(I==="bottom"||I==="right"?jt>0:jt<0){or(),i?.(lt,!0);return}if(vt>die){kn(),i?.(lt,!1);return}var xt;const on=Math.min((xt=Ve.current.getBoundingClientRect().height)!=null?xt:0,window.innerHeight);var Gn;const Hn=Math.min((Gn=Ve.current.getBoundingClientRect().width)!=null?Gn:0,window.innerWidth),fi=I==="left"||I==="right";if(Math.abs(ct)>=(fi?Hn:on)*l){kn(),i?.(lt,!1);return}i?.(lt,!0),or()}F.useEffect(()=>(X&&(Co(document.documentElement,{scrollBehavior:"auto"}),fe.current=new Date),()=>{TCe(document.documentElement,"scrollBehavior")}),[X]);function un(lt){const ct=lt?(window.innerWidth-Fg)/window.innerWidth:1,kt=lt?-Fg:0;we.current&&window.clearTimeout(we.current),Co(Ve.current,{transition:`transform ${ki.DURATION}s cubic-bezier(${ki.EASE.join(",")})`,transform:io(I)?`scale(${ct}) translate3d(0, ${kt}px, 0)`:`scale(${ct}) translate3d(${kt}px, 0, 0)`}),!lt&&Ve.current&&(we.current=setTimeout(()=>{const jt=$_(Ve.current,I);Co(Ve.current,{transition:"none",transform:io(I)?`translate3d(0, ${jt}px, 0)`:`translate3d(${jt}px, 0, 0)`})},500))}function wi(lt,ct){if(ct<0)return;const kt=(window.innerWidth-Fg)/window.innerWidth,jt=kt+ct*(1-kt),vt=-Fg+ct*Fg;Co(Ve.current,{transform:io(I)?`scale(${jt}) translate3d(0, ${vt}px, 0)`:`scale(${jt}) translate3d(${vt}px, 0, 0)`,transition:"none"})}function Tt(lt,ct){const kt=io(I)?window.innerHeight:window.innerWidth,jt=ct?(kt-Fg)/kt:1,vt=ct?-Fg:0;ct&&Co(Ve.current,{transition:`transform ${ki.DURATION}s cubic-bezier(${ki.EASE.join(",")})`,transform:io(I)?`scale(${jt}) translate3d(0, ${vt}px, 0)`:`scale(${jt}) translate3d(${vt}px, 0, 0)`})}return F.useEffect(()=>{w||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[w]),F.createElement(bT,{defaultOpen:M,onOpenChange:lt=>{!d&&!lt||(lt?Z(!0):kn(!0),q(lt))},open:X},F.createElement(aie.Provider,{value:{activeSnapPoint:er,snapPoints:o,setActiveSnapPoint:xe,drawerRef:Ve,overlayRef:z,onOpenChange:t,onPress:Nt,onRelease:xr,onDrag:Zn,dismissible:d,shouldAnimate:Me,handleOnly:u,isOpen:X,isDragging:oe,shouldFade:Qe,closeDrawer:kn,onNestedDrag:wi,onNestedOpenChange:un,onNestedRelease:Tt,keyboardIsOpen:Ke,modal:w,snapPointsOffset:Je,activeSnapPointIndex:ce,direction:I,shouldScaleBackground:a,setBackgroundColorOnScale:s,noBodyStyles:N,container:W,autoFocus:V}},n))}const mie=F.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:o,isOpen:a,modal:s,shouldAnimate:l}=ET(),c=cie(t,n),d=r&&r.length>0;if(!s)return null;const u=F.useCallback(p=>i(p),[i]);return F.createElement(Z1,{onMouseUp:u,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":a&&d?"true":"false","data-vaul-snap-points-overlay":a&&o?"true":"false","data-vaul-animate":l?.current?"true":"false",...e})});mie.displayName="Drawer.Overlay";const gie=F.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},i){const{drawerRef:o,onPress:a,onRelease:s,onDrag:l,keyboardIsOpen:c,snapPointsOffset:d,activeSnapPointIndex:u,modal:p,isOpen:m,direction:v,snapPoints:x,container:w,handleOnly:T,shouldAnimate:k,autoFocus:N}=ET(),[I,M]=F.useState(!1),A=cie(i,o),R=F.useRef(null),L=F.useRef(null),B=F.useRef(!1),$=x&&x.length>0;RCe();const W=(Y,U,X=0)=>{if(B.current)return!0;const q=Math.abs(Y.y),ne=Math.abs(Y.x),Z=ne>q,oe=["bottom","right"].includes(U)?1:-1;if(U==="left"||U==="right"){if(!(Y.x*oe<0)&&ne>=0&&ne<=X)return Z}else if(!(Y.y*oe<0)&&q>=0&&q<=X)return!Z;return B.current=!0,!0};F.useEffect(()=>{$&&window.requestAnimationFrame(()=>{M(!0)})},[]);function V(Y){R.current=null,B.current=!1,s(Y)}return F.createElement(Q1,{"data-vaul-drawer-direction":v,"data-vaul-drawer":"","data-vaul-delayed-snap-points":I?"true":"false","data-vaul-snap-points":m&&$?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":k?.current?"true":"false",...r,ref:A,style:d&&d.length>0?{"--snap-point-height":`${d[u??0]}px`,...t}:t,onPointerDown:Y=>{T||(r.onPointerDown==null||r.onPointerDown.call(r,Y),R.current={x:Y.pageX,y:Y.pageY},a(Y))},onOpenAutoFocus:Y=>{n?.(Y),N||Y.preventDefault()},onPointerDownOutside:Y=>{if(e?.(Y),!p||Y.defaultPrevented){Y.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:Y=>{if(!p){Y.preventDefault();return}},onPointerMove:Y=>{if(L.current=Y,T||(r.onPointerMove==null||r.onPointerMove.call(r,Y),!R.current))return;const U=Y.pageY-R.current.y,X=Y.pageX-R.current.x,q=Y.pointerType==="touch"?10:2;W({x:X,y:U},v,q)?l(Y):(Math.abs(X)>q||Math.abs(U)>q)&&(R.current=null)},onPointerUp:Y=>{r.onPointerUp==null||r.onPointerUp.call(r,Y),R.current=null,B.current=!1,s(Y)},onPointerOut:Y=>{r.onPointerOut==null||r.onPointerOut.call(r,Y),V(L.current)},onContextMenu:Y=>{r.onContextMenu==null||r.onContextMenu.call(r,Y),L.current&&V(L.current)}})});gie.displayName="Drawer.Content";const LCe=250,jCe=120,BCe=F.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:i,isDragging:o,snapPoints:a,activeSnapPoint:s,setActiveSnapPoint:l,dismissible:c,handleOnly:d,isOpen:u,onPress:p,onDrag:m}=ET(),v=F.useRef(null),x=F.useRef(!1);function w(){if(x.current){N();return}window.setTimeout(()=>{T()},jCe)}function T(){if(o||e||x.current){N();return}if(N(),!a||a.length===0){c||i();return}if(s===a[a.length-1]&&c){i();return}const M=a.findIndex(R=>R===s);if(M===-1)return;const A=a[M+1];l(A)}function k(){v.current=window.setTimeout(()=>{x.current=!0},LCe)}function N(){v.current&&window.clearTimeout(v.current),x.current=!1}return F.createElement("div",{onClick:w,onPointerCancel:N,onPointerDown:I=>{d&&p(I),k()},onPointerMove:I=>{d&&m(I)},ref:r,"data-vaul-drawer-visible":u?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},F.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});BCe.displayName="Drawer.Handle";function $Ce(e){const t=ET(),{container:n=t.container,...r}=e;return F.createElement(vT,{container:n,...r})}const Id={Root:PCe,Content:gie,Overlay:mie,Portal:$Ce,Close:iD,Title:xT,Description:wT};function yie(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=yie(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=yie(e))&&(r&&(r+=" "),r+=t);return r}const TH="-",HCe=e=>{const t=UCe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const s=a.split(TH);return s[0]===""&&s.length!==1&&s.shift(),bie(s,t)||FCe(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},bie=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?bie(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(TH);return t.validators.find(({validator:a})=>a(o))?.classGroupId},lV=/^\[(.+)\]$/,FCe=e=>{if(lV.test(e)){const t=lV.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},UCe=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)U6(n[i],r,i,t);return r},U6=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:cV(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(zCe(i)){U6(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{U6(a,cV(t,o),n,r)})})},cV=(e,t)=>{let n=e;return t.split(TH).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zCe=e=>e.isThemeGetter,VCe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},z6="!",V6=":",qCe=V6.length,WCe=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const o=[];let a=0,s=0,l=0,c;for(let v=0;v<i.length;v++){let x=i[v];if(a===0&&s===0){if(x===V6){o.push(i.slice(l,v)),l=v+qCe;continue}if(x==="/"){c=v;continue}}x==="["?a++:x==="]"?a--:x==="("?s++:x===")"&&s--}const d=o.length===0?i:i.substring(l),u=YCe(d),p=u!==d,m=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:u,maybePostfixModifierPosition:m}};if(t){const i=t+V6,o=r;r=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},YCe=e=>e.endsWith(z6)?e.substring(0,e.length-1):e.startsWith(z6)?e.substring(1):e,GCe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(a=>{a[0]==="["||t[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},KCe=e=>({cache:VCe(e.cacheSize),parseClassName:WCe(e),sortModifiers:GCe(e),...HCe(e)}),XCe=/\s+/,ZCe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],s=e.trim().split(XCe);let l="";for(let c=s.length-1;c>=0;c-=1){const d=s[c],{isExternal:u,modifiers:p,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}=n(d);if(u){l=d+(l.length>0?" "+l:l);continue}let w=!!x,T=r(w?v.substring(0,x):v);if(!T){if(!w){l=d+(l.length>0?" "+l:l);continue}if(T=r(v),!T){l=d+(l.length>0?" "+l:l);continue}w=!1}const k=o(p).join(":"),N=m?k+z6:k,I=N+T;if(a.includes(I))continue;a.push(I);const M=i(T,w);for(let A=0;A<M.length;++A){const R=M[A];a.push(N+R)}l=d+(l.length>0?" "+l:l)}return l};function QCe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=vie(t))&&(r&&(r+=" "),r+=n);return r}const vie=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=vie(e[r]))&&(n&&(n+=" "),n+=t);return n};function JCe(e,...t){let n,r,i,o=a;function a(l){const c=t.reduce((d,u)=>u(d),e());return n=KCe(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const d=ZCe(l,n);return i(l,d),d}return function(){return o(QCe.apply(null,arguments))}}const wo=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},xie=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wie=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eTe=/^\d+\/\d+$/,tTe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nTe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rTe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iTe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oTe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qb=e=>eTe.test(e),Dn=e=>!!e&&!Number.isNaN(Number(e)),cp=e=>!!e&&Number.isInteger(Number(e)),PI=e=>e.endsWith("%")&&Dn(e.slice(0,-1)),yf=e=>tTe.test(e),aTe=()=>!0,sTe=e=>nTe.test(e)&&!rTe.test(e),Eie=()=>!1,lTe=e=>iTe.test(e),cTe=e=>oTe.test(e),uTe=e=>!Ot(e)&&!Mt(e),dTe=e=>J1(e,Tie,Eie),Ot=e=>xie.test(e),Ug=e=>J1(e,kie,sTe),LI=e=>J1(e,gTe,Dn),uV=e=>J1(e,Sie,Eie),fTe=e=>J1(e,Cie,cTe),H_=e=>J1(e,_ie,lTe),Mt=e=>wie.test(e),AE=e=>ex(e,kie),hTe=e=>ex(e,yTe),dV=e=>ex(e,Sie),pTe=e=>ex(e,Tie),mTe=e=>ex(e,Cie),F_=e=>ex(e,_ie,!0),J1=(e,t,n)=>{const r=xie.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ex=(e,t,n=!1)=>{const r=wie.exec(e);return r?r[1]?t(r[1]):n:!1},Sie=e=>e==="position"||e==="percentage",Cie=e=>e==="image"||e==="url",Tie=e=>e==="length"||e==="size"||e==="bg-size",kie=e=>e==="length",gTe=e=>e==="number",yTe=e=>e==="family-name",_ie=e=>e==="shadow",bTe=()=>{const e=wo("color"),t=wo("font"),n=wo("text"),r=wo("font-weight"),i=wo("tracking"),o=wo("leading"),a=wo("breakpoint"),s=wo("container"),l=wo("spacing"),c=wo("radius"),d=wo("shadow"),u=wo("inset-shadow"),p=wo("text-shadow"),m=wo("drop-shadow"),v=wo("blur"),x=wo("perspective"),w=wo("aspect"),T=wo("ease"),k=wo("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...I(),Mt,Ot],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],L=()=>[Mt,Ot,l],B=()=>[Qb,"full","auto",...L()],$=()=>[cp,"none","subgrid",Mt,Ot],W=()=>["auto",{span:["full",cp,Mt,Ot]},cp,Mt,Ot],V=()=>[cp,"auto",Mt,Ot],Y=()=>["auto","min","max","fr",Mt,Ot],U=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...L()],ne=()=>[Qb,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],Z=()=>[e,Mt,Ot],oe=()=>[...I(),dV,uV,{position:[Mt,Ot]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",pTe,dTe,{size:[Mt,Ot]}],te=()=>[PI,AE,Ug],z=()=>["","none","full",c,Mt,Ot],fe=()=>["",Dn,AE,Ug],me=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Dn,PI,dV,uV],ve=()=>["","none",v,Mt,Ot],we=()=>["none",Dn,Mt,Ot],je=()=>["none",Dn,Mt,Ot],Ke=()=>[Dn,Mt,Ot],Me=()=>[Qb,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yf],breakpoint:[yf],color:[aTe],container:[yf],"drop-shadow":[yf],ease:["in","out","in-out"],font:[uTe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yf],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yf],shadow:[yf],spacing:["px",Dn],text:[yf],"text-shadow":[yf],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qb,Ot,Mt,w]}],container:["container"],columns:[{columns:[Dn,Ot,Mt,s]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[cp,"auto",Mt,Ot]}],basis:[{basis:[Qb,"full","auto",s,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Dn,Qb,"auto","initial","none",Ot]}],grow:[{grow:["",Dn,Mt,Ot]}],shrink:[{shrink:["",Dn,Mt,Ot]}],order:[{order:[cp,"first","last","none",Mt,Ot]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[s,"screen",...ne()]}],"min-w":[{"min-w":[s,"screen","none",...ne()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,AE,Ug]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Mt,LI]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",PI,Ot]}],"font-family":[{font:[hTe,Ot,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Mt,Ot]}],"line-clamp":[{"line-clamp":[Dn,"none",Mt,LI]}],leading:[{leading:[o,...L()]}],"list-image":[{"list-image":["none",Mt,Ot]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Mt,Ot]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Dn,"from-font","auto",Mt,Ug]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Dn,"auto",Mt,Ot]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt,Ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt,Ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cp,Mt,Ot],radial:["",Mt,Ot],conic:[cp,Mt,Ot]},mTe,fTe]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Dn,Mt,Ot]}],"outline-w":[{outline:["",Dn,AE,Ug]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",d,F_,H_]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",u,F_,H_]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Dn,Ug]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",p,F_,H_]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Dn,Mt,Ot]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Dn]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[Mt,Ot]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Dn]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Mt,Ot]}],filter:[{filter:["","none",Mt,Ot]}],blur:[{blur:ve()}],brightness:[{brightness:[Dn,Mt,Ot]}],contrast:[{contrast:[Dn,Mt,Ot]}],"drop-shadow":[{"drop-shadow":["","none",m,F_,H_]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Dn,Mt,Ot]}],"hue-rotate":[{"hue-rotate":[Dn,Mt,Ot]}],invert:[{invert:["",Dn,Mt,Ot]}],saturate:[{saturate:[Dn,Mt,Ot]}],sepia:[{sepia:["",Dn,Mt,Ot]}],"backdrop-filter":[{"backdrop-filter":["","none",Mt,Ot]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Dn,Mt,Ot]}],"backdrop-contrast":[{"backdrop-contrast":[Dn,Mt,Ot]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Dn,Mt,Ot]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Dn,Mt,Ot]}],"backdrop-invert":[{"backdrop-invert":["",Dn,Mt,Ot]}],"backdrop-opacity":[{"backdrop-opacity":[Dn,Mt,Ot]}],"backdrop-saturate":[{"backdrop-saturate":[Dn,Mt,Ot]}],"backdrop-sepia":[{"backdrop-sepia":["",Dn,Mt,Ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Mt,Ot]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Dn,"initial",Mt,Ot]}],ease:[{ease:["linear","initial",T,Mt,Ot]}],delay:[{delay:[Dn,Mt,Ot]}],animate:[{animate:["none",k,Mt,Ot]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Mt,Ot]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Ke()}],"skew-x":[{"skew-x":Ke()}],"skew-y":[{"skew-y":Ke()}],transform:[{transform:[Mt,Ot,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt,Ot]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt,Ot]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Dn,AE,Ug,LI]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},vTe=JCe(bTe);function Ie(...e){return vTe(Xn(e))}const kH=({shouldScaleBackground:e=!0,...t})=>g.jsx(Id.Root,{shouldScaleBackground:e,...t});kH.displayName="Drawer";const xTe=Id.Portal,wTe=Id.Close,Aie=C.forwardRef(({className:e,...t},n)=>g.jsx(Id.Overlay,{ref:n,className:Ie("fixed inset-0 z-50 bg-black/80",e),...t}));Aie.displayName=Id.Overlay.displayName;const _H=C.forwardRef(({className:e,children:t,side:n="bottom",...r},i)=>{const o={left:"fixed left-0 top-0 bottom-0 z-50 flex h-full w-[600px] flex-col border-r bg-background",right:"fixed right-0 top-0 bottom-0 z-50 flex h-full w-[1000px] flex-col border-l bg-background",top:"fixed inset-x-0 top-0 z-50 flex h-auto flex-col rounded-b-[10px] border-b bg-background",bottom:"fixed inset-x-0 bottom-0 z-50 flex h-auto flex-col rounded-t-[10px] border-t bg-background"};return g.jsxs(xTe,{children:[g.jsx(Aie,{}),g.jsxs(Id.Content,{ref:i,className:Ie(o[n],e),...r,children:[n==="bottom"&&g.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]})});_H.displayName="DrawerContent";const Nie=({className:e,...t})=>g.jsx("div",{className:Ie("grid gap-1.5 p-4 text-center sm:text-left",e),...t});Nie.displayName="DrawerHeader";const Oie=C.forwardRef(({className:e,...t},n)=>g.jsx(Id.Title,{ref:n,className:Ie("text-lg font-semibold leading-none tracking-tight",e),...t}));Oie.displayName=Id.Title.displayName;const ETe=C.forwardRef(({className:e,...t},n)=>g.jsx(Id.Description,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));ETe.displayName=Id.Description.displayName;const fV=e=>{let t;const n=new Set,r=(c,d)=>{const u=typeof c=="function"?c(t):c;if(!Object.is(u,t)){const p=t;t=d??(typeof u!="object"||u===null)?u:Object.assign({},t,u),n.forEach(m=>m(t,p))}},i=()=>t,s={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,s);return s},STe=(e=>e?fV(e):fV),CTe=e=>e;function TTe(e,t=CTe){const n=F.useSyncExternalStore(e.subscribe,F.useCallback(()=>t(e.getState()),[e,t]),F.useCallback(()=>t(e.getInitialState()),[e,t]));return F.useDebugValue(n),n}const hV=e=>{const t=STe(e),n=r=>TTe(t,r);return Object.assign(n,t),n},ST=(e=>e?hV(e):hV),pV={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},GS=new Map,U_=e=>{const t=GS.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},kTe=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=GS.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return GS.set(n.name,i),{type:"tracked",store:e,...i}},_Te=(e,t)=>{if(t===void 0)return;const n=GS.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&GS.delete(e))},ATe=e=>{var t,n;if(!e)return;const r=e.split(`
`),i=r.findIndex(a=>a.includes("api.setState"));if(i<0)return;const o=((t=r[i+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(o))==null?void 0:n[1]},NTe=(e,t={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:a,store:s,...l}=t;let c;try{c=(o??(pV?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return e(n,r,i);const{connection:d,...u}=kTe(s,c,l);let p=!0;i.setState=((x,w,T)=>{const k=n(x,w);if(!p)return k;const N=T===void 0?{type:a||ATe(new Error().stack)||"anonymous"}:typeof T=="string"?{type:T}:T;return s===void 0?(d?.send(N,r()),k):(d?.send({...N,type:`${s}/${N.type}`},{...U_(l.name),[s]:i.getState()}),k)}),i.devtools={cleanup:()=>{d&&typeof d.unsubscribe=="function"&&d.unsubscribe(),_Te(l.name,s)}};const m=(...x)=>{const w=p;p=!1,n(...x),p=w},v=e(i.setState,r,i);if(u.type==="untracked"?d?.init(v):(u.stores[u.store]=i,d?.init(Object.fromEntries(Object.entries(u.stores).map(([x,w])=>[x,x===u.store?v:w.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let x=!1;const w=i.dispatch;i.dispatch=(...T)=>{(pV?"production":void 0)!=="production"&&T[0].type==="__setState"&&!x&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),x=!0),w(...T)}}return d.subscribe(x=>{var w;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return jI(x.payload,T=>{if(T.type==="__setState"){if(s===void 0){m(T.state);return}Object.keys(T.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const k=T.state[s];if(k==null)return;JSON.stringify(i.getState())!==JSON.stringify(k)&&m(k);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(T)});case"DISPATCH":switch(x.payload.type){case"RESET":return m(v),s===void 0?d?.init(i.getState()):d?.init(U_(l.name));case"COMMIT":if(s===void 0){d?.init(i.getState());return}return d?.init(U_(l.name));case"ROLLBACK":return jI(x.state,T=>{if(s===void 0){m(T),d?.init(i.getState());return}m(T[s]),d?.init(U_(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return jI(x.state,T=>{if(s===void 0){m(T);return}JSON.stringify(i.getState())!==JSON.stringify(T[s])&&m(T[s])});case"IMPORT_STATE":{const{nextLiftedState:T}=x.payload,k=(w=T.computedStates.slice(-1)[0])==null?void 0:w.state;if(!k)return;m(s===void 0?k:k[s]),d?.send(null,T);return}case"PAUSE_RECORDING":return p=!p}return}}),v},oD=NTe,jI=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)};function OTe(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const a=l=>l===null?null:JSON.parse(l,void 0),s=(o=n.getItem(i))!=null?o:null;return s instanceof Promise?s.then(a):a(s)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const q6=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return q6(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return q6(r)(n)}}}},MTe=(e,t)=>(n,r,i)=>{let o={storage:OTe(()=>localStorage),partialize:x=>x,version:0,merge:(x,w)=>({...w,...x}),...t},a=!1;const s=new Set,l=new Set;let c=o.storage;if(!c)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...x)},r,i);const d=()=>{const x=o.partialize({...r()});return c.setItem(o.name,{state:x,version:o.version})},u=i.setState;i.setState=(x,w)=>(u(x,w),d());const p=e((...x)=>(n(...x),d()),r,i);i.getInitialState=()=>p;let m;const v=()=>{var x,w;if(!c)return;a=!1,s.forEach(k=>{var N;return k((N=r())!=null?N:p)});const T=((w=o.onRehydrateStorage)==null?void 0:w.call(o,(x=r())!=null?x:p))||void 0;return q6(c.getItem.bind(c))(o.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==o.version){if(o.migrate){const N=o.migrate(k.state,k.version);return N instanceof Promise?N.then(I=>[!0,I]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var N;const[I,M]=k;if(m=o.merge(M,(N=r())!=null?N:p),n(m,!0),I)return d()}).then(()=>{T?.(m,void 0),m=r(),a=!0,l.forEach(k=>k(m))}).catch(k=>{T?.(void 0,k)})};return i.persist={setOptions:x=>{o={...o,...x},x.storage&&(c=x.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:x=>(s.add(x),()=>{s.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},o.skipHydration||v(),m||p},DTe=MTe;var nS={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var RTe=nS.exports,mV;function ITe(){return mV||(mV=1,(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",u=1,p=2,m=4,v=1,x=2,w=1,T=2,k=4,N=8,I=16,M=32,A=64,R=128,L=256,B=512,$=30,W="...",V=800,Y=16,U=1,X=2,q=3,ne=1/0,Z=9007199254740991,oe=17976931348623157e292,K=NaN,Q=4294967295,te=Q-1,z=Q>>>1,fe=[["ary",R],["bind",w],["bindKey",T],["curry",N],["curryRight",I],["flip",B],["partial",M],["partialRight",A],["rearg",L]],me="[object Arguments]",ke="[object Array]",Ee="[object AsyncFunction]",ve="[object Boolean]",we="[object Date]",je="[object DOMException]",Ke="[object Error]",Me="[object Function]",Lt="[object GeneratorFunction]",Ve="[object Map]",an="[object Number]",cn="[object Null]",Qt="[object Object]",Yr="[object Promise]",er="[object Proxy]",ce="[object RegExp]",xe="[object Set]",Te="[object String]",Je="[object Symbol]",Ze="[object Undefined]",Qe="[object WeakMap]",ge="[object WeakSet]",Be="[object ArrayBuffer]",it="[object DataView]",Nt="[object Float32Array]",qt="[object Float64Array]",Zn="[object Int8Array]",kn="[object Int16Array]",or="[object Int32Array]",Yn="[object Uint8Array]",xr="[object Uint8ClampedArray]",un="[object Uint16Array]",wi="[object Uint32Array]",Tt=/\b__p \+= '';/g,lt=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kt=/&(?:amp|lt|gt|quot|#39);/g,jt=/[&<>"']/g,vt=RegExp(kt.source),xt=RegExp(jt.source),on=/<%-([\s\S]+?)%>/g,Gn=/<%([\s\S]+?)%>/g,Hn=/<%=([\s\S]+?)%>/g,fi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,se=/^\w*$/,ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,Xe=RegExp(Re.source),nt=/^\s+/,_t=/\s/,bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,At=/\{\n\/\* \[wrapped with (.+)\] \*/,$t=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,mt=/\\(\\)?/g,xn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mr=/\w*$/,Ni=/^[-+]0x[0-9a-f]+$/i,mo=/^0b[01]+$/i,Rr=/^\[object .+?Constructor\]$/,ar=/^0o[0-7]+$/i,Xs=/^(?:0|[1-9]\d*)$/,fs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zi=/($^)/,Oo=/['\n\r\u2028\u2029\\]/g,Ma="\\ud800-\\udfff",Gr="\\u0300-\\u036f",$l="\\ufe20-\\ufe2f",Vd="\\u20d0-\\u20ff",Da=Gr+$l+Vd,yn="\\u2700-\\u27bf",$i="a-z\\xdf-\\xf6\\xf8-\\xff",_c="\\xac\\xb1\\xd7\\xf7",Hl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ei="\\u2000-\\u206f",Ac=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nu="A-Z\\xc0-\\xd6\\xd8-\\xde",hs="\\ufe0e\\ufe0f",Ra=_c+Hl+Ei+Ac,yy="[']",d3="["+Ma+"]",by="["+Ra+"]",Om="["+Da+"]",Mm="\\d+",f3="["+yn+"]",Ia="["+$i+"]",vy="[^"+Ma+Ra+Mm+yn+$i+Nu+"]",xy="\\ud83c[\\udffb-\\udfff]",Ax="(?:"+Om+"|"+xy+")",qd="[^"+Ma+"]",wy="(?:\\ud83c[\\udde6-\\uddff]){2}",Ey="[\\ud800-\\udbff][\\udc00-\\udfff]",Zs="["+Nu+"]",xk="\\u200d",Nx="(?:"+Ia+"|"+vy+")",wk="(?:"+Zs+"|"+vy+")",Sy="(?:"+yy+"(?:d|ll|m|re|s|t|ve))?",Ek="(?:"+yy+"(?:D|LL|M|RE|S|T|VE))?",Sk=Ax+"?",Dm="["+hs+"]?",Nc="(?:"+xk+"(?:"+[qd,wy,Ey].join("|")+")"+Dm+Sk+")*",Ox="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wd=Dm+Sk+Nc,mh="(?:"+[f3,wy,Ey].join("|")+")"+Wd,Ck="(?:"+[qd+Om+"?",Om,wy,Ey,d3].join("|")+")",Dx=RegExp(yy,"g"),Tk=RegExp(Om,"g"),Yd=RegExp(xy+"(?="+xy+")|"+Ck+Wd,"g"),Oc=RegExp([Zs+"?"+Ia+"+"+Sy+"(?="+[by,Zs,"$"].join("|")+")",wk+"+"+Ek+"(?="+[by,Zs+Nx,"$"].join("|")+")",Zs+"?"+Nx+"+"+Sy,Zs+"+"+Ek,Mx,Ox,Mm,mh].join("|"),"g"),Rx=RegExp("["+xk+Ma+Da+hs+"]"),Rm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ou=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ix=-1,wr={};wr[Nt]=wr[qt]=wr[Zn]=wr[kn]=wr[or]=wr[Yn]=wr[xr]=wr[un]=wr[wi]=!0,wr[me]=wr[ke]=wr[Be]=wr[ve]=wr[it]=wr[we]=wr[Ke]=wr[Me]=wr[Ve]=wr[an]=wr[Qt]=wr[ce]=wr[xe]=wr[Te]=wr[Qe]=!1;var _r={};_r[me]=_r[ke]=_r[Be]=_r[it]=_r[ve]=_r[we]=_r[Nt]=_r[qt]=_r[Zn]=_r[kn]=_r[or]=_r[Ve]=_r[an]=_r[Qt]=_r[ce]=_r[xe]=_r[Te]=_r[Je]=_r[Yn]=_r[xr]=_r[un]=_r[wi]=!0,_r[Ke]=_r[Me]=_r[Qe]=!1;var Cy={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ty={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kk={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},na={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gd=parseFloat,ky=parseInt,gh=typeof Ip=="object"&&Ip&&Ip.Object===Object&&Ip,h3=typeof self=="object"&&self&&self.Object===Object&&self,Hi=gh||h3||Function("return this")(),Im=t&&!t.nodeType&&t,Qs=Im&&!0&&e&&!e.nodeType&&e,Pm=Qs&&Qs.exports===Im,_y=Pm&&gh.process,ps=(function(){try{var be=Qs&&Qs.require&&Qs.require("util").types;return be||_y&&_y.binding&&_y.binding("util")}catch{}})(),_k=ps&&ps.isArrayBuffer,Ak=ps&&ps.isDate,Ay=ps&&ps.isMap,Nk=ps&&ps.isRegExp,Ok=ps&&ps.isSet,Mk=ps&&ps.isTypedArray;function Pa(be,Fe,Pe){switch(Pe.length){case 0:return be.call(Fe);case 1:return be.call(Fe,Pe[0]);case 2:return be.call(Fe,Pe[0],Pe[1]);case 3:return be.call(Fe,Pe[0],Pe[1],Pe[2])}return be.apply(Fe,Pe)}function p3(be,Fe,Pe,yt){for(var sn=-1,Nn=be==null?0:be.length;++sn<Nn;){var Xr=be[sn];Fe(yt,Xr,Pe(Xr),be)}return yt}function La(be,Fe){for(var Pe=-1,yt=be==null?0:be.length;++Pe<yt&&Fe(be[Pe],Pe,be)!==!1;);return be}function m3(be,Fe){for(var Pe=be==null?0:be.length;Pe--&&Fe(be[Pe],Pe,be)!==!1;);return be}function Dk(be,Fe){for(var Pe=-1,yt=be==null?0:be.length;++Pe<yt;)if(!Fe(be[Pe],Pe,be))return!1;return!0}function Mu(be,Fe){for(var Pe=-1,yt=be==null?0:be.length,sn=0,Nn=[];++Pe<yt;){var Xr=be[Pe];Fe(Xr,Pe,be)&&(Nn[sn++]=Xr)}return Nn}function Ny(be,Fe){var Pe=be==null?0:be.length;return!!Pe&&yh(be,Fe,0)>-1}function Lm(be,Fe,Pe){for(var yt=-1,sn=be==null?0:be.length;++yt<sn;)if(Pe(Fe,be[yt]))return!0;return!1}function Kr(be,Fe){for(var Pe=-1,yt=be==null?0:be.length,sn=Array(yt);++Pe<yt;)sn[Pe]=Fe(be[Pe],Pe,be);return sn}function Du(be,Fe){for(var Pe=-1,yt=Fe.length,sn=be.length;++Pe<yt;)be[sn+Pe]=Fe[Pe];return be}function Px(be,Fe,Pe,yt){var sn=-1,Nn=be==null?0:be.length;for(yt&&Nn&&(Pe=be[++sn]);++sn<Nn;)Pe=Fe(Pe,be[sn],sn,be);return Pe}function Rk(be,Fe,Pe,yt){var sn=be==null?0:be.length;for(yt&&sn&&(Pe=be[--sn]);sn--;)Pe=Fe(Pe,be[sn],sn,be);return Pe}function Lx(be,Fe){for(var Pe=-1,yt=be==null?0:be.length;++Pe<yt;)if(Fe(be[Pe],Pe,be))return!0;return!1}var g3=Kd("length");function y3(be){return be.split("")}function b3(be){return be.match(Ht)||[]}function Ik(be,Fe,Pe){var yt;return Pe(be,function(sn,Nn,Xr){if(Fe(sn,Nn,Xr))return yt=Nn,!1}),yt}function Oy(be,Fe,Pe,yt){for(var sn=be.length,Nn=Pe+(yt?1:-1);yt?Nn--:++Nn<sn;)if(Fe(be[Nn],Nn,be))return Nn;return-1}function yh(be,Fe,Pe){return Fe===Fe?E3(be,Fe,Pe):Oy(be,Pk,Pe)}function v3(be,Fe,Pe,yt){for(var sn=Pe-1,Nn=be.length;++sn<Nn;)if(yt(be[sn],Fe))return sn;return-1}function Pk(be){return be!==be}function My(be,Fe){var Pe=be==null?0:be.length;return Pe?Dy(be,Fe)/Pe:K}function Kd(be){return function(Fe){return Fe==null?n:Fe[be]}}function jx(be){return function(Fe){return be==null?n:be[Fe]}}function Bx(be,Fe,Pe,yt,sn){return sn(be,function(Nn,Xr,gr){Pe=yt?(yt=!1,Nn):Fe(Pe,Nn,Xr,gr)}),Pe}function Lk(be,Fe){var Pe=be.length;for(be.sort(Fe);Pe--;)be[Pe]=be[Pe].value;return be}function Dy(be,Fe){for(var Pe,yt=-1,sn=be.length;++yt<sn;){var Nn=Fe(be[yt]);Nn!==n&&(Pe=Pe===n?Nn:Pe+Nn)}return Pe}function Ry(be,Fe){for(var Pe=-1,yt=Array(be);++Pe<be;)yt[Pe]=Fe(Pe);return yt}function jk(be,Fe){return Kr(Fe,function(Pe){return[Pe,be[Pe]]})}function Xd(be){return be&&be.slice(0,vh(be)+1).replace(nt,"")}function ja(be){return function(Fe){return be(Fe)}}function $x(be,Fe){return Kr(Fe,function(Pe){return be[Pe]})}function jm(be,Fe){return be.has(Fe)}function Hx(be,Fe){for(var Pe=-1,yt=be.length;++Pe<yt&&yh(Fe,be[Pe],0)>-1;);return Pe}function Fx(be,Fe){for(var Pe=be.length;Pe--&&yh(Fe,be[Pe],0)>-1;);return Pe}function Bm(be,Fe){for(var Pe=be.length,yt=0;Pe--;)be[Pe]===Fe&&++yt;return yt}var $m=jx(Cy),x3=jx(Ty);function Iy(be){return"\\"+na[be]}function Bk(be,Fe){return be==null?n:be[Fe]}function Zd(be){return Rx.test(be)}function Ux(be){return Rm.test(be)}function zx(be){for(var Fe,Pe=[];!(Fe=be.next()).done;)Pe.push(Fe.value);return Pe}function Py(be){var Fe=-1,Pe=Array(be.size);return be.forEach(function(yt,sn){Pe[++Fe]=[sn,yt]}),Pe}function Vx(be,Fe){return function(Pe){return be(Fe(Pe))}}function Mc(be,Fe){for(var Pe=-1,yt=be.length,sn=0,Nn=[];++Pe<yt;){var Xr=be[Pe];(Xr===Fe||Xr===d)&&(be[Pe]=d,Nn[sn++]=Pe)}return Nn}function Ly(be){var Fe=-1,Pe=Array(be.size);return be.forEach(function(yt){Pe[++Fe]=yt}),Pe}function w3(be){var Fe=-1,Pe=Array(be.size);return be.forEach(function(yt){Pe[++Fe]=[yt,yt]}),Pe}function E3(be,Fe,Pe){for(var yt=Pe-1,sn=be.length;++yt<sn;)if(be[yt]===Fe)return yt;return-1}function S3(be,Fe,Pe){for(var yt=Pe+1;yt--;)if(be[yt]===Fe)return yt;return yt}function bh(be){return Zd(be)?Hk(be):g3(be)}function ai(be){return Zd(be)?Fk(be):y3(be)}function vh(be){for(var Fe=be.length;Fe--&&_t.test(be.charAt(Fe)););return Fe}var $k=jx(kk);function Hk(be){for(var Fe=Yd.lastIndex=0;Yd.test(be);)++Fe;return Fe}function Fk(be){return be.match(Yd)||[]}function Uk(be){return be.match(Oc)||[]}var qx=(function be(Fe){Fe=Fe==null?Hi:xh.defaults(Hi.Object(),Fe,xh.pick(Hi,Ou));var Pe=Fe.Array,yt=Fe.Date,sn=Fe.Error,Nn=Fe.Function,Xr=Fe.Math,gr=Fe.Object,jy=Fe.RegExp,Qd=Fe.String,Ba=Fe.TypeError,Hm=Pe.prototype,zk=Nn.prototype,wh=gr.prototype,By=Fe["__core-js_shared__"],$y=zk.toString,dr=wh.hasOwnProperty,Vk=0,Hy=(function(){var b=/[^.]+$/.exec(By&&By.keys&&By.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""})(),ra=wh.toString,Fy=$y.call(gr),ms=Hi._,Eh=jy("^"+$y.call(dr).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sh=Pm?Fe.Buffer:n,Js=Fe.Symbol,Jd=Fe.Uint8Array,Uy=Sh?Sh.allocUnsafe:n,Fl=Vx(gr.getPrototypeOf,gr),Wx=gr.create,Fm=wh.propertyIsEnumerable,Dc=Hm.splice,qk=Js?Js.isConcatSpreadable:n,go=Js?Js.iterator:n,Rc=Js?Js.toStringTag:n,gs=(function(){try{var b=qu(gr,"defineProperty");return b({},"",{}),b}catch{}})(),Wk=Fe.clearTimeout!==Hi.clearTimeout&&Fe.clearTimeout,zy=yt&&yt.now!==Hi.Date.now&&yt.now,ef=Fe.setTimeout!==Hi.setTimeout&&Fe.setTimeout,Ch=Xr.ceil,Um=Xr.floor,zm=gr.getOwnPropertySymbols,Yk=Sh?Sh.isBuffer:n,$a=Fe.isFinite,Th=Hm.join,kh=Vx(gr.keys,gr),hi=Xr.max,Oi=Xr.min,ys=yt.now,bs=Fe.parseInt,Ic=Xr.random,Ul=Hm.reverse,vs=qu(Fe,"DataView"),Ha=qu(Fe,"Map"),Vy=qu(Fe,"Promise"),Ru=qu(Fe,"Set"),tf=qu(Fe,"WeakMap"),_h=qu(gr,"create"),Mi=tf&&new tf,fr={},Fn=Ro(vs),Iu=Ro(Ha),xs=Ro(Vy),Yx=Ro(Ru),Pu=Ro(tf),Vm=Js?Js.prototype:n,Ah=Vm?Vm.valueOf:n,nf=Vm?Vm.toString:n;function ee(b){if(gi(b)&&!ln(b)&&!(b instanceof dn)){if(b instanceof ia)return b;if(dr.call(b,"__wrapped__"))return wb(b)}return new ia(b)}var Lu=(function(){function b(){}return function(S){if(!Qr(S))return{};if(Wx)return Wx(S);b.prototype=S;var O=new b;return b.prototype=n,O}})();function ju(){}function ia(b,S){this.__wrapped__=b,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=n}ee.templateSettings={escape:on,evaluate:Gn,interpolate:Hn,variable:"",imports:{_:ee}},ee.prototype=ju.prototype,ee.prototype.constructor=ee,ia.prototype=Lu(ju.prototype),ia.prototype.constructor=ia;function dn(b){this.__wrapped__=b,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function Pc(){var b=new dn(this.__wrapped__);return b.__actions__=Vo(this.__actions__),b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=Vo(this.__iteratees__),b.__takeCount__=this.__takeCount__,b.__views__=Vo(this.__views__),b}function Bu(){if(this.__filtered__){var b=new dn(this);b.__dir__=-1,b.__filtered__=!0}else b=this.clone(),b.__dir__*=-1;return b}function Lc(){var b=this.__wrapped__.value(),S=this.__dir__,O=ln(b),j=S<0,G=O?b.length:0,re=D3(0,G,this.__views__),le=re.start,he=re.end,Ce=he-le,Ye=j?he:le-1,Ge=this.__iteratees__,et=Ge.length,ht=0,Bt=Oi(Ce,this.__takeCount__);if(!O||!j&&G==Ce&&Bt==Ce)return lw(b,this.__actions__);var en=[];e:for(;Ce--&&ht<Bt;){Ye+=S;for(var _n=-1,tn=b[Ye];++_n<et;){var Un=Ge[_n],Qn=Un.iteratee,dl=Un.type,Qa=Qn(tn);if(dl==X)tn=Qa;else if(!Qa){if(dl==U)continue e;break e}}en[ht++]=tn}return en}dn.prototype=Lu(ju.prototype),dn.prototype.constructor=dn;function jc(b){var S=-1,O=b==null?0:b.length;for(this.clear();++S<O;){var j=b[S];this.set(j[0],j[1])}}function Gx(){this.__data__=_h?_h(null):{},this.size=0}function Nh(b){var S=this.has(b)&&delete this.__data__[b];return this.size-=S?1:0,S}function qy(b){var S=this.__data__;if(_h){var O=S[b];return O===l?n:O}return dr.call(S,b)?S[b]:n}function rf(b){var S=this.__data__;return _h?S[b]!==n:dr.call(S,b)}function yo(b,S){var O=this.__data__;return this.size+=this.has(b)?0:1,O[b]=_h&&S===n?l:S,this}jc.prototype.clear=Gx,jc.prototype.delete=Nh,jc.prototype.get=qy,jc.prototype.has=rf,jc.prototype.set=yo;function ws(b){var S=-1,O=b==null?0:b.length;for(this.clear();++S<O;){var j=b[S];this.set(j[0],j[1])}}function Gk(){this.__data__=[],this.size=0}function C3(b){var S=this.__data__,O=zl(S,b);if(O<0)return!1;var j=S.length-1;return O==j?S.pop():Dc.call(S,O,1),--this.size,!0}function T3(b){var S=this.__data__,O=zl(S,b);return O<0?n:S[O][1]}function k3(b){return zl(this.__data__,b)>-1}function Di(b,S){var O=this.__data__,j=zl(O,b);return j<0?(++this.size,O.push([b,S])):O[j][1]=S,this}ws.prototype.clear=Gk,ws.prototype.delete=C3,ws.prototype.get=T3,ws.prototype.has=k3,ws.prototype.set=Di;function el(b){var S=-1,O=b==null?0:b.length;for(this.clear();++S<O;){var j=b[S];this.set(j[0],j[1])}}function qm(){this.size=0,this.__data__={hash:new jc,map:new(Ha||ws),string:new jc}}function Wm(b){var S=ug(this,b).delete(b);return this.size-=S?1:0,S}function Kx(b){return ug(this,b).get(b)}function Oh(b){return ug(this,b).has(b)}function Mh(b,S){var O=ug(this,b),j=O.size;return O.set(b,S),this.size+=O.size==j?0:1,this}el.prototype.clear=qm,el.prototype.delete=Wm,el.prototype.get=Kx,el.prototype.has=Oh,el.prototype.set=Mh;function of(b){var S=-1,O=b==null?0:b.length;for(this.__data__=new el;++S<O;)this.add(b[S])}function Kk(b){return this.__data__.set(b,l),this}function _3(b){return this.__data__.has(b)}of.prototype.add=of.prototype.push=Kk,of.prototype.has=_3;function Es(b){var S=this.__data__=new ws(b);this.size=S.size}function af(){this.__data__=new ws,this.size=0}function Xx(b){var S=this.__data__,O=S.delete(b);return this.size=S.size,O}function Wy(b){return this.__data__.get(b)}function Xk(b){return this.__data__.has(b)}function Dh(b,S){var O=this.__data__;if(O instanceof ws){var j=O.__data__;if(!Ha||j.length<i-1)return j.push([b,S]),this.size=++O.size,this;O=this.__data__=new el(j)}return O.set(b,S),this.size=O.size,this}Es.prototype.clear=af,Es.prototype.delete=Xx,Es.prototype.get=Wy,Es.prototype.has=Xk,Es.prototype.set=Dh;function Yy(b,S){var O=ln(b),j=!O&&pf(b),G=!O&&!j&&Qu(b),re=!O&&!j&&!G&&Ju(b),le=O||j||G||re,he=le?Ry(b.length,Qd):[],Ce=he.length;for(var Ye in b)(S||dr.call(b,Ye))&&!(le&&(Ye=="length"||G&&(Ye=="offset"||Ye=="parent")||re&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||sl(Ye,Ce)))&&he.push(Ye);return he}function Ym(b){var S=b.length;return S?b[Hh(0,S-1)]:n}function Gy(b,S){return bg(Vo(b),nl(S,0,b.length))}function Zk(b){return bg(Vo(b))}function Ky(b,S,O){(O!==n&&!Ka(b[S],O)||O===n&&!(S in b))&&Fa(b,S,O)}function tl(b,S,O){var j=b[S];(!(dr.call(b,S)&&Ka(j,O))||O===n&&!(S in b))&&Fa(b,S,O)}function zl(b,S){for(var O=b.length;O--;)if(Ka(b[O][0],S))return O;return-1}function Qk(b,S,O,j){return Vl(b,function(G,re,le){S(j,G,O(G),le)}),j}function Zx(b,S){return b&&ks(S,Ji(S),b)}function Rh(b,S){return b&&ks(S,pa(S),b)}function Fa(b,S,O){S=="__proto__"&&gs?gs(b,S,{configurable:!0,enumerable:!0,value:O,writable:!0}):b[S]=O}function Ih(b,S){for(var O=-1,j=S.length,G=Pe(j),re=b==null;++O<j;)G[O]=re?n:ed(b,S[O]);return G}function nl(b,S,O){return b===b&&(O!==n&&(b=b<=O?b:O),S!==n&&(b=b>=S?b:S)),b}function zo(b,S,O,j,G,re){var le,he=S&u,Ce=S&p,Ye=S&m;if(O&&(le=G?O(b,j,G,re):O(b)),le!==n)return le;if(!Qr(b))return b;var Ge=ln(b);if(Ge){if(le=m2(b),!he)return Vo(b,le)}else{var et=vo(b),ht=et==Me||et==Lt;if(Qu(b))return dw(b,he);if(et==Qt||et==me||ht&&!G){if(le=Ce||ht?{}:Tw(b),!he)return Ce?u2(b,Rh(le,b)):c2(b,Zx(le,b))}else{if(!_r[et])return G?b:{};le=g2(b,et,he)}}re||(re=new Es);var Bt=re.get(b);if(Bt)return Bt;re.set(b,le),Ig(b)?b.forEach(function(tn){le.add(zo(tn,S,O,tn,b,re))}):Q2(b)&&b.forEach(function(tn,Un){le.set(Un,zo(tn,S,O,Un,b,re))});var en=Ye?Ce?Cw:hb:Ce?pa:Ji,_n=Ge?n:en(b);return La(_n||b,function(tn,Un){_n&&(Un=tn,tn=b[Un]),tl(le,Un,zo(tn,S,O,Un,b,re))}),le}function Jk(b){var S=Ji(b);return function(O){return $u(O,b,S)}}function $u(b,S,O){var j=O.length;if(b==null)return!j;for(b=gr(b);j--;){var G=O[j],re=S[G],le=b[G];if(le===n&&!(G in b)||!re(le))return!1}return!0}function Qx(b,S,O){if(typeof b!="function")throw new Ba(a);return yg(function(){b.apply(n,O)},S)}function Ss(b,S,O,j){var G=-1,re=Ny,le=!0,he=b.length,Ce=[],Ye=S.length;if(!he)return Ce;O&&(S=Kr(S,ja(O))),j?(re=Lm,le=!1):S.length>=i&&(re=jm,le=!1,S=new of(S));e:for(;++G<he;){var Ge=b[G],et=O==null?Ge:O(Ge);if(Ge=j||Ge!==0?Ge:0,le&&et===et){for(var ht=Ye;ht--;)if(S[ht]===et)continue e;Ce.push(Ge)}else re(S,et,j)||Ce.push(Ge)}return Ce}var Vl=mw(il),Xy=mw(Qy,!0);function Hu(b,S){var O=!0;return Vl(b,function(j,G,re){return O=!!S(j,G,re),O}),O}function rl(b,S,O){for(var j=-1,G=b.length;++j<G;){var re=b[j],le=S(re);if(le!=null&&(he===n?le===le&&!ha(le):O(le,he)))var he=le,Ce=re}return Ce}function Gm(b,S,O,j){var G=b.length;for(O=Jt(O),O<0&&(O=-O>G?0:G+O),j=j===n||j>G?G:Jt(j),j<0&&(j+=G),j=O>j?0:uE(j);O<j;)b[O++]=S;return b}function Zy(b,S){var O=[];return Vl(b,function(j,G,re){S(j,G,re)&&O.push(j)}),O}function Fi(b,S,O,j,G){var re=-1,le=b.length;for(O||(O=_w),G||(G=[]);++re<le;){var he=b[re];S>0&&O(he)?S>1?Fi(he,S-1,O,j,G):Du(G,he):j||(G[G.length]=he)}return G}var sf=gw(),Ph=gw(!0);function il(b,S){return b&&sf(b,S,Ji)}function Qy(b,S){return b&&Ph(b,S,Ji)}function Bc(b,S){return Mu(S,function(O){return Xa(b[O])})}function ql(b,S){S=qa(S,b);for(var O=0,j=S.length;b!=null&&O<j;)b=b[sa(S[O++])];return O&&O==j?b:n}function Jx(b,S,O){var j=S(b);return ln(b)?j:Du(j,O(b))}function bo(b){return b==null?b===n?Ze:cn:Rc&&Rc in gr(b)?dg(b):Nw(b)}function Km(b,S){return b>S}function Ua(b,S){return b!=null&&dr.call(b,S)}function Cs(b,S){return b!=null&&S in gr(b)}function Fu(b,S,O){return b>=Oi(S,O)&&b<hi(S,O)}function Xm(b,S,O){for(var j=O?Lm:Ny,G=b[0].length,re=b.length,le=re,he=Pe(re),Ce=1/0,Ye=[];le--;){var Ge=b[le];le&&S&&(Ge=Kr(Ge,ja(S))),Ce=Oi(Ge.length,Ce),he[le]=!O&&(S||G>=120&&Ge.length>=120)?new of(le&&Ge):n}Ge=b[0];var et=-1,ht=he[0];e:for(;++et<G&&Ye.length<Ce;){var Bt=Ge[et],en=S?S(Bt):Bt;if(Bt=O||Bt!==0?Bt:0,!(ht?jm(ht,en):j(Ye,en,O))){for(le=re;--le;){var _n=he[le];if(!(_n?jm(_n,en):j(b[le],en,O)))continue e}ht&&ht.push(en),Ye.push(Bt)}}return Ye}function e2(b,S,O,j){return il(b,function(G,re,le){S(j,O(G),re,le)}),j}function Ts(b,S,O){S=qa(S,b),b=mg(b,S);var j=b==null?b:b[sa(Hr(S))];return j==null?n:Pa(j,b,O)}function oa(b){return gi(b)&&bo(b)==me}function Si(b){return gi(b)&&bo(b)==Be}function Jy(b){return gi(b)&&bo(b)==we}function za(b,S,O,j,G){return b===S?!0:b==null||S==null||!gi(b)&&!gi(S)?b!==b&&S!==S:fn(b,S,O,j,za,G)}function fn(b,S,O,j,G,re){var le=ln(b),he=ln(S),Ce=le?ke:vo(b),Ye=he?ke:vo(S);Ce=Ce==me?Qt:Ce,Ye=Ye==me?Qt:Ye;var Ge=Ce==Qt,et=Ye==Qt,ht=Ce==Ye;if(ht&&Qu(b)){if(!Qu(S))return!1;le=!0,Ge=!1}if(ht&&!Ge)return re||(re=new Es),le||Ju(b)?lg(b,S,O,j,G,re):p2(b,S,Ce,O,j,G,re);if(!(O&v)){var Bt=Ge&&dr.call(b,"__wrapped__"),en=et&&dr.call(S,"__wrapped__");if(Bt||en){var _n=Bt?b.value():b,tn=en?S.value():S;return re||(re=new Es),G(_n,tn,O,j,re)}}return ht?(re||(re=new Es),Sw(b,S,O,j,G,re)):!1}function Er(b){return gi(b)&&vo(b)==Ve}function pi(b,S,O,j){var G=O.length,re=G,le=!j;if(b==null)return!re;for(b=gr(b);G--;){var he=O[G];if(le&&he[2]?he[1]!==b[he[0]]:!(he[0]in b))return!1}for(;++G<re;){he=O[G];var Ce=he[0],Ye=b[Ce],Ge=he[1];if(le&&he[2]){if(Ye===n&&!(Ce in b))return!1}else{var et=new Es;if(j)var ht=j(Ye,Ge,Ce,b,S,et);if(!(ht===n?za(Ge,Ye,v|x,j,et):ht))return!1}}return!0}function Zm(b){if(!Qr(b)||y2(b))return!1;var S=Xa(b)?Eh:Rr;return S.test(Ro(b))}function Lh(b){return gi(b)&&bo(b)==ce}function lf(b){return gi(b)&&vo(b)==xe}function eb(b){return gi(b)&&Ib(b.length)&&!!wr[bo(b)]}function jh(b){return typeof b=="function"?b:b==null?Wo:typeof b=="object"?ln(b)?ew(b[0],b[1]):nb(b):J(b)}function Uu(b){if(!qh(b))return kh(b);var S=[];for(var O in gr(b))dr.call(b,O)&&O!="constructor"&&S.push(O);return S}function A3(b){if(!Qr(b))return Hc(b);var S=qh(b),O=[];for(var j in b)j=="constructor"&&(S||!dr.call(b,j))||O.push(j);return O}function Zr(b,S){return b<S}function tb(b,S){var O=-1,j=fa(b)?Pe(b.length):[];return Vl(b,function(G,re,le){j[++O]=S(G,re,le)}),j}function nb(b){var S=pb(b);return S.length==1&&S[0][2]?vb(S[0][0],S[0][1]):function(O){return O===b||pi(O,b,S)}}function ew(b,S){return hg(b)&&Yl(S)?vb(sa(b),S):function(O){var j=ed(O,b);return j===n&&j===S?fE(O,b):za(S,j,v|x)}}function Qm(b,S,O,j,G){b!==S&&sf(S,function(re,le){if(G||(G=new Es),Qr(re))N3(b,S,le,O,Qm,j,G);else{var he=j?j(Ar(b,le),re,le+"",b,S,G):n;he===n&&(he=re),Ky(b,le,he)}},pa)}function N3(b,S,O,j,G,re,le){var he=Ar(b,O),Ce=Ar(S,O),Ye=le.get(Ce);if(Ye){Ky(b,O,Ye);return}var Ge=re?re(he,Ce,O+"",b,S,le):n,et=Ge===n;if(et){var ht=ln(Ce),Bt=!ht&&Qu(Ce),en=!ht&&!Bt&&Ju(Ce);Ge=Ce,ht||Bt||en?ln(he)?Ge=he:Ti(he)?Ge=Vo(he):Bt?(et=!1,Ge=dw(Ce,!0)):en?(et=!1,Ge=fw(Ce,!0)):Ge=[]:Dg(Ce)||pf(Ce)?(Ge=he,pf(he)?Ge=Pb(he):(!Qr(he)||Xa(he))&&(Ge=Tw(Ce))):et=!1}et&&(le.set(Ce,Ge),G(Ge,Ce,j,re,le),le.delete(Ce)),Ky(b,O,Ge)}function rb(b,S){var O=b.length;if(O)return S+=S<0?O:0,sl(S,O)?b[S]:n}function ib(b,S,O){S.length?S=Kr(S,function(re){return ln(re)?function(le){return ql(le,re.length===1?re[0]:re)}:re}):S=[Wo];var j=-1;S=Kr(S,ja(Wt()));var G=tb(b,function(re,le,he){var Ce=Kr(S,function(Ye){return Ye(re)});return{criteria:Ce,index:++j,value:re}});return Lk(G,function(re,le){return l2(re,le,O)})}function tw(b,S){return Mo(b,S,function(O,j){return fE(b,j)})}function Mo(b,S,O){for(var j=-1,G=S.length,re={};++j<G;){var le=S[j],he=ql(b,le);O(he,le)&&Fh(re,qa(le,b),he)}return re}function Ci(b){return function(S){return ql(S,b)}}function Bh(b,S,O,j){var G=j?v3:yh,re=-1,le=S.length,he=b;for(b===S&&(S=Vo(S)),O&&(he=Kr(b,ja(O)));++re<le;)for(var Ce=0,Ye=S[re],Ge=O?O(Ye):Ye;(Ce=G(he,Ge,Ce,j))>-1;)he!==b&&Dc.call(he,Ce,1),Dc.call(b,Ce,1);return b}function $h(b,S){for(var O=b?S.length:0,j=O-1;O--;){var G=S[O];if(O==j||G!==re){var re=G;sl(G)?Dc.call(b,G,1):Jm(b,G)}}return b}function Hh(b,S){return b+Um(Ic()*(S-b+1))}function nw(b,S,O,j){for(var G=-1,re=hi(Ch((S-b)/(O||1)),0),le=Pe(re);re--;)le[j?re:++G]=b,b+=O;return le}function ol(b,S){var O="";if(!b||S<1||S>Z)return O;do S%2&&(O+=b),S=Um(S/2),S&&(b+=b);while(S);return O}function hn(b,S){return xb(Ow(b,S,Wo),b+"")}function rw(b){return Ym(op(b))}function iw(b,S){var O=op(b);return bg(O,nl(S,0,O.length))}function Fh(b,S,O,j){if(!Qr(b))return b;S=qa(S,b);for(var G=-1,re=S.length,le=re-1,he=b;he!=null&&++G<re;){var Ce=sa(S[G]),Ye=O;if(Ce==="__proto__"||Ce==="constructor"||Ce==="prototype")return b;if(G!=le){var Ge=he[Ce];Ye=j?j(Ge,Ce,he):n,Ye===n&&(Ye=Qr(Ge)?Ge:sl(S[G+1])?[]:{})}tl(he,Ce,Ye),he=he[Ce]}return b}var ow=Mi?function(b,S){return Mi.set(b,S),b}:Wo,t2=gs?function(b,S){return gs(b,"toString",{configurable:!0,enumerable:!1,value:sp(S),writable:!0})}:Wo;function n2(b){return bg(op(b))}function Va(b,S,O){var j=-1,G=b.length;S<0&&(S=-S>G?0:G+S),O=O>G?G:O,O<0&&(O+=G),G=S>O?0:O-S>>>0,S>>>=0;for(var re=Pe(G);++j<G;)re[j]=b[j+S];return re}function r2(b,S){var O;return Vl(b,function(j,G,re){return O=S(j,G,re),!O}),!!O}function Uh(b,S,O){var j=0,G=b==null?j:b.length;if(typeof S=="number"&&S===S&&G<=z){for(;j<G;){var re=j+G>>>1,le=b[re];le!==null&&!ha(le)&&(O?le<=S:le<S)?j=re+1:G=re}return G}return ob(b,S,Wo,O)}function ob(b,S,O,j){var G=0,re=b==null?0:b.length;if(re===0)return 0;S=O(S);for(var le=S!==S,he=S===null,Ce=ha(S),Ye=S===n;G<re;){var Ge=Um((G+re)/2),et=O(b[Ge]),ht=et!==n,Bt=et===null,en=et===et,_n=ha(et);if(le)var tn=j||en;else Ye?tn=en&&(j||ht):he?tn=en&&ht&&(j||!Bt):Ce?tn=en&&ht&&!Bt&&(j||!_n):Bt||_n?tn=!1:tn=j?et<=S:et<S;tn?G=Ge+1:re=Ge}return Oi(re,te)}function i2(b,S){for(var O=-1,j=b.length,G=0,re=[];++O<j;){var le=b[O],he=S?S(le):le;if(!O||!Ka(he,Ce)){var Ce=he;re[G++]=le===0?0:le}}return re}function aw(b){return typeof b=="number"?b:ha(b)?K:+b}function aa(b){if(typeof b=="string")return b;if(ln(b))return Kr(b,aa)+"";if(ha(b))return nf?nf.call(b):"";var S=b+"";return S=="0"&&1/b==-ne?"-0":S}function $c(b,S,O){var j=-1,G=Ny,re=b.length,le=!0,he=[],Ce=he;if(O)le=!1,G=Lm;else if(re>=i){var Ye=S?null:f2(b);if(Ye)return Ly(Ye);le=!1,G=jm,Ce=new of}else Ce=S?[]:he;e:for(;++j<re;){var Ge=b[j],et=S?S(Ge):Ge;if(Ge=O||Ge!==0?Ge:0,le&&et===et){for(var ht=Ce.length;ht--;)if(Ce[ht]===et)continue e;S&&Ce.push(et),he.push(Ge)}else G(Ce,et,O)||(Ce!==he&&Ce.push(et),he.push(Ge))}return he}function Jm(b,S){return S=qa(S,b),b=mg(b,S),b==null||delete b[sa(Hr(S))]}function sw(b,S,O,j){return Fh(b,S,O(ql(b,S)),j)}function eg(b,S,O,j){for(var G=b.length,re=j?G:-1;(j?re--:++re<G)&&S(b[re],re,b););return O?Va(b,j?0:re,j?re+1:G):Va(b,j?re+1:0,j?G:re)}function lw(b,S){var O=b;return O instanceof dn&&(O=O.value()),Px(S,function(j,G){return G.func.apply(G.thisArg,Du([j],G.args))},O)}function ab(b,S,O){var j=b.length;if(j<2)return j?$c(b[0]):[];for(var G=-1,re=Pe(j);++G<j;)for(var le=b[G],he=-1;++he<j;)he!=G&&(re[G]=Ss(re[G]||le,b[he],S,O));return $c(Fi(re,1),S,O)}function cw(b,S,O){for(var j=-1,G=b.length,re=S.length,le={};++j<G;){var he=j<re?S[j]:n;O(le,b[j],he)}return le}function uw(b){return Ti(b)?b:[]}function sb(b){return typeof b=="function"?b:Wo}function qa(b,S){return ln(b)?b:hg(b,S)?[b]:Mw(hr(b))}var o2=hn;function al(b,S,O){var j=b.length;return O=O===n?j:O,!S&&O>=j?b:Va(b,S,O)}var tg=Wk||function(b){return Hi.clearTimeout(b)};function dw(b,S){if(S)return b.slice();var O=b.length,j=Uy?Uy(O):new b.constructor(O);return b.copy(j),j}function ng(b){var S=new b.constructor(b.byteLength);return new Jd(S).set(new Jd(b)),S}function O3(b,S){var O=S?ng(b.buffer):b.buffer;return new b.constructor(O,b.byteOffset,b.byteLength)}function a2(b){var S=new b.constructor(b.source,mr.exec(b));return S.lastIndex=b.lastIndex,S}function s2(b){return Ah?gr(Ah.call(b)):{}}function fw(b,S){var O=S?ng(b.buffer):b.buffer;return new b.constructor(O,b.byteOffset,b.length)}function hw(b,S){if(b!==S){var O=b!==n,j=b===null,G=b===b,re=ha(b),le=S!==n,he=S===null,Ce=S===S,Ye=ha(S);if(!he&&!Ye&&!re&&b>S||re&&le&&Ce&&!he&&!Ye||j&&le&&Ce||!O&&Ce||!G)return 1;if(!j&&!re&&!Ye&&b<S||Ye&&O&&G&&!j&&!re||he&&O&&G||!le&&G||!Ce)return-1}return 0}function l2(b,S,O){for(var j=-1,G=b.criteria,re=S.criteria,le=G.length,he=O.length;++j<le;){var Ce=hw(G[j],re[j]);if(Ce){if(j>=he)return Ce;var Ye=O[j];return Ce*(Ye=="desc"?-1:1)}}return b.index-S.index}function lb(b,S,O,j){for(var G=-1,re=b.length,le=O.length,he=-1,Ce=S.length,Ye=hi(re-le,0),Ge=Pe(Ce+Ye),et=!j;++he<Ce;)Ge[he]=S[he];for(;++G<le;)(et||G<re)&&(Ge[O[G]]=b[G]);for(;Ye--;)Ge[he++]=b[G++];return Ge}function pw(b,S,O,j){for(var G=-1,re=b.length,le=-1,he=O.length,Ce=-1,Ye=S.length,Ge=hi(re-he,0),et=Pe(Ge+Ye),ht=!j;++G<Ge;)et[G]=b[G];for(var Bt=G;++Ce<Ye;)et[Bt+Ce]=S[Ce];for(;++le<he;)(ht||G<re)&&(et[Bt+O[le]]=b[G++]);return et}function Vo(b,S){var O=-1,j=b.length;for(S||(S=Pe(j));++O<j;)S[O]=b[O];return S}function ks(b,S,O,j){var G=!O;O||(O={});for(var re=-1,le=S.length;++re<le;){var he=S[re],Ce=j?j(O[he],b[he],he,O,b):n;Ce===n&&(Ce=b[he]),G?Fa(O,he,Ce):tl(O,he,Ce)}return O}function c2(b,S){return ks(b,mb(b),S)}function u2(b,S){return ks(b,fg(b),S)}function cb(b,S){return function(O,j){var G=ln(O)?p3:Qk,re=S?S():{};return G(O,b,Wt(j,2),re)}}function zu(b){return hn(function(S,O){var j=-1,G=O.length,re=G>1?O[G-1]:n,le=G>2?O[2]:n;for(re=b.length>3&&typeof re=="function"?(G--,re):n,le&&Do(O[0],O[1],le)&&(re=G<3?n:re,G=1),S=gr(S);++j<G;){var he=O[j];he&&b(S,he,j,re)}return S})}function mw(b,S){return function(O,j){if(O==null)return O;if(!fa(O))return b(O,j);for(var G=O.length,re=S?G:-1,le=gr(O);(S?re--:++re<G)&&j(le[re],re,le)!==!1;);return O}}function gw(b){return function(S,O,j){for(var G=-1,re=gr(S),le=j(S),he=le.length;he--;){var Ce=le[b?he:++G];if(O(re[Ce],Ce,re)===!1)break}return S}}function yw(b,S,O){var j=S&w,G=rg(b);function re(){var le=this&&this!==Hi&&this instanceof re?G:b;return le.apply(j?O:this,arguments)}return re}function bw(b){return function(S){S=hr(S);var O=Zd(S)?ai(S):n,j=O?O[0]:S.charAt(0),G=O?al(O,1).join(""):S.slice(1);return j[b]()+G}}function cf(b){return function(S){return Px(T_(ap(S).replace(Dx,"")),b,"")}}function rg(b){return function(){var S=arguments;switch(S.length){case 0:return new b;case 1:return new b(S[0]);case 2:return new b(S[0],S[1]);case 3:return new b(S[0],S[1],S[2]);case 4:return new b(S[0],S[1],S[2],S[3]);case 5:return new b(S[0],S[1],S[2],S[3],S[4]);case 6:return new b(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new b(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var O=Lu(b.prototype),j=b.apply(O,S);return Qr(j)?j:O}}function M3(b,S,O){var j=rg(b);function G(){for(var re=arguments.length,le=Pe(re),he=re,Ce=mi(G);he--;)le[he]=arguments[he];var Ye=re<3&&le[0]!==Ce&&le[re-1]!==Ce?[]:Mc(le,Ce);if(re-=Ye.length,re<O)return fb(b,S,Vh,G.placeholder,n,le,Ye,n,n,O-re);var Ge=this&&this!==Hi&&this instanceof G?j:b;return Pa(Ge,this,le)}return G}function vw(b){return function(S,O,j){var G=gr(S);if(!fa(S)){var re=Wt(O,3);S=Ji(S),O=function(he){return re(G[he],he,G)}}var le=b(S,O,j);return le>-1?G[re?S[le]:le]:n}}function zh(b){return Wl(function(S){var O=S.length,j=O,G=ia.prototype.thru;for(b&&S.reverse();j--;){var re=S[j];if(typeof re!="function")throw new Ba(a);if(G&&!le&&si(re)=="wrapper")var le=new ia([],!0)}for(j=le?j:O;++j<O;){re=S[j];var he=si(re),Ce=he=="wrapper"?cg(re):n;Ce&&pg(Ce[0])&&Ce[1]==(R|N|M|L)&&!Ce[4].length&&Ce[9]==1?le=le[si(Ce[0])].apply(le,Ce[3]):le=re.length==1&&pg(re)?le[he]():le.thru(re)}return function(){var Ye=arguments,Ge=Ye[0];if(le&&Ye.length==1&&ln(Ge))return le.plant(Ge).value();for(var et=0,ht=O?S[et].apply(this,Ye):Ge;++et<O;)ht=S[et].call(this,ht);return ht}})}function Vh(b,S,O,j,G,re,le,he,Ce,Ye){var Ge=S&R,et=S&w,ht=S&T,Bt=S&(N|I),en=S&B,_n=ht?n:rg(b);function tn(){for(var Un=arguments.length,Qn=Pe(Un),dl=Un;dl--;)Qn[dl]=arguments[dl];if(Bt)var Qa=mi(tn),fl=Bm(Qn,Qa);if(j&&(Qn=lb(Qn,j,G,Bt)),re&&(Qn=pw(Qn,re,le,Bt)),Un-=fl,Bt&&Un<Ye){var zi=Mc(Qn,Qa);return fb(b,S,Vh,tn.placeholder,O,Qn,zi,he,Ce,Ye-Un)}var Kc=et?O:this,gf=ht?Kc[b]:b;return Un=Qn.length,he?Qn=gg(Qn,he):en&&Un>1&&Qn.reverse(),Ge&&Ce<Un&&(Qn.length=Ce),this&&this!==Hi&&this instanceof tn&&(gf=_n||rg(gf)),gf.apply(Kc,Qn)}return tn}function ig(b,S){return function(O,j){return e2(O,b,S(j),{})}}function og(b,S){return function(O,j){var G;if(O===n&&j===n)return S;if(O!==n&&(G=O),j!==n){if(G===n)return j;typeof O=="string"||typeof j=="string"?(O=aa(O),j=aa(j)):(O=aw(O),j=aw(j)),G=b(O,j)}return G}}function ub(b){return Wl(function(S){return S=Kr(S,ja(Wt())),hn(function(O){var j=this;return b(S,function(G){return Pa(G,j,O)})})})}function Vu(b,S){S=S===n?" ":aa(S);var O=S.length;if(O<2)return O?ol(S,b):S;var j=ol(S,Ch(b/bh(S)));return Zd(S)?al(ai(j),0,b).join(""):j.slice(0,b)}function d2(b,S,O,j){var G=S&w,re=rg(b);function le(){for(var he=-1,Ce=arguments.length,Ye=-1,Ge=j.length,et=Pe(Ge+Ce),ht=this&&this!==Hi&&this instanceof le?re:b;++Ye<Ge;)et[Ye]=j[Ye];for(;Ce--;)et[Ye++]=arguments[++he];return Pa(ht,G?O:this,et)}return le}function db(b){return function(S,O,j){return j&&typeof j!="number"&&Do(S,O,j)&&(O=j=n),S=Yc(S),O===n?(O=S,S=0):O=Yc(O),j=j===n?S<O?1:-1:Yc(j),nw(S,O,j,b)}}function ag(b){return function(S,O){return typeof S=="string"&&typeof O=="string"||(S=Za(S),O=Za(O)),b(S,O)}}function fb(b,S,O,j,G,re,le,he,Ce,Ye){var Ge=S&N,et=Ge?le:n,ht=Ge?n:le,Bt=Ge?re:n,en=Ge?n:re;S|=Ge?M:A,S&=~(Ge?A:M),S&k||(S&=-4);var _n=[b,S,G,Bt,et,en,ht,he,Ce,Ye],tn=O.apply(n,_n);return pg(b)&&v2(tn,_n),tn.placeholder=j,Wh(tn,b,S)}function sg(b){var S=Xr[b];return function(O,j){if(O=Za(O),j=j==null?0:Oi(Jt(j),292),j&&$a(O)){var G=(hr(O)+"e").split("e"),re=S(G[0]+"e"+(+G[1]+j));return G=(hr(re)+"e").split("e"),+(G[0]+"e"+(+G[1]-j))}return S(O)}}var f2=Ru&&1/Ly(new Ru([,-0]))[1]==ne?function(b){return new Ru(b)}:y;function xw(b){return function(S){var O=vo(S);return O==Ve?Py(S):O==xe?w3(S):jk(S,b(S))}}function qo(b,S,O,j,G,re,le,he){var Ce=S&T;if(!Ce&&typeof b!="function")throw new Ba(a);var Ye=j?j.length:0;if(Ye||(S&=-97,j=G=n),le=le===n?le:hi(Jt(le),0),he=he===n?he:Jt(he),Ye-=G?G.length:0,S&A){var Ge=j,et=G;j=G=n}var ht=Ce?n:cg(b),Bt=[b,S,O,j,G,Ge,et,re,le,he];if(ht&&b2(Bt,ht),b=Bt[0],S=Bt[1],O=Bt[2],j=Bt[3],G=Bt[4],he=Bt[9]=Bt[9]===n?Ce?0:b.length:hi(Bt[9]-Ye,0),!he&&S&(N|I)&&(S&=-25),!S||S==w)var en=yw(b,S,O);else S==N||S==I?en=M3(b,S,he):(S==M||S==(w|M))&&!G.length?en=d2(b,S,O,j):en=Vh.apply(n,Bt);var _n=ht?ow:v2;return Wh(_n(en,Bt),b,S)}function ww(b,S,O,j){return b===n||Ka(b,wh[O])&&!dr.call(j,O)?S:b}function Ew(b,S,O,j,G,re){return Qr(b)&&Qr(S)&&(re.set(S,b),Qm(b,S,n,Ew,re),re.delete(S)),b}function h2(b){return Dg(b)?n:b}function lg(b,S,O,j,G,re){var le=O&v,he=b.length,Ce=S.length;if(he!=Ce&&!(le&&Ce>he))return!1;var Ye=re.get(b),Ge=re.get(S);if(Ye&&Ge)return Ye==S&&Ge==b;var et=-1,ht=!0,Bt=O&x?new of:n;for(re.set(b,S),re.set(S,b);++et<he;){var en=b[et],_n=S[et];if(j)var tn=le?j(_n,en,et,S,b,re):j(en,_n,et,b,S,re);if(tn!==n){if(tn)continue;ht=!1;break}if(Bt){if(!Lx(S,function(Un,Qn){if(!jm(Bt,Qn)&&(en===Un||G(en,Un,O,j,re)))return Bt.push(Qn)})){ht=!1;break}}else if(!(en===_n||G(en,_n,O,j,re))){ht=!1;break}}return re.delete(b),re.delete(S),ht}function p2(b,S,O,j,G,re,le){switch(O){case it:if(b.byteLength!=S.byteLength||b.byteOffset!=S.byteOffset)return!1;b=b.buffer,S=S.buffer;case Be:return!(b.byteLength!=S.byteLength||!re(new Jd(b),new Jd(S)));case ve:case we:case an:return Ka(+b,+S);case Ke:return b.name==S.name&&b.message==S.message;case ce:case Te:return b==S+"";case Ve:var he=Py;case xe:var Ce=j&v;if(he||(he=Ly),b.size!=S.size&&!Ce)return!1;var Ye=le.get(b);if(Ye)return Ye==S;j|=x,le.set(b,S);var Ge=lg(he(b),he(S),j,G,re,le);return le.delete(b),Ge;case Je:if(Ah)return Ah.call(b)==Ah.call(S)}return!1}function Sw(b,S,O,j,G,re){var le=O&v,he=hb(b),Ce=he.length,Ye=hb(S),Ge=Ye.length;if(Ce!=Ge&&!le)return!1;for(var et=Ce;et--;){var ht=he[et];if(!(le?ht in S:dr.call(S,ht)))return!1}var Bt=re.get(b),en=re.get(S);if(Bt&&en)return Bt==S&&en==b;var _n=!0;re.set(b,S),re.set(S,b);for(var tn=le;++et<Ce;){ht=he[et];var Un=b[ht],Qn=S[ht];if(j)var dl=le?j(Qn,Un,ht,S,b,re):j(Un,Qn,ht,b,S,re);if(!(dl===n?Un===Qn||G(Un,Qn,O,j,re):dl)){_n=!1;break}tn||(tn=ht=="constructor")}if(_n&&!tn){var Qa=b.constructor,fl=S.constructor;Qa!=fl&&"constructor"in b&&"constructor"in S&&!(typeof Qa=="function"&&Qa instanceof Qa&&typeof fl=="function"&&fl instanceof fl)&&(_n=!1)}return re.delete(b),re.delete(S),_n}function Wl(b){return xb(Ow(b,n,$r),b+"")}function hb(b){return Jx(b,Ji,mb)}function Cw(b){return Jx(b,pa,fg)}var cg=Mi?function(b){return Mi.get(b)}:y;function si(b){for(var S=b.name+"",O=fr[S],j=dr.call(fr,S)?O.length:0;j--;){var G=O[j],re=G.func;if(re==null||re==b)return G.name}return S}function mi(b){var S=dr.call(ee,"placeholder")?ee:b;return S.placeholder}function Wt(){var b=ee.iteratee||Hg;return b=b===Hg?jh:b,arguments.length?b(arguments[0],arguments[1]):b}function ug(b,S){var O=b.__data__;return bb(S)?O[typeof S=="string"?"string":"hash"]:O.map}function pb(b){for(var S=Ji(b),O=S.length;O--;){var j=S[O],G=b[j];S[O]=[j,G,Yl(G)]}return S}function qu(b,S){var O=Bk(b,S);return Zm(O)?O:n}function dg(b){var S=dr.call(b,Rc),O=b[Rc];try{b[Rc]=n;var j=!0}catch{}var G=ra.call(b);return j&&(S?b[Rc]=O:delete b[Rc]),G}var mb=zm?function(b){return b==null?[]:(b=gr(b),Mu(zm(b),function(S){return Fm.call(b,S)}))}:We,fg=zm?function(b){for(var S=[];b;)Du(S,mb(b)),b=Fl(b);return S}:We,vo=bo;(vs&&vo(new vs(new ArrayBuffer(1)))!=it||Ha&&vo(new Ha)!=Ve||Vy&&vo(Vy.resolve())!=Yr||Ru&&vo(new Ru)!=xe||tf&&vo(new tf)!=Qe)&&(vo=function(b){var S=bo(b),O=S==Qt?b.constructor:n,j=O?Ro(O):"";if(j)switch(j){case Fn:return it;case Iu:return Ve;case xs:return Yr;case Yx:return xe;case Pu:return Qe}return S});function D3(b,S,O){for(var j=-1,G=O.length;++j<G;){var re=O[j],le=re.size;switch(re.type){case"drop":b+=le;break;case"dropRight":S-=le;break;case"take":S=Oi(S,b+le);break;case"takeRight":b=hi(b,S-le);break}}return{start:b,end:S}}function gb(b){var S=b.match(At);return S?S[1].split($t):[]}function yb(b,S,O){S=qa(S,b);for(var j=-1,G=S.length,re=!1;++j<G;){var le=sa(S[j]);if(!(re=b!=null&&O(b,le)))break;b=b[le]}return re||++j!=G?re:(G=b==null?0:b.length,!!G&&Ib(G)&&sl(le,G)&&(ln(b)||pf(b)))}function m2(b){var S=b.length,O=new b.constructor(S);return S&&typeof b[0]=="string"&&dr.call(b,"index")&&(O.index=b.index,O.input=b.input),O}function Tw(b){return typeof b.constructor=="function"&&!qh(b)?Lu(Fl(b)):{}}function g2(b,S,O){var j=b.constructor;switch(S){case Be:return ng(b);case ve:case we:return new j(+b);case it:return O3(b,O);case Nt:case qt:case Zn:case kn:case or:case Yn:case xr:case un:case wi:return fw(b,O);case Ve:return new j;case an:case Te:return new j(b);case ce:return a2(b);case xe:return new j;case Je:return s2(b)}}function kw(b,S){var O=S.length;if(!O)return b;var j=O-1;return S[j]=(O>1?"& ":"")+S[j],S=S.join(O>2?", ":" "),b.replace(bt,`{
/* [wrapped with `+S+`] */
`)}function _w(b){return ln(b)||pf(b)||!!(qk&&b&&b[qk])}function sl(b,S){var O=typeof b;return S=S??Z,!!S&&(O=="number"||O!="symbol"&&Xs.test(b))&&b>-1&&b%1==0&&b<S}function Do(b,S,O){if(!Qr(O))return!1;var j=typeof S;return(j=="number"?fa(O)&&sl(S,O.length):j=="string"&&S in O)?Ka(O[S],b):!1}function hg(b,S){if(ln(b))return!1;var O=typeof b;return O=="number"||O=="symbol"||O=="boolean"||b==null||ha(b)?!0:se.test(b)||!fi.test(b)||S!=null&&b in gr(S)}function bb(b){var S=typeof b;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?b!=="__proto__":b===null}function pg(b){var S=si(b),O=ee[S];if(typeof O!="function"||!(S in dn.prototype))return!1;if(b===O)return!0;var j=cg(O);return!!j&&b===j[0]}function y2(b){return!!Hy&&Hy in b}var Aw=By?Xa:De;function qh(b){var S=b&&b.constructor,O=typeof S=="function"&&S.prototype||wh;return b===O}function Yl(b){return b===b&&!Qr(b)}function vb(b,S){return function(O){return O==null?!1:O[b]===S&&(S!==n||b in gr(O))}}function R3(b){var S=Ag(b,function(j){return O.size===c&&O.clear(),j}),O=S.cache;return S}function b2(b,S){var O=b[1],j=S[1],G=O|j,re=G<(w|T|R),le=j==R&&O==N||j==R&&O==L&&b[7].length<=S[8]||j==(R|L)&&S[7].length<=S[8]&&O==N;if(!(re||le))return b;j&w&&(b[2]=S[2],G|=O&w?0:k);var he=S[3];if(he){var Ce=b[3];b[3]=Ce?lb(Ce,he,S[4]):he,b[4]=Ce?Mc(b[3],d):S[4]}return he=S[5],he&&(Ce=b[5],b[5]=Ce?pw(Ce,he,S[6]):he,b[6]=Ce?Mc(b[5],d):S[6]),he=S[7],he&&(b[7]=he),j&R&&(b[8]=b[8]==null?S[8]:Oi(b[8],S[8])),b[9]==null&&(b[9]=S[9]),b[0]=S[0],b[1]=G,b}function Hc(b){var S=[];if(b!=null)for(var O in gr(b))S.push(O);return S}function Nw(b){return ra.call(b)}function Ow(b,S,O){return S=hi(S===n?b.length-1:S,0),function(){for(var j=arguments,G=-1,re=hi(j.length-S,0),le=Pe(re);++G<re;)le[G]=j[S+G];G=-1;for(var he=Pe(S+1);++G<S;)he[G]=j[G];return he[S]=O(le),Pa(b,this,he)}}function mg(b,S){return S.length<2?b:ql(b,Va(S,0,-1))}function gg(b,S){for(var O=b.length,j=Oi(S.length,O),G=Vo(b);j--;){var re=S[j];b[j]=sl(re,O)?G[re]:n}return b}function Ar(b,S){if(!(S==="constructor"&&typeof b[S]=="function")&&S!="__proto__")return b[S]}var v2=Fc(ow),yg=ef||function(b,S){return Hi.setTimeout(b,S)},xb=Fc(t2);function Wh(b,S,O){var j=S+"";return xb(b,kw(j,x2(gb(j),O)))}function Fc(b){var S=0,O=0;return function(){var j=ys(),G=Y-(j-O);if(O=j,G>0){if(++S>=V)return arguments[0]}else S=0;return b.apply(n,arguments)}}function bg(b,S){var O=-1,j=b.length,G=j-1;for(S=S===n?j:S;++O<S;){var re=Hh(O,G),le=b[re];b[re]=b[O],b[O]=le}return b.length=S,b}var Mw=R3(function(b){var S=[];return b.charCodeAt(0)===46&&S.push(""),b.replace(ye,function(O,j,G,re){S.push(G?re.replace(mt,"$1"):j||O)}),S});function sa(b){if(typeof b=="string"||ha(b))return b;var S=b+"";return S=="0"&&1/b==-ne?"-0":S}function Ro(b){if(b!=null){try{return $y.call(b)}catch{}try{return b+""}catch{}}return""}function x2(b,S){return La(fe,function(O){var j="_."+O[0];S&O[1]&&!Ny(b,j)&&b.push(j)}),b.sort()}function wb(b){if(b instanceof dn)return b.clone();var S=new ia(b.__wrapped__,b.__chain__);return S.__actions__=Vo(b.__actions__),S.__index__=b.__index__,S.__values__=b.__values__,S}function w2(b,S,O){(O?Do(b,S,O):S===n)?S=1:S=hi(Jt(S),0);var j=b==null?0:b.length;if(!j||S<1)return[];for(var G=0,re=0,le=Pe(Ch(j/S));G<j;)le[re++]=Va(b,G,G+=S);return le}function Dw(b){for(var S=-1,O=b==null?0:b.length,j=0,G=[];++S<O;){var re=b[S];re&&(G[j++]=re)}return G}function Rw(){var b=arguments.length;if(!b)return[];for(var S=Pe(b-1),O=arguments[0],j=b;j--;)S[j-1]=arguments[j];return Du(ln(O)?Vo(O):[O],Fi(S,1))}var Eb=hn(function(b,S){return Ti(b)?Ss(b,Fi(S,1,Ti,!0)):[]}),E2=hn(function(b,S){var O=Hr(S);return Ti(O)&&(O=n),Ti(b)?Ss(b,Fi(S,1,Ti,!0),Wt(O,2)):[]}),Uc=hn(function(b,S){var O=Hr(S);return Ti(O)&&(O=n),Ti(b)?Ss(b,Fi(S,1,Ti,!0),n,O):[]});function Ri(b,S,O){var j=b==null?0:b.length;return j?(S=O||S===n?1:Jt(S),Va(b,S<0?0:S,j)):[]}function Iw(b,S,O){var j=b==null?0:b.length;return j?(S=O||S===n?1:Jt(S),S=j-S,Va(b,0,S<0?0:S)):[]}function S2(b,S){return b&&b.length?eg(b,Wt(S,3),!0,!0):[]}function Qi(b,S){return b&&b.length?eg(b,Wt(S,3),!0):[]}function I3(b,S,O,j){var G=b==null?0:b.length;return G?(O&&typeof O!="number"&&Do(b,S,O)&&(O=0,j=G),Gm(b,S,O,j)):[]}function Pw(b,S,O){var j=b==null?0:b.length;if(!j)return-1;var G=O==null?0:Jt(O);return G<0&&(G=hi(j+G,0)),Oy(b,Wt(S,3),G)}function Lw(b,S,O){var j=b==null?0:b.length;if(!j)return-1;var G=j-1;return O!==n&&(G=Jt(O),G=O<0?hi(j+G,0):Oi(G,j-1)),Oy(b,Wt(S,3),G,!0)}function $r(b){var S=b==null?0:b.length;return S?Fi(b,1):[]}function la(b){var S=b==null?0:b.length;return S?Fi(b,ne):[]}function zc(b,S){var O=b==null?0:b.length;return O?(S=S===n?1:Jt(S),Fi(b,S)):[]}function C2(b){for(var S=-1,O=b==null?0:b.length,j={};++S<O;){var G=b[S];j[G[0]]=G[1]}return j}function jw(b){return b&&b.length?b[0]:n}function T2(b,S,O){var j=b==null?0:b.length;if(!j)return-1;var G=O==null?0:Jt(O);return G<0&&(G=hi(j+G,0)),yh(b,S,G)}function P3(b){var S=b==null?0:b.length;return S?Va(b,0,-1):[]}var Sb=hn(function(b){var S=Kr(b,uw);return S.length&&S[0]===b[0]?Xm(S):[]}),ca=hn(function(b){var S=Hr(b),O=Kr(b,uw);return S===Hr(O)?S=n:O.pop(),O.length&&O[0]===b[0]?Xm(O,Wt(S,2)):[]}),ll=hn(function(b){var S=Hr(b),O=Kr(b,uw);return S=typeof S=="function"?S:n,S&&O.pop(),O.length&&O[0]===b[0]?Xm(O,n,S):[]});function k2(b,S){return b==null?"":Th.call(b,S)}function Hr(b){var S=b==null?0:b.length;return S?b[S-1]:n}function _2(b,S,O){var j=b==null?0:b.length;if(!j)return-1;var G=j;return O!==n&&(G=Jt(O),G=G<0?hi(j+G,0):Oi(G,j-1)),S===S?S3(b,S,G):Oy(b,Pk,G,!0)}function Vc(b,S){return b&&b.length?rb(b,Jt(S)):n}var uf=hn(Gl);function Gl(b,S){return b&&b.length&&S&&S.length?Bh(b,S):b}function Bw(b,S,O){return b&&b.length&&S&&S.length?Bh(b,S,Wt(O,2)):b}function $w(b,S,O){return b&&b.length&&S&&S.length?Bh(b,S,n,O):b}var cl=Wl(function(b,S){var O=b==null?0:b.length,j=Ih(b,S);return $h(b,Kr(S,function(G){return sl(G,O)?+G:G}).sort(hw)),j});function A2(b,S){var O=[];if(!(b&&b.length))return O;var j=-1,G=[],re=b.length;for(S=Wt(S,3);++j<re;){var le=b[j];S(le,j,b)&&(O.push(le),G.push(j))}return $h(b,G),O}function Wu(b){return b==null?b:Ul.call(b)}function vg(b,S,O){var j=b==null?0:b.length;return j?(O&&typeof O!="number"&&Do(b,S,O)?(S=0,O=j):(S=S==null?0:Jt(S),O=O===n?j:Jt(O)),Va(b,S,O)):[]}function xg(b,S){return Uh(b,S)}function Yh(b,S,O){return ob(b,S,Wt(O,2))}function N2(b,S){var O=b==null?0:b.length;if(O){var j=Uh(b,S);if(j<O&&Ka(b[j],S))return j}return-1}function O2(b,S){return Uh(b,S,!0)}function wg(b,S,O){return ob(b,S,Wt(O,2),!0)}function M2(b,S){var O=b==null?0:b.length;if(O){var j=Uh(b,S,!0)-1;if(Ka(b[j],S))return j}return-1}function Cb(b){return b&&b.length?i2(b):[]}function D2(b,S){return b&&b.length?i2(b,Wt(S,2)):[]}function L3(b){var S=b==null?0:b.length;return S?Va(b,1,S):[]}function j3(b,S,O){return b&&b.length?(S=O||S===n?1:Jt(S),Va(b,0,S<0?0:S)):[]}function sr(b,S,O){var j=b==null?0:b.length;return j?(S=O||S===n?1:Jt(S),S=j-S,Va(b,S<0?0:S,j)):[]}function Nr(b,S){return b&&b.length?eg(b,Wt(S,3),!1,!0):[]}function On(b,S){return b&&b.length?eg(b,Wt(S,3)):[]}var In=hn(function(b){return $c(Fi(b,1,Ti,!0))}),yr=hn(function(b){var S=Hr(b);return Ti(S)&&(S=n),$c(Fi(b,1,Ti,!0),Wt(S,2))}),Wa=hn(function(b){var S=Hr(b);return S=typeof S=="function"?S:n,$c(Fi(b,1,Ti,!0),n,S)});function Yu(b){return b&&b.length?$c(b):[]}function Gh(b,S){return b&&b.length?$c(b,Wt(S,2)):[]}function Hw(b,S){return S=typeof S=="function"?S:n,b&&b.length?$c(b,n,S):[]}function ul(b){if(!(b&&b.length))return[];var S=0;return b=Mu(b,function(O){if(Ti(O))return S=hi(O.length,S),!0}),Ry(S,function(O){return Kr(b,Kd(O))})}function li(b,S){if(!(b&&b.length))return[];var O=ul(b);return S==null?O:Kr(O,function(j){return Pa(S,n,j)})}var Gu=hn(function(b,S){return Ti(b)?Ss(b,S):[]}),df=hn(function(b){return ab(Mu(b,Ti))}),Fw=hn(function(b){var S=Hr(b);return Ti(S)&&(S=n),ab(Mu(b,Ti),Wt(S,2))}),Ya=hn(function(b){var S=Hr(b);return S=typeof S=="function"?S:n,ab(Mu(b,Ti),n,S)}),Kh=hn(ul);function Eg(b,S){return cw(b||[],S||[],tl)}function ua(b,S){return cw(b||[],S||[],Fh)}var Uw=hn(function(b){var S=b.length,O=S>1?b[S-1]:n;return O=typeof O=="function"?(b.pop(),O):n,li(b,O)});function Sg(b){var S=ee(b);return S.__chain__=!0,S}function R2(b,S){return S(b),b}function ff(b,S){return S(b)}var Tb=Wl(function(b){var S=b.length,O=S?b[0]:0,j=this.__wrapped__,G=function(re){return Ih(re,b)};return S>1||this.__actions__.length||!(j instanceof dn)||!sl(O)?this.thru(G):(j=j.slice(O,+O+(S?1:0)),j.__actions__.push({func:ff,args:[G],thisArg:n}),new ia(j,this.__chain__).thru(function(re){return S&&!re.length&&re.push(n),re}))});function Ku(){return Sg(this)}function Ui(){return new ia(this.value(),this.__chain__)}function Xu(){this.__values__===n&&(this.__values__=r_(this.value()));var b=this.__index__>=this.__values__.length,S=b?n:this.__values__[this.__index__++];return{done:b,value:S}}function Xh(){return this}function qc(b){for(var S,O=this;O instanceof ju;){var j=wb(O);j.__index__=0,j.__values__=n,S?G.__wrapped__=j:S=j;var G=j;O=O.__wrapped__}return G.__wrapped__=b,S}function zw(){var b=this.__wrapped__;if(b instanceof dn){var S=b;return this.__actions__.length&&(S=new dn(this)),S=S.reverse(),S.__actions__.push({func:ff,args:[Wu],thisArg:n}),new ia(S,this.__chain__)}return this.thru(Wu)}function Vw(){return lw(this.__wrapped__,this.__actions__)}var I2=cb(function(b,S,O){dr.call(b,O)?++b[O]:Fa(b,O,1)});function Cg(b,S,O){var j=ln(b)?Dk:Hu;return O&&Do(b,S,O)&&(S=n),j(b,Wt(S,3))}function qw(b,S){var O=ln(b)?Mu:Zy;return O(b,Wt(S,3))}var Ga=vw(Pw),P2=vw(Lw);function da(b,S){return Fi(Tg(b,S),1)}function L2(b,S){return Fi(Tg(b,S),ne)}function j2(b,S,O){return O=O===n?1:Jt(O),Fi(Tg(b,S),O)}function B2(b,S){var O=ln(b)?La:Vl;return O(b,Wt(S,3))}function Wc(b,S){var O=ln(b)?m3:Xy;return O(b,Wt(S,3))}var kb=cb(function(b,S,O){dr.call(b,O)?b[O].push(S):Fa(b,O,[S])});function Ww(b,S,O,j){b=fa(b)?b:op(b),O=O&&!j?Jt(O):0;var G=b.length;return O<0&&(O=hi(G+O,0)),Pg(b)?O<=G&&b.indexOf(S,O)>-1:!!G&&yh(b,S,O)>-1}var Zh=hn(function(b,S,O){var j=-1,G=typeof S=="function",re=fa(b)?Pe(b.length):[];return Vl(b,function(le){re[++j]=G?Pa(S,le,O):Ts(le,S,O)}),re}),$2=cb(function(b,S,O){Fa(b,O,S)});function Tg(b,S){var O=ln(b)?Kr:tb;return O(b,Wt(S,3))}function H2(b,S,O,j){return b==null?[]:(ln(S)||(S=S==null?[]:[S]),O=j?n:O,ln(O)||(O=O==null?[]:[O]),ib(b,S,O))}var F2=cb(function(b,S,O){b[O?0:1].push(S)},function(){return[[],[]]});function _b(b,S,O){var j=ln(b)?Px:Bx,G=arguments.length<3;return j(b,Wt(S,4),O,G,Vl)}function Yw(b,S,O){var j=ln(b)?Rk:Bx,G=arguments.length<3;return j(b,Wt(S,4),O,G,Xy)}function B3(b,S){var O=ln(b)?Mu:Zy;return O(b,Ob(Wt(S,3)))}function $3(b){var S=ln(b)?Ym:rw;return S(b)}function H3(b,S,O){(O?Do(b,S,O):S===n)?S=1:S=Jt(S);var j=ln(b)?Gy:iw;return j(b,S)}function U2(b){var S=ln(b)?Zk:n2;return S(b)}function z2(b){if(b==null)return 0;if(fa(b))return Pg(b)?bh(b):b.length;var S=vo(b);return S==Ve||S==xe?b.size:Uu(b).length}function Qh(b,S,O){var j=ln(b)?Lx:r2;return O&&Do(b,S,O)&&(S=n),j(b,Wt(S,3))}var Ab=hn(function(b,S){if(b==null)return[];var O=S.length;return O>1&&Do(b,S[0],S[1])?S=[]:O>2&&Do(S[0],S[1],S[2])&&(S=[S[0]]),ib(b,Fi(S,1),[])}),kg=zy||function(){return Hi.Date.now()};function V2(b,S){if(typeof S!="function")throw new Ba(a);return b=Jt(b),function(){if(--b<1)return S.apply(this,arguments)}}function Gw(b,S,O){return S=O?n:S,S=b&&S==null?b.length:S,qo(b,R,n,n,n,n,S)}function Kw(b,S){var O;if(typeof S!="function")throw new Ba(a);return b=Jt(b),function(){return--b>0&&(O=S.apply(this,arguments)),b<=1&&(S=n),O}}var Nb=hn(function(b,S,O){var j=w;if(O.length){var G=Mc(O,mi(Nb));j|=M}return qo(b,j,S,O,G)}),Xw=hn(function(b,S,O){var j=w|T;if(O.length){var G=Mc(O,mi(Xw));j|=M}return qo(S,j,b,O,G)});function _g(b,S,O){S=O?n:S;var j=qo(b,N,n,n,n,n,n,S);return j.placeholder=_g.placeholder,j}function Zw(b,S,O){S=O?n:S;var j=qo(b,I,n,n,n,n,n,S);return j.placeholder=Zw.placeholder,j}function Qw(b,S,O){var j,G,re,le,he,Ce,Ye=0,Ge=!1,et=!1,ht=!0;if(typeof b!="function")throw new Ba(a);S=Za(S)||0,Qr(O)&&(Ge=!!O.leading,et="maxWait"in O,re=et?hi(Za(O.maxWait)||0,S):re,ht="trailing"in O?!!O.trailing:ht);function Bt(zi){var Kc=j,gf=G;return j=G=n,Ye=zi,le=b.apply(gf,Kc),le}function en(zi){return Ye=zi,he=yg(Un,S),Ge?Bt(zi):le}function _n(zi){var Kc=zi-Ce,gf=zi-Ye,uz=S-Kc;return et?Oi(uz,re-gf):uz}function tn(zi){var Kc=zi-Ce,gf=zi-Ye;return Ce===n||Kc>=S||Kc<0||et&&gf>=re}function Un(){var zi=kg();if(tn(zi))return Qn(zi);he=yg(Un,_n(zi))}function Qn(zi){return he=n,ht&&j?Bt(zi):(j=G=n,le)}function dl(){he!==n&&tg(he),Ye=0,j=Ce=G=he=n}function Qa(){return he===n?le:Qn(kg())}function fl(){var zi=kg(),Kc=tn(zi);if(j=arguments,G=this,Ce=zi,Kc){if(he===n)return en(Ce);if(et)return tg(he),he=yg(Un,S),Bt(Ce)}return he===n&&(he=yg(Un,S)),le}return fl.cancel=dl,fl.flush=Qa,fl}var br=hn(function(b,S){return Qx(b,1,S)}),Jw=hn(function(b,S,O){return Qx(b,Za(S)||0,O)});function F3(b){return qo(b,B)}function Ag(b,S){if(typeof b!="function"||S!=null&&typeof S!="function")throw new Ba(a);var O=function(){var j=arguments,G=S?S.apply(this,j):j[0],re=O.cache;if(re.has(G))return re.get(G);var le=b.apply(this,j);return O.cache=re.set(G,le)||re,le};return O.cache=new(Ag.Cache||el),O}Ag.Cache=el;function Ob(b){if(typeof b!="function")throw new Ba(a);return function(){var S=arguments;switch(S.length){case 0:return!b.call(this);case 1:return!b.call(this,S[0]);case 2:return!b.call(this,S[0],S[1]);case 3:return!b.call(this,S[0],S[1],S[2])}return!b.apply(this,S)}}function U3(b){return Kw(2,b)}var z3=o2(function(b,S){S=S.length==1&&ln(S[0])?Kr(S[0],ja(Wt())):Kr(Fi(S,1),ja(Wt()));var O=S.length;return hn(function(j){for(var G=-1,re=Oi(j.length,O);++G<re;)j[G]=S[G].call(this,j[G]);return Pa(b,this,j)})}),Jh=hn(function(b,S){var O=Mc(S,mi(Jh));return qo(b,M,n,S,O)}),hf=hn(function(b,S){var O=Mc(S,mi(hf));return qo(b,A,n,S,O)}),eE=Wl(function(b,S){return qo(b,L,n,n,n,S)});function Mb(b,S){if(typeof b!="function")throw new Ba(a);return S=S===n?S:Jt(S),hn(b,S)}function tE(b,S){if(typeof b!="function")throw new Ba(a);return S=S==null?0:hi(Jt(S),0),hn(function(O){var j=O[S],G=al(O,0,S);return j&&Du(G,j),Pa(b,this,G)})}function Zu(b,S,O){var j=!0,G=!0;if(typeof b!="function")throw new Ba(a);return Qr(O)&&(j="leading"in O?!!O.leading:j,G="trailing"in O?!!O.trailing:G),Qw(b,S,{leading:j,maxWait:S,trailing:G})}function Kl(b){return Gw(b,1)}function Ng(b,S){return Jh(sb(S),b)}function V3(){if(!arguments.length)return[];var b=arguments[0];return ln(b)?b:[b]}function q2(b){return zo(b,m)}function W2(b,S){return S=typeof S=="function"?S:n,zo(b,m,S)}function Y2(b){return zo(b,u|m)}function G2(b,S){return S=typeof S=="function"?S:n,zo(b,u|m,S)}function q3(b,S){return S==null||$u(b,S,Ji(S))}function Ka(b,S){return b===S||b!==b&&S!==S}var K2=ag(Km),X2=ag(function(b,S){return b>=S}),pf=oa((function(){return arguments})())?oa:function(b){return gi(b)&&dr.call(b,"callee")&&!Fm.call(b,"callee")},ln=Pe.isArray,nE=_k?ja(_k):Si;function fa(b){return b!=null&&Ib(b.length)&&!Xa(b)}function Ti(b){return gi(b)&&fa(b)}function Og(b){return b===!0||b===!1||gi(b)&&bo(b)==ve}var Qu=Yk||De,Z2=Ak?ja(Ak):Jy;function Mn(b){return gi(b)&&b.nodeType===1&&!Dg(b)}function rE(b){if(b==null)return!0;if(fa(b)&&(ln(b)||typeof b=="string"||typeof b.splice=="function"||Qu(b)||Ju(b)||pf(b)))return!b.length;var S=vo(b);if(S==Ve||S==xe)return!b.size;if(qh(b))return!Uu(b).length;for(var O in b)if(dr.call(b,O))return!1;return!0}function Db(b,S){return za(b,S)}function iE(b,S,O){O=typeof O=="function"?O:n;var j=O?O(b,S):n;return j===n?za(b,S,n,O):!!j}function Rb(b){if(!gi(b))return!1;var S=bo(b);return S==Ke||S==je||typeof b.message=="string"&&typeof b.name=="string"&&!Dg(b)}function oE(b){return typeof b=="number"&&$a(b)}function Xa(b){if(!Qr(b))return!1;var S=bo(b);return S==Me||S==Lt||S==Ee||S==er}function Mg(b){return typeof b=="number"&&b==Jt(b)}function Ib(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=Z}function Qr(b){var S=typeof b;return b!=null&&(S=="object"||S=="function")}function gi(b){return b!=null&&typeof b=="object"}var Q2=Ay?ja(Ay):Er;function J2(b,S){return b===S||pi(b,S,pb(S))}function e_(b,S,O){return O=typeof O=="function"?O:n,pi(b,S,pb(S),O)}function Sr(b){return sE(b)&&b!=+b}function aE(b){if(Aw(b))throw new sn(o);return Zm(b)}function xo(b){return b===null}function W3(b){return b==null}function sE(b){return typeof b=="number"||gi(b)&&bo(b)==an}function Dg(b){if(!gi(b)||bo(b)!=Qt)return!1;var S=Fl(b);if(S===null)return!0;var O=dr.call(S,"constructor")&&S.constructor;return typeof O=="function"&&O instanceof O&&$y.call(O)==Fy}var Rg=Nk?ja(Nk):Lh;function lE(b){return Mg(b)&&b>=-Z&&b<=Z}var Ig=Ok?ja(Ok):lf;function Pg(b){return typeof b=="string"||!ln(b)&&gi(b)&&bo(b)==Te}function ha(b){return typeof b=="symbol"||gi(b)&&bo(b)==Je}var Ju=Mk?ja(Mk):eb;function cE(b){return b===n}function Y3(b){return gi(b)&&vo(b)==Qe}function t_(b){return gi(b)&&bo(b)==ge}var G3=ag(Zr),n_=ag(function(b,S){return b<=S});function r_(b){if(!b)return[];if(fa(b))return Pg(b)?ai(b):Vo(b);if(go&&b[go])return zx(b[go]());var S=vo(b),O=S==Ve?Py:S==xe?Ly:op;return O(b)}function Yc(b){if(!b)return b===0?b:0;if(b=Za(b),b===ne||b===-ne){var S=b<0?-1:1;return S*oe}return b===b?b:0}function Jt(b){var S=Yc(b),O=S%1;return S===S?O?S-O:S:0}function uE(b){return b?nl(Jt(b),0,Q):0}function Za(b){if(typeof b=="number")return b;if(ha(b))return K;if(Qr(b)){var S=typeof b.valueOf=="function"?b.valueOf():b;b=Qr(S)?S+"":S}if(typeof b!="string")return b===0?b:+b;b=Xd(b);var O=mo.test(b);return O||ar.test(b)?ky(b.slice(2),O?2:8):Ni.test(b)?K:+b}function Pb(b){return ks(b,pa(b))}function K3(b){return b?nl(Jt(b),-Z,Z):b===0?b:0}function hr(b){return b==null?"":aa(b)}var i_=zu(function(b,S){if(qh(S)||fa(S)){ks(S,Ji(S),b);return}for(var O in S)dr.call(S,O)&&tl(b,O,S[O])}),Lb=zu(function(b,S){ks(S,pa(S),b)}),ep=zu(function(b,S,O,j){ks(S,pa(S),b,j)}),X3=zu(function(b,S,O,j){ks(S,Ji(S),b,j)}),_s=Wl(Ih);function dE(b,S){var O=Lu(b);return S==null?O:Zx(O,S)}var o_=hn(function(b,S){b=gr(b);var O=-1,j=S.length,G=j>2?S[2]:n;for(G&&Do(S[0],S[1],G)&&(j=1);++O<j;)for(var re=S[O],le=pa(re),he=-1,Ce=le.length;++he<Ce;){var Ye=le[he],Ge=b[Ye];(Ge===n||Ka(Ge,wh[Ye])&&!dr.call(b,Ye))&&(b[Ye]=re[Ye])}return b}),a_=hn(function(b){return b.push(n,Ew),Pa(np,n,b)});function s_(b,S){return Ik(b,Wt(S,3),il)}function Lg(b,S){return Ik(b,Wt(S,3),Qy)}function As(b,S){return b==null?b:sf(b,Wt(S,3),pa)}function l_(b,S){return b==null?b:Ph(b,Wt(S,3),pa)}function jb(b,S){return b&&il(b,Wt(S,3))}function Gc(b,S){return b&&Qy(b,Wt(S,3))}function Z3(b){return b==null?[]:Bc(b,Ji(b))}function Q3(b){return b==null?[]:Bc(b,pa(b))}function ed(b,S,O){var j=b==null?n:ql(b,S);return j===n?O:j}function c_(b,S){return b!=null&&yb(b,S,Ua)}function fE(b,S){return b!=null&&yb(b,S,Cs)}var J3=ig(function(b,S,O){S!=null&&typeof S.toString!="function"&&(S=ra.call(S)),b[S]=O},sp(Wo)),eI=ig(function(b,S,O){S!=null&&typeof S.toString!="function"&&(S=ra.call(S)),dr.call(b,S)?b[S].push(O):b[S]=[O]},Wt),tI=hn(Ts);function Ji(b){return fa(b)?Yy(b):Uu(b)}function pa(b){return fa(b)?Yy(b,!0):A3(b)}function nI(b,S){var O={};return S=Wt(S,3),il(b,function(j,G,re){Fa(O,S(j,G,re),j)}),O}function u_(b,S){var O={};return S=Wt(S,3),il(b,function(j,G,re){Fa(O,G,S(j,G,re))}),O}var tp=zu(function(b,S,O){Qm(b,S,O)}),np=zu(function(b,S,O,j){Qm(b,S,O,j)}),d_=Wl(function(b,S){var O={};if(b==null)return O;var j=!1;S=Kr(S,function(re){return re=qa(re,b),j||(j=re.length>1),re}),ks(b,Cw(b),O),j&&(O=zo(O,u|p|m,h2));for(var G=S.length;G--;)Jm(O,S[G]);return O});function rI(b,S){return ip(b,Ob(Wt(S)))}var rp=Wl(function(b,S){return b==null?{}:tw(b,S)});function ip(b,S){if(b==null)return{};var O=Kr(Cw(b),function(j){return[j]});return S=Wt(S),Mo(b,O,function(j,G){return S(j,G[0])})}function f_(b,S,O){S=qa(S,b);var j=-1,G=S.length;for(G||(G=1,b=n);++j<G;){var re=b==null?n:b[sa(S[j])];re===n&&(j=G,re=O),b=Xa(re)?re.call(b):re}return b}function Bb(b,S,O){return b==null?b:Fh(b,S,O)}function hE(b,S,O,j){return j=typeof j=="function"?j:n,b==null?b:Fh(b,S,O,j)}var $b=xw(Ji),jg=xw(pa);function h_(b,S,O){var j=ln(b),G=j||Qu(b)||Ju(b);if(S=Wt(S,4),O==null){var re=b&&b.constructor;G?O=j?new re:[]:Qr(b)?O=Xa(re)?Lu(Fl(b)):{}:O={}}return(G?La:il)(b,function(le,he,Ce){return S(O,le,he,Ce)}),O}function p_(b,S){return b==null?!0:Jm(b,S)}function iI(b,S,O){return b==null?b:sw(b,S,sb(O))}function m_(b,S,O,j){return j=typeof j=="function"?j:n,b==null?b:sw(b,S,sb(O),j)}function op(b){return b==null?[]:$x(b,Ji(b))}function pE(b){return b==null?[]:$x(b,pa(b))}function oI(b,S,O){return O===n&&(O=S,S=n),O!==n&&(O=Za(O),O=O===O?O:0),S!==n&&(S=Za(S),S=S===S?S:0),nl(Za(b),S,O)}function Hb(b,S,O){return S=Yc(S),O===n?(O=S,S=0):O=Yc(O),b=Za(b),Fu(b,S,O)}function Fb(b,S,O){if(O&&typeof O!="boolean"&&Do(b,S,O)&&(S=O=n),O===n&&(typeof S=="boolean"?(O=S,S=n):typeof b=="boolean"&&(O=b,b=n)),b===n&&S===n?(b=0,S=1):(b=Yc(b),S===n?(S=b,b=0):S=Yc(S)),b>S){var j=b;b=S,S=j}if(O||b%1||S%1){var G=Ic();return Oi(b+G*(S-b+Gd("1e-"+((G+"").length-1))),S)}return Hh(b,S)}var Ub=cf(function(b,S,O){return S=S.toLowerCase(),b+(O?g_(S):S)});function g_(b){return mf(hr(b).toLowerCase())}function ap(b){return b=hr(b),b&&b.replace(fs,$m).replace(Tk,"")}function aI(b,S,O){b=hr(b),S=aa(S);var j=b.length;O=O===n?j:nl(Jt(O),0,j);var G=O;return O-=S.length,O>=0&&b.slice(O,G)==S}function y_(b){return b=hr(b),b&&xt.test(b)?b.replace(jt,x3):b}function b_(b){return b=hr(b),b&&Xe.test(b)?b.replace(Re,"\\$&"):b}var v_=cf(function(b,S,O){return b+(O?"-":"")+S.toLowerCase()}),x_=cf(function(b,S,O){return b+(O?" ":"")+S.toLowerCase()}),mE=bw("toLowerCase");function w_(b,S,O){b=hr(b),S=Jt(S);var j=S?bh(b):0;if(!S||j>=S)return b;var G=(S-j)/2;return Vu(Um(G),O)+b+Vu(Ch(G),O)}function E_(b,S,O){b=hr(b),S=Jt(S);var j=S?bh(b):0;return S&&j<S?b+Vu(S-j,O):b}function zb(b,S,O){b=hr(b),S=Jt(S);var j=S?bh(b):0;return S&&j<S?Vu(S-j,O)+b:b}function sI(b,S,O){return O||S==null?S=0:S&&(S=+S),bs(hr(b).replace(nt,""),S||0)}function lI(b,S,O){return(O?Do(b,S,O):S===n)?S=1:S=Jt(S),ol(hr(b),S)}function gE(){var b=arguments,S=hr(b[0]);return b.length<3?S:S.replace(b[1],b[2])}var yE=cf(function(b,S,O){return b+(O?"_":"")+S.toLowerCase()});function Vb(b,S,O){return O&&typeof O!="number"&&Do(b,S,O)&&(S=O=n),O=O===n?Q:O>>>0,O?(b=hr(b),b&&(typeof S=="string"||S!=null&&!Rg(S))&&(S=aa(S),!S&&Zd(b))?al(ai(b),0,O):b.split(S,O)):[]}var bE=cf(function(b,S,O){return b+(O?" ":"")+mf(S)});function S_(b,S,O){return b=hr(b),O=O==null?0:nl(Jt(O),0,b.length),S=aa(S),b.slice(O,O+S.length)==S}function vE(b,S,O){var j=ee.templateSettings;O&&Do(b,S,O)&&(S=n),b=hr(b),S=ep({},S,j,ww);var G=ep({},S.imports,j.imports,ww),re=Ji(G),le=$x(G,re),he,Ce,Ye=0,Ge=S.interpolate||Zi,et="__p += '",ht=jy((S.escape||Zi).source+"|"+Ge.source+"|"+(Ge===Hn?xn:Zi).source+"|"+(S.evaluate||Zi).source+"|$","g"),Bt="//# sourceURL="+(dr.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ix+"]")+`
`;b.replace(ht,function(tn,Un,Qn,dl,Qa,fl){return Qn||(Qn=dl),et+=b.slice(Ye,fl).replace(Oo,Iy),Un&&(he=!0,et+=`' +
__e(`+Un+`) +
'`),Qa&&(Ce=!0,et+=`';
`+Qa+`;
__p += '`),Qn&&(et+=`' +
((__t = (`+Qn+`)) == null ? '' : __t) +
'`),Ye=fl+tn.length,tn}),et+=`';
`;var en=dr.call(S,"variable")&&S.variable;if(!en)et=`with (obj) {
`+et+`
}
`;else if(ft.test(en))throw new sn(s);et=(Ce?et.replace(Tt,""):et).replace(lt,"$1").replace(ct,"$1;"),et="function("+(en||"obj")+`) {
`+(en?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(he?", __e = _.escape":"")+(Ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var _n=xE(function(){return Nn(re,Bt+"return "+et).apply(n,le)});if(_n.source=et,Rb(_n))throw _n;return _n}function td(b){return hr(b).toLowerCase()}function nd(b){return hr(b).toUpperCase()}function rd(b,S,O){if(b=hr(b),b&&(O||S===n))return Xd(b);if(!b||!(S=aa(S)))return b;var j=ai(b),G=ai(S),re=Hx(j,G),le=Fx(j,G)+1;return al(j,re,le).join("")}function Bg(b,S,O){if(b=hr(b),b&&(O||S===n))return b.slice(0,vh(b)+1);if(!b||!(S=aa(S)))return b;var j=ai(b),G=Fx(j,ai(S))+1;return al(j,0,G).join("")}function $g(b,S,O){if(b=hr(b),b&&(O||S===n))return b.replace(nt,"");if(!b||!(S=aa(S)))return b;var j=ai(b),G=Hx(j,ai(S));return al(j,G).join("")}function id(b,S){var O=$,j=W;if(Qr(S)){var G="separator"in S?S.separator:G;O="length"in S?Jt(S.length):O,j="omission"in S?aa(S.omission):j}b=hr(b);var re=b.length;if(Zd(b)){var le=ai(b);re=le.length}if(O>=re)return b;var he=O-bh(j);if(he<1)return j;var Ce=le?al(le,0,he).join(""):b.slice(0,he);if(G===n)return Ce+j;if(le&&(he+=Ce.length-he),Rg(G)){if(b.slice(he).search(G)){var Ye,Ge=Ce;for(G.global||(G=jy(G.source,hr(mr.exec(G))+"g")),G.lastIndex=0;Ye=G.exec(Ge);)var et=Ye.index;Ce=Ce.slice(0,et===n?he:et)}}else if(b.indexOf(aa(G),he)!=he){var ht=Ce.lastIndexOf(G);ht>-1&&(Ce=Ce.slice(0,ht))}return Ce+j}function cI(b){return b=hr(b),b&&vt.test(b)?b.replace(kt,$k):b}var C_=cf(function(b,S,O){return b+(O?" ":"")+S.toUpperCase()}),mf=bw("toUpperCase");function T_(b,S,O){return b=hr(b),S=O?n:S,S===n?Ux(b)?Uk(b):b3(b):b.match(S)||[]}var xE=hn(function(b,S){try{return Pa(b,n,S)}catch(O){return Rb(O)?O:new sn(O)}}),qb=Wl(function(b,S){return La(S,function(O){O=sa(O),Fa(b,O,Nb(b[O],b))}),b});function k_(b){var S=b==null?0:b.length,O=Wt();return b=S?Kr(b,function(j){if(typeof j[1]!="function")throw new Ba(a);return[O(j[0]),j[1]]}):[],hn(function(j){for(var G=-1;++G<S;){var re=b[G];if(Pa(re[0],this,j))return Pa(re[1],this,j)}})}function uI(b){return Jk(zo(b,u))}function sp(b){return function(){return b}}function Wb(b,S){return b==null||b!==b?S:b}var __=zh(),lp=zh(!0);function Wo(b){return b}function Hg(b){return jh(typeof b=="function"?b:zo(b,u))}function Yb(b){return nb(zo(b,u))}function A_(b,S){return ew(b,zo(S,u))}var dI=hn(function(b,S){return function(O){return Ts(O,b,S)}}),Gb=hn(function(b,S){return function(O){return Ts(b,O,S)}});function f(b,S,O){var j=Ji(S),G=Bc(S,j);O==null&&!(Qr(S)&&(G.length||!j.length))&&(O=S,S=b,b=this,G=Bc(S,Ji(S)));var re=!(Qr(O)&&"chain"in O)||!!O.chain,le=Xa(b);return La(G,function(he){var Ce=S[he];b[he]=Ce,le&&(b.prototype[he]=function(){var Ye=this.__chain__;if(re||Ye){var Ge=b(this.__wrapped__),et=Ge.__actions__=Vo(this.__actions__);return et.push({func:Ce,args:arguments,thisArg:b}),Ge.__chain__=Ye,Ge}return Ce.apply(b,Du([this.value()],arguments))})}),b}function h(){return Hi._===this&&(Hi._=ms),this}function y(){}function E(b){return b=Jt(b),hn(function(S){return rb(S,b)})}var _=ub(Kr),D=ub(Dk),H=ub(Lx);function J(b){return hg(b)?Kd(sa(b)):Ci(b)}function de(b){return function(S){return b==null?n:ql(b,S)}}var Oe=db(),Ue=db(!0);function We(){return[]}function De(){return!1}function Le(){return{}}function wt(){return""}function Yt(){return!0}function Cr(b,S){if(b=Jt(b),b<1||b>Z)return[];var O=Q,j=Oi(b,Q);S=Wt(S),b-=Q;for(var G=Ry(j,S);++O<b;)S(O);return G}function Se(b){return ln(b)?Kr(b,sa):ha(b)?[b]:Vo(Mw(hr(b)))}function pe(b){var S=++Vk;return hr(b)+S}var Ne=og(function(b,S){return b+S},0),qe=sg("ceil"),Ft=og(function(b,S){return b/S},1),tr=sg("floor");function Dt(b){return b&&b.length?rl(b,Wo,Km):n}function bn(b,S){return b&&b.length?rl(b,Wt(S,2),Km):n}function Pn(b){return My(b,Wo)}function nr(b,S){return My(b,Wt(S,2))}function od(b){return b&&b.length?rl(b,Wo,Zr):n}function fI(b,S){return b&&b.length?rl(b,Wt(S,2),Zr):n}var D1e=og(function(b,S){return b*S},1),R1e=sg("round"),I1e=og(function(b,S){return b-S},0);function P1e(b){return b&&b.length?Dy(b,Wo):0}function L1e(b,S){return b&&b.length?Dy(b,Wt(S,2)):0}return ee.after=V2,ee.ary=Gw,ee.assign=i_,ee.assignIn=Lb,ee.assignInWith=ep,ee.assignWith=X3,ee.at=_s,ee.before=Kw,ee.bind=Nb,ee.bindAll=qb,ee.bindKey=Xw,ee.castArray=V3,ee.chain=Sg,ee.chunk=w2,ee.compact=Dw,ee.concat=Rw,ee.cond=k_,ee.conforms=uI,ee.constant=sp,ee.countBy=I2,ee.create=dE,ee.curry=_g,ee.curryRight=Zw,ee.debounce=Qw,ee.defaults=o_,ee.defaultsDeep=a_,ee.defer=br,ee.delay=Jw,ee.difference=Eb,ee.differenceBy=E2,ee.differenceWith=Uc,ee.drop=Ri,ee.dropRight=Iw,ee.dropRightWhile=S2,ee.dropWhile=Qi,ee.fill=I3,ee.filter=qw,ee.flatMap=da,ee.flatMapDeep=L2,ee.flatMapDepth=j2,ee.flatten=$r,ee.flattenDeep=la,ee.flattenDepth=zc,ee.flip=F3,ee.flow=__,ee.flowRight=lp,ee.fromPairs=C2,ee.functions=Z3,ee.functionsIn=Q3,ee.groupBy=kb,ee.initial=P3,ee.intersection=Sb,ee.intersectionBy=ca,ee.intersectionWith=ll,ee.invert=J3,ee.invertBy=eI,ee.invokeMap=Zh,ee.iteratee=Hg,ee.keyBy=$2,ee.keys=Ji,ee.keysIn=pa,ee.map=Tg,ee.mapKeys=nI,ee.mapValues=u_,ee.matches=Yb,ee.matchesProperty=A_,ee.memoize=Ag,ee.merge=tp,ee.mergeWith=np,ee.method=dI,ee.methodOf=Gb,ee.mixin=f,ee.negate=Ob,ee.nthArg=E,ee.omit=d_,ee.omitBy=rI,ee.once=U3,ee.orderBy=H2,ee.over=_,ee.overArgs=z3,ee.overEvery=D,ee.overSome=H,ee.partial=Jh,ee.partialRight=hf,ee.partition=F2,ee.pick=rp,ee.pickBy=ip,ee.property=J,ee.propertyOf=de,ee.pull=uf,ee.pullAll=Gl,ee.pullAllBy=Bw,ee.pullAllWith=$w,ee.pullAt=cl,ee.range=Oe,ee.rangeRight=Ue,ee.rearg=eE,ee.reject=B3,ee.remove=A2,ee.rest=Mb,ee.reverse=Wu,ee.sampleSize=H3,ee.set=Bb,ee.setWith=hE,ee.shuffle=U2,ee.slice=vg,ee.sortBy=Ab,ee.sortedUniq=Cb,ee.sortedUniqBy=D2,ee.split=Vb,ee.spread=tE,ee.tail=L3,ee.take=j3,ee.takeRight=sr,ee.takeRightWhile=Nr,ee.takeWhile=On,ee.tap=R2,ee.throttle=Zu,ee.thru=ff,ee.toArray=r_,ee.toPairs=$b,ee.toPairsIn=jg,ee.toPath=Se,ee.toPlainObject=Pb,ee.transform=h_,ee.unary=Kl,ee.union=In,ee.unionBy=yr,ee.unionWith=Wa,ee.uniq=Yu,ee.uniqBy=Gh,ee.uniqWith=Hw,ee.unset=p_,ee.unzip=ul,ee.unzipWith=li,ee.update=iI,ee.updateWith=m_,ee.values=op,ee.valuesIn=pE,ee.without=Gu,ee.words=T_,ee.wrap=Ng,ee.xor=df,ee.xorBy=Fw,ee.xorWith=Ya,ee.zip=Kh,ee.zipObject=Eg,ee.zipObjectDeep=ua,ee.zipWith=Uw,ee.entries=$b,ee.entriesIn=jg,ee.extend=Lb,ee.extendWith=ep,f(ee,ee),ee.add=Ne,ee.attempt=xE,ee.camelCase=Ub,ee.capitalize=g_,ee.ceil=qe,ee.clamp=oI,ee.clone=q2,ee.cloneDeep=Y2,ee.cloneDeepWith=G2,ee.cloneWith=W2,ee.conformsTo=q3,ee.deburr=ap,ee.defaultTo=Wb,ee.divide=Ft,ee.endsWith=aI,ee.eq=Ka,ee.escape=y_,ee.escapeRegExp=b_,ee.every=Cg,ee.find=Ga,ee.findIndex=Pw,ee.findKey=s_,ee.findLast=P2,ee.findLastIndex=Lw,ee.findLastKey=Lg,ee.floor=tr,ee.forEach=B2,ee.forEachRight=Wc,ee.forIn=As,ee.forInRight=l_,ee.forOwn=jb,ee.forOwnRight=Gc,ee.get=ed,ee.gt=K2,ee.gte=X2,ee.has=c_,ee.hasIn=fE,ee.head=jw,ee.identity=Wo,ee.includes=Ww,ee.indexOf=T2,ee.inRange=Hb,ee.invoke=tI,ee.isArguments=pf,ee.isArray=ln,ee.isArrayBuffer=nE,ee.isArrayLike=fa,ee.isArrayLikeObject=Ti,ee.isBoolean=Og,ee.isBuffer=Qu,ee.isDate=Z2,ee.isElement=Mn,ee.isEmpty=rE,ee.isEqual=Db,ee.isEqualWith=iE,ee.isError=Rb,ee.isFinite=oE,ee.isFunction=Xa,ee.isInteger=Mg,ee.isLength=Ib,ee.isMap=Q2,ee.isMatch=J2,ee.isMatchWith=e_,ee.isNaN=Sr,ee.isNative=aE,ee.isNil=W3,ee.isNull=xo,ee.isNumber=sE,ee.isObject=Qr,ee.isObjectLike=gi,ee.isPlainObject=Dg,ee.isRegExp=Rg,ee.isSafeInteger=lE,ee.isSet=Ig,ee.isString=Pg,ee.isSymbol=ha,ee.isTypedArray=Ju,ee.isUndefined=cE,ee.isWeakMap=Y3,ee.isWeakSet=t_,ee.join=k2,ee.kebabCase=v_,ee.last=Hr,ee.lastIndexOf=_2,ee.lowerCase=x_,ee.lowerFirst=mE,ee.lt=G3,ee.lte=n_,ee.max=Dt,ee.maxBy=bn,ee.mean=Pn,ee.meanBy=nr,ee.min=od,ee.minBy=fI,ee.stubArray=We,ee.stubFalse=De,ee.stubObject=Le,ee.stubString=wt,ee.stubTrue=Yt,ee.multiply=D1e,ee.nth=Vc,ee.noConflict=h,ee.noop=y,ee.now=kg,ee.pad=w_,ee.padEnd=E_,ee.padStart=zb,ee.parseInt=sI,ee.random=Fb,ee.reduce=_b,ee.reduceRight=Yw,ee.repeat=lI,ee.replace=gE,ee.result=f_,ee.round=R1e,ee.runInContext=be,ee.sample=$3,ee.size=z2,ee.snakeCase=yE,ee.some=Qh,ee.sortedIndex=xg,ee.sortedIndexBy=Yh,ee.sortedIndexOf=N2,ee.sortedLastIndex=O2,ee.sortedLastIndexBy=wg,ee.sortedLastIndexOf=M2,ee.startCase=bE,ee.startsWith=S_,ee.subtract=I1e,ee.sum=P1e,ee.sumBy=L1e,ee.template=vE,ee.times=Cr,ee.toFinite=Yc,ee.toInteger=Jt,ee.toLength=uE,ee.toLower=td,ee.toNumber=Za,ee.toSafeInteger=K3,ee.toString=hr,ee.toUpper=nd,ee.trim=rd,ee.trimEnd=Bg,ee.trimStart=$g,ee.truncate=id,ee.unescape=cI,ee.uniqueId=pe,ee.upperCase=C_,ee.upperFirst=mf,ee.each=B2,ee.eachRight=Wc,ee.first=jw,f(ee,(function(){var b={};return il(ee,function(S,O){dr.call(ee.prototype,O)||(b[O]=S)}),b})(),{chain:!1}),ee.VERSION=r,La(["bind","bindKey","curry","curryRight","partial","partialRight"],function(b){ee[b].placeholder=ee}),La(["drop","take"],function(b,S){dn.prototype[b]=function(O){O=O===n?1:hi(Jt(O),0);var j=this.__filtered__&&!S?new dn(this):this.clone();return j.__filtered__?j.__takeCount__=Oi(O,j.__takeCount__):j.__views__.push({size:Oi(O,Q),type:b+(j.__dir__<0?"Right":"")}),j},dn.prototype[b+"Right"]=function(O){return this.reverse()[b](O).reverse()}}),La(["filter","map","takeWhile"],function(b,S){var O=S+1,j=O==U||O==q;dn.prototype[b]=function(G){var re=this.clone();return re.__iteratees__.push({iteratee:Wt(G,3),type:O}),re.__filtered__=re.__filtered__||j,re}}),La(["head","last"],function(b,S){var O="take"+(S?"Right":"");dn.prototype[b]=function(){return this[O](1).value()[0]}}),La(["initial","tail"],function(b,S){var O="drop"+(S?"":"Right");dn.prototype[b]=function(){return this.__filtered__?new dn(this):this[O](1)}}),dn.prototype.compact=function(){return this.filter(Wo)},dn.prototype.find=function(b){return this.filter(b).head()},dn.prototype.findLast=function(b){return this.reverse().find(b)},dn.prototype.invokeMap=hn(function(b,S){return typeof b=="function"?new dn(this):this.map(function(O){return Ts(O,b,S)})}),dn.prototype.reject=function(b){return this.filter(Ob(Wt(b)))},dn.prototype.slice=function(b,S){b=Jt(b);var O=this;return O.__filtered__&&(b>0||S<0)?new dn(O):(b<0?O=O.takeRight(-b):b&&(O=O.drop(b)),S!==n&&(S=Jt(S),O=S<0?O.dropRight(-S):O.take(S-b)),O)},dn.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()},dn.prototype.toArray=function(){return this.take(Q)},il(dn.prototype,function(b,S){var O=/^(?:filter|find|map|reject)|While$/.test(S),j=/^(?:head|last)$/.test(S),G=ee[j?"take"+(S=="last"?"Right":""):S],re=j||/^find/.test(S);G&&(ee.prototype[S]=function(){var le=this.__wrapped__,he=j?[1]:arguments,Ce=le instanceof dn,Ye=he[0],Ge=Ce||ln(le),et=function(Un){var Qn=G.apply(ee,Du([Un],he));return j&&ht?Qn[0]:Qn};Ge&&O&&typeof Ye=="function"&&Ye.length!=1&&(Ce=Ge=!1);var ht=this.__chain__,Bt=!!this.__actions__.length,en=re&&!ht,_n=Ce&&!Bt;if(!re&&Ge){le=_n?le:new dn(this);var tn=b.apply(le,he);return tn.__actions__.push({func:ff,args:[et],thisArg:n}),new ia(tn,ht)}return en&&_n?b.apply(this,he):(tn=this.thru(et),en?j?tn.value()[0]:tn.value():tn)})}),La(["pop","push","shift","sort","splice","unshift"],function(b){var S=Hm[b],O=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",j=/^(?:pop|shift)$/.test(b);ee.prototype[b]=function(){var G=arguments;if(j&&!this.__chain__){var re=this.value();return S.apply(ln(re)?re:[],G)}return this[O](function(le){return S.apply(ln(le)?le:[],G)})}}),il(dn.prototype,function(b,S){var O=ee[S];if(O){var j=O.name+"";dr.call(fr,j)||(fr[j]=[]),fr[j].push({name:S,func:O})}}),fr[Vh(n,T).name]=[{name:"wrapper",func:n}],dn.prototype.clone=Pc,dn.prototype.reverse=Bu,dn.prototype.value=Lc,ee.prototype.at=Tb,ee.prototype.chain=Ku,ee.prototype.commit=Ui,ee.prototype.next=Xu,ee.prototype.plant=qc,ee.prototype.reverse=zw,ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=Vw,ee.prototype.first=ee.prototype.head,go&&(ee.prototype[go]=Xh),ee}),xh=qx();Qs?((Qs.exports=xh)._=xh,Im._=xh):Hi._=xh}).call(RTe)})(nS,nS.exports)),nS.exports}var Tv=ITe();async function ao(e,t){const n=localStorage.getItem("auth-storage");let r=null;if(n)try{r=JSON.parse(n).state?.token||null}catch{}const i=new Headers(t?.headers);r&&i.set("Authorization",`Bearer ${r}`);const o=await fetch(e,{...t,headers:i});if(o.status===401)throw localStorage.removeItem("auth-storage"),localStorage.removeItem("auth_token"),localStorage.removeItem("username"),window.location.href="/login",new Error("Authentication required. Redirecting to login...");return o}const VA={getFlowLabels:async()=>await(await ao("/api/flows/labels")).json(),getFlowTenants:async()=>await(await ao("/api/flows/tenants")).json(),getMetricsLabels:async()=>await(await ao("/api/metrics/labels")).json(),getAll:async()=>{const[e,t,n]=await Promise.all([VA.getFlowLabels(),VA.getFlowTenants(),VA.getMetricsLabels()]),r=n.filter(s=>s.label==="tenant").flatMap(s=>s.values),i=n.filter(s=>s.label!=="tenant"),o=Tv.groupBy([...e,...i],s=>s.label),a=Tv.uniq([...t,...r]);return{labels:Object.entries(o).map(([s,l])=>({label:s,values:Tv.uniq(Tv.flatMap(l,c=>c.values))})).sort((s,l)=>s.label.localeCompare(l.label)),tenants:a.sort()}}},fu=ST()(oD(e=>({labels:[],tenants:[],loading:!1,error:null,fetchLabelsAndTenants:async()=>{e({loading:!0,error:null});const t=await VA.getAll();e({labels:t.labels,tenants:t.tenants,loading:!1})}}),{name:"labels"})),aD=ST(e=>({sidebarCollapsed:!1,toggleSidebar:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setSidebarCollapsed:t=>e({sidebarCollapsed:t})}));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PTe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LTe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),gV=e=>{const t=LTe(e);return t.charAt(0).toUpperCase()+t.slice(1)},Mie=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),jTe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BTe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Te=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>C.createElement("svg",{ref:l,...BTe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Mie("lucide",i),...!o&&!jTe(s)&&{"aria-hidden":"true"},...s},[...a.map(([c,d])=>C.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(e,t)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement($Te,{ref:o,iconNode:t,className:Mie(`lucide-${PTe(gV(e))}`,`lucide-${e}`,r),...i}));return n.displayName=gV(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HTe=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],FTe=pt("audio-lines",HTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UTe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zTe=pt("book-open",UTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VTe=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Die=pt("building-2",VTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qTe=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],WTe=pt("calendar-clock",qTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YTe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rie=pt("calendar",YTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GTe=[["path",{d:"M15 11h4.5a1 1 0 0 1 0 5h-4a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h3a1 1 0 0 1 0 5",key:"nxs35"}],["path",{d:"m2 16 4.039-9.69a.5.5 0 0 1 .923 0L11 16",key:"d5nyq2"}],["path",{d:"M3.304 13h6.392",key:"1q3zxz"}]],AH=pt("case-upper",GTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KTe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],XTe=pt("chart-column",KTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZTe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],NH=pt("chart-line",ZTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QTe=[["path",{d:"M6 5h12",key:"fvfigv"}],["path",{d:"M4 12h10",key:"oujl3d"}],["path",{d:"M12 19h8",key:"baeox8"}]],Iie=pt("chart-no-axes-gantt",QTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JTe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qv=pt("check",JTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eke=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],CT=pt("chevron-down",eke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tke=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Pie=pt("chevron-left",tke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nke=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OH=pt("chevron-right",nke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rke=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ike=pt("chevron-up",rke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oke=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ake=pt("chevrons-right",oke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ske=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Lie=pt("chevrons-up-down",ske);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cke=pt("circle-check",lke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],sD=pt("circle-dot",uke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],z_=pt("circle-question-mark",dke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hke=pt("circle-x",fke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jie=pt("circle",pke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mke=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qp=pt("clock",mke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gke=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],yke=pt("code",gke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Bie=pt("columns-2",bke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],$ie=pt("columns-3",vke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xke=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],wke=pt("copy",xke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eke=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],Ske=pt("corner-down-right",Eke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cke=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Hie=pt("database",Cke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tke=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nc=pt("eye-off",Tke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kke=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rc=pt("eye",kke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ke=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Ake=pt("file",_ke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Oke=pt("globe",Nke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mke=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Dke=pt("grip-vertical",Mke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rke=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Fie=pt("hash",Rke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ike=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],yV=pt("heading-1",Ike);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],bV=pt("heading-2",Pke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],vV=pt("heading-3",Lke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jke=[["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v3a1 1 0 0 0 1 1h3",key:"tj5zdr"}],["path",{d:"M21 10v8",key:"1kdml4"}],["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}]],Bke=pt("heading-4",jke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]],Hke=pt("heading-5",$ke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]],Uke=pt("heading-6",Fke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zke=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Vke=pt("history",zke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qke=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Uie=pt("house",qke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Yke=pt("image",Wke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gke=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Kke=pt("layout-grid",Gke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xke=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Zke=pt("list-checks",Xke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qke=[["path",{d:"M10 5h11",key:"1hkqpe"}],["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 19h11",key:"14g2nv"}],["path",{d:"m3 10 3-3-3-3",key:"i7pm08"}],["path",{d:"m3 20 3-3-3-3",key:"20gx1n"}]],zie=pt("list-collapse",Qke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jke=[["path",{d:"M12 5H2",key:"1o22fu"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 8V2",key:"1wcffq"}]],e2e=pt("list-filter-plus",Jke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2e=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],n2e=pt("list-ordered",t2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2e=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],i2e=pt("list",r2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2e=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Vie=pt("loader",o2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2e=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],s2e=pt("lock",a2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2e=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],c2e=pt("log-out",l2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2e=[["path",{d:"M5 12h14",key:"1ays0h"}]],d2e=pt("minus",u2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2e=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],h2e=pt("paintbrush",f2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],MH=pt("panel-left",p2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2e=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],g2e=pt("pilcrow",m2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],DH=pt("plus",y2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2e=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],v2e=pt("quote",b2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2e=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],w2e=pt("rectangle-ellipsis",x2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qie=pt("search",E2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2e=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C2e=pt("settings",S2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],k2e=pt("smile",T2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],A2e=pt("square-dot",_2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2e=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],O2e=pt("square-play",N2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2e=[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]],D2e=pt("square-stack",M2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2e=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],I2e=pt("table-2",R2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2e=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],L2e=pt("table",P2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2e=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],B2e=pt("tag",j2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2e=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],TT=pt("tags",$2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2e=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],lD=pt("timer",H2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wie=pt("trash-2",F2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2e=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],z2e=pt("trash",U2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2e=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Yie=pt("workflow",V2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],RH=pt("x",q2e),Go=[];for(let e=0;e<256;++e)Go.push((e+256).toString(16).slice(1));function W2e(e,t=0){return(Go[e[t+0]]+Go[e[t+1]]+Go[e[t+2]]+Go[e[t+3]]+"-"+Go[e[t+4]]+Go[e[t+5]]+"-"+Go[e[t+6]]+Go[e[t+7]]+"-"+Go[e[t+8]]+Go[e[t+9]]+"-"+Go[e[t+10]]+Go[e[t+11]]+Go[e[t+12]]+Go[e[t+13]]+Go[e[t+14]]+Go[e[t+15]]).toLowerCase()}let BI;const Y2e=new Uint8Array(16);function G2e(){if(!BI){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");BI=crypto.getRandomValues.bind(crypto)}return BI(Y2e)}const K2e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xV={randomUUID:K2e};function X2e(e,t,n){e=e||{};const r=e.random??e.rng?.()??G2e();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,W2e(r)}function Z2e(e,t,n){return xV.randomUUID&&!e?xV.randomUUID():X2e(e)}var Q2e=Symbol("radix.slottable");function J2e(e){const t=({children:n})=>g.jsx(g.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Q2e,t}var Gie="AlertDialog",[e_e]=us(Gie,[Vre]),ah=Vre(),Kie=e=>{const{__scopeAlertDialog:t,...n}=e,r=ah(t);return g.jsx(bT,{...r,...n,modal:!0})};Kie.displayName=Gie;var t_e="AlertDialogTrigger",n_e=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ah(n);return g.jsx(dCe,{...i,...r,ref:t})});n_e.displayName=t_e;var r_e="AlertDialogPortal",Xie=e=>{const{__scopeAlertDialog:t,...n}=e,r=ah(t);return g.jsx(vT,{...r,...n})};Xie.displayName=r_e;var i_e="AlertDialogOverlay",Zie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ah(n);return g.jsx(Z1,{...i,...r,ref:t})});Zie.displayName=i_e;var Pv="AlertDialogContent",[o_e,a_e]=e_e(Pv),s_e=J2e("AlertDialogContent"),Qie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=ah(n),a=C.useRef(null),s=wn(t,a),l=C.useRef(null);return g.jsx(sCe,{contentName:Pv,titleName:Jie,docsSlug:"alert-dialog",children:g.jsx(o_e,{scope:n,cancelRef:l,children:g.jsxs(Q1,{role:"alertdialog",...o,...i,ref:s,onOpenAutoFocus:ut(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[g.jsx(s_e,{children:r}),g.jsx(c_e,{contentRef:a})]})})})});Qie.displayName=Pv;var Jie="AlertDialogTitle",eoe=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ah(n);return g.jsx(xT,{...i,...r,ref:t})});eoe.displayName=Jie;var toe="AlertDialogDescription",noe=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ah(n);return g.jsx(wT,{...i,...r,ref:t})});noe.displayName=toe;var l_e="AlertDialogAction",roe=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ah(n);return g.jsx(iD,{...i,...r,ref:t})});roe.displayName=l_e;var ioe="AlertDialogCancel",ooe=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=a_e(ioe,n),o=ah(n),a=wn(t,i);return g.jsx(iD,{...o,...r,ref:a})});ooe.displayName=ioe;var c_e=({contentRef:e})=>{const t=`\`${Pv}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Pv}\` by passing a \`${toe}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},u_e=Kie,d_e=Xie,aoe=Zie,soe=Qie,loe=roe,coe=ooe,uoe=eoe,doe=noe,f_e=Symbol.for("react.lazy"),gN=hT[" use ".trim().toString()];function h_e(e){return typeof e=="object"&&e!==null&&"then"in e}function foe(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===f_e&&"_payload"in e&&h_e(e._payload)}function p_e(e){const t=m_e(e),n=C.forwardRef((r,i)=>{let{children:o,...a}=r;foe(o)&&typeof gN=="function"&&(o=gN(o._payload));const s=C.Children.toArray(o),l=s.find(y_e);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var IH=p_e("Slot");function m_e(e){const t=C.forwardRef((n,r)=>{let{children:i,...o}=n;if(foe(i)&&typeof gN=="function"&&(i=gN(i._payload)),C.isValidElement(i)){const a=v_e(i),s=b_e(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var g_e=Symbol("radix.slottable");function y_e(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===g_e}function b_e(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function v_e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const wV=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,EV=Xn,J0=(e,t)=>n=>{var r;if(t?.variants==null)return EV(e,n?.class,n?.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(c=>{const d=n?.[c],u=o?.[c];if(d===null)return null;const p=wV(d)||wV(u);return i[c][p]}),s=n&&Object.entries(n).reduce((c,d)=>{let[u,p]=d;return p===void 0||(c[u]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:p,...m}=d;return Object.entries(m).every(v=>{let[x,w]=v;return Array.isArray(w)?w.includes({...o,...s}[x]):{...o,...s}[x]===w})?[...c,u,p]:c},[]);return EV(e,a,l,n?.class,n?.className)},KS=J0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function ni({className:e,variant:t,size:n,asChild:r=!1,...i}){const o=r?IH:"button";return g.jsx(o,{"data-slot":"button",className:Ie(KS({variant:t,size:n,className:e})),...i})}const x_e=u_e,w_e=d_e,hoe=C.forwardRef(({className:e,...t},n)=>g.jsx(aoe,{className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));hoe.displayName=aoe.displayName;const poe=C.forwardRef(({className:e,...t},n)=>g.jsxs(w_e,{children:[g.jsx(hoe,{}),g.jsx(soe,{ref:n,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));poe.displayName=soe.displayName;const moe=({className:e,...t})=>g.jsx("div",{className:Ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});moe.displayName="AlertDialogHeader";const goe=({className:e,...t})=>g.jsx("div",{className:Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});goe.displayName="AlertDialogFooter";const yoe=C.forwardRef(({className:e,...t},n)=>g.jsx(uoe,{ref:n,className:Ie("text-lg font-semibold",e),...t}));yoe.displayName=uoe.displayName;const boe=C.forwardRef(({className:e,...t},n)=>g.jsx(doe,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));boe.displayName=doe.displayName;const voe=C.forwardRef(({className:e,...t},n)=>g.jsx(loe,{ref:n,className:Ie(KS(),e),...t}));voe.displayName=loe.displayName;const xoe=C.forwardRef(({className:e,...t},n)=>g.jsx(coe,{ref:n,className:Ie(KS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));xoe.displayName=coe.displayName;var cD="Collapsible",[E_e]=us(cD),[S_e,PH]=E_e(cD),woe=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:a,...s}=e,[l,c]=vc({prop:r,defaultProp:i??!1,onChange:a,caller:cD});return g.jsx(S_e,{scope:n,disabled:o,contentId:Gi(),open:l,onOpenToggle:C.useCallback(()=>c(d=>!d),[c]),children:g.jsx(Ct.div,{"data-state":jH(l),"data-disabled":o?"":void 0,...s,ref:t})})});woe.displayName=cD;var Eoe="CollapsibleTrigger",Soe=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=PH(Eoe,n);return g.jsx(Ct.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":jH(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:ut(e.onClick,i.onOpenToggle)})});Soe.displayName=Eoe;var LH="CollapsibleContent",Coe=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=PH(LH,e.__scopeCollapsible);return g.jsx(_o,{present:n||i.open,children:({present:o})=>g.jsx(C_e,{...r,ref:t,present:o})})});Coe.displayName=LH;var C_e=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,a=PH(LH,n),[s,l]=C.useState(r),c=C.useRef(null),d=wn(t,c),u=C.useRef(0),p=u.current,m=C.useRef(0),v=m.current,x=a.open||s,w=C.useRef(x),T=C.useRef(void 0);return C.useEffect(()=>{const k=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(k)},[]),Xi(()=>{const k=c.current;if(k){T.current=T.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const N=k.getBoundingClientRect();u.current=N.height,m.current=N.width,w.current||(k.style.transitionDuration=T.current.transitionDuration,k.style.animationName=T.current.animationName),l(r)}},[a.open,r]),g.jsx(Ct.div,{"data-state":jH(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!x,...o,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:x&&i})});function jH(e){return e?"open":"closed"}var T_e=woe;const k_e=T_e,__e=Soe,A_e=Coe;var N_e="Separator",SV="horizontal",O_e=["horizontal","vertical"],Toe=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=SV,...i}=e,o=M_e(r)?r:SV,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return g.jsx(Ct.div,{"data-orientation":o,...s,...i,ref:t})});Toe.displayName=N_e;function M_e(e){return O_e.includes(e)}var koe=Toe;const xc=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>g.jsx(koe,{ref:i,decorative:n,orientation:t,className:Ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));xc.displayName=koe.displayName;const BH=ST()(oD(DTe((e,t)=>({isAuthenticated:!1,username:null,token:null,login:(n,r)=>{e({isAuthenticated:!0,username:n,token:r})},logout:()=>{e({isAuthenticated:!1,username:null,token:null}),localStorage.removeItem("auth_token"),localStorage.removeItem("username")}}),{name:"auth-storage"}),{name:"auth"}));function CV(e){return{id:e.id,emoji:e.emoji,title:e.title,start:new Date(e.start),end:new Date(e.end)}}const V_={list:async e=>(await(await ao("/api/comments/list",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)})).json()).map(CV),delete:async e=>(await ao(`/api/comments/${e}`,{headers:{"Content-Type":"application/json"},method:"DELETE"})).json(),create:async e=>{const t=await ao("/api/comments/",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});return CV(await t.json())},update:async e=>{await ao(`/api/comments/${e.id}`,{headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e)})}},_oe=6048e5,D_e=864e5,R_e=6e4,I_e=36e5,TV=Symbol.for("constructDateFrom");function Bi(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&TV in e?e[TV](t):e instanceof Date?new e.constructor(t):new Date(t)}function Wn(e,t){return Bi(t||e,e)}function kT(e,t,n){const r=Wn(e,n?.in);return isNaN(t)?Bi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function $H(e,t,n){const r=Wn(e,n?.in);if(isNaN(t))return Bi(e,NaN);if(!t)return r;const i=r.getDate(),o=Bi(e,r.getTime());o.setMonth(r.getMonth()+t+1,0);const a=o.getDate();return i>=a?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function P_e(e,t,n){const{years:r=0,months:i=0,weeks:o=0,days:a=0,hours:s=0,minutes:l=0,seconds:c=0}=t,d=Wn(e,n?.in),u=i||r?$H(d,i+r*12):d,p=a||o?kT(u,a+o*7):u,m=l+s*60,x=(c+m*60)*1e3;return Bi(e,+p+x)}function L_e(e,t,n){return Bi(e,+Wn(e)+t)}function j_e(e,t,n){return L_e(e,t*I_e)}let B_e={};function _T(){return B_e}function T0(e,t){const n=_T(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Wn(e,t?.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function XS(e,t){return T0(e,{...t,weekStartsOn:1})}function Aoe(e,t){const n=Wn(e,t?.in),r=n.getFullYear(),i=Bi(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=XS(i),a=Bi(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=XS(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function kV(e){const t=Wn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function tx(e,...t){const n=Bi.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Jv(e,t){const n=Wn(e,t?.in);return n.setHours(0,0,0,0),n}function Noe(e,t,n){const[r,i]=tx(n?.in,e,t),o=Jv(r),a=Jv(i),s=+o-kV(o),l=+a-kV(a);return Math.round((s-l)/D_e)}function $_e(e,t){const n=Aoe(e,t),r=Bi(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),XS(r)}function H_e(e,t,n){const r=Wn(e,n?.in);return r.setTime(r.getTime()+t*R_e),r}function F_e(e,t,n){return kT(e,t*7,n)}function U_e(e,t,n){return $H(e,t*12,n)}function z_e(e,t){let n,r=t?.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Bi.bind(null,i));const o=Wn(i,r);(!n||n<o||isNaN(+o))&&(n=o)}),Bi(r,n||NaN)}function V_e(e,t){let n,r=t?.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Bi.bind(null,i));const o=Wn(i,r);(!n||n>o||isNaN(+o))&&(n=o)}),Bi(r,n||NaN)}function q_e(e,t,n){const[r,i]=tx(n?.in,e,t);return+Jv(r)==+Jv(i)}function Ooe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function W_e(e){return!(!Ooe(e)&&typeof e!="number"||isNaN(+Wn(e)))}function Y_e(e,t,n){const[r,i]=tx(n?.in,e,t),o=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return o*12+a}function G_e(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function K_e(e,t){return+Wn(e)-+Wn(t)}function X_e(e,t){const n=Wn(e,t?.in);return n.setHours(23,59,59,999),n}function Z_e(e,t){const n=Wn(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Moe(e,t,n){const r=K_e(e,t)/1e3;return G_e(n?.roundingMethod)(r)}function Doe(e,t){const[n,r]=tx(e,t.start,t.end);return{start:n,end:r}}function Q_e(e,t){const{start:n,end:r}=Doe(t?.in,e);let i=+n>+r;const o=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0),a.setDate(1);let s=1;const l=[];for(;+a<=o;)l.push(Bi(n,a)),a.setMonth(a.getMonth()+s);return i?l.reverse():l}function J_e(e,t){const n=Wn(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function eAe(e,t){const n=Wn(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Roe(e,t){const n=Wn(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tAe(e,t){const{start:n,end:r}=Doe(t?.in,e);let i=+n>+r;const o=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0),a.setMonth(0,1);let s=1;const l=[];for(;+a<=o;)l.push(Bi(n,a)),a.setFullYear(a.getFullYear()+s);return i?l.reverse():l}function HH(e,t){const n=_T(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Wn(e,t?.in),o=i.getDay(),a=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function nAe(e,t){return HH(e,{...t,weekStartsOn:1})}const rAe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iAe=(e,t,n)=>{let r;const i=rAe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function $I(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const oAe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aAe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sAe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lAe={date:$I({formats:oAe,defaultWidth:"full"}),time:$I({formats:aAe,defaultWidth:"full"}),dateTime:$I({formats:sAe,defaultWidth:"full"})},cAe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uAe=(e,t,n,r)=>cAe[e];function NE(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,s=n?.width?String(n.width):a;i=e.formattingValues[s]||e.formattingValues[a]}else{const a=e.defaultWidth,s=n?.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const dAe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fAe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yAe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bAe={ordinalNumber:yAe,era:NE({values:dAe,defaultWidth:"wide"}),quarter:NE({values:fAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:NE({values:hAe,defaultWidth:"wide"}),day:NE({values:pAe,defaultWidth:"wide"}),dayPeriod:NE({values:mAe,defaultWidth:"wide",formattingValues:gAe,defaultFormattingWidth:"wide"})};function OE(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?xAe(s,u=>u.test(a)):vAe(s,u=>u.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}function vAe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function xAe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function wAe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=t.slice(i.length);return{value:a,rest:s}}}const EAe=/^(\d+)(th|st|nd|rd)?/i,SAe=/\d+/i,CAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TAe={any:[/^b/i,/^(a|c)/i]},kAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_Ae={any:[/1/i,/2/i,/3/i,/4/i]},AAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},MAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IAe={ordinalNumber:wAe({matchPattern:EAe,parsePattern:SAe,valueCallback:e=>parseInt(e,10)}),era:OE({matchPatterns:CAe,defaultMatchWidth:"wide",parsePatterns:TAe,defaultParseWidth:"any"}),quarter:OE({matchPatterns:kAe,defaultMatchWidth:"wide",parsePatterns:_Ae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:OE({matchPatterns:AAe,defaultMatchWidth:"wide",parsePatterns:NAe,defaultParseWidth:"any"}),day:OE({matchPatterns:OAe,defaultMatchWidth:"wide",parsePatterns:MAe,defaultParseWidth:"any"}),dayPeriod:OE({matchPatterns:DAe,defaultMatchWidth:"any",parsePatterns:RAe,defaultParseWidth:"any"})},FH={code:"en-US",formatDistance:iAe,formatLong:lAe,formatRelative:uAe,localize:bAe,match:IAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PAe(e,t){const n=Wn(e,t?.in);return Noe(n,Roe(n))+1}function Ioe(e,t){const n=Wn(e,t?.in),r=+XS(n)-+$_e(n);return Math.round(r/_oe)+1}function Poe(e,t){const n=Wn(e,t?.in),r=n.getFullYear(),i=_T(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Bi(t?.in||e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=T0(a,t),l=Bi(t?.in||e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=T0(l,t);return+n>=+s?r+1:+n>=+c?r:r-1}function LAe(e,t){const n=_T(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Poe(e,t),o=Bi(t?.in||e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),T0(o,t)}function Loe(e,t){const n=Wn(e,t?.in),r=+T0(n,t)-+LAe(n,t);return Math.round(r/_oe)+1}function zn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const up={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return zn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):zn(n+1,2)},d(e,t){return zn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return zn(e.getHours()%12||12,t.length)},H(e,t){return zn(e.getHours(),t.length)},m(e,t){return zn(e.getMinutes(),t.length)},s(e,t){return zn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return zn(i,t.length)}},Jb={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_V={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return up.y(e,t)},Y:function(e,t,n,r){const i=Poe(e,r),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return zn(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):zn(o,t.length)},R:function(e,t){const n=Aoe(e);return zn(n,t.length)},u:function(e,t){const n=e.getFullYear();return zn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return zn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return zn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return up.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return zn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Loe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):zn(i,t.length)},I:function(e,t,n){const r=Ioe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):zn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):up.d(e,t)},D:function(e,t,n){const r=PAe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):zn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return zn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return zn(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return zn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Jb.noon:r===0?i=Jb.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Jb.evening:r>=12?i=Jb.afternoon:r>=4?i=Jb.morning:i=Jb.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return up.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):up.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):zn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):zn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):up.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):up.s(e,t)},S:function(e,t){return up.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return NV(r);case"XXXX":case"XX":return Yg(r);case"XXXXX":case"XXX":default:return Yg(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return NV(r);case"xxxx":case"xx":return Yg(r);case"xxxxx":case"xxx":default:return Yg(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+AV(r,":");case"OOOO":default:return"GMT"+Yg(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+AV(r,":");case"zzzz":default:return"GMT"+Yg(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return zn(r,t.length)},T:function(e,t,n){return zn(+e,t.length)}};function AV(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+zn(o,2)}function NV(e,t){return e%60===0?(e>0?"-":"+")+zn(Math.abs(e)/60,2):Yg(e,t)}function Yg(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=zn(Math.trunc(r/60),2),o=zn(r%60,2);return n+i+t+o}const OV=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},joe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jAe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return OV(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",OV(r,t)).replace("{{time}}",joe(i,t))},BAe={p:joe,P:jAe},$Ae=/^D+$/,HAe=/^Y+$/,FAe=["D","DD","YY","YYYY"];function UAe(e){return $Ae.test(e)}function zAe(e){return HAe.test(e)}function VAe(e,t,n){const r=qAe(e,t,n);if(console.warn(r),FAe.includes(e))throw new RangeError(r)}function qAe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GAe=/^'([^]*?)'?$/,KAe=/''/g,XAe=/[a-zA-Z]/;function Wf(e,t,n){const r=_T(),i=n?.locale??r.locale??FH,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Wn(e,n?.in);if(!W_e(s))throw new RangeError("Invalid time value");let l=t.match(YAe).map(d=>{const u=d[0];if(u==="p"||u==="P"){const p=BAe[u];return p(d,i.formatLong)}return d}).join("").match(WAe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const u=d[0];if(u==="'")return{isToken:!1,value:ZAe(d)};if(_V[u])return{isToken:!0,value:d};if(u.match(XAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(d=>{if(!d.isToken)return d.value;const u=d.value;(!n?.useAdditionalWeekYearTokens&&zAe(u)||!n?.useAdditionalDayOfYearTokens&&UAe(u))&&VAe(u,t,String(e));const p=_V[u[0]];return p(s,u,i.localize,c)}).join("")}function ZAe(e){const t=e.match(GAe);return t?t[1].replace(KAe,"'"):e}function HI(e,t){const n=Wn(e,t?.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=t?.format??"extended",i=t?.representation??"complete";let o="",a="";const s=r==="extended"?"-":"",l=r==="extended"?":":"";if(i!=="time"){const c=zn(n.getDate(),2),d=zn(n.getMonth()+1,2);o=`${zn(n.getFullYear(),4)}${s}${d}${s}${c}`}if(i!=="date"){const c=n.getTimezoneOffset();if(c!==0){const x=Math.abs(c),w=zn(Math.trunc(x/60),2),T=zn(x%60,2);a=`${c<0?"+":"-"}${w}:${T}`}else a="Z";const d=zn(n.getHours(),2),u=zn(n.getMinutes(),2),p=zn(n.getSeconds(),2),m=o===""?"":"T",v=[d,u,p].join(l);o=`${o}${m}${v}${a}`}return o}function QAe(e,t){const n=Wn(e,t?.in),r=n.getFullYear(),i=n.getMonth(),o=Bi(n,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function JAe(e,t){return Wn(e,t?.in).getMonth()}function eNe(e,t){return Wn(e,t?.in).getFullYear()}function tNe(e,t){return+Wn(e)>+Wn(t)}function nNe(e,t){return+Wn(e)<+Wn(t)}function rNe(e,t,n){const[r,i]=tx(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function iNe(e,t,n){const[r,i]=tx(n?.in,e,t);return r.getFullYear()===i.getFullYear()}function MV(e,t,n){return kT(e,-t,n)}function k0(e,t){const n=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return Wn(n?Date.UTC(+n[1],+n[2]-1,+n[3],+n[4]-(+n[9]||0)*(n[8]=="-"?-1:1),+n[5]-(+n[10]||0)*(n[8]=="-"?-1:1),+n[6],+((n[7]||"0")+"00").substring(0,3)):NaN,t?.in)}function oNe(e,t,n){const r=Wn(e,n?.in),i=r.getFullYear(),o=r.getDate(),a=Bi(e,0);a.setFullYear(i,t,15),a.setHours(0,0,0,0);const s=QAe(a);return r.setMonth(t,Math.min(o,s)),r}function aNe(e,t,n){const r=Wn(e,n?.in);return isNaN(+r)?Bi(e,NaN):(r.setFullYear(t),r)}function ME(e,t,n){return j_e(e,-t)}function DV(e,t,n){return H_e(e,-t,n)}function sNe(e){return{...e,lastRunStartedAt:k0(e.lastRunStartedAt),lastRunEndedAt:e.lastRunEndedAt?k0(e.lastRunEndedAt):null}}function lNe(e){return{...e,eventDt:k0(e.eventDt)}}function cNe(e){return{...e,startTime:k0(e.startTime),endTime:e.endTime?k0(e.endTime):null}}function uNe(e){return e.map(t=>({...t,startTime:k0(t.startTime),endTime:t.endTime?k0(t.endTime):null,events:t.events.map(lNe),steps:t.steps.map(cNe)}))}const ey={getByTenant:async(e,t,n,r,i)=>(await(await ao("/api/flows/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start:t.toISOString(),end:n.toISOString(),tenant:e,labels:r,notebook_id:i})})).json()).map(sNe),getFlowHistory:async(e,t,n,r,i,o)=>{const a=await ao("/api/flows/history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flow_name:t,start:n.toISOString(),end:r.toISOString(),labels:i,tenant:e,notebook_id:o})});if(!a.ok)throw new Error(`Failed to fetch flow details: ${a.statusText}`);const s=await a.json();return uNe(s.history)},list:async()=>await(await ao("/api/flows/")).json()},AT={list:async()=>await(await ao("/api/metrics/search",{method:"GET",headers:{"Content-Type":"application/json"}})).json(),getHistory:async(e,t,n,r,i,o,a,s,l,c)=>{const u=await(await ao("/api/metrics/range",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metric_name:t,transform:n,transform_metadata:r,group_by:s,group_fn:l,start_time:i.toISOString(),end_time:o.toISOString(),labels:[...a,{label:"tenant",value:e}],notebook_id:c})})).json();return{prettyName:u.prettyName,unit:u.unit,transform:u.transform,series:u.series.map(p=>({labels:p.labels,values:p.values.map(m=>({timestamp:new Date(m.timestamp),value:m.value}))}))}},getScalar:async(e,t,n,r,i,o,a,s,l,c,d,u,p)=>{const m={metric_name:t,transform:i,transform_metadata:o,group_by:a,group_fn:s,time_aggregation:l,start_time:n.toISOString(),end_time:r.toISOString(),labels:[...u,{label:"tenant",value:e}],notebook_id:p};return l==="match"&&(m.match_operator=c,m.match_value=d),await(await ao("/api/metrics/instant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json()}},RV=e=>({...e,timeWindow:e.timeWindow?.type==="absolute"?{type:"absolute",metadata:{start:new Date(e.timeWindow.metadata.start),end:new Date(e.timeWindow.metadata.end)}}:e.timeWindow||{type:"relative",metadata:{value:"24h"}},filters:e.filters||[]}),fv={duplicate:async(e,t)=>{await ao(`/api/notebooks/${e}/duplicate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetTenants:t})})},getOne:async e=>{const t=await ao(`/api/notebooks/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});return t.ok?RV(await t.json()):null},getAll:async e=>{const t=new URLSearchParams;return t.set("tenant",e),(await(await ao(`/api/notebooks/list?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json()).map(RV)},create:async(e,t)=>(await ao("/api/notebooks/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenant:e,notebook:t})})).json(),update:async e=>{const t=await ao(`/api/notebooks/${e.id}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update notebook: ${t.statusText}`);return await t.json()},delete:async e=>(await ao(`/api/notebooks/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json()};function W6(e){if(e.type==="absolute")return{start:e.metadata.start,end:e.metadata.end};const t=new Date,{value:n}=e.metadata;switch(n){case"15m":return{start:DV(t,15),end:t};case"30m":return{start:DV(t,30),end:t};case"1h":return{start:ME(t,1),end:t};case"6h":return{start:ME(t,6),end:t};case"12h":return{start:ME(t,12),end:t};case"24h":return{start:ME(t,24),end:t};case"7d":return{start:MV(t,7),end:t};case"30d":return{start:MV(t,30),end:t};case"today":return{start:Jv(t),end:X_e(t)};case"w":return{start:T0(t,{weekStartsOn:0}),end:HH(t,{weekStartsOn:0})};default:return{start:ME(t,24),end:t}}}let FI=null,ev=null;const gt=ST()(oD((e,t)=>({notebooks:{},currentNotebook:null,notebookCreating:!1,flows:[],flowsLoading:!1,metrics:[],metricsLoading:!1,comments:[],commentsLoading:!1,commentsDrawerOpen:!1,loading:!0,error:null,settingsOpenBlockId:null,startDate:null,endDate:null,pendingComment:null,openBlockSettings:n=>{e({settingsOpenBlockId:n})},closeBlockSettings:()=>{e({settingsOpenBlockId:null})},openCommentsDrawer:()=>{e({commentsDrawerOpen:!0})},closeCommentsDrawer:()=>{e({commentsDrawerOpen:!1})},toggleCommentsDrawer:()=>{e({commentsDrawerOpen:!t().commentsDrawerOpen})},fetchFlows:async(n,r,i,o,a)=>{e({flowsLoading:!0});try{const s=await ey.getByTenant(n,r,i,o,a);e({flows:s,flowsLoading:!1})}catch{e({flows:[],flowsLoading:!1})}},fetchMetrics:async()=>{e({metricsLoading:!0});try{const n=await AT.list();e({metrics:n,metricsLoading:!1})}catch(n){console.error("Failed to fetch metrics:",n),e({metrics:[],metricsLoading:!1})}},fetchComments:async(n,r,i)=>{e({commentsLoading:!0});try{const o=await V_.list({notebook_id:n,start:r,end:i});e({comments:o,commentsLoading:!1})}catch(o){console.error("Failed to fetch comments:",o),e({comments:[],commentsLoading:!1})}},setCurrentNotebook:(n,r,i)=>{const o=i||(t().notebooks[n]||[]).find(s=>s.id===r)||null;if(!o)return null;ev&&clearInterval(ev);const a=()=>{const s=t().currentNotebook;if(!s?.timeWindow){e({startDate:null,endDate:null});return}const{start:l,end:c}=W6(s.timeWindow);e({startDate:l,endDate:c})};return e({currentNotebook:o}),a(),o?.timeWindow?.type==="relative"&&(ev=setInterval(a,15e3)),o},fetchNotebooks:async n=>{e({loading:!0,error:null});try{const r=await fv.getAll(n),{notebooks:i}=t();e({notebooks:{...i,[n]:r},loading:!1})}catch(r){console.error("Failed to fetch notebooks:",r),e({error:r instanceof Error?r.message:"Failed to fetch notebooks",loading:!1})}},updateNotebook:(n,r,i)=>{const{notebooks:o}=t(),a={...r,...i},s=(o[n]||[]).map(l=>l.id===a.id?a:l);if(i.timeWindow){const{start:l,end:c}=W6(i.timeWindow);e({startDate:l,endDate:c})}e({notebooks:{...o,[n]:s},currentNotebook:a}),FI&&clearTimeout(FI),FI=setTimeout(async()=>{await fv.update(a)},200)},createNotebook:(n,r)=>{const{notebooks:i}=t(),o=i[n]||[];return e({notebookCreating:!0,notebooks:{...i,[n]:[...o,r]}}),fv.create(n,r).then(()=>{e({notebookCreating:!1})}),r},deleteNotebook:async(n,r)=>{fv.delete(r);const{notebooks:i}=t(),o=i[n]||[];e({notebooks:{...i,[n]:o.filter(a=>a.id!==r)}})},duplicateNotebook:async(n,r)=>{await fv.duplicate(n,r)},stopTimeWindowRefresh:()=>{ev&&(clearInterval(ev),ev=null)},deleteComment:async n=>{const{comments:r}=t();e({comments:r.filter(i=>i.id!==n)}),await V_.delete(n)},createComment:async n=>{const{comments:r}=t();e({pendingComment:n});const i=await V_.create(n);e({comments:[...r,i],pendingComment:null})},updateComment:async n=>{const{comments:r}=t(),i=r.find(a=>a.id===n.id);if(!i)return;const o={...i,...n};e({comments:r.map(a=>a.id===n.id?{...a,...n}:a)}),await V_.update(o)}}),{name:"notebooks"}));var IV=1,dNe=.9,fNe=.8,hNe=.17,UI=.1,zI=.999,pNe=.9999,mNe=.99,gNe=/[\\\/_+.#"@\[\(\{&]/,yNe=/[\\\/_+.#"@\[\(\{&]/g,bNe=/[\s-]/,Boe=/[\s-]/g;function Y6(e,t,n,r,i,o,a){if(o===t.length)return i===e.length?IV:mNe;var s=`${i},${o}`;if(a[s]!==void 0)return a[s];for(var l=r.charAt(o),c=n.indexOf(l,i),d=0,u,p,m,v;c>=0;)u=Y6(e,t,n,r,c+1,o+1,a),u>d&&(c===i?u*=IV:gNe.test(e.charAt(c-1))?(u*=fNe,m=e.slice(i,c-1).match(yNe),m&&i>0&&(u*=Math.pow(zI,m.length))):bNe.test(e.charAt(c-1))?(u*=dNe,v=e.slice(i,c-1).match(Boe),v&&i>0&&(u*=Math.pow(zI,v.length))):(u*=hNe,i>0&&(u*=Math.pow(zI,c-i))),e.charAt(c)!==t.charAt(o)&&(u*=pNe)),(u<UI&&n.charAt(c-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(c-1)!==r.charAt(o))&&(p=Y6(e,t,n,r,c+1,o+2,a),p*UI>u&&(u=p*UI)),u>d&&(d=u),c=n.indexOf(l,c+1);return a[s]=d,d}function PV(e){return e.toLowerCase().replace(Boe," ")}function vNe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Y6(e,t,PV(e),PV(t),0,0,{})}var DE='[cmdk-group=""]',VI='[cmdk-group-items=""]',xNe='[cmdk-group-heading=""]',$oe='[cmdk-item=""]',LV=`${$oe}:not([aria-disabled="true"])`,G6="cmdk-item-select",hv="data-value",wNe=(e,t,n)=>vNe(e,t,n),Hoe=C.createContext(void 0),NT=()=>C.useContext(Hoe),Foe=C.createContext(void 0),UH=()=>C.useContext(Foe),Uoe=C.createContext(void 0),zoe=C.forwardRef((e,t)=>{let n=pv(()=>{var te,z;return{search:"",value:(z=(te=e.value)!=null?te:e.defaultValue)!=null?z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=pv(()=>new Set),i=pv(()=>new Map),o=pv(()=>new Map),a=pv(()=>new Set),s=Voe(e),{label:l,children:c,value:d,onValueChange:u,filter:p,shouldFilter:m,loop:v,disablePointerSelection:x=!1,vimBindings:w=!0,...T}=e,k=Gi(),N=Gi(),I=Gi(),M=C.useRef(null),A=DNe();_0(()=>{if(d!==void 0){let te=d.trim();n.current.value=te,R.emit()}},[d]),_0(()=>{A(6,Y)},[]);let R=C.useMemo(()=>({subscribe:te=>(a.current.add(te),()=>a.current.delete(te)),snapshot:()=>n.current,setState:(te,z,fe)=>{var me,ke,Ee,ve;if(!Object.is(n.current[te],z)){if(n.current[te]=z,te==="search")V(),$(),A(1,W);else if(te==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let we=document.getElementById(I);we?we.focus():(me=document.getElementById(k))==null||me.focus()}if(A(7,()=>{var we;n.current.selectedItemId=(we=U())==null?void 0:we.id,R.emit()}),fe||A(5,Y),((ke=s.current)==null?void 0:ke.value)!==void 0){let we=z??"";(ve=(Ee=s.current).onValueChange)==null||ve.call(Ee,we);return}}R.emit()}},emit:()=>{a.current.forEach(te=>te())}}),[]),L=C.useMemo(()=>({value:(te,z,fe)=>{var me;z!==((me=o.current.get(te))==null?void 0:me.value)&&(o.current.set(te,{value:z,keywords:fe}),n.current.filtered.items.set(te,B(z,fe)),A(2,()=>{$(),R.emit()}))},item:(te,z)=>(r.current.add(te),z&&(i.current.has(z)?i.current.get(z).add(te):i.current.set(z,new Set([te]))),A(3,()=>{V(),$(),n.current.value||W(),R.emit()}),()=>{o.current.delete(te),r.current.delete(te),n.current.filtered.items.delete(te);let fe=U();A(4,()=>{V(),fe?.getAttribute("id")===te&&W(),R.emit()})}),group:te=>(i.current.has(te)||i.current.set(te,new Set),()=>{o.current.delete(te),i.current.delete(te)}),filter:()=>s.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:k,inputId:I,labelId:N,listInnerRef:M}),[]);function B(te,z){var fe,me;let ke=(me=(fe=s.current)==null?void 0:fe.filter)!=null?me:wNe;return te?ke(te,n.current.search,z):0}function $(){if(!n.current.search||s.current.shouldFilter===!1)return;let te=n.current.filtered.items,z=[];n.current.filtered.groups.forEach(me=>{let ke=i.current.get(me),Ee=0;ke.forEach(ve=>{let we=te.get(ve);Ee=Math.max(we,Ee)}),z.push([me,Ee])});let fe=M.current;X().sort((me,ke)=>{var Ee,ve;let we=me.getAttribute("id"),je=ke.getAttribute("id");return((Ee=te.get(je))!=null?Ee:0)-((ve=te.get(we))!=null?ve:0)}).forEach(me=>{let ke=me.closest(VI);ke?ke.appendChild(me.parentElement===ke?me:me.closest(`${VI} > *`)):fe.appendChild(me.parentElement===fe?me:me.closest(`${VI} > *`))}),z.sort((me,ke)=>ke[1]-me[1]).forEach(me=>{var ke;let Ee=(ke=M.current)==null?void 0:ke.querySelector(`${DE}[${hv}="${encodeURIComponent(me[0])}"]`);Ee?.parentElement.appendChild(Ee)})}function W(){let te=X().find(fe=>fe.getAttribute("aria-disabled")!=="true"),z=te?.getAttribute(hv);R.setState("value",z||void 0)}function V(){var te,z,fe,me;if(!n.current.search||s.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ke=0;for(let Ee of r.current){let ve=(z=(te=o.current.get(Ee))==null?void 0:te.value)!=null?z:"",we=(me=(fe=o.current.get(Ee))==null?void 0:fe.keywords)!=null?me:[],je=B(ve,we);n.current.filtered.items.set(Ee,je),je>0&&ke++}for(let[Ee,ve]of i.current)for(let we of ve)if(n.current.filtered.items.get(we)>0){n.current.filtered.groups.add(Ee);break}n.current.filtered.count=ke}function Y(){var te,z,fe;let me=U();me&&(((te=me.parentElement)==null?void 0:te.firstChild)===me&&((fe=(z=me.closest(DE))==null?void 0:z.querySelector(xNe))==null||fe.scrollIntoView({block:"nearest"})),me.scrollIntoView({block:"nearest"}))}function U(){var te;return(te=M.current)==null?void 0:te.querySelector(`${$oe}[aria-selected="true"]`)}function X(){var te;return Array.from(((te=M.current)==null?void 0:te.querySelectorAll(LV))||[])}function q(te){let z=X()[te];z&&R.setState("value",z.getAttribute(hv))}function ne(te){var z;let fe=U(),me=X(),ke=me.findIndex(ve=>ve===fe),Ee=me[ke+te];(z=s.current)!=null&&z.loop&&(Ee=ke+te<0?me[me.length-1]:ke+te===me.length?me[0]:me[ke+te]),Ee&&R.setState("value",Ee.getAttribute(hv))}function Z(te){let z=U(),fe=z?.closest(DE),me;for(;fe&&!me;)fe=te>0?ONe(fe,DE):MNe(fe,DE),me=fe?.querySelector(LV);me?R.setState("value",me.getAttribute(hv)):ne(te)}let oe=()=>q(X().length-1),K=te=>{te.preventDefault(),te.metaKey?oe():te.altKey?Z(1):ne(1)},Q=te=>{te.preventDefault(),te.metaKey?q(0):te.altKey?Z(-1):ne(-1)};return C.createElement(Ct.div,{ref:t,tabIndex:-1,...T,"cmdk-root":"",onKeyDown:te=>{var z;(z=T.onKeyDown)==null||z.call(T,te);let fe=te.nativeEvent.isComposing||te.keyCode===229;if(!(te.defaultPrevented||fe))switch(te.key){case"n":case"j":{w&&te.ctrlKey&&K(te);break}case"ArrowDown":{K(te);break}case"p":case"k":{w&&te.ctrlKey&&Q(te);break}case"ArrowUp":{Q(te);break}case"Home":{te.preventDefault(),q(0);break}case"End":{te.preventDefault(),oe();break}case"Enter":{te.preventDefault();let me=U();if(me){let ke=new Event(G6);me.dispatchEvent(ke)}}}}},C.createElement("label",{"cmdk-label":"",htmlFor:L.inputId,id:L.labelId,style:INe},l),uD(e,te=>C.createElement(Foe.Provider,{value:R},C.createElement(Hoe.Provider,{value:L},te))))}),ENe=C.forwardRef((e,t)=>{var n,r;let i=Gi(),o=C.useRef(null),a=C.useContext(Uoe),s=NT(),l=Voe(e),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:a?.forceMount;_0(()=>{if(!c)return s.item(i,a?.id)},[c]);let d=qoe(i,o,[e.value,e.children,o],e.keywords),u=UH(),p=Jp(A=>A.value&&A.value===d.current),m=Jp(A=>c||s.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);C.useEffect(()=>{let A=o.current;if(!(!A||e.disabled))return A.addEventListener(G6,v),()=>A.removeEventListener(G6,v)},[m,e.onSelect,e.disabled]);function v(){var A,R;x(),(R=(A=l.current).onSelect)==null||R.call(A,d.current)}function x(){u.setState("value",d.current,!0)}if(!m)return null;let{disabled:w,value:T,onSelect:k,forceMount:N,keywords:I,...M}=e;return C.createElement(Ct.div,{ref:is(o,t),...M,id:i,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!p,"data-disabled":!!w,"data-selected":!!p,onPointerMove:w||s.getDisablePointerSelection()?void 0:x,onClick:w?void 0:v},e.children)}),SNe=C.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...o}=e,a=Gi(),s=C.useRef(null),l=C.useRef(null),c=Gi(),d=NT(),u=Jp(m=>i||d.filter()===!1?!0:m.search?m.filtered.groups.has(a):!0);_0(()=>d.group(a),[]),qoe(a,s,[e.value,e.heading,l]);let p=C.useMemo(()=>({id:a,forceMount:i}),[i]);return C.createElement(Ct.div,{ref:is(s,t),...o,"cmdk-group":"",role:"presentation",hidden:u?void 0:!0},n&&C.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),uD(e,m=>C.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},C.createElement(Uoe.Provider,{value:p},m))))}),CNe=C.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=C.useRef(null),o=Jp(a=>!a.search);return!n&&!o?null:C.createElement(Ct.div,{ref:is(i,t),...r,"cmdk-separator":"",role:"separator"})}),TNe=C.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,o=UH(),a=Jp(c=>c.search),s=Jp(c=>c.selectedItemId),l=NT();return C.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),C.createElement(Ct.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":s,id:l.inputId,type:"text",value:i?e.value:a,onChange:c=>{i||o.setState("search",c.target.value),n?.(c.target.value)}})}),kNe=C.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,o=C.useRef(null),a=C.useRef(null),s=Jp(c=>c.selectedItemId),l=NT();return C.useEffect(()=>{if(a.current&&o.current){let c=a.current,d=o.current,u,p=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let m=c.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return p.observe(c),()=>{cancelAnimationFrame(u),p.unobserve(c)}}},[]),C.createElement(Ct.div,{ref:is(o,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":r,id:l.listId},uD(e,c=>C.createElement("div",{ref:is(a,l.listInnerRef),"cmdk-list-sizer":""},c)))}),_Ne=C.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:a,...s}=e;return C.createElement(bT,{open:n,onOpenChange:r},C.createElement(vT,{container:a},C.createElement(Z1,{"cmdk-overlay":"",className:i}),C.createElement(Q1,{"aria-label":e.label,"cmdk-dialog":"",className:o},C.createElement(zoe,{ref:t,...s}))))}),ANe=C.forwardRef((e,t)=>Jp(n=>n.filtered.count===0)?C.createElement(Ct.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),NNe=C.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...o}=e;return C.createElement(Ct.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},uD(e,a=>C.createElement("div",{"aria-hidden":!0},a)))}),nx=Object.assign(zoe,{List:kNe,Item:ENe,Input:TNe,Group:SNe,Separator:CNe,Dialog:_Ne,Empty:ANe,Loading:NNe});function ONe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function MNe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Voe(e){let t=C.useRef(e);return _0(()=>{t.current=e}),t}var _0=typeof window>"u"?C.useEffect:C.useLayoutEffect;function pv(e){let t=C.useRef();return t.current===void 0&&(t.current=e()),t}function Jp(e){let t=UH(),n=()=>e(t.snapshot());return C.useSyncExternalStore(t.subscribe,n,n)}function qoe(e,t,n,r=[]){let i=C.useRef(),o=NT();return _0(()=>{var a;let s=(()=>{var c;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());o.value(e,s,l),(a=t.current)==null||a.setAttribute(hv,s),i.current=s}),i}var DNe=()=>{let[e,t]=C.useState(),n=pv(()=>new Map);return _0(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function RNe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function uD({asChild:e,children:t},n){return e&&C.isValidElement(t)?C.cloneElement(RNe(t),{ref:t.ref},n(t.props.children)):n(t)}var INe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Woe({...e}){return g.jsx(bT,{"data-slot":"dialog",...e})}function PNe({...e}){return g.jsx(vT,{"data-slot":"dialog-portal",...e})}function LNe({className:e,...t}){return g.jsx(Z1,{"data-slot":"dialog-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Yoe({className:e,children:t,showCloseButton:n=!0,...r}){return g.jsxs(PNe,{"data-slot":"dialog-portal",children:[g.jsx(LNe,{}),g.jsxs(Q1,{"data-slot":"dialog-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n&&g.jsxs(iD,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[g.jsx(RH,{}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Goe({className:e,...t}){return g.jsx("div",{"data-slot":"dialog-header",className:Ie("flex flex-col gap-2 text-center sm:text-left",e),...t})}function jNe({className:e,...t}){return g.jsx("div",{"data-slot":"dialog-footer",className:Ie("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Koe({className:e,...t}){return g.jsx(xT,{"data-slot":"dialog-title",className:Ie("text-lg leading-none font-semibold",e),...t})}function Xoe({className:e,...t}){return g.jsx(wT,{"data-slot":"dialog-description",className:Ie("text-muted-foreground text-sm",e),...t})}function e1({className:e,...t}){return g.jsx(nx,{"data-slot":"command",className:Ie("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function BNe({title:e="Command Palette",description:t="Search for a command to run...",children:n,className:r,showCloseButton:i=!0,...o}){return g.jsxs(Woe,{...o,children:[g.jsxs(Goe,{className:"sr-only",children:[g.jsx(Koe,{children:e}),g.jsx(Xoe,{children:t})]}),g.jsx(Yoe,{className:Ie("overflow-hidden p-0",r),showCloseButton:i,children:g.jsx(e1,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:n})})]})}function t1({className:e,...t}){return g.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[g.jsx(qie,{className:"size-4 shrink-0 opacity-50"}),g.jsx(nx.Input,{"data-slot":"command-input",className:Ie("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function n1({className:e,...t}){return g.jsx(nx.List,{"data-slot":"command-list",className:Ie("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function r1({...e}){return g.jsx(nx.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function i1({className:e,...t}){return g.jsx(nx.Group,{"data-slot":"command-group",className:Ie("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function o1({className:e,...t}){return g.jsx(nx.Item,{"data-slot":"command-item",className:Ie("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function $Ne({open:e,onOpenChange:t}){const n=Q0(),r=fu(o=>o.tenants);C.useEffect(()=>{const o=a=>{a.key==="k"&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),t(!e))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e,t]);const i=o=>{t(!1),n(`/tenants/${encodeURIComponent(o)}`)};return g.jsxs(BNe,{open:e,onOpenChange:t,children:[g.jsx(t1,{placeholder:"Search for tenants..."}),g.jsxs(n1,{children:[g.jsx(r1,{children:"No tenants found."}),r.length>0&&g.jsx(i1,{heading:"Tenants",children:r.map(o=>g.jsxs(o1,{onSelect:()=>i(o),className:"flex items-center gap-3",children:[g.jsx(Die,{className:"h-4 w-4"}),g.jsx("span",{children:o})]},o))})]})]})}const HNe=[{id:"home",label:"Home",icon:Uie,href:"/"},{id:"search",label:"Go To",icon:Ske,href:"/search",shortcut:"K"}];function jV({isCollapsed:e}={}){const t=Su().pathname,[n,r]=C.useState(!1),[i,o]=C.useState(!0),[a,s]=C.useState(!1),[l,c]=C.useState(null),d=gt(L=>L.notebooks),u=gt(L=>L.loading),p=gt(L=>L.fetchNotebooks),m=gt(L=>L.createNotebook),v=gt(L=>L.deleteNotebook),x=Q0(),w=BH(L=>L.logout),T=t.startsWith("/tenants/")?decodeURIComponent(t.split("/")[2]):null;C.useEffect(()=>{T&&p(T)},[T,p]);const k=T?d[T]||[]:[],N=T?[{id:"data",label:"Data Library",icon:Hie,href:`/tenants/${encodeURIComponent(T)}`}]:[],I=()=>{if(!T)return;const L={id:Z2e(),title:"Untitled Notebook",description:"",blocks:null,timeWindow:{type:"relative",metadata:{value:"24h"}},filters:[],flowBlocksFilters:null,metricBlocksFilters:null,isPublic:!1},B=m(T,L);x(`/tenants/${encodeURIComponent(T)}/notebooks/${B.id}`)},M=(L,B,$)=>{L.preventDefault(),L.stopPropagation(),c({id:B,title:$}),s(!0)},A=async()=>{if(!(!T||!l))try{await v(T,l.id),s(!1),c(null),x(`/tenants/${encodeURIComponent(T)}`)}catch(L){console.error("Failed to delete notebook:",L),s(!1),c(null)}},R=()=>{w(),x("/login")};return g.jsxs(g.Fragment,{children:[!e&&g.jsxs("aside",{className:"flex h-screen w-64 flex-col border-r transition-all duration-300 hidden md:flex",style:{backgroundColor:"#f9f8f7"},children:[g.jsx("div",{className:"flex h-14 items-center border-b px-3",children:g.jsx("div",{className:Ie("flex transition-all items-center gap-1"),children:g.jsxs("span",{className:"font-bold text-lg",children:[g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d/"}),T||"ashfrog"]})})}),g.jsx("div",{className:"flex-1 overflow-y-auto",children:g.jsxs("nav",{className:"space-y-1 p-2",children:[HNe.map(L=>{const B=L.icon,$=t===L.href;return L.id==="search"?g.jsxs("button",{type:"button",onClick:()=>r(!0),className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all hover:bg-accent w-full text-left",e&&"justify-center px-2"),style:{color:"#5f5e5b"},children:[g.jsx(B,{className:"h-4 w-4 shrink-0"}),!e&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"flex-1",children:L.label}),L.shortcut&&g.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:L.shortcut})]})]},L.id):g.jsxs(wd,{to:L.href,className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all hover:bg-accent",$&&"bg-accent text-accent-foreground",e&&"justify-center px-2"),style:{color:$?void 0:"#5f5e5b"},children:[g.jsx(B,{className:"h-4 w-4 shrink-0"}),!e&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"flex-1",children:L.label}),L.shortcut&&g.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:L.shortcut})]})]},L.id)}),!e&&T&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"px-3 py-2",children:g.jsx(xc,{})}),g.jsx("div",{className:"space-y-1",children:N.map(L=>{const B=L.icon,$=t===L.href;return g.jsxs(wd,{to:L.href,className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all hover:bg-accent",$&&"bg-accent text-accent-foreground"),style:{color:$?void 0:"#5f5e5b"},children:[g.jsx(B,{className:"h-4 w-4 shrink-0"}),g.jsx("span",{className:"flex-1",children:L.label})]},L.id)})}),g.jsxs(k_e,{open:i,onOpenChange:o,className:"space-y-1",children:[g.jsx("div",{className:"flex items-center gap-1 group",children:g.jsxs(__e,{className:"flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all hover:bg-accent flex-1",children:[g.jsx(zTe,{className:"h-4 w-4 shrink-0"}),g.jsx("span",{className:"flex-1 text-left",children:"Notebooks"}),g.jsx(DH,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:L=>{L.preventDefault(),I()}}),g.jsx(CT,{className:Ie("h-4 w-4 shrink-0 transition-transform",i&&"rotate-180")})]})}),g.jsx(A_e,{className:"space-y-1 pl-4",children:u?[1,2,3].map(L=>g.jsx("div",{className:"h-9 rounded-lg bg-accent/50 animate-pulse"},L)):k.length>0?k.map(L=>{const B=t===`/tenants/${encodeURIComponent(T)}/notebooks/${L.id}`;return g.jsxs("div",{className:"group relative",children:[g.jsx(wd,{to:`/tenants/${encodeURIComponent(T)}/notebooks/${L.id}`,className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all hover:bg-accent pr-10",B&&"bg-accent text-accent-foreground"),style:{color:B?void 0:"#5f5e5b"},children:L.title}),g.jsx(ni,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:$=>M($,L.id,L.title),title:"Delete notebook",children:g.jsx(Wie,{className:"h-3.5 w-3.5 text-secondary-foreground",strokeWidth:2.5})})]},L.id)}):g.jsx("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:"No notebooks"})})]})]})]})}),g.jsx("div",{className:"border-t p-2",children:g.jsxs(ni,{variant:"ghost",className:"w-full justify-start gap-3 text-sm font-medium hover:bg-accent",style:{color:"#5f5e5b"},onClick:R,children:[g.jsx(c2e,{className:"h-4 w-4 shrink-0"}),g.jsx("span",{className:"flex-1 text-left",children:"Logout"})]})})]}),g.jsx($Ne,{open:n,onOpenChange:r}),g.jsx(x_e,{open:a,onOpenChange:s,children:g.jsxs(poe,{children:[g.jsxs(moe,{children:[g.jsx(yoe,{children:"Delete notebook?"}),g.jsxs(boe,{children:['Are you sure you want to delete "',l?.title,'"? This action cannot be undone.']})]}),g.jsxs(goe,{children:[g.jsx(xoe,{children:"Cancel"}),g.jsx(voe,{onClick:A,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function qI({children:e}){const[t,n]=C.useState(!1),r=aD(o=>o.sidebarCollapsed),i=fu(o=>o.fetchLabelsAndTenants);return C.useEffect(()=>{const o=setInterval(()=>{i()},5e3);return()=>clearInterval(o)},[i]),g.jsxs(g.Fragment,{children:[g.jsx(OEe,{position:"top-right",richColors:!0,closeButton:!0}),g.jsxs("div",{className:"flex min-h-screen w-screen overflow-hidden",children:[g.jsx(jV,{isCollapsed:r}),g.jsx(kH,{open:t,onOpenChange:n,children:g.jsx(_H,{side:"left",className:"p-0",children:g.jsx(jV,{})})}),g.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[g.jsx("header",{className:"border-b bg-background"}),g.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:e})]})]})]})}const FNe=["top","right","bottom","left"],em=Math.min,El=Math.max,yN=Math.round,q_=Math.floor,Ed=e=>({x:e,y:e}),UNe={left:"right",right:"left",bottom:"top",top:"bottom"},zNe={start:"end",end:"start"};function K6(e,t,n){return El(e,em(t,n))}function Yf(e,t){return typeof e=="function"?e(t):e}function Gf(e){return e.split("-")[0]}function rx(e){return e.split("-")[1]}function zH(e){return e==="x"?"y":"x"}function VH(e){return e==="y"?"height":"width"}const VNe=new Set(["top","bottom"]);function gd(e){return VNe.has(Gf(e))?"y":"x"}function qH(e){return zH(gd(e))}function qNe(e,t,n){n===void 0&&(n=!1);const r=rx(e),i=qH(e),o=VH(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=bN(a)),[a,bN(a)]}function WNe(e){const t=bN(e);return[X6(e),t,X6(t)]}function X6(e){return e.replace(/start|end/g,t=>zNe[t])}const BV=["left","right"],$V=["right","left"],YNe=["top","bottom"],GNe=["bottom","top"];function KNe(e,t,n){switch(e){case"top":case"bottom":return n?t?$V:BV:t?BV:$V;case"left":case"right":return t?YNe:GNe;default:return[]}}function XNe(e,t,n,r){const i=rx(e);let o=KNe(Gf(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(X6)))),o}function bN(e){return e.replace(/left|right|bottom|top/g,t=>UNe[t])}function ZNe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Zoe(e){return typeof e!="number"?ZNe(e):{top:e,right:e,bottom:e,left:e}}function vN(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function HV(e,t,n){let{reference:r,floating:i}=e;const o=gd(t),a=qH(t),s=VH(a),l=Gf(t),c=o==="y",d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,p=r[s]/2-i[s]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:u};break;case"left":m={x:r.x-i.width,y:u};break;default:m={x:r.x,y:r.y}}switch(rx(t)){case"start":m[a]-=p*(n&&c?-1:1);break;case"end":m[a]+=p*(n&&c?-1:1);break}return m}const QNe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=HV(c,r,l),p=r,m={},v=0;for(let x=0;x<s.length;x++){const{name:w,fn:T}=s[x],{x:k,y:N,data:I,reset:M}=await T({x:d,y:u,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:a,elements:{reference:e,floating:t}});d=k??d,u=N??u,m={...m,[w]:{...m[w],...I}},M&&v<=50&&(v++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(c=M.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):M.rects),{x:d,y:u}=HV(c,p,l)),x=-1)}return{x:d,y:u,placement:p,strategy:i,middlewareData:m}};async function ZS(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:m=0}=Yf(t,e),v=Zoe(m),w=s[p?u==="floating"?"reference":"floating":u],T=vN(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),k=u==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),I=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},M=vN(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:k,offsetParent:N,strategy:l}):k);return{top:(T.top-M.top+v.top)/I.y,bottom:(M.bottom-T.bottom+v.bottom)/I.y,left:(T.left-M.left+v.left)/I.x,right:(M.right-T.right+v.right)/I.x}}const JNe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=Yf(e,t)||{};if(c==null)return{};const u=Zoe(d),p={x:n,y:r},m=qH(i),v=VH(m),x=await a.getDimensions(c),w=m==="y",T=w?"top":"left",k=w?"bottom":"right",N=w?"clientHeight":"clientWidth",I=o.reference[v]+o.reference[m]-p[m]-o.floating[v],M=p[m]-o.reference[m],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let R=A?A[N]:0;(!R||!await(a.isElement==null?void 0:a.isElement(A)))&&(R=s.floating[N]||o.floating[v]);const L=I/2-M/2,B=R/2-x[v]/2-1,$=em(u[T],B),W=em(u[k],B),V=$,Y=R-x[v]-W,U=R/2-x[v]/2+L,X=K6(V,U,Y),q=!l.arrow&&rx(i)!=null&&U!==X&&o.reference[v]/2-(U<V?$:W)-x[v]/2<0,ne=q?U<V?U-V:U-Y:0;return{[m]:p[m]+ne,data:{[m]:X,centerOffset:U-X-ne,...q&&{alignmentOffset:ne}},reset:q}}}),eOe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...w}=Yf(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const T=Gf(i),k=gd(s),N=Gf(s)===s,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=p||(N||!x?[bN(s)]:WNe(s)),A=v!=="none";!p&&A&&M.push(...XNe(s,x,v,I));const R=[s,...M],L=await ZS(t,w),B=[];let $=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&B.push(L[T]),u){const U=qNe(i,a,I);B.push(L[U[0]],L[U[1]])}if($=[...$,{placement:i,overflows:B}],!B.every(U=>U<=0)){var W,V;const U=(((W=o.flip)==null?void 0:W.index)||0)+1,X=R[U];if(X&&(!(u==="alignment"?k!==gd(X):!1)||$.every(Z=>gd(Z.placement)===k?Z.overflows[0]>0:!0)))return{data:{index:U,overflows:$},reset:{placement:X}};let q=(V=$.filter(ne=>ne.overflows[0]<=0).sort((ne,Z)=>ne.overflows[1]-Z.overflows[1])[0])==null?void 0:V.placement;if(!q)switch(m){case"bestFit":{var Y;const ne=(Y=$.filter(Z=>{if(A){const oe=gd(Z.placement);return oe===k||oe==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(oe=>oe>0).reduce((oe,K)=>oe+K,0)]).sort((Z,oe)=>Z[1]-oe[1])[0])==null?void 0:Y[0];ne&&(q=ne);break}case"initialPlacement":q=s;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function FV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function UV(e){return FNe.some(t=>e[t]>=0)}const tOe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Yf(e,t);switch(r){case"referenceHidden":{const o=await ZS(t,{...i,elementContext:"reference"}),a=FV(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:UV(a)}}}case"escaped":{const o=await ZS(t,{...i,altBoundary:!0}),a=FV(o,n.floating);return{data:{escapedOffsets:a,escaped:UV(a)}}}default:return{}}}}},Qoe=new Set(["left","top"]);async function nOe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Gf(n),s=rx(n),l=gd(n)==="y",c=Qoe.has(a)?-1:1,d=o&&l?-1:1,u=Yf(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&typeof v=="number"&&(m=s==="end"?v*-1:v),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const rOe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await nOe(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},iOe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:w=>{let{x:T,y:k}=w;return{x:T,y:k}}},...l}=Yf(e,t),c={x:n,y:r},d=await ZS(t,l),u=gd(Gf(i)),p=zH(u);let m=c[p],v=c[u];if(o){const w=p==="y"?"top":"left",T=p==="y"?"bottom":"right",k=m+d[w],N=m-d[T];m=K6(k,m,N)}if(a){const w=u==="y"?"top":"left",T=u==="y"?"bottom":"right",k=v+d[w],N=v-d[T];v=K6(k,v,N)}const x=s.fn({...t,[p]:m,[u]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:o,[u]:a}}}}}},oOe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Yf(e,t),d={x:n,y:r},u=gd(i),p=zH(u);let m=d[p],v=d[u];const x=Yf(s,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const N=p==="y"?"height":"width",I=o.reference[p]-o.floating[N]+w.mainAxis,M=o.reference[p]+o.reference[N]-w.mainAxis;m<I?m=I:m>M&&(m=M)}if(c){var T,k;const N=p==="y"?"width":"height",I=Qoe.has(Gf(i)),M=o.reference[u]-o.floating[N]+(I&&((T=a.offset)==null?void 0:T[u])||0)+(I?0:w.crossAxis),A=o.reference[u]+o.reference[N]+(I?0:((k=a.offset)==null?void 0:k[u])||0)-(I?w.crossAxis:0);v<M?v=M:v>A&&(v=A)}return{[p]:m,[u]:v}}}},aOe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...c}=Yf(e,t),d=await ZS(t,c),u=Gf(i),p=rx(i),m=gd(i)==="y",{width:v,height:x}=o.floating;let w,T;u==="top"||u==="bottom"?(w=u,T=p===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(T=u,w=p==="end"?"top":"bottom");const k=x-d.top-d.bottom,N=v-d.left-d.right,I=em(x-d[w],k),M=em(v-d[T],N),A=!t.middlewareData.shift;let R=I,L=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=k),A&&!p){const $=El(d.left,0),W=El(d.right,0),V=El(d.top,0),Y=El(d.bottom,0);m?L=v-2*($!==0||W!==0?$+W:El(d.left,d.right)):R=x-2*(V!==0||Y!==0?V+Y:El(d.top,d.bottom))}await l({...t,availableWidth:L,availableHeight:R});const B=await a.getDimensions(s.floating);return v!==B.width||x!==B.height?{reset:{rects:!0}}:{}}}};function dD(){return typeof window<"u"}function ix(e){return WH(e)?(e.nodeName||"").toLowerCase():"#document"}function Al(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pd(e){var t;return(t=(WH(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WH(e){return dD()?e instanceof Node||e instanceof Al(e).Node:!1}function qi(e){return dD()?e instanceof Element||e instanceof Al(e).Element:!1}function yu(e){return dD()?e instanceof HTMLElement||e instanceof Al(e).HTMLElement:!1}function Z6(e){return!dD()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Al(e).ShadowRoot}const sOe=new Set(["inline","contents"]);function OT(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=wc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!sOe.has(i)}const lOe=new Set(["table","td","th"]);function cOe(e){return lOe.has(ix(e))}const uOe=[":popover-open",":modal"];function fD(e){return uOe.some(t=>{try{return e.matches(t)}catch{return!1}})}const dOe=["transform","translate","scale","rotate","perspective"],fOe=["transform","translate","scale","rotate","perspective","filter"],hOe=["paint","layout","strict","content"];function YH(e){const t=hD(),n=qi(e)?wc(e):e;return dOe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||fOe.some(r=>(n.willChange||"").includes(r))||hOe.some(r=>(n.contain||"").includes(r))}function pOe(e){let t=Kf(e);for(;yu(t)&&!jf(t);){if(YH(t))return t;if(fD(t))return null;t=Kf(t)}return null}function hD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mOe=new Set(["html","body","#document"]);function jf(e){return mOe.has(ix(e))}function wc(e){return Al(e).getComputedStyle(e)}function pD(e){return qi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Kf(e){if(ix(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Z6(e)&&e.host||Pd(e);return Z6(t)?t.host:t}function Joe(e){const t=Kf(e);return jf(t)?e.ownerDocument?e.ownerDocument.body:e.body:yu(t)&&OT(t)?t:Joe(t)}function Up(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Joe(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Al(i);if(o){const s=Q6(a);return t.concat(a,a.visualViewport||[],OT(i)?i:[],s&&n?Up(s):[])}return t.concat(i,Up(i,[],n))}function Q6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eae(e){const t=wc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=yu(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=yN(n)!==o||yN(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function GH(e){return qi(e)?e:e.contextElement}function Lv(e){const t=GH(e);if(!yu(t))return Ed(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=eae(t);let a=(o?yN(n.width):n.width)/r,s=(o?yN(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const gOe=Ed(0);function tae(e){const t=Al(e);return!hD()||!t.visualViewport?gOe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yOe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Al(e)?!1:t}function A0(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=GH(e);let a=Ed(1);t&&(r?qi(r)&&(a=Lv(r)):a=Lv(e));const s=yOe(o,n,r)?tae(o):Ed(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,d=i.width/a.x,u=i.height/a.y;if(o){const p=Al(o),m=r&&qi(r)?Al(r):r;let v=p,x=Q6(v);for(;x&&r&&m!==v;){const w=Lv(x),T=x.getBoundingClientRect(),k=wc(x),N=T.left+(x.clientLeft+parseFloat(k.paddingLeft))*w.x,I=T.top+(x.clientTop+parseFloat(k.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,u*=w.y,l+=N,c+=I,v=Al(x),x=Q6(v)}}return vN({width:d,height:u,x:l,y:c})}function mD(e,t){const n=pD(e).scrollLeft;return t?t.left+n:A0(Pd(e)).left+n}function nae(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-mD(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function bOe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=Pd(r),s=t?fD(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Ed(1);const d=Ed(0),u=yu(r);if((u||!u&&!o)&&((ix(r)!=="body"||OT(a))&&(l=pD(r)),yu(r))){const m=A0(r);c=Lv(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=a&&!u&&!o?nae(a,l):Ed(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function vOe(e){return Array.from(e.getClientRects())}function xOe(e){const t=Pd(e),n=pD(e),r=e.ownerDocument.body,i=El(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=El(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+mD(e);const s=-n.scrollTop;return wc(r).direction==="rtl"&&(a+=El(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const zV=25;function wOe(e,t){const n=Al(e),r=Pd(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const d=hD();(!d||d&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=mD(r);if(c<=0){const d=r.ownerDocument,u=d.body,p=getComputedStyle(u),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-u.clientWidth-m);v<=zV&&(o-=v)}else c<=zV&&(o+=c);return{width:o,height:a,x:s,y:l}}const EOe=new Set(["absolute","fixed"]);function SOe(e,t){const n=A0(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=yu(e)?Lv(e):Ed(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function VV(e,t,n){let r;if(t==="viewport")r=wOe(e,n);else if(t==="document")r=xOe(Pd(e));else if(qi(t))r=SOe(t,n);else{const i=tae(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return vN(r)}function rae(e,t){const n=Kf(e);return n===t||!qi(n)||jf(n)?!1:wc(n).position==="fixed"||rae(n,t)}function COe(e,t){const n=t.get(e);if(n)return n;let r=Up(e,[],!1).filter(s=>qi(s)&&ix(s)!=="body"),i=null;const o=wc(e).position==="fixed";let a=o?Kf(e):e;for(;qi(a)&&!jf(a);){const s=wc(a),l=YH(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&EOe.has(i.position)||OT(a)&&!l&&rae(e,a))?r=r.filter(d=>d!==a):i=s,a=Kf(a)}return t.set(e,r),r}function TOe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?fD(t)?[]:COe(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,d)=>{const u=VV(t,d,i);return c.top=El(u.top,c.top),c.right=em(u.right,c.right),c.bottom=em(u.bottom,c.bottom),c.left=El(u.left,c.left),c},VV(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kOe(e){const{width:t,height:n}=eae(e);return{width:t,height:n}}function _Oe(e,t,n){const r=yu(t),i=Pd(t),o=n==="fixed",a=A0(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Ed(0);function c(){l.x=mD(i)}if(r||!r&&!o)if((ix(t)!=="body"||OT(i))&&(s=pD(t)),r){const m=A0(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&c();o&&!r&&i&&c();const d=i&&!r&&!o?nae(i,s):Ed(0),u=a.left+s.scrollLeft-l.x-d.x,p=a.top+s.scrollTop-l.y-d.y;return{x:u,y:p,width:a.width,height:a.height}}function WI(e){return wc(e).position==="static"}function qV(e,t){if(!yu(e)||wc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Pd(e)===n&&(n=n.ownerDocument.body),n}function iae(e,t){const n=Al(e);if(fD(e))return n;if(!yu(e)){let i=Kf(e);for(;i&&!jf(i);){if(qi(i)&&!WI(i))return i;i=Kf(i)}return n}let r=qV(e,t);for(;r&&cOe(r)&&WI(r);)r=qV(r,t);return r&&jf(r)&&WI(r)&&!YH(r)?n:r||pOe(e)||n}const AOe=async function(e){const t=this.getOffsetParent||iae,n=this.getDimensions,r=await n(e.floating);return{reference:_Oe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function NOe(e){return wc(e).direction==="rtl"}const OOe={convertOffsetParentRelativeRectToViewportRelativeRect:bOe,getDocumentElement:Pd,getClippingRect:TOe,getOffsetParent:iae,getElementRects:AOe,getClientRects:vOe,getDimensions:kOe,getScale:Lv,isElement:qi,isRTL:NOe};function oae(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function MOe(e,t){let n=null,r;const i=Pd(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:d,top:u,width:p,height:m}=c;if(s||t(),!p||!m)return;const v=q_(u),x=q_(i.clientWidth-(d+p)),w=q_(i.clientHeight-(u+m)),T=q_(d),N={rootMargin:-v+"px "+-x+"px "+-w+"px "+-T+"px",threshold:El(0,em(1,l))||1};let I=!0;function M(A){const R=A[0].intersectionRatio;if(R!==l){if(!I)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!oae(c,e.getBoundingClientRect())&&a(),I=!1}try{n=new IntersectionObserver(M,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,N)}n.observe(e)}return a(!0),o}function aae(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=GH(e),d=i||o?[...c?Up(c):[],...Up(t)]:[];d.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),o&&T.addEventListener("resize",n)});const u=c&&s?MOe(c,n):null;let p=-1,m=null;a&&(m=new ResizeObserver(T=>{let[k]=T;k&&k.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let v,x=l?A0(e):null;l&&w();function w(){const T=A0(e);x&&!oae(x,T)&&n(),x=T,v=requestAnimationFrame(w)}return n(),()=>{var T;d.forEach(k=>{i&&k.removeEventListener("scroll",n),o&&k.removeEventListener("resize",n)}),u?.(),(T=m)==null||T.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const DOe=rOe,ROe=iOe,IOe=eOe,POe=aOe,LOe=tOe,WV=JNe,jOe=oOe,BOe=(e,t,n)=>{const r=new Map,i={platform:OOe,...n},o={...i.platform,_c:r};return QNe(e,t,{...i,platform:o})};var $Oe=typeof document<"u",HOe=function(){},qA=$Oe?C.useLayoutEffect:HOe;function xN(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xN(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!xN(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function sae(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function YV(e,t){const n=sae(e);return Math.round(t*n)/n}function YI(e){const t=C.useRef(e);return qA(()=>{t.current=e}),t}function lae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[d,u]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=C.useState(r);xN(p,r)||m(r);const[v,x]=C.useState(null),[w,T]=C.useState(null),k=C.useCallback(Z=>{Z!==A.current&&(A.current=Z,x(Z))},[]),N=C.useCallback(Z=>{Z!==R.current&&(R.current=Z,T(Z))},[]),I=o||v,M=a||w,A=C.useRef(null),R=C.useRef(null),L=C.useRef(d),B=l!=null,$=YI(l),W=YI(i),V=YI(c),Y=C.useCallback(()=>{if(!A.current||!R.current)return;const Z={placement:t,strategy:n,middleware:p};W.current&&(Z.platform=W.current),BOe(A.current,R.current,Z).then(oe=>{const K={...oe,isPositioned:V.current!==!1};U.current&&!xN(L.current,K)&&(L.current=K,ka.flushSync(()=>{u(K)}))})},[p,t,n,W,V]);qA(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,u(Z=>({...Z,isPositioned:!1})))},[c]);const U=C.useRef(!1);qA(()=>(U.current=!0,()=>{U.current=!1}),[]),qA(()=>{if(I&&(A.current=I),M&&(R.current=M),I&&M){if($.current)return $.current(I,M,Y);Y()}},[I,M,Y,$,B]);const X=C.useMemo(()=>({reference:A,floating:R,setReference:k,setFloating:N}),[k,N]),q=C.useMemo(()=>({reference:I,floating:M}),[I,M]),ne=C.useMemo(()=>{const Z={position:n,left:0,top:0};if(!q.floating)return Z;const oe=YV(q.floating,d.x),K=YV(q.floating,d.y);return s?{...Z,transform:"translate("+oe+"px, "+K+"px)",...sae(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:K}},[n,s,q.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:Y,refs:X,elements:q,floatingStyles:ne}),[d,Y,X,q,ne])}const FOe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?WV({element:r.current,padding:i}).fn(n):{}:r?WV({element:r,padding:i}).fn(n):{}}}},sh=(e,t)=>({...DOe(e),options:[e,t]}),MT=(e,t)=>({...ROe(e),options:[e,t]}),UOe=(e,t)=>({...jOe(e),options:[e,t]}),dm=(e,t)=>({...IOe(e),options:[e,t]}),gD=(e,t)=>({...POe(e),options:[e,t]}),zOe=(e,t)=>({...LOe(e),options:[e,t]}),VOe=(e,t)=>({...FOe(e),options:[e,t]});var qOe="Arrow",cae=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return g.jsx(Ct.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});cae.displayName=qOe;var WOe=cae;function uae(e){const[t,n]=C.useState(void 0);return Xi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var KH="Popper",[dae,fm]=us(KH),[YOe,fae]=dae(KH),hae=e=>{const{__scopePopper:t,children:n}=e,[r,i]=C.useState(null);return g.jsx(YOe,{scope:t,anchor:r,onAnchorChange:i,children:n})};hae.displayName=KH;var pae="PopperAnchor",mae=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=fae(pae,n),a=C.useRef(null),s=wn(t,a),l=C.useRef(null);return C.useEffect(()=>{const c=l.current;l.current=r?.current||a.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:g.jsx(Ct.div,{...i,ref:s})});mae.displayName=pae;var XH="PopperContent",[GOe,KOe]=dae(XH),gae=C.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...x}=e,w=fae(XH,n),[T,k]=C.useState(null),N=wn(t,Ee=>k(Ee)),[I,M]=C.useState(null),A=uae(I),R=A?.width??0,L=A?.height??0,B=r+(o!=="center"?"-"+o:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},W=Array.isArray(c)?c:[c],V=W.length>0,Y={padding:$,boundary:W.filter(ZOe),altBoundary:V},{refs:U,floatingStyles:X,placement:q,isPositioned:ne,middlewareData:Z}=lae({strategy:"fixed",placement:B,whileElementsMounted:(...Ee)=>aae(...Ee,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[sh({mainAxis:i+L,alignmentAxis:a}),l&&MT({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?UOe():void 0,...Y}),l&&dm({...Y}),gD({...Y,apply:({elements:Ee,rects:ve,availableWidth:we,availableHeight:je})=>{const{width:Ke,height:Me}=ve.reference,Lt=Ee.floating.style;Lt.setProperty("--radix-popper-available-width",`${we}px`),Lt.setProperty("--radix-popper-available-height",`${je}px`),Lt.setProperty("--radix-popper-anchor-width",`${Ke}px`),Lt.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),I&&VOe({element:I,padding:s}),QOe({arrowWidth:R,arrowHeight:L}),p&&zOe({strategy:"referenceHidden",...Y})]}),[oe,K]=vae(q),Q=To(v);Xi(()=>{ne&&Q?.()},[ne,Q]);const te=Z.arrow?.x,z=Z.arrow?.y,fe=Z.arrow?.centerOffset!==0,[me,ke]=C.useState();return Xi(()=>{T&&ke(window.getComputedStyle(T).zIndex)},[T]),g.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:ne?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[Z.transformOrigin?.x,Z.transformOrigin?.y].join(" "),...Z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:g.jsx(GOe,{scope:n,placedSide:oe,onArrowChange:M,arrowX:te,arrowY:z,shouldHideArrow:fe,children:g.jsx(Ct.div,{"data-side":oe,"data-align":K,...x,ref:N,style:{...x.style,animation:ne?void 0:"none"}})})})});gae.displayName=XH;var yae="PopperArrow",XOe={top:"bottom",right:"left",bottom:"top",left:"right"},bae=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=KOe(yae,r),a=XOe[o.placedSide];return g.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:g.jsx(WOe,{...i,ref:n,style:{...i.style,display:"block"}})})});bae.displayName=yae;function ZOe(e){return e!==null}var QOe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,s=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[c,d]=vae(n),u={start:"0%",center:"50%",end:"100%"}[d],p=(i.arrow?.x??0)+s/2,m=(i.arrow?.y??0)+l/2;let v="",x="";return c==="bottom"?(v=a?u:`${p}px`,x=`${-l}px`):c==="top"?(v=a?u:`${p}px`,x=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,x=a?u:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,x=a?u:`${m}px`),{data:{x:v,y:x}}}});function vae(e){const[t,n="center"]=e.split("-");return[t,n]}var DT=hae,RT=mae,yD=gae,bD=bae,JOe=Symbol("radix.slottable");function eMe(e){const t=({children:n})=>g.jsx(g.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=JOe,t}var xae=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tMe="VisuallyHidden",wae=C.forwardRef((e,t)=>g.jsx(Ct.span,{...e,ref:t,style:{...xae,...e.style}}));wae.displayName=tMe;var nMe=wae,[vD]=us("Tooltip",[fm]),xD=fm(),Eae="TooltipProvider",rMe=700,J6="tooltip.open",[iMe,ZH]=vD(Eae),Sae=e=>{const{__scopeTooltip:t,delayDuration:n=rMe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,a=C.useRef(!0),s=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),g.jsx(iMe,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:C.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:o})};Sae.displayName=Eae;var QS="Tooltip",[oMe,IT]=vD(QS),Cae=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=e,l=ZH(QS,e.__scopeTooltip),c=xD(t),[d,u]=C.useState(null),p=Gi(),m=C.useRef(0),v=a??l.disableHoverableContent,x=s??l.delayDuration,w=C.useRef(!1),[T,k]=vc({prop:r,defaultProp:i??!1,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(J6))):l.onClose(),o?.(R)},caller:QS}),N=C.useMemo(()=>T?w.current?"delayed-open":"instant-open":"closed",[T]),I=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,k(!0)},[k]),M=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,k(!1)},[k]),A=C.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,k(!0),m.current=0},x)},[x,k]);return C.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),g.jsx(DT,{...c,children:g.jsx(oMe,{scope:t,contentId:p,open:T,stateAttribute:N,trigger:d,onTriggerChange:u,onTriggerEnter:C.useCallback(()=>{l.isOpenDelayedRef.current?A():I()},[l.isOpenDelayedRef,A,I]),onTriggerLeave:C.useCallback(()=>{v?M():(window.clearTimeout(m.current),m.current=0)},[M,v]),onOpen:I,onClose:M,disableHoverableContent:v,children:n})})};Cae.displayName=QS;var eB="TooltipTrigger",Tae=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=IT(eB,n),o=ZH(eB,n),a=xD(n),s=C.useRef(null),l=wn(t,s,i.onTriggerChange),c=C.useRef(!1),d=C.useRef(!1),u=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),g.jsx(RT,{asChild:!0,...a,children:g.jsx(Ct.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ut(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ut(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ut(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:ut(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:ut(e.onBlur,i.onClose),onClick:ut(e.onClick,i.onClose)})})});Tae.displayName=eB;var QH="TooltipPortal",[aMe,sMe]=vD(QH,{forceMount:void 0}),kae=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=IT(QH,t);return g.jsx(aMe,{scope:t,forceMount:n,children:g.jsx(_o,{present:n||o.open,children:g.jsx(X1,{asChild:!0,container:i,children:r})})})};kae.displayName=QH;var a1="TooltipContent",_ae=C.forwardRef((e,t)=>{const n=sMe(a1,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,a=IT(a1,e.__scopeTooltip);return g.jsx(_o,{present:r||a.open,children:a.disableHoverableContent?g.jsx(Aae,{side:i,...o,ref:t}):g.jsx(lMe,{side:i,...o,ref:t})})}),lMe=C.forwardRef((e,t)=>{const n=IT(a1,e.__scopeTooltip),r=ZH(a1,e.__scopeTooltip),i=C.useRef(null),o=wn(t,i),[a,s]=C.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:u}=r,p=C.useCallback(()=>{s(null),u(!1)},[u]),m=C.useCallback((v,x)=>{const w=v.currentTarget,T={x:v.clientX,y:v.clientY},k=fMe(T,w.getBoundingClientRect()),N=hMe(T,k),I=pMe(x.getBoundingClientRect()),M=gMe([...N,...I]);s(M),u(!0)},[u]);return C.useEffect(()=>()=>p(),[p]),C.useEffect(()=>{if(l&&d){const v=w=>m(w,d),x=w=>m(w,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",x)}}},[l,d,m,p]),C.useEffect(()=>{if(a){const v=x=>{const w=x.target,T={x:x.clientX,y:x.clientY},k=l?.contains(w)||d?.contains(w),N=!mMe(T,a);k?p():N&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,a,c,p]),g.jsx(Aae,{...e,ref:o})}),[cMe,uMe]=vD(QS,{isInside:!1}),dMe=eMe("TooltipContent"),Aae=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=e,l=IT(a1,n),c=xD(n),{onClose:d}=l;return C.useEffect(()=>(document.addEventListener(J6,d),()=>document.removeEventListener(J6,d)),[d]),C.useEffect(()=>{if(l.trigger){const u=p=>{p.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),g.jsx(K1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:g.jsxs(yD,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(dMe,{children:r}),g.jsx(cMe,{scope:n,isInside:!0,children:g.jsx(nMe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});_ae.displayName=a1;var Nae="TooltipArrow",Oae=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=xD(n);return uMe(Nae,n).isInside?null:g.jsx(bD,{...i,...r,ref:t})});Oae.displayName=Nae;function fMe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hMe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function pMe(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function mMe(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const s=t[o],l=t[a],c=s.x,d=s.y,u=l.x,p=l.y;d>r!=p>r&&n<(u-c)*(r-d)/(p-d)+c&&(i=!i)}return i}function gMe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),yMe(t)}function yMe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Mae=Sae,Dae=Cae,Rae=Tae,bMe=kae,JH=_ae,vMe=Oae;const js=Mae,Pr=Dae,Lr=Rae,Or=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>g.jsx(bMe,{children:g.jsx(JH,{ref:r,sideOffset:t,className:Ie("z-2000 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));Or.displayName=JH.displayName;function e9({icon:e,title:t,description:n,action:r,onClick:i,className:o}){return g.jsxs("div",{className:Ie("flex flex-col items-center justify-center py-12 px-4",o),onClick:i,children:[g.jsx("div",{className:"rounded-full bg-muted p-4 mb-4",children:g.jsx(e,{className:"h-8 w-8 text-muted-foreground"})}),g.jsxs("div",{className:"text-center space-y-2 max-w-md",children:[g.jsx("h3",{className:"font-semibold text-lg",children:t}),g.jsx("p",{className:"text-sm text-muted-foreground",children:n}),r&&g.jsx("div",{className:"pt-4",children:r})]})]})}function d0({className:e,...t}){return g.jsx("div",{className:Ie("animate-pulse rounded-md bg-primary/10",e),...t})}const ty=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{className:"relative w-full overflow-auto max-w-full mb-0",children:g.jsx("table",{ref:n,className:Ie("w-max min-w-full caption-bottom text-sm",e),...t})}));ty.displayName="Table";const ny=C.forwardRef(({className:e,...t},n)=>g.jsx("thead",{ref:n,className:Ie("[&_tr]:border-b",e),...t}));ny.displayName="TableHeader";const ry=C.forwardRef(({className:e,...t},n)=>g.jsx("tbody",{ref:n,className:Ie("[&_tr:last-child]:border-0",e),...t}));ry.displayName="TableBody";const xMe=C.forwardRef(({className:e,...t},n)=>g.jsx("tfoot",{ref:n,className:Ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));xMe.displayName="TableFooter";const Ea=C.forwardRef(({className:e,...t},n)=>g.jsx("tr",{ref:n,className:Ie("transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),style:{borderBottom:"1px solid #2a1c0012"},...t}));Ea.displayName="TableRow";const oo=C.forwardRef(({className:e,...t},n)=>g.jsx("th",{ref:n,className:Ie("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));oo.displayName="TableHead";const Ai=C.forwardRef(({className:e,...t},n)=>g.jsx("td",{ref:n,className:Ie("py-2 px-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] whitespace-nowrap border-r",e),...t}));Ai.displayName="TableCell";const wMe=C.forwardRef(({className:e,...t},n)=>g.jsx("caption",{ref:n,className:Ie("mt-4 text-sm text-muted-foreground",e),...t}));wMe.displayName="TableCaption";function ox({columns:e,rows:t=5}){return g.jsxs(ty,{children:[g.jsx(ny,{children:g.jsx(Ea,{children:Array.from({length:e}).map((n,r)=>g.jsx(oo,{children:g.jsx(d0,{className:"h-4 w-24"})},r))})}),g.jsx(ry,{children:Array.from({length:t}).map((n,r)=>g.jsx(Ea,{children:Array.from({length:e}).map((i,o)=>g.jsx(Ai,{children:g.jsx(d0,{className:"h-4 w-full"})},o))},r))})]})}function EMe(){const e=fu(a=>a.tenants),t=fu(a=>a.loading),n=Q0(),r=fu(a=>a.fetchLabelsAndTenants),i=aD(a=>a.toggleSidebar);C.useEffect(()=>{r()},[r]);const o=a=>{n(`/tenants/${encodeURIComponent(a)}`)};return g.jsxs("div",{className:"flex-1 space-y-6 px-8 py-4",children:[g.jsxs("nav",{className:"flex items-center text-muted-foreground gap-1",children:[g.jsxs(ni,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:i,children:[g.jsx(MH,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Toggle sidebar"})]}),g.jsx(xc,{orientation:"vertical",className:"h-4 mr-2 text-secondary-foreground"}),g.jsx(wd,{to:"/",className:"hover:text-foreground transition-colors font-lg",children:g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d"})}),"/"]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[g.jsx(Uie,{className:"h-8 w-8 text-muted-foreground"}),"Tenants"]}),g.jsx("p",{className:"text-sm text-secondary-foreground",children:"Select a tenant namespace to view their data"})]}),g.jsx("div",{children:t&&!e?g.jsx(ox,{columns:1,rows:5}):e.length===0?g.jsx(e9,{icon:Die,title:"No tenants yet",description:"Tenants will appear automatically once you start pushing events to Dashfrog."}):g.jsxs(ty,{children:[g.jsx(ny,{children:g.jsx(Ea,{children:g.jsx(oo,{children:"Tenant"})})}),g.jsx(ry,{children:e.map(a=>g.jsx(Ea,{onClick:()=>o(a),className:"cursor-pointer",children:g.jsxs(Ai,{className:"font-medium",children:["d/",a]})},a))})]})})]})}const f0=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("rounded-xl border bg-card text-card-foreground shadow",e),...t}));f0.displayName="Card";const zp=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("flex flex-col space-y-1.5 p-6",e),...t}));zp.displayName="CardHeader";const wN=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("font-semibold leading-none tracking-tight",e),...t}));wN.displayName="CardTitle";const s1=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));s1.displayName="CardDescription";const EN=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("p-6 pt-0",e),...t}));EN.displayName="CardContent";const jv=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("flex items-center p-6 pt-0",e),...t}));jv.displayName="CardFooter";const SMe=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("pt-1.5",e),...t}));SMe.displayName="CardAction";const hu=C.forwardRef(({className:e,type:t,...n},r)=>g.jsx("input",{type:t,className:Ie("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));hu.displayName="Input";var CMe="Label",Iae=C.forwardRef((e,t)=>g.jsx(Ct.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Iae.displayName=CMe;var t9=Iae;const TMe=J0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xf=C.forwardRef(({className:e,...t},n)=>g.jsx(t9,{ref:n,className:Ie(TMe(),e),...t}));Xf.displayName=t9.displayName;const kMe={login:async(e,t)=>{const n=new URLSearchParams;n.append("username",e),n.append("password",t);const r=await fetch("/api/auth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});if(!r.ok)throw r.status===401?new Error("Invalid username or password"):new Error(`Authentication failed: ${r.statusText}`);return await r.json()}};function _Me(){const[e,t]=C.useState(""),[n,r]=C.useState(""),[i,o]=C.useState(""),[a,s]=C.useState(!1),l=Q0(),c=BH(u=>u.login),d=async u=>{u.preventDefault(),o(""),s(!0);try{if(!e||!n){o("Please enter both username and password");return}const p=await kMe.login(e,n);c(e,p.access_token),l("/")}catch(p){p instanceof Error?o(p.message):o("An error occurred during login")}finally{s(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:g.jsxs(f0,{className:"w-full max-w-md",children:[g.jsxs(zp,{className:"space-y-1",children:[g.jsx(wN,{className:"text-2xl font-bold",children:"Login"}),g.jsx(s1,{children:"Enter your credentials to access Dashfrog"})]}),g.jsx(EN,{children:g.jsxs("form",{onSubmit:d,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Xf,{htmlFor:"username",children:"Username"}),g.jsx(hu,{id:"username",type:"text",placeholder:"Enter your username",value:e,onChange:u=>t(u.target.value),disabled:a,autoComplete:"username"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Xf,{htmlFor:"password",children:"Password"}),g.jsx(hu,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:u=>r(u.target.value),disabled:a,autoComplete:"current-password"})]}),i&&g.jsx("div",{className:"text-sm text-red-500 font-medium",children:i}),g.jsx(ni,{type:"submit",className:"w-full",disabled:a,children:a?"Logging in...":"Login"})]})})]})})}const AMe="modulepreload",NMe=function(e){return"/"+e},GV={},SN=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var a=c;document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=c(n.map(d=>{if(d=NMe(d),d in GV)return;GV[d]=!0;const u=d.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":AMe,u||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((v,x)=>{m.addEventListener("load",v),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};function Zo(e){this.content=e}Zo.prototype={constructor:Zo,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new Zo(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Zo(n)},addToStart:function(e,t){return new Zo([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Zo(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new Zo(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Zo.from(e),e.size?new Zo(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Zo.from(e),e.size?new Zo(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Zo.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Zo.from=function(e){if(e instanceof Zo)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Zo(t)};function Pae(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){let a=Pae(i.content,o.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function Lae(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let a=e.child(--i),s=t.child(--o),l=a.nodeSize;if(a==s){n-=l,r-=l;continue}if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let c=0,d=Math.min(a.text.length,s.text.length);for(;c<d&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let c=Lae(a.content,s.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class He{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let a=0,s=0;s<n;a++){let l=this.content[a],c=s+l.nodeSize;if(c>t&&r(l,i+s,o||null,a)!==!1&&l.content.size){let d=s+1;l.nodesBetween(Math.max(0,t-d),Math.min(l.content.size,n-d),r,i+d)}s=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",a=!0;return this.nodesBetween(t,n,(s,l)=>{let c=s.isText?s.text.slice(Math.max(t,l)-l,n-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&c||s.isTextblock)&&r&&(a?a=!1:o+=r),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new He(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,a=0;a<n;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>n)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,n-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,n-a-1))),r.push(s),i+=s.nodeSize),a=l}return new He(r,i)}cutByIndex(t,n){return t==n?He.empty:t==0&&n==this.content.length?this:new He(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new He(i,o)}addToStart(t){return new He([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new He(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return Pae(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return Lae(this,t,n,r)}findIndex(t){if(t==0)return W_(0,t);if(t==this.size)return W_(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t?W_(n+1,o):W_(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return He.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new He(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return He.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new He(n||t,r)}static from(t){if(!t)return He.empty;if(t instanceof He)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new He([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}He.empty=new He([],0);const GI={index:0,offset:0};function W_(e,t){return GI.index=e,GI.offset=t,GI}function CN(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!CN(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!CN(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Vr=class tB{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&CN(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return tB.none;if(t instanceof tB)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Vr.none=[];class TN extends Error{}class at{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=Bae(this.content,t+this.openStart,n);return r&&new at(r,this.openStart,this.openEnd)}removeBetween(t,n){return new at(jae(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return at.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new at(He.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new at(t,r,i)}}at.empty=new at(He.empty,0,0);function jae(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(i==t||o.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(jae(o.content,t-i-1,n-i-1)))}function Bae(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),a=e.maybeChild(i);if(o==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=Bae(a.content,t-o-1,n,a);return s&&e.replaceChild(i,a.copy(s))}function OMe(e,t,n){if(n.openStart>e.depth)throw new TN("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new TN("Inconsistent open depths");return $ae(e,t,n,0)}function $ae(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=$ae(e,t,n,r+1);return o.copy(o.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,s=a.content;return p0(a,s.cut(0,e.parentOffset).append(n.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=MMe(n,e);return p0(o,Fae(e,a,s,t,r))}else return p0(o,kN(e,t,r))}function Hae(e,t){if(!t.type.compatibleContent(e.type))throw new TN("Cannot join "+t.type.name+" onto "+e.type.name)}function nB(e,t,n){let r=e.node(n);return Hae(r,t.node(n)),r}function h0(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function gS(e,t,n,r){let i=(t||e).node(n),o=0,a=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(h0(e.nodeAfter,r),o++));for(let s=o;s<a;s++)h0(i.child(s),r);t&&t.depth==n&&t.textOffset&&h0(t.nodeBefore,r)}function p0(e,t){return e.type.checkContent(t),e.copy(t)}function Fae(e,t,n,r,i){let o=e.depth>i&&nB(e,t,i+1),a=r.depth>i&&nB(n,r,i+1),s=[];return gS(null,e,i,s),o&&a&&t.index(i)==n.index(i)?(Hae(o,a),h0(p0(o,Fae(e,t,n,r,i+1)),s)):(o&&h0(p0(o,kN(e,t,i+1)),s),gS(t,n,i,s),a&&h0(p0(a,kN(n,r,i+1)),s)),gS(r,null,i,s),new He(s)}function kN(e,t,n){let r=[];if(gS(null,e,n,r),e.depth>n){let i=nB(e,t,n+1);h0(p0(i,kN(e,t,n+1)),r)}return gS(t,null,n,r),new He(r)}function MMe(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(He.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class JS{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Vr.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let s=r;r=i,i=s}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new _N(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),c=o-l;if(r.push(a,s,i+l),!c||(a=a.child(s),a.isText))break;o=c-1,i+=l+1}return new JS(n,r,o)}static resolveCached(t,n){let r=KV.get(t);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==n)return a}else KV.set(t,r=new DMe);let i=r.elts[r.i]=JS.resolve(t,n);return r.i=(r.i+1)%RMe,i}}class DMe{constructor(){this.elts=[],this.i=0}}const RMe=12,KV=new WeakMap;class _N{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const IMe=Object.create(null);let Bf=class rB{constructor(t,n,r,i=Vr.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||He.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&CN(this.attrs,n||t.defaultAttrs||IMe)&&Vr.sameSet(this.marks,r||Vr.none)}copy(t=null){return t==this.content?this:new rB(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new rB(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return at.empty;let i=this.resolve(t),o=this.resolve(n),a=r?0:i.sharedDepth(n),s=i.start(a),c=i.node(a).content.cut(i.pos-s,o.pos-s);return new at(c,i.depth-a,o.depth-a)}replace(t,n,r){return OMe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return JS.resolveCached(this,t)}resolveNoCache(t){return JS.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Uae(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=He.empty,i=0,o=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,o),s=a&&a.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Vr.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Vr.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=He.fromJSON(t,n.content),o=t.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Bf.prototype.text=void 0;class AN extends Bf{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Uae(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new AN(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new AN(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Uae(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class N0{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new PMe(t,n);if(r.next==null)return N0.empty;let i=zae(r);r.next&&r.err("Unexpected trailing text");let o=UMe(FMe(i));return zMe(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(a,s){let l=a.matchFragment(t,r);if(l&&(!n||l.validEnd))return He.from(s.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:d,next:u}=a.next[c];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(u)==-1){i.push(u);let p=o(u,s.concat(d));if(p)return p}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||l.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return o}).join(`
`)}}N0.empty=new N0(!0);class PMe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function zae(e){let t=[];do t.push(LMe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function LMe(e){let t=[];do t.push(jMe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function jMe(e){let t=HMe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=BMe(e,t);else break;return t}function XV(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function BMe(e,t){let n=XV(e),r=n;return e.eat(",")&&(e.next!="}"?r=XV(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function $Me(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let a=n[o];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function HMe(e){if(e.eat("(")){let t=zae(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=$Me(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function FMe(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(a,s,l){let c={term:l,to:s};return t[a].push(c),c}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(o(c,s)),[]);if(a.type=="seq")for(let l=0;;l++){let c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;i(c,s=n())}else if(a.type=="star"){let l=n();return r(s,l),i(o(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return i(o(a.expr,s),l),i(o(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let c=0;c<a.min;c++){let d=n();i(o(a.expr,l),d),l=d}if(a.max==-1)i(o(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let d=n();r(l,d),i(o(a.expr,l),d),l=d}return[r(l)]}else{if(a.type=="name")return[r(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Vae(e,t){return t-e}function ZV(e,t){let n=[];return r(t),n.sort(Vae);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&n.indexOf(l)==-1&&r(l)}}}function UMe(e){let t=Object.create(null);return n(ZV(e,0));function n(r){let i=[];r.forEach(a=>{e[a].forEach(({term:s,to:l})=>{if(!s)return;let c;for(let d=0;d<i.length;d++)i[d][0]==s&&(c=i[d][1]);ZV(e,l).forEach(d=>{c||i.push([s,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let o=t[r.join(",")]=new N0(r.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(Vae);o.next.push({type:i[a][0],next:t[s.join(",")]||n(s)})}return o}}function zMe(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:c}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function qae(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Wae(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Yae(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function Gae(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new qMe(e,r,t[r]);return n}let QV=class Kae{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Gae(t,r.attrs),this.defaultAttrs=qae(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==N0.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Wae(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Bf(this,this.computeAttrs(t),He.from(n),Vr.setFrom(r))}createChecked(t=null,n,r){return n=He.from(n),this.checkContent(n),new Bf(this,this.computeAttrs(t),n,Vr.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=He.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(He.empty,!0);return o?new Bf(this,t,n.append(o),Vr.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){Yae(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Vr.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,a)=>r[o]=new Kae(o,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function VMe(e,t,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}class qMe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?VMe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class wD{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=Gae(t,i.attrs),this.excluded=null;let o=qae(this.attrs);this.instance=o?new Vr(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Vr(this,Wae(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,a)=>r[o]=new wD(o,i++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){Yae(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}let Xae=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Zo.from(t.nodes),n.marks=Zo.from(t.marks||{}),this.nodes=QV.compile(this.spec.nodes,this),this.marks=wD.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=N0.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?JV(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:JV(this,a.split(" "))}this.nodeFromJSON=i=>Bf.fromJSON(this,i),this.markFromJSON=i=>Vr.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof QV){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new AN(r,r.defaultAttrs,t,Vr.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}};function JV(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],a=o;if(o)n.push(o);else for(let s in e.marks){let l=e.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function WMe(e){return e.tag!=null}function YMe(e){return e.style!=null}let pu=class iB{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(WMe(i))this.tags.push(i);else if(YMe(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,n={}){let r=new tq(this,n,!1);return r.addAll(t,Vr.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new tq(this,n,!0);return r.addAll(t,Vr.none,n.from,n.to),at.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(XMe(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let s=n[a];if((s.priority==null?50:s.priority)<o)break}n.splice(a,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(a=>{r(a=nq(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(a=>{r(a=nq(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new iB(t,iB.schemaRules(t)))}};const Zae={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},GMe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Qae={ol:!0,ul:!0},eC=1,oB=2,yS=4;function eq(e,t,n){return t!=null?(t?eC:0)|(t==="full"?oB:0):e&&e.whitespace=="pre"?eC|oB:n&~yS}class Y_{constructor(t,n,r,i,o,a){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Vr.none,this.match=o||(a&yS?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(He.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&eC)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=He.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(He.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Zae.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class tq{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,a=eq(null,n.preserveWhitespace,0)|(r?yS:0);i?o=new Y_(i.type,i.attrs,Vr.none,!0,n.topMatch||i.type.contentMatch,a):r?o=new Y_(null,null,Vr.none,!0,null,a):o=new Y_(t.schema.topNodeType,null,Vr.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,o=i.options&oB?"full":this.localPreserveWS||(i.options&eC)>0,{schema:a}=this.parser;if(o==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let s=r.split(/\r?\n|\r/);for(let l=0;l<s.length;l++)l&&this.insertNode(a.linebreakReplacement.create(),n,!0),s[l]&&this.insertNode(a.text(s[l]),n,!/\S/.test(s[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],l=t.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),s;Qae.hasOwnProperty(a)&&this.parser.normalizeLists&&KMe(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,r));e:if(l?l.ignore:GMe.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,d=this.needsBlock;if(Zae.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let u=l&&l.skip?n:this.readStyles(t,n);u&&this.addAll(t,u),c&&this.sync(o),this.needsBlock=d}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=r.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return n}addElementByRule(t,n,r,i){let o,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(a,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}o&&this.sync(s)&&this.open--}addAll(t,n,r,i){let o=r||0;for(let a=r?t.childNodes[r]:t.firstChild,s=i==null?null:t.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a,n);this.findAtPoint(t,o)}findPlace(t,n,r){let i,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(t);if(c&&(!i||i.length>c.length+s)&&(i=c,o=l,!c.length))break;if(l.solid){if(r)break;s+=2}}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let a=Vr.none;for(let s of i.concat(t.marks))(o.type?o.type.allowsMarkType(s.type):rq(s.type,t.type))&&(a=s.addToSet(a));return o.content.push(t.mark(a)),!0}return!1}enter(t,n,r,i){let o=this.findPlace(t.create(n),r,!1);return o&&(o=this.enterInner(t,n,r,!0,i)),o}enterInner(t,n,r,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let s=eq(t,o,a.options);a.options&yS&&a.content.length==0&&(s|=yS);let l=Vr.none;return r=r.filter(c=>(a.type?a.type.allowsMarkType(c.type):rq(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Y_(t,n,l,i,null,s)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=eC)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let c=n[s];if(c==""){if(s==n.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let d=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function KMe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&Qae.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function XMe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function nq(e){let t={};for(let n in e)t[n]=e[n];return t}function rq(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:c,next:d}=s.edge(l);if(c==t||o.indexOf(d)<0&&a(d))return!0}};if(a(i.contentMatch))return!0}}class Ml{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=KI(n).createDocumentFragment());let i=r,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[s][0])||c.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],d=this.serializeMark(c,a.isInline,n);d&&(o.push([c,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=WA(KI(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&WA(KI(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return WA(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Ml(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=iq(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return iq(t.marks)}}function iq(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function KI(e){return e.document||window.document}const oq=new WeakMap;function ZMe(e){let t=oq.get(e);return t===void 0&&oq.set(e,t=QMe(e)),t}function QMe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function WA(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=ZMe(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let s,l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let u in c)if(c[u]!=null){let p=u.indexOf(" ");p>0?l.setAttributeNS(u.slice(0,p),u.slice(p+1),c[u]):u=="style"&&l.style?l.style.cssText=c[u]:l.setAttribute(u,c[u])}}for(let u=d;u<t.length;u++){let p=t[u];if(p===0){if(u<t.length-1||u>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:m,contentDOM:v}=WA(e,p,n,r);if(l.appendChild(m),v){if(s)throw new RangeError("Multiple content holes");s=v}}}return{dom:l,contentDOM:s}}const Jae=65535,ese=Math.pow(2,16);function JMe(e,t){return e+t*ese}function aq(e){return e&Jae}function eDe(e){return(e-(e&Jae))/ese}const tse=1,nse=2,YA=4,rse=8;class aB{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&rse)>0}get deletedBefore(){return(this.delInfo&(tse|YA))>0}get deletedAfter(){return(this.delInfo&(nse|YA))>0}get deletedAcross(){return(this.delInfo&YA)>0}}class Sl{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Sl.empty)return Sl.empty}recover(t){let n=0,r=aq(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+eDe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[s+o],d=this.ranges[s+a],u=l+c;if(t<=u){let p=c?t==l?-1:t==u?1:n:n,m=l+i+(p<0?0:d);if(r)return m;let v=t==(n<0?l:u)?null:JMe(s/3,t-l),x=t==l?nse:t==u?tse:YA;return(n<0?t!=l:t!=u)&&(x|=rse),new aB(m,x,v)}i+=d-c}return r?t+i:new aB(t+i,0,null)}touches(t,n){let r=0,i=aq(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[s+o],d=l+c;if(t<=d&&s==i*3)return!0;r+=this.ranges[s+a]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[i+n],d=this.ranges[i+r];t(s,s+c,l,l+d),o+=d-c}}invert(){return new Sl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Sl.empty:new Sl(t<0?[0,-t,0]:[0,0,t])}}Sl.empty=new Sl([]);class l1{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new l1(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new l1;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(t,n);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,t=s.pos}return r?t:new aB(t,i,null)}}const XI=Object.create(null);let Aa=class{getMap(){return Sl.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=XI[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in XI)throw new RangeError("Duplicate use of step JSON ID "+t);return XI[t]=n,n.prototype.jsonID=t,n}};class lo{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new lo(t,null)}static fail(t){return new lo(null,t)}static fromReplace(t,n,r,i){try{return lo.ok(t.replace(n,r,i))}catch(o){if(o instanceof TN)return lo.fail(o.message);throw o}}}function n9(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(n9(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return He.fromArray(r)}class Pp extends Aa{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new at(n9(n.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return lo.fromReplace(t,this.from,this.to,o)}invert(){return new lu(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Pp(n.pos,r.pos,this.mark)}merge(t){return t instanceof Pp&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Pp(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Pp(n.from,n.to,t.markFromJSON(n.mark))}}Aa.jsonID("addMark",Pp);class lu extends Aa{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new at(n9(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return lo.fromReplace(t,this.from,this.to,r)}invert(){return new Pp(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new lu(n.pos,r.pos,this.mark)}merge(t){return t instanceof lu&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new lu(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new lu(n.from,n.to,t.markFromJSON(n.mark))}}Aa.jsonID("removeMark",lu);class Lp extends Aa{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return lo.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return lo.fromReplace(t,this.pos,this.pos+1,new at(He.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Lp(this.pos,n.marks[i]);return new Lp(this.pos,this.mark)}}return new O0(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Lp(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Lp(n.pos,t.markFromJSON(n.mark))}}Aa.jsonID("addNodeMark",Lp);class O0 extends Aa{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return lo.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return lo.fromReplace(t,this.pos,this.pos+1,new at(He.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Lp(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new O0(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new O0(n.pos,t.markFromJSON(n.mark))}}Aa.jsonID("removeNodeMark",O0);class so extends Aa{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&sB(t,this.from,this.to)?lo.fail("Structure replace would overwrite content"):lo.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Sl([this.from,this.to-this.from,this.slice.size])}invert(t){return new so(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new so(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof so)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?at.empty:new at(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new so(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?at.empty:new at(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new so(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new so(n.from,n.to,at.fromJSON(t,n.slice),!!n.structure)}}Aa.jsonID("replace",so);class Ki extends Aa{constructor(t,n,r,i,o,a,s=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(sB(t,this.from,this.gapFrom)||sB(t,this.gapTo,this.to)))return lo.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return lo.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?lo.fromReplace(t,this.from,this.to,r):lo.fail("Content does not fit in gap")}getMap(){return new Sl([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Ki(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ki(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ki(n.from,n.to,n.gapFrom,n.gapTo,at.fromJSON(t,n.slice),n.insert,!!n.structure)}}Aa.jsonID("replaceAround",Ki);function sB(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function tDe(e,t,n,r){let i=[],o=[],a,s;e.doc.nodesBetween(t,n,(l,c,d)=>{if(!l.isInline)return;let u=l.marks;if(!r.isInSet(u)&&d.type.allowsMarkType(r.type)){let p=Math.max(c,t),m=Math.min(c+l.nodeSize,n),v=r.addToSet(u);for(let x=0;x<u.length;x++)u[x].isInSet(v)||(a&&a.to==p&&a.mark.eq(u[x])?a.to=m:i.push(a=new lu(p,m,u[x])));s&&s.to==p?s.to=m:o.push(s=new Pp(p,m,r))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function nDe(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(r instanceof wD){let c=a.marks,d;for(;d=r.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let c=Math.min(s+a.nodeSize,n);for(let d=0;d<l.length;d++){let u=l[d],p;for(let m=0;m<i.length;m++){let v=i[m];v.step==o-1&&u.eq(i[m].style)&&(p=v)}p?(p.to=c,p.step=o):i.push({style:u,from:Math.max(s,t),to:c,step:o})}}}),i.forEach(a=>e.step(new lu(a.from,a.to,a.style)))}function r9(e,t,n,r=n.contentMatch,i=!0){let o=e.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),d=s+c.nodeSize,u=r.matchType(c.type);if(!u)a.push(new so(s,d,at.empty));else{r=u;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||e.step(new lu(s,d,c.marks[p]));if(i&&c.isText&&n.whitespace!="pre"){let p,m=/\r?\n|\r/g,v;for(;p=m.exec(c.text);)v||(v=new at(He.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),a.push(new so(s+p.index,s+p.index+p[0].length,v))}}s=d}if(!r.validEnd){let l=r.fillBefore(He.empty,!0);e.replace(s,s,new at(l,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function rDe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function ax(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,i=0,o=0;;--r){let a=e.$from.node(r),s=e.$from.index(r)+i,l=e.$to.indexAfter(r)-o;if(r<e.depth&&a.canReplace(s,l,n))return r;if(r==0||a.type.spec.isolating||!rDe(a,s,l))break;s&&(i=1),l<a.childCount&&(o=1)}return null}function iDe(e,t,n){let{$from:r,$to:i,depth:o}=t,a=r.before(o+1),s=i.after(o+1),l=a,c=s,d=He.empty,u=0;for(let v=o,x=!1;v>n;v--)x||r.index(v)>0?(x=!0,d=He.from(r.node(v).copy(d)),u++):l--;let p=He.empty,m=0;for(let v=o,x=!1;v>n;v--)x||i.after(v+1)<i.end(v)?(x=!0,p=He.from(i.node(v).copy(p)),m++):c++;e.step(new Ki(l,c,a,s,new at(d.append(p),u,m),d.size-u,!0))}function ise(e,t,n=null,r=e){let i=oDe(e,t),o=i&&aDe(r,t);return o?i.map(sq).concat({type:t,attrs:n}).concat(o.map(sq)):null}function sq(e){return{type:e,attrs:null}}function oDe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return n.canReplaceWith(r,i,a)?o:null}function aDe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:a}function sDe(e,t,n){let r=He.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let s=n[a].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=He.from(n[a].type.create(n[a].attrs,r))}let i=t.start,o=t.end;e.step(new Ki(i,o,i,o,new at(r,0,0),n.length,!0))}function lDe(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,l)&&cDe(e.doc,e.mapping.slice(o).map(s),r)){let c=null;if(r.schema.linebreakReplacement){let m=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);m&&!v?c=!1:!m&&v&&(c=!0)}c===!1&&ase(e,a,s,o),r9(e,e.mapping.slice(o).map(s,1),r,void 0,c===null);let d=e.mapping.slice(o),u=d.map(s,1),p=d.map(s+a.nodeSize,1);return e.step(new Ki(u,p,u+1,p-1,new at(He.from(r.create(l,null,a.marks)),0,0),1,!0)),c===!0&&ose(e,a,s,o),!1}})}function ose(e,t,n,r){t.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=e.mapping.slice(r).map(n+1+o+a.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function ase(e,t,n,r){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+o);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function cDe(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function uDe(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Ki(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new at(He.from(a),0,0),1,!0))}function $f(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,d=n-2;c>o;c--,d--){let u=i.node(c),p=i.index(c);if(u.type.spec.isolating)return!1;let m=u.content.cutByIndex(p,u.childCount),v=r&&r[d+1];v&&(m=m.replaceChild(0,v.type.create(v.attrs)));let x=r&&r[d]||u;if(!u.canReplace(p+1,u.childCount)||!x.type.validContent(m))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function dDe(e,t,n=1,r){let i=e.doc.resolve(t),o=He.empty,a=He.empty;for(let s=i.depth,l=i.depth-n,c=n-1;s>l;s--,c--){o=He.from(i.node(s).copy(o));let d=r&&r[c];a=He.from(d?d.type.create(d.attrs,a):i.node(s).copy(a))}e.step(new so(t,t,new at(o.append(a),n,n),!0))}function iy(e,t){let n=e.resolve(t),r=n.index();return sse(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function fDe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),a=o.type==r?e.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(o.marks))return!1}return n.validEnd}function sse(e,t){return!!(e&&t&&!e.isLeaf&&fDe(e,t))}function ED(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let o,a,s=r.index(i);if(i==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(i+1),s++,a=r.node(i).maybeChild(s)):(o=r.node(i).maybeChild(s-1),a=r.node(i+1)),o&&!o.isTextblock&&sse(o,a)&&r.node(i).canReplace(s,s+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function hDe(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-n),a=o.node().type;if(i&&a.inlineContent){let d=a.whitespace=="pre",u=!!a.contentMatch.matchType(i);d&&!u?r=!1:!d&&u&&(r=!0)}let s=e.steps.length;if(r===!1){let d=e.doc.resolve(t+n);ase(e,d.node(),d.before(),s)}a.inlineContent&&r9(e,t+n-1,a,o.node().contentMatchAt(o.index()),r==null);let l=e.mapping.slice(s),c=l.map(t-n);if(e.step(new so(c,l.map(t+n,-1),at.empty,!0)),r===!0){let d=e.doc.resolve(c);ose(e,d.node(),d.before(),e.steps.length)}return e}function pDe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function i9(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let a=r.depth;a>=0;a--){let s=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(s>0?1:0),c=r.node(a),d=!1;if(o==1)d=c.canReplace(l,l,i);else{let u=c.contentMatchAt(l).findWrapping(i.firstChild.type);d=u&&c.canReplaceWith(l,l,u[0])}if(d)return s==0?r.pos:s<0?r.before(a+1):r.after(a+1)}return null}function SD(e,t,n=t,r=at.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return lse(i,o,r)?new so(t,n,r):new mDe(i,o,r).fit()}function lse(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class mDe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=He.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=He.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,a=r.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new at(o,a,s);return t>-1?new Ki(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new so(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=ZI(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],d,u=null;if(n==1&&(a?c.matchType(a.type)||(u=c.fillBefore(He.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:s,parent:o,inject:u};if(n==2&&a&&(d=c.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:s,parent:o,wrap:d};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=ZI(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new at(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=ZI(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new at(rS(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new at(rS(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let x=0;x<o.length;x++)this.openFrontierNode(o[x]);let a=this.unplaced,s=r?r.content:a.content,l=a.openStart-t,c=0,d=[],{match:u,type:p}=this.frontier[n];if(i){for(let x=0;x<i.childCount;x++)d.push(i.child(x));u=u.matchFragment(i)}let m=s.size+t-(a.content.size-a.openEnd);for(;c<s.childCount;){let x=s.child(c),w=u.matchType(x.type);if(!w)break;c++,(c>1||l==0||x.content.size)&&(u=w,d.push(cse(x.mark(p.allowedMarks(x.marks)),c==1?l:0,c==s.childCount?m:-1)))}let v=c==s.childCount;v||(m=-1),this.placed=iS(this.placed,n,He.from(d)),this.frontier[n].match=u,v&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,w=s;x<m;x++){let T=w.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),w=T.content}this.unplaced=v?t==0?at.empty:new at(rS(a.content,t-1,1),t-1,m<0?a.openEnd:t-1):new at(rS(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!QI(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=QI(t,n,i,r,o);if(a){for(let s=n-1;s>=0;s--){let{match:l,type:c}=this.frontier[s],d=QI(t,s,c,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=iS(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=iS(this.placed,this.depth,He.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(He.empty,!0);n.childCount&&(this.placed=iS(this.placed,this.frontier.length,n))}}function rS(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(rS(e.firstChild.content,t-1,n)))}function iS(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(iS(e.lastChild.content,t-1,n)))}function ZI(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function cse(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,cse(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(He.empty,!0)))),e.copy(r)}function QI(e,t,n,r,i){let o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!gDe(n,o.content,a)?s:null}function gDe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function yDe(e){return e.spec.defining||e.spec.definingForContent}function bDe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(lse(i,o,r))return e.step(new so(t,n,r));let a=dse(i,o);a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let p=i.depth,m=i.pos-1;p>0;p--,m--){let v=i.node(p).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;a.indexOf(p)>-1?s=p:i.before(p)==m&&a.splice(1,0,-p)}let l=a.indexOf(s),c=[],d=r.openStart;for(let p=r.content,m=0;;m++){let v=p.firstChild;if(c.push(v),m==r.openStart)break;p=v.content}for(let p=d-1;p>=0;p--){let m=c[p],v=yDe(m.type);if(v&&!m.sameMarkup(i.node(Math.abs(s)-1)))d=p;else if(v||!m.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let m=(p+d+1)%(r.openStart+1),v=c[m];if(v)for(let x=0;x<a.length;x++){let w=a[(x+l)%a.length],T=!0;w<0&&(T=!1,w=-w);let k=i.node(w-1),N=i.index(w-1);if(k.canReplaceWith(N,N,v.type,v.marks))return e.replace(i.before(w),T?o.after(w):n,new at(use(r.content,0,r.openStart,m),m,r.openEnd))}}let u=e.steps.length;for(let p=a.length-1;p>=0&&(e.replace(t,n,r),!(e.steps.length>u));p--){let m=a[p];m<0||(t=i.before(m),n=o.after(m))}}function use(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(use(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),a=o.fillBefore(e).append(e);e=a.append(o.matchFragment(a).fillBefore(He.empty,!0))}return e}function vDe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=pDe(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new at(He.from(r),0,0))}function xDe(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=dse(r,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||r.node(s).type.contentMatch.validEnd)return e.delete(r.start(s),i.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return e.delete(r.before(s),i.after(s))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}function dse(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}class Bv extends Aa{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return lo.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return lo.fromReplace(t,this.pos,this.pos+1,new at(He.from(i),0,n.isLeaf?0:1))}getMap(){return Sl.empty}invert(t){return new Bv(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Bv(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Bv(n.pos,n.attr,n.value)}}Aa.jsonID("attr",Bv);class tC extends Aa{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return lo.ok(r)}getMap(){return Sl.empty}invert(t){return new tC(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new tC(n.attr,n.value)}}Aa.jsonID("docAttr",tC);let c1=class extends Error{};c1=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};c1.prototype=Object.create(Error.prototype);c1.prototype.constructor=c1;c1.prototype.name="TransformError";class o9{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new l1}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new c1(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=at.empty){let i=SD(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new at(He.from(r),0,0))}delete(t,n){return this.replace(t,n,at.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return bDe(this,t,n,r),this}replaceRangeWith(t,n,r){return vDe(this,t,n,r),this}deleteRange(t,n){return xDe(this,t,n),this}lift(t,n){return iDe(this,t,n),this}join(t,n=1){return hDe(this,t,n),this}wrap(t,n){return sDe(this,t,n),this}setBlockType(t,n=t,r,i=null){return lDe(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return uDe(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Bv(t,n,r)),this}setDocAttribute(t,n){return this.step(new tC(t,n)),this}addNodeMark(t,n){return this.step(new Lp(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Vr)n.isInSet(r.marks)&&this.step(new O0(t,n));else{let i=r.marks,o,a=[];for(;o=n.isInSet(i);)a.push(new O0(t,o)),i=o.removeFromSet(i);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(t,n=1,r){return dDe(this,t,n,r),this}addMark(t,n,r){return tDe(this,t,n,r),this}removeMark(t,n,r){return nDe(this,t,n,r),this}clearIncompatible(t,n,r){return r9(this,t,n,r),this}}const JI=Object.create(null);class Zt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new fse(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=at.empty){let r=n.content.lastChild,i=null;for(let s=0;s<n.openEnd;s++)i=r,r=r.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],d=t.mapping.slice(o);t.replaceRange(d.map(l.pos),d.map(c.pos),s?at.empty:n),s==0&&uq(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=t.mapping.slice(r),c=l.map(a.pos),d=l.map(s.pos);o?t.deleteRange(c,d):(t.replaceRangeWith(c,d,n),uq(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new St(t):mv(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let a=n<0?mv(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):mv(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Us(t.node(0))}static atStart(t){return mv(t,t,0,0,1)||new Us(t)}static atEnd(t){return mv(t,t,t.content.size,t.childCount,-1)||new Us(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=JI[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in JI)throw new RangeError("Duplicate use of selection JSON ID "+t);return JI[t]=n,n.prototype.jsonID=t,n}getBookmark(){return St.between(this.$anchor,this.$head).getBookmark()}}Zt.prototype.visible=!0;class fse{constructor(t,n){this.$from=t,this.$to=n}}let lq=!1;function cq(e){!lq&&!e.parent.inlineContent&&(lq=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class St extends Zt{constructor(t,n=t){cq(t),cq(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Zt.near(r);let i=t.resolve(n.map(this.anchor));return new St(i.parent.inlineContent?i:r,r)}replace(t,n=at.empty){if(super.replace(t,n),n==at.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof St&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new CD(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new St(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Zt.findFrom(n,r,!0)||Zt.findFrom(n,-r,!0);if(o)n=o.$head;else return Zt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Zt.findFrom(t,-r,!0)||Zt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new St(t,n)}}Zt.jsonID("text",St);class CD{constructor(t,n){this.anchor=t,this.head=n}map(t){return new CD(t.map(this.anchor),t.map(this.head))}resolve(t){return St.between(t.resolve(this.anchor),t.resolve(this.head))}}class Rt extends Zt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?Zt.near(o):new Rt(o)}content(){return new at(He.from(this.node),0,0)}eq(t){return t instanceof Rt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new a9(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Rt(t.resolve(n.anchor))}static create(t,n){return new Rt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Rt.prototype.visible=!1;Zt.jsonID("node",Rt);class a9{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new CD(r,r):new a9(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Rt.isSelectable(r)?new Rt(n):Zt.near(n)}}class Us extends Zt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=at.empty){if(n==at.empty){t.delete(0,t.doc.content.size);let r=Zt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Us(t)}map(t){return new Us(t)}eq(t){return t instanceof Us}getBookmark(){return wDe}}Zt.jsonID("all",Us);const wDe={map(){return this},resolve(e){return new Us(e)}};function mv(e,t,n,r,i,o=!1){if(t.inlineContent)return St.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let s=t.child(a);if(s.isAtom){if(!o&&Rt.isSelectable(s))return Rt.create(e,n-(i<0?s.nodeSize:0))}else{let l=mv(e,s,n+i,i<0?s.childCount:0,i,o);if(l)return l}n+=s.nodeSize*i}return null}function uq(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof so||i instanceof Ki))return;let o=e.mapping.maps[r],a;o.forEach((s,l,c,d)=>{a==null&&(a=d)}),e.setSelection(Zt.near(e.doc.resolve(a),n))}const dq=1,G_=2,fq=4;let EDe=class extends o9{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|dq)&~G_,this.storedMarks=null,this}get selectionSet(){return(this.updated&dq)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=G_,this}ensureMarks(t){return Vr.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&G_)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~G_,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Vr.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(Zt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=fq,this}get scrolledIntoView(){return(this.updated&fq)>0}};function hq(e,t){return!t||!e?e:e.bind(t)}class oS{constructor(t,n,r){this.name=t,this.init=hq(n.init,r),this.apply=hq(n.apply,r)}}const SDe=[new oS("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new oS("selection",{init(e,t){return e.selection||Zt.atStart(t.doc)},apply(e){return e.selection}}),new oS("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new oS("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class eP{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=SDe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new oS(r.key,r.spec.state,r))})}}class kv{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,c=i?i[a].state:this,d=l<n.length&&s.spec.appendTransaction.call(s,l?n.slice(l):n,c,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",t),!i){i=[];for(let u=0;u<this.config.plugins.length;u++)i.push(u<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),o=!0}i&&(i[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new kv(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new EDe(this)}static create(t){let n=new eP(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new kv(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new eP(this.schema,t.plugins),r=n.fields,i=new kv(n);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new eP(t.schema,t.plugins),o=new kv(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Bf.fromJSON(t.schema,n.doc);else if(a.name=="selection")o.selection=Zt.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let s in r){let l=r[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){o[a.name]=c.fromJSON.call(l,t,n[s],o);return}}o[a.name]=a.init(t,o)}}),o}}function hse(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=hse(i,t,{})),n[r]=i}return n}class rn{constructor(t){this.spec=t,this.props={},t.props&&hse(t.props,this,this.props),this.key=t.key?t.key.key:pse("plugin")}getState(t){return t[this.key]}}const tP=Object.create(null);function pse(e){return e in tP?e+"$"+ ++tP[e]:(tP[e]=0,e+"$")}class En{constructor(t="key"){this.key=pse(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const s9=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function mse(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const gse=(e,t,n)=>{let r=mse(e,n);if(!r)return!1;let i=l9(r);if(!i){let a=r.blockRange(),s=a&&ax(a);return s==null?!1:(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(Tse(e,i,t,-1))return!0;if(r.parent.content.size==0&&(u1(o,"end")||Rt.isSelectable(o)))for(let a=r.depth;;a--){let s=SD(e.doc,r.before(a),r.after(a),at.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(u1(o,"end")?Zt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Rt.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},CDe=(e,t,n)=>{let r=mse(e,n);if(!r)return!1;let i=l9(r);return i?yse(e,i,t):!1},TDe=(e,t,n)=>{let r=vse(e,n);if(!r)return!1;let i=c9(r);return i?yse(e,i,t):!1};function yse(e,t,n){let r=t.nodeBefore,i=r,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let a=t.nodeAfter,s=a,l=t.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let d=s.firstChild;if(!d)return!1;s=d}let c=SD(e.doc,o,l,at.empty);if(!c||c.from!=o||c instanceof so&&c.slice.size>=l-o)return!1;if(n){let d=e.tr.step(c);d.setSelection(St.create(d.doc,o)),n(d.scrollIntoView())}return!0}function u1(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const bse=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=l9(r)}let a=o&&o.nodeBefore;return!a||!Rt.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Rt.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function l9(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function vse(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const xse=(e,t,n)=>{let r=vse(e,n);if(!r)return!1;let i=c9(r);if(!i)return!1;let o=i.nodeAfter;if(Tse(e,i,t,1))return!0;if(r.parent.content.size==0&&(u1(o,"start")||Rt.isSelectable(o))){let a=SD(e.doc,r.before(),r.after(),at.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=e.tr.step(a);s.setSelection(u1(o,"start")?Zt.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):Rt.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},wse=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=c9(r)}let a=o&&o.nodeAfter;return!a||!Rt.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Rt.create(e.doc,o.pos)).scrollIntoView()),!0)};function c9(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const kDe=(e,t)=>{let n=e.selection,r=n instanceof Rt,i;if(r){if(n.node.isTextblock||!iy(e.doc,n.from))return!1;i=n.from}else if(i=ED(e.doc,n.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);r&&o.setSelection(Rt.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},_De=(e,t)=>{let n=e.selection,r;if(n instanceof Rt){if(n.node.isTextblock||!iy(e.doc,n.to))return!1;r=n.to}else if(r=ED(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},ADe=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&ax(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},Ese=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function u9(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const NDe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),a=u9(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(t){let s=n.after(),l=e.tr.replaceWith(s,s,a.createAndFill());l.setSelection(Zt.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},Sse=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Us||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=u9(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(a,o.createAndFill());s.setSelection(St.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},Cse=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if($f(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&ax(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function ODe(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof Rt&&t.selection.node.isBlock)return!r.parentOffset||!$f(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,s,l=!1,c=!1;for(let m=r.depth;;m--)if(r.node(m).isBlock){l=r.end(m)==r.pos+(r.depth-m),c=r.start(m)==r.pos-(r.depth-m),s=u9(r.node(m-1).contentMatchAt(r.indexAfter(m-1))),o.unshift(l&&s?{type:s}:null),a=m;break}else{if(m==1)return!1;o.unshift(null)}let d=t.tr;(t.selection instanceof St||t.selection instanceof Us)&&d.deleteSelection();let u=d.mapping.map(r.pos),p=$f(d.doc,u,o.length,o);if(p||(o[0]=s?{type:s}:null,p=$f(d.doc,u,o.length,o)),!p)return!1;if(d.split(u,o.length,o),!l&&c&&r.node(a).type!=s){let m=d.mapping.map(r.before(a)),v=d.doc.resolve(m);s&&r.node(a-1).canReplaceWith(v.index(),v.index()+1,s)&&d.setNodeMarkup(d.mapping.map(r.before(a)),s)}return n&&n(d.scrollIntoView()),!0}}const MDe=ODe(),DDe=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(Rt.create(e.doc,i))),!0)};function RDe(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||iy(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function Tse(e,t,n,r){let i=t.nodeBefore,o=t.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&RDe(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(n){let m=t.pos+o.nodeSize,v=He.empty;for(let T=a.length-1;T>=0;T--)v=He.from(a[T].create(null,v));v=He.from(i.copy(v));let x=e.tr.step(new Ki(t.pos-1,m,t.pos,m,new at(v,1,0),a.length,!0)),w=x.doc.resolve(m+2*a.length);w.nodeAfter&&w.nodeAfter.type==i.type&&iy(x.doc,w.pos)&&x.join(w.pos),n(x.scrollIntoView())}return!0}let d=o.type.spec.isolating||r>0&&l?null:Zt.findFrom(t,1),u=d&&d.$from.blockRange(d.$to),p=u&&ax(u);if(p!=null&&p>=t.depth)return n&&n(e.tr.lift(u,p).scrollIntoView()),!0;if(c&&u1(o,"start",!0)&&u1(i,"end")){let m=i,v=[];for(;v.push(m),!m.isTextblock;)m=m.lastChild;let x=o,w=1;for(;!x.isTextblock;x=x.firstChild)w++;if(m.canReplace(m.childCount,m.childCount,x.content)){if(n){let T=He.empty;for(let N=v.length-1;N>=0;N--)T=He.from(v[N].copy(T));let k=e.tr.step(new Ki(t.pos-v.length,t.pos+o.nodeSize,t.pos+w,t.pos+o.nodeSize-w,new at(T,v.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function kse(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(St.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const IDe=kse(-1),PDe=kse(1);function LDe(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o),s=a&&ise(a,e,t);return s?(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0):!1}}function pq(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=n.selection.ranges[o];n.doc.nodesBetween(a,s,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let d=n.doc.resolve(c),u=d.index();i=d.parent.canReplaceWith(u,u+1,e)}})}if(!i)return!1;if(r){let o=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[a];o.setBlockType(s,l,e,t)}r(o.scrollIntoView())}return!0}}function d9(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}d9(s9,gse,bse);d9(s9,xse,wse);d9(Ese,Sse,Cse,MDe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function jDe(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o);if(!a)return!1;let s=r?n.tr:null;return BDe(s,a,e,t)?(r&&r(s.scrollIntoView()),!0):!1}}function BDe(e,t,n,r=null){let i=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new _N(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new _N(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let s=ise(o,n,r,t);return s?(e&&$De(e,t,s,i,n),!0):!1}function $De(e,t,n,r,i){let o=He.empty;for(let d=n.length-1;d>=0;d--)o=He.from(n[d].type.create(n[d].attrs,o));e.step(new Ki(t.start-(r?2:0),t.end,t.start,t.end,new at(o,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==i&&(a=d+1);let s=n.length-a,l=t.start+n.length-(r?2:0),c=t.parent;for(let d=t.startIndex,u=t.endIndex,p=!0;d<u;d++,p=!1)!p&&$f(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(d).nodeSize;return e}function HDe(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return o?n?r.node(o.depth-1).type==e?FDe(t,n,e,o):UDe(t,n,o):!0:!1}}function FDe(e,t,n,r){let i=e.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new Ki(o-1,a,o,a,new at(He.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new _N(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const s=ax(r);if(s==null)return!1;i.lift(r,s);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return iy(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function UDe(e,t,n){let r=e.tr,i=n.parent;for(let m=n.end,v=n.endIndex-1,x=n.startIndex;v>x;v--)m-=i.child(v).nodeSize,r.delete(m-1,m+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),d=o.index(-1);if(!c.canReplace(d+(s?0:1),d+1,a.content.append(l?He.empty:He.from(i))))return!1;let u=o.pos,p=u+a.nodeSize;return r.step(new Ki(u-(s?1:0),p+(l?1:0),u+1,p-1,new at((s?He.empty:He.from(i.copy(He.empty))).append(l?He.empty:He.from(i.copy(He.empty))),s?0:1,l?0:1),s?0:1)),t(r.scrollIntoView()),!0}function zDe(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==s.type,d=He.from(c?e.create():null),u=new at(He.from(e.create(null,He.from(s.type.create(null,d)))),c?3:1,0),p=o.start,m=o.end;n(t.tr.step(new Ki(p-(c?3:1),m,p,m,u,1,!0)).scrollIntoView())}return!0}}const Qo=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},d1=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let lB=null;const Af=function(e,t,n){let r=lB||(lB=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},VDe=function(){lB=null},M0=function(e,t,n,r){return n&&(mq(e,t,n,r,-1)||mq(e,t,n,r,1))},qDe=/^(img|br|input|textarea|hr)$/i;function mq(e,t,n,r,i){for(var o;;){if(e==n&&t==r)return!0;if(t==(i<0?0:sc(e))){let a=e.parentNode;if(!a||a.nodeType!=1||PT(e)||qDe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Qo(e)+(i<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=i;else return!1;else e=a,t=i<0?sc(e):0}else return!1}}function sc(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function WDe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=sc(e)}else if(e.parentNode&&!PT(e))t=Qo(e),e=e.parentNode;else return null}}function YDe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!PT(e))t=Qo(e)+1,e=e.parentNode;else return null}}function GDe(e,t,n){for(let r=t==0,i=t==sc(e);r||i;){if(e==n)return!0;let o=Qo(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==sc(e)}}function PT(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const TD=function(e){return e.focusNode&&M0(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Xg(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function KDe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function XDe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(sc(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(sc(r.startContainer),r.startOffset)}}}const _d=typeof navigator<"u"?navigator:null,gq=typeof document<"u"?document:null,hm=_d&&_d.userAgent||"",cB=/Edge\/(\d+)/.exec(hm),_se=/MSIE \d/.exec(hm),uB=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(hm),zs=!!(_se||uB||cB),Vp=_se?document.documentMode:uB?+uB[1]:cB?+cB[1]:0,fc=!zs&&/gecko\/(\d+)/i.test(hm);fc&&+(/Firefox\/(\d+)/.exec(hm)||[0,0])[1];const dB=!zs&&/Chrome\/(\d+)/.exec(hm),Sa=!!dB,Ase=dB?+dB[1]:0,as=!zs&&!!_d&&/Apple Computer/.test(_d.vendor),f1=as&&(/Mobile\/\w+/.test(hm)||!!_d&&_d.maxTouchPoints>2),ic=f1||(_d?/Mac/.test(_d.platform):!1),ZDe=_d?/Win/.test(_d.platform):!1,Of=/Android \d/.test(hm),LT=!!gq&&"webkitFontSmoothing"in gq.documentElement.style,QDe=LT?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function JDe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function bf(e,t){return typeof e=="number"?e:e[t]}function eRe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function yq(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(a.nodeType!=1){a=d1(a);continue}let s=a,l=s==o.body,c=l?JDe(o):eRe(s),d=0,u=0;if(t.top<c.top+bf(r,"top")?u=-(c.top-t.top+bf(i,"top")):t.bottom>c.bottom-bf(r,"bottom")&&(u=t.bottom-t.top>c.bottom-c.top?t.top+bf(i,"top")-c.top:t.bottom-c.bottom+bf(i,"bottom")),t.left<c.left+bf(r,"left")?d=-(c.left-t.left+bf(i,"left")):t.right>c.right-bf(r,"right")&&(d=t.right-c.right+bf(i,"right")),d||u)if(l)o.defaultView.scrollBy(d,u);else{let m=s.scrollLeft,v=s.scrollTop;u&&(s.scrollTop+=u),d&&(s.scrollLeft+=d);let x=s.scrollLeft-m,w=s.scrollTop-v;t={left:t.left-x,top:t.top-w,right:t.right-x,bottom:t.bottom-w}}let p=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:d1(a)}}function tRe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=e.root.elementFromPoint(o,a);if(!s||s==e.dom||!e.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=n-20){r=s,i=l.top;break}}return{refDOM:r,refTop:i,stack:Nse(e.dom)}}function Nse(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=d1(r));return t}function nRe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;Ose(n,r==0?0:r-t)}function Ose(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let tv=null;function rRe(e){if(e.setActive)return e.setActive();if(tv)return e.focus(tv);let t=Nse(e);e.focus(tv==null?{get preventScroll(){return tv={preventScroll:!0},!0}}:void 0),tv||(tv=!1,Ose(t,0))}function Mse(e,t){let n,r=2e8,i,o=0,a=t.top,s=t.top,l,c;for(let d=e.firstChild,u=0;d;d=d.nextSibling,u++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=Af(d).getClientRects();else continue;for(let m=0;m<p.length;m++){let v=p[m];if(v.top<=a&&v.bottom>=s){a=Math.max(v.bottom,a),s=Math.min(v.top,s);let x=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(x<r){n=d,r=x,i=x&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,d.nodeType==1&&x&&(o=u+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!l&&v.left<=t.left&&v.right>=t.left&&(l=d,c={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(o=u+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?iRe(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:Mse(n,i)}function iRe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=yp(r,1);if(o.top!=o.bottom&&f9(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function f9(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function oRe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function aRe(e,t,n){let{node:r,offset:i}=Mse(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function sRe(e,t,n,r){let i=-1;for(let o=t,a=!1;o!=e.dom;){let s=e.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!a&&l.left>r.left||l.top>r.top?i=s.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function Dse(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let a=e.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(f9(t,c))return Dse(a,t,c)}}if((o=(o+1)%r)==i)break}return e}function lRe(e,t){let n=e.dom.ownerDocument,r,i=0,o=XDe(n,t.left,t.top);o&&({node:r,offset:i}=o);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),s;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=e.dom.getBoundingClientRect();if(!f9(t,c)||(a=Dse(e.dom,t,c),!a))return null}if(as)for(let c=a;r&&c;c=d1(c))c.draggable&&(r=void 0);if(a=oRe(a,t),r){if(fc&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],u;d.nodeName=="IMG"&&(u=d.getBoundingClientRect()).right<=t.left&&u.bottom>t.top&&i++}let c;LT&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=sRe(e,r,i,t))}s==null&&(s=aRe(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function bq(e){return e.top<e.bottom||e.left<e.right}function yp(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(bq(r))return r}return Array.prototype.find.call(n,bq)||e.getBoundingClientRect()}const cRe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Rse(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),a=LT||fc;if(r.nodeType==3)if(a&&(cRe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=yp(Af(r,i,i),n);if(fc&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=yp(Af(r,i-1,i-1),-1);if(c.top==l.top){let d=yp(Af(r,i,i+1),-1);if(d.top!=l.top)return RE(d,d.left<c.left)}}return l}else{let l=i,c=i,d=n<0?1:-1;return n<0&&!i?(c++,d=-1):n>=0&&i==r.nodeValue.length?(l--,d=1):n<0?l--:c++,RE(yp(Af(r,l,c),d),d<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==sc(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return nP(l.getBoundingClientRect(),!1)}if(o==null&&i<sc(r)){let l=r.childNodes[i];if(l.nodeType==1)return nP(l.getBoundingClientRect(),!0)}return nP(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==sc(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Af(l,sc(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return RE(yp(c,1),!1)}if(o==null&&i<sc(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Af(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return RE(yp(c,-1),!0)}return RE(yp(r.nodeType==3?Af(r):r,-n),n>=0)}function RE(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function nP(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Ise(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function uRe(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return Ise(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=e.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=Rse(e,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Af(s,0,s.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const dRe=/[\u0590-\u08ac]/;function fRe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=e.domSelection();return s?!dRe.test(r.parent.textContent)||!s.modify?n=="left"||n=="backward"?o:a:Ise(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:u}=e.domSelectionRange(),p=s.caretBidiLevel;s.modify("move",n,"character");let m=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:v,focusOffset:x}=e.domSelectionRange(),w=v&&!m.contains(v.nodeType==1?v:v.parentNode)||l==v&&c==x;try{s.collapse(d,u),l&&(l!=d||c!=u)&&s.extend&&s.extend(l,c)}catch{}return p!=null&&(s.caretBidiLevel=p),w}):r.pos==r.start()||r.pos==r.end()}let vq=null,xq=null,wq=!1;function hRe(e,t,n){return vq==t&&xq==n?wq:(vq=t,xq=n,wq=n=="up"||n=="down"?uRe(e,t,n):fRe(e,t,n))}const hc=0,Eq=1,t0=2,Ad=3;class jT{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=hc,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,a;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>Qo(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!n||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let s=i.children[a];if(s.size){i=s;break}}return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],s=o+a.size;if(s>t||a instanceof Lse){i=t-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Pse&&o.side>=0;r--);if(n<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&n&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Qo(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Qo(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,s=0;;s++){let l=this.children[s],c=a+l.size;if(i==-1&&t<=c){let d=a+l.border;if(t>=d&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,d);t=a;for(let u=s;u>0;u--){let p=this.children[u-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=Qo(p.dom)+1;break}t-=p.size}i==-1&&(i=0)}if(i>-1&&(c>n||s==this.children.length-1)){n=c;for(let d=s+1;d<this.children.length;d++){let u=this.children[d];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(-1)){o=Qo(u.dom);break}n+=u.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),a=Math.max(t,n);for(let m=0,v=0;m<this.children.length;m++){let x=this.children[m],w=v+x.size;if(o>v&&a<w)return x.setSelection(t-v-x.border,n-v-x.border,r,i);v=w}let s=this.domFromPos(t,t?-1:1),l=n==t?s:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),d=r.domSelectionRange(),u=!1;if((fc||as)&&t==n){let{node:m,offset:v}=s;if(m.nodeType==3){if(u=!!(v&&m.nodeValue[v-1]==`
`),u&&v==m.nodeValue.length)for(let x=m,w;x;x=x.parentNode){if(w=x.nextSibling){w.nodeName=="BR"&&(s=l={node:w.parentNode,offset:Qo(w)+1});break}let T=x.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let x=m.childNodes[v-1];u=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(fc&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let m=d.focusNode.childNodes[d.focusOffset];m&&m.contentEditable=="false"&&(i=!0)}if(!(i||u&&as)&&M0(s.node,s.offset,d.anchorNode,d.anchorOffset)&&M0(l.node,l.offset,d.focusNode,d.focusOffset))return;let p=!1;if((c.extend||t==n)&&!(u&&fc)){c.collapse(s.node,s.offset);try{t!=n&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(t>n){let v=s;s=l,l=v}let m=document.createRange();m.setEnd(l.node,l.offset),m.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(m)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let s=r+o.border,l=a-o.border;if(t>=s&&n<=l){this.dirty=t==r||n==a?t0:Eq,t==s&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ad:o.markDirty(t-s,n-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?t0:Ad}r=a}this.dirty=t0}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?t0:Eq;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class Pse extends jT{constructor(t,n,r,i){let o,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==hc&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class pRe extends jT{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class D0 extends jT{constructor(t,n,r,i,o){super(t,[],r,i),this.mark=n,this.spec=o}static create(t,n,r,i){let o=i.nodeViews[n.type.name],a=o&&o(n,i,r);return(!a||!a.dom)&&(a=Ml.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new D0(t,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Ad||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ad&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=hc){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=hc}}slice(t,n,r){let i=D0.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=hB(o,n,a,r)),t>0&&(o=hB(o,0,t,r));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class qp extends jT{constructor(t,n,r,i,o,a,s,l,c){super(t,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=s}static create(t,n,r,i,o,a){let s=o.nodeViews[n.type.name],l,c=s&&s(n,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,i),d=c&&c.dom,u=c&&c.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:u}=Ml.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!u&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=$se(d,r,n),c?l=new mRe(t,n,r,i,d,u||null,p,c,o,a+1):n.isText?new kD(t,n,r,i,d,p,o):new qp(t,n,r,i,d,u||null,p,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>He.empty)}return t}matchesNode(t,n,r){return this.dirty==hc&&t.eq(this.node)&&NN(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new yRe(this,a&&a.node,t);xRe(this.node,this.innerDeco,(c,d,u)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!u&&l.syncToMarks(d==this.node.childCount?Vr.none:this.node.child(d).marks,r,t),l.placeWidget(c,t,i)},(c,d,u,p)=>{l.syncToMarks(c.marks,r,t);let m;l.findNodeMatch(c,d,u,p)||s&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(m=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,d,u,m,t)||l.updateNextNode(c,d,u,t,p,i)||l.addNode(c,d,u,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==t0)&&(a&&this.protectLocalComposition(t,a),jse(this.contentDOM,this.children,t),f1&&wRe(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof St)||r<n||i>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=ERe(this.node.content,a,r-n,i-n);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new pRe(this,o,n,i);t.input.compositionNodes.push(a),this.children=hB(this.children,r,r+i.length,t,a)}update(t,n,r,i){return this.dirty==Ad||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=hc}updateOuterDeco(t){if(NN(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Bse(this.dom,this.nodeDOM,fB(this.outerDeco,this.node,n),fB(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Sq(e,t,n,r,i){$se(r,t,e);let o=new qp(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class kD extends qp{constructor(t,n,r,i,o,a,s){super(t,n,r,i,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Ad||this.dirty!=hc&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=hc||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=hc,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new kD(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ad)}get domAtom(){return!1}isText(t){return this.node.text==t}}class Lse extends jT{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==hc&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class mRe extends qp{constructor(t,n,r,i,o,a,s,l,c,d){super(t,n,r,i,o,a,s,c,d),this.spec=l}update(t,n,r,i){if(this.dirty==Ad)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function jse(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=Cq(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(s,r);if(a instanceof D0){let l=r?r.previousSibling:e.lastChild;jse(a.contentDOM,a.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=Cq(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const bS=function(e){e&&(this.nodeName=e)};bS.prototype=Object.create(null);const n0=[new bS];function fB(e,t,n){if(e.length==0)return n0;let r=n?n0[0]:new bS,i=[r];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&i.push(r=new bS(a.nodeName));for(let s in a){let l=a[s];l!=null&&(n&&i.length==1&&i.push(r=new bS(t.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+l:s=="style"?r.style=(r.style?r.style+";":"")+l:s!="nodeName"&&(r[s]=l))}}}return i}function Bse(e,t,n,r){if(n==n0&&r==n0)return t;let i=t;for(let o=0;o<r.length;o++){let a=r[o],s=n[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=n0[0]),i=l}gRe(i,s||n0[0],a)}return i}function gRe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function $se(e,t,n){return Bse(e,e,n0,fB(t,n,e.nodeType!=1))}function NN(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Cq(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class yRe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=bRe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=hc,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=D0.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let c=this.top.children[s];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let a=this.top.children[i];return a.dirty==Ad&&a.dom==a.contentDOM&&(a.dirty=t0),a.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof qp){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let d=l.dom,u,p=this.isLocked(d)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Ad&&NN(n,l.outerDeco));if(!p&&l.update(t,n,r,i))return this.destroyBetween(this.index,s),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(u=this.recreateWrapper(l,t,n,r,i,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=u,u.contentDOM&&(u.dirty=t0,u.updateChildren(i,a+1),u.dirty=hc),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,o,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!NN(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let s=qp.create(this.top,n,r,i,o,a);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,n,r,i,o){let a=qp.create(this.top,t,n,r,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Pse(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof D0;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof kD)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((as||Sa)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Lse(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function bRe(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(r){let c=n.children[r-1];if(c instanceof D0)n=c,r=c.children.length;else{s=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function vRe(e,t){return e.type.side-t.type.side}function xRe(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let d=e.child(c);r(d,i,t.forChild(o,d),c),o+=d.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let d,u;for(;a<i.length&&i[a].to==o;){let w=i[a++];w.widget&&(d?(u||(u=[d])).push(w):d=w)}if(d)if(u){u.sort(vRe);for(let w=0;w<u.length;w++)n(u[w],c,!!l)}else n(d,c,!!l);let p,m;if(l)m=-1,p=l,l=null;else if(c<e.childCount)m=c,p=e.child(c++);else break;for(let w=0;w<s.length;w++)s[w].to<=o&&s.splice(w--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let v=o+p.nodeSize;if(p.isText){let w=v;a<i.length&&i[a].from<w&&(w=i[a].from);for(let T=0;T<s.length;T++)s[T].to<w&&(w=s[T].to);w<v&&(l=p.cut(w-o),p=p.cut(0,w-o),v=w,m=-1)}else for(;a<i.length&&i[a].to<v;)a++;let x=p.isInline&&!p.isLeaf?s.filter(w=>!w.inline):s.slice();r(p,x,t.forChild(o,p),m),o=v}}function wRe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function ERe(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let a=e.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<e.childCount;){let c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let c=s<r?l.lastIndexOf(t,r-s-1):-1;if(c>=0&&c+t.length+s>=n)return s+c;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}function hB(e,t,n,r,i){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,d=s+=l.size;c>=n||d<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),d>n&&o.push(l.slice(n-c,l.size,r)))}return o}function h9(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s=r.resolve(a),l,c;if(TD(n)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&Rt.isSelectable(u)&&i.parent&&!(u.isInline&&GDe(n.focusNode,n.focusOffset,i.dom))){let p=i.posBefore;c=new Rt(a==p?s:r.resolve(p))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let u=a,p=a;for(let m=0;m<n.rangeCount;m++){let v=n.getRangeAt(m);u=Math.min(u,e.docView.posFromDOM(v.startContainer,v.startOffset,1)),p=Math.max(p,e.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(u<0)return null;[l,a]=p==e.state.selection.anchor?[p,u]:[u,p],s=r.resolve(a)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=r.resolve(l);if(!c){let u=t=="pointer"||e.state.selection.head<s.pos&&!o?1:-1;c=p9(e,d,s,u)}return c}function Hse(e){return e.editable?e.hasFocus():Use(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Hf(e,t=!1){let n=e.state.selection;if(Fse(e,n),!!Hse(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Sa){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&M0(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)CRe(e);else{let{anchor:r,head:i}=n,o,a;Tq&&!(n instanceof St)&&(n.$from.parent.inlineContent||(o=kq(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=kq(e,n.to))),e.docView.setSelection(r,i,e,t),Tq&&(o&&_q(o),a&&_q(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&SRe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Tq=as||Sa&&Ase<63;function kq(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(as&&i&&i.contentEditable=="false")return rP(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return rP(i);if(o)return rP(o)}}function rP(e){return e.contentEditable="true",as&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function _q(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function SRe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!Hse(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function CRe(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,Qo(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&zs&&Vp<=11&&(n.disabled=!0,n.disabled=!1)}function Fse(e,t){if(t instanceof Rt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Aq(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Aq(e)}function Aq(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function p9(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||St.between(t,n,r)}function Nq(e){return e.editable&&!e.hasFocus()?!1:Use(e)}function Use(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function TRe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return M0(t.node,t.offset,n.anchorNode,n.anchorOffset)}function pB(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Zt.findFrom(o,t)}function wp(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Oq(e,t,n){let r=e.state.selection;if(r instanceof St)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return wp(e,new St(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=pB(e.state,t);return i&&i instanceof Rt?wp(e,i):!1}else if(!(ic&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=e.docView.descAt(s))&&!a.contentDOM?Rt.isSelectable(o)?wp(e,new Rt(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):LT?wp(e,new St(e.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Rt&&r.node.isInline)return wp(e,new St(t>0?r.$to:r.$from));{let i=pB(e.state,t);return i?wp(e,i):!1}}}function ON(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function vS(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function nv(e,t){return t<0?kRe(e):_Re(e)}function kRe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,a=!1;for(fc&&n.nodeType==1&&r<ON(n)&&vS(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let s=n.childNodes[r-1];if(vS(s,-1))i=n,o=--r;else if(s.nodeType==3)n=s,r=n.nodeValue.length;else break}}else{if(zse(n))break;{let s=n.previousSibling;for(;s&&vS(s,-1);)i=n.parentNode,o=Qo(s),s=s.previousSibling;if(s)n=s,r=ON(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?mB(e,n,r):i&&mB(e,i,o)}function _Re(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=ON(n),o,a;for(;;)if(r<i){if(n.nodeType!=1)break;let s=n.childNodes[r];if(vS(s,1))o=n,a=++r;else break}else{if(zse(n))break;{let s=n.nextSibling;for(;s&&vS(s,1);)o=s.parentNode,a=Qo(s)+1,s=s.nextSibling;if(s)n=s,r=0,i=ON(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&mB(e,o,a)}function zse(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function ARe(e,t){for(;e&&t==e.childNodes.length&&!PT(e);)t=Qo(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function NRe(e,t){for(;e&&!t&&!PT(e);)t=Qo(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function mB(e,t,n){if(t.nodeType!=3){let o,a;(a=ARe(t,n))?(t=a,n=0):(o=NRe(t,n))&&(t=o,n=o.nodeValue.length)}let r=e.domSelection();if(!r)return;if(TD(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Hf(e)},50)}function Mq(e,t){let n=e.state.doc.resolve(t);if(!(Sa||ZDe)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Dq(e,t,n){let r=e.state.selection;if(r instanceof St&&!r.empty||n.indexOf("s")>-1||ic&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=pB(e.state,t);if(a&&a instanceof Rt)return wp(e,a)}if(!i.parent.inlineContent){let a=t<0?i:o,s=r instanceof Us?Zt.near(a,t):Zt.findFrom(a,t);return s?wp(e,s):!1}return!1}function Rq(e,t){if(!(e.state.selection instanceof St))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=e.state.tr;return t<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),e.dispatch(a),!0}return!1}function Iq(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function ORe(e){if(!as||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;Iq(e,r,"true"),setTimeout(()=>Iq(e,r,"false"),20)}return!1}function MRe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function DRe(e,t){let n=t.keyCode,r=MRe(t);if(n==8||ic&&n==72&&r=="c")return Rq(e,-1)||nv(e,-1);if(n==46&&!t.shiftKey||ic&&n==68&&r=="c")return Rq(e,1)||nv(e,1);if(n==13||n==27)return!0;if(n==37||ic&&n==66&&r=="c"){let i=n==37?Mq(e,e.state.selection.from)=="ltr"?-1:1:-1;return Oq(e,i,r)||nv(e,i)}else if(n==39||ic&&n==70&&r=="c"){let i=n==39?Mq(e,e.state.selection.from)=="ltr"?1:-1:1;return Oq(e,i,r)||nv(e,i)}else{if(n==38||ic&&n==80&&r=="c")return Dq(e,-1,r)||nv(e,-1);if(n==40||ic&&n==78&&r=="c")return ORe(e)||Dq(e,1,r)||nv(e,1);if(r==(ic?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function m9(e,t){e.someProp("transformCopied",m=>{t=m(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let m=r.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let a=e.someProp("clipboardSerializer")||Ml.fromSchema(e.state.schema),s=Kse(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let c=l.firstChild,d,u=0;for(;c&&c.nodeType==1&&(d=Gse[c.nodeName.toLowerCase()]);){for(let m=d.length-1;m>=0;m--){let v=s.createElement(d[m]);for(;l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),u++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${u?` -${u}`:""} ${JSON.stringify(n)}`);let p=e.someProp("clipboardTextSerializer",m=>m(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:p,slice:t}}function Vse(e,t,n,r,i){let o=i.parent.type.spec.code,a,s;if(!n&&!t)return null;let l=!!t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",p=>{t=p(t,o||r,e)}),o)return s=new at(He.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",p=>{s=p(s,e,!0)}),s;let u=e.someProp("clipboardTextParser",p=>p(t,i,r,e));if(u)s=u;else{let p=i.marks(),{schema:m}=e.state,v=Ml.fromSchema(m);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(x=>{let w=a.appendChild(document.createElement("p"));x&&w.appendChild(v.serializeNode(m.text(x,p)))})}}else e.someProp("transformPastedHTML",u=>{n=u(n,e)}),a=LRe(n),LT&&jRe(a);let c=a&&a.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let u=+d[3];u>0;u--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||pu.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||d),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!RRe.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)s=BRe(Pq(s,+d[1],+d[2]),d[4]);else if(s=at.maxOpen(IRe(s.content,i),!0),s.openStart||s.openEnd){let u=0,p=0;for(let m=s.content.firstChild;u<s.openStart&&!m.type.spec.isolating;u++,m=m.firstChild);for(let m=s.content.lastChild;p<s.openEnd&&!m.type.spec.isolating;p++,m=m.lastChild);s=Pq(s,u,p)}return e.someProp("transformPasted",u=>{s=u(s,e,l)}),s}const RRe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function IRe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),o,a=[];if(e.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),c;if(!l)return a=null;if(c=a.length&&o.length&&Wse(l,o,s,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=Yse(a[a.length-1],o.length));let d=qse(s,l);a.push(d),i=i.matchType(d.type),o=l}}),a)return He.from(a)}return e}function qse(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,He.from(e));return e}function Wse(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=Wse(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(He.from(qse(n,e,i+1))))}}function Yse(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,Yse(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(He.empty,!0);return e.copy(n.append(r))}function gB(e,t,n,r,i,o){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(o=0),i<r-1&&(s=gB(s,t,n,r,i+1,o)),i>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(He.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function Pq(e,t,n){return t<e.openStart&&(e=new at(gB(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new at(gB(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Gse={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Lq=null;function Kse(){return Lq||(Lq=document.implementation.createHTMLDocument("title"))}let iP=null;function PRe(e){let t=window.trustedTypes;return t?(iP||(iP=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),iP.createHTML(e)):e}function LRe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=Kse().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&Gse[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=PRe(e),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function jRe(e){let t=e.querySelectorAll(Sa?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function BRe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:a}=e;for(let s=r.length-2;s>=0;s-=2){let l=n.nodes[r[s]];if(!l||l.hasRequiredAttrs())break;i=He.from(l.create(r[s+1],i)),o++,a++}return new at(i,o,a)}const ss={},ls={},$Re={touchstart:!0,touchmove:!0};class HRe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function FRe(e){for(let t in ss){let n=ss[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{zRe(e,r)&&!g9(e,r)&&(e.editable||!(r.type in ls))&&n(e,r)},$Re[t]?{passive:!0}:void 0)}as&&e.dom.addEventListener("input",()=>null),yB(e)}function jp(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function URe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function yB(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>g9(e,r))})}function g9(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function zRe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function VRe(e,t){!g9(e,t)&&ss[t.type]&&(e.editable||!(t.type in ls))&&ss[t.type](e,t)}ls.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!Zse(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Of&&Sa&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),f1&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Xg(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||DRe(e,n)?n.preventDefault():jp(e,"key")};ls.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};ls.keypress=(e,t)=>{let n=t;if(Zse(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||ic&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof St)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,r.$from.pos,r.$to.pos,i,o))&&e.dispatch(o()),n.preventDefault()}};function _D(e){return{left:e.clientX,top:e.clientY}}function qRe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function y9(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(e.someProp(t,s=>a>o.depth?s(e,n,o.nodeAfter,o.before(a),i,!0):s(e,n,o.node(a),o.before(a),i,!1)))return!0;return!1}function $v(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function WRe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Rt.isSelectable(r)?($v(e,new Rt(n)),!0):!1}function YRe(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Rt&&(r=n.node);let o=e.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(Rt.isSelectable(s)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(a);break}}return i!=null?($v(e,Rt.create(e.state.doc,i)),!0):!1}function GRe(e,t,n,r,i){return y9(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?YRe(e,n):WRe(e,n))}function KRe(e,t,n,r){return y9(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function XRe(e,t,n,r){return y9(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||ZRe(e,n,r)}function ZRe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?($v(e,St.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)$v(e,St.create(r,s+1,s+1+a.content.size));else if(Rt.isSelectable(a))$v(e,Rt.create(r,s));else continue;return!0}}function b9(e){return MN(e)}const Xse=ic?"metaKey":"ctrlKey";ss.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=b9(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&qRe(n,e.input.lastClick)&&!n[Xse]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let a=e.posAtCoords(_D(n));a&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new QRe(e,a,n,!!r)):(o=="doubleClick"?KRe:XRe)(e,a.pos,a.inside,n)?n.preventDefault():jp(e,"pointer"))};class QRe{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Xse],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),a=n.inside;else{let d=t.state.doc.resolve(n.pos);o=d.parent,a=d.depth?d.before():0}const s=i?null:r.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Rt&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),jp(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Hf(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(_D(t))),this.updateAllowDefault(t),this.allowDefault||!n?jp(this.view,"pointer"):GRe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||as&&this.mightDrag&&!this.mightDrag.node.isAtom||Sa&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?($v(this.view,Zt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):jp(this.view,"pointer")}move(t){this.updateAllowDefault(t),jp(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}ss.touchstart=e=>{e.input.lastTouch=Date.now(),b9(e),jp(e,"pointer")};ss.touchmove=e=>{e.input.lastTouch=Date.now(),jp(e,"pointer")};ss.contextmenu=e=>b9(e);function Zse(e,t){return e.composing?!0:as&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const JRe=Of?5e3:-1;ls.compositionstart=ls.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof St&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),MN(e,!0),e.markCursor=null;else if(MN(e,!t.selection.empty),fc&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=e.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}e.input.composing=!0}Qse(e,JRe)};ls.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Qse(e,20))};function Qse(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>MN(e),t))}function Jse(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t3e());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function e3e(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=WDe(t.focusNode,t.focusOffset),r=YDe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function t3e(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function MN(e,t=!1){if(!(Of&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Jse(e),t||e.docView&&e.docView.dirty){let n=h9(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function n3e(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const nC=zs&&Vp<15||f1&&QDe<604;ss.copy=ls.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=nC?null:n.clipboardData,a=r.content(),{dom:s,text:l}=m9(e,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):n3e(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function r3e(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function i3e(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?rC(e,r.value,null,i,t):rC(e,r.textContent,r.innerHTML,i,t)},50)}function rC(e,t,n,r,i){let o=Vse(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||at.empty)))return!0;if(!o)return!1;let a=r3e(o),s=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function ele(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ls.paste=(e,t)=>{let n=t;if(e.composing&&!Of)return;let r=nC?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&rC(e,ele(r),r.getData("text/html"),i,n)?n.preventDefault():i3e(e,n)};class tle{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const o3e=ic?"altKey":"ctrlKey";function nle(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[o3e]}ss.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(_D(n)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Rt?i.to-1:i.to))){if(r&&r.mightDrag)a=Rt.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let u=e.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=e.docView&&(a=Rt.create(e.state.doc,u.posBefore))}}let s=(a||e.state.selection).content(),{dom:l,text:c,slice:d}=m9(e,s);(!n.dataTransfer.files.length||!Sa||Ase>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(nC?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",nC||n.dataTransfer.setData("text/plain",c),e.dragging=new tle(d,nle(e,n),a)};ss.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};ls.dragover=ls.dragenter=(e,t)=>t.preventDefault();ls.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(_D(n));if(!i)return;let o=e.state.doc.resolve(i.pos),a=r&&r.slice;a?e.someProp("transformPasted",v=>{a=v(a,e,!1)}):a=Vse(e,ele(n.dataTransfer),nC?null:n.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&nle(e,n));if(e.someProp("handleDrop",v=>v(e,n,a||at.empty,s))){n.preventDefault();return}if(!a)return;n.preventDefault();let l=a?i9(e.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(s){let{node:v}=r;v?v.replace(c):c.deleteSelection()}let d=c.mapping.map(l),u=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,p=c.doc;if(u?c.replaceRangeWith(d,d,a.content.firstChild):c.replaceRange(d,d,a),c.doc.eq(p))return;let m=c.doc.resolve(d);if(u&&Rt.isSelectable(a.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new Rt(m));else{let v=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((x,w,T,k)=>v=k),c.setSelection(p9(e,m,c.doc.resolve(v)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};ss.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Hf(e)},20))};ss.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};ss.beforeinput=(e,t)=>{if(Sa&&Of&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Xg(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in ls)ss[e]=ls[e];function iC(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class DN{constructor(t,n){this.toDOM=t,this.spec=n||m0,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new ir(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof DN&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&iC(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Wp{constructor(t,n){this.attrs=t,this.spec=n||m0}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new ir(o,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Wp&&iC(this.attrs,t.attrs)&&iC(this.spec,t.spec)}static is(t){return t.type instanceof Wp}destroy(){}}class v9{constructor(t,n){this.attrs=t,this.spec=n||m0}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=o.pos?null:new ir(o.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof v9&&iC(this.attrs,t.attrs)&&iC(this.spec,t.spec)}destroy(){}}class ir{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new ir(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new ir(t,t,new DN(n,r))}static inline(t,n,r,i){return new ir(t,n,new Wp(r,i))}static node(t,n,r,i){return new ir(t,n,new v9(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Wp}get widget(){return this.type instanceof DN}}const gv=[],m0={};class mn{constructor(t,n){this.local=t.length?t:gv,this.children=n.length?n:gv}static create(t,n){return n.length?RN(n,t,0,m0):ya}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=n&&s.to>=t&&(!o||o(s.spec))&&r.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,n-s,r,i+s,o)}}map(t,n,r){return this==ya||t.maps.length==0?this:this.mapInner(t,n,0,0,r||m0)}mapInner(t,n,r,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,r,i);l&&l.type.valid(n,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?a3e(this.children,a||[],t,n,r,i,o):a?new mn(a.sort(g0),gv):ya}add(t,n){return n.length?this==ya?mn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((s,l)=>{let c=l+r,d;if(d=ile(n,s,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,d,c+1):i.splice(o,0,l,l+s.nodeSize,RN(d,s,c+1,m0)),o+=3}});let a=rle(o?ole(n):n,-r);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new mn(a.length?this.local.concat(a).sort(g0):this.local,i||this.children)}remove(t){return t.length==0||this==ya?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,s=r[o]+n,l=r[o+1]+n;for(let d=0,u;d<t.length;d++)(u=t[d])&&u.from>s&&u.to<l&&(t[d]=null,(a||(a=[])).push(u));if(!a)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(a,s+1);c!=ya?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<i.length;s++)i[s].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new mn(i,r):ya}forChild(t,n){if(this==ya)return this;if(n.isLeaf)return mn.empty;let r,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(r=this.children[s+2]);break}let o=t+1,a=o+n.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof Wp){let c=Math.max(o,l.from)-o,d=Math.min(a,l.to)-o;c<d&&(i||(i=[])).push(l.copy(c,d))}}if(i){let s=new mn(i.sort(g0),gv);return r?new _p([s,r]):s}return r||ya}eq(t){if(this==t)return!0;if(!(t instanceof mn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return x9(this.localsInner(t))}localsInner(t){if(this==ya)return gv;if(t.inlineContent||!this.local.some(Wp.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Wp||n.push(this.local[r]);return n}forEachSet(t){t(this)}}mn.empty=new mn([],[]);mn.removeOverlap=x9;const ya=mn.empty;class _p{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,m0));return _p.from(r)}forChild(t,n){if(n.isLeaf)return mn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=ya&&(o instanceof _p?r=r.concat(o.members):r.push(o))}return _p.from(r)}eq(t){if(!(t instanceof _p)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?x9(r?n:n.sort(g0)):gv}static from(t){switch(t.length){case 0:return ya;case 1:return t[0];default:return new _p(t.every(n=>n instanceof mn)?t:t.reduce((n,r)=>n.concat(r instanceof mn?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function a3e(e,t,n,r,i,o,a){let s=e.slice();for(let c=0,d=o;c<n.maps.length;c++){let u=0;n.maps[c].forEach((p,m,v,x)=>{let w=x-v-(m-p);for(let T=0;T<s.length;T+=3){let k=s[T+1];if(k<0||p>k+d-u)continue;let N=s[T]+d-u;m>=N?s[T+1]=p<=N?-2:-1:p>=d&&w&&(s[T]+=w,s[T+1]+=w)}u+=w}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){l=!0,s[c+1]=-1;continue}let d=n.map(e[c]+o),u=d-i;if(u<0||u>=r.content.size){l=!0;continue}let p=n.map(e[c+1]+o,-1),m=p-i,{index:v,offset:x}=r.content.findIndex(u),w=r.maybeChild(v);if(w&&x==u&&x+w.nodeSize==m){let T=s[c+2].mapInner(n,w,d+1,e[c]+o+1,a);T!=ya?(s[c]=u,s[c+1]=m,s[c+2]=T):(s[c+1]=-2,l=!0)}else l=!0}if(l){let c=s3e(s,e,t,n,i,o,a),d=RN(c,r,0,a);t=d.local;for(let u=0;u<s.length;u+=3)s[u+1]<0&&(s.splice(u,3),u-=3);for(let u=0,p=0;u<d.children.length;u+=3){let m=d.children[u];for(;p<s.length&&s[p]<m;)p+=3;s.splice(p,0,d.children[u],d.children[u+1],d.children[u+2])}}return new mn(t.sort(g0),s)}function rle(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new ir(i.from+t,i.to+t,i.type))}return n}function s3e(e,t,n,r,i,o,a){function s(l,c){for(let d=0;d<l.local.length;d++){let u=l.local[d].map(r,i,c);u?n.push(u):a.onRemove&&a.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)s(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&s(e[l+2],t[l]+o+1);return n}function ile(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,a;o<e.length;o++)(a=e[o])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[o]=null);return i}function ole(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function RN(e,t,n,r){let i=[],o=!1;t.forEach((s,l)=>{let c=ile(e,s,l+n);if(c){o=!0;let d=RN(c,s,n+l+1,r);d!=ya&&i.push(l,l+s.nodeSize,d)}});let a=rle(o?ole(e):e,-n).sort(g0);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new mn(a,i):ya}function g0(e,t){return e.from-t.from||e.to-t.to}function x9(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),jq(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),jq(t,i,r.copy(o.from,r.to)));break}}}return t}function jq(e,t,n){for(;t<e.length&&g0(n,e[t])>0;)t++;e.splice(t,0,n)}function oP(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=ya&&t.push(r)}),e.cursorWrapper&&t.push(mn.create(e.state.doc,[e.cursorWrapper.deco])),_p.from(t)}const l3e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},c3e=zs&&Vp<=11;let u3e=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}};class d3e{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new u3e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);zs&&Vp<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),c3e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,l3e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Nq(this.view)){if(this.suppressingSelectionUpdates)return Hf(this.view);if(zs&&Vp<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&M0(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=d1(o))n.add(o);for(let o=t.anchorNode;o;o=d1(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Nq(t)&&!this.ignoreSelectionChange(r),o=-1,a=-1,s=!1,l=[];if(t.editable)for(let d=0;d<n.length;d++){let u=this.registerMutation(n[d],l);u&&(o=o<0?u.from:Math.min(u.from,o),a=a<0?u.to:Math.max(u.to,a),u.typeOver&&(s=!0))}if(fc&&l.length){let d=l.filter(u=>u.nodeName=="BR");if(d.length==2){let[u,p]=d;u.parentNode&&u.parentNode.parentNode==p.parentNode?p.remove():u.remove()}else{let{focusNode:u}=this.currentSelection;for(let p of d){let m=p.parentNode;m&&m.nodeName=="LI"&&(!u||p3e(t,u)!=m)&&p.remove()}}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&TD(r)&&(c=h9(t))&&c.eq(Zt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Hf(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,a),f3e(t)),this.handleDOMChange(o,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Hf(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let u=t.addedNodes[d];n.push(u),u.nodeType==3&&(this.lastChangedTextNode=u)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(zs&&Vp<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:u,nextSibling:p}=t.addedNodes[d];(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(i=u),(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(o=p)}let a=i&&i.parentNode==t.target?Qo(i)+1:0,s=r.localPosFromDOM(t.target,a,-1),l=o&&o.parentNode==t.target?Qo(o):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:s,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Bq=new WeakMap,$q=!1;function f3e(e){if(!Bq.has(e)&&(Bq.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=fc,$q)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),$q=!0}}function Hq(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return M0(a.node,a.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function h3e(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return Hq(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?Hq(e,n):null}function p3e(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function m3e(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:a,to:s}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,d=l.anchorNode;if(d&&e.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],TD(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Sa&&e.input.lastKeyCode===8)for(let w=o;w>i;w--){let T=r.childNodes[w-1],k=T.pmViewDesc;if(T.nodeName=="BR"&&!k){o=w;break}if(!k||k.size)break}let u=e.state.doc,p=e.someProp("domParser")||pu.fromSchema(e.state.schema),m=u.resolve(a),v=null,x=p.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:o,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:g3e,context:m});if(c&&c[0].pos!=null){let w=c[0].pos,T=c[1]&&c[1].pos;T==null&&(T=w),v={anchor:w+a,head:T+a}}return{doc:x,sel:v,from:a,to:s}}function g3e(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(as&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||as&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const y3e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function b3e(e,t,n,r,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let R=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,L=h9(e,R);if(L&&!e.state.selection.eq(L)){if(Sa&&Of&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",$=>$(e,Xg(13,"Enter"))))return;let B=e.state.tr.setSelection(L);R=="pointer"?B.setMeta("pointer",!0):R=="key"&&B.scrollIntoView(),o&&B.setMeta("composition",o),e.dispatch(B)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(n);t=a.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l=e.state.selection,c=m3e(e,t,n),d=e.state.doc,u=d.slice(c.from,c.to),p,m;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(p=e.state.selection.to,m="end"):(p=e.state.selection.from,m="start"),e.input.lastKeyCode=null;let v=w3e(u.content,c.doc.content,c.from,p,m);if(v&&e.input.domChangeCount++,(f1&&e.input.lastIOSEnter>Date.now()-225||Of)&&i.some(R=>R.nodeType==1&&!y3e.test(R.nodeName))&&(!v||v.endA>=v.endB)&&e.someProp("handleKeyDown",R=>R(e,Xg(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!v)if(r&&l instanceof St&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))v={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let R=Fq(e,e.state.doc,c.sel);if(R&&!R.eq(e.state.selection)){let L=e.state.tr.setSelection(R);o&&L.setMeta("composition",o),e.dispatch(L)}}return}e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof St&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),zs&&Vp<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>c.from&&c.doc.textBetween(v.start-c.from-1,v.start-c.from+1)==" "&&(v.start--,v.endA--,v.endB--);let x=c.doc.resolveNoCache(v.start-c.from),w=c.doc.resolveNoCache(v.endB-c.from),T=d.resolve(v.start),k=x.sameParent(w)&&x.parent.inlineContent&&T.end()>=v.endA;if((f1&&e.input.lastIOSEnter>Date.now()-225&&(!k||i.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!k&&x.pos<c.doc.content.size&&(!x.sameParent(w)||!x.parent.inlineContent)&&x.pos<w.pos&&!/\S/.test(c.doc.textBetween(x.pos,w.pos,"","")))&&e.someProp("handleKeyDown",R=>R(e,Xg(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>v.start&&x3e(d,v.start,v.endA,x,w)&&e.someProp("handleKeyDown",R=>R(e,Xg(8,"Backspace")))){Of&&Sa&&e.domObserver.suppressSelectionUpdates();return}Sa&&v.endB==v.start&&(e.input.lastChromeDelete=Date.now()),Of&&!k&&x.start()!=w.start()&&w.parentOffset==0&&x.depth==w.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==v.endA&&(v.endB-=2,w=c.doc.resolveNoCache(v.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(R){return R(e,Xg(13,"Enter"))})},20));let N=v.start,I=v.endA,M=R=>{let L=R||e.state.tr.replace(N,I,c.doc.slice(v.start-c.from,v.endB-c.from));if(c.sel){let B=Fq(e,L.doc,c.sel);B&&!(Sa&&e.composing&&B.empty&&(v.start!=v.endB||e.input.lastChromeDelete<Date.now()-100)&&(B.head==N||B.head==L.mapping.map(I)-1)||zs&&B.empty&&B.head==N)&&L.setSelection(B)}return o&&L.setMeta("composition",o),L.scrollIntoView()},A;if(k)if(x.pos==w.pos){zs&&Vp<=11&&x.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Hf(e),20));let R=M(e.state.tr.delete(N,I)),L=d.resolve(v.start).marksAcross(d.resolve(v.endA));L&&R.ensureMarks(L),e.dispatch(R)}else if(v.endA==v.endB&&(A=v3e(x.parent.content.cut(x.parentOffset,w.parentOffset),T.parent.content.cut(T.parentOffset,v.endA-T.start())))){let R=M(e.state.tr);A.type=="add"?R.addMark(N,I,A.mark):R.removeMark(N,I,A.mark),e.dispatch(R)}else if(x.parent.child(x.index()).isText&&x.index()==w.index()-(w.textOffset?0:1)){let R=x.parent.textBetween(x.parentOffset,w.parentOffset),L=()=>M(e.state.tr.insertText(R,N,I));e.someProp("handleTextInput",B=>B(e,N,I,R,L))||e.dispatch(L())}else e.dispatch(M());else e.dispatch(M())}function Fq(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:p9(e,t.resolve(n.anchor),t.resolve(n.head))}function v3e(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,a,s,l;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)o=n[d].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=d=>d.mark(s.addToSet(d.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=d=>d.mark(s.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<t.childCount;d++)c.push(l(t.child(d)));if(He.from(c).eq(e))return{mark:s,type:a}}function x3e(e,t,n,r,i){if(n-t<=i.pos-r.pos||aP(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let s=o.nodeAfter;return s!=null&&n==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(aP(o,!0,!0));return!a.parent.isTextblock||a.pos>n||aP(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function aP(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function w3e(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));r-=a+l-o}if(a<o&&e.size<t.size){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<t.size&&Uq(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&Uq(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function Uq(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class ale{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new HRe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Yq),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=qq(this),Vq(this),this.nodeViews=Wq(this),this.docView=Sq(this.state.doc,zq(this),oP(this),this.dom,this),this.domObserver=new d3e(this,(r,i,o,a)=>b3e(this,r,i,o,a)),this.domObserver.start(),FRe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&yB(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Yq),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,o=!1,a=!1;t.storedMarks&&this.composing&&(Jse(this),a=!0),this.state=t;let s=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=Wq(this);S3e(m,this.nodeViews)&&(this.nodeViews=m,o=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&yB(this),this.editable=qq(this),Vq(this);let l=oP(this),c=zq(this),d=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",u=o||!this.docView.matchesNode(t.doc,c,l);(u||!t.selection.eq(i.selection))&&(a=!0);let p=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&tRe(this);if(a){this.domObserver.stop();let m=u&&(zs||Sa)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&E3e(i.selection,t.selection);if(u){let v=Sa?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=e3e(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Sq(t.doc,c,l,this.dom,this)),v&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&TRe(this))?Hf(this,m):(Fse(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&nRe(p)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Rt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&yq(this,n.getBoundingClientRect(),t)}else yq(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new tle(t.slice,t.move,i<0?void 0:Rt.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[t];if(s!=null&&(i=n?n(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[t];if(s!=null&&(i=n?n(s):s))return i}}hasFocus(){if(zs){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&rRe(this.dom),Hf(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return lRe(this,t)}coordsAtPos(t,n=1){return Rse(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return hRe(this,n||this.state,t)}pasteHTML(t,n){return rC(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return rC(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return m9(this,t)}destroy(){this.docView&&(URe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],oP(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,VDe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return VRe(this,t)}domSelectionRange(){let t=this.domSelection();return t?as&&this.root.nodeType===11&&KDe(this.dom.ownerDocument)==this.dom&&h3e(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}ale.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function zq(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[ir.node(0,e.state.doc.content.size,t)]}function Vq(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ir.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function qq(e){return!e.someProp("editable",t=>t(e.state)===!1)}function E3e(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Wq(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function S3e(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function Yq(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var tm={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},IN={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},C3e=typeof navigator<"u"&&/Mac/.test(navigator.platform),T3e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Jo=0;Jo<10;Jo++)tm[48+Jo]=tm[96+Jo]=String(Jo);for(var Jo=1;Jo<=24;Jo++)tm[Jo+111]="F"+Jo;for(var Jo=65;Jo<=90;Jo++)tm[Jo]=String.fromCharCode(Jo+32),IN[Jo]=String.fromCharCode(Jo);for(var sP in tm)IN.hasOwnProperty(sP)||(IN[sP]=tm[sP]);function k3e(e){var t=C3e&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||T3e&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?IN:tm)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const _3e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),A3e=typeof navigator<"u"&&/Win/.test(navigator.platform);function N3e(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))_3e?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function O3e(e){let t=Object.create(null);for(let n in e)t[N3e(n)]=e[n];return t}function lP(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function M3e(e){return new rn({props:{handleKeyDown:w9(e)}})}function w9(e){let t=O3e(e);return function(n,r){let i=k3e(r),o,a=t[lP(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let s=t[lP(i,r,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(A3e&&r.ctrlKey&&r.altKey)&&(o=tm[r.keyCode])&&o!=i){let s=t[lP(o,r)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}var D3e=Object.defineProperty,E9=(e,t)=>{for(var n in t)D3e(e,n,{get:t[n],enumerable:!0})};function AD(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var ND=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,s])=>[a,(...c)=>{const d=s(...c)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a=[],s=!!e,l=e||i.tr,c=()=>(!s&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),a.every(u=>u===!0)),d={...Object.fromEntries(Object.entries(n).map(([u,p])=>[u,(...v)=>{const x=this.buildProps(l,t),w=p(...v)(x);return a.push(w),d}])),run:c};return d}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([s,l])=>[s,(...c)=>l(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a={tr:e,editor:r,view:o,state:AD({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([s,l])=>[s,(...c)=>l(...c)(a)]))}};return a}},sle={};E9(sle,{blur:()=>R3e,clearContent:()=>I3e,clearNodes:()=>P3e,command:()=>L3e,createParagraphNear:()=>j3e,cut:()=>B3e,deleteCurrentNode:()=>$3e,deleteNode:()=>H3e,deleteRange:()=>F3e,deleteSelection:()=>U3e,enter:()=>z3e,exitCode:()=>V3e,extendMarkRange:()=>q3e,first:()=>W3e,focus:()=>Y3e,forEach:()=>G3e,insertContent:()=>K3e,insertContentAt:()=>Z3e,joinBackward:()=>eIe,joinDown:()=>J3e,joinForward:()=>tIe,joinItemBackward:()=>nIe,joinItemForward:()=>rIe,joinTextblockBackward:()=>iIe,joinTextblockForward:()=>oIe,joinUp:()=>Q3e,keyboardShortcut:()=>sIe,lift:()=>lIe,liftEmptyBlock:()=>cIe,liftListItem:()=>uIe,newlineInCode:()=>dIe,resetAttributes:()=>fIe,scrollIntoView:()=>hIe,selectAll:()=>pIe,selectNodeBackward:()=>mIe,selectNodeForward:()=>gIe,selectParentNode:()=>yIe,selectTextblockEnd:()=>bIe,selectTextblockStart:()=>vIe,setContent:()=>xIe,setMark:()=>IIe,setMeta:()=>PIe,setNode:()=>LIe,setNodeSelection:()=>jIe,setTextDirection:()=>BIe,setTextSelection:()=>$Ie,sinkListItem:()=>HIe,splitBlock:()=>FIe,splitListItem:()=>UIe,toggleList:()=>zIe,toggleMark:()=>VIe,toggleNode:()=>qIe,toggleWrap:()=>WIe,undoInputRule:()=>YIe,unsetAllMarks:()=>GIe,unsetMark:()=>KIe,unsetTextDirection:()=>XIe,updateAttributes:()=>ZIe,wrapIn:()=>QIe,wrapInList:()=>JIe});var R3e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),I3e=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),P3e=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:a})=>{e.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;const{doc:c,mapping:d}=t,u=c.resolve(d.map(l)),p=c.resolve(d.map(l+s.nodeSize)),m=u.blockRange(p);if(!m)return;const v=ax(m);if(s.type.isTextblock){const{defaultType:x}=u.parent.contentMatchAt(u.index());t.setNodeMarkup(m.start,x)}(v||v===0)&&t.lift(m,v)})}),!0},L3e=e=>t=>e(t),j3e=()=>({state:e,dispatch:t})=>Sse(e,t),B3e=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,o.content),r.setSelection(new St(r.doc.resolve(Math.max(a-1,0)))),!0},$3e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(t){const s=i.before(o),l=i.after(o);e.delete(s,l).scrollIntoView()}return!0}return!1};function Fo(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var H3e=e=>({tr:t,state:n,dispatch:r})=>{const i=Fo(e,n.schema),o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(r){const l=o.before(a),c=o.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},F3e=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},U3e=()=>({state:e,dispatch:t})=>s9(e,t),z3e=()=>({commands:e})=>e.keyboardShortcut("Enter"),V3e=()=>({state:e,dispatch:t})=>NDe(e,t);function S9(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function PN(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:S9(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function lle(e,t,n={}){return e.find(r=>r.type===t&&PN(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function Gq(e,t,n={}){return!!lle(e,t,n)}function h1(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!lle([...i.node.marks],t,n)))return;let a=i.index,s=e.start()+i.offset,l=a+1,c=s+i.node.nodeSize;for(;a>0&&Gq([...e.parent.child(a-1).marks],t,n);)a-=1,s-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&Gq([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:c}}function lh(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var q3e=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=lh(e,r.schema),{doc:a,selection:s}=n,{$from:l,from:c,to:d}=s;if(i){const u=h1(l,o,t);if(u&&u.from<=c&&u.to>=d){const p=St.create(a,u.from,u.to);n.setSelection(p)}}return!0},W3e=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function C9(e){return e instanceof St}function Mf(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function cle(e,t=null){if(!t)return null;const n=Zt.atStart(e),r=Zt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,o=r.to;return t==="all"?St.create(e,Mf(0,i,o),Mf(e.content.size,i,o)):St.create(e,Mf(t,i,o),Mf(t,i,o))}function ule(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function OD(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Y3e=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const a=()=>{(OD()||ule())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!C9(n.state.selection))return a(),!0;const s=cle(i.doc,e)||n.state.selection,l=n.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},G3e=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),K3e=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),dle=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&dle(r)}return e};function K_(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return dle(n)}function oC(e,t,n){if(e instanceof Bf||e instanceof He)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return He.fromArray(e.map(s=>t.nodeFromJSON(s)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),oC("",t,n)}if(i){if(n.errorOnInvalidContent){let a=!1,s="";const l=new Xae({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,s=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?pu.fromSchema(l).parseSlice(K_(e),n.parseOptions):pu.fromSchema(l).parse(K_(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}const o=pu.fromSchema(t);return n.slice?o.parseSlice(K_(e),n.parseOptions).content:o.parse(K_(e),n.parseOptions)}return oC("",t,n)}function fle(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof so||i instanceof Ki))return;const o=e.mapping.maps[r];let a=0;o.forEach((s,l,c,d)=>{a===0&&(a=d)}),e.setSelection(Zt.near(e.doc.resolve(a),n))}var X3e=e=>!("type"in e),Z3e=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{var a;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let s;const l=w=>{o.emit("contentError",{editor:o,error:w,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{oC(t,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(w){l(w)}try{s=oC(t,o.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(w){return l(w),!1}let{from:d,to:u}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},p=!0,m=!0;if((X3e(s)?s:[s]).forEach(w=>{w.check(),p=p?w.isText&&w.marks.length===0:!1,m=m?w.isBlock:!1}),d===u&&m){const{parent:w}=r.doc.resolve(d);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(d-=1,u+=1)}let x;if(p){if(Array.isArray(t))x=t.map(w=>w.text||"").join("");else if(t instanceof He){let w="";t.forEach(T=>{T.text&&(w+=T.text)}),x=w}else typeof t=="object"&&t&&t.text?x=t.text:x=t;r.insertText(x,d,u)}else{x=s;const w=r.doc.resolve(d),T=w.node(),k=w.parentOffset===0,N=T.isText||T.isTextblock,I=T.content.size>0;k&&N&&I&&(d=Math.max(0,d-1)),r.replaceWith(d,u,x)}n.updateSelection&&fle(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:x}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:x})}return!0},Q3e=()=>({state:e,dispatch:t})=>kDe(e,t),J3e=()=>({state:e,dispatch:t})=>_De(e,t),eIe=()=>({state:e,dispatch:t})=>gse(e,t),tIe=()=>({state:e,dispatch:t})=>xse(e,t),nIe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=ED(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},rIe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=ED(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},iIe=()=>({state:e,dispatch:t})=>CDe(e,t),oIe=()=>({state:e,dispatch:t})=>TDe(e,t);function hle(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function aIe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<t.length-1;s+=1){const l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))OD()||hle()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var sIe=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=aIe(e).split(/-(?!$)/),a=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,s))});return l?.steps.forEach(c=>{const d=c.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function aC(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,a=t?Fo(t,e.schema):null,s=[];e.doc.nodesBetween(r,i,(u,p)=>{if(u.isText)return;const m=Math.max(r,p),v=Math.min(i,p+u.nodeSize);s.push({node:u,from:m,to:v})});const l=i-r,c=s.filter(u=>a?a.name===u.node.type.name:!0).filter(u=>PN(u.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((u,p)=>u+p.to-p.from,0)>=l}var lIe=(e,t={})=>({state:n,dispatch:r})=>{const i=Fo(e,n.schema);return aC(n,i,t)?ADe(n,r):!1},cIe=()=>({state:e,dispatch:t})=>Cse(e,t),uIe=e=>({state:t,dispatch:n})=>{const r=Fo(e,t.schema);return HDe(r)(t,n)},dIe=()=>({state:e,dispatch:t})=>Ese(e,t);function MD(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Kq(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var fIe=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=MD(typeof e=="string"?e:e.name,r.schema);if(!s)return!1;s==="node"&&(o=Fo(e,r.schema)),s==="mark"&&(a=lh(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,u)=>{o&&o===d.type&&(l=!0,i&&n.setNodeMarkup(u,void 0,Kq(d.attrs,t))),a&&d.marks.length&&d.marks.forEach(p=>{a===p.type&&(l=!0,i&&n.addMark(u,u+d.nodeSize,a.create(Kq(p.attrs,t))))})})}),l},hIe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),pIe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Us(e.doc);e.setSelection(n)}return!0},mIe=()=>({state:e,dispatch:t})=>bse(e,t),gIe=()=>({state:e,dispatch:t})=>wse(e,t),yIe=()=>({state:e,dispatch:t})=>DDe(e,t),bIe=()=>({state:e,dispatch:t})=>PDe(e,t),vIe=()=>({state:e,dispatch:t})=>IDe(e,t);function LN(e,t,n={},r={}){return oC(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var xIe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:a,commands:s})=>{const{doc:l}=o;if(r.preserveWhitespace!=="full"){const c=LN(e,i.schema,r,{errorOnInvalidContent:t??i.options.enableContentCheck});return a&&o.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&o.setMeta("preventUpdate",!n),s.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??i.options.enableContentCheck})};function ple(e,t){const n=lh(t,e.schema),{from:r,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{a.push(...l.marks)});const s=a.find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function DD(e,t){const n=new o9(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function wIe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Xq(e,t){const n=[];return e.descendants((r,i)=>{t(r)&&n.push({node:r,pos:i})}),n}function mle(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function EIe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function RD(e){return t=>EIe(t.$from,e)}function Vt(e,t,n){return e.config[t]===void 0&&e.parent?Vt(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Vt(e.parent,t,n):null}):e.config[t]}function T9(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Vt(t,"addExtensions",n);return r?[t,...T9(r())]:t}).flat(10)}function k9(e,t){const n=Ml.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function gle(e){return typeof e=="function"}function Ur(e,t=void 0,...n){return gle(e)?t?e.bind(t)(...n):e(...n):e}function SIe(e={}){return Object.keys(e).length===0&&e.constructor===Object}function p1(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function yle(e){const t=[],{nodeExtensions:n,markExtensions:r}=p1(e),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage,extensions:i},l=Vt(a,"addGlobalAttributes",s);if(!l)return;l().forEach(d=>{d.types.forEach(u=>{Object.entries(d.attributes).forEach(([p,m])=>{t.push({type:u,name:p,attribute:{...o,...m}})})})})}),i.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=Vt(a,"addAttributes",s);if(!l)return;const c=l();Object.entries(c).forEach(([d,u])=>{const p={...o,...u};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,t.push({type:a.name,name:d,attribute:p})})}),t}function Dl(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const s=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],c=s.filter(d=>!l.includes(d));r[i]=[...l,...c].join(" ")}else if(i==="style"){const s=o?o.split(";").map(d=>d.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;l.forEach(d=>{const[u,p]=d.split(":").map(m=>m.trim());c.set(u,p)}),s.forEach(d=>{const[u,p]=d.split(":").map(m=>m.trim());c.set(u,p)}),r[i]=Array.from(c.entries()).map(([d,u])=>`${d}: ${u}`).join("; ")}else r[i]=o}),r},{})}function sC(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Dl(n,r),{})}function CIe(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Zq(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((o,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(n):CIe(n.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...r,...i}}}}function Qq(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&SIe(n)?!1:n!=null))}function Jq(e){var t,n;const r={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(r.default=e.attribute.default),((n=e?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function ble(e,t){var n;const r=yle(e),{nodeExtensions:i,markExtensions:o}=p1(e),a=(n=i.find(c=>Vt(c,"topNode")))==null?void 0:n.name,s=Object.fromEntries(i.map(c=>{const d=r.filter(T=>T.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:t},p=e.reduce((T,k)=>{const N=Vt(k,"extendNodeSchema",u);return{...T,...N?N(c):{}}},{}),m=Qq({...p,content:Ur(Vt(c,"content",u)),marks:Ur(Vt(c,"marks",u)),group:Ur(Vt(c,"group",u)),inline:Ur(Vt(c,"inline",u)),atom:Ur(Vt(c,"atom",u)),selectable:Ur(Vt(c,"selectable",u)),draggable:Ur(Vt(c,"draggable",u)),code:Ur(Vt(c,"code",u)),whitespace:Ur(Vt(c,"whitespace",u)),linebreakReplacement:Ur(Vt(c,"linebreakReplacement",u)),defining:Ur(Vt(c,"defining",u)),isolating:Ur(Vt(c,"isolating",u)),attrs:Object.fromEntries(d.map(Jq))}),v=Ur(Vt(c,"parseHTML",u));v&&(m.parseDOM=v.map(T=>Zq(T,d)));const x=Vt(c,"renderHTML",u);x&&(m.toDOM=T=>x({node:T,HTMLAttributes:sC(T,d)}));const w=Vt(c,"renderText",u);return w&&(m.toText=w),[c.name,m]})),l=Object.fromEntries(o.map(c=>{const d=r.filter(w=>w.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:t},p=e.reduce((w,T)=>{const k=Vt(T,"extendMarkSchema",u);return{...w,...k?k(c):{}}},{}),m=Qq({...p,inclusive:Ur(Vt(c,"inclusive",u)),excludes:Ur(Vt(c,"excludes",u)),group:Ur(Vt(c,"group",u)),spanning:Ur(Vt(c,"spanning",u)),code:Ur(Vt(c,"code",u)),attrs:Object.fromEntries(d.map(Jq))}),v=Ur(Vt(c,"parseHTML",u));v&&(m.parseDOM=v.map(w=>Zq(w,d)));const x=Vt(c,"renderHTML",u);return x&&(m.toDOM=w=>x({mark:w,HTMLAttributes:sC(w,d)})),[c.name,m]}));return new Xae({topNode:a,nodes:s,marks:l})}function TIe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function _9(e){return e.sort((n,r)=>{const i=Vt(n,"priority")||100,o=Vt(r,"priority")||100;return i>o?-1:i<o?1:0})}function A9(e){const t=_9(T9(e)),n=TIe(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function kIe(e,t){const n=A9(e);return ble(n,t)}function vle(e,t,n){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:a={}}=n||{};let s="";return e.nodesBetween(r,i,(l,c,d,u)=>{var p;l.isBlock&&c>r&&(s+=o);const m=a?.[l.type.name];if(m)return d&&(s+=m({node:l,pos:c,parent:d,index:u,range:t})),!1;l.isText&&(s+=(p=l?.text)==null?void 0:p.slice(Math.max(r,c)-c,i-c))}),s}function _Ie(e,t){const n={from:0,to:e.content.size};return vle(e,n,t)}function xle(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function AIe(e,t){const n=Fo(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,s=>{o.push(s)});const a=o.reverse().find(s=>s.type.name===n.name);return a?{...a.attrs}:{}}function wle(e,t){const n=MD(typeof t=="string"?t:t.name,e.schema);return n==="node"?AIe(e,t):n==="mark"?ple(e,t):{}}function NIe(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function OIe(e){const t=NIe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((o,a)=>a!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function N9(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((s,l)=>{a.push({from:s,to:l})});else{const{from:s,to:l}=n[o];if(s===void 0||l===void 0)return;a.push({from:s,to:l})}a.forEach(({from:s,to:l})=>{const c=t.slice(o).map(s,-1),d=t.slice(o).map(l),u=t.invert().map(c,-1),p=t.invert().map(d);r.push({oldRange:{from:u,to:p},newRange:{from:c,to:d}})})}),OIe(r)}function O9(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e),a=h1(o,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(e,t,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),r}function cP(e,t){return t.nodes[e]||t.marks[e]||null}function GA(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var MIe=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,o,a,s)=>{var l,c;const d=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-o))}),n};function bB(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?lh(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(u=>o?o.name===u.type.name:!0).find(u=>PN(u.attrs,n,{strict:!1}));let a=0;const s=[];if(i.forEach(({$from:u,$to:p})=>{const m=u.pos,v=p.pos;e.doc.nodesBetween(m,v,(x,w)=>{if(!x.isText&&!x.marks.length)return;const T=Math.max(m,w),k=Math.min(v,w+x.nodeSize),N=k-T;a+=N,s.push(...x.marks.map(I=>({mark:I,from:T,to:k})))})}),a===0)return!1;const l=s.filter(u=>o?o.name===u.mark.type.name:!0).filter(u=>PN(u.mark.attrs,n,{strict:!1})).reduce((u,p)=>u+p.to-p.from,0),c=s.filter(u=>o?u.mark.type!==o&&u.mark.type.excludes(o):!0).reduce((u,p)=>u+p.to-p.from,0);return(l>0?l+c:l)>=a}function DIe(e,t,n={}){if(!t)return aC(e,null,n)||bB(e,null,n);const r=MD(t,e.schema);return r==="node"?aC(e,t,n):r==="mark"?bB(e,t,n):!1}function eW(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function tW(e,t){const{nodeExtensions:n}=p1(t),r=n.find(a=>a.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Ur(Vt(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function ID(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(ID(o,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function jN(e){return e instanceof Rt}function BN(e,t,n){const i=e.state.doc.content.size,o=Mf(t,0,i),a=Mf(n,0,i),s=e.coordsAtPos(o),l=e.coordsAtPos(a,-1),c=Math.min(s.top,l.top),d=Math.max(s.bottom,l.bottom),u=Math.min(s.left,l.left),p=Math.max(s.right,l.right),m=p-u,v=d-c,T={top:c,bottom:d,left:u,right:p,width:m,height:v,x:u,y:c};return{...T,toJSON:()=>T}}function RIe(e,t,n){var r;const{selection:i}=t;let o=null;if(C9(i)&&(o=i.$cursor),o){const s=(r=e.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(s)||!s.some(c=>c.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let c=s.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(s.pos,l.pos,(d,u,p)=>{if(c)return!1;if(d.isInline){const m=!p||p.type.allowsMarkType(n),v=!!n.isInSet(d.marks)||!d.marks.some(x=>x.type.excludes(n));c=m&&v}return!c}),c})}var IIe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:a,ranges:s}=o,l=lh(e,r.schema);if(i)if(a){const c=ple(r,l);n.addStoredMark(l.create({...c,...t}))}else s.forEach(c=>{const d=c.$from.pos,u=c.$to.pos;r.doc.nodesBetween(d,u,(p,m)=>{const v=Math.max(m,d),x=Math.min(m+p.nodeSize,u);p.marks.find(T=>T.type===l)?p.marks.forEach(T=>{l===T.type&&n.addMark(v,x,l.create({...T.attrs,...t}))}):n.addMark(v,x,l.create(t))})});return RIe(r,n,l)},PIe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),LIe=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=Fo(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:s})=>pq(o,{...a,...t})(n)?!0:s.clearNodes()).command(({state:s})=>pq(o,{...a,...t})(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},jIe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=Mf(e,0,r.content.size),o=Rt.create(r,i);t.setSelection(o)}return!0},BIe=(e,t)=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=r;let a,s;return typeof t=="number"?(a=t,s=t):t&&"from"in t&&"to"in t?(a=t.from,s=t.to):(a=o.from,s=o.to),i&&n.doc.nodesBetween(a,s,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},$Ie=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,a=St.atStart(r).from,s=St.atEnd(r).to,l=Mf(i,a,s),c=Mf(o,a,s),d=St.create(r,l,c);t.setSelection(d)}return!0},HIe=e=>({state:t,dispatch:n})=>{const r=Fo(e,t.schema);return zDe(r)(t,n)};function nW(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t?.includes(i.type.name));e.tr.ensureMarks(r)}}var FIe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:a}=t,{$from:s,$to:l}=o,c=i.extensionManager.attributes,d=GA(c,s.node().type.name,s.node().attrs);if(o instanceof Rt&&o.node.isBlock)return!s.parentOffset||!$f(a,s.pos)?!1:(r&&(e&&nW(n,i.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const u=l.parentOffset===l.parent.content.size,p=s.depth===0?void 0:wIe(s.node(-1).contentMatchAt(s.indexAfter(-1)));let m=u&&p?[{type:p,attrs:d}]:void 0,v=$f(t.doc,t.mapping.map(s.pos),1,m);if(!m&&!v&&$f(t.doc,t.mapping.map(s.pos),1,p?[{type:p}]:void 0)&&(v=!0,m=p?[{type:p,attrs:d}]:void 0),r){if(v&&(o instanceof St&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,m),p&&!u&&!s.parentOffset&&s.parent.type!==p)){const x=t.mapping.map(s.before()),w=t.doc.resolve(x);s.node(-1).canReplaceWith(w.index(),w.index()+1,p)&&t.setNodeMarkup(t.mapping.map(s.before()),p)}e&&nW(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return v},UIe=(e,t={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var a;const s=Fo(e,r.schema),{$from:l,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const u=l.node(-1);if(u.type!==s)return!1;const p=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let T=He.empty;const k=l.index(-1)?1:l.index(-2)?2:3;for(let L=l.depth-k;L>=l.depth-3;L-=1)T=He.from(l.node(L).copy(T));const N=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,I={...GA(p,l.node().type.name,l.node().attrs),...t},M=((a=s.contentMatch.defaultType)==null?void 0:a.createAndFill(I))||void 0;T=T.append(He.from(s.createAndFill(null,M)||void 0));const A=l.before(l.depth-(k-1));n.replace(A,l.after(-N),new at(T,4-k,0));let R=-1;n.doc.nodesBetween(A,n.doc.content.size,(L,B)=>{if(R>-1)return!1;L.isTextblock&&L.content.size===0&&(R=B+1)}),R>-1&&n.setSelection(St.near(n.doc.resolve(R))),n.scrollIntoView()}return!0}const m=c.pos===l.end()?u.contentMatchAt(0).defaultType:null,v={...GA(p,u.type.name,u.attrs),...t},x={...GA(p,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const w=m?[{type:s,attrs:v},{type:m,attrs:x}]:[{type:s,attrs:v}];if(!$f(n.doc,l.pos,2))return!1;if(i){const{selection:T,storedMarks:k}=r,{splittableMarks:N}=o.extensionManager,I=k||T.$to.parentOffset&&T.$from.marks();if(n.split(l.pos,2,w).scrollIntoView(),!I||!i)return!0;const M=I.filter(A=>N.includes(A.type.name));n.ensureMarks(M)}return!0},uP=(e,t)=>{const n=RD(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&iy(e.doc,n.pos)&&e.join(n.pos),!0},dP=(e,t)=>{const n=RD(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&iy(e.doc,r)&&e.join(r),!0},zIe=(e,t,n,r={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:c,can:d})=>{const{extensions:u,splittableMarks:p}=i.extensionManager,m=Fo(e,a.schema),v=Fo(t,a.schema),{selection:x,storedMarks:w}=a,{$from:T,$to:k}=x,N=T.blockRange(k),I=w||x.$to.parentOffset&&x.$from.marks();if(!N)return!1;const M=RD(A=>tW(A.type.name,u))(x);if(N.depth>=1&&M&&N.depth-M.depth<=1){if(M.node.type===m)return c.liftListItem(v);if(tW(M.node.type.name,u)&&m.validContent(M.node.content)&&s)return l().command(()=>(o.setNodeMarkup(M.pos,m),!0)).command(()=>uP(o,m)).command(()=>dP(o,m)).run()}return!n||!I||!s?l().command(()=>d().wrapInList(m,r)?!0:c.clearNodes()).wrapInList(m,r).command(()=>uP(o,m)).command(()=>dP(o,m)).run():l().command(()=>{const A=d().wrapInList(m,r),R=I.filter(L=>p.includes(L.type.name));return o.ensureMarks(R),A?!0:c.clearNodes()}).wrapInList(m,r).command(()=>uP(o,m)).command(()=>dP(o,m)).run()},VIe=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,a=lh(e,r.schema);return bB(r,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)},qIe=(e,t,n={})=>({state:r,commands:i})=>{const o=Fo(e,r.schema),a=Fo(t,r.schema),s=aC(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),s?i.setNode(a,l):i.setNode(o,{...l,...n})},WIe=(e,t={})=>({state:n,commands:r})=>{const i=Fo(e,n.schema);return aC(n,i,t)?r.lift(i):r.wrapIn(i,t)},YIe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const a=e.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){const l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},GIe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},KIe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=lh(e,r.schema),{$from:c,empty:d,ranges:u}=s;if(!i)return!0;if(d&&a){let{from:p,to:m}=s;const v=(o=c.marks().find(w=>w.type===l))==null?void 0:o.attrs,x=h1(c,l,v);x&&(p=x.from,m=x.to),n.removeMark(p,m,l)}else u.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},XIe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:i}=n;let o,a;return typeof e=="number"?(o=e,a=e):e&&"from"in e&&"to"in e?(o=e.from,a=e.to):(o=i.from,a=i.to),r&&t.doc.nodesBetween(o,a,(s,l)=>{if(s.isText)return;const c={...s.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},ZIe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=MD(typeof e=="string"?e:e.name,r.schema);if(!s)return!1;s==="node"&&(o=Fo(e,r.schema)),s==="mark"&&(a=lh(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const d=c.$from.pos,u=c.$to.pos;let p,m,v,x;n.selection.empty?r.doc.nodesBetween(d,u,(w,T)=>{o&&o===w.type&&(l=!0,v=Math.max(T,d),x=Math.min(T+w.nodeSize,u),p=T,m=w)}):r.doc.nodesBetween(d,u,(w,T)=>{T<d&&o&&o===w.type&&(l=!0,v=Math.max(T,d),x=Math.min(T+w.nodeSize,u),p=T,m=w),T>=d&&T<=u&&(o&&o===w.type&&(l=!0,i&&n.setNodeMarkup(T,void 0,{...w.attrs,...t})),a&&w.marks.length&&w.marks.forEach(k=>{if(a===k.type&&(l=!0,i)){const N=Math.max(T,d),I=Math.min(T+w.nodeSize,u);n.addMark(N,I,a.create({...k.attrs,...t}))}}))}),m&&(p!==void 0&&i&&n.setNodeMarkup(p,void 0,{...m.attrs,...t}),a&&m.marks.length&&m.marks.forEach(w=>{a===w.type&&i&&n.addMark(v,x,a.create({...w.attrs,...t}))}))}),l},QIe=(e,t={})=>({state:n,dispatch:r})=>{const i=Fo(e,n.schema);return LDe(i,t)(n,r)},JIe=(e,t={})=>({state:n,dispatch:r})=>{const i=Fo(e,n.schema);return jDe(i,t)(n,r)},ePe=class{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}once(t,n){const r=(...i)=>{this.off(t,r),n.apply(this,i)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},Ele=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},tPe=(e,t)=>{if(S9(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function X_(e){var t;const{editor:n,from:r,to:i,text:o,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(p=>p.type.spec.code))return!1;let d=!1;const u=MIe(c)+o;return a.forEach(p=>{if(d)return;const m=tPe(u,p.find);if(!m)return;const v=l.state.tr,x=AD({state:l.state,transaction:v}),w={from:r-(m[0].length-o.length),to:i},{commands:T,chain:k,can:N}=new ND({editor:n,state:x});p.handler({state:x,range:w,match:m,commands:T,chain:k,can:N})===null||!v.steps.length||(p.undoable&&v.setMeta(s,{transform:v,from:r,to:i,text:o}),l.dispatch(v),d=!0)}),d}function nPe(e){const{editor:t,rules:n}=e,r=new rn({state:{init(){return null},apply(i,o,a){const s=i.getMeta(r);if(s)return s;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=k9(He.from(d),a.schema);const{from:u}=l,p=u+d.length;X_({editor:t,from:u,to:p,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,s){return X_({editor:t,from:o,to:a,text:s,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&X_({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?X_({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function rPe(e){return Object.prototype.toString.call(e).slice(8,-1)}function Z_(e){return rPe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Sle(e,t){const n={...e};return Z_(e)&&Z_(t)&&Object.keys(t).forEach(r=>{Z_(t[r])&&Z_(e[r])?n[r]=Sle(e[r],t[r]):n[r]=t[r]}),n}var M9=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Ur(Vt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ur(Vt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Sle(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},jl=class Cle extends M9{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new Cle(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(c=>c?.type.name===n.name))return!1;const l=a.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function iPe(e){return typeof e=="number"}var oPe=class{constructor(e){this.find=e.find,this.handler=e.handler}},aPe=(e,t,n)=>{if(S9(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function sPe(e){const{editor:t,state:n,from:r,to:i,rule:o,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:d}=new ND({editor:t,state:n}),u=[];return n.doc.nodesBetween(r,i,(m,v)=>{var x,w,T,k,N;if((w=(x=m.type)==null?void 0:x.spec)!=null&&w.code||!(m.isText||m.isTextblock||m.isInline))return;const I=(N=(k=(T=m.content)==null?void 0:T.size)!=null?k:m.nodeSize)!=null?N:0,M=Math.max(r,v),A=Math.min(i,v+I);if(M>=A)return;const R=m.isText?m.text||"":m.textBetween(M-v,A-v,void 0,"");aPe(R,o.find,a).forEach(B=>{if(B.index===void 0)return;const $=M+B.index+1,W=$+B[0].length,V={from:n.tr.mapping.map($),to:n.tr.mapping.map(W)},Y=o.handler({state:n,range:V,match:B,commands:l,chain:c,can:d,pasteEvent:a,dropEvent:s});u.push(Y)})}),u.every(m=>m!==null)}var Q_=null,lPe=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function cPe(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,s;try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}const l=({state:d,from:u,to:p,rule:m,pasteEvt:v})=>{const x=d.tr,w=AD({state:d,transaction:x});if(!(!sPe({editor:t,state:w,from:Math.max(u-1,0),to:p.b-1,rule:m,pasteEvent:v,dropEvent:s})||!x.steps.length)){try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return n.map(d=>new rn({view(u){const p=v=>{var x;r=(x=u.dom.parentElement)!=null&&x.contains(v.target)?u.dom.parentElement:null,r&&(Q_=t)},m=()=>{Q_&&(Q_=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(u,p)=>{if(o=r===u.dom.parentElement,s=p,!o){const m=Q_;m?.isEditable&&setTimeout(()=>{const v=m.state.selection;v&&m.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(u,p)=>{var m;const v=(m=p.clipboardData)==null?void 0:m.getData("text/html");return a=p,i=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(u,p,m)=>{const v=u[0],x=v.getMeta("uiEvent")==="paste"&&!i,w=v.getMeta("uiEvent")==="drop"&&!o,T=v.getMeta("applyPasteRules"),k=!!T;if(!x&&!w&&!k)return;if(k){let{text:M}=T;typeof M=="string"?M=M:M=k9(He.from(M),m.schema);const{from:A}=T,R=A+M.length,L=lPe(M);return l({rule:d,state:m,from:A,to:{b:R},pasteEvt:L})}const N=p.doc.content.findDiffStart(m.doc.content),I=p.doc.content.findDiffEnd(m.doc.content);if(!(!iPe(N)||!I||N===I.b))return l({rule:d,state:m,from:N,to:I,pasteEvt:a})}}))}var PD=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=A9(e),this.schema=ble(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:cP(t.name,this.schema)},r=Vt(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return _9([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:cP(r.name,this.schema)},o=[],a=Vt(r,"addKeyboardShortcuts",i);let s={};if(r.type==="mark"&&Vt(r,"exitable",i)&&(s.ArrowRight=()=>jl.handleExit({editor:e,mark:r})),a){const p=Object.fromEntries(Object.entries(a()).map(([m,v])=>[m,()=>v({editor:e})]));s={...s,...p}}const l=M3e(s);o.push(l);const c=Vt(r,"addInputRules",i);if(eW(r,e.options.enableInputRules)&&c){const p=c();if(p&&p.length){const m=nPe({editor:e,rules:p}),v=Array.isArray(m)?m:[m];o.push(...v)}}const d=Vt(r,"addPasteRules",i);if(eW(r,e.options.enablePasteRules)&&d){const p=d();if(p&&p.length){const m=cPe({editor:e,rules:p});o.push(...m)}}const u=Vt(r,"addProseMirrorPlugins",i);if(u){const p=u();o.push(...p)}return o})}get attributes(){return yle(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=p1(this.extensions);return Object.fromEntries(t.filter(n=>!!Vt(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Fo(n.name,this.schema)},o=Vt(n,"addNodeView",i);if(!o)return[];const a=o();if(!a)return[];const s=(l,c,d,u,p)=>{const m=sC(l,r);return a({node:l,view:c,getPos:d,decorations:u,innerDecorations:p,editor:e,extension:n,HTMLAttributes:m})};return[n.name,s]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=p1(this.extensions);return Object.fromEntries(t.filter(n=>!!Vt(n,"addMarkView")).map(n=>{const r=this.attributes.filter(s=>s.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:lh(n.name,this.schema)},o=Vt(n,"addMarkView",i);if(!o)return[];const a=(s,l,c)=>{const d=sC(s,r);return o()({mark:s,view:l,inline:c,editor:e,extension:n,HTMLAttributes:d,updateAttributes:u=>{EPe(s,e,u)}})};return[n.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:cP(t.name,this.schema)};t.type==="mark"&&((n=Ur(Vt(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=Vt(t,"onBeforeCreate",r),o=Vt(t,"onCreate",r),a=Vt(t,"onUpdate",r),s=Vt(t,"onSelectionUpdate",r),l=Vt(t,"onTransaction",r),c=Vt(t,"onFocus",r),d=Vt(t,"onBlur",r),u=Vt(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),u&&this.editor.on("destroy",u)})}};PD.resolve=A9;PD.sort=_9;PD.flatten=T9;var yv={};E9(yv,{ClipboardTextSerializer:()=>kle,Commands:()=>_le,Delete:()=>Ale,Drop:()=>Nle,Editable:()=>Ole,FocusEvents:()=>Dle,Keymap:()=>Rle,Paste:()=>Ile,Tabindex:()=>Ple,TextDirection:()=>Lle,focusEventsPluginKey:()=>Mle});var ur=class Tle extends M9{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new Tle(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},kle=ur.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new rn({key:new En("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map(d=>d.$from.pos)),s=Math.max(...o.map(d=>d.$to.pos)),l=xle(n);return vle(r,{from:a,to:s},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),_le=ur.create({name:"commands",addCommands(){return{...sle}}}),Ale=ur.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const o=()=>{var a,s,l,c;if((c=(l=(s=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:s.filterTransaction)==null?void 0:l.call(s,e))!=null?c:e.getMeta("y-sync$"))return;const d=DD(e.before,[e,...t]);N9(d).forEach(m=>{d.mapping.mapResult(m.oldRange.from).deletedAfter&&d.mapping.mapResult(m.oldRange.to).deletedBefore&&d.before.nodesBetween(m.oldRange.from,m.oldRange.to,(v,x)=>{const w=x+v.nodeSize-2,T=m.oldRange.from<=x&&w<=m.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:x,to:w,newFrom:d.mapping.map(x),newTo:d.mapping.map(w),deletedRange:m.oldRange,newRange:m.newRange,partial:!T,editor:this.editor,transaction:e,combinedTransform:d})})});const p=d.mapping;d.steps.forEach((m,v)=>{var x,w;if(m instanceof lu){const T=p.slice(v).map(m.from,-1),k=p.slice(v).map(m.to),N=p.invert().map(T,-1),I=p.invert().map(k),M=(x=d.doc.nodeAt(T-1))==null?void 0:x.marks.some(R=>R.eq(m.mark)),A=(w=d.doc.nodeAt(k))==null?void 0:w.marks.some(R=>R.eq(m.mark));this.editor.emit("delete",{type:"mark",mark:m.mark,from:m.from,to:m.to,deletedRange:{from:N,to:I},newRange:{from:T,to:k},partial:!!(A||M),editor:this.editor,transaction:e,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),Nle=ur.create({name:"drop",addProseMirrorPlugins(){return[new rn({key:new En("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),Ole=ur.create({name:"editable",addProseMirrorPlugins(){return[new rn({key:new En("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Mle=new En("focusEvents"),Dle=ur.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new rn({key:Mle,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Rle=ur.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:c}=s,{empty:d,$anchor:u}=l,{pos:p,parent:m}=u,v=u.parent.isTextblock&&p>0?s.doc.resolve(p-1):u,x=v.parent.type.spec.isolating,w=u.pos-u.parentOffset,T=x&&v.parent.childCount===1?w===u.pos:Zt.atStart(c).from===p;return!d||!m.type.isTextblock||m.textContent.length||!T||T&&u.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return OD()||hle()?o:i},addProseMirrorPlugins(){return[new rn({key:new En("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(x=>x.getMeta("composition")))return;const r=e.some(x=>x.docChanged)&&!t.doc.eq(n.doc),i=e.some(x=>x.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:a,to:s}=t.selection,l=Zt.atStart(t.doc).from,c=Zt.atEnd(t.doc).to;if(o||!(a===l&&s===c)||!ID(n.doc))return;const p=n.tr,m=AD({state:n,transaction:p}),{commands:v}=new ND({editor:this.editor,state:m});if(v.clearNodes(),!!p.steps.length)return p}})]}}),Ile=ur.create({name:"paste",addProseMirrorPlugins(){return[new rn({key:new En("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Ple=ur.create({name:"tabindex",addProseMirrorPlugins(){return[new rn({key:new En("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Lle=ur.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=p1(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new rn({key:new En("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),uPe=class bv{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new bv(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new bv(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new bv(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(a);if(!i&&s.depth<=this.depth)return;const l=new bv(s,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new bv(s,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const o=i.node.attrs,a=Object.keys(n);for(let s=0;s<a.length;s+=1){const l=a[s];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===t&&o.every(l=>n[l]===a.node.attrs[l])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},dPe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function fPe(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var hPe=class extends ePe{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=cle(t,this.options.autofocus);this.editorState=kv.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=fPe(dPe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=gle(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(o))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[Ole,kle.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),_le,Dle,Rle,Ple,Nle,Ile,Ale,Lle.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new PD(r,this)}createCommandManager(){this.commandManager=new ND({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=LN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=LN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new ale(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(c)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),s=a?.getMeta("focus"),l=a?.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(e.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||o.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return wle(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return DIe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return k9(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return _Ie(this.state.doc,{blockSeparator:t,textSerializers:{...xle(this.schema),...n}})}get isEmpty(){return ID(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new uPe(t,this)}get $doc(){return this.$pos(0)}};function m1(e){return new Ele({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Ur(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,a=r[r.length-1],s=r[0];if(a){const l=s.search(/\S/),c=n.from+s.indexOf(a),d=c+a.length;if(O9(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(x=>x===e.type&&x!==m.mark.type)).filter(m=>m.to>c).length)return null;d<n.to&&o.delete(d,n.to),c>n.from&&o.delete(n.from+l,c);const p=n.from+l+a.length;o.addMark(n.from+l,p,e.type.create(i||{})),o.removeStoredMark(e.type)}},undoable:e.undoable})}var pPe={};E9(pPe,{createAtomBlockMarkdownSpec:()=>mPe,createBlockMarkdownSpec:()=>gPe,createInlineMarkdownSpec:()=>vPe,parseAttributes:()=>D9,parseIndentedBlocks:()=>xPe,renderNestedMarkdownContent:()=>wPe,serializeAttributes:()=>R9});function D9(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(d=>d.trim().slice(1));t.class=c.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(t.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,d])=>{var u;const p=parseInt(((u=d.match(/__QUOTED_(\d+)__/))==null?void 0:u[1])||"0",10),m=n[p];m&&(t[c]=m.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(t[d]=!0)}),t}function R9(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function mPe(e){const{nodeName:t,name:n,parseAttributes:r=D9,serializeAttributes:i=R9,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:s}=e,l=n||t,c=d=>{if(!s)return d;const u={};return s.forEach(p=>{p in d&&(u[p]=d[p])}),u};return{parseMarkdown:(d,u)=>{const p={...o,...d.attributes};return u.createNode(t,p,[])},markdownTokenizer:{name:t,level:"block",start(d){var u;const p=new RegExp(`^:::${l}(?:\\s|$)`,"m"),m=(u=d.match(p))==null?void 0:u.index;return m!==void 0?m:-1},tokenize(d,u,p){const m=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=d.match(m);if(!v)return;const x=v[1]||"",w=r(x);if(!a.find(k=>!(k in w)))return{type:t,raw:v[0],attributes:w}}},renderMarkdown:d=>{const u=c(d.attrs||{}),p=i(u),m=p?` {${p}}`:"";return`:::${l}${m} :::`}}}function gPe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=D9,serializeAttributes:o=R9,defaultAttributes:a={},content:s="block",allowedAttributes:l}=e,c=n||t,d=u=>{if(!l)return u;const p={};return l.forEach(m=>{m in u&&(p[m]=u[m])}),p};return{parseMarkdown:(u,p)=>{let m;if(r){const x=r(u);m=typeof x=="string"?[{type:"text",text:x}]:x}else s==="block"?m=p.parseChildren(u.tokens||[]):m=p.parseInline(u.tokens||[]);const v={...a,...u.attributes};return p.createNode(t,v,m)},markdownTokenizer:{name:t,level:"block",start(u){var p;const m=new RegExp(`^:::${c}`,"m"),v=(p=u.match(m))==null?void 0:p.index;return v!==void 0?v:-1},tokenize(u,p,m){var v;const x=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),w=u.match(x);if(!w)return;const[T,k=""]=w,N=i(k);let I=1;const M=T.length;let A="";const R=/^:::([\w-]*)(\s.*)?/gm,L=u.slice(M);for(R.lastIndex=0;;){const B=R.exec(L);if(B===null)break;const $=B.index,W=B[1];if(!((v=B[2])!=null&&v.endsWith(":::"))){if(W)I+=1;else if(I-=1,I===0){const V=L.slice(0,$);A=V.trim();const Y=u.slice(0,M+$+B[0].length);let U=[];if(A)if(s==="block")for(U=m.blockTokens(V),U.forEach(X=>{X.text&&(!X.tokens||X.tokens.length===0)&&(X.tokens=m.inlineTokens(X.text))});U.length>0;){const X=U[U.length-1];if(X.type==="paragraph"&&(!X.text||X.text.trim()===""))U.pop();else break}else U=m.inlineTokens(A);return{type:t,raw:Y,attributes:N,content:A,tokens:U}}}}}},renderMarkdown:(u,p)=>{const m=d(u.attrs||{}),v=o(m),x=v?` {${v}}`:"",w=p.renderChildren(u.content||[],`

`);return`:::${c}${x}

${w}

:::`}}}function yPe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,i,o,a]=r;t[i]=o||a,r=n.exec(e)}return t}function bPe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function vPe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=yPe,serializeAttributes:o=bPe,defaultAttributes:a={},selfClosing:s=!1,allowedAttributes:l}=e,c=n||t,d=p=>{if(!l)return p;const m={};return l.forEach(v=>{v in p&&(m[v]=p[v])}),m},u=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,m)=>{const v={...a,...p.attributes};if(s)return m.createNode(t,v);const x=r?r(p):p.content||"";return x?m.createNode(t,v,[m.createTextNode(x)]):m.createNode(t,v,[])},markdownTokenizer:{name:t,level:"inline",start(p){const m=s?new RegExp(`\\[${u}\\s*[^\\]]*\\]`):new RegExp(`\\[${u}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${u}\\]`),v=p.match(m),x=v?.index;return x!==void 0?x:-1},tokenize(p,m,v){const x=s?new RegExp(`^\\[${u}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${u}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${u}\\]`),w=p.match(x);if(!w)return;let T="",k="";if(s){const[,I]=w;k=I}else{const[,I,M]=w;k=I,T=M||""}const N=i(k.trim());return{type:t,raw:w[0],content:T.trim(),attributes:N}}},renderMarkdown:p=>{let m="";r?m=r(p):p.content&&p.content.length>0&&(m=p.content.filter(T=>T.type==="text").map(T=>T.text).join(""));const v=d(p.attrs||{}),x=o(v),w=x?` ${x}`:"";return s?`[${c}${w}]`:`[${c}${w}]${m}[/${c}]`}}}function xPe(e,t,n){var r,i,o,a;const s=e.split(`
`),l=[];let c="",d=0;const u=t.baseIndentSize||2;for(;d<s.length;){const p=s[d],m=p.match(t.itemPattern);if(!m){if(l.length>0)break;if(p.trim()===""){d+=1,c=`${c}${p}
`;continue}else return}const v=t.extractItemData(m),{indentLevel:x,mainContent:w}=v;c=`${c}${p}
`;const T=[w];for(d+=1;d<s.length;){const M=s[d];if(M.trim()===""){const R=s.slice(d+1).findIndex($=>$.trim()!=="");if(R===-1)break;if((((i=(r=s[d+1+R].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>x){T.push(M),c=`${c}${M}
`,d+=1;continue}else break}if((((a=(o=M.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>x)T.push(M),c=`${c}${M}
`,d+=1;else break}let k;const N=T.slice(1);if(N.length>0){const M=N.map(A=>A.slice(x+u)).join(`
`);M.trim()&&(t.customNestedParser?k=t.customNestedParser(M):k=n.blockTokens(M))}const I=t.createToken(v,k);l.push(I)}if(l.length!==0)return{items:l,raw:c}}function wPe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const i=typeof n=="function"?n(r):n,[o,...a]=e.content,s=t.renderChildren([o]),l=[`${i}${s}`];return a&&a.length>0&&a.forEach(c=>{const d=t.renderChildren([c]);if(d){const u=d.split(`
`).map(p=>p?t.indent(p):"").join(`
`);l.push(u)}}),l.join(`
`)}function EPe(e,t,n={}){const{state:r}=t,{doc:i,tr:o}=r,a=e;i.descendants((s,l)=>{const c=o.mapping.map(l),d=o.mapping.map(l)+s.nodeSize;let u=null;if(s.marks.forEach(m=>{if(m!==a)return!1;u=m}),!u)return;let p=!1;if(Object.keys(n).forEach(m=>{n[m]!==u.attrs[m]&&(p=!0)}),p){const m=e.type.create({...e.attrs,...n});o.removeMark(c,d,e.type),o.addMark(c,d,m)}}),o.docChanged&&t.view.dispatch(o)}var qs=class jle extends M9{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new jle(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},SPe=class{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,r,i,o,a,s;const{view:l}=this.editor,c=e.target,d=c.nodeType===3?(t=c.parentElement)==null?void 0:t.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||(n=this.contentDOM)!=null&&n.contains(c)||!d)return;let u=0,p=0;if(this.dom!==d){const k=this.dom.getBoundingClientRect(),N=d.getBoundingClientRect(),I=(i=e.offsetX)!=null?i:(r=e.nativeEvent)==null?void 0:r.offsetX,M=(a=e.offsetY)!=null?a:(o=e.nativeEvent)==null?void 0:o.offsetY;u=N.x-k.x+I,p=N.y-k.y+M}const m=this.dom.cloneNode(!0);try{const k=this.dom.getBoundingClientRect();m.style.width=`${Math.round(k.width)}px`,m.style.height=`${Math.round(k.height)}px`,m.style.boxSizing="border-box",m.style.pointerEvents="none"}catch{}let v=null;try{v=document.createElement("div"),v.style.position="absolute",v.style.top="-9999px",v.style.left="-9999px",v.style.pointerEvents="none",v.appendChild(m),document.body.appendChild(v),(s=e.dataTransfer)==null||s.setDragImage(m,u,p)}finally{v&&setTimeout(()=>{try{v?.remove()}catch{}},0)}const x=this.getPos();if(typeof x!="number")return;const w=Rt.create(l.state.doc,x),T=l.state.tr.setSelection(w);l.dispatch(T)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const n=e.target;if(!(this.dom.contains(n)&&!((t=this.contentDOM)!=null&&t.contains(n))))return!1;const i=e.type.startsWith("drag"),o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!i)return!0;const{isEditable:s}=this.editor,{isDragging:l}=this,c=!!this.node.type.spec.draggable,d=Rt.isSelectable(this.node),u=e.type==="copy",p=e.type==="paste",m=e.type==="cut",v=e.type==="mousedown";if(!c&&d&&i&&e.target===this.dom&&e.preventDefault(),c&&i&&!l&&e.target===this.dom)return e.preventDefault(),!1;if(c&&s&&!l&&v){const x=n.closest("[data-drag-handle]");x&&(this.dom===x||this.dom.contains(x))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(l||o||u||p||m||v&&d)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(OD()||ule())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(n=>n.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const n=this.getPos();return typeof n!="number"?!1:(t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}};function R0(e){return new oPe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const o=Ur(e.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:a}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const d=l.search(/\S/),u=n.from+l.indexOf(s),p=u+s.length;if(O9(n.from,n.to,t.doc).filter(v=>v.mark.type.excluded.find(w=>w===e.type&&w!==v.mark.type)).filter(v=>v.to>u).length)return null;p<n.to&&a.delete(p,n.to),u>n.from&&a.delete(n.from+d,u),c=n.from+d+s.length,a.addMark(n.from+d,c,e.type.create(o||{})),a.removeStoredMark(e.type)}}})}var J_,CPe=new Uint8Array(16);function TPe(){if(!J_&&(J_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!J_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return J_(CPe)}const kPe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function _Pe(e){return typeof e=="string"&&kPe.test(e)}var Ko=[];for(var fP=0;fP<256;++fP)Ko.push((fP+256).toString(16).substr(1));function APe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ko[e[t+0]]+Ko[e[t+1]]+Ko[e[t+2]]+Ko[e[t+3]]+"-"+Ko[e[t+4]]+Ko[e[t+5]]+"-"+Ko[e[t+6]]+Ko[e[t+7]]+"-"+Ko[e[t+8]]+Ko[e[t+9]]+"-"+Ko[e[t+10]]+Ko[e[t+11]]+Ko[e[t+12]]+Ko[e[t+13]]+Ko[e[t+14]]+Ko[e[t+15]]).toLowerCase();if(!_Pe(n))throw TypeError("Stringified UUID is invalid");return n}function Ble(e,t,n){e=e||{};var r=e.random||(e.rng||TPe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,APe(r)}function NPe(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function OPe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return NPe(t)}const BT=ur.create({name:"uniqueID",priority:1e4,addOptions(){return{attributeName:"id",types:[],setIdAttribute:!1,generateID:()=>{if(typeof window<"u"&&window.__TEST_OPTIONS){const e=window.__TEST_OPTIONS;return e.mockID===void 0?e.mockID=0:e.mockID++,e.mockID.toString()}return Ble()},filterTransaction:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:e=>e.getAttribute(`data-${this.options.attributeName}`),renderHTML:e=>{const t={[`data-${this.options.attributeName}`]:e[this.options.attributeName]};return this.options.setIdAttribute?{...t,id:e[this.options.attributeName]}:t}}}}]},addProseMirrorPlugins(){let e=null,t=!1;return[new rn({key:new En("uniqueID"),appendTransaction:(n,r,i)=>{const o=n.some(m=>m.docChanged)&&!r.doc.eq(i.doc),a=this.options.filterTransaction&&n.some(m=>{var v,x;return!((x=(v=this.options).filterTransaction)!=null&&x.call(v,m))});if(!o||a)return;const{tr:s}=i,{types:l,attributeName:c,generateID:d}=this.options,u=DD(r.doc,n),{mapping:p}=u;if(N9(u).forEach(({newRange:m})=>{const v=mle(i.doc,m,T=>l.includes(T.type.name)),x=v.map(({node:T})=>T.attrs[c]).filter(T=>T!==null),w=OPe(x);v.forEach(({node:T,pos:k})=>{var N;const I=(N=s.doc.nodeAt(k))==null?void 0:N.attrs[c];if(I===null){const A=r.doc.type.createAndFill().content;if(r.doc.content.findDiffStart(A)===null){const R=JSON.parse(JSON.stringify(i.doc.toJSON()));if(R.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(R.content)===JSON.stringify(A.toJSON())){s.setNodeMarkup(k,void 0,{...T.attrs,[c]:"initialBlockId"});return}}s.setNodeMarkup(k,void 0,{...T.attrs,[c]:d()});return}const{deleted:M}=p.invert().mapResult(k);M&&w.includes(I)&&s.setNodeMarkup(k,void 0,{...T.attrs,[c]:d()})})}),!!s.steps.length)return s.setMeta("uniqueID",!0),s},view(n){const r=i=>{let o;e=!((o=n.dom.parentElement)===null||o===void 0)&&o.contains(i.target)?n.dom.parentElement:null};return window.addEventListener("dragstart",r),{destroy(){window.removeEventListener("dragstart",r)}}},props:{handleDOMEvents:{drop:(n,r)=>{let i;return e!==n.dom.parentElement||((i=r.dataTransfer)===null||i===void 0?void 0:i.effectAllowed)==="copy"?t=!0:t=!1,e=null,!1},paste:()=>(t=!0,!1)},transformPasted:n=>{if(!t)return n;const{types:r,attributeName:i}=this.options,o=a=>{const s=[];return a.forEach(l=>{if(l.isText){s.push(l);return}if(!r.includes(l.type.name)){s.push(l.copy(o(l.content)));return}const c=l.type.create({...l.attrs,[i]:null},o(l.content),l.marks);s.push(c)}),He.from(s)};return t=!1,new at(o(n.content),n.openStart,n.openEnd)}}})]}});function rW(e){return e.type==="link"}function $le(e){return typeof e!="string"&&e.type==="link"}function I0(e){return typeof e!="string"&&e.type==="text"}function nm(e){var t,n,r,i,o;return rm(e)?{...e}:lC(e)?{type:"tableCell",content:[].concat(e.content),props:{backgroundColor:((t=e.props)==null?void 0:t.backgroundColor)??"default",textColor:((n=e.props)==null?void 0:n.textColor)??"default",textAlignment:((r=e.props)==null?void 0:r.textAlignment)??"left",colspan:((i=e.props)==null?void 0:i.colspan)??1,rowspan:((o=e.props)==null?void 0:o.rowspan)??1}}:{type:"tableCell",content:[].concat(e),props:{backgroundColor:"default",textColor:"default",textAlignment:"left",colspan:1,rowspan:1}}}function lC(e){return e!=null&&typeof e!="string"&&!Array.isArray(e)&&e.type==="tableCell"}function rm(e){return lC(e)&&e.props!==void 0&&e.content!==void 0}function P0(e){return rm(e)?e.props.colspan??1:1}function cC(e){return rm(e)?e.props.rowspan??1:1}let Nd=class extends Error{constructor(t){super(`Unreachable case: ${t}`)}};function Sn(e,t=!0){const{"data-test":n,...r}=e;if(Object.keys(r).length>0&&t)throw new Error("Object must be empty "+JSON.stringify(e))}function Zf(e,t){const n=e.resolve(t);if(n.nodeAfter&&n.nodeAfter.type.isInGroup("bnBlock"))return{posBeforeNode:n.pos,node:n.nodeAfter};let r=n.depth,i=n.node(r);for(;r>0;){if(i.type.isInGroup("bnBlock"))return{posBeforeNode:n.before(r),node:i};r--,i=n.node(r)}const o=[];e.descendants((s,l)=>{s.type.isInGroup("bnBlock")&&o.push(l)}),console.warn(`Position ${t} is not within a blockContainer node.`);const a=e.resolve(o.find(s=>s>=t)||o[o.length-1]);return{posBeforeNode:a.pos,node:a.nodeAfter}}function I9(e,t){if(!e.type.isInGroup("bnBlock"))throw new Error(`Attempted to get bnBlock node at position but found node of different type ${e.type.name}`);const n=e,r=t,i=r+n.nodeSize,o={node:n,beforePos:r,afterPos:i};if(n.type.name==="blockContainer"){let a,s;if(n.forEach((l,c)=>{if(l.type.spec.group==="blockContent"){const d=l,u=r+c+1,p=u+l.nodeSize;a={node:d,beforePos:u,afterPos:p}}else if(l.type.name==="blockGroup"){const d=l,u=r+c+1,p=u+l.nodeSize;s={node:d,beforePos:u,afterPos:p}}}),!a)throw new Error(`blockContainer node does not contain a blockContent node in its children: ${n}`);return{isBlockContainer:!0,bnBlock:o,blockContent:a,childContainer:s,blockNoteType:a.node.type.name}}else{if(!o.node.type.isInGroup("childContainer"))throw new Error(`bnBlock node is not in the childContainer group: ${o.node}`);return{isBlockContainer:!1,bnBlock:o,childContainer:o,blockNoteType:o.node.type.name}}}function Qf(e){return I9(e.node,e.posBeforeNode)}function LD(e){if(!e.nodeAfter)throw new Error(`Attempted to get blockContainer node at position ${e.pos} but a node at this position does not exist`);return I9(e.nodeAfter,e.pos)}function Ms(e){const t=Zf(e.doc,e.selection.anchor);return Qf(t)}function $T(e){const t=Zf(e.doc,e.selection.anchor);return Qf(t)}function po(e){return"doc"in e?e.doc.type.schema:e.type.schema}function Hle(e){return e.cached.blockNoteEditor}function HT(e){return Hle(e).schema}function P9(e){return HT(e).blockSchema}function L9(e){return HT(e).inlineContentSchema}function sx(e){return HT(e).styleSchema}function j9(e){return Hle(e).blockCache}function Fle(e,t,n){var r,i;const o={type:"tableContent",columnWidths:[],headerRows:void 0,headerCols:void 0,rows:[]},a=[];e.content.forEach((s,l,c)=>{const d={cells:[]};c===0&&s.content.forEach(u=>{let p=u.attrs.colwidth;p==null&&(p=new Array(u.attrs.colspan??1).fill(void 0)),o.columnWidths.push(...p)}),d.cells=s.content.content.map((u,p)=>(a[c]||(a[c]=[]),a[c][p]=u.type.name==="tableHeader",{type:"tableCell",content:u.content.content.map(m=>jD(m,t,n)).reduce((m,v)=>{if(!m.length)return v;const x=m[m.length-1],w=v[0];return w&&I0(x)&&I0(w)&&JSON.stringify(x.styles)===JSON.stringify(w.styles)?(x.text+=`
`+w.text,m.push(...v.slice(1)),m):(m.push(...v),m)},[]),props:{colspan:u.attrs.colspan,rowspan:u.attrs.rowspan,backgroundColor:u.attrs.backgroundColor,textColor:u.attrs.textColor,textAlignment:u.attrs.textAlignment}})),o.rows.push(d)});for(let s=0;s<a.length;s++)(r=a[s])!=null&&r.every(l=>l)&&(o.headerRows=(o.headerRows??0)+1);for(let s=0;s<((i=a[0])==null?void 0:i.length);s++)a!=null&&a.every(l=>l[s])&&(o.headerCols=(o.headerCols??0)+1);return o}function jD(e,t,n){const r=[];let i;return e.content.forEach(o=>{if(o.type.name==="hardBreak"){if(i)if(I0(i))i.text+=`
`;else if(rW(i))i.content[i.content.length-1].text+=`
`;else throw new Error("unexpected");else i={type:"text",text:`
`,styles:{}};return}if(o.type.name!=="link"&&o.type.name!=="text"){if(!t[o.type.name]){console.warn("unrecognized inline content type",o.type.name);return}i&&(r.push(i),i=void 0),r.push(B9(o,t,n));return}const a={};let s;for(const l of o.marks)if(l.type.name==="link")s=l;else{const c=n[l.type.name];if(!c){if(l.type.spec.blocknoteIgnore)continue;throw new Error(`style ${l.type.name} not found in styleSchema`)}if(c.propSchema==="boolean")a[c.type]=!0;else if(c.propSchema==="string")a[c.type]=l.attrs.stringValue;else throw new Nd(c.propSchema)}i?I0(i)?s?(r.push(i),i={type:"link",href:s.attrs.href,content:[{type:"text",text:o.textContent,styles:a}]}):JSON.stringify(i.styles)===JSON.stringify(a)?i.text+=o.textContent:(r.push(i),i={type:"text",text:o.textContent,styles:a}):rW(i)&&(s?i.href===s.attrs.href?JSON.stringify(i.content[i.content.length-1].styles)===JSON.stringify(a)?i.content[i.content.length-1].text+=o.textContent:i.content.push({type:"text",text:o.textContent,styles:a}):(r.push(i),i={type:"link",href:s.attrs.href,content:[{type:"text",text:o.textContent,styles:a}]}):(r.push(i),i={type:"text",text:o.textContent,styles:a})):s?i={type:"link",href:s.attrs.href,content:[{type:"text",text:o.textContent,styles:a}]}:i={type:"text",text:o.textContent,styles:a}}),i&&r.push(i),r}function B9(e,t,n){if(e.type.name==="text"||e.type.name==="link")throw new Error("unexpected");const r={},i=t[e.type.name];for(const[a,s]of Object.entries(e.attrs)){if(!i)throw Error("ic node is of an unrecognized type: "+e.type.name);const l=i.propSchema;a in l&&(r[a]=s)}let o;return i.content==="styled"?o=jD(e,t,n):o=void 0,{type:e.type.name,props:r,content:o}}function ii(e,t,n=P9(t),r=L9(t),i=sx(t),o=j9(t)){var a;if(!e.type.isInGroup("bnBlock"))throw Error("Node should be a bnBlock, but is instead: "+e.type.name);const s=o?.get(e);if(s)return s;const l=I9(e,0);let c=l.bnBlock.node.attrs.id;c===null&&(c=BT.options.generateID());const d=n[l.blockNoteType];if(!d)throw Error("Block is of an unrecognized type: "+l.blockNoteType);const u={};for(const[w,T]of Object.entries({...e.attrs,...l.isBlockContainer?l.blockContent.node.attrs:{}})){const k=d.propSchema;w in k&&!(k[w].default===void 0&&T===void 0)&&(u[w]=T)}const p=n[l.blockNoteType],m=[];(a=l.childContainer)==null||a.node.forEach(w=>{m.push(ii(w,t,n,r,i,o))});let v;if(p.content==="inline"){if(!l.isBlockContainer)throw new Error("impossible");v=jD(l.blockContent.node,r,i)}else if(p.content==="table"){if(!l.isBlockContainer)throw new Error("impossible");v=Fle(l.blockContent.node,r,i)}else if(p.content==="none")v=void 0;else throw new Nd(p.content);const x={id:c,type:p.type,props:u,content:v,children:m};return o?.set(e,x),x}function MPe(e,t=po(e),n=P9(t),r=L9(t),i=sx(t),o=j9(t)){const a=[];return e.firstChild&&e.firstChild.descendants(s=>(a.push(ii(s,t,n,r,i,o)),!1)),a}function DPe(e,t,n=P9(t),r=L9(t),i=sx(t),o=j9(t)){function a(s,l,c){if(s.type.name!=="blockGroup")throw new Error("unexpected");const d=[];let u,p;return s.forEach((m,v,x)=>{if(m.type.name!=="blockContainer")throw new Error("unexpected");if(m.childCount===0)return;if(m.childCount===0||m.childCount>2)throw new Error("unexpected, blockContainer.childCount: "+m.childCount);const w=x===0,T=x===s.childCount-1;if(m.firstChild.type.name==="blockGroup"){if(!w)throw new Error("unexpected");const M=a(m.firstChild,Math.max(0,l-1),T?Math.max(0,c-1):0);u=M.blockCutAtStart,T&&(p=M.blockCutAtEnd),d.push(...M.blocks);return}const k=ii(m,t,n,r,i,o),N=m.childCount>1?m.child(1):void 0;let I=[];if(N){const M=a(N,0,T?Math.max(0,c-1):0);I=M.blocks,T&&(p=M.blockCutAtEnd)}T&&!N&&c>1&&(p=k.id),w&&l>1&&(u=k.id),d.push({...k,children:I})}),{blocks:d,blockCutAtStart:u,blockCutAtEnd:p}}if(e.content.childCount===0)return{blocks:[],blockCutAtStart:void 0,blockCutAtEnd:void 0};if(e.content.childCount!==1)throw new Error("slice must be a single block, did you forget includeParents=true?");return a(e.content.firstChild,Math.max(e.openStart-1,0),Math.max(e.openEnd-1,0))}function pm(e){const{height:t,width:n}=$9(e),r=new Array(t).fill(!1).map(()=>new Array(n).fill(null)),i=(o,a)=>{for(let s=o;s<t;s++)for(let l=a;l<n;l++)if(!r[s][l])return{row:s,col:l};throw new Error("Unable to create occupancy grid for table, no more available cells")};for(let o=0;o<e.content.rows.length;o++)for(let a=0;a<e.content.rows[o].cells.length;a++){const s=nm(e.content.rows[o].cells[a]),l=cC(s),c=P0(s),{row:d,col:u}=i(o,a);for(let p=d;p<d+l;p++)for(let m=u;m<u+c;m++){if(r[p][m])throw new Error(`Unable to create occupancy grid for table, cell at ${p},${m} is already occupied`);r[p][m]={row:o,col:a,rowspan:l,colspan:c,cell:s}}}return r}function uC(e){const t=new Set;return e.map(n=>({cells:n.map(r=>t.has(r.row+":"+r.col)?!1:(t.add(r.row+":"+r.col),r.cell)).filter(r=>r!==!1)}))}function L0(e,t,n=pm(t)){for(let r=0;r<n.length;r++)for(let i=0;i<n[r].length;i++){const o=n[r][i];if(o.row===e.row&&o.col===e.col)return{row:r,col:i,cell:o.cell}}throw new Error(`Unable to resolve relative table cell indices for table, cell at ${e.row},${e.col} is not occupied`)}function $9(e){const t=e.content.rows.length;let n=0;return e.content.rows.forEach(r=>{let i=0;r.cells.forEach(o=>{i+=P0(o)}),n=Math.max(n,i)}),{height:t,width:n}}function Ule(e,t,n=pm(t)){var r;const i=(r=n[e.row])==null?void 0:r[e.col];if(i)return{row:i.row,col:i.col,cell:i.cell}}function vB(e,t){var n;const r=pm(e);if(t<0||t>=r.length)return[];let i=0;for(let a=0;a<t;a++){const s=(n=r[i])==null?void 0:n[0];if(!s)return[];i+=s.rowspan}const o=new Array(r[0].length).fill(!1).map((a,s)=>Ule({row:i,col:s},e,r)).filter(a=>a!==void 0);return o.filter((a,s)=>o.findIndex(l=>l.row===a.row&&l.col===a.col)===s)}function xB(e,t){var n;const r=pm(e);if(t<0||t>=r[0].length)return[];let i=0;for(let a=0;a<t;a++){const s=(n=r[0])==null?void 0:n[i];if(!s)return[];i+=s.colspan}const o=new Array(r.length).fill(!1).map((a,s)=>Ule({row:s,col:i},e,r)).filter(a=>a!==void 0);return o.filter((a,s)=>o.findIndex(l=>l.row===a.row&&l.col===a.col)===s)}function RPe(e,t,n,r=pm(e)){const{col:i}=L0({row:0,col:t},e,r),{col:o}=L0({row:0,col:n},e,r);return r.forEach(a=>{const[s]=a.splice(i,1);a.splice(o,0,s)}),uC(r)}function IPe(e,t,n,r=pm(e)){const{row:i}=L0({row:t,col:0},e,r),{row:o}=L0({row:n,col:0},e,r),[a]=r.splice(i,1);return r.splice(o,0,a),uC(r)}function wB(e){return e?lC(e)?wB(e.content):typeof e=="string"?e.length===0:Array.isArray(e)?e.every(t=>typeof t=="string"?t.length===0:I0(t)?t.text.length===0:$le(t)?typeof t.content=="string"?t.content.length===0:t.content.every(n=>n.text.length===0):!1):!1:!0}function PPe(e,t,n=pm(e)){if(t==="columns"){let o=0;for(let a=n[0].length-1;a>=0&&n.every(s=>wB(s[a].cell)&&s[a].colspan===1);a--)o++;for(let a=n.length-1;a>=0;a--){const s=Math.max(n[a].length-o,1);n[a]=n[a].slice(0,s)}return uC(n)}let r=0;for(let o=n.length-1;o>=0&&n[o].every(a=>wB(a.cell)&&a.rowspan===1);o--)r++;const i=Math.min(r,n.length-1);return n.splice(n.length-i,i),uC(n)}function LPe(e,t,n,r=pm(e)){const{width:i,height:o}=$9(e);if(t==="columns")r.forEach((a,s)=>{if(n>=0)for(let l=0;l<n;l++)a.push({row:s,col:Math.max(...a.map(c=>c.col))+1,rowspan:1,colspan:1,cell:nm("")});else a.splice(i+n,-1*n)});else if(n>0)for(let a=0;a<n;a++){const s=new Array(i).fill(null).map((l,c)=>({row:o+a,col:c,rowspan:1,colspan:1,cell:nm("")}));r.push(s)}else n<0&&r.splice(o+n,-1*n);return uC(r)}function zle(e,t,n){const r=vB(e,n);if(!r.some(a=>cC(a.cell)>1))return!0;let i=n,o=n;return r.forEach(a=>{const s=cC(a.cell);i=Math.max(i,a.row+s-1),o=Math.min(o,a.row)}),t<n?n===i:n===o}function Vle(e,t,n){const r=xB(e,n);if(!r.some(a=>P0(a.cell)>1))return!0;let i=n,o=n;return r.forEach(a=>{const s=P0(a.cell);i=Math.max(i,a.col+s-1),o=Math.min(o,a.col)}),t<n?n===i:n===o}function jPe(e,t,n){const r=L0(e,n),i=L0(t,n);return r.col===i.col}function iW(e,t,n,r){const i=[];for(const[o,a]of Object.entries(e.styles||{})){const s=n[o];if(!s)throw new Error(`style ${o} not found in styleSchema`);if(s.propSchema==="boolean")a&&i.push(t.mark(o));else if(s.propSchema==="string")a&&i.push(t.mark(o,{stringValue:a}));else throw new Nd(s.propSchema)}return!r||!t.nodes[r].spec.code?e.text.split(/(\n)/g).filter(o=>o.length>0).map(o=>o===`
`?t.nodes.hardBreak.createChecked():t.text(o,i)):e.text.length>0?[t.text(e.text,i)]:[]}function BPe(e,t,n){const r=t.marks.link.create({href:e.href});return EB(e.content,t,n).map(i=>{if(i.type.name==="text")return i.mark([...i.marks,r]);if(i.type.name==="hardBreak")return i;throw new Error("unexpected node type")})}function EB(e,t,n,r){const i=[];if(typeof e=="string")return i.push(...iW({text:e,styles:{}},t,n,r)),i;for(const o of e)i.push(...iW(o,t,n,r));return i}function bu(e,t,n,r=sx(t)){const i=[];for(const o of e)typeof o=="string"?i.push(...EB(o,t,r,n)):$le(o)?i.push(...BPe(o,t,r)):I0(o)?i.push(...EB([o],t,r,n)):i.push(qle(o,t,r));return i}function BD(e,t,n=sx(t)){const r=[],i=new Array(e.headerRows??0).fill(!0),o=new Array(e.headerCols??0).fill(!0),a=e.columnWidths??[];for(let s=0;s<e.rows.length;s++){const l=e.rows[s],c=[],d=i[s];for(let p=0;p<l.cells.length;p++){const m=l.cells[p],v=o[p],x=void 0;let w=null;const T=L0({row:s,col:p},{content:e});let k=a[T.col]?[a[T.col]]:null;if(m)if(typeof m=="string")w=t.text(m);else if(lC(m)){m.content&&(w=bu(m.content,t,"tableParagraph",n));const I=P0(m);I>1&&(k=new Array(I).fill(!1).map((M,A)=>a[T.col+A]??void 0))}else w=bu(m,t,"tableParagraph",n);const N=t.nodes[v||d?"tableHeader":"tableCell"].createChecked({...lC(m)?m.props:{},colwidth:k},t.nodes.tableParagraph.createChecked(x,w));c.push(N)}const u=t.nodes.tableRow.createChecked({},c);r.push(u)}return r}function qle(e,t,n){let r,i=e.type;if(i===void 0&&(i="paragraph"),!t.nodes[i])throw new Error(`node type ${i} not found in schema`);if(!e.content)r=t.nodes[i].createChecked(e.props);else if(typeof e.content=="string"){const o=bu([e.content],t,i,n);r=t.nodes[i].createChecked(e.props,o)}else if(Array.isArray(e.content)){const o=bu(e.content,t,i,n);r=t.nodes[i].createChecked(e.props,o)}else if(e.content.type==="tableContent"){const o=BD(e.content,t,n);r=t.nodes[i].createChecked(e.props,o)}else throw new Nd(e.content.type);return r}function oy(e,t,n=sx(t)){let r=e.id;r===void 0&&(r=BT.options.generateID());const i=[];if(e.children)for(const o of e.children)i.push(oy(o,t,n));if(!e.type||t.nodes[e.type].isInGroup("blockContent")){const o=qle(e,t,n),a=i.length>0?t.nodes.blockGroup.createChecked({},i):void 0;return t.nodes.blockContainer.createChecked({id:r,...e.props},a?[o,a]:o)}else{if(t.nodes[e.type].isInGroup("bnBlock"))return t.nodes[e.type].createChecked({id:r,...e.props},i);throw new Error(`block type ${e.type} doesn't match blockContent or bnBlock group`)}}var SB,CB;if(typeof WeakMap<"u"){let e=new WeakMap;SB=t=>e.get(t),CB=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;SB=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},CB=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var ri=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let o=r+1,a=i+1;for(let s=1;o<this.width&&this.map[t+s]==n;s++)o++;for(let s=1;a<this.height&&this.map[t+this.width*s]==n;s++)a++;return{left:r,top:i,right:o,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:o,bottom:a}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:a==this.height)?null:this.map[r+this.width*(n<0?o-1:a)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:o}=this.findCell(e),{left:a,right:s,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(i,l),right:Math.max(r,s),bottom:Math.max(o,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const o=r*this.width+i,a=this.map[o];n[a]||(n[a]=!0,!(i==e.left&&i&&this.map[o-1]==a||r==e.top&&r&&this.map[o-this.width]==a)&&t.push(a))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==e){let a=t+e*this.width;const s=(e+1)*this.width;for(;a<s&&this.map[a]<i;)a++;return a==s?o-1:this.map[a]}i=o}}static get(e){return SB(e)||CB(e,$Pe(e))}};function $Pe(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=HPe(e),n=e.childCount,r=[];let i=0,o=null;const a=[];for(let c=0,d=t*n;c<d;c++)r[c]=0;for(let c=0,d=0;c<n;c++){const u=e.child(c);d++;for(let v=0;;v++){for(;i<r.length&&r[i]!=0;)i++;if(v==u.childCount)break;const x=u.child(v),{colspan:w,rowspan:T,colwidth:k}=x.attrs;for(let N=0;N<T;N++){if(N+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:d,n:T-N});break}const I=i+N*t;for(let M=0;M<w;M++){r[I+M]==0?r[I+M]=d:(o||(o=[])).push({type:"collision",row:c,pos:d,n:w-M});const A=k&&k[M];if(A){const R=(I+M)%t*2,L=a[R];L==null||L!=A&&a[R+1]==1?(a[R]=A,a[R+1]=1):L==A&&a[R+1]++}}}i+=w,d+=x.nodeSize}const p=(c+1)*t;let m=0;for(;i<p;)r[i++]==0&&m++;m&&(o||(o=[])).push({type:"missing",row:c,n:m}),d++}(t===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const s=new ri(t,n,r,o);let l=!1;for(let c=0;!l&&c<a.length;c+=2)a[c]!=null&&a[c+1]<n&&(l=!0);return l&&FPe(s,a,e),s}function HPe(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let o=0;if(n)for(let a=0;a<r;a++){const s=e.child(a);for(let l=0;l<s.childCount;l++){const c=s.child(l);a+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const s=i.child(a);o+=s.attrs.colspan,s.attrs.rowspan>1&&(n=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function FPe(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const o=e.map[i];if(r[o])continue;r[o]=!0;const a=n.nodeAt(o);if(!a)throw new RangeError(`No cell with offset ${o} found`);let s=null;const l=a.attrs;for(let c=0;c<l.colspan;c++){const d=(i+c)%e.width,u=t[d*2];u!=null&&(!l.colwidth||l.colwidth[c]!=u)&&((s||(s=UPe(l)))[c]=u)}s&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}function UPe(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function _a(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var Ap=new En("selectingCells");function lx(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function zPe(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function Ld(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function H9(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=lx(t.$head)||VPe(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function VPe(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function TB(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function qPe(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function F9(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function Wle(e,t,n){const r=e.node(-1),i=ri.get(r),o=e.start(-1),a=i.nextCell(e.pos-o,t,n);return a==null?null:e.node(0).resolve(o+a)}function j0(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function Yle(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function WPe(e,t,n){const r=_a(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var Dr=class kf extends Zt{constructor(t,n=t){const r=t.node(-1),i=ri.get(r),o=t.start(-1),a=i.rectBetween(t.pos-o,n.pos-o),s=t.node(0),l=i.cellsInRect(a).filter(d=>d!=n.pos-o);l.unshift(n.pos-o);const c=l.map(d=>{const u=r.nodeAt(d);if(!u)throw RangeError(`No cell with offset ${d} found`);const p=o+d+1;return new fse(s.resolve(p),s.resolve(p+u.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(TB(r)&&TB(i)&&F9(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?kf.rowSelection(r,i):o&&this.isColSelection()?kf.colSelection(r,i):new kf(r,i)}return St.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=ri.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},a=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let d=l*n.width+i.left,u=i.left;u<i.right;u++,d++){const p=n.map[d];if(o[p])continue;o[p]=!0;const m=n.findCell(p);let v=t.nodeAt(p);if(!v)throw RangeError(`No cell with offset ${p} found`);const x=i.left-m.left,w=m.right-i.right;if(x>0||w>0){let T=v.attrs;if(x>0&&(T=j0(T,0,x)),w>0&&(T=j0(T,T.colspan-w,w)),m.left<i.left){if(v=v.type.createAndFill(T),!v)throw RangeError(`Could not create cell with attrs ${JSON.stringify(T)}`)}else v=v.type.create(T,v.content)}if(m.top<i.top||m.bottom>i.bottom){const T={...v.attrs,rowspan:Math.min(m.bottom,i.bottom)-Math.max(m.top,i.top)};m.top<i.top?v=v.type.createAndFill(T):v=v.type.create(T,v.content)}c.push(v)}a.push(t.child(l).copy(He.from(c)))}const s=this.isColSelection()&&this.isRowSelection()?t:a;return new at(He.from(s),1,1)}replace(t,n=at.empty){const r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:s,$to:l}=i[a],c=t.mapping.slice(r);t.replace(c.map(s.pos),c.map(l.pos),a?at.empty:n)}const o=Zt.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);o&&t.setSelection(o)}replaceWith(t,n){this.replace(t,new at(He.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=ri.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<o.length;a++)t(n.nodeAt(o[a]),i+o[a])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=ri.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(t=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))),new kf(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=ri.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,s=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,s)==n.width}eq(t){return t instanceof kf&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=ri.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(n=l.resolve(o+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(t=l.resolve(o+i.map[i.width*(a.top+1)-1]))),new kf(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new kf(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new kf(t.resolve(n),t.resolve(r))}getBookmark(){return new YPe(this.$anchorCell.pos,this.$headCell.pos)}};Dr.prototype.visible=!1;Zt.jsonID("cell",Dr);var YPe=class Gle{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Gle(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&F9(n,r)?new Dr(n,r):Zt.near(r,1)}};function GPe(e){if(!(e.selection instanceof Dr))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(ir.node(r,r+n.nodeSize,{class:"selectedCell"}))}),mn.create(e.doc,t)}function KPe({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function XPe({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&t.parentOffset===0}function ZPe(e,t,n){const r=(t||e).selection,i=(t||e).doc;let o,a;if(r instanceof Rt&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")o=Dr.create(i,r.from);else if(a=="row"){const s=i.resolve(r.from+1);o=Dr.rowSelection(s,s)}else if(!n){const s=ri.get(r.node),l=r.from+1,c=l+s.map[s.width*s.height-1];o=Dr.create(i,l+1,c)}}else r instanceof St&&KPe(r)?o=St.create(i,r.from):r instanceof St&&XPe(r)&&(o=St.create(i,r.$from.start(),r.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}var QPe=new En("fix-tables");function Kle(e,t,n,r){const i=e.childCount,o=t.childCount;e:for(let a=0,s=0;a<o;a++){const l=t.child(a);for(let c=s,d=Math.min(i,a+3);c<d;c++)if(e.child(c)==l){s=c+1,n+=l.nodeSize;continue e}r(l,n),s<i&&e.child(s).sameMarkup(l)?Kle(e.child(s),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function JPe(e,t){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=eLe(e,i,o,n))};return t?t.doc!=e.doc&&Kle(t.doc,e.doc,0,r):e.doc.descendants(r),n}function eLe(e,t,n,r){const i=ri.get(t);if(!i.problems)return r;r||(r=e.tr);const o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const d=t.nodeAt(c.pos);if(!d)continue;const u=d.attrs;for(let p=0;p<u.rowspan;p++)o[c.row+p]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,j0(u,u.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const d=t.nodeAt(c.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const d=t.nodeAt(c.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...d.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+t.nodeSize)}}let a,s;for(let l=0;l<o.length;l++)o[l]&&(a==null&&(a=l),s=l);for(let l=0,c=n+1;l<i.height;l++){const d=t.child(l),u=c+d.nodeSize,p=o[l];if(p>0){let m="cell";d.firstChild&&(m=d.firstChild.type.spec.tableRole);const v=[];for(let w=0;w<p;w++){const T=_a(e.schema)[m].createAndFill();T&&v.push(T)}const x=(l==0||a==l-1)&&s==l?c+1:u-1;r.insert(r.mapping.map(x),v)}c=u}return r.setMeta(QPe,{fixTables:!0})}function jd(e){const t=e.selection,n=H9(e),r=n.node(-1),i=n.start(-1),o=ri.get(r);return{...t instanceof Dr?o.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function Xle(e,{map:t,tableStart:n,table:r},i){let o=i>0?-1:0;WPe(t,r,i+o)&&(o=i==0||i==t.width?null:0);for(let a=0;a<t.height;a++){const s=a*t.width+i;if(i>0&&i<t.width&&t.map[s-1]==t.map[s]){const l=t.map[s],c=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,Yle(c.attrs,i-t.colCount(l))),a+=c.attrs.rowspan-1}else{const l=o==null?_a(r.type.schema).cell:r.nodeAt(t.map[s+o]).type,c=t.positionAt(a,i,r);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function tLe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e);t(Xle(e.tr,n,n.left))}return!0}function nLe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e);t(Xle(e.tr,n,n.right))}return!0}function rLe(e,{map:t,table:n,tableStart:r},i){const o=e.mapping.maps.length;for(let a=0;a<t.height;){const s=a*t.width+i,l=t.map[s],c=n.nodeAt(l),d=c.attrs;if(i>0&&t.map[s-1]==l||i<t.width-1&&t.map[s+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(r+l),null,j0(d,i-t.colCount(l)));else{const u=e.mapping.slice(o).map(r+l);e.delete(u,u+c.nodeSize)}a+=d.rowspan}}function iLe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;rLe(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=ri.get(o)}t(r)}return!0}function oLe(e,t,n){var r;const i=_a(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(((r=t.nodeAt(e.map[o+n*e.width]))==null?void 0:r.type)!=i)return!1;return!0}function Zle(e,{map:t,tableStart:n,table:r},i){var o;let a=n;for(let c=0;c<i;c++)a+=r.child(c).nodeSize;const s=[];let l=i>0?-1:0;oLe(t,r,i+l)&&(l=i==0||i==t.height?null:0);for(let c=0,d=t.width*i;c<t.width;c++,d++)if(i>0&&i<t.height&&t.map[d]==t.map[d-t.width]){const u=t.map[d],p=r.nodeAt(u).attrs;e.setNodeMarkup(n+u,null,{...p,rowspan:p.rowspan+1}),c+=p.colspan-1}else{const u=l==null?_a(r.type.schema).cell:(o=r.nodeAt(t.map[d+l*t.width]))==null?void 0:o.type,p=u?.createAndFill();p&&s.push(p)}return e.insert(a,_a(r.type.schema).row.create(null,s)),e}function aLe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e);t(Zle(e.tr,n,n.top))}return!0}function sLe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e);t(Zle(e.tr,n,n.bottom))}return!0}function lLe(e,{map:t,table:n,tableStart:r},i){let o=0;for(let c=0;c<i;c++)o+=n.child(c).nodeSize;const a=o+n.child(i).nodeSize,s=e.mapping.maps.length;e.delete(o+r,a+r);const l=new Set;for(let c=0,d=i*t.width;c<t.width;c++,d++){const u=t.map[d];if(!l.has(u)){if(l.add(u),i>0&&u==t.map[d-t.width]){const p=n.nodeAt(u).attrs;e.setNodeMarkup(e.mapping.slice(s).map(u+r),null,{...p,rowspan:p.rowspan-1}),c+=p.colspan-1}else if(i<t.height&&u==t.map[d+t.width]){const p=n.nodeAt(u),m=p.attrs,v=p.type.create({...m,rowspan:p.attrs.rowspan-1},p.content),x=t.positionAt(i+1,c,n);e.insert(e.mapping.slice(s).map(r+x),v),c+=m.colspan-1}}}}function cLe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;lLe(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=ri.get(n.table)}t(r)}return!0}function oW(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function uLe({width:e,height:t,map:n},r){let i=r.top*e+r.left,o=i,a=(r.bottom-1)*e+r.left,s=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[o]==n[o-1]||r.right<e&&n[s]==n[s+1])return!0;o+=e,s+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[a]==n[a+e])return!0;i++,a++}return!1}function dLe(e,t){const n=e.selection;if(!(n instanceof Dr)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=jd(e),{map:i}=r;if(uLe(i,r))return!1;if(t){const o=e.tr,a={};let s=He.empty,l,c;for(let d=r.top;d<r.bottom;d++)for(let u=r.left;u<r.right;u++){const p=i.map[d*i.width+u],m=r.table.nodeAt(p);if(!(a[p]||!m))if(a[p]=!0,l==null)l=p,c=m;else{oW(m)||(s=s.append(m.content));const v=o.mapping.map(p+r.tableStart);o.delete(v,v+m.nodeSize)}}if(l==null||c==null)return!0;if(o.setNodeMarkup(l+r.tableStart,null,{...Yle(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),s.size){const d=l+1+c.content.size,u=oW(c)?l+1:d;o.replaceWith(u+r.tableStart,d+r.tableStart,s)}o.setSelection(new Dr(o.doc.resolve(l+r.tableStart))),t(o)}return!0}function fLe(e,t){const n=_a(e.schema);return hLe(({node:r})=>n[r.type.spec.tableRole])(e,t)}function hLe(e){return(t,n)=>{var r;const i=t.selection;let o,a;if(i instanceof Dr){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(o=zPe(i.$from),!o)return!1;a=(r=lx(i.$from))==null?void 0:r.pos}if(o==null||a==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let s=o.attrs;const l=[],c=s.colwidth;s.rowspan>1&&(s={...s,rowspan:1}),s.colspan>1&&(s={...s,colspan:1});const d=jd(t),u=t.tr;for(let m=0;m<d.right-d.left;m++)l.push(c?{...s,colwidth:c&&c[m]?[c[m]]:null}:s);let p;for(let m=d.top;m<d.bottom;m++){let v=d.map.positionAt(m,d.left,d.table);m==d.top&&(v+=o.nodeSize);for(let x=d.left,w=0;x<d.right;x++,w++)x==d.left&&m==d.top||u.insert(p=u.mapping.map(v+d.tableStart,1),e({node:o,row:m,col:x}).createAndFill(l[w]))}u.setNodeMarkup(a,e({node:o,row:d.top,col:d.left}),l[0]),i instanceof Dr&&u.setSelection(new Dr(u.doc.resolve(i.$anchorCell.pos),p?u.doc.resolve(p):void 0)),n(u)}return!0}}function pLe(e){return function(t,n){if(!Ld(t))return!1;if(n){const r=_a(t.schema),i=jd(t),o=t.tr,a=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),s=a.map(l=>i.table.nodeAt(l));for(let l=0;l<a.length;l++)s[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+a[l],r.cell,s[l].attrs);if(o.steps.length==0)for(let l=0;l<a.length;l++)o.setNodeMarkup(i.tableStart+a[l],r.header_cell,s[l].attrs);n(o)}return!0}}function aW(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const o=t.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function U9(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?pLe(e):function(n,r){if(!Ld(n))return!1;if(r){const i=_a(n.schema),o=jd(n),a=n.tr,s=aW("row",o,i),l=aW("column",o,i),d=(e==="column"?s:e==="row"?l:!1)?1:0,u=e=="column"?{left:0,top:d,right:1,bottom:o.map.height}:e=="row"?{left:d,top:0,right:o.map.width,bottom:1}:o,p=e=="column"?l?i.cell:i.header_cell:e=="row"?s?i.cell:i.header_cell:i.cell;o.map.cellsInRect(u).forEach(m=>{const v=m+o.tableStart,x=a.doc.nodeAt(v);x&&a.setNodeMarkup(v,p,x.attrs)}),r(a)}return!0}}U9("row",{useDeprecatedLogic:!0});U9("column",{useDeprecatedLogic:!0});U9("cell",{useDeprecatedLogic:!0});function mLe(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){const o=e.node(-1).child(r),a=o.lastChild;if(a)return i-1-a.nodeSize;i-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function sW(e){return function(t,n){if(!Ld(t))return!1;const r=mLe(H9(t),e);if(r==null)return!1;if(n){const i=t.doc.resolve(r);n(t.tr.setSelection(St.between(i,qPe(i))).scrollIntoView())}return!0}}function eA(e,t){const n=e.selection;if(!(n instanceof Dr))return!1;if(t){const r=e.tr,i=_a(e.schema).cell.createAndFill().content;n.forEachCell((o,a)=>{o.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+o.nodeSize-1),new at(i,0,0))}),r.docChanged&&t(r)}return!0}function gLe(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),o=i.type.spec.tableRole,a=i.type.schema,s=[];if(o=="row")for(let l=0;l<t.childCount;l++){let c=t.child(l).content;const d=l?0:Math.max(0,n-1),u=l<t.childCount-1?0:Math.max(0,r-1);(d||u)&&(c=kB(_a(a).row,new at(c,d,u)).content),s.push(c)}else if(o=="cell"||o=="header_cell")s.push(n||r?kB(_a(a).row,new at(t,n,r)).content:t);else return null;return yLe(a,s)}function yLe(e,t){const n=[];for(let i=0;i<t.length;i++){const o=t[i];for(let a=o.childCount-1;a>=0;a--){const{rowspan:s,colspan:l}=o.child(a).attrs;for(let c=i;c<i+s;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(He.empty),n[i]<r){const o=_a(e).cell.createAndFill(),a=[];for(let s=n[i];s<r;s++)a.push(o);t[i]=t[i].append(He.from(a))}return{height:t.length,width:r,rows:t}}function kB(e,t){const n=e.createAndFill();return new o9(n).replace(0,n.content.size,t).doc}function bLe({width:e,height:t,rows:n},r,i){if(e!=r){const o=[],a=[];for(let s=0;s<n.length;s++){const l=n[s],c=[];for(let d=o[s]||0,u=0;d<r;u++){let p=l.child(u%l.childCount);d+p.attrs.colspan>r&&(p=p.type.createChecked(j0(p.attrs,p.attrs.colspan,d+p.attrs.colspan-r),p.content)),c.push(p),d+=p.attrs.colspan;for(let m=1;m<p.attrs.rowspan;m++)o[s+m]=(o[s+m]||0)+p.attrs.colspan}a.push(He.from(c))}n=a,e=r}if(t!=i){const o=[];for(let a=0,s=0;a<i;a++,s++){const l=[],c=n[s%t];for(let d=0;d<c.childCount;d++){let u=c.child(d);a+u.attrs.rowspan>i&&(u=u.type.create({...u.attrs,rowspan:Math.max(1,i-u.attrs.rowspan)},u.content)),l.push(u)}o.push(He.from(l))}n=o,t=i}return{width:e,height:t,rows:n}}function vLe(e,t,n,r,i,o,a){const s=e.doc.type.schema,l=_a(s);let c,d;if(i>t.width)for(let u=0,p=0;u<t.height;u++){const m=n.child(u);p+=m.nodeSize;const v=[];let x;m.lastChild==null||m.lastChild.type==l.cell?x=c||(c=l.cell.createAndFill()):x=d||(d=l.header_cell.createAndFill());for(let w=t.width;w<i;w++)v.push(x);e.insert(e.mapping.slice(a).map(p-1+r),v)}if(o>t.height){const u=[];for(let v=0,x=(t.height-1)*t.width;v<Math.max(t.width,i);v++){const w=v>=t.width?!1:n.nodeAt(t.map[x+v]).type==l.header_cell;u.push(w?d||(d=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const p=l.row.create(null,He.from(u)),m=[];for(let v=t.height;v<o;v++)m.push(p);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),m)}return!!(c||d)}function lW(e,t,n,r,i,o,a,s){if(a==0||a==t.height)return!1;let l=!1;for(let c=i;c<o;c++){const d=a*t.width+c,u=t.map[d];if(t.map[d-t.width]==u){l=!0;const p=n.nodeAt(u),{top:m,left:v}=t.findCell(u);e.setNodeMarkup(e.mapping.slice(s).map(u+r),null,{...p.attrs,rowspan:a-m}),e.insert(e.mapping.slice(s).map(t.positionAt(a,v,n)),p.type.createAndFill({...p.attrs,rowspan:m+p.attrs.rowspan-a})),c+=p.attrs.colspan-1}}return l}function cW(e,t,n,r,i,o,a,s){if(a==0||a==t.width)return!1;let l=!1;for(let c=i;c<o;c++){const d=c*t.width+a,u=t.map[d];if(t.map[d-1]==u){l=!0;const p=n.nodeAt(u),m=t.colCount(u),v=e.mapping.slice(s).map(u+r);e.setNodeMarkup(v,null,j0(p.attrs,a-m,p.attrs.colspan-(a-m))),e.insert(v+p.nodeSize,p.type.createAndFill(j0(p.attrs,0,a-m))),c+=p.attrs.rowspan-1}}return l}function uW(e,t,n,r,i){let o=n?e.doc.nodeAt(n-1):e.doc;if(!o)throw new Error("No table found");let a=ri.get(o);const{top:s,left:l}=r,c=l+i.width,d=s+i.height,u=e.tr;let p=0;function m(){if(o=n?u.doc.nodeAt(n-1):u.doc,!o)throw new Error("No table found");a=ri.get(o),p=u.mapping.maps.length}vLe(u,a,o,n,c,d,p)&&m(),lW(u,a,o,n,l,c,s,p)&&m(),lW(u,a,o,n,l,c,d,p)&&m(),cW(u,a,o,n,s,d,l,p)&&m(),cW(u,a,o,n,s,d,c,p)&&m();for(let v=s;v<d;v++){const x=a.positionAt(v,l,o),w=a.positionAt(v,c,o);u.replace(u.mapping.slice(p).map(x+n),u.mapping.slice(p).map(w+n),new at(i.rows[v-s],0,0))}m(),u.setSelection(new Dr(u.doc.resolve(n+a.positionAt(s,l,o)),u.doc.resolve(n+a.positionAt(d-1,c-1,o)))),t(u)}var xLe=w9({ArrowLeft:tA("horiz",-1),ArrowRight:tA("horiz",1),ArrowUp:tA("vert",-1),ArrowDown:tA("vert",1),"Shift-ArrowLeft":nA("horiz",-1),"Shift-ArrowRight":nA("horiz",1),"Shift-ArrowUp":nA("vert",-1),"Shift-ArrowDown":nA("vert",1),Backspace:eA,"Mod-Backspace":eA,Delete:eA,"Mod-Delete":eA});function KA(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function tA(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof Dr)return KA(n,r,Zt.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;const a=Qle(i,e,t);if(a==null)return!1;if(e=="horiz")return KA(n,r,Zt.near(n.doc.resolve(o.head+t),t));{const s=n.doc.resolve(a),l=Wle(s,e,t);let c;return l?c=Zt.near(l,1):t<0?c=Zt.near(n.doc.resolve(s.before(-1)),-1):c=Zt.near(n.doc.resolve(s.after(-1)),1),KA(n,r,c)}}}function nA(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let a;if(o instanceof Dr)a=o;else{const l=Qle(i,e,t);if(l==null)return!1;a=new Dr(n.doc.resolve(l))}const s=Wle(a.$headCell,e,t);return s?KA(n,r,new Dr(a.$anchorCell,s)):!1}}function wLe(e,t){const n=e.state.doc,r=lx(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new Dr(r))),!0):!1}function ELe(e,t,n){if(!Ld(e.state))return!1;let r=gLe(n);const i=e.state.selection;if(i instanceof Dr){r||(r={width:1,height:1,rows:[He.from(kB(_a(e.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),s=ri.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=bLe(r,s.right-s.left,s.bottom-s.top),uW(e.state,e.dispatch,a,s,r),!0}else if(r){const o=H9(e.state),a=o.start(-1);return uW(e.state,e.dispatch,a,ri.get(o.node(-1)).findCell(o.pos-a),r),!0}else return!1}function SLe(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=dW(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof Dr)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=lx(e.state.selection.$anchor))!=null&&((n=hP(e,t))==null?void 0:n.pos)!=i.pos)o(i,t),t.preventDefault();else if(!r)return;function o(l,c){let d=hP(e,c);const u=Ap.getState(e.state)==null;if(!d||!F9(l,d))if(u)d=l;else return;const p=new Dr(l,d);if(u||!e.state.selection.eq(p)){const m=e.state.tr.setSelection(p);u&&m.setMeta(Ap,l.pos),e.dispatch(m)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",s),Ap.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Ap,-1))}function s(l){const c=l,d=Ap.getState(e.state);let u;if(d!=null)u=e.state.doc.resolve(d);else if(dW(e,c.target)!=r&&(u=hP(e,t),!u))return a();u&&o(u,c)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",s)}function Qle(e,t,n){if(!(e.state.selection instanceof St))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const s=r.before(i),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?s:null}}return null}function dW(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function hP(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?lx(e.state.doc.resolve(n.pos)):null}var Jle=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),_B(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,_B(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function _B(e,t,n,r,i,o){var a;let s=0,l=!0,c=t.firstChild;const d=e.firstChild;if(d){for(let u=0,p=0;u<d.childCount;u++){const{colspan:m,colwidth:v}=d.child(u).attrs;for(let x=0;x<m;x++,p++){const w=i==p?o:v&&v[x],T=w?w+"px":"";if(s+=w||r,w||(l=!1),c)c.style.width!=T&&(c.style.width=T),c=c.nextSibling;else{const k=document.createElement("col");k.style.width=T,t.appendChild(k)}}}for(;c;){const u=c.nextSibling;(a=c.parentNode)==null||a.removeChild(c),c=u}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var Cl=new En("tableColumnResizing");function CLe({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=Jle,lastColumnResizable:i=!0}={}){const o=new rn({key:Cl,state:{init(a,s){var l,c;const d=(c=(l=o.spec)==null?void 0:l.props)==null?void 0:c.nodeViews,u=_a(s.schema).table.name;return r&&d&&(d[u]=(p,m)=>new r(p,n,m)),new TLe(-1,!1)},apply(a,s){return s.apply(a)}},props:{attributes:a=>{const s=Cl.getState(a);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,s)=>{kLe(a,s,e,i)},mouseleave:a=>{_Le(a)},mousedown:(a,s)=>{ALe(a,s,t,n)}},decorations:a=>{const s=Cl.getState(a);if(s&&s.activeHandle>-1)return RLe(a,s.activeHandle)},nodeViews:{}}});return o}var TLe=class XA{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(Cl);if(r&&r.setHandle!=null)return new XA(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new XA(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return TB(t.doc.resolve(i))||(i=-1),new XA(i,n.dragging)}return n}};function kLe(e,t,n,r){if(!e.editable)return;const i=Cl.getState(e.state);if(i&&!i.dragging){const o=OLe(t.target);let a=-1;if(o){const{left:s,right:l}=o.getBoundingClientRect();t.clientX-s<=n?a=fW(e,t,"left",n):l-t.clientX<=n&&(a=fW(e,t,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const s=e.state.doc.resolve(a),l=s.node(-1),c=ri.get(l),d=s.start(-1);if(c.colCount(s.pos-d)+s.nodeAfter.attrs.colspan-1==c.width-1)return}ece(e,a)}}}function _Le(e){if(!e.editable)return;const t=Cl.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&ece(e,-1)}function ALe(e,t,n,r){var i;if(!e.editable)return!1;const o=(i=e.dom.ownerDocument.defaultView)!=null?i:window,a=Cl.getState(e.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const s=e.state.doc.nodeAt(a.activeHandle),l=NLe(e,a.activeHandle,s.attrs);e.dispatch(e.state.tr.setMeta(Cl,{setDragging:{startX:t.clientX,startWidth:l}}));function c(u){o.removeEventListener("mouseup",c),o.removeEventListener("mousemove",d);const p=Cl.getState(e.state);p?.dragging&&(MLe(e,p.activeHandle,hW(p.dragging,u,n)),e.dispatch(e.state.tr.setMeta(Cl,{setDragging:null})))}function d(u){if(!u.which)return c(u);const p=Cl.getState(e.state);if(p&&p.dragging){const m=hW(p.dragging,u,n);pW(e,p.activeHandle,m,r)}}return pW(e,a.activeHandle,l,r),o.addEventListener("mouseup",c),o.addEventListener("mousemove",d),t.preventDefault(),!0}function NLe(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=e.domAtPos(t);let s=o.node.childNodes[o.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(s-=r[c],l--);return s/l}function OLe(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function fW(e,t,n,r){const i=n=="right"?-r:r,o=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!o)return-1;const{pos:a}=o,s=lx(e.state.doc.resolve(a));if(!s)return-1;if(n=="right")return s.pos;const l=ri.get(s.node(-1)),c=s.start(-1),d=l.map.indexOf(s.pos-c);return d%l.width==0?-1:c+l.map[d-1]}function hW(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function ece(e,t){e.dispatch(e.state.tr.setMeta(Cl,{setHandle:t}))}function MLe(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),o=ri.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let c=0;c<o.height;c++){const d=c*o.width+s;if(c&&o.map[d]==o.map[d-o.width])continue;const u=o.map[d],p=i.nodeAt(u).attrs,m=p.colspan==1?0:s-o.colCount(u);if(p.colwidth&&p.colwidth[m]==n)continue;const v=p.colwidth?p.colwidth.slice():DLe(p.colspan);v[m]=n,l.setNodeMarkup(a+u,null,{...p,colwidth:v})}l.docChanged&&e.dispatch(l)}function pW(e,t,n,r){const i=e.state.doc.resolve(t),o=i.node(-1),a=i.start(-1),s=ri.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let l=e.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&_B(o,l.firstChild,l,r,s,n)}function DLe(e){return Array(e).fill(0)}function RLe(e,t){var n;const r=[],i=e.doc.resolve(t),o=i.node(-1);if(!o)return mn.empty;const a=ri.get(o),s=i.start(-1),l=a.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;for(let c=0;c<a.height;c++){const d=l+c*a.width;if((l==a.width-1||a.map[d]!=a.map[d+1])&&(c==0||a.map[d]!=a.map[d-a.width])){const u=a.map[d],p=s+u+o.nodeAt(u).nodeSize-1,m=document.createElement("div");m.className="column-resize-handle",(n=Cl.getState(e))!=null&&n.dragging&&r.push(ir.node(s+u,s+u+o.nodeAt(u).nodeSize,{class:"column-resize-dragging"})),r.push(ir.widget(p,m))}}return mn.create(e.doc,r)}function ILe({allowTableNodeSelection:e=!1}={}){return new rn({key:Ap,state:{init(){return null},apply(t,n){const r=t.getMeta(Ap);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:o}=t.mapping.mapResult(n);return i?null:o}},props:{decorations:GPe,handleDOMEvents:{mousedown:SLe},createSelectionBetween(t){return Ap.getState(t.state)!=null?t.state.selection:null},handleTripleClick:wLe,handleKeyDown:xLe,handlePaste:ELe},appendTransaction(t,n,r){return ZPe(r,JPe(r,n),e)}})}var mW=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},PLe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,LLe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,jLe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,BLe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,$Le=jl.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return mW("strong",{...Dl(this.options.HTMLAttributes,e),children:mW("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[m1({find:PLe,type:this.type}),m1({find:jLe,type:this.type})]},addPasteRules(){return[R0({find:LLe,type:this.type}),R0({find:BLe,type:this.type})]}}),HLe=$Le,FLe=/(^|[^`])`([^`]+)`(?!`)$/,ULe=/(^|[^`])`([^`]+)`(?!`)/g,zLe=jl.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Dl(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[m1({find:FLe,type:this.type})]},addPasteRules(){return[R0({find:ULe,type:this.type})]}}),VLe=zLe,qLe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,WLe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,YLe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,GLe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,KLe=jl.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Dl(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[m1({find:qLe,type:this.type}),m1({find:YLe,type:this.type})]},addPasteRules(){return[R0({find:WLe,type:this.type}),R0({find:GLe,type:this.type})]}}),XLe=KLe,ZLe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,QLe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,JLe=jl.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Dl(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[m1({find:ZLe,type:this.type})]},addPasteRules(){return[R0({find:QLe,type:this.type})]}}),e4e=JLe,t4e=jl.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Dl(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),n4e=t4e,r4e=class tce{constructor(t){this.cache=new Map(t)}get(t){return this.cache.get(t)}set(t,n,r){t<0||this.cache.set(t,[n,r])}replace(t,n,r,i){this.remove(t),this.set(n,r,i)}remove(t){this.cache.delete(t)}invalidate(t){const n=new tce(this.cache),r=t.mapping;return this.cache.forEach(([i,o],a)=>{if(a<0)return;const s=r.mapResult(a),l=t.doc.nodeAt(s.pos);if(s.deleted||!l?.eq(i))n.remove(a);else if(a!==s.pos){const c=o.map(d=>d.map(r,0,0)).filter(d=>d!=null);n.replace(a,s.pos,l,c)}}),n}};function i4e({parser:e,nodeTypes:t=["code_block","codeBlock"],languageExtractor:n=r=>r.attrs.language}){const r=new En("prosemirror-highlight");return new rn({key:r,state:{init(i,o){const a=new r4e,[s,l]=gW(o.doc,e,t,n,a);return{cache:a,decorations:s,promises:l}},apply:(i,o)=>{const a=o.cache.invalidate(i),s=!!i.getMeta("prosemirror-highlight-refresh");if(!i.docChanged&&!s){const d=o.decorations.map(i.mapping,i.doc),u=o.promises;return{cache:a,decorations:d,promises:u}}const[l,c]=gW(i.doc,e,t,n,a);return{cache:a,decorations:l,promises:c}}},view:i=>{const o=new Set,a=()=>{if(o.size>0)return;const l=i.state.tr.setMeta("prosemirror-highlight-refresh",!0);i.dispatch(l)},s=()=>{var l;const c=r.getState(i.state);for(const d of(l=c?.promises)!=null?l:[])o.add(d),d.then(()=>{o.delete(d),a()}).catch(()=>{o.delete(d)})};return s(),{update:()=>{s()}}},props:{decorations(i){var o;return(o=this.getState(i))==null?void 0:o.decorations}}})}function gW(e,t,n,r,i){const o=[],a=[];return e.descendants((s,l)=>{if(!s.type.isTextblock)return!0;if(n.includes(s.type.name)){const c=r(s),d=i.get(l);if(d){const[u,p]=d;o.push(...p)}else{const u=t({content:s.textContent,language:c||void 0,pos:l,size:s.nodeSize});u&&Array.isArray(u)?(i.set(l,s,u),o.push(...u)):u instanceof Promise&&(i.remove(l),a.push(u))}}return!1}),[mn.create(e,o),a]}function o4e(e,t){return function({content:r,language:i,pos:o,size:a}){var s;const l=[],{tokens:c,fg:d,bg:u,rootStyle:p}=e.codeToTokens(r,{lang:i,theme:e.getLoadedThemes()[0]}),m=p||(d&&u?`--prosemirror-highlight:${d};--prosemirror-highlight-bg:${u}`:"");if(m){const x=ir.node(o,o+a,{style:m});l.push(x)}let v=o+1;for(const x of c){for(const w of x){const T=v+w.content.length,k=ir.inline(v,T,{style:a4e((s=w.htmlStyle)!=null?s:`color: ${w.color}`),class:"shiki"});l.push(k),v=T}v+=1}return l}}function a4e(e){return typeof e=="string"?e:Object.entries(e).map(([t,n])=>`${t}:${n}`).join(";")}var s4e=Object.defineProperty,l4e=(e,t,n)=>t in e?s4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rs=(e,t,n)=>l4e(e,typeof t!="symbol"?t+"":t,n);const c4e=()=>typeof navigator<"u"&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function bl(e,t="Ctrl"){return c4e()?e.replace("Mod",""):e.replace("Mod",t)}function vi(...e){return[...new Set(e.filter(t=>t).join(" ").split(" "))].join(" ")}function u4e(e,t,n,r){const i=document.createElement("div");i.className=vi("bn-block-content",n.class),i.setAttribute("data-content-type",e);for(const[a,s]of Object.entries(n))a!=="class"&&i.setAttribute(a,s);const o=document.createElement(t);o.className=vi("bn-inline-content",r.class);for(const[a,s]of Object.entries(r))a!=="class"&&o.setAttribute(a,s);return i.appendChild(o),{dom:i,contentDOM:o}}const yW=(e,t)=>{let n=oy(e,t.pmSchema);n.type.name==="blockContainer"&&(n=n.firstChild);const r=t.pmSchema.nodes[n.type.name].spec.toDOM;if(r===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const i=r(n);if(typeof i!="object"||!("dom"in i))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return i};function d4e(e,t="<br>"){const n=e.querySelectorAll("p");if(n.length>1){const r=n[0];for(let i=1;i<n.length;i++){const o=n[i];r.innerHTML+=t+o.innerHTML,o.remove()}}}function $N(e){return"data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function bW(e){const t=e.split("/");return!t.length||t[t.length-1]===""?e:t[t.length-1]}function f4e(e){var t;const n=["mp4","webm","ogg","mov","mkv","flv","avi","wmv","m4v"];try{const r=((t=new URL(e).pathname.split(".").pop())==null?void 0:t.toLowerCase())||"";return n.includes(r)}catch{return!1}}function h4e(e){const t={};return Object.entries(e).forEach(([n,r])=>{t[n]={default:r.default,keepOnSplit:!0,parseHTML:i=>{const o=i.getAttribute($N(n));if(o===null)return null;if(r.default===void 0&&r.type==="boolean"||r.default!==void 0&&typeof r.default=="boolean")return o==="true"?!0:o==="false"?!1:null;if(r.default===void 0&&r.type==="number"||r.default!==void 0&&typeof r.default=="number"){const a=parseFloat(o);return!Number.isNaN(a)&&Number.isFinite(a)?a:null}return o},renderHTML:i=>i[n]!==r.default?{[$N(n)]:i[n]}:{}}}),t}function nce(e,t,n,r){const i=e();if(i===void 0)throw new Error("Cannot find node position");const o=n.state.doc.resolve(i).node().attrs.id;if(!o)throw new Error("Block doesn't have id");const a=t.getBlock(o);if(a.type!==r)throw new Error("Block type does not match");return a}function AB(e,t,n,r,i=!1,o){const a=document.createElement("div");if(o!==void 0)for(const[s,l]of Object.entries(o))s!=="class"&&a.setAttribute(s,l);a.className=vi("bn-block-content",o?.class||""),a.setAttribute("data-content-type",t);for(const[s,l]of Object.entries(n)){const c=r[s].default;l!==c&&a.setAttribute($N(s),l)}return i&&a.setAttribute("data-file-block",""),a.appendChild(e.dom),e.contentDOM&&(e.contentDOM.className=vi("bn-inline-content",e.contentDOM.className)),{...e,dom:a}}function z9(e,t,n){return{config:{type:e.type,content:e.content,propSchema:t},implementation:{node:e.node,render:yW,toExternalHTML:yW},extensions:n}}function p4e(e,t){e.stopEvent=n=>(n.type==="mousedown"&&setTimeout(()=>{t.view.dom.blur()},10),!0)}function m4e(e,t){const n=[{tag:"[data-content-type="+e.type+"]",contentElement:".bn-inline-content"}];return t.parse&&n.push({tag:"*",getAttrs(r){var i;if(typeof r=="string")return!1;const o=(i=t.parse)==null?void 0:i.call(t,r);return o===void 0?!1:o},getContent:e.content==="inline"||e.content==="none"?(r,i)=>{var o;if(t.parseContent)return t.parseContent({el:r,schema:i});if(e.content==="inline"){const a=r.cloneNode(!0);return d4e(a,(o=t.meta)!=null&&o.code?`
`:"<br>"),pu.fromSchema(i).parse(a,{topNode:i.nodes.paragraph.create()}).content}return He.empty}:void 0}),n}function g4e(e,t,n,r){var i,o,a,s;const l=t.node||qs.create({name:e.type,content:e.content==="inline"?"inline*":e.content==="none"?"":e.content,group:"blockContent",selectable:((i=t.meta)==null?void 0:i.selectable)??!0,isolating:((o=t.meta)==null?void 0:o.isolating)??!0,code:((a=t.meta)==null?void 0:a.code)??!1,defining:((s=t.meta)==null?void 0:s.defining)??!0,priority:r,addAttributes(){return h4e(e.propSchema)},parseHTML(){return m4e(e,t)},renderHTML({HTMLAttributes:c}){var d;const u=document.createElement("div");return AB({dom:u,contentDOM:e.content==="inline"?u:void 0},e.type,{},e.propSchema,((d=t.meta)==null?void 0:d.fileBlockAccept)!==void 0,c)},addNodeView(){return c=>{var d,u;const p=this.options.editor,m=nce(c.getPos,p,this.editor,e.type),v=((d=this.options.domAttributes)==null?void 0:d.blockContent)||{},x=t.render.call({blockContentDOMAttributes:v,props:c,renderType:"nodeView"},m,p);return((u=t.meta)==null?void 0:u.selectable)===!1&&p4e(x,this.editor),x}}});if(l.name!==e.type)throw new Error("Node name does not match block type. This is a bug in BlockNote.");return{config:e,implementation:{...t,node:l,render(c,d){var u;const p=((u=l.options.domAttributes)==null?void 0:u.blockContent)||{};return t.render.call({blockContentDOMAttributes:p,props:void 0,renderType:"dom"},c,d)},toExternalHTML:(c,d)=>{var u,p;const m=((u=l.options.domAttributes)==null?void 0:u.blockContent)||{};return((p=t.toExternalHTML)==null?void 0:p.call({blockContentDOMAttributes:m},c,d))??t.render.call({blockContentDOMAttributes:m,renderType:"dom",props:void 0},c,d)}},extensions:n}}function Bl(e,t,n){return(r={})=>{const i=typeof e=="function"?e(r):e,o=typeof t=="function"?t(r):t,a=n?typeof n=="function"?n(r):n:void 0;return{config:i,implementation:{...o,toExternalHTML(s,l){var c,d;const u=(c=o.toExternalHTML)==null?void 0:c.call({blockContentDOMAttributes:this.blockContentDOMAttributes},s,l);if(u!==void 0)return AB(u,s.type,s.props,i.propSchema,((d=o.meta)==null?void 0:d.fileBlockAccept)!==void 0)},render(s,l){var c;const d=o.render.call({blockContentDOMAttributes:this.blockContentDOMAttributes,renderType:this.renderType,props:this.props},s,l);return AB(d,s.type,s.props,i.propSchema,((c=o.meta)==null?void 0:c.fileBlockAccept)!==void 0,this.blockContentDOMAttributes)}},extensions:a}}}function rce(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,n.config]))}function y4e(e){return e==="boolean"?{}:{stringValue:{default:void 0,keepOnSplit:!0,parseHTML:t=>t.getAttribute("data-value"),renderHTML:t=>t.stringValue!==void 0?{"data-value":t.stringValue}:{}}}}function rA(e,t,n,r){return e.dom.setAttribute("data-style-type",t),r==="string"&&e.dom.setAttribute("data-value",n),e.contentDOM&&e.contentDOM.setAttribute("data-editable",""),e}function ice(e,t){return{config:e,implementation:t}}function IE(e,t){return ice({type:e.name,propSchema:t},{mark:e,render(n,r){const i=r.pmSchema.marks[e.name].spec.toDOM;if(i===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const o=r.pmSchema.mark(e.name,{stringValue:n}),a=Ml.renderSpec(document,i(o,!0));if(typeof a!="object"||!("dom"in a))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap mark's `renderHTML` function does not return an object with the `dom` property.");return a},toExternalHTML(n,r){const i=r.pmSchema.marks[e.name].spec.toDOM;if(i===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const o=r.pmSchema.mark(e.name,{stringValue:n}),a=Ml.renderSpec(document,i(o,!0));if(typeof a!="object"||!("dom"in a))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap mark's `renderHTML` function does not return an object with the `dom` property.");return a}})}function oce(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,n.config]))}function b4e(e,t){const n=[{tag:`[data-style-type="${e.type}"]`,contentElement:r=>{const i=r;return i.matches("[data-editable]")?i:i.querySelector("[data-editable]")||i}}];return t&&n.push({tag:"*",consuming:!1,getAttrs(r){if(typeof r=="string")return!1;const i=t?.(r);return i===void 0?!1:{stringValue:i}}}),n}function ace(e,t){const n=jl.create({name:e.type,addAttributes(){return y4e(e.propSchema)},parseHTML(){return b4e(e,t.parse)},renderHTML({mark:r}){const i=(t.toExternalHTML||t.render)(r.attrs.stringValue);return rA(i,e.type,r.attrs.stringValue,e.propSchema)},addMarkView(){return({mark:r})=>{const i=t.render(r.attrs.stringValue);return rA(i,e.type,r.attrs.stringValue,e.propSchema)}}});return ice(e,{...t,mark:n,render:r=>{const i=t.render(r);return rA(i,e.type,r,e.propSchema)},toExternalHTML:r=>{const i=(t.toExternalHTML||t.render)(r);return rA(i,e.type,r,e.propSchema)}})}function v4e(e){const t=w4e(e);let{roots:n,nonRoots:r}=vW(t);const i=[];for(;n.size;){i.push(n);const o=new Set;for(const a of n){const s=e.get(a);if(s)for(const l of s){const c=t.get(l);if(c===void 0)continue;const d=c-1;t.set(l,d),d===0&&o.add(l)}}n=o}if(r=vW(t).nonRoots,r.size)throw new Error(`Cycle(s) detected; toposort only works on acyclic graphs. Cyclic nodes: ${Array.from(r).join(", ")}`);return i}function x4e(e){const t=E4e(e);return v4e(t)}function w4e(e){const t=new Map;for(const[n,r]of e.entries()){t.has(n)||t.set(n,0);for(const i of r){const o=t.get(i)??0;t.set(i,o+1)}}return t}function vW(e){const t=new Set,n=new Set;for(const[r,i]of e.entries())i===0?t.add(r):n.add(r);return{roots:t,nonRoots:n}}function E4e(e){const t=new Map;for(const[n,r]of e.entries()){t.has(n)||t.set(n,new Set);for(const i of r)t.has(i)||t.set(i,new Set),t.get(i).add(n)}return t}function S4e(){return new Map}function xW(e){return e&&Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0))}let C4e=class{constructor(t){Rs(this,"BlockNoteEditor","only for types"),Rs(this,"Block","only for types"),Rs(this,"PartialBlock","only for types"),Rs(this,"inlineContentSpecs"),Rs(this,"styleSpecs"),Rs(this,"blockSpecs"),Rs(this,"blockSchema"),Rs(this,"inlineContentSchema"),Rs(this,"styleSchema"),this.opts=t;const{blockSpecs:n,inlineContentSpecs:r,styleSpecs:i,blockSchema:o,inlineContentSchema:a,styleSchema:s}=this.init();this.blockSpecs=n,this.styleSpecs=i,this.styleSchema=s,this.inlineContentSpecs=r,this.blockSchema=o,this.inlineContentSchema=a}init(){var t;const n=S4e(),r=new Set;n.set("default",r);for(const[d,u]of Object.entries({...this.opts.blockSpecs,...this.opts.inlineContentSpecs,...this.opts.styleSpecs}))(t=u.implementation)!=null&&t.runsBefore?n.set(d,new Set(u.implementation.runsBefore)):r.add(d);const i=x4e(n),o=i.findIndex(d=>d.has("default")),a=d=>91+(i.findIndex(u=>u.has(d))+o)*10,s=Object.fromEntries(Object.entries(this.opts.blockSpecs).map(([d,u])=>[d,g4e(u.config,u.implementation,u.extensions,a(d))])),l=Object.fromEntries(Object.entries(this.opts.inlineContentSpecs).map(([d,u])=>{var p;return typeof u.config!="object"?[d,u]:[d,{...u,implementation:{...u.implementation,node:(p=u.implementation)==null?void 0:p.node.extend({priority:a(d)})}}]})),c=Object.fromEntries(Object.entries(this.opts.styleSpecs).map(([d,u])=>{var p;return[d,{...u,implementation:{...u.implementation,mark:(p=u.implementation)==null?void 0:p.mark.extend({priority:a(d)})}}]}));return{blockSpecs:s,blockSchema:Object.fromEntries(Object.entries(s).map(([d,u])=>[d,u.config])),inlineContentSpecs:xW(l),styleSpecs:xW(c),inlineContentSchema:rce(l),styleSchema:oce(c)}}extend(t){Object.assign(this.opts.blockSpecs,t.blockSpecs),Object.assign(this.opts.inlineContentSpecs,t.inlineContentSpecs),Object.assign(this.opts.styleSpecs,t.styleSpecs);const{blockSpecs:n,inlineContentSpecs:r,styleSpecs:i,blockSchema:o,inlineContentSchema:a,styleSchema:s}=this.init();return this.blockSpecs=n,this.styleSpecs=i,this.styleSchema=s,this.inlineContentSpecs=r,this.blockSchema=o,this.inlineContentSchema=a,this}};function cs(e,t){let n,r;if(t.firstChild.descendants((i,o)=>n?!1:!V9(i)||i.attrs.id!==e?!0:(n=i,r=o+1,!1)),!(n===void 0||r===void 0))return{node:n,posBeforeNode:r}}function V9(e){return e.type.isInGroup("bnBlock")}const T4e=(e,t)=>({tr:n,dispatch:r})=>(r&&$D(n,e,t),!0);function $D(e,t,n,r,i){const o=LD(e.doc.resolve(t));let a=null;o.blockNoteType==="table"&&(a=A4e(e));const s=po(e),l=s.nodes[o.blockNoteType],c=s.nodes[n.type||o.blockNoteType],d=c.isInGroup("bnBlock")?c:s.nodes.blockContainer;if(o.isBlockContainer&&c.isInGroup("blockContent"))wW(n,e,o),k4e(n,e,l,c,o);else if(!o.isBlockContainer&&c.isInGroup("bnBlock"))wW(n,e,o);else{const u=ii(o.bnBlock.node,s);e.replaceWith(o.bnBlock.beforePos,o.bnBlock.afterPos,oy({children:u.children,...n},s));return}e.setNodeMarkup(o.bnBlock.beforePos,d,{...o.bnBlock.node.attrs,...n.props}),a&&N4e(e,o,a)}function k4e(e,t,n,r,i,o,a){const s=po(t);let l="keep";if(e.content)if(typeof e.content=="string")l=bu([e.content],s,r.name);else if(Array.isArray(e.content))l=bu(e.content,s,r.name);else if(e.content.type==="tableContent")l=BD(e.content,s);else throw new Nd(e.content.type);else n.spec.content===""||r.spec.content!==n.spec.content&&(l=[]);l==="keep"?t.setNodeMarkup(i.blockContent.beforePos,r,{...i.blockContent.node.attrs,...e.props}):t.replaceWith(i.blockContent.beforePos,i.blockContent.afterPos,r.createChecked({...i.blockContent.node.attrs,...e.props},l))}function wW(e,t,n){const r=po(t);if(e.children!==void 0&&e.children.length>0){const i=e.children.map(o=>oy(o,r));if(n.childContainer)t.step(new so(n.childContainer.beforePos+1,n.childContainer.afterPos-1,new at(He.from(i),0,0)));else{if(!n.isBlockContainer)throw new Error("impossible");t.insert(n.blockContent.afterPos,r.nodes.blockGroup.createChecked({},i))}}}function _4e(e,t,n,r,i){const o=typeof t=="string"?t:t.id,a=cs(o,e.doc);if(!a)throw new Error(`Block with ID ${o} not found`);$D(e,a.posBeforeNode,n);const s=e.doc.resolve(a.posBeforeNode+1).node(),l=po(e);return ii(s,l)}function A4e(e){const t="selection"in e?e.selection:null;if(!(t instanceof St))return null;const n=e.doc.resolve(t.head);let r=-1,i=-1;for(let x=n.depth;x>=0;x--){const w=n.node(x).type.name;if(r<0&&(w==="tableCell"||w==="tableHeader")&&(r=x),w==="table"){i=x;break}}if(r<0||i<0)return null;const o=n.before(r),a=n.before(i),s=e.doc.nodeAt(a);if(!s||s.type.name!=="table")return null;const l=ri.get(s),c=o-(a+1),d=l.map.indexOf(c);if(d<0)return null;const u=Math.floor(d/l.width),p=d%l.width,m=o+1+1,v=Math.max(0,t.head-m);return{row:u,col:p,offset:v}}function N4e(e,t,n){var r;if(t.blockNoteType!=="table")return!1;let i=-1;if(t.isBlockContainer)i=e.mapping.map(t.blockContent.beforePos);else{const w=e.mapping.map(t.bnBlock.beforePos),T=w+(((r=e.doc.nodeAt(w))==null?void 0:r.nodeSize)||0);e.doc.nodesBetween(w,T,(k,N)=>k.type.name==="table"?(i=N,!1):!0)}const o=i>=0?e.doc.nodeAt(i):null;if(!o||o.type.name!=="table")return!1;const a=ri.get(o),s=Math.max(0,Math.min(n.row,a.height-1)),l=Math.max(0,Math.min(n.col,a.width-1)),c=s*a.width+l,d=a.map[c];if(d==null)return!1;const u=i+1+d+1,p=e.doc.nodeAt(u),m=u+1,v=p?p.content.size:0,x=m+Math.max(0,Math.min(n.offset,v));return"selection"in e&&e.setSelection(St.create(e.doc,x)),!0}const Bp={gray:{text:"#9b9a97",background:"#ebeced"},brown:{text:"#64473a",background:"#e9e5e3"},red:{text:"#e03e3e",background:"#fbe4e4"},orange:{text:"#d9730d",background:"#f6e9d9"},yellow:{text:"#dfab01",background:"#fbf3db"},green:{text:"#4d6461",background:"#ddedea"},blue:{text:"#0b6e99",background:"#ddebf1"},purple:{text:"#6940a5",background:"#eae4f2"},pink:{text:"#ad1a72",background:"#f4dfeb"}},cr={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},Vs=e=>{const t={};return e.hasAttribute("data-background-color")?t.backgroundColor=e.getAttribute("data-background-color"):e.style.backgroundColor&&(t.backgroundColor=e.style.backgroundColor),e.hasAttribute("data-text-color")?t.textColor=e.getAttribute("data-text-color"):e.style.color&&(t.textColor=e.style.color),t.textAlignment=cr.textAlignment.values.includes(e.style.textAlign)?e.style.textAlign:void 0,t},ay=(e,t)=>{e.backgroundColor&&e.backgroundColor!==cr.backgroundColor.default&&(t.style.backgroundColor=e.backgroundColor in Bp?Bp[e.backgroundColor].background:e.backgroundColor),e.textColor&&e.textColor!==cr.textColor.default&&(t.style.color=e.textColor in Bp?Bp[e.textColor].text:e.textColor),e.textAlignment&&e.textAlignment!==cr.textAlignment.default&&(t.style.textAlign=e.textAlignment)},O4e=(e="backgroundColor")=>({default:cr.backgroundColor.default,parseHTML:t=>t.hasAttribute("data-background-color")?t.getAttribute("data-background-color"):t.style.backgroundColor?t.style.backgroundColor:cr.backgroundColor.default,renderHTML:t=>t[e]===cr.backgroundColor.default?{}:{"data-background-color":t[e]}}),M4e=(e="textColor")=>({default:cr.textColor.default,parseHTML:t=>t.hasAttribute("data-text-color")?t.getAttribute("data-text-color"):t.style.color?t.style.color:cr.textColor.default,renderHTML:t=>t[e]===cr.textColor.default?{}:{"data-text-color":t[e]}}),HD=(e,t)=>{const n=e.querySelector(t);if(!n)return;const r=e.querySelector("figcaption"),i=r?.textContent??void 0;return{targetElement:n,caption:i}},D4e=(e,t,n)=>{const r=document.createElement("div");r.className="bn-add-file-button";const i=document.createElement("div");i.className="bn-add-file-button-icon",n?i.appendChild(n):i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',r.appendChild(i);const o=document.createElement("p");o.className="bn-add-file-button-text",o.innerHTML=e.type in t.dictionary.file_blocks.add_button_text?t.dictionary.file_blocks.add_button_text[e.type]:t.dictionary.file_blocks.add_button_text.file,r.appendChild(o);const a=l=>{l.preventDefault()},s=()=>{t.transact(l=>l.setMeta(t.filePanel.plugins[0],{block:e}))};return r.addEventListener("mousedown",a,!0),r.addEventListener("click",s,!0),{dom:r,destroy:()=>{r.removeEventListener("mousedown",a,!0),r.removeEventListener("click",s,!0)}}},R4e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',I4e=e=>{const t=document.createElement("div");t.className="bn-file-name-with-icon";const n=document.createElement("div");n.className="bn-file-icon",n.innerHTML=R4e,t.appendChild(n);const r=document.createElement("p");return r.className="bn-file-name",r.textContent=e.props.name,t.appendChild(r),{dom:t}},q9=(e,t,n,r)=>{const i=document.createElement("div");if(i.className="bn-file-block-content-wrapper",e.props.url===""){const a=D4e(e,t,r);i.appendChild(a.dom);const s=t.onUploadStart(l=>{if(l===e.id){i.removeChild(a.dom);const c=document.createElement("div");c.className="bn-file-loading-preview",c.textContent="Loading...",i.appendChild(c)}});return{dom:i,destroy:()=>{s(),a.destroy()}}}const o={dom:i};if(e.props.showPreview===!1||!n){const a=I4e(e);i.appendChild(a.dom),o.destroy=()=>{var s;(s=a.destroy)==null||s.call(a)}}else i.appendChild(n.dom);if(e.props.caption){const a=document.createElement("p");a.className="bn-file-caption",a.textContent=e.props.caption,i.appendChild(a)}return o},W9=(e,t)=>{const n=document.createElement("figure"),r=document.createElement("figcaption");return r.textContent=t,n.appendChild(e),n.appendChild(r),{dom:n}},FD=(e,t)=>{const n=document.createElement("div"),r=document.createElement("p");return r.textContent=t,n.appendChild(e),n.appendChild(r),{dom:n}},EW=e=>({url:e.src||void 0}),P4e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"></path></svg>',L4e=e=>({type:"audio",propSchema:{backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0}},content:"none"}),j4e=(e={})=>t=>{if(t.tagName==="AUDIO"){if(t.closest("figure"))return;const{backgroundColor:n}=Vs(t);return{...EW(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=HD(t,"audio");if(!n)return;const{targetElement:r,caption:i}=n,{backgroundColor:o}=Vs(t);return{...EW(r),backgroundColor:o,caption:i}}},B4e=(e={})=>(t,n)=>{const r=document.createElement("div");r.innerHTML=e.icon??P4e;const i=document.createElement("audio");return i.className="bn-audio",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(o=>{i.src=o}):i.src=t.props.url,i.controls=!0,i.contentEditable="false",i.draggable=!1,q9(t,n,{dom:i},r.firstElementChild)},$4e=(e={})=>(t,n)=>{if(!t.props.url){const i=document.createElement("p");return i.textContent="Add audio",{dom:i}}let r;return t.props.showPreview?(r=document.createElement("audio"),r.src=t.props.url):(r=document.createElement("a"),r.href=t.props.url,r.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?W9(r,t.props.caption):FD(r,t.props.caption):{dom:r}},H4e=Bl(L4e,e=>({meta:{fileBlockAccept:["audio/*"]},parse:j4e(e),render:B4e(e),toExternalHTML:$4e(e),runsBefore:["file"]}));let UD=class{constructor(){Rs(this,"callbacks",{})}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),()=>this.off(t,n)}emit(t,...n){const r=this.callbacks[t];r&&r.forEach(i=>i.apply(this,n))}off(t,n){const r=this.callbacks[t];r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t])}removeAllListeners(){this.callbacks={}}},fo=class extends UD{constructor(...t){super(),Rs(this,"plugins",[]),Rs(this,"inputRules"),Rs(this,"keyboardShortcuts"),Rs(this,"tiptapExtensions")}static key(){throw new Error("You must implement the key method in your extension")}addProsemirrorPlugin(t){this.plugins.push(t)}get priority(){}};function Ec(e){const t=Object.create(fo.prototype);return t.key=e.key,t.inputRules=e.inputRules,t.keyboardShortcuts=e.keyboardShortcuts,t.plugins=e.plugins??[],t.tiptapExtensions=e.tiptapExtensions,t}const SW=Symbol.for("blocknote.shikiParser"),pP=Symbol.for("blocknote.shikiHighlighterPromise");function F4e(e){const t=globalThis;let n,r;return i4e({parser:i=>{if(!e.createHighlighter)return[];if(!n)return t[pP]=t[pP]||e.createHighlighter(),t[pP].then(a=>{n=a});const o=sce(e,i.language);return!o||o==="text"||o==="none"||o==="plaintext"||o==="txt"?[]:n.getLoadedLanguages().includes(o)?(r||(r=t[SW]||o4e(n),t[SW]=r),r(i)):n.loadLanguage(o)},languageExtractor:i=>i.attrs.language,nodeTypes:["codeBlock"]})}const U4e=({defaultLanguage:e="text"})=>({type:"codeBlock",propSchema:{language:{default:e}},content:"inline"}),z4e=Bl(U4e,e=>({meta:{code:!0,defining:!0,isolating:!1},parse:t=>{var n,r;if(t.tagName!=="PRE"||t.childElementCount!==1||((n=t.firstElementChild)==null?void 0:n.tagName)!=="CODE")return;const i=t.firstElementChild;return{language:i.getAttribute("data-language")||((r=i.className.split(" ").find(o=>o.includes("language-")))==null?void 0:r.replace("language-",""))}},parseContent:({el:t,schema:n})=>{const r=pu.fromSchema(n),i=t.firstElementChild;return r.parse(i,{preserveWhitespace:"full",topNode:n.nodes.codeBlock.create()}).content},render(t,n){const r=document.createDocumentFragment(),i=document.createElement("pre"),o=document.createElement("code");i.appendChild(o);let a;if(e.supportedLanguages){const s=document.createElement("select");Object.entries(e.supportedLanguages??{}).forEach(([d,{name:u}])=>{const p=document.createElement("option");p.value=d,p.text=u,s.appendChild(p)}),s.value=t.props.language||e.defaultLanguage||"text";const l=d=>{const u=d.target.value;n.updateBlock(t.id,{props:{language:u}})};s.addEventListener("change",l),a=()=>s.removeEventListener("change",l);const c=document.createElement("div");c.contentEditable="false",c.appendChild(s),r.appendChild(c)}return r.appendChild(i),{dom:r,contentDOM:o,destroy:()=>{a?.()}}},toExternalHTML(t){const n=document.createElement("pre"),r=document.createElement("code");return r.className=`language-${t.props.language}`,r.dataset.language=t.props.language,n.appendChild(r),{dom:n,contentDOM:r}}}),e=>[Ec({key:"code-block-highlighter",plugins:[F4e(e)]}),Ec({key:"code-block-keyboard-shortcuts",keyboardShortcuts:{Delete:({editor:t})=>t.transact(n=>{const{block:r}=t.getTextCursorPosition();if(r.type!=="codeBlock")return!1;const{$from:i}=n.selection;return i.parent.textContent?!1:(t.removeBlocks([r]),!0)}),Tab:({editor:t})=>e.indentLineWithTab===!1?!1:t.transact(n=>{const{block:r}=t.getTextCursorPosition();return r.type==="codeBlock"?(n.insertText("  "),!0):!1}),Enter:({editor:t})=>t.transact(n=>{const{block:r,nextBlock:i}=t.getTextCursorPosition();if(r.type!=="codeBlock")return!1;const{$from:o}=n.selection,a=o.parentOffset===o.parent.nodeSize-2,s=o.parent.textContent.endsWith(`

`);if(a&&s){if(n.delete(o.pos-2,o.pos),i)return t.setTextCursorPosition(i,"start"),!0;const[l]=t.insertBlocks([{type:"paragraph"}],r,"after");return t.setTextCursorPosition(l,"start"),!0}return n.insertText(`
`),!0}),"Shift-Enter":({editor:t})=>t.transact(()=>{const{block:n}=t.getTextCursorPosition();if(n.type!=="codeBlock")return!1;const[r]=t.insertBlocks([{type:"paragraph"}],n,"after");return t.setTextCursorPosition(r,"start"),!0})},inputRules:[{find:/^```(.*?)\s$/,replace:({match:t})=>{const n=t[1].trim();return{type:"codeBlock",props:{language:{language:sce(e,n)??n}.language},content:[]}}}]})]);function sce(e,t){var n;return(n=Object.entries(e.supportedLanguages??{}).find(([r,{aliases:i}])=>i?.includes(t)||r===t))==null?void 0:n[0]}const V4e=()=>({type:"divider",propSchema:{},content:"none"}),q4e=Bl(V4e,{meta:{isolating:!1},parse(e){if(e.tagName==="HR")return{}},render(){return{dom:document.createElement("hr")}}},[Ec({key:"divider-block-shortcuts",inputRules:[{find:new RegExp("^---$"),replace(){return{type:"divider",props:{},content:[]}}}]})]),CW=e=>({url:e.src||void 0}),W4e=()=>({type:"file",propSchema:{backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""}},content:"none"}),Y4e=()=>e=>{if(e.tagName==="EMBED"){if(e.closest("figure"))return;const{backgroundColor:t}=Vs(e);return{...CW(e),backgroundColor:t}}if(e.tagName==="FIGURE"){const t=HD(e,"embed");if(!t)return;const{targetElement:n,caption:r}=t,{backgroundColor:i}=Vs(e);return{...CW(n),backgroundColor:i,caption:r}}},G4e=Bl(W4e,{meta:{fileBlockAccept:["*/*"]},parse:Y4e(),render(e,t){return q9(e,t)},toExternalHTML(e){if(!e.props.url){const n=document.createElement("p");return n.textContent="Add file",{dom:n}}const t=document.createElement("a");return t.href=e.props.url,t.textContent=e.props.name||e.props.url,e.props.caption?FD(t,e.props.caption):{dom:t}}}),K4e={set:(e,t)=>window.localStorage.setItem(`toggle-${e.id}`,t?"true":"false"),get:e=>window.localStorage.getItem(`toggle-${e.id}`)==="true"},lce=(e,t,n,r=K4e)=>{if("isToggleable"in e.props&&!e.props.isToggleable)return{dom:n};const i=document.createElement("div"),o=document.createElement("div");o.className="bn-toggle-wrapper";const a=document.createElement("button");a.className="bn-toggle-button",a.type="button",a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="CURRENTCOLOR"><path d="M320-200v-560l440 280-440 280Z"/></svg>';const s=v=>v.preventDefault();a.addEventListener("mousedown",s);const l=()=>{var v;o.getAttribute("data-show-children")==="true"?(o.setAttribute("data-show-children","false"),r.set(t.getBlock(e),!1),i.contains(c)&&i.removeChild(c)):(o.setAttribute("data-show-children","true"),r.set(t.getBlock(e),!0),((v=t.getBlock(e))==null?void 0:v.children.length)===0&&!i.contains(c)&&i.appendChild(c))};a.addEventListener("click",l),o.appendChild(a),o.appendChild(n);const c=document.createElement("button");c.className="bn-toggle-add-block-button",c.type="button",c.textContent=t.dictionary.toggle_blocks.add_block_button;const d=v=>v.preventDefault();c.addEventListener("mousedown",d);const u=()=>{t.transact(()=>{const v=t.updateBlock(e,{children:[{}]});t.setTextCursorPosition(v.children[0].id,"end"),t.focus()})};c.addEventListener("click",u),i.appendChild(o);let p=e.children.length;const m=t.onChange(()=>{var v;const x=((v=t.getBlock(e))==null?void 0:v.children.length)??0;x>p?(o.getAttribute("data-show-children")==="false"&&(o.setAttribute("data-show-children","true"),r.set(t.getBlock(e),!0)),i.contains(c)&&i.removeChild(c)):x===0&&x<p&&(o.getAttribute("data-show-children")==="true"&&(o.setAttribute("data-show-children","false"),r.set(t.getBlock(e),!1)),i.contains(c)&&i.removeChild(c)),p=x});return r.get(e)?(o.setAttribute("data-show-children","true"),e.children.length===0&&i.appendChild(c)):o.setAttribute("data-show-children","false"),{dom:i,ignoreMutation:v=>v instanceof MutationRecord&&(v.type==="attributes"&&v.target===o&&v.attributeName==="data-show-children"||v.type==="childList"&&(v.addedNodes[0]===c||v.removedNodes[0]===c)),destroy:()=>{a.removeEventListener("mousedown",s),a.removeEventListener("click",l),c.removeEventListener("mousedown",d),c.removeEventListener("click",u),m?.()}}},cce=[1,2,3,4,5,6],X4e=({defaultLevel:e=1,levels:t=cce,allowToggleHeadings:n=!0}={})=>({type:"heading",propSchema:{...cr,level:{default:e,values:t},...n?{isToggleable:{default:!1,optional:!0}}:{}},content:"inline"}),Z4e=Bl(X4e,({allowToggleHeadings:e=!0}={})=>({meta:{isolating:!1},parse(t){let n;switch(t.tagName){case"H1":n=1;break;case"H2":n=2;break;case"H3":n=3;break;case"H4":n=4;break;case"H5":n=5;break;case"H6":n=6;break;default:return}return{...Vs(t),level:n}},render(t,n){const r=document.createElement(`h${t.props.level}`);return e?{...lce(t,n,r),contentDOM:r}:{dom:r,contentDOM:r}},toExternalHTML(t){const n=document.createElement(`h${t.props.level}`);return ay(t.props,n),{dom:n,contentDOM:n}}}),({levels:e=cce}={})=>[Ec({key:"heading-shortcuts",keyboardShortcuts:Object.fromEntries(e.map(t=>[`Mod-Alt-${t}`,({editor:n})=>{const r=n.getTextCursorPosition();return n.schema.blockSchema[r.block.type].content!=="inline"?!1:(n.updateBlock(r.block,{type:"heading",props:{level:t}}),!0)}])??[]),inputRules:e.map(t=>({find:new RegExp(`^(#{${t}})\\s$`),replace({match:n}){return{type:"heading",props:{level:n[1].length}}}}))})]),uce=(e,t,n,r,i)=>{const{dom:o,destroy:a}=q9(e,t,n,i),s=o;s.style.position="relative",e.props.url&&e.props.showPreview&&(e.props.previewWidth?s.style.width=`${e.props.previewWidth}px`:s.style.width="fit-content");const l=document.createElement("div");l.className="bn-resize-handle",l.style.left="4px";const c=document.createElement("div");c.className="bn-resize-handle",c.style.right="4px";const d=document.createElement("div");d.style.position="absolute",d.style.height="100%",d.style.width="100%";let u,p=e.props.previewWidth;const m=N=>{var I,M;if(!u){!t.isEditable&&r.contains(l)&&r.contains(c)&&(r.removeChild(l),r.removeChild(c));return}let A;const R="touches"in N?N.touches[0].clientX:N.clientX;e.props.textAlignment==="center"?u.handleUsed==="left"?A=u.initialWidth+(u.initialClientX-R)*2:A=u.initialWidth+(R-u.initialClientX)*2:u.handleUsed==="left"?A=u.initialWidth+u.initialClientX-R:A=u.initialWidth+R-u.initialClientX,p=Math.min(Math.max(A,64),((M=(I=t.domElement)==null?void 0:I.firstElementChild)==null?void 0:M.clientWidth)||Number.MAX_VALUE),s.style.width=`${p}px`},v=N=>{(!N.target||!s.contains(N.target)||!t.isEditable)&&r.contains(l)&&r.contains(c)&&(r.removeChild(l),r.removeChild(c)),u&&(u=void 0,s.contains(d)&&s.removeChild(d),t.updateBlock(e,{props:{previewWidth:p}}))},x=()=>{t.isEditable&&(r.appendChild(l),r.appendChild(c))},w=N=>{N.relatedTarget===l||N.relatedTarget===c||u||t.isEditable&&r.contains(l)&&r.contains(c)&&(r.removeChild(l),r.removeChild(c))},T=N=>{N.preventDefault(),s.contains(d)||s.appendChild(d);const I="touches"in N?N.touches[0].clientX:N.clientX;u={handleUsed:"left",initialWidth:s.clientWidth,initialClientX:I}},k=N=>{N.preventDefault(),s.contains(d)||s.appendChild(d);const I="touches"in N?N.touches[0].clientX:N.clientX;u={handleUsed:"right",initialWidth:s.clientWidth,initialClientX:I}};return window.addEventListener("mousemove",m),window.addEventListener("touchmove",m),window.addEventListener("mouseup",v),window.addEventListener("touchend",v),s.addEventListener("mouseenter",x),s.addEventListener("mouseleave",w),l.addEventListener("mousedown",T),l.addEventListener("touchstart",T),c.addEventListener("mousedown",k),c.addEventListener("touchstart",k),{dom:s,destroy:()=>{a?.(),window.removeEventListener("mousemove",m),window.removeEventListener("touchmove",m),window.removeEventListener("mouseup",v),window.removeEventListener("touchend",v),s.removeEventListener("mouseenter",x),s.removeEventListener("mouseleave",w),l.removeEventListener("mousedown",T),l.removeEventListener("touchstart",T),c.removeEventListener("mousedown",k),c.removeEventListener("touchstart",k)}}},TW=e=>{const t=e.src||void 0,n=e.width||void 0,r=e.alt||void 0;return{url:t,previewWidth:n,name:r}},Q4e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"></path></svg>',J4e=(e={})=>({type:"image",propSchema:{textAlignment:cr.textAlignment,backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},content:"none"}),eje=(e={})=>t=>{if(t.tagName==="IMG"){if(t.closest("figure"))return;const{backgroundColor:n}=Vs(t);return{...TW(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=HD(t,"img");if(!n)return;const{targetElement:r,caption:i}=n,{backgroundColor:o}=Vs(t);return{...TW(r),backgroundColor:o,caption:i}}},tje=(e={})=>(t,n)=>{const r=document.createElement("div");r.innerHTML=e.icon??Q4e;const i=document.createElement("div");i.className="bn-visual-media-wrapper";const o=document.createElement("img");return o.className="bn-visual-media",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(a=>{o.src=a}):o.src=t.props.url,o.alt=t.props.name||t.props.caption||"BlockNote image",o.contentEditable="false",o.draggable=!1,i.appendChild(o),uce(t,n,{dom:i},i,r.firstElementChild)},nje=(e={})=>(t,n)=>{if(!t.props.url){const i=document.createElement("p");return i.textContent="Add image",{dom:i}}let r;return t.props.showPreview?(r=document.createElement("img"),r.src=t.props.url,r.alt=t.props.name||t.props.caption||"BlockNote image",t.props.previewWidth&&(r.width=t.props.previewWidth)):(r=document.createElement("a"),r.href=t.props.url,r.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?W9(r,t.props.caption):FD(r,t.props.caption):{dom:r}},rje=Bl(J4e,e=>({meta:{fileBlockAccept:["image/*"]},parse:eje(e),render:tje(e),toExternalHTML:nje(e),runsBefore:["file"]})),ije=(e,t,n)=>({state:r,dispatch:i})=>i?dce(r.tr,e,t,n):!0,dce=(e,t,n,r)=>{const i=Zf(e.doc,t),o=Qf(i);if(!o.isBlockContainer)return!1;const a=po(e),s=[{type:o.bnBlock.node.type,attrs:r?{...o.bnBlock.node.attrs,id:void 0}:{}},{type:n?o.blockContent.node.type:a.nodes.paragraph,attrs:r?{...o.blockContent.node.attrs}:{}}];return e.split(t,2,s),!0},zD=(e,t)=>{const{blockInfo:n,selectionEmpty:r}=e.transact(a=>({blockInfo:$T(a),selectionEmpty:a.selection.anchor===a.selection.head}));if(!n.isBlockContainer)return!1;const{bnBlock:i,blockContent:o}=n;return o.node.type.name!==t||!r?!1:o.node.childCount===0?(e.transact(a=>{$D(a,i.beforePos,{type:"paragraph",props:{}})}),!0):o.node.childCount>0?e.transact(a=>(a.deleteSelection(),dce(a,a.selection.from,!0))):!1};function Y9(e,t,n){var r,i,o;const a=pu.fromSchema(t),s=e,l=document.createElement("div");l.setAttribute("data-node-type","blockGroup");for(const m of Array.from(s.childNodes))l.appendChild(m.cloneNode(!0));let c=a.parse(l,{topNode:t.nodes.blockGroup.create()});((i=(r=c.firstChild)==null?void 0:r.firstChild)==null?void 0:i.type.name)==="checkListItem"&&(c=c.copy(c.content.cut(c.firstChild.firstChild.nodeSize+2)));const d=(o=c.firstChild)==null?void 0:o.firstChild;if(!(d!=null&&d.isTextblock))return He.from(c);const u=t.nodes[n].create({},d.content),p=c.content.cut(d.nodeSize+2);if(p.size>0){const m=c.copy(p);return u.content.addToEnd(m)}return u.content}const oje=()=>({type:"bulletListItem",propSchema:{...cr},content:"inline"}),aje=Bl(oje,{meta:{isolating:!1},parse(e){var t;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="UL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="UL"))return Vs(e)},parseContent:({el:e,schema:t})=>Y9(e,t,"bulletListItem"),render(){const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return ay(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[Ec({key:"bullet-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>zD(e,"bulletListItem"),"Mod-Shift-8":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"bulletListItem",props:{}}),!0)}},inputRules:[{find:new RegExp("^[-+*]\\s$"),replace({editor:e}){if(Ms(e.prosemirrorState).blockNoteType!=="heading")return{type:"bulletListItem",props:{}}}}]})]),sje=()=>({type:"checkListItem",propSchema:{...cr,checked:{default:!1,type:"boolean"}},content:"inline"}),lje=Bl(sje,{meta:{isolating:!1},parse(e){var t;if(e.tagName==="input")return e.closest("[data-content-type]")||e.closest("li")?void 0:e.type==="checkbox"?{checked:e.checked}:void 0;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="UL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="UL")){const r=e.querySelector("input[type=checkbox]")||null;return r===null?void 0:{...Vs(e),checked:r.checked}}},parseContent:({el:e,schema:t})=>Y9(e,t,"checkListItem"),render(e,t){const n=document.createDocumentFragment(),r=document.createElement("input");r.type="checkbox",r.checked=e.props.checked,e.props.checked&&r.setAttribute("checked",""),r.addEventListener("change",()=>{t.updateBlock(e,{props:{checked:!e.props.checked}})});const i=document.createElement("p");return n.appendChild(r),n.appendChild(i),{dom:n,contentDOM:i}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("input");n.type="checkbox",n.checked=e.props.checked,e.props.checked&&n.setAttribute("checked","");const r=document.createElement("p");return ay(e.props,t),t.appendChild(n),t.appendChild(r),{dom:t,contentDOM:r}},runsBefore:["bulletListItem"]},[Ec({key:"check-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>zD(e,"checkListItem"),"Mod-Shift-9":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"checkListItem",props:{}}),!0)}},inputRules:[{find:new RegExp("\\[\\s*\\]\\s$"),replace(){return{type:"checkListItem",props:{checked:!1},content:[]}}},{find:new RegExp("\\[[Xx]\\]\\s$"),replace(){return{type:"checkListItem",props:{checked:!0}}}}]})]);function fce(e,t,n,r){let i=e.firstChild.attrs.start||1,o=!0;const a=!!e.firstChild.attrs.start,s=Qf({posBeforeNode:t,node:e});if(!s.isBlockContainer)throw new Error("impossible");const l=n.doc.resolve(s.bnBlock.beforePos).nodeBefore,c=l?r.get(l):void 0;return c!==void 0?(i=c+1,o=!1):l&&Qf({posBeforeNode:s.bnBlock.beforePos-l.nodeSize,node:l}).blockNoteType==="numberedListItem"&&(i=fce(l,s.bnBlock.beforePos-l.nodeSize,n,r).index+1,o=!1),r.set(e,i),{index:i,isFirst:o,hasStart:a}}function kW(e,t){const n=new Map,r=t.decorations.map(e.mapping,e.doc),i=[];e.doc.nodesBetween(0,e.doc.nodeSize-2,(a,s)=>{if(a.type.name==="blockContainer"&&a.firstChild.type.name==="numberedListItem"){const{index:l,isFirst:c,hasStart:d}=fce(a,s,e,n);if(r.find(s,s+a.nodeSize,u=>u.index===l&&u.isFirst===c&&u.hasStart===d).length===0){const u=e.doc.nodeAt(s+1);i.push(ir.node(s+1,s+1+u.nodeSize,{"data-index":l.toString()}))}}});const o=i.flatMap(a=>r.find(a.from,a.to));return{decorations:r.remove(o).add(e.doc,i)}}const cje=()=>new rn({key:new En("numbered-list-indexing-decorations"),state:{init(e,t){return kW(t.tr,{decorations:mn.empty})},apply(e,t){return!e.docChanged&&!e.selectionSet&&t.decorations?t:kW(e,t)}},props:{decorations(e){var t;return((t=this.getState(e))==null?void 0:t.decorations)??mn.empty}}}),uje=()=>({type:"numberedListItem",propSchema:{...cr,start:{default:void 0,type:"number"}},content:"inline"}),dje=Bl(uje,{meta:{isolating:!1},parse(e){var t;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="OL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="OL")){const r=parseInt(n.getAttribute("start")||"1"),i=Vs(e);return e.previousElementSibling||r===1?i:{...i,start:r}}},parseContent:({el:e,schema:t})=>Y9(e,t,"numberedListItem"),render(){const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return ay(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[Ec({key:"numbered-list-item-shortcuts",inputRules:[{find:new RegExp("^(\\d+)\\.\\s$"),replace({match:e,editor:t}){if(Ms(t.prosemirrorState).blockNoteType==="heading")return;const n=parseInt(e[1]);return{type:"numberedListItem",props:{start:n!==1?n:void 0}}}}],keyboardShortcuts:{Enter:({editor:e})=>zD(e,"numberedListItem"),"Mod-Shift-7":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"numberedListItem",props:{}}),!0)}},plugins:[cje()]})]),fje=()=>({type:"toggleListItem",propSchema:{...cr},content:"inline"}),hje=Bl(fje,{meta:{isolating:!1},render(e,t){const n=document.createElement("p");return{...lce(e,t,n),contentDOM:n}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return ay(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[Ec({key:"toggle-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>zD(e,"toggleListItem"),"Mod-Shift-6":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"toggleListItem",props:{}}),!0)}}})]),pje=()=>({type:"paragraph",propSchema:cr,content:"inline"}),hce=Bl(pje,{meta:{isolating:!1},parse:e=>{var t;if(e.tagName==="P"&&(t=e.textContent)!=null&&t.trim())return Vs(e)},render:()=>{const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("p");return ay(e.props,t),{dom:t,contentDOM:t}},runsBefore:["default"]},[Ec({key:"paragraph-shortcuts",keyboardShortcuts:{"Mod-Alt-0":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"paragraph",props:{}}),!0)}}})]),mje=()=>({type:"quote",propSchema:{backgroundColor:cr.backgroundColor,textColor:cr.textColor},content:"inline"}),gje=Bl(mje,{meta:{isolating:!1},parse(e){if(e.tagName==="BLOCKQUOTE"){const{backgroundColor:t,textColor:n}=Vs(e);return{backgroundColor:t,textColor:n}}},render(){const e=document.createElement("blockquote");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("blockquote");return ay(e.props,t),{dom:t,contentDOM:t}}},[Ec({key:"quote-block-shortcuts",keyboardShortcuts:{"Mod-Alt-q":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"quote",props:{}}),!0)}},inputRules:[{find:new RegExp("^>\\s$"),replace(){return{type:"quote",props:{}}}}]})]),yje=35,G9=120,bje=31,vje=ur.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[CLe({cellMinWidth:yje,defaultCellMinWidth:G9,View:null}),ILe()],addKeyboardShortcuts(){return{Enter:()=>this.editor.state.selection.empty&&this.editor.state.selection.$head.parent.type.name==="tableParagraph"?(this.editor.commands.insertContent({type:"hardBreak"}),!0):!1,Backspace:()=>{const e=this.editor.state.selection,t=e.empty,n=e.$head.parentOffset===0,r=e.$head.node().type.name==="tableParagraph";return t&&n&&r},Tab:()=>this.editor.commands.command(({state:e,dispatch:t,view:n})=>sW(1)(e,t,n)),"Shift-Tab":()=>this.editor.commands.command(({state:e,dispatch:t,view:n})=>sW(-1)(e,t,n))}},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:Ur(Vt(e,"tableRole",t))}}}),xje={textColor:cr.textColor},wje=qs.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"tableContent+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th",getContent:(e,t)=>pce(e,t)}]},renderHTML({HTMLAttributes:e}){return["th",Dl(this.options.HTMLAttributes,e),0]}}),Eje=qs.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"tableContent+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td",getContent:(e,t)=>pce(e,t)}]},renderHTML({HTMLAttributes:e}){return["td",Dl(this.options.HTMLAttributes,e),0]}}),Sje=qs.create({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",marks:"deletion insertion modification",isolating:!0,parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){var n,r,i;const o=u4e(this.name,"table",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...t},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{}),a=document.createElement("colgroup");for(const s of e.children[0].children)if(s.attrs.colwidth)for(const l of s.attrs.colwidth){const c=document.createElement("col");l&&(c.style=`width: ${l}px`),a.appendChild(c)}else a.appendChild(document.createElement("col"));return(i=o.dom.firstChild)==null||i.appendChild(a),o},addNodeView(){return({node:e,HTMLAttributes:t})=>{var n;class r extends Jle{constructor(o,a,s){super(o,a),this.node=o,this.cellMinWidth=a,this.blockContentHTMLAttributes=s;const l=document.createElement("div");l.className=vi("bn-block-content",s.class),l.setAttribute("data-content-type","table");for(const[p,m]of Object.entries(s))p!=="class"&&l.setAttribute(p,m);const c=this.dom,d=document.createElement("div");d.className="tableWrapper-inner",d.appendChild(c.firstChild),c.appendChild(d),l.appendChild(c);const u=document.createElement("div");u.className="table-widgets-container",u.style.position="relative",c.appendChild(u),this.dom=l}ignoreMutation(o){return!o.target.closest(".tableWrapper-inner")||super.ignoreMutation(o)}}return new r(e,G9,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...t})}}}),Cje=qs.create({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML(){return[{tag:"p",getAttrs:e=>{if(typeof e=="string"||!e.textContent||!e.closest("[data-content-type]"))return!1;const t=e.parentElement;return t===null?!1:t.tagName==="TD"||t.tagName==="TH"?{}:!1},node:"tableParagraph"}]},renderHTML({HTMLAttributes:e}){return["p",e,0]}}),Tje=qs.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)+",tableRole:"row",marks:"deletion insertion modification",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",Dl(this.options.HTMLAttributes,e),0]}});function pce(e,t){const n=pu.fromSchema(t).parse(e,{topNode:t.nodes.blockGroup.create()}),r=[];return n.content.descendants(i=>{if(i.isInline)return r.push(i),!1}),He.fromArray(r)}const kje=()=>z9({node:Sje,type:"table",content:"table"},xje,[Ec({key:"table-extensions",tiptapExtensions:[vje,Cje,wje,Eje,Tje]}),Ec({key:"table-keyboard-delete",keyboardShortcuts:{Backspace:({editor:e})=>{if(!(e.prosemirrorState.selection instanceof Dr))return!1;const t=e.getTextCursorPosition().block,n=t.content;let r=0;for(const o of n.rows)for(const a of o.cells){if("type"in a&&a.content.length>0||!("type"in a)&&a.length>0)return!1;r++}let i=0;return e.prosemirrorState.selection.forEachCell(()=>{i++}),i<r?!1:(e.transact(()=>{(e.getPrevBlock(t)||e.getNextBlock(t))&&e.setTextCursorPosition(t),e.removeBlocks([t])}),!0)}}})]),_W=e=>{const t=e.src||void 0,n=e.width||void 0;return{url:t,previewWidth:n}},_je='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"></path></svg>',Aje=e=>({type:"video",propSchema:{textAlignment:cr.textAlignment,backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},content:"none"}),Nje=e=>t=>{if(t.tagName==="VIDEO"){if(t.closest("figure"))return;const{backgroundColor:n}=Vs(t);return{..._W(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=HD(t,"video");if(!n)return;const{targetElement:r,caption:i}=n,{backgroundColor:o}=Vs(t);return{..._W(r),backgroundColor:o,caption:i}}},Oje=Bl(Aje,e=>({meta:{fileBlockAccept:["video/*"]},parse:Nje(),render(t,n){const r=document.createElement("div");r.innerHTML=e.icon??_je;const i=document.createElement("div");i.className="bn-visual-media-wrapper";const o=document.createElement("video");return o.className="bn-visual-media",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(a=>{o.src=a}):o.src=t.props.url,o.controls=!0,o.contentEditable="false",o.draggable=!1,o.width=t.props.previewWidth,i.appendChild(o),uce(t,n,{dom:i},i,r.firstElementChild)},toExternalHTML(t){if(!t.props.url){const r=document.createElement("p");return r.textContent="Add video",{dom:r}}let n;return t.props.showPreview?(n=document.createElement("video"),n.src=t.props.url,t.props.previewWidth&&(n.width=t.props.previewWidth)):(n=document.createElement("a"),n.href=t.props.url,n.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?W9(n,t.props.caption):FD(n,t.props.caption):{dom:n}},runsBefore:["file"]}));function Jr(e,t,n){if(!(t in e.schema.blockSpecs))return!1;if(!n)return!0;for(const[r,i]of Object.entries(n)){if(!(r in e.schema.blockSpecs[t].config.propSchema))return!1;if(typeof i=="string"){if(e.schema.blockSpecs[t].config.propSchema[r].default!==void 0&&typeof e.schema.blockSpecs[t].config.propSchema[r].default!==i||e.schema.blockSpecs[t].config.propSchema[r].type!==void 0&&e.schema.blockSpecs[t].config.propSchema[r].type!==i)return!1}else{if(e.schema.blockSpecs[t].config.propSchema[r].default!==i.default||e.schema.blockSpecs[t].config.propSchema[r].default===void 0&&i.default===void 0&&e.schema.blockSpecs[t].config.propSchema[r].type!==i.type||typeof e.schema.blockSpecs[t].config.propSchema[r].values!=typeof i.values)return!1;if(typeof e.schema.blockSpecs[t].config.propSchema[r].values=="object"&&typeof i.values=="object"){for(const o of i.values)if(!e.schema.blockSpecs[t].config.propSchema[r].values.includes(o))return!1}}}return!0}function _l(e,t,n,r){return Jr(t,n,r)&&e.type===n}function NB(e){return e instanceof Dr}function Mje(e){let t=e.getTextCursorPosition().block,n=e.schema.blockSchema[t.type].content;for(;n==="none";){if(t=e.getTextCursorPosition().nextBlock,t===void 0)return;n=e.schema.blockSchema[t.type].content,e.setTextCursorPosition(t,"end")}}function Ir(e,t){const n=e.getTextCursorPosition().block;if(n.content===void 0)throw new Error("Slash Menu open in a block that doesn't contain content.");let r;return Array.isArray(n.content)&&(n.content.length===1&&I0(n.content[0])&&n.content[0].type==="text"&&n.content[0].text==="/"||n.content.length===0)?(r=e.updateBlock(n,t),e.setTextCursorPosition(r)):(r=e.insertBlocks([t],n,"after")[0],e.setTextCursorPosition(e.getTextCursorPosition().nextBlock)),Mje(e),r}function mce(e){const t=[];return Jr(e,"heading",{level:"number"})&&t.push({onItemClick:()=>{Ir(e,{type:"heading",props:{level:1}})},badge:bl("Mod-Alt-1"),key:"heading",...e.dictionary.slash_menu.heading},{onItemClick:()=>{Ir(e,{type:"heading",props:{level:2}})},badge:bl("Mod-Alt-2"),key:"heading_2",...e.dictionary.slash_menu.heading_2},{onItemClick:()=>{Ir(e,{type:"heading",props:{level:3}})},badge:bl("Mod-Alt-3"),key:"heading_3",...e.dictionary.slash_menu.heading_3}),Jr(e,"quote")&&t.push({onItemClick:()=>{Ir(e,{type:"quote"})},key:"quote",...e.dictionary.slash_menu.quote}),Jr(e,"toggleListItem")&&t.push({onItemClick:()=>{Ir(e,{type:"toggleListItem"})},badge:bl("Mod-Shift-6"),key:"toggle_list",...e.dictionary.slash_menu.toggle_list}),Jr(e,"numberedListItem")&&t.push({onItemClick:()=>{Ir(e,{type:"numberedListItem"})},badge:bl("Mod-Shift-7"),key:"numbered_list",...e.dictionary.slash_menu.numbered_list}),Jr(e,"bulletListItem")&&t.push({onItemClick:()=>{Ir(e,{type:"bulletListItem"})},badge:bl("Mod-Shift-8"),key:"bullet_list",...e.dictionary.slash_menu.bullet_list}),Jr(e,"checkListItem")&&t.push({onItemClick:()=>{Ir(e,{type:"checkListItem"})},badge:bl("Mod-Shift-9"),key:"check_list",...e.dictionary.slash_menu.check_list}),Jr(e,"paragraph")&&t.push({onItemClick:()=>{Ir(e,{type:"paragraph"})},badge:bl("Mod-Alt-0"),key:"paragraph",...e.dictionary.slash_menu.paragraph}),Jr(e,"codeBlock")&&t.push({onItemClick:()=>{Ir(e,{type:"codeBlock"})},badge:bl("Mod-Alt-c"),key:"code_block",...e.dictionary.slash_menu.code_block}),Jr(e,"divider")&&t.push({onItemClick:()=>{Ir(e,{type:"divider"})},key:"divider",...e.dictionary.slash_menu.divider}),Jr(e,"table")&&t.push({onItemClick:()=>{Ir(e,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},badge:void 0,key:"table",...e.dictionary.slash_menu.table}),Jr(e,"image",{url:"string"})&&t.push({onItemClick:()=>{const n=Ir(e,{type:"image"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"image",...e.dictionary.slash_menu.image}),Jr(e,"video",{url:"string"})&&t.push({onItemClick:()=>{const n=Ir(e,{type:"video"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"video",...e.dictionary.slash_menu.video}),Jr(e,"audio",{url:"string"})&&t.push({onItemClick:()=>{const n=Ir(e,{type:"audio"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"audio",...e.dictionary.slash_menu.audio}),Jr(e,"file",{url:"string"})&&t.push({onItemClick:()=>{const n=Ir(e,{type:"file"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"file",...e.dictionary.slash_menu.file}),Jr(e,"heading",{level:"number",isToggleable:"boolean"})&&t.push({onItemClick:()=>{Ir(e,{type:"heading",props:{level:1,isToggleable:!0}})},key:"toggle_heading",...e.dictionary.slash_menu.toggle_heading},{onItemClick:()=>{Ir(e,{type:"heading",props:{level:2,isToggleable:!0}})},key:"toggle_heading_2",...e.dictionary.slash_menu.toggle_heading_2},{onItemClick:()=>{Ir(e,{type:"heading",props:{level:3,isToggleable:!0}})},key:"toggle_heading_3",...e.dictionary.slash_menu.toggle_heading_3}),Jr(e,"heading",{level:"number"})&&(e.schema.blockSchema.heading.propSchema.level.values||[]).filter(n=>n>3).forEach(n=>{t.push({onItemClick:()=>{Ir(e,{type:"heading",props:{level:n}})},key:`heading_${n}`,...e.dictionary.slash_menu[`heading_${n}`]})}),t.push({onItemClick:()=>{e.openSuggestionMenu(":",{deleteTriggerCharacter:!0,ignoreQueryLength:!0})},key:"emoji",...e.dictionary.slash_menu.emoji}),t}function Dje(e,t){return e.filter(({title:n,aliases:r})=>n.toLowerCase().includes(t.toLowerCase())||r&&r.filter(i=>i.toLowerCase().includes(t.toLowerCase())).length!==0)}const gce={audio:H4e(),bulletListItem:aje(),checkListItem:lje(),codeBlock:z4e(),divider:q4e(),file:G4e(),heading:Z4e(),image:rje(),numberedListItem:dje(),paragraph:hce(),quote:gje(),table:kje(),toggleListItem:hje(),video:Oje()},Rje=ace({type:"textColor",propSchema:"string"},{render:()=>{const e=document.createElement("span");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("span");return e!==cr.textColor.default&&(t.style.color=e in Bp?Bp[e].text:e),{dom:t,contentDOM:t}},parse:e=>{if(e.tagName==="SPAN"&&e.style.color)return e.style.color}}),Ije=ace({type:"backgroundColor",propSchema:"string"},{render:()=>{const e=document.createElement("span");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("span");return e!==cr.backgroundColor.default&&(t.style.backgroundColor=e in Bp?Bp[e].background:e),{dom:t,contentDOM:t}},parse:e=>{if(e.tagName==="SPAN"&&e.style.backgroundColor)return e.style.backgroundColor}}),K9={bold:IE(HLe,"boolean"),italic:IE(XLe,"boolean"),underline:IE(n4e,"boolean"),strike:IE(e4e,"boolean"),code:IE(VLe,"boolean"),textColor:Rje,backgroundColor:Ije};oce(K9);const yce={text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}},Pje=rce(yce);let VD=class bce extends C4e{static create(t){return new bce({blockSpecs:t?.blockSpecs??gce,inlineContentSpecs:t?.inlineContentSpecs??yce,styleSpecs:t?.styleSpecs??K9})}};var mP,AW;function Lje(){return AW||(AW=1,mP=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}),mP}var jje=Lje();const Bje=vr(jje);function vce(e={}){return new rn({view(t){return new $je(t,e)}})}class $je{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(n){let u=t.nodeBefore,p=t.nodeAfter;if(u||p){let m=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(m){let v=m.getBoundingClientRect(),x=u?v.bottom:v.top;u&&p&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*s;r={left:v.left,right:v.right,top:x-w,bottom:x+w}}}}if(!r){let u=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*a;r={left:u.left-p,right:u.left+p,top:u.top,bottom:u.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,d=-pageYOffset;else{let u=l.getBoundingClientRect(),p=u.width/l.offsetWidth,m=u.height/l.offsetHeight;c=u.left-l.scrollLeft*p,d=u.top-l.scrollTop*m}this.element.style.left=(r.left-c)/a+"px",this.element.style.top=(r.top-d)/s+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=i9(this.editorView.state.doc,a,this.editorView.dragging.slice);s!=null&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const pc=()=>new Map,OB=e=>{const t=pc();return e.forEach((n,r)=>{t.set(r,n)}),t},Bd=(e,t,n)=>{let r=e.get(t);return r===void 0&&e.set(t,r=n()),r},Hje=(e,t)=>{const n=[];for(const[r,i]of e)n.push(t(i,r));return n},Fje=(e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1},B0=()=>new Set,gP=e=>e[e.length-1],Uje=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},im=Array.from,zje=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1},MB=Array.isArray;class xce{constructor(){this._observers=pc()}on(t,n){return Bd(this._observers,t,B0).add(n),n}once(t,n){const r=(...i)=>{this.off(t,r),n(...i)};this.on(t,r)}off(t,n){const r=this._observers.get(t);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(t))}emit(t,n){return im((this._observers.get(t)||pc()).values()).forEach(r=>r(...n))}destroy(){this._observers=pc()}}const Jf=Math.floor,ZA=Math.abs,Ff=(e,t)=>e<t?e:t,vu=(e,t)=>e>t?e:t,wce=e=>e!==0?e<0:1/e<0,NW=1,OW=2,yP=4,bP=8,dC=32,Uf=64,rs=128,Vje=1<<29,qD=31,DB=63,y0=127,qje=2147483647,Ece=Number.MAX_SAFE_INTEGER,Wje=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&Jf(e)===e),Yje=String.fromCharCode,Gje=e=>e.toLowerCase(),Kje=/^\s*/g,Xje=e=>e.replace(Kje,""),Zje=/([A-Z])/g,MW=(e,t)=>Xje(e.replace(Zje,n=>`${t}${Gje(n)}`)),Qje=e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.codePointAt(i);return r},fC=typeof TextEncoder<"u"?new TextEncoder:null,Jje=e=>fC.encode(e),e5e=fC?Jje:Qje;let xS=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});xS&&xS.decode(new Uint8Array).length===1&&(xS=null);class FT{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const UT=()=>new FT,t5e=e=>{const t=UT();return e(t),cu(t)},n5e=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},cu=e=>{const t=new Uint8Array(n5e(e));let n=0;for(let r=0;r<e.bufs.length;r++){const i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},r5e=(e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(vu(n,t)*2),e.cpos=0)},Lo=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(n*2),e.cpos=0),e.cbuf[e.cpos++]=t},RB=Lo,Kn=(e,t)=>{for(;t>y0;)Lo(e,rs|y0&t),t=Jf(t/128);Lo(e,y0&t)},X9=(e,t)=>{const n=wce(t);for(n&&(t=-t),Lo(e,(t>DB?rs:0)|(n?Uf:0)|DB&t),t=Jf(t/64);t>0;)Lo(e,(t>y0?rs:0)|y0&t),t=Jf(t/128)},IB=new Uint8Array(3e4),i5e=IB.length/3,o5e=(e,t)=>{if(t.length<i5e){const n=fC.encodeInto(t,IB).written||0;Kn(e,n);for(let r=0;r<n;r++)Lo(e,IB[r])}else ml(e,e5e(t))},a5e=(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;Kn(e,r);for(let i=0;i<r;i++)Lo(e,n.codePointAt(i))},Hv=fC&&fC.encodeInto?o5e:a5e,WD=(e,t)=>{const n=e.cbuf.length,r=e.cpos,i=Ff(n-r,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(vu(n*2,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},ml=(e,t)=>{Kn(e,t.byteLength),WD(e,t)},Z9=(e,t)=>{r5e(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},s5e=(e,t)=>Z9(e,4).setFloat32(0,t,!1),l5e=(e,t)=>Z9(e,8).setFloat64(0,t,!1),c5e=(e,t)=>Z9(e,8).setBigInt64(0,t,!1),DW=new DataView(new ArrayBuffer(4)),u5e=e=>(DW.setFloat32(0,e),DW.getFloat32(0)===e),g1=(e,t)=>{switch(typeof t){case"string":Lo(e,119),Hv(e,t);break;case"number":Wje(t)&&ZA(t)<=qje?(Lo(e,125),X9(e,t)):u5e(t)?(Lo(e,124),s5e(e,t)):(Lo(e,123),l5e(e,t));break;case"bigint":Lo(e,122),c5e(e,t);break;case"object":if(t===null)Lo(e,126);else if(MB(t)){Lo(e,117),Kn(e,t.length);for(let n=0;n<t.length;n++)g1(e,t[n])}else if(t instanceof Uint8Array)Lo(e,116),ml(e,t);else{Lo(e,118);const n=Object.keys(t);Kn(e,n.length);for(let r=0;r<n.length;r++){const i=n[r];Hv(e,i),g1(e,t[i])}}break;case"boolean":Lo(e,t?120:121);break;default:Lo(e,127)}};class RW extends FT{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&Kn(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const IW=e=>{e.count>0&&(X9(e.encoder,e.count===1?e.s:-e.s),e.count>1&&Kn(e.encoder,e.count-2))};class QA{constructor(){this.encoder=new FT,this.s=0,this.count=0}write(t){this.s===t?this.count++:(IW(this),this.count=1,this.s=t)}toUint8Array(){return IW(this),cu(this.encoder)}}const PW=e=>{if(e.count>0){const t=e.diff*2+(e.count===1?0:1);X9(e.encoder,t),e.count>1&&Kn(e.encoder,e.count-2)}};class vP{constructor(){this.encoder=new FT,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(PW(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return PW(this),cu(this.encoder)}}class d5e{constructor(){this.sarr=[],this.s="",this.lensE=new QA}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new FT;return this.sarr.push(this.s),this.s="",Hv(t,this.sarr.join("")),WD(t,this.lensE.toUint8Array()),cu(t)}}const om=e=>new Error(e),mu=()=>{throw om("Method unimplemented")},Rl=()=>{throw om("Unexpected case")},Sce=om("Unexpected end of array"),Cce=om("Integer out of Range");class YD{constructor(t){this.arr=t,this.pos=0}}const cx=e=>new YD(e),f5e=e=>e.pos!==e.arr.length,h5e=(e,t)=>{const n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},gl=e=>h5e(e,Bn(e)),y1=e=>e.arr[e.pos++],Bn=e=>{let t=0,n=1;const r=e.arr.length;for(;e.pos<r;){const i=e.arr[e.pos++];if(t=t+(i&y0)*n,n*=128,i<rs)return t;if(t>Ece)throw Cce}throw Sce},Q9=e=>{let t=e.arr[e.pos++],n=t&DB,r=64;const i=(t&Uf)>0?-1:1;if((t&rs)===0)return i*n;const o=e.arr.length;for(;e.pos<o;){if(t=e.arr[e.pos++],n=n+(t&y0)*r,r*=128,t<rs)return i*n;if(n>Ece)throw Cce}throw Sce},p5e=e=>{let t=Bn(e);if(t===0)return"";{let n=String.fromCodePoint(y1(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(y1(e));else for(;t>0;){const r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))}},m5e=e=>xS.decode(gl(e)),Fv=xS?m5e:p5e,J9=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},g5e=e=>J9(e,4).getFloat32(0,!1),y5e=e=>J9(e,8).getFloat64(0,!1),b5e=e=>J9(e,8).getBigInt64(0,!1),v5e=[e=>{},e=>null,Q9,g5e,y5e,b5e,e=>!1,e=>!0,Fv,e=>{const t=Bn(e),n={};for(let r=0;r<t;r++){const i=Fv(e);n[i]=hC(e)}return n},e=>{const t=Bn(e),n=[];for(let r=0;r<t;r++)n.push(hC(e));return n},gl],hC=e=>v5e[127-y1(e)](e);class LW extends YD{constructor(t,n){super(t),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),f5e(this)?this.count=Bn(this)+1:this.count=-1),this.count--,this.s}}class JA extends YD{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=Q9(this);const t=wce(this.s);this.count=1,t&&(this.s=-this.s,this.count=Bn(this)+2)}return this.count--,this.s}}class xP extends YD{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=Q9(this),n=t&1;this.diff=Jf(t/2),this.count=1,n&&(this.count=Bn(this)+2)}return this.s+=this.diff,this.count--,this.s}}class x5e{constructor(t){this.decoder=new JA(t),this.str=Fv(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),n=this.str.slice(this.spos,t);return this.spos=t,n}}const w5e=crypto.getRandomValues.bind(crypto),E5e=Math.random,Tce=()=>w5e(new Uint32Array(1))[0],S5e=e=>e[Jf(E5e()*e.length)],C5e="10000000-1000-4000-8000"+-1e11,T5e=()=>C5e.replace(/[018]/g,e=>(e^Tce()&15>>e/4).toString(16)),k5e=Date.now,jW=e=>new Promise(e);Promise.all.bind(Promise);const BW=e=>e===void 0?null:e;class _5e{constructor(){this.map=new Map}setItem(t,n){this.map.set(t,n)}getItem(t){return this.map.get(t)}}let kce=new _5e,A5e=!0;try{typeof localStorage<"u"&&localStorage&&(kce=localStorage,A5e=!1)}catch{}const N5e=kce,O5e=Object.assign,_ce=Object.keys,M5e=(e,t)=>{for(const n in e)t(e[n],n)},$W=e=>_ce(e).length,D5e=e=>{for(const t in e)return!1;return!0},Ace=(e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0},R5e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),I5e=(e,t)=>e===t||$W(e)===$W(t)&&Ace(e,(n,r)=>(n!==void 0||R5e(t,r))&&t[r]===n),P5e=Object.freeze,Nce=e=>{for(const t in e){const n=e[t];(typeof n=="object"||typeof n=="function")&&Nce(e[t])}return P5e(e)},eF=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&eF(e,t,n+1)}},L5e=e=>e,j5e=(e,t)=>t.includes(e);var Oce={};const b1=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",Mce=typeof window<"u"&&typeof document<"u"&&!b1;let sd;const B5e=()=>{if(sd===void 0)if(b1){sd=pc();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];r[0]==="-"?(t!==null&&sd.set(t,""),t=r):t!==null&&(sd.set(t,r),t=null)}t!==null&&sd.set(t,"")}else typeof location=="object"?(sd=pc(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){const[t,n]=e.split("=");sd.set(`--${MW(t,"-")}`,n),sd.set(`-${MW(t,"-")}`,n)}})):sd=pc();return sd},PB=e=>B5e().has(e),HN=e=>BW(b1?Oce[e.toUpperCase().replaceAll("-","_")]:N5e.getItem(e)),Dce=e=>PB("--"+e)||HN(e)!==null;Dce("production");const $5e=b1&&j5e(Oce.FORCE_COLOR,["true","1","2"]),H5e=$5e||!PB("--no-colors")&&!Dce("no-color")&&(!b1||process.stdout.isTTY)&&(!b1||PB("--color")||HN("COLORTERM")!==null||(HN("TERM")||"").includes("color")),F5e=e=>new Uint8Array(e),U5e=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=Yje(e[n]);return btoa(t)},z5e=e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),V5e=Mce?U5e:z5e,q5e=e=>{const t=F5e(e.byteLength);return t.set(e),t},W5e=e=>t5e(t=>g1(t,e));class Y5e{constructor(t,n){this.left=t,this.right=n}}const vf=(e,t)=>new Y5e(e,t),G5e=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const K5e=e=>Hje(e,(t,n)=>`${n}:${t};`).join(""),X5e=e=>class{constructor(n){this._=n}destroy(){e(this._)}},Z5e=X5e(clearTimeout),tF=(e,t)=>new Z5e(setTimeout(t,e)),ch=Symbol,Rce=ch(),Ice=ch(),Q5e=ch(),J5e=ch(),e6e=ch(),Pce=ch(),t6e=ch(),nF=ch(),n6e=ch(),r6e=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[];let r=0;for(;r<e.length;r++){const i=e[r];if(i===void 0)break;if(i.constructor===String||i.constructor===Number)t.push(i);else if(i.constructor===Object)break}for(r>0&&n.push(t.join(""));r<e.length;r++){const i=e[r];i instanceof Symbol||n.push(i)}return n},i6e={[Rce]:vf("font-weight","bold"),[Ice]:vf("font-weight","normal"),[Q5e]:vf("color","blue"),[e6e]:vf("color","green"),[J5e]:vf("color","grey"),[Pce]:vf("color","red"),[t6e]:vf("color","purple"),[nF]:vf("color","orange"),[n6e]:vf("color","black")},o6e=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[],r=pc();let i=[],o=0;for(;o<e.length;o++){const a=e[o],s=i6e[a];if(s!==void 0)r.set(s.left,s.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const l=K5e(r);o>0||l.length>0?(t.push("%c"+a),n.push(l)):t.push(a)}else break}}for(o>0&&(i=n,i.unshift(t.join("")));o<e.length;o++){const a=e[o];a instanceof Symbol||i.push(a)}return i},Lce=H5e?o6e:r6e,a6e=(...e)=>{console.log(...Lce(e)),Bce.forEach(t=>t.print(e))},jce=(...e)=>{console.warn(...Lce(e)),e.unshift(nF),Bce.forEach(t=>t.print(e))},Bce=B0(),$ce=e=>({[Symbol.iterator](){return this},next:e}),s6e=(e,t)=>$ce(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),wP=(e,t)=>$ce(()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}});class rF{constructor(t,n){this.clock=t,this.len=n}}class ux{constructor(){this.clients=new Map}}const am=(e,t,n)=>t.clients.forEach((r,i)=>{const o=e.doc.store.clients.get(i);if(o!=null){const a=o[o.length-1],s=a.id.clock+a.length;for(let l=0,c=r[l];l<r.length&&c.clock<s;c=r[++l])Jce(e,o,c.clock,c.len,n)}}),l6e=(e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const i=Jf((n+r)/2),o=e[i],a=o.clock;if(a<=t){if(t<a+o.len)return i;n=i+1}else r=i-1}return null},dx=(e,t)=>{const n=e.clients.get(t.client);return n!==void 0&&l6e(n,t.clock)!==null},iF=e=>{e.clients.forEach(t=>{t.sort((i,o)=>i.clock-o.clock);let n,r;for(n=1,r=1;n<t.length;n++){const i=t[r-1],o=t[n];i.clock+i.len>=o.clock?i.len=vu(i.len,o.clock+o.len-i.clock):(r<n&&(t[r]=o),r++)}t.length=r})},LB=e=>{const t=new ux;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,i)=>{if(!t.clients.has(i)){const o=r.slice();for(let a=n+1;a<e.length;a++)Uje(o,e[a].clients.get(i)||[]);t.clients.set(i,o)}});return iF(t),t},pC=(e,t,n,r)=>{Bd(e.clients,t,()=>[]).push(new rF(n,r))},Hce=()=>new ux,Fce=e=>{const t=Hce();return e.clients.forEach((n,r)=>{const i=[];for(let o=0;o<n.length;o++){const a=n[o];if(a.deleted){const s=a.id.clock;let l=a.length;if(o+1<n.length)for(let c=n[o+1];o+1<n.length&&c.deleted;c=n[++o+1])l+=c.length;i.push(new rF(s,l))}}i.length>0&&t.clients.set(r,i)}),t},fx=(e,t)=>{Kn(e.restEncoder,t.clients.size),im(t.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{e.resetDsCurVal(),Kn(e.restEncoder,n);const i=r.length;Kn(e.restEncoder,i);for(let o=0;o<i;o++){const a=r[o];e.writeDsClock(a.clock),e.writeDsLen(a.len)}})},oF=e=>{const t=new ux,n=Bn(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const i=Bn(e.restDecoder),o=Bn(e.restDecoder);if(o>0){const a=Bd(t.clients,i,()=>[]);for(let s=0;s<o;s++)a.push(new rF(e.readDsClock(),e.readDsLen()))}}return t},HW=(e,t,n)=>{const r=new ux,i=Bn(e.restDecoder);for(let o=0;o<i;o++){e.resetDsCurVal();const a=Bn(e.restDecoder),s=Bn(e.restDecoder),l=n.clients.get(a)||[],c=Yi(n,a);for(let d=0;d<s;d++){const u=e.readDsClock(),p=u+e.readDsLen();if(u<c){c<p&&pC(r,a,c,p-c);let m=Sc(l,u),v=l[m];for(!v.deleted&&v.id.clock<u&&(l.splice(m+1,0,YN(t,v,u-v.id.clock)),m++);m<l.length&&(v=l[m++],v.id.clock<p);)v.deleted||(p<v.id.clock+v.length&&l.splice(m,0,YN(t,v,p-v.id.clock)),v.delete(t))}else pC(r,a,u,p-u)}}if(r.clients.size>0){const o=new $0;return Kn(o.restEncoder,0),fx(o,r),o.toUint8Array()}return null},Uce=Tce;class mm extends xce{constructor({guid:t=T5e(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:a=!1,shouldLoad:s=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=Uce(),this.guid=t,this.collectionid=n,this.share=new Map,this.store=new Zce,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=s,this.autoLoad=a,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=jW(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const l=()=>jW(c=>{const d=u=>{(u===void 0||u===!0)&&(this.off("sync",d),c())};this.on("sync",d)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){const t=this._item;t!==null&&!this.shouldLoad&&zr(t.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(im(this.subdocs).map(t=>t.guid))}transact(t,n=null){return zr(this,t,n)}get(t,n=$o){const r=Bd(this.share,t,()=>{const o=new n;return o._integrate(this,null),o}),i=r.constructor;if(n!==$o&&i!==n)if(i===$o){const o=new n;o._map=r._map,r._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=o}),o._start=r._start;for(let a=o._start;a!==null;a=a.right)a.parent=o;return o._length=r._length,this.share.set(t,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return r}getArray(t=""){return this.get(t,Vv)}getText(t=""){return this.get(t,sm)}getMap(t=""){return this.get(t,x1)}getXmlElement(t=""){return this.get(t,ea)}getXmlFragment(t=""){return this.get(t,lm)}toJSON(){const t={};return this.share.forEach((n,r)=>{t[r]=n.toJSON()}),t}destroy(){this.isDestroyed=!0,im(this.subdocs).forEach(n=>n.destroy());const t=this._item;if(t!==null){this._item=null;const n=t.content;n.doc=new mm({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=t,zr(t.parent.doc,r=>{const i=n.doc;t.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class zce{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return Bn(this.restDecoder)}readDsLen(){return Bn(this.restDecoder)}}class Vce extends zce{readLeftID(){return vn(Bn(this.restDecoder),Bn(this.restDecoder))}readRightID(){return vn(Bn(this.restDecoder),Bn(this.restDecoder))}readClient(){return Bn(this.restDecoder)}readInfo(){return y1(this.restDecoder)}readString(){return Fv(this.restDecoder)}readParentInfo(){return Bn(this.restDecoder)===1}readTypeRef(){return Bn(this.restDecoder)}readLen(){return Bn(this.restDecoder)}readAny(){return hC(this.restDecoder)}readBuf(){return q5e(gl(this.restDecoder))}readJSON(){return JSON.parse(Fv(this.restDecoder))}readKey(){return Fv(this.restDecoder)}}class c6e{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Bn(this.restDecoder),this.dsCurrVal}readDsLen(){const t=Bn(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class v1 extends c6e{constructor(t){super(t),this.keys=[],Bn(t),this.keyClockDecoder=new xP(gl(t)),this.clientDecoder=new JA(gl(t)),this.leftClockDecoder=new xP(gl(t)),this.rightClockDecoder=new xP(gl(t)),this.infoDecoder=new LW(gl(t),y1),this.stringDecoder=new x5e(gl(t)),this.parentInfoDecoder=new LW(gl(t),y1),this.typeRefDecoder=new JA(gl(t)),this.lenDecoder=new JA(gl(t))}readLeftID(){return new Uv(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Uv(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return hC(this.restDecoder)}readBuf(){return gl(this.restDecoder)}readJSON(){return hC(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class qce{constructor(){this.restEncoder=UT()}toUint8Array(){return cu(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){Kn(this.restEncoder,t)}writeDsLen(t){Kn(this.restEncoder,t)}}class zT extends qce{writeLeftID(t){Kn(this.restEncoder,t.client),Kn(this.restEncoder,t.clock)}writeRightID(t){Kn(this.restEncoder,t.client),Kn(this.restEncoder,t.clock)}writeClient(t){Kn(this.restEncoder,t)}writeInfo(t){RB(this.restEncoder,t)}writeString(t){Hv(this.restEncoder,t)}writeParentInfo(t){Kn(this.restEncoder,t?1:0)}writeTypeRef(t){Kn(this.restEncoder,t)}writeLen(t){Kn(this.restEncoder,t)}writeAny(t){g1(this.restEncoder,t)}writeBuf(t){ml(this.restEncoder,t)}writeJSON(t){Hv(this.restEncoder,JSON.stringify(t))}writeKey(t){Hv(this.restEncoder,t)}}class Wce{constructor(){this.restEncoder=UT(),this.dsCurrVal=0}toUint8Array(){return cu(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const n=t-this.dsCurrVal;this.dsCurrVal=t,Kn(this.restEncoder,n)}writeDsLen(t){t===0&&Rl(),Kn(this.restEncoder,t-1),this.dsCurrVal+=t}}class $0 extends Wce{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new vP,this.clientEncoder=new QA,this.leftClockEncoder=new vP,this.rightClockEncoder=new vP,this.infoEncoder=new RW(RB),this.stringEncoder=new d5e,this.parentInfoEncoder=new RW(RB),this.typeRefEncoder=new QA,this.lenEncoder=new QA}toUint8Array(){const t=UT();return Kn(t,0),ml(t,this.keyClockEncoder.toUint8Array()),ml(t,this.clientEncoder.toUint8Array()),ml(t,this.leftClockEncoder.toUint8Array()),ml(t,this.rightClockEncoder.toUint8Array()),ml(t,cu(this.infoEncoder)),ml(t,this.stringEncoder.toUint8Array()),ml(t,cu(this.parentInfoEncoder)),ml(t,this.typeRefEncoder.toUint8Array()),ml(t,this.lenEncoder.toUint8Array()),WD(t,cu(this.restEncoder)),cu(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){g1(this.restEncoder,t)}writeBuf(t){ml(this.restEncoder,t)}writeJSON(t){g1(this.restEncoder,t)}writeKey(t){const n=this.keyMap.get(t);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(n)}}const u6e=(e,t,n,r)=>{r=vu(r,t[0].id.clock);const i=Sc(t,r);Kn(e.restEncoder,t.length-i),e.writeClient(n),Kn(e.restEncoder,r);const o=t[i];o.write(e,r-o.id.clock);for(let a=i+1;a<t.length;a++)t[a].write(e,0)},aF=(e,t,n)=>{const r=new Map;n.forEach((i,o)=>{Yi(t,o)>i&&r.set(o,i)}),VT(t).forEach((i,o)=>{n.has(o)||r.set(o,0)}),Kn(e.restEncoder,r.size),im(r.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{u6e(e,t.clients.get(i),i,o)})},d6e=(e,t)=>{const n=pc(),r=Bn(e.restDecoder);for(let i=0;i<r;i++){const o=Bn(e.restDecoder),a=new Array(o),s=e.readClient();let l=Bn(e.restDecoder);n.set(s,{i:0,refs:a});for(let c=0;c<o;c++){const d=e.readInfo();switch(qD&d){case 0:{const u=e.readLen();a[c]=new lc(vn(s,l),u),l+=u;break}case 10:{const u=Bn(e.restDecoder);a[c]=new cc(vn(s,l),u),l+=u;break}default:{const u=(d&(Uf|rs))===0,p=new oi(vn(s,l),null,(d&rs)===rs?e.readLeftID():null,null,(d&Uf)===Uf?e.readRightID():null,u?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,u&&(d&dC)===dC?e.readString():null,wue(e,d));a[c]=p,l+=p.length}}}}return n},f6e=(e,t,n)=>{const r=[];let i=im(n.keys()).sort((m,v)=>m-v);if(i.length===0)return null;const o=()=>{if(i.length===0)return null;let m=n.get(i[i.length-1]);for(;m.refs.length===m.i;)if(i.pop(),i.length>0)m=n.get(i[i.length-1]);else return null;return m};let a=o();if(a===null)return null;const s=new Zce,l=new Map,c=(m,v)=>{const x=l.get(m);(x==null||x>v)&&l.set(m,v)};let d=a.refs[a.i++];const u=new Map,p=()=>{for(const m of r){const v=m.id.client,x=n.get(v);x?(x.i--,s.clients.set(v,x.refs.slice(x.i)),n.delete(v),x.i=0,x.refs=[]):s.clients.set(v,[m]),i=i.filter(w=>w!==v)}r.length=0};for(;;){if(d.constructor!==cc){const v=Bd(u,d.id.client,()=>Yi(t,d.id.client))-d.id.clock;if(v<0)r.push(d),c(d.id.client,d.id.clock-1),p();else{const x=d.getMissing(e,t);if(x!==null){r.push(d);const w=n.get(x)||{refs:[],i:0};if(w.refs.length===w.i)c(x,Yi(t,x)),p();else{d=w.refs[w.i++];continue}}else(v===0||v<d.length)&&(d.integrate(e,v),u.set(d.id.client,d.id.clock+d.length))}}if(r.length>0)d=r.pop();else if(a!==null&&a.i<a.refs.length)d=a.refs[a.i++];else{if(a=o(),a===null)break;d=a.refs[a.i++]}}if(s.clients.size>0){const m=new $0;return aF(m,s,new Map),Kn(m.restEncoder,0),{missing:l,update:m.toUint8Array()}}return null},h6e=(e,t)=>aF(e,t.doc.store,t.beforeState),p6e=(e,t,n,r=new v1(e))=>zr(t,i=>{i.local=!1;let o=!1;const a=i.doc,s=a.store,l=d6e(r,a),c=f6e(i,s,l),d=s.pendingStructs;if(d){for(const[p,m]of d.missing)if(m<Yi(s,p)){o=!0;break}if(c){for(const[p,m]of c.missing){const v=d.missing.get(p);(v==null||v>m)&&d.missing.set(p,m)}d.update=UN([d.update,c.update])}}else s.pendingStructs=c;const u=HW(r,i,s);if(s.pendingDs){const p=new v1(cx(s.pendingDs));Bn(p.restDecoder);const m=HW(p,i,s);u&&m?s.pendingDs=UN([u,m]):s.pendingDs=u||m}else s.pendingDs=u;if(o){const p=s.pendingStructs.update;s.pendingStructs=null,FN(i.doc,p)}},n,!1),FN=(e,t,n,r=v1)=>{const i=cx(t);p6e(i,e,n,new r(i))},FW=(e,t,n)=>FN(e,t,n,Vce),m6e=(e,t,n=new Map)=>{aF(e,t.store,n),fx(e,Fce(t.store))},g6e=(e,t=new Uint8Array([0]),n=new $0)=>{const r=Yce(t);m6e(n,e,r);const i=[n.toUint8Array()];if(e.store.pendingDs&&i.push(e.store.pendingDs),e.store.pendingStructs&&i.push(P6e(e.store.pendingStructs.update,t)),i.length>1){if(n.constructor===zT)return R6e(i.map((o,a)=>a===0?o:j6e(o)));if(n.constructor===$0)return UN(i)}return i[0]},UW=(e,t)=>g6e(e,t,new zT),y6e=e=>{const t=new Map,n=Bn(e.restDecoder);for(let r=0;r<n;r++){const i=Bn(e.restDecoder),o=Bn(e.restDecoder);t.set(i,o)}return t},Yce=e=>y6e(new zce(cx(e))),Gce=(e,t)=>(Kn(e.restEncoder,t.size),im(t.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{Kn(e.restEncoder,n),Kn(e.restEncoder,r)}),e),b6e=(e,t)=>Gce(e,VT(t.store)),v6e=(e,t=new Wce)=>(e instanceof Map?Gce(t,e):b6e(t,e),t.toUint8Array()),x6e=e=>v6e(e,new qce);class w6e{constructor(){this.l=[]}}const zW=()=>new w6e,VW=(e,t)=>e.l.push(t),qW=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter(i=>t!==i),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Kce=(e,t,n)=>eF(e.l,[t,n]);class Uv{constructor(t,n){this.client=t,this.clock=n}}const _v=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,vn=(e,t)=>new Uv(e,t),mC=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw Rl()},gC=(e,t)=>{for(;t!==null;){if(t.parent===e)return!0;t=t.parent._item}return!1};class yC{constructor(t,n,r,i=0){this.type=t,this.tname=n,this.item=r,this.assoc=i}}const wS=e=>new yC(e.type==null?null:vn(e.type.client,e.type.clock),e.tname??null,e.item==null?null:vn(e.item.client,e.item.clock),e.assoc==null?0:e.assoc);class E6e{constructor(t,n,r=0){this.type=t,this.index=n,this.assoc=r}}const S6e=(e,t,n=0)=>new E6e(e,t,n),iA=(e,t,n)=>{let r=null,i=null;return e._item===null?i=mC(e):r=vn(e._item.id.client,e._item.id.clock),new yC(r,i,t,n)},EP=(e,t,n=0)=>{let r=e._start;if(n<0){if(t===0)return iA(e,null,n);t--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>t)return iA(e,vn(r.id.client,r.id.clock+t),n);t-=r.length}if(r.right===null&&n<0)return iA(e,r.lastId,n);r=r.right}return iA(e,null,n)},C6e=(e,t)=>{const n=zv(e,t),r=t.clock-n.id.clock;return{item:n,diff:r}},T6e=(e,t,n=!0)=>{const r=t.store,i=e.item,o=e.type,a=e.tname,s=e.assoc;let l=null,c=0;if(i!==null){if(Yi(r,i.client)<=i.clock)return null;const d=n?HB(r,i):C6e(r,i),u=d.item;if(!(u instanceof oi))return null;if(l=u.parent,l._item===null||!l._item.deleted){c=u.deleted||!u.countable?0:d.diff+(s>=0?0:1);let p=u.left;for(;p!==null;)!p.deleted&&p.countable&&(c+=p.length),p=p.left}}else{if(a!==null)l=t.get(a);else if(o!==null){if(Yi(r,o.client)<=o.clock)return null;const{item:d}=n?HB(r,o):{item:zv(r,o)};if(d instanceof oi&&d.content instanceof Tu)l=d.content.type;else return null}else throw Rl();s>=0?c=l._length:c=0}return S6e(l,c,e.assoc)},WW=(e,t)=>e===t||e!==null&&t!==null&&e.tname===t.tname&&_v(e.item,t.item)&&_v(e.type,t.type)&&e.assoc===t.assoc;class sF{constructor(t,n){this.ds=t,this.sv=n}}const Xce=(e,t)=>new sF(e,t),SP=e=>Xce(Fce(e.store),VT(e.store)),Zg=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!dx(t.ds,e.id),jB=(e,t)=>{const n=Bd(e.meta,jB,B0),r=e.doc.store;n.has(t)||(t.sv.forEach((i,o)=>{i<Yi(r,o)&&$s(e,vn(o,i))}),am(e,t.ds,i=>{}),n.add(t))};class Zce{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const VT=e=>{const t=new Map;return e.clients.forEach((n,r)=>{const i=n[n.length-1];t.set(r,i.id.clock+i.length)}),t},Yi=(e,t)=>{const n=e.clients.get(t);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},Qce=(e,t)=>{let n=e.clients.get(t.id.client);if(n===void 0)n=[],e.clients.set(t.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw Rl()}n.push(t)},Sc=(e,t)=>{let n=0,r=e.length-1,i=e[r],o=i.id.clock;if(o===t)return r;let a=Jf(t/(o+i.length-1)*r);for(;n<=r;){if(i=e[a],o=i.id.clock,o<=t){if(t<o+i.length)return a;n=a+1}else r=a-1;a=Jf((n+r)/2)}throw Rl()},k6e=(e,t)=>{const n=e.clients.get(t.client);return n[Sc(n,t.clock)]},zv=k6e,BB=(e,t,n)=>{const r=Sc(t,n),i=t[r];return i.id.clock<n&&i instanceof oi?(t.splice(r+1,0,YN(e,i,n-i.id.clock)),r+1):r},$s=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[BB(e,n,t.clock)]},YW=(e,t,n)=>{const r=t.clients.get(n.client),i=Sc(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==lc&&r.splice(i+1,0,YN(e,o,n.clock-o.id.clock+1)),o},_6e=(e,t,n)=>{const r=e.clients.get(t.id.client);r[Sc(r,t.id.clock)]=n},Jce=(e,t,n,r,i)=>{if(r===0)return;const o=n+r;let a=BB(e,t,n),s;do s=t[a++],o<s.id.clock+s.length&&BB(e,t,o),i(s);while(a<t.length&&t[a].id.clock<o)};class A6e{constructor(t,n,r){this.doc=t,this.deleteSet=new ux,this.beforeState=VT(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const GW=(e,t)=>t.deleteSet.clients.size===0&&!Fje(t.afterState,(n,r)=>t.beforeState.get(r)!==n)?!1:(iF(t.deleteSet),h6e(e,t),fx(e,t.deleteSet),!0),KW=(e,t,n)=>{const r=t._item;(r===null||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&Bd(e.changed,t,B0).add(n)},eN=(e,t)=>{let n=e[t],r=e[t-1],i=t;for(;i>0;n=r,r=e[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof oi&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const o=t-i;return o&&e.splice(t+1-o,o),o},N6e=(e,t,n)=>{for(const[r,i]of e.clients.entries()){const o=t.clients.get(r);for(let a=i.length-1;a>=0;a--){const s=i[a],l=s.clock+s.len;for(let c=Sc(o,s.clock),d=o[c];c<o.length&&d.id.clock<l;d=o[++c]){const u=o[c];if(s.clock+s.len<=u.id.clock)break;u instanceof oi&&u.deleted&&!u.keep&&n(u)&&u.gc(t,!1)}}}},O6e=(e,t)=>{e.clients.forEach((n,r)=>{const i=t.clients.get(r);for(let o=n.length-1;o>=0;o--){const a=n[o],s=Ff(i.length-1,1+Sc(i,a.clock+a.len-1));for(let l=s,c=i[l];l>0&&c.id.clock>=a.clock;c=i[l])l-=1+eN(i,l)}})},eue=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,i=r.store,o=n.deleteSet,a=n._mergeStructs;try{iF(o),n.afterState=VT(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const s=[];n.changed.forEach((l,c)=>s.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,l)})),s.push(()=>{n.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(d=>d.target._item===null||!d.target._item.deleted),l.forEach(d=>{d.currentTarget=c,d._path=null}),l.sort((d,u)=>d.path.length-u.path.length),Kce(c._dEH,l,n))})}),s.push(()=>r.emit("afterTransaction",[n,r])),eF(s,[]),n._needFormattingCleanup&&Z6e(n)}finally{r.gc&&N6e(o,i,r.gcFilter),O6e(o,i),n.afterState.forEach((d,u)=>{const p=n.beforeState.get(u)||0;if(p!==d){const m=i.clients.get(u),v=vu(Sc(m,p),1);for(let x=m.length-1;x>=v;)x-=1+eN(m,x)}});for(let d=a.length-1;d>=0;d--){const{client:u,clock:p}=a[d].id,m=i.clients.get(u),v=Sc(m,p);v+1<m.length&&eN(m,v+1)>1||v>0&&eN(m,v)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(a6e(nF,Rce,"[yjs] ",Ice,Pce,"Changed the client-id because another client seems to be using it."),r.clientID=Uce()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const d=new zT;GW(d,n)&&r.emit("update",[d.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const d=new $0;GW(d,n)&&r.emit("updateV2",[d.toUint8Array(),n.origin,r,n])}const{subdocsAdded:s,subdocsLoaded:l,subdocsRemoved:c}=n;(s.size>0||c.size>0||l.size>0)&&(s.forEach(d=>{d.clientID=r.clientID,d.collectionid==null&&(d.collectionid=r.collectionid),r.subdocs.add(d)}),c.forEach(d=>r.subdocs.delete(d)),r.emit("subdocs",[{loaded:l,added:s,removed:c},r,n]),c.forEach(d=>d.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):eue(e,t+1)}}},zr=(e,t,n=null,r=!0)=>{const i=e._transactionCleanups;let o=!1,a=null;e._transaction===null&&(o=!0,e._transaction=new A6e(e,n,r),i.push(e._transaction),i.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{a=t(e._transaction)}finally{if(o){const s=e._transaction===i[0];e._transaction=null,s&&eue(i,0)}}return a};class M6e{constructor(t,n){this.insertions=n,this.deletions=t,this.meta=new Map}}const XW=(e,t,n)=>{am(e,n.deletions,r=>{r instanceof oi&&t.scope.some(i=>i===e.doc||gC(i,r))&&mF(r,!1)})},ZW=(e,t,n)=>{let r=null;const i=e.doc,o=e.scope;zr(i,s=>{for(;t.length>0&&e.currStackItem===null;){const l=i.store,c=t.pop(),d=new Set,u=[];let p=!1;am(s,c.insertions,m=>{if(m instanceof oi){if(m.redone!==null){let{item:v,diff:x}=HB(l,m.id);x>0&&(v=$s(s,vn(v.id.client,v.id.clock+x))),m=v}!m.deleted&&o.some(v=>v===s.doc||gC(v,m))&&u.push(m)}}),am(s,c.deletions,m=>{m instanceof oi&&o.some(v=>v===s.doc||gC(v,m))&&!dx(c.insertions,m.id)&&d.add(m)}),d.forEach(m=>{p=xue(s,m,d,c.insertions,e.ignoreRemoteMapChanges,e)!==null||p});for(let m=u.length-1;m>=0;m--){const v=u[m];e.deleteFilter(v)&&(v.delete(s),p=!0)}e.currStackItem=p?c:null}s.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),r=s},e);const a=e.currStackItem;if(a!=null){const s=r.changedParentTypes;e.emit("stack-item-popped",[{stackItem:a,type:n,changedParentTypes:s,origin:e},e]),e.currStackItem=null}return a};class tue extends xce{constructor(t,{captureTimeout:n=500,captureTransaction:r=l=>!0,deleteFilter:i=()=>!0,trackedOrigins:o=new Set([null]),ignoreRemoteMapChanges:a=!1,doc:s=MB(t)?t[0].doc:t instanceof mm?t:t.doc}={}){super(),this.scope=[],this.doc=s,this.addToScope(t),this.deleteFilter=i,o.add(this),this.trackedOrigins=o,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=a,this.captureTimeout=n,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(w=>l.changedParentTypes.has(w)||w===this.doc)||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const c=this.undoing,d=this.redoing,u=c?this.redoStack:this.undoStack;c?this.stopCapturing():d||this.clear(!1,!0);const p=new ux;l.afterState.forEach((w,T)=>{const k=l.beforeState.get(T)||0,N=w-k;N>0&&pC(p,T,k,N)});const m=k5e();let v=!1;if(this.lastChange>0&&m-this.lastChange<this.captureTimeout&&u.length>0&&!c&&!d){const w=u[u.length-1];w.deletions=LB([w.deletions,l.deleteSet]),w.insertions=LB([w.insertions,p])}else u.push(new M6e(l.deleteSet,p)),v=!0;!c&&!d&&(this.lastChange=m),am(l,l.deleteSet,w=>{w instanceof oi&&this.scope.some(T=>T===l.doc||gC(T,w))&&mF(w,!0)});const x=[{stackItem:u[u.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];v?this.emit("stack-item-added",x):this.emit("stack-item-updated",x)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(t){const n=new Set(this.scope);t=MB(t)?t:[t],t.forEach(r=>{n.has(r)||(n.add(r),(r instanceof $o?r.doc!==this.doc:r!==this.doc)&&jce("[yjs#509] Not same Y.Doc"),this.scope.push(r))})}addTrackedOrigin(t){this.trackedOrigins.add(t)}removeTrackedOrigin(t){this.trackedOrigins.delete(t)}clear(t=!0,n=!0){(t&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{t&&(this.undoStack.forEach(i=>XW(r,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>XW(r,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:t,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let t;try{t=ZW(this,this.undoStack,"undo")}finally{this.undoing=!1}return t}redo(){this.redoing=!0;let t;try{t=ZW(this,this.redoStack,"redo")}finally{this.redoing=!1}return t}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*D6e(e){const t=Bn(e.restDecoder);for(let n=0;n<t;n++){const r=Bn(e.restDecoder),i=e.readClient();let o=Bn(e.restDecoder);for(let a=0;a<r;a++){const s=e.readInfo();if(s===10){const l=Bn(e.restDecoder);yield new cc(vn(i,o),l),o+=l}else if((qD&s)!==0){const l=(s&(Uf|rs))===0,c=new oi(vn(i,o),null,(s&rs)===rs?e.readLeftID():null,null,(s&Uf)===Uf?e.readRightID():null,l?e.readParentInfo()?e.readString():e.readLeftID():null,l&&(s&dC)===dC?e.readString():null,wue(e,s));yield c,o+=c.length}else{const l=e.readLen();yield new lc(vn(i,o),l),o+=l}}}}class lF{constructor(t,n){this.gen=D6e(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===cc);return this.curr}}class cF{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const R6e=e=>UN(e,Vce,zT),I6e=(e,t)=>{if(e.constructor===lc){const{client:n,clock:r}=e.id;return new lc(vn(n,r+t),e.length-t)}else if(e.constructor===cc){const{client:n,clock:r}=e.id;return new cc(vn(n,r+t),e.length-t)}else{const n=e,{client:r,clock:i}=n.id;return new oi(vn(r,i+t),null,vn(r,i+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},UN=(e,t=v1,n=$0)=>{if(e.length===1)return e[0];const r=e.map(d=>new t(cx(d)));let i=r.map(d=>new lF(d,!0)),o=null;const a=new n,s=new cF(a);for(;i=i.filter(p=>p.curr!==null),i.sort((p,m)=>{if(p.curr.id.client===m.curr.id.client){const v=p.curr.id.clock-m.curr.id.clock;return v===0?p.curr.constructor===m.curr.constructor?0:p.curr.constructor===cc?1:-1:v}else return m.curr.id.client-p.curr.id.client}),i.length!==0;){const d=i[0],u=d.curr.id.client;if(o!==null){let p=d.curr,m=!1;for(;p!==null&&p.id.clock+p.length<=o.struct.id.clock+o.struct.length&&p.id.client>=o.struct.id.client;)p=d.next(),m=!0;if(p===null||p.id.client!==u||m&&p.id.clock>o.struct.id.clock+o.struct.length)continue;if(u!==o.struct.id.client)Np(s,o.struct,o.offset),o={struct:p,offset:0},d.next();else if(o.struct.id.clock+o.struct.length<p.id.clock)if(o.struct.constructor===cc)o.struct.length=p.id.clock+p.length-o.struct.id.clock;else{Np(s,o.struct,o.offset);const v=p.id.clock-o.struct.id.clock-o.struct.length;o={struct:new cc(vn(u,o.struct.id.clock+o.struct.length),v),offset:0}}else{const v=o.struct.id.clock+o.struct.length-p.id.clock;v>0&&(o.struct.constructor===cc?o.struct.length-=v:p=I6e(p,v)),o.struct.mergeWith(p)||(Np(s,o.struct,o.offset),o={struct:p,offset:0},d.next())}}else o={struct:d.curr,offset:0},d.next();for(let p=d.curr;p!==null&&p.id.client===u&&p.id.clock===o.struct.id.clock+o.struct.length&&p.constructor!==cc;p=d.next())Np(s,o.struct,o.offset),o={struct:p,offset:0}}o!==null&&(Np(s,o.struct,o.offset),o=null),uF(s);const l=r.map(d=>oF(d)),c=LB(l);return fx(a,c),a.toUint8Array()},P6e=(e,t,n=v1,r=$0)=>{const i=Yce(t),o=new r,a=new cF(o),s=new n(cx(e)),l=new lF(s,!1);for(;l.curr;){const d=l.curr,u=d.id.client,p=i.get(u)||0;if(l.curr.constructor===cc){l.next();continue}if(d.id.clock+d.length>p)for(Np(a,d,vu(p-d.id.clock,0)),l.next();l.curr&&l.curr.id.client===u;)Np(a,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===u&&l.curr.id.clock+l.curr.length<=p;)l.next()}uF(a);const c=oF(s);return fx(o,c),o.toUint8Array()},nue=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:cu(e.encoder.restEncoder)}),e.encoder.restEncoder=UT(),e.written=0)},Np=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&nue(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),Kn(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},uF=e=>{nue(e);const t=e.encoder.restEncoder;Kn(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];Kn(t,r.written),WD(t,r.restEncoder)}},L6e=(e,t,n,r)=>{const i=new n(cx(e)),o=new lF(i,!1),a=new r,s=new cF(a);for(let c=o.curr;c!==null;c=o.next())Np(s,t(c),0);uF(s);const l=oF(i);return fx(a,l),a.toUint8Array()},j6e=e=>L6e(e,L5e,v1,zT),QW="You must not compute changes after the event-handler fired.";class GD{constructor(t,n){this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=B6e(this.currentTarget,this.target))}deletes(t){return dx(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw om(QW);const t=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const o=n._map.get(i);let a,s;if(this.adds(o)){let l=o.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(o))if(l!==null&&this.deletes(l))a="delete",s=gP(l.content.getContent());else return;else l!==null&&this.deletes(l)?(a="update",s=gP(l.content.getContent())):(a="add",s=void 0)}else if(this.deletes(o))a="delete",s=gP(o.content.getContent());else return;t.set(i,{action:a,oldValue:s})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw om(QW);const n=this.target,r=B0(),i=B0(),o=[];if(t={added:r,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(n).has(null)){let s=null;const l=()=>{s&&o.push(s)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((s===null||s.delete===void 0)&&(l(),s={delete:0}),s.delete+=c.length,i.add(c)):this.adds(c)?((s===null||s.insert===void 0)&&(l(),s={insert:[]}),s.insert=s.insert.concat(c.content.getContent()),r.add(c)):((s===null||s.retain===void 0)&&(l(),s={retain:0}),s.retain+=c.length);s!==null&&s.retain===void 0&&l()}this._changes=t}return t}}const B6e=(e,t)=>{const n=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)n.unshift(t._item.parentSub);else{let r=0,i=t._item.parent._start;for(;i!==t._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}t=t._item.parent}return n},Ta=()=>{jce("Invalid access: Add Yjs type to a document before reading data.")},rue=80;let dF=0;class $6e{constructor(t,n){t.marker=!0,this.p=t,this.index=n,this.timestamp=dF++}}const H6e=e=>{e.timestamp=dF++},iue=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=dF++},F6e=(e,t,n)=>{if(e.length>=rue){const r=e.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return iue(r,t,n),r}else{const r=new $6e(t,n);return e.push(r),r}},KD=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;const n=e._searchMarker.length===0?null:e._searchMarker.reduce((o,a)=>ZA(t-o.index)<ZA(t-a.index)?o:a);let r=e._start,i=0;for(n!==null&&(r=n.p,i=n.index,H6e(n));r.right!==null&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>t;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&ZA(n.index-i)<r.parent.length/rue?(iue(n,r,i),n):F6e(e._searchMarker,r,i)},bC=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const i=e[r];if(n>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){e.splice(r,1);continue}i.p=o,o.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=vu(t,i.index+n))}},XD=(e,t,n)=>{const r=e,i=t.changedParentTypes;for(;Bd(i,e,()=>[]).push(n),e._item!==null;)e=e._item.parent;Kce(r._eH,n,t)};class $o{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=zW(),this._dEH=zW(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,n){this.doc=t,this._item=n}_copy(){throw mu()}clone(){throw mu()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,n){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){VW(this._eH,t)}observeDeep(t){VW(this._dEH,t)}unobserve(t){qW(this._eH,t)}unobserveDeep(t){qW(this._dEH,t)}toJSON(){}}const oue=(e,t,n)=>{e.doc??Ta(),t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const i=[];let o=e._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){const a=o.content.getContent();if(a.length<=t)t-=a.length;else{for(let s=t;s<a.length&&r>0;s++)i.push(a[s]),r--;t=0}}o=o.right}return i},aue=e=>{e.doc??Ta();const t=[];let n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)t.push(r[i])}n=n.right}return t},sue=(e,t)=>{const n=[];let r=e._start;for(;r!==null;){if(r.countable&&Zg(r,t)){const i=r.content.getContent();for(let o=0;o<i.length;o++)n.push(i[o])}r=r.right}return n},vC=(e,t)=>{let n=0,r=e._start;for(e.doc??Ta();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let o=0;o<i.length;o++)t(i[o],n++,e)}r=r.right}},lue=(e,t)=>{const n=[];return vC(e,(r,i)=>{n.push(t(r,i,e))}),n},U6e=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},cue=(e,t)=>{e.doc??Ta();const n=KD(e,t);let r=e._start;for(n!==null&&(r=n.p,t-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},zN=(e,t,n,r)=>{let i=n;const o=e.doc,a=o.clientID,s=o.store,l=n===null?t._start:n.right;let c=[];const d=()=>{c.length>0&&(i=new oi(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new H0(c)),i.integrate(e,0),c=[])};r.forEach(u=>{if(u===null)c.push(u);else switch(u.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(u);break;default:switch(d(),u.constructor){case Uint8Array:case ArrayBuffer:i=new oi(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new qT(new Uint8Array(u))),i.integrate(e,0);break;case mm:i=new oi(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new WT(u)),i.integrate(e,0);break;default:if(u instanceof $o)i=new oi(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new Tu(u)),i.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),d()},uue=()=>om("Length exceeded!"),due=(e,t,n,r)=>{if(n>t._length)throw uue();if(n===0)return t._searchMarker&&bC(t._searchMarker,n,r.length),zN(e,t,null,r);const i=n,o=KD(t,n);let a=t._start;for(o!==null&&(a=o.p,n-=o.index,n===0&&(a=a.prev,n+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&$s(e,vn(a.id.client,a.id.clock+n));break}n-=a.length}return t._searchMarker&&bC(t._searchMarker,i,r.length),zN(e,t,a,r)},z6e=(e,t,n)=>{let i=(t._searchMarker||[]).reduce((o,a)=>a.index>o.index?a:o,{index:0,p:t._start}).p;if(i)for(;i.right;)i=i.right;return zN(e,t,i,n)},fue=(e,t,n,r)=>{if(r===0)return;const i=n,o=r,a=KD(t,n);let s=t._start;for(a!==null&&(s=a.p,n-=a.index);s!==null&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&$s(e,vn(s.id.client,s.id.clock+n)),n-=s.length);for(;r>0&&s!==null;)s.deleted||(r<s.length&&$s(e,vn(s.id.client,s.id.clock+r)),s.delete(e),r-=s.length),s=s.right;if(r>0)throw uue();t._searchMarker&&bC(t._searchMarker,i,-o+r)},VN=(e,t,n)=>{const r=t._map.get(n);r!==void 0&&r.delete(e)},fF=(e,t,n,r)=>{const i=t._map.get(n)||null,o=e.doc,a=o.clientID;let s;if(r==null)s=new H0([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:s=new H0([r]);break;case Uint8Array:s=new qT(r);break;case mm:s=new WT(r);break;default:if(r instanceof $o)s=new Tu(r);else throw new Error("Unexpected content type")}new oi(vn(a,Yi(o.store,a)),i,i&&i.lastId,null,null,t,n,s).integrate(e,0)},hF=(e,t)=>{e.doc??Ta();const n=e._map.get(t);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},hue=e=>{const t={};return e.doc??Ta(),e._map.forEach((n,r)=>{n.deleted||(t[r]=n.content.getContent()[n.length-1])}),t},pue=(e,t)=>{e.doc??Ta();const n=e._map.get(t);return n!==void 0&&!n.deleted},V6e=(e,t)=>{const n={};return e._map.forEach((r,i)=>{let o=r;for(;o!==null&&(!t.sv.has(o.id.client)||o.id.clock>=(t.sv.get(o.id.client)||0));)o=o.left;o!==null&&Zg(o,t)&&(n[i]=o.content.getContent()[o.length-1])}),n},oA=e=>(e.doc??Ta(),s6e(e._map.entries(),t=>!t[1].deleted));class q6e extends GD{}class Vv extends $o{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const n=new Vv;return n.push(t),n}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Vv}clone(){const t=new Vv;return t.insert(0,this.toArray().map(n=>n instanceof $o?n.clone():n)),t}get length(){return this.doc??Ta(),this._length}_callObserver(t,n){super._callObserver(t,n),XD(this,t,new q6e(this,t))}insert(t,n){this.doc!==null?zr(this.doc,r=>{due(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}push(t){this.doc!==null?zr(this.doc,n=>{z6e(n,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,n=1){this.doc!==null?zr(this.doc,r=>{fue(r,this,t,n)}):this._prelimContent.splice(t,n)}get(t){return cue(this,t)}toArray(){return aue(this)}slice(t=0,n=this.length){return oue(this,t,n)}toJSON(){return this.map(t=>t instanceof $o?t.toJSON():t)}map(t){return lue(this,t)}forEach(t){vC(this,t)}[Symbol.iterator](){return U6e(this)}_write(t){t.writeTypeRef(gBe)}}const W6e=e=>new Vv;class Y6e extends GD{constructor(t,n,r){super(t,n),this.keysChanged=r}}class x1 extends $o{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,n){super._integrate(t,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new x1}clone(){const t=new x1;return this.forEach((n,r)=>{t.set(r,n instanceof $o?n.clone():n)}),t}_callObserver(t,n){XD(this,t,new Y6e(this,t,n))}toJSON(){this.doc??Ta();const t={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];t[r]=i instanceof $o?i.toJSON():i}}),t}get size(){return[...oA(this)].length}keys(){return wP(oA(this),t=>t[0])}values(){return wP(oA(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return wP(oA(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??Ta(),this._map.forEach((n,r)=>{n.deleted||t(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?zr(this.doc,n=>{VN(n,this,t)}):this._prelimContent.delete(t)}set(t,n){return this.doc!==null?zr(this.doc,r=>{fF(r,this,t,n)}):this._prelimContent.set(t,n),n}get(t){return hF(this,t)}has(t){return pue(this,t)}clear(){this.doc!==null?zr(this.doc,t=>{this.forEach(function(n,r,i){VN(t,i,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(yBe)}}const G6e=e=>new x1,$p=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&I5e(e,t);class $B{constructor(t,n,r,i){this.left=t,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&Rl(),this.right.content.constructor){case ho:this.right.deleted||hx(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const JW=(e,t,n)=>{for(;t.right!==null&&n>0;){switch(t.right.content.constructor){case ho:t.right.deleted||hx(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&$s(e,vn(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},aA=(e,t,n,r)=>{const i=new Map,o=r?KD(t,n):null;if(o){const a=new $B(o.p.left,o.p,o.index,i);return JW(e,a,n-o.index)}else{const a=new $B(null,t._start,0,i);return JW(e,a,n)}},mue=(e,t,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===ho&&$p(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=e.doc,o=i.clientID;r.forEach((a,s)=>{const l=n.left,c=n.right,d=new oi(vn(o,Yi(i.store,o)),l,l&&l.lastId,c,c&&c.id,t,null,new ho(s,a));d.integrate(e,0),n.right=d,n.forward()})},hx=(e,t)=>{const{key:n,value:r}=t;r===null?e.delete(n):e.set(n,r)},gue=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===ho&&$p(t[e.right.content.key]??null,e.right.content.value)))break;e.forward()}},yue=(e,t,n,r)=>{const i=e.doc,o=i.clientID,a=new Map;for(const s in r){const l=r[s],c=n.currentAttributes.get(s)??null;if(!$p(c,l)){a.set(s,c);const{left:d,right:u}=n;n.right=new oi(vn(o,Yi(i.store,o)),d,d&&d.lastId,u,u&&u.id,t,null,new ho(s,l)),n.right.integrate(e,0),n.forward()}}return a},CP=(e,t,n,r,i)=>{n.currentAttributes.forEach((p,m)=>{i[m]===void 0&&(i[m]=null)});const o=e.doc,a=o.clientID;gue(n,i);const s=yue(e,t,n,i),l=r.constructor===String?new xu(r):r instanceof $o?new Tu(r):new sy(r);let{left:c,right:d,index:u}=n;t._searchMarker&&bC(t._searchMarker,n.index,l.getLength()),d=new oi(vn(a,Yi(o.store,a)),c,c&&c.lastId,d,d&&d.id,t,null,l),d.integrate(e,0),n.right=d,n.index=u,n.forward(),mue(e,t,n,s)},eY=(e,t,n,r,i)=>{const o=e.doc,a=o.clientID;gue(n,i);const s=yue(e,t,n,i);e:for(;n.right!==null&&(r>0||s.size>0&&(n.right.deleted||n.right.content.constructor===ho));){if(!n.right.deleted)switch(n.right.content.constructor){case ho:{const{key:l,value:c}=n.right.content,d=i[l];if(d!==void 0){if($p(d,c))s.delete(l);else{if(r===0)break e;s.set(l,c)}n.right.delete(e)}else n.currentAttributes.set(l,c);break}default:r<n.right.length&&$s(e,vn(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new oi(vn(a,Yi(o.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new xu(l)),n.right.integrate(e,0),n.forward()}mue(e,t,n,s)},bue=(e,t,n,r,i)=>{let o=t;const a=pc();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===ho){const c=o.content;a.set(c.key,c)}o=o.right}let s=0,l=!1;for(;t!==o;){if(n===t&&(l=!0),!t.deleted){const c=t.content;switch(c.constructor){case ho:{const{key:d,value:u}=c,p=r.get(d)??null;(a.get(d)!==c||p===u)&&(t.delete(e),s++,!l&&(i.get(d)??null)===u&&p!==u&&(p===null?i.delete(d):i.set(d,p))),!l&&!t.deleted&&hx(i,c);break}}}t=t.right}return s},K6e=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===ho){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}},X6e=e=>{let t=0;return zr(e.doc,n=>{let r=e._start,i=e._start,o=pc();const a=OB(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case ho:hx(a,i.content);break;default:t+=bue(n,r,i,o,a),o=OB(a),r=i;break}i=i.right}}),t},Z6e=e=>{const t=new Set,n=e.doc;for(const[r,i]of e.afterState.entries()){const o=e.beforeState.get(r)||0;i!==o&&Jce(e,n.store.clients.get(r),o,i,a=>{!a.deleted&&a.content.constructor===ho&&a.constructor!==lc&&t.add(a.parent)})}zr(n,r=>{am(e,e.deleteSet,i=>{if(i instanceof lc||!i.parent._hasFormatting||t.has(i.parent))return;const o=i.parent;i.content.constructor===ho?t.add(o):K6e(r,i)});for(const i of t)X6e(i)})},tY=(e,t,n)=>{const r=n,i=OB(t.currentAttributes),o=t.right;for(;n>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case Tu:case sy:case xu:n<t.right.length&&$s(e,vn(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}o&&bue(e,o,t.right,i,t.currentAttributes);const a=(t.left||t.right).parent;return a._searchMarker&&bC(a._searchMarker,t.index,-r+n),t};class Q6e extends GD{constructor(t,n,r){super(t,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,n=[];zr(t,r=>{const i=new Map,o=new Map;let a=this.target._start,s=null;const l={};let c="",d=0,u=0;const p=()=>{if(s!==null){let m=null;switch(s){case"delete":u>0&&(m={delete:u}),u=0;break;case"insert":(typeof c=="object"||c.length>0)&&(m={insert:c},i.size>0&&(m.attributes={},i.forEach((v,x)=>{v!==null&&(m.attributes[x]=v)}))),c="";break;case"retain":d>0&&(m={retain:d},D5e(l)||(m.attributes=O5e({},l))),d=0;break}m&&n.push(m),s=null}};for(;a!==null;){switch(a.content.constructor){case Tu:case sy:this.adds(a)?this.deletes(a)||(p(),s="insert",c=a.content.getContent()[0],p()):this.deletes(a)?(s!=="delete"&&(p(),s="delete"),u+=1):a.deleted||(s!=="retain"&&(p(),s="retain"),d+=1);break;case xu:this.adds(a)?this.deletes(a)||(s!=="insert"&&(p(),s="insert"),c+=a.content.str):this.deletes(a)?(s!=="delete"&&(p(),s="delete"),u+=a.length):a.deleted||(s!=="retain"&&(p(),s="retain"),d+=a.length);break;case ho:{const{key:m,value:v}=a.content;if(this.adds(a)){if(!this.deletes(a)){const x=i.get(m)??null;$p(x,v)?v!==null&&a.delete(r):(s==="retain"&&p(),$p(v,o.get(m)??null)?delete l[m]:l[m]=v)}}else if(this.deletes(a)){o.set(m,v);const x=i.get(m)??null;$p(x,v)||(s==="retain"&&p(),l[m]=x)}else if(!a.deleted){o.set(m,v);const x=l[m];x!==void 0&&($p(x,v)?x!==null&&a.delete(r):(s==="retain"&&p(),v===null?delete l[m]:l[m]=v))}a.deleted||(s==="insert"&&p(),hx(i,a.content));break}}a=a.right}for(p();n.length>0;){const m=n[n.length-1];if(m.retain!==void 0&&m.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class sm extends $o{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Ta(),this._length}_integrate(t,n){super._integrate(t,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new sm}clone(){const t=new sm;return t.applyDelta(this.toDelta()),t}_callObserver(t,n){super._callObserver(t,n);const r=new Q6e(this,t,n);XD(this,t,r),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??Ta();let t="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===xu&&(t+=n.content.str),n=n.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:n=!0}={}){this.doc!==null?zr(this.doc,r=>{const i=new $B(null,this._start,0,new Map);for(let o=0;o<t.length;o++){const a=t[o];if(a.insert!==void 0){const s=!n&&typeof a.insert=="string"&&o===t.length-1&&i.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof s!="string"||s.length>0)&&CP(r,this,i,s,a.attributes||{})}else a.retain!==void 0?eY(r,this,i,a.retain,a.attributes||{}):a.delete!==void 0&&tY(r,i,a.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,n,r){this.doc??Ta();const i=[],o=new Map,a=this.doc;let s="",l=this._start;function c(){if(s.length>0){const u={};let p=!1;o.forEach((v,x)=>{p=!0,u[x]=v});const m={insert:s};p&&(m.attributes=u),i.push(m),s=""}}const d=()=>{for(;l!==null;){if(Zg(l,t)||n!==void 0&&Zg(l,n))switch(l.content.constructor){case xu:{const u=o.get("ychange");t!==void 0&&!Zg(l,t)?(u===void 0||u.user!==l.id.client||u.type!=="removed")&&(c(),o.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!Zg(l,n)?(u===void 0||u.user!==l.id.client||u.type!=="added")&&(c(),o.set("ychange",r?r("added",l.id):{type:"added"})):u!==void 0&&(c(),o.delete("ychange")),s+=l.content.str;break}case Tu:case sy:{c();const u={insert:l.content.getContent()[0]};if(o.size>0){const p={};u.attributes=p,o.forEach((m,v)=>{p[v]=m})}i.push(u);break}case ho:Zg(l,t)&&(c(),hx(o,l.content));break}l=l.right}c()};return t||n?zr(a,u=>{t&&jB(u,t),n&&jB(u,n),d()},"cleanup"):d(),i}insert(t,n,r){if(n.length<=0)return;const i=this.doc;i!==null?zr(i,o=>{const a=aA(o,this,t,!r);r||(r={},a.currentAttributes.forEach((s,l)=>{r[l]=s})),CP(o,this,a,n,r)}):this._pending.push(()=>this.insert(t,n,r))}insertEmbed(t,n,r){const i=this.doc;i!==null?zr(i,o=>{const a=aA(o,this,t,!r);CP(o,this,a,n,r||{})}):this._pending.push(()=>this.insertEmbed(t,n,r||{}))}delete(t,n){if(n===0)return;const r=this.doc;r!==null?zr(r,i=>{tY(i,aA(i,this,t,!0),n)}):this._pending.push(()=>this.delete(t,n))}format(t,n,r){if(n===0)return;const i=this.doc;i!==null?zr(i,o=>{const a=aA(o,this,t,!1);a.right!==null&&eY(o,this,a,n,r)}):this._pending.push(()=>this.format(t,n,r))}removeAttribute(t){this.doc!==null?zr(this.doc,n=>{VN(n,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,n){this.doc!==null?zr(this.doc,r=>{fF(r,this,t,n)}):this._pending.push(()=>this.setAttribute(t,n))}getAttribute(t){return hF(this,t)}getAttributes(){return hue(this)}_write(t){t.writeTypeRef(bBe)}}const J6e=e=>new sm;class TP{constructor(t,n=()=>!0){this._filter=n,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??Ta()}[Symbol.iterator](){return this}next(){let t=this._currentNode,n=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(n)))do if(n=t.content.type,!t.deleted&&(n.constructor===ea||n.constructor===lm)&&n._start!==null)t=n._start;else for(;t!==null;){const r=t.next;if(r!==null){t=r;break}else t.parent===this._root?t=null:t=t.parent._item}while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class lm extends $o{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new lm}clone(){const t=new lm;return t.insert(0,this.toArray().map(n=>n instanceof $o?n.clone():n)),t}get length(){return this.doc??Ta(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new TP(this,t)}querySelector(t){t=t.toUpperCase();const r=new TP(this,i=>i.nodeName&&i.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),im(new TP(this,n=>n.nodeName&&n.nodeName.toUpperCase()===t))}_callObserver(t,n){XD(this,t,new nBe(this,n,t))}toString(){return lue(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,n={},r){const i=t.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),vC(this,o=>{i.insertBefore(o.toDOM(t,n,r),null)}),i}insert(t,n){this.doc!==null?zr(this.doc,r=>{due(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}insertAfter(t,n){if(this.doc!==null)zr(this.doc,r=>{const i=t&&t instanceof $o?t._item:t;zN(r,this,i,n)});else{const r=this._prelimContent,i=t===null?0:r.findIndex(o=>o===t)+1;if(i===0&&t!==null)throw om("Reference item not found");r.splice(i,0,...n)}}delete(t,n=1){this.doc!==null?zr(this.doc,r=>{fue(r,this,t,n)}):this._prelimContent.splice(t,n)}toArray(){return aue(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return cue(this,t)}slice(t=0,n=this.length){return oue(this,t,n)}forEach(t){vC(this,t)}_write(t){t.writeTypeRef(xBe)}}const eBe=e=>new lm;class ea extends lm{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,n){super._integrate(t,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new ea(this.nodeName)}clone(){const t=new ea(this.nodeName),n=this.getAttributes();return M5e(n,(r,i)=>{typeof r=="string"&&t.setAttribute(i,r)}),t.insert(0,this.toArray().map(r=>r instanceof $o?r.clone():r)),t}toString(){const t=this.getAttributes(),n=[],r=[];for(const s in t)r.push(s);r.sort();const i=r.length;for(let s=0;s<i;s++){const l=r[s];n.push(l+'="'+t[l]+'"')}const o=this.nodeName.toLocaleLowerCase(),a=n.length>0?" "+n.join(" "):"";return`<${o}${a}>${super.toString()}</${o}>`}removeAttribute(t){this.doc!==null?zr(this.doc,n=>{VN(n,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,n){this.doc!==null?zr(this.doc,r=>{fF(r,this,t,n)}):this._prelimAttrs.set(t,n)}getAttribute(t){return hF(this,t)}hasAttribute(t){return pue(this,t)}getAttributes(t){return t?V6e(this,t):hue(this)}toDOM(t=document,n={},r){const i=t.createElement(this.nodeName),o=this.getAttributes();for(const a in o){const s=o[a];typeof s=="string"&&i.setAttribute(a,s)}return vC(this,a=>{i.appendChild(a.toDOM(t,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(t){t.writeTypeRef(vBe),t.writeKey(this.nodeName)}}const tBe=e=>new ea(e.readKey());class nBe extends GD{constructor(t,n,r){super(t,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class qN extends x1{constructor(t){super(),this.hookName=t}_copy(){return new qN(this.hookName)}clone(){const t=new qN(this.hookName);return this.forEach((n,r)=>{t.set(r,n)}),t}toDOM(t=document,n={},r){const i=n[this.hookName];let o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(o,this),o}_write(t){t.writeTypeRef(wBe),t.writeKey(this.hookName)}}const rBe=e=>new qN(e.readKey());class Nl extends sm{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new Nl}clone(){const t=new Nl;return t.applyDelta(this.toDelta()),t}toDOM(t=document,n,r){const i=t.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(t=>{const n=[];for(const i in t.attributes){const o=[];for(const a in t.attributes[i])o.push({key:a,value:t.attributes[i][a]});o.sort((a,s)=>a.key<s.key?-1:1),n.push({nodeName:i,attrs:o})}n.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const o=n[i];r+=`<${o.nodeName}`;for(let a=0;a<o.attrs.length;a++){const s=o.attrs[a];r+=` ${s.key}="${s.value}"`}r+=">"}r+=t.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(EBe)}}const iBe=e=>new Nl;class pF{constructor(t,n){this.id=t,this.length=n}get deleted(){throw mu()}mergeWith(t){return!1}write(t,n,r){throw mu()}integrate(t,n){throw mu()}}const oBe=0;class lc extends pF{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){n>0&&(this.id.clock+=n,this.length-=n),Qce(t.doc.store,this)}write(t,n){t.writeInfo(oBe),t.writeLen(this.length-n)}getMissing(t,n){return null}}class qT{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new qT(this.content)}splice(t){throw mu()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeBuf(this.content)}getRef(){return 3}}const aBe=e=>new qT(e.readBuf());class xC{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new xC(this.len)}splice(t){const n=new xC(this.len-t);return this.len=t,n}mergeWith(t){return this.len+=t.len,!0}integrate(t,n){pC(t.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(t){}gc(t){}write(t,n){t.writeLen(this.len-n)}getRef(){return 1}}const sBe=e=>new xC(e.readLen()),vue=(e,t)=>new mm({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class WT{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),t.meta!==null&&(n.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new WT(vue(this.doc.guid,this.opts))}splice(t){throw mu()}mergeWith(t){return!1}integrate(t,n){this.doc._item=n,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,n){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const lBe=e=>new WT(vue(e.readString(),e.readAny()));class sy{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new sy(this.embed)}splice(t){throw mu()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeJSON(this.embed)}getRef(){return 5}}const cBe=e=>new sy(e.readJSON());class ho{constructor(t,n){this.key=t,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new ho(this.key,this.value)}splice(t){throw mu()}mergeWith(t){return!1}integrate(t,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(t){}gc(t){}write(t,n){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const uBe=e=>new ho(e.readKey(),e.readJSON());class WN{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new WN(this.arr)}splice(t){const n=new WN(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];t.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const dBe=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const i=e.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new WN(n)},fBe=HN("node_env")==="development";class H0{constructor(t){this.arr=t,fBe&&Nce(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new H0(this.arr)}splice(t){const n=new H0(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];t.writeAny(o)}}getRef(){return 8}}const hBe=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new H0(n)};class xu{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new xu(this.str)}splice(t){const n=new xu(this.str.slice(t));this.str=this.str.slice(0,t);const r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(t){return this.str+=t.str,!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const pBe=e=>new xu(e.readString()),mBe=[W6e,G6e,J6e,tBe,eBe,rBe,iBe],gBe=0,yBe=1,bBe=2,vBe=3,xBe=4,wBe=5,EBe=6;class Tu{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Tu(this.type._copy())}splice(t){throw mu()}mergeWith(t){return!1}integrate(t,n){this.type._integrate(t.doc,n)}delete(t){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let n=this.type._start;for(;n!==null;)n.gc(t,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,n){this.type._write(t)}getRef(){return 7}}const SBe=e=>new Tu(mBe[e.readTypeRef()](e)),HB=(e,t)=>{let n=t,r=0,i;do r>0&&(n=vn(n.client,n.clock+r)),i=zv(e,n),r=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof oi);return{item:i,diff:r}},mF=(e,t)=>{for(;e!==null&&e.keep!==t;)e.keep=t,e=e.parent._item},YN=(e,t,n)=>{const{client:r,clock:i}=t.id,o=new oi(vn(r,i+n),t,vn(r,i+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),t.redone!==null&&(o.redone=vn(t.redone.client,t.redone.clock+n)),t.right=o,o.right!==null&&(o.right.left=o),e._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),t.length=n,o},nY=(e,t)=>zje(e,n=>dx(n.deletions,t)),xue=(e,t,n,r,i,o)=>{const a=e.doc,s=a.store,l=a.clientID,c=t.redone;if(c!==null)return $s(e,c);let d=t.parent._item,u=null,p;if(d!==null&&d.deleted===!0){if(d.redone===null&&(!n.has(d)||xue(e,d,n,r,i,o)===null))return null;for(;d.redone!==null;)d=$s(e,d.redone)}const m=d===null?t.parent:d.content.type;if(t.parentSub===null){for(u=t.left,p=t;u!==null;){let T=u;for(;T!==null&&T.parent._item!==d;)T=T.redone===null?null:$s(e,T.redone);if(T!==null&&T.parent._item===d){u=T;break}u=u.left}for(;p!==null;){let T=p;for(;T!==null&&T.parent._item!==d;)T=T.redone===null?null:$s(e,T.redone);if(T!==null&&T.parent._item===d){p=T;break}p=p.right}}else if(p=null,t.right&&!i){for(u=t;u!==null&&u.right!==null&&(u.right.redone||dx(r,u.right.id)||nY(o.undoStack,u.right.id)||nY(o.redoStack,u.right.id));)for(u=u.right;u.redone;)u=$s(e,u.redone);if(u&&u.right!==null)return null}else u=m._map.get(t.parentSub)||null;const v=Yi(s,l),x=vn(l,v),w=new oi(x,u,u&&u.lastId,p,p&&p.id,m,t.parentSub,t.content.copy());return t.redone=x,mF(w,!0),w.integrate(e,0),w};let oi=class FB extends pF{constructor(t,n,r,i,o,a,s,l){super(t,l.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=o,this.parent=a,this.parentSub=s,this.redone=null,this.content=l,this.info=this.content.isCountable()?OW:0}set marker(t){(this.info&bP)>0!==t&&(this.info^=bP)}get marker(){return(this.info&bP)>0}get keep(){return(this.info&NW)>0}set keep(t){this.keep!==t&&(this.info^=NW)}get countable(){return(this.info&OW)>0}get deleted(){return(this.info&yP)>0}set deleted(t){this.deleted!==t&&(this.info^=yP)}markDeleted(){this.info|=yP}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Yi(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Yi(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Uv&&this.id.client!==this.parent.client&&this.parent.clock>=Yi(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=YW(t,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=$s(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===lc||this.right&&this.right.constructor===lc)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===FB?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===FB&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Uv){const r=zv(n,this.parent);r.constructor===lc?this.parent=null:this.parent=r.content.type}return null}integrate(t,n){if(n>0&&(this.id.clock+=n,this.left=YW(t,t.doc.store,vn(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const o=new Set,a=new Set;for(;i!==null&&i!==this.right;){if(a.add(i),o.add(i),_v(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,o.clear();else if(_v(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&a.has(zv(t.doc.store,i.origin)))o.has(zv(t.doc.store,i.origin))||(r=i,o.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Qce(t.doc.store,this),this.content.integrate(t,this),KW(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new lc(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:vn(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&_v(t.origin,this.lastId)&&this.right===t&&_v(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),pC(t.deleteSet,this.id.client,this.id.clock,this.length),KW(t,n,this.parentSub),this.content.delete(t)}}gc(t,n){if(!this.deleted)throw Rl();this.content.gc(t),n?_6e(t,this,new lc(this.id,this.length)):this.content=new xC(this.length)}write(t,n){const r=n>0?vn(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,o=this.parentSub,a=this.content.getRef()&qD|(r===null?0:rs)|(i===null?0:Uf)|(o===null?0:dC);if(t.writeInfo(a),r!==null&&t.writeLeftID(r),i!==null&&t.writeRightID(i),r===null&&i===null){const s=this.parent;if(s._item!==void 0){const l=s._item;if(l===null){const c=mC(s);t.writeParentInfo(!0),t.writeString(c)}else t.writeParentInfo(!1),t.writeLeftID(l.id)}else s.constructor===String?(t.writeParentInfo(!0),t.writeString(s)):s.constructor===Uv?(t.writeParentInfo(!1),t.writeLeftID(s)):Rl();o!==null&&t.writeString(o)}this.content.write(t,n)}};const wue=(e,t)=>CBe[t&qD](e),CBe=[()=>{Rl()},sBe,dBe,aBe,pBe,cBe,uBe,SBe,hBe,lBe,()=>{Rl()}],TBe=10;class cc extends pF{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){Rl()}write(t,n){t.writeInfo(TBe),Kn(t.restEncoder,this.length-n)}getMissing(t,n){return null}}const Eue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},Sue="__ $YJS$ __";Eue[Sue]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Eue[Sue]=!0;class Li extends Zt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Li.valid(r)?new Li(r):Zt.near(r)}content(){return at.empty}eq(t){return t instanceof Li&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Li(t.resolve(n.pos))}getBookmark(){return new gF(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!kBe(t)||!_Be(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Li.valid(t))return t;let i=t.pos,o=null;for(let a=t.depth;;a--){let s=t.node(a);if(n>0?t.indexAfter(a)<s.childCount:t.index(a)>0){o=s.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=n;let l=t.doc.resolve(i);if(Li.valid(l))return l}for(;;){let a=n>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!Rt.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=a,i+=n;let s=t.doc.resolve(i);if(Li.valid(s))return s}return null}}}Li.prototype.visible=!1;Li.findFrom=Li.findGapCursorFrom;Zt.jsonID("gapcursor",Li);class gF{constructor(t){this.pos=t}map(t){return new gF(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Li.valid(n)?new Li(n):Zt.near(n)}}function Cue(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function kBe(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||Cue(i.type))return!0;if(i.inlineContent)return!1}}return!0}function _Be(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||Cue(i.type))return!0;if(i.inlineContent)return!1}}return!0}function ABe(){return new rn({props:{decorations:DBe,createSelectionBetween(e,t,n){return t.pos==n.pos&&Li.valid(n)?new Li(n):null},handleClick:OBe,handleKeyDown:NBe,handleDOMEvents:{beforeinput:MBe}}})}const NBe=w9({ArrowLeft:sA("horiz",-1),ArrowRight:sA("horiz",1),ArrowUp:sA("vert",-1),ArrowDown:sA("vert",1)});function sA(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let a=r.selection,s=t>0?a.$to:a.$from,l=a.empty;if(a instanceof St){if(!o.endOfTextblock(n)||s.depth==0)return!1;l=!1,s=r.doc.resolve(t>0?s.after():s.before())}let c=Li.findGapCursorFrom(s,t,l);return c?(i&&i(r.tr.setSelection(new Li(c))),!0):!1}}function OBe(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Li.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Rt.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Li(r))),!0)}function MBe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Li))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=He.empty;for(let a=r.length-1;a>=0;a--)i=He.from(r[a].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new at(i,0,0));return o.setSelection(St.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function DBe(e){if(!(e.selection instanceof Li))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",mn.create(e.doc,[ir.widget(e.selection.head,t,{key:"gapcursor"})])}var GN=200,Ho=function(){};Ho.prototype.append=function(t){return t.length?(t=Ho.from(t),!this.length&&t||t.length<GN&&this.leafAppend(t)||this.length<GN&&t.leafPrepend(this)||this.appendInner(t)):this};Ho.prototype.prepend=function(t){return t.length?Ho.from(t).append(this):this};Ho.prototype.appendInner=function(t){return new RBe(this,t)};Ho.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Ho.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Ho.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Ho.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Ho.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,a){return i.push(t(o,a))},n,r),i};Ho.from=function(t){return t instanceof Ho?t:t&&t.length?new Tue(t):Ho.empty};var Tue=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=GN)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=GN)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(Ho);Ho.empty=new Tue([]);var RBe=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(r,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(r,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(r,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(r,Math.min(i,s),o,a)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(Ho);const IBe=500;class iu{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let a=t.tr,s,l,c=[],d=[];return this.items.forEach((u,p)=>{if(!u.step){i||(i=this.remapping(r,p+1),o=i.maps.length),o--,d.push(u);return}if(i){d.push(new dp(u.map));let m=u.step.map(i.slice(o)),v;m&&a.maybeStep(m).doc&&(v=a.mapping.maps[a.mapping.maps.length-1],c.push(new dp(v,void 0,void 0,c.length+d.length))),o--,v&&i.appendMap(v,o)}else a.maybeStep(u.step);if(u.selection)return s=i?u.selection.map(i.slice(o)):u.selection,l=new iu(this.items.slice(0,r).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(t,n,r,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let d=0;d<t.steps.length;d++){let u=t.steps[d].invert(t.docs[d]),p=new dp(t.mapping.maps[d],u,n),m;(m=l&&l.merge(p))&&(p=m,d?o.pop():s=s.slice(0,s.length-1)),o.push(p),n&&(a++,n=void 0),i||(l=p)}let c=a-r.depth;return c>LBe&&(s=PBe(s,c),a-=c),new iu(s.append(o),a)}remapping(t,n){let r=new l1;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},t,n),r}addMaps(t){return this.eventCount==0?this:new iu(this.items.append(t.map(n=>new dp(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(p=>{p.selection&&s--},i);let l=n;this.items.forEach(p=>{let m=o.getMirror(--l);if(m==null)return;a=Math.min(a,m);let v=o.maps[m];if(p.step){let x=t.steps[m].invert(t.docs[m]),w=p.selection&&p.selection.map(o.slice(l+1,m));w&&s++,r.push(new dp(v,x,w))}else r.push(new dp(v))},i);let c=[];for(let p=n;p<a;p++)c.push(new dp(o.maps[p]));let d=this.items.slice(0,i).append(c).append(r),u=new iu(d,s);return u.emptyItemCount()>IBe&&(u=u.compress(this.items.length-r.length)),u}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=t)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let d=a.selection&&a.selection.map(n.slice(r));d&&o++;let u=new dp(c.invert(),l,d),p,m=i.length-1;(p=i.length&&i[m].merge(u))?i[m]=p:i.push(u)}}else a.map&&r--},this.items.length,0),new iu(Ho.from(i.reverse()),o)}}iu.empty=new iu(Ho.empty,0);function PBe(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}let dp=class kue{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new kue(n.getMap().invert(),n,this.selection)}}};class Ep{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const LBe=20;function jBe(e,t,n,r){let i=n.getMeta(b0),o;if(i)return i.historyState;n.getMeta(HBe)&&(e=new Ep(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta(b0))return a.getMeta(b0).redo?new Ep(e.done.addTransform(n,void 0,r,tN(t)),e.undone,rY(n.mapping.maps),e.prevTime,e.prevComposition):new Ep(e.done,e.undone.addTransform(n,void 0,r,tN(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=n.getMeta("composition"),l=e.prevTime==0||!a&&e.prevComposition!=s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!BBe(n,e.prevRanges)),c=a?kP(e.prevRanges,n.mapping):rY(n.mapping.maps);return new Ep(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,tN(t)),iu.empty,c,n.time,s??e.prevComposition)}else return(o=n.getMeta("rebased"))?new Ep(e.done.rebased(n,o),e.undone.rebased(n,o),kP(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Ep(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),kP(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function BBe(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function rY(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,o,a)=>t.push(o,a));return t}function kP(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function $Be(e,t,n){let r=tN(t),i=b0.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,r),l=new Ep(n?s:o.remaining,n?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(b0,{redo:n,historyState:l})}let _P=!1,iY=null;function tN(e){let t=e.plugins;if(iY!=t){_P=!1,iY=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){_P=!0;break}}return _P}const b0=new En("history"),HBe=new En("closeHistory");function FBe(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new rn({key:b0,state:{init(){return new Ep(iu.empty,iu.empty,null,0,-1)},apply(t,n,r){return jBe(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?yF:r=="historyRedo"?bF:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function _ue(e,t){return(n,r)=>{let i=b0.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let o=$Be(i,n,e);o&&r(t?o.scrollIntoView():o)}return!0}}const yF=_ue(!1,!0),bF=_ue(!0,!0);ur.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new rn({key:new En("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const a=o-i,s=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(s,l);return e=!0,c}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:t.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!t.getMeta("paste"))return!1;const s=t.selection.$head.pos,l=o-r,c=s-l,d=s;return t.deleteRange(c,d),!(this.storage.characters({node:t.doc})>r)}})]}});ur.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[vce(this.options)]}});ur.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new rn({key:new En("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,o=[];if(!n||!r)return mn.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;a+=1});let s=0;return e.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(s+=1,this.options.mode==="deepest"&&a-s>0||this.options.mode==="shallowest"&&s>1)return this.options.mode==="deepest";o.push(ir.node(c,c+l.nodeSize,{class:this.options.className}))}),mn.create(e,o)}}})]}});var UBe=ur.create({name:"gapCursor",addProseMirrorPlugins(){return[ABe()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Ur(Vt(e,"allowGapCursor",n)))!=null?t:null}}});ur.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new rn({key:new En("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const o=this.editor.isEmpty;return e.descendants((a,s)=>{const l=r>=s&&r<=s+a.nodeSize,c=!a.isLeaf&&ID(a);if((l||!this.options.showOnlyCurrent)&&c){const d=[this.options.emptyNodeClass];o&&d.push(this.options.emptyEditorClass);const u=ir.node(s,s+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:s,hasAnchor:l}):this.options.placeholder});i.push(u)}return this.options.includeChildren}),mn.create(e,i)}}})]}});ur.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new rn({key:new En("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||jN(n.selection)||e.view.dragging?null:mn.create(n.doc,[ir.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function oY({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}ur.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new En(this.name),n=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new rn({key:t,appendTransaction:(i,o,a)=>{const{doc:s,tr:l,schema:c}=a,d=t.getState(a),u=s.content.size,p=c.nodes[n];if(d)return l.insert(u,p.create())},state:{init:(i,o)=>{const a=o.tr.doc.lastChild;return!oY({node:a,types:r})},apply:(i,o)=>{if(!i.docChanged)return o;const a=i.doc.lastChild;return!oY({node:a,types:r})}}})]}});var zBe=ur.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>yF(e,t),redo:()=>({state:e,dispatch:t})=>bF(e,t)}},addProseMirrorPlugins(){return[FBe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}});const VBe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",qBe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",UB="numeric",zB="ascii",VB="alpha",ES="asciinumeric",aS="alphanumeric",qB="domain",Aue="emoji",WBe="scheme",YBe="slashscheme",AP="whitespace";function GBe(e,t){return e in t||(t[e]=[]),t[e]}function r0(e,t,n){t[UB]&&(t[ES]=!0,t[aS]=!0),t[zB]&&(t[ES]=!0,t[VB]=!0),t[ES]&&(t[aS]=!0),t[VB]&&(t[aS]=!0),t[aS]&&(t[qB]=!0),t[Aue]&&(t[qB]=!0);for(const r in t){const i=GBe(r,n);i.indexOf(e)<0&&i.push(e)}}function KBe(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Bs(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Bs.groups={};Bs.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],o=t.jr[r][1];if(o&&i.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Bs.groups;let i;return t&&t.j?i=t:(i=new Bs(t),n&&r&&r0(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(e[a]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||Bs.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let a,s=i.go(e);if(s?(a=new Bs,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new Bs,o){if(r)if(a.t&&typeof a.t=="string"){const l=Object.assign(KBe(a.t,r),n);r0(o,l,r)}else n&&r0(o,n,r);a.t=o}return i.j[e]=a,a}};const An=(e,t,n,r,i)=>e.ta(t,n,r,i),Ii=(e,t,n,r,i)=>e.tr(t,n,r,i),aY=(e,t,n,r,i)=>e.ts(t,n,r,i),ot=(e,t,n,r,i)=>e.tt(t,n,r,i),_f="WORD",WB="UWORD",Nue="ASCIINUMERICAL",Oue="ALPHANUMERICAL",wC="LOCALHOST",YB="TLD",GB="UTLD",nN="SCHEME",vv="SLASH_SCHEME",vF="NUM",KB="WS",xF="NL",SS="OPENBRACE",CS="CLOSEBRACE",KN="OPENBRACKET",XN="CLOSEBRACKET",ZN="OPENPAREN",QN="CLOSEPAREN",JN="OPENANGLEBRACKET",eO="CLOSEANGLEBRACKET",tO="FULLWIDTHLEFTPAREN",nO="FULLWIDTHRIGHTPAREN",rO="LEFTCORNERBRACKET",iO="RIGHTCORNERBRACKET",oO="LEFTWHITECORNERBRACKET",aO="RIGHTWHITECORNERBRACKET",sO="FULLWIDTHLESSTHAN",lO="FULLWIDTHGREATERTHAN",cO="AMPERSAND",uO="APOSTROPHE",dO="ASTERISK",Sp="AT",fO="BACKSLASH",hO="BACKTICK",pO="CARET",Op="COLON",wF="COMMA",mO="DOLLAR",ld="DOT",gO="EQUALS",EF="EXCLAMATION",ec="HYPHEN",TS="PERCENT",yO="PIPE",bO="PLUS",vO="POUND",kS="QUERY",SF="QUOTE",Mue="FULLWIDTHMIDDLEDOT",CF="SEMI",cd="SLASH",_S="TILDE",xO="UNDERSCORE",Due="EMOJI",wO="SYM";var Rue=Object.freeze({__proto__:null,ALPHANUMERICAL:Oue,AMPERSAND:cO,APOSTROPHE:uO,ASCIINUMERICAL:Nue,ASTERISK:dO,AT:Sp,BACKSLASH:fO,BACKTICK:hO,CARET:pO,CLOSEANGLEBRACKET:eO,CLOSEBRACE:CS,CLOSEBRACKET:XN,CLOSEPAREN:QN,COLON:Op,COMMA:wF,DOLLAR:mO,DOT:ld,EMOJI:Due,EQUALS:gO,EXCLAMATION:EF,FULLWIDTHGREATERTHAN:lO,FULLWIDTHLEFTPAREN:tO,FULLWIDTHLESSTHAN:sO,FULLWIDTHMIDDLEDOT:Mue,FULLWIDTHRIGHTPAREN:nO,HYPHEN:ec,LEFTCORNERBRACKET:rO,LEFTWHITECORNERBRACKET:oO,LOCALHOST:wC,NL:xF,NUM:vF,OPENANGLEBRACKET:JN,OPENBRACE:SS,OPENBRACKET:KN,OPENPAREN:ZN,PERCENT:TS,PIPE:yO,PLUS:bO,POUND:vO,QUERY:kS,QUOTE:SF,RIGHTCORNERBRACKET:iO,RIGHTWHITECORNERBRACKET:aO,SCHEME:nN,SEMI:CF,SLASH:cd,SLASH_SCHEME:vv,SYM:wO,TILDE:_S,TLD:YB,UNDERSCORE:xO,UTLD:GB,UWORD:WB,WORD:_f,WS:KB});const xf=/[a-z]/,PE=new RegExp("\\p{L}","u"),NP=new RegExp("\\p{Emoji}","u"),wf=/\d/,OP=/\s/,sY="\r",MP=`
`,XBe="",ZBe="",DP="";let lA=null,cA=null;function QBe(e=[]){const t={};Bs.groups=t;const n=new Bs;lA==null&&(lA=lY(VBe)),cA==null&&(cA=lY(qBe)),ot(n,"'",uO),ot(n,"{",SS),ot(n,"}",CS),ot(n,"[",KN),ot(n,"]",XN),ot(n,"(",ZN),ot(n,")",QN),ot(n,"<",JN),ot(n,">",eO),ot(n,"",tO),ot(n,"",nO),ot(n,"",rO),ot(n,"",iO),ot(n,"",oO),ot(n,"",aO),ot(n,"",sO),ot(n,"",lO),ot(n,"&",cO),ot(n,"*",dO),ot(n,"@",Sp),ot(n,"`",hO),ot(n,"^",pO),ot(n,":",Op),ot(n,",",wF),ot(n,"$",mO),ot(n,".",ld),ot(n,"=",gO),ot(n,"!",EF),ot(n,"-",ec),ot(n,"%",TS),ot(n,"|",yO),ot(n,"+",bO),ot(n,"#",vO),ot(n,"?",kS),ot(n,'"',SF),ot(n,"/",cd),ot(n,";",CF),ot(n,"~",_S),ot(n,"_",xO),ot(n,"\\",fO),ot(n,"",Mue);const r=Ii(n,wf,vF,{[UB]:!0});Ii(r,wf,r);const i=Ii(r,xf,Nue,{[ES]:!0}),o=Ii(r,PE,Oue,{[aS]:!0}),a=Ii(n,xf,_f,{[zB]:!0});Ii(a,wf,i),Ii(a,xf,a),Ii(i,wf,i),Ii(i,xf,i);const s=Ii(n,PE,WB,{[VB]:!0});Ii(s,xf),Ii(s,wf,o),Ii(s,PE,s),Ii(o,wf,o),Ii(o,xf),Ii(o,PE,o);const l=ot(n,MP,xF,{[AP]:!0}),c=ot(n,sY,KB,{[AP]:!0}),d=Ii(n,OP,KB,{[AP]:!0});ot(n,DP,d),ot(c,MP,l),ot(c,DP,d),Ii(c,OP,d),ot(d,sY),ot(d,MP),Ii(d,OP,d),ot(d,DP,d);const u=Ii(n,NP,Due,{[Aue]:!0});ot(u,"#"),Ii(u,NP,u),ot(u,XBe,u);const p=ot(u,ZBe);ot(p,"#"),Ii(p,NP,u);const m=[[xf,a],[wf,i]],v=[[xf,null],[PE,s],[wf,o]];for(let x=0;x<lA.length;x++)fp(n,lA[x],YB,_f,m);for(let x=0;x<cA.length;x++)fp(n,cA[x],GB,WB,v);r0(YB,{tld:!0,ascii:!0},t),r0(GB,{utld:!0,alpha:!0},t),fp(n,"file",nN,_f,m),fp(n,"mailto",nN,_f,m),fp(n,"http",vv,_f,m),fp(n,"https",vv,_f,m),fp(n,"ftp",vv,_f,m),fp(n,"ftps",vv,_f,m),r0(nN,{scheme:!0,ascii:!0},t),r0(vv,{slashscheme:!0,ascii:!0},t),e=e.sort((x,w)=>x[0]>w[0]?1:-1);for(let x=0;x<e.length;x++){const w=e[x][0],k=e[x][1]?{[WBe]:!0}:{[YBe]:!0};w.indexOf("-")>=0?k[qB]=!0:xf.test(w)?wf.test(w)?k[ES]=!0:k[zB]=!0:k[UB]=!0,aY(n,w,w,k)}return aY(n,"localhost",wC,{ascii:!0}),n.jd=new Bs(wO),{start:n,tokens:Object.assign({groups:t},Rue)}}function Iue(e,t){const n=JBe(t.replace(/[A-Z]/g,s=>s.toLowerCase())),r=n.length,i=[];let o=0,a=0;for(;a<r;){let s=e,l=null,c=0,d=null,u=-1,p=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(u=0,p=0,d=s):u>=0&&(u+=n[a].length,p++),c+=n[a].length,o+=n[a].length,a++;o-=u,a-=p,c-=u,i.push({t:d.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function JBe(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),o,a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function fp(e,t,n,r,i){let o;const a=t.length;for(let s=0;s<a-1;s++){const l=t[s];e.j[l]?o=e.j[l]:(o=new Bs(r),o.jr=i.slice(),e.j[l]=o),e=o}return o=new Bs(n),o.jr=i.slice(),e.j[t[a-1]]=o,o}function lY(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let o=0;for(;i.indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let a=parseInt(e.substring(r,r+o),10);a>0;a--)n.pop();r+=o}else n.push(e[r]),r++}return t}const EC={defaultProtocol:"http",events:null,format:cY,formatHref:cY,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function TF(e,t=null){let n=Object.assign({},EC);e&&(n=Object.assign(n,e instanceof TF?e.o:e));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}TF.prototype={o:EC,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:EC[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function cY(e){return e}function Pue(e,t){this.t="token",this.v=e,this.tk=t}Pue.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=EC.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),o=this.toFormattedString(e),a={},s=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),d=e.getObj("attributes",n,t),u=e.getObj("events",n,t);return a.href=r,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),d&&Object.assign(a,d),{tagName:i,attributes:a,content:o,eventListeners:u}}};function ZD(e,t){class n extends Pue{constructor(i,o){super(i,o),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const uY=ZD("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),dY=ZD("text"),e8e=ZD("nl"),uA=ZD("url",{isLink:!0,toHref(e=EC.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==wC&&e[1].t===Op}}),Xl=e=>new Bs(e);function t8e({groups:e}){const t=e.domain.concat([cO,dO,Sp,fO,hO,pO,mO,gO,ec,vF,TS,yO,bO,vO,cd,wO,_S,xO]),n=[uO,Op,wF,ld,EF,TS,kS,SF,CF,JN,eO,SS,CS,XN,KN,ZN,QN,tO,nO,rO,iO,oO,aO,sO,lO],r=[cO,uO,dO,fO,hO,pO,mO,gO,ec,SS,CS,TS,yO,bO,vO,kS,cd,wO,_S,xO],i=Xl(),o=ot(i,_S);An(o,r,o),An(o,e.domain,o);const a=Xl(),s=Xl(),l=Xl();An(i,e.domain,a),An(i,e.scheme,s),An(i,e.slashscheme,l),An(a,r,o),An(a,e.domain,a);const c=ot(a,Sp);ot(o,Sp,c),ot(s,Sp,c),ot(l,Sp,c);const d=ot(o,ld);An(d,r,o),An(d,e.domain,o);const u=Xl();An(c,e.domain,u),An(u,e.domain,u);const p=ot(u,ld);An(p,e.domain,u);const m=Xl(uY);An(p,e.tld,m),An(p,e.utld,m),ot(c,wC,m);const v=ot(u,ec);ot(v,ec,v),An(v,e.domain,u),An(m,e.domain,u),ot(m,ld,p),ot(m,ec,v);const x=ot(m,Op);An(x,e.numeric,uY);const w=ot(a,ec),T=ot(a,ld);ot(w,ec,w),An(w,e.domain,a),An(T,r,o),An(T,e.domain,a);const k=Xl(uA);An(T,e.tld,k),An(T,e.utld,k),An(k,e.domain,a),An(k,r,o),ot(k,ld,T),ot(k,ec,w),ot(k,Sp,c);const N=ot(k,Op),I=Xl(uA);An(N,e.numeric,I);const M=Xl(uA),A=Xl();An(M,t,M),An(M,n,A),An(A,t,M),An(A,n,A),ot(k,cd,M),ot(I,cd,M);const R=ot(s,Op),L=ot(l,Op),B=ot(L,cd),$=ot(B,cd);An(s,e.domain,a),ot(s,ld,T),ot(s,ec,w),An(l,e.domain,a),ot(l,ld,T),ot(l,ec,w),An(R,e.domain,M),ot(R,cd,M),ot(R,kS,M),An($,e.domain,M),An($,t,M),ot($,cd,M);const W=[[SS,CS],[KN,XN],[ZN,QN],[JN,eO],[tO,nO],[rO,iO],[oO,aO],[sO,lO]];for(let V=0;V<W.length;V++){const[Y,U]=W[V],X=ot(M,Y);ot(A,Y,X),ot(X,U,M);const q=Xl(uA);An(X,t,q);const ne=Xl();An(X,n),An(q,t,q),An(q,n,ne),An(ne,t,q),An(ne,n,ne),ot(q,U,M),ot(ne,U,M)}return ot(i,wC,k),ot(i,xF,e8e),{start:i,tokens:Rue}}function n8e(e,t,n){let r=n.length,i=0,o=[],a=[];for(;i<r;){let s=e,l=null,c=null,d=0,u=null,p=-1;for(;i<r&&!(l=s.go(n[i].t));)a.push(n[i++]);for(;i<r&&(c=l||s.go(n[i].t));)l=null,s=c,s.accepts()?(p=0,u=s):p>=0&&p++,i++,d++;if(p<0)i-=d,i<r&&(a.push(n[i]),i++);else{a.length>0&&(o.push(RP(dY,t,a)),a=[]),i-=p,d-=p;const m=u.t,v=n.slice(i-d,i);o.push(RP(m,t,v))}}return a.length>0&&o.push(RP(dY,t,a)),o}function RP(e,t,n){const r=n[0].s,i=n[n.length-1].e,o=t.slice(r,i);return new e(o,n)}const r8e=typeof console<"u"&&console&&console.warn||(()=>{}),i8e="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ui={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function o8e(){return Bs.groups={},ui.scanner=null,ui.parser=null,ui.tokenQueue=[],ui.pluginQueue=[],ui.customSchemes=[],ui.initialized=!1,ui}function fY(e,t=!1){if(ui.initialized&&r8e(`linkifyjs: already initialized - will not register custom scheme "${e}" ${i8e}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ui.customSchemes.push([e,t])}function a8e(){ui.scanner=QBe(ui.customSchemes);for(let e=0;e<ui.tokenQueue.length;e++)ui.tokenQueue[e][1]({scanner:ui.scanner});ui.parser=t8e(ui.scanner.tokens);for(let e=0;e<ui.pluginQueue.length;e++)ui.pluginQueue[e][1]({scanner:ui.scanner,parser:ui.parser});return ui.initialized=!0,ui}function kF(e){return ui.initialized||a8e(),n8e(ui.parser.start,e,Iue(ui.scanner.start,e))}kF.scan=Iue;function Lue(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new TF(n),i=kF(e),o=[];for(let a=0;a<i.length;a++){const s=i[a];s.isLink&&(!t||s.t===t)&&r.check(s)&&o.push(s.toFormattedObject(r))}return o}var _F="[\0- -\u2029]",s8e=new RegExp(_F),l8e=new RegExp(`${_F}$`),c8e=new RegExp(_F,"g");function u8e(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function d8e(e){return new rn({key:new En("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(c=>c.docChanged)&&!n.doc.eq(r.doc),o=t.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=r,s=DD(n.doc,[...t]);if(N9(s).forEach(({newRange:c})=>{const d=mle(r.doc,c,m=>m.isTextblock);let u,p;if(d.length>1)u=d[0],p=r.doc.textBetween(u.pos,u.pos+u.node.nodeSize,void 0," ");else if(d.length){const m=r.doc.textBetween(c.from,c.to," "," ");if(!l8e.test(m))return;u=d[0],p=r.doc.textBetween(u.pos,c.to,void 0," ")}if(u&&p){const m=p.split(s8e).filter(Boolean);if(m.length<=0)return!1;const v=m[m.length-1],x=u.pos+p.lastIndexOf(v);if(!v)return!1;const w=kF(v).map(T=>T.toObject(e.defaultProtocol));if(!u8e(w))return!1;w.filter(T=>T.isLink).map(T=>({...T,from:x+T.start+1,to:x+T.end+1})).filter(T=>r.schema.marks.code?!r.doc.rangeHasMark(T.from,T.to,r.schema.marks.code):!0).filter(T=>e.validate(T.value)).filter(T=>e.shouldAutoLink(T.value)).forEach(T=>{O9(T.from,T.to,r.doc).some(k=>k.mark.type===e.type)||a.addMark(T.from,T.to,e.type.create({href:T.href}))})}}),!!a.steps.length)return a}})}function f8e(e){return new rn({key:new En("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,o;if(r.button!==0||!t.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let d=r.target;const u=[];for(;d.nodeName!=="DIV";)u.push(d),d=d.parentNode;a=u.find(p=>p.nodeName==="A")}if(!a)return!1;const s=wle(t.state,e.type.name),l=(i=a?.href)!=null?i:s.href,c=(o=a?.target)!=null?o:s.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),a&&l?(window.open(l,c),!0):!1}}})}function h8e(e){return new rn({key:new En("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:i}=e,{state:o}=t,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";r.content.forEach(d=>{l+=d.textContent});const c=Lue(l,{defaultProtocol:e.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function zg(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(c8e,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var p8e=jl.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){fY(e);return}fY(e.scheme,e.optionalSlashes)})},onDestroy(){o8e()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!zg(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!zg(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!zg(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Dl(this.options.HTMLAttributes,e),0]:["a",Dl(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!zg(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!zg(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[R0({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=Lue(e).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!zg(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&t.push({text:o.value,data:{href:o.href},index:o.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(d8e({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!zg(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(f8e({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(h8e({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),m8e=qs.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""});class YT{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}YT.prototype.normal={};YT.prototype.property={};YT.prototype.space=void 0;function jue(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new YT(n,r,t)}function SC(e){return e.toLowerCase()}class Ws{constructor(t,n){this.attribute=n,this.property=t}}Ws.prototype.attribute="";Ws.prototype.booleanish=!1;Ws.prototype.boolean=!1;Ws.prototype.commaOrSpaceSeparated=!1;Ws.prototype.commaSeparated=!1;Ws.prototype.defined=!1;Ws.prototype.mustUseProperty=!1;Ws.prototype.number=!1;Ws.prototype.overloadedBoolean=!1;Ws.prototype.property="";Ws.prototype.spaceSeparated=!1;Ws.prototype.space=void 0;let g8e=0;const Tn=ly(),no=ly(),XB=ly(),st=ly(),ei=ly(),qv=ly(),hl=ly();function ly(){return 2**++g8e}const ZB=Object.freeze(Object.defineProperty({__proto__:null,boolean:Tn,booleanish:no,commaOrSpaceSeparated:hl,commaSeparated:qv,number:st,overloadedBoolean:XB,spaceSeparated:ei},Symbol.toStringTag,{value:"Module"})),IP=Object.keys(ZB);class AF extends Ws{constructor(t,n,r,i){let o=-1;if(super(t,n),hY(this,"space",i),typeof r=="number")for(;++o<IP.length;){const a=IP[o];hY(this,IP[o],(r&ZB[a])===ZB[a])}}}AF.prototype.defined=!0;function hY(e,t,n){n&&(e[t]=n)}function px(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new AF(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[SC(r)]=r,n[SC(o.attribute)]=r}return new YT(t,n,e.space)}const Bue=px({properties:{ariaActiveDescendant:null,ariaAtomic:no,ariaAutoComplete:null,ariaBusy:no,ariaChecked:no,ariaColCount:st,ariaColIndex:st,ariaColSpan:st,ariaControls:ei,ariaCurrent:null,ariaDescribedBy:ei,ariaDetails:null,ariaDisabled:no,ariaDropEffect:ei,ariaErrorMessage:null,ariaExpanded:no,ariaFlowTo:ei,ariaGrabbed:no,ariaHasPopup:null,ariaHidden:no,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ei,ariaLevel:st,ariaLive:null,ariaModal:no,ariaMultiLine:no,ariaMultiSelectable:no,ariaOrientation:null,ariaOwns:ei,ariaPlaceholder:null,ariaPosInSet:st,ariaPressed:no,ariaReadOnly:no,ariaRelevant:null,ariaRequired:no,ariaRoleDescription:ei,ariaRowCount:st,ariaRowIndex:st,ariaRowSpan:st,ariaSelected:no,ariaSetSize:st,ariaSort:null,ariaValueMax:st,ariaValueMin:st,ariaValueNow:st,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function $ue(e,t){return t in e?e[t]:t}function Hue(e,t){return $ue(e,t.toLowerCase())}const y8e=px({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qv,acceptCharset:ei,accessKey:ei,action:null,allow:null,allowFullScreen:Tn,allowPaymentRequest:Tn,allowUserMedia:Tn,alt:null,as:null,async:Tn,autoCapitalize:null,autoComplete:ei,autoFocus:Tn,autoPlay:Tn,blocking:ei,capture:null,charSet:null,checked:Tn,cite:null,className:ei,cols:st,colSpan:null,content:null,contentEditable:no,controls:Tn,controlsList:ei,coords:st|qv,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Tn,defer:Tn,dir:null,dirName:null,disabled:Tn,download:XB,draggable:no,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Tn,formTarget:null,headers:ei,height:st,hidden:XB,high:st,href:null,hrefLang:null,htmlFor:ei,httpEquiv:ei,id:null,imageSizes:null,imageSrcSet:null,inert:Tn,inputMode:null,integrity:null,is:null,isMap:Tn,itemId:null,itemProp:ei,itemRef:ei,itemScope:Tn,itemType:ei,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Tn,low:st,manifest:null,max:null,maxLength:st,media:null,method:null,min:null,minLength:st,multiple:Tn,muted:Tn,name:null,nonce:null,noModule:Tn,noValidate:Tn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Tn,optimum:st,pattern:null,ping:ei,placeholder:null,playsInline:Tn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Tn,referrerPolicy:null,rel:ei,required:Tn,reversed:Tn,rows:st,rowSpan:st,sandbox:ei,scope:null,scoped:Tn,seamless:Tn,selected:Tn,shadowRootClonable:Tn,shadowRootDelegatesFocus:Tn,shadowRootMode:null,shape:null,size:st,sizes:null,slot:null,span:st,spellCheck:no,src:null,srcDoc:null,srcLang:null,srcSet:null,start:st,step:null,style:null,tabIndex:st,target:null,title:null,translate:null,type:null,typeMustMatch:Tn,useMap:null,value:no,width:st,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ei,axis:null,background:null,bgColor:null,border:st,borderColor:null,bottomMargin:st,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Tn,declare:Tn,event:null,face:null,frame:null,frameBorder:null,hSpace:st,leftMargin:st,link:null,longDesc:null,lowSrc:null,marginHeight:st,marginWidth:st,noResize:Tn,noHref:Tn,noShade:Tn,noWrap:Tn,object:null,profile:null,prompt:null,rev:null,rightMargin:st,rules:null,scheme:null,scrolling:no,standby:null,summary:null,text:null,topMargin:st,valueType:null,version:null,vAlign:null,vLink:null,vSpace:st,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Tn,disableRemotePlayback:Tn,prefix:null,property:null,results:st,security:null,unselectable:null},space:"html",transform:Hue}),b8e=px({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:hl,accentHeight:st,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:st,amplitude:st,arabicForm:null,ascent:st,attributeName:null,attributeType:null,azimuth:st,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:st,by:null,calcMode:null,capHeight:st,className:ei,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:st,diffuseConstant:st,direction:null,display:null,dur:null,divisor:st,dominantBaseline:null,download:Tn,dx:null,dy:null,edgeMode:null,editable:null,elevation:st,enableBackground:null,end:null,event:null,exponent:st,externalResourcesRequired:null,fill:null,fillOpacity:st,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qv,g2:qv,glyphName:qv,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:st,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:st,horizOriginX:st,horizOriginY:st,id:null,ideographic:st,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:st,k:st,k1:st,k2:st,k3:st,k4:st,kernelMatrix:hl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:st,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:st,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:st,overlineThickness:st,paintOrder:null,panose1:null,path:null,pathLength:st,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ei,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:st,pointsAtY:st,pointsAtZ:st,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hl,rev:hl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hl,requiredFeatures:hl,requiredFonts:hl,requiredFormats:hl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:st,specularExponent:st,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:st,strikethroughThickness:st,string:null,stroke:null,strokeDashArray:hl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:st,strokeOpacity:st,strokeWidth:null,style:null,surfaceScale:st,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hl,tabIndex:st,tableValues:null,target:null,targetX:st,targetY:st,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:st,underlineThickness:st,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:st,values:null,vAlphabetic:st,vMathematical:st,vectorEffect:null,vHanging:st,vIdeographic:st,version:null,vertAdvY:st,vertOriginX:st,vertOriginY:st,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:st,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$ue}),Fue=px({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Uue=px({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Hue}),zue=px({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),v8e=/[A-Z]/g,pY=/-[a-z]/g,x8e=/^data[-\w.:]+$/i;function NF(e,t){const n=SC(t);let r=t,i=Ws;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&x8e.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(pY,E8e);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!pY.test(o)){let a=o.replace(v8e,w8e);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=AF}return new i(r,t)}function w8e(e){return"-"+e.toLowerCase()}function E8e(e){return e.charAt(1).toUpperCase()}const QD=jue([Bue,y8e,Fue,Uue,zue],"html"),GT=jue([Bue,b8e,Fue,Uue,zue],"svg");function mY(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const a=n.slice(i,r).trim();(a||!o)&&t.push(a),i=r+1,r=n.indexOf(",",i)}return t}function S8e(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const gY=/[#.]/g;function C8e(e,t){const n=e||"",r={};let i=0,o,a;for(;i<n.length;){gY.lastIndex=i;const s=gY.exec(n),l=n.slice(i,s?s.index:n.length);l&&(o?o==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:a=l,i+=l.length),s&&(o=s[0],i++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function yY(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function T8e(e){return e.join(" ").trim()}function Vue(e,t,n){const r=n?N8e(n):void 0;function i(o,a,...s){let l;if(o==null){l={type:"root",children:[]};const c=a;s.unshift(c)}else{l=C8e(o,t);const c=l.tagName.toLowerCase(),d=r?r.get(c):void 0;if(l.tagName=d||c,k8e(a))s.unshift(a);else for(const[u,p]of Object.entries(a))_8e(e,l.properties,u,p)}for(const c of s)QB(l.children,c);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function k8e(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const a of o)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function _8e(e,t,n,r){const i=NF(e,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=yY(r):i.commaSeparated?o=mY(r):i.commaOrSpaceSeparated?o=yY(mY(r).join(" ")):o=bY(i,i.property,r):Array.isArray(r)?o=[...r]:o=i.property==="style"?A8e(r):String(r);if(Array.isArray(o)){const a=[];for(const s of o)a.push(bY(i,i.property,s));o=a}i.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[i.property]=o}}function QB(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)QB(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?QB(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function bY(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||SC(n)===SC(t)))return!0}return n}function A8e(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function N8e(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const O8e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],que=Vue(QD,"div"),Wue=Vue(GT,"g",O8e);function M8e(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=t.length){let a=0;for(;;){let s=n[a];if(s===void 0){const l=vY(t,n[a-1]);s=l===-1?t.length+1:l+1,n[a]=s}if(s>o)return{line:a+1,column:o-(a>0?n[a-1]:0)+1,offset:o};a++}}}function i(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const s=n[n.length-1],l=vY(t,s),c=l===-1?t.length+1:l+1;if(s===c)break;n.push(c)}const a=(o.line>1?n[o.line-2]:0)+o.column-1;if(a<n[o.line-1])return a}}}function vY(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const rN={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"},Yue={}.hasOwnProperty,D8e=Object.prototype;function R8e(e,t){const n=t||{};return OF({file:n.file||void 0,location:!1,schema:n.space==="svg"?GT:QD,verbose:n.verbose||!1},e)}function OF(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},iN(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Gue(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),a=M8e(o),s=a.toPoint(0),l=a.toPoint(o.length);n.position={start:s,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},iN(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},iN(e,r,n),n}default:return n=I8e(e,t),n}}function Gue(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=OF(e,t[n]);r.push(i)}return r}function I8e(e,t){const n=e.schema;e.schema=t.namespaceURI===rN.svg?GT:QD;let r=-1;const i={};for(;++r<t.attrs.length;){const s=t.attrs[r],l=(s.prefix?s.prefix+":":"")+s.name;Yue.call(D8e,l)||(i[l]=s.value)}const a=(e.schema.space==="svg"?Wue:que)(t.tagName,i,Gue(e,t.childNodes));if(iN(e,t,a),a.tagName==="template"){const s=t,l=s.sourceCodeLocation,c=l&&l.startTag&&Av(l.startTag),d=l&&l.endTag&&Av(l.endTag),u=OF(e,s.content);c&&d&&e.file&&(u.position={start:c.end,end:d.start}),a.content=u}return e.schema=n,a}function iN(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=P8e(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function P8e(e,t,n){const r=Av(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const o={};let a;if(n.attrs)for(a in n.attrs)Yue.call(n.attrs,a)&&(o[NF(e.schema,a).property]=Av(n.attrs[a]));n.startTag;const s=Av(n.startTag),l=n.endTag?Av(n.endTag):void 0,c={opening:s};l&&(c.closing=l),c.properties=o,t.data={position:c}}}return r}function Av(e){const t=xY({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=xY({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function xY(e){return e.line&&e.column?e:void 0}const L8e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),yi="";var ie;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(ie||(ie={}));const Ns={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Kue(e){return e>=55296&&e<=57343}function j8e(e){return e>=56320&&e<=57343}function B8e(e,t){return(e-55296)*1024+9216+t}function Xue(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Zue(e){return e>=64976&&e<=65007||L8e.has(e)}var $e;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})($e||($e={}));const $8e=65536;class H8e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=$8e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:o}=this,a=i+n,s=o+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:s,endOffset:s}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(j8e(n))return this.pos++,this._addGap(),B8e(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ie.EOF;return this._err($e.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ie.EOF;const r=this.html.charCodeAt(n);return r===ie.CARRIAGE_RETURN?ie.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ie.EOF;let t=this.html.charCodeAt(this.pos);return t===ie.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ie.LINE_FEED):t===ie.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Kue(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===ie.LINE_FEED||t===ie.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Xue(t)?this._err($e.controlCharacterInInputStream):Zue(t)&&this._err($e.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var lr;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(lr||(lr={}));function Que(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const F8e=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),U8e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function z8e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=U8e.get(e))!==null&&t!==void 0?t:e}var Bo;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Bo||(Bo={}));const V8e=32;var Hp;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Hp||(Hp={}));function JB(e){return e>=Bo.ZERO&&e<=Bo.NINE}function q8e(e){return e>=Bo.UPPER_A&&e<=Bo.UPPER_F||e>=Bo.LOWER_A&&e<=Bo.LOWER_F}function W8e(e){return e>=Bo.UPPER_A&&e<=Bo.UPPER_Z||e>=Bo.LOWER_A&&e<=Bo.LOWER_Z||JB(e)}function Y8e(e){return e===Bo.EQUALS||W8e(e)}var Po;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Po||(Po={}));var Nf;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Nf||(Nf={}));class G8e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Po.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Nf.Strict}startEntity(t){this.decodeMode=t,this.state=Po.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Po.EntityStart:return t.charCodeAt(n)===Bo.NUM?(this.state=Po.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Po.NamedEntity,this.stateNamedEntity(t,n));case Po.NumericStart:return this.stateNumericStart(t,n);case Po.NumericDecimal:return this.stateNumericDecimal(t,n);case Po.NumericHex:return this.stateNumericHex(t,n);case Po.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|V8e)===Bo.LOWER_X?(this.state=Po.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Po.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+Number.parseInt(t.substr(n,o),i),this.consumed+=o}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(JB(i)||q8e(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(JB(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Bo.SEMI)this.consumed+=1;else if(this.decodeMode===Nf.Strict)return 0;return this.emitCodePoint(z8e(this.result),this.consumed),this.errors&&(t!==Bo.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&Hp.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=K8e(r,i,this.treeIndex+Math.max(1,o),a),this.treeIndex<0)return this.result===0||this.decodeMode===Nf.Attribute&&(o===0||Y8e(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&Hp.VALUE_LENGTH)>>14,o!==0){if(a===Bo.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Nf.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Hp.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Hp.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Po.NamedEntity:return this.result!==0&&(this.decodeMode!==Nf.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Po.NumericDecimal:return this.emitNumericEntity(0,2);case Po.NumericHex:return this.emitNumericEntity(0,3);case Po.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Po.EntityStart:return 0}}}function K8e(e,t,n,r){const i=(t&Hp.BRANCH_LENGTH)>>7,o=t&Hp.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const l=r-o;return l<0||l>=i?-1:e[n+l]-1}let a=n,s=a+i-1;for(;a<=s;){const l=a+s>>>1,c=e[l];if(c<r)a=l+1;else if(c>r)s=l-1;else return e[l+i]}return-1}var tt;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(tt||(tt={}));var v0;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(v0||(v0={}));var oc;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(oc||(oc={}));var _e;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(_e||(_e={}));var P;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(P||(P={}));const X8e=new Map([[_e.A,P.A],[_e.ADDRESS,P.ADDRESS],[_e.ANNOTATION_XML,P.ANNOTATION_XML],[_e.APPLET,P.APPLET],[_e.AREA,P.AREA],[_e.ARTICLE,P.ARTICLE],[_e.ASIDE,P.ASIDE],[_e.B,P.B],[_e.BASE,P.BASE],[_e.BASEFONT,P.BASEFONT],[_e.BGSOUND,P.BGSOUND],[_e.BIG,P.BIG],[_e.BLOCKQUOTE,P.BLOCKQUOTE],[_e.BODY,P.BODY],[_e.BR,P.BR],[_e.BUTTON,P.BUTTON],[_e.CAPTION,P.CAPTION],[_e.CENTER,P.CENTER],[_e.CODE,P.CODE],[_e.COL,P.COL],[_e.COLGROUP,P.COLGROUP],[_e.DD,P.DD],[_e.DESC,P.DESC],[_e.DETAILS,P.DETAILS],[_e.DIALOG,P.DIALOG],[_e.DIR,P.DIR],[_e.DIV,P.DIV],[_e.DL,P.DL],[_e.DT,P.DT],[_e.EM,P.EM],[_e.EMBED,P.EMBED],[_e.FIELDSET,P.FIELDSET],[_e.FIGCAPTION,P.FIGCAPTION],[_e.FIGURE,P.FIGURE],[_e.FONT,P.FONT],[_e.FOOTER,P.FOOTER],[_e.FOREIGN_OBJECT,P.FOREIGN_OBJECT],[_e.FORM,P.FORM],[_e.FRAME,P.FRAME],[_e.FRAMESET,P.FRAMESET],[_e.H1,P.H1],[_e.H2,P.H2],[_e.H3,P.H3],[_e.H4,P.H4],[_e.H5,P.H5],[_e.H6,P.H6],[_e.HEAD,P.HEAD],[_e.HEADER,P.HEADER],[_e.HGROUP,P.HGROUP],[_e.HR,P.HR],[_e.HTML,P.HTML],[_e.I,P.I],[_e.IMG,P.IMG],[_e.IMAGE,P.IMAGE],[_e.INPUT,P.INPUT],[_e.IFRAME,P.IFRAME],[_e.KEYGEN,P.KEYGEN],[_e.LABEL,P.LABEL],[_e.LI,P.LI],[_e.LINK,P.LINK],[_e.LISTING,P.LISTING],[_e.MAIN,P.MAIN],[_e.MALIGNMARK,P.MALIGNMARK],[_e.MARQUEE,P.MARQUEE],[_e.MATH,P.MATH],[_e.MENU,P.MENU],[_e.META,P.META],[_e.MGLYPH,P.MGLYPH],[_e.MI,P.MI],[_e.MO,P.MO],[_e.MN,P.MN],[_e.MS,P.MS],[_e.MTEXT,P.MTEXT],[_e.NAV,P.NAV],[_e.NOBR,P.NOBR],[_e.NOFRAMES,P.NOFRAMES],[_e.NOEMBED,P.NOEMBED],[_e.NOSCRIPT,P.NOSCRIPT],[_e.OBJECT,P.OBJECT],[_e.OL,P.OL],[_e.OPTGROUP,P.OPTGROUP],[_e.OPTION,P.OPTION],[_e.P,P.P],[_e.PARAM,P.PARAM],[_e.PLAINTEXT,P.PLAINTEXT],[_e.PRE,P.PRE],[_e.RB,P.RB],[_e.RP,P.RP],[_e.RT,P.RT],[_e.RTC,P.RTC],[_e.RUBY,P.RUBY],[_e.S,P.S],[_e.SCRIPT,P.SCRIPT],[_e.SEARCH,P.SEARCH],[_e.SECTION,P.SECTION],[_e.SELECT,P.SELECT],[_e.SOURCE,P.SOURCE],[_e.SMALL,P.SMALL],[_e.SPAN,P.SPAN],[_e.STRIKE,P.STRIKE],[_e.STRONG,P.STRONG],[_e.STYLE,P.STYLE],[_e.SUB,P.SUB],[_e.SUMMARY,P.SUMMARY],[_e.SUP,P.SUP],[_e.TABLE,P.TABLE],[_e.TBODY,P.TBODY],[_e.TEMPLATE,P.TEMPLATE],[_e.TEXTAREA,P.TEXTAREA],[_e.TFOOT,P.TFOOT],[_e.TD,P.TD],[_e.TH,P.TH],[_e.THEAD,P.THEAD],[_e.TITLE,P.TITLE],[_e.TR,P.TR],[_e.TRACK,P.TRACK],[_e.TT,P.TT],[_e.U,P.U],[_e.UL,P.UL],[_e.SVG,P.SVG],[_e.VAR,P.VAR],[_e.WBR,P.WBR],[_e.XMP,P.XMP]]);function JD(e){var t;return(t=X8e.get(e))!==null&&t!==void 0?t:P.UNKNOWN}const rt=P,Z8e={[tt.HTML]:new Set([rt.ADDRESS,rt.APPLET,rt.AREA,rt.ARTICLE,rt.ASIDE,rt.BASE,rt.BASEFONT,rt.BGSOUND,rt.BLOCKQUOTE,rt.BODY,rt.BR,rt.BUTTON,rt.CAPTION,rt.CENTER,rt.COL,rt.COLGROUP,rt.DD,rt.DETAILS,rt.DIR,rt.DIV,rt.DL,rt.DT,rt.EMBED,rt.FIELDSET,rt.FIGCAPTION,rt.FIGURE,rt.FOOTER,rt.FORM,rt.FRAME,rt.FRAMESET,rt.H1,rt.H2,rt.H3,rt.H4,rt.H5,rt.H6,rt.HEAD,rt.HEADER,rt.HGROUP,rt.HR,rt.HTML,rt.IFRAME,rt.IMG,rt.INPUT,rt.LI,rt.LINK,rt.LISTING,rt.MAIN,rt.MARQUEE,rt.MENU,rt.META,rt.NAV,rt.NOEMBED,rt.NOFRAMES,rt.NOSCRIPT,rt.OBJECT,rt.OL,rt.P,rt.PARAM,rt.PLAINTEXT,rt.PRE,rt.SCRIPT,rt.SECTION,rt.SELECT,rt.SOURCE,rt.STYLE,rt.SUMMARY,rt.TABLE,rt.TBODY,rt.TD,rt.TEMPLATE,rt.TEXTAREA,rt.TFOOT,rt.TH,rt.THEAD,rt.TITLE,rt.TR,rt.TRACK,rt.UL,rt.WBR,rt.XMP]),[tt.MATHML]:new Set([rt.MI,rt.MO,rt.MN,rt.MS,rt.MTEXT,rt.ANNOTATION_XML]),[tt.SVG]:new Set([rt.TITLE,rt.FOREIGN_OBJECT,rt.DESC]),[tt.XLINK]:new Set,[tt.XML]:new Set,[tt.XMLNS]:new Set},e8=new Set([rt.H1,rt.H2,rt.H3,rt.H4,rt.H5,rt.H6]);_e.STYLE,_e.SCRIPT,_e.XMP,_e.IFRAME,_e.NOEMBED,_e.NOFRAMES,_e.PLAINTEXT;var ae;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(ae||(ae={}));const Hs={DATA:ae.DATA,RCDATA:ae.RCDATA,RAWTEXT:ae.RAWTEXT,SCRIPT_DATA:ae.SCRIPT_DATA,PLAINTEXT:ae.PLAINTEXT,CDATA_SECTION:ae.CDATA_SECTION};function Q8e(e){return e>=ie.DIGIT_0&&e<=ie.DIGIT_9}function sS(e){return e>=ie.LATIN_CAPITAL_A&&e<=ie.LATIN_CAPITAL_Z}function J8e(e){return e>=ie.LATIN_SMALL_A&&e<=ie.LATIN_SMALL_Z}function bp(e){return J8e(e)||sS(e)}function wY(e){return bp(e)||Q8e(e)}function dA(e){return e+32}function Jue(e){return e===ie.SPACE||e===ie.LINE_FEED||e===ie.TABULATION||e===ie.FORM_FEED}function EY(e){return Jue(e)||e===ie.SOLIDUS||e===ie.GREATER_THAN_SIGN}function e$e(e){return e===ie.NULL?$e.nullCharacterReference:e>1114111?$e.characterReferenceOutsideUnicodeRange:Kue(e)?$e.surrogateCharacterReference:Zue(e)?$e.noncharacterCharacterReference:Xue(e)||e===ie.CARRIAGE_RETURN?$e.controlCharacterReference:null}class t$e{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ae.DATA,this.returnState=ae.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new H8e(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new G8e(F8e,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err($e.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err($e.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=e$e(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:lr.START_TAG,tagName:"",tagID:P.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:lr.END_TAG,tagName:"",tagID:P.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:lr.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:lr.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Que(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err($e.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=JD(t.tagName),t.type===lr.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err($e.endTagWithAttributes),t.selfClosing&&this._err($e.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case lr.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case lr.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case lr.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:lr.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Jue(t)?lr.WHITESPACE_CHARACTER:t===ie.NULL?lr.NULL_CHARACTER:lr.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(lr.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=ae.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Nf.Attribute:Nf.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ae.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ae.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case ae.DATA:{this._stateData(t);break}case ae.RCDATA:{this._stateRcdata(t);break}case ae.RAWTEXT:{this._stateRawtext(t);break}case ae.SCRIPT_DATA:{this._stateScriptData(t);break}case ae.PLAINTEXT:{this._statePlaintext(t);break}case ae.TAG_OPEN:{this._stateTagOpen(t);break}case ae.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case ae.TAG_NAME:{this._stateTagName(t);break}case ae.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case ae.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case ae.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case ae.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case ae.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case ae.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case ae.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case ae.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case ae.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case ae.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case ae.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case ae.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case ae.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case ae.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case ae.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case ae.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case ae.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case ae.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case ae.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case ae.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case ae.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case ae.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case ae.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case ae.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case ae.BOGUS_COMMENT:{this._stateBogusComment(t);break}case ae.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case ae.COMMENT_START:{this._stateCommentStart(t);break}case ae.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case ae.COMMENT:{this._stateComment(t);break}case ae.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case ae.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case ae.COMMENT_END:{this._stateCommentEnd(t);break}case ae.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case ae.DOCTYPE:{this._stateDoctype(t);break}case ae.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case ae.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case ae.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case ae.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case ae.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case ae.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case ae.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case ae.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case ae.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case ae.CDATA_SECTION:{this._stateCdataSection(t);break}case ae.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case ae.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case ae.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case ae.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.TAG_OPEN;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitCodePoint(t);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case ie.AMPERSAND:{this._startCharacterReference();break}case ie.LESS_THAN_SIGN:{this.state=ae.RCDATA_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(yi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.RAWTEXT_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(yi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(yi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(yi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(bp(t))this._createStartTagToken(),this.state=ae.TAG_NAME,this._stateTagName(t);else switch(t){case ie.EXCLAMATION_MARK:{this.state=ae.MARKUP_DECLARATION_OPEN;break}case ie.SOLIDUS:{this.state=ae.END_TAG_OPEN;break}case ie.QUESTION_MARK:{this._err($e.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t);break}case ie.EOF:{this._err($e.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err($e.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ae.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(bp(t))this._createEndTagToken(),this.state=ae.TAG_NAME,this._stateTagName(t);else switch(t){case ie.GREATER_THAN_SIGN:{this._err($e.missingEndTagName),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err($e.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.SOLIDUS:{this.state=ae.SELF_CLOSING_START_TAG;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.tagName+=yi;break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(sS(t)?dA(t):t)}}_stateRcdataLessThanSign(t){t===ie.SOLIDUS?this.state=ae.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ae.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){bp(t)?(this.state=ae.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=ae.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ae.BEFORE_ATTRIBUTE_NAME,!1;case ie.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ae.SELF_CLOSING_START_TAG,!1;case ie.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ae.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===ie.SOLIDUS?this.state=ae.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){bp(t)?(this.state=ae.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case ie.SOLIDUS:{this.state=ae.SCRIPT_DATA_END_TAG_OPEN;break}case ie.EXCLAMATION_MARK:{this.state=ae.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){bp(t)?(this.state=ae.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===ie.HYPHEN_MINUS?(this.state=ae.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===ie.HYPHEN_MINUS?(this.state=ae.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(yi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_ESCAPED,this._emitChars(yi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case ie.HYPHEN_MINUS:{this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.GREATER_THAN_SIGN:{this.state=ae.SCRIPT_DATA,this._emitChars(">");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_ESCAPED,this._emitChars(yi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===ie.SOLIDUS?this.state=ae.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:bp(t)?(this._emitChars("<"),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){bp(t)?(this.state=ae.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ns.SCRIPT,!1)&&EY(this.preprocessor.peek(Ns.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ns.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(yi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(yi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case ie.HYPHEN_MINUS:{this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.GREATER_THAN_SIGN:{this.state=ae.SCRIPT_DATA,this._emitChars(">");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(yi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===ie.SOLIDUS?(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ns.SCRIPT,!1)&&EY(this.preprocessor.peek(Ns.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ns.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ae.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.SOLIDUS:case ie.GREATER_THAN_SIGN:case ie.EOF:{this.state=ae.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ie.EQUALS_SIGN:{this._err($e.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ae.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ae.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:case ie.SOLIDUS:case ie.GREATER_THAN_SIGN:case ie.EOF:{this._leaveAttrName(),this.state=ae.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ie.EQUALS_SIGN:{this._leaveAttrName(),this.state=ae.BEFORE_ATTRIBUTE_VALUE;break}case ie.QUOTATION_MARK:case ie.APOSTROPHE:case ie.LESS_THAN_SIGN:{this._err($e.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.name+=yi;break}default:this.currentAttr.name+=String.fromCodePoint(sS(t)?dA(t):t)}}_stateAfterAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.SOLIDUS:{this.state=ae.SELF_CLOSING_START_TAG;break}case ie.EQUALS_SIGN:{this.state=ae.BEFORE_ATTRIBUTE_VALUE;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ae.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{this.state=ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this.state=ae.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingAttributeValue),this.state=ae.DATA,this.emitCurrentTagToken();break}default:this.state=ae.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.value+=yi;break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.value+=yi;break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this._leaveAttrValue(),this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.value+=yi;break}case ie.QUOTATION_MARK:case ie.APOSTROPHE:case ie.LESS_THAN_SIGN:case ie.EQUALS_SIGN:case ie.GRAVE_ACCENT:{this._err($e.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this._leaveAttrValue(),this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.SOLIDUS:{this._leaveAttrValue(),this.state=ae.SELF_CLOSING_START_TAG;break}case ie.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this._err($e.missingWhitespaceBetweenAttributes),this.state=ae.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case ie.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this._err($e.unexpectedSolidusInTag),this.state=ae.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.data+=yi;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ns.DASH_DASH,!0)?(this._createCommentToken(Ns.DASH_DASH.length+1),this.state=ae.COMMENT_START):this._consumeSequenceIfMatch(Ns.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ns.DOCTYPE.length+1),this.state=ae.DOCTYPE):this._consumeSequenceIfMatch(Ns.CDATA_START,!0)?this.inForeignNode?this.state=ae.CDATA_SECTION:(this._err($e.cdataInHtmlContent),this._createCommentToken(Ns.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ae.BOGUS_COMMENT):this._ensureHibernation()||(this._err($e.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_START_DASH;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptClosingOfEmptyComment),this.state=ae.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptClosingOfEmptyComment),this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ae.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END_DASH;break}case ie.LESS_THAN_SIGN:{n.data+="<",this.state=ae.COMMENT_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.data+=yi;break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case ie.EXCLAMATION_MARK:{n.data+="!",this.state=ae.COMMENT_LESS_THAN_SIGN_BANG;break}case ie.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===ie.HYPHEN_MINUS?this.state=ae.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ae.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===ie.HYPHEN_MINUS?this.state=ae.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ae.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==ie.GREATER_THAN_SIGN&&t!==ie.EOF&&this._err($e.nestedComment),this.state=ae.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END;break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EXCLAMATION_MARK:{this.state=ae.COMMENT_END_BANG;break}case ie.HYPHEN_MINUS:{n.data+="-";break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{n.data+="--!",this.state=ae.COMMENT_END_DASH;break}case ie.GREATER_THAN_SIGN:{this._err($e.incorrectlyClosedComment),this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=ae.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this.state=ae.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case ie.EOF:{this._err($e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingWhitespaceBeforeDoctypeName),this.state=ae.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(sS(t))this._createDoctypeToken(String.fromCharCode(dA(t))),this.state=ae.DOCTYPE_NAME;else switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.NULL:{this._err($e.unexpectedNullCharacter),this._createDoctypeToken(yi),this.state=ae.DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=ae.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.AFTER_DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.name+=yi;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(sS(t)?dA(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ns.PUBLIC,!1)?this.state=ae.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ns.SYSTEM,!1)?this.state=ae.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err($e.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.QUOTATION_MARK:{this._err($e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err($e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.publicId+=yi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.publicId+=yi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.QUOTATION_MARK:{this._err($e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err($e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.QUOTATION_MARK:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.QUOTATION_MARK:{this._err($e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err($e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.systemId+=yi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.systemId+=yi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.NULL:{this._err($e.unexpectedNullCharacter);break}case ie.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case ie.RIGHT_SQUARE_BRACKET:{this.state=ae.CDATA_SECTION_BRACKET;break}case ie.EOF:{this._err($e.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===ie.RIGHT_SQUARE_BRACKET?this.state=ae.CDATA_SECTION_END:(this._emitChars("]"),this.state=ae.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA;break}case ie.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ae.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(ie.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&wY(this.preprocessor.peek(1))?ae.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){wY(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===ie.SEMICOLON&&this._err($e.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const ede=new Set([P.DD,P.DT,P.LI,P.OPTGROUP,P.OPTION,P.P,P.RB,P.RP,P.RT,P.RTC]),SY=new Set([...ede,P.CAPTION,P.COLGROUP,P.TBODY,P.TD,P.TFOOT,P.TH,P.THEAD,P.TR]),EO=new Set([P.APPLET,P.CAPTION,P.HTML,P.MARQUEE,P.OBJECT,P.TABLE,P.TD,P.TEMPLATE,P.TH]),n$e=new Set([...EO,P.OL,P.UL]),r$e=new Set([...EO,P.BUTTON]),CY=new Set([P.ANNOTATION_XML,P.MI,P.MN,P.MO,P.MS,P.MTEXT]),TY=new Set([P.DESC,P.FOREIGN_OBJECT,P.TITLE]),i$e=new Set([P.TR,P.TEMPLATE,P.HTML]),o$e=new Set([P.TBODY,P.TFOOT,P.THEAD,P.TEMPLATE,P.HTML]),a$e=new Set([P.TABLE,P.TEMPLATE,P.HTML]),s$e=new Set([P.TD,P.TH]);class l$e{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=P.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===P.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===tt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==tt.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(e8,tt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(s$e,tt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(a$e,tt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(o$e,tt.HTML)}clearBackToTableRowContext(){this.clearBackTo(i$e,tt.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===P.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===P.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case tt.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case tt.SVG:{if(TY.has(i))return!1;break}case tt.MATHML:{if(CY.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,EO)}hasInListItemScope(t){return this.hasInDynamicScope(t,n$e)}hasInButtonScope(t){return this.hasInDynamicScope(t,r$e)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case tt.HTML:{if(e8.has(n))return!0;if(EO.has(n))return!1;break}case tt.SVG:{if(TY.has(n))return!1;break}case tt.MATHML:{if(CY.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===tt.HTML)switch(this.tagIDs[n]){case t:return!0;case P.TABLE:case P.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===tt.HTML)switch(this.tagIDs[t]){case P.TBODY:case P.THEAD:case P.TFOOT:return!0;case P.TABLE:case P.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===tt.HTML)switch(this.tagIDs[n]){case t:return!0;case P.OPTION:case P.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&ede.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&SY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&SY.has(this.currentTagId);)this.pop()}}const PP=3;var pd;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(pd||(pd={}));const kY={type:pd.Marker};class c$e{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let s=0;s<this.entries.length;s++){const l=this.entries[s];if(l.type===pd.Marker)break;const{element:c}=l;if(this.treeAdapter.getTagName(c)===o&&this.treeAdapter.getNamespaceURI(c)===a){const d=this.treeAdapter.getAttrList(c);d.length===i&&r.push({idx:s,attrs:d})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<PP)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<PP)return;const i=new Map(n.map(a=>[a.name,a.value]));let o=0;for(let a=0;a<r.length;a++){const s=r[a];s.attrs.every(l=>i.get(l.name)===l.value)&&(o+=1,o>=PP&&this.entries.splice(s.idx,1))}}insertMarker(){this.entries.unshift(kY)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:pd.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:pd.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(kY);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===pd.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===pd.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===pd.Element&&n.element===t)}}const vp={createDocument(){return{nodeName:"#document",mode:oc.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};vp.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(vp.isTextNode(n)){n.value+=t;return}}vp.appendChild(e,vp.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&vp.isTextNode(r)?r.value+=t:vp.insertBefore(e,vp.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},tde="html",u$e="about:legacy-compat",d$e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",nde=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],f$e=[...nde,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],h$e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),rde=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],p$e=[...rde,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function _Y(e,t){return t.some(n=>e.startsWith(n))}function m$e(e){return e.name===tde&&e.publicId===null&&(e.systemId===null||e.systemId===u$e)}function g$e(e){if(e.name!==tde)return oc.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===d$e)return oc.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),h$e.has(n))return oc.QUIRKS;let r=t===null?f$e:nde;if(_Y(n,r))return oc.QUIRKS;if(r=t===null?rde:p$e,_Y(n,r))return oc.LIMITED_QUIRKS}return oc.NO_QUIRKS}const AY={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},y$e="definitionurl",b$e="definitionURL",v$e=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),x$e=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:tt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:tt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:tt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:tt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:tt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:tt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:tt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:tt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:tt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:tt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:tt.XMLNS}]]),w$e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),E$e=new Set([P.B,P.BIG,P.BLOCKQUOTE,P.BODY,P.BR,P.CENTER,P.CODE,P.DD,P.DIV,P.DL,P.DT,P.EM,P.EMBED,P.H1,P.H2,P.H3,P.H4,P.H5,P.H6,P.HEAD,P.HR,P.I,P.IMG,P.LI,P.LISTING,P.MENU,P.META,P.NOBR,P.OL,P.P,P.PRE,P.RUBY,P.S,P.SMALL,P.SPAN,P.STRONG,P.STRIKE,P.SUB,P.SUP,P.TABLE,P.TT,P.U,P.UL,P.VAR]);function S$e(e){const t=e.tagID;return t===P.FONT&&e.attrs.some(({name:r})=>r===v0.COLOR||r===v0.SIZE||r===v0.FACE)||E$e.has(t)}function ide(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===y$e){e.attrs[t].name=b$e;break}}function ode(e){for(let t=0;t<e.attrs.length;t++){const n=v$e.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function MF(e){for(let t=0;t<e.attrs.length;t++){const n=x$e.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function C$e(e){const t=w$e.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=JD(e.tagName))}function T$e(e,t){return t===tt.MATHML&&(e===P.MI||e===P.MO||e===P.MN||e===P.MS||e===P.MTEXT)}function k$e(e,t,n){if(t===tt.MATHML&&e===P.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===v0.ENCODING){const i=n[r].value.toLowerCase();return i===AY.TEXT_HTML||i===AY.APPLICATION_XML}}return t===tt.SVG&&(e===P.FOREIGN_OBJECT||e===P.DESC||e===P.TITLE)}function _$e(e,t,n,r){return(!r||r===tt.HTML)&&k$e(e,t,n)||(!r||r===tt.MATHML)&&T$e(e,t)}const A$e="hidden",N$e=8,O$e=3;var ue;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(ue||(ue={}));const M$e={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},ade=new Set([P.TABLE,P.TBODY,P.TFOOT,P.THEAD,P.TR]),NY={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:vp,onParseError:null};class sde{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=ue.INITIAL,this.originalInsertionMode=ue.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...NY,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new t$e(this.options,this),this.activeFormattingElements=new c$e(this.treeAdapter),this.fragmentContextID=r?JD(this.treeAdapter.getTagName(r)):P.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new l$e(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...NY,...n};t??(t=r.treeAdapter.createElement(_e.TEMPLATE,tt.HTML,[]));const i=r.treeAdapter.createElement("documentmock",tt.HTML,[]),o=new this(r,i,t);return o.fragmentContextID===P.TEMPLATE&&o.tmplInsertionModeStack.unshift(ue.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:M$e,a={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(a)}onItemPush(t,n,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let o,a;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,a=this.fragmentContextID):{current:o,currentTagId:a}=this.openElements,this._setContextModes(o,a)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===tt.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,tt.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=ue.TEXT}switchToPlaintextParsing(){this.insertionMode=ue.TEXT,this.originalInsertionMode=ue.IN_BODY,this.tokenizer.state=Hs.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===_e.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==tt.HTML))switch(this.fragmentContextID){case P.TITLE:case P.TEXTAREA:{this.tokenizer.state=Hs.RCDATA;break}case P.STYLE:case P.XMP:case P.IFRAME:case P.NOEMBED:case P.NOFRAMES:case P.NOSCRIPT:{this.tokenizer.state=Hs.RAWTEXT;break}case P.SCRIPT:{this.tokenizer.state=Hs.SCRIPT_DATA;break}case P.PLAINTEXT:{this.tokenizer.state=Hs.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(s=>this.treeAdapter.isDocumentTypeNode(s));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,tt.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,tt.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(_e.HTML,tt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,P.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),o=r?i.lastIndexOf(r):i.length,a=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:c,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:c,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),o=n.type===lr.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===P.SVG&&this.treeAdapter.getTagName(n)===_e.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===tt.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===P.MGLYPH||t.tagID===P.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,tt.HTML)}_processToken(t){switch(t.type){case lr.CHARACTER:{this.onCharacter(t);break}case lr.NULL_CHARACTER:{this.onNullCharacter(t);break}case lr.COMMENT:{this.onComment(t);break}case lr.DOCTYPE:{this.onDoctype(t);break}case lr.START_TAG:{this._processStartTag(t);break}case lr.END_TAG:{this.onEndTag(t);break}case lr.EOF:{this.onEof(t);break}case lr.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return _$e(t,i,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===pd.Marker||this.openElements.contains(i.element)),r=n===-1?t-1:n-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ue.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(P.P),this.openElements.popUntilTagNamePopped(P.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case P.TR:{this.insertionMode=ue.IN_ROW;return}case P.TBODY:case P.THEAD:case P.TFOOT:{this.insertionMode=ue.IN_TABLE_BODY;return}case P.CAPTION:{this.insertionMode=ue.IN_CAPTION;return}case P.COLGROUP:{this.insertionMode=ue.IN_COLUMN_GROUP;return}case P.TABLE:{this.insertionMode=ue.IN_TABLE;return}case P.BODY:{this.insertionMode=ue.IN_BODY;return}case P.FRAMESET:{this.insertionMode=ue.IN_FRAMESET;return}case P.SELECT:{this._resetInsertionModeForSelect(t);return}case P.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case P.HTML:{this.insertionMode=this.headElement?ue.AFTER_HEAD:ue.BEFORE_HEAD;return}case P.TD:case P.TH:{if(t>0){this.insertionMode=ue.IN_CELL;return}break}case P.HEAD:{if(t>0){this.insertionMode=ue.IN_HEAD;return}break}}this.insertionMode=ue.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===P.TEMPLATE)break;if(r===P.TABLE){this.insertionMode=ue.IN_SELECT_IN_TABLE;return}}this.insertionMode=ue.IN_SELECT}_isElementCausesFosterParenting(t){return ade.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case P.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===tt.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case P.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return Z8e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){s9e(this,t);return}switch(this.insertionMode){case ue.INITIAL:{LE(this,t);break}case ue.BEFORE_HTML:{AS(this,t);break}case ue.BEFORE_HEAD:{NS(this,t);break}case ue.IN_HEAD:{OS(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{MS(this,t);break}case ue.AFTER_HEAD:{DS(this,t);break}case ue.IN_BODY:case ue.IN_CAPTION:case ue.IN_CELL:case ue.IN_TEMPLATE:{cde(this,t);break}case ue.TEXT:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{LP(this,t);break}case ue.IN_TABLE_TEXT:{mde(this,t);break}case ue.IN_COLUMN_GROUP:{SO(this,t);break}case ue.AFTER_BODY:{CO(this,t);break}case ue.AFTER_AFTER_BODY:{oN(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){a9e(this,t);return}switch(this.insertionMode){case ue.INITIAL:{LE(this,t);break}case ue.BEFORE_HTML:{AS(this,t);break}case ue.BEFORE_HEAD:{NS(this,t);break}case ue.IN_HEAD:{OS(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{MS(this,t);break}case ue.AFTER_HEAD:{DS(this,t);break}case ue.TEXT:{this._insertCharacters(t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{LP(this,t);break}case ue.IN_COLUMN_GROUP:{SO(this,t);break}case ue.AFTER_BODY:{CO(this,t);break}case ue.AFTER_AFTER_BODY:{oN(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){t8(this,t);return}switch(this.insertionMode){case ue.INITIAL:case ue.BEFORE_HTML:case ue.BEFORE_HEAD:case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:case ue.IN_BODY:case ue.IN_TABLE:case ue.IN_CAPTION:case ue.IN_COLUMN_GROUP:case ue.IN_TABLE_BODY:case ue.IN_ROW:case ue.IN_CELL:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:case ue.IN_TEMPLATE:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:{t8(this,t);break}case ue.IN_TABLE_TEXT:{jE(this,t);break}case ue.AFTER_BODY:{B$e(this,t);break}case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{$$e(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case ue.INITIAL:{H$e(this,t);break}case ue.BEFORE_HEAD:case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:{this._err(t,$e.misplacedDoctype);break}case ue.IN_TABLE_TEXT:{jE(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,$e.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?l9e(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case ue.INITIAL:{LE(this,t);break}case ue.BEFORE_HTML:{F$e(this,t);break}case ue.BEFORE_HEAD:{z$e(this,t);break}case ue.IN_HEAD:{ku(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{W$e(this,t);break}case ue.AFTER_HEAD:{G$e(this,t);break}case ue.IN_BODY:{Na(this,t);break}case ue.IN_TABLE:{w1(this,t);break}case ue.IN_TABLE_TEXT:{jE(this,t);break}case ue.IN_CAPTION:{VHe(this,t);break}case ue.IN_COLUMN_GROUP:{IF(this,t);break}case ue.IN_TABLE_BODY:{nR(this,t);break}case ue.IN_ROW:{rR(this,t);break}case ue.IN_CELL:{YHe(this,t);break}case ue.IN_SELECT:{bde(this,t);break}case ue.IN_SELECT_IN_TABLE:{KHe(this,t);break}case ue.IN_TEMPLATE:{ZHe(this,t);break}case ue.AFTER_BODY:{JHe(this,t);break}case ue.IN_FRAMESET:{e9e(this,t);break}case ue.AFTER_FRAMESET:{n9e(this,t);break}case ue.AFTER_AFTER_BODY:{i9e(this,t);break}case ue.AFTER_AFTER_FRAMESET:{o9e(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?c9e(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case ue.INITIAL:{LE(this,t);break}case ue.BEFORE_HTML:{U$e(this,t);break}case ue.BEFORE_HEAD:{V$e(this,t);break}case ue.IN_HEAD:{q$e(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{Y$e(this,t);break}case ue.AFTER_HEAD:{K$e(this,t);break}case ue.IN_BODY:{tR(this,t);break}case ue.TEXT:{IHe(this,t);break}case ue.IN_TABLE:{CC(this,t);break}case ue.IN_TABLE_TEXT:{jE(this,t);break}case ue.IN_CAPTION:{qHe(this,t);break}case ue.IN_COLUMN_GROUP:{WHe(this,t);break}case ue.IN_TABLE_BODY:{n8(this,t);break}case ue.IN_ROW:{yde(this,t);break}case ue.IN_CELL:{GHe(this,t);break}case ue.IN_SELECT:{vde(this,t);break}case ue.IN_SELECT_IN_TABLE:{XHe(this,t);break}case ue.IN_TEMPLATE:{QHe(this,t);break}case ue.AFTER_BODY:{wde(this,t);break}case ue.IN_FRAMESET:{t9e(this,t);break}case ue.AFTER_FRAMESET:{r9e(this,t);break}case ue.AFTER_AFTER_BODY:{oN(this,t);break}}}onEof(t){switch(this.insertionMode){case ue.INITIAL:{LE(this,t);break}case ue.BEFORE_HTML:{AS(this,t);break}case ue.BEFORE_HEAD:{NS(this,t);break}case ue.IN_HEAD:{OS(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{MS(this,t);break}case ue.AFTER_HEAD:{DS(this,t);break}case ue.IN_BODY:case ue.IN_TABLE:case ue.IN_CAPTION:case ue.IN_COLUMN_GROUP:case ue.IN_TABLE_BODY:case ue.IN_ROW:case ue.IN_CELL:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:{hde(this,t);break}case ue.TEXT:{PHe(this,t);break}case ue.IN_TABLE_TEXT:{jE(this,t);break}case ue.IN_TEMPLATE:{xde(this,t);break}case ue.AFTER_BODY:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{RF(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===ie.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:case ue.TEXT:case ue.IN_COLUMN_GROUP:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:{this._insertCharacters(t);break}case ue.IN_BODY:case ue.IN_CAPTION:case ue.IN_CELL:case ue.IN_TEMPLATE:case ue.AFTER_BODY:case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{lde(this,t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{LP(this,t);break}case ue.IN_TABLE_TEXT:{pde(this,t);break}}}}function D$e(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):fde(e,t),n}function R$e(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function I$e(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,a=i;a!==n;o++,a=i){i=e.openElements.getCommonAncestor(a);const s=e.activeFormattingElements.getElementEntry(a),l=s&&o>=O$e;!s||l?(l&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(a)):(a=P$e(e,s),r===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function P$e(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function L$e(e,t,n){const r=e.treeAdapter.getTagName(t),i=JD(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);i===P.TEMPLATE&&o===tt.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function j$e(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function DF(e,t){for(let n=0;n<N$e;n++){const r=D$e(e,t);if(!r)break;const i=R$e(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const o=I$e(e,i,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),a&&L$e(e,a,o),j$e(e,i,r)}}function t8(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function B$e(e,t){e._appendCommentNode(t,e.openElements.items[0])}function $$e(e,t){e._appendCommentNode(t,e.document)}function RF(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(o);a&&!a.endTag&&e._setEndLocation(o,t)}}}}function H$e(e,t){e._setDocumentType(t);const n=t.forceQuirks?oc.QUIRKS:g$e(t);m$e(t)||e._err(t,$e.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=ue.BEFORE_HTML}function LE(e,t){e._err(t,$e.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,oc.QUIRKS),e.insertionMode=ue.BEFORE_HTML,e._processToken(t)}function F$e(e,t){t.tagID===P.HTML?(e._insertElement(t,tt.HTML),e.insertionMode=ue.BEFORE_HEAD):AS(e,t)}function U$e(e,t){const n=t.tagID;(n===P.HTML||n===P.HEAD||n===P.BODY||n===P.BR)&&AS(e,t)}function AS(e,t){e._insertFakeRootElement(),e.insertionMode=ue.BEFORE_HEAD,e._processToken(t)}function z$e(e,t){switch(t.tagID){case P.HTML:{Na(e,t);break}case P.HEAD:{e._insertElement(t,tt.HTML),e.headElement=e.openElements.current,e.insertionMode=ue.IN_HEAD;break}default:NS(e,t)}}function V$e(e,t){const n=t.tagID;n===P.HEAD||n===P.BODY||n===P.HTML||n===P.BR?NS(e,t):e._err(t,$e.endTagWithoutMatchingOpenElement)}function NS(e,t){e._insertFakeElement(_e.HEAD,P.HEAD),e.headElement=e.openElements.current,e.insertionMode=ue.IN_HEAD,e._processToken(t)}function ku(e,t){switch(t.tagID){case P.HTML:{Na(e,t);break}case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:{e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.TITLE:{e._switchToTextParsing(t,Hs.RCDATA);break}case P.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Hs.RAWTEXT):(e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_HEAD_NO_SCRIPT);break}case P.NOFRAMES:case P.STYLE:{e._switchToTextParsing(t,Hs.RAWTEXT);break}case P.SCRIPT:{e._switchToTextParsing(t,Hs.SCRIPT_DATA);break}case P.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ue.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ue.IN_TEMPLATE);break}case P.HEAD:{e._err(t,$e.misplacedStartTagForHeadElement);break}default:OS(e,t)}}function q$e(e,t){switch(t.tagID){case P.HEAD:{e.openElements.pop(),e.insertionMode=ue.AFTER_HEAD;break}case P.BODY:case P.BR:case P.HTML:{OS(e,t);break}case P.TEMPLATE:{cy(e,t);break}default:e._err(t,$e.endTagWithoutMatchingOpenElement)}}function cy(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==P.TEMPLATE&&e._err(t,$e.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(P.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,$e.endTagWithoutMatchingOpenElement)}function OS(e,t){e.openElements.pop(),e.insertionMode=ue.AFTER_HEAD,e._processToken(t)}function W$e(e,t){switch(t.tagID){case P.HTML:{Na(e,t);break}case P.BASEFONT:case P.BGSOUND:case P.HEAD:case P.LINK:case P.META:case P.NOFRAMES:case P.STYLE:{ku(e,t);break}case P.NOSCRIPT:{e._err(t,$e.nestedNoscriptInHead);break}default:MS(e,t)}}function Y$e(e,t){switch(t.tagID){case P.NOSCRIPT:{e.openElements.pop(),e.insertionMode=ue.IN_HEAD;break}case P.BR:{MS(e,t);break}default:e._err(t,$e.endTagWithoutMatchingOpenElement)}}function MS(e,t){const n=t.type===lr.EOF?$e.openElementsLeftAfterEof:$e.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=ue.IN_HEAD,e._processToken(t)}function G$e(e,t){switch(t.tagID){case P.HTML:{Na(e,t);break}case P.BODY:{e._insertElement(t,tt.HTML),e.framesetOk=!1,e.insertionMode=ue.IN_BODY;break}case P.FRAMESET:{e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_FRAMESET;break}case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:case P.NOFRAMES:case P.SCRIPT:case P.STYLE:case P.TEMPLATE:case P.TITLE:{e._err(t,$e.abandonedHeadElementChild),e.openElements.push(e.headElement,P.HEAD),ku(e,t),e.openElements.remove(e.headElement);break}case P.HEAD:{e._err(t,$e.misplacedStartTagForHeadElement);break}default:DS(e,t)}}function K$e(e,t){switch(t.tagID){case P.BODY:case P.HTML:case P.BR:{DS(e,t);break}case P.TEMPLATE:{cy(e,t);break}default:e._err(t,$e.endTagWithoutMatchingOpenElement)}}function DS(e,t){e._insertFakeElement(_e.BODY,P.BODY),e.insertionMode=ue.IN_BODY,eR(e,t)}function eR(e,t){switch(t.type){case lr.CHARACTER:{cde(e,t);break}case lr.WHITESPACE_CHARACTER:{lde(e,t);break}case lr.COMMENT:{t8(e,t);break}case lr.START_TAG:{Na(e,t);break}case lr.END_TAG:{tR(e,t);break}case lr.EOF:{hde(e,t);break}}}function lde(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function cde(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function X$e(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Z$e(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Q$e(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_FRAMESET)}function J$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML)}function eHe(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&e8.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,tt.HTML)}function tHe(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function nHe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),n||(e.formElement=e.openElements.current))}function rHe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===P.LI&&i===P.LI||(n===P.DD||n===P.DT)&&(i===P.DD||i===P.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==P.ADDRESS&&i!==P.DIV&&i!==P.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML)}function iHe(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),e.tokenizer.state=Hs.PLAINTEXT}function oHe(e,t){e.openElements.hasInScope(P.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.framesetOk=!1}function aHe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(_e.A);n&&(DF(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function sHe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function lHe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(P.NOBR)&&(DF(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,tt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function cHe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function uHe(e,t){e.treeAdapter.getDocumentMode(e.document)!==oc.QUIRKS&&e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),e.framesetOk=!1,e.insertionMode=ue.IN_TABLE}function ude(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,tt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function dde(e){const t=Que(e,v0.TYPE);return t!=null&&t.toLowerCase()===A$e}function dHe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,tt.HTML),dde(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function fHe(e,t){e._appendElement(t,tt.HTML),t.ackSelfClosing=!0}function hHe(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._appendElement(t,tt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function pHe(e,t){t.tagName=_e.IMG,t.tagID=P.IMG,ude(e,t)}function mHe(e,t){e._insertElement(t,tt.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Hs.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ue.TEXT}function gHe(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Hs.RAWTEXT)}function yHe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Hs.RAWTEXT)}function OY(e,t){e._switchToTextParsing(t,Hs.RAWTEXT)}function bHe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ue.IN_TABLE||e.insertionMode===ue.IN_CAPTION||e.insertionMode===ue.IN_TABLE_BODY||e.insertionMode===ue.IN_ROW||e.insertionMode===ue.IN_CELL?ue.IN_SELECT_IN_TABLE:ue.IN_SELECT}function vHe(e,t){e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML)}function xHe(e,t){e.openElements.hasInScope(P.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,tt.HTML)}function wHe(e,t){e.openElements.hasInScope(P.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(P.RTC),e._insertElement(t,tt.HTML)}function EHe(e,t){e._reconstructActiveFormattingElements(),ide(t),MF(t),t.selfClosing?e._appendElement(t,tt.MATHML):e._insertElement(t,tt.MATHML),t.ackSelfClosing=!0}function SHe(e,t){e._reconstructActiveFormattingElements(),ode(t),MF(t),t.selfClosing?e._appendElement(t,tt.SVG):e._insertElement(t,tt.SVG),t.ackSelfClosing=!0}function MY(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML)}function Na(e,t){switch(t.tagID){case P.I:case P.S:case P.B:case P.U:case P.EM:case P.TT:case P.BIG:case P.CODE:case P.FONT:case P.SMALL:case P.STRIKE:case P.STRONG:{sHe(e,t);break}case P.A:{aHe(e,t);break}case P.H1:case P.H2:case P.H3:case P.H4:case P.H5:case P.H6:{eHe(e,t);break}case P.P:case P.DL:case P.OL:case P.UL:case P.DIV:case P.DIR:case P.NAV:case P.MAIN:case P.MENU:case P.ASIDE:case P.CENTER:case P.FIGURE:case P.FOOTER:case P.HEADER:case P.HGROUP:case P.DIALOG:case P.DETAILS:case P.ADDRESS:case P.ARTICLE:case P.SEARCH:case P.SECTION:case P.SUMMARY:case P.FIELDSET:case P.BLOCKQUOTE:case P.FIGCAPTION:{J$e(e,t);break}case P.LI:case P.DD:case P.DT:{rHe(e,t);break}case P.BR:case P.IMG:case P.WBR:case P.AREA:case P.EMBED:case P.KEYGEN:{ude(e,t);break}case P.HR:{hHe(e,t);break}case P.RB:case P.RTC:{xHe(e,t);break}case P.RT:case P.RP:{wHe(e,t);break}case P.PRE:case P.LISTING:{tHe(e,t);break}case P.XMP:{gHe(e,t);break}case P.SVG:{SHe(e,t);break}case P.HTML:{X$e(e,t);break}case P.BASE:case P.LINK:case P.META:case P.STYLE:case P.TITLE:case P.SCRIPT:case P.BGSOUND:case P.BASEFONT:case P.TEMPLATE:{ku(e,t);break}case P.BODY:{Z$e(e,t);break}case P.FORM:{nHe(e,t);break}case P.NOBR:{lHe(e,t);break}case P.MATH:{EHe(e,t);break}case P.TABLE:{uHe(e,t);break}case P.INPUT:{dHe(e,t);break}case P.PARAM:case P.TRACK:case P.SOURCE:{fHe(e,t);break}case P.IMAGE:{pHe(e,t);break}case P.BUTTON:{oHe(e,t);break}case P.APPLET:case P.OBJECT:case P.MARQUEE:{cHe(e,t);break}case P.IFRAME:{yHe(e,t);break}case P.SELECT:{bHe(e,t);break}case P.OPTION:case P.OPTGROUP:{vHe(e,t);break}case P.NOEMBED:case P.NOFRAMES:{OY(e,t);break}case P.FRAMESET:{Q$e(e,t);break}case P.TEXTAREA:{mHe(e,t);break}case P.NOSCRIPT:{e.options.scriptingEnabled?OY(e,t):MY(e,t);break}case P.PLAINTEXT:{iHe(e,t);break}case P.COL:case P.TH:case P.TD:case P.TR:case P.HEAD:case P.FRAME:case P.TBODY:case P.TFOOT:case P.THEAD:case P.CAPTION:case P.COLGROUP:break;default:MY(e,t)}}function CHe(e,t){if(e.openElements.hasInScope(P.BODY)&&(e.insertionMode=ue.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function THe(e,t){e.openElements.hasInScope(P.BODY)&&(e.insertionMode=ue.AFTER_BODY,wde(e,t))}function kHe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function _He(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(P.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(P.FORM):n&&e.openElements.remove(n))}function AHe(e){e.openElements.hasInButtonScope(P.P)||e._insertFakeElement(_e.P,P.P),e._closePElement()}function NHe(e){e.openElements.hasInListItemScope(P.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(P.LI),e.openElements.popUntilTagNamePopped(P.LI))}function OHe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function MHe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function DHe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function RHe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(_e.BR,P.BR),e.openElements.pop(),e.framesetOk=!1}function fde(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],a=e.openElements.tagIDs[i];if(r===a&&(r!==P.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,a))break}}function tR(e,t){switch(t.tagID){case P.A:case P.B:case P.I:case P.S:case P.U:case P.EM:case P.TT:case P.BIG:case P.CODE:case P.FONT:case P.NOBR:case P.SMALL:case P.STRIKE:case P.STRONG:{DF(e,t);break}case P.P:{AHe(e);break}case P.DL:case P.UL:case P.OL:case P.DIR:case P.DIV:case P.NAV:case P.PRE:case P.MAIN:case P.MENU:case P.ASIDE:case P.BUTTON:case P.CENTER:case P.FIGURE:case P.FOOTER:case P.HEADER:case P.HGROUP:case P.DIALOG:case P.ADDRESS:case P.ARTICLE:case P.DETAILS:case P.SEARCH:case P.SECTION:case P.SUMMARY:case P.LISTING:case P.FIELDSET:case P.BLOCKQUOTE:case P.FIGCAPTION:{kHe(e,t);break}case P.LI:{NHe(e);break}case P.DD:case P.DT:{OHe(e,t);break}case P.H1:case P.H2:case P.H3:case P.H4:case P.H5:case P.H6:{MHe(e);break}case P.BR:{RHe(e);break}case P.BODY:{CHe(e,t);break}case P.HTML:{THe(e,t);break}case P.FORM:{_He(e);break}case P.APPLET:case P.OBJECT:case P.MARQUEE:{DHe(e,t);break}case P.TEMPLATE:{cy(e,t);break}default:fde(e,t)}}function hde(e,t){e.tmplInsertionModeStack.length>0?xde(e,t):RF(e,t)}function IHe(e,t){var n;t.tagID===P.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function PHe(e,t){e._err(t,$e.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function LP(e,t){if(e.openElements.currentTagId!==void 0&&ade.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ue.IN_TABLE_TEXT,t.type){case lr.CHARACTER:{mde(e,t);break}case lr.WHITESPACE_CHARACTER:{pde(e,t);break}}else KT(e,t)}function LHe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_CAPTION}function jHe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_COLUMN_GROUP}function BHe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(_e.COLGROUP,P.COLGROUP),e.insertionMode=ue.IN_COLUMN_GROUP,IF(e,t)}function $He(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_TABLE_BODY}function HHe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(_e.TBODY,P.TBODY),e.insertionMode=ue.IN_TABLE_BODY,nR(e,t)}function FHe(e,t){e.openElements.hasInTableScope(P.TABLE)&&(e.openElements.popUntilTagNamePopped(P.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function UHe(e,t){dde(t)?e._appendElement(t,tt.HTML):KT(e,t),t.ackSelfClosing=!0}function zHe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,tt.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function w1(e,t){switch(t.tagID){case P.TD:case P.TH:case P.TR:{HHe(e,t);break}case P.STYLE:case P.SCRIPT:case P.TEMPLATE:{ku(e,t);break}case P.COL:{BHe(e,t);break}case P.FORM:{zHe(e,t);break}case P.TABLE:{FHe(e,t);break}case P.TBODY:case P.TFOOT:case P.THEAD:{$He(e,t);break}case P.INPUT:{UHe(e,t);break}case P.CAPTION:{LHe(e,t);break}case P.COLGROUP:{jHe(e,t);break}default:KT(e,t)}}function CC(e,t){switch(t.tagID){case P.TABLE:{e.openElements.hasInTableScope(P.TABLE)&&(e.openElements.popUntilTagNamePopped(P.TABLE),e._resetInsertionMode());break}case P.TEMPLATE:{cy(e,t);break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TBODY:case P.TD:case P.TFOOT:case P.TH:case P.THEAD:case P.TR:break;default:KT(e,t)}}function KT(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,eR(e,t),e.fosterParentingEnabled=n}function pde(e,t){e.pendingCharacterTokens.push(t)}function mde(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function jE(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)KT(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const gde=new Set([P.CAPTION,P.COL,P.COLGROUP,P.TBODY,P.TD,P.TFOOT,P.TH,P.THEAD,P.TR]);function VHe(e,t){const n=t.tagID;gde.has(n)?e.openElements.hasInTableScope(P.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_TABLE,w1(e,t)):Na(e,t)}function qHe(e,t){const n=t.tagID;switch(n){case P.CAPTION:case P.TABLE:{e.openElements.hasInTableScope(P.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_TABLE,n===P.TABLE&&CC(e,t));break}case P.BODY:case P.COL:case P.COLGROUP:case P.HTML:case P.TBODY:case P.TD:case P.TFOOT:case P.TH:case P.THEAD:case P.TR:break;default:tR(e,t)}}function IF(e,t){switch(t.tagID){case P.HTML:{Na(e,t);break}case P.COL:{e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.TEMPLATE:{ku(e,t);break}default:SO(e,t)}}function WHe(e,t){switch(t.tagID){case P.COLGROUP:{e.openElements.currentTagId===P.COLGROUP&&(e.openElements.pop(),e.insertionMode=ue.IN_TABLE);break}case P.TEMPLATE:{cy(e,t);break}case P.COL:break;default:SO(e,t)}}function SO(e,t){e.openElements.currentTagId===P.COLGROUP&&(e.openElements.pop(),e.insertionMode=ue.IN_TABLE,e._processToken(t))}function nR(e,t){switch(t.tagID){case P.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_ROW;break}case P.TH:case P.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(_e.TR,P.TR),e.insertionMode=ue.IN_ROW,rR(e,t);break}case P.CAPTION:case P.COL:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE,w1(e,t));break}default:w1(e,t)}}function n8(e,t){const n=t.tagID;switch(t.tagID){case P.TBODY:case P.TFOOT:case P.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE);break}case P.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE,CC(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TD:case P.TH:case P.TR:break;default:CC(e,t)}}function rR(e,t){switch(t.tagID){case P.TH:case P.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_CELL,e.activeFormattingElements.insertMarker();break}case P.CAPTION:case P.COL:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:case P.TR:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,nR(e,t));break}default:w1(e,t)}}function yde(e,t){switch(t.tagID){case P.TR:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY);break}case P.TABLE:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,n8(e,t));break}case P.TBODY:case P.TFOOT:case P.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(P.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,n8(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TD:case P.TH:break;default:CC(e,t)}}function YHe(e,t){const n=t.tagID;gde.has(n)?(e.openElements.hasInTableScope(P.TD)||e.openElements.hasInTableScope(P.TH))&&(e._closeTableCell(),rR(e,t)):Na(e,t)}function GHe(e,t){const n=t.tagID;switch(n){case P.TD:case P.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_ROW);break}case P.TABLE:case P.TBODY:case P.TFOOT:case P.THEAD:case P.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),yde(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:break;default:tR(e,t)}}function bde(e,t){switch(t.tagID){case P.HTML:{Na(e,t);break}case P.OPTION:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e._insertElement(t,tt.HTML);break}case P.OPTGROUP:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop(),e._insertElement(t,tt.HTML);break}case P.HR:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop(),e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.INPUT:case P.KEYGEN:case P.TEXTAREA:case P.SELECT:{e.openElements.hasInSelectScope(P.SELECT)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),t.tagID!==P.SELECT&&e._processStartTag(t));break}case P.SCRIPT:case P.TEMPLATE:{ku(e,t);break}}}function vde(e,t){switch(t.tagID){case P.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===P.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===P.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop();break}case P.OPTION:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop();break}case P.SELECT:{e.openElements.hasInSelectScope(P.SELECT)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode());break}case P.TEMPLATE:{cy(e,t);break}}}function KHe(e,t){const n=t.tagID;n===P.CAPTION||n===P.TABLE||n===P.TBODY||n===P.TFOOT||n===P.THEAD||n===P.TR||n===P.TD||n===P.TH?(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),e._processStartTag(t)):bde(e,t)}function XHe(e,t){const n=t.tagID;n===P.CAPTION||n===P.TABLE||n===P.TBODY||n===P.TFOOT||n===P.THEAD||n===P.TR||n===P.TD||n===P.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),e.onEndTag(t)):vde(e,t)}function ZHe(e,t){switch(t.tagID){case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:case P.NOFRAMES:case P.SCRIPT:case P.STYLE:case P.TEMPLATE:case P.TITLE:{ku(e,t);break}case P.CAPTION:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:{e.tmplInsertionModeStack[0]=ue.IN_TABLE,e.insertionMode=ue.IN_TABLE,w1(e,t);break}case P.COL:{e.tmplInsertionModeStack[0]=ue.IN_COLUMN_GROUP,e.insertionMode=ue.IN_COLUMN_GROUP,IF(e,t);break}case P.TR:{e.tmplInsertionModeStack[0]=ue.IN_TABLE_BODY,e.insertionMode=ue.IN_TABLE_BODY,nR(e,t);break}case P.TD:case P.TH:{e.tmplInsertionModeStack[0]=ue.IN_ROW,e.insertionMode=ue.IN_ROW,rR(e,t);break}default:e.tmplInsertionModeStack[0]=ue.IN_BODY,e.insertionMode=ue.IN_BODY,Na(e,t)}}function QHe(e,t){t.tagID===P.TEMPLATE&&cy(e,t)}function xde(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(P.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):RF(e,t)}function JHe(e,t){t.tagID===P.HTML?Na(e,t):CO(e,t)}function wde(e,t){var n;if(t.tagID===P.HTML){if(e.fragmentContext||(e.insertionMode=ue.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===P.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else CO(e,t)}function CO(e,t){e.insertionMode=ue.IN_BODY,eR(e,t)}function e9e(e,t){switch(t.tagID){case P.HTML:{Na(e,t);break}case P.FRAMESET:{e._insertElement(t,tt.HTML);break}case P.FRAME:{e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.NOFRAMES:{ku(e,t);break}}}function t9e(e,t){t.tagID===P.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==P.FRAMESET&&(e.insertionMode=ue.AFTER_FRAMESET))}function n9e(e,t){switch(t.tagID){case P.HTML:{Na(e,t);break}case P.NOFRAMES:{ku(e,t);break}}}function r9e(e,t){t.tagID===P.HTML&&(e.insertionMode=ue.AFTER_AFTER_FRAMESET)}function i9e(e,t){t.tagID===P.HTML?Na(e,t):oN(e,t)}function oN(e,t){e.insertionMode=ue.IN_BODY,eR(e,t)}function o9e(e,t){switch(t.tagID){case P.HTML:{Na(e,t);break}case P.NOFRAMES:{ku(e,t);break}}}function a9e(e,t){t.chars=yi,e._insertCharacters(t)}function s9e(e,t){e._insertCharacters(t),e.framesetOk=!1}function Ede(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==tt.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function l9e(e,t){if(S$e(t))Ede(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===tt.MATHML?ide(t):r===tt.SVG&&(C$e(t),ode(t)),MF(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function c9e(e,t){if(t.tagID===P.P||t.tagID===P.BR){Ede(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===tt.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}_e.AREA,_e.BASE,_e.BASEFONT,_e.BGSOUND,_e.BR,_e.COL,_e.EMBED,_e.FRAME,_e.HR,_e.IMG,_e.INPUT,_e.KEYGEN,_e.LINK,_e.META,_e.PARAM,_e.SOURCE,_e.TRACK,_e.WBR;function u9e(e,t){return sde.parse(e,t)}function d9e(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=sde.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function RS(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?DY(e.position):"start"in e||"end"in e?DY(e):"line"in e||"column"in e?r8(e):""}function r8(e){return RY(e&&e.line)+":"+RY(e&&e.column)}function DY(e){return r8(e&&e.start)+"-"+r8(e&&e.end)}function RY(e){return e&&typeof e=="number"?e:1}class ds extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=RS(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ds.prototype.file="";ds.prototype.name="";ds.prototype.reason="";ds.prototype.message="";ds.prototype.stack="";ds.prototype.column=void 0;ds.prototype.line=void 0;ds.prototype.ancestors=void 0;ds.prototype.cause=void 0;ds.prototype.fatal=void 0;ds.prototype.place=void 0;ds.prototype.ruleId=void 0;ds.prototype.source=void 0;const ud={basename:f9e,dirname:h9e,extname:p9e,join:m9e,sep:"/"};function f9e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');XT(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function h9e(e){if(XT(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function p9e(e){XT(e);let t=e.length,n=-1,r=0,i=-1,o=0,a;for(;t--;){const s=e.codePointAt(t);if(s===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),s===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function m9e(...e){let t=-1,n;for(;++t<e.length;)XT(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":g9e(n)}function g9e(e){XT(e);const t=e.codePointAt(0)===47;let n=y9e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function y9e(e,t){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=e.length;){if(a<e.length)s=e.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function XT(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const b9e={cwd:v9e};function v9e(){return"/"}function i8(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function x9e(e){if(typeof e=="string")e=new URL(e);else if(!i8(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return w9e(e)}function w9e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const jP=["history","path","basename","stem","extname","dirname"];class o8{constructor(t){let n;t?i8(t)?n={path:t}:typeof t=="string"||E9e(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":b9e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<jP.length;){const o=jP[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)jP.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ud.basename(this.path):void 0}set basename(t){$P(t,"basename"),BP(t,"basename"),this.path=ud.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ud.dirname(this.path):void 0}set dirname(t){IY(this.basename,"dirname"),this.path=ud.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ud.extname(this.path):void 0}set extname(t){if(BP(t,"extname"),IY(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ud.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){i8(t)&&(t=x9e(t)),$P(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ud.basename(this.path,this.extname):void 0}set stem(t){$P(t,"stem"),BP(t,"stem"),this.path=ud.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ds(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function BP(e,t){if(e&&e.includes(ud.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ud.sep+"`")}function $P(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function IY(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function E9e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const S9e={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},C9e="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",T9e=/-[a-z]/g,k9e=/%c(?:([-+])(\d+))?/g,_9e=/%x/g,A9e={2:!0,1:!1,0:null},N9e={};function O9e(e,t){const n=t||N9e,r=n.onerror,i=e instanceof o8?e:new o8(e),o=n.fragment?d9e:u9e,a=String(i),s=o(a,{sourceCodeLocationInfo:!0,onParseError:n.onerror?l:null,scriptingEnabled:!1});return R8e(s,{file:i,space:n.space,verbose:n.verbose});function l(c){const d=c.code,u=M9e(d),p=n[u],m=p??!0,v=typeof m=="number"?m:m?1:0;if(v){const w=S9e[u],T=new ds(x(w.reason),{place:{start:{line:c.startLine,column:c.startCol,offset:c.startOffset},end:{line:c.endLine,column:c.endCol,offset:c.endOffset}},ruleId:d,source:"hast-util-from-html"});i.path&&(T.file=i.path,T.name=i.path+":"+T.name),T.fatal=A9e[v],T.note=x(w.description),T.url=w.url===!1?void 0:C9e+d,r(T)}function x(w){return w.replace(k9e,T).replace(_9e,k);function T(N,I,M){const A=(M?Number.parseInt(M,10):0)*(I==="-"?-1:1),R=a.charAt(c.startOffset+A);return R9e(R)}function k(){return I9e(a.charCodeAt(c.startOffset))}}}}function M9e(e){return e.replace(T9e,D9e)}function D9e(e){return e.charAt(1).toUpperCase()}function R9e(e){return e==="`"?"` ` `":e}function I9e(e){return"0x"+e.toString(16).toUpperCase()}function P9e(e){const t=this,{emitParseErrors:n,...r}={...t.data("settings"),...e};t.parser=i;function i(o,a){return O9e(o,{...r,onerror:n?function(s){a.path&&(s.name=a.path+":"+s.name,s.file=a.path),a.messages.push(s)}:void 0})}}const Sde=-1,iR=0,IS=1,TO=2,PF=3,LF=4,jF=5,BF=6,Cde=7,Tde=8,PY=typeof self=="object"?self:globalThis,L9e=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case iR:case Sde:return n(a,i);case IS:{const s=n([],i);for(const l of a)s.push(r(l));return s}case TO:{const s=n({},i);for(const[l,c]of a)s[r(l)]=r(c);return s}case PF:return n(new Date(a),i);case LF:{const{source:s,flags:l}=a;return n(new RegExp(s,l),i)}case jF:{const s=n(new Map,i);for(const[l,c]of a)s.set(r(l),r(c));return s}case BF:{const s=n(new Set,i);for(const l of a)s.add(r(l));return s}case Cde:{const{name:s,message:l}=a;return n(new PY[s](l),i)}case Tde:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return n(new DataView(s),a)}}return n(new PY[o](a),i)};return r},LY=e=>L9e(new Map,e)(0),rv="",{toString:j9e}={},{keys:B9e}=Object,BE=e=>{const t=typeof e;if(t!=="object"||!e)return[iR,t];const n=j9e.call(e).slice(8,-1);switch(n){case"Array":return[IS,rv];case"Object":return[TO,rv];case"Date":return[PF,rv];case"RegExp":return[LF,rv];case"Map":return[jF,rv];case"Set":return[BF,rv];case"DataView":return[IS,n]}return n.includes("Array")?[IS,n]:n.includes("Error")?[Cde,n]:[TO,n]},fA=([e,t])=>e===iR&&(t==="function"||t==="symbol"),$9e=(e,t,n,r)=>{const i=(a,s)=>{const l=r.push(a)-1;return n.set(s,l),l},o=a=>{if(n.has(a))return n.get(a);let[s,l]=BE(a);switch(s){case iR:{let d=a;switch(l){case"bigint":s=Tde,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([Sde],a)}return i([s,d],a)}case IS:{if(l){let p=a;return l==="DataView"?p=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(a)),i([l,[...p]],a)}const d=[],u=i([s,d],a);for(const p of a)d.push(o(p));return u}case TO:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const d=[],u=i([s,d],a);for(const p of B9e(a))(e||!fA(BE(a[p])))&&d.push([o(p),o(a[p])]);return u}case PF:return i([s,a.toISOString()],a);case LF:{const{source:d,flags:u}=a;return i([s,{source:d,flags:u}],a)}case jF:{const d=[],u=i([s,d],a);for(const[p,m]of a)(e||!(fA(BE(p))||fA(BE(m))))&&d.push([o(p),o(m)]);return u}case BF:{const d=[],u=i([s,d],a);for(const p of a)(e||!fA(BE(p)))&&d.push(o(p));return u}}const{message:c}=a;return i([s,{name:l,message:c}],a)};return o},jY=(e,{json:t,lossy:n}={})=>{const r=[];return $9e(!(t||n),!!t,new Map,r)(e),r},E1=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?LY(jY(e,t)):structuredClone(e):(e,t)=>LY(jY(e,t)),$F=(function(e,t,n,r,i){const o=_u(t);return kde(e)?o.call(i,e,n,r):!1}),_u=(function(e){if(e==null)return U9e;if(typeof e=="string")return F9e(e);if(typeof e=="object")return H9e(e);if(typeof e=="function")return HF(e);throw new Error("Expected function, string, or array as `test`")});function H9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=_u(e[n]);return HF(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function F9e(e){return HF(t);function t(n){return n.tagName===e}}function HF(e){return t;function t(n,r,i){return!!(kde(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function U9e(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function kde(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const _de=_u(function(e){return e.tagName==="audio"||e.tagName==="canvas"||e.tagName==="embed"||e.tagName==="iframe"||e.tagName==="img"||e.tagName==="math"||e.tagName==="object"||e.tagName==="picture"||e.tagName==="svg"||e.tagName==="video"}),z9e=/[ \t\n\f\r]/g;function ZT(e){return typeof e=="object"?e.type==="text"?BY(e.value):!1:BY(e)}function BY(e){return e.replace(z9e,"")===""}const mx=(function(e){if(e==null)return Y9e;if(typeof e=="function")return oR(e);if(typeof e=="object")return Array.isArray(e)?V9e(e):q9e(e);if(typeof e=="string")return W9e(e);throw new Error("Expected function, string, or object as test")});function V9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=mx(e[n]);return oR(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function q9e(e){const t=e;return oR(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function W9e(e){return oR(t);function t(n){return n&&n.type===e}}function oR(e){return t;function t(n,r,i){return!!(G9e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Y9e(){return!0}function G9e(e){return e!==null&&typeof e=="object"&&"type"in e}const K9e=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],X9e=["button","input","select","textarea"],Z9e=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],Q9e={},FF=mx(["comment","doctype"]);function J9e(e,t){Ade(e,{collapse:aFe((t||Q9e).newlines?iFe:oFe),whitespace:"normal"})}function Ade(e,t){if("children"in e){const n={...t};return(e.type==="root"||Mde(e))&&(n.before=!0,n.after=!0),n.whitespace=sFe(e,t),tFe(e,n)}if(e.type==="text"){if(t.whitespace==="normal")return eFe(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{ignore:FF(e),stripAtStart:!1,remove:!1}}function eFe(e,t){const n=t.collapse(e.value),r={ignore:!1,stripAtStart:!1,remove:!1};let i=0,o=n.length;return t.before&&$Y(n.charAt(0))&&i++,i!==o&&$Y(n.charAt(o-1))&&(t.after?o--:r.stripAtStart=!0),i===o?r.remove=!0:e.value=n.slice(i,o),r}function tFe(e,t){let n=t.before;const r=t.after,i=e.children;let o=i.length,a=-1;for(;++a<o;){const s=Ade(i[a],{...t,after:Nde(i,a,r),before:n});s.remove?(i.splice(a,1),a--,o--):s.ignore||(n=s.stripAtStart),Ode(i[a])&&(n=!1)}return{ignore:!1,stripAtStart:!!(n||r),remove:!1}}function Nde(e,t,n){for(;++t<e.length;){const r=e[t];let i=nFe(r);if(i===void 0&&"children"in r&&!rFe(r)&&(i=Nde(r.children,-1)),typeof i=="boolean")return i}return n}function nFe(e){if(e.type==="element"){if(Ode(e))return!1;if(Mde(e))return!0}else if(e.type==="text"){if(!ZT(e))return!1}else if(!FF(e))return!1}function Ode(e){return _de(e)||$F(e,X9e)}function Mde(e){return $F(e,K9e)}function rFe(e){return!!(e.type==="element"&&e.properties.hidden)||FF(e)||$F(e,Z9e)}function $Y(e){return e===" "||e===`
`}function iFe(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function oFe(){return" "}function aFe(e){return t;function t(n){return String(n).replace(/[\t\n\v\f\r ]+/g,e)}}function sFe(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}function lFe(e){return function(t){J9e(t,e)}}const Dde=[],cFe=!0,kO=!1,Rde="skip";function Ide(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=mx(i),a=r?-1:1;s(e,void 0,[])();function s(l,c,d){const u=l&&typeof l=="object"?l:{};if(typeof u.type=="string"){const m=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=Dde,v,x,w;if((!t||o(l,c,d[d.length-1]||void 0))&&(m=uFe(n(l,d)),m[0]===kO))return m;if("children"in l&&l.children){const T=l;if(T.children&&m[0]!==Rde)for(x=(r?T.children.length:-1)+a,w=d.concat(T);x>-1&&x<T.children.length;){const k=T.children[x];if(v=s(k,x,w)(),v[0]===kO)return v;x=typeof v[1]=="number"?v[1]:x+a}}return m}}}function uFe(e){return Array.isArray(e)?e:typeof e=="number"?[cFe,e]:e==null?Dde:[e]}function F0(e,t,n,r){let i,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,i=n):(o=t,a=n,i=r),Ide(e,o,s,i);function s(l,c){const d=c[c.length-1],u=d?d.children.indexOf(l):void 0;return a(l,u,d)}}const Pde=jde("end"),Lde=jde("start");function jde(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Bde(e){const t=Lde(e),n=Pde(e);if(t&&n)return{start:t,end:n}}function dFe(e,t){const n=t.properties||{},r=e.all(t),i={type:"link",url:e.resolve(String(n.href||"")||null),title:n.title?String(n.title):null,children:r};return e.patch(t,i),i}function fFe(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||void 0,e.baseFound=!0)}function hFe(e,t){const n={type:"blockquote",children:e.toFlow(e.all(t))};return e.patch(t,n),n}function pFe(e,t){const n={type:"break"};return e.patch(t,n),n}const HY=(function(e,t,n){const r=mx(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),FY=/\n/g,UY=/[\t ]+/g,a8=_u("br"),zY=_u(wFe),mFe=_u("p"),VY=_u("tr"),gFe=_u(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",xFe,EFe]),$de=_u(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function QT(e,t){const n={},r="children"in e?e.children:[],i=$de(e),o=Ude(e,{whitespace:n.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...Fde(e,{breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<r.length;)a.push(...Hde(r[s],e,{whitespace:o,breakBefore:s?void 0:i,breakAfter:s<r.length-1?a8(r[s+1]):i}));const l=[];let c;for(s=-1;++s<a.length;){const d=a[s];typeof d=="number"?c!==void 0&&d>c&&(c=d):d&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(d))}return l.join("")}function Hde(e,t,n){return e.type==="element"?yFe(e,t,n):e.type==="text"?n.whitespace==="normal"?Fde(e,n):bFe(e):[]}function yFe(e,t,n){const r=Ude(e,n),i=e.children||[];let o=-1,a=[];if(gFe(e))return a;let s,l;for(a8(e)||VY(e)&&HY(t,e,VY)?l=`
`:mFe(e)?(s=2,l=2):$de(e)&&(s=1,l=1);++o<i.length;)a=a.concat(Hde(i[o],e,{whitespace:r,breakBefore:o?void 0:s,breakAfter:o<i.length-1?a8(i[o+1]):l}));return zY(e)&&HY(t,e,zY)&&a.push("	"),s&&a.unshift(s),l&&a.push(l),a}function Fde(e,t){const n=String(e.value),r=[],i=[];let o=0;for(;o<=n.length;){FY.lastIndex=o;const l=FY.exec(n),c=l&&"index"in l?l.index:n.length;r.push(vFe(n.slice(o,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,c===n.length?t.breakAfter:!0)),o=c+1}let a=-1,s;for(;++a<r.length;)r[a].charCodeAt(r[a].length-1)===8203||a<r.length-1&&r[a+1].charCodeAt(0)===8203?(i.push(r[a]),s=void 0):r[a]?(typeof s=="number"&&i.push(s),i.push(r[a]),s=0):(a===0||a===r.length-1)&&i.push(0);return i}function bFe(e){return[String(e.value)]}function vFe(e,t,n){const r=[];let i=0,o;for(;i<e.length;){UY.lastIndex=i;const a=UY.exec(e);o=a?a.index:e.length,!i&&!o&&a&&!t&&r.push(""),i!==o&&r.push(e.slice(i,o)),i=a?o+a[0].length:o}return i!==o&&!n&&r.push(""),r.join(" ")}function Ude(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function xFe(e){return!!(e.properties||{}).hidden}function wFe(e){return e.tagName==="td"||e.tagName==="th"}function EFe(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function SFe(e){const t=String(e);let n=t.length;for(;n>0;){const r=t.codePointAt(n-1);if(r!==void 0&&(r===10||r===13))n--;else break}return t.slice(0,n)}const HP="language-";function hA(e,t){const n=t.children;let r=-1,i,o;if(t.tagName==="pre")for(;++r<n.length;){const s=n[r];if(s.type==="element"&&s.tagName==="code"&&s.properties&&s.properties.className&&Array.isArray(s.properties.className)){i=s.properties.className;break}}if(i){for(r=-1;++r<i.length;)if(String(i[r]).slice(0,HP.length)===HP){o=String(i[r]).slice(HP.length);break}}const a={type:"code",lang:o||null,meta:null,value:SFe(QT(t))};return e.patch(t,a),a}function CFe(e,t){const n={type:"html",value:"<!--"+t.value+"-->"};return e.patch(t,n),n}function FP(e,t){const r={type:"delete",children:e.all(t)};return e.patch(t,r),r}function UF(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function TFe(e,t){const n=[],r=[];let i=-1;for(;++i<t.children.length;){const s=t.children[i];s.type==="element"&&s.tagName==="div"?n.push(...s.children):n.push(s)}let o={definitions:[],titles:[]};for(i=-1;++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="dt"){const l=n[i-1];l&&l.type==="element"&&l.tagName==="dd"&&(r.push(o),o={definitions:[],titles:[]}),o.titles.push(s)}else o.definitions.push(s)}r.push(o),i=-1;const a=[];for(;++i<r.length;){const s=[...qY(e,r[i].titles),...qY(e,r[i].definitions)];s.length>0&&a.push({type:"listItem",spread:s.length>1,checked:null,children:s})}if(a.length>0){const s={type:"list",ordered:!1,start:null,spread:UF(a),children:a};return e.patch(t,s),s}}function qY(e,t){const n=e.all({type:"root",children:t}),r=e.toSpecificContent(n,kFe);return r.length===0?[]:r.length===1?r[0].children:[{type:"list",ordered:!1,start:null,spread:UF(r),children:r}]}function kFe(){return{type:"listItem",spread:!1,checked:null,children:[]}}function pA(e,t){const r={type:"emphasis",children:e.all(t)};return e.patch(t,r),r}function zF(e){let t=0,n=e.length;for(;t<n&&e[t].type==="break";)t++;for(;n>t&&e[n-1].type==="break";)n--;return t===0&&n===e.length?e:e.slice(t,n)}function iv(e,t){const n=Number(t.tagName.charAt(1))||1,r=zF(e.all(t)),i={type:"heading",depth:n,children:r};return e.patch(t,i),i}function _Fe(e,t){const n={type:"thematicBreak"};return e.patch(t,n),n}function AFe(e,t){const n=t.properties||{},r=String(n.src||""),i=String(n.title||"");if(r&&i){const o={type:"link",title:null,url:e.resolve(r),children:[{type:"text",value:i}]};return e.patch(t,o),o}}function WY(e,t){const n=t.properties||{},r={type:"image",url:e.resolve(String(n.src||"")||null),title:n.title?String(n.title):null,alt:n.alt?String(n.alt):""};return e.patch(t,r),r}function $E(e,t){const n={type:"inlineCode",value:QT(t)};return e.patch(t,n),n}function zde(e,t){const n=[],r=[],i=t||e.properties||{},o=Vde(e),a=Math.min(Number.parseInt(String(i.size),10),0)||(i.multiple?4:1);let s=-1;for(;++s<o.length;){const d=o[s];d&&d.properties&&d.properties.selected&&n.push(d)}const l=n.length>0?n:o,c=Math.min(l.length,a);for(s=-1;++s<c;){const d=l[s],u=d.properties||{},p=QT(d),m=p||String(u.label||""),v=String(u.value||"")||p;r.push([v,m===v?void 0:m])}return r}function Vde(e){const t=[];let n=-1;for(;++n<e.children.length;){const r=e.children[n];"children"in r&&Array.isArray(r.children)&&t.push(...Vde(r)),r.type==="element"&&r.tagName==="option"&&(!r.properties||!r.properties.disabled)&&t.push(r)}return t}const NFe="[x]",OFe="[ ]";function MFe(e,t){const n=t.properties||{},r=String(n.value||n.placeholder||"");if(n.disabled||n.type==="hidden"||n.type==="file")return;if(n.type==="checkbox"||n.type==="radio"){const l={type:"text",value:n.checked?e.options.checked||NFe:e.options.unchecked||OFe};return e.patch(t,l),l}if(n.type==="image"){const l=n.alt||r;if(l){const c={type:"image",url:e.resolve(String(n.src||"")||null),title:String(n.title||"")||null,alt:String(l)};return e.patch(t,c),c}return}let i=[];if(r)i=[[r,void 0]];else if(n.type!=="button"&&n.type!=="file"&&n.type!=="password"&&n.type!=="reset"&&n.type!=="submit"&&n.list){const l=String(n.list),c=e.elementById.get(l);c&&c.tagName==="datalist"&&(i=zde(c,n))}if(i.length===0)return;if(n.type==="password"&&(i[0]=["".repeat(i[0][0].length),void 0]),n.type==="email"||n.type==="url"){const l=[];let c=-1;for(;++c<i.length;){const d=e.resolve(i[c][0]),u={type:"link",title:null,url:n.type==="email"?"mailto:"+d:d,children:[{type:"text",value:i[c][1]||d}]};l.push(u),c!==i.length-1&&l.push({type:"text",value:", "})}return l}const o=[];let a=-1;for(;++a<i.length;)o.push(i[a][1]?i[a][1]+" ("+i[a][0]+")":i[a][0]);const s={type:"text",value:o.join(", ")};return e.patch(t,s),s}const DFe={}.hasOwnProperty;function RFe(e,t){const n=e.type==="element"&&DFe.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}const IFe=new Set(["pingback","prefetch","stylesheet"]);function PFe(e){if(e.type!=="element"||e.tagName!=="link")return!1;if(e.properties.itemProp)return!0;const t=e.properties.rel;let n=-1;if(!Array.isArray(t)||t.length===0)return!1;for(;++n<t.length;)if(!IFe.has(String(t[n])))return!1;return!0}const LFe=_u(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),jFe=_u("meta");function qde(e){return!!(e.type==="text"||LFe(e)||_de(e)||PFe(e)||jFe(e)&&RFe(e,"itemProp"))}function UP(e,t){const{rest:n,checkbox:r}=Yde(t),i=r?!!r.properties.checked:null,o=Wde(n),a=e.toFlow(e.all(n)),s={type:"listItem",spread:o,checked:i,children:a};return e.patch(t,s),s}function Wde(e){let t=-1,n=!1;for(;++t<e.children.length;){const r=e.children[t];if(r.type==="element"){if(qde(r))continue;if(r.tagName==="p"||n||Wde(r))return!0;n=!0}}return!1}function Yde(e){const t=e.children[0];if(t&&t.type==="element"&&t.tagName==="input"&&t.properties&&(t.properties.type==="checkbox"||t.properties.type==="radio")){const n={...e,children:e.children.slice(1)};return{checkbox:t,rest:n}}if(t&&t.type==="element"&&t.tagName==="p"){const{checkbox:n,rest:r}=Yde(t);if(n){const i={...e,children:[r,...e.children.slice(1)]};return{checkbox:n,rest:i}}}return{checkbox:void 0,rest:e}}function zP(e,t){const n=t.tagName==="ol",r=e.toSpecificContent(e.all(t),BFe);let i=null;n&&(i=t.properties&&t.properties.start?Number.parseInt(String(t.properties.start),10):1);const o={type:"list",ordered:n,start:i,spread:UF(r),children:r};return e.patch(t,o),o}function BFe(){return{type:"listItem",spread:!1,checked:null,children:[]}}const $Fe={};function aR(e,t){const n=$Fe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Gde(e,r,i)}function Gde(e,t,n){if(HFe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return YY(e.children,t,n)}return Array.isArray(e)?YY(e,t,n):""}function YY(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Gde(e[i],t,n);return r.join("")}function HFe(e){return!!(e&&typeof e=="object")}const Kde=mx(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function sR(e){let t=-1;for(;++t<e.length;){const n=e[t];if(!Qde(n)||"children"in n&&sR(n.children))return!0}return!1}function Xde(e){return Zde(e,t,function(n){return n});function t(n){return n.every(function(r){return r.type==="text"?ZT(r.value):!1})?[]:[{type:"paragraph",children:zF(n)}]}}function FFe(e){return Zde(e.children,t,n);function t(r){const i=VP(e);return i.children=r,[i]}function n(r){if("children"in r&&"children"in e){const i=VP(e),o=VP(r);return i.children=r.children,o.children.push(i),o}return{...r}}}function Zde(e,t,n){const r=UFe(e),i=[];let o=[],a=-1;for(;++a<r.length;){const s=r[a];Qde(s)?o.push(s):(o.length>0&&(i.push(...t(o)),o=[]),i.push(n(s)))}return o.length>0&&(i.push(...t(o)),o=[]),i}function UFe(e){const t=[];let n=-1;for(;++n<e.length;){const r=e[n];(r.type==="delete"||r.type==="link")&&sR(r.children)?t.push(...FFe(r)):t.push(r)}return t}function Qde(e){const t=e.data&&e.data.hName;return t?qde({type:"element",tagName:t,properties:{},children:[]}):Kde(e)}function VP(e){return E1({...e,children:[]})}function GY(e,t){const n=t.properties||{},r=t.tagName==="video"?String(n.poster||""):"";let i=String(n.src||""),o=-1,a=!1,s=e.all(t);if(F0({type:"root",children:s},function(u){if(u.type==="link")return a=!0,kO}),a||sR(s))return s;for(;!i&&++o<t.children.length;){const u=t.children[o];u.type==="element"&&u.tagName==="source"&&u.properties&&(i=String(u.properties.src||""))}if(r){const u={type:"image",title:null,url:e.resolve(r),alt:aR(s)};e.patch(t,u),s=[u]}const c=s,d={type:"link",title:n.title?String(n.title):null,url:e.resolve(i),children:c};return e.patch(t,d),d}function KY(e,t){const n=zF(e.all(t));if(n.length>0){const r={type:"paragraph",children:n};return e.patch(t,r),r}}const zFe=['"'];function VFe(e,t){const n=e.options.quotes||zFe;e.qNesting++;const r=e.all(t);e.qNesting--;const i=n[e.qNesting%n.length],o=r[0],a=r[r.length-1],s=i.charAt(0),l=i.length>1?i.charAt(1):i;return o&&o.type==="text"?o.value=s+o.value:r.unshift({type:"text",value:s}),a&&a.type==="text"?a.value+=l:r.push({type:"text",value:l}),r}function qFe(e,t){let n=e.all(t);(e.options.document||sR(n))&&(n=Xde(n));const r={type:"root",children:n};return e.patch(t,r),r}function WFe(e,t){const n=zde(t);let r=-1;const i=[];for(;++r<n.length;){const o=n[r];i.push(o[1]?o[1]+" ("+o[0]+")":o[0])}if(i.length>0){const o={type:"text",value:i.join(", ")};return e.patch(t,o),o}}function XY(e,t){const r={type:"strong",children:e.all(t)};return e.patch(t,r),r}function ZY(e,t){const r={type:"tableCell",children:e.all(t)};if(e.patch(t,r),t.properties){const i=t.properties.rowSpan,o=t.properties.colSpan;if(i||o){const a=r.data||(r.data={});i&&(a.hastUtilToMdastTemporaryRowSpan=i),o&&(a.hastUtilToMdastTemporaryColSpan=o)}}return r}function YFe(e,t){const r={type:"tableRow",children:e.toSpecificContent(e.all(t),GFe)};return e.patch(t,r),r}function GFe(){return{type:"tableCell",children:[]}}function KFe(e,t){if(e.inTable){const c={type:"text",value:QT(t)};return e.patch(t,c),c}e.inTable=!0;const{align:n,headless:r}=XFe(t),i=e.toSpecificContent(e.all(t),QY);r&&i.unshift(QY());let o=-1;for(;++o<i.length;){const c=i[o],d=e.toSpecificContent(c.children,ZFe);c.children=d}let a=1;for(o=-1;++o<i.length;){const c=i[o].children;let d=-1;for(;++d<c.length;){const u=c[d];if(u.data){const p=u.data,m=Number.parseInt(String(p.hastUtilToMdastTemporaryColSpan),10)||1,v=Number.parseInt(String(p.hastUtilToMdastTemporaryRowSpan),10)||1;if(m>1||v>1){let x=o-1;for(;++x<o+v;){let w=d-1;for(;++w<d+m&&i[x];){const T=[];(x!==o||w!==d)&&T.push({type:"tableCell",children:[]}),i[x].children.splice(w,0,...T)}}}"hastUtilToMdastTemporaryColSpan"in u.data&&delete u.data.hastUtilToMdastTemporaryColSpan,"hastUtilToMdastTemporaryRowSpan"in u.data&&delete u.data.hastUtilToMdastTemporaryRowSpan,Object.keys(u.data).length===0&&delete u.data}}c.length>a&&(a=c.length)}for(o=-1;++o<i.length;){const c=i[o].children;let d=c.length-1;for(;++d<a;)c.push({type:"tableCell",children:[]})}let s=n.length-1;for(;++s<a;)n.push(null);e.inTable=!1;const l={type:"table",align:n,children:i};return e.patch(t,l),l}function XFe(e){const t={align:[null],headless:!0};let n=0,r=0;return F0(e,function(i){if(i.type==="element"){if(i.tagName==="table"&&e!==i)return Rde;if((i.tagName==="th"||i.tagName==="td")&&i.properties){if(!t.align[r]){const o=String(i.properties.align||"")||null;(o==="center"||o==="left"||o==="right"||o===null)&&(t.align[r]=o)}t.headless&&n<2&&i.tagName==="th"&&(t.headless=!1),r++}else i.tagName==="thead"?t.headless=!1:i.tagName==="tr"&&(n++,r=0)}}),t}function ZFe(){return{type:"tableCell",children:[]}}function QY(){return{type:"tableRow",children:[]}}function QFe(e,t){const n={type:"text",value:t.value};return e.patch(t,n),n}function JFe(e,t){const n={type:"text",value:QT(t)};return e.patch(t,n),n}function e7e(e,t){const n={type:"text",value:""};return e.patch(t,n),n}const t7e={comment:CFe,doctype:jn,root:qFe,text:QFe},n7e={applet:jn,area:jn,basefont:jn,bgsound:jn,caption:jn,col:jn,colgroup:jn,command:jn,content:jn,datalist:jn,dialog:jn,element:jn,embed:jn,frame:jn,frameset:jn,isindex:jn,keygen:jn,link:jn,math:jn,menu:jn,menuitem:jn,meta:jn,nextid:jn,noembed:jn,noframes:jn,optgroup:jn,option:jn,param:jn,script:jn,shadow:jn,source:jn,spacer:jn,style:jn,svg:jn,template:jn,title:jn,track:jn,abbr:Ln,acronym:Ln,bdi:Ln,bdo:Ln,big:Ln,blink:Ln,button:Ln,canvas:Ln,cite:Ln,data:Ln,details:Ln,dfn:Ln,font:Ln,ins:Ln,label:Ln,map:Ln,marquee:Ln,meter:Ln,nobr:Ln,noscript:Ln,object:Ln,output:Ln,progress:Ln,rb:Ln,rbc:Ln,rp:Ln,rt:Ln,rtc:Ln,ruby:Ln,slot:Ln,small:Ln,span:Ln,sup:Ln,sub:Ln,tbody:Ln,tfoot:Ln,thead:Ln,time:Ln,address:eo,article:eo,aside:eo,body:eo,center:eo,div:eo,fieldset:eo,figcaption:eo,figure:eo,form:eo,footer:eo,header:eo,hgroup:eo,html:eo,legend:eo,main:eo,multicol:eo,nav:eo,picture:eo,section:eo,a:dFe,audio:GY,b:XY,base:fFe,blockquote:hFe,br:pFe,code:$E,dir:zP,dl:TFe,dt:UP,dd:UP,del:FP,em:pA,h1:iv,h2:iv,h3:iv,h4:iv,h5:iv,h6:iv,hr:_Fe,i:pA,iframe:AFe,img:WY,image:WY,input:MFe,kbd:$E,li:UP,listing:hA,mark:pA,ol:zP,p:KY,plaintext:hA,pre:hA,q:VFe,s:FP,samp:$E,select:WFe,strike:FP,strong:XY,summary:KY,table:KFe,td:ZY,textarea:JFe,th:ZY,tr:YFe,tt:$E,u:pA,ul:zP,var:$E,video:GY,wbr:e7e,xmp:hA};function Ln(e,t){return e.all(t)}function eo(e,t){return e.toFlow(e.all(t))}function jn(){}const JY={}.hasOwnProperty;function r7e(e){return{all:i7e,baseFound:!1,elementById:new Map,frozenBaseUrl:void 0,handlers:{...n7e,...e.handlers},inTable:!1,nodeHandlers:{...t7e,...e.nodeHandlers},one:o7e,options:e,patch:a7e,qNesting:0,resolve:s7e,toFlow:l7e,toSpecificContent:c7e}}function i7e(e){const t=e.children||[],n=[];let r=-1;for(;++r<t.length;){const i=t[r],o=this.one(i,e);Array.isArray(o)?n.push(...o):o&&n.push(o)}return n}function o7e(e,t){if(e.type==="element"){if(e.properties&&e.properties.dataMdast==="ignore")return;if(JY.call(this.handlers,e.tagName))return this.handlers[e.tagName](this,e,t)||void 0}else if(JY.call(this.nodeHandlers,e.type))return this.nodeHandlers[e.type](this,e,t)||void 0;if("value"in e&&typeof e.value=="string"){const n={type:"text",value:e.value};return this.patch(e,n),n}if("children"in e)return this.all(e)}function a7e(e,t){e.position&&(t.position=Bde(e))}function s7e(e){const t=this.frozenBaseUrl;return e==null?"":t?String(new URL(e,t)):e}function l7e(e){return Xde(e)}function c7e(e,t){const n=t(),r=[];let i=[],o=-1;for(;++o<e.length;){const s=e[o];if(a(s))i.length>0&&(s.children.unshift(...i),i=[]),r.push(s);else{const l=s;i.push(l)}}if(i.length>0){let s=r[r.length-1];s||(s=t(),r.push(s)),s.children.push(...i),i=[]}return r;function a(s){return s.type===n.type}}const u7e={};function eG(e,t){const n=E1(e),r=t||u7e,i=lFe({newlines:r.newlines===!0}),o=r7e(r);let a;i(n),F0(n,function(l){if(l&&l.type==="element"&&l.properties){const c=String(l.properties.id||"")||void 0;c&&!o.elementById.has(c)&&o.elementById.set(c,l)}});const s=o.one(n,void 0);return s?Array.isArray(s)?a={type:"root",children:s}:a=s:a={type:"root",children:[]},F0(a,function(l,c,d){if(l.type==="text"&&c!==void 0&&d){const u=d.children[c-1];if(u&&u.type===l.type)return u.value+=l.value,d.children.splice(c,1),u.position&&l.position&&(u.position.end=l.position.end),c-1;if(l.value=l.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),d&&(d.type==="heading"||d.type==="paragraph"||d.type==="root")&&(c||(l.value=l.value.replace(/^[\t ]+/,"")),c===d.children.length-1&&(l.value=l.value.replace(/[\t ]+$/,""))),!l.value)return d.children.splice(c,1),c}}),a}const tG={document:!0};function d7e(e,t){return e&&"run"in e?async function(n,r){const i=eG(n,{...tG,...t});await e.run(i,r)}:function(n){return eG(n,{...tG,...e})}}function _O(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const ts=gm(/[A-Za-z]/),Ca=gm(/[\dA-Za-z]/),f7e=gm(/[#-'*+\--9=?A-Z^-~]/);function AO(e){return e!==null&&(e<32||e===127)}const s8=gm(/\d/),h7e=gm(/[\dA-Fa-f]/),p7e=gm(/[!-/:-@[-`{-~]/);function Xt(e){return e!==null&&e<-2}function Wr(e){return e!==null&&(e<0||e===32)}function Vn(e){return e===-2||e===-1||e===32}const lR=gm(new RegExp("\\p{P}|\\p{S}","u")),U0=gm(/\s/);function gm(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function m7e(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function g7e(e,t,n){const i=mx((n||{}).ignore||[]),o=y7e(t);let a=-1;for(;++a<o.length;)Ide(e,"text",s);function s(c,d){let u=-1,p;for(;++u<d.length;){const m=d[u],v=p?p.children:void 0;if(i(m,v?v.indexOf(m):void 0,p))return;p=m}if(p)return l(c,d)}function l(c,d){const u=d[d.length-1],p=o[a][0],m=o[a][1];let v=0;const w=u.children.indexOf(c);let T=!1,k=[];p.lastIndex=0;let N=p.exec(c.value);for(;N;){const I=N.index,M={index:N.index,input:N.input,stack:[...d,c]};let A=m(...N,M);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?p.lastIndex=I+1:(v!==I&&k.push({type:"text",value:c.value.slice(v,I)}),Array.isArray(A)?k.push(...A):A&&k.push(A),v=I+N[0].length,T=!0),!p.global)break;N=p.exec(c.value)}return T?(v<c.value.length&&k.push({type:"text",value:c.value.slice(v)}),u.children.splice(w,1,...k)):k=[c],w+k.length}}function y7e(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([b7e(i[0]),v7e(i[1])])}return t}function b7e(e){return typeof e=="string"?new RegExp(m7e(e),"g"):e}function v7e(e){return typeof e=="function"?e:function(){return e}}const qP="phrasing",WP=["autolink","link","image","label"];function x7e(){return{transforms:[_7e],enter:{literalAutolink:E7e,literalAutolinkEmail:YP,literalAutolinkHttp:YP,literalAutolinkWww:YP},exit:{literalAutolink:k7e,literalAutolinkEmail:T7e,literalAutolinkHttp:S7e,literalAutolinkWww:C7e}}}function w7e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:qP,notInConstruct:WP},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:qP,notInConstruct:WP},{character:":",before:"[ps]",after:"\\/",inConstruct:qP,notInConstruct:WP}]}}function E7e(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function YP(e){this.config.enter.autolinkProtocol.call(this,e)}function S7e(e){this.config.exit.autolinkProtocol.call(this,e)}function C7e(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function T7e(e){this.config.exit.autolinkEmail.call(this,e)}function k7e(e){this.exit(e)}function _7e(e){g7e(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,A7e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),N7e]],{ignore:["link","linkReference"]})}function A7e(e,t,n,r,i){let o="";if(!Jde(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!O7e(n)))return!1;const a=M7e(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function N7e(e,t,n,r){return!Jde(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function O7e(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function M7e(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=_O(e,"(");let o=_O(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function Jde(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||U0(n)||lR(n))&&(!t||n!==47)}function gu(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}efe.peek=H7e;function D7e(){this.buffer()}function R7e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function I7e(){this.buffer()}function P7e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function L7e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=gu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function j7e(e){this.exit(e)}function B7e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=gu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function $7e(e){this.exit(e)}function H7e(){return"["}function efe(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),s(),a(),o+=i.move("]"),o}function F7e(){return{enter:{gfmFootnoteCallString:D7e,gfmFootnoteCall:R7e,gfmFootnoteDefinitionLabelString:I7e,gfmFootnoteDefinition:P7e},exit:{gfmFootnoteCallString:L7e,gfmFootnoteCall:j7e,gfmFootnoteDefinitionLabelString:B7e,gfmFootnoteDefinition:$7e}}}function U7e(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:efe},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,a){const s=o.createTracker(a);let l=s.move("[^");const c=o.enter("footnoteDefinition"),d=o.enter("label");return l+=s.move(o.safe(o.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,s.current()),t?tfe:z7e))),c(),l}}function z7e(e,t,n){return t===0?e:tfe(e,t,n)}function tfe(e,t,n){return(n?"":"    ")+e}const V7e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];nfe.peek=K7e;function q7e(){return{canContainEols:["delete"],enter:{strikethrough:Y7e},exit:{strikethrough:G7e}}}function W7e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:V7e}],handlers:{delete:nfe}}}function Y7e(e){this.enter({type:"delete",children:[]},e)}function G7e(e){this.exit(e)}function nfe(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function K7e(){return"~"}function X7e(e){return e.length}function Z7e(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||X7e,o=[],a=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const x=[],w=[];let T=-1;for(e[d].length>c&&(c=e[d].length);++T<e[d].length;){const k=Q7e(e[d][T]);if(n.alignDelimiters!==!1){const N=i(k);w[T]=N,(l[T]===void 0||N>l[T])&&(l[T]=N)}x.push(k)}a[d]=x,s[d]=w}let u=-1;if(typeof r=="object"&&"length"in r)for(;++u<c;)o[u]=nG(r[u]);else{const x=nG(r);for(;++u<c;)o[u]=x}u=-1;const p=[],m=[];for(;++u<c;){const x=o[u];let w="",T="";x===99?(w=":",T=":"):x===108?w=":":x===114&&(T=":");let k=n.alignDelimiters===!1?1:Math.max(1,l[u]-w.length-T.length);const N=w+"-".repeat(k)+T;n.alignDelimiters!==!1&&(k=w.length+k+T.length,k>l[u]&&(l[u]=k),m[u]=k),p[u]=N}a.splice(1,0,p),s.splice(1,0,m),d=-1;const v=[];for(;++d<a.length;){const x=a[d],w=s[d];u=-1;const T=[];for(;++u<c;){const k=x[u]||"";let N="",I="";if(n.alignDelimiters!==!1){const M=l[u]-(w[u]||0),A=o[u];A===114?N=" ".repeat(M):A===99?M%2?(N=" ".repeat(M/2+.5),I=" ".repeat(M/2-.5)):(N=" ".repeat(M/2),I=N):I=" ".repeat(M)}n.delimiterStart!==!1&&!u&&T.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||u)&&T.push(" "),n.alignDelimiters!==!1&&T.push(N),T.push(k),n.alignDelimiters!==!1&&T.push(I),n.padding!==!1&&T.push(" "),(n.delimiterEnd!==!1||u!==c-1)&&T.push("|")}v.push(n.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return v.join(`
`)}function Q7e(e){return e==null?"":String(e)}function nG(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const rG={}.hasOwnProperty;function rfe(e,t){const n=t||{};function r(i,...o){let a=r.invalid;const s=r.handlers;if(i&&rG.call(i,e)){const l=String(i[e]);a=rG.call(s,l)?s[l]:r.unknown}if(a)return a.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const J7e={}.hasOwnProperty;function ife(e,t){let n=-1,r;if(t.extensions)for(;++n<t.extensions.length;)ife(e,t.extensions[n]);for(r in t)if(J7e.call(t,r))switch(r){case"extensions":break;case"unsafe":{iG(e[r],t[r]);break}case"join":{iG(e[r],t[r]);break}case"handlers":{eUe(e[r],t[r]);break}default:e.options[r]=t[r]}return e}function iG(e,t){t&&e.push(...t)}function eUe(e,t){t&&Object.assign(e,t)}function tUe(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),nUe);return i(),a}function nUe(e,t,n){return">"+(n?"":" ")+e}function ofe(e,t){return oG(e,t.inConstruct,!0)&&!oG(e,t.notInConstruct,!1)}function oG(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function aG(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&ofe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function rUe(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+t.length,r=n.indexOf(t,i);return a}function l8(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function iUe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function oUe(e,t,n,r){const i=iUe(n),o=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(l8(e,n)){const u=n.enter("codeIndented"),p=n.indentLines(o,aUe);return u(),p}const s=n.createTracker(r),l=i.repeat(Math.max(rUe(o,i)+1,3)),c=n.enter("codeFenced");let d=s.move(l);if(e.lang){const u=n.enter(`codeFencedLang${a}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),u()}if(e.lang&&e.meta){const u=n.enter(`codeFencedMeta${a}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),u()}return d+=s.move(`
`),o&&(d+=s.move(o+`
`)),d+=s.move(l),c(),d}function aUe(e,t,n){return(n?"":"    ")+e}function VF(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function sUe(e,t,n,r){const i=VF(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),a(),c}function lUe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function cm(e){return"&#x"+e.toString(16).toUpperCase()+";"}function S1(e){if(e===null||Wr(e)||U0(e))return 1;if(lR(e))return 2}function NO(e,t,n){const r=S1(e),i=S1(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}afe.peek=cUe;function afe(e,t,n,r){const i=lUe(n),o=n.enter("emphasis"),a=n.createTracker(r),s=a.move(i);let l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),d=NO(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=cm(c)+l.slice(1));const u=l.charCodeAt(l.length-1),p=NO(r.after.charCodeAt(0),u,i);p.inside&&(l=l.slice(0,-1)+cm(u));const m=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function cUe(e,t,n){return n.options.emphasis||"*"}function sfe(e,t){let n=!1;return F0(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,kO}),!!((!e.depth||e.depth<3)&&aR(e)&&(t.options.setext||n))}function uUe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(sfe(e,n)){const d=n.enter("headingSetext"),u=n.enter("phrasing"),p=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return u(),d(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c=cm(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c}lfe.peek=dUe;function lfe(e){return e.value||""}function dUe(){return"<"}cfe.peek=fUe;function cfe(e,t,n,r){const i=VF(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),a(),c}function fUe(){return"!"}ufe.peek=hUe;function ufe(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const u=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=d,o(),i==="full"||!c||c!==u?l+=s.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function hUe(){return"!"}dfe.peek=pUe;function dfe(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],s=n.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function pUe(){return"`"}function ffe(e,t){const n=aR(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}hfe.peek=mUe;function hfe(e,t,n,r){const i=VF(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(ffe(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let u=a.move("<");return u+=a.move(n.containerPhrasing(e,{before:u,after:">",...a.current()})),u+=a.move(">"),s(),n.stack=d,u}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${o}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),s(),c}function mUe(e,t,n){return ffe(e,n)?"<":"["}pfe.peek=gUe;function pfe(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const u=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=d,o(),i==="full"||!c||c!==u?l+=s.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function gUe(){return"["}function qF(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function yUe(e){const t=qF(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function bUe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function mfe(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function vUe(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?bUe(n):qF(n);const s=e.ordered?a==="."?")":".":yUe(n);let l=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),mfe(n)===a&&d){let u=-1;for(;++u<e.children.length;){const p=e.children[u];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),c}function xUe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function wUe(e,t,n,r){const i=xUe(n);let o=n.bulletCurrent||qF(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),d);return l(),c;function d(u,p,m){return p?(m?"":" ".repeat(a))+u:(m?o:o+" ".repeat(a-o.length))+u}}function EUe(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,r);return o(),i(),a}function SUe(e,t,n,r){return(e.children.some(function(a){return Kde(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function CUe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}gfe.peek=TUe;function gfe(e,t,n,r){const i=CUe(n),o=n.enter("strong"),a=n.createTracker(r),s=a.move(i+i);let l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),d=NO(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=cm(c)+l.slice(1));const u=l.charCodeAt(l.length-1),p=NO(r.after.charCodeAt(0),u,i);p.inside&&(l=l.slice(0,-1)+cm(u));const m=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function TUe(e,t,n){return n.options.strong||"*"}function kUe(e,t,n,r){return n.safe(e.value,r)}function _Ue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function AUe(e,t,n){const r=(mfe(n)+(n.options.ruleSpaces?" ":"")).repeat(_Ue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const WF={blockquote:tUe,break:aG,code:oUe,definition:sUe,emphasis:afe,hardBreak:aG,heading:uUe,html:lfe,image:cfe,imageReference:ufe,inlineCode:dfe,link:hfe,linkReference:pfe,list:vUe,listItem:wUe,paragraph:EUe,root:SUe,strong:gfe,text:kUe,thematicBreak:AUe},NUe=[OUe];function OUe(e,t,n,r){if(t.type==="code"&&l8(t,r)&&(e.type==="list"||e.type===t.type&&l8(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&sfe(t,r))?void 0:n.spread?1:0}const Vg=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],MUe=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Vg},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Vg},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Vg},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Vg},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Vg},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Vg},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Vg},{atBreak:!0,character:"~"}],sG=document.createElement("i");function YF(e){const t="&"+e+";";sG.innerHTML=t;const n=sG.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function yfe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const DUe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bfe(e){return e.replace(DUe,RUe)}function RUe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return yfe(n.slice(o?2:1),o?16:10)}return YF(n)||e}function IUe(e){return e.label||!e.identifier?e.label||"":bfe(e.identifier)}function PUe(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function LUe(e,t,n){const r=t.indexStack,i=e.children||[],o=[];let a=-1,s=n.before,l;r.push(-1);let c=t.createTracker(n);for(;++a<i.length;){const d=i[a];let u;if(r[r.length-1]=a,a+1<i.length){let v=t.handle.handlers[i[a+1].type];v&&v.peek&&(v=v.peek),u=v?v(i[a+1],e,t,{before:"",after:"",...c.current()}).charAt(0):""}else u=n.after;o.length>0&&(s==="\r"||s===`
`)&&d.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),s=" ",c=t.createTracker(n),c.move(o.join("")));let p=t.handle(d,e,t,{...c.current(),after:u,before:s});l&&l===p.slice(0,1)&&(p=cm(l.charCodeAt(0))+p.slice(1));const m=t.attentionEncodeSurroundingInfo;t.attentionEncodeSurroundingInfo=void 0,l=void 0,m&&(o.length>0&&m.before&&s===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+cm(s.charCodeAt(0))),m.after&&(l=u)),c.move(p),o.push(p),s=p.slice(-1)}return r.pop(),o.join("")}function jUe(e,t,n){const r=t.indexStack,i=e.children||[],o=t.createTracker(n),a=[];let s=-1;for(r.push(-1);++s<i.length;){const l=i[s];r[r.length-1]=s,a.push(o.move(t.handle(l,e,t,{before:`
`,after:`
`,...o.current()}))),l.type!=="list"&&(t.bulletLastUsed=void 0),s<i.length-1&&a.push(o.move(BUe(l,i[s+1],e,t)))}return r.pop(),a.join("")}function BUe(e,t,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](e,t,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const $Ue=/\r?\n|\r/g;function HUe(e,t){const n=[];let r=0,i=0,o;for(;o=$Ue.exec(e);)a(e.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return a(e.slice(r)),n.join("");function a(s){n.push(t(s,i,!s))}}function FUe(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],o=[],a={};let s=-1;for(;++s<e.unsafe.length;){const d=e.unsafe[s];if(!ofe(e.stack,d))continue;const u=e.compilePattern(d);let p;for(;p=u.exec(r);){const m="before"in d||!!d.atBreak,v="after"in d,x=p.index+(m?p[1].length:0);i.includes(x)?(a[x].before&&!m&&(a[x].before=!1),a[x].after&&!v&&(a[x].after=!1)):(i.push(x),a[x]={before:m,after:v})}}i.sort(UUe);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(s=-1;++s<i.length;){const d=i[s];d<l||d>=c||d+1<c&&i[s+1]===d+1&&a[d].after&&!a[d+1].before&&!a[d+1].after||i[s-1]===d-1&&a[d].before&&!a[d-1].before&&!a[d-1].after||(l!==d&&o.push(lG(r.slice(l,d),"\\")),l=d,/[!-/:-@[-`{-~]/.test(r.charAt(d))&&(!n.encode||!n.encode.includes(r.charAt(d)))?o.push("\\"):(o.push(cm(r.charCodeAt(d))),l++))}return o.push(lG(r.slice(l,c),n.after)),o.join("")}function UUe(e,t){return e-t}function lG(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=e+t;let a=-1,s=0,l;for(;l=n.exec(o);)r.push(l.index);for(;++a<r.length;)s!==r[a]&&i.push(e.slice(s,r[a])),i.push("\\"),s=r[a];return i.push(e.slice(s)),i.join("")}function zUe(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,o=n.column||1;return{move:l,current:a,shift:s};function a(){return{now:{line:i,column:o},lineShift:r}}function s(c){r+=c}function l(c){const d=c||"",u=d.split(/\r?\n|\r/g),p=u[u.length-1];return i+=u.length-1,o=u.length===1?o+p.length:1+p.length+r,d}}function VUe(e,t){const n=t||{},r={associationId:IUe,containerPhrasing:GUe,containerFlow:KUe,createTracker:zUe,compilePattern:PUe,enter:o,handlers:{...WF},handle:void 0,indentLines:HUe,indexStack:[],join:[...NUe],options:{},safe:XUe,stack:[],unsafe:[...MUe]};ife(r,n),r.options.tightDefinitions&&r.join.push(YUe),r.handle=rfe("type",{invalid:qUe,unknown:WUe,handlers:r.handlers});let i=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function o(a){return r.stack.push(a),s;function s(){r.stack.pop()}}}function qUe(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function WUe(e){const t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function YUe(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function GUe(e,t){return LUe(e,this,t)}function KUe(e,t){return jUe(e,this,t)}function XUe(e,t){return FUe(this,e,t)}function ZUe(){return{enter:{table:QUe,tableData:cG,tableHeader:cG,tableRow:eze},exit:{codeText:tze,table:JUe,tableData:GP,tableHeader:GP,tableRow:GP}}}function QUe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function JUe(e){this.exit(e),this.data.inTable=void 0}function eze(e){this.enter({type:"tableRow",children:[]},e)}function GP(e){this.exit(e)}function cG(e){this.enter({type:"tableCell",children:[]},e)}function tze(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,nze));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function nze(e,t){return t==="|"?t:e}function rze(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:a,tableCell:l,tableRow:s}};function a(m,v,x,w){return c(d(m,x,w),m.align)}function s(m,v,x,w){const T=u(m,x,w),k=c([T]);return k.slice(0,k.indexOf(`
`))}function l(m,v,x,w){const T=x.enter("tableCell"),k=x.enter("phrasing"),N=x.containerPhrasing(m,{...w,before:o,after:o});return k(),T(),N}function c(m,v){return Z7e(m,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function d(m,v,x){const w=m.children;let T=-1;const k=[],N=v.enter("table");for(;++T<w.length;)k[T]=u(w[T],v,x);return N(),k}function u(m,v,x){const w=m.children;let T=-1;const k=[],N=v.enter("tableRow");for(;++T<w.length;)k[T]=l(w[T],m,v,x);return N(),k}function p(m,v,x){let w=WF.inlineCode(m,v,x);return x.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function ize(){return{exit:{taskListCheckValueChecked:uG,taskListCheckValueUnchecked:uG,paragraph:aze}}}function oze(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:sze}}}function uG(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function aze(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,a;for(;++o<i.length;){const s=i[o];if(s.type==="paragraph"){a=s;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function sze(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let l=WF.listItem(e,t,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+a}}function lze(){return[x7e(),F7e(),q7e(),ZUe(),ize()]}function cze(e){return{extensions:[w7e(),U7e(e),W7e(),rze(e),oze()]}}function Ol(e,t,n,r){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function ac(e,t){return e.length>0?(Ol(e,e.length,0,t),e):t}const dG={}.hasOwnProperty;function vfe(e){const t={};let n=-1;for(;++n<e.length;)uze(t,e[n]);return t}function uze(e,t){let n;for(n in t){const i=(dG.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){dG.call(i,a)||(i[a]=[]);const s=o[a];dze(i[a],Array.isArray(s)?s:s?[s]:[])}}}function dze(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ol(e,0,0,r)}const fze={tokenize:bze,partial:!0},xfe={tokenize:vze,partial:!0},wfe={tokenize:xze,partial:!0},Efe={tokenize:wze,partial:!0},hze={tokenize:Eze,partial:!0},Sfe={name:"wwwAutolink",tokenize:gze,previous:Tfe},Cfe={name:"protocolAutolink",tokenize:yze,previous:kfe},uh={name:"emailAutolink",tokenize:mze,previous:_fe},$d={};function pze(){return{text:$d}}let qg=48;for(;qg<123;)$d[qg]=uh,qg++,qg===58?qg=65:qg===91&&(qg=97);$d[43]=uh;$d[45]=uh;$d[46]=uh;$d[95]=uh;$d[72]=[uh,Cfe];$d[104]=[uh,Cfe];$d[87]=[uh,Sfe];$d[119]=[uh,Sfe];function mze(e,t,n){const r=this;let i,o;return a;function a(u){return!c8(u)||!_fe.call(r,r.previous)||GF(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(u))}function s(u){return c8(u)?(e.consume(u),s):u===64?(e.consume(u),l):n(u)}function l(u){return u===46?e.check(hze,d,c)(u):u===45||u===95||Ca(u)?(o=!0,e.consume(u),l):d(u)}function c(u){return e.consume(u),i=!0,l}function d(u){return o&&i&&ts(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(u)):n(u)}}function gze(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!Tfe.call(r,r.previous)||GF(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(fze,e.attempt(xfe,e.attempt(wfe,o),n),n)(a))}function o(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function yze(e,t,n){const r=this;let i="",o=!1;return a;function a(u){return(u===72||u===104)&&kfe.call(r,r.previous)&&!GF(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(u),e.consume(u),s):n(u)}function s(u){if(ts(u)&&i.length<5)return i+=String.fromCodePoint(u),e.consume(u),s;if(u===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(u),l}return n(u)}function l(u){return u===47?(e.consume(u),o?c:(o=!0,l)):n(u)}function c(u){return u===null||AO(u)||Wr(u)||U0(u)||lR(u)?n(u):e.attempt(xfe,e.attempt(wfe,d),n)(u)}function d(u){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(u)}}function bze(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),o):n(a)}function o(a){return a===null?n(a):t(a)}}function vze(e,t,n){let r,i,o;return a;function a(c){return c===46||c===95?e.check(Efe,l,s)(c):c===null||Wr(c)||U0(c)||c!==45&&lR(c)?l(c):(o=!0,e.consume(c),a)}function s(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),a}function l(c){return i||r||!o?n(c):t(c)}}function xze(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(Efe,t,o)(a):a===null||Wr(a)||U0(a)?t(a):(e.consume(a),i)}function o(a){return a===41&&r++,e.consume(a),i}}function wze(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),o):s===93?(e.consume(s),i):s===60||s===null||Wr(s)||U0(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||Wr(s)||U0(s)?t(s):r(s)}function o(s){return ts(s)?a(s):n(s)}function a(s){return s===59?(e.consume(s),r):ts(s)?(e.consume(s),a):n(s)}}function Eze(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return Ca(o)?n(o):t(o)}}function Tfe(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Wr(e)}function kfe(e){return!ts(e)}function _fe(e){return!(e===47||c8(e))}function c8(e){return e===43||e===45||e===46||e===95||Ca(e)}function GF(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function gx(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Ca(e.charCodeAt(n+1))&&Ca(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function cR(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const u8={name:"attention",resolveAll:Sze,tokenize:Cze};function Sze(e,t){let n=-1,r,i,o,a,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const u={...e[r][1].end},p={...e[n][1].start};fG(u,-l),fG(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:u,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[r][1].end={...a.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=ac(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=ac(c,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),c=ac(c,cR(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=ac(c,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=ac(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ol(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Cze(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=S1(r);let o;return a;function a(l){return o=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===o)return e.consume(l),s;const c=e.exit("attentionSequence"),d=S1(l),u=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return c._open=!!(o===42?u:u&&(i||!p)),c._close=!!(o===42?p:p&&(d||!u)),t(l)}}function fG(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Tze={name:"autolink",tokenize:kze};function kze(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return ts(m)?(e.consume(m),a):m===64?n(m):c(m)}function a(m){return m===43||m===45||m===46||Ca(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ca(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||AO(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):f7e(m)?(e.consume(m),c):n(m)}function d(m){return Ca(m)?u(m):n(m)}function u(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Ca(m))&&r++<63){const v=m===45?p:u;return e.consume(m),v}return n(m)}}function rr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return Vn(l)?(e.enter(n),s(l)):t(l)}function s(l){return Vn(l)&&o++<i?(e.consume(l),s):(e.exit(n),t(l))}}const JT={partial:!0,tokenize:_ze};function _ze(e,t,n){return r;function r(o){return Vn(o)?rr(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||Xt(o)?t(o):n(o)}}const Afe={continuation:{tokenize:Nze},exit:Oze,name:"blockQuote",tokenize:Aze};function Aze(e,t,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Vn(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function Nze(e,t,n){const r=this;return i;function i(a){return Vn(a)?rr(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(Afe,t,n)(a)}}function Oze(e){e.exit("blockQuote")}const Nfe={name:"characterEscape",tokenize:Mze};function Mze(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return p7e(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Ofe={name:"characterReference",tokenize:Dze};function Dze(e,t,n){const r=this;let i=0,o,a;return s;function s(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),l}function l(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),o=31,a=Ca,d(u))}function c(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=h7e,d):(e.enter("characterReferenceValue"),o=7,a=s8,d(u))}function d(u){if(u===59&&i){const p=e.exit("characterReferenceValue");return a===Ca&&!YF(r.sliceSerialize(p))?n(u):(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(u)&&i++<o?(e.consume(u),d):n(u)}}const hG={partial:!0,tokenize:Ize},pG={concrete:!0,name:"codeFenced",tokenize:Rze};function Rze(e,t,n){const r=this,i={partial:!0,tokenize:M};let o=0,a=0,s;return l;function l(A){return c(A)}function c(A){const R=r.events[r.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,s=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(A)}function d(A){return A===s?(a++,e.consume(A),d):a<3?n(A):(e.exit("codeFencedFenceSequence"),Vn(A)?rr(e,u,"whitespace")(A):u(A))}function u(A){return A===null||Xt(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(hG,x,I)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(A))}function p(A){return A===null||Xt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(A)):Vn(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rr(e,m,"whitespace")(A)):A===96&&A===s?n(A):(e.consume(A),p)}function m(A){return A===null||Xt(A)?u(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(A))}function v(A){return A===null||Xt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(A)):A===96&&A===s?n(A):(e.consume(A),v)}function x(A){return e.attempt(i,I,w)(A)}function w(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),T}function T(A){return o>0&&Vn(A)?rr(e,k,"linePrefix",o+1)(A):k(A)}function k(A){return A===null||Xt(A)?e.check(hG,x,I)(A):(e.enter("codeFlowValue"),N(A))}function N(A){return A===null||Xt(A)?(e.exit("codeFlowValue"),k(A)):(e.consume(A),N)}function I(A){return e.exit("codeFenced"),t(A)}function M(A,R,L){let B=0;return $;function $(X){return A.enter("lineEnding"),A.consume(X),A.exit("lineEnding"),W}function W(X){return A.enter("codeFencedFence"),Vn(X)?rr(A,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):V(X)}function V(X){return X===s?(A.enter("codeFencedFenceSequence"),Y(X)):L(X)}function Y(X){return X===s?(B++,A.consume(X),Y):B>=a?(A.exit("codeFencedFenceSequence"),Vn(X)?rr(A,U,"whitespace")(X):U(X)):L(X)}function U(X){return X===null||Xt(X)?(A.exit("codeFencedFence"),R(X)):L(X)}}}function Ize(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const KP={name:"codeIndented",tokenize:Lze},Pze={partial:!0,tokenize:jze};function Lze(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),rr(e,o,"linePrefix",5)(c)}function o(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):Xt(c)?e.attempt(Pze,a,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||Xt(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function jze(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Xt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):rr(e,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):Xt(a)?i(a):n(a)}}const Bze={name:"codeText",previous:Hze,resolve:$ze,tokenize:Fze};function $ze(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Hze(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Fze(e,t,n){let r=0,i,o;return a;function a(u){return e.enter("codeText"),e.enter("codeTextSequence"),s(u)}function s(u){return u===96?(e.consume(u),r++,s):(e.exit("codeTextSequence"),l(u))}function l(u){return u===null?n(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),l):u===96?(o=e.enter("codeTextSequence"),i=0,d(u)):Xt(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(u))}function c(u){return u===null||u===32||u===96||Xt(u)?(e.exit("codeTextData"),l(u)):(e.consume(u),c)}function d(u){return u===96?(e.consume(u),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(u)):(o.type="codeTextData",c(u))}}class Uze{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&HE(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),HE(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),HE(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);HE(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);HE(this.left,n.reverse())}}}function HE(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Mfe(e){const t={};let n=-1,r,i,o,a,s,l,c;const d=new Uze(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,zze(d,n)),n=t[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=d.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},s=d.slice(i,n),s.unshift(r),d.splice(i,n-i+1,s))}}return Ol(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function zze(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],c={};let d,u,p=-1,m=n,v=0,x=0;const w=[x];for(;m;){for(;e.get(++i)[1]!==m;);o.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),u&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),u=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(x=p+1,w.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):w.pop(),p=w.length;p--;){const T=s.slice(w[p],w[p+1]),k=o.pop();l.push([k,k+T.length-1]),e.splice(k,2,T)}for(l.reverse(),p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const Vze={resolve:Wze,tokenize:Yze},qze={partial:!0,tokenize:Gze};function Wze(e){return Mfe(e),e}function Yze(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):Xt(s)?e.check(qze,a,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function a(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Gze(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),rr(e,o,"linePrefix")}function o(a){if(a===null||Xt(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function Dfe(e,t,n,r,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return u;function u(T){return T===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(T),e.exit(o),p):T===null||T===32||T===41||AO(T)?n(T):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),x(T))}function p(T){return T===62?(e.enter(o),e.consume(T),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===62?(e.exit("chunkString"),e.exit(s),p(T)):T===null||T===60||Xt(T)?n(T):(e.consume(T),T===92?v:m)}function v(T){return T===60||T===62||T===92?(e.consume(T),m):m(T)}function x(T){return!d&&(T===null||T===41||Wr(T))?(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(T)):d<c&&T===40?(e.consume(T),d++,x):T===41?(e.consume(T),d--,x):T===null||T===32||T===40||AO(T)?n(T):(e.consume(T),T===92?w:x)}function w(T){return T===40||T===41||T===92?(e.consume(T),x):x(T)}}function Rfe(e,t,n,r,i,o){const a=this;let s=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(o),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(m):m===93?(e.exit(o),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Xt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),u(m))}function u(m){return m===null||m===91||m===93||Xt(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!Vn(m)),m===92?p:u)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,u):u(m)}}function Ife(e,t,n,r,i,o){let a;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),a=p===40?41:p,l):n(p)}function l(p){return p===a?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(o),c(p))}function c(p){return p===a?(e.exit(o),l(a)):p===null?n(p):Xt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),rr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===a||p===null||Xt(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?u:d)}function u(p){return p===a||p===92?(e.consume(p),d):d(p)}}function PS(e,t){let n;return r;function r(i){return Xt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Vn(i)?rr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Kze={name:"definition",tokenize:Zze},Xze={partial:!0,tokenize:Qze};function Zze(e,t,n){const r=this;let i;return o;function o(m){return e.enter("definition"),a(m)}function a(m){return Rfe.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return i=gu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Wr(m)?PS(e,c)(m):c(m)}function c(m){return Dfe(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Xze,u,u)(m)}function u(m){return Vn(m)?rr(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Xt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Qze(e,t,n){return r;function r(s){return Wr(s)?PS(e,i)(s):n(s)}function i(s){return Ife(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return Vn(s)?rr(e,a,"whitespace")(s):a(s)}function a(s){return s===null||Xt(s)?t(s):n(s)}}const Jze={name:"hardBreakEscape",tokenize:eVe};function eVe(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return Xt(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const tVe={name:"headingAtx",resolve:nVe,tokenize:rVe};function nVe(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ol(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function rVe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||Wr(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Xt(d)?(e.exit("atxHeading"),t(d)):Vn(d)?rr(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Wr(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const iVe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],mG=["pre","script","style","textarea"],oVe={concrete:!0,name:"htmlFlow",resolveTo:lVe,tokenize:cVe},aVe={partial:!0,tokenize:dVe},sVe={partial:!0,tokenize:uVe};function lVe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function cVe(e,t,n){const r=this;let i,o,a,s,l;return c;function c(z){return d(z)}function d(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),u}function u(z){return z===33?(e.consume(z),p):z===47?(e.consume(z),o=!0,x):z===63?(e.consume(z),i=3,r.interrupt?t:K):ts(z)?(e.consume(z),a=String.fromCharCode(z),w):n(z)}function p(z){return z===45?(e.consume(z),i=2,m):z===91?(e.consume(z),i=5,s=0,v):ts(z)?(e.consume(z),i=4,r.interrupt?t:K):n(z)}function m(z){return z===45?(e.consume(z),r.interrupt?t:K):n(z)}function v(z){const fe="CDATA[";return z===fe.charCodeAt(s++)?(e.consume(z),s===fe.length?r.interrupt?t:V:v):n(z)}function x(z){return ts(z)?(e.consume(z),a=String.fromCharCode(z),w):n(z)}function w(z){if(z===null||z===47||z===62||Wr(z)){const fe=z===47,me=a.toLowerCase();return!fe&&!o&&mG.includes(me)?(i=1,r.interrupt?t(z):V(z)):iVe.includes(a.toLowerCase())?(i=6,fe?(e.consume(z),T):r.interrupt?t(z):V(z)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(z):o?k(z):N(z))}return z===45||Ca(z)?(e.consume(z),a+=String.fromCharCode(z),w):n(z)}function T(z){return z===62?(e.consume(z),r.interrupt?t:V):n(z)}function k(z){return Vn(z)?(e.consume(z),k):$(z)}function N(z){return z===47?(e.consume(z),$):z===58||z===95||ts(z)?(e.consume(z),I):Vn(z)?(e.consume(z),N):$(z)}function I(z){return z===45||z===46||z===58||z===95||Ca(z)?(e.consume(z),I):M(z)}function M(z){return z===61?(e.consume(z),A):Vn(z)?(e.consume(z),M):N(z)}function A(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),l=z,R):Vn(z)?(e.consume(z),A):L(z)}function R(z){return z===l?(e.consume(z),l=null,B):z===null||Xt(z)?n(z):(e.consume(z),R)}function L(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||Wr(z)?M(z):(e.consume(z),L)}function B(z){return z===47||z===62||Vn(z)?N(z):n(z)}function $(z){return z===62?(e.consume(z),W):n(z)}function W(z){return z===null||Xt(z)?V(z):Vn(z)?(e.consume(z),W):n(z)}function V(z){return z===45&&i===2?(e.consume(z),q):z===60&&i===1?(e.consume(z),ne):z===62&&i===4?(e.consume(z),Q):z===63&&i===3?(e.consume(z),K):z===93&&i===5?(e.consume(z),oe):Xt(z)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(aVe,te,Y)(z)):z===null||Xt(z)?(e.exit("htmlFlowData"),Y(z)):(e.consume(z),V)}function Y(z){return e.check(sVe,U,te)(z)}function U(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),X}function X(z){return z===null||Xt(z)?Y(z):(e.enter("htmlFlowData"),V(z))}function q(z){return z===45?(e.consume(z),K):V(z)}function ne(z){return z===47?(e.consume(z),a="",Z):V(z)}function Z(z){if(z===62){const fe=a.toLowerCase();return mG.includes(fe)?(e.consume(z),Q):V(z)}return ts(z)&&a.length<8?(e.consume(z),a+=String.fromCharCode(z),Z):V(z)}function oe(z){return z===93?(e.consume(z),K):V(z)}function K(z){return z===62?(e.consume(z),Q):z===45&&i===2?(e.consume(z),K):V(z)}function Q(z){return z===null||Xt(z)?(e.exit("htmlFlowData"),te(z)):(e.consume(z),Q)}function te(z){return e.exit("htmlFlow"),t(z)}}function uVe(e,t,n){const r=this;return i;function i(a){return Xt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function dVe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(JT,t,n)}}const fVe={name:"htmlText",tokenize:hVe};function hVe(e,t,n){const r=this;let i,o,a;return s;function s(K){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(K),l}function l(K){return K===33?(e.consume(K),c):K===47?(e.consume(K),M):K===63?(e.consume(K),N):ts(K)?(e.consume(K),L):n(K)}function c(K){return K===45?(e.consume(K),d):K===91?(e.consume(K),o=0,v):ts(K)?(e.consume(K),k):n(K)}function d(K){return K===45?(e.consume(K),m):n(K)}function u(K){return K===null?n(K):K===45?(e.consume(K),p):Xt(K)?(a=u,ne(K)):(e.consume(K),u)}function p(K){return K===45?(e.consume(K),m):u(K)}function m(K){return K===62?q(K):K===45?p(K):u(K)}function v(K){const Q="CDATA[";return K===Q.charCodeAt(o++)?(e.consume(K),o===Q.length?x:v):n(K)}function x(K){return K===null?n(K):K===93?(e.consume(K),w):Xt(K)?(a=x,ne(K)):(e.consume(K),x)}function w(K){return K===93?(e.consume(K),T):x(K)}function T(K){return K===62?q(K):K===93?(e.consume(K),T):x(K)}function k(K){return K===null||K===62?q(K):Xt(K)?(a=k,ne(K)):(e.consume(K),k)}function N(K){return K===null?n(K):K===63?(e.consume(K),I):Xt(K)?(a=N,ne(K)):(e.consume(K),N)}function I(K){return K===62?q(K):N(K)}function M(K){return ts(K)?(e.consume(K),A):n(K)}function A(K){return K===45||Ca(K)?(e.consume(K),A):R(K)}function R(K){return Xt(K)?(a=R,ne(K)):Vn(K)?(e.consume(K),R):q(K)}function L(K){return K===45||Ca(K)?(e.consume(K),L):K===47||K===62||Wr(K)?B(K):n(K)}function B(K){return K===47?(e.consume(K),q):K===58||K===95||ts(K)?(e.consume(K),$):Xt(K)?(a=B,ne(K)):Vn(K)?(e.consume(K),B):q(K)}function $(K){return K===45||K===46||K===58||K===95||Ca(K)?(e.consume(K),$):W(K)}function W(K){return K===61?(e.consume(K),V):Xt(K)?(a=W,ne(K)):Vn(K)?(e.consume(K),W):B(K)}function V(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(e.consume(K),i=K,Y):Xt(K)?(a=V,ne(K)):Vn(K)?(e.consume(K),V):(e.consume(K),U)}function Y(K){return K===i?(e.consume(K),i=void 0,X):K===null?n(K):Xt(K)?(a=Y,ne(K)):(e.consume(K),Y)}function U(K){return K===null||K===34||K===39||K===60||K===61||K===96?n(K):K===47||K===62||Wr(K)?B(K):(e.consume(K),U)}function X(K){return K===47||K===62||Wr(K)?B(K):n(K)}function q(K){return K===62?(e.consume(K),e.exit("htmlTextData"),e.exit("htmlText"),t):n(K)}function ne(K){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(K),e.exit("lineEnding"),Z}function Z(K){return Vn(K)?rr(e,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):oe(K)}function oe(K){return e.enter("htmlTextData"),a(K)}}const KF={name:"labelEnd",resolveAll:yVe,resolveTo:bVe,tokenize:vVe},pVe={tokenize:xVe},mVe={tokenize:wVe},gVe={tokenize:EVe};function yVe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ol(e,0,e.length,n),e}function bVe(e,t){let n=e.length,r=0,i,o,a,s;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=ac(s,e.slice(o+1,o+r+3)),s=ac(s,[["enter",d,t]]),s=ac(s,cR(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),s=ac(s,[["exit",d,t],e[a-2],e[a-1],["exit",c,t]]),s=ac(s,e.slice(a+1)),s=ac(s,[["exit",l,t]]),Ol(e,o,e.length,s),e}function vVe(e,t,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(p){return o?o._inactive?u(p):(a=r.parser.defined.includes(gu(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(pVe,d,a?d:u)(p):p===91?e.attempt(mVe,d,a?c:u)(p):a?d(p):u(p)}function c(p){return e.attempt(gVe,d,u)(p)}function d(p){return t(p)}function u(p){return o._balanced=!0,n(p)}}function xVe(e,t,n){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),i}function i(u){return Wr(u)?PS(e,o)(u):o(u)}function o(u){return u===41?d(u):Dfe(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function a(u){return Wr(u)?PS(e,l)(u):d(u)}function s(u){return n(u)}function l(u){return u===34||u===39||u===40?Ife(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):d(u)}function c(u){return Wr(u)?PS(e,d)(u):d(u)}function d(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}function wVe(e,t,n){const r=this;return i;function i(s){return Rfe.call(r,e,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(gu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function a(s){return n(s)}}function EVe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const SVe={name:"labelStartImage",resolveAll:KF.resolveAll,tokenize:CVe};function CVe(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const TVe={name:"labelStartLink",resolveAll:KF.resolveAll,tokenize:kVe};function kVe(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const XP={name:"lineEnding",tokenize:_Ve};function _Ve(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),rr(e,t,"linePrefix")}}const aN={name:"thematicBreak",tokenize:AVe};function AVe(e,t,n){let r=0,i;return o;function o(c){return e.enter("thematicBreak"),a(c)}function a(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Xt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Vn(c)?rr(e,s,"whitespace")(c):s(c))}}const Os={continuation:{tokenize:DVe},exit:IVe,name:"list",tokenize:MVe},NVe={partial:!0,tokenize:PVe},OVe={partial:!0,tokenize:RVe};function MVe(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:s8(m)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(aN,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return s8(m)&&++a<10?(e.consume(m),l):(!r.interrupt||a<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(JT,r.interrupt?n:d,e.attempt(NVe,p,u))}function d(m){return r.containerState.initialBlankLine=!0,o++,p(m)}function u(m){return Vn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function DVe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(JT,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rr(e,t,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!Vn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(OVe,t,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,rr(e,e.attempt(Os,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function RVe(e,t,n){const r=this;return rr(e,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function IVe(e){e.exit(this.containerState.type)}function PVe(e,t,n){const r=this;return rr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!Vn(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const gG={name:"setextUnderline",resolveTo:LVe,tokenize:jVe};function LVe(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function jVe(e,t,n){const r=this;let i;return o;function o(c){let d=r.events.length,u;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){u=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||u)?(e.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Vn(c)?rr(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Xt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const BVe={tokenize:WVe,partial:!0};function $Ve(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:zVe,continuation:{tokenize:VVe},exit:qVe}},text:{91:{name:"gfmFootnoteCall",tokenize:UVe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:HVe,resolveTo:FVe}}}}function HVe(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!a||!a._balanced)return n(l);const c=gu(r.sliceSerialize({start:a.end,end:r.now()}));return c.codePointAt(0)!==94||!o.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function FVe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function UVe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return s;function s(u){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),l}function l(u){return u!==94?n(u):(e.enter("gfmFootnoteCallMarker"),e.consume(u),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(u){if(o>999||u===93&&!a||u===null||u===91||Wr(u))return n(u);if(u===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(gu(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(u)}return Wr(u)||(a=!0),o++,e.consume(u),u===92?d:c}function d(u){return u===91||u===92||u===93?(e.consume(u),o++,c):c(u)}}function zVe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,s;return l;function l(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(v)}function d(v){if(a>999||v===93&&!s||v===null||v===91||Wr(v))return n(v);if(v===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return o=gu(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Wr(v)||(s=!0),a++,e.consume(v),v===92?u:d}function u(v){return v===91||v===92||v===93?(e.consume(v),a++,d):d(v)}function p(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),i.includes(o)||i.push(o),rr(e,m,"gfmFootnoteDefinitionWhitespace")):n(v)}function m(v){return t(v)}}function VVe(e,t,n){return e.check(JT,t,e.attempt(BVe,t,n))}function qVe(e){e.exit("gfmFootnoteDefinition")}function WVe(e,t,n){const r=this;return rr(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(o):n(o)}}function YVe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,s){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let c=l;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[l][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[l][1].end)},u={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[l][1].start)},p=[["enter",d,s],["enter",a[c][1],s],["exit",a[c][1],s],["enter",u,s]],m=s.parser.constructs.insideSpan.null;m&&Ol(p,p.length,0,cR(m,a.slice(c+1,l),s)),Ol(p,p.length,0,[["exit",u,s],["enter",a[l][1],s],["exit",a[l][1],s],["exit",d,s]]),Ol(a,c-1,l-c+3,p),l=c+p.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,s,l){const c=this.previous,d=this.events;let u=0;return p;function p(v){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(v):(a.enter("strikethroughSequenceTemporary"),m(v))}function m(v){const x=S1(c);if(v===126)return u>1?l(v):(a.consume(v),u++,m);if(u<2&&!n)return l(v);const w=a.exit("strikethroughSequenceTemporary"),T=S1(v);return w._open=!T||T===2&&!!x,w._close=!x||x===2&&!!T,s(v)}}}class GVe{constructor(){this.map=[]}add(t,n,r){KVe(this,t,n,r)}consume(t){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function KVe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function XVe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function ZVe(){return{flow:{null:{name:"table",tokenize:QVe,resolveAll:JVe}}}}function QVe(e,t,n){const r=this;let i=0,o=0,a;return s;function s($){let W=r.events.length-1;for(;W>-1;){const U=r.events[W][1].type;if(U==="lineEnding"||U==="linePrefix")W--;else break}const V=W>-1?r.events[W][1].type:null,Y=V==="tableHead"||V==="tableRow"?A:l;return Y===A&&r.parser.lazy[r.now().line]?n($):Y($)}function l($){return e.enter("tableHead"),e.enter("tableRow"),c($)}function c($){return $===124||(a=!0,o+=1),d($)}function d($){return $===null?n($):Xt($)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),m):n($):Vn($)?rr(e,d,"whitespace")($):(o+=1,a&&(a=!1,i+=1),$===124?(e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),u($)))}function u($){return $===null||$===124||Wr($)?(e.exit("data"),d($)):(e.consume($),$===92?p:u)}function p($){return $===92||$===124?(e.consume($),u):u($)}function m($){return r.interrupt=!1,r.parser.lazy[r.now().line]?n($):(e.enter("tableDelimiterRow"),a=!1,Vn($)?rr(e,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):v($))}function v($){return $===45||$===58?w($):$===124?(a=!0,e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),x):M($)}function x($){return Vn($)?rr(e,w,"whitespace")($):w($)}function w($){return $===58?(o+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume($),e.exit("tableDelimiterMarker"),T):$===45?(o+=1,T($)):$===null||Xt($)?I($):M($)}function T($){return $===45?(e.enter("tableDelimiterFiller"),k($)):M($)}function k($){return $===45?(e.consume($),k):$===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume($),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N($))}function N($){return Vn($)?rr(e,I,"whitespace")($):I($)}function I($){return $===124?v($):$===null||Xt($)?!a||i!==o?M($):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t($)):M($)}function M($){return n($)}function A($){return e.enter("tableRow"),R($)}function R($){return $===124?(e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),R):$===null||Xt($)?(e.exit("tableRow"),t($)):Vn($)?rr(e,R,"whitespace")($):(e.enter("data"),L($))}function L($){return $===null||$===124||Wr($)?(e.exit("data"),R($)):(e.consume($),$===92?B:L)}function B($){return $===92||$===124?(e.consume($),L):L($)}}function JVe(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],s=!1,l=0,c,d,u;const p=new GVe;for(;++n<e.length;){const m=e[n],v=m[1];m[0]==="enter"?v.type==="tableHead"?(s=!1,l!==0&&(yG(p,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",c,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,u=void 0,o=[0,0,0,0],a=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",d,t]])),i=v.type==="tableDelimiterRow"?2:d?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],u=mA(p,t,o,i,void 0,u),o=[0,0,0,0]),a[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],u=mA(p,t,o,i,void 0,u)),o=a,a=[o[1],n,0,0])):v.type==="tableHead"?(s=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,o[1]!==0?(a[0]=a[1],u=mA(p,t,o,i,n,u)):a[1]!==0&&(u=mA(p,t,a,i,n,u)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&yG(p,t,l,c,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=XVe(t.events,n))}return e}function mA(e,t,n,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(o.end=Object.assign({},xv(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const l=xv(t.events,n[1]);if(o={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const c=xv(t.events,n[2]),d=xv(t.events,n[3]),u={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",u,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,x=n[3]-n[2]-1;e.add(v,x,[])}}e.add(n[3]+1,0,[["exit",u,t]])}return i!==void 0&&(o.end=Object.assign({},xv(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function yG(e,t,n,r,i){const o=[],a=xv(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function xv(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const eqe={name:"tasklistCheck",tokenize:nqe};function tqe(){return{text:{91:eqe}}}function nqe(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),o)}function o(l){return Wr(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Xt(l)?t(l):Vn(l)?e.check({tokenize:rqe},t,n)(l):n(l)}}function rqe(e,t,n){return rr(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function iqe(e){return vfe([pze(),$Ve(),YVe(e),ZVe(),tqe()])}const oqe={};function Pfe(e){const t=this,n=e||oqe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(iqe(n)),o.push(lze()),a.push(cze(n))}function aqe(e){const t=this;t.compiler=n;function n(r){return VUe(r,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}function bG(e){if(e)throw e}var ZP,vG;function sqe(){if(vG)return ZP;vG=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},o=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),u=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!u)return!1;var p;for(p in c);return typeof p>"u"||e.call(c,p)},a=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},s=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return ZP=function l(){var c,d,u,p,m,v,x=arguments[0],w=1,T=arguments.length,k=!1;for(typeof x=="boolean"&&(k=x,x=arguments[1]||{},w=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});w<T;++w)if(c=arguments[w],c!=null)for(d in c)u=s(x,d),p=s(c,d),x!==p&&(k&&p&&(o(p)||(m=i(p)))?(m?(m=!1,v=u&&i(u)?u:[]):v=u&&o(u)?u:{},a(x,{name:d,newValue:l(k,v,p)})):typeof p<"u"&&a(x,{name:d,newValue:p}));return x},ZP}var lqe=sqe();const QP=vr(lqe);function d8(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function cqe(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...c){const d=e[++o];let u=-1;if(l){a(l);return}for(;++u<i.length;)(c[u]===null||c[u]===void 0)&&(c[u]=i[u]);i=c,d?uqe(d,s)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function uqe(e,t){let n;return r;function r(...a){const s=e.length>a.length;let l;s&&a.push(i);try{l=e.apply(this,a)}catch(c){const d=c;if(s&&n)throw d;return i(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,t(a,...s))}function o(a){i(null,a)}}const dqe=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),fqe={}.hasOwnProperty;class XF extends dqe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=cqe()}copy(){const t=new XF;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(QP(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(tL("data",this.frozen),this.namespace[t]=n,this):fqe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(tL("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=gA(t),r=this.parser||this.Parser;return JP("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),JP("process",this.parser||this.Parser),eL("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=gA(t),l=r.parse(s);r.run(l,s,function(d,u,p){if(d||!u||!p)return c(d);const m=u,v=r.stringify(m,p);pqe(v)?p.value=v:p.result=v,c(d,p)});function c(d,u){d||!u?a(d):o?o(u):n(void 0,u)}}}processSync(t){let n=!1,r;return this.freeze(),JP("processSync",this.parser||this.Parser),eL("processSync",this.compiler||this.Compiler),this.process(t,i),wG("processSync","process",n),r;function i(o,a){n=!0,bG(o),r=a}}run(t,n,r){xG(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=gA(n);i.run(t,l,c);function c(d,u,p){const m=u||t;d?s(d):a?a(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),wG("runSync","run",r),i;function o(a,s){bG(a),i=s,r=!0}}stringify(t,n){this.freeze();const r=gA(n),i=this.compiler||this.Compiler;return eL("stringify",i),xG(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(tL("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...u]=c;l(d,u)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=QP(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const u=c[d];o(u)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let u=-1,p=-1;for(;++u<r.length;)if(r[u][0]===c){p=u;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...v]=d;const x=r[p][1];d8(x)&&d8(m)&&(m=QP(!0,x,m)),r[p]=[c,m,...v]}}}}const Lfe=new XF().freeze();function JP(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function eL(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function tL(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function xG(e){if(!d8(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function wG(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function gA(e){return hqe(e)?e:new o8(e)}function hqe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function pqe(e){return typeof e=="string"||mqe(e)}function mqe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}function gqe(e,t){return jfe(e,{})||{type:"root",children:[]}}function jfe(e,t){const n=yqe(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function yqe(e,t){switch(e.nodeType){case 1:return wqe(e,t);case 3:return vqe(e);case 8:return xqe(e);case 9:return EG(e,t);case 10:return bqe();case 11:return EG(e,t);default:return}}function EG(e,t){return{type:"root",children:Bfe(e,t)}}function bqe(){return{type:"doctype"}}function vqe(e){return{type:"text",value:e.nodeValue||""}}function xqe(e){return{type:"comment",value:e.nodeValue||""}}function wqe(e,t){const n=e.namespaceURI,r=n===rN.svg?Wue:que,i=n===rN.html?e.tagName.toLowerCase():e.tagName,o=n===rN.html&&i==="template"?e.content:e,a=e.getAttributeNames(),s={};let l=-1;for(;++l<a.length;)s[a[l]]=e.getAttribute(a[l])||"";return r(i,s,Bfe(o,t))}function Bfe(e,t){const n=e.childNodes,r=[];let i=-1;for(;++i<n.length;){const o=jfe(n[i],t);o!==void 0&&r.push(o)}return r}const Eqe=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else n!==void 0&&n()}},Sqe=/[\uD800-\uDBFF]/,Cqe=/[\uDC00-\uDFFF]/,Tqe=(e,t)=>{let n=0,r=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;for(n>0&&Sqe.test(e[n-1])&&n--;r+n<e.length&&r+n<t.length&&e[e.length-r-1]===t[t.length-r-1];)r++;return r>0&&Cqe.test(e[e.length-r])&&r--,{index:n,remove:e.length-n-r,insert:t.slice(n,t.length-r)}},kqe=Tqe,Mr=new En("y-sync"),uc=new En("y-undo"),lS=new En("yjs-cursor"),Sd=(e,t)=>e>>>t|e<<32-t,_qe=e=>Sd(e,2)^Sd(e,13)^Sd(e,22),Aqe=e=>Sd(e,6)^Sd(e,11)^Sd(e,25),Nqe=e=>Sd(e,7)^Sd(e,18)^e>>>3,Oqe=e=>Sd(e,17)^Sd(e,19)^e>>>10,Mqe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dqe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class Rqe{constructor(){const t=new ArrayBuffer(320);this._H=new Uint32Array(t,0,8),this._H.set(Dqe),this._W=new Uint32Array(t,64,64)}_updateHash(){const t=this._H,n=this._W;for(let u=16;u<64;u++)n[u]=Oqe(n[u-2])+n[u-7]+Nqe(n[u-15])+n[u-16];let r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],d=t[7];for(let u=0,p,m;u<64;u++)p=d+Aqe(s)+(s&l^~s&c)+Mqe[u]+n[u]>>>0,m=_qe(r)+(r&i^r&o^i&o)>>>0,d=c,c=l,l=s,s=a+p>>>0,a=o,o=i,i=r,r=p+m>>>0;t[0]+=r,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=l,t[6]+=c,t[7]+=d}digest(t){let n=0;for(;n+56<=t.length;){let a=0;for(;a<16&&n+3<t.length;a++)this._W[a]=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++];if(n%64!==0){for(this._W.fill(0,a,16);n<t.length;)this._W[a]|=t[n]<<(3-n%4)*8,n++;this._W[a]|=rs<<(3-n%4)*8}this._updateHash()}const r=n%64!==0;this._W.fill(0,0,16);let i=0;for(;n<t.length;i++)for(let a=3;a>=0&&n<t.length;a--)this._W[i]|=t[n++]<<a*8;r||(this._W[i-(n%4===0?0:1)]|=rs<<(3-n%4)*8),this._W[14]=t.byteLength/Vje,this._W[15]=t.byteLength*8,this._updateHash();const o=new Uint8Array(32);for(let a=0;a<this._H.length;a++)for(let s=0;s<4;s++)o[a*4+s]=this._H[a]>>>(3-s)*8;return o}}const Iqe=e=>new Rqe().digest(e),Pqe=e=>{for(let n=6;n<e.length;n++)e[n%6]=e[n%6]^e[n];return e.slice(0,6)},Lqe=e=>V5e(Pqe(Iqe(W5e(e)))),OO=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&t.sv.get(e.id.client)>e.id.clock&&!dx(t.ds,e.id),jqe=[{light:"#ecd44433",dark:"#ecd444"}],Bqe=(e,t,n)=>{if(!e.has(n)){if(e.size<t.length){const r=B0();e.forEach(i=>r.add(i)),t=t.filter(i=>!r.has(i))}e.set(n,S5e(t))}return e.get(n)},$qe=(e,{colors:t=jqe,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:i=()=>{},mapping:o}={})=>{let a=!1;const s=new Fqe(e,o),l=new rn({props:{editable:c=>{const d=Mr.getState(c);return d.snapshot==null&&d.prevSnapshot==null}},key:Mr,state:{init:(c,d)=>({type:e,doc:e.doc,binding:s,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:t,colorMapping:n,permanentUserData:r}),apply:(c,d)=>{const u=c.getMeta(Mr);if(u!==void 0){d=Object.assign({},d);for(const p in u)d[p]=u[p]}return d.addToHistory=c.getMeta("addToHistory")!==!1,d.isChangeOrigin=u!==void 0&&!!u.isChangeOrigin,d.isUndoRedoOperation=u!==void 0&&!!u.isChangeOrigin&&!!u.isUndoRedoOperation,s.prosemirrorView!==null&&u!==void 0&&(u.snapshot!=null||u.prevSnapshot!=null)&&tF(0,()=>{s.prosemirrorView!=null&&(u.restore==null?s._renderSnapshot(u.snapshot,u.prevSnapshot,d):(s._renderSnapshot(u.snapshot,u.snapshot,d),delete d.restore,delete d.snapshot,delete d.prevSnapshot,s.mux(()=>{s._prosemirrorChanged(s.prosemirrorView.state.doc)})))}),d}},view:c=>(s.initView(c),o==null&&s._forceRerender(),i(),{update:()=>{const d=l.getState(c.state);if(d.snapshot==null&&d.prevSnapshot==null&&(a||c.state.doc.content.findDiffStart(c.state.doc.type.createAndFill().content)!==null)){if(a=!0,d.addToHistory===!1&&!d.isChangeOrigin){const u=uc.getState(c.state),p=u&&u.undoManager;p&&p.stopCapturing()}s.mux(()=>{d.doc.transact(u=>{u.meta.set("addToHistory",d.addToHistory),s._prosemirrorChanged(c.state.doc)},Mr)})}},destroy:()=>{s.destroy()}})});return l},Hqe=(e,t,n)=>{if(t!==null&&t.anchor!==null&&t.head!==null)if(t.type==="all")e.setSelection(new Us(e.doc));else if(t.type==="node"){const r=x0(n.doc,n.type,t.anchor,n.mapping);e.setSelection(Rt.create(e.doc,r))}else{const r=x0(n.doc,n.type,t.anchor,n.mapping),i=x0(n.doc,n.type,t.head,n.mapping);if(r!==null&&i!==null){const o=St.between(e.doc.resolve(r),e.doc.resolve(i));e.setSelection(o)}}},MO=(e,t)=>({type:t.selection.jsonID,anchor:kC(t.selection.anchor,e.type,e.mapping),head:kC(t.selection.head,e.type,e.mapping)});class Fqe{constructor(t,n=new Map){this.type=t,this.prosemirrorView=null,this.mux=Eqe(),this.mapping=n,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=t.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=MO(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(Mce&&this._domSelectionInView===null&&(tF(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const t=this.prosemirrorView._root.getSelection();if(t==null||t.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const i=n.getBoundingClientRect(),o=G5e.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||o.clientWidth||0)&&i.top<=(window.innerHeight||o.clientHeight||0)}renderSnapshot(t,n){n||(n=Xce(Hce(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Mr,{snapshot:t,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const t=this.type.toArray().map(r=>sN(r,this.prosemirrorView.state.schema,this)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(He.from(t),0,0));n.setMeta(Mr,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const t=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(i=>sN(i,this.prosemirrorView.state.schema,this)).filter(i=>i!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(He.from(n),0,0));if(t){const i=Ff(vu(t.anchor,0),r.doc.content.size),o=Ff(vu(t.head,0),r.doc.content.size);r.setSelection(St.create(r.doc,i,o))}this.prosemirrorView.dispatch(r.setMeta(Mr,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(t,n,r){let i=this.doc,o=this.type;if(t||(t=SP(this.doc)),t instanceof Uint8Array||n instanceof Uint8Array)if((!(t instanceof Uint8Array)||!(n instanceof Uint8Array))&&Rl(),i=new mm({gc:!1}),FN(i,n),n=SP(i),FN(i,t),t=SP(i),o._item===null){const a=Array.from(this.doc.share.keys()).find(s=>this.doc.share.get(s)===this.type);o=i.getXmlFragment(a)}else{const a=i.store.clients.get(o._item.id.client)??[],s=Sc(a,o._item.id.clock);o=a[s].content.type}this.mapping.clear(),this.mux(()=>{i.transact(a=>{const s=r.permanentUserData;s&&s.dss.forEach(u=>{am(a,u,p=>{})});const l=(u,p)=>{const m=u==="added"?s.getUserByClientId(p.client):s.getUserByDeletedId(p);return{user:m,type:u,color:Bqe(r.colorMapping,r.colors,m)}},c=sue(o,new sF(n.ds,t.sv)).map(u=>!u._item.deleted||OO(u._item,t)||OO(u._item,n)?sN(u,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},t,n,l):null).filter(u=>u!==null),d=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(He.from(c),0,0));this.prosemirrorView.dispatch(d.setMeta(Mr,{isChangeOrigin:!0}))},Mr)})}_typeChanged(t,n){if(this.prosemirrorView==null)return;const r=Mr.getState(this.prosemirrorView.state);if(t.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{const i=(s,l)=>this.mapping.delete(l);am(n,n.deleteSet,s=>{if(s.constructor===oi){const l=s.content.type;l&&this.mapping.delete(l)}}),n.changed.forEach(i),n.changedParentTypes.forEach(i);const o=this.type.toArray().map(s=>$fe(s,this.prosemirrorView.state.schema,this)).filter(s=>s!==null);let a=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(He.from(o),0,0));Hqe(a,this.beforeTransactionSelection,this),a=a.setMeta(Mr,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof tue}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&a.scrollIntoView(),this.prosemirrorView.dispatch(a)})}_prosemirrorChanged(t){this.doc.transact(()=>{h8(this.doc,this.type,t,this),this.beforeTransactionSelection=MO(this,this.prosemirrorView.state)},Mr)}initView(t){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=t,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const $fe=(e,t,n,r,i,o)=>{const a=n.mapping.get(e);if(a===void 0){if(e instanceof ea)return sN(e,t,n,r,i,o);throw mu()}return a},sN=(e,t,n,r,i,o)=>{const a=[],s=l=>{if(l instanceof ea){const c=$fe(l,t,n,r,i,o);c!==null&&a.push(c)}else{const c=l._item.right?.content?.type;c instanceof sm&&!c._item.deleted&&c._item.id.client===c.doc.clientID&&(l.applyDelta([{retain:l.length},...c.toDelta()]),c.doc.transact(u=>{c._item.delete(u)}));const d=Uqe(l,t,n,r,i,o);d!==null&&d.forEach(u=>{u!==null&&a.push(u)})}};r===void 0||i===void 0?e.toArray().forEach(s):sue(e,new sF(i.ds,r.sv)).forEach(s);try{const l=e.getAttributes(r);r!==void 0&&(OO(e._item,r)?OO(e._item,i)||(l.ychange=o?o("added",e._item.id):{type:"added"}):l.ychange=o?o("removed",e._item.id):{type:"removed"});const c=t.node(e.nodeName,l,a);return n.mapping.set(e,c),c}catch{return e.doc.transact(c=>{e._item.delete(c)},Mr),n.mapping.delete(e),null}},Uqe=(e,t,n,r,i,o)=>{const a=[],s=e.toDelta(r,i,o);try{for(let l=0;l<s.length;l++){const c=s[l];a.push(t.text(c.insert,Gqe(c.attributes,t)))}}catch{return e.doc.transact(c=>{e._item.delete(c)},Mr),null}return a},zqe=(e,t)=>{const n=new Nl,r=e.map(i=>({insert:i.text,attributes:Ufe(i.marks,t)}));return n.applyDelta(r),t.mapping.set(n,e),n},Vqe=(e,t)=>{const n=new ea(e.type.name);for(const r in e.attrs){const i=e.attrs[r];i!==null&&r!=="ychange"&&n.setAttribute(r,i)}return n.insert(0,uR(e).map(r=>f8(r,t))),t.mapping.set(n,e),n},f8=(e,t)=>e instanceof Array?zqe(e,t):Vqe(e,t),SG=e=>typeof e=="object"&&e!==null,ZF=(e,t)=>{const n=Object.keys(e).filter(i=>e[i]!==null);let r=n.length===(t==null?0:Object.keys(t).filter(i=>t[i]!==null).length);for(let i=0;i<n.length&&r;i++){const o=n[i],a=e[o],s=t[o];r=o==="ychange"||a===s||SG(a)&&SG(s)&&ZF(a,s)}return r},uR=e=>{const t=e.content.content,n=[];for(let r=0;r<t.length;r++){const i=t[r];if(i.isText){const o=[];for(let a=t[r];r<t.length&&a.isText;a=t[++r])o.push(a);r--,n.push(o)}else n.push(i)}return n},Hfe=(e,t)=>{const n=e.toDelta();return n.length===t.length&&n.every((r,i)=>r.insert===t[i].text&&_ce(r.attributes||{}).length===t[i].marks.length&&Ace(r.attributes,(o,a)=>{const s=Ffe(a),l=t[i].marks;return ZF(o,l.find(c=>c.type.name===s)?.attrs)}))},TC=(e,t)=>{if(e instanceof ea&&!(t instanceof Array)&&p8(e,t)){const n=uR(t);return e._length===n.length&&ZF(e.getAttributes(),t.attrs)&&e.toArray().every((r,i)=>TC(r,n[i]))}return e instanceof Nl&&t instanceof Array&&Hfe(e,t)},DO=(e,t)=>e===t||e instanceof Array&&t instanceof Array&&e.length===t.length&&e.every((n,r)=>t[r]===n),CG=(e,t,n)=>{const r=e.toArray(),i=uR(t),o=i.length,a=r.length,s=Ff(a,o);let l=0,c=0,d=!1;for(;l<s;l++){const u=r[l],p=i[l];if(DO(n.mapping.get(u),p))d=!0;else if(!TC(u,p))break}for(;l+c<s;c++){const u=r[a-c-1],p=i[o-c-1];if(DO(n.mapping.get(u),p))d=!0;else if(!TC(u,p))break}return{equalityFactor:l+c,foundMappedChild:d}},qqe=e=>{let t="",n=e._start;const r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof xu?t+=n.content.str:n.content instanceof ho&&(r[n.content.key]=null)),n=n.right;return{str:t,nAttrs:r}},Wqe=(e,t,n)=>{n.mapping.set(e,t);const{nAttrs:r,str:i}=qqe(e),o=t.map(c=>({insert:c.text,attributes:Object.assign({},r,Ufe(c.marks,n))})),{insert:a,remove:s,index:l}=kqe(i,o.map(c=>c.insert).join(""));e.delete(l,s),e.insert(l,a),e.applyDelta(o.map(c=>({retain:c.insert.length,attributes:c.attributes})))},Yqe=/(.*)(--[a-zA-Z0-9+/=]{8})$/,Ffe=e=>Yqe.exec(e)?.[1]??e,Gqe=(e,t)=>{const n=[];for(const r in e)n.push(t.mark(Ffe(r),e[r]));return n},Ufe=(e,t)=>{const n={};return e.forEach(r=>{if(r.type.name!=="ychange"){const i=Bd(t.isOMark,r.type,()=>!r.type.excludes(r.type));n[i?`${r.type.name}--${Lqe(r.toJSON())}`:r.type.name]=r.attrs}}),n},h8=(e,t,n,r)=>{if(t instanceof ea&&t.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.mapping.set(t,n),t instanceof ea){const u=t.getAttributes(),p=n.attrs;for(const m in p)p[m]!==null?u[m]!==p[m]&&m!=="ychange"&&t.setAttribute(m,p[m]):t.removeAttribute(m);for(const m in u)p[m]===void 0&&t.removeAttribute(m)}const i=uR(n),o=i.length,a=t.toArray(),s=a.length,l=Ff(o,s);let c=0,d=0;for(;c<l;c++){const u=a[c],p=i[c];if(!DO(r.mapping.get(u),p))if(TC(u,p))r.mapping.set(u,p);else break}for(;d+c<l;d++){const u=a[s-d-1],p=i[o-d-1];if(!DO(r.mapping.get(u),p))if(TC(u,p))r.mapping.set(u,p);else break}e.transact(()=>{for(;s-c-d>0&&o-c-d>0;){const p=a[c],m=i[c],v=a[s-d-1],x=i[o-d-1];if(p instanceof Nl&&m instanceof Array)Hfe(p,m)||Wqe(p,m,r),c+=1;else{let w=p instanceof ea&&p8(p,m),T=v instanceof ea&&p8(v,x);if(w&&T){const k=CG(p,m,r),N=CG(v,x,r);k.foundMappedChild&&!N.foundMappedChild?T=!1:!k.foundMappedChild&&N.foundMappedChild||k.equalityFactor<N.equalityFactor?w=!1:T=!1}w?(h8(e,p,m,r),c+=1):T?(h8(e,v,x,r),d+=1):(r.mapping.delete(t.get(c)),t.delete(c,1),t.insert(c,[f8(m,r)]),c+=1)}}const u=s-c-d;if(s===1&&o===0&&a[0]instanceof Nl?(r.mapping.delete(a[0]),a[0].delete(0,a[0].length)):u>0&&(t.slice(c,c+u).forEach(p=>r.mapping.delete(p)),t.delete(c,u)),c+d<o){const p=[];for(let m=c;m<o-d;m++)p.push(f8(i[m],r));t.insert(c,p)}},Mr)},p8=(e,t)=>!(t instanceof Array)&&e.nodeName===t.type.name;let LS=null;const Kqe=()=>{const e=LS;LS=null,e.forEach((t,n)=>{const r=n.state.tr,i=Mr.getState(n.state);i&&i.binding&&!i.binding.isDestroyed&&(t.forEach((o,a)=>{r.setMeta(a,o)}),n.dispatch(r))})},Xqe=(e,t,n)=>{LS||(LS=new Map,tF(0,Kqe)),Bd(LS,e,pc).set(t,n)},kC=(e,t,n)=>{if(e===0)return EP(t,0,t.length===0?-1:0);let r=t._first===null?null:t._first.content.type;for(;r!==null&&t!==r;){if(r instanceof Nl){if(r._length>=e)return EP(r,e,t.length===0?-1:0);if(e-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,e--;while(r!==t&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==t&&(r=r._item===null?null:r._item.next.content.type)}}else{const i=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&e<i)r=r._first.content.type,e--;else{if(e===1&&r._length===0&&i>1)return new yC(r._item===null?null:r._item.id,r._item===null?mC(r):null,null);if(e-=i,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(e===0)return r=r._item===null?r:r._item.parent,new yC(r._item===null?null:r._item.id,r._item===null?mC(r):null,null);do r=r._item.parent,e--;while(r!==t&&r._item.next===null);r!==t&&(r=r._item.next.content.type)}}}if(r===null)throw Rl();if(e===0&&r.constructor!==Nl&&r!==t)return Zqe(r._item.parent,r._item)}return EP(t,t._length,t.length===0?-1:0)},Zqe=(e,t)=>{let n=null,r=null;return e._item===null?r=mC(e):n=vn(e._item.id.client,e._item.id.clock),new yC(n,r,t.id)},x0=(e,t,n,r)=>{const i=T6e(n,e);if(i===null||i.type!==t&&!gC(t,i.type._item))return null;let o=i.type,a=0;if(o.constructor===Nl)a=i.index;else if(o._item===null||!o._item.deleted){let s=o._first,l=0;for(;l<o._length&&l<i.index&&s!==null;){if(!s.deleted){const c=s.content.type;l++,c instanceof Nl?a+=c._length:a+=r.get(c).nodeSize}s=s.right}a+=1}for(;o!==t&&o._item!==null;){const s=o._item.parent;if(s._item===null||!s._item.deleted){a+=1;let l=s._first;for(;l!==null;){const c=l.content.type;if(c===o)break;l.deleted||(c instanceof Nl?a+=c._length:a+=r.get(c).nodeSize),l=l.right}}o=s}return a-1},Qqe=(e,t,n)=>e!==t,Jqe=e=>{const t=document.createElement("span");t.classList.add("ProseMirror-yjs-cursor"),t.setAttribute("style",`border-color: ${e.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${e.color}`),n.insertBefore(document.createTextNode(e.name),null);const r=document.createTextNode(""),i=document.createTextNode("");return t.insertBefore(r,null),t.insertBefore(n,null),t.insertBefore(i,null),t},zfe=e=>({style:`background-color: ${e.color}70`,class:"ProseMirror-yjs-selection"}),eWe=/^#[0-9a-fA-F]{6}$/,TG=(e,t,n,r,i)=>{const o=Mr.getState(e),a=o.doc,s=[];return o.snapshot!=null||o.prevSnapshot!=null||o.binding.mapping.size===0?mn.create(e.doc,[]):(t.getStates().forEach((l,c)=>{if(n(a.clientID,c,l)&&l.cursor!=null){const d=l.user||{};d.color==null?d.color="#ffa500":eWe.test(d.color)||console.warn("A user uses an unsupported color format",d),d.name==null&&(d.name=`User: ${c}`);let u=x0(a,o.type,wS(l.cursor.anchor),o.binding.mapping),p=x0(a,o.type,wS(l.cursor.head),o.binding.mapping);if(u!==null&&p!==null){const m=vu(e.doc.content.size-1,0);u=Ff(u,m),p=Ff(p,m),s.push(ir.widget(p,()=>r(d,c),{key:c+"",side:10}));const v=Ff(u,p),x=vu(u,p);s.push(ir.inline(v,x,i(d,c),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),mn.create(e.doc,s))},tWe=(e,{awarenessStateFilter:t=Qqe,cursorBuilder:n=Jqe,selectionBuilder:r=zfe,getSelection:i=a=>a.selection}={},o="cursor")=>new rn({key:lS,state:{init(a,s){return TG(s,e,t,n,r)},apply(a,s,l,c){const d=Mr.getState(c),u=a.getMeta(lS);return d&&d.isChangeOrigin||u&&u.awarenessUpdated?TG(c,e,t,n,r):s.map(a.mapping,a.doc)}},props:{decorations:a=>lS.getState(a)},view:a=>{const s=()=>{a.docView&&Xqe(a,lS,{awarenessUpdated:!0})},l=()=>{const c=Mr.getState(a.state),d=e.getLocalState()||{};if(a.hasFocus()){const u=i(a.state),p=kC(u.anchor,c.type,c.binding.mapping),m=kC(u.head,c.type,c.binding.mapping);(d.cursor==null||!WW(wS(d.cursor.anchor),p)||!WW(wS(d.cursor.head),m))&&e.setLocalStateField(o,{anchor:p,head:m})}else d.cursor!=null&&x0(c.doc,c.type,wS(d.cursor.anchor),c.binding.mapping)!==null&&e.setLocalStateField(o,null)};return e.on("change",s),a.dom.addEventListener("focusin",l),a.dom.addEventListener("focusout",l),{update:l,destroy:()=>{a.dom.removeEventListener("focusin",l),a.dom.removeEventListener("focusout",l),e.off("change",s),e.setLocalStateField(o,null)}}}}),nWe=e=>uc.getState(e)?.undoManager?.undo()!=null,rWe=e=>uc.getState(e)?.undoManager?.redo()!=null,iWe=(e,t)=>t==null?uc.getState(e)?.undoManager?.canUndo():nWe(e),oWe=(e,t)=>t==null?uc.getState(e)?.undoManager?.canRedo():rWe(e),aWe=new Set(["paragraph"]),sWe=(e,t)=>!(e instanceof oi)||!(e.content instanceof Tu)||!(e.content.type instanceof sm||e.content.type instanceof ea&&t.has(e.content.type.nodeName))||e.content.type._length===0,lWe=({protectedNodes:e=aWe,trackedOrigins:t=[],undoManager:n=null}={})=>new rn({key:uc,state:{init:(r,i)=>{const o=Mr.getState(i),a=n||new tue(o.type,{trackedOrigins:new Set([Mr].concat(t)),deleteFilter:s=>sWe(s,e),captureTransaction:s=>s.meta.get("addToHistory")!==!1});return{undoManager:a,prevSel:null,hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}},apply:(r,i,o,a)=>{const s=Mr.getState(a).binding,l=i.undoManager,c=l.undoStack.length>0,d=l.redoStack.length>0;return s?{undoManager:l,prevSel:MO(s,o),hasUndoOps:c,hasRedoOps:d}:c!==i.hasUndoOps||d!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):i}},view:r=>{const i=Mr.getState(r.state),o=uc.getState(r.state).undoManager;return o.on("stack-item-added",({stackItem:a})=>{const s=i.binding;s&&a.meta.set(s,uc.getState(r.state).prevSel)}),o.on("stack-item-popped",({stackItem:a})=>{const s=i.binding;s&&(s.beforeTransactionSelection=a.meta.get(s)||s.beforeTransactionSelection)}),{destroy:()=>{o.destroy()}}}}),m8={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},heading_4:{title:"Heading 4",subtext:"Minor subsection heading",aliases:["h4","heading4","subheading4"],group:"Subheadings"},heading_5:{title:"Heading 5",subtext:"Small subsection heading",aliases:["h5","heading5","subheading5"],group:"Subheadings"},heading_6:{title:"Heading 6",subtext:"Lowest-level heading",aliases:["h6","heading6","subheading6"],group:"Subheadings"},toggle_heading:{title:"Toggle Heading 1",subtext:"Toggleable top-level heading",aliases:["h","heading1","h1","collapsable"],group:"Subheadings"},toggle_heading_2:{title:"Toggle Heading 2",subtext:"Toggleable key section heading",aliases:["h2","heading2","subheading","collapsable"],group:"Subheadings"},toggle_heading_3:{title:"Toggle Heading 3",subtext:"Toggleable subsection and group heading",aliases:["h3","heading3","subheading","collapsable"],group:"Subheadings"},quote:{title:"Quote",subtext:"Quote or excerpt",aliases:["quotation","blockquote","bq"],group:"Basic blocks"},toggle_list:{title:"Toggle List",subtext:"List with hideable sub-items",aliases:["li","list","toggleList","toggle list","collapsable list"],group:"Basic blocks"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],group:"Basic blocks"},page_break:{title:"Page Break",subtext:"Page separator",aliases:["page","break","separator"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"},divider:{title:"Divider",subtext:"Visually divide blocks",aliases:["divider","hr","line","horizontal rule"],group:"Basic blocks"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",toggleListItem:"Toggle",bulletListItem:"List",numberedListItem:"List",checkListItem:"List",emptyDocument:void 0,new_comment:"Write a comment...",edit_comment:"Edit comment...",comment_reply:"Add comment..."},file_blocks:{add_button_text:{image:"Add image",video:"Add video",audio:"Add audio",file:"Add file"}},toggle_blocks:{add_block_button:"Empty toggle. Click to add a block."},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors",header_row_menuitem:"Header row",header_column_menuitem:"Header column"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below",split_cell_menuitem:"Split cell",merge_cells_menuitem:"Merge cells",background_color_menuitem:"Background color"},suggestion_menu:{no_items_title:"No items found"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"},table_cell_merge:{tooltip:"Merge cells"},comment:{tooltip:"Add comment"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},comments:{edited:"edited",save_button_text:"Save",cancel_button_text:"Cancel",actions:{add_reaction:"Add reaction",resolve:"Resolve",edit_comment:"Edit comment",delete_comment:"Delete comment",more_actions:"More actions"},reactions:{reacted_by:"Reacted by"},sidebar:{marked_as_resolved:"Marked as resolved",more_replies:e=>`${e} more replies`}},generic:{ctrl_shortcut:"Ctrl"}},cWe={tokenize:uWe};function uWe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),rr(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Xt(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),a)}}const dWe={tokenize:fWe},kG={tokenize:hWe};function fWe(e){const t=this,n=[];let r=0,i,o,a;return s;function s(N){if(r<n.length){const I=n[r];return t.containerState=I[1],e.attempt(I[0].continuation,l,c)(N)}return c(N)}function l(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&k();const I=t.events.length;let M=I,A;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){A=t.events[M][1].end;break}T(r);let R=I;for(;R<t.events.length;)t.events[R][1].end={...A},R++;return Ol(t.events,M+1,0,t.events.slice(I)),t.events.length=R,c(N)}return s(N)}function c(N){if(r===n.length){if(!i)return p(N);if(i.currentConstruct&&i.currentConstruct.concrete)return v(N);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(kG,d,u)(N)}function d(N){return i&&k(),T(r),p(N)}function u(N){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,v(N)}function p(N){return t.containerState={},e.attempt(kG,m,v)(N)}function m(N){return r++,n.push([t.currentConstruct,t.containerState]),p(N)}function v(N){if(N===null){i&&k(),T(0),e.consume(N);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),x(N)}function x(N){if(N===null){w(e.exit("chunkFlow"),!0),T(0),e.consume(N);return}return Xt(N)?(e.consume(N),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(N),x)}function w(N,I){const M=t.sliceStream(N);if(I&&M.push(null),N.previous=o,o&&(o.next=N),o=N,i.defineSkip(N.start),i.write(M),t.parser.lazy[N.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<a&&(!i.events[A][1].end||i.events[A][1].end.offset>a))return;const R=t.events.length;let L=R,B,$;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){if(B){$=t.events[L][1].end;break}B=!0}for(T(r),A=R;A<t.events.length;)t.events[A][1].end={...$},A++;Ol(t.events,L+1,0,t.events.slice(R)),t.events.length=A}}function T(N){let I=n.length;for(;I-- >N;){const M=n[I];t.containerState=M[1],M[0].exit.call(t,e)}n.length=N}function k(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function hWe(e,t,n){return rr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const pWe={tokenize:mWe};function mWe(e){const t=this,n=e.attempt(JT,r,e.attempt(this.parser.constructs.flowInitial,i,rr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Vze,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const gWe={resolveAll:qfe()},yWe=Vfe("string"),bWe=Vfe("text");function Vfe(e){return{resolveAll:qfe(e==="text"?vWe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,a,s);return a;function a(d){return c(d)?o(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),o(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const u=i[d];let p=-1;if(u)for(;++p<u.length;){const m=u[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function qfe(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function vWe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(c===-2)l=!0,s++;else if(c!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const xWe={42:Os,43:Os,45:Os,48:Os,49:Os,50:Os,51:Os,52:Os,53:Os,54:Os,55:Os,56:Os,57:Os,62:Afe},wWe={91:Kze},EWe={[-2]:KP,[-1]:KP,32:KP},SWe={35:tVe,42:aN,45:[gG,aN],60:oVe,61:gG,95:aN,96:pG,126:pG},CWe={38:Ofe,92:Nfe},TWe={[-5]:XP,[-4]:XP,[-3]:XP,33:SVe,38:Ofe,42:u8,60:[Tze,fVe],91:TVe,92:[Jze,Nfe],93:KF,95:u8,96:Bze},kWe={null:[u8,gWe]},_We={null:[42,95]},AWe={null:[]},NWe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_We,contentInitial:wWe,disable:AWe,document:xWe,flow:SWe,flowInitial:EWe,insideSpan:kWe,string:CWe,text:TWe},Symbol.toStringTag,{value:"Module"}));function OWe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:R(M),check:R(A),consume:k,enter:N,exit:I,interrupt:R(A,{interrupt:!0})},c={code:null,containerState:{},defineSkip:x,events:[],now:v,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:u};let d=t.tokenize.call(c,l);return t.resolveAll&&o.push(t),c;function u(W){return a=ac(a,W),w(),a[a.length-1]!==null?[]:(L(t,0),c.events=cR(o,c.events,c),c.events)}function p(W,V){return DWe(m(W),V)}function m(W){return MWe(a,W)}function v(){const{_bufferIndex:W,_index:V,line:Y,column:U,offset:X}=r;return{_bufferIndex:W,_index:V,line:Y,column:U,offset:X}}function x(W){i[W.line]=W.column,$()}function w(){let W;for(;r._index<a.length;){const V=a[r._index];if(typeof V=="string")for(W=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===W&&r._bufferIndex<V.length;)T(V.charCodeAt(r._bufferIndex));else T(V)}}function T(W){d=d(W)}function k(W){Xt(W)?(r.line++,r.column=1,r.offset+=W===-3?2:1,$()):W!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=W}function N(W,V){const Y=V||{};return Y.type=W,Y.start=v(),c.events.push(["enter",Y,c]),s.push(Y),Y}function I(W){const V=s.pop();return V.end=v(),c.events.push(["exit",V,c]),V}function M(W,V){L(W,V.from)}function A(W,V){V.restore()}function R(W,V){return Y;function Y(U,X,q){let ne,Z,oe,K;return Array.isArray(U)?te(U):"tokenize"in U?te([U]):Q(U);function Q(ke){return Ee;function Ee(ve){const we=ve!==null&&ke[ve],je=ve!==null&&ke.null,Ke=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(je)?je:je?[je]:[]];return te(Ke)(ve)}}function te(ke){return ne=ke,Z=0,ke.length===0?q:z(ke[Z])}function z(ke){return Ee;function Ee(ve){return K=B(),oe=ke,ke.partial||(c.currentConstruct=ke),ke.name&&c.parser.constructs.disable.null.includes(ke.name)?me():ke.tokenize.call(V?Object.assign(Object.create(c),V):c,l,fe,me)(ve)}}function fe(ke){return W(oe,K),X}function me(ke){return K.restore(),++Z<ne.length?z(ne[Z]):q}}}function L(W,V){W.resolveAll&&!o.includes(W)&&o.push(W),W.resolve&&Ol(c.events,V,c.events.length-V,W.resolve(c.events.slice(V),c)),W.resolveTo&&(c.events=W.resolveTo(c.events,c))}function B(){const W=v(),V=c.previous,Y=c.currentConstruct,U=c.events.length,X=Array.from(s);return{from:U,restore:q};function q(){r=W,c.previous=V,c.currentConstruct=Y,c.events.length=U,s=X,$()}}function $(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function MWe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function DWe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function RWe(e){const r={constructs:vfe([NWe,...(e||{}).extensions||[]]),content:i(cWe),defined:[],document:i(dWe),flow:i(pWe),lazy:{},string:i(yWe),text:i(bWe)};return r;function i(o){return a;function a(s){return OWe(r,o,s)}}}function IWe(e){for(;!Mfe(e););return e}const _G=/[\0\t\n\r]/g;function PWe(){let e=1,t="",n=!0,r;return i;function i(o,a,s){const l=[];let c,d,u,p,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),u=0,t="",n&&(o.charCodeAt(0)===65279&&u++,n=void 0);u<o.length;){if(_G.lastIndex=u,c=_G.exec(o),p=c&&c.index!==void 0?c.index:o.length,m=o.charCodeAt(p),!c){t=o.slice(u);break}if(m===10&&u===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),u<p&&(l.push(o.slice(u,p)),e+=p-u),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}u=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Wfe={}.hasOwnProperty;function LWe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),jWe(n)(IWe(RWe(n).document().write(PWe()(e,t,!0))))}function jWe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(er),autolinkProtocol:B,autolinkEmail:B,atxHeading:o(an),blockQuote:o(je),characterEscape:B,characterReference:B,codeFenced:o(Ke),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(Ke,a),codeText:o(Me,a),codeTextData:B,data:B,codeFlowValue:B,definition:o(Lt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Ve),hardBreakEscape:o(cn),hardBreakTrailing:o(cn),htmlFlow:o(Qt,a),htmlFlowData:B,htmlText:o(Qt,a),htmlTextData:B,image:o(Yr),label:a,link:o(er),listItem:o(xe),listItemValue:p,listOrdered:o(ce,u),listUnordered:o(ce),paragraph:o(Te),reference:z,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(an),strong:o(Je),thematicBreak:o(Qe)},exit:{atxHeading:l(),atxHeadingSequence:M,autolink:l(),autolinkEmail:we,autolinkProtocol:ve,blockQuote:l(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:ke,characterReference:Ee,codeFenced:l(w),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:$,codeIndented:l(T),codeText:l(X),codeTextData:$,data:$,definition:l(),definitionDestinationString:I,definitionLabelString:k,definitionTitleString:N,emphasis:l(),hardBreakEscape:l(V),hardBreakTrailing:l(V),htmlFlow:l(Y),htmlFlowData:$,htmlText:l(U),htmlTextData:$,image:l(ne),label:oe,labelText:Z,lineEnding:W,link:l(q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:fe,resourceDestinationString:K,resourceTitleString:Q,resource:te,setextHeading:l(L),setextHeadingLineSequence:R,setextHeadingText:A,strong:l(),thematicBreak:l()}};Yfe(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Be={type:"root",children:[]};const it={stack:[Be],tokenStack:[],config:t,enter:s,exit:c,buffer:a,resume:d,data:n},Nt=[];let qt=-1;for(;++qt<ge.length;)if(ge[qt][1].type==="listOrdered"||ge[qt][1].type==="listUnordered")if(ge[qt][0]==="enter")Nt.push(qt);else{const Zn=Nt.pop();qt=i(ge,Zn,qt)}for(qt=-1;++qt<ge.length;){const Zn=t[ge[qt][0]];Wfe.call(Zn,ge[qt][1].type)&&Zn[ge[qt][1].type].call(Object.assign({sliceSerialize:ge[qt][2].sliceSerialize},it),ge[qt][1])}if(it.tokenStack.length>0){const Zn=it.tokenStack[it.tokenStack.length-1];(Zn[1]||AG).call(it,void 0,Zn[0])}for(Be.position={start:hp(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:hp(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},qt=-1;++qt<t.transforms.length;)Be=t.transforms[qt](Be)||Be;return Be}function i(ge,Be,it){let Nt=Be-1,qt=-1,Zn=!1,kn,or,Yn,xr;for(;++Nt<=it;){const un=ge[Nt];switch(un[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{un[0]==="enter"?qt++:qt--,xr=void 0;break}case"lineEndingBlank":{un[0]==="enter"&&(kn&&!xr&&!qt&&!Yn&&(Yn=Nt),xr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xr=void 0}if(!qt&&un[0]==="enter"&&un[1].type==="listItemPrefix"||qt===-1&&un[0]==="exit"&&(un[1].type==="listUnordered"||un[1].type==="listOrdered")){if(kn){let wi=Nt;for(or=void 0;wi--;){const Tt=ge[wi];if(Tt[1].type==="lineEnding"||Tt[1].type==="lineEndingBlank"){if(Tt[0]==="exit")continue;or&&(ge[or][1].type="lineEndingBlank",Zn=!0),Tt[1].type="lineEnding",or=wi}else if(!(Tt[1].type==="linePrefix"||Tt[1].type==="blockQuotePrefix"||Tt[1].type==="blockQuotePrefixWhitespace"||Tt[1].type==="blockQuoteMarker"||Tt[1].type==="listItemIndent"))break}Yn&&(!or||Yn<or)&&(kn._spread=!0),kn.end=Object.assign({},or?ge[or][1].start:un[1].end),ge.splice(or||Nt,0,["exit",kn,un[2]]),Nt++,it++}if(un[1].type==="listItemPrefix"){const wi={type:"listItem",_spread:!1,start:Object.assign({},un[1].start),end:void 0};kn=wi,ge.splice(Nt,0,["enter",wi,un[2]]),Nt++,it++,Yn=void 0,xr=!0}}}return ge[Be][1]._spread=Zn,it}function o(ge,Be){return it;function it(Nt){s.call(this,ge(Nt),Nt),Be&&Be.call(this,Nt)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(ge,Be,it){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Be,it||void 0]),ge.position={start:hp(Be.start),end:void 0}}function l(ge){return Be;function Be(it){ge&&ge.call(this,it),c.call(this,it)}}function c(ge,Be){const it=this.stack.pop(),Nt=this.tokenStack.pop();if(Nt)Nt[0].type!==ge.type&&(Be?Be.call(this,ge,Nt[0]):(Nt[1]||AG).call(this,ge,Nt[0]));else throw new Error("Cannot close `"+ge.type+"` ("+RS({start:ge.start,end:ge.end})+"): its not open");it.position.end=hp(ge.end)}function d(){return aR(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function p(ge){if(this.data.expectingFirstListItemValue){const Be=this.stack[this.stack.length-2];Be.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.lang=ge}function v(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.meta=ge}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge.replace(/(\r?\n|\r)$/g,"")}function k(ge){const Be=this.resume(),it=this.stack[this.stack.length-1];it.label=Be,it.identifier=gu(this.sliceSerialize(ge)).toLowerCase()}function N(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.title=ge}function I(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.url=ge}function M(ge){const Be=this.stack[this.stack.length-1];if(!Be.depth){const it=this.sliceSerialize(ge).length;Be.depth=it}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function R(ge){const Be=this.stack[this.stack.length-1];Be.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function B(ge){const it=this.stack[this.stack.length-1].children;let Nt=it[it.length-1];(!Nt||Nt.type!=="text")&&(Nt=Ze(),Nt.position={start:hp(ge.start),end:void 0},it.push(Nt)),this.stack.push(Nt)}function $(ge){const Be=this.stack.pop();Be.value+=this.sliceSerialize(ge),Be.position.end=hp(ge.end)}function W(ge){const Be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const it=Be.children[Be.children.length-1];it.position.end=hp(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Be.type)&&(B.call(this,ge),$.call(this,ge))}function V(){this.data.atHardBreak=!0}function Y(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge}function U(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge}function X(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge}function q(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Be,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function ne(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Be,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function Z(ge){const Be=this.sliceSerialize(ge),it=this.stack[this.stack.length-2];it.label=bfe(Be),it.identifier=gu(Be).toLowerCase()}function oe(){const ge=this.stack[this.stack.length-1],Be=this.resume(),it=this.stack[this.stack.length-1];if(this.data.inReference=!0,it.type==="link"){const Nt=ge.children;it.children=Nt}else it.alt=Be}function K(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.url=ge}function Q(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.title=ge}function te(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function fe(ge){const Be=this.resume(),it=this.stack[this.stack.length-1];it.label=Be,it.identifier=gu(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function me(ge){this.data.characterReferenceType=ge.type}function ke(ge){const Be=this.sliceSerialize(ge),it=this.data.characterReferenceType;let Nt;it?(Nt=yfe(Be,it==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Nt=YF(Be);const qt=this.stack[this.stack.length-1];qt.value+=Nt}function Ee(ge){const Be=this.stack.pop();Be.position.end=hp(ge.end)}function ve(ge){$.call(this,ge);const Be=this.stack[this.stack.length-1];Be.url=this.sliceSerialize(ge)}function we(ge){$.call(this,ge);const Be=this.stack[this.stack.length-1];Be.url="mailto:"+this.sliceSerialize(ge)}function je(){return{type:"blockquote",children:[]}}function Ke(){return{type:"code",lang:null,meta:null,value:""}}function Me(){return{type:"inlineCode",value:""}}function Lt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ve(){return{type:"emphasis",children:[]}}function an(){return{type:"heading",depth:0,children:[]}}function cn(){return{type:"break"}}function Qt(){return{type:"html",value:""}}function Yr(){return{type:"image",title:null,url:"",alt:null}}function er(){return{type:"link",title:null,url:"",children:[]}}function ce(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function xe(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function Te(){return{type:"paragraph",children:[]}}function Je(){return{type:"strong",children:[]}}function Ze(){return{type:"text",value:""}}function Qe(){return{type:"thematicBreak"}}}function hp(e){return{line:e.line,column:e.column,offset:e.offset}}function Yfe(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Yfe(e,r):BWe(e,r)}}function BWe(e,t){let n;for(n in t)if(Wfe.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function AG(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+RS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+RS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+RS({start:t.start,end:t.end})+") is still open")}function $We(e){const t=this;t.parser=n;function n(r){return LWe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function HWe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function FWe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function UWe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function zWe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VWe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qWe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=gx(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function WWe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YWe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Gfe(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function GWe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Gfe(e,t);const i={src:gx(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function KWe(e,t){const n={src:gx(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function XWe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function ZWe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Gfe(e,t);const i={href:gx(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function QWe(e,t){const n={href:gx(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function JWe(e,t,n){const r=e.all(t),i=n?eYe(n):Kfe(t),o={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let u;d&&d.type==="element"&&d.tagName==="p"?u=d:(u={type:"element",tagName:"p",properties:{},children:[]},r.unshift(u)),u.children.length>0&&u.children.unshift({type:"text",value:" "}),u.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,c),e.applyData(t,c)}function eYe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Kfe(n[r])}return t}function Kfe(e){const t=e.spread;return t??e.children.length>1}function tYe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function nYe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rYe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function iYe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oYe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Lde(t.children[1]),l=Pde(t.children[t.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function aYe(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const u=t.children[l],p={},m=a?a[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:o,properties:p,children:[]};u&&(v.children=e.all(u),e.patch(u,v),v=e.applyData(u,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function sYe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const NG=9,OG=32;function lYe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(MG(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(MG(t.slice(i),i>0,!1)),o.join("")}function MG(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===NG||o===OG;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===NG||o===OG;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function cYe(e,t){const n={type:"text",value:lYe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function uYe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const g8={blockquote:HWe,break:FWe,code:UWe,delete:zWe,emphasis:VWe,footnoteReference:qWe,heading:WWe,html:YWe,imageReference:GWe,image:KWe,inlineCode:XWe,linkReference:ZWe,link:QWe,listItem:JWe,list:tYe,paragraph:nYe,root:rYe,strong:iYe,table:oYe,tableCell:sYe,tableRow:aYe,text:cYe,thematicBreak:uYe,toml:yA,yaml:yA,definition:yA,footnoteDefinition:yA};function yA(){}function dYe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function fYe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function hYe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||dYe,r=e.options.footnoteBackLabel||fYe,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),u=String(c.identifier).toUpperCase(),p=gx(u.toLowerCase());let m=0;const v=[],x=e.footnoteCounts.get(u);for(;x!==void 0&&++m<=x;){v.length>0&&v.push({type:"text",value:" "});let k=typeof n=="string"?n:n(l,m);typeof k=="string"&&(k={type:"text",value:k}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const k=w.children[w.children.length-1];k&&k.type==="text"?k.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...v)}else d.push(...v);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,T),s.push(T)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...E1(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const y8={}.hasOwnProperty,pYe={};function mYe(e,t){const n=t||pYe,r=new Map,i=new Map,o=new Map,a={...g8,...n.handlers},s={all:c,applyData:yYe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:n,patch:gYe,wrap:vYe};return F0(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const u=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();u.has(p)||u.set(p,d)}}),s;function l(d,u){const p=d.type,m=s.handlers[p];if(y8.call(s.handlers,p)&&m)return m(s,d,u);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:x,...w}=d,T=E1(w);return T.children=s.all(d),T}return E1(d)}return(s.options.unknownHandler||bYe)(s,d,u)}function c(d){const u=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const v=s.one(p[m],d);if(v){if(m&&p[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=DG(v.value)),!Array.isArray(v)&&v.type==="element")){const x=v.children[0];x&&x.type==="text"&&(x.value=DG(x.value))}Array.isArray(v)?u.push(...v):u.push(v)}}}return u}}function gYe(e,t){e.position&&(t.position=Bde(e))}function yYe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,E1(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function bYe(e,t){const n=t.data||{},r="value"in t&&!(y8.call(n,"hProperties")||y8.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vYe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function DG(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function RG(e,t){const n=mYe(e,t),r=n.one(e,void 0),i=hYe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function xYe(e,t){return e&&"run"in e?async function(n,r){const i=RG(n,{file:r,...t});await e.run(i,r)}:function(n,r){return RG(n,{file:r,...e||t})}}const wYe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],EYe=/["&'<>`]/g,SYe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,CYe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,TYe=/[|\\{}()[\]^$+*?.]/g,IG=new WeakMap;function kYe(e,t){if(e=e.replace(t.subset?_Ye(t.subset):EYe,r),t.subset||t.escapeOnly)return e;return e.replace(SYe,n).replace(CYe,r);function n(i,o,a){return t.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,a.charCodeAt(o+2),t)}function r(i,o,a){return t.format(i.charCodeAt(0),a.charCodeAt(o+1),t)}}function _Ye(e){let t=IG.get(e);return t||(t=AYe(e),IG.set(e,t)),t}function AYe(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(TYe,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const NYe=/[\dA-Fa-f]/;function OYe(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!NYe.test(String.fromCharCode(t))?r:r+";"}const MYe=/\d/;function DYe(e,t,n){const r="&#"+String(e);return n&&t&&!MYe.test(String.fromCharCode(t))?r:r+";"}const RYe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],nL={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},IYe=["cent","copy","divide","gt","lt","not","para","times"],Xfe={}.hasOwnProperty,b8={};let bA;for(bA in nL)Xfe.call(nL,bA)&&(b8[nL[bA]]=bA);const PYe=/[^\dA-Za-z]/;function LYe(e,t,n,r){const i=String.fromCharCode(e);if(Xfe.call(b8,i)){const o=b8[i],a="&"+o;return n&&RYe.includes(o)&&!IYe.includes(o)&&(!r||t&&t!==61&&PYe.test(String.fromCharCode(t)))?a:a+";"}return""}function jYe(e,t,n){let r=OYe(e,t,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=LYe(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const o=DYe(e,t,n.omitOptionalSemicolons);o.length<r.length&&(r=o)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function Wv(e,t){return kYe(e,Object.assign({format:jYe},t))}const BYe=/^>|^->|<!--|-->|--!>|<!-$/g,$Ye=[">"],HYe=["<",">"];function FYe(e,t,n,r){return r.settings.bogusComments?"<?"+Wv(e.value,Object.assign({},r.settings.characterReferences,{subset:$Ye}))+">":"<!--"+e.value.replace(BYe,i)+"-->";function i(o){return Wv(o,Object.assign({},r.settings.characterReferences,{subset:HYe}))}}function UYe(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}const Ao=Qfe(1),Zfe=Qfe(-1),zYe=[];function Qfe(e){return t;function t(n,r,i){const o=n?n.children:zYe;let a=(r||0)+e,s=o[a];if(!i)for(;s&&ZT(s);)a+=e,s=o[a];return s}}const VYe={}.hasOwnProperty;function Jfe(e){return t;function t(n,r,i){return VYe.call(e,n.tagName)&&e[n.tagName](n,r,i)}}const QF=Jfe({body:WYe,caption:rL,colgroup:rL,dd:XYe,dt:KYe,head:rL,html:qYe,li:GYe,optgroup:ZYe,option:QYe,p:YYe,rp:PG,rt:PG,tbody:eGe,td:LG,tfoot:tGe,th:LG,thead:JYe,tr:nGe});function rL(e,t,n){const r=Ao(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&ZT(r.value.charAt(0)))}function qYe(e,t,n){const r=Ao(n,t);return!r||r.type!=="comment"}function WYe(e,t,n){const r=Ao(n,t);return!r||r.type!=="comment"}function YYe(e,t,n){const r=Ao(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function GYe(e,t,n){const r=Ao(n,t);return!r||r.type==="element"&&r.tagName==="li"}function KYe(e,t,n){const r=Ao(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function XYe(e,t,n){const r=Ao(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function PG(e,t,n){const r=Ao(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function ZYe(e,t,n){const r=Ao(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function QYe(e,t,n){const r=Ao(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function JYe(e,t,n){const r=Ao(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function eGe(e,t,n){const r=Ao(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function tGe(e,t,n){return!Ao(n,t)}function nGe(e,t,n){const r=Ao(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function LG(e,t,n){const r=Ao(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const rGe=Jfe({body:aGe,colgroup:sGe,head:oGe,html:iGe,tbody:lGe});function iGe(e){const t=Ao(e,-1);return!t||t.type!=="comment"}function oGe(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function aGe(e){const t=Ao(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&ZT(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function sGe(e,t,n){const r=Zfe(n,t),i=Ao(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&QF(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function lGe(e,t,n){const r=Zfe(n,t),i=Ao(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&QF(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const vA={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function cGe(e,t,n,r){const i=r.schema,o=i.space==="svg"?!1:r.settings.omitOptionalTags;let a=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const s=[];let l;i.space==="html"&&e.tagName==="svg"&&(r.schema=GT);const c=uGe(r,e.properties),d=r.all(i.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=i,d&&(a=!1),(c||!o||!rGe(e,t,n))&&(s.push("<",e.tagName,c?" "+c:""),a&&(i.space==="svg"||r.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&s.push(" "),s.push("/")),s.push(">")),s.push(d),!a&&(!o||!QF(e,t,n))&&s.push("</"+e.tagName+">"),s.join("")}function uGe(e,t){const n=[];let r=-1,i;if(t){for(i in t)if(t[i]!==null&&t[i]!==void 0){const o=dGe(e,i,t[i]);o&&n.push(o)}}for(;++r<n.length;){const o=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&o!=='"'&&o!=="'"&&(n[r]+=" ")}return n.join("")}function dGe(e,t,n){const r=NF(e.schema,t),i=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,o=e.settings.allowDangerousCharacters?0:1;let a=e.quote,s;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=Wv(r.attribute,Object.assign({},e.settings.characterReferences,{subset:vA.name[i][o]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?S8e:T8e)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?l:(e.settings.preferUnquoted&&(s=Wv(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:vA.unquoted[i][o]}))),s!==n&&(e.settings.quoteSmart&&_O(n,a)>_O(n,e.alternative)&&(a=e.alternative),s=a+Wv(n,Object.assign({},e.settings.characterReferences,{subset:(a==="'"?vA.single:vA.double)[i][o],attribute:!0}))+a),l+(s&&"="+s))}const fGe=["<","&"];function ehe(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:Wv(e.value,Object.assign({},r.settings.characterReferences,{subset:fGe}))}function hGe(e,t,n,r){return r.settings.allowDangerousHtml?e.value:ehe(e,t,n,r)}function pGe(e,t,n,r){return r.all(e)}const mGe=rfe("type",{invalid:gGe,unknown:yGe,handlers:{comment:FYe,doctype:UYe,element:cGe,raw:hGe,root:pGe,text:ehe}});function gGe(e){throw new Error("Expected node, not `"+e+"`")}function yGe(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const bGe={},vGe={},xGe=[];function wGe(e,t){const n=t||bGe,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:EGe,all:SGe,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||wYe,characterReferences:n.characterReferences||vGe,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?GT:QD,quote:r,alternative:i}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function EGe(e,t,n){return mGe(e,t,n,this)}function SGe(e){const t=[],n=e&&e.children||xGe;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function CGe(e){const t=this,n={...t.data("settings"),...e};t.compiler=r;function r(i){return wGe(i,n)}}var TGe=Object.defineProperty,kGe=(e,t,n)=>t in e?TGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ae=(e,t,n)=>kGe(e,typeof t!="symbol"?t+"":t,n);function _Ge(e,t,n,r="before"){const i=typeof n=="string"?n:n.id,o=po(e),a=t.map(c=>oy(c,o)),s=cs(i,e.doc);if(!s)throw new Error(`Block with ID ${i} not found`);let l=s.posBeforeNode;return r==="after"&&(l+=s.node.nodeSize),e.step(new so(l,l,new at(He.from(a),0,0))),a.map(c=>ii(c,o))}function v8(e){if(!e||e.type.name!=="column")throw new Error("Invalid columnPos: does not point to column node.");const t=e.firstChild;if(!t)throw new Error("Invalid column: does not have child node.");const n=t.firstChild;if(!n)throw new Error("Invalid blockContainer: does not have child node.");return e.childCount===1&&t.childCount===1&&n.type.name==="paragraph"&&n.content.content.length===0}function AGe(e,t){const n=e.doc.resolve(t),r=n.nodeAfter;if(!r||r.type.name!=="columnList")throw new Error("Invalid columnListPos: does not point to columnList node.");for(let i=r.childCount-1;i>=0;i--){const o=e.doc.resolve(n.pos+1).posAtIndex(i),a=e.doc.resolve(o).nodeAfter;if(!a||a.type.name!=="column")throw new Error("Invalid columnPos: does not point to column node.");v8(a)&&e.delete(o,o+a.nodeSize)}}function x8(e,t){AGe(e,t);const n=e.doc.resolve(t).nodeAfter;if(!n||n.type.name!=="columnList")throw new Error("Invalid columnListPos: does not point to columnList node.");if(n.childCount>2)return;if(n.childCount<2)throw new Error("Invalid columnList: contains fewer than two children.");const r=t+1,i=e.doc.resolve(r).nodeAfter,o=t+n.nodeSize-1,a=e.doc.resolve(o).nodeBefore;if(!i||!a)throw new Error("Invalid columnList: does not contain children.");const s=v8(i),l=v8(a);if(s&&l){e.delete(t,t+n.nodeSize);return}if(s){e.step(new Ki(t,t+n.nodeSize,o-a.nodeSize+1,o-1,at.empty,0,!1));return}if(l){e.step(new Ki(t,t+n.nodeSize,r+1,r+i.nodeSize-1,at.empty,0,!1));return}}function jG(e,t,n){const r=po(e),i=n.map(d=>oy(d,r)),o=new Set(t.map(d=>typeof d=="string"?d:d.id)),a=[],s=new Set,l=typeof t[0]=="string"?t[0]:t[0].id;let c=0;if(e.doc.descendants((d,u)=>{if(o.size===0)return!1;if(!d.type.isInGroup("bnBlock")||!o.has(d.attrs.id))return!0;if(a.push(ii(d,r)),o.delete(d.attrs.id),n.length>0&&d.attrs.id===l){const x=e.doc.nodeSize;e.insert(u,i);const w=e.doc.nodeSize;c+=x-w}const p=e.doc.nodeSize,m=e.doc.resolve(u-c);m.node().type.name==="column"?s.add(m.before(-1)):m.node().type.name==="columnList"&&s.add(m.before()),m.node().type.name==="blockGroup"&&m.node(m.depth-1).type.name!=="doc"&&m.node().childCount===1?e.delete(m.before(),m.after()):e.delete(u-c,u-c+d.nodeSize);const v=e.doc.nodeSize;return c+=p-v,!1}),o.size>0){const d=[...o].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+d)}return s.forEach(d=>x8(e,d)),{insertedBlocks:i.map(d=>ii(d,r)),removedBlocks:a}}function the(e){const t=Array.from(e.classList).filter(n=>!n.startsWith("bn-"))||[];t.length>0?e.className=t.join(" "):e.removeAttribute("class")}function nhe(e,t,n,r){var i;let o;if(t)if(typeof t=="string")o=bu([t],e.pmSchema);else if(Array.isArray(t))o=bu(t,e.pmSchema);else if(t.type==="tableContent")o=BD(t,e.pmSchema);else throw new Nd(t.type);else throw new Error("blockContent is required");const a=(r?.document??document).createDocumentFragment();for(const s of o)if(s.type.name!=="text"&&e.schema.inlineContentSchema[s.type.name]){const l=e.schema.inlineContentSpecs[s.type.name].implementation;if(l){const c=B9(s,e.schema.inlineContentSchema,e.schema.styleSchema),d=l.toExternalHTML?l.toExternalHTML(c,e):l.render.call({renderType:"dom",props:void 0},c,()=>{},e);if(d){if(a.appendChild(d.dom),d.contentDOM){const u=n.serializeFragment(s.content,r);d.contentDOM.dataset.editable="",d.contentDOM.appendChild(u)}continue}}}else if(s.type.name==="text"){let l=document.createTextNode(s.textContent);for(const c of s.marks.toReversed())if(c.type.name in e.schema.styleSpecs){const d=(e.schema.styleSpecs[c.type.name].implementation.toExternalHTML??e.schema.styleSpecs[c.type.name].implementation.render)(c.attrs.stringValue,e);d.contentDOM.appendChild(l),l=d.dom}else{const d=c.type.spec.toDOM(c,!0),u=Ml.renderSpec(document,d);u.contentDOM.appendChild(l),l=u.dom}a.appendChild(l)}else{const l=n.serializeFragment(He.from([s]),r);a.appendChild(l)}return a.childNodes.length===1&&((i=a.firstChild)==null?void 0:i.nodeType)===1&&the(a.firstChild),a}function NGe(e,t,n,r,i,o,a){var s,l,c,d,u,p,m,v,x;const w=a?.document??document,T=t.pmSchema.nodes.blockContainer,k=n.props||{};for(const[B,$]of Object.entries(t.schema.blockSchema[n.type].propSchema))!(B in k)&&$.default!==void 0&&(k[B]=$.default);const N=(l=(s=T.spec)==null?void 0:s.toDOM)==null?void 0:l.call(s,T.create({id:n.id,...k})),I=Array.from(N.dom.attributes),M=t.blockImplementations[n.type].implementation,A=((c=M.toExternalHTML)==null?void 0:c.call({},{...n,props:k},t))||M.render.call({},{...n,props:k},t),R=w.createDocumentFragment();if(A.dom.classList.contains("bn-block-content")){const B=[...I,...Array.from(A.dom.attributes)].filter($=>$.name.startsWith("data")&&$.name!=="data-content-type"&&$.name!=="data-file-block"&&$.name!=="data-node-view-wrapper"&&$.name!=="data-node-type"&&$.name!=="data-id"&&$.name!=="data-editable");for(const $ of B)A.dom.firstChild.setAttribute($.name,$.value);the(A.dom.firstChild),R.append(...Array.from(A.dom.childNodes))}else R.append(A.dom);if(A.contentDOM&&n.content){const B=nhe(t,n.content,r,a);A.contentDOM.appendChild(B)}let L;if(i.has(n.type)?L="OL":o.has(n.type)&&(L="UL"),L){if(((d=e.lastChild)==null?void 0:d.nodeName)!==L){const B=w.createElement(L);L==="OL"&&"start"in k&&k.start&&k?.start!==1&&B.setAttribute("start",k.start+""),e.append(B)}e.lastChild.appendChild(R)}else e.append(R);if(n.children&&n.children.length>0){const B=w.createDocumentFragment();if(rhe(B,t,n.children,r,i,o,a),((u=e.lastChild)==null?void 0:u.nodeName)==="UL"||((p=e.lastChild)==null?void 0:p.nodeName)==="OL")for(;((m=B.firstChild)==null?void 0:m.nodeName)==="UL"||((v=B.firstChild)==null?void 0:v.nodeName)==="OL";)e.lastChild.lastChild.appendChild(B.firstChild);t.pmSchema.nodes[n.type].isInGroup("blockContent")?e.append(B):(x=A.contentDOM)==null||x.append(B)}}const rhe=(e,t,n,r,i,o,a)=>{for(const s of n)NGe(e,t,s,r,i,o,a)},OGe=(e,t,n,r,i,o)=>{const a=(o?.document??document).createDocumentFragment();return rhe(a,e,t,n,r,i,o),a},dR=(e,t)=>{const n=Ml.fromSchema(e);return{exportBlocks:(r,i)=>{const o=OGe(t,r,n,new Set(["numberedListItem"]),new Set(["bulletListItem","checkListItem","toggleListItem"]),i),a=document.createElement("div");return a.append(o),a.innerHTML},exportInlineContent:(r,i)=>{const o=nhe(t,r,n,i),a=document.createElement("div");return a.append(o.cloneNode(!0)),a.innerHTML}}};function MGe(e,t,n,r,i){let o;if(t)if(typeof t=="string")o=bu([t],e.pmSchema,r);else if(Array.isArray(t))o=bu(t,e.pmSchema,r);else if(t.type==="tableContent")o=BD(t,e.pmSchema);else throw new Nd(t.type);else throw new Error("blockContent is required");const a=(i?.document??document).createDocumentFragment();for(const s of o)if(s.type.name!=="text"&&e.schema.inlineContentSchema[s.type.name]){const l=e.schema.inlineContentSpecs[s.type.name].implementation;if(l){const c=B9(s,e.schema.inlineContentSchema,e.schema.styleSchema),d=l.render.call({renderType:"dom",props:void 0},c,()=>{},e);if(d){if(a.appendChild(d.dom),d.contentDOM){const u=n.serializeFragment(s.content,i);d.contentDOM.dataset.editable="",d.contentDOM.appendChild(u)}continue}}}else if(s.type.name==="text"){let l=document.createTextNode(s.textContent);for(const c of s.marks.toReversed())if(c.type.name in e.schema.styleSpecs){const d=e.schema.styleSpecs[c.type.name].implementation.render(c.attrs.stringValue,e);d.contentDOM.appendChild(l),l=d.dom}else{const d=c.type.spec.toDOM(c,!0),u=Ml.renderSpec(document,d);u.contentDOM.appendChild(l),l=u.dom}a.appendChild(l)}else{const l=n.serializeFragment(He.from([s]),i);a.appendChild(l)}return a}function DGe(e,t,n,r){var i,o,a,s,l;const c=e.pmSchema.nodes.blockContainer,d=t.props||{};for(const[v,x]of Object.entries(e.schema.blockSchema[t.type].propSchema))!(v in d)&&x.default!==void 0&&(d[v]=x.default);const u=t.children||[],p=e.blockImplementations[t.type].implementation.render.call({renderType:"dom",props:void 0},{...t,props:d,children:u},e);if(p.contentDOM&&t.content){const v=MGe(e,t.content,n,t.type,r);p.contentDOM.appendChild(v)}if(e.pmSchema.nodes[t.type].isInGroup("bnBlock")){if(t.children&&t.children.length>0){const v=ihe(e,t.children,n,r);(i=p.contentDOM)==null||i.append(v)}return p.dom}const m=(a=(o=c.spec)==null?void 0:o.toDOM)==null?void 0:a.call(o,c.create({id:t.id,...d}));return(s=m.contentDOM)==null||s.appendChild(p.dom),t.children&&t.children.length>0&&((l=m.contentDOM)==null||l.appendChild(ohe(e,t.children,n,r))),m.dom}function ihe(e,t,n,r){const i=(r?.document??document).createDocumentFragment();for(const o of t){const a=DGe(e,o,n,r);i.appendChild(a)}return i}const ohe=(e,t,n,r)=>{var i;const o=e.pmSchema.nodes.blockGroup,a=o.spec.toDOM(o.create({})),s=ihe(e,t,n,r);return(i=a.contentDOM)==null||i.appendChild(s),a.dom},RGe=(e,t)=>{const n=Ml.fromSchema(e);return{serializeBlocks:(r,i)=>ohe(t,r,n,i).outerHTML}};function IGe(e,t){if(t===0)return;const n=e.resolve(t);for(let r=n.depth;r>0;r--){const i=n.node(r);if(V9(i))return i.attrs.id}}function PGe(e){return e.getMeta("paste")?{type:"paste"}:e.getMeta("uiEvent")==="drop"?{type:"drop"}:e.getMeta("history$")?{type:e.getMeta("history$").redo?"redo":"undo"}:e.getMeta("y-sync$")?e.getMeta("y-sync$").isUndoRedoOperation?{type:"undo-redo"}:{type:"yjs-remote"}:{type:"local"}}function BG(e){const t="__root__",n={},r={},i=po(e);return e.descendants((o,a)=>{if(!V9(o))return!0;const s=IGe(e,a),l=s??t;r[l]||(r[l]=[]);const c=ii(o,i);return n[o.attrs.id]={block:c,parentId:s},r[l].push(o.attrs.id),!0}),{byId:n,childrenByParent:r}}function LGe(e,t){const n=new Set;if(!e||!t)return n;const r=new Set(e),i=t.filter(x=>r.has(x)),o=e.filter(x=>i.includes(x));if(o.length<=1||i.length<=1)return n;const a={};for(let x=0;x<o.length;x++)a[o[x]]=x;const s=i.map(x=>a[x]),l=s.length,c=[],d=[],u=new Array(l).fill(-1),p=(x,w)=>{let T=0,k=x.length;for(;T<k;){const N=T+k>>>1;x[N]<w?T=N+1:k=N}return T};for(let x=0;x<l;x++){const w=s[x],T=p(c,w);T>0&&(u[x]=d[T-1]),T===c.length?(c.push(w),d.push(x)):(c[T]=w,d[T]=x)}const m=new Set;let v=d[d.length-1]??-1;for(;v!==-1;)m.add(v),v=u[v];for(let x=0;x<i.length;x++)m.has(x)||n.add(i[x]);return n}function ahe(e,t=[]){const n=PGe(e),r=DD(e.before,[e,...t]),i=BG(r.before),o=BG(r.doc),a=[],s=new Set;Object.keys(o.byId).filter(m=>!(m in i.byId)).forEach(m=>{a.push({type:"insert",block:o.byId[m].block,source:n,prevBlock:void 0}),s.add(m)}),Object.keys(i.byId).filter(m=>!(m in o.byId)).forEach(m=>{a.push({type:"delete",block:i.byId[m].block,source:n,prevBlock:void 0}),s.add(m)}),Object.keys(o.byId).filter(m=>m in i.byId).forEach(m=>{var v,x;const w=i.byId[m],T=o.byId[m];w.parentId!==T.parentId?(a.push({type:"move",block:T.block,prevBlock:w.block,source:n,prevParent:w.parentId?(v=i.byId[w.parentId])==null?void 0:v.block:void 0,currentParent:T.parentId?(x=o.byId[T.parentId])==null?void 0:x.block:void 0}),s.add(m)):Bje({...w.block,children:void 0},{...T.block,children:void 0})||(a.push({type:"update",block:T.block,prevBlock:w.block,source:n}),s.add(m))});const l=i.childrenByParent,c=o.childrenByParent,d="__root__",u=new Set([...Object.keys(l),...Object.keys(c)]),p=new Set;return u.forEach(m=>{const v=LGe(l[m],c[m]);v.size!==0&&v.forEach(x=>{var w,T;const k=i.byId[x],N=o.byId[x];!k||!N||k.parentId!==N.parentId||s.has(x)||(k.parentId??d)!==m||p.has(x)||(p.add(x),a.push({type:"move",block:N.block,prevBlock:k.block,source:n,prevParent:k.parentId?(w=i.byId[k.parentId])==null?void 0:w.block:void 0,currentParent:N.parentId?(T=o.byId[N.parentId])==null?void 0:T.block:void 0}),s.add(x))})}),a}const JF=["vscode-editor-data","blocknote/html","text/markdown","text/html","text/plain","Files"];function jGe(e,t){if(!e.startsWith(".")||!t.startsWith("."))throw new Error("The strings provided are not valid file extensions.");return e===t}function BGe(e,t){const n=e.split("/"),r=t.split("/");if(n.length!==2)throw new Error(`The string ${e} is not a valid MIME type.`);if(r.length!==2)throw new Error(`The string ${t} is not a valid MIME type.`);return n[1]==="*"||r[1]==="*"?n[0]===r[0]:(n[0]==="*"||r[0]==="*"||n[0]===r[0])&&n[1]===r[1]}function $G(e,t,n,r="after"){let i;return Array.isArray(t.content)&&t.content.length===0?i=e.updateBlock(t,n).id:i=e.insertBlocks([n],t,r)[0].id,i}async function she(e,t){var n;if(!t.uploadFile){console.warn("Attempted ot insert file, but uploadFile is not set in the BlockNote editor options");return}const r="dataTransfer"in e?e.dataTransfer:e.clipboardData;if(r===null)return;let i=null;for(const a of JF)if(r.types.includes(a)){i=a;break}if(i!=="Files")return;const o=r.items;if(o){e.preventDefault();for(let a=0;a<o.length;a++){let s="file";for(const c of Object.values(t.schema.blockSpecs))for(const d of((n=c.implementation.meta)==null?void 0:n.fileBlockAccept)||[]){const u=d.startsWith("."),p=o[a].getAsFile();if(p&&(!u&&p.type&&BGe(o[a].type,d)||u&&jGe("."+p.name.split(".").pop(),d))){s=c.config.type;break}}const l=o[a].getAsFile();if(l){const c={type:s,props:{name:l.name}};let d;if(e.type==="paste"){const m=t.getTextCursorPosition().block;d=$G(t,m,c)}else if(e.type==="drop"){const m={left:e.clientX,top:e.clientY},v=t.prosemirrorView.posAtCoords(m);if(!v)return;d=t.transact(x=>{const w=Zf(x.doc,v.pos),T=t.prosemirrorView.dom.querySelector(`[data-id="${w.node.attrs.id}"]`),k=T?.getBoundingClientRect();return $G(t,t.getBlock(w.node.attrs.id),c,k&&(k.top+k.bottom)/2>m.top?"before":"after")})}else return;const u=await t.uploadFile(l,d),p=typeof u=="string"?{props:{url:u}}:{...u};t.updateBlock(d,p)}}}}const $Ge=e=>ur.create({name:"dropFile",addProseMirrorPlugins(){return[new rn({props:{handleDOMEvents:{drop(t,n){if(!e.isEditable)return;let r=null;for(const i of JF)if(n.dataTransfer.types.includes(i)){r=i;break}return r===null?!0:r==="Files"?(she(n,e),!0):!1}}}})]}}),HGe=/(^|\n) {0,3}#{1,6} {1,8}[^\n]{1,64}\r?\n\r?\n\s{0,32}\S/,FGe=/(_|__|\*|\*\*|~~|==|\+\+)(?!\s)(?:[^\s](?:.{0,62}[^\s])?|\S)(?=\1)/,UGe=/\[[^\]]{1,128}\]\(https?:\/\/\S{1,999}\)/,zGe=/(?:\s|^)`(?!\s)(?:[^\s`](?:[^`]{0,46}[^\s`])?|[^\s`])`([^\w]|$)/,VGe=/(?:^|\n)\s{0,5}-\s{1}[^\n]+\n\s{0,15}-\s/,qGe=/(?:^|\n)\s{0,5}\d+\.\s{1}[^\n]+\n\s{0,15}\d+\.\s/,WGe=/\n{2} {0,3}-{2,48}\n{2}/,YGe=/(?:\n|^)(```|~~~|\$\$)(?!`|~)[^\s]{0,64} {0,64}[^\n]{0,64}\n[\s\S]{0,9999}?\s*\1 {0,64}(?:\n+|$)/,GGe=/(?:\n|^)(?!\s)\w[^\n]{0,64}\r?\n(-|=)\1{0,64}\n\n\s{0,64}(\w|$)/,KGe=/(?:^|(\r?\n\r?\n))( {0,3}>[^\n]{1,333}\n){1,999}($|(\r?\n))/,XGe=/^\s*\|(.+\|)+\s*$/m,ZGe=/^\s*\|(\s*[-:]+[-:]\s*\|)+\s*$/m,QGe=/^\s*\|(.+\|)+\s*$/m,JGe=e=>HGe.test(e)||FGe.test(e)||UGe.test(e)||zGe.test(e)||VGe.test(e)||qGe.test(e)||WGe.test(e)||YGe.test(e)||GGe.test(e)||KGe.test(e)||XGe.test(e)||ZGe.test(e)||QGe.test(e);async function eKe(e,t){const{schema:n}=t.state;if(!e.clipboardData)return!1;const r=e.clipboardData.getData("text/plain");if(!r)return!1;if(!n.nodes.codeBlock)return t.pasteText(r),!0;const i=e.clipboardData.getData("vscode-editor-data"),o=i?JSON.parse(i):void 0,a=o?.mode;return a?(t.pasteHTML(`<pre><code class="language-${a}">${r.replace(/\r\n?/g,`
`)}</code></pre>`),!0):!1}function tKe({event:e,editor:t,prioritizeMarkdownOverHTML:n,plainTextAsMarkdown:r}){var i;if(t.transact(s=>s.selection.$from.parent.type.spec.code&&s.selection.$to.parent.type.spec.code)){const s=(i=e.clipboardData)==null?void 0:i.getData("text/plain");if(s)return t.pasteText(s),!0}let o;for(const s of JF)if(e.clipboardData.types.includes(s)){o=s;break}if(!o)return!0;if(o==="vscode-editor-data")return eKe(e,t.prosemirrorView),!0;if(o==="Files")return she(e,t),!0;const a=e.clipboardData.getData(o);if(o==="blocknote/html")return t.pasteHTML(a,!0),!0;if(o==="text/markdown")return t.pasteMarkdown(a),!0;if(n){const s=e.clipboardData.getData("text/plain");if(JGe(s))return t.pasteMarkdown(s),!0}return o==="text/html"?(t.pasteHTML(a),!0):r?(t.pasteMarkdown(a),!0):(t.pasteText(a),!0)}const nKe=(e,t)=>ur.create({name:"pasteFromClipboard",addProseMirrorPlugins(){return[new rn({props:{handleDOMEvents:{paste(n,r){if(r.preventDefault(),!!e.isEditable)return t({event:r,editor:e,defaultPasteHandler:({prioritizeMarkdownOverHTML:i=!0,plainTextAsMarkdown:o=!0}={})=>tKe({event:r,editor:e,prioritizeMarkdownOverHTML:i,plainTextAsMarkdown:o})})}}}})]}});function rKe(){const e=t=>{let n=t.children.length;for(let r=0;r<n;r++){const i=t.children[r];if(i.type==="element"&&(e(i),i.tagName==="u"))if(i.children.length>0){t.children.splice(r,1,...i.children);const o=i.children.length-1;n+=o,r+=o}else t.children.splice(r,1),n--,r--}};return e}function iKe(){const e=t=>{var n;if(t.children&&"length"in t.children&&t.children.length)for(let r=t.children.length-1;r>=0;r--){const i=t.children[r],o=r+1<t.children.length?t.children[r+1]:void 0;i.type==="element"&&i.tagName==="input"&&((n=i.properties)==null?void 0:n.type)==="checkbox"&&o?.type==="element"&&o.tagName==="p"?(o.tagName="span",o.children.splice(0,0,gqe(document.createTextNode(" ")))):e(i)}};return e}function oKe(){return e=>{F0(e,"element",(t,n,r)=>{var i,o,a,s;if(r&&t.tagName==="video"){const l=((i=t.properties)==null?void 0:i.src)||((o=t.properties)==null?void 0:o["data-url"])||"",c=((a=t.properties)==null?void 0:a.title)||((s=t.properties)==null?void 0:s["data-name"])||"";r.children[n]={type:"text",value:`![${c}](${l})`}}})}}function e7(e){return Lfe().use(P9e,{fragment:!0}).use(oKe).use(rKe).use(iKe).use(d7e).use(Pfe).use(aqe,{handlers:{text:t=>t.value}}).processSync(e).value}function aKe(e,t,n,r){const i=dR(t,n).exportBlocks(e,r);return e7(i)}function lhe(e){const t=[];return e.descendants(n=>{var r,i;const o=po(n);return n.type.name==="blockContainer"&&((r=n.firstChild)==null?void 0:r.type.name)==="blockGroup"?!0:n.type.name==="columnList"&&n.childCount===1?((i=n.firstChild)==null||i.forEach(a=>{t.push(ii(a,o))}),!1):n.type.isInGroup("bnBlock")?(t.push(ii(n,o)),!1):!0}),t}function sKe(e,t,n){var r;let i=!1;const o=e.state.selection instanceof Dr;if(!o){const l=e.state.doc.slice(e.state.selection.from,e.state.selection.to,!1).content,c=[];for(let d=0;d<l.childCount;d++)c.push(l.child(d));i=c.find(d=>d.type.isInGroup("bnBlock")||d.type.name==="blockGroup"||d.type.spec.group==="blockContent")===void 0,i&&(t=l)}let a;const s=dR(e.state.schema,n);if(o){((r=t.firstChild)==null?void 0:r.type.name)==="table"&&(t=t.firstChild.content);const l=Fle(t,n.schema.inlineContentSchema,n.schema.styleSchema);a=`<table>${s.exportInlineContent(l,{})}</table>`}else if(i){const l=jD(t,n.schema.inlineContentSchema,n.schema.styleSchema);a=s.exportInlineContent(l,{})}else{const l=lhe(t);a=s.exportBlocks(l,{})}return a}function che(e,t){"node"in e.state.selection&&e.state.selection.node.type.spec.group==="blockContent"&&t.transact(a=>a.setSelection(new Rt(a.doc.resolve(e.state.selection.from-1))));const n=e.serializeForClipboard(e.state.selection.content()).dom.innerHTML,r=e.state.selection.content().content,i=sKe(e,r,t),o=e7(i);return{clipboardHTML:n,externalHTML:i,markdown:o}}const HG=()=>{const e=window.getSelection();if(!e||e.isCollapsed)return!0;let t=e.focusNode;for(;t;){if(t instanceof HTMLElement&&t.getAttribute("contenteditable")==="false")return!0;t=t.parentElement}return!1},FG=(e,t,n)=>{n.preventDefault(),n.clipboardData.clearData();const{clipboardHTML:r,externalHTML:i,markdown:o}=che(t,e);n.clipboardData.setData("blocknote/html",r),n.clipboardData.setData("text/html",i),n.clipboardData.setData("text/plain",o)},lKe=e=>ur.create({name:"copyToClipboard",addProseMirrorPlugins(){return[new rn({props:{handleDOMEvents:{copy(t,n){return HG()||FG(e,t,n),!0},cut(t,n){return HG()||(FG(e,t,n),t.editable&&t.dispatch(t.state.tr.deleteSelection())),!0},dragstart(t,n){if(!("node"in t.state.selection)||t.state.selection.node.type.spec.group!=="blockContent")return;e.transact(a=>a.setSelection(new Rt(a.doc.resolve(t.state.selection.from-1)))),n.preventDefault(),n.dataTransfer.clearData();const{clipboardHTML:r,externalHTML:i,markdown:o}=che(t,e);return n.dataTransfer.setData("blocknote/html",r),n.dataTransfer.setData("text/html",i),n.dataTransfer.setData("text/plain",o),!0}}}})]}}),cKe=ur.create({name:"blockBackgroundColor",addGlobalAttributes(){return[{types:["tableCell","tableHeader"],attributes:{backgroundColor:O4e()}}]}});let uKe=class extends fo{constructor(){super(),Ae(this,"beforeChangeCallbacks",[]),this.addProsemirrorPlugin(new rn({key:new En("blockChange"),filterTransaction:t=>{let n;return this.beforeChangeCallbacks.reduce((r,i)=>r===!1?r:i({getChanges(){return n||(n=ahe(t),n)},tr:t})!==!1,!0)}}))}static key(){return"blockChange"}subscribe(t){return this.beforeChangeCallbacks.push(t),()=>{this.beforeChangeCallbacks=this.beforeChangeCallbacks.filter(n=>n!==t)}}};const lN=class uhe extends fo{constructor(t){super(),Ae(this,"provider"),Ae(this,"recentlyUpdatedCursors"),Ae(this,"renderCursor",(n,r)=>{let i=this.recentlyUpdatedCursors.get(r);if(!i){const o=(this.collaboration.renderCursor??uhe.defaultCursorRender)(n);this.collaboration.showCursorLabels!=="always"&&(o.addEventListener("mouseenter",()=>{const a=this.recentlyUpdatedCursors.get(r);a.element.setAttribute("data-active",""),a.hideTimeout&&(clearTimeout(a.hideTimeout),this.recentlyUpdatedCursors.set(r,{element:a.element,hideTimeout:void 0}))}),o.addEventListener("mouseleave",()=>{const a=this.recentlyUpdatedCursors.get(r);this.recentlyUpdatedCursors.set(r,{element:a.element,hideTimeout:setTimeout(()=>{a.element.removeAttribute("data-active")},2e3)})})),i={element:o,hideTimeout:void 0},this.recentlyUpdatedCursors.set(r,i)}return i.element}),Ae(this,"updateUser",n=>{this.provider.awareness.setLocalStateField("user",n)}),this.collaboration=t,this.provider=t.provider,this.recentlyUpdatedCursors=new Map,this.provider.awareness.setLocalStateField("user",t.user),t.showCursorLabels!=="always"&&this.provider.awareness.on("change",({updated:n})=>{for(const r of n){const i=this.recentlyUpdatedCursors.get(r);i&&(i.element.setAttribute("data-active",""),i.hideTimeout&&clearTimeout(i.hideTimeout),this.recentlyUpdatedCursors.set(r,{element:i.element,hideTimeout:setTimeout(()=>{i.element.removeAttribute("data-active")},2e3)}))}}),this.addProsemirrorPlugin(tWe(this.provider.awareness,{selectionBuilder:zfe,cursorBuilder:this.renderCursor}))}static key(){return"yCursorPlugin"}get priority(){return 999}static isDarkColor(t){const n=t.charAt(0)==="#"?t.substring(1,7):t,r=parseInt(n.substring(0,2),16),i=parseInt(n.substring(2,4),16),o=parseInt(n.substring(4,6),16),a=[r/255,i/255,o/255].map(s=>s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4));return .2126*a[0]+.7152*a[1]+.0722*a[2]<=.179}};Ae(lN,"defaultCursorRender",e=>{const t=document.createElement("span");t.classList.add("bn-collaboration-cursor__base");const n=document.createElement("span");n.setAttribute("contentedEditable","false"),n.classList.add("bn-collaboration-cursor__caret"),n.setAttribute("style",`background-color: ${e.color}; color: ${lN.isDarkColor(e.color)?"white":"black"}`);const r=document.createElement("span");return r.classList.add("bn-collaboration-cursor__label"),r.setAttribute("style",`background-color: ${e.color}; color: ${lN.isDarkColor(e.color)?"white":"black"}`),r.insertBefore(document.createTextNode(e.name),null),n.insertBefore(r,null),t.insertBefore(document.createTextNode(""),null),t.insertBefore(n,null),t.insertBefore(document.createTextNode(""),null),t});let t7=lN,RO=class extends fo{static key(){return"ySyncPlugin"}constructor(t){super(),this.addProsemirrorPlugin($qe(t))}get priority(){return 1001}},IO=class extends fo{static key(){return"yUndoPlugin"}constructor({editor:t}){super(),this.addProsemirrorPlugin(lWe({trackedOrigins:[t]}))}get priority(){return 1e3}},dhe=class extends fo{constructor({editor:t,collaboration:n}){super(t),Ae(this,"editor"),Ae(this,"collaboration"),Ae(this,"forkedState"),this.editor=t,this.collaboration=n}static key(){return"ForkYDocPlugin"}findTypeInOtherYdoc(t,n){const r=t.doc;if(t._item===null){const i=Array.from(r.share.keys()).find(o=>r.share.get(o)===t);if(i==null)throw new Error("type does not exist in other ydoc");return n.get(i,t.constructor)}else{const i=t._item,o=n.store.clients.get(i.id.client)??[],a=Sc(o,i.id.clock);return o[a].content.type}}get isForkedFromRemote(){return this.forkedState!==void 0}fork(){var t;if(this.isForkedFromRemote)return;const n=(t=this.collaboration)==null?void 0:t.fragment;if(!n)throw new Error("No fragment to fork from");const r=new mm;FW(r,UW(n.doc));const i=this.findTypeInOtherYdoc(n,r);this.forkedState={undoStack:uc.getState(this.editor.prosemirrorState).undoManager.undoStack,originalFragment:n,forkedFragment:i},this.editor._tiptapEditor.unregisterPlugin([lS,uc,Mr]),this.editor._tiptapEditor.registerPlugin(new RO(i).plugins[0]),this.editor._tiptapEditor.registerPlugin(new IO({editor:this.editor}).plugins[0]),this.emit("forked",!0)}merge({keepChanges:t}){if(!this.forkedState)return;this.editor._tiptapEditor.unregisterPlugin(Mr),this.editor._tiptapEditor.unregisterPlugin(uc);const{originalFragment:n,forkedFragment:r,undoStack:i}=this.forkedState;if(this.editor.extensions.ySyncPlugin=new RO(n),this.editor.extensions.yCursorPlugin=new t7(this.collaboration),this.editor.extensions.yUndoPlugin=new IO({editor:this.editor}),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.ySyncPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yCursorPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yUndoPlugin.plugins[0]),uc.getState(this.editor.prosemirrorState).undoManager.undoStack=i,t){const o=UW(r.doc,x6e(n.doc));FW(n.doc,o,this.editor)}this.forkedState=void 0,this.emit("forked",!1)}};const fhe=(e,t)=>{t(e),e.forEach(n=>{n instanceof ea&&fhe(n,t)})},dKe=(e,t)=>{const n=new Map;return e.forEach(r=>{r instanceof ea&&fhe(r,i=>{if(i.nodeName==="blockContainer"&&i.hasAttribute("id")){const o=i.getAttribute("textColor"),a=i.getAttribute("backgroundColor"),s={textColor:o===cr.textColor.default?void 0:o,backgroundColor:a===cr.backgroundColor.default?void 0:a};(s.textColor||s.backgroundColor)&&n.set(i.getAttribute("id"),s)}})}),n.size===0?!1:(t.doc.descendants((r,i)=>{if(r.type.name==="blockContainer"&&n.has(r.attrs.id)){const o=t.doc.nodeAt(i+1);if(!o)throw new Error("No element found");t.setNodeMarkup(i+1,void 0,{...o.attrs,...n.get(r.attrs.id)})}}),!0)},fKe=[dKe];let hKe=class hhe extends fo{constructor(t){const n=new En(hhe.key());super(),Ae(this,"migrationDone",!1),this.addProsemirrorPlugin(new rn({key:n,appendTransaction:(r,i,o)=>{if(this.migrationDone||!r.some(s=>s.getMeta("y-sync$"))||r.every(s=>!s.docChanged)||!t.firstChild)return;const a=o.tr;for(const s of fKe)s(t,a);if(this.migrationDone=!0,!!a.docChanged)return a}}))}static key(){return"schemaMigrationPlugin"}};const PO=jl.create({name:"comment",excludes:"",inclusive:!1,keepOnSplit:!0,addAttributes(){return{orphan:{parseHTML:e=>!!e.getAttribute("data-orphan"),renderHTML:e=>e.orphan?{"data-orphan":"true"}:{},default:!1},threadId:{parseHTML:e=>e.getAttribute("data-bn-thread-id"),renderHTML:e=>({"data-bn-thread-id":e.threadId}),default:""}}},renderHTML({HTMLAttributes:e}){return["span",Dl(e,{class:"bn-thread-mark"})]},parseHTML(){return[{tag:"span.bn-thread-mark"}]},extendMarkSchema(e){return e.name==="comment"?{blocknoteIgnore:!0}:{}}});let pKe=class extends UD{constructor(t){super(),Ae(this,"userCache",new Map),Ae(this,"loadingUsers",new Set),this.resolveUsers=t}async loadUsers(t){const n=t.filter(r=>!this.userCache.has(r)&&!this.loadingUsers.has(r));if(n.length!==0){for(const r of n)this.loadingUsers.add(r);try{const r=await this.resolveUsers(n);for(const i of r)this.userCache.set(i.id,i);this.emit("update",this.userCache)}finally{for(const r of n)this.loadingUsers.delete(r)}}}getUser(t){return this.userCache.get(t)}subscribe(t){return this.on("update",t)}};const xA=new En("blocknote-comments"),mKe="SET_SELECTED_THREAD_ID";function gKe(e,t){const n=new Map;return e.descendants((r,i)=>{r.marks.forEach(o=>{if(o.type.name===t){const a=o.attrs.threadId;if(!a)return;const s=i,l=s+r.nodeSize,c=n.get(a)??{from:1/0,to:0};n.set(a,{from:Math.min(s,c.from),to:Math.max(l,c.to)})}})}),n}let phe=class extends fo{constructor(t,n,r,i,o){if(super(),Ae(this,"userStore"),Ae(this,"pendingComment",!1),Ae(this,"selectedThreadId"),Ae(this,"threadPositions",new Map),Ae(this,"updateMarksFromThreads",s=>{this.editor.transact(l=>{l.doc.descendants((c,d)=>{c.marks.forEach(u=>{if(u.type.name===this.markType){const p=u.type,m=u.attrs.threadId,v=s.get(m),x=!!(!v||v.resolved||v.deletedAt);if(x!==u.attrs.orphan){const w=Math.max(d,0),T=Math.min(d+c.nodeSize,l.doc.content.size-1,l.doc.content.size-1);l.removeMark(w,T,u),l.addMark(w,T,p.create({...u.attrs,orphan:x})),x&&this.selectedThreadId===m&&(this.selectedThreadId=void 0,this.emitStateUpdate())}}})})})}),this.editor=t,this.threadStore=n,this.markType=r,this.resolveUsers=i,this.commentEditorSchema=o,!i)throw new Error("resolveUsers is required for comments");this.userStore=new pKe(i),this.threadStore.subscribe(this.updateMarksFromThreads),t.onCreate(()=>{this.updateMarksFromThreads(this.threadStore.getThreads()),t.onSelectionChange(()=>{this.pendingComment&&(this.pendingComment=!1,this.emitStateUpdate())})});const a=this;this.addProsemirrorPlugin(new rn({key:xA,state:{init(){return{decorations:mn.empty}},apply(s,l){const c=s.getMeta(xA);if(!s.docChanged&&!c)return l;const d=s.docChanged?gKe(s.doc,a.markType):a.threadPositions;(d.size>0||a.threadPositions.size>0)&&(a.threadPositions=d,a.emitStateUpdate());const u=[];if(a.selectedThreadId){const p=d.get(a.selectedThreadId);p&&u.push(ir.inline(p.from,p.to,{class:"bn-thread-mark-selected"}))}return{decorations:mn.create(s.doc,u)}}},props:{decorations(s){var l;return((l=xA.getState(s))==null?void 0:l.decorations)??mn.empty},handleClick:(s,l,c)=>{var d;if(c.button!==0)return;const u=s.state.doc.nodeAt(l);if(!u){a.selectThread(void 0);return}const p=s.state.schema.marks[r],m=s.state.doc.resolve(l),v=(d=u.marks.filter(w=>w.type.name===r&&w.attrs.orphan!==!0).map(w=>{const T=h1(m,p,w.attrs);return{mark:w,distance:(Math.abs(T.from-l)+Math.abs(T.to-l))/2,length:T.to-T.from}}).sort((w,T)=>w.distance!==T.distance?w.distance-T.distance:w.length-T.length)[0])==null?void 0:d.mark,x=v?.attrs.threadId;a.selectThread(x)}}}))}static key(){return"comments"}emitStateUpdate(){this.emit("update",{selectedThreadId:this.selectedThreadId,pendingComment:this.pendingComment,threadPositions:this.threadPositions})}onUpdate(t){return this.on("update",t)}selectThread(t){var n,r;if(this.selectedThreadId!==t&&(this.selectedThreadId=t,this.emitStateUpdate(),this.editor.transact(i=>i.setMeta(xA,{name:mKe})),t)){const i=this.threadPositions.get(t);if(!i)return;(r=(n=this.editor.prosemirrorView)==null?void 0:n.domAtPos(i.from).node)==null||r.scrollIntoView({behavior:"smooth",block:"center"})}}startPendingComment(){this.pendingComment=!0,this.emitStateUpdate()}stopPendingComment(){this.pendingComment=!1,this.emitStateUpdate()}async createThread(t){const n=await this.threadStore.createThread(t);if(this.threadStore.addThreadToDocument){const r=this.editor.prosemirrorView,i=r.state.selection,o=Mr.getState(r.state),a={prosemirror:{head:i.head,anchor:i.anchor},yjs:o?MO(o.binding,r.state):void 0};await this.threadStore.addThreadToDocument({threadId:n.id,selection:a})}else this.editor._tiptapEditor.commands.setMark(this.markType,{orphan:!1,threadId:n.id})}},yKe=class{constructor(t,n,r,i){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"mouseDownHandler",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"dragstartHandler",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"scrollHandler",()=>{var o;if((o=this.state)!=null&&o.show){const a=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);if(!a)return;this.state.referencePos=a.getBoundingClientRect(),this.emitUpdate()}}),Ae(this,"closeMenu",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pluginKey=n,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized file panel");i(this.state)},r.dom.addEventListener("mousedown",this.mouseDownHandler),r.dom.addEventListener("dragstart",this.dragstartHandler),r.root.addEventListener("scroll",this.scrollHandler,!0)}update(t,n){var r,i;const o=this.pluginKey.getState(t.state),a=this.pluginKey.getState(n);if(!((r=this.state)!=null&&r.show)&&o!=null&&o.block&&this.editor.isEditable){const c=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${o.block.id}"]`);if(!c)return;this.state={show:!0,referencePos:c.getBoundingClientRect(),block:o.block},this.emitUpdate();return}const s=o?.block&&!(a!=null&&a.block),l=!(o!=null&&o.block)&&a?.block;s&&this.state&&!this.state.show&&(this.state.show=!0,this.emitUpdate()),l&&(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}};const iL=new En("FilePanelPlugin");let bKe=class extends fo{constructor(t){super(),Ae(this,"view"),Ae(this,"closeMenu",()=>{var n;return(n=this.view)==null?void 0:n.closeMenu()}),this.addProsemirrorPlugin(new rn({key:iL,view:n=>(this.view=new yKe(t,iL,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>{var i;return r.key==="Escape"&&this.shown?((i=this.view)==null||i.closeMenu(),!0):!1}},state:{init:()=>({block:void 0}),apply:(n,r)=>n.getMeta(iL)||(!n.getMeta(Mr)&&(n.selectionSet||n.docChanged)?{block:void 0}:r)}}))}static key(){return"filePanel"}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}onUpdate(t){return this.on("update",t)}},vKe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"preventHide",!1),Ae(this,"preventShow",!1),Ae(this,"shouldShow",({view:i,state:o,from:a,to:s})=>{const{doc:l,selection:c}=o,{empty:d}=c,u=!l.textBetween(a,s).length&&C9(o.selection);if(c.$from.parent.type.spec.code||jN(c)&&c.node.type.spec.code||d||u)return!1;const p=document.activeElement;return!(!this.isElementWithinEditorWrapper(p)&&i.editable)}),Ae(this,"blurHandler",i=>{var o;if(this.preventHide){this.preventHide=!1;return}const a=this.pmView.dom.parentElement;i&&i.relatedTarget&&(a===i.relatedTarget||a.contains(i.relatedTarget)||i.relatedTarget.matches(".bn-ui-container, .bn-ui-container *"))||(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"isElementWithinEditorWrapper",i=>{if(!i)return!1;const o=this.pmView.dom.parentElement;return o?o.contains(i):!1}),Ae(this,"viewMousedownHandler",i=>{(!this.isElementWithinEditorWrapper(i.target)||i.button===0)&&(this.preventShow=!0)}),Ae(this,"mouseupHandler",()=>{this.preventShow&&(this.preventShow=!1,setTimeout(()=>this.update(this.pmView)))}),Ae(this,"dragHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"scrollHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),Ae(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized formatting toolbar");r(this.state)},n.dom.addEventListener("mousedown",this.viewMousedownHandler),n.root.addEventListener("mouseup",this.mouseupHandler),n.dom.addEventListener("dragstart",this.dragHandler),n.dom.addEventListener("dragover",this.dragHandler),n.dom.addEventListener("blur",this.blurHandler),n.root.addEventListener("scroll",this.scrollHandler,!0)}update(t,n){var r,i,o;const{state:a,composing:s}=t,{doc:l,selection:c}=a,d=n&&n.doc.eq(l)&&n.selection.eq(c);if(s||d)return;const{ranges:u}=c,p=Math.min(...u.map(w=>w.$from.pos)),m=Math.max(...u.map(w=>w.$to.pos)),v=this.shouldShow({view:t,state:a,from:p,to:m}),x=typeof Range.prototype.getClientRects>"u";if(!this.preventShow&&(v||this.preventHide)&&!x){const w=this.getSelectionBoundingBox();if(w.height===0&&w.width===0){queueMicrotask(()=>{const k={show:!0,referencePos:this.getSelectionBoundingBox()};this.state=k,this.emitUpdate(),t.dispatch(t.state.tr.setSelection(St.create(t.state.doc,t.state.selection.from+1,t.state.selection.to))),t.dispatch(t.state.tr.setSelection(St.create(t.state.doc,t.state.selection.from-1,t.state.selection.to)))});return}const T={show:!0,referencePos:this.getSelectionBoundingBox()};(T.show!==((r=this.state)==null?void 0:r.show)||T.referencePos.toJSON()!==((i=this.state)==null?void 0:i.referencePos.toJSON()))&&(this.state=T,this.emitUpdate());return}if((o=this.state)!=null&&o.show&&!this.preventHide&&(!v||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("mouseup",this.mouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}getSelectionBoundingBox(){const{state:t}=this.pmView,{selection:n}=t,{ranges:r}=n,i=Math.min(...r.map(a=>a.$from.pos)),o=Math.max(...r.map(a=>a.$to.pos));if(jN(n)){const a=this.pmView.nodeDOM(i);if(a)return a.getBoundingClientRect()}return BN(this.pmView,i,o)}};const xKe=new En("FormattingToolbarPlugin");let wKe=class extends fo{constructor(t){super(),Ae(this,"view"),Ae(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new rn({key:xKe,view:n=>(this.view=new vKe(t,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"formattingToolbar"}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}onUpdate(t){return this.on("update",t)}};const EKe=qs.create({name:"hardBreak",inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,priority:10,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Dl(this.options.HTMLAttributes,e)]},renderText(){return`
`}}),w8=(e,t)=>{const n=e.resolve(t),r=n.index();if(r===0)return;const i=n.posAtIndex(r-1);return LD(e.resolve(i))},mhe=(e,t)=>{for(;t.childContainer;){const n=t.childContainer.node,r=e.resolve(t.childContainer.beforePos+1).posAtIndex(n.childCount-1);t=LD(e.resolve(r))}return t},SKe=(e,t)=>e.isBlockContainer&&e.blockContent.node.type.spec.content==="inline*"&&e.blockContent.node.childCount>0&&t.isBlockContainer&&t.blockContent.node.type.spec.content==="inline*",CKe=(e,t,n,r)=>{if(!r.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but next block is not a block container`);if(r.childContainer){const i=e.doc.resolve(r.childContainer.beforePos+1),o=e.doc.resolve(r.childContainer.afterPos-1),a=i.blockRange(o);if(t){const s=e.doc.resolve(r.bnBlock.beforePos);e.tr.lift(a,s.depth)}}if(t){if(!n.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but previous block is not a block container`);t(e.tr.delete(n.blockContent.afterPos-1,r.blockContent.beforePos+1))}return!0},UG=e=>({state:t,dispatch:n})=>{const r=t.doc.resolve(e),i=LD(r),o=w8(t.doc,i.bnBlock.beforePos);if(!o)return!1;const a=mhe(t.doc,o);return SKe(a,i)?CKe(t,n,a,i):!1};function TKe(e,t,n){const{$from:r,$to:i}=e.selection,o=r.blockRange(i,m=>m.childCount>0&&(m.type.name==="blockGroup"||m.type.name==="column"));if(!o)return!1;const a=o.startIndex;if(a===0)return!1;const s=o.parent.child(a-1);if(s.type!==t)return!1;const l=s.lastChild&&s.lastChild.type===n,c=He.from(l?t.create():null),d=new at(He.from(t.create(null,He.from(n.create(null,c)))),l?3:1,0),u=o.start,p=o.end;return e.step(new Ki(u-(l?3:1),p,u,p,d,1,!0)).scrollIntoView(),!0}function ghe(e){return e.transact(t=>TKe(t,e.pmSchema.nodes.blockContainer,e.pmSchema.nodes.blockGroup))}function kKe(e){e._tiptapEditor.commands.liftListItem("blockContainer")}function _Ke(e){return e.transact(t=>{const{bnBlock:n}=$T(t);return t.doc.resolve(n.beforePos).nodeBefore!==null})}function AKe(e){return e.transact(t=>{const{bnBlock:n}=$T(t);return t.doc.resolve(n.beforePos).depth>1})}const NKe=ur.create({priority:50,addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({chain:r,commands:i})=>[()=>i.deleteSelection(),()=>i.undoInputRule(),()=>i.command(({state:o})=>{const a=Ms(o);if(!a.isBlockContainer)return!1;const s=o.selection.from===a.blockContent.beforePos+1,l=a.blockContent.node.type.name==="paragraph";return s&&!l?i.command(T4e(a.bnBlock.beforePos,{type:"paragraph",props:{}})):!1}),()=>i.command(({state:o})=>{const a=Ms(o);if(!a.isBlockContainer)return!1;const{blockContent:s}=a;return o.selection.from===s.beforePos+1?i.liftListItem("blockContainer"):!1}),()=>i.command(({state:o})=>{const a=Ms(o);if(!a.isBlockContainer)return!1;const{bnBlock:s,blockContent:l}=a,c=o.selection.from===l.beforePos+1,d=o.selection.empty,u=s.beforePos;return c&&d?r().command(UG(u)).scrollIntoView().run():!1}),()=>i.command(({state:o,tr:a,dispatch:s})=>{const l=Ms(o);if(!l.isBlockContainer||a.selection.from!==l.blockContent.beforePos+1)return!1;const c=a.doc.resolve(l.bnBlock.beforePos);if(c.nodeBefore||c.node().type.name!=="column")return!1;const d=a.doc.resolve(l.bnBlock.beforePos),u=a.doc.resolve(d.before()),p=u.before();if(s){const m=a.doc.slice(l.bnBlock.beforePos,l.bnBlock.afterPos).content;a.delete(l.bnBlock.beforePos,l.bnBlock.afterPos),u.index()===0?(x8(a,p),a.insert(p,m),a.setSelection(St.near(a.doc.resolve(p)))):(a.insert(u.pos-1,m),a.setSelection(St.near(a.doc.resolve(u.pos-1))),x8(a,p))}return!0}),()=>i.command(({state:o})=>{const a=Ms(o);if(!a.isBlockContainer)return!1;if(a.blockContent.node.childCount===0&&a.blockContent.node.type.spec.content==="inline*"){const s=w8(o.doc,a.bnBlock.beforePos);if(!s||!s.isBlockContainer)return!1;let l=r();if(s.blockContent.node.type.spec.content==="tableRow+"){const c=a.bnBlock.beforePos-1-1-1-1-1;l=l.setTextSelection(c)}else if(s.blockContent.node.type.spec.content===""){const c=s.blockContent.afterPos-s.blockContent.node.nodeSize;l=l.setNodeSelection(c)}else{const c=s.blockContent.afterPos-s.blockContent.node.nodeSize;l=l.setTextSelection(c)}return l.deleteRange({from:a.bnBlock.beforePos,to:a.bnBlock.afterPos}).scrollIntoView().run()}return!1}),()=>i.command(({state:o})=>{const a=Ms(o);if(!a.isBlockContainer)throw new Error("todo");const s=o.selection.from===a.blockContent.beforePos+1,l=o.selection.empty,c=w8(o.doc,a.bnBlock.beforePos);if(c&&s&&l){const d=mhe(o.doc,c);if(!d.isBlockContainer)throw new Error("todo");if(d.blockContent.node.type.spec.content===""||d.blockContent.node.type.spec.content==="inline*"&&d.blockContent.node.childCount===0)return r().cut({from:a.bnBlock.beforePos,to:a.bnBlock.afterPos},d.bnBlock.afterPos).deleteRange({from:d.bnBlock.beforePos,to:d.bnBlock.afterPos}).run()}return!1})]),t=()=>this.editor.commands.first(({commands:r})=>[()=>r.deleteSelection(),()=>r.command(({state:i})=>{const o=Ms(i);if(!o.isBlockContainer)return!1;const{bnBlock:a,blockContent:s,childContainer:l}=o,{depth:c}=i.doc.resolve(a.beforePos),d=a.afterPos===i.doc.nodeSize-3,u=i.selection.from===s.afterPos-1,p=i.selection.empty;if(!d&&u&&p&&l===void 0){let m=c,v=a.afterPos+1,x=i.doc.resolve(v).depth;for(;x<m;)m=x,v+=2,x=i.doc.resolve(v).depth;return r.command(UG(v-1))}return!1})]),n=(r=!1)=>this.editor.commands.first(({commands:i,tr:o})=>[()=>i.command(({state:a})=>{const s=Ms(a);if(!s.isBlockContainer)return!1;const{bnBlock:l,blockContent:c}=s,{depth:d}=a.doc.resolve(l.beforePos),u=a.selection.$anchor.parentOffset===0,p=a.selection.anchor===a.selection.head,m=c.node.childCount===0,v=d>1;return u&&p&&m&&v?i.liftListItem("blockContainer"):!1}),()=>i.command(({state:a})=>{var s;const l=Ms(a),c=((s=this.options.editor.schema.blockSchema[l.blockNoteType].meta)==null?void 0:s.hardBreakShortcut)??"shift+enter";if(c==="none")return!1;if(c==="shift+enter"&&r||c==="enter"){const d=o.storedMarks||o.selection.$head.marks().filter(u=>this.editor.extensionManager.splittableMarks.includes(u.type.name));return o.insert(o.selection.head,o.doc.type.schema.nodes.hardBreak.create()).ensureMarks(d),!0}return!1}),()=>i.command(({state:a,dispatch:s})=>{const l=Ms(a);if(!l.isBlockContainer)return!1;const{bnBlock:c,blockContent:d}=l,u=a.selection.$anchor.parentOffset===0,p=a.selection.anchor===a.selection.head,m=d.node.childCount===0;if(u&&p&&m){const v=c.afterPos,x=v+2;if(s){const w=a.schema.nodes.blockContainer.createAndFill();a.tr.insert(v,w).scrollIntoView(),a.tr.setSelection(new St(a.doc.resolve(x)))}return!0}return!1}),()=>i.command(({state:a,chain:s})=>{const l=Ms(a);if(!l.isBlockContainer)return!1;const{blockContent:c}=l,d=a.selection.$anchor.parentOffset===0;return c.node.childCount===0?!1:(s().deleteSelection().command(ije(a.selection.from,d,d)).run(),!0)})]);return{Backspace:e,Delete:t,Enter:()=>n(),"Shift-Enter":()=>n(!0),Tab:()=>{var r,i,o;return this.options.tabBehavior!=="prefer-indent"&&((r=this.options.editor.formattingToolbar)!=null&&r.shown||(i=this.options.editor.linkToolbar)!=null&&i.shown||(o=this.options.editor.filePanel)!=null&&o.shown)?!1:ghe(this.options.editor)},"Shift-Tab":()=>{var r,i,o;return this.options.tabBehavior!=="prefer-indent"&&((r=this.options.editor.formattingToolbar)!=null&&r.shown||(i=this.options.editor.linkToolbar)!=null&&i.shown||(o=this.options.editor.filePanel)!=null&&o.shown)?!1:(this.editor.commands.liftListItem("blockContainer"),!0)},"Shift-Mod-ArrowUp":()=>(this.options.editor.moveBlocksUp(),!0),"Shift-Mod-ArrowDown":()=>(this.options.editor.moveBlocksDown(),!0),"Mod-z":()=>this.options.editor.undo(),"Mod-y":()=>this.options.editor.redo(),"Shift-Mod-z":()=>this.options.editor.redo()}}});let OKe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"menuUpdateTimer"),Ae(this,"startMenuUpdateTimer"),Ae(this,"stopMenuUpdateTimer"),Ae(this,"mouseHoveredLinkMark"),Ae(this,"mouseHoveredLinkMarkRange"),Ae(this,"keyboardHoveredLinkMark"),Ae(this,"keyboardHoveredLinkMarkRange"),Ae(this,"linkMark"),Ae(this,"linkMarkRange"),Ae(this,"mouseOverHandler",i=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),i.target instanceof HTMLAnchorElement&&i.target.nodeName==="A"){const o=i.target,a=this.pmView.posAtDOM(o,0)+1,s=this.pmView.state.doc.resolve(a),l=s.marks();for(const c of l)if(c.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=c,this.mouseHoveredLinkMarkRange=h1(s,c.type,c.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),Ae(this,"clickHandler",i=>{var o;const a=this.pmView.dom.parentElement;this.linkMark&&i&&i.target&&!(a===i.target||a.contains(i.target))&&(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"scrollHandler",()=>{var i;this.linkMark!==void 0&&(i=this.state)!=null&&i.show&&(this.state.referencePos=BN(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),Ae(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized link toolbar");r(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update(this.pmView,void 0,!0)},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),this.pmView.root.addEventListener("click",this.clickHandler,!0),this.pmView.root.addEventListener("scroll",this.scrollHandler,!0)}editLink(t,n){var r;this.editor.transact(i=>{const o=po(i);i.insertText(n,this.linkMarkRange.from,this.linkMarkRange.to),i.addMark(this.linkMarkRange.from,this.linkMarkRange.from+n.length,o.mark("link",{href:t}))}),this.pmView.focus(),(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var t;this.editor.transact(n=>n.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate())}update(t,n,r=!1){var i;const{state:o}=t;if(n&&n.selection.from===o.selection.from&&n.selection.to===o.selection.to||!this.pmView.hasFocus())return;const a=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){const s=this.pmView.state.selection.$from.marks();for(const l of s)if(l.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=l,this.keyboardHoveredLinkMarkRange=h1(this.pmView.state.selection.$from,l.type,l.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&r&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:BN(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if((i=this.state)!=null&&i.show&&a&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0),this.pmView.root.removeEventListener("click",this.clickHandler,!0)}};const MKe=new En("LinkToolbarPlugin");let DKe=class extends fo{constructor(t){super(),Ae(this,"view"),Ae(this,"editLink",(n,r)=>{this.view.editLink(n,r)}),Ae(this,"deleteLink",()=>{this.view.deleteLink()}),Ae(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),Ae(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),Ae(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new rn({key:MKe,view:n=>(this.view=new OKe(t,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"linkToolbar"}onUpdate(t){return this.on("update",t)}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}};const yhe=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"],bhe="https",RKe=new En("node-selection-keyboard");let IKe=class extends fo{static key(){return"nodeSelectionKeyboard"}constructor(){super(),this.addProsemirrorPlugin(new rn({key:RKe,props:{handleKeyDown:(t,n)=>{if("node"in t.state.selection){if(n.ctrlKey||n.metaKey)return!1;if(n.key.length===1)return n.preventDefault(),!0;if(n.key==="Enter"&&!n.shiftKey&&!n.altKey&&!n.ctrlKey&&!n.metaKey){const r=t.state.tr;return t.dispatch(r.insert(t.state.tr.selection.$to.after(),t.state.schema.nodes.paragraph.createChecked()).setSelection(new St(r.doc.resolve(t.state.tr.selection.$to.after()+1)))),!0}}return!1}}}))}};const PKe=new En("blocknote-placeholder");let LKe=class extends fo{static key(){return"placeholder"}constructor(t,n){super(),this.addProsemirrorPlugin(new rn({key:PKe,view:r=>{const i=`placeholder-selector-${Ble()}`;r.dom.classList.add(i);const o=document.createElement("style"),a=t._tiptapEditor.options.injectNonce;a&&o.setAttribute("nonce",a),r.root instanceof window.ShadowRoot?r.root.append(o):r.root.head.appendChild(o);const s=o.sheet,l=(c="")=>`.${i} .bn-block-content${c} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`;try{const{default:c,emptyDocument:d,...u}=n;for(const[v,x]of Object.entries(u)){const w=`[data-content-type="${v}"]`;s.insertRule(`${l(w)} { content: ${JSON.stringify(x)}; }`)}s.insertRule(`${l("[data-is-only-empty-block]")} { content: ${JSON.stringify(d)}; }`),s.insertRule(`${l("[data-is-empty-and-focused]")} { content: ${JSON.stringify(c)}; }`)}catch(c){console.warn("Failed to insert placeholder CSS rule - this is likely due to the browser not supporting certain CSS pseudo-element selectors (:has, :only-child:, or :before)",c)}return{destroy:()=>{r.root instanceof window.ShadowRoot?r.root.removeChild(o):r.root.head.removeChild(o)}}},props:{decorations:r=>{const{doc:i,selection:o}=r;if(!t.isEditable||!o.empty||o.$from.parent.type.spec.code)return;const a=[];r.doc.content.size===6&&a.push(ir.node(2,4,{"data-is-only-empty-block":"true"}));const s=o.$anchor,l=s.parent;if(l.content.size===0){const c=s.before();a.push(ir.node(c,c+l.nodeSize,{"data-is-empty-and-focused":"true"}))}return mn.create(i,a)}}}))}};const zG=new En("previous-blocks"),jKe={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"};let BKe=class extends fo{static key(){return"previousBlockType"}constructor(){super();let t;this.addProsemirrorPlugin(new rn({key:zG,view(n){return{update:async(r,i)=>{var o;((o=this.key)==null?void 0:o.getState(r.state).updatedBlocks.size)>0&&(t=setTimeout(()=>{r.dispatch(r.state.tr.setMeta(zG,{clearUpdate:!0}))},0))},destroy:()=>{t&&clearTimeout(t)}}},state:{init(){return{prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}},apply(n,r,i,o){if(r.currentTransactionOldBlockAttrs={},r.updatedBlocks.clear(),!n.docChanged||i.doc.eq(o.doc))return r;const a={},s=Xq(i.doc,d=>d.attrs.id),l=new Map(s.map(d=>[d.node.attrs.id,d])),c=Xq(o.doc,d=>d.attrs.id);for(const d of c){const u=l.get(d.node.attrs.id),p=u?.node.firstChild,m=d.node.firstChild;if(u&&p&&m){const v={index:m.attrs.index,level:m.attrs.level,type:m.type.name,depth:o.doc.resolve(d.pos).depth},x={index:p.attrs.index,level:p.attrs.level,type:p.type.name,depth:i.doc.resolve(u.pos).depth};a[d.node.attrs.id]=x,r.currentTransactionOldBlockAttrs[d.node.attrs.id]=x,JSON.stringify(x)!==JSON.stringify(v)&&(x["depth-change"]=x.depth-v.depth,r.updatedBlocks.add(d.node.attrs.id))}}return r.prevTransactionOldBlockAttrs=a,r}},props:{decorations(n){const r=this.getState(n);if(r.updatedBlocks.size===0)return;const i=[];return n.doc.descendants((o,a)=>{if(!o.attrs.id||!r.updatedBlocks.has(o.attrs.id))return;const s=r.currentTransactionOldBlockAttrs[o.attrs.id],l={};for(const[d,u]of Object.entries(s))l["data-prev-"+jKe[d]]=u||"none";const c=ir.node(a,a+o.nodeSize,{...l});i.push(c)}),mn.create(n.doc,i)}}}))}};const VG=new En("blocknote-show-selection");let $Ke=class extends fo{constructor(t){super(),Ae(this,"enabled",!1),this.editor=t,this.addProsemirrorPlugin(new rn({key:VG,props:{decorations:n=>{const{doc:r,selection:i}=n;if(!this.enabled)return mn.empty;const o=ir.inline(i.from,i.to,{"data-show-selection":"true"});return mn.create(r,[o])}}}))}static key(){return"showSelection"}setEnabled(t){this.enabled!==t&&(this.enabled=t,this.editor.transact(n=>n.setMeta(VG,{})))}getEnabled(){return this.enabled}};function vhe(e,t){for(var n,r;e&&e.parentElement&&e.parentElement!==t.dom&&((n=e.getAttribute)==null?void 0:n.call(e,"data-node-type"))!=="blockContainer";)e=e.parentElement;if(((r=e.getAttribute)==null?void 0:r.call(e,"data-node-type"))==="blockContainer")return{node:e,id:e.getAttribute("data-id")}}let E8=class cN extends Zt{constructor(t,n){super(t,n),Ae(this,"nodes");const r=t.node();this.nodes=[],t.doc.nodesBetween(t.pos,n.pos,(i,o,a)=>{if(a!==null&&a.eq(r))return this.nodes.push(i),!1})}static create(t,n,r=n){return new cN(t.resolve(n),t.resolve(r))}content(){return new at(He.from(this.nodes),0,0)}eq(t){if(!(t instanceof cN)||this.nodes.length!==t.nodes.length||this.from!==t.from||this.to!==t.to)return!1;for(let n=0;n<this.nodes.length;n++)if(!this.nodes[n].eq(t.nodes[n]))return!1;return!0}map(t,n){const r=n.mapResult(this.from),i=n.mapResult(this.to);return i.deleted?Zt.near(t.resolve(r.pos)):r.deleted?Zt.near(t.resolve(i.pos)):new cN(t.resolve(r.pos),t.resolve(i.pos))}toJSON(){return{type:"multiple-node",anchor:this.anchor,head:this.head}}};Zt.jsonID("multiple-node",E8);let tu;function HKe(e,t){let n,r;const i=t.resolve(e.from).node().type.spec.group==="blockContent",o=t.resolve(e.to).node().type.spec.group==="blockContent",a=Math.min(e.$anchor.depth,e.$head.depth);if(i&&o){const s=e.$from.start(a-1),l=e.$to.end(a-1);n=t.resolve(s-1).pos,r=t.resolve(l+1).pos}else n=e.from,r=e.to;return{from:n,to:r}}function qG(e,t,n=t){t===n&&(n+=e.state.doc.resolve(t+1).node().nodeSize);const r=e.domAtPos(t).node.cloneNode(!0),i=e.domAtPos(t).node,o=(d,u)=>Array.prototype.indexOf.call(d.children,u),a=o(i,e.domAtPos(t+1).node.parentElement),s=o(i,e.domAtPos(n-1).node.parentElement);for(let d=i.childElementCount-1;d>=0;d--)(d>s||d<a)&&r.removeChild(r.children[d]);xhe(e.root),tu=r;const l=tu.getElementsByTagName("iframe");for(let d=0;d<l.length;d++){const u=l[d],p=u.parentElement;p&&p.removeChild(u)}const c=e.dom.className.split(" ").filter(d=>d!=="ProseMirror"&&d!=="bn-root"&&d!=="bn-editor").join(" ");tu.className=tu.className+" bn-drag-preview "+c,e.root instanceof ShadowRoot?e.root.appendChild(tu):e.root.body.appendChild(tu)}function xhe(e){tu!==void 0&&(e instanceof ShadowRoot?e.removeChild(tu):e.body.removeChild(tu),tu=void 0)}function FKe(e,t,n){if(!e.dataTransfer||n.headless)return;const r=n.prosemirrorView,i=cs(t.id,r.state.doc);if(!i)throw new Error(`Block with ID ${t.id} not found`);const o=i.posBeforeNode;if(o!=null){const a=r.state.selection,s=r.state.doc,{from:l,to:c}=HKe(a,s),d=l<=o&&o<c,u=a.$anchor.node()!==a.$head.node()||a instanceof E8;d&&u?(r.dispatch(r.state.tr.setSelection(E8.create(s,l,c))),qG(r,l,c)):(r.dispatch(r.state.tr.setSelection(Rt.create(r.state.doc,o))),qG(r,o));const p=r.state.selection.content(),m=n.pmSchema,v=r.serializeForClipboard(p).dom.innerHTML,x=dR(m,n),w=lhe(p.content),T=x.exportBlocks(w,{}),k=e7(T);e.dataTransfer.clearData(),e.dataTransfer.setData("blocknote/html",v),e.dataTransfer.setData("text/html",T),e.dataTransfer.setData("text/plain",k),e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(tu,0,0)}}const WG=250;function S8(e,t,n=!0){const r=e.root.elementsFromPoint(t.left,t.top);for(const i of r)if(e.dom.contains(i))return n&&i.closest("[data-node-type=columnList]")?S8(e,{left:t.left+50,top:t.top},!1):vhe(i,e)}function UKe(e,t){if(!t.dom.firstChild)return;const n=t.dom.firstChild.getBoundingClientRect(),r={left:Math.min(Math.max(n.left+10,e.x),n.right-10),top:e.y},i=S8(t,r);if(!i)return;const o=i.node.getBoundingClientRect();return S8(t,{left:o.right-10,top:e.y},!1)}let whe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"mousePos"),Ae(this,"hoveredBlock"),Ae(this,"menuFrozen",!1),Ae(this,"isDragOrigin",!1),Ae(this,"updateState",i=>{this.state=i,this.emitUpdate(this.state)}),Ae(this,"updateStateFromMousePos",()=>{var i,o,a,s,l;if(this.menuFrozen||!this.mousePos)return;const c=this.findClosestEditorElement({clientX:this.mousePos.x,clientY:this.mousePos.y});if(c?.element!==this.pmView.dom||c.distance>WG){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.updateState(this.state));return}const d=UKe(this.mousePos,this.pmView);if(!d||!this.editor.isEditable){(o=this.state)!=null&&o.show&&(this.state.show=!1,this.updateState(this.state));return}if(!((a=this.state)!=null&&a.show&&(s=this.hoveredBlock)!=null&&s.hasAttribute("data-id")&&((l=this.hoveredBlock)==null?void 0:l.getAttribute("data-id"))===d.id)&&(this.hoveredBlock=d.node,this.editor.isEditable)){const u=d.node.getBoundingClientRect(),p=d.node.closest("[data-node-type=column]");this.state={show:!0,referencePos:new DOMRect(p?p.firstElementChild.getBoundingClientRect().x:this.pmView.dom.firstChild.getBoundingClientRect().x,u.y,u.width,u.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))},this.updateState(this.state)}}),Ae(this,"onDragStart",i=>{var o;const a=(o=i.dataTransfer)==null?void 0:o.getData("blocknote/html");if(!a||this.pmView.dragging)return;const s=document.createElement("div");s.innerHTML=a;const l=pu.fromSchema(this.pmView.state.schema).parse(s,{topNode:this.pmView.state.schema.nodes.blockGroup.create()});this.pmView.dragging={slice:new at(l.content,0,0),move:!0}}),Ae(this,"findClosestEditorElement",i=>{const o=Array.from(this.pmView.root.querySelectorAll(".bn-editor"));if(o.length===0)return null;let a=o[0],s=Number.MAX_VALUE;return o.forEach(l=>{const c=l.querySelector(".bn-block-group").getBoundingClientRect(),d=i.clientX<c.left?c.left-i.clientX:i.clientX>c.right?i.clientX-c.right:0,u=i.clientY<c.top?c.top-i.clientY:i.clientY>c.bottom?i.clientY-c.bottom:0,p=Math.sqrt(Math.pow(d,2)+Math.pow(u,2));p<s&&(s=p,a=l)}),{element:a,distance:s}}),Ae(this,"onDragOver",i=>{if(i.synthetic)return;const o=this.getDragEventContext(i);if(!o||!o.isDropPoint){this.closeDropCursor();return}o.isDropPoint&&!o.isDropWithinEditorBounds&&this.dispatchSyntheticEvent(i)}),Ae(this,"closeDropCursor",()=>{const i=new Event("dragleave",{bubbles:!1});i.synthetic=!0,this.pmView.dom.dispatchEvent(i)}),Ae(this,"getDragEventContext",i=>{var o;const a=!((o=i.dataTransfer)!=null&&o.types.includes("blocknote/html"))&&!!this.pmView.dragging,s=!!this.isDragOrigin,l=a||s,c=this.findClosestEditorElement(i);if(!c||c.distance>WG)return;const d=c.element===this.pmView.dom,u=d&&c.distance===0;if(!(!d&&!l))return{isDropPoint:d,isDropWithinEditorBounds:u,isDragOrigin:l}}),Ae(this,"onDrop",i=>{if(i.synthetic)return;const o=this.getDragEventContext(i);if(!o){this.closeDropCursor();return}const{isDropPoint:a,isDropWithinEditorBounds:s,isDragOrigin:l}=o;if(!s&&a&&this.dispatchSyntheticEvent(i),a){if(this.pmView.dragging)return;this.pmView.dispatch(this.pmView.state.tr.setSelection(St.create(this.pmView.state.tr.doc,this.pmView.state.tr.selection.anchor)));return}else if(l){setTimeout(()=>this.pmView.dispatch(this.pmView.state.tr.deleteSelection()),0);return}}),Ae(this,"onDragEnd",i=>{i.synthetic||(this.pmView.dragging=null)}),Ae(this,"onKeyDown",i=>{var o;(o=this.state)!=null&&o.show&&this.editor.isFocused()&&(this.state.show=!1,this.emitUpdate(this.state))}),Ae(this,"onMouseMove",i=>{var o;if(this.menuFrozen)return;this.mousePos={x:i.clientX,y:i.clientY};const a=this.pmView.dom.getBoundingClientRect(),s=this.mousePos.x>a.left&&this.mousePos.x<a.right&&this.mousePos.y>a.top&&this.mousePos.y<a.bottom,l=this.pmView.dom.parentElement;if(s&&i&&i.target&&!(l===i.target||l.contains(i.target))){(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.updateStateFromMousePos()}),Ae(this,"onScroll",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.referencePos=this.hoveredBlock.getBoundingClientRect(),this.emitUpdate(this.state)),this.updateStateFromMousePos()}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized side menu");r(this.state)},this.pmView.root.addEventListener("dragstart",this.onDragStart),this.pmView.root.addEventListener("dragover",this.onDragOver),this.pmView.root.addEventListener("drop",this.onDrop,!0),this.pmView.root.addEventListener("dragend",this.onDragEnd,!0),this.pmView.root.addEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.addEventListener("keydown",this.onKeyDown,!0),n.root.addEventListener("scroll",this.onScroll,!0)}dispatchSyntheticEvent(t){const n=new Event(t.type,t),r=this.pmView.dom.firstChild.getBoundingClientRect();n.clientX=t.clientX,n.clientY=t.clientY,n.clientX=Math.min(Math.max(t.clientX,r.left),r.left+r.width),n.clientY=Math.min(Math.max(t.clientY,r.top),r.top+r.height),n.dataTransfer=t.dataTransfer,n.preventDefault=()=>t.preventDefault(),n.synthetic=!0,this.pmView.dom.dispatchEvent(n)}update(t,n){var r;!n.doc.eq(this.pmView.state.doc)&&(r=this.state)!=null&&r.show&&this.updateStateFromMousePos()}destroy(){var t;(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.pmView.root.removeEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.removeEventListener("dragstart",this.onDragStart),this.pmView.root.removeEventListener("dragover",this.onDragOver),this.pmView.root.removeEventListener("drop",this.onDrop,!0),this.pmView.root.removeEventListener("dragend",this.onDragEnd,!0),this.pmView.root.removeEventListener("keydown",this.onKeyDown,!0),this.pmView.root.removeEventListener("scroll",this.onScroll,!0)}};const Ehe=new En("SideMenuPlugin");let zKe=class extends fo{constructor(t){super(),Ae(this,"view"),Ae(this,"blockDragStart",(n,r)=>{this.view&&(this.view.isDragOrigin=!0),FKe(n,r,this.editor)}),Ae(this,"blockDragEnd",()=>{xhe(this.editor.prosemirrorView.root),this.view&&(this.view.isDragOrigin=!1),this.editor.blur()}),Ae(this,"freezeMenu",()=>{this.view.menuFrozen=!0,this.view.state.show=!0,this.view.emitUpdate(this.view.state)}),Ae(this,"unfreezeMenu",()=>{this.view.menuFrozen=!1,this.view.state.show=!1,this.view.emitUpdate(this.view.state)}),this.editor=t,this.addProsemirrorPlugin(new rn({key:Ehe,view:n=>(this.view=new whe(t,n,r=>{this.emit("update",r)}),this.view)}))}static key(){return"sideMenu"}onUpdate(t){return this.on("update",t)}};const wA=new Map;function VKe(e){if(wA.has(e))return wA.get(e);const t=new l1;return e._tiptapEditor.on("transaction",({transaction:n})=>{t.appendMapping(n.mapping)}),e._tiptapEditor.on("destroy",()=>{wA.delete(e)}),wA.set(e,t),t}function qKe(e,t,n="left"){const r=Mr.getState(e.prosemirrorState);if(!r){const o=VKe(e),a=o.maps.length;return()=>o.slice(a).map(t,n==="left"?-1:1)}const i=kC(t+(n==="right"?1:-1),r.binding.type,r.binding.mapping);return()=>{const o=Mr.getState(e.prosemirrorState),a=x0(o.doc,o.binding.type,i,o.binding.mapping);if(a===null)throw new Error("Position not found, cannot track positions");return a+(n==="right"?-1:1)}}const WKe=RD(e=>e.type.name==="blockContainer");let YKe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"rootEl"),Ae(this,"pluginState"),Ae(this,"handleScroll",()=>{var o,a;if((o=this.state)!=null&&o.show){const s=(a=this.rootEl)==null?void 0:a.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);if(!s)return;this.state.referencePos=s.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),Ae(this,"closeMenu",()=>{this.editor.transact(o=>o.setMeta(Yv,null))}),Ae(this,"clearQuery",()=>{this.pluginState!==void 0&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos()-(this.pluginState.deleteTriggerCharacter?this.pluginState.triggerCharacter.length:0),to:this.editor.transact(o=>o.selection.from)}).run()});var i;this.editor=t,this.pluginState=void 0,this.emitUpdate=o=>{var a;if(!this.state)throw new Error("Attempting to update uninitialized suggestions menu");n(o,{...this.state,ignoreQueryLength:(a=this.pluginState)==null?void 0:a.ignoreQueryLength})},this.rootEl=r.root,(i=this.rootEl)==null||i.addEventListener("scroll",this.handleScroll,!0)}update(t,n){var r;const i=Yv.getState(n),o=Yv.getState(t.state),a=i===void 0&&o!==void 0,s=i!==void 0&&o===void 0;if(!a&&!(i!==void 0&&o!==void 0)&&!s)return;if(this.pluginState=s?i:o,s||!this.editor.isEditable){this.state&&(this.state.show=!1),this.emitUpdate(this.pluginState.triggerCharacter);return}const l=(r=this.rootEl)==null?void 0:r.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&l&&(this.state={show:!0,referencePos:l.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){var t;(t=this.rootEl)==null||t.removeEventListener("scroll",this.handleScroll,!0)}};const Yv=new En("SuggestionMenuPlugin");let GKe=class extends fo{constructor(t){super(),Ae(this,"view"),Ae(this,"triggerCharacters",[]),Ae(this,"addTriggerCharacter",r=>{this.triggerCharacters.push(r)}),Ae(this,"removeTriggerCharacter",r=>{this.triggerCharacters=this.triggerCharacters.filter(i=>i!==r)}),Ae(this,"closeMenu",()=>this.view.closeMenu()),Ae(this,"clearQuery",()=>this.view.clearQuery());const n=this.triggerCharacters;this.addProsemirrorPlugin(new rn({key:Yv,view:r=>(this.view=new YKe(t,(i,o)=>{this.emit(`update ${i}`,o)},r),this.view),state:{init(){},apply:(r,i,o,a)=>{if(r.selection.$from.parent.type.spec.code)return i;const s=r.getMeta(Yv);if(typeof s=="object"&&s!==null){i&&this.closeMenu();const c=qKe(t,a.selection.from-s.triggerCharacter.length);return{triggerCharacter:s.triggerCharacter,deleteTriggerCharacter:s.deleteTriggerCharacter!==!1,queryStartPos:()=>c()+s.triggerCharacter.length,query:"",decorationId:`id_${Math.floor(Math.random()*4294967295)}`,ignoreQueryLength:s?.ignoreQueryLength}}if(i===void 0)return i;if(a.selection.from!==a.selection.to||s===null||r.getMeta("focus")||r.getMeta("blur")||r.getMeta("pointer")||i.triggerCharacter!==void 0&&a.selection.from<i.queryStartPos()||!a.selection.$from.sameParent(a.doc.resolve(i.queryStartPos())))return;const l={...i};return l.query=a.doc.textBetween(i.queryStartPos(),a.selection.from),l}},props:{handleTextInput(r,i,o,a){if(i===o){const s=r.state.doc;for(const l of n){const c=l.length>1?s.textBetween(i-l.length,i)+a:a;if(l===c)return r.dispatch(r.state.tr.insertText(a)),r.dispatch(r.state.tr.setMeta(Yv,{triggerCharacter:c}).scrollIntoView()),!0}}return!1},decorations(r){const i=this.getState(r);if(i===void 0)return null;if(!i.deleteTriggerCharacter){const o=WKe(r.selection);if(o)return mn.create(r.doc,[ir.node(o.pos,o.pos+o.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}return mn.create(r.doc,[ir.inline(i.queryStartPos()-i.triggerCharacter.length,i.queryStartPos(),{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}}}))}static key(){return"suggestionMenu"}onUpdate(t,n){return this.triggerCharacters.includes(t)||this.addTriggerCharacter(t),this.on(`update ${t}`,n)}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}};const KKe=jl.create({name:"insertion",inclusive:!1,excludes:"deletion modification insertion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(e){return e.name!=="insertion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return["ins",{"data-id":String(t.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"ins",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10)}:!1}}]}}}),XKe=jl.create({name:"deletion",inclusive:!1,excludes:"insertion modification deletion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(e){return e.name!=="deletion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return["del",{"data-id":String(t.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"del",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10)}:!1}}]}}}),ZKe=jl.create({name:"modification",inclusive:!1,excludes:"deletion insertion",addAttributes(){return{id:{default:null,validate:"number"},type:{validate:"string"},attrName:{default:null,validate:"string|null"},previousValue:{default:null},newValue:{default:null}}},extendMarkSchema(e){return e.name!=="modification"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return[n?"span":"div",{"data-type":"modification","data-id":String(t.attrs.id),"data-mod-type":t.attrs.type,"data-mod-prev-val":JSON.stringify(t.attrs.previousValue),"data-mod-new-val":JSON.stringify(t.attrs.newValue)},0]},parseDOM:[{tag:"span[data-type='modification']",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10),type:t.dataset.modType,previousValue:t.dataset.modPrevVal,newValue:t.dataset.modNewVal}:!1}},{tag:"div[data-type='modification']",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10),type:t.dataset.modType,previousValue:t.dataset.modPrevVal}:!1}}]}}});let Is;function YG(e){Is||(Is=document.createElement("div"),Is.innerHTML="_",Is.style.opacity="0",Is.style.height="1px",Is.style.width="1px",e instanceof Document?e.body.appendChild(Is):e.appendChild(Is))}function QKe(e){Is&&(e instanceof Document?e.body.removeChild(Is):e.removeChild(Is),Is=void 0)}function EA(e){return Array.prototype.indexOf.call(e.parentElement.childNodes,e)}function JKe(e){let t=e;for(;t&&t.nodeName!=="TD"&&t.nodeName!=="TH"&&!t.classList.contains("tableWrapper");){if(t.classList.contains("ProseMirror"))return;const n=t.parentNode;if(!n||!(n instanceof Element))return;t=n}return t.nodeName==="TD"||t.nodeName==="TH"?{type:"cell",domNode:t,tbodyNode:t.closest("tbody")}:{type:"wrapper",domNode:t,tbodyNode:t.querySelector("tbody")}}function eXe(e,t){const n=t.querySelectorAll(e);for(let r=0;r<n.length;r++)n[r].style.visibility="hidden"}let tXe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"tableId"),Ae(this,"tablePos"),Ae(this,"tableElement"),Ae(this,"menuFrozen",!1),Ae(this,"mouseState","up"),Ae(this,"prevWasEditable",null),Ae(this,"viewMousedownHandler",()=>{this.mouseState="down"}),Ae(this,"mouseUpHandler",i=>{this.mouseState="up",this.mouseMoveHandler(i)}),Ae(this,"mouseMoveHandler",i=>{var o,a,s,l,c,d,u;if(this.menuFrozen||this.mouseState==="selecting"||!(i.target instanceof Element)||!this.pmView.dom.contains(i.target))return;const p=JKe(i.target);if(p?.type==="cell"&&this.mouseState==="down"&&!((o=this.state)!=null&&o.draggingState)){this.mouseState="selecting",(a=this.state)!=null&&a.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!p||!this.editor.isEditable){(s=this.state)!=null&&s.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!p.tbodyNode)return;const m=p.tbodyNode.getBoundingClientRect(),v=vhe(p.domNode,this.pmView);if(!v)return;this.tableElement=v.node;let x;const w=this.editor.transact(N=>cs(v.id,N.doc));if(!w)throw new Error(`Block with ID ${v.id} not found`);const T=ii(w.node,this.editor.pmSchema,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema);if(Jr(this.editor,"table")&&(this.tablePos=w.posBeforeNode+1,x=T),!x)return;this.tableId=v.id;const k=(l=p.domNode.closest(".tableWrapper"))==null?void 0:l.querySelector(".table-widgets-container");if(p?.type==="wrapper"){const N=i.clientY>=m.bottom-1&&i.clientY<m.bottom+20,I=i.clientX>=m.right-1&&i.clientX<m.right+20,M=i.clientX>m.right||i.clientY>m.bottom;this.state={...this.state,show:!0,showAddOrRemoveRowsButton:N,showAddOrRemoveColumnsButton:I,referencePosTable:m,block:x,widgetContainer:k,colIndex:M||(c=this.state)==null?void 0:c.colIndex,rowIndex:M||(d=this.state)==null?void 0:d.rowIndex,referencePosCell:M||(u=this.state)==null?void 0:u.referencePosCell}}else{const N=EA(p.domNode),I=EA(p.domNode.parentElement),M=p.domNode.getBoundingClientRect();if(this.state!==void 0&&this.state.show&&this.tableId===v.id&&this.state.rowIndex===I&&this.state.colIndex===N)return;this.state={show:!0,showAddOrRemoveColumnsButton:N===x.content.rows[0].cells.length-1,showAddOrRemoveRowsButton:I===x.content.rows.length-1,referencePosTable:m,block:x,draggingState:void 0,referencePosCell:M,colIndex:N,rowIndex:I,widgetContainer:k}}return this.emitUpdate(),!1}),Ae(this,"dragOverHandler",i=>{var o;if(((o=this.state)==null?void 0:o.draggingState)===void 0)return;i.preventDefault(),i.dataTransfer.dropEffect="move",eXe(".prosemirror-dropcursor-block, .prosemirror-dropcursor-inline",this.pmView.root);const a={left:Math.min(Math.max(i.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(i.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},s=this.pmView.root.elementsFromPoint(a.left,a.top).filter(x=>x.tagName==="TD"||x.tagName==="TH");if(s.length===0)return;const l=s[0];let c=!1;const d=EA(l.parentElement),u=EA(l),p=this.state.draggingState.draggedCellOrientation==="row"?this.state.rowIndex:this.state.colIndex,m=(this.state.draggingState.draggedCellOrientation==="row"?d:u)!==p;(this.state.rowIndex!==d||this.state.colIndex!==u)&&(this.state.rowIndex=d,this.state.colIndex=u,this.state.referencePosCell=l.getBoundingClientRect(),c=!0);const v=this.state.draggingState.draggedCellOrientation==="row"?a.top:a.left;this.state.draggingState.mousePos!==v&&(this.state.draggingState.mousePos=v,c=!0),c&&this.emitUpdate(),m&&this.editor.transact(x=>x.setMeta(cS,!0))}),Ae(this,"dropHandler",i=>{if(this.mouseState="up",this.state===void 0||this.state.draggingState===void 0)return!1;if(this.state.rowIndex===void 0||this.state.colIndex===void 0)throw new Error("Attempted to drop table row or column, but no table block was hovered prior.");i.preventDefault();const{draggingState:o,colIndex:a,rowIndex:s}=this.state,l=this.state.block.content.columnWidths;if(o.draggedCellOrientation==="row"){if(!zle(this.state.block,o.originalIndex,s))return!1;const c=IPe(this.state.block,o.originalIndex,s);this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,rows:c}})}else{if(!Vle(this.state.block,o.originalIndex,a))return!1;const c=RPe(this.state.block,o.originalIndex,a),[d]=l.splice(o.originalIndex,1);l.splice(a,0,d),this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,columnWidths:l,rows:c}})}return this.editor.setTextCursorPosition(this.state.block.id),!0}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized image toolbar");r(this.state)},n.dom.addEventListener("mousemove",this.mouseMoveHandler),n.dom.addEventListener("mousedown",this.viewMousedownHandler),window.addEventListener("mouseup",this.mouseUpHandler),n.root.addEventListener("dragover",this.dragOverHandler),n.root.addEventListener("drop",this.dropHandler)}update(){var t;if(!this.state||!this.state.show)return;if(this.state.block=this.editor.getBlock(this.state.block.id),!this.state.block||this.state.block.type!=="table"||!((t=this.tableElement)!=null&&t.isConnected)){this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate();return}const{height:n,width:r}=$9(this.state.block);this.state.rowIndex!==void 0&&this.state.colIndex!==void 0&&(this.state.rowIndex>=n&&(this.state.rowIndex=n-1),this.state.colIndex>=r&&(this.state.colIndex=r-1));const i=this.tableElement.querySelector("tbody");if(!i)throw new Error("Table block does not contain a 'tbody' HTML element. This should never happen.");if(this.state.rowIndex!==void 0&&this.state.colIndex!==void 0){const o=i.children[this.state.rowIndex].children[this.state.colIndex];o?this.state.referencePosCell=o.getBoundingClientRect():(this.state.rowIndex=void 0,this.state.colIndex=void 0)}this.state.referencePosTable=i.getBoundingClientRect(),this.emitUpdate()}destroy(){this.pmView.dom.removeEventListener("mousemove",this.mouseMoveHandler),window.removeEventListener("mouseup",this.mouseUpHandler),this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("dragover",this.dragOverHandler),this.pmView.root.removeEventListener("drop",this.dropHandler)}};const cS=new En("TableHandlesPlugin");let nXe=class extends fo{constructor(t){super(),Ae(this,"view"),Ae(this,"colDragStart",n=>{if(this.view.state===void 0||this.view.state.colIndex===void 0)throw new Error("Attempted to drag table column, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:n.clientX},this.view.emitUpdate(),this.editor.transact(r=>r.setMeta(cS,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),!this.editor.headless&&(YG(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(Is,0,0),n.dataTransfer.effectAllowed="move")}),Ae(this,"rowDragStart",n=>{if(this.view.state===void 0||this.view.state.rowIndex===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:n.clientY},this.view.emitUpdate(),this.editor.transact(r=>r.setMeta(cS,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),!this.editor.headless&&(YG(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(Is,0,0),n.dataTransfer.effectAllowed="copyMove")}),Ae(this,"dragEnd",()=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor.transact(n=>n.setMeta(cS,null)),!this.editor.headless&&QKe(this.editor.prosemirrorView.root)}),Ae(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),Ae(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),Ae(this,"getCellsAtRowHandle",(n,r)=>vB(n,r)),Ae(this,"getCellsAtColumnHandle",(n,r)=>xB(n,r)),Ae(this,"setCellSelection",(n,r,i=r)=>{const o=this.view;if(!o)throw new Error("Table handles view not initialized");const a=n.doc.resolve(o.tablePos+1),s=n.doc.resolve(a.posAtIndex(r.row)+1),l=n.doc.resolve(s.posAtIndex(r.col)),c=n.doc.resolve(a.posAtIndex(i.row)+1),d=n.doc.resolve(c.posAtIndex(i.col)),u=n.tr;return u.setSelection(new Dr(l,d)),n.apply(u)}),Ae(this,"addRowOrColumn",(n,r)=>{this.editor.exec((i,o)=>{const a=this.setCellSelection(i,r.orientation==="row"?{row:n,col:0}:{row:0,col:n});return r.orientation==="row"?r.side==="above"?aLe(a,o):sLe(a,o):r.side==="left"?tLe(a,o):nLe(a,o)})}),Ae(this,"removeRowOrColumn",(n,r)=>r==="row"?this.editor.exec((i,o)=>{const a=this.setCellSelection(i,{row:n,col:0});return cLe(a,o)}):this.editor.exec((i,o)=>{const a=this.setCellSelection(i,{row:0,col:n});return iLe(a,o)})),Ae(this,"mergeCells",n=>this.editor.exec((r,i)=>{const o=n?this.setCellSelection(r,n.relativeStartCell,n.relativeEndCell):r;return dLe(o,i)})),Ae(this,"splitCell",n=>this.editor.exec((r,i)=>{const o=n?this.setCellSelection(r,n):r;return fLe(o,i)})),Ae(this,"getCellSelection",()=>this.editor.transact(n=>{const r=n.selection;let i=r.$from,o=r.$to;if(NB(r)){const{ranges:v}=r;v.forEach(x=>{i=x.$from.min(i??x.$from),o=x.$to.max(o??x.$to)})}else if(i=n.doc.resolve(r.$from.pos-r.$from.parentOffset-1),o=n.doc.resolve(r.$to.pos-r.$to.parentOffset-1),i.pos===0||o.pos===0)return;const a=n.doc.resolve(i.pos-i.parentOffset-1),s=n.doc.resolve(o.pos-o.parentOffset-1),l=n.doc.resolve(a.pos-a.parentOffset-1),c=i.index(a.depth),d=a.index(l.depth),u=o.index(s.depth),p=s.index(l.depth),m=[];for(let v=d;v<=p;v++)for(let x=c;x<=u;x++)m.push({row:v,col:x});return{from:{row:d,col:c},to:{row:p,col:u},cells:m}})),Ae(this,"getMergeDirection",n=>this.editor.transact(r=>{const i=NB(r.selection)?r.selection:void 0;if(!i||!n||i.ranges.length<=1)return;const o=this.getCellSelection();if(o)return jPe(o.from,o.to,n)?"vertical":"horizontal"})),Ae(this,"cropEmptyRowsOrColumns",(n,r)=>PPe(n,r)),Ae(this,"addRowsOrColumns",(n,r,i)=>LPe(n,r,i)),this.editor=t,this.addProsemirrorPlugin(new rn({key:cS,view:n=>(this.view=new tXe(t,n,r=>{this.emit("update",r)}),this.view),props:{decorations:n=>{if(this.view===void 0||this.view.state===void 0||this.view.state.draggingState===void 0||this.view.tablePos===void 0)return;const r=this.view.state.draggingState.draggedCellOrientation==="row"?this.view.state.rowIndex:this.view.state.colIndex;if(r===void 0)return;const i=[],{block:o,draggingState:a}=this.view.state,{originalIndex:s,draggedCellOrientation:l}=a;if(r===s||!o||l==="row"&&!zle(o,s,r)||l==="col"&&!Vle(o,s,r))return mn.create(n.doc,i);const c=n.doc.resolve(this.view.tablePos+1);return this.view.state.draggingState.draggedCellOrientation==="row"?vB(this.view.state.block,r).forEach(({row:d,col:u})=>{const p=n.doc.resolve(c.posAtIndex(d)+1),m=n.doc.resolve(p.posAtIndex(u)+1),v=m.node(),x=m.pos+(r>s?v.nodeSize-2:0);i.push(ir.widget(x,()=>{const w=document.createElement("div");return w.className="bn-table-drop-cursor",w.style.left="0",w.style.right="0",r>s?w.style.bottom="-2px":w.style.top="-3px",w.style.height="4px",w}))}):xB(this.view.state.block,r).forEach(({row:d,col:u})=>{const p=n.doc.resolve(c.posAtIndex(d)+1),m=n.doc.resolve(p.posAtIndex(u)+1),v=m.node(),x=m.pos+(r>s?v.nodeSize-2:0);i.push(ir.widget(x,()=>{const w=document.createElement("div");return w.className="bn-table-drop-cursor",w.style.top="0",w.style.bottom="0",r>s?w.style.right="-2px":w.style.left="-3px",w.style.width="4px",w}))}),mn.create(n.doc,i)}}}))}static key(){return"tableHandles"}onUpdate(t){return this.on("update",t)}};const rXe=ur.create({name:"textAlignment",addGlobalAttributes(){return[{types:["tableCell","tableHeader"],attributes:{textAlignment:{default:"left",parseHTML:e=>e.getAttribute("data-text-alignment"),renderHTML:e=>e.textAlignment==="left"?{}:{"data-text-alignment":e.textAlignment}}}}]}}),iXe=ur.create({name:"blockTextColor",addGlobalAttributes(){return[{types:["table","tableCell","tableHeader"],attributes:{textColor:M4e()}}]}}),oXe=ur.create({name:"trailingNode",addProseMirrorPlugins(){const e=new En(this.name);return[new rn({key:e,appendTransaction:(t,n,r)=>{const{doc:i,tr:o,schema:a}=r,s=e.getState(r),l=i.content.size-2,c=a.nodes.blockContainer,d=a.nodes.paragraph;if(s)return o.insert(l,c.create(void 0,d.create()))},state:{init:(t,n)=>{},apply:(t,n)=>{if(!t.docChanged)return n;let r=t.doc.lastChild;if(!r||r.type.name!=="blockGroup")throw new Error("Expected blockGroup");if(r=r.lastChild,!r||r.type.name!=="blockContainer")return!0;const i=r.firstChild;if(!i)throw new Error("Expected blockContent");return r.nodeSize>4||i.type.spec.content!=="inline*"}}})]}}),aXe={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},sXe=qs.create({name:"blockContainer",group:"blockGroupChild bnBlock",content:"blockContent blockGroup?",priority:50,defining:!0,marks:"insertion modification deletion",parseHTML(){return[{tag:"div[data-node-type="+this.name+"]",getAttrs:e=>{if(typeof e=="string")return!1;const t={};for(const[n,r]of Object.entries(aXe))e.getAttribute(r)&&(t[n]=e.getAttribute(r));return t}},{tag:'div[data-node-type="blockOuter"]',skip:!0}]},renderHTML({HTMLAttributes:e}){var t;const n=document.createElement("div");n.className="bn-block-outer",n.setAttribute("data-node-type","blockOuter");for(const[o,a]of Object.entries(e))o!=="class"&&n.setAttribute(o,a);const r={...((t=this.options.domAttributes)==null?void 0:t.block)||{},...e},i=document.createElement("div");i.className=vi("bn-block",r.class),i.setAttribute("data-node-type",this.name);for(const[o,a]of Object.entries(r))o!=="class"&&i.setAttribute(o,a);return n.appendChild(i),{dom:n,contentDOM:i}}}),lXe=qs.create({name:"blockGroup",group:"childContainer",content:"blockGroupChild+",marks:"deletion insertion modification",parseHTML(){return[{tag:"div",getAttrs:e=>typeof e=="string"?!1:e.getAttribute("data-node-type")==="blockGroup"?null:!1}]},renderHTML({HTMLAttributes:e}){var t;const n={...((t=this.options.domAttributes)==null?void 0:t.blockGroup)||{},...e},r=document.createElement("div");r.className=vi("bn-block-group",n.class),r.setAttribute("data-node-type","blockGroup");for(const[i,o]of Object.entries(n))i!=="class"&&r.setAttribute(i,o);return{dom:r,contentDOM:r}}}),cXe=qs.create({name:"doc",topNode:!0,content:"blockGroup",marks:"insertion modification deletion"}),uXe=e=>{var t;const n={},r=dXe(e);for(const o of r)n[o.name]=o;e.collaboration&&(n.ySyncPlugin=new RO(e.collaboration.fragment),n.yUndoPlugin=new IO({editor:e.editor}),(t=e.collaboration.provider)!=null&&t.awareness&&(n.yCursorPlugin=new t7(e.collaboration)),n.forkYDocPlugin=new dhe({editor:e.editor,collaboration:e.collaboration}),n.schemaMigrationPlugin=new hKe(e.collaboration.fragment)),n.formattingToolbar=new wKe(e.editor),n.linkToolbar=new DKe(e.editor),n.sideMenu=new zKe(e.editor),n.suggestionMenus=new GKe(e.editor),n.filePanel=new bKe(e.editor),n.placeholder=new LKe(e.editor,e.placeholders),(e.animations??!0)&&(n.animations=new BKe),e.tableHandles&&(n.tableHandles=new nXe(e.editor)),n.nodeSelectionKeyboard=new IKe,n.blockChange=new uKe,n.showSelection=new $Ke(e.editor),e.comments&&(n.comments=new phe(e.editor,e.comments.threadStore,PO.name,e.comments.resolveUsers,e.comments.schema));const i=e.disableExtensions||[];for(const o of i)delete n[o];return n};let GG=!1;const dXe=e=>{const t=[yv.ClipboardTextSerializer,yv.Commands,yv.Editable,yv.FocusEvents,yv.Tabindex,UBe,ur.create({name:"dropCursor",addProseMirrorPlugins:()=>[e.dropCursor({width:5,color:"#ddeeff",editor:e.editor})]}),BT.configure({types:["blockContainer","columnList","column"],setIdAttribute:e.setIdAttribute}),EKe,m8e,KKe,XKe,ZKe,p8e.extend({inclusive:!1}).configure({defaultProtocol:bhe,protocols:GG?[]:yhe}),...Object.values(e.styleSpecs).map(n=>n.implementation.mark.configure({editor:e.editor})),iXe,cKe,rXe,ur.create({name:"OverrideEscape",addKeyboardShortcuts(){return{Escape:()=>e.editor.suggestionMenus.shown?!1:this.editor.commands.blur()}}}),cXe,sXe.configure({editor:e.editor,domAttributes:e.domAttributes}),NKe.configure({editor:e.editor,tabBehavior:e.tabBehavior}),lXe.configure({domAttributes:e.domAttributes}),...Object.values(e.inlineContentSpecs).filter(n=>n.config!=="link"&&n.config!=="text").map(n=>n.implementation.node.configure({editor:e.editor})),...Object.values(e.blockSpecs).flatMap(n=>[..."node"in n.implementation?[n.implementation.node.configure({editor:e.editor,domAttributes:e.domAttributes})]:[]]),lKe(e.editor),nKe(e.editor,e.pasteHandler||(n=>n.defaultPasteHandler())),$Ge(e.editor),...e.trailingBlock===void 0||e.trailingBlock?[oXe]:[],...e.comments?[PO]:[]];return GG=!0,e.collaboration||t.push(zBe),t};function fXe(e){return e.transact(t=>{const n=Zf(t.doc,t.selection.anchor);if(t.selection instanceof Dr)return{type:"cell",anchorBlockId:n.node.attrs.id,anchorCellOffset:t.selection.$anchorCell.pos-n.posBeforeNode,headCellOffset:t.selection.$headCell.pos-n.posBeforeNode};if(t.selection instanceof Rt)return{type:"node",anchorBlockId:n.node.attrs.id};{const r=Zf(t.doc,t.selection.head);return{type:"text",anchorBlockId:n.node.attrs.id,headBlockId:r.node.attrs.id,anchorOffset:t.selection.anchor-n.posBeforeNode,headOffset:t.selection.head-r.posBeforeNode}}})}function hXe(e,t){var n,r;const i=(n=cs(t.anchorBlockId,e.doc))==null?void 0:n.posBeforeNode;if(i===void 0)throw new Error(`Could not find block with ID ${t.anchorBlockId} to update selection`);let o;if(t.type==="cell")o=Dr.create(e.doc,i+t.anchorCellOffset,i+t.headCellOffset);else if(t.type==="node")o=Rt.create(e.doc,i+1);else{const a=(r=cs(t.headBlockId,e.doc))==null?void 0:r.posBeforeNode;if(a===void 0)throw new Error(`Could not find block with ID ${t.headBlockId} to update selection`);o=St.create(e.doc,i+t.anchorOffset,a+t.headOffset)}e.setSelection(o)}function C8(e){return e.map(t=>t.type==="columnList"?t.children.map(n=>C8(n.children)).flat():{...t,children:C8(t.children)}).flat()}function She(e,t,n){e.transact(r=>{var i;const o=((i=e.getSelection())==null?void 0:i.blocks)||[e.getTextCursorPosition().block],a=fXe(e);e.removeBlocks(o),e.insertBlocks(C8(o),t,n),hXe(r,a)})}function Che(e){return!e||e.type!=="columnList"}function The(e,t,n){let r,i;if(t?t.children.length>0?(r=t.children[t.children.length-1],i="after"):(r=t,i="before"):n&&(r=n,i="before"),!r||!i)return;const o=e.getParentBlock(r);return Che(o)?{referenceBlock:r,placement:i}:The(e,i==="after"?r:e.getPrevBlock(r),o)}function khe(e,t,n){let r,i;if(t?t.children.length>0?(r=t.children[0],i="before"):(r=t,i="after"):n&&(r=n,i="after"),!r||!i)return;const o=e.getParentBlock(r);return Che(o)?{referenceBlock:r,placement:i}:khe(e,i==="before"?r:e.getNextBlock(r),o)}function pXe(e){e.transact(()=>{const t=e.getSelection(),n=t?.blocks[0]||e.getTextCursorPosition().block,r=The(e,e.getPrevBlock(n),e.getParentBlock(n));r&&She(e,r.referenceBlock,r.placement)})}function mXe(e){e.transact(()=>{const t=e.getSelection(),n=t?.blocks[t?.blocks.length-1]||e.getTextCursorPosition().block,r=khe(e,e.getNextBlock(n),e.getParentBlock(n));r&&She(e,r.referenceBlock,r.placement)})}function gXe(e,t){const n=typeof t=="string"?t:t.id,r=po(e),i=cs(n,e);if(i)return ii(i.node,r)}function yXe(e,t){const n=typeof t=="string"?t:t.id,r=cs(n,e),i=po(e);if(!r)return;const o=e.resolve(r.posBeforeNode).nodeBefore;if(o)return ii(o,i)}function bXe(e,t){const n=typeof t=="string"?t:t.id,r=cs(n,e),i=po(e);if(!r)return;const o=e.resolve(r.posBeforeNode+r.node.nodeSize).nodeAfter;if(o)return ii(o,i)}function vXe(e,t){const n=typeof t=="string"?t:t.id,r=po(e),i=cs(n,e);if(!i)return;const o=e.resolve(i.posBeforeNode),a=o.node(),s=o.node(-1),l=s.type.name!=="doc"?a.type.name==="blockGroup"?s:a:void 0;if(l)return ii(l,r)}class xXe{constructor(t){this.editor=t}get document(){return this.editor.transact(t=>MPe(t.doc,this.editor.pmSchema))}getBlock(t){return this.editor.transact(n=>gXe(n.doc,t))}getPrevBlock(t){return this.editor.transact(n=>yXe(n.doc,t))}getNextBlock(t){return this.editor.transact(n=>bXe(n.doc,t))}getParentBlock(t){return this.editor.transact(n=>vXe(n.doc,t))}forEachBlock(t,n=!1){const r=this.document.slice();n&&r.reverse();function i(o){for(const a of o){if(t(a)===!1)return!1;const s=n?a.children.slice().reverse():a.children;if(!i(s))return!1}return!0}i(r)}insertBlocks(t,n,r="before"){return this.editor.transact(i=>_Ge(i,t,n,r))}updateBlock(t,n){return this.editor.transact(r=>_4e(r,t,n))}removeBlocks(t){return this.editor.transact(n=>jG(n,t,[]).removedBlocks)}replaceBlocks(t,n){return this.editor.transact(r=>jG(r,t,n))}canNestBlock(){return _Ke(this.editor)}nestBlock(){ghe(this.editor)}canUnnestBlock(){return AKe(this.editor)}unnestBlock(){kKe(this.editor)}moveBlocksUp(){return pXe(this.editor)}moveBlocksDown(){return mXe(this.editor)}}class wXe{constructor(t,n){Ae(this,"editor"),Ae(this,"options"),Ae(this,"_commentsPlugin"),Ae(this,"_forkYDocPlugin"),Ae(this,"_syncPlugin"),Ae(this,"_undoPlugin"),Ae(this,"_cursorPlugin"),this.editor=t,this.options=n}get syncPlugin(){return this._syncPlugin}get undoPlugin(){return this._undoPlugin}get cursorPlugin(){return this._cursorPlugin}get forkYDocPlugin(){return this._forkYDocPlugin}initExtensions(){var t;const n={};if(this._syncPlugin=new RO(this.options.fragment),n.ySyncPlugin=this._syncPlugin,this._undoPlugin=new IO({editor:this.editor}),n.yUndoPlugin=this._undoPlugin,(t=this.options.provider)!=null&&t.awareness&&(this._cursorPlugin=new t7(this.options),n.yCursorPlugin=this._cursorPlugin),this._forkYDocPlugin=new dhe({editor:this.editor,collaboration:this.options}),n.forkYDocPlugin=this._forkYDocPlugin,this.options.comments){if(!this.options.resolveUsers)throw new Error("resolveUsers is required when using comments");this._commentsPlugin=new phe(this.editor,this.options.comments.threadStore,PO.name,this.options.resolveUsers,this.options.comments.schema),n.comments=this._commentsPlugin,n.commentMark=PO}return n}updateUserInfo(t){const n=this.cursorPlugin;if(!n)throw new Error("Cannot update collaboration user info when collaboration is disabled.");n.updateUser(t)}getUndoCommand(){return iWe}getRedoCommand(){return oWe}shouldAvoidInitialContent(){return!!this.options.provider}getOptions(){return this.options}get comments(){return this._commentsPlugin}get hasComments(){return!!this.options.comments}get resolveUsers(){return this.options.resolveUsers}}class EXe extends UD{constructor(t){super(),this.editor=t,t.onCreate(()=>{t._tiptapEditor.on("update",({transaction:n,appendedTransactions:r})=>{this.emit("onChange",t,{getChanges(){return ahe(n,r)}})}),t._tiptapEditor.on("selectionUpdate",({transaction:n})=>{this.emit("onSelectionChange",{editor:t,transaction:n})}),t._tiptapEditor.on("mount",()=>{this.emit("onMount",{editor:t})}),t._tiptapEditor.on("unmount",()=>{this.emit("onUnmount",{editor:t})})})}onChange(t){return this.on("onChange",t),()=>{this.off("onChange",t)}}onSelectionChange(t,n=!1){const r=i=>{i.transaction.getMeta("$y-sync")&&!n||t(this.editor)};return this.on("onSelectionChange",r),()=>{this.off("onSelectionChange",r)}}onMount(t){return this.on("onMount",t),()=>{this.off("onMount",t)}}onUnmount(t){return this.on("onUnmount",t),()=>{this.off("onUnmount",t)}}}function SXe(e){return Array.prototype.indexOf.call(e.parentElement.childNodes,e)}function CXe(e){return e.nodeType===3&&!/\S/.test(e.nodeValue||"")}function TXe(e){e.querySelectorAll("li > ul, li > ol").forEach(t=>{const n=SXe(t),r=t.parentElement,i=Array.from(r.childNodes).slice(n+1);t.remove(),i.forEach(o=>{o.remove()}),r.insertAdjacentElement("afterend",t),i.reverse().forEach(o=>{if(CXe(o))return;const a=document.createElement("li");a.append(o),t.insertAdjacentElement("afterend",a)}),r.childNodes.length===0&&r.remove()})}function kXe(e){e.querySelectorAll("li + ul, li + ol").forEach(t=>{var n,r;const i=t.previousElementSibling,o=document.createElement("div");i.insertAdjacentElement("afterend",o),o.append(i);const a=document.createElement("div");for(a.setAttribute("data-node-type","blockGroup"),o.append(a);((n=o.nextElementSibling)==null?void 0:n.nodeName)==="UL"||((r=o.nextElementSibling)==null?void 0:r.nodeName)==="OL";)a.append(o.nextElementSibling)})}let KG=null;function _Xe(){return KG||(KG=document.implementation.createHTMLDocument("title"))}function AXe(e){if(typeof e=="string"){const t=_Xe().createElement("div");t.innerHTML=e,e=t}return TXe(e),kXe(e),e}function _he(e,t){const n=AXe(e),r=pu.fromSchema(t).parse(n,{topNode:t.nodes.blockGroup.create()}),i=[];for(let o=0;o<r.childCount;o++)i.push(ii(r.child(o),t));return i}function NXe(e,t){const n=t.value?t.value:"",r={};t.lang&&(r["data-language"]=t.lang);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function OXe(e,t){var n;const r=String(t?.url||""),i=t!=null&&t.title?String(t.title):void 0;let o={type:"element",tagName:"video",properties:{src:r,"data-name":i,"data-url":r,controls:!0},children:[]};return(n=e.patch)==null||n.call(e,t,o),o=e.applyData?e.applyData(t,o):o,o}function Ahe(e){return Lfe().use($We).use(Pfe).use(xYe,{handlers:{...g8,image:(t,n)=>{const r=String(n?.url||"");return f4e(r)?OXe(t,n):g8.image(t,n)},code:NXe}}).use(CGe).processSync(e).value}function MXe(e,t){const n=Ahe(e);return _he(n,t)}class DXe{constructor(t){this.editor=t}blocksToHTMLLossy(t=this.editor.document){return dR(this.editor.pmSchema,this.editor).exportBlocks(t,{})}blocksToFullHTML(t=this.editor.document){return RGe(this.editor.pmSchema,this.editor).serializeBlocks(t,{})}tryParseHTMLToBlocks(t){return _he(t,this.editor.pmSchema)}blocksToMarkdownLossy(t=this.editor.document){return aKe(t,this.editor.pmSchema,this.editor,{})}tryParseMarkdownToBlocks(t){return MXe(t,this.editor.pmSchema)}pasteHTML(t,n=!1){var r;let i=t;if(!n){const o=this.tryParseHTMLToBlocks(t);i=this.blocksToFullHTML(o)}i&&((r=this.editor.prosemirrorView)==null||r.pasteHTML(i))}pasteText(t){var n;return(n=this.editor.prosemirrorView)==null?void 0:n.pasteText(t)}pasteMarkdown(t){const n=Ahe(t);return this.pasteHTML(n)}}class RXe{constructor(t){this.editor=t}extension(t,n=t.key()){const r=this.editor.extensions[n];if(!r)throw new Error(`Extension ${n} not found`);return r}getExtensions(){return this.editor.extensions}getExtension(t){return this.editor.extensions[t]}hasExtension(t){return t in this.editor.extensions}get formattingToolbar(){return this.editor.extensions.formattingToolbar}get linkToolbar(){return this.editor.extensions.linkToolbar}get sideMenu(){return this.editor.extensions.sideMenu}get suggestionMenus(){return this.editor.extensions.suggestionMenus}get filePanel(){return this.editor.extensions.filePanel}get tableHandles(){return this.editor.extensions.tableHandles}get showSelectionPlugin(){return this.editor.extensions.showSelection}get isCollaborationEnabled(){return this.hasExtension("ySyncPlugin")||this.hasExtension("liveblocksExtension")}}function IXe(e){const t=po(e);if(e.selection.empty||"node"in e.selection)return;const n=e.doc.resolve(Zf(e.doc,e.selection.from).posBeforeNode),r=e.doc.resolve(Zf(e.doc,e.selection.to).posBeforeNode),i=(c,d)=>{const u=n.posAtIndex(c,d),p=e.doc.resolve(u).nodeAfter;if(!p)throw new Error(`Error getting selection - node not found at position ${u}`);return ii(p,t)},o=[],a=n.sharedDepth(r.pos),s=n.index(a),l=r.index(a);if(n.depth>a){o.push(ii(n.nodeAfter,t));for(let c=n.depth;c>a;c--)if(n.node(c).type.isInGroup("childContainer")){const d=n.index(c)+1,u=n.node(c).childCount;for(let p=d;p<u;p++)o.push(i(p,c))}}else o.push(i(s,a));for(let c=s+1;c<=l;c++)o.push(i(c,a));if(o.length===0)throw new Error(`Error getting selection - selection doesn't span any blocks (${e.selection})`);return{blocks:o}}function PXe(e,t,n){const r=typeof t=="string"?t:t.id,i=typeof n=="string"?n:n.id,o=po(e),a=HT(o);if(r===i)throw new Error(`Attempting to set selection with the same anchor and head blocks (id ${r})`);const s=cs(r,e.doc);if(!s)throw new Error(`Block with ID ${r} not found`);const l=cs(i,e.doc);if(!l)throw new Error(`Block with ID ${i} not found`);const c=Qf(s),d=Qf(l),u=a.blockSchema[c.blockNoteType],p=a.blockSchema[d.blockNoteType];if(!c.isBlockContainer||u.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${r})`);if(!d.isBlockContainer||p.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${i})`);let m,v;if(u.content==="table"){const x=ri.get(c.blockContent.node);m=c.blockContent.beforePos+x.positionAt(0,0,c.blockContent.node)+1+2}else m=c.blockContent.beforePos+1;if(p.content==="table"){const x=ri.get(d.blockContent.node),w=d.blockContent.beforePos+x.positionAt(x.height-1,x.width-1,d.blockContent.node)+1,T=e.doc.resolve(w).nodeAfter.nodeSize;v=w+T-2}else v=d.blockContent.afterPos-1;e.setSelection(St.create(e.doc,m,v))}function LXe(e){const t=po(e);let n=e.selection.$from,r=e.selection.$to;for(;r.parentOffset>=r.parent.nodeSize-2&&r.depth>0;)r=e.doc.resolve(r.pos+1);for(;r.parentOffset===0&&r.depth>0;)r=e.doc.resolve(r.pos-1);for(;n.parentOffset===0&&n.depth>0;)n=e.doc.resolve(n.pos-1);for(;n.parentOffset>=n.parent.nodeSize-2&&n.depth>0;)n=e.doc.resolve(n.pos+1);const i=DPe(e.doc.slice(n.pos,r.pos,!0),t);return{_meta:{startPos:n.pos,endPos:r.pos},...i}}function jXe(e){const{bnBlock:t}=$T(e),n=po(e.doc),r=e.doc.resolve(t.beforePos),i=r.nodeBefore,o=e.doc.resolve(t.afterPos).nodeAfter;let a;return r.depth>1&&(a=r.node(),a.type.isInGroup("bnBlock")||(a=r.node(r.depth-1))),{block:ii(t.node,n),prevBlock:i===null?void 0:ii(i,n),nextBlock:o===null?void 0:ii(o,n),parentBlock:a===void 0?void 0:ii(a,n)}}function Nhe(e,t,n="start"){const r=typeof t=="string"?t:t.id,i=po(e.doc),o=HT(i),a=cs(r,e.doc);if(!a)throw new Error(`Block with ID ${r} not found`);const s=Qf(a),l=o.blockSchema[s.blockNoteType].content;if(s.isBlockContainer){const c=s.blockContent;if(l==="none"){e.setSelection(Rt.create(e.doc,c.beforePos));return}if(l==="inline")n==="start"?e.setSelection(St.create(e.doc,c.beforePos+1)):e.setSelection(St.create(e.doc,c.afterPos-1));else if(l==="table")n==="start"?e.setSelection(St.create(e.doc,c.beforePos+4)):e.setSelection(St.create(e.doc,c.afterPos-4));else throw new Nd(l)}else{const c=n==="start"?s.childContainer.node.firstChild:s.childContainer.node.lastChild;Nhe(e,c.attrs.id,n)}}class BXe{constructor(t){this.editor=t}getSelection(){return this.editor.transact(t=>IXe(t))}getSelectionCutBlocks(){return this.editor.transact(t=>LXe(t))}setSelection(t,n){return this.editor.transact(r=>PXe(r,t,n))}getTextCursorPosition(){return this.editor.transact(t=>jXe(t))}setTextCursorPosition(t,n="start"){return this.editor.transact(r=>Nhe(r,t,n))}getSelectionBoundingBox(){if(!this.editor.prosemirrorView)return;const{selection:t}=this.editor.prosemirrorState,{ranges:n}=t,r=Math.min(...n.map(o=>o.$from.pos)),i=Math.max(...n.map(o=>o.$to.pos));if(jN(t)){const o=this.editor.prosemirrorView.nodeDOM(r);if(o)return o.getBoundingClientRect()}return BN(this.editor.prosemirrorView,r,i)}}class $Xe{constructor(t,n){Ae(this,"activeTransaction",null),Ae(this,"isInCan",!1),this.editor=t,this.options=n}can(t){try{return this.isInCan=!0,t()}finally{this.isInCan=!1}}exec(t){if(this.activeTransaction)throw new Error("`exec` should not be called within a `transact` call, move the `exec` call outside of the `transact` call");if(this.isInCan)return this.canExec(t);const n=this.prosemirrorState,r=this.prosemirrorView;return t(n,i=>this.prosemirrorView.dispatch(i),r)}canExec(t){if(this.activeTransaction)throw new Error("`canExec` should not be called within a `transact` call, move the `canExec` call outside of the `transact` call");const n=this.prosemirrorState,r=this.prosemirrorView;return t(n,void 0,r)}transact(t){if(this.activeTransaction)return t(this.activeTransaction);try{this.activeTransaction=this.editor._tiptapEditor.state.tr;const n=t(this.activeTransaction),r=this.activeTransaction;return this.activeTransaction=null,r&&(r.docChanged||r.selectionSet||r.scrolledIntoView||r.storedMarksSet||!r.isGeneric)&&this.prosemirrorView.dispatch(r),n}finally{this.activeTransaction=null}}get prosemirrorState(){if(this.activeTransaction)throw new Error("`prosemirrorState` should not be called within a `transact` call, move the `prosemirrorState` call outside of the `transact` call or use `editor.transact` to read the current editor state");return this.editor._tiptapEditor.state}get prosemirrorView(){return this.editor._tiptapEditor.view}isFocused(){var t;return((t=this.prosemirrorView)==null?void 0:t.hasFocus())||!1}focus(){var t;(t=this.prosemirrorView)==null||t.focus()}get isEditable(){if(!this.editor._tiptapEditor){if(!this.editor.headless)throw new Error("no editor, but also not headless?");return!1}return this.editor._tiptapEditor.isEditable===void 0?!0:this.editor._tiptapEditor.isEditable}set isEditable(t){if(!this.editor._tiptapEditor){if(!this.editor.headless)throw new Error("no editor, but also not headless?");return}this.editor._tiptapEditor.options.editable!==t&&this.editor._tiptapEditor.setEditable(t)}undo(){var t;return this.exec(((t=this.options)==null?void 0:t.undo)??yF)}redo(){var t;return this.exec(((t=this.options)==null?void 0:t.redo)??bF)}}function HXe(e,t,n,r={updateSelection:!0}){let{from:i,to:o}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},a=!0,s=!0,l="";if(n.forEach(c=>{c.check(),a&&c.isText&&c.marks.length===0?l+=c.text:a=!1,s=s?c.isBlock:!1}),i===o&&s){const{parent:c}=e.doc.resolve(i);c.isTextblock&&!c.type.spec.code&&!c.childCount&&(i-=1,o+=1)}return a?e.insertText(l,i,o):e.replaceWith(i,o,n),r.updateSelection&&fle(e,e.steps.length-1,-1),!0}class FXe{constructor(t){this.editor=t}insertInlineContent(t,{updateSelection:n=!1}={}){const r=bu(t,this.editor.pmSchema);this.editor.transact(i=>{HXe(i,{from:i.selection.from,to:i.selection.to},r,{updateSelection:n})})}getActiveStyles(){return this.editor.transact(t=>{const n={},r=t.selection.$to.marks();for(const i of r){const o=this.editor.schema.styleSchema[i.type.name];if(!o){i.type.name!=="link"&&!i.type.spec.blocknoteIgnore&&console.warn("mark not found in styleschema",i.type.name);continue}o.propSchema==="boolean"?n[o.type]=!0:n[o.type]=i.attrs.stringValue}return n})}addStyles(t){for(const[n,r]of Object.entries(t)){const i=this.editor.schema.styleSchema[n];if(!i)throw new Error(`style ${n} not found in styleSchema`);if(i.propSchema==="boolean")this.editor._tiptapEditor.commands.setMark(n);else if(i.propSchema==="string")this.editor._tiptapEditor.commands.setMark(n,{stringValue:r});else throw new Nd(i.propSchema)}}removeStyles(t){for(const n of Object.keys(t))this.editor._tiptapEditor.commands.unsetMark(n)}toggleStyles(t){for(const[n,r]of Object.entries(t)){const i=this.editor.schema.styleSchema[n];if(!i)throw new Error(`style ${n} not found in styleSchema`);if(i.propSchema==="boolean")this.editor._tiptapEditor.commands.toggleMark(n);else if(i.propSchema==="string")this.editor._tiptapEditor.commands.toggleMark(n,{stringValue:r});else throw new Nd(i.propSchema)}}getSelectedText(){return this.editor.transact(t=>t.doc.textBetween(t.selection.from,t.selection.to))}getSelectedLinkUrl(){return this.editor._tiptapEditor.getAttributes("link").href}createLink(t,n){if(t==="")return;const r=this.editor.pmSchema.mark("link",{href:t});this.editor.transact(i=>{const{from:o,to:a}=i.selection;n?i.insertText(n,o,a).addMark(o,o+n.length,r):i.setSelection(St.create(i.doc,a)).addMark(o,a,r)})}}function UXe(e,t){const n=[];return e.forEach((r,i,o)=>{o!==t&&n.push(r)}),He.from(n)}function zXe(e,t){const n=[];for(let r=0;r<e.childCount;r++)if(e.child(r).type.name==="tableRow")if(n.length>0&&n[n.length-1].type.name==="table"){const i=n[n.length-1],o=i.copy(i.content.addToEnd(e.child(r)));n[n.length-1]=o}else{const i=t.nodes.table.createChecked(void 0,e.child(r));n.push(i)}else n.push(e.child(r));return e=He.from(n),e}function VXe(e,t){let n=He.from(e.content);if(n=zXe(n,t.state.schema),!qXe(n,t))return new at(n,e.openStart,e.openEnd);for(let r=0;r<n.childCount;r++)if(n.child(r).type.spec.group==="blockContent"){const i=[n.child(r)];if(r+1<n.childCount&&n.child(r+1).type.name==="blockGroup"){const a=n.child(r+1).child(0).child(0);(a.type.name==="bulletListItem"||a.type.name==="numberedListItem"||a.type.name==="checkListItem")&&(i.push(n.child(r+1)),n=UXe(n,r+1))}const o=t.state.schema.nodes.blockContainer.createChecked(void 0,i);n=n.replaceChild(r,o)}return new at(n,e.openStart,e.openEnd)}function qXe(e,t){var n,r;const i=e.childCount===1,o=((n=e.firstChild)==null?void 0:n.type.spec.content)==="inline*",a=((r=e.firstChild)==null?void 0:r.type.spec.content)==="tableRow+";if(i){if(o)return!1;if(a){const s=Ms(t.state);if(s.isBlockContainer)return s.blockContent.node.type.spec.content!=="tableRow+"}}return!0}const WXe={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};let Ohe=class Mhe extends UD{constructor(t){var n,r,i,o,a,s,l,c,d,u,p,m,v,x,w,T,k,N,I;super(),Ae(this,"pmSchema"),Ae(this,"extensions",{}),Ae(this,"_tiptapEditor"),Ae(this,"elementRenderer",null),Ae(this,"blockCache",new WeakMap),Ae(this,"dictionary"),Ae(this,"schema"),Ae(this,"blockImplementations"),Ae(this,"inlineContentImplementations"),Ae(this,"styleImplementations"),Ae(this,"uploadFile"),Ae(this,"onUploadStartCallbacks",[]),Ae(this,"onUploadEndCallbacks",[]),Ae(this,"resolveFileUrl"),Ae(this,"resolveUsers"),Ae(this,"settings"),Ae(this,"_blockManager"),Ae(this,"_collaborationManager"),Ae(this,"_eventManager"),Ae(this,"_exportManager"),Ae(this,"_extensionManager"),Ae(this,"_selectionManager"),Ae(this,"_stateManager"),Ae(this,"_styleManager"),Ae(this,"mount",Y=>{this._tiptapEditor.mount({mount:Y})}),Ae(this,"unmount",()=>{this._tiptapEditor.unmount()}),this.options=t;const M=t;if(M.onEditorContentChange)throw new Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(M.onTextCursorPositionChange)throw new Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(M.onEditorReady)throw new Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(M.editable)throw new Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");this.dictionary=t.dictionary||m8,this.settings={tables:{splitCells:((n=t?.tables)==null?void 0:n.splitCells)??!1,cellBackgroundColor:((r=t?.tables)==null?void 0:r.cellBackgroundColor)??!1,cellTextColor:((i=t?.tables)==null?void 0:i.cellTextColor)??!1,headers:((o=t?.tables)==null?void 0:o.headers)??!1}};const A={defaultStyles:!0,schema:t.schema||VD.create(),...t,placeholders:{...this.dictionary.placeholders,...t.placeholders}};if(A.collaboration||A.comments){const Y={fragment:((a=A.collaboration)==null?void 0:a.fragment)||new lm,user:((s=A.collaboration)==null?void 0:s.user)||{name:"User",color:"#FF0000"},provider:((l=A.collaboration)==null?void 0:l.provider)||null,renderCursor:(c=A.collaboration)==null?void 0:c.renderCursor,showCursorLabels:(d=A.collaboration)==null?void 0:d.showCursorLabels,comments:A.comments,resolveUsers:A.resolveUsers};this._collaborationManager=new wXe(this,Y)}else this._collaborationManager=void 0;if(A.comments&&!A.resolveUsers)throw new Error("resolveUsers is required when using comments");this.schema=A.schema,this.blockImplementations=A.schema.blockSpecs,this.inlineContentImplementations=A.schema.inlineContentSpecs,this.styleImplementations=A.schema.styleSpecs,this.extensions={...uXe({editor:this,domAttributes:A.domAttributes||{},blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:A.collaboration,trailingBlock:A.trailingBlock,disableExtensions:A.disableExtensions,setIdAttribute:A.setIdAttribute,animations:A.animations??!0,tableHandles:Jr(this,"table"),dropCursor:this.options.dropCursor??vce,placeholders:A.placeholders,tabBehavior:A.tabBehavior,pasteHandler:A.pasteHandler}),...(u=this._collaborationManager)==null?void 0:u.initExtensions()},(((p=A._tiptapOptions)==null?void 0:p.extensions)||[]).forEach(Y=>{this.extensions[Y.name]=Y});for(let Y of A.extensions||[]){typeof Y=="function"&&(Y=Y(this));const U=Y.key??Y.constructor.key();if(!U)throw new Error(`Extension ${Y.constructor.name} does not have a key method`);if(this.extensions[U])throw new Error(`Extension ${Y.constructor.name} already exists with key ${U}`);this.extensions[U]=Y}if(Object.entries(A._extensions||{}).forEach(([Y,U])=>{const X=typeof U=="function"?U(this):U;if(!("plugin"in X)){this.extensions[Y]=X;return}this.extensions[Y]=new class extends fo{static key(){return Y}constructor(){super(),this.addProsemirrorPlugin(X.plugin)}get priority(){return X.priority}}}),A.uploadFile){const Y=A.uploadFile;this.uploadFile=async(U,X)=>{this.onUploadStartCallbacks.forEach(q=>q.apply(this,[X]));try{return await Y(U,X)}finally{this.onUploadEndCallbacks.forEach(q=>q.apply(this,[X]))}}}this.resolveFileUrl=A.resolveFileUrl;const R="ySyncPlugin"in this.extensions||"liveblocksExtension"in this.extensions;R&&A.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider");const L=Object.fromEntries(Object.values(this.schema.blockSpecs).map(Y=>Y.extensions).filter(Y=>Y!==void 0).flat().map(Y=>[Y.key??Y.constructor.key(),Y])),B=[...Object.entries({...this.extensions,...L}).map(([Y,U])=>{if(U instanceof ur||U instanceof qs||U instanceof jl)return U;if(U instanceof fo)return!U.plugins.length&&!U.keyboardShortcuts&&!U.inputRules&&!U.tiptapExtensions?void 0:ur.create({name:Y,priority:U.priority,addProseMirrorPlugins:()=>U.plugins,addExtensions:()=>U.tiptapExtensions||[],addInputRules:U.inputRules?()=>U.inputRules.map(X=>new Ele({find:X.find,handler:({range:q,match:ne,state:Z})=>{const oe=X.replace({match:ne,range:q,editor:this});if(oe){const K=this.getTextCursorPosition();if(this.schema.blockSchema[K.block.type].content!=="inline")return;const Q=$T(Z.tr),te=Z.tr.deleteRange(q.from,q.to);$D(te,Q.bnBlock.beforePos,oe);return}return null}})):void 0,addKeyboardShortcuts:U.keyboardShortcuts?()=>Object.fromEntries(Object.entries(U.keyboardShortcuts).map(([X,q])=>[X,()=>q({editor:this})])):void 0})})].filter(Y=>Y!==void 0),$={...WXe,...A._tiptapOptions,element:null,autofocus:A.autofocus??!1,extensions:B,editorProps:{...(m=A._tiptapOptions)==null?void 0:m.editorProps,attributes:{tabIndex:"0",...(x=(v=A._tiptapOptions)==null?void 0:v.editorProps)==null?void 0:x.attributes,...(w=A.domAttributes)==null?void 0:w.editor,class:vi("bn-editor",A.defaultStyles?"bn-default-styles":"",((k=(T=A.domAttributes)==null?void 0:T.editor)==null?void 0:k.class)||"")},transformPasted:VXe}};try{const Y=A.initialContent||(R?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:BT.options.generateID()}]);if(!Array.isArray(Y)||Y.length===0)throw new Error("initialContent must be a non-empty array of blocks, received: "+Y);const U=kIe($.extensions),X=Y.map(ne=>oy(ne,U,this.schema.styleSchema).toJSON()),q=LN({type:"doc",content:[{type:"blockGroup",content:X}]},U,$.parseOptions);this._tiptapEditor=new hPe({...$,content:q.toJSON()}),this.pmSchema=this._tiptapEditor.schema}catch(Y){throw new Error("Error creating document from blocks passed as `initialContent`",{cause:Y})}let W;const V=this.pmSchema.nodes.doc.createAndFill;this.pmSchema.nodes.doc.createAndFill=(...Y)=>{if(W)return W;const U=V.apply(this.pmSchema.nodes.doc,Y),X=JSON.parse(JSON.stringify(U.toJSON()));return X.content[0].content[0].attrs.id="initialBlockId",W=Bf.fromJSON(this.pmSchema,X),W},this.pmSchema.cached.blockNoteEditor=this,this._blockManager=new xXe(this),this._eventManager=new EXe(this),this._exportManager=new DXe(this),this._extensionManager=new RXe(this),this._selectionManager=new BXe(this),this._stateManager=new $Xe(this,R?{undo:(N=this._collaborationManager)==null?void 0:N.getUndoCommand(),redo:(I=this._collaborationManager)==null?void 0:I.getRedoCommand()}:void 0),this._styleManager=new FXe(this),this.emit("create")}get formattingToolbar(){return this._extensionManager.formattingToolbar}get linkToolbar(){return this._extensionManager.linkToolbar}get sideMenu(){return this._extensionManager.sideMenu}get suggestionMenus(){return this._extensionManager.suggestionMenus}get filePanel(){return this._extensionManager.filePanel}get tableHandles(){return this._extensionManager.tableHandles}get comments(){var t;return(t=this._collaborationManager)==null?void 0:t.comments}get showSelectionPlugin(){return this._extensionManager.showSelectionPlugin}get forkYDocPlugin(){var t;return(t=this._collaborationManager)==null?void 0:t.forkYDocPlugin}static create(t){return new Mhe(t??{})}exec(t){return this._stateManager.exec(t)}canExec(t){return this._stateManager.canExec(t)}transact(t){return this._stateManager.transact(t)}extension(t,n=t.key()){return this._extensionManager.extension(t,n)}get prosemirrorState(){return this._stateManager.prosemirrorState}get prosemirrorView(){return this._stateManager.prosemirrorView}get domElement(){var t;if(!this.headless)return(t=this.prosemirrorView)==null?void 0:t.dom}isFocused(){var t;return this.headless?!1:((t=this.prosemirrorView)==null?void 0:t.hasFocus())||!1}get headless(){return!this._tiptapEditor.isInitialized}focus(){this.headless||this.prosemirrorView.focus()}blur(){this.headless||this.prosemirrorView.dom.blur()}onUploadStart(t){return this.onUploadStartCallbacks.push(t),()=>{const n=this.onUploadStartCallbacks.indexOf(t);n>-1&&this.onUploadStartCallbacks.splice(n,1)}}onUploadEnd(t){return this.onUploadEndCallbacks.push(t),()=>{const n=this.onUploadEndCallbacks.indexOf(t);n>-1&&this.onUploadEndCallbacks.splice(n,1)}}get topLevelBlocks(){return this.document}get document(){return this._blockManager.document}getBlock(t){return this._blockManager.getBlock(t)}getPrevBlock(t){return this._blockManager.getPrevBlock(t)}getNextBlock(t){return this._blockManager.getNextBlock(t)}getParentBlock(t){return this._blockManager.getParentBlock(t)}forEachBlock(t,n=!1){this._blockManager.forEachBlock(t,n)}onEditorContentChange(t){this._tiptapEditor.on("update",t)}onEditorSelectionChange(t){this._tiptapEditor.on("selectionUpdate",t)}getTextCursorPosition(){return this._selectionManager.getTextCursorPosition()}setTextCursorPosition(t,n="start"){return this._selectionManager.setTextCursorPosition(t,n)}getSelection(){return this._selectionManager.getSelection()}getSelectionCutBlocks(){return this._selectionManager.getSelectionCutBlocks()}setSelection(t,n){return this._selectionManager.setSelection(t,n)}get isEditable(){return this._stateManager.isEditable}set isEditable(t){this._stateManager.isEditable=t}insertBlocks(t,n,r="before"){return this._blockManager.insertBlocks(t,n,r)}updateBlock(t,n){return this._blockManager.updateBlock(t,n)}removeBlocks(t){return this._blockManager.removeBlocks(t)}replaceBlocks(t,n){return this._blockManager.replaceBlocks(t,n)}undo(){return this._stateManager.undo()}redo(){return this._stateManager.redo()}insertInlineContent(t,{updateSelection:n=!1}={}){this._styleManager.insertInlineContent(t,{updateSelection:n})}getActiveStyles(){return this._styleManager.getActiveStyles()}addStyles(t){this._styleManager.addStyles(t)}removeStyles(t){this._styleManager.removeStyles(t)}toggleStyles(t){this._styleManager.toggleStyles(t)}getSelectedText(){return this._styleManager.getSelectedText()}getSelectedLinkUrl(){return this._styleManager.getSelectedLinkUrl()}createLink(t,n){this._styleManager.createLink(t,n)}canNestBlock(){return this._blockManager.canNestBlock()}nestBlock(){this._blockManager.nestBlock()}canUnnestBlock(){return this._blockManager.canUnnestBlock()}unnestBlock(){this._blockManager.unnestBlock()}moveBlocksUp(){return this._blockManager.moveBlocksUp()}moveBlocksDown(){return this._blockManager.moveBlocksDown()}blocksToHTMLLossy(t=this.document){return this._exportManager.blocksToHTMLLossy(t)}blocksToFullHTML(t=this.document){return this._exportManager.blocksToFullHTML(t)}tryParseHTMLToBlocks(t){return this._exportManager.tryParseHTMLToBlocks(t)}blocksToMarkdownLossy(t=this.document){return this._exportManager.blocksToMarkdownLossy(t)}tryParseMarkdownToBlocks(t){return this._exportManager.tryParseMarkdownToBlocks(t)}updateCollaborationUserInfo(t){if(!this._collaborationManager)throw new Error("Cannot update collaboration user info when collaboration is disabled.");this._collaborationManager.updateUserInfo(t)}onChange(t){return this._eventManager.onChange(t)}onSelectionChange(t,n){return this._eventManager.onSelectionChange(t,n)}onCreate(t){return this.on("create",t),()=>{this.off("create",t)}}onMount(t){this._eventManager.onMount(t)}onUnmount(t){this._eventManager.onUnmount(t)}getSelectionBoundingBox(){return this._selectionManager.getSelectionBoundingBox()}get isEmpty(){const t=this.document;return t.length===0||t.length===1&&t[0].type==="paragraph"&&t[0].content.length===0}openSuggestionMenu(t,n){!this.prosemirrorView||this.headless||(this.focus(),this.transact(r=>{n!=null&&n.deleteTriggerCharacter&&r.insertText(t),r.scrollIntoView().setMeta(this.suggestionMenus.plugins[0],{triggerCharacter:t,deleteTriggerCharacter:n?.deleteTriggerCharacter||!1,ignoreQueryLength:n?.ignoreQueryLength||!1})}))}getForceSelectionVisible(){return this.showSelectionPlugin.getEnabled()}setForceSelectionVisible(t){this.showSelectionPlugin.setEnabled(t)}pasteHTML(t,n=!1){this._exportManager.pasteHTML(t,n)}pasteText(t){return this._exportManager.pasteText(t)}pasteMarkdown(t){return this._exportManager.pasteMarkdown(t)}},oL;async function YXe(){return oL||(oL=(async()=>{const[e,t]=await Promise.all([SN(()=>import("./module-RjUF93sV.js"),[]),SN(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in e?e.default:e,r="default"in t?t.default:t;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),oL)}async function GXe(e,t){if(!("text"in e.schema.inlineContentSchema)||e.schema.inlineContentSchema.text!==Pje.text)return[];const{emojiData:n,emojiMart:r}=await YXe();return(t.trim()===""?Object.values(n.emojis):await r.SearchIndex.search(t)).map(i=>({id:i.skins[0].native,onItemClick:()=>e.insertInlineContent(i.skins[0].native+" ")}))}function KXe(e,...t){const n=[...e];for(const r of t)for(const i of r){const o=n.findLastIndex(a=>a.group===i.group);o===-1?n.push(i):n.splice(o+1,0,i)}return n}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var XXe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],T8=XXe.join(","),Dhe=typeof Element>"u",_C=Dhe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,LO=!Dhe&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},jO=function e(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",a=o||n&&t&&e(t.parentNode);return a},ZXe=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},QXe=function(t,n,r){if(jO(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(T8));return n&&_C.call(t,T8)&&i.unshift(t),i=i.filter(r),i},JXe=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!jO(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),l=s.length?s:a.children,c=e(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:a,candidates:c})}else{var d=_C.call(a,T8);d&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var u=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),p=!jO(u,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(u&&p){var m=e(u===!0?a.children:u.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:a,candidates:m})}else o.unshift.apply(o,a.children)}}return i},Rhe=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Ihe=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||ZXe(t))&&!Rhe(t)?0:t.tabIndex},eZe=function(t,n){var r=Ihe(t);return r<0&&n&&!Rhe(t)?0:r},tZe=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Phe=function(t){return t.tagName==="INPUT"},nZe=function(t){return Phe(t)&&t.type==="hidden"},rZe=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},iZe=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},oZe=function(t){if(!t.name)return!0;var n=t.form||LO(t),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=iZe(i,t.form);return!o||o===t},aZe=function(t){return Phe(t)&&t.type==="radio"},sZe=function(t){return aZe(t)&&!oZe(t)},lZe=function(t){var n,r=t&&LO(t),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==t){var a,s,l;for(o=!!((a=i)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(i)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!o&&i;){var c,d,u;r=LO(i),i=(c=r)===null||c===void 0?void 0:c.host,o=!!((d=i)!==null&&d!==void 0&&(u=d.ownerDocument)!==null&&u!==void 0&&u.contains(i))}}return o},XG=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},cZe=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=_C.call(t,"details>summary:first-of-type"),a=o?t.parentElement:t;if(_C.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var s=t;t;){var l=t.parentElement,c=LO(t);if(l&&!l.shadowRoot&&i(l)===!0)return XG(t);t.assignedSlot?t=t.assignedSlot:!l&&c!==t.ownerDocument?t=c.host:t=l}t=s}if(lZe(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return XG(t);return!1},uZe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return _C.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},dZe=function(t,n){return!(n.disabled||jO(n)||nZe(n)||cZe(n,t)||rZe(n)||uZe(n))},ZG=function(t,n){return!(sZe(n)||Ihe(n)<0||!dZe(t,n))},fZe=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},hZe=function e(t){var n=[],r=[];return t.forEach(function(i,o){var a=!!i.scopeParent,s=a?i.scopeParent:i,l=eZe(s,a),c=a?e(i.candidates):s;l===0?a?n.push.apply(n,c):n.push(s):r.push({documentOrder:o,tabIndex:l,item:i,isScope:a,content:c})}),r.sort(tZe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},Lhe=function(t,n){n=n||{};var r;return n.getShadowRoot?r=JXe([t],n.includeContainer,{filter:ZG.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:fZe}):r=QXe(t,n.includeContainer,ZG.bind(null,n)),hZe(r)};function pZe(){return/apple/i.test(navigator.vendor)}function mZe(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function k8(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Z6(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function FE(e){return"composedPath"in e?e.composedPath()[0]:e.target}function aL(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function gZe(e){return e.matches("html,body")}function AC(e){return e?.ownerDocument||document}function uN(e,t,n){return n===void 0&&(n=!0),e.filter(i=>{var o;return i.parentId===t&&(!n||((o=i.context)==null?void 0:o.open))}).flatMap(i=>[i,...uN(e,i.id,n)])}function yZe(e){return"nativeEvent"in e}var bZe=typeof document<"u",vZe=function(){},Cd=bZe?C.useLayoutEffect:vZe;const xZe={...hT};function SA(e){const t=C.useRef(e);return Cd(()=>{t.current=e}),t}const wZe=xZe.useInsertionEffect,EZe=wZe||(e=>e());function wv(e){const t=C.useRef(()=>{});return EZe(()=>{t.current=e}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}const jhe=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Bhe(e,t){const n=Lhe(e,jhe()),r=n.length;if(r===0)return;const i=mZe(AC(e)),o=n.indexOf(i),a=o===-1?t===1?0:r-1:o+t;return n[a]}function SZe(e){return Bhe(AC(e).body,1)||e}function CZe(e){return Bhe(AC(e).body,-1)||e}function sL(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!k8(n,r)}function TZe(e){Lhe(e,jhe()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function QG(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const kZe="data-floating-ui-focusable",JG="active",eK="selected",_Ze={...hT};let tK=!1,AZe=0;const nK=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+AZe++;function NZe(){const[e,t]=C.useState(()=>tK?nK():void 0);return Cd(()=>{e==null&&t(nK())},[]),C.useEffect(()=>{tK=!0},[]),e}const OZe=_Ze.useId,$he=OZe||NZe;function MZe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const DZe=C.createContext(null),RZe=C.createContext(null),IZe=()=>{var e;return((e=C.useContext(DZe))==null?void 0:e.id)||null},Hhe=()=>C.useContext(RZe);function n7(e){return"data-floating-ui-"+e}const Fhe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},rK=C.forwardRef(function(t,n){const[r,i]=C.useState();Cd(()=>{pZe()&&i("button")},[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[n7("focus-guard")]:"",style:Fhe};return g.jsx("span",{...t,...o})}),Uhe=C.createContext(null),iK=n7("portal");function PZe(e){e===void 0&&(e={});const{id:t,root:n}=e,r=$he(),i=jZe(),[o,a]=C.useState(null),s=C.useRef(null);return Cd(()=>()=>{o?.remove(),queueMicrotask(()=>{s.current=null})},[o]),Cd(()=>{if(!r||s.current)return;const l=t?document.getElementById(t):null;if(!l)return;const c=document.createElement("div");c.id=r,c.setAttribute(iK,""),l.appendChild(c),s.current=c,a(c)},[t,r]),Cd(()=>{if(n===null||!r||s.current)return;let l=n||i?.portalNode;l&&!WH(l)&&(l=l.current),l=l||document.body;let c=null;t&&(c=document.createElement("div"),c.id=t,l.appendChild(c));const d=document.createElement("div");d.id=r,d.setAttribute(iK,""),l=c||l,l.appendChild(d),s.current=d,a(d)},[t,n,r,i]),o}function LZe(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,o=PZe({id:n,root:r}),[a,s]=C.useState(null),l=C.useRef(null),c=C.useRef(null),d=C.useRef(null),u=C.useRef(null),p=a?.modal,m=a?.open,v=!!a&&!a.modal&&a.open&&i&&!!(r||o);return C.useEffect(()=>{if(!o||!i||p)return;function x(w){o&&sL(w)&&(w.type==="focusin"?QG:TZe)(o)}return o.addEventListener("focusin",x,!0),o.addEventListener("focusout",x,!0),()=>{o.removeEventListener("focusin",x,!0),o.removeEventListener("focusout",x,!0)}},[o,i,p]),C.useEffect(()=>{o&&(m||QG(o))},[m,o]),g.jsxs(Uhe.Provider,{value:C.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:d,afterInsideRef:u,portalNode:o,setFocusManagerState:s}),[i,o]),children:[v&&o&&g.jsx(rK,{"data-type":"outside",ref:l,onFocus:x=>{if(sL(x,o)){var w;(w=d.current)==null||w.focus()}else{const T=a?a.domReference:null,k=CZe(T);k?.focus()}}}),v&&o&&g.jsx("span",{"aria-owns":o.id,style:Fhe}),o&&ka.createPortal(t,o),v&&o&&g.jsx(rK,{"data-type":"outside",ref:c,onFocus:x=>{if(sL(x,o)){var w;(w=u.current)==null||w.focus()}else{const T=a?a.domReference:null,k=SZe(T);k?.focus(),a?.closeOnFocusOut&&a?.onOpenChange(!1,x.nativeEvent,"focus-out")}}})]})}const jZe=()=>C.useContext(Uhe),BZe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},$Ze={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},oK=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function HZe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:a=!0,escapeKey:s=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:d=!1,referencePressEvent:u="pointerdown",ancestorScroll:p=!1,bubbles:m,capture:v}=t,x=Hhe(),w=wv(typeof l=="function"?l:()=>!1),T=typeof l=="function"?w:l,k=C.useRef(!1),{escapeKey:N,outsidePress:I}=oK(m),{escapeKey:M,outsidePress:A}=oK(v),R=C.useRef(!1),L=wv(U=>{var X;if(!n||!a||!s||U.key!=="Escape"||R.current)return;const q=(X=o.current.floatingContext)==null?void 0:X.nodeId,ne=x?uN(x.nodesRef.current,q):[];if(!N&&(U.stopPropagation(),ne.length>0)){let Z=!0;if(ne.forEach(oe=>{var K;if((K=oe.context)!=null&&K.open&&!oe.context.dataRef.current.__escapeKeyBubbles){Z=!1;return}}),!Z)return}r(!1,yZe(U)?U.nativeEvent:U,"escape-key")}),B=wv(U=>{var X;const q=()=>{var ne;L(U),(ne=FE(U))==null||ne.removeEventListener("keydown",q)};(X=FE(U))==null||X.addEventListener("keydown",q)}),$=wv(U=>{var X;const q=o.current.insideReactTree;o.current.insideReactTree=!1;const ne=k.current;if(k.current=!1,c==="click"&&ne||q||typeof T=="function"&&!T(U))return;const Z=FE(U),oe="["+n7("inert")+"]",K=AC(i.floating).querySelectorAll(oe);let Q=qi(Z)?Z:null;for(;Q&&!jf(Q);){const me=Kf(Q);if(jf(me)||!qi(me))break;Q=me}if(K.length&&qi(Z)&&!gZe(Z)&&!k8(Z,i.floating)&&Array.from(K).every(me=>!k8(Q,me)))return;if(yu(Z)&&Y){const me=jf(Z),ke=wc(Z),Ee=/auto|scroll/,ve=me||Ee.test(ke.overflowX),we=me||Ee.test(ke.overflowY),je=ve&&Z.clientWidth>0&&Z.scrollWidth>Z.clientWidth,Ke=we&&Z.clientHeight>0&&Z.scrollHeight>Z.clientHeight,Me=ke.direction==="rtl",Lt=Ke&&(Me?U.offsetX<=Z.offsetWidth-Z.clientWidth:U.offsetX>Z.clientWidth),Ve=je&&U.offsetY>Z.clientHeight;if(Lt||Ve)return}const te=(X=o.current.floatingContext)==null?void 0:X.nodeId,z=x&&uN(x.nodesRef.current,te).some(me=>{var ke;return aL(U,(ke=me.context)==null?void 0:ke.elements.floating)});if(aL(U,i.floating)||aL(U,i.domReference)||z)return;const fe=x?uN(x.nodesRef.current,te):[];if(fe.length>0){let me=!0;if(fe.forEach(ke=>{var Ee;if((Ee=ke.context)!=null&&Ee.open&&!ke.context.dataRef.current.__outsidePressBubbles){me=!1;return}}),!me)return}r(!1,U,"outside-press")}),W=wv(U=>{var X;const q=()=>{var ne;$(U),(ne=FE(U))==null||ne.removeEventListener(c,q)};(X=FE(U))==null||X.addEventListener(c,q)});C.useEffect(()=>{if(!n||!a)return;o.current.__escapeKeyBubbles=N,o.current.__outsidePressBubbles=I;let U=-1;function X(K){r(!1,K,"ancestor-scroll")}function q(){window.clearTimeout(U),R.current=!0}function ne(){U=window.setTimeout(()=>{R.current=!1},hD()?5:0)}const Z=AC(i.floating);s&&(Z.addEventListener("keydown",M?B:L,M),Z.addEventListener("compositionstart",q),Z.addEventListener("compositionend",ne)),T&&Z.addEventListener(c,A?W:$,A);let oe=[];return p&&(qi(i.domReference)&&(oe=Up(i.domReference)),qi(i.floating)&&(oe=oe.concat(Up(i.floating))),!qi(i.reference)&&i.reference&&i.reference.contextElement&&(oe=oe.concat(Up(i.reference.contextElement)))),oe=oe.filter(K=>{var Q;return K!==((Q=Z.defaultView)==null?void 0:Q.visualViewport)}),oe.forEach(K=>{K.addEventListener("scroll",X,{passive:!0})}),()=>{s&&(Z.removeEventListener("keydown",M?B:L,M),Z.removeEventListener("compositionstart",q),Z.removeEventListener("compositionend",ne)),T&&Z.removeEventListener(c,A?W:$,A),oe.forEach(K=>{K.removeEventListener("scroll",X)}),window.clearTimeout(U)}},[o,i,s,T,c,n,r,p,a,N,I,L,M,B,$,A,W]),C.useEffect(()=>{o.current.insideReactTree=!1},[o,T,c]);const V=C.useMemo(()=>({onKeyDown:L,...d&&{[BZe[u]]:U=>{r(!1,U.nativeEvent,"reference-press")},...u!=="click"&&{onClick(U){r(!1,U.nativeEvent,"reference-press")}}}}),[L,r,d,u]),Y=C.useMemo(()=>({onKeyDown:L,onMouseDown(){k.current=!0},onMouseUp(){k.current=!0},[$Ze[c]]:()=>{o.current.insideReactTree=!0}}),[L,c,o]);return C.useMemo(()=>a?{reference:V,floating:Y}:{},[a,V,Y])}function FZe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=$he(),o=C.useRef({}),[a]=C.useState(()=>MZe()),s=IZe()!=null,[l,c]=C.useState(r.reference),d=wv((m,v,x)=>{o.current.openEvent=m?v:void 0,a.emit("openchange",{open:m,event:v,reason:x,nested:s}),n?.(m,v,x)}),u=C.useMemo(()=>({setPositionReference:c}),[]),p=C.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return C.useMemo(()=>({dataRef:o,open:t,onOpenChange:d,elements:p,events:a,floatingId:i,refs:u}),[t,d,p,a,i,u])}function r7(e){e===void 0&&(e={});const{nodeId:t}=e,n=FZe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,a]=C.useState(null),[s,l]=C.useState(null),d=i?.domReference||o,u=C.useRef(null),p=Hhe();Cd(()=>{d&&(u.current=d)},[d]);const m=lae({...e,elements:{...i,...s&&{reference:s}}}),v=C.useCallback(N=>{const I=qi(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;l(I),m.refs.setReference(I)},[m.refs]),x=C.useCallback(N=>{(qi(N)||N===null)&&(u.current=N,a(N)),(qi(m.refs.reference.current)||m.refs.reference.current===null||N!==null&&!qi(N))&&m.refs.setReference(N)},[m.refs]),w=C.useMemo(()=>({...m.refs,setReference:x,setPositionReference:v,domReference:u}),[m.refs,x,v]),T=C.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),k=C.useMemo(()=>({...m,...r,refs:w,elements:T,nodeId:t}),[m,w,T,t,r]);return Cd(()=>{r.dataRef.current.floatingContext=k;const N=p?.nodesRef.current.find(I=>I.id===t);N&&(N.context=k)}),C.useMemo(()=>({...m,context:k,refs:w,elements:T}),[m,w,T,k])}function lL(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[JG]:a,[eK]:s,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[kZe]:""},...o,...t.map(a=>{const s=a?a[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((a,s)=>(s&&Object.entries(s).forEach(l=>{let[c,d]=l;if(!(i&&[JG,eK].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof d=="function"){var u;(u=r.get(c))==null||u.push(d),a[c]=function(){for(var p,m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];return(p=r.get(c))==null?void 0:p.map(w=>w(...v)).find(w=>w!==void 0)}}}else a[c]=d}),a),{})}}function UZe(e){e===void 0&&(e=[]);const t=e.map(s=>s?.reference),n=e.map(s=>s?.floating),r=e.map(s=>s?.item),i=C.useCallback(s=>lL(s,e,"reference"),t),o=C.useCallback(s=>lL(s,e,"floating"),n),a=C.useCallback(s=>lL(s,e,"item"),r);return C.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:a}),[i,o,a])}const aK=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function ov(e,t){return typeof e=="function"?e(t):e}function zZe(e,t){const[n,r]=C.useState(e);return e&&!n&&r(!0),C.useEffect(()=>{if(!e&&n){const i=setTimeout(()=>r(!1),t);return()=>clearTimeout(i)}},[e,n,t]),n}function VZe(e,t){t===void 0&&(t={});const{open:n,elements:{floating:r}}=e,{duration:i=250}=t,a=(typeof i=="number"?i:i.close)||0,[s,l]=C.useState("unmounted"),c=zZe(n,a);return!c&&s==="close"&&l("unmounted"),Cd(()=>{if(r){if(n){l("initial");const d=requestAnimationFrame(()=>{ka.flushSync(()=>{l("open")})});return()=>{cancelAnimationFrame(d)}}l("close")}},[n,r]),{isMounted:c,status:s}}function i7(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:r,close:i,common:o,duration:a=250}=t,s=e.placement,l=s.split("-")[0],c=C.useMemo(()=>({side:l,placement:s}),[l,s]),d=typeof a=="number",u=(d?a:a.open)||0,p=(d?a:a.close)||0,[m,v]=C.useState(()=>({...ov(o,c),...ov(n,c)})),{isMounted:x,status:w}=VZe(e,{duration:a}),T=SA(n),k=SA(r),N=SA(i),I=SA(o);return Cd(()=>{const M=ov(T.current,c),A=ov(N.current,c),R=ov(I.current,c),L=ov(k.current,c)||Object.keys(M).reduce((B,$)=>(B[$]="",B),{});if(w==="initial"&&v(B=>({transitionProperty:B.transitionProperty,...R,...M})),w==="open"&&v({transitionProperty:Object.keys(L).map(aK).join(","),transitionDuration:u+"ms",...R,...L}),w==="close"){const B=A||M;v({transitionProperty:Object.keys(B).map(aK).join(","),transitionDuration:p+"ms",...R,...B})}},[p,N,T,k,I,u,w,c]),{isMounted:x,styles:m}}var cL={exports:{}},uL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sK;function qZe(){if(sK)return uL;sK=1;var e=fT();function t(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,a=e.useDebugValue;function s(u,p){var m=p(),v=r({inst:{value:m,getSnapshot:p}}),x=v[0].inst,w=v[1];return o(function(){x.value=m,x.getSnapshot=p,l(x)&&w({inst:x})},[u,m,p]),i(function(){return l(x)&&w({inst:x}),u(function(){l(x)&&w({inst:x})})},[u]),a(m),m}function l(u){var p=u.getSnapshot;u=u.value;try{var m=p();return!n(u,m)}catch{return!0}}function c(u,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return uL.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,uL}var lK;function zhe(){return lK||(lK=1,cL.exports=qZe()),cL.exports}var Vhe=zhe(),dL={exports:{}},fL={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cK;function WZe(){if(cK)return fL;cK=1;var e=fT(),t=zhe();function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,a=e.useEffect,s=e.useMemo,l=e.useDebugValue;return fL.useSyncExternalStoreWithSelector=function(c,d,u,p,m){var v=o(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=s(function(){function T(A){if(!k){if(k=!0,N=A,A=p(A),m!==void 0&&x.hasValue){var R=x.value;if(m(R,A))return I=R}return I=A}if(R=I,r(N,A))return R;var L=p(A);return m!==void 0&&m(R,L)?(N=A,R):(N=A,I=L)}var k=!1,N,I,M=u===void 0?null:u;return[function(){return T(d())},M===null?void 0:function(){return T(M())}]},[d,u,p,m]);var w=i(c,v[0],v[1]);return a(function(){x.hasValue=!0,x.value=w},[w]),l(w),w},fL}var uK;function YZe(){return uK||(uK=1,dL.exports=WZe()),dL.exports}YZe();var GZe=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},KZe=({contentComponent:e})=>{const t=Vhe.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return g.jsx(g.Fragment,{children:Object.values(t)})};function XZe(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:xH.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}var ZZe=class extends F.Component{constructor(e){var t;super(e),this.editorContentRef=F.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=XZe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:GZe(t,this.editorContentRef),...n}),e?.contentComponent&&g.jsx(KZe,{contentComponent:e.contentComponent})]})}},QZe=C.forwardRef((e,t)=>{const n=F.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return F.createElement(ZZe,{key:n,innerRef:t,...e})});F.memo(QZe);var JZe=C.createContext({editor:null});JZe.Consumer;var qhe=C.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Whe=()=>C.useContext(qhe),eQe=F.forwardRef((e,t)=>{const{onDragStart:n}=Whe(),r=e.as||"div";return g.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function dK(e){return!!(typeof e=="function"&&e.prototype&&e.prototype.isReactComponent)}function fK(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.forward_ref)"||e.$$typeof.description==="react.forward_ref"))}function tQe(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.memo)"||e.$$typeof.description==="react.memo"))}function nQe(e){if(dK(e)||fK(e))return!0;if(tQe(e)){const t=e.type;if(t)return dK(t)||fK(t)}return!1}function rQe(){try{if(C.version)return parseInt(C.version.split(".")[0],10)>=19}catch{}return!1}var iQe=class{constructor(e,{editor:t,props:n={},as:r="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?ka.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var e;const t=this.component,n=this.props,r=this.editor,i=rQe(),o=nQe(t),a={...n};a.ref&&!(i||o)&&delete a.ref,!a.ref&&(i||o)&&(a.ref=s=>{this.ref=s}),this.reactElement=g.jsx(t,{...a}),(e=r?.contentComponent)==null||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t?.contentComponent)==null||e.removeRenderer(this.id);try{this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}catch{}}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}};F.createContext({markViewContentRef:()=>{}});var oQe=class extends SPe{constructor(e,t,n){if(super(e,t,n),!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const r=this.dom.querySelector("[data-node-view-content]");if(!r)return;r.appendChild(this.contentDOMElement)}}mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(l={})=>this.updateAttributes(l),deleteNode:()=>this.deleteNode(),ref:C.createRef()};if(!this.component.displayName){const l=c=>c.charAt(0).toUpperCase()+c.substring(1);this.component.displayName=l(this.extension.name)}const r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:l=>{l&&this.contentDOMElement&&l.firstChild!==this.contentDOMElement&&(l.hasAttribute("data-node-view-wrapper")&&l.removeAttribute("data-node-view-wrapper"),l.appendChild(this.contentDOMElement))}},i=this.component,o=C.memo(l=>g.jsx(qhe.Provider,{value:r,children:C.createElement(i,l)}));o.displayName="ReactNodeView";let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);const{className:s=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new iQe(o,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${s}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!((e=this.renderer.element.firstElementChild)!=null&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,n=this.getPos();if(typeof n=="number")if(e<=n&&t>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,n){const r=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,o=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:e,newDecorations:t,oldInnerDecorations:a,innerDecorations:n,updateProps:()=>r({node:e,decorations:t,innerDecorations:n})})}return e===this.node&&this.decorations===t&&this.innerDecorations===n||(this.node=e,this.decorations=t,this.innerDecorations=n,r({node:e,decorations:t,innerDecorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,n=sC(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:n})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}};function aQe(e,t){return n=>n.editor.contentComponent?new oQe(e,n,t):{}}const Yhe=C.createContext(void 0);function Hd(e){return C.useContext(Yhe)}function Gt(e){const t=Hd();if(!(t!=null&&t.editor))throw new Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return t.editor}function o7(e,t,n){const r=Hd();t||(t=r?.editor),C.useEffect(()=>{if(!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return t.onSelectionChange(e,n)},[e,t,n])}function sQe(e,t){const n=Gt();t=t||n;const[r,i]=C.useState(()=>{if(e)return t.getSelectionBoundingBox()}),o=C.useCallback(()=>{if(!e)return;const a=t.getSelectionBoundingBox();i(a)},[t,e]);return o7(o,t,!0),C.useEffect(()=>{i(e?t.getSelectionBoundingBox():void 0)},[e,t]),r}function lQe(e){return e.getBoundingClientRect!==void 0}function ym(e,t,n,r){const{refs:i,update:o,context:a,floatingStyles:s,isPositioned:l}=r7({open:e,...r}),{isMounted:c,styles:d}=i7(a),u=typeof r?.canDismiss=="object"?r.canDismiss:{enabled:r?.canDismiss},p=HZe(a,u),{getReferenceProps:m,getFloatingProps:v}=UZe([p]);return C.useEffect(()=>{t!==null&&(t instanceof HTMLElement||lQe(t)?i.setReference(t):i.setReference({getBoundingClientRect:()=>t}),o())},[t,i,o]),C.useMemo(()=>({isMounted:c,ref:i.setFloating,setReference:i.setReference,style:{display:"flex",...d,...s,zIndex:n},getFloatingProps:v,getReferenceProps:m,isPositioned:l}),[l,s,c,i.setFloating,i.setReference,d,n,v,m])}function dh(e){const[t,n]=C.useState();return C.useEffect(()=>e(r=>{n({...r})}),[e]),t}const Ghe=C.createContext(void 0);function Ut(){return C.useContext(Ghe)}const a7=(e={},t=[])=>C.useMemo(()=>{const n=Ohe.create(e);return window&&(window.ProseMirror=n._tiptapEditor),n},t);function gn(){return Hd().editor.dictionary}function fR(e,t){const n=Hd();t||(t=n?.editor),C.useEffect(()=>{if(!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return t.onChange(e)},[e,t])}const s7=e=>{const[t,n]=C.useState(!1),[r,i]=C.useState(e.editor.isEmpty),o=Ut();fR(()=>{i(e.editor.isEmpty)},e.editor);const a=C.useCallback(()=>{n(!0)},[]),s=C.useCallback(()=>{n(!1)},[]);return C.useEffect(()=>{e.editable&&e.autoFocus&&e.editor.focus()},[e.autoFocus,e.editable,e.editor]),g.jsxs(g.Fragment,{children:[g.jsx(o.Comments.Editor,{autoFocus:e.autoFocus,className:"bn-comment-editor",editor:e.editor,onFocus:a,onBlur:s,editable:e.editable}),e.actions&&g.jsx("div",{className:"bn-comment-actions-wrapper",children:g.jsx(e.actions,{isFocused:t,isEmpty:r})})]})},{textColor:dkt,backgroundColor:fkt,...cQe}=K9,l7=VD.create({blockSpecs:{paragraph:hce()},styleSpecs:cQe});function uQe(){const e=Gt();if(!e.comments)throw new Error("Comments plugin not found");const t=e.comments,n=Ut(),r=gn(),i=a7({trailingBlock:!1,dictionary:{...r,placeholders:{emptyDocument:r.placeholders.new_comment}},schema:e.comments.commentEditorSchema||l7});return g.jsx(n.Comments.Card,{className:"bn-thread",children:g.jsx(s7,{autoFocus:!0,editable:!0,editor:i,actions:({isEmpty:o})=>g.jsx(n.Generic.Toolbar.Root,{className:vi("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:g.jsx(n.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Save",variant:"compact",isDisabled:o,onClick:async()=>{await t.createThread({initialComment:{body:i.document}}),t.stopPendingComment()},children:"Save"})})})})}const dQe=e=>{const t=Gt();if(!t.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=t.comments;C.useEffect(()=>{const d=n.onUpdate(u=>t.setForceSelectionVisible(u.pendingComment));return()=>d()},[n,t]);const r=dh(n.onUpdate.bind(n)),i=sQe(r?.pendingComment),{isMounted:o,ref:a,style:s,getFloatingProps:l}=ym(r?.pendingComment||!1,i||null,5e3,{placement:"bottom",middleware:[sh(10),MT(),dm()],onOpenChange:d=>{d||(n.stopPendingComment(),t.focus())},...e.floatingOptions});if(!o||!r)return null;const c=e.floatingComposer||uQe;return g.jsx("div",{ref:a,style:s,...l(),children:g.jsx(c,{})})};var Khe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hK=F.createContext&&F.createContext(Khe),fQe=["attr","size","title"];function hQe(e,t){if(e==null)return{};var n=pQe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pQe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function BO(){return BO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BO.apply(this,arguments)}function pK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $O(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pK(Object(n),!0).forEach(function(r){mQe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mQe(e,t,n){return t=gQe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gQe(e){var t=yQe(e,"string");return typeof t=="symbol"?t:t+""}function yQe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xhe(e){return e&&e.map((t,n)=>F.createElement(t.tag,$O({key:n},t.attr),Xhe(t.child)))}function Kt(e){return t=>F.createElement(bQe,BO({attr:$O({},e.attr)},t),Xhe(e.child))}function bQe(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=hQe(e,fQe),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),F.createElement("svg",BO({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:$O($O({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&F.createElement("title",null,o),e.children)};return hK!==void 0?F.createElement(hK.Consumer,null,n=>t(n)):t(Khe)}function vQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(e)}function Zhe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"},child:[]}]})(e)}function xQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"},child:[]}]})(e)}function wQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z"},child:[]}]})(e)}function EQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"},child:[]}]})(e)}function SQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"},child:[]}]})(e)}function CQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"},child:[]}]})(e)}function TQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"},child:[]}]})(e)}function kQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"},child:[]}]})(e)}function _Qe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(e)}function AQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"},child:[]}]})(e)}function mK(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z"},child:[]}]})(e)}function HO(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"},child:[]}]})(e)}function FO(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"},child:[]}]})(e)}function UO(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(e)}function Qhe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM22 8V16H23.5V18H22V20H20V18H14.5V16.66L19.5 8H22ZM20 11.133L17.19 16H20V11.133Z"},child:[]}]})(e)}function Jhe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8V10H17.6769L17.2126 12.6358C17.5435 12.5472 17.8912 12.5 18.25 12.5C20.4591 12.5 22.25 14.2909 22.25 16.5C22.25 18.7091 20.4591 20.5 18.25 20.5C16.4233 20.5 14.8827 19.2756 14.4039 17.6027L16.3271 17.0519C16.5667 17.8881 17.3369 18.5 18.25 18.5C19.3546 18.5 20.25 17.6046 20.25 16.5C20.25 15.3954 19.3546 14.5 18.25 14.5C17.6194 14.5 17.057 14.7918 16.6904 15.2478L14.8803 14.3439L16 8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(e)}function epe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21.097 8L18.499 12.5C20.7091 12.5 22.5 14.2909 22.5 16.5C22.5 18.7091 20.7091 20.5 18.5 20.5C16.2909 20.5 14.5 18.7091 14.5 16.5C14.5 15.7636 14.699 15.0737 15.0461 14.4811L18.788 8H21.097ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 14.5C17.3954 14.5 16.5 15.3954 16.5 16.5C16.5 17.6046 17.3954 18.5 18.5 18.5C19.6046 18.5 20.5 17.6046 20.5 16.5C20.5 15.3954 19.6046 14.5 18.5 14.5Z"},child:[]}]})(e)}function NQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"},child:[]}]})(e)}function OQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"},child:[]}]})(e)}function gK(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z"},child:[]}]})(e)}function MQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"},child:[]}]})(e)}function DQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"},child:[]}]})(e)}function tpe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z"},child:[]}]})(e)}function npe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(e)}function rpe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function ipe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function RQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"},child:[]}]})(e)}function IQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"},child:[]}]})(e)}function ope(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4H3V6H21V4ZM21 11H8V13H21V11ZM21 18H8V20H21V18ZM5 11H3V20H5V11Z"},child:[]}]})(e)}function PQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"},child:[]}]})(e)}function LQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(e)}function c7(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(e)}function jQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"},child:[]}]})(e)}function BQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(e)}function $Qe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"},child:[]}]})(e)}function HQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(e)}function FQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(e)}function ape(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 18V20H2V18H22ZM2 3.5L10 8.5L2 13.5V3.5ZM22 11V13H12V11H22ZM22 4V6H12V4H22Z"},child:[]}]})(e)}function UQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"},child:[]}]})(e)}function zQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(e)}function VQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(e)}function qQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(e)}function WQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"},child:[]}]})(e)}function YQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z"},child:[]}]})(e)}function GQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"},child:[]}]})(e)}function KQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(e)}function XQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11V13H19V11H5Z"},child:[]}]})(e)}function ZQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM8 13C8 15.2091 9.79086 17 12 17C14.2091 17 16 15.2091 16 13H8ZM8 11C8.82843 11 9.5 10.3284 9.5 9.5C9.5 8.67157 8.82843 8 8 8C7.17157 8 6.5 8.67157 6.5 9.5C6.5 10.3284 7.17157 11 8 11ZM16 11C16.8284 11 17.5 10.3284 17.5 9.5C17.5 8.67157 16.8284 8 16 8C15.1716 8 14.5 8.67157 14.5 9.5C14.5 10.3284 15.1716 11 16 11Z"},child:[]}]})(e)}function yK(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"},child:[]}]})(e)}let hL;async function QQe(){return hL||(hL=(async()=>{const[e,t]=await Promise.all([SN(()=>import("./module-RjUF93sV.js"),[]),SN(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in e?e.default:e,r="default"in t?t.default:t;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),hL)}function JQe(e){const t=C.useRef(null),n=C.useRef(null);return n.current&&n.current.update(e),C.useEffect(()=>((async()=>{const{emojiMart:r}=await QQe();n.current=new r.Picker({...e,ref:t})})(),()=>{n.current=null}),[]),F.createElement("div",{ref:t})}const bK=e=>{const[t,n]=C.useState(!1),r=Ut(),i=Gt(),o=Hd();return g.jsxs(r.Generic.Popover.Root,{opened:t,children:[g.jsx(r.Generic.Popover.Trigger,{children:g.jsx("div",{onClick:a=>{var s;a.preventDefault(),a.stopPropagation(),n(!t),(s=e.onOpenChange)==null||s.call(e,!t)},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.children})}),ka.createPortal(g.jsx(r.Generic.Popover.Content,{className:"bn-emoji-picker-popover",variant:"panel-popover",children:g.jsx(JQe,{perLine:7,onClickOutside:()=>{var a;n(!1),(a=e.onOpenChange)==null||a.call(e,!1)},onEmojiSelect:a=>{var s;e.onEmojiSelect(a),n(!1),(s=e.onOpenChange)==null||s.call(e,!1)},theme:o?.colorSchemePreference})}),i.domElement.parentElement)]})};function eJe(e,t){return u7(e,[t]).get(t)}function u7(e,t){const n=e.comments;if(!n)throw new Error("Comments plugin not found");const r=n.userStore,i=C.useCallback(()=>{const s=new Map;for(const l of t){const c=r.getUser(l);c&&s.set(l,c)}return s},[r,t]),o=C.useMemo(()=>({current:i()}),[i]),a=C.useCallback(s=>{const l=r.subscribe(c=>{o.current=i(),s()});return r.loadUsers(t),l},[r,i,t,o]);return C.useSyncExternalStore(a,()=>o.current)}const tJe=e=>{const t=Ut(),n=gn(),r=Gt();if(!r.comments)throw new Error("ReactionBadge must be used inside a BlockNote editor with comments enabled");const i=e.comment.reactions.find(l=>l.emoji===e.emoji);if(!i)throw new Error("Trying to render reaction badge for non-existing reaction");const[o,a]=C.useState([]),s=u7(r,o);return g.jsx(t.Generic.Badge.Root,{className:vi("bn-badge","bn-comment-reaction"),text:i.userIds.length.toString(),icon:i.emoji,isSelected:r.comments.threadStore.auth.canDeleteReaction(e.comment,i.emoji),onClick:()=>e.onReactionSelect(i.emoji),onMouseEnter:()=>a(i.userIds),mainTooltip:n.comments.reactions.reacted_by,secondaryTooltip:`${Array.from(s.values()).map(l=>l.username).join(`
`)}`},i.emoji)},nJe=({comment:e,thread:t,showResolveButton:n})=>{const r=Gt();if(!r.comments)throw new Error("Comments plugin not found");const i=gn(),o=a7({initialContent:e.body,trailingBlock:!1,dictionary:{...i,placeholders:{emptyDocument:i.placeholders.edit_comment}},schema:r.comments.commentEditorSchema||l7}),a=Ut(),[s,l]=C.useState(!1),[c,d]=C.useState(!1);if(!r.comments)throw new Error("Comments plugin not found");const u=r.comments.threadStore,p=C.useCallback(()=>{l(!0)},[]),m=C.useCallback(()=>{o.replaceBlocks(o.document,e.body),l(!1)},[o,e.body]),v=C.useCallback(async $=>{await u.updateComment({commentId:e.id,comment:{body:o.document},threadId:t.id}),l(!1)},[e,t.id,o,u]),x=C.useCallback(async()=>{await u.deleteComment({commentId:e.id,threadId:t.id})},[e,t.id,u]),w=C.useCallback(async $=>{u.auth.canAddReaction(e,$)?await u.addReaction({threadId:t.id,commentId:e.id,emoji:$}):u.auth.canDeleteReaction(e,$)&&await u.deleteReaction({threadId:t.id,commentId:e.id,emoji:$})},[u,e,t.id]),T=C.useCallback(async()=>{await u.resolveThread({threadId:t.id})},[t.id,u]),k=C.useCallback(async()=>{await u.unresolveThread({threadId:t.id})},[t.id,u]),N=eJe(r,e.userId);if(!e.body)return null;let I;const M=u.auth.canAddReaction(e),A=u.auth.canDeleteComment(e),R=u.auth.canUpdateComment(e),L=n&&(t.resolved?u.auth.canUnresolveThread(t):u.auth.canResolveThread(t));s||(I=g.jsxs(a.Generic.Toolbar.Root,{className:vi("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:[M&&g.jsx(bK,{onEmojiSelect:$=>w($.native),onOpenChange:d,children:g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.actions.add_reaction,variant:"compact",children:g.jsx(yK,{size:16})},"add-reaction")}),L&&(t.resolved?g.jsx(a.Generic.Toolbar.Button,{mainTooltip:"Re-open",variant:"compact",onClick:k,children:g.jsx(vQe,{size:16})},"reopen"):g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.actions.resolve,variant:"compact",onClick:T,children:g.jsx(VQe,{size:16})},"resolve")),(A||R)&&g.jsxs(a.Generic.Menu.Root,{position:"bottom-start",children:[g.jsx(a.Generic.Menu.Trigger,{children:g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.actions.more_actions,variant:"compact",children:g.jsx(KQe,{size:16})},"more-actions")}),g.jsxs(a.Generic.Menu.Dropdown,{className:"bn-menu-dropdown",children:[R&&g.jsx(a.Generic.Menu.Item,{icon:g.jsx(xQe,{}),onClick:p,children:i.comments.actions.edit_comment},"edit-comment"),A&&g.jsx(a.Generic.Menu.Item,{icon:g.jsx(WQe,{}),onClick:x,children:i.comments.actions.delete_comment},"delete-comment")]})]})]}));const B=e.createdAt.toLocaleDateString(void 0,{month:"short",day:"numeric"});if(!e.body)throw new Error("soft deletes are not yet supported");return g.jsx(a.Comments.Comment,{authorInfo:N??"loading",timeString:B,edited:e.updatedAt.getTime()!==e.createdAt.getTime(),showActions:"hover",actions:I,className:"bn-thread-comment",emojiPickerOpen:c,children:g.jsx(s7,{autoFocus:s,editor:o,editable:s,actions:e.reactions.length>0||s?({isEmpty:$})=>g.jsxs(g.Fragment,{children:[e.reactions.length>0&&!s&&g.jsxs(a.Generic.Badge.Group,{className:vi("bn-badge-group","bn-comment-reactions"),children:[e.reactions.map(W=>g.jsx(tJe,{comment:e,emoji:W.emoji,onReactionSelect:w},W.emoji)),M&&g.jsx(bK,{onEmojiSelect:W=>w(W.native),onOpenChange:d,children:g.jsx(a.Generic.Badge.Root,{className:vi("bn-badge","bn-comment-add-reaction"),text:"+",icon:g.jsx(yK,{size:16}),mainTooltip:i.comments.actions.add_reaction})})]}),s&&g.jsxs(a.Generic.Toolbar.Root,{variant:"action-toolbar",className:vi("bn-action-toolbar","bn-comment-actions"),children:[g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.save_button_text,variant:"compact",onClick:v,isDisabled:$,children:i.comments.save_button_text}),g.jsx(a.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:i.comments.cancel_button_text,variant:"compact",onClick:m,children:i.comments.cancel_button_text})]})]}):void 0})})},rJe=({thread:e,maxCommentsBeforeCollapse:t})=>{const n=Ut(),r=gn(),i=Gt(),o=u7(i,e.resolvedBy?[e.resolvedBy]:[]),a=e.comments.map((s,l)=>g.jsx(nJe,{thread:e,comment:s,showResolveButton:l===0},s.id+JSON.stringify(s.body||"{}")));if(e.resolved&&e.resolvedUpdatedAt&&e.resolvedBy){if(!o.get(e.resolvedBy))throw new Error(`User ${e.resolvedBy} resolved thread ${e.id}, but their data could not be found.`);const s=e.comments.findLastIndex(l=>e.resolvedUpdatedAt.getTime()>l.createdAt.getTime())+1;a.splice(s,0,g.jsx(n.Comments.Comment,{className:"bn-thread-comment",authorInfo:e.resolvedBy&&o.get(e.resolvedBy)||"loading",timeString:e.resolvedUpdatedAt.toLocaleDateString(void 0,{month:"short",day:"numeric"}),edited:!1,showActions:!1,children:g.jsx("div",{className:"bn-resolved-text",children:r.comments.sidebar.marked_as_resolved})},"resolved-comment"))}return t&&a.length>t&&a.splice(1,a.length-2,g.jsx(n.Comments.ExpandSectionsPrompt,{className:"bn-thread-expand-prompt",children:r.comments.sidebar.more_replies(e.comments.length-2)},"expand-prompt")),a},spe=({thread:e,selected:t,referenceText:n,maxCommentsBeforeCollapse:r,onFocus:i,onBlur:o,tabIndex:a})=>{const s=Ut(),l=gn(),c=Gt(),d=c.comments;if(!d)throw new Error("Comments plugin not found");const u=a7({trailingBlock:!1,dictionary:{...l,placeholders:{emptyDocument:l.placeholders.comment_reply}},schema:c.comments.commentEditorSchema||l7}),p=C.useCallback(async()=>{await d.threadStore.addComment({comment:{body:u.document},threadId:e.id}),u.removeBlocks(u.document)},[d,u,e.id]);return g.jsxs(s.Comments.Card,{className:"bn-thread",headerText:n,onFocus:i,onBlur:o,selected:t,tabIndex:a,children:[g.jsx(s.Comments.CardSection,{className:"bn-thread-comments",children:g.jsx(rJe,{thread:e,maxCommentsBeforeCollapse:t?void 0:r||5})}),t&&g.jsx(s.Comments.CardSection,{className:"bn-thread-composer",children:g.jsx(s7,{autoFocus:!1,editable:!0,editor:u,actions:({isEmpty:m})=>m?null:g.jsx(s.Generic.Toolbar.Root,{variant:"action-toolbar",className:vi("bn-action-toolbar","bn-comment-actions"),children:g.jsx(s.Generic.Toolbar.Button,{mainTooltip:l.comments.save_button_text,variant:"compact",isDisabled:m,onClick:p,children:l.comments.save_button_text})})})})]})};function iJe(e){const t=e.comments;if(!t)throw new Error("Comments plugin not found");const n=t.threadStore,r=C.useRef(void 0);r.current||(r.current=n.getThreads());const i=C.useCallback(o=>n.subscribe(a=>{r.current=a,o()}),[n]);return C.useSyncExternalStore(i,()=>r.current)}const oJe=e=>{const t=Gt();if(!t.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=dh(t.comments.onUpdate.bind(t.comments)),{isMounted:r,ref:i,style:o,getFloatingProps:a,setReference:s}=ym(!!(n!=null&&n.selectedThreadId),null,5e3,{placement:"bottom",middleware:[sh(10),MT(),dm()],onOpenChange:u=>{var p;u||((p=t.comments)==null||p.selectThread(void 0),t.focus())},whileElementsMounted:aae,...e.floatingOptions}),l=C.useCallback(()=>{var u;if(!(n!=null&&n.selectedThreadId))return;const p=(u=t.domElement)==null?void 0:u.querySelector(`[data-bn-thread-id="${n?.selectedThreadId}"]`);p&&s(p)},[s,t,n?.selectedThreadId]);C.useEffect(()=>{if(n!=null&&n.selectedThreadId)return t.onChange(()=>{l()})},[t,l,n?.selectedThreadId]),C.useLayoutEffect(l,[l]);const c=iJe(t);if(!r||!n||!n.selectedThreadId)return null;const d=e.floatingThread||spe;return g.jsx("div",{ref:i,style:o,...a(),children:g.jsx(d,{thread:c.get(n.selectedThreadId),selected:!0})})},aJe=e=>{const t=Ut(),n=gn(),{block:r}=e,i=Gt(),[o,a]=C.useState(""),s=C.useCallback(d=>{a(d.currentTarget.value)},[]),l=C.useCallback(d=>{d.key==="Enter"&&(d.preventDefault(),i.updateBlock(r,{props:{name:bW(o),url:o}}))},[i,r,o]),c=C.useCallback(()=>{i.updateBlock(r,{props:{name:bW(o),url:o}})},[i,r,o]);return g.jsxs(t.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(t.FilePanel.TextInput,{className:"bn-text-input",placeholder:n.file_panel.embed.url_placeholder,value:o,onChange:s,onKeyDown:l,"data-test":"embed-input"}),g.jsx(t.FilePanel.Button,{className:"bn-button",onClick:c,"data-test":"embed-input-button",children:n.file_panel.embed.embed_button[r.type]||n.file_panel.embed.embed_button.file})]})},sJe=e=>{var t,n;const r=Ut(),i=gn(),{block:o,setLoading:a}=e,s=Gt(),[l,c]=C.useState(!1);C.useEffect(()=>{l&&setTimeout(()=>{c(!1)},3e3)},[l]);const d=C.useCallback(m=>{if(m===null)return;async function v(x){if(a(!0),s.uploadFile!==void 0)try{let w=await s.uploadFile(x,o.id);typeof w=="string"&&(w={props:{name:x.name,url:w}}),s.updateBlock(o,w)}catch{c(!0)}finally{a(!1)}}v(m)},[o,s,a]),u=s.schema.blockSpecs[o.type],p=(n=(t=u.implementation.meta)==null?void 0:t.fileBlockAccept)!=null&&n.length?u.implementation.meta.fileBlockAccept.join(","):"*/*";return g.jsxs(r.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(r.FilePanel.FileInput,{className:"bn-file-input","data-test":"upload-input",accept:p,placeholder:i.file_panel.upload.file_placeholder[o.type]||i.file_panel.upload.file_placeholder.file,value:null,onChange:d}),l&&g.jsx("div",{className:"bn-error-text",children:i.file_panel.upload.upload_error})]})},lpe=e=>{const t=Ut(),n=gn(),r=Gt(),[i,o]=C.useState(!1),a=e.tabs??[...r.uploadFile!==void 0?[{name:n.file_panel.upload.title,tabPanel:g.jsx(sJe,{block:e.block,setLoading:o})}]:[],{name:n.file_panel.embed.title,tabPanel:g.jsx(aJe,{block:e.block})}],[s,l]=C.useState(e.defaultOpenTab||a[0].name);return g.jsx(t.FilePanel.Root,{className:"bn-panel",defaultOpenTab:s,openTab:s,setOpenTab:l,tabs:a,loading:i})},lJe=e=>{const t=Gt();if(!t.filePanel)throw new Error("FileToolbarController can only be used when BlockNote editor schema contains file block");const n=dh(t.filePanel.onUpdate.bind(t.filePanel)),{isMounted:r,ref:i,style:o,getFloatingProps:a}=ym(n?.show||!1,n?.referencePos||null,5e3,{placement:"bottom",middleware:[sh(10),dm()],onOpenChange:u=>{u||(t.filePanel.closeMenu(),t.focus())},...e.floatingOptions});if(!r||!n)return null;const{show:s,referencePos:l,...c}=n,d=e.filePanel||lpe;return g.jsx("div",{ref:i,style:o,...a(),children:g.jsx(d,{...c})})};function cJe(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function uy(e,t){fR(e,t),o7(e,t)}function hR(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Ys(e){const t=Hd();if(e||(e=t?.editor),!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");const n=e,[r,i]=C.useState(()=>{var a;return((a=n.getSelection())==null?void 0:a.blocks)||[n.getTextCursorPosition().block]}),o=C.useCallback(()=>{var a;return i(((a=n.getSelection())==null?void 0:a.blocks)||[n.getTextCursorPosition().block])},[n]);return uy(o,n),r}const uJe={bold:_Qe,italic:MQe,underline:jQe,strike:PQe,code:wQe};function dJe(e,t){return e in t.schema.styleSchema&&t.schema.styleSchema[e].type===e&&t.schema.styleSchema[e].propSchema==="boolean"}const CA=e=>{const t=gn(),n=Ut(),r=Gt(),i=dJe(e.basicTextStyle,r),o=Ys(r),[a,s]=C.useState(e.basicTextStyle in r.getActiveStyles());uy(()=>{i&&s(e.basicTextStyle in r.getActiveStyles())},r);const l=d=>{if(r.focus(),!!i){if(r.schema.styleSchema[d].propSchema!=="boolean")throw new Error("can only toggle boolean styles");r.toggleStyles({[d]:!0})}};if(!C.useMemo(()=>i?!!o.find(d=>d.content!==void 0):!1,[i,o])||!r.isEditable)return null;const c=uJe[e.basicTextStyle];return g.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":e.basicTextStyle,onClick:()=>l(e.basicTextStyle),isSelected:a,label:t.formatting_toolbar[e.basicTextStyle].tooltip,mainTooltip:t.formatting_toolbar[e.basicTextStyle].tooltip,secondaryTooltip:bl(t.formatting_toolbar[e.basicTextStyle].secondary_tooltip,t.generic.ctrl_shortcut),icon:g.jsx(c,{})})},_8=e=>{const t=e.textColor||"default",n=e.backgroundColor||"default",r=e.size||16,i=C.useMemo(()=>({pointerEvents:"none",fontSize:(r*.75).toString()+"px",height:r.toString()+"px",lineHeight:r.toString()+"px",textAlign:"center",width:r.toString()+"px"}),[r]);return g.jsx("div",{className:"bn-color-icon","data-background-color":n,"data-text-color":t,style:i,children:"A"})},vK=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],pR=e=>{const t=Ut(),n=gn();return g.jsxs(g.Fragment,{children:[g.jsx(()=>e.text?g.jsxs(g.Fragment,{children:[g.jsx(t.Generic.Menu.Label,{children:n.color_picker.text_title}),vK.map(r=>g.jsx(t.Generic.Menu.Item,{onClick:()=>{e.onClick&&e.onClick(),e.text.setColor(r)},"data-test":"text-color-"+r,icon:g.jsx(_8,{textColor:r,size:e.iconSize}),checked:e.text.color===r,children:n.color_picker.colors[r]},"text-color-"+r))]}):null,{}),g.jsx(()=>e.background?g.jsxs(g.Fragment,{children:[g.jsx(t.Generic.Menu.Label,{children:n.color_picker.background_title}),vK.map(r=>g.jsx(t.Generic.Menu.Item,{onClick:()=>{e.onClick&&e.onClick(),e.background.setColor(r)},"data-test":"background-color-"+r,icon:g.jsx(_8,{backgroundColor:r,size:e.iconSize}),checked:e.background.color===r,children:n.color_picker.colors[r]},"background-color-"+r))]}):null,{})]})};function xK(e,t){return`${e}Color`in t.schema.styleSchema&&t.schema.styleSchema[`${e}Color`].type===`${e}Color`&&t.schema.styleSchema[`${e}Color`].propSchema==="string"}const fJe=()=>{const e=Ut(),t=gn(),n=Gt(),r=xK("text",n),i=xK("background",n),o=Ys(n),[a,s]=C.useState(r&&n.getActiveStyles().textColor||"default"),[l,c]=C.useState(i&&n.getActiveStyles().backgroundColor||"default");uy(()=>{r&&s(n.getActiveStyles().textColor||"default"),i&&c(n.getActiveStyles().backgroundColor||"default")},n);const d=C.useCallback(p=>{if(!r)throw Error("Tried to set text color, but style does not exist in editor schema.");p==="default"?n.removeStyles({textColor:p}):n.addStyles({textColor:p}),setTimeout(()=>{n.focus()})},[n,r]),u=C.useCallback(p=>{if(!i)throw Error("Tried to set background color, but style does not exist in editor schema.");p==="default"?n.removeStyles({backgroundColor:p}):n.addStyles({backgroundColor:p}),setTimeout(()=>{n.focus()})},[i,n]);return!C.useMemo(()=>{if(!r&&!i)return!1;for(const p of o)if(p.content!==void 0)return!0;return!1},[i,o,r])||!n.isEditable?null:g.jsxs(e.Generic.Menu.Root,{children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"colors",label:t.formatting_toolbar.colors.tooltip,mainTooltip:t.formatting_toolbar.colors.tooltip,icon:g.jsx(_8,{textColor:a,backgroundColor:l,size:20})})}),g.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(pR,{text:r?{color:a,setColor:d}:void 0,background:i?{color:l,setColor:u}:void 0})})]})},wK=e=>{for(const t of yhe)if(e.startsWith(t))return e;return`${bhe}://${e}`},cpe=e=>{const t=Ut(),n=gn(),{url:r,text:i,editLink:o,showTextField:a}=e,[s,l]=C.useState(r),[c,d]=C.useState(i);C.useEffect(()=>{l(r),d(i)},[i,r]);const u=C.useCallback(x=>{x.key==="Enter"&&(x.preventDefault(),o(wK(s),c))},[o,s,c]),p=C.useCallback(x=>l(x.currentTarget.value),[]),m=C.useCallback(x=>d(x.currentTarget.value),[]),v=C.useCallback(()=>o(wK(s),c),[o,s,c]);return g.jsxs(t.Generic.Form.Root,{children:[g.jsx(t.Generic.Form.TextInput,{className:"bn-text-input",name:"url",icon:g.jsx(tpe,{}),autoFocus:!0,placeholder:n.link_toolbar.form.url_placeholder,value:s,onKeyDown:u,onChange:p,onSubmit:v}),a!==!1&&g.jsx(t.Generic.Form.TextInput,{className:"bn-text-input",name:"title",icon:g.jsx(c7,{}),placeholder:n.link_toolbar.form.title_placeholder,value:c,onKeyDown:u,onChange:m,onSubmit:v})]})};function hJe(e){return"link"in e.schema.inlineContentSchema&&e.schema.inlineContentSchema.link==="link"}const pJe=()=>{const e=Gt(),t=Ut(),n=gn(),r=hJe(e),i=Ys(e),[o,a]=C.useState(!1),[s,l]=C.useState(e.getSelectedLinkUrl()||""),[c,d]=C.useState(e.getSelectedText());uy(()=>{d(e.getSelectedText()||""),l(e.getSelectedLinkUrl()||"")},e),C.useEffect(()=>{const m=v=>{(v.ctrlKey||v.metaKey)&&v.key==="k"&&(a(!0),v.preventDefault())};if(!e.headless)return e.prosemirrorView.dom.addEventListener("keydown",m),()=>{e.prosemirrorView.dom.removeEventListener("keydown",m)}},[e.prosemirrorView,e.headless]);const u=C.useCallback(m=>{e.createLink(m),a(!1),e.focus()},[e]),p=e.transact(m=>NB(m.selection));return!C.useMemo(()=>{if(!r)return!1;for(const m of i)if(m.content===void 0)return!1;return!p},[r,i,p])||!("link"in e.schema.inlineContentSchema)||!e.isEditable?null:g.jsxs(t.Generic.Popover.Root,{opened:o,children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"createLink",label:n.formatting_toolbar.link.tooltip,mainTooltip:n.formatting_toolbar.link.tooltip,secondaryTooltip:bl(n.formatting_toolbar.link.secondary_tooltip,n.generic.ctrl_shortcut),icon:g.jsx(tpe,{}),onClick:()=>a(!0)})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(cpe,{url:s,text:c,editLink:u,showTextField:!1})})]})},mJe=()=>{const e=gn(),t=Ut(),n=Gt(),[r,i]=C.useState(),o=Ys(n),a=C.useMemo(()=>{if(o.length!==1)return;const c=o[0];if(_l(c,n,c.type,{url:"string",caption:"string"}))return i(c.props.caption),c},[n,o]),s=C.useCallback(c=>{a&&Jr(n,a.type,{caption:"string"})&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(a,{props:{caption:r}}))},[r,n,a]),l=C.useCallback(c=>i(c.currentTarget.value),[]);return!a||a.props.url===""||!n.isEditable?null:g.jsxs(t.Generic.Popover.Root,{children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_caption.tooltip,mainTooltip:e.formatting_toolbar.file_caption.tooltip,icon:g.jsx(gK,{}),isSelected:a.props.caption!==""})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(t.Generic.Form.Root,{children:g.jsx(t.Generic.Form.TextInput,{name:"file-caption",icon:g.jsx(gK,{}),value:r||"",autoFocus:!0,placeholder:e.formatting_toolbar.file_caption.input_placeholder,onKeyDown:s,onChange:l})})})]})},gJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),i=C.useMemo(()=>{if(r.length!==1)return;const a=r[0];if(_l(a,n,a.type,{url:"string"}))return a},[n,r]),o=C.useCallback(()=>{n.focus(),n.removeBlocks([i])},[n,i]);return!i||i.props.url===""||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_delete.tooltip[i.type]||e.formatting_toolbar.file_delete.tooltip.file,mainTooltip:e.formatting_toolbar.file_delete.tooltip[i.type]||e.formatting_toolbar.file_delete.tooltip.file,icon:g.jsx(qQe,{}),onClick:o})},yJe=()=>{const e=gn(),t=Ut(),n=Gt(),[r,i]=C.useState(),o=Ys(n),a=C.useMemo(()=>{if(o.length!==1)return;const c=o[0];if(_l(c,n,c.type,{url:"string",name:"string"}))return i(c.props.name),c},[n,o]),s=C.useCallback(c=>{a&&Jr(n,a.type,{name:"string"})&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(a,{props:{name:r}}))},[r,n,a]),l=C.useCallback(c=>i(c.currentTarget.value),[]);return!a||a.props.name===""||!n.isEditable?null:g.jsxs(t.Generic.Popover.Root,{children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_rename.tooltip[a.type]||e.formatting_toolbar.file_rename.tooltip.file,mainTooltip:e.formatting_toolbar.file_rename.tooltip[a.type]||e.formatting_toolbar.file_rename.tooltip.file,icon:g.jsx(mK,{})})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(t.Generic.Form.Root,{children:g.jsx(t.Generic.Form.TextInput,{name:"file-name",icon:g.jsx(mK,{}),value:r||"",autoFocus:!0,placeholder:e.formatting_toolbar.file_rename.input_placeholder[a.type]||e.formatting_toolbar.file_rename.input_placeholder.file,onKeyDown:s,onChange:l})})})]})},bJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),[i,o]=C.useState(!1);C.useEffect(()=>{o(!1)},[r]);const a=r.length===1?r[0]:void 0;return a===void 0||!_l(a,n,a.type,{url:"string"})||!n.isEditable?null:g.jsxs(t.Generic.Popover.Root,{opened:i,position:"bottom",children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",onClick:()=>o(!i),isSelected:i,mainTooltip:e.formatting_toolbar.file_replace.tooltip[a.type]||e.formatting_toolbar.file_replace.tooltip.file,label:e.formatting_toolbar.file_replace.tooltip[a.type]||e.formatting_toolbar.file_replace.tooltip.file,icon:g.jsx(FQe,{})})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-panel-popover",variant:"panel-popover",children:g.jsx(lpe,{block:a})})]})},vJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),[i,o]=C.useState(()=>n.canNestBlock());uy(()=>{o(n.canNestBlock())},n);const a=C.useCallback(()=>{n.focus(),n.nestBlock()},[n]);return!C.useMemo(()=>!r.find(s=>n.schema.blockSchema[s.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"nestBlock",onClick:a,isDisabled:!i,label:e.formatting_toolbar.nest.tooltip,mainTooltip:e.formatting_toolbar.nest.tooltip,secondaryTooltip:bl(e.formatting_toolbar.nest.secondary_tooltip,e.generic.ctrl_shortcut),icon:g.jsx(OQe,{})})},xJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),[i,o]=C.useState(()=>n.canUnnestBlock());uy(()=>{o(n.canUnnestBlock())},n);const a=C.useCallback(()=>{n.focus(),n.unnestBlock()},[n]);return!C.useMemo(()=>!r.find(s=>n.schema.blockSchema[s.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"unnestBlock",onClick:a,isDisabled:!i,label:e.formatting_toolbar.unnest.tooltip,mainTooltip:e.formatting_toolbar.unnest.tooltip,secondaryTooltip:bl(e.formatting_toolbar.unnest.secondary_tooltip,e.generic.ctrl_shortcut),icon:g.jsx(NQe,{})})},wJe=e=>[{name:e.slash_menu.paragraph.title,type:"paragraph",icon:c7},{name:e.slash_menu.heading.title,type:"heading",props:{level:1,isToggleable:!1},icon:HO},{name:e.slash_menu.heading_2.title,type:"heading",props:{level:2,isToggleable:!1},icon:FO},{name:e.slash_menu.heading_3.title,type:"heading",props:{level:3,isToggleable:!1},icon:UO},{name:e.slash_menu.heading_4.title,type:"heading",props:{level:4,isToggleable:!1},icon:Qhe},{name:e.slash_menu.heading_5.title,type:"heading",props:{level:5,isToggleable:!1},icon:Jhe},{name:e.slash_menu.heading_6.title,type:"heading",props:{level:6,isToggleable:!1},icon:epe},{name:e.slash_menu.toggle_heading.title,type:"heading",props:{level:1,isToggleable:!0},icon:HO},{name:e.slash_menu.toggle_heading_2.title,type:"heading",props:{level:2,isToggleable:!0},icon:FO},{name:e.slash_menu.toggle_heading_3.title,type:"heading",props:{level:3,isToggleable:!0},icon:UO},{name:e.slash_menu.quote.title,type:"quote",icon:ope},{name:e.slash_menu.toggle_list.title,type:"toggleListItem",icon:ape},{name:e.slash_menu.bullet_list.title,type:"bulletListItem",icon:ipe},{name:e.slash_menu.numbered_list.title,type:"numberedListItem",icon:rpe},{name:e.slash_menu.check_list.title,type:"checkListItem",icon:npe}],EJe=e=>{const t=Ut(),n=Gt(),r=Ys(n),i=r[0],o=C.useMemo(()=>(e.items||wJe(n.dictionary)).filter(s=>Jr(n,s.type,Object.fromEntries(Object.entries(s.props||{}).map(([l,c])=>[l,typeof c])))),[n,e.items]),a=C.useMemo(()=>o.map(s=>{const l=s.icon,c=s.type===i.type,d=Object.entries(s.props||{}).filter(([u,p])=>p!==i.props[u]).length===0;return{text:s.name,icon:g.jsx(l,{size:16}),onClick:()=>{n.focus(),n.transact(()=>{for(const u of r)n.updateBlock(u,{type:s.type,props:s.props})})},isSelected:c&&d}}),[n,o,i.props,i.type,r]);return!C.useMemo(()=>a.find(s=>s.isSelected)!==void 0,[a])||!n.isEditable?null:g.jsx(t.FormattingToolbar.Select,{className:"bn-select",items:a})},SJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=C.useCallback(()=>{var i;(i=n.comments)==null||i.startPendingComment(),n.formattingToolbar.closeMenu()},[n]);return n.comments?g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.comment.tooltip,mainTooltip:e.formatting_toolbar.comment.tooltip,icon:g.jsx(Zhe,{}),onClick:r}):null},CJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=C.useCallback(()=>{n._tiptapEditor.chain().focus().addPendingComment().run()},[n]);return!n._tiptapEditor.commands.addPendingComment||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.comment.tooltip,mainTooltip:e.formatting_toolbar.comment.tooltip,icon:g.jsx(Zhe,{}),onClick:r})};function A8(e,t){try{const n=new URL(e,t);if(n.protocol!=="javascript:")return n.href}catch{}return"#"}const TJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),i=C.useMemo(()=>{if(r.length!==1)return;const a=r[0];if(_l(a,n,a.type,{url:"string"}))return a},[n,r]),o=C.useCallback(()=>{i&&i.props.url&&(n.focus(),n.resolveFileUrl?n.resolveFileUrl(i.props.url).then(a=>window.open(A8(a,window.location.href))):window.open(A8(i.props.url,window.location.href)))},[n,i]);return!i||i.props.url===""?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_download.tooltip[i.type]||e.formatting_toolbar.file_download.tooltip.file,mainTooltip:e.formatting_toolbar.file_download.tooltip[i.type]||e.formatting_toolbar.file_download.tooltip.file,icon:g.jsx(YQe,{}),onClick:o})},kJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),i=C.useMemo(()=>{if(r.length!==1)return;const a=r[0];if(_l(a,n,a.type,{url:"string",showPreview:"boolean"}))return a},[n,r]),o=C.useCallback(()=>{i&&Jr(n,i.type,{showPreview:"boolean"})&&n.updateBlock(i,{props:{showPreview:!i.props.showPreview}})},[n,i]);return!i||i.props.url===""||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:"Toggle preview",mainTooltip:e.formatting_toolbar.file_preview_toggle.tooltip,icon:g.jsx(HQe,{}),isSelected:i.props.showPreview,onClick:o})},_Je=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),i=C.useMemo(()=>{var a;if(r.length!==1)return;const s=r[0];if(s.type==="table")return(a=n.tableHandles)==null?void 0:a.getMergeDirection(s)},[n,r]),o=C.useCallback(()=>{var a;(a=n.tableHandles)==null||a.mergeCells()},[n]);return!n.isEditable||i===void 0||!n.settings.tables.splitCells?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.table_cell_merge.tooltip,mainTooltip:e.formatting_toolbar.table_cell_merge.tooltip,icon:i==="horizontal"?g.jsx(RQe,{}):g.jsx(IQe,{}),onClick:o})},AJe={left:TQe,center:SQe,right:kQe,justify:CQe},pL=e=>{const t=Ut(),n=gn(),r=Gt(),i=Ys(r),o=C.useMemo(()=>{var l;const c=i[0];if(_l(c,r,c.type,{textAlignment:cr.textAlignment}))return c.props.textAlignment;if(c.type==="table"){const d=(l=r.tableHandles)==null?void 0:l.getCellSelection();if(!d)return;const u=d.cells.map(({row:m,col:v})=>nm(c.content.rows[m].cells[v]).props.textAlignment),p=u[0];if(u.every(m=>m===p))return p}},[r,i]),a=C.useCallback(l=>{var c;r.focus();for(const d of i)if(_l(d,r,d.type,{textAlignment:cr.textAlignment})&&Jr(r,d.type,{textAlignment:cr.textAlignment}))r.updateBlock(d,{props:{textAlignment:l}});else if(d.type==="table"){const u=(c=r.tableHandles)==null?void 0:c.getCellSelection();if(!u)continue;const p=d.content.rows.map(m=>({...m,cells:m.cells.map(v=>nm(v))}));u.cells.forEach(({row:m,col:v})=>{p[m].cells[v].props.textAlignment=l}),r.updateBlock(d,{type:"table",content:{...d.content,type:"tableContent",rows:p}}),r.setTextCursorPosition(d)}},[r,i]);if(!C.useMemo(()=>!!i.find(l=>_l(l,r,l.type,{textAlignment:cr.textAlignment})||l.type==="table"&&l.children),[r,i])||!r.isEditable)return null;const s=AJe[e.textAlignment];return g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":`alignText${e.textAlignment.slice(0,1).toUpperCase()+e.textAlignment.slice(1)}`,onClick:()=>a(e.textAlignment),isSelected:o===e.textAlignment,label:n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,mainTooltip:n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,icon:g.jsx(s,{})})},upe=e=>[g.jsx(EJe,{items:e},"blockTypeSelect"),g.jsx(_Je,{},"tableCellMergeButton"),g.jsx(mJe,{},"fileCaptionButton"),g.jsx(bJe,{},"replaceFileButton"),g.jsx(yJe,{},"fileRenameButton"),g.jsx(gJe,{},"fileDeleteButton"),g.jsx(TJe,{},"fileDownloadButton"),g.jsx(kJe,{},"filePreviewButton"),g.jsx(CA,{basicTextStyle:"bold"},"boldStyleButton"),g.jsx(CA,{basicTextStyle:"italic"},"italicStyleButton"),g.jsx(CA,{basicTextStyle:"underline"},"underlineStyleButton"),g.jsx(CA,{basicTextStyle:"strike"},"strikeStyleButton"),g.jsx(pL,{textAlignment:"left"},"textAlignLeftButton"),g.jsx(pL,{textAlignment:"center"},"textAlignCenterButton"),g.jsx(pL,{textAlignment:"right"},"textAlignRightButton"),g.jsx(fJe,{},"colorStyleButton"),g.jsx(vJe,{},"nestBlockButton"),g.jsx(xJe,{},"unnestBlockButton"),g.jsx(pJe,{},"createLinkButton"),g.jsx(SJe,{},"addCommentButton"),g.jsx(CJe,{},"addTiptapCommentButton")],dpe=e=>{const t=Ut();return g.jsx(t.FormattingToolbar.Root,{className:"bn-toolbar bn-formatting-toolbar",children:e.children||upe(e.blockTypeSelectItems)})},EK=e=>{switch(e){case"left":return"top-start";case"center":return"top";case"right":return"top-end";default:return"top-start"}},fpe=e=>{const t=C.useRef(null),n=Gt(),[r,i]=C.useState(()=>{const p=n.getTextCursorPosition().block;return"textAlignment"in p.props?EK(p.props.textAlignment):"top-start"});uy(()=>{const p=n.getTextCursorPosition().block;"textAlignment"in p.props?i(EK(p.props.textAlignment)):i("top-start")},n);const o=dh(n.formattingToolbar.onUpdate.bind(n.formattingToolbar)),{isMounted:a,ref:s,style:l,getFloatingProps:c}=ym(o?.show||!1,o?.referencePos||null,3e3,{placement:r,middleware:[sh(10),MT(),dm()],onOpenChange:(p,m)=>{p||(n.formattingToolbar.closeMenu(),n.focus())},canDismiss:{enabled:!0,escapeKey:!0,outsidePress:p=>{var m;const v=(m=n._tiptapEditor)==null?void 0:m.view;return!v||!p.target?!1:!cJe(p,v.dom.parentElement)}},...e.floatingOptions}),d=C.useMemo(()=>hR([t,s]),[t,s]);if(!a||!o)return null;if(!o.show&&t.current)return g.jsx("div",{ref:d,style:l,dangerouslySetInnerHTML:{__html:t.current.innerHTML}});const u=e.formattingToolbar||dpe;return g.jsx("div",{ref:d,style:l,...c(),children:g.jsx(u,{})})},NJe=e=>{const t=Ut(),n=gn();return g.jsx(t.LinkToolbar.Button,{className:"bn-button",label:n.link_toolbar.delete.tooltip,mainTooltip:n.link_toolbar.delete.tooltip,isSelected:!1,onClick:e.deleteLink,icon:g.jsx(DQe,{})})},OJe=e=>{const t=Ut(),n=gn();return g.jsxs(t.Generic.Popover.Root,{children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.edit.tooltip,isSelected:!1,children:n.link_toolbar.edit.text})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(cpe,{...e})})]})},MJe=e=>{const t=Ut(),n=gn();return g.jsx(t.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.open.tooltip,label:n.link_toolbar.open.tooltip,isSelected:!1,onClick:()=>{window.open(A8(e.url,window.location.href),"_blank")},icon:g.jsx(GQe,{})})},DJe=e=>{const t=Ut();return g.jsx(t.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",onMouseEnter:e.stopHideTimer,onMouseLeave:e.startHideTimer,children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(OJe,{url:e.url,text:e.text,editLink:e.editLink}),g.jsx(MJe,{url:e.url}),g.jsx(NJe,{deleteLink:e.deleteLink})]})})},RJe=e=>{const t=Gt(),n={deleteLink:t.linkToolbar.deleteLink,editLink:t.linkToolbar.editLink,startHideTimer:t.linkToolbar.startHideTimer,stopHideTimer:t.linkToolbar.stopHideTimer},r=dh(t.linkToolbar.onUpdate.bind(t.linkToolbar)),{isMounted:i,ref:o,style:a,getFloatingProps:s}=ym(r?.show||!1,r?.referencePos||null,4e3,{placement:"top-start",middleware:[sh(10),dm()],onOpenChange:p=>{p||(t.linkToolbar.closeMenu(),t.focus())},...e.floatingOptions});if(!i||!r)return null;const{show:l,referencePos:c,...d}=r,u=e.linkToolbar||DJe;return g.jsx("div",{ref:o,style:a,...s(),children:g.jsx(u,{...d,...n})})};function IJe(e){return Kt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(e)}const PJe=e=>{const t=Ut(),n=gn(),r=Gt(),i=C.useCallback(()=>{const o=e.block.content;if(o!==void 0&&Array.isArray(o)&&o.length===0)r.setTextCursorPosition(e.block),r.openSuggestionMenu("/");else{const a=r.insertBlocks([{type:"paragraph"}],e.block,"after")[0];r.setTextCursorPosition(a),r.openSuggestionMenu("/")}},[r,e.block]);return g.jsx(t.SideMenu.Button,{className:"bn-button",label:n.side_menu.add_block_label,icon:g.jsx(IJe,{size:24,onClick:i,"data-test":"dragHandleAdd"})})};function hpe(e){return Kt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function LJe(e){return Kt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(e)}const ppe=e=>{const t=Ut(),n=Gt(),r=e.block;return!_l(r,n,r.type,{textColor:"string"})&&!_l(r,n,r.type,{backgroundColor:"string"})?null:g.jsxs(t.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(t.Generic.Menu.Trigger,{sub:!0,children:g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children})}),g.jsx(t.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(pR,{iconSize:18,text:_l(r,n,r.type,{textColor:"string"})&&Jr(n,r.type,{textColor:"string"})?{color:r.props.textColor,setColor:i=>n.updateBlock(r,{type:r.type,props:{textColor:i}})}:void 0,background:_l(r,n,r.type,{backgroundColor:"string"})&&Jr(n,r.type,{backgroundColor:"string"})?{color:r.props.backgroundColor,setColor:i=>n.updateBlock(r,{props:{backgroundColor:i}})}:void 0})})]})},jJe=e=>{const t=Ut(),n=Gt();return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",onClick:()=>n.removeBlocks([e.block]),children:e.children})},BJe=e=>{const t=Ut(),n=Gt();if(e.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!e.block.content.headerRows;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const i=n.getBlock(e.block.id);i&&n.updateBlock(i,{...i,content:{...i.content,headerRows:r?void 0:1}})},children:e.children})},$Je=e=>{const t=Ut(),n=Gt();if(e.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!e.block.content.headerCols;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{n.updateBlock(e.block,{type:"table",content:{...e.block.content,type:"tableContent",headerCols:r?void 0:1}})},children:e.children})},HJe=e=>{const t=Ut(),n=gn();return g.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(jJe,{...e,children:n.drag_handle.delete_menuitem}),g.jsx(ppe,{...e,children:n.drag_handle.colors_menuitem}),g.jsx(BJe,{...e,children:n.drag_handle.header_row_menuitem}),g.jsx($Je,{...e,children:n.drag_handle.header_column_menuitem})]})})},FJe=e=>{const t=Ut(),n=gn(),r=e.dragHandleMenu||HJe;return g.jsxs(t.Generic.Menu.Root,{onOpenChange:i=>{i?e.freezeMenu():e.unfreezeMenu()},position:"left",children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.SideMenu.Button,{label:n.side_menu.drag_handle_label,draggable:!0,onDragStart:i=>e.blockDragStart(i,e.block),onDragEnd:e.blockDragEnd,className:"bn-button",icon:g.jsx(hpe,{size:24,"data-test":"dragHandle"})})}),g.jsx(r,{block:e.block,children:e.children})]})},mpe=e=>{const t=Ut(),n=C.useMemo(()=>{var r;const i={"data-block-type":e.block.type};return e.block.type==="heading"&&(i["data-level"]=e.block.props.level.toString()),(r=e.editor.schema.blockSpecs[e.block.type].implementation.meta)!=null&&r.fileBlockAccept&&(e.block.props.url?i["data-url"]="true":i["data-url"]="false"),i},[e.block.props,e.block.type,e.editor.schema.blockSpecs]);return g.jsx(t.SideMenu.Root,{className:"bn-side-menu",...n,children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(PJe,{...e}),g.jsx(FJe,{...e})]})})},gpe=e=>{const t=Gt(),n={blockDragStart:t.sideMenu.blockDragStart,blockDragEnd:t.sideMenu.blockDragEnd,freezeMenu:t.sideMenu.freezeMenu,unfreezeMenu:t.sideMenu.unfreezeMenu},r=dh(t.sideMenu.onUpdate.bind(t.sideMenu)),{isMounted:i,ref:o,style:a,getFloatingProps:s}=ym(r?.show||!1,r?.referencePos||null,1e3,{placement:"left-start",...e.floatingOptions});if(!i||!r)return null;const{show:l,referencePos:c,...d}=r,u=e.sideMenu||mpe;return g.jsx("div",{ref:o,style:a,...s(),children:g.jsx(u,{...d,...n,editor:t})})};async function UJe(e,t){return(await GXe(e,t)).map(({id:n,onItemClick:r})=>({id:n,onItemClick:r,icon:n}))}function zJe(e){const t=Ut(),n=gn(),{items:r,loadingState:i,selectedIndex:o,onItemClick:a,columns:s}=e,l=i==="loading-initial"||i==="loading"?g.jsx(t.GridSuggestionMenu.Loader,{className:"bn-grid-suggestion-menu-loader",columns:s}):null,c=C.useMemo(()=>{const d=[];for(let u=0;u<r.length;u++){const p=r[u];d.push(g.jsx(t.GridSuggestionMenu.Item,{className:"bn-grid-suggestion-menu-item",item:p,id:`bn-grid-suggestion-menu-item-${u}`,isSelected:u===o,onClick:()=>a?.(p)},p.id))}return d},[t,r,a,o]);return g.jsxs(t.GridSuggestionMenu.Root,{id:"bn-grid-suggestion-menu",columns:s,className:"bn-grid-suggestion-menu",children:[l,c,c.length===0&&e.loadingState==="loaded"&&g.jsx(t.GridSuggestionMenu.EmptyItem,{className:"bn-grid-suggestion-menu-empty-item",columns:s,children:n.suggestion_menu.no_items_title})]})}function ype(e,t,n,r=3){const i=C.useRef(0);C.useEffect(()=>{t!==void 0&&(e.length>0?i.current=t.length:t.length-i.current>r&&n())},[n,r,e.length,t])}function bpe(e,t){const[n,r]=C.useState([]),[i,o]=C.useState(!1),a=C.useRef(void 0),s=C.useRef(void 0);return C.useEffect(()=>{const l=e;a.current=e,o(!0),t(e).then(c=>{a.current===l&&(r(c),o(!1),s.current=l)})},[e,t]),{items:n||[],usedQuery:s.current,loadingState:s.current===void 0?"loading-initial":i?"loading":"loaded"}}function VJe(e,t,n,r,i){const[o,a]=C.useState(0),s=r!==void 0&&r>1;return C.useEffect(()=>{var l;const c=d=>(d.key==="ArrowLeft"&&(d.preventDefault(),n.length&&a((o-1+n.length)%n.length)),d.key==="ArrowRight"&&(d.preventDefault(),n.length&&a((o+1+n.length)%n.length)),d.key==="ArrowUp"?(d.preventDefault(),n.length&&a((o-r+n.length)%n.length),!0):d.key==="ArrowDown"?(d.preventDefault(),n.length&&a((o+r)%n.length),!0):d.key==="Enter"&&!d.isComposing?(d.stopPropagation(),d.preventDefault(),n.length&&i?.(n[o]),!0):!1);return(l=e.domElement)==null||l.addEventListener("keydown",c,!0),()=>{var d;(d=e.domElement)==null||d.removeEventListener("keydown",c,!0)}},[e.domElement,n,o,i,r,s]),C.useEffect(()=>{a(0)},[t]),{selectedIndex:n.length===0?void 0:o}}function qJe(e){const t=Hd().setContentEditableProps,n=Gt(),{getItems:r,gridSuggestionMenuComponent:i,query:o,clearQuery:a,closeMenu:s,onItemClick:l,columns:c}=e,d=C.useCallback(x=>{s(),a(),l?.(x)},[l,s,a]),{items:u,usedQuery:p,loadingState:m}=bpe(o,r);ype(u,p,s);const{selectedIndex:v}=VJe(n,o,u,c,d);return C.useEffect(()=>(t(x=>({...x,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{t(x=>({...x,"aria-expanded":!1,"aria-controls":void 0}))}),[t]),C.useEffect(()=>(t(x=>({...x,"aria-activedescendant":v?"bn-suggestion-menu-item-"+v:void 0})),()=>{t(x=>({...x,"aria-activedescendant":void 0}))}),[t,v]),g.jsx(i,{items:u,onItemClick:d,loadingState:m,selectedIndex:v,columns:c})}function WJe(e){const t=Gt(),{triggerCharacter:n,gridSuggestionMenuComponent:r,columns:i,minQueryLength:o,onItemClick:a,getItems:s,floatingOptions:l}=e,c=C.useMemo(()=>a||(k=>{k.onItemClick(t)}),[t,a]),d=C.useMemo(()=>s||(async k=>await UJe(t,k)),[t,s]),u={closeMenu:t.suggestionMenus.closeMenu,clearQuery:t.suggestionMenus.clearQuery},p=C.useCallback(k=>t.suggestionMenus.onUpdate(n,k),[t.suggestionMenus,n]),m=dh(p),{isMounted:v,ref:x,style:w,getFloatingProps:T}=ym(m?.show||!1,m?.referencePos||null,2e3,{placement:"bottom-start",middleware:[sh(10),dm(),gD({apply({availableHeight:k,elements:N}){Object.assign(N.floating.style,{maxHeight:`${k-10}px`})}})],onOpenChange(k){k||t.suggestionMenus.closeMenu()},...l});return!v||!m||!(m!=null&&m.ignoreQueryLength)&&o&&(m.query.startsWith(" ")||m.query.length<o)?null:g.jsx("div",{ref:x,style:w,...T(),children:g.jsx(qJe,{query:m.query,closeMenu:u.closeMenu,clearQuery:u.clearQuery,getItems:d,columns:i,gridSuggestionMenuComponent:r||zJe,onItemClick:c})})}function YJe(e){const t=Ut(),n=gn(),{items:r,loadingState:i,selectedIndex:o,onItemClick:a}=e,s=i==="loading-initial"||i==="loading"?g.jsx(t.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader"}):null,l=C.useMemo(()=>{let c;const d=[];for(let u=0;u<r.length;u++){const p=r[u];p.group!==c&&(c=p.group,d.push(g.jsx(t.SuggestionMenu.Label,{className:"bn-suggestion-menu-label",children:c},c))),d.push(g.jsx(t.SuggestionMenu.Item,{className:vi("bn-suggestion-menu-item",p.size==="small"?"bn-suggestion-menu-item-small":""),item:p,id:`bn-suggestion-menu-item-${u}`,isSelected:u===o,onClick:()=>a?.(p)},p.title))}return d},[t,r,a,o]);return g.jsxs(t.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu",children:[l,l.length===0&&(e.loadingState==="loading"||e.loadingState==="loaded")&&g.jsx(t.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),s]})}function GJe(e,t){const[n,r]=C.useState(0);return{selectedIndex:n,setSelectedIndex:r,handler:i=>{if(i.key==="ArrowUp")return i.preventDefault(),e.length&&r((n-1+e.length)%e.length),!0;if(i.key==="ArrowDown")return i.preventDefault(),e.length&&r((n+1)%e.length),!0;const o=KJe(i)?i.nativeEvent.isComposing:i.isComposing;return i.key==="Enter"&&!o?(i.preventDefault(),i.stopPropagation(),e.length&&t?.(e[n]),!0):!1}}}function KJe(e){return e.nativeEvent!==void 0}function XJe(e,t,n,r,i){const{selectedIndex:o,setSelectedIndex:a,handler:s}=GJe(n,r);return C.useEffect(()=>{var l;return(l=e.domElement)==null||l.addEventListener("keydown",s,!0),()=>{var c;(c=e.domElement)==null||c.removeEventListener("keydown",s,!0)}},[e.domElement,n,o,r,i,s]),C.useEffect(()=>{a(0)},[t,a]),{selectedIndex:n.length===0?void 0:o}}function ZJe(e){const t=Hd().setContentEditableProps,n=Gt(),{getItems:r,suggestionMenuComponent:i,query:o,clearQuery:a,closeMenu:s,onItemClick:l}=e,c=C.useCallback(v=>{s(),a(),l?.(v)},[l,s,a]),{items:d,usedQuery:u,loadingState:p}=bpe(o,r);ype(d,u,s);const{selectedIndex:m}=XJe(n,o,d,c);return C.useEffect(()=>(t(v=>({...v,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{t(v=>({...v,"aria-expanded":!1,"aria-controls":void 0}))}),[t]),C.useEffect(()=>(t(v=>({...v,"aria-activedescendant":m?"bn-suggestion-menu-item-"+m:void 0})),()=>{t(v=>({...v,"aria-activedescendant":void 0}))}),[t,m]),g.jsx(i,{items:d,onItemClick:c,loadingState:p,selectedIndex:m})}const QJe={heading:HO,heading_2:FO,heading_3:UO,heading_4:Qhe,heading_5:Jhe,heading_6:epe,toggle_heading:HO,toggle_heading_2:FO,toggle_heading_3:UO,quote:ope,toggle_list:ape,numbered_list:rpe,bullet_list:ipe,check_list:npe,paragraph:c7,table:LQe,image:$Qe,video:BQe,audio:UQe,file:EQe,emoji:ZQe,code_block:AQe,divider:XQe};function JJe(e){return mce(e).map(t=>{const n=QJe[t.key];return{...t,icon:g.jsx(n,{size:18})}})}function vpe(e){const t=Gt(),{triggerCharacter:n,suggestionMenuComponent:r,minQueryLength:i,onItemClick:o,getItems:a,floatingOptions:s}=e,l=C.useMemo(()=>o||(T=>{T.onItemClick(t)}),[t,o]),c=C.useMemo(()=>a||(async T=>Dje(JJe(t),T)),[t,a]),d={closeMenu:t.suggestionMenus.closeMenu,clearQuery:t.suggestionMenus.clearQuery},u=C.useCallback(T=>t.suggestionMenus.onUpdate(n,T),[t.suggestionMenus,n]),p=dh(u),{isMounted:m,ref:v,style:x,getFloatingProps:w}=ym(p?.show||!1,p?.referencePos||null,2e3,{placement:"bottom-start",middleware:[sh(10),dm({mainAxis:!0,crossAxis:!1}),MT(),gD({apply({availableHeight:T,elements:k}){Object.assign(k.floating.style,{maxHeight:`${T-10}px`,minHeight:"300px"})}})],onOpenChange(T){T||t.suggestionMenus.closeMenu()},...s});return!m||!p||!(p!=null&&p.ignoreQueryLength)&&i&&(p.query.startsWith(" ")||p.query.length<i)?null:g.jsx("div",{ref:v,style:x,...w(),onMouseDown:T=>T.preventDefault(),children:g.jsx(ZJe,{query:p.query,closeMenu:d.closeMenu,clearQuery:d.clearQuery,getItems:c,suggestionMenuComponent:r||YJe,onItemClick:l})})}const eet=(e,t=.3)=>{const n=Math.floor(e)+t,r=Math.ceil(e)-t;return e>=n&&e<=r?Math.round(e):e<n?Math.floor(e):Math.ceil(e)},tet=e=>{const t=Ut(),n=C.useRef(!1),[r,i]=C.useState(),o=C.useCallback(s=>{e.onMouseDown(),i({originalContent:e.block.content,originalCroppedContent:{rows:e.editor.tableHandles.cropEmptyRowsOrColumns(e.block,e.orientation==="addOrRemoveColumns"?"columns":"rows")},startPos:e.orientation==="addOrRemoveColumns"?s.clientX:s.clientY}),n.current=!1,s.preventDefault()},[e]),a=C.useCallback(()=>{n.current||e.editor.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:e.orientation==="addOrRemoveColumns"?e.editor.tableHandles.addRowsOrColumns(e.block,"columns",1):e.editor.tableHandles.addRowsOrColumns(e.block,"rows",1)}})},[e.block,e.orientation,e.editor]);return C.useEffect(()=>{const s=l=>{var c,d;if(!r)throw new Error("editingState is undefined");n.current=!0;const u=(e.orientation==="addOrRemoveColumns"?l.clientX:l.clientY)-r.startPos,p=e.orientation==="addOrRemoveColumns"?((c=r.originalCroppedContent.rows[0])==null?void 0:c.cells.length)??0:r.originalCroppedContent.rows.length,m=e.orientation==="addOrRemoveColumns"?((d=r.originalContent.rows[0])==null?void 0:d.cells.length)??0:r.originalContent.rows.length,v=e.orientation==="addOrRemoveColumns"?e.block.content.rows[0].cells.length:e.block.content.rows.length,x=m+eet(u/(e.orientation==="addOrRemoveColumns"?G9:bje),.3);x>=p&&x>0&&x!==v&&(e.editor.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:e.orientation==="addOrRemoveColumns"?e.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"columns",x-p):e.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"rows",x-p)}}),e.block.content&&e.editor.setTextCursorPosition(e.block))};return r&&window.addEventListener("mousemove",s),()=>{window.removeEventListener("mousemove",s)}},[r,e.block,e.editor,e.orientation]),C.useEffect(()=>{const s=e.onMouseUp,l=()=>{i(void 0),s()};return r&&window.addEventListener("mouseup",l),()=>{window.removeEventListener("mouseup",l)}},[r,e.onMouseUp]),e.editor.isEditable?g.jsx(t.TableHandle.ExtendButton,{className:vi("bn-extend-button",e.orientation==="addOrRemoveColumns"?"bn-extend-button-add-remove-columns":"bn-extend-button-add-remove-rows",r!==null?"bn-extend-button-editing":""),onClick:a,onMouseDown:o,children:e.children||g.jsx(zQe,{size:18,"data-test":"extendButton"})}):null},SK=e=>{const t=Ut(),n=gn(),r=Gt().tableHandles;return r?g.jsx(t.Generic.Menu.Item,{onClick:()=>{r.addRowOrColumn(e.index,e.orientation==="row"?{orientation:"row",side:e.side}:{orientation:"column",side:e.side})},children:n.table_handle[`add_${e.side}_menuitem`]}):null},net=e=>{const t=Ut(),n=gn(),r=Gt().tableHandles;return r?g.jsx(t.Generic.Menu.Item,{onClick:()=>{r.removeRowOrColumn(e.index,e.orientation)},children:e.orientation==="row"?n.table_handle.delete_row_menuitem:n.table_handle.delete_column_menuitem}):null},ret=e=>{const t=Ut(),n=gn(),r=Gt(),i=r.tableHandles,o=C.useMemo(()=>!i||!e.block?[]:e.orientation==="row"?i.getCellsAtRowHandle(e.block,e.index):i.getCellsAtColumnHandle(e.block,e.index),[e.block,e.index,e.orientation,i]),a=(l,c)=>{const d=e.block.content.rows.map(u=>({...u,cells:u.cells.map(p=>nm(p))}));o.forEach(({row:u,col:p})=>{c==="text"?d[u].cells[p].props.textColor=l:d[u].cells[p].props.backgroundColor=l}),r.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:d}}),r.setTextCursorPosition(e.block)};if(!o||!o[0]||!i||r.settings.tables.cellTextColor===!1&&r.settings.tables.cellBackgroundColor===!1)return null;const s=nm(o[0].cell);return g.jsxs(t.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(t.Generic.Menu.Trigger,{sub:!0,children:g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children||n.drag_handle.colors_menuitem})}),g.jsx(t.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(pR,{iconSize:18,text:r.settings.tables.cellTextColor?{color:o.every(({cell:l})=>rm(l)&&l.props.textColor===s.props.textColor)?s.props.textColor:"default",setColor:l=>{a(l,"text")}}:void 0,background:r.settings.tables.cellBackgroundColor?{color:o.every(({cell:l})=>rm(l)&&l.props.backgroundColor===s.props.backgroundColor)?s.props.backgroundColor:"default",setColor:l=>a(l,"background")}:void 0})})]})},iet=e=>{const t=Ut(),n=gn(),r=Gt();if(!r.tableHandles||e.index!==0||e.orientation!=="row"||!r.settings.tables.headers)return null;const i=!!e.block.content.headerRows;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:i,onClick:()=>{const o=r.getBlock(e.block.id);o&&r.updateBlock(o,{...o,content:{...o.content,headerRows:i?void 0:1}})},children:n.drag_handle.header_row_menuitem})},oet=e=>{const t=Ut(),n=gn(),r=Gt();if(!r.tableHandles||e.index!==0||e.orientation!=="column"||!r.settings.tables.headers)return null;const i=!!e.block.content.headerCols;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:i,onClick:()=>{const o=r.getBlock(e.block.id);o&&r.updateBlock(o,{...o,content:{...o.content,headerCols:i?void 0:1}})},children:n.drag_handle.header_column_menuitem})},aet=e=>{const t=Ut();return g.jsx(t.Generic.Menu.Dropdown,{className:"bn-table-handle-menu",children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(net,{orientation:e.orientation,block:e.block,index:e.index}),g.jsx(SK,{orientation:e.orientation,block:e.block,index:e.index,side:e.orientation==="row"?"above":"left"}),g.jsx(SK,{orientation:e.orientation,block:e.block,index:e.index,side:e.orientation==="row"?"below":"right"}),g.jsx(iet,{orientation:e.orientation,block:e.block,index:e.index}),g.jsx(oet,{orientation:e.orientation,block:e.block,index:e.index}),g.jsx(ret,{orientation:e.orientation,block:e.block,index:e.index})]})})},set=e=>{const t=Ut(),[n,r]=C.useState(!1),i=e.tableHandleMenu||aet,o=C.useMemo(()=>{const a=e.editor.tableHandles;return!a||!e.block||e.block.type!=="table"?!1:e.orientation==="column"?a.getCellsAtColumnHandle(e.block,e.index).every(({cell:s})=>P0(s)===1):a.getCellsAtRowHandle(e.block,e.index).every(({cell:s})=>cC(s)===1)},[e.block,e.editor.tableHandles,e.index,e.orientation]);return g.jsxs(t.Generic.Menu.Root,{onOpenChange:a=>{a?(e.freezeHandles(),e.hideOtherSide()):(e.unfreezeHandles(),e.showOtherSide(),e.editor.focus())},position:"right",children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.TableHandle.Root,{className:vi("bn-table-handle",n?"bn-table-handle-dragging":"",o?"":"bn-table-handle-not-draggable"),draggable:o,onDragStart:a=>{r(!0),e.dragStart(a)},onDragEnd:()=>{e.dragEnd(),r(!1)},style:e.orientation==="column"?{transform:"rotate(0.25turn)"}:void 0,children:e.children||g.jsx(hpe,{size:24,"data-test":"tableHandle"})})}),ka.createPortal(g.jsx(i,{orientation:e.orientation,block:e.block,index:e.index}),e.menuContainer)]})};function CK(e,t,n){const{refs:r,update:i,context:o,floatingStyles:a}=r7({open:t,placement:e==="addOrRemoveColumns"?"right":"bottom",middleware:[gD({apply({rects:c,elements:d}){Object.assign(d.floating.style,e==="addOrRemoveColumns"?{height:`${c.reference.height}px`}:{width:`${c.reference.width}px`})}})]}),{isMounted:s,styles:l}=i7(o);return C.useEffect(()=>{i()},[n,i]),C.useEffect(()=>{n!==null&&r.setReference({getBoundingClientRect:()=>n})},[e,n,r]),C.useMemo(()=>({isMounted:s,ref:r.setFloating,style:{display:"flex",...l,...a}}),[a,s,r.setFloating,l])}function cet(e,t,n){const r=CK("addOrRemoveRows",t,n),i=CK("addOrRemoveColumns",e,n);return C.useMemo(()=>({addOrRemoveRowsButton:r,addOrRemoveColumnsButton:i}),[i,r])}function uet(e,t,n){return n&&n.draggedCellOrientation==="row"?new DOMRect(t.x,n.mousePos,t.width,0):new DOMRect(t.x,e.y,t.width,e.height)}function det(e,t,n){return n&&n.draggedCellOrientation==="col"?new DOMRect(n.mousePos,t.y,0,t.height):new DOMRect(e.x,t.y,e.width,t.height)}function fet(e){return new DOMRect(e.x,e.y,e.width,0)}function mL(e,t,n,r,i){const{refs:o,update:a,context:s,floatingStyles:l}=r7({open:t,placement:e==="row"?"left":e==="col"?"top":"bottom-end",middleware:[sh(e==="row"?-10:e==="col"?-12:{mainAxis:1,crossAxis:-1})]}),{isMounted:c,styles:d}=i7(s);return C.useEffect(()=>{a()},[n,r,a]),C.useEffect(()=>{n===null||r===null||i&&e==="cell"||o.setReference({getBoundingClientRect:()=>(e==="row"?uet:e==="col"?det:fet)(n,r,i)})},[i,e,n,r,o]),C.useMemo(()=>({isMounted:c,ref:o.setFloating,style:{display:"flex",...d,...l}}),[l,c,o.setFloating,d])}function het(e,t,n,r){const i=mL("row",e,t,n,r),o=mL("col",e,t,n,r),a=mL("cell",e,t,n,r);return C.useMemo(()=>({rowHandle:i,colHandle:o,cellHandle:a}),[o,i,a])}const pet=e=>{var t,n;const r=Ut(),i=gn(),o=Gt(),a=(l,c)=>{const d=e.block.content.rows.map(u=>({...u,cells:u.cells.map(p=>nm(p))}));c==="text"?d[e.rowIndex].cells[e.colIndex].props.textColor=l:d[e.rowIndex].cells[e.colIndex].props.backgroundColor=l,o.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:d}}),o.setTextCursorPosition(e.block)},s=(n=(t=e.block.content.rows[e.rowIndex])==null?void 0:t.cells)==null?void 0:n[e.colIndex];return!s||o.settings.tables.cellTextColor===!1&&o.settings.tables.cellBackgroundColor===!1?null:g.jsxs(r.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(r.Generic.Menu.Trigger,{sub:!0,children:g.jsx(r.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children||i.drag_handle.colors_menuitem})}),g.jsx(r.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(pR,{iconSize:18,text:o.settings.tables.cellTextColor?{color:rm(s)?s.props.textColor:"default",setColor:l=>a(l,"text")}:void 0,background:o.settings.tables.cellBackgroundColor?{color:rm(s)?s.props.backgroundColor:"default",setColor:l=>a(l,"background")}:void 0})})]})},met=e=>{var t,n;const r=Ut(),i=gn(),o=Gt(),a=(n=(t=e.block.content.rows[e.rowIndex])==null?void 0:t.cells)==null?void 0:n[e.colIndex];return!a||!rm(a)||cC(a)===1&&P0(a)===1||!o.settings.tables.splitCells?null:g.jsx(r.Generic.Menu.Item,{onClick:()=>{var s;(s=o.tableHandles)==null||s.splitCell({row:e.rowIndex,col:e.colIndex})},children:i.table_handle.split_cell_menuitem})},get=e=>{const t=Ut();return g.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-table-handle-menu",children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(met,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex}),g.jsx(pet,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex})]})})},yet=e=>{const t=Ut(),n=e.tableCellMenu||get;return!e.editor.settings.tables.splitCells&&!e.editor.settings.tables.cellBackgroundColor&&!e.editor.settings.tables.cellTextColor?null:g.jsxs(t.Generic.Menu.Root,{onOpenChange:r=>{r?e.freezeHandles():(e.unfreezeHandles(),e.editor.focus())},position:"right",children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.Generic.Menu.Button,{className:"bn-table-cell-handle",children:e.children||g.jsx(LJe,{size:12,"data-test":"tableCellHandle"})})}),ka.createPortal(g.jsx(n,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex}),e.menuContainer)]})},bet=e=>{var t,n;const r=Gt(),[i,o]=C.useState(null);if(!r.tableHandles)throw new Error("TableHandlesController can only be used when BlockNote editor schema contains table block");const a={rowDragStart:r.tableHandles.rowDragStart,colDragStart:r.tableHandles.colDragStart,dragEnd:r.tableHandles.dragEnd,freezeHandles:r.tableHandles.freezeHandles,unfreezeHandles:r.tableHandles.unfreezeHandles},{freezeHandles:s,unfreezeHandles:l}=a,c=C.useCallback(()=>{s(),M(!0),N(!0)},[s]),d=C.useCallback(()=>{l(),M(!1),N(!1)},[l]),u=dh(r.tableHandles.onUpdate.bind(r.tableHandles)),p=C.useMemo(()=>{var B,$;return u!=null&&u.draggingState?{draggedCellOrientation:(B=u?.draggingState)==null?void 0:B.draggedCellOrientation,mousePos:($=u?.draggingState)==null?void 0:$.mousePos}:void 0},[u?.draggingState,(t=u?.draggingState)==null?void 0:t.draggedCellOrientation,(n=u?.draggingState)==null?void 0:n.mousePos]),{rowHandle:m,colHandle:v,cellHandle:x}=het(u?.show||!1,u?.referencePosCell||null,u?.referencePosTable||null,p),{addOrRemoveColumnsButton:w,addOrRemoveRowsButton:T}=cet(u?.showAddOrRemoveColumnsButton||!1,u?.showAddOrRemoveRowsButton||!1,u?.referencePosTable||null),[k,N]=C.useState(!1),[I,M]=C.useState(!1);if(!u)return null;const A=e.tableHandle||set,R=e.extendButton||tet,L=e.tableCellHandle||yet;return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:o}),g.jsxs(LZe,{root:u.widgetContainer,children:[!k&&i&&m.isMounted&&u.rowIndex!==void 0&&g.jsx("div",{ref:m.ref,style:m.style,children:g.jsx(A,{editor:r,orientation:"row",showOtherSide:()=>M(!1),hideOtherSide:()=>M(!0),index:u.rowIndex,block:u.block,dragStart:a.rowDragStart,dragEnd:a.dragEnd,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles,menuContainer:i})}),!I&&i&&v.isMounted&&u.colIndex!==void 0&&g.jsx("div",{ref:v.ref,style:v.style,children:g.jsx(A,{editor:r,orientation:"column",showOtherSide:()=>N(!1),hideOtherSide:()=>N(!0),index:u.colIndex,block:u.block,dragStart:a.colDragStart,dragEnd:a.dragEnd,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles,menuContainer:i})}),i&&x.isMounted&&u.colIndex!==void 0&&u.rowIndex!==void 0&&g.jsx("div",{ref:x.ref,style:x.style,children:g.jsx(L,{editor:r,block:u.block,rowIndex:u.rowIndex,colIndex:u.colIndex,menuContainer:i,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles})}),g.jsx("div",{ref:T.ref,style:T.style,children:g.jsx(R,{editor:r,orientation:"addOrRemoveRows",block:u.block,onMouseDown:c,onMouseUp:d})}),g.jsx("div",{ref:w.ref,style:w.style,children:g.jsx(R,{editor:r,orientation:"addOrRemoveColumns",block:u.block,onMouseDown:c,onMouseUp:d})})]})]})};function vet(e){const t=Gt();if(!t)throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return g.jsxs(g.Fragment,{children:[e.formattingToolbar!==!1&&g.jsx(fpe,{}),e.linkToolbar!==!1&&g.jsx(RJe,{}),e.slashMenu!==!1&&g.jsx(vpe,{triggerCharacter:"/"}),e.emojiPicker!==!1&&g.jsx(WJe,{triggerCharacter:":",columns:10,minQueryLength:2}),e.sideMenu!==!1&&g.jsx(gpe,{}),t.filePanel&&e.filePanel!==!1&&g.jsx(lJe,{}),t.tableHandles&&e.tableHandles!==!1&&g.jsx(bet,{}),t.comments&&e.comments!==!1&&g.jsxs(g.Fragment,{children:[g.jsx(dQe,{}),g.jsx(oJe,{})]})]})}const xet=()=>{const e=C.useMemo(()=>{var a;return(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: dark)")},[]),t=C.useMemo(()=>{var a;return(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: light)")},[]),n=e?.matches,r=t?.matches,[i,o]=C.useState(n?"dark":r?"light":"no-preference");return C.useEffect(()=>{o(n?"dark":r?"light":"no-preference")},[n,r]),C.useEffect(()=>{if(typeof e?.addEventListener=="function"){const a=({matches:l})=>l&&o("dark"),s=({matches:l})=>l&&o("light");return e?.addEventListener("change",a),t?.addEventListener("change",s),()=>{e?.removeEventListener("change",a),t?.removeEventListener("change",s)}}else{const a=()=>o(e.matches?"dark":t.matches?"light":"no-preference");return e?.addEventListener("change",a),t?.addEventListener("change",a),()=>{e?.removeEventListener("change",a),t?.removeEventListener("change",a)}}},[e,t]),i},xpe=C.createContext(void 0);function wet(){return C.useContext(xpe)}function Eet(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:ka.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}const Cet=({contentComponent:e})=>{const t=C.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return g.jsx(g.Fragment,{children:Object.values(t)})},Tet=C.forwardRef((e,t)=>{const[n,r]=C.useState();return C.useImperativeHandle(t,()=>(i,o)=>{ka.flushSync(()=>{r({node:i,container:o})}),r(void 0)},[]),g.jsx(g.Fragment,{children:n&&ka.createPortal(n.node,n.container)})}),TK=()=>{};function ket(e,t){const{editor:n,className:r,theme:i,children:o,editable:a,onSelectionChange:s,onChange:l,formattingToolbar:c,linkToolbar:d,slashMenu:u,emojiPicker:p,sideMenu:m,filePanel:v,tableHandles:x,comments:w,autoFocus:T,renderEditor:k=!0,...N}=e,[I,M]=C.useState(),A=Hd(),R=xet(),L=A?.colorSchemePreference||R,B=i||(L==="dark"?"dark":"light");fR(l||TK,n),o7(s||TK,n),C.useEffect(()=>{n.isEditable=a!==!1},[a,n]);const $=C.useCallback(Y=>{n.elementRenderer=Y},[n]),W=C.useMemo(()=>({...A,editor:n,setContentEditableProps:M,colorSchemePreference:B}),[A,n,B]),V=C.useMemo(()=>({editorProps:{autoFocus:T,contentEditableProps:I},defaultUIProps:{formattingToolbar:c,linkToolbar:d,slashMenu:u,emojiPicker:p,sideMenu:m,filePanel:v,tableHandles:x,comments:w}}),[T,I,c,d,u,p,m,v,x,w]);return g.jsx(Yhe.Provider,{value:W,children:g.jsxs(xpe.Provider,{value:V,children:[g.jsx(Tet,{ref:$}),g.jsx(_et,{className:r,renderEditor:k,editable:a,editorColorScheme:B,ref:t,...N,children:o})]})})}const _et=F.forwardRef(({className:e,renderEditor:t,editable:n,editorColorScheme:r,children:i,...o},a)=>g.jsx("div",{className:vi("bn-container",r,e),"data-color-scheme":r,...o,ref:a,children:t?g.jsx(Net,{editable:n,children:i}):i})),Aet=F.forwardRef(ket),Net=e=>{const t=wet(),n=Gt(),r=C.useMemo(()=>Eet(),[]),i=C.useCallback(o=>{e.editable!==void 0&&e.editable!==n.isEditable&&(n.isEditable=e.editable),n._tiptapEditor.contentComponent=r,o?n.mount(o):n.unmount()},[n,r,e.editable]);return g.jsxs(g.Fragment,{children:[g.jsx(Cet,{contentComponent:r}),g.jsx(Oet,{...t.editorProps,...e,mount:i}),g.jsx(vet,{...t.defaultUIProps}),e.children]})},Oet=e=>{const{autoFocus:t,mount:n,contentEditableProps:r}=e;return g.jsx("div",{"aria-autocomplete":"list","aria-haspopup":"listbox","data-bn-autofocus":t,ref:n,...r})};function kK(e,t){let n;const r=document.createElement("div");let i;if(t!=null&&t.elementRenderer)t.elementRenderer(e(l=>n=l||void 0),r);else{if(!(t!=null&&t.headless))throw new Error("elementRenderer not available, expected headless editor");i=are.createRoot(r),ka.flushSync(()=>{i.render(e(l=>n=l||void 0))})}if(!r.childElementCount)return console.warn("ReactInlineContentSpec: renderHTML() failed"),{dom:document.createElement("span")};n?.setAttribute("data-tmp-find","true");const o=r.cloneNode(!0),a=o.firstElementChild,s=o.querySelector("[data-tmp-find]");return s?.removeAttribute("data-tmp-find"),i?.unmount(),{dom:a,contentDOM:s||void 0}}function gL(e){var t;return g.jsx(eQe,{onDragOver:n=>n.preventDefault(),...Object.fromEntries(Object.entries(e.domAttributes||{}).filter(([n])=>n!=="class")),className:vi("bn-block-content",((t=e.domAttributes)==null?void 0:t.class)||""),"data-content-type":e.blockType,...Object.fromEntries(Object.entries(e.blockProps).filter(([n,r])=>{const i=e.propSchema[n];return r!==i.default}).map(([n,r])=>[$N(n),r])),"data-file-block":e.isFileBlock===!0||void 0,children:e.children})}function yx(e,t,n){return(r={})=>{const i=typeof e=="function"?e(r):e,o=typeof t=="function"?t(r):t;return{config:i,implementation:{...o,toExternalHTML(s,l){const c=o.toExternalHTML||o.render;return kK(d=>g.jsx(gL,{blockType:s.type,blockProps:s.props,propSchema:i.propSchema,domAttributes:this.blockContentDOMAttributes,children:g.jsx(c,{block:s,editor:l,contentRef:u=>{d(u),u&&(u.className=vi("bn-inline-content",u.className))}})}),l)},render(s,l){if(this.renderType==="nodeView")return aQe(c=>{var d;const u=nce(c.getPos,l,c.editor,i.type),p=Whe().nodeViewContentRef;if(!p)throw new Error("nodeViewContentRef is not set");const m=o.render;return g.jsx(gL,{blockType:u.type,blockProps:u.props,propSchema:i.propSchema,isFileBlock:!!((d=o.meta)!=null&&d.fileBlockAccept),domAttributes:this.blockContentDOMAttributes,children:g.jsx(m,{block:u,editor:l,contentRef:v=>{p(v),v&&(v.className=vi("bn-inline-content",v.className),v.dataset.nodeViewContent="")}})})},{className:"bn-react-node-view-renderer"})(this.props);{const c=o.render;return kK(d=>g.jsx(gL,{blockType:s.type,blockProps:s.props,propSchema:i.propSchema,domAttributes:this.blockContentDOMAttributes,children:g.jsx(c,{block:s,editor:l,contentRef:u=>{d(u),u&&(u.className=vi("bn-inline-content",u.className))}})}),l)}}},extensions:void 0}}}F.memo(({thread:e,selectedThreadId:t,editor:n,maxCommentsBeforeCollapse:r,referenceText:i})=>{const o=C.useCallback(s=>{var l;s.target.closest(".bn-action-toolbar")||(l=n.comments)==null||l.selectThread(e.id)},[n.comments,e.id]),a=C.useCallback(s=>{var l;if(!s.relatedTarget||s.relatedTarget.closest(".bn-action-toolbar"))return;const c=s.target instanceof Node?s.target:null,d=s.relatedTarget instanceof Node?s.relatedTarget.closest(".bn-thread"):null;(!c||!d||!d.contains(c))&&((l=n.comments)==null||l.selectThread(void 0))},[n.comments]);return g.jsx(spe,{thread:e,selected:e.id===t,referenceText:i,maxCommentsBeforeCollapse:r,onFocus:o,onBlur:a,tabIndex:0})});function Met(e){return e.currentTarget instanceof HTMLElement&&e.relatedTarget instanceof HTMLElement?e.currentTarget.contains(e.relatedTarget):!1}function Det({onBlur:e,onFocus:t}={}){const n=C.useRef(null),[r,i]=C.useState(!1),o=C.useRef(!1),a=c=>{i(c),o.current=c},s=c=>{o.current||(a(!0),t?.(c))},l=c=>{o.current&&!Met(c)&&(a(!1),e?.(c))};return C.useEffect(()=>{const c=n.current;if(c)return c.addEventListener("focusin",s),c.addEventListener("focusout",l),()=>{c?.removeEventListener("focusin",s),c?.removeEventListener("focusout",l)}},[s,l]),{ref:n,focused:r}}function d7(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.top<r.top,o=n.bottom>r.bottom;return i&&o?"both":i?"top":o?"bottom":"none"}var ek=e=>e.type==="checkbox",i0=e=>e instanceof Date,Ps=e=>e==null;const wpe=e=>typeof e=="object";var co=e=>!Ps(e)&&!Array.isArray(e)&&wpe(e)&&!i0(e),Ret=e=>co(e)&&e.target?ek(e.target)?e.target.checked:e.target.value:e,Iet=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Pet=(e,t)=>e.has(Iet(t)),Let=e=>{const t=e.constructor&&e.constructor.prototype;return co(t)&&t.hasOwnProperty("isPrototypeOf")},f7=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Io(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(f7&&(e instanceof Blob||r))&&(n||co(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!Let(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Io(e[i]));else return e;return t}var mR=e=>/^\w*$/.test(e),Vi=e=>e===void 0,h7=e=>Array.isArray(e)?e.filter(Boolean):[],p7=e=>h7(e.replace(/["|']|\]/g,"").split(/\.|\[/)),It=(e,t,n)=>{if(!t||!co(e))return n;const r=(mR(t)?[t]:p7(t)).reduce((i,o)=>Ps(i)?i:i[o],e);return Vi(r)||r===e?Vi(e[t])?n:e[t]:r},fd=e=>typeof e=="boolean",bi=(e,t,n)=>{let r=-1;const i=mR(t)?[t]:p7(t),o=i.length,a=o-1;for(;++r<o;){const s=i[r];let l=n;if(r!==a){const c=e[s];l=co(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=l,e=e[s]}};const _K={BLUR:"blur",FOCUS_OUT:"focusout"},ou={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ef={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Epe=F.createContext(null);Epe.displayName="HookFormContext";const jet=e=>{const{children:t,...n}=e;return F.createElement(Epe.Provider,{value:n},t)};var Bet=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const a=o;return t._proxyFormState[a]!==ou.all&&(t._proxyFormState[a]=!r||ou.all),e[a]}});return i};const $et=typeof window<"u"?F.useLayoutEffect:F.useEffect;var Tl=e=>typeof e=="string",Het=(e,t,n,r,i)=>Tl(e)?(r&&t.watch.add(e),It(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),It(n,o))):(r&&(t.watchAll=!0),n),N8=e=>Ps(e)||!wpe(e);function Mp(e,t,n=new WeakSet){if(N8(e)||N8(t))return e===t;if(i0(e)&&i0(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of r){const a=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const s=t[o];if(i0(a)&&i0(s)||co(a)&&co(s)||Array.isArray(a)&&Array.isArray(s)?!Mp(a,s,n):a!==s)return!1}}return!0}var Fet=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},jS=e=>Array.isArray(e)?e:[e],AK=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}};function Spe(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],o=t[r];if(i&&co(i)&&o){const a=Spe(i,o);co(a)&&(n[r]=a)}else e[r]&&(n[r]=o)}return n}var Ja=e=>co(e)&&!Object.keys(e).length,m7=e=>e.type==="file",au=e=>typeof e=="function",zO=e=>{if(!f7)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Cpe=e=>e.type==="select-multiple",g7=e=>e.type==="radio",Uet=e=>g7(e)||ek(e),yL=e=>zO(e)&&e.isConnected;function zet(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Vi(e)?r++:e[t[r++]];return e}function Vet(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vi(e[t]))return!1;return!0}function to(e,t){const n=Array.isArray(t)?t:mR(t)?[t]:p7(t),r=n.length===1?e:zet(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(co(r)&&Ja(r)||Array.isArray(r)&&Vet(r))&&to(e,n.slice(0,-1)),e}var qet=e=>{for(const t in e)if(au(e[t]))return!0;return!1};function Tpe(e){return Array.isArray(e)||co(e)&&!qet(e)}function O8(e,t={}){for(const n in e)Tpe(e[n])?(t[n]=Array.isArray(e[n])?[]:{},O8(e[n],t[n])):Vi(e[n])||(t[n]=!0);return t}function Ev(e,t,n){n||(n=O8(t));for(const r in e)Tpe(e[r])?Vi(t)||N8(n[r])?n[r]=O8(e[r],Array.isArray(e[r])?[]:{}):Ev(e[r],Ps(t)?{}:t[r],n[r]):n[r]=!Mp(e[r],t[r]);return n}const NK={value:!1,isValid:!1},OK={value:!0,isValid:!0};var kpe=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vi(e[0].attributes.value)?Vi(e[0].value)||e[0].value===""?OK:{value:e[0].value,isValid:!0}:OK:NK}return NK},_pe=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Vi(e)?e:t?e===""?NaN:e&&+e:n&&Tl(e)?new Date(e):r?r(e):e;const MK={isValid:!1,value:null};var Ape=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,MK):MK;function DK(e){const t=e.ref;return m7(t)?t.files:g7(t)?Ape(e.refs).value:Cpe(t)?[...t.selectedOptions].map(({value:n})=>n):ek(t)?kpe(e.refs).value:_pe(Vi(t.value)?e.ref.value:t.value,e)}var Wet=(e,t,n,r)=>{const i={};for(const o of e){const a=It(t,o);a&&bi(i,o,a._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},VO=e=>e instanceof RegExp,UE=e=>Vi(e)?e:VO(e)?e.source:co(e)?VO(e.value)?e.value.source:e.value:e,RK=e=>({isOnSubmit:!e||e===ou.onSubmit,isOnBlur:e===ou.onBlur,isOnChange:e===ou.onChange,isOnAll:e===ou.all,isOnTouch:e===ou.onTouched});const IK="AsyncFunction";var Yet=e=>!!e&&!!e.validate&&!!(au(e.validate)&&e.validate.constructor.name===IK||co(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===IK)),Get=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),PK=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const BS=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=It(e,i);if(o){const{_f:a,...s}=o;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(BS(s,t))break}else if(co(s)&&BS(s,t))break}}};function LK(e,t,n){const r=It(e,n);if(r||mR(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),a=It(t,o),s=It(e,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(s&&s.type)return{name:o,error:s};if(s&&s.root&&s.root.type)return{name:`${o}.root`,error:s.root};i.pop()}return{name:n}}var Ket=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Ja(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(a=>t[a]===(!r||ou.all))},Xet=(e,t,n)=>!e||!t||e===t||jS(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),Zet=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,Qet=(e,t)=>!h7(It(e,t)).length&&to(e,t),Jet=(e,t,n)=>{const r=jS(It(e,n));return bi(r,"root",t[n]),bi(e,n,r),e};function jK(e,t,n="validate"){if(Tl(e)||Array.isArray(e)&&e.every(Tl)||fd(e)&&!e)return{type:n,message:Tl(e)?e:"",ref:t}}var av=e=>co(e)&&!VO(e)?e:{value:e,message:""},BK=async(e,t,n,r,i,o)=>{const{ref:a,refs:s,required:l,maxLength:c,minLength:d,min:u,max:p,pattern:m,validate:v,name:x,valueAsNumber:w,mount:T}=e._f,k=It(n,x);if(!T||t.has(x))return{};const N=s?s[0]:a,I=V=>{i&&N.reportValidity&&(N.setCustomValidity(fd(V)?"":V||""),N.reportValidity())},M={},A=g7(a),R=ek(a),L=A||R,B=(w||m7(a))&&Vi(a.value)&&Vi(k)||zO(a)&&a.value===""||k===""||Array.isArray(k)&&!k.length,$=Fet.bind(null,x,r,M),W=(V,Y,U,X=Ef.maxLength,q=Ef.minLength)=>{const ne=V?Y:U;M[x]={type:V?X:q,message:ne,ref:a,...$(V?X:q,ne)}};if(o?!Array.isArray(k)||!k.length:l&&(!L&&(B||Ps(k))||fd(k)&&!k||R&&!kpe(s).isValid||A&&!Ape(s).isValid)){const{value:V,message:Y}=Tl(l)?{value:!!l,message:l}:av(l);if(V&&(M[x]={type:Ef.required,message:Y,ref:N,...$(Ef.required,Y)},!r))return I(Y),M}if(!B&&(!Ps(u)||!Ps(p))){let V,Y;const U=av(p),X=av(u);if(!Ps(k)&&!isNaN(k)){const q=a.valueAsNumber||k&&+k;Ps(U.value)||(V=q>U.value),Ps(X.value)||(Y=q<X.value)}else{const q=a.valueAsDate||new Date(k),ne=K=>new Date(new Date().toDateString()+" "+K),Z=a.type=="time",oe=a.type=="week";Tl(U.value)&&k&&(V=Z?ne(k)>ne(U.value):oe?k>U.value:q>new Date(U.value)),Tl(X.value)&&k&&(Y=Z?ne(k)<ne(X.value):oe?k<X.value:q<new Date(X.value))}if((V||Y)&&(W(!!V,U.message,X.message,Ef.max,Ef.min),!r))return I(M[x].message),M}if((c||d)&&!B&&(Tl(k)||o&&Array.isArray(k))){const V=av(c),Y=av(d),U=!Ps(V.value)&&k.length>+V.value,X=!Ps(Y.value)&&k.length<+Y.value;if((U||X)&&(W(U,V.message,Y.message),!r))return I(M[x].message),M}if(m&&!B&&Tl(k)){const{value:V,message:Y}=av(m);if(VO(V)&&!k.match(V)&&(M[x]={type:Ef.pattern,message:Y,ref:a,...$(Ef.pattern,Y)},!r))return I(Y),M}if(v){if(au(v)){const V=await v(k,n),Y=jK(V,N);if(Y&&(M[x]={...Y,...$(Ef.validate,Y.message)},!r))return I(Y.message),M}else if(co(v)){let V={};for(const Y in v){if(!Ja(V)&&!r)break;const U=jK(await v[Y](k,n),N,Y);U&&(V={...U,...$(Y,U.message)},I(U.message),r&&(M[x]=V))}if(!Ja(V)&&(M[x]={ref:N,...V},!r))return M}}return I(!0),M};const ett={mode:ou.onSubmit,reValidateMode:ou.onChange,shouldFocusError:!0};function ttt(e={}){let t={...ett,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:au(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=co(t.defaultValues)||co(t.values)?Io(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Io(i),a={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...d};const p={array:AK(),state:AK()},m=t.criteriaMode===ou.all,v=ce=>xe=>{clearTimeout(c),c=setTimeout(ce,xe)},x=async ce=>{if(!t.disabled&&(d.isValid||u.isValid||ce)){const xe=t.resolver?Ja((await R()).errors):await B(r,!0);xe!==n.isValid&&p.state.next({isValid:xe})}},w=(ce,xe)=>{!t.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((ce||Array.from(s.mount)).forEach(Te=>{Te&&(xe?bi(n.validatingFields,Te,xe):to(n.validatingFields,Te))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ja(n.validatingFields)}))},T=(ce,xe=[],Te,Je,Ze=!0,Qe=!0)=>{if(Je&&Te&&!t.disabled){if(a.action=!0,Qe&&Array.isArray(It(r,ce))){const ge=Te(It(r,ce),Je.argA,Je.argB);Ze&&bi(r,ce,ge)}if(Qe&&Array.isArray(It(n.errors,ce))){const ge=Te(It(n.errors,ce),Je.argA,Je.argB);Ze&&bi(n.errors,ce,ge),Qet(n.errors,ce)}if((d.touchedFields||u.touchedFields)&&Qe&&Array.isArray(It(n.touchedFields,ce))){const ge=Te(It(n.touchedFields,ce),Je.argA,Je.argB);Ze&&bi(n.touchedFields,ce,ge)}(d.dirtyFields||u.dirtyFields)&&(n.dirtyFields=Ev(i,o)),p.state.next({name:ce,isDirty:W(ce,xe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else bi(o,ce,xe)},k=(ce,xe)=>{bi(n.errors,ce,xe),p.state.next({errors:n.errors})},N=ce=>{n.errors=ce,p.state.next({errors:n.errors,isValid:!1})},I=(ce,xe,Te,Je)=>{const Ze=It(r,ce);if(Ze){const Qe=It(o,ce,Vi(Te)?It(i,ce):Te);Vi(Qe)||Je&&Je.defaultChecked||xe?bi(o,ce,xe?Qe:DK(Ze._f)):U(ce,Qe),a.mount&&x()}},M=(ce,xe,Te,Je,Ze)=>{let Qe=!1,ge=!1;const Be={name:ce};if(!t.disabled){if(!Te||Je){(d.isDirty||u.isDirty)&&(ge=n.isDirty,n.isDirty=Be.isDirty=W(),Qe=ge!==Be.isDirty);const it=Mp(It(i,ce),xe);ge=!!It(n.dirtyFields,ce),it?to(n.dirtyFields,ce):bi(n.dirtyFields,ce,!0),Be.dirtyFields=n.dirtyFields,Qe=Qe||(d.dirtyFields||u.dirtyFields)&&ge!==!it}if(Te){const it=It(n.touchedFields,ce);it||(bi(n.touchedFields,ce,Te),Be.touchedFields=n.touchedFields,Qe=Qe||(d.touchedFields||u.touchedFields)&&it!==Te)}Qe&&Ze&&p.state.next(Be)}return Qe?Be:{}},A=(ce,xe,Te,Je)=>{const Ze=It(n.errors,ce),Qe=(d.isValid||u.isValid)&&fd(xe)&&n.isValid!==xe;if(t.delayError&&Te?(l=v(()=>k(ce,Te)),l(t.delayError)):(clearTimeout(c),l=null,Te?bi(n.errors,ce,Te):to(n.errors,ce)),(Te?!Mp(Ze,Te):Ze)||!Ja(Je)||Qe){const ge={...Je,...Qe&&fd(xe)?{isValid:xe}:{},errors:n.errors,name:ce};n={...n,...ge},p.state.next(ge)}},R=async ce=>{w(ce,!0);const xe=await t.resolver(o,t.context,Wet(ce||s.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(ce),xe},L=async ce=>{const{errors:xe}=await R(ce);if(ce)for(const Te of ce){const Je=It(xe,Te);Je?bi(n.errors,Te,Je):to(n.errors,Te)}else n.errors=xe;return xe},B=async(ce,xe,Te={valid:!0})=>{for(const Je in ce){const Ze=ce[Je];if(Ze){const{_f:Qe,...ge}=Ze;if(Qe){const Be=s.array.has(Qe.name),it=Ze._f&&Yet(Ze._f);it&&d.validatingFields&&w([Qe.name],!0);const Nt=await BK(Ze,s.disabled,o,m,t.shouldUseNativeValidation&&!xe,Be);if(it&&d.validatingFields&&w([Qe.name]),Nt[Qe.name]&&(Te.valid=!1,xe))break;!xe&&(It(Nt,Qe.name)?Be?Jet(n.errors,Nt,Qe.name):bi(n.errors,Qe.name,Nt[Qe.name]):to(n.errors,Qe.name))}!Ja(ge)&&await B(ge,xe,Te)}}return Te.valid},$=()=>{for(const ce of s.unMount){const xe=It(r,ce);xe&&(xe._f.refs?xe._f.refs.every(Te=>!yL(Te)):!yL(xe._f.ref))&&Ee(ce)}s.unMount=new Set},W=(ce,xe)=>!t.disabled&&(ce&&xe&&bi(o,ce,xe),!Mp(K(),i)),V=(ce,xe,Te)=>Het(ce,s,{...a.mount?o:Vi(xe)?i:Tl(ce)?{[ce]:xe}:xe},Te,xe),Y=ce=>h7(It(a.mount?o:i,ce,t.shouldUnregister?It(i,ce,[]):[])),U=(ce,xe,Te={})=>{const Je=It(r,ce);let Ze=xe;if(Je){const Qe=Je._f;Qe&&(!Qe.disabled&&bi(o,ce,_pe(xe,Qe)),Ze=zO(Qe.ref)&&Ps(xe)?"":xe,Cpe(Qe.ref)?[...Qe.ref.options].forEach(ge=>ge.selected=Ze.includes(ge.value)):Qe.refs?ek(Qe.ref)?Qe.refs.forEach(ge=>{(!ge.defaultChecked||!ge.disabled)&&(Array.isArray(Ze)?ge.checked=!!Ze.find(Be=>Be===ge.value):ge.checked=Ze===ge.value||!!Ze)}):Qe.refs.forEach(ge=>ge.checked=ge.value===Ze):m7(Qe.ref)?Qe.ref.value="":(Qe.ref.value=Ze,Qe.ref.type||p.state.next({name:ce,values:Io(o)})))}(Te.shouldDirty||Te.shouldTouch)&&M(ce,Ze,Te.shouldTouch,Te.shouldDirty,!0),Te.shouldValidate&&oe(ce)},X=(ce,xe,Te)=>{for(const Je in xe){if(!xe.hasOwnProperty(Je))return;const Ze=xe[Je],Qe=ce+"."+Je,ge=It(r,Qe);(s.array.has(ce)||co(Ze)||ge&&!ge._f)&&!i0(Ze)?X(Qe,Ze,Te):U(Qe,Ze,Te)}},q=(ce,xe,Te={})=>{const Je=It(r,ce),Ze=s.array.has(ce),Qe=Io(xe);bi(o,ce,Qe),Ze?(p.array.next({name:ce,values:Io(o)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&Te.shouldDirty&&p.state.next({name:ce,dirtyFields:Ev(i,o),isDirty:W(ce,Qe)})):Je&&!Je._f&&!Ps(Qe)?X(ce,Qe,Te):U(ce,Qe,Te),PK(ce,s)&&p.state.next({...n,name:ce}),p.state.next({name:a.mount?ce:void 0,values:Io(o)})},ne=async ce=>{a.mount=!0;const xe=ce.target;let Te=xe.name,Je=!0;const Ze=It(r,Te),Qe=it=>{Je=Number.isNaN(it)||i0(it)&&isNaN(it.getTime())||Mp(it,It(o,Te,it))},ge=RK(t.mode),Be=RK(t.reValidateMode);if(Ze){let it,Nt;const qt=xe.type?DK(Ze._f):Ret(ce),Zn=ce.type===_K.BLUR||ce.type===_K.FOCUS_OUT,kn=!Get(Ze._f)&&!t.resolver&&!It(n.errors,Te)&&!Ze._f.deps||Zet(Zn,It(n.touchedFields,Te),n.isSubmitted,Be,ge),or=PK(Te,s,Zn);bi(o,Te,qt),Zn?(!xe||!xe.readOnly)&&(Ze._f.onBlur&&Ze._f.onBlur(ce),l&&l(0)):Ze._f.onChange&&Ze._f.onChange(ce);const Yn=M(Te,qt,Zn),xr=!Ja(Yn)||or;if(!Zn&&p.state.next({name:Te,type:ce.type,values:Io(o)}),kn)return(d.isValid||u.isValid)&&(t.mode==="onBlur"?Zn&&x():Zn||x()),xr&&p.state.next({name:Te,...or?{}:Yn});if(!Zn&&or&&p.state.next({...n}),t.resolver){const{errors:un}=await R([Te]);if(Qe(qt),Je){const wi=LK(n.errors,r,Te),Tt=LK(un,r,wi.name||Te);it=Tt.error,Te=Tt.name,Nt=Ja(un)}}else w([Te],!0),it=(await BK(Ze,s.disabled,o,m,t.shouldUseNativeValidation))[Te],w([Te]),Qe(qt),Je&&(it?Nt=!1:(d.isValid||u.isValid)&&(Nt=await B(r,!0)));Je&&(Ze._f.deps&&(!Array.isArray(Ze._f.deps)||Ze._f.deps.length>0)&&oe(Ze._f.deps),A(Te,Nt,it,Yn))}},Z=(ce,xe)=>{if(It(n.errors,xe)&&ce.focus)return ce.focus(),1},oe=async(ce,xe={})=>{let Te,Je;const Ze=jS(ce);if(t.resolver){const Qe=await L(Vi(ce)?ce:Ze);Te=Ja(Qe),Je=ce?!Ze.some(ge=>It(Qe,ge)):Te}else ce?(Je=(await Promise.all(Ze.map(async Qe=>{const ge=It(r,Qe);return await B(ge&&ge._f?{[Qe]:ge}:ge)}))).every(Boolean),!(!Je&&!n.isValid)&&x()):Je=Te=await B(r);return p.state.next({...!Tl(ce)||(d.isValid||u.isValid)&&Te!==n.isValid?{}:{name:ce},...t.resolver||!ce?{isValid:Te}:{},errors:n.errors}),xe.shouldFocus&&!Je&&BS(r,Z,ce?Ze:s.mount),Je},K=(ce,xe)=>{let Te={...a.mount?o:i};return xe&&(Te=Spe(xe.dirtyFields?n.dirtyFields:n.touchedFields,Te)),Vi(ce)?Te:Tl(ce)?It(Te,ce):ce.map(Je=>It(Te,Je))},Q=(ce,xe)=>({invalid:!!It((xe||n).errors,ce),isDirty:!!It((xe||n).dirtyFields,ce),error:It((xe||n).errors,ce),isValidating:!!It(n.validatingFields,ce),isTouched:!!It((xe||n).touchedFields,ce)}),te=ce=>{ce&&jS(ce).forEach(xe=>to(n.errors,xe)),p.state.next({errors:ce?n.errors:{}})},z=(ce,xe,Te)=>{const Je=(It(r,ce,{_f:{}})._f||{}).ref,Ze=It(n.errors,ce)||{},{ref:Qe,message:ge,type:Be,...it}=Ze;bi(n.errors,ce,{...it,...xe,ref:Je}),p.state.next({name:ce,errors:n.errors,isValid:!1}),Te&&Te.shouldFocus&&Je&&Je.focus&&Je.focus()},fe=(ce,xe)=>au(ce)?p.state.subscribe({next:Te=>"values"in Te&&ce(V(void 0,xe),Te)}):V(ce,xe,!0),me=ce=>p.state.subscribe({next:xe=>{Xet(ce.name,xe.name,ce.exact)&&Ket(xe,ce.formState||d,Qt,ce.reRenderRoot)&&ce.callback({values:{...o},...n,...xe,defaultValues:i})}}).unsubscribe,ke=ce=>(a.mount=!0,u={...u,...ce.formState},me({...ce,formState:u})),Ee=(ce,xe={})=>{for(const Te of ce?jS(ce):s.mount)s.mount.delete(Te),s.array.delete(Te),xe.keepValue||(to(r,Te),to(o,Te)),!xe.keepError&&to(n.errors,Te),!xe.keepDirty&&to(n.dirtyFields,Te),!xe.keepTouched&&to(n.touchedFields,Te),!xe.keepIsValidating&&to(n.validatingFields,Te),!t.shouldUnregister&&!xe.keepDefaultValue&&to(i,Te);p.state.next({values:Io(o)}),p.state.next({...n,...xe.keepDirty?{isDirty:W()}:{}}),!xe.keepIsValid&&x()},ve=({disabled:ce,name:xe})=>{(fd(ce)&&a.mount||ce||s.disabled.has(xe))&&(ce?s.disabled.add(xe):s.disabled.delete(xe))},we=(ce,xe={})=>{let Te=It(r,ce);const Je=fd(xe.disabled)||fd(t.disabled);return bi(r,ce,{...Te||{},_f:{...Te&&Te._f?Te._f:{ref:{name:ce}},name:ce,mount:!0,...xe}}),s.mount.add(ce),Te?ve({disabled:fd(xe.disabled)?xe.disabled:t.disabled,name:ce}):I(ce,!0,xe.value),{...Je?{disabled:xe.disabled||t.disabled}:{},...t.progressive?{required:!!xe.required,min:UE(xe.min),max:UE(xe.max),minLength:UE(xe.minLength),maxLength:UE(xe.maxLength),pattern:UE(xe.pattern)}:{},name:ce,onChange:ne,onBlur:ne,ref:Ze=>{if(Ze){we(ce,xe),Te=It(r,ce);const Qe=Vi(Ze.value)&&Ze.querySelectorAll&&Ze.querySelectorAll("input,select,textarea")[0]||Ze,ge=Uet(Qe),Be=Te._f.refs||[];if(ge?Be.find(it=>it===Qe):Qe===Te._f.ref)return;bi(r,ce,{_f:{...Te._f,...ge?{refs:[...Be.filter(yL),Qe,...Array.isArray(It(i,ce))?[{}]:[]],ref:{type:Qe.type,name:ce}}:{ref:Qe}}}),I(ce,!1,void 0,Qe)}else Te=It(r,ce,{}),Te._f&&(Te._f.mount=!1),(t.shouldUnregister||xe.shouldUnregister)&&!(Pet(s.array,ce)&&a.action)&&s.unMount.add(ce)}}},je=()=>t.shouldFocusError&&BS(r,Z,s.mount),Ke=ce=>{fd(ce)&&(p.state.next({disabled:ce}),BS(r,(xe,Te)=>{const Je=It(r,Te);Je&&(xe.disabled=Je._f.disabled||ce,Array.isArray(Je._f.refs)&&Je._f.refs.forEach(Ze=>{Ze.disabled=Je._f.disabled||ce}))},0,!1))},Me=(ce,xe)=>async Te=>{let Je;Te&&(Te.preventDefault&&Te.preventDefault(),Te.persist&&Te.persist());let Ze=Io(o);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Qe,values:ge}=await R();n.errors=Qe,Ze=Io(ge)}else await B(r);if(s.disabled.size)for(const Qe of s.disabled)to(Ze,Qe);if(to(n.errors,"root"),Ja(n.errors)){p.state.next({errors:{}});try{await ce(Ze,Te)}catch(Qe){Je=Qe}}else xe&&await xe({...n.errors},Te),je(),setTimeout(je);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ja(n.errors)&&!Je,submitCount:n.submitCount+1,errors:n.errors}),Je)throw Je},Lt=(ce,xe={})=>{It(r,ce)&&(Vi(xe.defaultValue)?q(ce,Io(It(i,ce))):(q(ce,xe.defaultValue),bi(i,ce,Io(xe.defaultValue))),xe.keepTouched||to(n.touchedFields,ce),xe.keepDirty||(to(n.dirtyFields,ce),n.isDirty=xe.defaultValue?W(ce,Io(It(i,ce))):W()),xe.keepError||(to(n.errors,ce),d.isValid&&x()),p.state.next({...n}))},Ve=(ce,xe={})=>{const Te=ce?Io(ce):i,Je=Io(Te),Ze=Ja(ce),Qe=Ze?i:Je;if(xe.keepDefaultValues||(i=Te),!xe.keepValues){if(xe.keepDirtyValues){const ge=new Set([...s.mount,...Object.keys(Ev(i,o))]);for(const Be of Array.from(ge))It(n.dirtyFields,Be)?bi(Qe,Be,It(o,Be)):q(Be,It(Qe,Be))}else{if(f7&&Vi(ce))for(const ge of s.mount){const Be=It(r,ge);if(Be&&Be._f){const it=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(zO(it)){const Nt=it.closest("form");if(Nt){Nt.reset();break}}}}if(xe.keepFieldsRef)for(const ge of s.mount)q(ge,It(Qe,ge));else r={}}o=t.shouldUnregister?xe.keepDefaultValues?Io(i):{}:Io(Qe),p.array.next({values:{...Qe}}),p.state.next({values:{...Qe}})}s={mount:xe.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!xe.keepIsValid||!!xe.keepDirtyValues||!t.shouldUnregister&&!Ja(Qe),a.watch=!!t.shouldUnregister,p.state.next({submitCount:xe.keepSubmitCount?n.submitCount:0,isDirty:Ze?!1:xe.keepDirty?n.isDirty:!!(xe.keepDefaultValues&&!Mp(ce,i)),isSubmitted:xe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ze?{}:xe.keepDirtyValues?xe.keepDefaultValues&&o?Ev(i,o):n.dirtyFields:xe.keepDefaultValues&&ce?Ev(i,ce):xe.keepDirty?n.dirtyFields:{},touchedFields:xe.keepTouched?n.touchedFields:{},errors:xe.keepErrors?n.errors:{},isSubmitSuccessful:xe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},an=(ce,xe)=>Ve(au(ce)?ce(o):ce,xe),cn=(ce,xe={})=>{const Te=It(r,ce),Je=Te&&Te._f;if(Je){const Ze=Je.refs?Je.refs[0]:Je.ref;Ze.focus&&(Ze.focus(),xe.shouldSelect&&au(Ze.select)&&Ze.select())}},Qt=ce=>{n={...n,...ce}},er={control:{register:we,unregister:Ee,getFieldState:Q,handleSubmit:Me,setError:z,_subscribe:me,_runSchema:R,_focusError:je,_getWatch:V,_getDirty:W,_setValid:x,_setFieldArray:T,_setDisabledField:ve,_setErrors:N,_getFieldArray:Y,_reset:Ve,_resetDefaultValues:()=>au(t.defaultValues)&&t.defaultValues().then(ce=>{an(ce,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:Ke,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(ce){a=ce},get _defaultValues(){return i},get _names(){return s},set _names(ce){s=ce},get _formState(){return n},get _options(){return t},set _options(ce){t={...t,...ce}}},subscribe:ke,trigger:oe,register:we,handleSubmit:Me,watch:fe,setValue:q,getValues:K,reset:an,resetField:Lt,clearErrors:te,unregister:Ee,setError:z,setFocus:cn,getFieldState:Q};return{...er,formControl:er}}function ntt(e={}){const t=F.useRef(void 0),n=F.useRef(void 0),[r,i]=F.useState({isDirty:!1,isValidating:!1,isLoading:au(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:au(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!au(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...s}=ttt(e);t.current={...s,formState:r}}const o=t.current.control;return o._options=e,$et(()=>{const a=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(s=>({...s,isReady:!0})),o._formState.isReady=!0,a},[o]),F.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),F.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),F.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),F.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==r.isDirty&&o._subjects.state.next({isDirty:a})}},[o,r.isDirty]),F.useEffect(()=>{e.values&&!Mp(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=e.values,i(a=>({...a}))):o._resetDefaultValues()},[o,e.values]),F.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=Bet(r,o),t.current}function rtt(){return Vhe.useSyncExternalStore(itt,()=>!0,()=>!1)}function itt(){return()=>{}}var y7="Avatar",[ott]=us(y7),[att,Npe]=ott(y7),Ope=C.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,o]=C.useState("idle");return g.jsx(att,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:g.jsx(Ct.span,{...r,ref:t})})});Ope.displayName=y7;var Mpe="AvatarImage",Dpe=C.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=e,a=Npe(Mpe,n),s=stt(r,o),l=To(c=>{i(c),a.onImageLoadingStatusChange(c)});return Xi(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?g.jsx(Ct.img,{...o,ref:t,src:r}):null});Dpe.displayName=Mpe;var Rpe="AvatarFallback",Ipe=C.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,o=Npe(Rpe,n),[a,s]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&o.imageLoadingStatus!=="loaded"?g.jsx(Ct.span,{...i,ref:t}):null});Ipe.displayName=Rpe;function $K(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function stt(e,{referrerPolicy:t,crossOrigin:n}){const r=rtt(),i=C.useRef(null),o=r?(i.current||(i.current=new window.Image),i.current):null,[a,s]=C.useState(()=>$K(o,e));return Xi(()=>{s($K(o,e))},[o,e]),Xi(()=>{const l=u=>()=>{s(u)};if(!o)return;const c=l("loaded"),d=l("error");return o.addEventListener("load",c),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",c),o.removeEventListener("error",d)}},[o,n,t]),a}var ltt=Ope,ctt=Dpe,utt=Ipe;const b7="-",dtt=e=>{const t=htt(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const s=a.split(b7);return s[0]===""&&s.length!==1&&s.shift(),Ppe(s,t)||ftt(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},Ppe=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Ppe(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(b7);return t.validators.find(({validator:a})=>a(o))?.classGroupId},HK=/^\[(.+)\]$/,ftt=e=>{if(HK.test(e)){const t=HK.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},htt=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return mtt(Object.entries(e.classGroups),n).forEach(([o,a])=>{M8(a,r,o,t)}),r},M8=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:FK(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(ptt(i)){M8(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{M8(a,FK(t,o),n,r)})})},FK=(e,t)=>{let n=e;return t.split(b7).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ptt=e=>e.isThemeGetter,mtt=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[t+a,s])):o);return[n,i]}):e,gtt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},Lpe="!",ytt=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,a=s=>{const l=[];let c=0,d=0,u;for(let w=0;w<s.length;w++){let T=s[w];if(c===0){if(T===i&&(r||s.slice(w,w+o)===t)){l.push(s.slice(d,w)),d=w+o;continue}if(T==="/"){u=w;continue}}T==="["?c++:T==="]"&&c--}const p=l.length===0?s:s.substring(d),m=p.startsWith(Lpe),v=m?p.substring(1):p,x=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}};return n?s=>n({className:s,parseClassName:a}):a},btt=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},vtt=e=>({cache:gtt(e.cacheSize),parseClassName:ytt(e),...dtt(e)}),xtt=/\s+/,wtt=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],a=e.trim().split(xtt);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:d,hasImportantModifier:u,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let v=!!m,x=r(v?p.substring(0,m):p);if(!x){if(!v){s=c+(s.length>0?" "+s:s);continue}if(x=r(p),!x){s=c+(s.length>0?" "+s:s);continue}v=!1}const w=btt(d).join(":"),T=u?w+Lpe:w,k=T+x;if(o.includes(k))continue;o.push(k);const N=i(x,v);for(let I=0;I<N.length;++I){const M=N[I];o.push(T+M)}s=c+(s.length>0?" "+s:s)}return s};function Ett(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=jpe(t))&&(r&&(r+=" "),r+=n);return r}const jpe=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=jpe(e[r]))&&(n&&(n+=" "),n+=t);return n};function Stt(e,...t){let n,r,i,o=a;function a(l){const c=t.reduce((d,u)=>u(d),e());return n=vtt(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const d=wtt(l,n);return i(l,d),d}return function(){return o(Ett.apply(null,arguments))}}const ci=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Bpe=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ctt=/^\d+\/\d+$/,Ttt=new Set(["px","full","screen"]),ktt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_tt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Att=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ntt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ott=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sf=e=>Gv(e)||Ttt.has(e)||Ctt.test(e),pp=e=>bx(e,"length",Btt),Gv=e=>!!e&&!Number.isNaN(Number(e)),bL=e=>bx(e,"number",Gv),zE=e=>!!e&&Number.isInteger(Number(e)),Mtt=e=>e.endsWith("%")&&Gv(e.slice(0,-1)),Cn=e=>Bpe.test(e),mp=e=>ktt.test(e),Dtt=new Set(["length","size","percentage"]),Rtt=e=>bx(e,Dtt,$pe),Itt=e=>bx(e,"position",$pe),Ptt=new Set(["image","url"]),Ltt=e=>bx(e,Ptt,Htt),jtt=e=>bx(e,"",$tt),VE=()=>!0,bx=(e,t,n)=>{const r=Bpe.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Btt=e=>_tt.test(e)&&!Att.test(e),$pe=()=>!1,$tt=e=>Ntt.test(e),Htt=e=>Ott.test(e),Ftt=()=>{const e=ci("colors"),t=ci("spacing"),n=ci("blur"),r=ci("brightness"),i=ci("borderColor"),o=ci("borderRadius"),a=ci("borderSpacing"),s=ci("borderWidth"),l=ci("contrast"),c=ci("grayscale"),d=ci("hueRotate"),u=ci("invert"),p=ci("gap"),m=ci("gradientColorStops"),v=ci("gradientColorStopPositions"),x=ci("inset"),w=ci("margin"),T=ci("opacity"),k=ci("padding"),N=ci("saturate"),I=ci("scale"),M=ci("sepia"),A=ci("skew"),R=ci("space"),L=ci("translate"),B=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Cn,t],V=()=>[Cn,t],Y=()=>["",Sf,pp],U=()=>["auto",Gv,Cn],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",Cn],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Gv,Cn];return{cacheSize:500,separator:":",theme:{colors:[VE],spacing:[Sf,pp],blur:["none","",mp,Cn],brightness:Q(),borderColor:[e],borderRadius:["none","","full",mp,Cn],borderSpacing:V(),borderWidth:Y(),contrast:Q(),grayscale:oe(),hueRotate:Q(),invert:oe(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[Mtt,pp],inset:W(),margin:W(),opacity:Q(),padding:V(),saturate:Q(),scale:Q(),sepia:oe(),skew:Q(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Cn]}],container:["container"],columns:[{columns:[mp]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Cn]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zE,Cn]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Cn]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",zE,Cn]}],"grid-cols":[{"grid-cols":[VE]}],"col-start-end":[{col:["auto",{span:["full",zE,Cn]},Cn]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[VE]}],"row-start-end":[{row:["auto",{span:[zE,Cn]},Cn]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Cn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Cn]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Cn,t]}],"min-w":[{"min-w":[Cn,t,"min","max","fit"]}],"max-w":[{"max-w":[Cn,t,"none","full","min","max","fit","prose",{screen:[mp]},mp]}],h:[{h:[Cn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Cn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Cn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Cn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",mp,pp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bL]}],"font-family":[{font:[VE]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Cn]}],"line-clamp":[{"line-clamp":["none",Gv,bL]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sf,Cn]}],"list-image":[{"list-image":["none",Cn]}],"list-style-type":[{list:["none","disc","decimal",Cn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sf,pp]}],"underline-offset":[{"underline-offset":["auto",Sf,Cn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Cn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Cn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),Itt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Rtt]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ltt]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Sf,Cn]}],"outline-w":[{outline:[Sf,pp]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Sf,pp]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",mp,jtt]}],"shadow-color":[{shadow:[VE]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",mp,Cn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[N]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Cn]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Cn]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Cn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[zE,Cn]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Cn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Cn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Cn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sf,pp,bL]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Utt=Stt(Ftt);function UK(e){const t=ztt(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(qtt);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function ztt(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=Ytt(i),s=Wtt(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vtt=Symbol("radix.slottable");function qtt(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vtt}function Wtt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Ytt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function v7(e){const t=e+"CollectionProvider",[n,r]=us(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:w,children:T}=x,k=F.useRef(null),N=F.useRef(new Map).current;return g.jsx(i,{scope:w,itemMap:N,collectionRef:k,children:T})};a.displayName=t;const s=e+"CollectionSlot",l=UK(s),c=F.forwardRef((x,w)=>{const{scope:T,children:k}=x,N=o(s,T),I=wn(w,N.collectionRef);return g.jsx(l,{ref:I,children:k})});c.displayName=s;const d=e+"CollectionItemSlot",u="data-radix-collection-item",p=UK(d),m=F.forwardRef((x,w)=>{const{scope:T,children:k,...N}=x,I=F.useRef(null),M=wn(w,I),A=o(d,T);return F.useEffect(()=>(A.itemMap.set(I,{ref:I,...N}),()=>void A.itemMap.delete(I))),g.jsx(p,{[u]:"",ref:M,children:k})});m.displayName=d;function v(x){const w=o(e+"CollectionConsumer",x);return F.useCallback(()=>{const k=w.collectionRef.current;if(!k)return[];const N=Array.from(k.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((A,R)=>N.indexOf(A.ref.current)-N.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:c,ItemSlot:m},v,r]}var Gtt=C.createContext(void 0);function tk(e){const t=C.useContext(Gtt);return e||t||"ltr"}var vL="rovingFocusGroup.onEntryFocus",Ktt={bubbles:!1,cancelable:!0},nk="RovingFocusGroup",[D8,Hpe,Xtt]=v7(nk),[Ztt,gR]=us(nk,[Xtt]),[Qtt,Jtt]=Ztt(nk),Fpe=C.forwardRef((e,t)=>g.jsx(D8.Provider,{scope:e.__scopeRovingFocusGroup,children:g.jsx(D8.Slot,{scope:e.__scopeRovingFocusGroup,children:g.jsx(ent,{...e,ref:t})})}));Fpe.displayName=nk;var ent=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,p=C.useRef(null),m=wn(t,p),v=tk(o),[x,w]=vc({prop:a,defaultProp:s??null,onChange:l,caller:nk}),[T,k]=C.useState(!1),N=To(c),I=Hpe(n),M=C.useRef(!1),[A,R]=C.useState(0);return C.useEffect(()=>{const L=p.current;if(L)return L.addEventListener(vL,N),()=>L.removeEventListener(vL,N)},[N]),g.jsx(Qtt,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:x,onItemFocus:C.useCallback(L=>w(L),[w]),onItemShiftTab:C.useCallback(()=>k(!0),[]),onFocusableItemAdd:C.useCallback(()=>R(L=>L+1),[]),onFocusableItemRemove:C.useCallback(()=>R(L=>L-1),[]),children:g.jsx(Ct.div,{tabIndex:T||A===0?-1:0,"data-orientation":r,...u,ref:m,style:{outline:"none",...e.style},onMouseDown:ut(e.onMouseDown,()=>{M.current=!0}),onFocus:ut(e.onFocus,L=>{const B=!M.current;if(L.target===L.currentTarget&&B&&!T){const $=new CustomEvent(vL,Ktt);if(L.currentTarget.dispatchEvent($),!$.defaultPrevented){const W=I().filter(q=>q.focusable),V=W.find(q=>q.active),Y=W.find(q=>q.id===x),X=[V,Y,...W].filter(Boolean).map(q=>q.ref.current);Vpe(X,d)}}M.current=!1}),onBlur:ut(e.onBlur,()=>k(!1))})})}),Upe="RovingFocusGroupItem",zpe=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=e,l=Gi(),c=o||l,d=Jtt(Upe,n),u=d.currentTabStopId===c,p=Hpe(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:x}=d;return C.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),g.jsx(D8.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:g.jsx(Ct.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...s,ref:t,onMouseDown:ut(e.onMouseDown,w=>{r?d.onItemFocus(c):w.preventDefault()}),onFocus:ut(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ut(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const T=rnt(w,d.orientation,d.dir);if(T!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let N=p().filter(I=>I.focusable).map(I=>I.ref.current);if(T==="last")N.reverse();else if(T==="prev"||T==="next"){T==="prev"&&N.reverse();const I=N.indexOf(w.currentTarget);N=d.loop?int(N,I+1):N.slice(I+1)}setTimeout(()=>Vpe(N))}}),children:typeof a=="function"?a({isCurrentTabStop:u,hasTabStop:x!=null}):a})})});zpe.displayName=Upe;var tnt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nnt(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function rnt(e,t,n){const r=nnt(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tnt[r]}function Vpe(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function int(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var qpe=Fpe,Wpe=zpe;function ont(e){const t=ant(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(lnt);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function ant(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=unt(i),s=cnt(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var snt=Symbol("radix.slottable");function lnt(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===snt}function cnt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function unt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var R8=["Enter"," "],dnt=["ArrowDown","PageUp","Home"],Ype=["ArrowUp","PageDown","End"],fnt=[...dnt,...Ype],hnt={ltr:[...R8,"ArrowRight"],rtl:[...R8,"ArrowLeft"]},pnt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rk="Menu",[NC,mnt,gnt]=v7(rk),[dy,Gpe]=us(rk,[gnt,fm,gR]),ik=fm(),Kpe=gR(),[Xpe,bm]=dy(rk),[ynt,ok]=dy(rk),Zpe=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:a=!0}=e,s=ik(t),[l,c]=C.useState(null),d=C.useRef(!1),u=To(o),p=tk(i);return C.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),g.jsx(DT,{...s,children:g.jsx(Xpe,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:g.jsx(ynt,{scope:t,onClose:C.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:p,modal:a,children:r})})})};Zpe.displayName=rk;var bnt="MenuAnchor",x7=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ik(n);return g.jsx(RT,{...i,...r,ref:t})});x7.displayName=bnt;var w7="MenuPortal",[vnt,Qpe]=dy(w7,{forceMount:void 0}),Jpe=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=bm(w7,t);return g.jsx(vnt,{scope:t,forceMount:n,children:g.jsx(_o,{present:n||o.open,children:g.jsx(X1,{asChild:!0,container:i,children:r})})})};Jpe.displayName=w7;var mc="MenuContent",[xnt,E7]=dy(mc),eme=C.forwardRef((e,t)=>{const n=Qpe(mc,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=bm(mc,e.__scopeMenu),a=ok(mc,e.__scopeMenu);return g.jsx(NC.Provider,{scope:e.__scopeMenu,children:g.jsx(_o,{present:r||o.open,children:g.jsx(NC.Slot,{scope:e.__scopeMenu,children:a.modal?g.jsx(wnt,{...i,ref:t}):g.jsx(Ent,{...i,ref:t})})})})}),wnt=C.forwardRef((e,t)=>{const n=bm(mc,e.__scopeMenu),r=C.useRef(null),i=wn(t,r);return C.useEffect(()=>{const o=r.current;if(o)return nD(o)},[]),g.jsx(S7,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ut(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Ent=C.forwardRef((e,t)=>{const n=bm(mc,e.__scopeMenu);return g.jsx(S7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Snt=ont("MenuContent.ScrollLock"),S7=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:p,onDismiss:m,disableOutsideScroll:v,...x}=e,w=bm(mc,n),T=ok(mc,n),k=ik(n),N=Kpe(n),I=mnt(n),[M,A]=C.useState(null),R=C.useRef(null),L=wn(t,R,w.onContentChange),B=C.useRef(0),$=C.useRef(""),W=C.useRef(0),V=C.useRef(null),Y=C.useRef("right"),U=C.useRef(0),X=v?yT:C.Fragment,q=v?{as:Snt,allowPinchZoom:!0}:void 0,ne=oe=>{const K=$.current+oe,Q=I().filter(Ee=>!Ee.disabled),te=document.activeElement,z=Q.find(Ee=>Ee.ref.current===te)?.textValue,fe=Q.map(Ee=>Ee.textValue),me=Pnt(fe,K,z),ke=Q.find(Ee=>Ee.textValue===me)?.ref.current;(function Ee(ve){$.current=ve,window.clearTimeout(B.current),ve!==""&&(B.current=window.setTimeout(()=>Ee(""),1e3))})(K),ke&&setTimeout(()=>ke.focus())};C.useEffect(()=>()=>window.clearTimeout(B.current),[]),eD();const Z=C.useCallback(oe=>Y.current===V.current?.side&&jnt(oe,V.current?.area),[]);return g.jsx(xnt,{scope:n,searchRef:$,onItemEnter:C.useCallback(oe=>{Z(oe)&&oe.preventDefault()},[Z]),onItemLeave:C.useCallback(oe=>{Z(oe)||(R.current?.focus(),A(null))},[Z]),onTriggerLeave:C.useCallback(oe=>{Z(oe)&&oe.preventDefault()},[Z]),pointerGraceTimerRef:W,onPointerGraceIntentChange:C.useCallback(oe=>{V.current=oe},[]),children:g.jsx(X,{...q,children:g.jsx(gT,{asChild:!0,trapped:i,onMountAutoFocus:ut(o,oe=>{oe.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:g.jsx(K1,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:p,onDismiss:m,children:g.jsx(qpe,{asChild:!0,...N,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:A,onEntryFocus:ut(l,oe=>{T.isUsingKeyboardRef.current||oe.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(yD,{role:"menu","aria-orientation":"vertical","data-state":yme(w.open),"data-radix-menu-content":"",dir:T.dir,...k,...x,ref:L,style:{outline:"none",...x.style},onKeyDown:ut(x.onKeyDown,oe=>{const Q=oe.target.closest("[data-radix-menu-content]")===oe.currentTarget,te=oe.ctrlKey||oe.altKey||oe.metaKey,z=oe.key.length===1;Q&&(oe.key==="Tab"&&oe.preventDefault(),!te&&z&&ne(oe.key));const fe=R.current;if(oe.target!==fe||!fnt.includes(oe.key))return;oe.preventDefault();const ke=I().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);Ype.includes(oe.key)&&ke.reverse(),Rnt(ke)}),onBlur:ut(e.onBlur,oe=>{oe.currentTarget.contains(oe.target)||(window.clearTimeout(B.current),$.current="")}),onPointerMove:ut(e.onPointerMove,OC(oe=>{const K=oe.target,Q=U.current!==oe.clientX;if(oe.currentTarget.contains(K)&&Q){const te=oe.clientX>U.current?"right":"left";Y.current=te,U.current=oe.clientX}}))})})})})})})});eme.displayName=mc;var Cnt="MenuGroup",C7=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Ct.div,{role:"group",...r,ref:t})});C7.displayName=Cnt;var Tnt="MenuLabel",tme=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Ct.div,{...r,ref:t})});tme.displayName=Tnt;var qO="MenuItem",zK="menu.itemSelect",yR=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=C.useRef(null),a=ok(qO,e.__scopeMenu),s=E7(qO,e.__scopeMenu),l=wn(t,o),c=C.useRef(!1),d=()=>{const u=o.current;if(!n&&u){const p=new CustomEvent(zK,{bubbles:!0,cancelable:!0});u.addEventListener(zK,m=>r?.(m),{once:!0}),Mre(u,p),p.defaultPrevented?c.current=!1:a.onClose()}};return g.jsx(nme,{...i,ref:l,disabled:n,onClick:ut(e.onClick,d),onPointerDown:u=>{e.onPointerDown?.(u),c.current=!0},onPointerUp:ut(e.onPointerUp,u=>{c.current||u.currentTarget?.click()}),onKeyDown:ut(e.onKeyDown,u=>{const p=s.searchRef.current!=="";n||p&&u.key===" "||R8.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});yR.displayName=qO;var nme=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,a=E7(qO,n),s=Kpe(n),l=C.useRef(null),c=wn(t,l),[d,u]=C.useState(!1),[p,m]=C.useState("");return C.useEffect(()=>{const v=l.current;v&&m((v.textContent??"").trim())},[o.children]),g.jsx(NC.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:g.jsx(Wpe,{asChild:!0,...s,focusable:!r,children:g.jsx(Ct.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:ut(e.onPointerMove,OC(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ut(e.onPointerLeave,OC(v=>a.onItemLeave(v))),onFocus:ut(e.onFocus,()=>u(!0)),onBlur:ut(e.onBlur,()=>u(!1))})})})}),knt="MenuCheckboxItem",rme=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return g.jsx(lme,{scope:e.__scopeMenu,checked:n,children:g.jsx(yR,{role:"menuitemcheckbox","aria-checked":WO(n)?"mixed":n,...i,ref:t,"data-state":_7(n),onSelect:ut(i.onSelect,()=>r?.(WO(n)?!0:!n),{checkForDefaultPrevented:!1})})})});rme.displayName=knt;var ime="MenuRadioGroup",[_nt,Ant]=dy(ime,{value:void 0,onValueChange:()=>{}}),ome=C.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=To(r);return g.jsx(_nt,{scope:e.__scopeMenu,value:n,onValueChange:o,children:g.jsx(C7,{...i,ref:t})})});ome.displayName=ime;var ame="MenuRadioItem",sme=C.forwardRef((e,t)=>{const{value:n,...r}=e,i=Ant(ame,e.__scopeMenu),o=n===i.value;return g.jsx(lme,{scope:e.__scopeMenu,checked:o,children:g.jsx(yR,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":_7(o),onSelect:ut(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});sme.displayName=ame;var T7="MenuItemIndicator",[lme,Nnt]=dy(T7,{checked:!1}),cme=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=Nnt(T7,n);return g.jsx(_o,{present:r||WO(o.checked)||o.checked===!0,children:g.jsx(Ct.span,{...i,ref:t,"data-state":_7(o.checked)})})});cme.displayName=T7;var Ont="MenuSeparator",ume=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Ct.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});ume.displayName=Ont;var Mnt="MenuArrow",dme=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ik(n);return g.jsx(bD,{...i,...r,ref:t})});dme.displayName=Mnt;var k7="MenuSub",[Dnt,fme]=dy(k7),hme=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,o=bm(k7,t),a=ik(t),[s,l]=C.useState(null),[c,d]=C.useState(null),u=To(i);return C.useEffect(()=>(o.open===!1&&u(!1),()=>u(!1)),[o.open,u]),g.jsx(DT,{...a,children:g.jsx(Xpe,{scope:t,open:r,onOpenChange:u,content:c,onContentChange:d,children:g.jsx(Dnt,{scope:t,contentId:Gi(),triggerId:Gi(),trigger:s,onTriggerChange:l,children:n})})})};hme.displayName=k7;var uS="MenuSubTrigger",pme=C.forwardRef((e,t)=>{const n=bm(uS,e.__scopeMenu),r=ok(uS,e.__scopeMenu),i=fme(uS,e.__scopeMenu),o=E7(uS,e.__scopeMenu),a=C.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},d=C.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return C.useEffect(()=>d,[d]),C.useEffect(()=>{const u=s.current;return()=>{window.clearTimeout(u),l(null)}},[s,l]),g.jsx(x7,{asChild:!0,...c,children:g.jsx(nme,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":yme(n.open),...e,ref:is(t,i.onTriggerChange),onClick:u=>{e.onClick?.(u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ut(e.onPointerMove,OC(u=>{o.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ut(e.onPointerLeave,OC(u=>{d();const p=n.content?.getBoundingClientRect();if(p){const m=n.content?.dataset.side,v=m==="right",x=v?-5:5,w=p[v?"left":"right"],T=p[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:u.clientX+x,y:u.clientY},{x:w,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:w,y:p.bottom}],side:m}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(u),u.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ut(e.onKeyDown,u=>{const p=o.searchRef.current!=="";e.disabled||p&&u.key===" "||hnt[r.dir].includes(u.key)&&(n.onOpenChange(!0),n.content?.focus(),u.preventDefault())})})})});pme.displayName=uS;var mme="MenuSubContent",gme=C.forwardRef((e,t)=>{const n=Qpe(mc,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=bm(mc,e.__scopeMenu),a=ok(mc,e.__scopeMenu),s=fme(mme,e.__scopeMenu),l=C.useRef(null),c=wn(t,l);return g.jsx(NC.Provider,{scope:e.__scopeMenu,children:g.jsx(_o,{present:r||o.open,children:g.jsx(NC.Slot,{scope:e.__scopeMenu,children:g.jsx(S7,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{a.isUsingKeyboardRef.current&&l.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ut(e.onFocusOutside,d=>{d.target!==s.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ut(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:ut(e.onKeyDown,d=>{const u=d.currentTarget.contains(d.target),p=pnt[a.dir].includes(d.key);u&&p&&(o.onOpenChange(!1),s.trigger?.focus(),d.preventDefault())})})})})})});gme.displayName=mme;function yme(e){return e?"open":"closed"}function WO(e){return e==="indeterminate"}function _7(e){return WO(e)?"indeterminate":e?"checked":"unchecked"}function Rnt(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Int(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Pnt(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=Int(e,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Lnt(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const s=t[o],l=t[a],c=s.x,d=s.y,u=l.x,p=l.y;d>r!=p>r&&n<(u-c)*(r-d)/(p-d)+c&&(i=!i)}return i}function jnt(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Lnt(n,t)}function OC(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Bnt=Zpe,$nt=x7,Hnt=Jpe,Fnt=eme,Unt=C7,znt=tme,Vnt=yR,qnt=rme,Wnt=ome,Ynt=sme,Gnt=cme,Knt=ume,Xnt=dme,Znt=hme,Qnt=pme,Jnt=gme,bR="DropdownMenu",[ert]=us(bR,[Gpe]),Oa=Gpe(),[trt,bme]=ert(bR),vme=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,l=Oa(t),c=C.useRef(null),[d,u]=vc({prop:i,defaultProp:o??!1,onChange:a,caller:bR});return g.jsx(trt,{scope:t,triggerId:Gi(),triggerRef:c,contentId:Gi(),open:d,onOpenChange:u,onOpenToggle:C.useCallback(()=>u(p=>!p),[u]),modal:s,children:g.jsx(Bnt,{...l,open:d,onOpenChange:u,dir:r,modal:s,children:n})})};vme.displayName=bR;var xme="DropdownMenuTrigger",wme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=bme(xme,n),a=Oa(n);return g.jsx($nt,{asChild:!0,...a,children:g.jsx(Ct.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:is(t,o.triggerRef),onPointerDown:ut(e.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(o.onOpenToggle(),o.open||s.preventDefault())}),onKeyDown:ut(e.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&o.onOpenToggle(),s.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});wme.displayName=xme;var nrt="DropdownMenuPortal",Eme=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Oa(t);return g.jsx(Hnt,{...r,...n})};Eme.displayName=nrt;var Sme="DropdownMenuContent",Cme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bme(Sme,n),o=Oa(n),a=C.useRef(!1);return g.jsx(Fnt,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:ut(e.onCloseAutoFocus,s=>{a.current||i.triggerRef.current?.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:ut(e.onInteractOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cme.displayName=Sme;var rrt="DropdownMenuGroup",irt=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oa(n);return g.jsx(Unt,{...i,...r,ref:t})});irt.displayName=rrt;var ort="DropdownMenuLabel",Tme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oa(n);return g.jsx(znt,{...i,...r,ref:t})});Tme.displayName=ort;var art="DropdownMenuItem",kme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oa(n);return g.jsx(Vnt,{...i,...r,ref:t})});kme.displayName=art;var srt="DropdownMenuCheckboxItem",_me=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oa(n);return g.jsx(qnt,{...i,...r,ref:t})});_me.displayName=srt;var lrt="DropdownMenuRadioGroup",crt=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oa(n);return g.jsx(Wnt,{...i,...r,ref:t})});crt.displayName=lrt;var urt="DropdownMenuRadioItem",Ame=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oa(n);return g.jsx(Ynt,{...i,...r,ref:t})});Ame.displayName=urt;var drt="DropdownMenuItemIndicator",Nme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oa(n);return g.jsx(Gnt,{...i,...r,ref:t})});Nme.displayName=drt;var frt="DropdownMenuSeparator",Ome=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oa(n);return g.jsx(Knt,{...i,...r,ref:t})});Ome.displayName=frt;var hrt="DropdownMenuArrow",prt=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oa(n);return g.jsx(Xnt,{...i,...r,ref:t})});prt.displayName=hrt;var mrt=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:o}=e,a=Oa(t),[s,l]=vc({prop:r,defaultProp:o??!1,onChange:i,caller:"DropdownMenuSub"});return g.jsx(Znt,{...a,open:s,onOpenChange:l,children:n})},grt="DropdownMenuSubTrigger",Mme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oa(n);return g.jsx(Qnt,{...i,...r,ref:t})});Mme.displayName=grt;var yrt="DropdownMenuSubContent",Dme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Oa(n);return g.jsx(Jnt,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dme.displayName=yrt;var Rme=vme,Ime=wme,brt=Eme,A7=Cme,N7=Tme,O7=kme,M7=_me,Pme=Ame,D7=Nme,R7=Ome,vrt=mrt,I7=Mme,P7=Dme;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xrt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wrt=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),VK=e=>{const t=wrt(e);return t.charAt(0).toUpperCase()+t.slice(1)},Lme=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Ert=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Srt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Crt=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>C.createElement("svg",{ref:l,...Srt,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Lme("lucide",i),...!o&&!Ert(s)&&{"aria-hidden":"true"},...s},[...a.map(([c,d])=>C.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=(e,t)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(Crt,{ref:o,iconNode:t,className:Lme(`lucide-${xrt(VK(e))}`,`lucide-${e}`,r),...i}));return n.displayName=VK(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jme=vR("check",Trt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const krt=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bme=vR("chevron-down",krt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _rt=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$me=vR("chevron-right",_rt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Art=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Nrt=vR("chevron-up",Art);function Ort(e){const t=Mrt(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(Rrt);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function Mrt(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=Prt(i),s=Irt(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Drt=Symbol("radix.slottable");function Rrt(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Drt}function Irt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Prt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var xR="Popover",[Hme]=us(xR,[fm]),ak=fm(),[Lrt,vm]=Hme(xR),Fme=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!1}=e,s=ak(t),l=C.useRef(null),[c,d]=C.useState(!1),[u,p]=vc({prop:r,defaultProp:i??!1,onChange:o,caller:xR});return g.jsx(DT,{...s,children:g.jsx(Lrt,{scope:t,contentId:Gi(),triggerRef:l,open:u,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:c,onCustomAnchorAdd:C.useCallback(()=>d(!0),[]),onCustomAnchorRemove:C.useCallback(()=>d(!1),[]),modal:a,children:n})})};Fme.displayName=xR;var Ume="PopoverAnchor",jrt=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=vm(Ume,n),o=ak(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=i;return C.useEffect(()=>(a(),()=>s()),[a,s]),g.jsx(RT,{...o,...r,ref:t})});jrt.displayName=Ume;var zme="PopoverTrigger",Vme=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=vm(zme,n),o=ak(n),a=wn(t,i.triggerRef),s=g.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Kme(i.open),...r,ref:a,onClick:ut(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:g.jsx(RT,{asChild:!0,...o,children:s})});Vme.displayName=zme;var L7="PopoverPortal",[Brt,$rt]=Hme(L7,{forceMount:void 0}),qme=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=vm(L7,t);return g.jsx(Brt,{scope:t,forceMount:n,children:g.jsx(_o,{present:n||o.open,children:g.jsx(X1,{asChild:!0,container:i,children:r})})})};qme.displayName=L7;var C1="PopoverContent",Wme=C.forwardRef((e,t)=>{const n=$rt(C1,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=vm(C1,e.__scopePopover);return g.jsx(_o,{present:r||o.open,children:o.modal?g.jsx(Frt,{...i,ref:t}):g.jsx(Urt,{...i,ref:t})})});Wme.displayName=C1;var Hrt=Ort("PopoverContent.RemoveScroll"),Frt=C.forwardRef((e,t)=>{const n=vm(C1,e.__scopePopover),r=C.useRef(null),i=wn(t,r),o=C.useRef(!1);return C.useEffect(()=>{const a=r.current;if(a)return nD(a)},[]),g.jsx(yT,{as:Hrt,allowPinchZoom:!0,children:g.jsx(Yme,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ut(e.onCloseAutoFocus,a=>{a.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ut(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ut(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Urt=C.forwardRef((e,t)=>{const n=vm(C1,e.__scopePopover),r=C.useRef(!1),i=C.useRef(!1);return g.jsx(Yme,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Yme=C.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...u}=e,p=vm(C1,n),m=ak(n);return eD(),g.jsx(gT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:g.jsx(K1,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:g.jsx(yD,{"data-state":Kme(p.open),role:"dialog",id:p.contentId,...m,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Gme="PopoverClose",zrt=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=vm(Gme,n);return g.jsx(Ct.button,{type:"button",...r,ref:t,onClick:ut(e.onClick,()=>i.onOpenChange(!1))})});zrt.displayName=Gme;var Vrt="PopoverArrow",qrt=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ak(n);return g.jsx(bD,{...i,...r,ref:t})});qrt.displayName=Vrt;function Kme(e){return e?"open":"closed"}var Xme=Fme,Zme=Vme,Wrt=qme,Qme=Wme;function I8(e,[t,n]){return Math.min(n,Math.max(t,e))}function Yrt(e){const t=Grt(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(Xrt);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function Grt(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=Qrt(i),s=Zrt(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Krt=Symbol("radix.slottable");function Xrt(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Krt}function Zrt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Qrt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Jme(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Jrt=[" ","Enter","ArrowUp","ArrowDown"],eit=[" ","Enter"],z0="Select",[wR,ER,tit]=v7(z0),[vx]=us(z0,[tit,fm]),SR=fm(),[nit,xm]=vx(z0),[rit,iit]=vx(z0),ege=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:p,required:m,form:v}=e,x=SR(t),[w,T]=C.useState(null),[k,N]=C.useState(null),[I,M]=C.useState(!1),A=tk(c),[R,L]=vc({prop:r,defaultProp:i??!1,onChange:o,caller:z0}),[B,$]=vc({prop:a,defaultProp:s,onChange:l,caller:z0}),W=C.useRef(null),V=w?v||!!w.closest("form"):!0,[Y,U]=C.useState(new Set),X=Array.from(Y).map(q=>q.props.value).join(";");return g.jsx(DT,{...x,children:g.jsxs(nit,{required:m,scope:t,trigger:w,onTriggerChange:T,valueNode:k,onValueNodeChange:N,valueNodeHasChildren:I,onValueNodeHasChildrenChange:M,contentId:Gi(),value:B,onValueChange:$,open:R,onOpenChange:L,dir:A,triggerPointerDownPosRef:W,disabled:p,children:[g.jsx(wR.Provider,{scope:t,children:g.jsx(rit,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(q=>{U(ne=>new Set(ne).add(q))},[]),onNativeOptionRemove:C.useCallback(q=>{U(ne=>{const Z=new Set(ne);return Z.delete(q),Z})},[]),children:n})}),V?g.jsxs(Cge,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:u,value:B,onChange:q=>$(q.target.value),disabled:p,form:v,children:[B===void 0?g.jsx("option",{value:""}):null,Array.from(Y)]},X):null]})})};ege.displayName=z0;var tge="SelectTrigger",nge=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=SR(n),a=xm(tge,n),s=a.disabled||r,l=wn(t,a.onTriggerChange),c=ER(n),d=C.useRef("touch"),[u,p,m]=kge(x=>{const w=c().filter(N=>!N.disabled),T=w.find(N=>N.value===a.value),k=_ge(w,x,T);k!==void 0&&a.onValueChange(k.value)}),v=x=>{s||(a.onOpenChange(!0),m()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return g.jsx(RT,{asChild:!0,...o,children:g.jsx(Ct.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Tge(a.value)?"":void 0,...i,ref:l,onClick:ut(i.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&v(x)}),onPointerDown:ut(i.onPointerDown,x=>{d.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:ut(i.onKeyDown,x=>{const w=u.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(w&&x.key===" ")&&Jrt.includes(x.key)&&(v(),x.preventDefault())})})})});nge.displayName=tge;var rge="SelectValue",ige=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=e,l=xm(rge,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,u=wn(t,l.onValueNodeChange);return Xi(()=>{c(d)},[c,d]),g.jsx(Ct.span,{...s,ref:u,style:{pointerEvents:"none"},children:Tge(l.value)?g.jsx(g.Fragment,{children:a}):o})});ige.displayName=rge;var oit="SelectIcon",oge=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return g.jsx(Ct.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});oge.displayName=oit;var ait="SelectPortal",age=e=>g.jsx(X1,{asChild:!0,...e});age.displayName=ait;var V0="SelectContent",sge=C.forwardRef((e,t)=>{const n=xm(V0,e.__scopeSelect),[r,i]=C.useState();if(Xi(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?ka.createPortal(g.jsx(lge,{scope:e.__scopeSelect,children:g.jsx(wR.Slot,{scope:e.__scopeSelect,children:g.jsx("div",{children:e.children})})}),o):null}return g.jsx(cge,{...e,ref:t})});sge.displayName=V0;var Qc=10,[lge,wm]=vx(V0),sit="SelectContentImpl",lit=Yrt("SelectContent.RemoveScroll"),cge=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:w,...T}=e,k=xm(V0,n),[N,I]=C.useState(null),[M,A]=C.useState(null),R=wn(t,Ee=>I(Ee)),[L,B]=C.useState(null),[$,W]=C.useState(null),V=ER(n),[Y,U]=C.useState(!1),X=C.useRef(!1);C.useEffect(()=>{if(N)return nD(N)},[N]),eD();const q=C.useCallback(Ee=>{const[ve,...we]=V().map(Me=>Me.ref.current),[je]=we.slice(-1),Ke=document.activeElement;for(const Me of Ee)if(Me===Ke||(Me?.scrollIntoView({block:"nearest"}),Me===ve&&M&&(M.scrollTop=0),Me===je&&M&&(M.scrollTop=M.scrollHeight),Me?.focus(),document.activeElement!==Ke))return},[V,M]),ne=C.useCallback(()=>q([L,N]),[q,L,N]);C.useEffect(()=>{Y&&ne()},[Y,ne]);const{onOpenChange:Z,triggerPointerDownPosRef:oe}=k;C.useEffect(()=>{if(N){let Ee={x:0,y:0};const ve=je=>{Ee={x:Math.abs(Math.round(je.pageX)-(oe.current?.x??0)),y:Math.abs(Math.round(je.pageY)-(oe.current?.y??0))}},we=je=>{Ee.x<=10&&Ee.y<=10?je.preventDefault():N.contains(je.target)||Z(!1),document.removeEventListener("pointermove",ve),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",we,{capture:!0})}}},[N,Z,oe]),C.useEffect(()=>{const Ee=()=>Z(!1);return window.addEventListener("blur",Ee),window.addEventListener("resize",Ee),()=>{window.removeEventListener("blur",Ee),window.removeEventListener("resize",Ee)}},[Z]);const[K,Q]=kge(Ee=>{const ve=V().filter(Ke=>!Ke.disabled),we=ve.find(Ke=>Ke.ref.current===document.activeElement),je=_ge(ve,Ee,we);je&&setTimeout(()=>je.ref.current.focus())}),te=C.useCallback((Ee,ve,we)=>{const je=!X.current&&!we;(k.value!==void 0&&k.value===ve||je)&&(B(Ee),je&&(X.current=!0))},[k.value]),z=C.useCallback(()=>N?.focus(),[N]),fe=C.useCallback((Ee,ve,we)=>{const je=!X.current&&!we;(k.value!==void 0&&k.value===ve||je)&&W(Ee)},[k.value]),me=r==="popper"?P8:uge,ke=me===P8?{side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:w}:{};return g.jsx(lge,{scope:n,content:N,viewport:M,onViewportChange:A,itemRefCallback:te,selectedItem:L,onItemLeave:z,itemTextRefCallback:fe,focusSelectedItem:ne,selectedItemText:$,position:r,isPositioned:Y,searchRef:K,children:g.jsx(yT,{as:lit,allowPinchZoom:!0,children:g.jsx(gT,{asChild:!0,trapped:k.open,onMountAutoFocus:Ee=>{Ee.preventDefault()},onUnmountAutoFocus:ut(i,Ee=>{k.trigger?.focus({preventScroll:!0}),Ee.preventDefault()}),children:g.jsx(K1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:Ee=>Ee.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:g.jsx(me,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:Ee=>Ee.preventDefault(),...T,...ke,onPlaced:()=>U(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:ut(T.onKeyDown,Ee=>{const ve=Ee.ctrlKey||Ee.altKey||Ee.metaKey;if(Ee.key==="Tab"&&Ee.preventDefault(),!ve&&Ee.key.length===1&&Q(Ee.key),["ArrowUp","ArrowDown","Home","End"].includes(Ee.key)){let je=V().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(Ee.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ee.key)){const Ke=Ee.target,Me=je.indexOf(Ke);je=je.slice(Me+1)}setTimeout(()=>q(je)),Ee.preventDefault()}})})})})})})});cge.displayName=sit;var cit="SelectItemAlignedPosition",uge=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=xm(V0,n),a=wm(V0,n),[s,l]=C.useState(null),[c,d]=C.useState(null),u=wn(t,R=>d(R)),p=ER(n),m=C.useRef(!1),v=C.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:T,focusSelectedItem:k}=a,N=C.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&x&&w&&T){const R=o.trigger.getBoundingClientRect(),L=c.getBoundingClientRect(),B=o.valueNode.getBoundingClientRect(),$=T.getBoundingClientRect();if(o.dir!=="rtl"){const Ke=$.left-L.left,Me=B.left-Ke,Lt=R.left-Me,Ve=R.width+Lt,an=Math.max(Ve,L.width),cn=window.innerWidth-Qc,Qt=I8(Me,[Qc,Math.max(Qc,cn-an)]);s.style.minWidth=Ve+"px",s.style.left=Qt+"px"}else{const Ke=L.right-$.right,Me=window.innerWidth-B.right-Ke,Lt=window.innerWidth-R.right-Me,Ve=R.width+Lt,an=Math.max(Ve,L.width),cn=window.innerWidth-Qc,Qt=I8(Me,[Qc,Math.max(Qc,cn-an)]);s.style.minWidth=Ve+"px",s.style.right=Qt+"px"}const W=p(),V=window.innerHeight-Qc*2,Y=x.scrollHeight,U=window.getComputedStyle(c),X=parseInt(U.borderTopWidth,10),q=parseInt(U.paddingTop,10),ne=parseInt(U.borderBottomWidth,10),Z=parseInt(U.paddingBottom,10),oe=X+q+Y+Z+ne,K=Math.min(w.offsetHeight*5,oe),Q=window.getComputedStyle(x),te=parseInt(Q.paddingTop,10),z=parseInt(Q.paddingBottom,10),fe=R.top+R.height/2-Qc,me=V-fe,ke=w.offsetHeight/2,Ee=w.offsetTop+ke,ve=X+q+Ee,we=oe-ve;if(ve<=fe){const Ke=W.length>0&&w===W[W.length-1].ref.current;s.style.bottom="0px";const Me=c.clientHeight-x.offsetTop-x.offsetHeight,Lt=Math.max(me,ke+(Ke?z:0)+Me+ne),Ve=ve+Lt;s.style.height=Ve+"px"}else{const Ke=W.length>0&&w===W[0].ref.current;s.style.top="0px";const Lt=Math.max(fe,X+x.offsetTop+(Ke?te:0)+ke)+we;s.style.height=Lt+"px",x.scrollTop=ve-fe+x.offsetTop}s.style.margin=`${Qc}px 0`,s.style.minHeight=K+"px",s.style.maxHeight=V+"px",r?.(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,s,c,x,w,T,o.dir,r]);Xi(()=>N(),[N]);const[I,M]=C.useState();Xi(()=>{c&&M(window.getComputedStyle(c).zIndex)},[c]);const A=C.useCallback(R=>{R&&v.current===!0&&(N(),k?.(),v.current=!1)},[N,k]);return g.jsx(dit,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:A,children:g.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:g.jsx(Ct.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});uge.displayName=cit;var uit="SelectPopperPosition",P8=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Qc,...o}=e,a=SR(n);return g.jsx(yD,{...a,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});P8.displayName=uit;var[dit,j7]=vx(V0,{}),L8="SelectViewport",dge=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=wm(L8,n),a=j7(L8,n),s=wn(t,o.onViewportChange),l=C.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(wR.Slot,{scope:n,children:g.jsx(Ct.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ut(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:p}=a;if(p?.current&&u){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-Qc*2,x=parseFloat(u.style.minHeight),w=parseFloat(u.style.height),T=Math.max(x,w);if(T<v){const k=T+m,N=Math.min(v,k),I=k-N;u.style.height=N+"px",u.style.bottom==="0px"&&(d.scrollTop=I>0?I:0,u.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});dge.displayName=L8;var fge="SelectGroup",[fit,hit]=vx(fge),pit=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Gi();return g.jsx(fit,{scope:n,id:i,children:g.jsx(Ct.div,{role:"group","aria-labelledby":i,...r,ref:t})})});pit.displayName=fge;var hge="SelectLabel",pge=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=hit(hge,n);return g.jsx(Ct.div,{id:i.id,...r,ref:t})});pge.displayName=hge;var YO="SelectItem",[mit,mge]=vx(YO),gge=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=e,s=xm(YO,n),l=wm(YO,n),c=s.value===r,[d,u]=C.useState(o??""),[p,m]=C.useState(!1),v=wn(t,k=>l.itemRefCallback?.(k,r,i)),x=Gi(),w=C.useRef("touch"),T=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(mit,{scope:n,value:r,disabled:i,textId:x,isSelected:c,onItemTextChange:C.useCallback(k=>{u(N=>N||(k?.textContent??"").trim())},[]),children:g.jsx(wR.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:g.jsx(Ct.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:ut(a.onFocus,()=>m(!0)),onBlur:ut(a.onBlur,()=>m(!1)),onClick:ut(a.onClick,()=>{w.current!=="mouse"&&T()}),onPointerUp:ut(a.onPointerUp,()=>{w.current==="mouse"&&T()}),onPointerDown:ut(a.onPointerDown,k=>{w.current=k.pointerType}),onPointerMove:ut(a.onPointerMove,k=>{w.current=k.pointerType,i?l.onItemLeave?.():w.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ut(a.onPointerLeave,k=>{k.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:ut(a.onKeyDown,k=>{l.searchRef?.current!==""&&k.key===" "||(eit.includes(k.key)&&T(),k.key===" "&&k.preventDefault())})})})})});gge.displayName=YO;var dS="SelectItemText",yge=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,a=xm(dS,n),s=wm(dS,n),l=mge(dS,n),c=iit(dS,n),[d,u]=C.useState(null),p=wn(t,T=>u(T),l.onItemTextChange,T=>s.itemTextRefCallback?.(T,l.value,l.disabled)),m=d?.textContent,v=C.useMemo(()=>g.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=c;return Xi(()=>(x(v),()=>w(v)),[x,w,v]),g.jsxs(g.Fragment,{children:[g.jsx(Ct.span,{id:l.textId,...o,ref:p}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ka.createPortal(o.children,a.valueNode):null]})});yge.displayName=dS;var bge="SelectItemIndicator",vge=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return mge(bge,n).isSelected?g.jsx(Ct.span,{"aria-hidden":!0,...r,ref:t}):null});vge.displayName=bge;var j8="SelectScrollUpButton",xge=C.forwardRef((e,t)=>{const n=wm(j8,e.__scopeSelect),r=j7(j8,e.__scopeSelect),[i,o]=C.useState(!1),a=wn(t,r.onScrollButtonChange);return Xi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?g.jsx(Ege,{...e,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});xge.displayName=j8;var B8="SelectScrollDownButton",wge=C.forwardRef((e,t)=>{const n=wm(B8,e.__scopeSelect),r=j7(B8,e.__scopeSelect),[i,o]=C.useState(!1),a=wn(t,r.onScrollButtonChange);return Xi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?g.jsx(Ege,{...e,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});wge.displayName=B8;var Ege=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=wm("SelectScrollButton",n),a=C.useRef(null),s=ER(n),l=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),Xi(()=>{s().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),g.jsx(Ct.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ut(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ut(i.onPointerMove,()=>{o.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ut(i.onPointerLeave,()=>{l()})})}),git="SelectSeparator",Sge=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return g.jsx(Ct.div,{"aria-hidden":!0,...r,ref:t})});Sge.displayName=git;var $8="SelectArrow",yit=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=SR(n),o=xm($8,n),a=wm($8,n);return o.open&&a.position==="popper"?g.jsx(bD,{...i,...r,ref:t}):null});yit.displayName=$8;var bit="SelectBubbleInput",Cge=C.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=C.useRef(null),o=wn(r,i),a=Jme(t);return C.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&d){const u=new Event("change",{bubbles:!0});d.call(s,t),s.dispatchEvent(u)}},[a,t]),g.jsx(Ct.select,{...n,style:{...xae,...n.style},ref:o,defaultValue:t})});Cge.displayName=bit;function Tge(e){return e===""||e===void 0}function kge(e){const t=To(e),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(a=>{const s=n.current+a;t(s),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(s)},[t]),o=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function _ge(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=vit(e,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function vit(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Age=ege,B7=nge,Nge=ige,Oge=oge,xit=age,$7=sge,Mge=dge,Dge=pge,H7=gge,Rge=yge,Ige=vge,F7=xge,U7=wge,Pge=Sge,CR="Tabs",[wit]=us(CR,[gR]),Lge=gR(),[Eit,z7]=wit(CR),jge=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=e,d=tk(s),[u,p]=vc({prop:r,onChange:i,defaultProp:o??"",caller:CR});return g.jsx(Eit,{scope:n,baseId:Gi(),value:u,onValueChange:p,orientation:a,dir:d,activationMode:l,children:g.jsx(Ct.div,{dir:d,"data-orientation":a,...c,ref:t})})});jge.displayName=CR;var Bge="TabsList",$ge=C.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=z7(Bge,n),a=Lge(n);return g.jsx(qpe,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:g.jsx(Ct.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});$ge.displayName=Bge;var Hge="TabsTrigger",Fge=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,a=z7(Hge,n),s=Lge(n),l=Vge(a.baseId,r),c=qge(a.baseId,r),d=r===a.value;return g.jsx(Wpe,{asChild:!0,...s,focusable:!i,active:d,children:g.jsx(Ct.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:t,onMouseDown:ut(e.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?a.onValueChange(r):u.preventDefault()}),onKeyDown:ut(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&a.onValueChange(r)}),onFocus:ut(e.onFocus,()=>{const u=a.activationMode!=="manual";!d&&!i&&u&&a.onValueChange(r)})})})});Fge.displayName=Hge;var Uge="TabsContent",zge=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=e,s=z7(Uge,n),l=Vge(s.baseId,r),c=qge(s.baseId,r),d=r===s.value,u=C.useRef(d);return C.useEffect(()=>{const p=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(p)},[]),g.jsx(_o,{present:i||d,children:({present:p})=>g.jsx(Ct.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:p&&o})})});zge.displayName=Uge;function Vge(e,t){return`${e}-trigger-${t}`}function qge(e,t){return`${e}-content-${t}`}var Wge=jge,V7=$ge,q7=Fge,W7=zge,Yge="Toggle",Gge=C.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:i,...o}=e,[a,s]=vc({prop:n,onChange:i,defaultProp:r??!1,caller:Yge});return g.jsx(Ct.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:ut(e.onClick,()=>{e.disabled||s(!a)})})});Gge.displayName=Yge;var Sit=Gge;function Pt(...e){return Utt(Xn(e))}function Cit({className:e,...t}){return g.jsx(ltt,{"data-slot":"avatar",className:Pt("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function Tit({className:e,...t}){return g.jsx(ctt,{"data-slot":"avatar-image",className:Pt("aspect-square size-full",e),...t})}function kit({className:e,...t}){return g.jsx(utt,{"data-slot":"avatar-fallback",className:Pt("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const _it=J0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ait({className:e,variant:t,asChild:n=!1,...r}){return g.jsx(n?IH:"span",{"data-slot":"badge",className:Pt(_it({variant:t}),e),...r})}const Nit=J0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*=size-])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Oit({className:e,variant:t,size:n,asChild:r=!1,...i}){return g.jsx(r?IH:"button",{"data-slot":"button",className:Pt(Nit({variant:t,size:n,className:e})),...i})}function Mit({className:e,...t}){return g.jsx("div",{"data-slot":"card",className:Pt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Dit({className:e,...t}){return g.jsx("div",{"data-slot":"card-content",className:Pt("px-6",e),...t})}function Rit({...e}){return g.jsx(Rme,{"data-slot":"dropdown-menu",...e})}function Iit({...e}){return g.jsx(Ime,{"data-slot":"dropdown-menu-trigger",...e})}function Pit({className:e,sideOffset:t=4,...n}){return g.jsx(A7,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Pt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-dropdown-menu-content-available-height) origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border p-1 shadow-md",e),...n})}function Lit({className:e,inset:t,variant:n="default",...r}){return g.jsx(O7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Pt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r})}function jit({className:e,children:t,checked:n,...r}){return g.jsxs(M7,{"data-slot":"dropdown-menu-checkbox-item",className:Pt("focus:bg-accent focus:text-accent-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-8 pr-2 text-sm data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),checked:n,...r,children:[g.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:g.jsx(D7,{children:g.jsx(jme,{className:"size-4"})})}),t]})}function Bit({className:e,inset:t,...n}){return g.jsx(N7,{"data-slot":"dropdown-menu-label","data-inset":t,className:Pt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function $it({className:e,...t}){return g.jsx(R7,{"data-slot":"dropdown-menu-separator",className:Pt("bg-border -mx-1 my-1 h-px",e),...t})}function Hit({...e}){return g.jsx(vrt,{"data-slot":"dropdown-menu-sub",...e})}function Fit({className:e,inset:t,children:n,...r}){return g.jsxs(I7,{"data-slot":"dropdown-menu-sub-trigger","data-inset":t,className:Pt("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground outline-hidden flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm data-[inset]:pl-8",e),...r,children:[n,g.jsx($me,{className:"ml-auto size-4"})]})}function Uit({className:e,...t}){return g.jsx(P7,{"data-slot":"dropdown-menu-sub-content",className:Pt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-lg",e),...t})}function zit({className:e,...t}){return g.jsx(t9,{"data-slot":"label",className:Pt("flex select-none items-center gap-2 text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-50 group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50",e),...t})}const Vit=jet;C.createContext({});C.createContext({});function qit({className:e,type:t,...n}){return g.jsx("input",{type:t,"data-slot":"input",className:Pt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base outline-none transition-[color,box-shadow] file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function Wit({...e}){return g.jsx(Xme,{"data-slot":"popover",...e})}function Yit({...e}){return g.jsx(Zme,{"data-slot":"popover-trigger",...e})}function Git({className:e,align:t="center",sideOffset:n=4,...r}){return g.jsx(Qme,{"data-slot":"popover-content",align:t,sideOffset:n,className:Pt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-popover-content-transform-origin) outline-hidden z-50 w-72 rounded-md border p-4 shadow-md",e),...r})}function Kit({...e}){return g.jsx(Age,{"data-slot":"select",...e})}function Xit({...e}){return g.jsx(Nge,{"data-slot":"select-value",...e})}function Zit({className:e,size:t="default",children:n,...r}){return g.jsxs(B7,{"data-slot":"select-trigger","data-size":t,className:Pt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*=text-])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 shadow-xs flex w-fit items-center justify-between gap-2 whitespace-nowrap rounded-md border bg-transparent px-3 py-2 text-sm outline-none transition-[color,box-shadow] focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r,children:[n,g.jsx(Oge,{asChild:!0,children:g.jsx(Bme,{className:"size-4 opacity-50"})})]})}function Qit({className:e,children:t,position:n="popper",...r}){return g.jsxs($7,{"data-slot":"select-content",className:Pt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-select-content-available-height) origin-(--radix-select-content-transform-origin) relative z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[g.jsx(eot,{}),g.jsx(Mge,{className:Pt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),g.jsx(tot,{})]})}function Jit({className:e,children:t,...n}){return g.jsxs(H7,{"data-slot":"select-item",className:Pt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2 relative flex w-full cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-2 pr-8 text-sm data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...n,children:[g.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:g.jsx(Ige,{children:g.jsx(jme,{className:"size-4"})})}),g.jsx(Rge,{children:t})]})}function eot({className:e,...t}){return g.jsx(F7,{"data-slot":"select-scroll-up-button",className:Pt("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(Nrt,{className:"size-4"})})}function tot({className:e,...t}){return g.jsx(U7,{"data-slot":"select-scroll-down-button",className:Pt("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(Bme,{className:"size-4"})})}function not({className:e,...t}){return g.jsx("div",{"data-slot":"skeleton",className:Pt("bg-accent animate-pulse rounded-md",e),...t})}function rot({className:e,...t}){return g.jsx(Wge,{"data-slot":"tabs",className:Pt("flex flex-col gap-2",e),...t})}function iot({className:e,...t}){return g.jsx(V7,{"data-slot":"tabs-list",className:Pt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function oot({className:e,...t}){return g.jsx(q7,{"data-slot":"tabs-trigger",className:Pt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 whitespace-nowrap rounded-md border border-transparent px-2 py-1 text-sm font-medium transition-[color,box-shadow] focus-visible:outline-1 focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...t})}function aot({className:e,...t}){return g.jsx(W7,{"data-slot":"tabs-content",className:Pt("flex-1 outline-none",e),...t})}const sot=J0("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*=size-])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function lot({className:e,variant:t,size:n,...r}){return g.jsx(Sit,{"data-slot":"toggle",className:Pt(sot({variant:t,size:n,className:e})),...r})}function Kge({delayDuration:e=0,...t}){return g.jsx(Mae,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function cot({...e}){return g.jsx(Kge,{children:g.jsx(Dae,{"data-slot":"tooltip",...e})})}function uot({...e}){return g.jsx(Rae,{"data-slot":"tooltip-trigger",...e})}function dot({className:e,sideOffset:t=0,children:n,...r}){return g.jsxs(JH,{"data-slot":"tooltip-content",sideOffset:t,className:Pt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-tooltip-content-transform-origin) z-50 w-fit text-balance rounded-md px-3 py-1.5 text-xs",e),...r,children:[n,g.jsx(vMe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})}const fot={Avatar:{Avatar:Cit,AvatarFallback:kit,AvatarImage:Tit},Badge:{Badge:Ait},Button:{Button:Oit},Card:{Card:Mit,CardContent:Dit},DropdownMenu:{DropdownMenu:Rit,DropdownMenuCheckboxItem:jit,DropdownMenuContent:Pit,DropdownMenuItem:Lit,DropdownMenuLabel:Bit,DropdownMenuSeparator:$it,DropdownMenuSub:Hit,DropdownMenuSubContent:Uit,DropdownMenuSubTrigger:Fit,DropdownMenuTrigger:Iit},Form:{Form:Vit},Input:{Input:qit},Label:{Label:zit},Popover:{Popover:Wit,PopoverContent:Git,PopoverTrigger:Yit},Select:{Select:Kit,SelectContent:Qit,SelectItem:Jit,SelectTrigger:Zit,SelectValue:Xit},Skeleton:{Skeleton:not},Tabs:{Tabs:rot,TabsContent:aot,TabsList:iot,TabsTrigger:oot},Toggle:{Toggle:lot},Tooltip:{Tooltip:cot,TooltipContent:dot,TooltipProvider:Kge,TooltipTrigger:uot}},Xge=C.createContext(void 0);function Br(){return C.useContext(Xge)}const hot=e=>{const{children:t,...n}=e;Sn(n);const r=Br(),i=ntt();return g.jsx(r.Form.Form,{...i,children:t})},pot=C.forwardRef((e,t)=>{const{className:n,name:r,label:i,variant:o,icon:a,value:s,autoFocus:l,placeholder:c,disabled:d,onKeyDown:u,onChange:p,onSubmit:m,autoComplete:v,rightSection:x,...w}=e;Sn(w);const T=Br();return g.jsxs("div",{className:Pt(n,"border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","text-foreground items-center gap-2"),children:[a,g.jsxs("div",{className:"flex-1",children:[i&&g.jsx(T.Label.Label,{htmlFor:i,children:i}),g.jsx(T.Input.Input,{className:Pt(n,"h-auto border-none p-0"),id:i,name:r,autoFocus:l,placeholder:c,disabled:d,value:s,onKeyDown:u,onChange:p,onSubmit:m,ref:t})]}),x]})}),mot=e=>C.forwardRef((t,n)=>g.jsx(e,{onPointerDown:r=>{r.nativeEvent.fakeEvent||(r.ctrlKey=!0)},onPointerUp:r=>{const i=new PointerEvent("pointerdown",r.nativeEvent);i.fakeEvent=!0,r.target.dispatchEvent(i)},...t,ref:n})),got=e=>{const{children:t,onOpenChange:n,position:r,sub:i,...o}=e;Sn(o);const a=Br();return i?g.jsx(a.DropdownMenu.DropdownMenuSub,{onOpenChange:n,children:t}):g.jsx(a.DropdownMenu.DropdownMenu,{modal:!1,onOpenChange:n,children:t})},yot=e=>{const{children:t,sub:n,...r}=e;Sn(r);const i=Br(),o=C.useMemo(()=>mot(i.DropdownMenu.DropdownMenuTrigger),[i.DropdownMenu.DropdownMenuTrigger]);return n?g.jsx(i.DropdownMenu.DropdownMenuSubTrigger,{children:t}):g.jsx(o,{asChild:!0,...r,children:t})},bot=C.forwardRef((e,t)=>{const{className:n,children:r,sub:i,...o}=e;Sn(o);const a=Br();return i?g.jsx(a.DropdownMenu.DropdownMenuSubContent,{className:n,ref:t,children:r}):g.jsx(a.DropdownMenu.DropdownMenuContent,{className:n,ref:t,children:r})}),vot=C.forwardRef((e,t)=>{const{className:n,children:r,icon:i,checked:o,subTrigger:a,onClick:s,...l}=e;Sn(l);const c=Br();return a?g.jsxs(g.Fragment,{children:[i,r]}):o!==void 0?g.jsxs(c.DropdownMenu.DropdownMenuCheckboxItem,{className:Pt(n,"gap-1",o?"":"px-2"),ref:t,checked:o,onClick:s,...l,children:[i,r]}):g.jsxs(c.DropdownMenu.DropdownMenuItem,{className:n,ref:t,onClick:s,...l,children:[i,r,a&&g.jsx($me,{className:"ml-auto h-4 w-4"})]})}),xot=C.forwardRef((e,t)=>{const{className:n,...r}=e;Sn(r);const i=Br();return g.jsx(i.DropdownMenu.DropdownMenuSeparator,{className:n,ref:t})}),wot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;Sn(i);const o=Br();return g.jsx(o.DropdownMenu.DropdownMenuLabel,{className:n,ref:t,children:r})}),Eot=C.forwardRef((e,t)=>{const{className:n,children:r,icon:i,onClick:o,onDragEnd:a,onDragStart:s,draggable:l,label:c,...d}=e;Sn(d,!1);const u=Br();return g.jsxs(u.Button.Button,{variant:"ghost",className:Pt(n,"text-gray-400"),ref:t,"aria-label":c,onClick:o,onDragStart:s,onDragEnd:a,draggable:l,...d,children:[i,r]})}),Sot=C.forwardRef((e,t)=>{const{className:n,tabs:r,defaultOpenTab:i,openTab:o,setOpenTab:a,loading:s,...l}=e;Sn(l);const c=Br();return g.jsxs(c.Tabs.Tabs,{className:Pt(n,"bg-popover max-w-screen rounded-lg p-2"),ref:t,value:o,defaultValue:i,onValueChange:a,children:[g.jsx(c.Tabs.TabsList,{children:r.map(d=>g.jsx(c.Tabs.TabsTrigger,{value:d.name,children:d.name},d.name))}),r.map(d=>g.jsx(c.Tabs.TabsContent,{value:d.name,children:g.jsx(c.Card.Card,{children:g.jsx(c.Card.CardContent,{className:"p-4",children:d.tabPanel})})},d.name))]})}),Cot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return Sn(i),g.jsx("div",{className:Pt(n,"flex flex-col items-start justify-center gap-2"),ref:t,children:r})}),Tot=C.forwardRef((e,t)=>{const{className:n,value:r,placeholder:i,onKeyDown:o,onChange:a,...s}=e;Sn(s);const l=Br();return g.jsx(l.Input.Input,{"data-test":"embed-input",className:Pt(n,"w-80 max-w-full"),ref:t,value:r,placeholder:i,onKeyDown:o,onChange:a})}),kot=e=>{const{children:t,opened:n,position:r,...i}=e;Sn(i);const o=Br();return g.jsx(o.Popover.Popover,{open:n,children:t})},_ot=C.forwardRef((e,t)=>{const{children:n,...r}=e;Sn(r);const i=Br();return g.jsx(i.Popover.PopoverTrigger,{ref:t,asChild:!0,children:n})}),Aot=C.forwardRef((e,t)=>{const{className:n,variant:r,children:i,...o}=e;Sn(o);const a=Br();return g.jsx(a.Popover.PopoverContent,{sideOffset:8,className:Pt(n,"z-[10000] flex flex-col gap-2",r==="panel-popover"?"w-fit max-w-none border-none p-0 shadow-none":""),ref:t,children:i})}),Not=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return Sn(i,!1),g.jsx("div",{className:n,ref:t,...i,children:r})}),Oot=C.forwardRef((e,t)=>{const{className:n,children:r,icon:i,onClick:o,onDragEnd:a,onDragStart:s,draggable:l,label:c,...d}=e;Sn(d,!1);const u=Br();return g.jsxs(u.Button.Button,{variant:"ghost",className:Pt(n,"text-gray-400"),ref:t,"aria-label":c,onClick:o,onDragStart:s,onDragEnd:a,draggable:l,...d,children:[i,r]})}),Mot=C.forwardRef((e,t)=>{const{className:n,children:r,id:i,columns:o,...a}=e;return Sn(a),g.jsx("div",{className:Pt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-dropdown-menu-content-available-height) origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border p-1 shadow-md","grid",n),style:{gridTemplateColumns:`repeat(${o}, 1fr)`},ref:t,id:i,role:"grid",children:r})}),Dot=C.forwardRef((e,t)=>{const{className:n,children:r,columns:i,...o}=e;return Sn(o),g.jsx("div",{className:n,style:{gridColumn:`1 / ${i+1}`},ref:t,children:r})}),Rot=C.forwardRef((e,t)=>{const{className:n,children:r,id:i,...o}=e;return Sn(o),g.jsx("div",{id:i,role:"listbox",className:Pt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-dropdown-menu-content-available-height) origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border p-1 shadow-md",n),ref:t,children:r})}),Iot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return Sn(i),g.jsx("div",{className:Pt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive",n),ref:t,children:g.jsx("div",{children:r})})}),Pot=C.forwardRef((e,t)=>{const n=Br(),{className:r,item:i,isSelected:o,onClick:a,id:s,...l}=e;Sn(l);const c=C.useRef(null);return C.useEffect(()=>{if(!c.current||!o)return;const d=d7(c.current,document.querySelector(".bn-suggestion-menu, #ai-suggestion-menu"));d==="top"?c.current.scrollIntoView(!0):d==="bottom"&&c.current.scrollIntoView(!1)},[o]),g.jsxs("div",{className:Pt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive",e.item.size==="small"?"gap-3 py-1":"",r),"data-highlighted":!0,ref:hR([t,c]),id:s,onMouseDown:d=>d.preventDefault(),onClick:a,role:"option","aria-selected":o||void 0,children:[i.icon&&g.jsx("div",{className:Pt("p-3",e.item.size==="small"?"p-0":"",r),"data-position":"left",children:i.icon}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:Pt("text-base",e.item.size==="small"?"text-sm":"",r),children:i.title}),g.jsx("div",{className:Pt("text-xs",e.item.size==="small"?"hidden":"",r),children:i.subtext})]}),i.badge&&g.jsx("div",{"data-position":"right",className:"text-xs",children:g.jsx(n.Badge.Badge,{variant:"secondary",children:i.badge})})]})}),Lot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return Sn(i),g.jsx("div",{className:Pt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),ref:t,children:r})}),jot=C.forwardRef((e,t)=>{const{className:n,...r}=e;return Sn(r),g.jsx("div",{className:Pt(n,"animate-spin"),ref:t,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 -960 960 960",width:"1em",fill:"#e8eaed",children:g.jsx("path",{d:"M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q17 0 28.5 11.5T520-840q0 17-11.5 28.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-17 11.5-28.5T840-520q17 0 28.5 11.5T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Z"})})})}),Bot=C.forwardRef((e,t)=>{const{className:n,children:r,onMouseDown:i,onClick:o,...a}=e;Sn(a,!1);const s=Br();return g.jsx(s.Button.Button,{variant:"ghost",className:Pt(n,"h-full w-full p-0 text-gray-400",n!=null&&n.includes("extend-button-add-remove-columns")?"ml-1":"mt-1",n!=null&&n.includes("extend-button-editing")?"bg-accent text-accent-foreground":""),ref:t,onClick:o,onMouseDown:i,...a,children:r})}),$ot=C.forwardRef((e,t)=>{const{className:n,children:r,draggable:i,onDragStart:o,onDragEnd:a,style:s,label:l,...c}=e;Sn(c,!1);const d=Br();return g.jsx(d.Button.Button,{variant:"ghost",className:Pt(n,"h-fit w-fit p-0 text-gray-400"),ref:t,"aria-label":l,draggable:i,onDragStart:o,onDragEnd:a,style:s,...c,children:r})}),xL=C.forwardRef((e,t)=>{const{className:n,children:r,onMouseEnter:i,onMouseLeave:o,variant:a,...s}=e;Sn(s);const l=Br();return g.jsx(l.Tooltip.TooltipProvider,{delayDuration:0,children:g.jsx("div",{className:Pt(n,"bg-popover text-popover-foreground flex h-fit gap-1 rounded-lg border p-1 shadow-md",a==="action-toolbar"?"w-fit":""),ref:t,onMouseEnter:i,onMouseLeave:o,children:r})})}),wL=C.forwardRef((e,t)=>{const{className:n,children:r,mainTooltip:i,secondaryTooltip:o,icon:a,isSelected:s,isDisabled:l,onClick:c,label:d,variant:u,...p}=e;Sn(p,!1);const m=Br(),v=s===void 0?g.jsxs(m.Button.Button,{className:Pt(n,u==="compact"?"h-6 min-w-6 p-0":""),variant:"ghost",size:u==="compact"?"sm":"default",disabled:l,onClick:c,ref:t,"aria-label":d,...p,children:[a,r]}):g.jsxs(m.Toggle.Toggle,{className:Pt(n,"data-[state=open]:bg-accent data-[state=closed]:text-accent-foreground",u==="compact"?"h-6 min-w-6 p-0":""),size:u==="compact"?"sm":"default","aria-label":d,onClick:c,pressed:s,disabled:l,"data-state":s?"on":"off","data-disabled":l,ref:t,...p,children:[a,r]});return g.jsxs(m.Tooltip.Tooltip,{children:[g.jsx(m.Tooltip.TooltipTrigger,{asChild:!0,children:v}),g.jsxs(m.Tooltip.TooltipContent,{className:"flex flex-col items-center whitespace-pre-wrap",children:[g.jsx("span",{children:i}),o&&g.jsx("span",{children:o})]})]})}),EL=C.forwardRef((e,t)=>{const{className:n,items:r,isDisabled:i,...o}=e;Sn(o);const a=Br(),s=c=>g.jsxs("div",{className:"flex items-center gap-1",children:[c.icon,c.text]}),l=r.filter(c=>c.isSelected)[0];return l?g.jsxs(a.Select.Select,{value:l.text,onValueChange:c=>{var d,u;return(u=(d=r.find(p=>p.text===c)).onClick)==null?void 0:u.call(d)},disabled:i,children:[g.jsx(a.Select.SelectTrigger,{className:"border-none",children:g.jsx(a.Select.SelectValue,{})}),g.jsx(a.Select.SelectContent,{className:n,ref:t,children:r.map(c=>g.jsx(a.Select.SelectItem,{disabled:c.isDisabled,value:c.text,children:g.jsx(s,{...c})},c.text))})]}):null}),Hot=C.forwardRef((e,t)=>{const{className:n,children:r,selected:i,headerText:o,onFocus:a,onBlur:s,tabIndex:l,...c}=e;Sn(c);const d=Br();return g.jsxs(d.Card.Card,{className:Pt(n,"w-[300px]",i?"bg-accent text-accent-foreground":""),onFocus:a,onBlur:s,tabIndex:l,ref:t,children:[o&&g.jsx("div",{className:"px-4 pt-4 text-sm italic",children:o}),r]})}),Fot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return Sn(i),g.jsx("div",{className:Pt(n,"p-4",n!=null&&n.includes("thread-comments")?"flex flex-col gap-6 border-b":""),ref:t,children:r})}),Uot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;Sn(i,!1);const o=Br();return g.jsx(o.Button.Button,{className:Pt(n,"text-foreground w-fit bg-transparent p-0 hover:bg-transparent"),ref:t,children:r})}),zot=C.forwardRef((e,t)=>{const{authorInfo:n,timeString:r,edited:i,...o}=e,a=gn();Sn(o,!1);const s=Br();return n==="loading"?g.jsxs("div",{className:"flex flex-row flex-nowrap items-center gap-4",children:[g.jsx(s.Skeleton.Skeleton,{className:"size-7 animate-pulse rounded-full bg-neutral-400"}),g.jsx(s.Skeleton.Skeleton,{className:"h-3 w-32 animate-pulse rounded-full bg-neutral-400"})]}):g.jsxs("div",{className:"flex flex-row flex-nowrap items-center gap-4",children:[g.jsxs(s.Avatar.Avatar,{children:[g.jsx(s.Avatar.AvatarImage,{src:n.avatarUrl,alt:n.username,className:"h-7 rounded-full"}),g.jsx(s.Avatar.AvatarFallback,{children:n.username[0]})]}),g.jsxs("div",{className:"flex flex-row flex-nowrap items-center gap-2",children:[g.jsx("span",{className:"text-sm font-bold",children:n.username}),g.jsxs("span",{className:"text-xs",children:[r," ",i&&`(${a.comments.edited})`]})]})]})}),Vot=C.forwardRef((e,t)=>{const{className:n,showActions:r,authorInfo:i,timeString:o,actions:a,edited:s,emojiPickerOpen:l,children:c,...d}=e;Sn(d);const[u,p]=C.useState(!1),{focused:m,ref:v}=Det(),x=a&&(r===!0||r===void 0||r==="hover"&&u||m);return g.jsxs("div",{ref:t,className:Pt(n,"relative flex flex-col gap-2"),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[x?g.jsx("div",{className:"absolute right-0 top-0 z-10",ref:v,children:a}):null,g.jsx(zot,{...e}),c]})}),qot=C.forwardRef((e,t)=>{const{className:n,onFocus:r,onBlur:i,autoFocus:o,editor:a,editable:s,...l}=e;Sn(l);const c=Hd();return g.jsx(Zge,{autoFocus:o,className:Pt(n,""),theme:c?.colorSchemePreference,editor:e.editor,sideMenu:!1,slashMenu:!1,tableHandles:!1,filePanel:!1,formattingToolbar:!1,editable:s,ref:t,onFocus:r,onBlur:i,children:g.jsx(fpe,{formattingToolbar:Wot})})}),Wot=()=>{const e=upe([]).filter(t=>t.key!=="nestBlockButton"&&t.key!=="unnestBlockButton");return g.jsx(dpe,{blockTypeSelectItems:[],children:e})},Yot=C.forwardRef((e,t)=>{const{className:n,text:r,icon:i,isSelected:o,mainTooltip:a,secondaryTooltip:s,onClick:l,onMouseEnter:c,...d}=e;Sn(d,!1);const u=Br(),p=g.jsxs(u.Button.Button,{variant:o?"secondary":"outline",className:Pt(n,"flex h-7 items-center gap-1 rounded-full px-2.5"),onClick:l,onMouseEnter:c,ref:t,children:[g.jsx("span",{children:i}),g.jsx("span",{children:r})]});return a?g.jsxs(u.Tooltip.Tooltip,{children:[g.jsx(u.Tooltip.TooltipTrigger,{asChild:!0,children:p}),g.jsxs(u.Tooltip.TooltipContent,{className:"flex flex-col items-center whitespace-pre-wrap",children:[g.jsx("span",{children:a}),s&&g.jsx("span",{children:s})]})]}):p}),Got=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;Sn(i);const o=Br();return g.jsx(o.Tooltip.TooltipProvider,{delayDuration:0,children:g.jsx("div",{className:Pt(n,"flex w-full flex-row flex-wrap gap-1"),ref:t,children:r})})}),Kot=C.forwardRef((e,t)=>{const{className:n,children:r,onClick:i,label:o,...a}=e;Sn(a);const s=Br();return g.jsx(s.Button.Button,{type:"submit",className:n,"aria-label":o,ref:t,onClick:i,children:r})}),Xot=C.forwardRef((e,t)=>{const{className:n,accept:r,value:i,placeholder:o,onChange:a,...s}=e;Sn(s);const l=Br();return g.jsx(l.Input.Input,{type:"file",className:n,ref:t,accept:r,value:i?i.name:void 0,onChange:async c=>a?.(c.target.files[0]),placeholder:o})}),Zot=C.forwardRef((e,t)=>{const{className:n,isSelected:r,onClick:i,item:o,id:a,...s}=e;Sn(s);const l=C.useRef(null);return C.useEffect(()=>{if(!l.current||!r)return;const c=d7(l.current,document.querySelector(".bn-grid-suggestion-menu"));c==="top"?l.current.scrollIntoView(!0):c==="bottom"&&l.current.scrollIntoView(!1)},[r]),g.jsx("div",{className:Pt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","text-lg!",n),ref:hR([t,l]),id:a,role:"option",onClick:i,"aria-selected":r||void 0,children:o.icon})}),Qot=C.forwardRef((e,t)=>{const{className:n,children:r,columns:i,...o}=e;return Sn(o),g.jsx("div",{className:n,style:{gridColumn:`1 / ${i+1}`},ref:t,children:r})}),Jot={FormattingToolbar:{Root:xL,Button:wL,Select:EL},FilePanel:{Root:Sot,Button:Kot,FileInput:Xot,TabPanel:Cot,TextInput:Tot},LinkToolbar:{Root:xL,Button:wL,Select:EL},SideMenu:{Root:Not,Button:Oot},SuggestionMenu:{Root:Rot,Item:Pot,EmptyItem:Iot,Label:Lot,Loader:jot},GridSuggestionMenu:{Root:Mot,Item:Zot,EmptyItem:Dot,Loader:Qot},TableHandle:{Root:$ot,ExtendButton:Bot},Comments:{Comment:Vot,Editor:qot,Card:Hot,CardSection:Fot,ExpandSectionsPrompt:Uot},Generic:{Badge:{Root:Yot,Group:Got},Toolbar:{Root:xL,Button:wL,Select:EL},Form:{Root:hot,TextInput:pot},Menu:{Root:got,Trigger:yot,Dropdown:bot,Divider:xot,Label:wot,Item:vot,Button:Eot},Popover:{Root:kot,Trigger:_ot,Content:Aot}}},Zge=e=>{const{className:t,shadCNComponents:n,...r}=e,i=C.useMemo(()=>({...fot,...n}),[n]);return g.jsx(Xge.Provider,{value:i,children:g.jsx(Ghe.Provider,{value:Jot,children:g.jsx(Aet,{className:vi("bn-shadcn",t||""),...r})})})};var eat=Object.defineProperty,tat=(e,t,n)=>t in e?eat(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,es=(e,t,n)=>tat(e,typeof t!="symbol"?t+"":t,n);const nat={slash_menu:{two_columns:{title:"",subtext:"   ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"    ",aliases:["","",""],group:" "}}},rat={slash_menu:{two_columns:{title:"Zwei Spalten",subtext:"Zwei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blcke"},three_columns:{title:"Drei Spalten",subtext:"Drei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blcke"}}},iat={slash_menu:{two_columns:{title:"Two Columns",subtext:"Two columns side by side",aliases:["columns","row","split"],group:"Basic blocks"},three_columns:{title:"Three Columns",subtext:"Three columns side by side",aliases:["columns","row","split"],group:"Basic blocks"}}},oat={slash_menu:{two_columns:{title:"Dos Columnas",subtext:"Dos columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques bsicos"},three_columns:{title:"Tres Columnas",subtext:"Tres columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques bsicos"}}},aat={slash_menu:{two_columns:{title:"Deux Colonnes",subtext:"Deux colonnes cte  cte",aliases:["colonnes","range","partager"],group:"Blocs de base"},three_columns:{title:"Trois Colonnes",subtext:"Trois colonnes cte  cte",aliases:["colonnes","range","partager"],group:"Blocs de base"}}},sat={slash_menu:{two_columns:{title:"Dva Stupca",subtext:"Dva stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"},three_columns:{title:"Tri Stupca",subtext:"Tri stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"}}},lat={slash_menu:{two_columns:{title:"Tvr Dlkar",subtext:"Tvr dlkar hli vi hli",aliases:["dlkar","r","skipta"],group:"Grunnblokkar"},three_columns:{title:"rr Dlkar",subtext:"rr dlkar hli vi hli",aliases:["dlkar","r","skipta"],group:"Grunnblokkar"}}},cat={slash_menu:{two_columns:{title:"",subtext:"",aliases:["","",""],group:""},three_columns:{title:"",subtext:"",aliases:["","",""],group:""}}},uat={slash_menu:{two_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "}}},dat={slash_menu:{two_columns:{title:"Twee Kolommen",subtext:"Twee kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"},three_columns:{title:"Drie Kolommen",subtext:"Drie kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"}}},fat={slash_menu:{two_columns:{title:"Dwie Kolumny",subtext:"Dwie kolumny obok siebie",aliases:["kolumny","rzd","podzieli"],group:"Podstawowe bloki"},three_columns:{title:"Trzy Kolumny",subtext:"Trzy kolumny obok siebie",aliases:["kolumny","rzd","podzieli"],group:"Podstawowe bloki"}}},hat={slash_menu:{two_columns:{title:"Duas Colunas",subtext:"Duas colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos bsicos"},three_columns:{title:"Trs Colunas",subtext:"Trs colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos bsicos"}}},pat={slash_menu:{two_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "}}},mat={slash_menu:{two_columns:{title:"Hai Ct",subtext:"Hai ct cnh nhau",aliases:["ct","hng","chia"],group:"Khi c bn"},three_columns:{title:"Ba Ct",subtext:"Ba ct cnh nhau",aliases:["ct","hng","chia"],group:"Khi c bn"}}},gat={slash_menu:{two_columns:{title:"",subtext:"",aliases:["","",""],group:""},three_columns:{title:"",subtext:"",aliases:["","",""],group:""}}},yat=Object.freeze(Object.defineProperty({__proto__:null,ar:nat,de:rat,en:iat,es:oat,fr:aat,hr:sat,is:lat,ja:cat,ko:uat,nl:dat,pl:fat,pt:hat,ru:pat,vi:mat,zh:gat},Symbol.toStringTag,{value:"Module"}));function qK(e){if(!e.dictionary.multi_column)throw new Error("Multi-column dictionary not found");return e.dictionary.multi_column}const Dp=new En("ColumnResizePlugin");let bat=class{constructor(t,n){es(this,"editor"),es(this,"view"),es(this,"RESIZE_MARGIN_WIDTH_PX",20),es(this,"COLUMN_MIN_WIDTH_PERCENT",.5),es(this,"getColumnHoverOrDefaultState",r=>{if(!this.editor.isEditable)return{type:"default"};const i=r.target;if(!this.view.dom.contains(i))return{type:"default"};const o=i.closest(".bn-block-column");if(!o)return{type:"default"};const a=r.clientX,s=o.getBoundingClientRect(),l=a<s.left+this.RESIZE_MARGIN_WIDTH_PX?"left":a>s.right-this.RESIZE_MARGIN_WIDTH_PX?"right":"none",c=l==="left"?o.previousElementSibling:l==="right"?o.nextElementSibling:void 0;if(!c)return{type:"default"};const d=l==="left"?c:o,u=l==="left"?o:c,p=d.getAttribute("data-id"),m=u.getAttribute("data-id"),v=cs(p,this.view.state.doc),x=cs(m,this.view.state.doc);if(!v||!x||!v.posBeforeNode)throw new Error("Column not found");return{type:"hover",leftColumn:{element:d,id:p,...v},rightColumn:{element:u,id:m,...x}}}),es(this,"mouseDownHandler",r=>{let i=this.getColumnHoverOrDefaultState(r);if(i.type==="default")return;r.preventDefault();const o=r.clientX,a=i.leftColumn.element.getBoundingClientRect().width,s=i.rightColumn.element.getBoundingClientRect().width,l=i.leftColumn.node.attrs.width,c=i.rightColumn.node.attrs.width;i={type:"resize",startPos:o,leftColumn:{...i.leftColumn,widthPx:a,widthPercent:l},rightColumn:{...i.rightColumn,widthPx:s,widthPercent:c}},this.view.dispatch(this.view.state.tr.setMeta(Dp,i)),this.editor.sideMenu.freezeMenu()}),es(this,"mouseMoveHandler",r=>{var i,o;const a=Dp.getState(this.view.state);if(!a)return;if(a.type!=="resize"){const u=this.getColumnHoverOrDefaultState(r),p=a.type==="default"&&u.type==="default",m=a.type!=="default"&&u.type!=="default"&&a.leftColumn.id===u.leftColumn.id&&a.rightColumn.id===u.rightColumn.id;if(p||m||u.type==="hover"&&(o=(i=this.editor.sideMenu.view)==null?void 0:i.state)!=null&&o.show)return;this.view.dispatch(this.view.state.tr.setMeta(Dp,u));return}const s=(r.clientX-a.startPos)*a.leftColumn.widthPercent,l=(a.leftColumn.widthPx+s)/a.leftColumn.widthPx-1;let c=a.leftColumn.widthPercent+l,d=a.rightColumn.widthPercent-l;c<this.COLUMN_MIN_WIDTH_PERCENT?(d-=this.COLUMN_MIN_WIDTH_PERCENT-c,c=this.COLUMN_MIN_WIDTH_PERCENT):d<this.COLUMN_MIN_WIDTH_PERCENT&&(c-=this.COLUMN_MIN_WIDTH_PERCENT-d,d=this.COLUMN_MIN_WIDTH_PERCENT),this.view.dispatch(this.view.state.tr.setNodeAttribute(a.leftColumn.posBeforeNode,"width",c).setNodeAttribute(a.rightColumn.posBeforeNode,"width",d).setMeta("addToHistory",!1))}),es(this,"mouseUpHandler",r=>{const i=Dp.getState(this.view.state);if(!i||i.type!=="resize")return;const o=this.getColumnHoverOrDefaultState(r);this.view.dispatch(this.view.state.tr.setMeta(Dp,o)),this.editor.sideMenu.unfreezeMenu()}),this.editor=t,this.view=n,this.view.dom.addEventListener("mousedown",this.mouseDownHandler),document.body.addEventListener("mousemove",this.mouseMoveHandler),document.body.addEventListener("mouseup",this.mouseUpHandler)}destroy(){this.view.dom.removeEventListener("mousedown",this.mouseDownHandler),document.body.removeEventListener("mousemove",this.mouseMoveHandler),document.body.removeEventListener("mouseup",this.mouseUpHandler)}};const vat=e=>new rn({key:Dp,props:{decorations:t=>{const n=Dp.getState(t);return!n||n.type==="default"?mn.empty:mn.create(t.doc,[ir.node(n.leftColumn.posBeforeNode,n.leftColumn.posBeforeNode+n.leftColumn.node.nodeSize,{style:"box-shadow: 4px 0 0 #ccc; cursor: col-resize"}),ir.node(n.rightColumn.posBeforeNode,n.rightColumn.posBeforeNode+n.rightColumn.node.nodeSize,{style:"cursor: col-resize"})])}},state:{init:()=>({type:"default"}),apply:(t,n)=>{const r=t.getMeta(Dp);return r===void 0?n:r}},view:t=>new bat(e,t)}),xat=e=>ur.create({name:"columnResize",addProseMirrorPlugins(){return[vat(e)]}}),wat=qs.create({name:"column",group:"bnBlock childContainer",content:"blockContainer+",priority:40,defining:!0,marks:"deletion insertion modification",addAttributes(){return{width:{default:1,parseHTML:e=>{const t=e.getAttribute("data-width");if(t===null)return null;const n=parseFloat(t);return isFinite(n)?n:null},renderHTML:e=>({"data-width":e.width.toString(),style:`flex-grow: ${e.width};`})}}},parseHTML(){return[{tag:"div",getAttrs:e=>typeof e=="string"?!1:e.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:e}){const t=document.createElement("div");t.className="bn-block-column",t.setAttribute("data-node-type",this.name);for(const[n,r]of Object.entries(e))t.setAttribute(n,r);return{dom:t,contentDOM:t}},addExtensions(){return[xat(this.options.editor)]}}),Eat=qs.create({name:"columnList",group:"childContainer bnBlock blockGroupChild",content:"column column+",priority:40,defining:!0,marks:"deletion insertion modification",parseHTML(){return[{tag:"div",getAttrs:e=>typeof e=="string"?!1:e.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:e}){const t=document.createElement("div");t.className="bn-block-column-list",t.setAttribute("data-node-type",this.name);for(const[n,r]of Object.entries(e))t.setAttribute(n,r);return t.style.display="flex",{dom:t,contentDOM:t}}}),Qge=z9({node:wat,type:"column",content:"none"},{width:{default:1}}),Jge=z9({node:Eat,type:"columnList",content:"none"},{}),WK=VD.create({blockSpecs:{column:Qge,columnList:Jge}}),Sat=e=>e.extend({blockSpecs:{column:Qge,columnList:Jge}}),GO=.1;function Cat(e){return{left:e.clientX,top:e.clientY}}function Tat(e){const t=e.editor;return new rn({view(n){return new kat(n,e)},props:{handleDrop(n,r,i,o){const a=n.posAtCoords(Cat(r));if(!a)throw new Error("Could not get event position");const s=e0e(n.state,a),l=Qf(s),c=n.nodeDOM(s.posBeforeNode).getBoundingClientRect();let d="regular";if(r.clientX<=c.left+c.width*GO&&(d="left"),r.clientX>=c.right-c.width*GO&&(d="right"),d==="regular")return!1;const u=ii(i.content.child(0),t.pmSchema);if(l.blockNoteType==="column"){const p=n.state.doc.resolve(l.bnBlock.beforePos).node(),m=ii(p,t.pmSchema);let v=0;m.children.forEach(k=>{v+=k.props.width});const x=v/m.children.length;if(x<.99||x>1.01){const k=1/x;m.children.forEach(N=>{N.props.width=N.props.width*k})}const w=m.children.findIndex(k=>k.id===l.bnBlock.node.attrs.id),T=m.children.map(k=>({...k,children:k.children.filter(N=>N.id!==u.id)})).filter(k=>k.children.length>0).toSpliced(d==="left"?w:w+1,0,{type:"column",children:[u],props:{},content:void 0,id:BT.options.generateID()});t.getBlock(u.id)&&t.removeBlocks([u]),t.updateBlock(m,{children:T})}else{const p=ii(l.bnBlock.node,t.pmSchema);if(p.id===u.id)return;const m=d==="left"?[u,p]:[p,u];t.getBlock(u.id)&&t.removeBlocks([u]),t.replaceBlocks([p],[{type:"columnList",children:m.map(v=>({type:"column",children:[v]}))}])}return!0}}})}let kat=class{constructor(t,n){es(this,"width"),es(this,"color"),es(this,"class"),es(this,"cursorPos"),es(this,"element",null),es(this,"timeout"),es(this,"handlers"),this.editorView=t,this.width=n.width??1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{const i=o=>{this[r](o)};return t.dom.addEventListener(r,i,r==="drop"?!0:void 0),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n,t==="drop"?!0:void 0))}update(t,n){this.cursorPos!=null&&n.doc!==t.state.doc&&(this.cursorPos.pos>t.state.doc.content.size?this.setCursor(void 0):this.updateOverlay())}setCursor(t){var n,r;t===this.cursorPos||t?.pos===((n=this.cursorPos)==null?void 0:n.pos)&&t?.position===((r=this.cursorPos)==null?void 0:r.position)||(this.cursorPos=t,t?this.updateOverlay():(this.element.parentNode.removeChild(this.element),this.element=null))}updateOverlay(){if(!this.cursorPos)throw new Error("updateOverlay called with no cursor position");const t=this.editorView.state.doc.resolve(this.cursorPos.pos),n=!t.parent.inlineContent;let r;const i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(n){const u=t.nodeBefore,p=t.nodeAfter;if(u||p)if(this.cursorPos.position==="left"||this.cursorPos.position==="right"){const m=this.editorView.nodeDOM(this.cursorPos.pos);if(!m)throw new Error("nodeDOM returned null in updateOverlay");const v=m.getBoundingClientRect(),x=this.width/2*s,w=this.cursorPos.position==="left"?v.left:v.right;r={left:w-x,right:w+x,top:v.top,bottom:v.bottom}}else{const m=this.editorView.nodeDOM(this.cursorPos.pos-(u?u.nodeSize:0));if(m){const v=m.getBoundingClientRect();let x=u?v.bottom:v.top;u&&p&&(x=(x+this.editorView.nodeDOM(this.cursorPos.pos).getBoundingClientRect().top)/2);const w=this.width/2*s;this.cursorPos.position==="regular"&&(r={left:v.left,right:v.right,top:x-w,bottom:x+w})}}}if(!r){const u=this.editorView.coordsAtPos(this.cursorPos.pos),p=this.width/2*a;r={left:u.left-p,right:u.left+p,top:u.top,bottom:u.bottom}}const l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-vertical",this.cursorPos.position!=="regular"),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,d;if(!l||l===document.body&&getComputedStyle(l).position==="static")c=-window.scrollX,d=-window.scrollY;else{const u=l.getBoundingClientRect(),p=u.width/l.offsetWidth,m=u.height/l.offsetHeight;c=u.left-l.scrollLeft*p,d=u.top-l.scrollTop*m}this.element.style.left=(r.left-c)/a+"px",this.element.style.top=(r.top-d)/s+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(void 0),t)}dragover(t){if(!this.editorView.editable)return;const n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let a="regular",s=n.pos;const l=e0e(this.editorView.state,n),c=this.editorView.nodeDOM(l.posBeforeNode).getBoundingClientRect();if(t.clientX<=c.left+c.width*GO&&(a="left",s=l.posBeforeNode),t.clientX>=c.right-c.width*GO&&(a="right",s=l.posBeforeNode),a==="regular"&&this.editorView.dragging&&this.editorView.dragging.slice){const d=i9(this.editorView.state.doc,s,this.editorView.dragging.slice);d!=null&&(s=d)}this.setCursor({pos:s,position:a}),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.setCursor(void 0)}dragleave(t){(t.target===this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(void 0)}};function e0e(e,t){const n=Zf(e.doc,t.pos);let r=e.doc.resolve(n.posBeforeNode);return r.parent.type.name==="column"&&(r=e.doc.resolve(r.before())),{posBeforeNode:r.pos,node:r.nodeAfter}}var _at={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0};F.createContext;function Aat(e){return"column"in e.schema.blockSchema&&e.schema.blockSchema.columnList===WK.blockSchema.columnList&&"column"in e.schema.blockSchema&&e.schema.blockSchema.column===WK.blockSchema.column}const Nat=e=>{const t=Ut(),n=gn(),r=Gt(),i=C.useCallback(()=>{const o=e.block.content;if(o!==void 0&&Array.isArray(o)&&o.length===0)r.setTextCursorPosition(e.block),r.openSuggestionMenu("/");else{const s=r.insertBlocks([{type:"paragraph"}],e.block,"after")[0];r.setTextCursorPosition(s),r.openSuggestionMenu("/")}},[r,e.block]);return g.jsx(t.SideMenu.Button,{className:"bn-button cursor-pointer",label:n.side_menu.add_block_label,icon:g.jsx(DH,{className:"size-5 text-secondary-foreground",onClick:i,"data-test":"dragHandleAdd"})})},Oat=Rme,Mat=Ime,Dat=C.forwardRef(({className:e,inset:t,children:n,...r},i)=>g.jsxs(I7,{ref:i,className:Ie("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,g.jsx(OH,{className:"ml-auto"})]}));Dat.displayName=I7.displayName;const Rat=C.forwardRef(({className:e,...t},n)=>g.jsx(P7,{ref:n,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Rat.displayName=P7.displayName;const t0e=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>g.jsx(brt,{children:g.jsx(A7,{ref:r,sideOffset:t,className:Ie("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));t0e.displayName=A7.displayName;const H8=C.forwardRef(({className:e,inset:t,...n},r)=>g.jsx(O7,{ref:r,className:Ie("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));H8.displayName=O7.displayName;const Iat=C.forwardRef(({className:e,children:t,checked:n,...r},i)=>g.jsxs(M7,{ref:i,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(D7,{children:g.jsx(Qv,{className:"h-4 w-4"})})}),t]}));Iat.displayName=M7.displayName;const Pat=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(Pme,{ref:r,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(D7,{children:g.jsx(jie,{className:"h-2 w-2 fill-current"})})}),t]}));Pat.displayName=Pme.displayName;const n0e=C.forwardRef(({className:e,inset:t,...n},r)=>g.jsx(N7,{ref:r,className:Ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));n0e.displayName=N7.displayName;const r0e=C.forwardRef(({className:e,...t},n)=>g.jsx(R7,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));r0e.displayName=R7.displayName;const Lat=e=>{const t=gn(),n=e.block.type,r=e.openBlockSettings??(()=>{}),i=Gt();return g.jsxs(Oat,{modal:!1,onOpenChange:o=>{o?e.freezeMenu():e.unfreezeMenu()},children:[g.jsx(Mat,{asChild:!0,children:g.jsx(ni,{"aria-label":t.side_menu.drag_handle_label,draggable:!0,onDragStart:o=>e.blockDragStart(o,e.block),onDragEnd:e.blockDragEnd,className:"bn-button cursor-grab bn-menu-dropdown bn-drag-handle-menu",variant:"ghost",onPointerDown:o=>{o.nativeEvent.fakeEvent||(o.ctrlKey=!0)},onPointerUp:o=>{const a=new PointerEvent("pointerdown",o.nativeEvent);a.fakeEvent=!0,o.target.dispatchEvent(a)},children:g.jsx(Dke,{className:"size-5 text-secondary-foreground","data-test":"dragHandle"})})}),g.jsxs(t0e,{className:"bn-menu-dropdown bn-drag-handle-menu min-w-64",children:[g.jsx(n0e,{className:"text-secondary-foreground text-xs",children:"Actions"}),r&&(n==="flow"||n==="flowHistory"||n==="flowStatus"||n==="heatmap"||n==="metric"||n==="metricHistory"||n==="metricTable")&&g.jsx(H8,{className:"bn-menu-item py-1",onClick:()=>{r(e.block.id)},children:g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer"),children:[g.jsx("div",{className:"p-1","data-position":"left",children:g.jsx(C2e,{className:"size-4.5"})}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:"font-medium text-sm",children:"Settings"})})]})}),g.jsx(ppe,{...e,children:g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer"),children:[g.jsx("div",{className:"p-1","data-position":"left",children:g.jsx(h2e,{className:"size-4.5"})}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:"font-medium text-sm",children:"Color"})})]})}),g.jsx(r0e,{}),g.jsx(H8,{className:"bn-menu-item destructive group",onClick:()=>i.removeBlocks([e.block]),children:g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer"),children:[g.jsx("div",{className:"p-1 group-hover:text-red-600 dark:group-hover:text-red-400","data-position":"left",children:g.jsx(z2e,{className:"size-4.5 group-hover:text-red-600 dark:group-hover:text-red-400"})}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:"font-medium text-sm group-hover:text-red-600 dark:group-hover:text-red-400",children:"Delete"})})]})})]})]})},jat=C.forwardRef((e,t)=>{const{className:n,item:r,isSelected:i,onClick:o,id:a,...s}=e;Sn(s);const l=C.useRef(null);C.useEffect(()=>{if(!l.current||!i)return;const d=d7(l.current,document.querySelector(".bn-suggestion-menu, #ai-suggestion-menu"));d==="top"?l.current.scrollIntoView(!0):d==="bottom"&&l.current.scrollIntoView(!1)},[i]);const c=g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer",e.item.size==="small"?"gap-3 py-1":"",n),"data-highlighted":!0,ref:hR([t,l]),id:a,onMouseDown:d=>d.preventDefault(),onClick:o,role:"option","aria-selected":i||void 0,children:[r.icon&&g.jsx("div",{className:Ie("p-1",n),"data-position":"left",children:r.icon}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:Ie("font-medium text-sm",n),children:r.title})}),r.badge&&g.jsx("div",{"data-position":"right",className:"text-xs text-secondary-foreground",children:r.badge})]});return r.subtext?g.jsx(js,{delayDuration:300,children:g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:c}),g.jsx(Or,{side:"right",sideOffset:8,children:g.jsx("p",{children:r.subtext})})]})}):c});function Bat(e){const t=Ut(),n=gn(),{items:r,loadingState:i,selectedIndex:o,onItemClick:a}=e,s=i==="loading-initial"||i==="loading"?g.jsx(t.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader"}):null,l=C.useMemo(()=>{let c;const d=[];for(let u=0;u<r.length;u++){const p=r[u];p.group!==c&&(c=p.group,d.push(g.jsx(t.SuggestionMenu.Label,{className:"bn-suggestion-menu-label text-secondary-foreground text-xs",children:c},c))),d.push(g.jsx(jat,{className:Ie("bn-suggestion-menu-item",p.size==="small"?"bn-suggestion-menu-item-small":""),item:p,id:`bn-suggestion-menu-item-${u}`,isSelected:u===o,onClick:()=>a?.(p)},p.title))}return d},[t,r,a,o]);return g.jsxs(t.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu max-h-96 overflow-y-auto",children:[l,l.length===0&&(e.loadingState==="loading"||e.loadingState==="loaded")&&g.jsx(t.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),s]})}const $at=J0("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Yp({className:e,variant:t,...n}){return g.jsx("span",{className:Ie($at({variant:t}),e),...n})}function Od({...e}){return g.jsx(Xme,{"data-slot":"popover",...e})}function Md({...e}){return g.jsx(Zme,{"data-slot":"popover-trigger",...e})}function Dd({className:e,align:t="center",sideOffset:n=4,...r}){return g.jsx(Wrt,{children:g.jsx(Qme,{"data-slot":"popover-content",align:t,sideOffset:n,className:Ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function eh({labelKey:e,labelValue:t,readonly:n=!0,availableValues:r,onValueChange:i,onRemove:o}){const[a,s]=F.useState(()=>!n&&!t);return!n&&r&&i?g.jsxs(Od,{open:a,onOpenChange:l=>{s(l),t&&!l&&i(t)},children:[g.jsx(Md,{asChild:!0,children:g.jsxs(Yp,{variant:"secondary",className:"gap-1 cursor-pointer hover:bg-secondary/80 transition-all duration-200 border-0 h-6 px-3 text-muted-foreground flex items-center",children:[e,t&&`: ${t}`,o&&g.jsx(RH,{className:"h-3 w-3 cursor-pointer hover:text-destructive mt-[2px]",onClick:l=>{l.stopPropagation(),o()}})]})}),g.jsx(Dd,{className:"w-[200px] p-0",align:"start",children:g.jsxs(e1,{children:[g.jsx(t1,{placeholder:"Search values..."}),g.jsxs(n1,{className:"max-h-[200px]",children:[g.jsx(r1,{children:"No values found."}),g.jsx(i1,{children:r.map(l=>g.jsx(o1,{value:l,onSelect:()=>{s(!1),i(l)},children:l},l))})]})]})})]}):g.jsxs(Yp,{variant:"secondary",className:"h-5 px-2 font-normal h-6 border-0 text-muted-foreground",children:[e,t&&`=${t}`]})}function q0({availableLabels:e,filters:t,onFiltersChange:n}){const[r,i]=C.useState(!1),[o,a]=C.useState(null),s=(u,p)=>{const m=[...t];m[u]={...m[u],value:p},n(m)},l=(u,p)=>{const m=[...t,{label:u,value:p}];n(m),a(null)},c=u=>{const p=t.filter((m,v)=>v!==u);n(p)},d=u=>{a(u),i(!1)};return g.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[t.map((u,p)=>{if(!u)return null;const m=e.find(v=>v.label===u.label);return g.jsx(eh,{labelKey:u.label,labelValue:u.value,readonly:!1,availableValues:m?.values,onValueChange:v=>s(p,v),onRemove:()=>c(p)},`${u.label}-${p}`)}),o&&g.jsx(eh,{labelKey:o,labelValue:"",readonly:!1,availableValues:e.find(u=>u.label===o)?.values,onValueChange:u=>{u?l(o,u):a(null)},onRemove:()=>a(null)},`${o}-draft`),g.jsxs(Od,{open:r,onOpenChange:i,children:[g.jsx(Md,{asChild:!0,children:g.jsx(ni,{variant:"ghost",size:"sm",className:"justify-start text-sm text-muted-foreground h-6",children:g.jsx(e2e,{className:"h-4 w-4"})})}),g.jsx(Dd,{className:"w-[200px] p-0",align:"start",children:g.jsxs(e1,{children:[g.jsx(t1,{placeholder:"Search labels..."}),g.jsxs(n1,{className:"max-h-[300px]",children:[g.jsx(r1,{children:"No labels found."}),g.jsx(i1,{heading:"Labels",children:e.map(u=>g.jsx(o1,{value:u.label,onSelect:()=>d(u.label),children:u.label},u.label))})]})]})})]})]})}const i0e={success:{label:"Success",Icon:cke,iconClass:"text-[#5cb660] dark:text-[#5cb660]"},failure:{label:"Failed",Icon:hke,iconClass:"text-[#e56458] dark:text-[#e56458]"},running:{label:"Running",Icon:Vie,iconClass:"text-[#2883df] dark:text-[#2883df]"}};function o0e({status:e,className:t}){const n=i0e[e];return g.jsxs(Yp,{variant:"outline",className:Ie("text-muted-foreground px-1.5 gap-1.5 border-0",t),children:[g.jsx(n.Icon,{className:Ie("size-4",n.iconClass)}),n.label]})}function TR({currentPage:e,totalPages:t,onPreviousPage:n,onNextPage:r}){return t<=1?null:g.jsx("div",{className:"flex items-center justify-end py-1 border-b",children:g.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[g.jsx("button",{type:"button",onClick:n,disabled:e===1,className:"px-2 py-1 rounded hover:bg-accent disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Previous"}),g.jsxs("span",{className:"px-2",children:["Page ",e," of ",t]}),g.jsx("button",{type:"button",onClick:r,disabled:e===t,className:"px-2 py-1 rounded hover:bg-accent disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Next"})]})})}function Hat({steps:e,events:t,startTime:n,endTime:r}){if(e.length===0)return g.jsx("div",{className:"text-sm text-muted-foreground py-4",children:"No steps recorded for this execution."});const i=n.getTime(),a=(r?r.getTime():Date.now())-i,s=u=>{const p=u.startTime.getTime(),v=(u.endTime?u.endTime.getTime():Date.now())-p,x=(p-i)/a*100,w=v/a*100;return{left:`${x}%`,width:`${w}%`,durationMs:v}},l=u=>u<1e3?`${Math.round(u)}ms`:u<6e4?`${(u/1e3).toFixed(2)}s`:`${(u/6e4).toFixed(2)}m`,c=u=>{switch(u){case"success":return"bg-[#5cb660]";case"failure":return"bg-[#e56458]";case"running":return"bg-[#2883df]";default:return"bg-gray-500"}},d=u=>{const m=(u.eventDt.getTime()-i)/a*100;return Math.max(0,Math.min(100,m))};return g.jsx(js,{children:g.jsxs("div",{className:"py-4 px-2 space-y-3",children:[e.map((u,p)=>{const m=s(u);return g.jsx("div",{className:"relative",children:g.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[g.jsx("span",{className:"text-sm font-medium w-32 flex-shrink-0 truncate",children:u.name}),g.jsx("div",{className:"flex-1 relative h-6 bg-muted rounded",children:g.jsx("div",{className:Ie("absolute h-full rounded transition-all",c(u.status)),style:{left:m.left,width:m.width}})}),g.jsx("span",{className:"text-xs text-muted-foreground w-16 text-right flex-shrink-0",children:l(m.durationMs)})]})},p)}),t.length>0&&g.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[g.jsx("span",{className:"w-32 flex-shrink-0"}),g.jsxs("div",{className:"flex-1 relative h-6",children:[g.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-muted-foreground/20"}),t.map((u,p)=>{const m=d(u);return g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx("div",{className:`absolute w-2 h-2 rounded-full bg-muted-foreground/80
                                           hover:bg-primary hover:scale-125 cursor-pointer
                                           transition-all -translate-x-1/2 -translate-y-1/2`,style:{left:`${m}%`,top:"50%"}})}),g.jsxs(Or,{children:[g.jsx("div",{className:"font-medium",children:u.eventName}),g.jsx("div",{className:"text-xs text-muted-foreground",children:u.eventDt.toLocaleTimeString()})]})]},p)})]}),g.jsx("span",{className:"w-16 flex-shrink-0"})]})]})})}function Nv({seconds:e,startTime:t,endTime:n}){if(!e){if(!t||!n)return"-";e=Moe(n,t)}e=Math.round(e);const r=Math.floor(e/60),i=Math.floor(r/60);return i>1?`${i}h ${r%60}m`:i>0?`${i}h ${r%60}m ${e%60}s`:r>0?`${r}m ${e%60}s`:`${e}s`}function KO(e){const n=Moe(new Date,e),r=Math.floor(n/60),i=Math.floor(r/60);if(n<60)return`${n} seconds ago`;if(r<60)return`${r} minutes ago`;if(i<24){const o=r%60;return`${i} hours and ${o} minutes ago`}return Wf(e,"PPp")}const SL=10;function a0e({flowHistory:e,statusFilter:t,visibleColumns:n={labels:!0,start:!0,end:!0,duration:!0,status:!0}}){const[r,i]=C.useState(1),[o,a]=C.useState(new Set),s=C.useMemo(()=>t==="all"?e:e.filter(x=>x.status===t),[e,t]),l=Math.ceil(s.length/SL),c=(r-1)*SL,d=c+SL,u=s.slice(c,d);C.useEffect(()=>{i(1)},[t]);const p=()=>{i(x=>Math.max(1,x-1))},m=()=>{i(x=>Math.min(l,x+1))},v=x=>{a(w=>{const T=new Set(w);return T.has(x)?T.delete(x):T.add(x),T})};return g.jsx(js,{children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs(ty,{className:"table-fixed",children:[g.jsx(ny,{children:g.jsxs(Ea,{children:[g.jsx(oo,{className:"w-8"}),n.labels&&g.jsx(oo,{className:"w-auto",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(TT,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})}),n.start&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Qp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Start"})]})}),n.end&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Qp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"End"})]})}),n.duration&&g.jsx(oo,{className:"w-24",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(lD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Duration"})]})}),n.status&&g.jsx(oo,{className:"w-24",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(sD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Status"})]})})]})}),g.jsxs(ry,{children:[u.map((x,w)=>{const T=c+w,k=o.has(T);return g.jsxs(F.Fragment,{children:[g.jsxs(Ea,{className:"hover:bg-muted/50",children:[g.jsx(Ai,{className:"w-8 cursor-pointer",onClick:()=>v(T),children:k?g.jsx(CT,{className:"size-4 text-muted-foreground"}):g.jsx(OH,{className:"size-4 text-muted-foreground"})}),n.labels&&g.jsx(Ai,{children:g.jsx("div",{className:"flex flex-wrap gap-1",onClick:N=>N.stopPropagation(),children:Object.entries(x.labels).map(([N,I])=>g.jsx(eh,{labelKey:N,labelValue:I},N))})}),n.start&&g.jsx(Ai,{className:"text-muted-foreground text-sm",children:g.jsxs(Pr,{children:[g.jsx(Lr,{className:"cursor-default",children:KO(x.startTime)}),g.jsx(Or,{children:Wf(x.startTime,"PPpp")})]})}),n.end&&g.jsx(Ai,{className:"text-muted-foreground text-sm",children:x.endTime?g.jsxs(Pr,{children:[g.jsx(Lr,{className:"cursor-default",children:KO(x.endTime)}),g.jsx(Or,{children:Wf(x.endTime,"PPpp")})]}):"-"}),n.duration&&g.jsx(Ai,{className:"text-muted-foreground text-sm",children:Nv({startTime:x.startTime,endTime:x.endTime})}),n.status&&g.jsx(Ai,{children:g.jsx(o0e,{status:x.status})})]},`${T}`),k&&g.jsx(Ea,{children:g.jsx(Ai,{colSpan:1+(n.labels?1:0)+(n.start?1:0)+(n.end?1:0)+(n.duration?1:0)+(n.status?1:0),className:"bg-muted/30 p-0",children:g.jsx("div",{className:"px-4",children:g.jsx(Hat,{steps:x.steps,events:x.events,startTime:x.startTime,endTime:x.endTime})})})},`${T}-expanded`)]},`${T}-fragment`)}),s.length===0&&g.jsx(Ea,{children:g.jsx(Ai,{colSpan:6,className:"text-center text-secondary-foreground text-sm py-6",children:"No execution history found for the selected filter."})})]})]}),g.jsx(TR,{currentPage:r,totalPages:l,onPreviousPage:p,onNextPage:m})]})})}function Fat({failedCount:e,successCount:t,pendingCount:n,runCount:r,statusFilter:i,onStatusFilterChange:o}){return g.jsxs(g.Fragment,{children:[g.jsxs("button",{type:"button","data-active":i==="all",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("all"),children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"All"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:r.toLocaleString()})]}),g.jsxs("button",{type:"button","data-active":i==="success",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("success"),children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#5cb660]"}),"Success"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:t.toLocaleString()})]}),g.jsxs("button",{type:"button","data-active":i==="failure",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("failure"),children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#e56458]"}),"Failed"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:e.toLocaleString()})]}),g.jsxs("button",{type:"button","data-active":i==="running",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("running"),children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#2883df]"}),"Running"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:n.toLocaleString()})]})]})}function Uat(){return g.jsx(g.Fragment,{children:[...Array(4)].map((e,t)=>g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:g.jsx(d0,{className:"h-3 w-16"})}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:g.jsx(d0,{className:"h-8 w-20"})})]},t))})}const fy=bT,zat=vT,s0e=C.forwardRef(({className:e,...t},n)=>g.jsx(Z1,{className:Ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));s0e.displayName=Z1.displayName;const Vat=J0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Em=C.forwardRef(({side:e="right",className:t,children:n,...r},i)=>g.jsxs(zat,{children:[g.jsx(s0e,{}),g.jsx(Q1,{ref:i,className:Ie(Vat({side:e}),t),...r,children:n})]}));Em.displayName=Q1.displayName;const Sm=({className:e,...t})=>g.jsx("div",{className:Ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});Sm.displayName="SheetHeader";const Cm=C.forwardRef(({className:e,...t},n)=>g.jsx(xT,{ref:n,className:Ie("text-lg font-semibold text-foreground",e),...t}));Cm.displayName=xT.displayName;const l0e=C.forwardRef(({className:e,...t},n)=>g.jsx(wT,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));l0e.displayName=wT.displayName;const kR=ST()(oD((e,t)=>({currentTenant:null,setCurrentTenant:n=>{e({currentTenant:n})}}),{name:"tenant"}));function Y7({notebookId:e,flowName:t,open:n,startDate:r,endDate:i,labels:o,onOpenChange:a}){const s=kR(k=>k.currentTenant),[l,c]=C.useState(null),[d,u]=C.useState(!0),[p,m]=C.useState("all");C.useEffect(()=>{if(!s||!n)return;const k=async()=>{u(!0);try{const I=await ey.getFlowHistory(s,t,r,i,Object.entries(o).map(([M,A])=>({label:M,value:A})),e);c(I)}catch(I){console.error("Failed to fetch flow history:",I),c([])}finally{u(!1)}};m("all"),k()},[s,t,o,r,i,n,e]);const v=C.useMemo(()=>l?.filter(k=>k.status==="failure").length||0,[l]),x=C.useMemo(()=>l?.filter(k=>k.status==="success").length||0,[l]),w=C.useMemo(()=>l?.filter(k=>k.status==="running").length||0,[l]),T=C.useMemo(()=>l?.length||0,[l]);return g.jsx(fy,{open:n,onOpenChange:a,children:g.jsxs(Em,{side:"right",className:"w-full sm:max-w-5xl p-0 flex flex-col",children:[g.jsx(Sm,{className:"flex-shrink-0",children:g.jsxs(zp,{className:"flex flex-col items-stretch border-b !p-0 sm:flex-row",children:[g.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-1 px-6 pt-4 pb-3 sm:py-6",children:[g.jsx(Cm,{className:"text-2xl",children:t}),g.jsx(l0e,{children:"Flow execution history and details"})]}),g.jsx("div",{className:"flex",children:d&&l===null?g.jsx(Uat,{}):t&&g.jsx(Fat,{failedCount:v,successCount:x,pendingCount:w,runCount:T,statusFilter:p,onStatusFilterChange:m})})]})}),g.jsx("div",{className:"flex-1 flex flex-col px-6 py-6 overflow-hidden",children:g.jsx("div",{className:"flex flex-col h-full gap-2",children:g.jsx("div",{className:"flex-1 overflow-y-auto",children:d&&l===null?g.jsx(ox,{columns:6,rows:10}):g.jsx(a0e,{flowHistory:l||[],statusFilter:p})})})})]})})}const CL=14;function qat({notebookId:e,tenant:t,startDate:n,endDate:r,filters:i,visibleColumns:o={name:!0,labels:!0,lastStatus:!0,lastStart:!0,lastEnd:!0,lastDuration:!0,runCounts:!0}}){const[a,s]=C.useState(null),[l,c]=C.useState(!0),[d,u]=C.useState(1),[p,m]=C.useState(null),[v,x]=C.useState(!1);C.useEffect(()=>{t&&(async()=>{c(!0);try{const L=await ey.getByTenant(t,n,r,i,e);s(L)}finally{c(!1)}})()},[t,n,r,i,e]);const w=R=>{m(R),x(!0)},T=Math.ceil((a?.length||0)/CL),k=(d-1)*CL,N=k+CL,I=a?.slice(k,N)||[],M=()=>{u(R=>Math.max(1,R-1))},A=()=>{u(R=>Math.min(T,R+1))};return l&&a===null?g.jsx(ox,{columns:6,rows:5}):g.jsxs(g.Fragment,{children:[g.jsxs(ty,{className:"table-fixed",children:[g.jsx(ny,{children:g.jsxs(Ea,{children:[o.name&&g.jsx(oo,{className:"w-48",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(AH,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Name"})]})}),o.labels&&g.jsx(oo,{className:"w-auto",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(TT,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})}),o.lastStatus&&g.jsx(oo,{className:"w-24",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(sD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last Status"})]})}),o.lastStart&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Qp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last Start"})]})}),o.lastEnd&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Qp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last End"})]})}),o.lastDuration&&g.jsx(oo,{className:"w-28",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(lD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last Duration"})]})}),o.runCounts&&g.jsx(oo,{className:"w-28",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Fie,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Run Counts"})]})})]})}),g.jsxs(ry,{children:[I.map((R,L)=>g.jsxs(Ea,{className:"group",children:[o.name&&g.jsx(Ai,{className:"group-hover:opacity-100 transition-opacity",children:g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("span",{className:"font-medium",children:R.name}),g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsxs("div",{className:"absolute -right-3 -top-2 px-2 py-1.5 rounded-b-lg border border-t-0 bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1 opacity-0 shadow-xs ",onClick:()=>w(R),children:[g.jsx(Iie,{className:"size-4 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground ",children:"Details"})]})}),g.jsx(Or,{children:g.jsx("p",{children:"View flow details"})})]})]})}),o.labels&&g.jsx(Ai,{children:g.jsx("div",{className:"flex gap-1",onClick:B=>B.stopPropagation(),children:Object.entries(R.labels).map(([B,$])=>g.jsx("div",{className:"cursor-pointer",children:g.jsx(eh,{labelKey:B,labelValue:$,readonly:!0})},B))})}),o.lastStatus&&g.jsx(Ai,{children:g.jsx(o0e,{status:R.lastRunStatus})}),o.lastStart&&g.jsx(Ai,{className:"text-muted-foreground text-sm",children:g.jsxs(Pr,{children:[g.jsx(Lr,{className:"cursor-default",children:KO(R.lastRunStartedAt)}),g.jsx(Or,{children:Wf(R.lastRunStartedAt,"PPpp")})]})}),o.lastEnd&&g.jsx(Ai,{className:"text-muted-foreground text-sm",children:R.lastRunEndedAt?g.jsxs(Pr,{children:[g.jsx(Lr,{className:"cursor-default",children:KO(R.lastRunEndedAt)}),g.jsx(Or,{children:Wf(R.lastRunEndedAt,"PPpp")})]}):"-"}),o.lastDuration&&g.jsx(Ai,{className:"text-muted-foreground text-sm",children:Nv({startTime:R.lastRunStartedAt,endTime:R.lastRunEndedAt})}),o.runCounts&&g.jsx(Ai,{children:g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx(Yp,{variant:"outline",className:"border-0 bg-[#dbe6dd] text-green-700 h-6 px-2 text-xs font-medium",children:R.successCount}),g.jsx(Yp,{variant:"outline",className:"border-0 bg-[#d2e4f8] text-blue-700 h-6 px-2 text-xs font-medium",children:R.pendingCount}),g.jsx(Yp,{variant:"outline",className:"border-0 bg-[#f9dcd9] text-red-700 h-6 px-2 text-xs font-medium",children:R.failedCount})]})})]},`${R.name}-${L}`)),a?.length===0&&g.jsx(Ea,{children:g.jsx(Ai,{colSpan:Object.keys(o).length,className:"text-center text-secondary-foreground text-sm py-6",children:"No flows found for the selected time window."})})]})]}),g.jsx(TR,{currentPage:d,totalPages:T,onPreviousPage:M,onNextPage:A}),p&&g.jsx(Y7,{notebookId:e,labels:p.labels,flowName:p.name,open:v,startDate:n,endDate:r,onOpenChange:x})]})}const Wat=yx({type:"flow",propSchema:{showName:{default:!0},showLabels:{default:!0},showLastStatus:{default:!0},showLastStart:{default:!0},showLastEnd:{default:!0},showLastDuration:{default:!0},showRunCounts:{default:!0},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=gt(x=>x.settingsOpenBlockId),i=gt(x=>x.closeBlockSettings),o=gt(x=>x.startDate),a=gt(x=>x.endDate),s=gt(x=>x.currentNotebook?.filters),l=gt(x=>x.currentNotebook?.id),c=fu(x=>x.labels),d=F.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),u=F.useMemo(()=>[...s||[],...d],[s,d]);if(!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const p=r===e.block.id,m=(x,w)=>{e.editor.updateBlock(e.block,{props:{[x]:w}})},v=x=>{e.editor.updateBlock(e.block,{props:{blockFilters:JSON.stringify(x)}})};return o!==null&&a!==null&&u!==void 0&&l&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:g.jsx(qat,{notebookId:l,tenant:n,startDate:o,endDate:a,filters:u,visibleColumns:{name:e.block.props.showName,labels:e.block.props.showLabels,lastStatus:e.block.props.showLastStatus,lastStart:e.block.props.showLastStart,lastEnd:e.block.props.showLastEnd,lastDuration:e.block.props.showLastDuration,runCounts:e.block.props.showRunCounts}})}),g.jsx(fy,{open:p,onOpenChange:x=>{x||i()},children:g.jsxs(Em,{children:[g.jsx(Sm,{children:g.jsx(Cm,{children:"Flow Settings"})}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Columns"}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showName",!e.block.props.showName),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(AH,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Name"})]}),e.block.props.showName?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLabels",!e.block.props.showLabels),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(TT,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Labels"})]}),e.block.props.showLabels?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastStatus",!e.block.props.showLastStatus),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(sD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last Status"})]}),e.block.props.showLastStatus?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastStart",!e.block.props.showLastStart),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Qp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last Start"})]}),e.block.props.showLastStart?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastEnd",!e.block.props.showLastEnd),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Qp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last End"})]}),e.block.props.showLastEnd?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastDuration",!e.block.props.showLastDuration),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(lD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last Duration"})]}),e.block.props.showLastDuration?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showRunCounts",!e.block.props.showRunCounts),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Fie,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Run Counts"})]}),e.block.props.showRunCounts?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]})]})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(q0,{availableLabels:c,filters:d,onFiltersChange:v})]})]})]})})]})}})();function G7({flows:e,selectedFlowName:t,onFlowSelect:n}){const[r,i]=C.useState(!1);if(e.length===0)return g.jsx("div",{className:"text-sm text-muted-foreground",children:"No flows available"});const o=Tv.uniq(e.map(a=>a.name));return g.jsxs(Od,{open:r,onOpenChange:i,children:[g.jsx(Md,{asChild:!0,children:g.jsxs(ni,{variant:"outline",role:"combobox","aria-expanded":r,className:"w-full justify-between",children:[t?o.find(a=>a===t):"Select a flow...",g.jsx(Lie,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),g.jsx(Dd,{className:"w-[400px] p-0",children:g.jsxs(e1,{children:[g.jsx(t1,{placeholder:"Search flows..."}),g.jsxs(n1,{children:[g.jsx(r1,{children:"No flow found."}),g.jsx(i1,{children:o.map(a=>g.jsxs(o1,{value:a,onSelect:s=>{n(s===t?"":s),i(!1)},children:[g.jsx(Qv,{className:Ie("mr-2 h-4 w-4",t===a?"opacity-100":"opacity-0")}),a]},a))})]})]})})]})}const Yat=yx({type:"flowHistory",propSchema:{flowName:{default:""},statusFilter:{default:"all"},showLabels:{default:!0},showStart:{default:!0},showEnd:{default:!0},showDuration:{default:!0},showStatus:{default:!0},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=gt(L=>L.settingsOpenBlockId),i=gt(L=>L.closeBlockSettings),o=gt(L=>L.openBlockSettings),a=gt(L=>L.flows),s=gt(L=>L.startDate),l=gt(L=>L.endDate),c=gt(L=>L.currentNotebook?.filters),d=gt(L=>L.currentNotebook?.id),u=fu(L=>L.labels),[p,m]=C.useState(null),[v,x]=C.useState(!1),w=e.block.props.flowName,T=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),k=C.useMemo(()=>[...c||[],...T],[c,T]);if(C.useEffect(()=>{(async()=>{if(!n||!w||!d||s===null||l===null||k===void 0){m([]);return}x(!0);try{const B=await ey.getFlowHistory(n,w,s,l,k,d);m(B)}catch(B){console.error("Failed to fetch detailed flow:",B),m([])}finally{x(!1)}})()},[n,w,s,l,k,d]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const N=r===e.block.id,I=L=>{e.editor.updateBlock(e.block,{props:{flowName:L}})},M=(L,B)=>{e.editor.updateBlock(e.block,{props:{[L]:B}})},A=L=>{e.editor.updateBlock(e.block,{props:{blockFilters:JSON.stringify(L)}})},R=()=>w?v&&p===null?g.jsx(ox,{columns:6,rows:5}):g.jsx(a0e,{flowHistory:p||[],statusFilter:"all",visibleColumns:{labels:e.block.props.showLabels,start:e.block.props.showStart,end:e.block.props.showEnd,duration:e.block.props.showDuration,status:e.block.props.showStatus}}):g.jsx(e9,{icon:zie,title:"No flow selected",description:"Select a flow to view its execution history.",onClick:()=>o(e.block.id),className:"cursor-pointer"});return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:R()}),g.jsx(fy,{open:N,onOpenChange:L=>{L||i()},children:g.jsxs(Em,{children:[g.jsx(Sm,{children:g.jsx(Cm,{children:"Flow History Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Flow"}),g.jsx(G7,{flows:a,selectedFlowName:w,onFlowSelect:I})]}),g.jsxs("div",{className:"space-y-1 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Columns"}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>M("showLabels",!e.block.props.showLabels),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(TT,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Labels"})]}),e.block.props.showLabels?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>M("showStart",!e.block.props.showStart),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Qp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Start"})]}),e.block.props.showStart?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>M("showEnd",!e.block.props.showEnd),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Qp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"End"})]}),e.block.props.showEnd?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>M("showDuration",!e.block.props.showDuration),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(lD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Duration"})]}),e.block.props.showDuration?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>M("showStatus",!e.block.props.showStatus),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(sD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Status"})]}),e.block.props.showStatus?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]})]})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(q0,{availableLabels:u,filters:T,onFiltersChange:A})]})]})]})})]})}})(),Sv=Age,Cv=Nge,Qg=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(B7,{ref:r,className:Ie("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,g.jsx(Oge,{asChild:!0,children:g.jsx(CT,{className:"h-4 w-4 opacity-50"})})]}));Qg.displayName=B7.displayName;const c0e=C.forwardRef(({className:e,...t},n)=>g.jsx(F7,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(ike,{className:"h-4 w-4"})}));c0e.displayName=F7.displayName;const u0e=C.forwardRef(({className:e,...t},n)=>g.jsx(U7,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(CT,{className:"h-4 w-4"})}));u0e.displayName=U7.displayName;const Jg=C.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>g.jsx(xit,{children:g.jsxs($7,{ref:i,className:Ie("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[g.jsx(c0e,{}),g.jsx(Mge,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),g.jsx(u0e,{})]})}));Jg.displayName=$7.displayName;const Gat=C.forwardRef(({className:e,...t},n)=>g.jsx(Dge,{ref:n,className:Ie("px-2 py-1.5 text-sm font-semibold",e),...t}));Gat.displayName=Dge.displayName;const Fr=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(H7,{ref:r,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(Ige,{children:g.jsx(Qv,{className:"h-4 w-4"})})}),g.jsx(Rge,{children:t})]}));Fr.displayName=H7.displayName;const Kat=C.forwardRef(({className:e,...t},n)=>g.jsx(Pge,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));Kat.displayName=Pge.displayName;function $S(e){if(e===0)return 0;const t=Math.floor(Math.log10(Math.abs(e))),n=Math.max(0,2-t-1);return Number(e.toFixed(n))}function F8(e,t,n){let r=e,i=t||"";if(t==="percent"||t==="%"){const a=e*100;return{formattedValue:$S(a).toLocaleString(),displayUnit:"%"}}return n?.startsWith("rate")&&(n==="ratePerSecond"?i=`${t||"events"}/s`:n==="ratePerMinute"?i=`${t||"events"}/min`:n==="ratePerHour"?i=`${t||"events"}/h`:n==="ratePerDay"&&(i=`${t||"events"}/day`)),{formattedValue:$S(r).toLocaleString(),displayUnit:i}}const Xat=yx({type:"flowStatus",propSchema:{flowName:{default:""},title:{default:""},blockFilters:{default:"[]"},displayMode:{default:"percent"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=gt(V=>V.settingsOpenBlockId),i=gt(V=>V.closeBlockSettings),o=gt(V=>V.flows),a=gt(V=>V.currentNotebook),s=gt(V=>V.startDate),l=gt(V=>V.endDate),c=gt(V=>V.currentNotebook?.filters),d=fu(V=>V.labels),[u,p]=F.useState(null),[m,v]=F.useState(!1),[x,w]=F.useState([]),T=e.block.props.flowName,k=e.block.props.title,N=e.block.props.displayMode||"percent",I=F.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),M=F.useMemo(()=>[...c||[],...I],[c,I]);if(F.useEffect(()=>{if(!n||!s||!l||!a?.id)return;(async()=>{try{const Y=await ey.getByTenant(n,s,l,M,a.id);w(Y.filter(U=>U.name===T))}catch{w([])}})()},[n,s,l,M,a?.id,T]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const A=r===e.block.id,R=V=>{p(V),v(!0)},L=V=>{e.editor.updateBlock(e.block,{props:{flowName:V}})},B=V=>{e.editor.updateBlock(e.block,{props:{blockFilters:JSON.stringify(V)}})},$=()=>x.length===0?g.jsx("div",{className:"outline-none flex flex-col gap-1",children:g.jsxs(f0,{className:"@container/card shadow-none",children:[g.jsx(zp,{className:"pb-2 pt-2 pl-3",children:g.jsx(s1,{className:"text-xl relative font-semibold flex items-center gap-2",children:g.jsxs(Yp,{variant:"outline",className:"text-muted-foreground px-1.5 gap-1.5 border-0 text-base",children:[g.jsx(jie,{className:Ie("size-5","text-muted-foreground")}),k||T||"N/A"]})})}),g.jsx(xc,{}),g.jsx(EN,{className:"px-6 py-3 text-secondary-foreground",children:"No runs"}),g.jsx(jv,{className:"flex-col items-start gap-1.5 text-sm p-3 pt-0"})]})}):g.jsx("div",{className:"outline-none flex flex-col gap-1",children:x.map(V=>W(V))}),W=V=>{const Y=i0e[V.lastRunStatus];return g.jsx("div",{className:"outline-none flex flex-col gap-1 group",children:g.jsxs(f0,{className:"@container/card shadow-none",children:[g.jsx(zp,{className:"pb-2 pt-2 pl-3",children:g.jsxs(s1,{className:"text-xl relative font-semibold flex items-center gap-2",children:[g.jsx(js,{children:g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsxs(Yp,{variant:"outline",className:"text-muted-foreground px-1.5 gap-1.5 border-0 text-base",children:[g.jsx(Y.Icon,{className:Ie("size-5",Y.iconClass)}),k||V.name]})}),g.jsxs(Or,{children:[V.lastRunStatus==="running"&&g.jsxs("p",{children:["Running since"," ",V.lastRunStartedAt?.toLocaleString()]}),V.lastRunStatus!=="running"&&g.jsxs("p",{children:["Last run ended at"," ",V.lastRunEndedAt?.toLocaleString()]})]})]})}),g.jsxs("div",{className:"absolute right-0 -top-2 px-2 py-1.5 rounded-b-lg border border-t-0 bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1.5 opacity-0 shadow-xs",onClick:()=>R(V),children:[g.jsx(Iie,{className:"size-4 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Details"})]})]})}),g.jsx(xc,{}),g.jsxs(EN,{className:"px-6 py-3",children:[N==="runCount"&&g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3",children:[g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 px-6 py-2 text-left border-0",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#5cb660]"}),"Success"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:V.successCount.toLocaleString()})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l ",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#e56458]"}),"Failed"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:V.failedCount.toLocaleString()})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#2883df]"}),"Running"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:V.pendingCount.toLocaleString()})]})]}),N==="percent"&&(()=>{const U=V.successCount+V.failedCount+V.pendingCount,X=U>0?V.successCount/U*100:0,q=U>0?V.failedCount/U*100:0,ne=U>0?V.pendingCount/U*100:0;return g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3",children:[g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 px-6 py-2 text-left border-0",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#5cb660]"}),"Success"]}),g.jsxs("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:[$S(X),"%"]})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l ",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#e56458]"}),"Failed"]}),g.jsxs("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:[$S(q),"%"]})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#2883df]"}),"Running"]}),g.jsxs("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:[$S(ne),"%"]})]})]})})(),N==="status"&&g.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-4",children:[g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 px-6 py-2 text-left border-0",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Last duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:Nv({seconds:V.lastDurationInSeconds})})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l ",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Average duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:Nv({seconds:V.avgDurationInSeconds})})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Min duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:Nv({seconds:V.minDurationInSeconds})})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Max duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:Nv({seconds:V.maxDurationInSeconds})})]})]})]}),g.jsx(jv,{className:"flex-col items-start gap-1.5 text-sm p-3 pt-0",children:g.jsx("div",{className:"flex gap-1",children:Object.entries(V.labels).map(([U,X])=>g.jsx("div",{children:g.jsx(eh,{labelKey:U,labelValue:X,readonly:!0})},U))})})]})},V.groupId)};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:$()}),g.jsx(fy,{open:A,onOpenChange:V=>{V||i()},children:g.jsxs(Em,{children:[g.jsx(Sm,{children:g.jsx(Cm,{children:"Flow Status Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Title"}),g.jsx(hu,{placeholder:"Optional title...",value:k,onChange:V=>{e.editor.updateBlock(e.block,{props:{title:V.target.value}})}})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Display"}),g.jsx(js,{delayDuration:300,children:g.jsxs(Sv,{value:N,onValueChange:V=>{e.editor.updateBlock(e.block,{props:{displayMode:V}})},children:[g.jsx(Qg,{children:g.jsx(Cv,{})}),g.jsxs(Jg,{children:[g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(Fr,{value:"percent",children:"Percent"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{children:"Percentage of flow runs split by status"})})]}),g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(Fr,{value:"runCount",children:"Count"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{children:"Count of flow runs split by status"})})]}),g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(Fr,{value:"status",children:"Duration"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{children:"Display flow duration across time period"})})]})]})]})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Flow"}),g.jsx(G7,{flows:o,selectedFlowName:T,onFlowSelect:L})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(q0,{availableLabels:d,filters:I,onFiltersChange:B})]})]})]})}),a&&u&&s!==null&&l!==null&&g.jsx(Y7,{labels:u.labels,flowName:u.name,open:m,startDate:s,endDate:l,onOpenChange:v,notebookId:a.id})]})}})();function Zat(e){if(!e||e.totalRuns===0)return"var(--color-secondary)";const t=e.failureCount===0&&e.runningCount===0,n=e.successCount===0&&e.runningCount===0,r=e.runningCount>0;return n?"#e56458":t?"#5cb660":r?"#2883df":"orange"}const Qat=yx({type:"heatmap",propSchema:{flowName:{default:""},title:{default:""},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=gt(Z=>Z.startDate),i=gt(Z=>Z.endDate),o=gt(Z=>Z.currentNotebook?.filters),a=gt(Z=>Z.currentNotebook?.id),s=gt(Z=>Z.flows),l=fu(Z=>Z.labels),c=gt(Z=>Z.settingsOpenBlockId),d=gt(Z=>Z.closeBlockSettings),[u,p]=C.useState(!1),[m,v]=C.useState([]),[x,w]=C.useState([]),[T,k]=C.useState(!1),[N,I]=C.useState({}),[M,A]=C.useState(null),R=e.block.props.flowName,L=e.block.props.title,B=c===e.block.id,$=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),W=C.useMemo(()=>[...o||[],...$],[o,$]),V=C.useMemo(()=>{if(!M)return null;const Z=new Date(M),oe=new Date(M);return Z.setHours(0,0,0,0),oe.setHours(23,59,59,999),{type:"absolute",metadata:{start:Z,end:oe}}},[M]),Y=F.useMemo(()=>{if(r===null||i===null)return[];let Z=r;const oe=[Z];for(;Z<i;)Z=kT(Z,1),oe.push(Z);return oe},[r,i]);if(C.useEffect(()=>{if(!n||!R||r===null||i===null||W===void 0||!a){v([]),w([]);return}(async()=>{p(!0);try{const oe=await ey.getFlowHistory(n,R,r,i,W,a);v(oe)}catch(oe){console.error("Failed to fetch flow histories:",oe),v([])}finally{p(!1)}})()},[n,R,r,i,W,a]),C.useEffect(()=>{const Z=Tv.groupBy(m,K=>K.groupId),oe=Object.entries(Z).map(([K,Q])=>{const te=new Map;for(const z of Q){const fe=z.startTime,me=HI(fe,{representation:"date"}),ke=te.get(me);ke?(ke.totalRuns++,z.status==="success"&&ke.successCount++,z.status==="failure"&&ke.failureCount++,z.status==="running"&&ke.runningCount++):te.set(me,{date:fe,dateStr:me,totalRuns:1,successCount:z.status==="success"?1:0,failureCount:z.status==="failure"?1:0,runningCount:z.status==="running"?1:0})}return{labels:Q[0].labels,groupId:K,dayDataMap:te}});w(oe)},[m]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});if(r===null||i===null)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground"})});const U=(Z,oe)=>{I(Z),A(oe),k(!0)},X=Z=>{e.editor.updateBlock(e.block,{props:{flowName:Z}})},q=Z=>{e.editor.updateBlock(e.block,{props:{blockFilters:JSON.stringify(Z)}})},ne=()=>u&&m===null?g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"h-5 w-32 bg-muted rounded animate-pulse"}),g.jsx("div",{className:"flex gap-[2px]",children:Array.from({length:30}).map((Z,oe)=>g.jsx("div",{className:"w-3 h-8 bg-muted rounded-sm animate-pulse",style:{animationDelay:`${oe*20}ms`}},oe))})]}):g.jsx("div",{className:"space-y-1",children:g.jsxs(js,{children:[x.map((Z,oe)=>g.jsxs("div",{className:"space-y-1",children:[oe===0&&g.jsx("div",{className:"text-m font-medium mb-1",children:L||R||"N/A"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"flex gap-[2px] flex-1",children:Y.map(K=>{const Q=HI(K,{representation:"date"}),te=Z.dayDataMap.get(Q)||null,z=Zat(te);return g.jsxs(Pr,{delayDuration:0,children:[g.jsx(Lr,{asChild:!0,children:g.jsx("div",{className:"w-3 h-8 rounded-sm transition-opacity hover:opacity-80 cursor-pointer",style:{backgroundColor:z},onClick:()=>U(Z.labels,K)})}),g.jsx(Or,{children:g.jsxs("div",{className:"text-xs",children:[g.jsx("div",{className:"font-semibold mb-1",children:Q}),te?g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#5cb660"}}),g.jsx("span",{children:te.successCount})]}),te.failureCount>0&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#e56458"}}),g.jsx("span",{children:te.failureCount})]}),te.runningCount>0&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#2883df"}}),g.jsx("span",{children:te.runningCount})]})]}):g.jsx("div",{className:"text-muted-foreground",children:"No runs"})]})})]},Q)})}),g.jsx("div",{className:"flex items-center gap-1",children:Object.entries(Z.labels).map(([K,Q])=>g.jsx(eh,{labelKey:K,labelValue:Q,readonly:!0},K))})]})]},Z.groupId)),x.length===0&&g.jsxs("div",{className:"space-y-1",children:[g.jsx("div",{className:"text-m font-medium mb-1",children:L||R||"N/A"}),g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("div",{className:"flex gap-[2px] flex-1",children:Y.map(Z=>{const oe=HI(Z,{representation:"date"});return g.jsxs(Pr,{delayDuration:0,children:[g.jsx(Lr,{asChild:!0,children:g.jsx("div",{className:"w-3 h-8 rounded-sm transition-opacity hover:opacity-80 cursor-pointer",style:{backgroundColor:"var(--color-secondary)"}})}),g.jsx(Or,{children:g.jsxs("div",{className:"text-xs",children:[g.jsx("div",{className:"font-semibold mb-1",children:oe}),g.jsx("div",{className:"text-muted-foreground",children:"No runs"})]})})]},oe)})})})]})]})});return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:ne()}),g.jsx(fy,{open:B,onOpenChange:Z=>{Z||d()},children:g.jsxs(Em,{children:[g.jsx(Sm,{children:g.jsx(Cm,{children:"Heatmap Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Title"}),g.jsx(hu,{placeholder:"Optional title...",value:L,onChange:Z=>{e.editor.updateBlock(e.block,{props:{title:Z.target.value}})}})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Flow"}),g.jsx(G7,{flows:s,selectedFlowName:R,onFlowSelect:X})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(q0,{availableLabels:l,filters:$,onFiltersChange:q})]})]})]})}),V&&a&&g.jsx(Y7,{labels:N,flowName:R,open:T,startDate:r,endDate:i,onOpenChange:k,notebookId:a})]})}})();var TL,YK;function Gs(){if(YK)return TL;YK=1;var e=Array.isArray;return TL=e,TL}var kL,GK;function d0e(){if(GK)return kL;GK=1;var e=typeof Ip=="object"&&Ip&&Ip.Object===Object&&Ip;return kL=e,kL}var _L,KK;function Fd(){if(KK)return _L;KK=1;var e=d0e(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return _L=n,_L}var AL,XK;function sk(){if(XK)return AL;XK=1;var e=Fd(),t=e.Symbol;return AL=t,AL}var NL,ZK;function Jat(){if(ZK)return NL;ZK=1;var e=sk(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var d=r.call(a);return c&&(s?a[i]=l:delete a[i]),d}return NL=o,NL}var OL,QK;function est(){if(QK)return OL;QK=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return OL=n,OL}var ML,JK;function fh(){if(JK)return ML;JK=1;var e=sk(),t=Jat(),n=est(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return ML=a,ML}var DL,eX;function hh(){if(eX)return DL;eX=1;function e(t){return t!=null&&typeof t=="object"}return DL=e,DL}var RL,tX;function xx(){if(tX)return RL;tX=1;var e=fh(),t=hh(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return RL=r,RL}var IL,nX;function K7(){if(nX)return IL;nX=1;var e=Gs(),t=xx(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return IL=i,IL}var PL,rX;function Tm(){if(rX)return PL;rX=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return PL=e,PL}var LL,iX;function X7(){if(iX)return LL;iX=1;var e=fh(),t=Tm(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==o}return LL=a,LL}var jL,oX;function tst(){if(oX)return jL;oX=1;var e=Fd(),t=e["__core-js_shared__"];return jL=t,jL}var BL,aX;function nst(){if(aX)return BL;aX=1;var e=tst(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return BL=n,BL}var $L,sX;function f0e(){if(sX)return $L;sX=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return $L=n,$L}var HL,lX;function rst(){if(lX)return HL;lX=1;var e=X7(),t=nst(),n=Tm(),r=f0e(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u(p){if(!n(p)||t(p))return!1;var m=e(p)?d:o;return m.test(r(p))}return HL=u,HL}var FL,cX;function ist(){if(cX)return FL;cX=1;function e(t,n){return t?.[n]}return FL=e,FL}var UL,uX;function hy(){if(uX)return UL;uX=1;var e=rst(),t=ist();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return UL=n,UL}var zL,dX;function _R(){if(dX)return zL;dX=1;var e=hy(),t=e(Object,"create");return zL=t,zL}var VL,fX;function ost(){if(fX)return VL;fX=1;var e=_R();function t(){this.__data__=e?e(null):{},this.size=0}return VL=t,VL}var qL,hX;function ast(){if(hX)return qL;hX=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return qL=e,qL}var WL,pX;function sst(){if(pX)return WL;pX=1;var e=_R(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return WL=i,WL}var YL,mX;function lst(){if(mX)return YL;mX=1;var e=_R(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return YL=r,YL}var GL,gX;function cst(){if(gX)return GL;gX=1;var e=_R(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return GL=n,GL}var KL,yX;function ust(){if(yX)return KL;yX=1;var e=ost(),t=ast(),n=sst(),r=lst(),i=cst();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,KL=o,KL}var XL,bX;function dst(){if(bX)return XL;bX=1;function e(){this.__data__=[],this.size=0}return XL=e,XL}var ZL,vX;function Z7(){if(vX)return ZL;vX=1;function e(t,n){return t===n||t!==t&&n!==n}return ZL=e,ZL}var QL,xX;function AR(){if(xX)return QL;xX=1;var e=Z7();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return QL=t,QL}var JL,wX;function fst(){if(wX)return JL;wX=1;var e=AR(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return JL=r,JL}var e4,EX;function hst(){if(EX)return e4;EX=1;var e=AR();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return e4=t,e4}var t4,SX;function pst(){if(SX)return t4;SX=1;var e=AR();function t(n){return e(this.__data__,n)>-1}return t4=t,t4}var n4,CX;function mst(){if(CX)return n4;CX=1;var e=AR();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return n4=t,n4}var r4,TX;function NR(){if(TX)return r4;TX=1;var e=dst(),t=fst(),n=hst(),r=pst(),i=mst();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,r4=o,r4}var i4,kX;function Q7(){if(kX)return i4;kX=1;var e=hy(),t=Fd(),n=e(t,"Map");return i4=n,i4}var o4,_X;function gst(){if(_X)return o4;_X=1;var e=ust(),t=NR(),n=Q7();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return o4=r,o4}var a4,AX;function yst(){if(AX)return a4;AX=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return a4=e,a4}var s4,NX;function OR(){if(NX)return s4;NX=1;var e=yst();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return s4=t,s4}var l4,OX;function bst(){if(OX)return l4;OX=1;var e=OR();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return l4=t,l4}var c4,MX;function vst(){if(MX)return c4;MX=1;var e=OR();function t(n){return e(this,n).get(n)}return c4=t,c4}var u4,DX;function xst(){if(DX)return u4;DX=1;var e=OR();function t(n){return e(this,n).has(n)}return u4=t,u4}var d4,RX;function wst(){if(RX)return d4;RX=1;var e=OR();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return d4=t,d4}var f4,IX;function J7(){if(IX)return f4;IX=1;var e=gst(),t=bst(),n=vst(),r=xst(),i=wst();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,f4=o,f4}var h4,PX;function h0e(){if(PX)return h4;PX=1;var e=J7(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var c=r.apply(this,a);return o.cache=l.set(s,c)||l,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,h4=n,h4}var p4,LX;function Est(){if(LX)return p4;LX=1;var e=h0e(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return p4=n,p4}var m4,jX;function Sst(){if(jX)return m4;jX=1;var e=Est(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,l,c){o.push(l?c.replace(n,"$1"):s||a)}),o});return m4=r,m4}var g4,BX;function eU(){if(BX)return g4;BX=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return g4=e,g4}var y4,$X;function Cst(){if($X)return y4;$X=1;var e=sk(),t=eU(),n=Gs(),r=xx(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return y4=a,y4}var b4,HX;function p0e(){if(HX)return b4;HX=1;var e=Cst();function t(n){return n==null?"":e(n)}return b4=t,b4}var v4,FX;function m0e(){if(FX)return v4;FX=1;var e=Gs(),t=K7(),n=Sst(),r=p0e();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return v4=i,v4}var x4,UX;function MR(){if(UX)return x4;UX=1;var e=xx();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return x4=t,x4}var w4,zX;function tU(){if(zX)return w4;zX=1;var e=m0e(),t=MR();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return w4=n,w4}var E4,VX;function g0e(){if(VX)return E4;VX=1;var e=tU();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return E4=t,E4}var Tst=g0e();const gc=vr(Tst);var S4,qX;function kst(){if(qX)return S4;qX=1;function e(t){return t==null}return S4=e,S4}var _st=kst();const qn=vr(_st);var C4,WX;function Ast(){if(WX)return C4;WX=1;var e=fh(),t=Gs(),n=hh(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return C4=i,C4}var Nst=Ast();const W0=vr(Nst);var Ost=X7();const Rn=vr(Ost);var Mst=Tm();const wx=vr(Mst);var T4={exports:{}},Tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YX;function Dst(){if(YX)return Tr;YX=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function x(w){if(typeof w=="object"&&w!==null){var T=w.$$typeof;switch(T){case e:switch(w=w.type,w){case n:case i:case r:case c:case d:return w;default:switch(w=w&&w.$$typeof,w){case s:case a:case l:case p:case u:case o:return w;default:return T}}case t:return T}}}return Tr.ContextConsumer=a,Tr.ContextProvider=o,Tr.Element=e,Tr.ForwardRef=l,Tr.Fragment=n,Tr.Lazy=p,Tr.Memo=u,Tr.Portal=t,Tr.Profiler=i,Tr.StrictMode=r,Tr.Suspense=c,Tr.SuspenseList=d,Tr.isAsyncMode=function(){return!1},Tr.isConcurrentMode=function(){return!1},Tr.isContextConsumer=function(w){return x(w)===a},Tr.isContextProvider=function(w){return x(w)===o},Tr.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Tr.isForwardRef=function(w){return x(w)===l},Tr.isFragment=function(w){return x(w)===n},Tr.isLazy=function(w){return x(w)===p},Tr.isMemo=function(w){return x(w)===u},Tr.isPortal=function(w){return x(w)===t},Tr.isProfiler=function(w){return x(w)===i},Tr.isStrictMode=function(w){return x(w)===r},Tr.isSuspense=function(w){return x(w)===c},Tr.isSuspenseList=function(w){return x(w)===d},Tr.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===c||w===d||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===u||w.$$typeof===o||w.$$typeof===a||w.$$typeof===l||w.$$typeof===v||w.getModuleId!==void 0)},Tr.typeOf=x,Tr}var GX;function Rst(){return GX||(GX=1,T4.exports=Dst()),T4.exports}var Ist=Rst(),k4,KX;function y0e(){if(KX)return k4;KX=1;var e=fh(),t=hh(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return k4=r,k4}var _4,XX;function Pst(){if(XX)return _4;XX=1;var e=y0e();function t(n){return e(n)&&n!=+n}return _4=t,_4}var Lst=Pst();const lk=vr(Lst);var jst=y0e();const Bst=vr(jst);var uu=function(t){return t===0?0:t>0?1:-1},o0=function(t){return W0(t)&&t.indexOf("%")===t.length-1},dt=function(t){return Bst(t)&&!lk(t)},$st=function(t){return qn(t)},ko=function(t){return dt(t)||W0(t)},Hst=0,ck=function(t){var n=++Hst;return"".concat(t||"").concat(n)},Y0=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(t)&&!W0(t))return r;var o;if(o0(t)){var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return lk(o)&&(o=r),i&&o>n&&(o=n),o},Rp=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Fst=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},nu=function(t,n){return dt(t)&&dt(n)?function(r){return t+r*(n-t)}:function(){return n}};function XO(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):gc(r,t))===n})}var Ust=function(t,n){return dt(t)&&dt(n)?t-n:W0(t)&&W0(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Kv(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function U8(e){"@babel/helpers - typeof";return U8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U8(e)}var zst=["viewBox","children"],Vst=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZX=["points","pathLength"],A4={svg:zst,polygon:ZX,polyline:ZX},nU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ZO=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),!wx(r))return null;var i={};return Object.keys(r).forEach(function(o){nU.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},qst=function(t,n,r){return function(i){return t(n,r,i),null}},QO=function(t,n,r){if(!wx(t)||U8(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var a=t[o];nU.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=qst(a,n,r))}),i},Wst=["children"],Yst=["children"];function QX(e,t){if(e==null)return{};var n=Gst(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function z8(e){"@babel/helpers - typeof";return z8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z8(e)}var JX={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},zf=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},eZ=null,N4=null,rU=function e(t){if(t===eZ&&Array.isArray(N4))return N4;var n=[];return C.Children.forEach(t,function(r){qn(r)||(Ist.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),N4=n,eZ=t,n};function yc(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return zf(i)}):r=[zf(t)],rU(e).forEach(function(i){var o=gc(i,"type.displayName")||gc(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function vl(e,t){var n=yc(e,t);return n&&n[0]}var tZ=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!dt(r)||r<=0||!dt(i)||i<=0)},Kst=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Xst=function(t){return t&&t.type&&W0(t.type)&&Kst.indexOf(t.type)>=0},Zst=function(t){return t&&z8(t)==="object"&&"clipDot"in t},Qst=function(t,n,r,i){var o,a=(o=A4?.[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Rn(t)&&(i&&a.includes(n)||Vst.includes(n))||r&&nU.includes(n)},Jn=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(C.isValidElement(t)&&(i=t.props),!wx(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Qst((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},V8=function e(t,n){if(t===n)return!0;var r=C.Children.count(t);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return nZ(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!nZ(o,a))return!1}return!0},nZ=function(t,n){if(qn(t)&&qn(n))return!0;if(!qn(t)&&!qn(n)){var r=t.props||{},i=r.children,o=QX(r,Wst),a=n.props||{},s=a.children,l=QX(a,Yst);return i&&s?Kv(o,l)&&V8(i,s):!i&&!s?Kv(o,l):!1}return!1},rZ=function(t,n){var r=[],i={};return rU(t).forEach(function(o,a){if(Xst(o))r.push(o);else if(o){var s=zf(o.type),l=n[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var u=c(o,s,a);r.push(u),i[s]=!0}}}),r},Jst=function(t){var n=t&&t.type;return n&&JX[n]?JX[n]:null},elt=function(t,n){return rU(n).indexOf(t)},tlt=["children","width","height","viewBox","className","style","title","desc"];function q8(){return q8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q8.apply(this,arguments)}function nlt(e,t){if(e==null)return{};var n=rlt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rlt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function W8(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,c=nlt(e,tlt),d=i||{width:n,height:r,x:0,y:0},u=Xn("recharts-surface",o);return F.createElement("svg",q8({},Jn(c,!0,"svg"),{className:u,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),F.createElement("title",null,s),F.createElement("desc",null,l),t)}var ilt=["children","className"];function Y8(){return Y8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y8.apply(this,arguments)}function olt(e,t){if(e==null)return{};var n=alt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function alt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Wi=F.forwardRef(function(e,t){var n=e.children,r=e.className,i=olt(e,ilt),o=Xn("recharts-layer",r);return F.createElement("g",Y8({className:o},Jn(i,!0),{ref:t}),n)}),Vf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},O4,iZ;function slt(){if(iZ)return O4;iZ=1;function e(t,n,r){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(o);++i<o;)a[i]=t[i+n];return a}return O4=e,O4}var M4,oZ;function llt(){if(oZ)return M4;oZ=1;var e=slt();function t(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:e(n,r,i)}return M4=t,M4}var D4,aZ;function b0e(){if(aZ)return D4;aZ=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function l(c){return s.test(c)}return D4=l,D4}var R4,sZ;function clt(){if(sZ)return R4;sZ=1;function e(t){return t.split("")}return R4=e,R4}var I4,lZ;function ult(){if(lZ)return I4;lZ=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",d="[^"+e+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=c+"?",x="["+o+"]?",w="(?:"+m+"(?:"+[d,u,p].join("|")+")"+x+v+")*",T=x+v+w,k="(?:"+[d+s+"?",s,u,p,a].join("|")+")",N=RegExp(l+"(?="+l+")|"+k+T,"g");function I(M){return M.match(N)||[]}return I4=I,I4}var P4,cZ;function dlt(){if(cZ)return P4;cZ=1;var e=clt(),t=b0e(),n=ult();function r(i){return t(i)?n(i):e(i)}return P4=r,P4}var L4,uZ;function flt(){if(uZ)return L4;uZ=1;var e=llt(),t=b0e(),n=dlt(),r=p0e();function i(o){return function(a){a=r(a);var s=t(a)?n(a):void 0,l=s?s[0]:a.charAt(0),c=s?e(s,1).join(""):a.slice(1);return l[o]()+c}}return L4=i,L4}var j4,dZ;function hlt(){if(dZ)return j4;dZ=1;var e=flt(),t=e("toUpperCase");return j4=t,j4}var plt=hlt();const DR=vr(plt);function ti(e){return function(){return e}}const v0e=Math.cos,JO=Math.sin,Au=Math.sqrt,eM=Math.PI,RR=2*eM,G8=Math.PI,K8=2*G8,Gg=1e-6,mlt=K8-Gg;function x0e(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function glt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return x0e;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ylt{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?x0e:glt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,c=i-n,d=a-t,u=s-n,p=d*d+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Gg)if(!(Math.abs(u*l-c*d)>Gg)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,v=i-s,x=l*l+c*c,w=m*m+v*v,T=Math.sqrt(x),k=Math.sqrt(p),N=o*Math.tan((G8-Math.acos((x+p-w)/(2*T*k)))/2),I=N/k,M=N/T;Math.abs(I-1)>Gg&&this._append`L${t+I*d},${n+I*u}`,this._append`A${o},${o},0,0,${+(u*m>d*v)},${this._x1=t+M*l},${this._y1=n+M*c}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,d=n+l,u=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Gg||Math.abs(this._y1-d)>Gg)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%K8+K8),p>mlt?this._append`A${r},${r},0,1,${u},${t-s},${n-l}A${r},${r},0,1,${u},${this._x1=c},${this._y1=d}`:p>Gg&&this._append`A${r},${r},0,${+(p>=G8)},${u},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function iU(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new ylt(t)}function oU(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function w0e(e){this._context=e}w0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function IR(e){return new w0e(e)}function E0e(e){return e[0]}function S0e(e){return e[1]}function C0e(e,t){var n=ti(!0),r=null,i=IR,o=null,a=iU(s);e=typeof e=="function"?e:e===void 0?E0e:ti(e),t=typeof t=="function"?t:t===void 0?S0e:ti(t);function s(l){var c,d=(l=oU(l)).length,u,p=!1,m;for(r==null&&(o=i(m=a())),c=0;c<=d;++c)!(c<d&&n(u=l[c],c,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(u,c,l),+t(u,c,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:ti(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:ti(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ti(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function TA(e,t,n){var r=null,i=ti(!0),o=null,a=IR,s=null,l=iU(c);e=typeof e=="function"?e:e===void 0?E0e:ti(+e),t=typeof t=="function"?t:ti(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?S0e:ti(+n);function c(u){var p,m,v,x=(u=oU(u)).length,w,T=!1,k,N=new Array(x),I=new Array(x);for(o==null&&(s=a(k=l())),p=0;p<=x;++p){if(!(p<x&&i(w=u[p],p,u))===T)if(T=!T)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=m;--v)s.point(N[v],I[v]);s.lineEnd(),s.areaEnd()}T&&(N[p]=+e(w,p,u),I[p]=+t(w,p,u),s.point(r?+r(w,p,u):N[p],n?+n(w,p,u):I[p]))}if(k)return s=null,k+""||null}function d(){return C0e().defined(i).curve(a).context(o)}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:ti(+u),r=null,c):e},c.x0=function(u){return arguments.length?(e=typeof u=="function"?u:ti(+u),c):e},c.x1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:ti(+u),c):r},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:ti(+u),n=null,c):t},c.y0=function(u){return arguments.length?(t=typeof u=="function"?u:ti(+u),c):t},c.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:ti(+u),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(u){return arguments.length?(i=typeof u=="function"?u:ti(!!u),c):i},c.curve=function(u){return arguments.length?(a=u,o!=null&&(s=a(o)),c):a},c.context=function(u){return arguments.length?(u==null?o=s=null:s=a(o=u),c):o},c}class T0e{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function blt(e){return new T0e(e,!0)}function vlt(e){return new T0e(e,!1)}const aU={draw(e,t){const n=Au(t/eM);e.moveTo(n,0),e.arc(0,0,n,0,RR)}},xlt={draw(e,t){const n=Au(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},k0e=Au(1/3),wlt=k0e*2,Elt={draw(e,t){const n=Au(t/wlt),r=n*k0e;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Slt={draw(e,t){const n=Au(t),r=-n/2;e.rect(r,r,n,n)}},Clt=.8908130915292852,_0e=JO(eM/10)/JO(7*eM/10),Tlt=JO(RR/10)*_0e,klt=-v0e(RR/10)*_0e,_lt={draw(e,t){const n=Au(t*Clt),r=Tlt*n,i=klt*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=RR*o/5,s=v0e(a),l=JO(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},B4=Au(3),Alt={draw(e,t){const n=-Au(t/(B4*3));e.moveTo(0,n*2),e.lineTo(-B4*n,-n),e.lineTo(B4*n,-n),e.closePath()}},Zl=-.5,Ql=Au(3)/2,X8=1/Au(12),Nlt=(X8/2+1)*3,Olt={draw(e,t){const n=Au(t/Nlt),r=n/2,i=n*X8,o=r,a=n*X8+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Zl*r-Ql*i,Ql*r+Zl*i),e.lineTo(Zl*o-Ql*a,Ql*o+Zl*a),e.lineTo(Zl*s-Ql*l,Ql*s+Zl*l),e.lineTo(Zl*r+Ql*i,Zl*i-Ql*r),e.lineTo(Zl*o+Ql*a,Zl*a-Ql*o),e.lineTo(Zl*s+Ql*l,Zl*l-Ql*s),e.closePath()}};function Mlt(e,t){let n=null,r=iU(i);e=typeof e=="function"?e:ti(e||aU),t=typeof t=="function"?t:ti(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ti(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ti(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function tM(){}function nM(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function A0e(e){this._context=e}A0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nM(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dlt(e){return new A0e(e)}function N0e(e){this._context=e}N0e.prototype={areaStart:tM,areaEnd:tM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rlt(e){return new N0e(e)}function O0e(e){this._context=e}O0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:nM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ilt(e){return new O0e(e)}function M0e(e){this._context=e}M0e.prototype={areaStart:tM,areaEnd:tM,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Plt(e){return new M0e(e)}function fZ(e){return e<0?-1:1}function hZ(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(fZ(o)+fZ(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function pZ(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function $4(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function rM(e){this._context=e}rM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$4(this,this._t0,pZ(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$4(this,pZ(this,n=hZ(this,e,t)),n);break;default:$4(this,this._t0,n=hZ(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function D0e(e){this._context=new R0e(e)}(D0e.prototype=Object.create(rM.prototype)).point=function(e,t){rM.prototype.point.call(this,t,e)};function R0e(e){this._context=e}R0e.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function Llt(e){return new rM(e)}function jlt(e){return new D0e(e)}function I0e(e){this._context=e}I0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=mZ(e),i=mZ(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mZ(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Blt(e){return new I0e(e)}function PR(e,t){this._context=e,this._t=t}PR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function $lt(e){return new PR(e,.5)}function Hlt(e){return new PR(e,0)}function Flt(e){return new PR(e,1)}function T1(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Z8(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ult(e,t){return e[t]}function zlt(e){const t=[];return t.key=e,t}function Vlt(){var e=ti([]),t=Z8,n=T1,r=Ult;function i(o){var a=Array.from(e.apply(this,arguments),zlt),s,l=a.length,c=-1,d;for(const u of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(u,a[s].key,c,o)]).data=u;for(s=0,d=oU(t(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ti(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ti(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Z8:typeof o=="function"?o:ti(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??T1,i):n},i}function qlt(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}T1(e,t)}}function Wlt(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}T1(e,t)}}function Ylt(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var d=e[t[s]],u=d[r][1]||0,p=d[r-1][1]||0,m=(u-p)/2,v=0;v<s;++v){var x=e[t[v]],w=x[r][1]||0,T=x[r-1][1]||0;m+=w-T}l+=u,c+=m*u}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,T1(e,t)}}function MC(e){"@babel/helpers - typeof";return MC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MC(e)}var Glt=["type","size","sizeType"];function Q8(){return Q8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q8.apply(this,arguments)}function gZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gZ(Object(n),!0).forEach(function(r){Klt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Klt(e,t,n){return t=Xlt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xlt(e){var t=Zlt(e,"string");return MC(t)=="symbol"?t:t+""}function Zlt(e,t){if(MC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(MC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qlt(e,t){if(e==null)return{};var n=Jlt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jlt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var P0e={symbolCircle:aU,symbolCross:xlt,symbolDiamond:Elt,symbolSquare:Slt,symbolStar:_lt,symbolTriangle:Alt,symbolWye:Olt},ect=Math.PI/180,tct=function(t){var n="symbol".concat(DR(t));return P0e[n]||aU},nct=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*ect;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},rct=function(t,n){P0e["symbol".concat(DR(t))]=n},sU=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,a=t.sizeType,s=a===void 0?"area":a,l=Qlt(t,Glt),c=yZ(yZ({},l),{},{type:r,size:o,sizeType:s}),d=function(){var w=tct(r),T=Mlt().type(w).size(nct(o,s,r));return T()},u=c.className,p=c.cx,m=c.cy,v=Jn(c,!0);return p===+p&&m===+m&&o===+o?F.createElement("path",Q8({},v,{className:Xn("recharts-symbols",u),transform:"translate(".concat(p,", ").concat(m,")"),d:d()})):null};sU.registerSymbol=rct;function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function J8(){return J8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J8.apply(this,arguments)}function bZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ict(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bZ(Object(n),!0).forEach(function(r){DC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function act(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j0e(r.key),r)}}function sct(e,t,n){return t&&act(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lct(e,t,n){return t=iM(t),cct(e,L0e()?Reflect.construct(t,n||[],iM(e).constructor):t.apply(e,n))}function cct(e,t){if(t&&(k1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uct(e)}function uct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L0e=function(){return!!e})()}function iM(e){return iM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iM(e)}function dct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e$(e,t)}function e$(e,t){return e$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e$(e,t)}function DC(e,t,n){return t=j0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j0e(e){var t=fct(e,"string");return k1(t)=="symbol"?t:t+""}function fct(e,t){if(k1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(k1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jl=32,lU=(function(e){function t(){return oct(this,t),lct(this,t,arguments)}return dct(t,e),sct(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Jl/2,a=Jl/6,s=Jl/3,l=r.inactive?i:r.color;if(r.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Jl,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Jl,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Jl/8,"h").concat(Jl,"v").concat(Jl*3/4,"h").concat(-Jl,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var c=ict({},r);return delete c.legendIcon,F.cloneElement(r.legendIcon,c)}return F.createElement(sU,{fill:l,cx:o,cy:o,size:Jl,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Jl,height:Jl},u={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,v){var x=m.formatter||l,w=Xn(DC(DC({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var T=Rn(m.value)?null:m.value;Vf(!Rn(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=m.inactive?c:m.color;return F.createElement("li",J8({className:w,style:u,key:"legend-item-".concat(v)},QO(r.props,m,v)),F.createElement(W8,{width:a,height:a,viewBox:d,style:p},r.renderIcon(m)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},x?x(T,m,v):T))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(C.PureComponent);DC(lU,"displayName","Legend");DC(lU,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var H4,vZ;function hct(){if(vZ)return H4;vZ=1;var e=NR();function t(){this.__data__=new e,this.size=0}return H4=t,H4}var F4,xZ;function pct(){if(xZ)return F4;xZ=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return F4=e,F4}var U4,wZ;function mct(){if(wZ)return U4;wZ=1;function e(t){return this.__data__.get(t)}return U4=e,U4}var z4,EZ;function gct(){if(EZ)return z4;EZ=1;function e(t){return this.__data__.has(t)}return z4=e,z4}var V4,SZ;function yct(){if(SZ)return V4;SZ=1;var e=NR(),t=Q7(),n=J7(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(o,a),this.size=s.size,this}return V4=i,V4}var q4,CZ;function B0e(){if(CZ)return q4;CZ=1;var e=NR(),t=hct(),n=pct(),r=mct(),i=gct(),o=yct();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,q4=a,q4}var W4,TZ;function bct(){if(TZ)return W4;TZ=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return W4=t,W4}var Y4,kZ;function vct(){if(kZ)return Y4;kZ=1;function e(t){return this.__data__.has(t)}return Y4=e,Y4}var G4,_Z;function $0e(){if(_Z)return G4;_Z=1;var e=J7(),t=bct(),n=vct();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,G4=r,G4}var K4,AZ;function H0e(){if(AZ)return K4;AZ=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return K4=e,K4}var X4,NZ;function F0e(){if(NZ)return X4;NZ=1;function e(t,n){return t.has(n)}return X4=e,X4}var Z4,OZ;function U0e(){if(OZ)return Z4;OZ=1;var e=$0e(),t=H0e(),n=F0e(),r=1,i=2;function o(a,s,l,c,d,u){var p=l&r,m=a.length,v=s.length;if(m!=v&&!(p&&v>m))return!1;var x=u.get(a),w=u.get(s);if(x&&w)return x==s&&w==a;var T=-1,k=!0,N=l&i?new e:void 0;for(u.set(a,s),u.set(s,a);++T<m;){var I=a[T],M=s[T];if(c)var A=p?c(M,I,T,s,a,u):c(I,M,T,a,s,u);if(A!==void 0){if(A)continue;k=!1;break}if(N){if(!t(s,function(R,L){if(!n(N,L)&&(I===R||d(I,R,l,c,u)))return N.push(L)})){k=!1;break}}else if(!(I===M||d(I,M,l,c,u))){k=!1;break}}return u.delete(a),u.delete(s),k}return Z4=o,Z4}var Q4,MZ;function xct(){if(MZ)return Q4;MZ=1;var e=Fd(),t=e.Uint8Array;return Q4=t,Q4}var J4,DZ;function wct(){if(DZ)return J4;DZ=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return J4=e,J4}var ej,RZ;function cU(){if(RZ)return ej;RZ=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return ej=e,ej}var tj,IZ;function Ect(){if(IZ)return tj;IZ=1;var e=sk(),t=xct(),n=Z7(),r=U0e(),i=wct(),o=cU(),a=1,s=2,l="[object Boolean]",c="[object Date]",d="[object Error]",u="[object Map]",p="[object Number]",m="[object RegExp]",v="[object Set]",x="[object String]",w="[object Symbol]",T="[object ArrayBuffer]",k="[object DataView]",N=e?e.prototype:void 0,I=N?N.valueOf:void 0;function M(A,R,L,B,$,W,V){switch(L){case k:if(A.byteLength!=R.byteLength||A.byteOffset!=R.byteOffset)return!1;A=A.buffer,R=R.buffer;case T:return!(A.byteLength!=R.byteLength||!W(new t(A),new t(R)));case l:case c:case p:return n(+A,+R);case d:return A.name==R.name&&A.message==R.message;case m:case x:return A==R+"";case u:var Y=i;case v:var U=B&a;if(Y||(Y=o),A.size!=R.size&&!U)return!1;var X=V.get(A);if(X)return X==R;B|=s,V.set(A,R);var q=r(Y(A),Y(R),B,$,W,V);return V.delete(A),q;case w:if(I)return I.call(A)==I.call(R)}return!1}return tj=M,tj}var nj,PZ;function z0e(){if(PZ)return nj;PZ=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return nj=e,nj}var rj,LZ;function Sct(){if(LZ)return rj;LZ=1;var e=z0e(),t=Gs();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return rj=n,rj}var ij,jZ;function Cct(){if(jZ)return ij;jZ=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return ij=e,ij}var oj,BZ;function Tct(){if(BZ)return oj;BZ=1;function e(){return[]}return oj=e,oj}var aj,$Z;function kct(){if($Z)return aj;$Z=1;var e=Cct(),t=Tct(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return aj=o,aj}var sj,HZ;function _ct(){if(HZ)return sj;HZ=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return sj=e,sj}var lj,FZ;function Act(){if(FZ)return lj;FZ=1;var e=fh(),t=hh(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return lj=r,lj}var cj,UZ;function uU(){if(UZ)return cj;UZ=1;var e=Act(),t=hh(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return cj=o,cj}var fS={exports:{}},uj,zZ;function Nct(){if(zZ)return uj;zZ=1;function e(){return!1}return uj=e,uj}fS.exports;var VZ;function V0e(){return VZ||(VZ=1,(function(e,t){var n=Fd(),r=Nct(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c})(fS,fS.exports)),fS.exports}var dj,qZ;function dU(){if(qZ)return dj;qZ=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return dj=n,dj}var fj,WZ;function fU(){if(WZ)return fj;WZ=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return fj=t,fj}var hj,YZ;function Oct(){if(YZ)return hj;YZ=1;var e=fh(),t=fU(),n=hh(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",u="[object Object]",p="[object RegExp]",m="[object Set]",v="[object String]",x="[object WeakMap]",w="[object ArrayBuffer]",T="[object DataView]",k="[object Float32Array]",N="[object Float64Array]",I="[object Int8Array]",M="[object Int16Array]",A="[object Int32Array]",R="[object Uint8Array]",L="[object Uint8ClampedArray]",B="[object Uint16Array]",$="[object Uint32Array]",W={};W[k]=W[N]=W[I]=W[M]=W[A]=W[R]=W[L]=W[B]=W[$]=!0,W[r]=W[i]=W[w]=W[o]=W[T]=W[a]=W[s]=W[l]=W[c]=W[d]=W[u]=W[p]=W[m]=W[v]=W[x]=!1;function V(Y){return n(Y)&&t(Y.length)&&!!W[e(Y)]}return hj=V,hj}var pj,GZ;function q0e(){if(GZ)return pj;GZ=1;function e(t){return function(n){return t(n)}}return pj=e,pj}var hS={exports:{}};hS.exports;var KZ;function Mct(){return KZ||(KZ=1,(function(e,t){var n=d0e(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();e.exports=s})(hS,hS.exports)),hS.exports}var mj,XZ;function W0e(){if(XZ)return mj;XZ=1;var e=Oct(),t=q0e(),n=Mct(),r=n&&n.isTypedArray,i=r?t(r):e;return mj=i,mj}var gj,ZZ;function Dct(){if(ZZ)return gj;ZZ=1;var e=_ct(),t=uU(),n=Gs(),r=V0e(),i=dU(),o=W0e(),a=Object.prototype,s=a.hasOwnProperty;function l(c,d){var u=n(c),p=!u&&t(c),m=!u&&!p&&r(c),v=!u&&!p&&!m&&o(c),x=u||p||m||v,w=x?e(c.length,String):[],T=w.length;for(var k in c)(d||s.call(c,k))&&!(x&&(k=="length"||m&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,T)))&&w.push(k);return w}return gj=l,gj}var yj,QZ;function Rct(){if(QZ)return yj;QZ=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return yj=t,yj}var bj,JZ;function Y0e(){if(JZ)return bj;JZ=1;function e(t,n){return function(r){return t(n(r))}}return bj=e,bj}var vj,eQ;function Ict(){if(eQ)return vj;eQ=1;var e=Y0e(),t=e(Object.keys,Object);return vj=t,vj}var xj,tQ;function Pct(){if(tQ)return xj;tQ=1;var e=Rct(),t=Ict(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return xj=i,xj}var wj,nQ;function uk(){if(nQ)return wj;nQ=1;var e=X7(),t=fU();function n(r){return r!=null&&t(r.length)&&!e(r)}return wj=n,wj}var Ej,rQ;function LR(){if(rQ)return Ej;rQ=1;var e=Dct(),t=Pct(),n=uk();function r(i){return n(i)?e(i):t(i)}return Ej=r,Ej}var Sj,iQ;function Lct(){if(iQ)return Sj;iQ=1;var e=Sct(),t=kct(),n=LR();function r(i){return e(i,n,t)}return Sj=r,Sj}var Cj,oQ;function jct(){if(oQ)return Cj;oQ=1;var e=Lct(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,l,c,d){var u=s&t,p=e(o),m=p.length,v=e(a),x=v.length;if(m!=x&&!u)return!1;for(var w=m;w--;){var T=p[w];if(!(u?T in a:r.call(a,T)))return!1}var k=d.get(o),N=d.get(a);if(k&&N)return k==a&&N==o;var I=!0;d.set(o,a),d.set(a,o);for(var M=u;++w<m;){T=p[w];var A=o[T],R=a[T];if(l)var L=u?l(R,A,T,a,o,d):l(A,R,T,o,a,d);if(!(L===void 0?A===R||c(A,R,s,l,d):L)){I=!1;break}M||(M=T=="constructor")}if(I&&!M){var B=o.constructor,$=a.constructor;B!=$&&"constructor"in o&&"constructor"in a&&!(typeof B=="function"&&B instanceof B&&typeof $=="function"&&$ instanceof $)&&(I=!1)}return d.delete(o),d.delete(a),I}return Cj=i,Cj}var Tj,aQ;function Bct(){if(aQ)return Tj;aQ=1;var e=hy(),t=Fd(),n=e(t,"DataView");return Tj=n,Tj}var kj,sQ;function $ct(){if(sQ)return kj;sQ=1;var e=hy(),t=Fd(),n=e(t,"Promise");return kj=n,kj}var _j,lQ;function G0e(){if(lQ)return _j;lQ=1;var e=hy(),t=Fd(),n=e(t,"Set");return _j=n,_j}var Aj,cQ;function Hct(){if(cQ)return Aj;cQ=1;var e=hy(),t=Fd(),n=e(t,"WeakMap");return Aj=n,Aj}var Nj,uQ;function Fct(){if(uQ)return Nj;uQ=1;var e=Bct(),t=Q7(),n=$ct(),r=G0e(),i=Hct(),o=fh(),a=f0e(),s="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",u="[object WeakMap]",p="[object DataView]",m=a(e),v=a(t),x=a(n),w=a(r),T=a(i),k=o;return(e&&k(new e(new ArrayBuffer(1)))!=p||t&&k(new t)!=s||n&&k(n.resolve())!=c||r&&k(new r)!=d||i&&k(new i)!=u)&&(k=function(N){var I=o(N),M=I==l?N.constructor:void 0,A=M?a(M):"";if(A)switch(A){case m:return p;case v:return s;case x:return c;case w:return d;case T:return u}return I}),Nj=k,Nj}var Oj,dQ;function Uct(){if(dQ)return Oj;dQ=1;var e=B0e(),t=U0e(),n=Ect(),r=jct(),i=Fct(),o=Gs(),a=V0e(),s=W0e(),l=1,c="[object Arguments]",d="[object Array]",u="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function v(x,w,T,k,N,I){var M=o(x),A=o(w),R=M?d:i(x),L=A?d:i(w);R=R==c?u:R,L=L==c?u:L;var B=R==u,$=L==u,W=R==L;if(W&&a(x)){if(!a(w))return!1;M=!0,B=!1}if(W&&!B)return I||(I=new e),M||s(x)?t(x,w,T,k,N,I):n(x,w,R,T,k,N,I);if(!(T&l)){var V=B&&m.call(x,"__wrapped__"),Y=$&&m.call(w,"__wrapped__");if(V||Y){var U=V?x.value():x,X=Y?w.value():w;return I||(I=new e),N(U,X,T,k,I)}}return W?(I||(I=new e),r(x,w,T,k,N,I)):!1}return Oj=v,Oj}var Mj,fQ;function hU(){if(fQ)return Mj;fQ=1;var e=Uct(),t=hh();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return Mj=n,Mj}var Dj,hQ;function zct(){if(hQ)return Dj;hQ=1;var e=B0e(),t=hU(),n=1,r=2;function i(o,a,s,l){var c=s.length,d=c,u=!l;if(o==null)return!d;for(o=Object(o);c--;){var p=s[c];if(u&&p[2]?p[1]!==o[p[0]]:!(p[0]in o))return!1}for(;++c<d;){p=s[c];var m=p[0],v=o[m],x=p[1];if(u&&p[2]){if(v===void 0&&!(m in o))return!1}else{var w=new e;if(l)var T=l(v,x,m,o,a,w);if(!(T===void 0?t(x,v,n|r,l,w):T))return!1}}return!0}return Dj=i,Dj}var Rj,pQ;function K0e(){if(pQ)return Rj;pQ=1;var e=Tm();function t(n){return n===n&&!e(n)}return Rj=t,Rj}var Ij,mQ;function Vct(){if(mQ)return Ij;mQ=1;var e=K0e(),t=LR();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Ij=n,Ij}var Pj,gQ;function X0e(){if(gQ)return Pj;gQ=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Pj=e,Pj}var Lj,yQ;function qct(){if(yQ)return Lj;yQ=1;var e=zct(),t=Vct(),n=X0e();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return Lj=r,Lj}var jj,bQ;function Wct(){if(bQ)return jj;bQ=1;function e(t,n){return t!=null&&n in Object(t)}return jj=e,jj}var Bj,vQ;function Yct(){if(vQ)return Bj;vQ=1;var e=m0e(),t=uU(),n=Gs(),r=dU(),i=fU(),o=MR();function a(s,l,c){l=e(l,s);for(var d=-1,u=l.length,p=!1;++d<u;){var m=o(l[d]);if(!(p=s!=null&&c(s,m)))break;s=s[m]}return p||++d!=u?p:(u=s==null?0:s.length,!!u&&i(u)&&r(m,u)&&(n(s)||t(s)))}return Bj=a,Bj}var $j,xQ;function Gct(){if(xQ)return $j;xQ=1;var e=Wct(),t=Yct();function n(r,i){return r!=null&&t(r,i,e)}return $j=n,$j}var Hj,wQ;function Kct(){if(wQ)return Hj;wQ=1;var e=hU(),t=g0e(),n=Gct(),r=K7(),i=K0e(),o=X0e(),a=MR(),s=1,l=2;function c(d,u){return r(d)&&i(u)?o(a(d),u):function(p){var m=t(p,d);return m===void 0&&m===u?n(p,d):e(u,m,s|l)}}return Hj=c,Hj}var Fj,EQ;function Ex(){if(EQ)return Fj;EQ=1;function e(t){return t}return Fj=e,Fj}var Uj,SQ;function Xct(){if(SQ)return Uj;SQ=1;function e(t){return function(n){return n?.[t]}}return Uj=e,Uj}var zj,CQ;function Zct(){if(CQ)return zj;CQ=1;var e=tU();function t(n){return function(r){return e(r,n)}}return zj=t,zj}var Vj,TQ;function Qct(){if(TQ)return Vj;TQ=1;var e=Xct(),t=Zct(),n=K7(),r=MR();function i(o){return n(o)?e(r(o)):t(o)}return Vj=i,Vj}var qj,kQ;function km(){if(kQ)return qj;kQ=1;var e=qct(),t=Kct(),n=Ex(),r=Gs(),i=Qct();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return qj=o,qj}var Wj,_Q;function Z0e(){if(_Q)return Wj;_Q=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return Wj=e,Wj}var Yj,AQ;function Jct(){if(AQ)return Yj;AQ=1;function e(t){return t!==t}return Yj=e,Yj}var Gj,NQ;function eut(){if(NQ)return Gj;NQ=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Gj=e,Gj}var Kj,OQ;function tut(){if(OQ)return Kj;OQ=1;var e=Z0e(),t=Jct(),n=eut();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return Kj=r,Kj}var Xj,MQ;function nut(){if(MQ)return Xj;MQ=1;var e=tut();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Xj=t,Xj}var Zj,DQ;function rut(){if(DQ)return Zj;DQ=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Zj=e,Zj}var Qj,RQ;function iut(){if(RQ)return Qj;RQ=1;function e(){}return Qj=e,Qj}var Jj,IQ;function out(){if(IQ)return Jj;IQ=1;var e=G0e(),t=iut(),n=cU(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Jj=i,Jj}var e5,PQ;function aut(){if(PQ)return e5;PQ=1;var e=$0e(),t=nut(),n=rut(),r=F0e(),i=out(),o=cU(),a=200;function s(l,c,d){var u=-1,p=t,m=l.length,v=!0,x=[],w=x;if(d)v=!1,p=n;else if(m>=a){var T=c?null:i(l);if(T)return o(T);v=!1,p=r,w=new e}else w=c?[]:x;e:for(;++u<m;){var k=l[u],N=c?c(k):k;if(k=d||k!==0?k:0,v&&N===N){for(var I=w.length;I--;)if(w[I]===N)continue e;c&&w.push(N),x.push(k)}else p(w,N,d)||(w!==x&&w.push(N),x.push(k))}return x}return e5=s,e5}var t5,LQ;function sut(){if(LQ)return t5;LQ=1;var e=km(),t=aut();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return t5=n,t5}var lut=sut();const jQ=vr(lut);function Q0e(e,t,n){return t===!0?jQ(e,n):Rn(t)?jQ(e,t):e}function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}var cut=["ref"];function BQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BQ(Object(n),!0).forEach(function(r){jR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eye(r.key),r)}}function dut(e,t,n){return t&&$Q(e.prototype,t),n&&$Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fut(e,t,n){return t=oM(t),hut(e,J0e()?Reflect.construct(t,n||[],oM(e).constructor):t.apply(e,n))}function hut(e,t){if(t&&(_1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return put(e)}function put(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J0e=function(){return!!e})()}function oM(e){return oM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oM(e)}function mut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t$(e,t)}function t$(e,t){return t$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t$(e,t)}function jR(e,t,n){return t=eye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eye(e){var t=gut(e,"string");return _1(t)=="symbol"?t:t+""}function gut(e,t){if(_1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function yut(e,t){if(e==null)return{};var n=but(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function but(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vut(e){return e.value}function xut(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var n=yut(t,cut);return F.createElement(lU,n)}var HQ=1,w0=(function(e){function t(){var n;uut(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=fut(this,t,[].concat(i)),jR(n,"lastBoundingBox",{width:-1,height:-1}),n}return mut(t,e),dut(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>HQ||Math.abs(i.height-this.lastBoundingBox.height)>HQ)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,u,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();u={left:((c||0)-m.width)/2}}else u=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((d||0)-v.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Cf(Cf({},u),p)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,u=Cf(Cf({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(m){r.wrapperNode=m}},xut(o,Cf(Cf({},this.props),{},{payload:Q0e(d,c,vut)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Cf(Cf({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&dt(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(C.PureComponent);jR(w0,"displayName","Legend");jR(w0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var n5,FQ;function wut(){if(FQ)return n5;FQ=1;var e=sk(),t=uU(),n=Gs(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return n5=i,n5}var r5,UQ;function tye(){if(UQ)return r5;UQ=1;var e=z0e(),t=wut();function n(r,i,o,a,s){var l=-1,c=r.length;for(o||(o=t),s||(s=[]);++l<c;){var d=r[l];i>0&&o(d)?i>1?n(d,i-1,o,a,s):e(s,d):a||(s[s.length]=d)}return s}return r5=n,r5}var i5,zQ;function Eut(){if(zQ)return i5;zQ=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),l=s.length;l--;){var c=s[t?l:++o];if(r(a[c],c,a)===!1)break}return n}}return i5=e,i5}var o5,VQ;function Sut(){if(VQ)return o5;VQ=1;var e=Eut(),t=e();return o5=t,o5}var a5,qQ;function nye(){if(qQ)return a5;qQ=1;var e=Sut(),t=LR();function n(r,i){return r&&e(r,i,t)}return a5=n,a5}var s5,WQ;function Cut(){if(WQ)return s5;WQ=1;var e=uk();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,l=Object(i);(r?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return s5=t,s5}var l5,YQ;function pU(){if(YQ)return l5;YQ=1;var e=nye(),t=Cut(),n=t(e);return l5=n,l5}var c5,GQ;function rye(){if(GQ)return c5;GQ=1;var e=pU(),t=uk();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,l,c){a[++o]=i(s,l,c)}),a}return c5=n,c5}var u5,KQ;function Tut(){if(KQ)return u5;KQ=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return u5=e,u5}var d5,XQ;function kut(){if(XQ)return d5;XQ=1;var e=xx();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),l=r!==void 0,c=r===null,d=r===r,u=e(r);if(!c&&!u&&!s&&n>r||s&&l&&d&&!c&&!u||o&&l&&d||!i&&d||!a)return 1;if(!o&&!s&&!u&&n<r||u&&i&&a&&!o&&!s||c&&i&&a||!l&&a||!d)return-1}return 0}return d5=t,d5}var f5,ZQ;function _ut(){if(ZQ)return f5;ZQ=1;var e=kut();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,l=a.length,c=i.length;++o<l;){var d=e(a[o],s[o]);if(d){if(o>=c)return d;var u=i[o];return d*(u=="desc"?-1:1)}}return n.index-r.index}return f5=t,f5}var h5,QQ;function Aut(){if(QQ)return h5;QQ=1;var e=eU(),t=tU(),n=km(),r=rye(),i=Tut(),o=q0e(),a=_ut(),s=Ex(),l=Gs();function c(d,u,p){u.length?u=e(u,function(x){return l(x)?function(w){return t(w,x.length===1?x[0]:x)}:x}):u=[s];var m=-1;u=e(u,o(n));var v=r(d,function(x,w,T){var k=e(u,function(N){return N(x)});return{criteria:k,index:++m,value:x}});return i(v,function(x,w){return a(x,w,p)})}return h5=c,h5}var p5,JQ;function Nut(){if(JQ)return p5;JQ=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return p5=e,p5}var m5,eJ;function Out(){if(eJ)return m5;eJ=1;var e=Nut(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,l=t(a.length-i,0),c=Array(l);++s<l;)c[s]=a[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=a[s];return d[i]=o(c),e(r,this,d)}}return m5=n,m5}var g5,tJ;function Mut(){if(tJ)return g5;tJ=1;function e(t){return function(){return t}}return g5=e,g5}var y5,nJ;function iye(){if(nJ)return y5;nJ=1;var e=hy(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return y5=t,y5}var b5,rJ;function Dut(){if(rJ)return b5;rJ=1;var e=Mut(),t=iye(),n=Ex(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return b5=r,b5}var v5,iJ;function Rut(){if(iJ)return v5;iJ=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),l=t-(s-a);if(a=s,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return v5=r,v5}var x5,oJ;function Iut(){if(oJ)return x5;oJ=1;var e=Dut(),t=Rut(),n=t(e);return x5=n,x5}var w5,aJ;function Put(){if(aJ)return w5;aJ=1;var e=Ex(),t=Out(),n=Iut();function r(i,o){return n(t(i,o,e),i+"")}return w5=r,w5}var E5,sJ;function BR(){if(sJ)return E5;sJ=1;var e=Z7(),t=uk(),n=dU(),r=Tm();function i(o,a,s){if(!r(s))return!1;var l=typeof a;return(l=="number"?t(s)&&n(a,s.length):l=="string"&&a in s)?e(s[a],o):!1}return E5=i,E5}var S5,lJ;function Lut(){if(lJ)return S5;lJ=1;var e=tye(),t=Aut(),n=Put(),r=BR(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return S5=i,S5}var jut=Lut();const mU=vr(jut);function RC(e){"@babel/helpers - typeof";return RC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RC(e)}function n$(){return n$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n$.apply(this,arguments)}function But(e,t){return Uut(e)||Fut(e,t)||Hut(e,t)||$ut()}function $ut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hut(e,t){if(e){if(typeof e=="string")return cJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cJ(e,t)}}function cJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fut(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Uut(e){if(Array.isArray(e))return e}function uJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uJ(Object(n),!0).forEach(function(r){zut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zut(e,t,n){return t=Vut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vut(e){var t=qut(e,"string");return RC(t)=="symbol"?t:t+""}function qut(e,t){if(RC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(RC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wut(e){return Array.isArray(e)&&ko(e[0])&&ko(e[1])?e.join(" ~ "):e}var Yut=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,a=t.itemStyle,s=a===void 0?{}:a,l=t.labelStyle,c=l===void 0?{}:l,d=t.payload,u=t.formatter,p=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,x=t.label,w=t.labelFormatter,T=t.accessibilityLayer,k=T===void 0?!1:T,N=function(){if(d&&d.length){var V={padding:0,margin:0},Y=(p?mU(d,p):d).map(function(U,X){if(U.type==="none")return null;var q=C5({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),ne=U.formatter||u||Wut,Z=U.value,oe=U.name,K=Z,Q=oe;if(ne&&K!=null&&Q!=null){var te=ne(Z,oe,U,X,d);if(Array.isArray(te)){var z=But(te,2);K=z[0],Q=z[1]}else K=te}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:q},ko(Q)?F.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,ko(Q)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},K),F.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:V},Y)}return null},I=C5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),M=C5({margin:0},c),A=!qn(x),R=A?x:"",L=Xn("recharts-default-tooltip",m),B=Xn("recharts-tooltip-label",v);A&&w&&d!==void 0&&d!==null&&(R=w(x,d));var $=k?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",n$({className:L,style:I},$),F.createElement("p",{className:B,style:M},F.isValidElement(R)?R:"".concat(R)),N())};function IC(e){"@babel/helpers - typeof";return IC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IC(e)}function kA(e,t,n){return t=Gut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gut(e){var t=Kut(e,"string");return IC(t)=="symbol"?t:t+""}function Kut(e,t){if(IC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(IC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qE="recharts-tooltip-wrapper",Xut={visibility:"hidden"};function Zut(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Xn(qE,kA(kA(kA(kA({},"".concat(qE,"-right"),dt(n)&&t&&dt(t.x)&&n>=t.x),"".concat(qE,"-left"),dt(n)&&t&&dt(t.x)&&n<t.x),"".concat(qE,"-bottom"),dt(r)&&t&&dt(t.y)&&r>=t.y),"".concat(qE,"-top"),dt(r)&&t&&dt(t.y)&&r<t.y))}function dJ(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&dt(o[r]))return o[r];var d=n[r]-s-i,u=n[r]+i;if(t[r])return a[r]?d:u;if(a[r]){var p=d,m=l[r];return p<m?Math.max(u,l[r]):Math.max(d,l[r])}var v=u+s,x=l[r]+c;return v>x?Math.max(d,l[r]):Math.max(u,l[r])}function Qut(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Jut(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,a=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,d,u;return a.height>0&&a.width>0&&n?(d=dJ({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),u=dJ({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Qut({translateX:d,translateY:u,useTranslate3d:s})):c=Xut,{cssProperties:c,cssClasses:Zut({translateX:d,translateY:u,coordinate:n})}}function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function fJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fJ(Object(n),!0).forEach(function(r){i$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function edt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tdt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aye(r.key),r)}}function ndt(e,t,n){return t&&tdt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rdt(e,t,n){return t=aM(t),idt(e,oye()?Reflect.construct(t,n||[],aM(e).constructor):t.apply(e,n))}function idt(e,t){if(t&&(A1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return odt(e)}function odt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oye=function(){return!!e})()}function aM(e){return aM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aM(e)}function adt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r$(e,t)}function r$(e,t){return r$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r$(e,t)}function i$(e,t,n){return t=aye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aye(e){var t=sdt(e,"string");return A1(t)=="symbol"?t:t+""}function sdt(e,t){if(A1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(A1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pJ=1,ldt=(function(e){function t(){var n;edt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=rdt(this,t,[].concat(i)),i$(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),i$(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return adt(t,e),ndt(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>pJ||Math.abs(r.height-this.state.lastBoundingBox.height)>pJ)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,u=i.hasPayload,p=i.isAnimationActive,m=i.offset,v=i.position,x=i.reverseDirection,w=i.useTranslate3d,T=i.viewBox,k=i.wrapperStyle,N=Jut({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:T}),I=N.cssClasses,M=N.cssProperties,A=hJ(hJ({transition:p&&o?"transform ".concat(s,"ms ").concat(l):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&u?"visible":"hidden",position:"absolute",top:0,left:0},k);return F.createElement("div",{tabIndex:-1,className:I,style:A,ref:function(L){r.wrapperNode=L}},c)}}])})(C.PureComponent),cdt=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Sx={isSsr:cdt()};function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function mJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mJ(Object(n),!0).forEach(function(r){gU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function udt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ddt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lye(r.key),r)}}function fdt(e,t,n){return t&&ddt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hdt(e,t,n){return t=sM(t),pdt(e,sye()?Reflect.construct(t,n||[],sM(e).constructor):t.apply(e,n))}function pdt(e,t){if(t&&(N1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mdt(e)}function mdt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sye=function(){return!!e})()}function sM(e){return sM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sM(e)}function gdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o$(e,t)}function o$(e,t){return o$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o$(e,t)}function gU(e,t,n){return t=lye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lye(e){var t=ydt(e,"string");return N1(t)=="symbol"?t:t+""}function ydt(e,t){if(N1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(N1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bdt(e){return e.dataKey}function vdt(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(Yut,t)}var hd=(function(e){function t(){return udt(this,t),hdt(this,t,arguments)}return gdt(t,e),fdt(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,u=i.filterNull,p=i.isAnimationActive,m=i.offset,v=i.payload,x=i.payloadUniqBy,w=i.position,T=i.reverseDirection,k=i.useTranslate3d,N=i.viewBox,I=i.wrapperStyle,M=v??[];u&&M.length&&(M=Q0e(v.filter(function(R){return R.value!=null&&(R.hide!==!0||r.props.includeHidden)}),x,bdt));var A=M.length>0;return F.createElement(ldt,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:o,coordinate:d,hasPayload:A,offset:m,position:w,reverseDirection:T,useTranslate3d:k,viewBox:N,wrapperStyle:I},vdt(c,gJ(gJ({},this.props),{},{payload:M})))}}])})(C.PureComponent);gU(hd,"displayName","Tooltip");gU(hd,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Sx.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var T5,yJ;function xdt(){if(yJ)return T5;yJ=1;var e=Fd(),t=function(){return e.Date.now()};return T5=t,T5}var k5,bJ;function wdt(){if(bJ)return k5;bJ=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return k5=t,k5}var _5,vJ;function Edt(){if(vJ)return _5;vJ=1;var e=wdt(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return _5=n,_5}var A5,xJ;function cye(){if(xJ)return A5;xJ=1;var e=Edt(),t=Tm(),n=xx(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var u=o.test(c);return u||a.test(c)?s(c.slice(2),u?2:8):i.test(c)?r:+c}return A5=l,A5}var N5,wJ;function Sdt(){if(wJ)return N5;wJ=1;var e=Tm(),t=xdt(),n=cye(),r="Expected a function",i=Math.max,o=Math.min;function a(s,l,c){var d,u,p,m,v,x,w=0,T=!1,k=!1,N=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(T=!!c.leading,k="maxWait"in c,p=k?i(n(c.maxWait)||0,l):p,N="trailing"in c?!!c.trailing:N);function I(Y){var U=d,X=u;return d=u=void 0,w=Y,m=s.apply(X,U),m}function M(Y){return w=Y,v=setTimeout(L,l),T?I(Y):m}function A(Y){var U=Y-x,X=Y-w,q=l-U;return k?o(q,p-X):q}function R(Y){var U=Y-x,X=Y-w;return x===void 0||U>=l||U<0||k&&X>=p}function L(){var Y=t();if(R(Y))return B(Y);v=setTimeout(L,A(Y))}function B(Y){return v=void 0,N&&d?I(Y):(d=u=void 0,m)}function $(){v!==void 0&&clearTimeout(v),w=0,d=x=u=v=void 0}function W(){return v===void 0?m:B(t())}function V(){var Y=t(),U=R(Y);if(d=arguments,u=this,x=Y,U){if(v===void 0)return M(x);if(k)return clearTimeout(v),v=setTimeout(L,l),I(x)}return v===void 0&&(v=setTimeout(L,l)),m}return V.cancel=$,V.flush=W,V}return N5=a,N5}var O5,EJ;function Cdt(){if(EJ)return O5;EJ=1;var e=Sdt(),t=Tm(),n="Expected a function";function r(i,o,a){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return t(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),e(i,o,{leading:s,maxWait:o,trailing:l})}return O5=r,O5}var Tdt=Cdt();const uye=vr(Tdt);function PC(e){"@babel/helpers - typeof";return PC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PC(e)}function SJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SJ(Object(n),!0).forEach(function(r){kdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kdt(e,t,n){return t=_dt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _dt(e){var t=Adt(e,"string");return PC(t)=="symbol"?t:t+""}function Adt(e,t){if(PC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(PC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ndt(e,t){return Rdt(e)||Ddt(e,t)||Mdt(e,t)||Odt()}function Odt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mdt(e,t){if(e){if(typeof e=="string")return CJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CJ(e,t)}}function CJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ddt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Rdt(e){if(Array.isArray(e))return e}var Idt=C.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,a=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,d=c===void 0?0:c,u=e.minHeight,p=e.maxHeight,m=e.children,v=e.debounce,x=v===void 0?0:v,w=e.id,T=e.className,k=e.onResize,N=e.style,I=N===void 0?{}:N,M=C.useRef(null),A=C.useRef();A.current=k,C.useImperativeHandle(t,function(){return Object.defineProperty(M.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),M.current},configurable:!0})});var R=C.useState({containerWidth:i.width,containerHeight:i.height}),L=Ndt(R,2),B=L[0],$=L[1],W=C.useCallback(function(Y,U){$(function(X){var q=Math.round(Y),ne=Math.round(U);return X.containerWidth===q&&X.containerHeight===ne?X:{containerWidth:q,containerHeight:ne}})},[]);C.useEffect(function(){var Y=function(oe){var K,Q=oe[0].contentRect,te=Q.width,z=Q.height;W(te,z),(K=A.current)===null||K===void 0||K.call(A,te,z)};x>0&&(Y=uye(Y,x,{trailing:!0,leading:!1}));var U=new ResizeObserver(Y),X=M.current.getBoundingClientRect(),q=X.width,ne=X.height;return W(q,ne),U.observe(M.current),function(){U.disconnect()}},[W,x]);var V=C.useMemo(function(){var Y=B.containerWidth,U=B.containerHeight;if(Y<0||U<0)return null;Vf(o0(a)||o0(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Vf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var X=o0(a)?Y:a,q=o0(l)?U:l;n&&n>0&&(X?q=X/n:q&&(X=q*n),p&&q>p&&(q=p)),Vf(X>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,q,a,l,d,u,n);var ne=!Array.isArray(m)&&zf(m.type).endsWith("Chart");return F.Children.map(m,function(Z){return F.isValidElement(Z)?C.cloneElement(Z,_A({width:X,height:q},ne?{style:_A({height:"100%",width:"100%",maxHeight:q,maxWidth:X},Z.props.style)}:{})):Z})},[n,m,l,p,u,d,B,a]);return F.createElement("div",{id:w?"".concat(w):void 0,className:Xn("recharts-responsive-container",T),style:_A(_A({},I),{},{width:a,height:l,minWidth:d,minHeight:u,maxHeight:p}),ref:M},V)}),dye=function(t){return null};dye.displayName="Cell";function LC(e){"@babel/helpers - typeof";return LC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LC(e)}function TJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TJ(Object(n),!0).forEach(function(r){Pdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pdt(e,t,n){return t=Ldt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ldt(e){var t=jdt(e,"string");return LC(t)=="symbol"?t:t+""}function jdt(e,t){if(LC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(LC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sv={widthCache:{},cacheCount:0},Bdt=2e3,$dt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kJ="recharts_measurement_span";function Hdt(e){var t=a$({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var HS=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Sx.isSsr)return{width:0,height:0};var r=Hdt(n),i=JSON.stringify({text:t,copyStyle:r});if(sv.widthCache[i])return sv.widthCache[i];try{var o=document.getElementById(kJ);o||(o=document.createElement("span"),o.setAttribute("id",kJ),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=a$(a$({},$dt),r);Object.assign(o.style,a),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return sv.widthCache[i]=l,++sv.cacheCount>Bdt&&(sv.cacheCount=0,sv.widthCache={}),l}catch{return{width:0,height:0}}},Fdt=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function jC(e){"@babel/helpers - typeof";return jC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jC(e)}function lM(e,t){return qdt(e)||Vdt(e,t)||zdt(e,t)||Udt()}function Udt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zdt(e,t){if(e){if(typeof e=="string")return _J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _J(e,t)}}function _J(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vdt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function qdt(e){if(Array.isArray(e))return e}function Wdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gdt(r.key),r)}}function Ydt(e,t,n){return t&&AJ(e.prototype,t),n&&AJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gdt(e){var t=Kdt(e,"string");return jC(t)=="symbol"?t:t+""}function Kdt(e,t){if(jC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xdt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zdt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fye={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qdt=Object.keys(fye),Ov="NaN";function Jdt(e,t){return e*fye[t]}var AA=(function(){function e(t,n){Wdt(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Xdt.test(n)&&(this.num=NaN,this.unit=""),Qdt.includes(n)&&(this.num=Jdt(t,n),this.unit="px")}return Ydt(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Zdt.exec(n))!==null&&r!==void 0?r:[],o=lM(i,3),a=o[1],s=o[2];return new e(parseFloat(a),s??"")}}])})();function hye(e){if(e.includes(Ov))return Ov;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=NJ.exec(t))!==null&&n!==void 0?n:[],i=lM(r,4),o=i[1],a=i[2],s=i[3],l=AA.parse(o??""),c=AA.parse(s??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Ov;t=t.replace(NJ,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,p=(u=OJ.exec(t))!==null&&u!==void 0?u:[],m=lM(p,4),v=m[1],x=m[2],w=m[3],T=AA.parse(v??""),k=AA.parse(w??""),N=x==="+"?T.add(k):T.subtract(k);if(N.isNaN())return Ov;t=t.replace(OJ,N.toString())}return t}var MJ=/\(([^()]*)\)/;function eft(e){for(var t=e;t.includes("(");){var n=MJ.exec(t),r=lM(n,2),i=r[1];t=t.replace(MJ,hye(i))}return t}function tft(e){var t=e.replace(/\s+/g,"");return t=eft(t),t=hye(t),t}function nft(e){try{return tft(e)}catch{return Ov}}function M5(e){var t=nft(e.slice(5,-1));return t===Ov?"":t}var rft=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ift=["dx","dy","angle","className","breakAll"];function s$(){return s$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s$.apply(this,arguments)}function DJ(e,t){if(e==null)return{};var n=oft(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oft(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function RJ(e,t){return cft(e)||lft(e,t)||sft(e,t)||aft()}function aft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sft(e,t){if(e){if(typeof e=="string")return IJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IJ(e,t)}}function IJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lft(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function cft(e){if(Array.isArray(e))return e}var pye=/[ \f\n\r\t\v\u2028\u2029]+/,mye=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];qn(n)||(r?o=n.toString().split(""):o=n.toString().split(pye));var a=o.map(function(l){return{word:l,width:HS(l,i).width}}),s=r?0:HS("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},uft=function(t,n,r,i,o){var a=t.maxLines,s=t.children,l=t.style,c=t.breakAll,d=dt(a),u=s,p=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(q,ne){var Z=ne.word,oe=ne.width,K=q[q.length-1];if(K&&(i==null||o||K.width+oe+r<Number(i)))K.words.push(Z),K.width+=oe+r;else{var Q={words:[Z],width:oe};q.push(Q)}return q},[])},m=p(n),v=function(X){return X.reduce(function(q,ne){return q.width>ne.width?q:ne})};if(!d)return m;for(var x="",w=function(X){var q=u.slice(0,X),ne=mye({breakAll:c,style:l,children:q+x}).wordsWithComputedWidth,Z=p(ne),oe=Z.length>a||v(Z).width>Number(i);return[oe,Z]},T=0,k=u.length-1,N=0,I;T<=k&&N<=u.length-1;){var M=Math.floor((T+k)/2),A=M-1,R=w(A),L=RJ(R,2),B=L[0],$=L[1],W=w(M),V=RJ(W,1),Y=V[0];if(!B&&!Y&&(T=M+1),B&&Y&&(k=M-1),!B&&Y){I=$;break}N++}return I||m},PJ=function(t){var n=qn(t)?[]:t.toString().split(pye);return[{words:n}]},dft=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,a=t.breakAll,s=t.maxLines;if((n||r)&&!Sx.isSsr){var l,c,d=mye({breakAll:a,children:i,style:o});if(d){var u=d.wordsWithComputedWidth,p=d.spaceWidth;l=u,c=p}else return PJ(i);return uft({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return PJ(i)},LJ="#808080",cM=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.lineHeight,s=a===void 0?"1em":a,l=t.capHeight,c=l===void 0?"0.71em":l,d=t.scaleToFit,u=d===void 0?!1:d,p=t.textAnchor,m=p===void 0?"start":p,v=t.verticalAnchor,x=v===void 0?"end":v,w=t.fill,T=w===void 0?LJ:w,k=DJ(t,rft),N=C.useMemo(function(){return dft({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:u,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,u,k.style,k.width]),I=k.dx,M=k.dy,A=k.angle,R=k.className,L=k.breakAll,B=DJ(k,ift);if(!ko(r)||!ko(o))return null;var $=r+(dt(I)?I:0),W=o+(dt(M)?M:0),V;switch(x){case"start":V=M5("calc(".concat(c,")"));break;case"middle":V=M5("calc(".concat((N.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:V=M5("calc(".concat(N.length-1," * -").concat(s,")"));break}var Y=[];if(u){var U=N[0].width,X=k.width;Y.push("scale(".concat((dt(X)?X/U:1)/U,")"))}return A&&Y.push("rotate(".concat(A,", ").concat($,", ").concat(W,")")),Y.length&&(B.transform=Y.join(" ")),F.createElement("text",s$({},Jn(B,!0),{x:$,y:W,className:Xn("recharts-text",R),textAnchor:m,fill:T.includes("url")?LJ:T}),N.map(function(q,ne){var Z=q.words.join(L?"":" ");return F.createElement("tspan",{x:$,dy:ne===0?V:s,key:"".concat(Z,"-").concat(ne)},Z)}))};function Gp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fft(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yU(e){let t,n,r;e.length!==2?(t=Gp,n=(s,l)=>Gp(e(s),l),r=(s,l)=>e(s)-l):(t=e===Gp||e===fft?e:hft,n=e,r=e);function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const u=c+d>>>1;n(s[u],l)<0?c=u+1:d=u}while(c<d)}return c}function o(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const u=c+d>>>1;n(s[u],l)<=0?c=u+1:d=u}while(c<d)}return c}function a(s,l,c=0,d=s.length){const u=i(s,l,c,d-1);return u>c&&r(s[u-1],l)>-r(s[u],l)?u-1:u}return{left:i,center:a,right:o}}function hft(){return 0}function gye(e){return e===null?NaN:+e}function*pft(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const mft=yU(Gp),dk=mft.right;yU(gye).center;class jJ extends Map{constructor(t,n=bft){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(BJ(this,t))}has(t){return super.has(BJ(this,t))}set(t,n){return super.set(gft(this,t),n)}delete(t){return super.delete(yft(this,t))}}function BJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function gft({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function yft({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function bft(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vft(e=Gp){if(e===Gp)return yye;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function yye(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xft=Math.sqrt(50),wft=Math.sqrt(10),Eft=Math.sqrt(2);function uM(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=xft?10:o>=wft?5:o>=Eft?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?uM(e,t,n*2):[s,l,c]}function l$(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?uM(t,e,n):uM(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function c$(e,t,n){return t=+t,e=+e,n=+n,uM(e,t,n)[2]}function u$(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?c$(t,e,n):c$(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function $J(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function HJ(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bye(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?yye:vft(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),u=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*u*(l-u)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*u/l+p)),v=Math.min(r,Math.floor(t+(l-c)*u/l+p));bye(e,t,m,v,i)}const o=e[t];let a=n,s=r;for(WE(e,n,t),i(e[r],o)>0&&WE(e,n,r);a<s;){for(WE(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?WE(e,n,s):(++s,WE(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function WE(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Sft(e,t,n){if(e=Float64Array.from(pft(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return HJ(e);if(t>=1)return $J(e);var r,i=(r-1)*t,o=Math.floor(i),a=$J(bye(e,o).subarray(0,o+1)),s=HJ(e.subarray(o+1));return a+(s-a)*(i-o)}}function Cft(e,t,n=gye){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function Tft(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Tc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ph(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const d$=Symbol("implicit");function bU(){var e=new jJ,t=[],n=[],r=d$;function i(o){let a=e.get(o);if(a===void 0){if(r!==d$)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new jJ;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bU(t,n).unknown(r)},Tc.apply(i,arguments),i}function BC(){var e=bU().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,c=0,d=.5;delete e.unknown;function u(){var p=t().length,m=i<r,v=m?i:r,x=m?r:i;o=(x-v)/Math.max(1,p-l+c*2),s&&(o=Math.floor(o)),v+=(x-v-o*(p-l))*d,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var w=Tft(p).map(function(T){return v+o*T});return n(m?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),u()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,u()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,u()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(p){return arguments.length?(s=!!p,u()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),u()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),u()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,u()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),u()):d},e.copy=function(){return BC(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},Tc.apply(u(),arguments)}function vye(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vye(t())},e}function FS(){return vye(BC.apply(null,arguments).paddingInner(1))}function vU(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xye(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fk(){}var $C=.7,dM=1/$C,Xv="\\s*([+-]?\\d+)\\s*",HC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Td="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kft=/^#([0-9a-f]{3,8})$/,_ft=new RegExp(`^rgb\\(${Xv},${Xv},${Xv}\\)$`),Aft=new RegExp(`^rgb\\(${Td},${Td},${Td}\\)$`),Nft=new RegExp(`^rgba\\(${Xv},${Xv},${Xv},${HC}\\)$`),Oft=new RegExp(`^rgba\\(${Td},${Td},${Td},${HC}\\)$`),Mft=new RegExp(`^hsl\\(${HC},${Td},${Td}\\)$`),Dft=new RegExp(`^hsla\\(${HC},${Td},${Td},${HC}\\)$`),FJ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vU(fk,FC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:UJ,formatHex:UJ,formatHex8:Rft,formatHsl:Ift,formatRgb:zJ,toString:zJ});function UJ(){return this.rgb().formatHex()}function Rft(){return this.rgb().formatHex8()}function Ift(){return wye(this).formatHsl()}function zJ(){return this.rgb().formatRgb()}function FC(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=kft.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?VJ(t):n===3?new Fs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?NA(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?NA(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_ft.exec(e))?new Fs(t[1],t[2],t[3],1):(t=Aft.exec(e))?new Fs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Nft.exec(e))?NA(t[1],t[2],t[3],t[4]):(t=Oft.exec(e))?NA(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Mft.exec(e))?YJ(t[1],t[2]/100,t[3]/100,1):(t=Dft.exec(e))?YJ(t[1],t[2]/100,t[3]/100,t[4]):FJ.hasOwnProperty(e)?VJ(FJ[e]):e==="transparent"?new Fs(NaN,NaN,NaN,0):null}function VJ(e){return new Fs(e>>16&255,e>>8&255,e&255,1)}function NA(e,t,n,r){return r<=0&&(e=t=n=NaN),new Fs(e,t,n,r)}function Pft(e){return e instanceof fk||(e=FC(e)),e?(e=e.rgb(),new Fs(e.r,e.g,e.b,e.opacity)):new Fs}function f$(e,t,n,r){return arguments.length===1?Pft(e):new Fs(e,t,n,r??1)}function Fs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vU(Fs,f$,xye(fk,{brighter(e){return e=e==null?dM:Math.pow(dM,e),new Fs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$C:Math.pow($C,e),new Fs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fs(E0(this.r),E0(this.g),E0(this.b),fM(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qJ,formatHex:qJ,formatHex8:Lft,formatRgb:WJ,toString:WJ}));function qJ(){return`#${a0(this.r)}${a0(this.g)}${a0(this.b)}`}function Lft(){return`#${a0(this.r)}${a0(this.g)}${a0(this.b)}${a0((isNaN(this.opacity)?1:this.opacity)*255)}`}function WJ(){const e=fM(this.opacity);return`${e===1?"rgb(":"rgba("}${E0(this.r)}, ${E0(this.g)}, ${E0(this.b)}${e===1?")":`, ${e})`}`}function fM(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function E0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function a0(e){return e=E0(e),(e<16?"0":"")+e.toString(16)}function YJ(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new su(e,t,n,r)}function wye(e){if(e instanceof su)return new su(e.h,e.s,e.l,e.opacity);if(e instanceof fk||(e=FC(e)),!e)return new su;if(e instanceof su)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new su(a,s,l,e.opacity)}function jft(e,t,n,r){return arguments.length===1?wye(e):new su(e,t,n,r??1)}function su(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vU(su,jft,xye(fk,{brighter(e){return e=e==null?dM:Math.pow(dM,e),new su(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$C:Math.pow($C,e),new su(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Fs(D5(e>=240?e-240:e+120,i,r),D5(e,i,r),D5(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new su(GJ(this.h),OA(this.s),OA(this.l),fM(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fM(this.opacity);return`${e===1?"hsl(":"hsla("}${GJ(this.h)}, ${OA(this.s)*100}%, ${OA(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GJ(e){return e=(e||0)%360,e<0?e+360:e}function OA(e){return Math.max(0,Math.min(1,e||0))}function D5(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const xU=e=>()=>e;function Bft(e,t){return function(n){return e+n*t}}function $ft(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Hft(e){return(e=+e)==1?Eye:function(t,n){return n-t?$ft(t,n,e):xU(isNaN(t)?n:t)}}function Eye(e,t){var n=t-e;return n?Bft(e,n):xU(isNaN(e)?t:e)}const KJ=(function e(t){var n=Hft(t);function r(i,o){var a=n((i=f$(i)).r,(o=f$(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=Eye(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r})(1);function Fft(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Uft(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zft(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Cx(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Vft(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function hM(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function qft(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Cx(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var h$=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,R5=new RegExp(h$.source,"g");function Wft(e){return function(){return e}}function Yft(e){return function(t){return e(t)+""}}function Gft(e,t){var n=h$.lastIndex=R5.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=h$.exec(e))&&(i=R5.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:hM(r,i)})),n=R5.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Yft(l[0].x):Wft(t):(t=l.length,function(c){for(var d=0,u;d<t;++d)s[(u=l[d]).i]=u.x(c);return s.join("")})}function Cx(e,t){var n=typeof t,r;return t==null||n==="boolean"?xU(t):(n==="number"?hM:n==="string"?(r=FC(t))?(t=r,KJ):Gft:t instanceof FC?KJ:t instanceof Date?Vft:Uft(t)?Fft:Array.isArray(t)?zft:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qft:hM)(e,t)}function wU(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Kft(e,t){t===void 0&&(t=e,e=Cx);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Xft(e){return function(){return e}}function pM(e){return+e}var XJ=[0,1];function ns(e){return e}function p$(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Xft(isNaN(t)?NaN:.5)}function Zft(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Qft(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=p$(i,r),o=n(a,o)):(r=p$(r,i),o=n(o,a)),function(s){return o(r(s))}}function Jft(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=p$(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=dk(e,s,1,r)-1;return o[l](i[l](s))}}function hk(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $R(){var e=XJ,t=XJ,n=Cx,r,i,o,a=ns,s,l,c;function d(){var p=Math.min(e.length,t.length);return a!==ns&&(a=Zft(e[0],e[p-1])),s=p>2?Jft:Qft,l=c=null,u}function u(p){return p==null||isNaN(p=+p)?o:(l||(l=s(e.map(r),t,n)))(r(a(p)))}return u.invert=function(p){return a(i((c||(c=s(t,e.map(r),hM)))(p)))},u.domain=function(p){return arguments.length?(e=Array.from(p,pM),d()):e.slice()},u.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},u.rangeRound=function(p){return t=Array.from(p),n=wU,d()},u.clamp=function(p){return arguments.length?(a=p?!0:ns,d()):a!==ns},u.interpolate=function(p){return arguments.length?(n=p,d()):n},u.unknown=function(p){return arguments.length?(o=p,u):o},function(p,m){return r=p,i=m,d()}}function EU(){return $R()(ns,ns)}function eht(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mM(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function O1(e){return e=mM(Math.abs(e)),e?e[1]:NaN}function tht(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function nht(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var rht=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function UC(e){if(!(t=rht.exec(e)))throw new Error("invalid format: "+e);var t;return new SU({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}UC.prototype=SU.prototype;function SU(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}SU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iht(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Sye;function oht(e,t){var n=mM(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Sye=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mM(e,Math.max(0,t+o-1))[0]}function ZJ(e,t){var n=mM(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const QJ={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eht,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZJ(e*100,t),r:ZJ,s:oht,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JJ(e){return e}var eee=Array.prototype.map,tee=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aht(e){var t=e.grouping===void 0||e.thousands===void 0?JJ:tht(eee.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?JJ:nht(eee.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(u){u=UC(u);var p=u.fill,m=u.align,v=u.sign,x=u.symbol,w=u.zero,T=u.width,k=u.comma,N=u.precision,I=u.trim,M=u.type;M==="n"?(k=!0,M="g"):QJ[M]||(N===void 0&&(N=12),I=!0,M="g"),(w||p==="0"&&m==="=")&&(w=!0,p="0",m="=");var A=x==="$"?n:x==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",R=x==="$"?r:/[%p]/.test(M)?a:"",L=QJ[M],B=/[defgprs%]/.test(M);N=N===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function $(W){var V=A,Y=R,U,X,q;if(M==="c")Y=L(W)+Y,W="";else{W=+W;var ne=W<0||1/W<0;if(W=isNaN(W)?l:L(Math.abs(W),N),I&&(W=iht(W)),ne&&+W==0&&v!=="+"&&(ne=!1),V=(ne?v==="("?v:s:v==="-"||v==="("?"":v)+V,Y=(M==="s"?tee[8+Sye/3]:"")+Y+(ne&&v==="("?")":""),B){for(U=-1,X=W.length;++U<X;)if(q=W.charCodeAt(U),48>q||q>57){Y=(q===46?i+W.slice(U+1):W.slice(U))+Y,W=W.slice(0,U);break}}}k&&!w&&(W=t(W,1/0));var Z=V.length+W.length+Y.length,oe=Z<T?new Array(T-Z+1).join(p):"";switch(k&&w&&(W=t(oe+W,oe.length?T-Y.length:1/0),oe=""),m){case"<":W=V+W+Y+oe;break;case"=":W=V+oe+W+Y;break;case"^":W=oe.slice(0,Z=oe.length>>1)+V+W+Y+oe.slice(Z);break;default:W=oe+V+W+Y;break}return o(W)}return $.toString=function(){return u+""},$}function d(u,p){var m=c((u=UC(u),u.type="f",u)),v=Math.max(-8,Math.min(8,Math.floor(O1(p)/3)))*3,x=Math.pow(10,-v),w=tee[8+v/3];return function(T){return m(x*T)+w}}return{format:c,formatPrefix:d}}var MA,CU,Cye;sht({thousands:",",grouping:[3],currency:["$",""]});function sht(e){return MA=aht(e),CU=MA.format,Cye=MA.formatPrefix,MA}function lht(e){return Math.max(0,-O1(Math.abs(e)))}function cht(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(O1(t)/3)))*3-O1(Math.abs(e)))}function uht(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,O1(t)-O1(e))+1}function Tye(e,t,n,r){var i=u$(e,t,n),o;switch(r=UC(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=cht(i,a))&&(r.precision=o),Cye(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=uht(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=lht(i))&&(r.precision=o-(r.type==="%")*2);break}}return CU(r)}function _m(e){var t=e.domain;return e.ticks=function(n){var r=t();return l$(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Tye(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,d=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);d-- >0;){if(c=c$(a,s,n),c===l)return r[i]=a,r[o]=s,t(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function gM(){var e=EU();return e.copy=function(){return hk(e,gM())},Tc.apply(e,arguments),_m(e)}function kye(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,pM),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return kye(e).unknown(t)},e=arguments.length?Array.from(e,pM):[0,1],_m(n)}function _ye(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function nee(e){return Math.log(e)}function ree(e){return Math.exp(e)}function dht(e){return-Math.log(-e)}function fht(e){return-Math.exp(-e)}function hht(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pht(e){return e===10?hht:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mht(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iee(e){return(t,n)=>-e(-t,n)}function TU(e){const t=e(nee,ree),n=t.domain;let r=10,i,o;function a(){return i=mht(r),o=pht(r),n()[0]<0?(i=iee(i),o=iee(o),e(dht,fht)):e(nee,ree),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const u=d<c;u&&([c,d]=[d,c]);let p=i(c),m=i(d),v,x;const w=s==null?10:+s;let T=[];if(!(r%1)&&m-p<w){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(v=1;v<r;++v)if(x=p<0?v/o(-p):v*o(p),!(x<c)){if(x>d)break;T.push(x)}}else for(;p<=m;++p)for(v=r-1;v>=1;--v)if(x=p>0?v/o(-p):v*o(p),!(x<c)){if(x>d)break;T.push(x)}T.length*2<w&&(T=l$(c,d,w))}else T=l$(p,m,Math.min(m-p,w)).map(o);return u?T.reverse():T},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=UC(l)).precision==null&&(l.trim=!0),l=CU(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return d=>{let u=d/o(Math.round(i(d)));return u*r<r-.5&&(u*=r),u<=c?l(d):""}},t.nice=()=>n(_ye(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function Aye(){const e=TU($R()).domain([1,10]);return e.copy=()=>hk(e,Aye()).base(e.base()),Tc.apply(e,arguments),e}function oee(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aee(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kU(e){var t=1,n=e(oee(t),aee(t));return n.constant=function(r){return arguments.length?e(oee(t=+r),aee(t)):t},_m(n)}function Nye(){var e=kU($R());return e.copy=function(){return hk(e,Nye()).constant(e.constant())},Tc.apply(e,arguments)}function see(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ght(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yht(e){return e<0?-e*e:e*e}function _U(e){var t=e(ns,ns),n=1;function r(){return n===1?e(ns,ns):n===.5?e(ght,yht):e(see(n),see(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},_m(t)}function AU(){var e=_U($R());return e.copy=function(){return hk(e,AU()).exponent(e.exponent())},Tc.apply(e,arguments),e}function bht(){return AU.apply(null,arguments).exponent(.5)}function lee(e){return Math.sign(e)*e*e}function vht(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Oye(){var e=EU(),t=[0,1],n=!1,r;function i(o){var a=vht(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(lee(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,pM)).map(lee)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Oye(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Tc.apply(i,arguments),_m(i)}function Mye(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=Cft(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[dk(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Gp),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Mye().domain(e).range(t).unknown(r)},Tc.apply(o,arguments)}function Dye(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[dk(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Dye().domain([e,t]).range(i).unknown(o)},Tc.apply(_m(a),arguments)}function Rye(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[dk(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Rye().domain(e).range(t).unknown(n)},Tc.apply(i,arguments)}const I5=new Date,P5=new Date;function No(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<a);return l},i.filter=o=>No(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(I5.setTime(+o),P5.setTime(+a),e(I5),e(P5),Math.floor(n(I5,P5))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const yM=No(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yM.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?No(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yM);yM.range;const Df=1e3,dc=Df*60,Rf=dc*60,th=Rf*24,NU=th*7,cee=th*30,L5=th*365,s0=No(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Df)},(e,t)=>(t-e)/Df,e=>e.getUTCSeconds());s0.range;const OU=No(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Df)},(e,t)=>{e.setTime(+e+t*dc)},(e,t)=>(t-e)/dc,e=>e.getMinutes());OU.range;const MU=No(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*dc)},(e,t)=>(t-e)/dc,e=>e.getUTCMinutes());MU.range;const DU=No(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Df-e.getMinutes()*dc)},(e,t)=>{e.setTime(+e+t*Rf)},(e,t)=>(t-e)/Rf,e=>e.getHours());DU.range;const RU=No(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rf)},(e,t)=>(t-e)/Rf,e=>e.getUTCHours());RU.range;const pk=No(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dc)/th,e=>e.getDate()-1);pk.range;const HR=No(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/th,e=>e.getUTCDate()-1);HR.range;const Iye=No(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/th,e=>Math.floor(e/th));Iye.range;function py(e){return No(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*dc)/NU)}const FR=py(0),bM=py(1),xht=py(2),wht=py(3),M1=py(4),Eht=py(5),Sht=py(6);FR.range;bM.range;xht.range;wht.range;M1.range;Eht.range;Sht.range;function my(e){return No(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/NU)}const UR=my(0),vM=my(1),Cht=my(2),Tht=my(3),D1=my(4),kht=my(5),_ht=my(6);UR.range;vM.range;Cht.range;Tht.range;D1.range;kht.range;_ht.range;const IU=No(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());IU.range;const PU=No(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());PU.range;const nh=No(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:No(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});nh.range;const rh=No(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:No(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});rh.range;function Pye(e,t,n,r,i,o){const a=[[s0,1,Df],[s0,5,5*Df],[s0,15,15*Df],[s0,30,30*Df],[o,1,dc],[o,5,5*dc],[o,15,15*dc],[o,30,30*dc],[i,1,Rf],[i,3,3*Rf],[i,6,6*Rf],[i,12,12*Rf],[r,1,th],[r,2,2*th],[n,1,NU],[t,1,cee],[t,3,3*cee],[e,1,L5]];function s(c,d,u){const p=d<c;p&&([c,d]=[d,c]);const m=u&&typeof u.range=="function"?u:l(c,d,u),v=m?m.range(c,+d+1):[];return p?v.reverse():v}function l(c,d,u){const p=Math.abs(d-c)/u,m=yU(([,,w])=>w).right(a,p);if(m===a.length)return e.every(u$(c/L5,d/L5,u));if(m===0)return yM.every(Math.max(u$(c,d,u),1));const[v,x]=a[p/a[m-1][2]<a[m][2]/p?m-1:m];return v.every(x)}return[s,l]}const[Aht,Nht]=Pye(rh,PU,UR,Iye,RU,MU),[Oht,Mht]=Pye(nh,IU,FR,pk,DU,OU);function j5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function B5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function YE(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Dht(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=GE(i),d=KE(i),u=GE(o),p=KE(o),m=GE(a),v=KE(a),x=GE(s),w=KE(s),T=GE(l),k=KE(l),N={a:ne,A:Z,b:oe,B:K,c:null,d:mee,e:mee,f:tpt,g:dpt,G:hpt,H:Qht,I:Jht,j:ept,L:Lye,m:npt,M:rpt,p:Q,q:te,Q:bee,s:vee,S:ipt,u:opt,U:apt,V:spt,w:lpt,W:cpt,x:null,X:null,y:upt,Y:fpt,Z:ppt,"%":yee},I={a:z,A:fe,b:me,B:ke,c:null,d:gee,e:gee,f:bpt,g:Apt,G:Opt,H:mpt,I:gpt,j:ypt,L:Bye,m:vpt,M:xpt,p:Ee,q:ve,Q:bee,s:vee,S:wpt,u:Ept,U:Spt,V:Cpt,w:Tpt,W:kpt,x:null,X:null,y:_pt,Y:Npt,Z:Mpt,"%":yee},M={a:$,A:W,b:V,B:Y,c:U,d:hee,e:hee,f:Ght,g:fee,G:dee,H:pee,I:pee,j:Vht,L:Yht,m:zht,M:qht,p:B,q:Uht,Q:Xht,s:Zht,S:Wht,u:jht,U:Bht,V:$ht,w:Lht,W:Hht,x:X,X:q,y:fee,Y:dee,Z:Fht,"%":Kht};N.x=A(n,N),N.X=A(r,N),N.c=A(t,N),I.x=A(n,I),I.X=A(r,I),I.c=A(t,I);function A(we,je){return function(Ke){var Me=[],Lt=-1,Ve=0,an=we.length,cn,Qt,Yr;for(Ke instanceof Date||(Ke=new Date(+Ke));++Lt<an;)we.charCodeAt(Lt)===37&&(Me.push(we.slice(Ve,Lt)),(Qt=uee[cn=we.charAt(++Lt)])!=null?cn=we.charAt(++Lt):Qt=cn==="e"?" ":"0",(Yr=je[cn])&&(cn=Yr(Ke,Qt)),Me.push(cn),Ve=Lt+1);return Me.push(we.slice(Ve,Lt)),Me.join("")}}function R(we,je){return function(Ke){var Me=YE(1900,void 0,1),Lt=L(Me,we,Ke+="",0),Ve,an;if(Lt!=Ke.length)return null;if("Q"in Me)return new Date(Me.Q);if("s"in Me)return new Date(Me.s*1e3+("L"in Me?Me.L:0));if(je&&!("Z"in Me)&&(Me.Z=0),"p"in Me&&(Me.H=Me.H%12+Me.p*12),Me.m===void 0&&(Me.m="q"in Me?Me.q:0),"V"in Me){if(Me.V<1||Me.V>53)return null;"w"in Me||(Me.w=1),"Z"in Me?(Ve=B5(YE(Me.y,0,1)),an=Ve.getUTCDay(),Ve=an>4||an===0?vM.ceil(Ve):vM(Ve),Ve=HR.offset(Ve,(Me.V-1)*7),Me.y=Ve.getUTCFullYear(),Me.m=Ve.getUTCMonth(),Me.d=Ve.getUTCDate()+(Me.w+6)%7):(Ve=j5(YE(Me.y,0,1)),an=Ve.getDay(),Ve=an>4||an===0?bM.ceil(Ve):bM(Ve),Ve=pk.offset(Ve,(Me.V-1)*7),Me.y=Ve.getFullYear(),Me.m=Ve.getMonth(),Me.d=Ve.getDate()+(Me.w+6)%7)}else("W"in Me||"U"in Me)&&("w"in Me||(Me.w="u"in Me?Me.u%7:"W"in Me?1:0),an="Z"in Me?B5(YE(Me.y,0,1)).getUTCDay():j5(YE(Me.y,0,1)).getDay(),Me.m=0,Me.d="W"in Me?(Me.w+6)%7+Me.W*7-(an+5)%7:Me.w+Me.U*7-(an+6)%7);return"Z"in Me?(Me.H+=Me.Z/100|0,Me.M+=Me.Z%100,B5(Me)):j5(Me)}}function L(we,je,Ke,Me){for(var Lt=0,Ve=je.length,an=Ke.length,cn,Qt;Lt<Ve;){if(Me>=an)return-1;if(cn=je.charCodeAt(Lt++),cn===37){if(cn=je.charAt(Lt++),Qt=M[cn in uee?je.charAt(Lt++):cn],!Qt||(Me=Qt(we,Ke,Me))<0)return-1}else if(cn!=Ke.charCodeAt(Me++))return-1}return Me}function B(we,je,Ke){var Me=c.exec(je.slice(Ke));return Me?(we.p=d.get(Me[0].toLowerCase()),Ke+Me[0].length):-1}function $(we,je,Ke){var Me=m.exec(je.slice(Ke));return Me?(we.w=v.get(Me[0].toLowerCase()),Ke+Me[0].length):-1}function W(we,je,Ke){var Me=u.exec(je.slice(Ke));return Me?(we.w=p.get(Me[0].toLowerCase()),Ke+Me[0].length):-1}function V(we,je,Ke){var Me=T.exec(je.slice(Ke));return Me?(we.m=k.get(Me[0].toLowerCase()),Ke+Me[0].length):-1}function Y(we,je,Ke){var Me=x.exec(je.slice(Ke));return Me?(we.m=w.get(Me[0].toLowerCase()),Ke+Me[0].length):-1}function U(we,je,Ke){return L(we,t,je,Ke)}function X(we,je,Ke){return L(we,n,je,Ke)}function q(we,je,Ke){return L(we,r,je,Ke)}function ne(we){return a[we.getDay()]}function Z(we){return o[we.getDay()]}function oe(we){return l[we.getMonth()]}function K(we){return s[we.getMonth()]}function Q(we){return i[+(we.getHours()>=12)]}function te(we){return 1+~~(we.getMonth()/3)}function z(we){return a[we.getUTCDay()]}function fe(we){return o[we.getUTCDay()]}function me(we){return l[we.getUTCMonth()]}function ke(we){return s[we.getUTCMonth()]}function Ee(we){return i[+(we.getUTCHours()>=12)]}function ve(we){return 1+~~(we.getUTCMonth()/3)}return{format:function(we){var je=A(we+="",N);return je.toString=function(){return we},je},parse:function(we){var je=R(we+="",!1);return je.toString=function(){return we},je},utcFormat:function(we){var je=A(we+="",I);return je.toString=function(){return we},je},utcParse:function(we){var je=R(we+="",!0);return je.toString=function(){return we},je}}}var uee={"-":"",_:" ",0:"0"},Uo=/^\s*\d+/,Rht=/^%/,Iht=/[\\^$*+?|[\]().{}]/g;function pr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Pht(e){return e.replace(Iht,"\\$&")}function GE(e){return new RegExp("^(?:"+e.map(Pht).join("|")+")","i")}function KE(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Lht(e,t,n){var r=Uo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function jht(e,t,n){var r=Uo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Bht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function $ht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Hht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function dee(e,t,n){var r=Uo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function fee(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fht(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Uht(e,t,n){var r=Uo.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function zht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function hee(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Vht(e,t,n){var r=Uo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function pee(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function qht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Wht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Yht(e,t,n){var r=Uo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ght(e,t,n){var r=Uo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kht(e,t,n){var r=Rht.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Xht(e,t,n){var r=Uo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Zht(e,t,n){var r=Uo.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function mee(e,t){return pr(e.getDate(),t,2)}function Qht(e,t){return pr(e.getHours(),t,2)}function Jht(e,t){return pr(e.getHours()%12||12,t,2)}function ept(e,t){return pr(1+pk.count(nh(e),e),t,3)}function Lye(e,t){return pr(e.getMilliseconds(),t,3)}function tpt(e,t){return Lye(e,t)+"000"}function npt(e,t){return pr(e.getMonth()+1,t,2)}function rpt(e,t){return pr(e.getMinutes(),t,2)}function ipt(e,t){return pr(e.getSeconds(),t,2)}function opt(e){var t=e.getDay();return t===0?7:t}function apt(e,t){return pr(FR.count(nh(e)-1,e),t,2)}function jye(e){var t=e.getDay();return t>=4||t===0?M1(e):M1.ceil(e)}function spt(e,t){return e=jye(e),pr(M1.count(nh(e),e)+(nh(e).getDay()===4),t,2)}function lpt(e){return e.getDay()}function cpt(e,t){return pr(bM.count(nh(e)-1,e),t,2)}function upt(e,t){return pr(e.getFullYear()%100,t,2)}function dpt(e,t){return e=jye(e),pr(e.getFullYear()%100,t,2)}function fpt(e,t){return pr(e.getFullYear()%1e4,t,4)}function hpt(e,t){var n=e.getDay();return e=n>=4||n===0?M1(e):M1.ceil(e),pr(e.getFullYear()%1e4,t,4)}function ppt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pr(t/60|0,"0",2)+pr(t%60,"0",2)}function gee(e,t){return pr(e.getUTCDate(),t,2)}function mpt(e,t){return pr(e.getUTCHours(),t,2)}function gpt(e,t){return pr(e.getUTCHours()%12||12,t,2)}function ypt(e,t){return pr(1+HR.count(rh(e),e),t,3)}function Bye(e,t){return pr(e.getUTCMilliseconds(),t,3)}function bpt(e,t){return Bye(e,t)+"000"}function vpt(e,t){return pr(e.getUTCMonth()+1,t,2)}function xpt(e,t){return pr(e.getUTCMinutes(),t,2)}function wpt(e,t){return pr(e.getUTCSeconds(),t,2)}function Ept(e){var t=e.getUTCDay();return t===0?7:t}function Spt(e,t){return pr(UR.count(rh(e)-1,e),t,2)}function $ye(e){var t=e.getUTCDay();return t>=4||t===0?D1(e):D1.ceil(e)}function Cpt(e,t){return e=$ye(e),pr(D1.count(rh(e),e)+(rh(e).getUTCDay()===4),t,2)}function Tpt(e){return e.getUTCDay()}function kpt(e,t){return pr(vM.count(rh(e)-1,e),t,2)}function _pt(e,t){return pr(e.getUTCFullYear()%100,t,2)}function Apt(e,t){return e=$ye(e),pr(e.getUTCFullYear()%100,t,2)}function Npt(e,t){return pr(e.getUTCFullYear()%1e4,t,4)}function Opt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?D1(e):D1.ceil(e),pr(e.getUTCFullYear()%1e4,t,4)}function Mpt(){return"+0000"}function yee(){return"%"}function bee(e){return+e}function vee(e){return Math.floor(+e/1e3)}var lv,Hye,Fye;Dpt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Dpt(e){return lv=Dht(e),Hye=lv.format,lv.parse,Fye=lv.utcFormat,lv.utcParse,lv}function Rpt(e){return new Date(e)}function Ipt(e){return e instanceof Date?+e:+new Date(+e)}function LU(e,t,n,r,i,o,a,s,l,c){var d=EU(),u=d.invert,p=d.domain,m=c(".%L"),v=c(":%S"),x=c("%I:%M"),w=c("%I %p"),T=c("%a %d"),k=c("%b %d"),N=c("%B"),I=c("%Y");function M(A){return(l(A)<A?m:s(A)<A?v:a(A)<A?x:o(A)<A?w:r(A)<A?i(A)<A?T:k:n(A)<A?N:I)(A)}return d.invert=function(A){return new Date(u(A))},d.domain=function(A){return arguments.length?p(Array.from(A,Ipt)):p().map(Rpt)},d.ticks=function(A){var R=p();return e(R[0],R[R.length-1],A??10)},d.tickFormat=function(A,R){return R==null?M:c(R)},d.nice=function(A){var R=p();return(!A||typeof A.range!="function")&&(A=t(R[0],R[R.length-1],A??10)),A?p(_ye(R,A)):d},d.copy=function(){return hk(d,LU(e,t,n,r,i,o,a,s,l,c))},d}function Ppt(){return Tc.apply(LU(Oht,Mht,nh,IU,FR,pk,DU,OU,s0,Hye).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Lpt(){return Tc.apply(LU(Aht,Nht,rh,PU,UR,HR,RU,MU,s0,Fye).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zR(){var e=0,t=1,n,r,i,o,a=ns,s=!1,l;function c(u){return u==null||isNaN(u=+u)?l:a(i===0?.5:(u=(o(u)-n)*i,s?Math.max(0,Math.min(1,u)):u))}c.domain=function(u){return arguments.length?([e,t]=u,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(u){return arguments.length?(s=!!u,c):s},c.interpolator=function(u){return arguments.length?(a=u,c):a};function d(u){return function(p){var m,v;return arguments.length?([m,v]=p,a=u(m,v),c):[a(0),a(1)]}}return c.range=d(Cx),c.rangeRound=d(wU),c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return o=u,n=u(e),r=u(t),i=n===r?0:1/(r-n),c}}function Am(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Uye(){var e=_m(zR()(ns));return e.copy=function(){return Am(e,Uye())},ph.apply(e,arguments)}function zye(){var e=TU(zR()).domain([1,10]);return e.copy=function(){return Am(e,zye()).base(e.base())},ph.apply(e,arguments)}function Vye(){var e=kU(zR());return e.copy=function(){return Am(e,Vye()).constant(e.constant())},ph.apply(e,arguments)}function jU(){var e=_U(zR());return e.copy=function(){return Am(e,jU()).exponent(e.exponent())},ph.apply(e,arguments)}function jpt(){return jU.apply(null,arguments).exponent(.5)}function qye(){var e=[],t=ns;function n(r){if(r!=null&&!isNaN(r=+r))return t((dk(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Gp),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Sft(e,o/r))},n.copy=function(){return qye(t).domain(e)},ph.apply(n,arguments)}function VR(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,c=ns,d,u=!1,p;function m(x){return isNaN(x=+x)?p:(x=.5+((x=+d(x))-o)*(r*x<r*o?s:l),c(u?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,n]=x,i=d(e=+e),o=d(t=+t),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[e,t,n]},m.clamp=function(x){return arguments.length?(u=!!x,m):u},m.interpolator=function(x){return arguments.length?(c=x,m):c};function v(x){return function(w){var T,k,N;return arguments.length?([T,k,N]=w,c=Kft(x,[T,k,N]),m):[c(0),c(.5),c(1)]}}return m.range=v(Cx),m.rangeRound=v(wU),m.unknown=function(x){return arguments.length?(p=x,m):p},function(x){return d=x,i=x(e),o=x(t),a=x(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function Wye(){var e=_m(VR()(ns));return e.copy=function(){return Am(e,Wye())},ph.apply(e,arguments)}function Yye(){var e=TU(VR()).domain([.1,1,10]);return e.copy=function(){return Am(e,Yye()).base(e.base())},ph.apply(e,arguments)}function Gye(){var e=kU(VR());return e.copy=function(){return Am(e,Gye()).constant(e.constant())},ph.apply(e,arguments)}function BU(){var e=_U(VR());return e.copy=function(){return Am(e,BU()).exponent(e.exponent())},ph.apply(e,arguments)}function Bpt(){return BU.apply(null,arguments).exponent(.5)}const xee=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:BC,scaleDiverging:Wye,scaleDivergingLog:Yye,scaleDivergingPow:BU,scaleDivergingSqrt:Bpt,scaleDivergingSymlog:Gye,scaleIdentity:kye,scaleImplicit:d$,scaleLinear:gM,scaleLog:Aye,scaleOrdinal:bU,scalePoint:FS,scalePow:AU,scaleQuantile:Mye,scaleQuantize:Dye,scaleRadial:Oye,scaleSequential:Uye,scaleSequentialLog:zye,scaleSequentialPow:jU,scaleSequentialQuantile:qye,scaleSequentialSqrt:jpt,scaleSequentialSymlog:Vye,scaleSqrt:bht,scaleSymlog:Nye,scaleThreshold:Rye,scaleTime:Ppt,scaleUtc:Lpt,tickFormat:Tye},Symbol.toStringTag,{value:"Module"}));var $5,wee;function Kye(){if(wee)return $5;wee=1;var e=xx();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,d=s}return d}return $5=t,$5}var H5,Eee;function $pt(){if(Eee)return H5;Eee=1;function e(t,n){return t>n}return H5=e,H5}var F5,See;function Hpt(){if(See)return F5;See=1;var e=Kye(),t=$pt(),n=Ex();function r(i){return i&&i.length?e(i,n,t):void 0}return F5=r,F5}var Fpt=Hpt();const qR=vr(Fpt);var U5,Cee;function Upt(){if(Cee)return U5;Cee=1;function e(t,n){return t<n}return U5=e,U5}var z5,Tee;function zpt(){if(Tee)return z5;Tee=1;var e=Kye(),t=Upt(),n=Ex();function r(i){return i&&i.length?e(i,n,t):void 0}return z5=r,z5}var Vpt=zpt();const WR=vr(Vpt);var V5,kee;function qpt(){if(kee)return V5;kee=1;var e=eU(),t=km(),n=rye(),r=Gs();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return V5=i,V5}var q5,_ee;function Wpt(){if(_ee)return q5;_ee=1;var e=tye(),t=qpt();function n(r,i){return e(t(r,i),1)}return q5=n,q5}var Ypt=Wpt();const Gpt=vr(Ypt);var W5,Aee;function Kpt(){if(Aee)return W5;Aee=1;var e=hU();function t(n,r){return e(n,r)}return W5=t,W5}var Xpt=Kpt();const YR=vr(Xpt);var Tx=1e9,Zpt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HU,xi=!0,Cc="[DecimalError] ",S0=Cc+"Invalid argument: ",$U=Cc+"Exponent out of range: ",kx=Math.floor,Kg=Math.pow,Qpt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kl,jo=1e7,di=7,Xye=9007199254740991,xM=kx(Xye/di),Et={};Et.absoluteValue=Et.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Et.comparedTo=Et.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*di;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Et.dividedBy=Et.div=function(e){return qf(this,new this.constructor(e))};Et.dividedToIntegerBy=Et.idiv=function(e){var t=this,n=t.constructor;return qr(qf(t,new n(e),0,1),n.precision)};Et.equals=Et.eq=function(e){return!this.cmp(e)};Et.exponent=function(){return uo(this)};Et.greaterThan=Et.gt=function(e){return this.cmp(e)>0};Et.greaterThanOrEqualTo=Et.gte=function(e){return this.cmp(e)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(e){return this.cmp(e)<0};Et.lessThanOrEqualTo=Et.lte=function(e){return this.cmp(e)<1};Et.logarithm=Et.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(kl))throw Error(Cc+"NaN");if(n.s<1)throw Error(Cc+(n.s?"NaN":"-Infinity"));return n.eq(kl)?new r(0):(xi=!1,t=qf(zC(n,o),zC(e,o),o),xi=!0,qr(t,i))};Et.minus=Et.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jye(t,e):Zye(t,(e.s=-e.s,e))};Et.modulo=Et.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Cc+"NaN");return n.s?(xi=!1,t=qf(n,e,0,1).times(e),xi=!0,n.minus(t)):qr(new r(n),i)};Et.naturalExponential=Et.exp=function(){return Qye(this)};Et.naturalLogarithm=Et.ln=function(){return zC(this)};Et.negated=Et.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Et.plus=Et.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zye(t,e):Jye(t,(e.s=-e.s,e))};Et.precision=Et.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(S0+e);if(t=uo(i)+1,r=i.d.length-1,n=r*di+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Et.squareRoot=Et.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Cc+"NaN")}for(e=uo(s),xi=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=yd(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=kx((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(qf(s,o,a+2)).times(.5),yd(o.d).slice(0,a)===(t=yd(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(qr(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return xi=!0,qr(r,n)};Et.times=Et.mul=function(e){var t,n,r,i,o,a,s,l,c,d=this,u=d.constructor,p=d.d,m=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=m.length,l<c&&(o=p,p=m,m=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+m[r]*p[i-r-1]+t,o[i--]=s%jo|0,t=s/jo|0;o[i]=(o[i]+t)%jo|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,xi?qr(e,u.precision):e};Et.toDecimalPlaces=Et.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Rd(e,0,Tx),t===void 0?t=r.rounding:Rd(t,0,8),qr(n,e+uo(n)+1,t))};Et.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=G0(r,!0):(Rd(e,0,Tx),t===void 0?t=i.rounding:Rd(t,0,8),r=qr(new i(r),e+1,t),n=G0(r,!0,e+1)),n};Et.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?G0(i):(Rd(e,0,Tx),t===void 0?t=o.rounding:Rd(t,0,8),r=qr(new o(i),e+uo(i)+1,t),n=G0(r.abs(),!1,e+uo(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Et.toInteger=Et.toint=function(){var e=this,t=e.constructor;return qr(new t(e),uo(e)+1,t.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(kl);if(s=new l(s),!s.s){if(e.s<1)throw Error(Cc+"Infinity");return s}if(s.eq(kl))return s;if(r=l.precision,e.eq(kl))return qr(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=d<0?-d:d)<=Xye){for(i=new l(kl),t=Math.ceil(r/di+4),xi=!1;n%2&&(i=i.times(s),Oee(i.d,t)),n=kx(n/2),n!==0;)s=s.times(s),Oee(s.d,t);return xi=!0,e.s<0?new l(kl).div(i):qr(i,r)}}else if(o<0)throw Error(Cc+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,xi=!1,i=e.times(zC(s,r+c)),xi=!0,i=Qye(i),i.s=o,i};Et.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=uo(i),r=G0(i,n<=o.toExpNeg||n>=o.toExpPos)):(Rd(e,1,Tx),t===void 0?t=o.rounding:Rd(t,0,8),i=qr(new o(i),e,t),n=uo(i),r=G0(i,e<=n||n<=o.toExpNeg,e)),r};Et.toSignificantDigits=Et.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Rd(e,1,Tx),t===void 0?t=r.rounding:Rd(t,0,8)),qr(new r(n),e,t)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=uo(e),n=e.constructor;return G0(e,t<=n.toExpNeg||t>=n.toExpPos)};function Zye(e,t){var n,r,i,o,a,s,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),xi?qr(t,u):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(u/di),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/jo|0,l[o]%=jo;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,xi?qr(t,u):t}function Rd(e,t,n){if(e!==~~e||e<t||e>n)throw Error(S0+e)}function yd(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=di-r.length,n&&(o+=Cp(n)),o+=r;a=e[t],r=a+"",n=di-r.length,n&&(o+=Cp(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var qf=(function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%jo|0,a=o/jo|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*jo+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,d,u,p,m,v,x,w,T,k,N,I,M,A,R,L,B=r.constructor,$=r.s==i.s?1:-1,W=r.d,V=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(Cc+"Division by zero");for(l=r.e-i.e,R=V.length,M=W.length,m=new B($),v=m.d=[],c=0;V[c]==(W[c]||0);)++c;if(V[c]>(W[c]||0)&&--l,o==null?k=o=B.precision:a?k=o+(uo(r)-uo(i))+1:k=o,k<0)return new B(0);if(k=k/di+2|0,c=0,R==1)for(d=0,V=V[0],k++;(c<M||d)&&k--;c++)N=d*jo+(W[c]||0),v[c]=N/V|0,d=N%V|0;else{for(d=jo/(V[0]+1)|0,d>1&&(V=e(V,d),W=e(W,d),R=V.length,M=W.length),I=R,x=W.slice(0,R),w=x.length;w<R;)x[w++]=0;L=V.slice(),L.unshift(0),A=V[0],V[1]>=jo/2&&++A;do d=0,s=t(V,x,R,w),s<0?(T=x[0],R!=w&&(T=T*jo+(x[1]||0)),d=T/A|0,d>1?(d>=jo&&(d=jo-1),u=e(V,d),p=u.length,w=x.length,s=t(u,x,p,w),s==1&&(d--,n(u,R<p?L:V,p))):(d==0&&(s=d=1),u=V.slice()),p=u.length,p<w&&u.unshift(0),n(x,u,w),s==-1&&(w=x.length,s=t(V,x,R,w),s<1&&(d++,n(x,R<w?L:V,w))),w=x.length):s===0&&(d++,x=[0]),v[c++]=d,s&&x[0]?x[w++]=W[I]||0:(x=[W[I]],w=1);while((I++<M||x[0]!==void 0)&&k--)}return v[0]||v.shift(),m.e=l,qr(m,a?o+uo(m)+1:o)}})();function Qye(e,t){var n,r,i,o,a,s,l=0,c=0,d=e.constructor,u=d.precision;if(uo(e)>16)throw Error($U+uo(e));if(!e.s)return new d(kl);for(xi=!1,s=u,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(r=Math.log(Kg(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new d(kl),d.precision=s;;){if(i=qr(i.times(e),s),n=n.times(++l),a=o.plus(qf(i,n,s)),yd(a.d).slice(0,s)===yd(o.d).slice(0,s)){for(;c--;)o=qr(o.times(o),s);return d.precision=u,t==null?(xi=!0,qr(o,u)):o}o=a}}function uo(e){for(var t=e.e*di,n=e.d[0];n>=10;n/=10)t++;return t}function Y5(e,t,n){if(t>e.LN10.sd())throw xi=!0,n&&(e.precision=n),Error(Cc+"LN10 precision limit exceeded");return qr(new e(e.LN10),t)}function Cp(e){for(var t="";e--;)t+="0";return t}function zC(e,t){var n,r,i,o,a,s,l,c,d,u=1,p=10,m=e,v=m.d,x=m.constructor,w=x.precision;if(m.s<1)throw Error(Cc+(m.s?"NaN":"-Infinity"));if(m.eq(kl))return new x(0);if(t==null?(xi=!1,c=w):c=t,m.eq(10))return t==null&&(xi=!0),Y5(x,c);if(c+=p,x.precision=c,n=yd(v),r=n.charAt(0),o=uo(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=yd(m.d),r=n.charAt(0),u++;o=uo(m),r>1?(m=new x("0."+n),o++):m=new x(r+"."+n.slice(1))}else return l=Y5(x,c+2,w).times(o+""),m=zC(new x(r+"."+n.slice(1)),c-p).plus(l),x.precision=w,t==null?(xi=!0,qr(m,w)):m;for(s=a=m=qf(m.minus(kl),m.plus(kl),c),d=qr(m.times(m),c),i=3;;){if(a=qr(a.times(d),c),l=s.plus(qf(a,new x(i),c)),yd(l.d).slice(0,c)===yd(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Y5(x,c+2,w).times(o+""))),s=qf(s,new x(u),c),x.precision=w,t==null?(xi=!0,qr(s,w)):s;s=l,i+=2}}function Nee(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=kx(n/di),e.d=[],r=(n+1)%di,n<0&&(r+=di),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=di;r<i;)e.d.push(+t.slice(r,r+=di));t=t.slice(r),r=di-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),xi&&(e.e>xM||e.e<-xM))throw Error($U+n)}else e.s=0,e.e=0,e.d=[0];return e}function qr(e,t,n){var r,i,o,a,s,l,c,d,u=e.d;for(a=1,o=u[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=di,i=t,c=u[d=0];else{if(d=Math.ceil((r+1)/di),o=u.length,d>=o)return e;for(c=o=u[d],a=1;o>=10;o/=10)a++;r%=di,i=r-di+a}if(n!==void 0&&(o=Kg(10,a-i-1),s=c/o%10|0,l=t<0||u[d+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Kg(10,a-i):0:u[d-1])%10&1||n==(e.s<0?8:7))),t<1||!u[0])return l?(o=uo(e),u.length=1,t=t-o-1,u[0]=Kg(10,(di-t%di)%di),e.e=kx(-t/di)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(r==0?(u.length=d,o=1,d--):(u.length=d+1,o=Kg(10,di-r),u[d]=i>0?(c/Kg(10,a-i)%Kg(10,i)|0)*o:0),l)for(;;)if(d==0){(u[0]+=o)==jo&&(u[0]=1,++e.e);break}else{if(u[d]+=o,u[d]!=jo)break;u[d--]=0,o=1}for(r=u.length;u[--r]===0;)u.pop();if(xi&&(e.e>xM||e.e<-xM))throw Error($U+uo(e));return e}function Jye(e,t){var n,r,i,o,a,s,l,c,d,u,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),xi?qr(t,m):t;if(l=e.d,u=t.d,r=t.e,c=e.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,s=u.length):(n=u,r=c,s=l.length),i=Math.max(Math.ceil(m/di),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=u.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=u[i]){d=l[i]<u[i];break}a=0}for(d&&(n=l,l=u,u=n,t.s=-t.s),s=l.length,i=u.length-s;i>0;--i)l[s++]=0;for(i=u.length;i>a;){if(l[--i]<u[i]){for(o=i;o&&l[--o]===0;)l[o]=jo-1;--l[o],l[i]+=jo}l[i]-=u[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,xi?qr(t,m):t):new p(0)}function G0(e,t,n){var r,i=uo(e),o=yd(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Cp(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Cp(-i-1)+o,n&&(r=n-a)>0&&(o+=Cp(r))):i>=a?(o+=Cp(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Cp(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Cp(r))),e.s<0?"-"+o:o}function Oee(e,t){if(e.length>t)return e.length=t,!0}function ebe(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(S0+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return Nee(a,o.toString())}else if(typeof o!="string")throw Error(S0+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Qpt.test(o))Nee(a,o);else throw Error(S0+o)}if(i.prototype=Et,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ebe,i.config=i.set=Jpt,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Jpt(e){if(!e||typeof e!="object")throw Error(Cc+"Object expected");var t,n,r,i=["precision",1,Tx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(kx(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(S0+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(S0+n+": "+r);return this}var HU=ebe(Zpt);kl=new HU(1);const jr=HU;function emt(e){return imt(e)||rmt(e)||nmt(e)||tmt()}function tmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nmt(e,t){if(e){if(typeof e=="string")return m$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m$(e,t)}}function rmt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function imt(e){if(Array.isArray(e))return m$(e)}function m$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var omt=function(t){return t},tbe={},nbe=function(t){return t===tbe},Mee=function(t){return function n(){return arguments.length===0||arguments.length===1&&nbe(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},amt=function e(t,n){return t===1?n:Mee(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==tbe}).length;return a>=t?n.apply(void 0,i):e(t-a,Mee(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(u){return nbe(u)?l.shift():u});return n.apply(void 0,emt(d).concat(l))}))})},GR=function(t){return amt(t.length,t)},g$=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},smt=GR(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),lmt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return omt;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},y$=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},rbe=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=t.apply(void 0,o)),r}};function cmt(e){var t;return e===0?t=1:t=Math.floor(new jr(e).abs().log(10).toNumber())+1,t}function umt(e,t,n){for(var r=new jr(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var dmt=GR(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),fmt=GR(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),hmt=GR(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const KR={rangeStep:umt,getDigitCount:cmt,interpolateNumber:dmt,uninterpolateNumber:fmt,uninterpolateTruncation:hmt};function b$(e){return gmt(e)||mmt(e)||ibe(e)||pmt()}function pmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mmt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gmt(e){if(Array.isArray(e))return v$(e)}function VC(e,t){return vmt(e)||bmt(e,t)||ibe(e,t)||ymt()}function ymt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ibe(e,t){if(e){if(typeof e=="string")return v$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v$(e,t)}}function v$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bmt(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function vmt(e){if(Array.isArray(e))return e}function obe(e){var t=VC(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function abe(e,t,n){if(e.lte(0))return new jr(0);var r=KR.getDigitCount(e.toNumber()),i=new jr(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new jr(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?l:new jr(Math.ceil(l))}function xmt(e,t,n){var r=1,i=new jr(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new jr(10).pow(KR.getDigitCount(e)-1),i=new jr(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new jr(Math.floor(e)))}else e===0?i=new jr(Math.floor((t-1)/2)):n||(i=new jr(Math.floor(e)));var a=Math.floor((t-1)/2),s=lmt(smt(function(l){return i.add(new jr(l-a).mul(r)).toNumber()}),g$);return s(0,t)}function sbe(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new jr(0),tickMin:new jr(0),tickMax:new jr(0)};var o=abe(new jr(t).sub(e).div(n-1),r,i),a;e<=0&&t>=0?a=new jr(0):(a=new jr(e).add(t).div(2),a=a.sub(new jr(a).mod(o)));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new jr(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?sbe(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new jr(s).mul(o)),tickMax:a.add(new jr(l).mul(o))})}function wmt(e){var t=VC(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=obe([n,r]),l=VC(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var u=d===1/0?[c].concat(b$(g$(0,i-1).map(function(){return 1/0}))):[].concat(b$(g$(0,i-1).map(function(){return-1/0})),[d]);return n>r?y$(u):u}if(c===d)return xmt(c,i,o);var p=sbe(c,d,a,o),m=p.step,v=p.tickMin,x=p.tickMax,w=KR.rangeStep(v,x.add(new jr(.1).mul(m)),m);return n>r?y$(w):w}function Emt(e,t){var n=VC(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=obe([r,i]),s=VC(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(t,2),u=abe(new jr(c).sub(l).div(d-1),o,0),p=[].concat(b$(KR.rangeStep(new jr(l),new jr(c).sub(new jr(.99).mul(u)),u)),[c]);return r>i?y$(p):p}var Smt=rbe(wmt),Cmt=rbe(Emt),Tmt="Invariant failed";function K0(e,t){throw new Error(Tmt)}var kmt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}function wM(){return wM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wM.apply(this,arguments)}function _mt(e,t){return Mmt(e)||Omt(e,t)||Nmt(e,t)||Amt()}function Amt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nmt(e,t){if(e){if(typeof e=="string")return Dee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dee(e,t)}}function Dee(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Omt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Mmt(e){if(Array.isArray(e))return e}function Dmt(e,t){if(e==null)return{};var n=Rmt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rmt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Imt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pmt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ube(r.key),r)}}function Lmt(e,t,n){return t&&Pmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jmt(e,t,n){return t=EM(t),Bmt(e,lbe()?Reflect.construct(t,n||[],EM(e).constructor):t.apply(e,n))}function Bmt(e,t){if(t&&(R1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $mt(e)}function $mt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lbe=function(){return!!e})()}function EM(e){return EM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},EM(e)}function Hmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x$(e,t)}function x$(e,t){return x$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x$(e,t)}function cbe(e,t,n){return t=ube(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ube(e){var t=Fmt(e,"string");return R1(t)=="symbol"?t:t+""}function Fmt(e,t){if(R1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(R1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mk=(function(e){function t(){return Imt(this,t),jmt(this,t,arguments)}return Hmt(t,e),Lmt(t,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,u=r.yAxis,p=Dmt(r,kmt),m=Jn(p,!1);this.props.direction==="x"&&d.type!=="number"&&K0();var v=l.map(function(x){var w=c(x,s),T=w.x,k=w.y,N=w.value,I=w.errorVal;if(!I)return null;var M=[],A,R;if(Array.isArray(I)){var L=_mt(I,2);A=L[0],R=L[1]}else A=R=I;if(o==="vertical"){var B=d.scale,$=k+i,W=$+a,V=$-a,Y=B(N-A),U=B(N+R);M.push({x1:U,y1:W,x2:U,y2:V}),M.push({x1:Y,y1:$,x2:U,y2:$}),M.push({x1:Y,y1:W,x2:Y,y2:V})}else if(o==="horizontal"){var X=u.scale,q=T+i,ne=q-a,Z=q+a,oe=X(N-A),K=X(N+R);M.push({x1:ne,y1:K,x2:Z,y2:K}),M.push({x1:q,y1:oe,x2:q,y2:K}),M.push({x1:ne,y1:oe,x2:Z,y2:oe})}return F.createElement(Wi,wM({className:"recharts-errorBar",key:"bar-".concat(M.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),M.map(function(Q){return F.createElement("line",wM({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return F.createElement(Wi,{className:"recharts-errorBars"},v)}}])})(F.Component);cbe(mk,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cbe(mk,"displayName","ErrorBar");function qC(e){"@babel/helpers - typeof";return qC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qC(e)}function Ree(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ree(Object(n),!0).forEach(function(r){Umt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ree(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Umt(e,t,n){return t=zmt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zmt(e){var t=Vmt(e,"string");return qC(t)=="symbol"?t:t+""}function Vmt(e,t){if(qC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dbe=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,a=vl(n,w0);if(!a)return null;var s=w0.defaultProps,l=s!==void 0?Wg(Wg({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(d,u){var p=u.item,m=u.props,v=m.sectors||m.data||[];return d.concat(v.map(function(x){return{type:a.props.iconType||p.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(d){var u=d.item,p=u.type.defaultProps,m=p!==void 0?Wg(Wg({},p),u.props):{},v=m.dataKey,x=m.name,w=m.legendType,T=m.hide;return{inactive:T,dataKey:v,type:l.iconType||w||"square",color:FU(u),value:x||v,payload:m}}),Wg(Wg(Wg({},l),w0.getWithHeight(a,i)),{},{payload:c,item:a})};function WC(e){"@babel/helpers - typeof";return WC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WC(e)}function Iee(e){return Gmt(e)||Ymt(e)||Wmt(e)||qmt()}function qmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wmt(e,t){if(e){if(typeof e=="string")return w$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w$(e,t)}}function Ymt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gmt(e){if(Array.isArray(e))return w$(e)}function w$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pee(Object(n),!0).forEach(function(r){Zv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zv(e,t,n){return t=Kmt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kmt(e){var t=Xmt(e,"string");return WC(t)=="symbol"?t:t+""}function Xmt(e,t){if(WC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(WC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Il(e,t,n){return qn(e)||qn(t)?n:ko(t)?gc(e,t,n):Rn(t)?t(e):n}function US(e,t,n,r){var i=Gpt(e,function(s){return Il(s,t)});if(n==="number"){var o=i.filter(function(s){return dt(s)||parseFloat(s)});return o.length?[WR(o),qR(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!qn(s)}):i;return a.map(function(s){return ko(s)||s instanceof Date?s:""})}var Zmt=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r?.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,u=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(uu(u-d)!==uu(p-u)){var v=[];if(uu(p-u)===uu(l[1]-l[0])){m=p;var x=u+l[1]-l[0];v[0]=Math.min(x,(x+d)/2),v[1]=Math.max(x,(x+d)/2)}else{m=d;var w=p+l[1]-l[0];v[0]=Math.min(u,(w+u)/2),v[1]=Math.max(u,(w+u)/2)}var T=[Math.min(u,(m+u)/2),Math.max(u,(m+u)/2)];if(t>T[0]&&t<=T[1]||t>=v[0]&&t<=v[1]){a=i[c].index;break}}else{var k=Math.min(d,p),N=Math.max(d,p);if(t>(k+u)/2&&t<=(N+u)/2){a=i[c].index;break}}}else for(var I=0;I<s;I++)if(I===0&&t<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<s-1&&t>(r[I].coordinate+r[I-1].coordinate)/2&&t<=(r[I].coordinate+r[I+1].coordinate)/2||I===s-1&&t>(r[I].coordinate+r[I-1].coordinate)/2){a=r[I].index;break}return a},FU=function(t){var n,r=t,i=r.type.displayName,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Qmt=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var d=o[s[l]].stackGroups,u=Object.keys(d),p=0,m=u.length;p<m;p++){var v=d[u[p]],x=v.items,w=v.cateAxisId,T=x.filter(function(R){return zf(R.type).indexOf("Bar")>=0});if(T&&T.length){var k=T[0].type.defaultProps,N=k!==void 0?Pi(Pi({},k),T[0].props):T[0].props,I=N.barSize,M=N[w];a[M]||(a[M]=[]);var A=qn(I)?n:I;a[M].push({item:T[0],stackList:T.slice(1),barSize:qn(A)?void 0:Y0(A,r,0)})}}return a},Jmt=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,a=o===void 0?[]:o,s=t.maxBarSize,l=a.length;if(l<1)return null;var c=Y0(n,i,0,!0),d,u=[];if(a[0].barSize===+a[0].barSize){var p=!1,m=i/l,v=a.reduce(function(I,M){return I+M.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&m>0&&(p=!0,m*=.9,v=l*m);var x=(i-v)/2>>0,w={offset:x-c,size:0};d=a.reduce(function(I,M){var A={item:M.item,position:{offset:w.offset+w.size+c,size:p?m:M.barSize}},R=[].concat(Iee(I),[A]);return w=R[R.length-1].position,M.stackList&&M.stackList.length&&M.stackList.forEach(function(L){R.push({item:L,position:w})}),R},u)}else{var T=Y0(r,i,0,!0);i-2*T-(l-1)*c<=0&&(c=0);var k=(i-2*T-(l-1)*c)/l;k>1&&(k>>=0);var N=s===+s?Math.min(k,s):k;d=a.reduce(function(I,M,A){var R=[].concat(Iee(I),[{item:M.item,position:{offset:T+(k+c)*A+(k-N)/2,size:N}}]);return M.stackList&&M.stackList.length&&M.stackList.forEach(function(L){R.push({item:L,position:R[R.length-1].position})}),R},u)}return d},egt=function(t,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=dbe({children:o,legendWidth:l});if(c){var d=i||{},u=d.width,p=d.height,m=c.align,v=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&m!=="center"&&dt(t[m]))return Pi(Pi({},t),{},Zv({},m,t[m]+(u||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&v!=="middle"&&dt(t[v]))return Pi(Pi({},t),{},Zv({},v,t[v]+(p||0)))}return t},tgt=function(t,n,r){return qn(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},fbe=function(t,n,r,i,o){var a=n.props.children,s=yc(a,mk).filter(function(c){return tgt(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var u=Il(d,r);if(qn(u))return c;var p=Array.isArray(u)?[WR(u),qR(u)]:[u,u],m=l.reduce(function(v,x){var w=Il(d,x,0),T=p[0]-Math.abs(Array.isArray(w)?w[0]:w),k=p[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(T,v[0]),Math.max(k,v[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},ngt=function(t,n,r,i,o){var a=n.map(function(s){return fbe(t,s,r,o,i)}).filter(function(s){return!qn(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},hbe=function(t,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&fbe(t,l,c,i)||US(t,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var d=0,u=c.length;d<u;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},pbe=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},mbe=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var o,a,s=t.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},If=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,a=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&s?.length>=2?uu(s[0]-s[1])*2*c:c,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(u){var p=o?o.indexOf(u):u;return{coordinate:i(p)+c,value:u,offset:c}});return d.filter(function(u){return!lk(u.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(u,p){return{coordinate:i(u)+c,value:u,index:p,offset:c}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(u){return{coordinate:i(u)+c,value:u,offset:c}}):i.domain().map(function(u,p){return{coordinate:i(u)+c,value:o?o[u]:u,index:p,offset:c}})},G5=new WeakMap,DA=function(t,n){if(typeof n!="function")return t;G5.has(t)||G5.set(t,new WeakMap);var r=G5.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},rgt=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:BC(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:gM(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:FS(),realScaleType:"point"}:o==="category"?{scale:BC(),realScaleType:"band"}:{scale:gM(),realScaleType:"linear"};if(W0(i)){var l="scale".concat(DR(i));return{scale:(xee[l]||FS)(),realScaleType:xee[l]?l:"point"}}return Rn(i)?{scale:i}:{scale:FS(),realScaleType:"point"}},Lee=1e-4,igt=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-Lee,a=Math.max(i[0],i[1])+Lee,s=t(n[0]),l=t(n[r-1]);(s<o||s>a||l<o||l>a)&&t.domain([n[0],n[r-1]])}},ogt=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},agt=function(t,n){if(!n||n.length!==2||!dt(n[0])||!dt(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!dt(t[0])||t[0]<r)&&(o[0]=r),(!dt(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},sgt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=lk(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1])}},lgt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=lk(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=o,t[a][r][1]=o+s,o=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},cgt={sign:sgt,expand:qlt,none:T1,silhouette:Wlt,wiggle:Ylt,positive:lgt},ugt=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),o=cgt[r],a=Vlt().keys(i).value(function(s,l){return+Il(s,l,0)}).order(Z8).offset(o);return a(t)},dgt=function(t,n,r,i,o,a){if(!t)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(u,p){var m,v=(m=p.type)!==null&&m!==void 0&&m.defaultProps?Pi(Pi({},p.type.defaultProps),p.props):p.props,x=v.stackId,w=v.hide;if(w)return u;var T=v[r],k=u[T]||{hasStack:!1,stackGroups:{}};if(ko(x)){var N=k.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};N.items.push(p),k.hasStack=!0,k.stackGroups[x]=N}else k.stackGroups[ck("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Pi(Pi({},u),{},Zv({},T,k))},l),d={};return Object.keys(c).reduce(function(u,p){var m=c[p];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,w){var T=m.stackGroups[w];return Pi(Pi({},x),{},Zv({},w,{numericAxisId:r,cateAxisId:i,items:T.items,stackedData:ugt(t,T.items,o)}))},v)}return Pi(Pi({},u),{},Zv({},p,m))},d)},fgt=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=Smt(c,o,s);return t.domain([WR(d),qR(d)]),{niceTicks:d}}if(o&&i==="number"){var u=t.domain(),p=Cmt(u,o,s);return{niceTicks:p}}return null};function jee(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qn(i[t.dataKey])){var s=XO(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Il(i,qn(a)?t.dataKey:a);return qn(l)?null:t.scale(l)}var Bee=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,a=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Il(a,n.dataKey,n.domain[s]);return qn(l)?null:n.scale(l)-o/2+i},hgt=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},pgt=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(ko(o)){var a=n[o];if(a){var s=a.items.indexOf(t);return s>=0?a.stackedData[s]:null}}return null},mgt=function(t){return t.reduce(function(n,r){return[WR(r.concat([n[0]]).filter(dt)),qR(r.concat([n[1]]).filter(dt))]},[1/0,-1/0])},gbe=function(t,n,r){return Object.keys(t).reduce(function(i,o){var a=t[o],s=a.stackedData,l=s.reduce(function(c,d){var u=mgt(d.slice(n,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},$ee=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hee=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,E$=function(t,n,r){if(Rn(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(dt(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if($ee.test(t[0])){var o=+$ee.exec(t[0])[1];i[0]=n[0]-o}else Rn(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(dt(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(Hee.test(t[1])){var a=+Hee.exec(t[1])[1];i[1]=n[1]+a}else Rn(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},SM=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=mU(n,function(u){return u.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],d=o[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},Fee=function(t,n,r){return!t||!t.length||YR(t,gc(r,"type.defaultProps.domain"))?n:t},ybe=function(t,n){var r=t.type.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Pi(Pi({},Jn(t,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:FU(t),value:Il(n,i),type:l,payload:n,chartType:c,hide:d})};function YC(e){"@babel/helpers - typeof";return YC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YC(e)}function Uee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uee(Object(n),!0).forEach(function(r){ggt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ggt(e,t,n){return t=ygt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ygt(e){var t=bgt(e,"string");return YC(t)=="symbol"?t:t+""}function bgt(e,t){if(YC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(YC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CM=Math.PI/180,vgt=function(t){return t*180/Math.PI},ta=function(t,n,r,i){return{x:t+Math.cos(-CM*i)*r,y:n+Math.sin(-CM*i)*r}},xgt=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},wgt=function(t,n){var r=t.x,i=t.y,o=n.cx,a=n.cy,s=xgt({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:vgt(c),angleInRadian:c}},Egt=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Sgt=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return t+s*360},Vee=function(t,n){var r=t.x,i=t.y,o=wgt({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=Egt(n),u=d.startAngle,p=d.endAngle,m=s,v;if(u<=p){for(;m>p;)m-=360;for(;m<u;)m+=360;v=m>=u&&m<=p}else{for(;m>u;)m-=360;for(;m<p;)m+=360;v=m>=p&&m<=u}return v?zee(zee({},n),{},{radius:a,angle:Sgt(m,n)}):null};function GC(e){"@babel/helpers - typeof";return GC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GC(e)}var Cgt=["offset"];function Tgt(e){return Ngt(e)||Agt(e)||_gt(e)||kgt()}function kgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _gt(e,t){if(e){if(typeof e=="string")return S$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S$(e,t)}}function Agt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ngt(e){if(Array.isArray(e))return S$(e)}function S$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ogt(e,t){if(e==null)return{};var n=Mgt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mgt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function qee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qee(Object(n),!0).forEach(function(r){Dgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dgt(e,t,n){return t=Rgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rgt(e){var t=Igt(e,"string");return GC(t)=="symbol"?t:t+""}function Igt(e,t){if(GC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(GC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KC(){return KC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KC.apply(this,arguments)}var Pgt=function(t){var n=t.value,r=t.formatter,i=qn(t.children)?n:t.children;return Rn(r)?r(i):i},Lgt=function(t,n){var r=uu(n-t),i=Math.min(Math.abs(n-t),360);return r*i},jgt=function(t,n,r){var i=t.position,o=t.viewBox,a=t.offset,s=t.className,l=o,c=l.cx,d=l.cy,u=l.innerRadius,p=l.outerRadius,m=l.startAngle,v=l.endAngle,x=l.clockWise,w=(u+p)/2,T=Lgt(m,v),k=T>=0?1:-1,N,I;i==="insideStart"?(N=m+k*a,I=x):i==="insideEnd"?(N=v-k*a,I=!x):i==="end"&&(N=v+k*a,I=x),I=T<=0?I:!I;var M=ta(c,d,w,N),A=ta(c,d,w,N+(I?1:-1)*359),R="M".concat(M.x,",").concat(M.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(I?0:1,`,
    `).concat(A.x,",").concat(A.y),L=qn(t.id)?ck("recharts-radial-line-"):t.id;return F.createElement("text",KC({},r,{dominantBaseline:"central",className:Xn("recharts-radial-bar-label",s)}),F.createElement("defs",null,F.createElement("path",{id:L,d:R})),F.createElement("textPath",{xlinkHref:"#".concat(L)},n))},Bgt=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,u=o.endAngle,p=(d+u)/2;if(i==="outside"){var m=ta(a,s,c+r,p),v=m.x,x=m.y;return{x:v,y:x,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,T=ta(a,s,w,p),k=T.x,N=T.y;return{x:k,y:N,textAnchor:"middle",verticalAnchor:"middle"}},$gt=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,a=n,s=a.x,l=a.y,c=a.width,d=a.height,u=d>=0?1:-1,p=u*i,m=u>0?"end":"start",v=u>0?"start":"end",x=c>=0?1:-1,w=x*i,T=x>0?"end":"start",k=x>0?"start":"end";if(o==="top"){var N={x:s+c/2,y:l-u*i,textAnchor:"middle",verticalAnchor:m};return So(So({},N),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var I={x:s+c/2,y:l+d+p,textAnchor:"middle",verticalAnchor:v};return So(So({},I),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(o==="left"){var M={x:s-w,y:l+d/2,textAnchor:T,verticalAnchor:"middle"};return So(So({},M),r?{width:Math.max(M.x-r.x,0),height:d}:{})}if(o==="right"){var A={x:s+c+w,y:l+d/2,textAnchor:k,verticalAnchor:"middle"};return So(So({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:d}:{})}var R=r?{width:c,height:d}:{};return o==="insideLeft"?So({x:s+w,y:l+d/2,textAnchor:k,verticalAnchor:"middle"},R):o==="insideRight"?So({x:s+c-w,y:l+d/2,textAnchor:T,verticalAnchor:"middle"},R):o==="insideTop"?So({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:v},R):o==="insideBottom"?So({x:s+c/2,y:l+d-p,textAnchor:"middle",verticalAnchor:m},R):o==="insideTopLeft"?So({x:s+w,y:l+p,textAnchor:k,verticalAnchor:v},R):o==="insideTopRight"?So({x:s+c-w,y:l+p,textAnchor:T,verticalAnchor:v},R):o==="insideBottomLeft"?So({x:s+w,y:l+d-p,textAnchor:k,verticalAnchor:m},R):o==="insideBottomRight"?So({x:s+c-w,y:l+d-p,textAnchor:T,verticalAnchor:m},R):wx(o)&&(dt(o.x)||o0(o.x))&&(dt(o.y)||o0(o.y))?So({x:s+Y0(o.x,c),y:l+Y0(o.y,d),textAnchor:"end",verticalAnchor:"end"},R):So({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Hgt=function(t){return"cx"in t&&dt(t.cx)};function xa(e){var t=e.offset,n=t===void 0?5:t,r=Ogt(e,Cgt),i=So({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,d=i.className,u=d===void 0?"":d,p=i.textBreakAll;if(!o||qn(s)&&qn(l)&&!C.isValidElement(c)&&!Rn(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var m;if(Rn(c)){if(m=C.createElement(c,i),C.isValidElement(m))return m}else m=Pgt(i);var v=Hgt(o),x=Jn(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return jgt(i,m,x);var w=v?Bgt(i):$gt(i);return F.createElement(cM,KC({className:Xn("recharts-label",u)},x,w,{breakAll:p}),m)}xa.displayName="Label";var bbe=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,a=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,d=t.outerRadius,u=t.x,p=t.y,m=t.top,v=t.left,x=t.width,w=t.height,T=t.clockWise,k=t.labelViewBox;if(k)return k;if(dt(x)&&dt(w)){if(dt(u)&&dt(p))return{x:u,y:p,width:x,height:w};if(dt(m)&&dt(v))return{x:m,y:v,width:x,height:w}}return dt(u)&&dt(p)?{x:u,y:p,width:0,height:0}:dt(n)&&dt(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:T}:t.viewBox?t.viewBox:{}},Fgt=function(t,n){return t?t===!0?F.createElement(xa,{key:"label-implicit",viewBox:n}):ko(t)?F.createElement(xa,{key:"label-implicit",viewBox:n,value:t}):C.isValidElement(t)?t.type===xa?C.cloneElement(t,{key:"label-implicit",viewBox:n}):F.createElement(xa,{key:"label-implicit",content:t,viewBox:n}):Rn(t)?F.createElement(xa,{key:"label-implicit",content:t,viewBox:n}):wx(t)?F.createElement(xa,KC({viewBox:n},t,{key:"label-implicit"})):null:null},Ugt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=bbe(t),a=yc(i,xa).map(function(l,c){return C.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=Fgt(t.label,n||o);return[s].concat(Tgt(a))};xa.parseViewBox=bbe;xa.renderCallByParent=Ugt;var K5,Wee;function zgt(){if(Wee)return K5;Wee=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return K5=e,K5}var Vgt=zgt();const qgt=vr(Vgt);function XC(e){"@babel/helpers - typeof";return XC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XC(e)}var Wgt=["valueAccessor"],Ygt=["data","dataKey","clockWise","id","textBreakAll"];function Ggt(e){return Qgt(e)||Zgt(e)||Xgt(e)||Kgt()}function Kgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xgt(e,t){if(e){if(typeof e=="string")return C$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C$(e,t)}}function Zgt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qgt(e){if(Array.isArray(e))return C$(e)}function C$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TM(){return TM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TM.apply(this,arguments)}function Yee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yee(Object(n),!0).forEach(function(r){Jgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jgt(e,t,n){return t=e0t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e0t(e){var t=t0t(e,"string");return XC(t)=="symbol"?t:t+""}function t0t(e,t){if(XC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(XC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kee(e,t){if(e==null)return{};var n=n0t(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function n0t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var r0t=function(t){return Array.isArray(t.value)?qgt(t.value):t.value};function Kp(e){var t=e.valueAccessor,n=t===void 0?r0t:t,r=Kee(e,Wgt),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=Kee(r,Ygt);return!i||!i.length?null:F.createElement(Wi,{className:"recharts-label-list"},i.map(function(d,u){var p=qn(o)?n(d,u):Il(d&&d.payload,o),m=qn(s)?{}:{id:"".concat(s,"-").concat(u)};return F.createElement(xa,TM({},Jn(d,!0),c,m,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:xa.parseViewBox(qn(a)?d:Gee(Gee({},d),{},{clockWise:a})),key:"label-".concat(u),index:u}))}))}Kp.displayName="LabelList";function i0t(e,t){return e?e===!0?F.createElement(Kp,{key:"labelList-implicit",data:t}):F.isValidElement(e)||Rn(e)?F.createElement(Kp,{key:"labelList-implicit",data:t,content:e}):wx(e)?F.createElement(Kp,TM({data:t},e,{key:"labelList-implicit"})):null:null}function o0t(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=yc(r,Kp).map(function(a,s){return C.cloneElement(a,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var o=i0t(e.label,t);return[o].concat(Ggt(i))}Kp.renderCallByParent=o0t;function ZC(e){"@babel/helpers - typeof";return ZC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZC(e)}function T$(){return T$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T$.apply(this,arguments)}function Xee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xee(Object(n),!0).forEach(function(r){a0t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a0t(e,t,n){return t=s0t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s0t(e){var t=l0t(e,"string");return ZC(t)=="symbol"?t:t+""}function l0t(e,t){if(ZC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ZC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c0t=function(t,n){var r=uu(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},RA=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,a=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,d=l*(s?1:-1)+i,u=Math.asin(l/d)/CM,p=c?o:o+a*u,m=ta(n,r,d,p),v=ta(n,r,i,p),x=c?o-a*u:o,w=ta(n,r,d*Math.cos(u*CM),x);return{center:m,circleTangency:v,lineTangency:w,theta:u}},vbe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.startAngle,s=t.endAngle,l=c0t(a,s),c=a+l,d=ta(n,r,o,a),u=ta(n,r,o,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(i>0){var m=ta(n,r,i,a),v=ta(n,r,i,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},u0t=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,u=uu(d-c),p=RA({cx:n,cy:r,radius:o,angle:c,sign:u,cornerRadius:a,cornerIsExternal:l}),m=p.circleTangency,v=p.lineTangency,x=p.theta,w=RA({cx:n,cy:r,radius:o,angle:d,sign:-u,cornerRadius:a,cornerIsExternal:l}),T=w.circleTangency,k=w.lineTangency,N=w.theta,I=l?Math.abs(c-d):Math.abs(c-d)-x-N;if(I<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):vbe({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var M="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(I>180),",").concat(+(u<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var A=RA({cx:n,cy:r,radius:i,angle:c,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=A.circleTangency,L=A.lineTangency,B=A.theta,$=RA({cx:n,cy:r,radius:i,angle:d,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),W=$.circleTangency,V=$.lineTangency,Y=$.theta,U=l?Math.abs(c-d):Math.abs(c-d)-B-Y;if(U<0&&a===0)return"".concat(M,"L").concat(n,",").concat(r,"Z");M+="L".concat(V.x,",").concat(V.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(W.x,",").concat(W.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(u>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(L.x,",").concat(L.y,"Z")}else M+="L".concat(n,",").concat(r,"Z");return M},d0t={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xbe=function(t){var n=Zee(Zee({},d0t),t),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,u=n.endAngle,p=n.className;if(a<o||d===u)return null;var m=Xn("recharts-sector",p),v=a-o,x=Y0(s,v,0,!0),w;return x>0&&Math.abs(d-u)<360?w=u0t({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):w=vbe({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:u}),F.createElement("path",T$({},Jn(n,!0),{className:m,d:w,role:"img"}))};function QC(e){"@babel/helpers - typeof";return QC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QC(e)}function k$(){return k$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k$.apply(this,arguments)}function Qee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qee(Object(n),!0).forEach(function(r){f0t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f0t(e,t,n){return t=h0t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h0t(e){var t=p0t(e,"string");return QC(t)=="symbol"?t:t+""}function p0t(e,t){if(QC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(QC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ete={curveBasisClosed:Rlt,curveBasisOpen:Ilt,curveBasis:Dlt,curveBumpX:blt,curveBumpY:vlt,curveLinearClosed:Plt,curveLinear:IR,curveMonotoneX:Llt,curveMonotoneY:jlt,curveNatural:Blt,curveStep:$lt,curveStepAfter:Flt,curveStepBefore:Hlt},IA=function(t){return t.x===+t.x&&t.y===+t.y},XE=function(t){return t.x},ZE=function(t){return t.y},m0t=function(t,n){if(Rn(t))return t;var r="curve".concat(DR(t));return(r==="curveMonotone"||r==="curveBump")&&n?ete["".concat(r).concat(n==="vertical"?"Y":"X")]:ete[r]||IR},g0t=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,d=m0t(r,s),u=c?o.filter(function(x){return IA(x)}):o,p;if(Array.isArray(a)){var m=c?a.filter(function(x){return IA(x)}):a,v=u.map(function(x,w){return Jee(Jee({},x),{},{base:m[w]})});return s==="vertical"?p=TA().y(ZE).x1(XE).x0(function(x){return x.base.x}):p=TA().x(XE).y1(ZE).y0(function(x){return x.base.y}),p.defined(IA).curve(d),p(v)}return s==="vertical"&&dt(a)?p=TA().y(ZE).x1(XE).x0(a):dt(a)?p=TA().x(XE).y1(ZE).y0(a):p=C0e().x(XE).y(ZE),p.defined(IA).curve(d),p(u)},_$=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?g0t(t):i;return C.createElement("path",k$({},Jn(t,!1),ZO(t),{className:Xn("recharts-curve",n),d:a,ref:o}))},X5={exports:{}},Z5,tte;function y0t(){if(tte)return Z5;tte=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Z5=e,Z5}var Q5,nte;function b0t(){if(nte)return Q5;nte=1;var e=y0t();function t(){}function n(){}return n.resetWarningCache=t,Q5=function(){function r(a,s,l,c,d,u){if(u!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},Q5}var rte;function v0t(){return rte||(rte=1,X5.exports=b0t()()),X5.exports}var x0t=v0t();const kr=vr(x0t);var w0t=Object.getOwnPropertyNames,E0t=Object.getOwnPropertySymbols,S0t=Object.prototype.hasOwnProperty;function ite(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function PA(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=e(n,r,i);return o.delete(n),o.delete(r),l}}function C0t(e){return e?.[Symbol.toStringTag]}function ote(e){return w0t(e).concat(E0t(e))}var T0t=Object.hasOwn||(function(e,t){return S0t.call(e,t)});function gy(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var k0t="__v",_0t="__o",A0t="_owner",ate=Object.getOwnPropertyDescriptor,ste=Object.keys;function N0t(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function O0t(e,t){return gy(e.getTime(),t.getTime())}function M0t(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function D0t(e,t){return e===t}function lte(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),d=!1,u=0;(s=c.next())&&!s.done;){if(i[u]){u++;continue}var p=a.value,m=s.value;if(n.equals(p[0],m[0],l,u,e,t,n)&&n.equals(p[1],m[1],p[0],m[0],e,t,n)){d=i[u]=!0;break}u++}if(!d)return!1;l++}return!0}var R0t=gy;function I0t(e,t,n){var r=ste(e),i=r.length;if(ste(t).length!==i)return!1;for(;i-- >0;)if(!wbe(e,t,n,r[i]))return!1;return!0}function QE(e,t,n){var r=ote(e),i=r.length;if(ote(t).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!wbe(e,t,n,o)||(a=ate(e,o),s=ate(t,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function P0t(e,t){return gy(e.valueOf(),t.valueOf())}function L0t(e,t){return e.source===t.source&&e.flags===t.flags}function cte(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.values(),a,s;(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function j0t(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function B0t(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function wbe(e,t,n,r){return(r===A0t||r===_0t||r===k0t)&&(e.$$typeof||t.$$typeof)?!0:T0t(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var $0t="[object Arguments]",H0t="[object Boolean]",F0t="[object Date]",U0t="[object Error]",z0t="[object Map]",V0t="[object Number]",q0t="[object Object]",W0t="[object RegExp]",Y0t="[object Set]",G0t="[object String]",K0t="[object URL]",X0t=Array.isArray,ute=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,dte=Object.assign,Z0t=Object.prototype.toString.call.bind(Object.prototype.toString);function Q0t(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,p=e.areUrlsEqual,m=e.unknownTagComparators;return function(x,w,T){if(x===w)return!0;if(x==null||w==null)return!1;var k=typeof x;if(k!==typeof w)return!1;if(k!=="object")return k==="number"?a(x,w,T):k==="function"?i(x,w,T):!1;var N=x.constructor;if(N!==w.constructor)return!1;if(N===Object)return s(x,w,T);if(X0t(x))return t(x,w,T);if(ute!=null&&ute(x))return u(x,w,T);if(N===Date)return n(x,w,T);if(N===RegExp)return c(x,w,T);if(N===Map)return o(x,w,T);if(N===Set)return d(x,w,T);var I=Z0t(x);if(I===F0t)return n(x,w,T);if(I===W0t)return c(x,w,T);if(I===z0t)return o(x,w,T);if(I===Y0t)return d(x,w,T);if(I===q0t)return typeof x.then!="function"&&typeof w.then!="function"&&s(x,w,T);if(I===K0t)return p(x,w,T);if(I===U0t)return r(x,w,T);if(I===$0t)return s(x,w,T);if(I===H0t||I===V0t||I===G0t)return l(x,w,T);if(m){var M=m[I];if(!M){var A=C0t(x);A&&(M=m[A])}if(M)return M(x,w,T)}return!1}}function J0t(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?QE:N0t,areDatesEqual:O0t,areErrorsEqual:M0t,areFunctionsEqual:D0t,areMapsEqual:r?ite(lte,QE):lte,areNumbersEqual:R0t,areObjectsEqual:r?QE:I0t,arePrimitiveWrappersEqual:P0t,areRegExpsEqual:L0t,areSetsEqual:r?ite(cte,QE):cte,areTypedArraysEqual:r?QE:j0t,areUrlsEqual:B0t,unknownTagComparators:void 0};if(n&&(i=dte({},i,n(i))),t){var o=PA(i.areArraysEqual),a=PA(i.areMapsEqual),s=PA(i.areObjectsEqual),l=PA(i.areSetsEqual);i=dte({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function eyt(e){return function(t,n,r,i,o,a,s){return e(t,n,s)}}function tyt(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(l,c){var d=r(),u=d.cache,p=u===void 0?t?new WeakMap:void 0:u,m=d.meta;return n(l,c,{cache:p,equals:i,meta:m,strict:o})};if(t)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,a)}}var nyt=Nm();Nm({strict:!0});Nm({circular:!0});Nm({circular:!0,strict:!0});Nm({createInternalComparator:function(){return gy}});Nm({strict:!0,createInternalComparator:function(){return gy}});Nm({circular:!0,createInternalComparator:function(){return gy}});Nm({circular:!0,createInternalComparator:function(){return gy},strict:!0});function Nm(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,a=o===void 0?!1:o,s=J0t(e),l=Q0t(s),c=r?r(l):eyt(l);return tyt({circular:n,comparator:l,createState:i,equals:c,strict:a})}function ryt(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function fte(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):ryt(i)};requestAnimationFrame(r)}function A$(e){"@babel/helpers - typeof";return A$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A$(e)}function iyt(e){return lyt(e)||syt(e)||ayt(e)||oyt()}function oyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ayt(e,t){if(e){if(typeof e=="string")return hte(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hte(e,t)}}function hte(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function syt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lyt(e){if(Array.isArray(e))return e}function cyt(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=iyt(a),l=s[0],c=s.slice(1);if(typeof l=="number"){fte(i.bind(null,c),l);return}i(l),fte(i.bind(null,c));return}A$(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function JC(e){"@babel/helpers - typeof";return JC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JC(e)}function pte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pte(Object(n),!0).forEach(function(r){Ebe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ebe(e,t,n){return t=uyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uyt(e){var t=dyt(e,"string");return JC(t)==="symbol"?t:String(t)}function dyt(e,t){if(JC(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(JC(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fyt=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},hyt=function(t){return t},pyt=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},zS=function(t,n){return Object.keys(n).reduce(function(r,i){return mte(mte({},r),{},Ebe({},i,t(i,n[i])))},{})},gte=function(t,n,r){return t.map(function(i){return"".concat(pyt(i)," ").concat(n,"ms ").concat(r)}).join(",")};function myt(e,t){return byt(e)||yyt(e,t)||Sbe(e,t)||gyt()}function gyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yyt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function byt(e){if(Array.isArray(e))return e}function vyt(e){return Eyt(e)||wyt(e)||Sbe(e)||xyt()}function xyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sbe(e,t){if(e){if(typeof e=="string")return N$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N$(e,t)}}function wyt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eyt(e){if(Array.isArray(e))return N$(e)}function N$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kM=1e-4,Cbe=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Tbe=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},yte=function(t,n){return function(r){var i=Cbe(t,n);return Tbe(i,r)}},Syt=function(t,n){return function(r){var i=Cbe(t,n),o=[].concat(vyt(i.map(function(a,s){return a*s}).slice(1)),[0]);return Tbe(o,r)}},bte=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=myt(c,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var u=yte(i,a),p=yte(o,s),m=Syt(i,a),v=function(T){return T>1?1:T<0?0:T},x=function(T){for(var k=T>1?1:T,N=k,I=0;I<8;++I){var M=u(N)-k,A=m(N);if(Math.abs(M-k)<kM||A<kM)return p(N);N=v(N-M/A)}return p(N)};return x.isStepper=!1,x},Cyt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,a=t.dt,s=a===void 0?17:a,l=function(d,u,p){var m=-(d-u)*r,v=p*o,x=p+(m-v)*s/1e3,w=p*s/1e3+d;return Math.abs(w-u)<kM&&Math.abs(x)<kM?[u,0]:[w,x]};return l.isStepper=!0,l.dt=s,l},Tyt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bte(i);case"spring":return Cyt();default:if(i.split("(")[0]==="cubic-bezier")return bte(i)}return typeof i=="function"?i:null};function eT(e){"@babel/helpers - typeof";return eT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eT(e)}function vte(e){return Ayt(e)||_yt(e)||kbe(e)||kyt()}function kyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _yt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ayt(e){if(Array.isArray(e))return M$(e)}function xte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xte(Object(n),!0).forEach(function(r){O$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O$(e,t,n){return t=Nyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nyt(e){var t=Oyt(e,"string");return eT(t)==="symbol"?t:String(t)}function Oyt(e,t){if(eT(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eT(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Myt(e,t){return Iyt(e)||Ryt(e,t)||kbe(e,t)||Dyt()}function Dyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kbe(e,t){if(e){if(typeof e=="string")return M$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M$(e,t)}}function M$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ryt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Iyt(e){if(Array.isArray(e))return e}var _M=function(t,n,r){return t+(n-t)*r},D$=function(t){var n=t.from,r=t.to;return n!==r},Pyt=function e(t,n,r){var i=zS(function(o,a){if(D$(a)){var s=t(a.from,a.to,a.velocity),l=Myt(s,2),c=l[0],d=l[1];return Xo(Xo({},a),{},{from:c,velocity:d})}return a},n);return r<1?zS(function(o,a){return D$(a)?Xo(Xo({},a),{},{velocity:_M(a.velocity,i[o].velocity,r),from:_M(a.from,i[o].from,r)}):a},n):e(t,i,r-1)};const Lyt=(function(e,t,n,r,i){var o=fyt(e,t),a=o.reduce(function(w,T){return Xo(Xo({},w),{},O$({},T,[e[T],t[T]]))},{}),s=o.reduce(function(w,T){return Xo(Xo({},w),{},O$({},T,{from:e[T],velocity:0,to:t[T]}))},{}),l=-1,c,d,u=function(){return null},p=function(){return zS(function(T,k){return k.from},s)},m=function(){return!Object.values(s).filter(D$).length},v=function(T){c||(c=T);var k=T-c,N=k/n.dt;s=Pyt(n,s,N),i(Xo(Xo(Xo({},e),t),p())),c=T,m()||(l=requestAnimationFrame(u))},x=function(T){d||(d=T);var k=(T-d)/r,N=zS(function(M,A){return _M.apply(void 0,vte(A).concat([n(k)]))},a);if(i(Xo(Xo(Xo({},e),t),N)),k<1)l=requestAnimationFrame(u);else{var I=zS(function(M,A){return _M.apply(void 0,vte(A).concat([n(1)]))},a);i(Xo(Xo(Xo({},e),t),I))}};return u=n.isStepper?v:x,function(){return requestAnimationFrame(u),function(){cancelAnimationFrame(l)}}});function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}var jyt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Byt(e,t){if(e==null)return{};var n=$yt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $yt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function J5(e){return zyt(e)||Uyt(e)||Fyt(e)||Hyt()}function Hyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fyt(e,t){if(e){if(typeof e=="string")return R$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R$(e,t)}}function Uyt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zyt(e){if(Array.isArray(e))return R$(e)}function R$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wte(Object(n),!0).forEach(function(r){pS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pS(e,t,n){return t=_be(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qyt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_be(r.key),r)}}function Wyt(e,t,n){return t&&qyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _be(e){var t=Yyt(e,"string");return I1(t)==="symbol"?t:String(t)}function Yyt(e,t){if(I1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(I1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I$(e,t)}function I$(e,t){return I$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I$(e,t)}function Kyt(e){var t=Xyt();return function(){var r=AM(e),i;if(t){var o=AM(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return P$(this,i)}}function P$(e,t){if(t&&(I1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L$(e)}function L$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xyt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AM(e){return AM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AM(e)}var ih=(function(e){Gyt(n,e);var t=Kyt(n);function n(r,i){var o;Vyt(this,n),o=t.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,d=a.to,u=a.steps,p=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(L$(o)),o.changeStyle=o.changeStyle.bind(L$(o)),!s||m<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:d}),P$(o);if(u&&u.length)o.state={style:u[0].style};else if(c){if(typeof p=="function")return o.state={style:c},P$(o);o.state={style:l?pS({},l,c):c}}else o.state={style:{}};return o}return Wyt(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,u=o.from,p=this.state.style;if(s){if(!a){var m={style:l?pS({},l,d):d};this.state&&p&&(l&&p[l]!==d||!l&&p!==d)&&this.setState(m);return}if(!(nyt(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||c?u:i.to;if(this.state&&p){var w={style:l?pS({},l,x):x};(l&&p[l]!==x||!l&&p!==x)&&this.setState(w)}this.runAnimation(Xc(Xc({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,u=i.onAnimationEnd,p=i.onAnimationStart,m=Lyt(a,s,Tyt(c),l,this.changeStyle),v=function(){o.stopJSAnimation=m()};this.manager.start([p,d,v,l,u])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,u=c.duration,p=u===void 0?0:u,m=function(x,w,T){if(T===0)return x;var k=w.duration,N=w.easing,I=N===void 0?"ease":N,M=w.style,A=w.properties,R=w.onAnimationEnd,L=T>0?a[T-1]:w,B=A||Object.keys(M);if(typeof I=="function"||I==="spring")return[].concat(J5(x),[o.runJSAnimation.bind(o,{from:L.style,to:M,duration:k,easing:I}),k]);var $=gte(B,k,I),W=Xc(Xc(Xc({},L.style),M),{},{transition:$});return[].concat(J5(x),[W,k,R]).filter(hyt)};return this.manager.start([l].concat(J5(a.reduce(m,[d,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=cyt());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,u=i.onAnimationEnd,p=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var x=s?pS({},s,l):l,w=gte(Object.keys(x),a,c);v.start([d,o,Xc(Xc({},x),{},{transition:w}),a,u])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Byt(i,jyt),c=C.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||c===0||a<=0)return o;var u=function(m){var v=m.props,x=v.style,w=x===void 0?{}:x,T=v.className,k=C.cloneElement(m,Xc(Xc({},l),{},{style:Xc(Xc({},w),d),className:T}));return k};return c===1?u(C.Children.only(o)):F.createElement("div",null,C.Children.map(o,function(p){return u(p)}))}}]),n})(C.PureComponent);ih.displayName="Animate";ih.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ih.propTypes={from:kr.oneOfType([kr.object,kr.string]),to:kr.oneOfType([kr.object,kr.string]),attributeName:kr.string,duration:kr.number,begin:kr.number,easing:kr.oneOfType([kr.string,kr.func]),steps:kr.arrayOf(kr.shape({duration:kr.number.isRequired,style:kr.object.isRequired,easing:kr.oneOfType([kr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kr.func]),properties:kr.arrayOf("string"),onAnimationEnd:kr.func})),children:kr.oneOfType([kr.node,kr.func]),isActive:kr.bool,canBegin:kr.bool,onAnimationEnd:kr.func,shouldReAnimate:kr.bool,onAnimationStart:kr.func,onAnimationReStart:kr.func};function tT(e){"@babel/helpers - typeof";return tT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tT(e)}function NM(){return NM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NM.apply(this,arguments)}function Zyt(e,t){return tbt(e)||ebt(e,t)||Jyt(e,t)||Qyt()}function Qyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jyt(e,t){if(e){if(typeof e=="string")return Ete(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ete(e,t)}}function Ete(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ebt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function tbt(e){if(Array.isArray(e))return e}function Ste(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ste(Object(n),!0).forEach(function(r){nbt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ste(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nbt(e,t,n){return t=rbt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rbt(e){var t=ibt(e,"string");return tT(t)=="symbol"?t:t+""}function ibt(e,t){if(tT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tte=function(t,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var u=[0,0,0,0],p=0,m=4;p<m;p++)u[p]=o[p]>a?a:o[p];d="M".concat(t,",").concat(n+s*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(t+l*u[0],",").concat(n)),d+="L ".concat(t+r-l*u[1],",").concat(n),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(n+s*u[1])),d+="L ".concat(t+r,",").concat(n+i-s*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(t+r-l*u[2],",").concat(n+i)),d+="L ".concat(t+l*u[3],",").concat(n+i),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(n+i-s*u[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);d="M ".concat(t,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+l*v,",").concat(n,`
            L `).concat(t+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+r,",").concat(n+s*v,`
            L `).concat(t+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+r-l*v,",").concat(n+i,`
            L `).concat(t+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t,",").concat(n+i-s*v," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},obt=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),d=Math.max(o,o+s),u=Math.min(a,a+l),p=Math.max(a,a+l);return r>=c&&r<=d&&i>=u&&i<=p}return!1},abt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UU=function(t){var n=Cte(Cte({},abt),t),r=C.useRef(),i=C.useState(-1),o=Zyt(i,2),a=o[0],s=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&s(I)}catch{}},[]);var l=n.x,c=n.y,d=n.width,u=n.height,p=n.radius,m=n.className,v=n.animationEasing,x=n.animationDuration,w=n.animationBegin,T=n.isAnimationActive,k=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||d===0||u===0)return null;var N=Xn("recharts-rectangle",m);return k?F.createElement(ih,{canBegin:a>0,from:{width:d,height:u,x:l,y:c},to:{width:d,height:u,x:l,y:c},duration:x,animationEasing:v,isActive:k},function(I){var M=I.width,A=I.height,R=I.x,L=I.y;return F.createElement(ih,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,isActive:T,easing:v},F.createElement("path",NM({},Jn(n,!0),{className:N,d:Tte(R,L,M,A,p),ref:r})))}):F.createElement("path",NM({},Jn(n,!0),{className:N,d:Tte(l,c,d,u,p)}))};function j$(){return j$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j$.apply(this,arguments)}var zU=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,a=Xn("recharts-dot",o);return n===+n&&r===+r&&i===+i?C.createElement("circle",j$({},Jn(t,!1),ZO(t),{className:a,cx:n,cy:r,r:i})):null};function nT(e){"@babel/helpers - typeof";return nT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nT(e)}var sbt=["x","y","top","left","width","height","className"];function B$(){return B$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B$.apply(this,arguments)}function kte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lbt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kte(Object(n),!0).forEach(function(r){cbt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cbt(e,t,n){return t=ubt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ubt(e){var t=dbt(e,"string");return nT(t)=="symbol"?t:t+""}function dbt(e,t){if(nT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fbt(e,t){if(e==null)return{};var n=hbt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hbt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var pbt=function(t,n,r,i,o,a){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},mbt=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.top,s=a===void 0?0:a,l=t.left,c=l===void 0?0:l,d=t.width,u=d===void 0?0:d,p=t.height,m=p===void 0?0:p,v=t.className,x=fbt(t,sbt),w=lbt({x:r,y:o,top:s,left:c,width:u,height:m},x);return!dt(r)||!dt(o)||!dt(u)||!dt(m)||!dt(s)||!dt(c)?null:F.createElement("path",B$({},Jn(w,!0),{className:Xn("recharts-cross",v),d:pbt(r,o,u,m,s,c)}))},e6,_te;function gbt(){if(_te)return e6;_te=1;var e=Y0e(),t=e(Object.getPrototypeOf,Object);return e6=t,e6}var t6,Ate;function ybt(){if(Ate)return t6;Ate=1;var e=fh(),t=gbt(),n=hh(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function c(d){if(!n(d)||e(d)!=r)return!1;var u=t(d);if(u===null)return!0;var p=s.call(u,"constructor")&&u.constructor;return typeof p=="function"&&p instanceof p&&a.call(p)==l}return t6=c,t6}var bbt=ybt();const vbt=vr(bbt);var n6,Nte;function xbt(){if(Nte)return n6;Nte=1;var e=fh(),t=hh(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return n6=r,n6}var wbt=xbt();const Ebt=vr(wbt);function rT(e){"@babel/helpers - typeof";return rT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rT(e)}function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OM.apply(this,arguments)}function Sbt(e,t){return _bt(e)||kbt(e,t)||Tbt(e,t)||Cbt()}function Cbt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tbt(e,t){if(e){if(typeof e=="string")return Ote(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ote(e,t)}}function Ote(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kbt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function _bt(e){if(Array.isArray(e))return e}function Mte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mte(Object(n),!0).forEach(function(r){Abt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Abt(e,t,n){return t=Nbt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nbt(e){var t=Obt(e,"string");return rT(t)=="symbol"?t:t+""}function Obt(e,t){if(rT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rte=function(t,n,r,i,o){var a=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-a/2,",").concat(n+o),s+="L ".concat(t+r-a/2-i,",").concat(n+o),s+="L ".concat(t,",").concat(n," Z"),s},Mbt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dbt=function(t){var n=Dte(Dte({},Mbt),t),r=C.useRef(),i=C.useState(-1),o=Sbt(i,2),a=o[0],s=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&s(N)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,u=n.lowerWidth,p=n.height,m=n.className,v=n.animationEasing,x=n.animationDuration,w=n.animationBegin,T=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||p!==+p||d===0&&u===0||p===0)return null;var k=Xn("recharts-trapezoid",m);return T?F.createElement(ih,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:d,lowerWidth:u,height:p,x:l,y:c},duration:x,animationEasing:v,isActive:T},function(N){var I=N.upperWidth,M=N.lowerWidth,A=N.height,R=N.x,L=N.y;return F.createElement(ih,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,easing:v},F.createElement("path",OM({},Jn(n,!0),{className:k,d:Rte(R,L,I,M,A),ref:r})))}):F.createElement("g",null,F.createElement("path",OM({},Jn(n,!0),{className:k,d:Rte(l,c,d,u,p)})))},Rbt=["option","shapeType","propTransformer","activeClassName","isActive"];function iT(e){"@babel/helpers - typeof";return iT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iT(e)}function Ibt(e,t){if(e==null)return{};var n=Pbt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Pbt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ite(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ite(Object(n),!0).forEach(function(r){Lbt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ite(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lbt(e,t,n){return t=jbt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jbt(e){var t=Bbt(e,"string");return iT(t)=="symbol"?t:t+""}function Bbt(e,t){if(iT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(iT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $bt(e,t){return MM(MM({},t),e)}function Hbt(e,t){return e==="symbols"}function Pte(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return F.createElement(UU,n);case"trapezoid":return F.createElement(Dbt,n);case"sector":return F.createElement(xbe,n);case"symbols":if(Hbt(t))return F.createElement(sU,n);break;default:return null}}function Fbt(e){return C.isValidElement(e)?e.props:e}function Ubt(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?$bt:r,o=e.activeClassName,a=o===void 0?"recharts-active-shape":o,s=e.isActive,l=Ibt(e,Rbt),c;if(C.isValidElement(t))c=C.cloneElement(t,MM(MM({},l),Fbt(t)));else if(Rn(t))c=t(l);else if(vbt(t)&&!Ebt(t)){var d=i(t,l);c=F.createElement(Pte,{shapeType:n,elementProps:d})}else{var u=l;c=F.createElement(Pte,{shapeType:n,elementProps:u})}return s?F.createElement(Wi,{className:a},c):c}function XR(e,t){return t!=null&&"trapezoids"in e.props}function ZR(e,t){return t!=null&&"sectors"in e.props}function oT(e,t){return t!=null&&"points"in e.props}function zbt(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function Vbt(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function qbt(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Wbt(e,t){var n;return XR(e,t)?n=zbt:ZR(e,t)?n=Vbt:oT(e,t)&&(n=qbt),n}function Ybt(e,t){var n;return XR(e,t)?n="trapezoids":ZR(e,t)?n="sectors":oT(e,t)&&(n="points"),n}function Gbt(e,t){if(XR(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ZR(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return oT(e,t)?t.payload:{}}function Kbt(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Ybt(n,t),o=Gbt(n,t),a=r.filter(function(l,c){var d=YR(o,l),u=n.props[i].filter(function(v){var x=Wbt(n,t);return x(v,t)}),p=n.props[i].indexOf(u[u.length-1]),m=c===p;return d&&m}),s=r.indexOf(a[a.length-1]);return s}var r6,Lte;function Xbt(){if(Lte)return r6;Lte=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,l=t(e((i-r)/(o||1)),0),c=Array(l);l--;)c[a?l:++s]=r,r+=o;return c}return r6=n,r6}var i6,jte;function Abe(){if(jte)return i6;jte=1;var e=cye(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return i6=r,i6}var o6,Bte;function Zbt(){if(Bte)return o6;Bte=1;var e=Xbt(),t=BR(),n=Abe();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return o6=r,o6}var a6,$te;function Qbt(){if($te)return a6;$te=1;var e=Zbt(),t=e();return a6=t,a6}var Jbt=Qbt();const DM=vr(Jbt);function aT(e){"@babel/helpers - typeof";return aT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aT(e)}function Hte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hte(Object(n),!0).forEach(function(r){Nbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nbe(e,t,n){return t=evt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function evt(e){var t=tvt(e,"string");return aT(t)=="symbol"?t:t+""}function tvt(e,t){if(aT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(aT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nvt=["Webkit","Moz","O","ms"],rvt=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=nvt.reduce(function(o,a){return Fte(Fte({},o),{},Nbe({},a+r,n))},{});return i[t]=n,i};function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function RM(){return RM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RM.apply(this,arguments)}function Ute(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ute(Object(n),!0).forEach(function(r){yl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ute(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ivt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mbe(r.key),r)}}function ovt(e,t,n){return t&&zte(e.prototype,t),n&&zte(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function avt(e,t,n){return t=IM(t),svt(e,Obe()?Reflect.construct(t,n||[],IM(e).constructor):t.apply(e,n))}function svt(e,t){if(t&&(P1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lvt(e)}function lvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Obe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Obe=function(){return!!e})()}function IM(e){return IM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IM(e)}function cvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$$(e,t)}function $$(e,t){return $$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$$(e,t)}function yl(e,t,n){return t=Mbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mbe(e){var t=uvt(e,"string");return P1(t)=="symbol"?t:t+""}function uvt(e,t){if(P1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(P1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dvt=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,a=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=FS().domain(DM(0,l)).range([o,o+a-s]),d=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},Vte=function(t){return t.changedTouches&&!!t.changedTouches.length},L1=(function(e){function t(n){var r;return ivt(this,t),r=avt(this,t,[n]),yl(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),yl(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),yl(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a?.({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),yl(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),yl(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),yl(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),yl(r,"handleSlideDragStart",function(i){var o=Vte(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return cvt(t,e),ovt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,u=Math.min(i,o),p=Math.max(i,o),m=t.getIndexInRange(a,u),v=t.getIndexInRange(a,p);return{startIndex:m-m%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Il(o[r],s,r);return Rn(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,u=l.travellerWidth,p=l.startIndex,m=l.endIndex,v=l.onChange,x=r.pageX-o;x>0?x=Math.min(x,c+d-u-s,c+d-u-a):x<0&&(x=Math.max(x,c-a,c-s));var w=this.getIndex({startX:a+x,endX:s+x});(w.startIndex!==p||w.endIndex!==m)&&v&&v(w),this.setState({startX:a+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=Vte(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],d=this.props,u=d.x,p=d.width,m=d.travellerWidth,v=d.onChange,x=d.gap,w=d.data,T={startX:this.state.startX,endX:this.state.endX},k=r.pageX-o;k>0?k=Math.min(k,u+p-m-c):k<0&&(k=Math.max(k,u-c)),T[a]=c+k;var N=this.getIndex(T),I=N.startIndex,M=N.endIndex,A=function(){var L=w.length-1;return a==="startX"&&(s>l?I%x===0:M%x===0)||s<l&&M===L||a==="endX"&&(s>l?M%x===0:I%x===0)||s>l&&M===L};this.setState(yl(yl({},a,c+k),"brushMoveStartX",r.pageX),function(){v&&A()&&v(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],u=s.indexOf(d);if(u!==-1){var p=u+r;if(!(p===-1||p>=s.length)){var m=s[p];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(yl({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return F.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,d=r.padding,u=C.Children.only(c);return u?F.cloneElement(u,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,d=l.travellerWidth,u=l.height,p=l.traveller,m=l.ariaLabel,v=l.data,x=l.startIndex,w=l.endIndex,T=Math.max(r,this.props.x),k=s6(s6({},Jn(this.props,!1)),{},{x:T,y:c,width:d,height:u}),N=m||"Min value: ".concat((o=v[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[w])===null||a===void 0?void 0:a.name);return F.createElement(Wi,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(M){["ArrowLeft","ArrowRight"].includes(M.key)&&(M.preventDefault(),M.stopPropagation(),s.handleTravellerMoveKeyboard(M.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,k))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(r,i)+c,u=Math.max(Math.abs(i-r)-c,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:u,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,u=d.startX,p=d.endX,m=5,v={pointerEvents:"none",fill:c};return F.createElement(Wi,{className:"recharts-brush-texts"},F.createElement(cM,RM({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,p)-m,y:a+s/2},v),this.getTextOfTick(i)),F.createElement(cM,RM({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,p)+l+m,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,d=r.height,u=r.alwaysShowText,p=this.state,m=p.startX,v=p.endX,x=p.isTextActive,w=p.isSlideMoving,T=p.isTravellerMoving,k=p.isTravellerFocused;if(!i||!i.length||!dt(s)||!dt(l)||!dt(c)||!dt(d)||c<=0||d<=0)return null;var N=Xn("recharts-brush",o),I=F.Children.count(a)===1,M=rvt("userSelect","none");return F.createElement(Wi,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:M},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(x||w||T||k||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return F.isValidElement(r)?o=F.cloneElement(r,i):Rn(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,u=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return s6({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?dvt({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:u}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])})(C.PureComponent);yl(L1,"displayName","Brush");yl(L1,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var l6,qte;function fvt(){if(qte)return l6;qte=1;var e=pU();function t(n,r){var i;return e(n,function(o,a,s){return i=r(o,a,s),!i}),!!i}return l6=t,l6}var c6,Wte;function hvt(){if(Wte)return c6;Wte=1;var e=H0e(),t=km(),n=fvt(),r=Gs(),i=BR();function o(a,s,l){var c=r(a)?e:n;return l&&i(a,s,l)&&(s=void 0),c(a,t(s,3))}return c6=o,c6}var pvt=hvt();const mvt=vr(pvt);var kd=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},u6,Yte;function gvt(){if(Yte)return u6;Yte=1;var e=iye();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return u6=t,u6}var d6,Gte;function yvt(){if(Gte)return d6;Gte=1;var e=gvt(),t=nye(),n=km();function r(i,o){var a={};return o=n(o,3),t(i,function(s,l,c){e(a,l,o(s,l,c))}),a}return d6=r,d6}var bvt=yvt();const vvt=vr(bvt);var f6,Kte;function xvt(){if(Kte)return f6;Kte=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return f6=e,f6}var h6,Xte;function wvt(){if(Xte)return h6;Xte=1;var e=pU();function t(n,r){var i=!0;return e(n,function(o,a,s){return i=!!r(o,a,s),i}),i}return h6=t,h6}var p6,Zte;function Evt(){if(Zte)return p6;Zte=1;var e=xvt(),t=wvt(),n=km(),r=Gs(),i=BR();function o(a,s,l){var c=r(a)?e:t;return l&&i(a,s,l)&&(s=void 0),c(a,n(s,3))}return p6=o,p6}var Svt=Evt();const Dbe=vr(Svt);var Cvt=["x","y"];function sT(e){"@babel/helpers - typeof";return sT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sT(e)}function H$(){return H$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H$.apply(this,arguments)}function Qte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qte(Object(n),!0).forEach(function(r){Tvt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tvt(e,t,n){return t=kvt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kvt(e){var t=_vt(e,"string");return sT(t)=="symbol"?t:t+""}function _vt(e,t){if(sT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Avt(e,t){if(e==null)return{};var n=Nvt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nvt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ovt(e,t){var n=e.x,r=e.y,i=Avt(e,Cvt),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),d=parseInt(c,10),u="".concat(t.width||i.width),p=parseInt(u,10);return JE(JE(JE(JE(JE({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function Jte(e){return F.createElement(Ubt,H$({shapeType:"rectangle",propTransformer:Ovt,activeClassName:"recharts-active-bar"},e))}var Mvt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=dt(r)||$st(r);return o?t(r,i):(o||K0(),n)}},Dvt=["value","background"],Rbe;function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function Rvt(e,t){if(e==null)return{};var n=Ivt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ivt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function PM(){return PM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PM.apply(this,arguments)}function ene(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ene(Object(n),!0).forEach(function(r){Fp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ene(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pbe(r.key),r)}}function Lvt(e,t,n){return t&&tne(e.prototype,t),n&&tne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jvt(e,t,n){return t=LM(t),Bvt(e,Ibe()?Reflect.construct(t,n||[],LM(e).constructor):t.apply(e,n))}function Bvt(e,t){if(t&&(j1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $vt(e)}function $vt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ibe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ibe=function(){return!!e})()}function LM(e){return LM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LM(e)}function Hvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F$(e,t)}function F$(e,t){return F$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F$(e,t)}function Fp(e,t,n){return t=Pbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pbe(e){var t=Fvt(e,"string");return j1(t)=="symbol"?t:t+""}function Fvt(e,t){if(j1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(j1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gk=(function(e){function t(){var n;Pvt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=jvt(this,t,[].concat(i)),Fp(n,"state",{isAnimationFinished:!1}),Fp(n,"id",ck("recharts-bar-")),Fp(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Fp(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Hvt(t,e),Lvt(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,d=Jn(this.props,!1);return r&&r.map(function(u,p){var m=p===l,v=m?c:a,x=ro(ro(ro({},d),u),{},{isActive:m,option:v,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(Wi,PM({className:"recharts-bar-rectangle"},QO(i.props,u,p),{key:"rectangle-".concat(u?.x,"-").concat(u?.y,"-").concat(u?.value,"-").concat(p)}),F.createElement(Jte,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,u=i.animationId,p=this.state.prevData;return F.createElement(ih,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,x=o.map(function(w,T){var k=p&&p[T];if(k){var N=nu(k.x,w.x),I=nu(k.y,w.y),M=nu(k.width,w.width),A=nu(k.height,w.height);return ro(ro({},w),{},{x:N(v),y:I(v),width:M(v),height:A(v)})}if(a==="horizontal"){var R=nu(0,w.height),L=R(v);return ro(ro({},w),{},{y:w.y+w.height-L,height:L})}var B=nu(0,w.width),$=B(v);return ro(ro({},w),{},{width:$})});return F.createElement(Wi,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!YR(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Jn(this.props.background,!1);return o.map(function(c,d){c.value;var u=c.background,p=Rvt(c,Dvt);if(!u)return null;var m=ro(ro(ro(ro(ro({},p),{},{fill:"#eee"},u),l),QO(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return F.createElement(Jte,PM({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,u=yc(d,mk);if(!u)return null;var p=c==="vertical"?a[0].height/2:a[0].width/2,m=function(w,T){var k=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:k,errorVal:Il(w,T)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(Wi,v,u.map(function(x){return F.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,d=r.top,u=r.width,p=r.height,m=r.isAnimationActive,v=r.background,x=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,T=Xn("recharts-bar",a),k=s&&s.allowDataOverflow,N=l&&l.allowDataOverflow,I=k||N,M=qn(x)?this.id:x;return F.createElement(Wi,{className:T},k||N?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(M)},F.createElement("rect",{x:k?c:c-u/2,y:N?d:d-p/2,width:k?u:u*2,height:N?p:p*2}))):null,F.createElement(Wi,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(M,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,M),(!m||w)&&Kp.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(C.PureComponent);Rbe=gk;Fp(gk,"displayName","Bar");Fp(gk,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Sx.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fp(gk,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,p=e.offset,m=ogt(r,n);if(!m)return null;var v=t.layout,x=n.type.defaultProps,w=x!==void 0?ro(ro({},x),n.props):n.props,T=w.dataKey,k=w.children,N=w.minPointSize,I=v==="horizontal"?a:o,M=c?I.scale.domain():null,A=hgt({numericAxis:I}),R=yc(k,dye),L=u.map(function(B,$){var W,V,Y,U,X,q;c?W=agt(c[d+$],M):(W=Il(B,T),Array.isArray(W)||(W=[A,W]));var ne=Mvt(N,Rbe.defaultProps.minPointSize)(W[1],$);if(v==="horizontal"){var Z,oe=[a.scale(W[0]),a.scale(W[1])],K=oe[0],Q=oe[1];V=Bee({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:B,index:$}),Y=(Z=Q??K)!==null&&Z!==void 0?Z:void 0,U=m.size;var te=K-Q;if(X=Number.isNaN(te)?0:te,q={x:V,y:a.y,width:U,height:a.height},Math.abs(ne)>0&&Math.abs(X)<Math.abs(ne)){var z=uu(X||ne)*(Math.abs(ne)-Math.abs(X));Y-=z,X+=z}}else{var fe=[o.scale(W[0]),o.scale(W[1])],me=fe[0],ke=fe[1];if(V=me,Y=Bee({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:B,index:$}),U=ke-me,X=m.size,q={x:o.x,y:Y,width:o.width,height:X},Math.abs(ne)>0&&Math.abs(U)<Math.abs(ne)){var Ee=uu(U||ne)*(Math.abs(ne)-Math.abs(U));U+=Ee}}return ro(ro(ro({},B),{},{x:V,y:Y,width:U,height:X,value:c?W:W[1],payload:B,background:q},R&&R[$]&&R[$].props),{},{tooltipPayload:[ybe(n,B)],tooltipPosition:{x:V+U/2,y:Y+X/2}})});return ro({data:L,layout:v},p)});function lT(e){"@babel/helpers - typeof";return lT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lT(e)}function Uvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lbe(r.key),r)}}function zvt(e,t,n){return t&&nne(e.prototype,t),n&&nne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rne(Object(n),!0).forEach(function(r){QR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QR(e,t,n){return t=Lbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lbe(e){var t=Vvt(e,"string");return lT(t)=="symbol"?t:t+""}function Vvt(e,t){if(lT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qvt=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,d=Object.keys(n),u={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!vl(c,gk);return d.reduce(function(m,v){var x=n[v],w=x.orientation,T=x.domain,k=x.padding,N=k===void 0?{}:k,I=x.mirror,M=x.reversed,A="".concat(w).concat(I?"Mirror":""),R,L,B,$,W;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var V=T[1]-T[0],Y=1/0,U=x.categoricalDomain.sort(Ust);if(U.forEach(function(fe,me){me>0&&(Y=Math.min((fe||0)-(U[me-1]||0),Y))}),Number.isFinite(Y)){var X=Y/V,q=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(R=X*q/2),x.padding==="no-gap"){var ne=Y0(t.barCategoryGap,X*q),Z=X*q/2;R=Z-ne-(Z-ne)/q*ne}}}i==="xAxis"?L=[r.left+(N.left||0)+(R||0),r.left+r.width-(N.right||0)-(R||0)]:i==="yAxis"?L=l==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(R||0),r.top+r.height-(N.bottom||0)-(R||0)]:L=x.range,M&&(L=[L[1],L[0]]);var oe=rgt(x,o,p),K=oe.scale,Q=oe.realScaleType;K.domain(T).range(L),igt(K);var te=fgt(K,Jc(Jc({},x),{},{realScaleType:Q}));i==="xAxis"?(W=w==="top"&&!I||w==="bottom"&&I,B=r.left,$=u[A]-W*x.height):i==="yAxis"&&(W=w==="left"&&!I||w==="right"&&I,B=u[A]-W*x.width,$=r.top);var z=Jc(Jc(Jc({},x),te),{},{realScaleType:Q,x:B,y:$,scale:K,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return z.bandSize=SM(z,te),!x.hide&&i==="xAxis"?u[A]+=(W?-1:1)*z.height:x.hide||(u[A]+=(W?-1:1)*z.width),Jc(Jc({},m),{},QR({},v,z))},{})},jbe=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Wvt=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return jbe({x:n,y:r},{x:i,y:o})},Bbe=(function(){function e(t){Uvt(this,e),this.scale=t}return zvt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])})();QR(Bbe,"EPS",1e-4);var VU=function(t){var n=Object.keys(t).reduce(function(r,i){return Jc(Jc({},r),{},QR({},i,Bbe.create(t[i])))},{});return Jc(Jc({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return vvt(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return Dbe(i,function(o,a){return n[a].isInRange(o)})}})};function Yvt(e){return(e%180+180)%180}var Gvt=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Yvt(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},m6,ine;function Kvt(){if(ine)return m6;ine=1;var e=km(),t=uk(),n=LR();function r(i){return function(o,a,s){var l=Object(o);if(!t(o)){var c=e(a,3);o=n(o),a=function(u){return c(l[u],u,l)}}var d=i(o,a,s);return d>-1?l[c?o[d]:d]:void 0}}return m6=r,m6}var g6,one;function Xvt(){if(one)return g6;one=1;var e=Abe();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return g6=t,g6}var y6,ane;function Zvt(){if(ane)return y6;ane=1;var e=Z0e(),t=km(),n=Xvt(),r=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=r(l+c,0)),e(o,t(a,3),c)}return y6=i,y6}var b6,sne;function Qvt(){if(sne)return b6;sne=1;var e=Kvt(),t=Zvt(),n=e(t);return b6=n,b6}var Jvt=Qvt();const e1t=vr(Jvt);var t1t=h0e();const n1t=vr(t1t);var r1t=n1t(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),qU=C.createContext(void 0),WU=C.createContext(void 0),$be=C.createContext(void 0),Hbe=C.createContext({}),Fbe=C.createContext(void 0),Ube=C.createContext(0),zbe=C.createContext(0),lne=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=t.clipPathId,s=t.children,l=t.width,c=t.height,d=r1t(o);return F.createElement(qU.Provider,{value:r},F.createElement(WU.Provider,{value:i},F.createElement(Hbe.Provider,{value:o},F.createElement($be.Provider,{value:d},F.createElement(Fbe.Provider,{value:a},F.createElement(Ube.Provider,{value:c},F.createElement(zbe.Provider,{value:l},s)))))))},i1t=function(){return C.useContext(Fbe)},Vbe=function(t){var n=C.useContext(qU);n==null&&K0();var r=n[t];return r==null&&K0(),r},o1t=function(){var t=C.useContext(qU);return Rp(t)},a1t=function(){var t=C.useContext(WU),n=e1t(t,function(r){return Dbe(r.domain,Number.isFinite)});return n||Rp(t)},qbe=function(t){var n=C.useContext(WU);n==null&&K0();var r=n[t];return r==null&&K0(),r},s1t=function(){var t=C.useContext($be);return t},l1t=function(){return C.useContext(Hbe)},YU=function(){return C.useContext(zbe)},GU=function(){return C.useContext(Ube)};function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function c1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u1t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ybe(r.key),r)}}function d1t(e,t,n){return t&&u1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f1t(e,t,n){return t=jM(t),h1t(e,Wbe()?Reflect.construct(t,n||[],jM(e).constructor):t.apply(e,n))}function h1t(e,t){if(t&&(B1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1t(e)}function p1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wbe=function(){return!!e})()}function jM(e){return jM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jM(e)}function m1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U$(e,t)}function U$(e,t){return U$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U$(e,t)}function cne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function une(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cne(Object(n),!0).forEach(function(r){KU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KU(e,t,n){return t=Ybe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ybe(e){var t=g1t(e,"string");return B1(t)=="symbol"?t:t+""}function g1t(e,t){if(B1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(B1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function y1t(e,t){return w1t(e)||x1t(e,t)||v1t(e,t)||b1t()}function b1t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1t(e,t){if(e){if(typeof e=="string")return dne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dne(e,t)}}function dne(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x1t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function w1t(e){if(Array.isArray(e))return e}function z$(){return z$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z$.apply(this,arguments)}var E1t=function(t,n){var r;return F.isValidElement(t)?r=F.cloneElement(t,n):Rn(t)?r=t(n):r=F.createElement("line",z$({},n,{className:"recharts-reference-line-line"})),r},S1t=function(t,n,r,i,o,a,s,l,c){var d=o.x,u=o.y,p=o.width,m=o.height;if(r){var v=c.y,x=t.y.apply(v,{position:a});if(kd(c,"discard")&&!t.y.isInRange(x))return null;var w=[{x:d+p,y:x},{x:d,y:x}];return l==="left"?w.reverse():w}if(n){var T=c.x,k=t.x.apply(T,{position:a});if(kd(c,"discard")&&!t.x.isInRange(k))return null;var N=[{x:k,y:u+m},{x:k,y:u}];return s==="top"?N.reverse():N}if(i){var I=c.segment,M=I.map(function(A){return t.apply(A,{position:a})});return kd(c,"discard")&&mvt(M,function(A){return!t.isInRange(A)})?null:M}return null};function C1t(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,c=i1t(),d=Vbe(i),u=qbe(o),p=s1t();if(!c||!p)return null;Vf(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=VU({x:d.scale,y:u.scale}),v=ko(t),x=ko(n),w=r&&r.length===2,T=S1t(m,v,x,w,p,e.position,d.orientation,u.orientation,e);if(!T)return null;var k=y1t(T,2),N=k[0],I=N.x,M=N.y,A=k[1],R=A.x,L=A.y,B=kd(e,"hidden")?"url(#".concat(c,")"):void 0,$=une(une({clipPath:B},Jn(e,!0)),{},{x1:I,y1:M,x2:R,y2:L});return F.createElement(Wi,{className:Xn("recharts-reference-line",s)},E1t(a,$),xa.renderCallByParent(e,Wvt({x1:I,y1:M,x2:R,y2:L})))}var XU=(function(e){function t(){return c1t(this,t),f1t(this,t,arguments)}return m1t(t,e),d1t(t,[{key:"render",value:function(){return F.createElement(C1t,this.props)}}])})(F.Component);KU(XU,"displayName","ReferenceLine");KU(XU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function V$(){return V$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V$.apply(this,arguments)}function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function fne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fne(Object(n),!0).forEach(function(r){JR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k1t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kbe(r.key),r)}}function _1t(e,t,n){return t&&k1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A1t(e,t,n){return t=BM(t),N1t(e,Gbe()?Reflect.construct(t,n||[],BM(e).constructor):t.apply(e,n))}function N1t(e,t){if(t&&($1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O1t(e)}function O1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gbe=function(){return!!e})()}function BM(e){return BM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BM(e)}function M1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q$(e,t)}function q$(e,t){return q$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q$(e,t)}function JR(e,t,n){return t=Kbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kbe(e){var t=D1t(e,"string");return $1(t)=="symbol"?t:t+""}function D1t(e,t){if($1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var R1t=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,a=VU({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return kd(t,"discard")&&!a.isInRange(s)?null:s},e3=(function(e){function t(){return T1t(this,t),A1t(this,t,arguments)}return M1t(t,e),_1t(t,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=ko(i),d=ko(o);if(Vf(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var u=R1t(this.props);if(!u)return null;var p=u.x,m=u.y,v=this.props,x=v.shape,w=v.className,T=kd(this.props,"hidden")?"url(#".concat(l,")"):void 0,k=hne(hne({clipPath:T},Jn(this.props,!0)),{},{cx:p,cy:m});return F.createElement(Wi,{className:Xn("recharts-reference-dot",w)},t.renderDot(x,k),xa.renderCallByParent(this.props,{x:p-a,y:m-a,width:2*a,height:2*a}))}}])})(F.Component);JR(e3,"displayName","ReferenceDot");JR(e3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});JR(e3,"renderDot",function(e,t){var n;return F.isValidElement(e)?n=F.cloneElement(e,t):Rn(e)?n=e(t):n=F.createElement(zU,V$({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function W$(){return W$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W$.apply(this,arguments)}function H1(e){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(e)}function pne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pne(Object(n),!0).forEach(function(r){t3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P1t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zbe(r.key),r)}}function L1t(e,t,n){return t&&P1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j1t(e,t,n){return t=$M(t),B1t(e,Xbe()?Reflect.construct(t,n||[],$M(e).constructor):t.apply(e,n))}function B1t(e,t){if(t&&(H1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1t(e)}function $1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xbe=function(){return!!e})()}function $M(e){return $M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$M(e)}function H1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y$(e,t)}function Y$(e,t){return Y$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y$(e,t)}function t3(e,t,n){return t=Zbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zbe(e){var t=F1t(e,"string");return H1(t)=="symbol"?t:t+""}function F1t(e,t){if(H1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(H1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U1t=function(t,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,d=o.xAxis,u=o.yAxis;if(!d||!u)return null;var p=VU({x:d.scale,y:u.scale}),m={x:t?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return kd(o,"discard")&&(!p.isInRange(m)||!p.isInRange(v))?null:jbe(m,v)},n3=(function(e){function t(){return I1t(this,t),j1t(this,t,arguments)}return H1t(t,e),L1t(t,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;Vf(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=ko(i),p=ko(o),m=ko(a),v=ko(s),x=this.props.shape;if(!u&&!p&&!m&&!v&&!x)return null;var w=U1t(u,p,m,v,this.props);if(!w&&!x)return null;var T=kd(this.props,"hidden")?"url(#".concat(d,")"):void 0;return F.createElement(Wi,{className:Xn("recharts-reference-area",l)},t.renderRect(x,mne(mne({clipPath:T},Jn(this.props,!0)),w)),xa.renderCallByParent(this.props,w))}}])})(F.Component);t3(n3,"displayName","ReferenceArea");t3(n3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});t3(n3,"renderRect",function(e,t){var n;return F.isValidElement(e)?n=F.cloneElement(e,t):Rn(e)?n=e(t):n=F.createElement(UU,W$({},t,{className:"recharts-reference-area-rect"})),n});function Qbe(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function z1t(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Gvt(r,n)}function V1t(e,t,n){var r=n==="width",i=e.x,o=e.y,a=e.width,s=e.height;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function HM(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function q1t(e,t){return Qbe(e,t+1)}function W1t(e,t,n,r,i){for(var o=(r||[]).slice(),a=t.start,s=t.end,l=0,c=1,d=a,u=function(){var v=r?.[l];if(v===void 0)return{v:Qbe(r,c)};var x=l,w,T=function(){return w===void 0&&(w=n(v,x)),w},k=v.coordinate,N=l===0||HM(e,k,T,d,s);N||(l=0,d=a,c+=1),N&&(d=k+e*(T()/2+i),l+=c)},p;c<=o.length;)if(p=u(),p)return p.v;return[]}function cT(e){"@babel/helpers - typeof";return cT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cT(e)}function gne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gne(Object(n),!0).forEach(function(r){Y1t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y1t(e,t,n){return t=G1t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G1t(e){var t=K1t(e,"string");return cT(t)=="symbol"?t:t+""}function K1t(e,t){if(cT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X1t(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(p){var m=o[p],v,x=function(){return v===void 0&&(v=n(m,p)),v};if(p===a-1){var w=e*(m.coordinate+e*x()/2-l);o[p]=m=ba(ba({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else o[p]=m=ba(ba({},m),{},{tickCoord:m.coordinate});var T=HM(e,m.tickCoord,x,s,l);T&&(l=m.tickCoord-e*(x()/2+i),o[p]=ba(ba({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return o}function Z1t(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var d=r[s-1],u=n(d,s-1),p=e*(d.coordinate+e*u/2-c);a[s-1]=d=ba(ba({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var m=HM(e,d.tickCoord,function(){return u},l,c);m&&(c=d.tickCoord-e*(u/2+i),a[s-1]=ba(ba({},d),{},{isShow:!0}))}for(var v=o?s-1:s,x=function(k){var N=a[k],I,M=function(){return I===void 0&&(I=n(N,k)),I};if(k===0){var A=e*(N.coordinate-e*M()/2-l);a[k]=N=ba(ba({},N),{},{tickCoord:A<0?N.coordinate-A*e:N.coordinate})}else a[k]=N=ba(ba({},N),{},{tickCoord:N.coordinate});var R=HM(e,N.tickCoord,M,l,c);R&&(l=N.tickCoord+e*(M()/2+i),a[k]=ba(ba({},N),{},{isShow:!0}))},w=0;w<v;w++)x(w);return a}function ZU(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!i||!i.length||!r)return[];if(dt(l)||Sx.isSsr)return q1t(i,typeof l=="number"&&dt(l)?l:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",v=d&&m==="width"?HS(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=function(N,I){var M=Rn(c)?c(N.value,I):N.value;return m==="width"?z1t(HS(M,{fontSize:t,letterSpacing:n}),v,u):HS(M,{fontSize:t,letterSpacing:n})[m]},w=i.length>=2?uu(i[1].coordinate-i[0].coordinate):1,T=V1t(o,w,m);return l==="equidistantPreserveStart"?W1t(w,T,x,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=Z1t(w,T,x,i,a,l==="preserveStartEnd"):p=X1t(w,T,x,i,a),p.filter(function(k){return k.isShow}))}var Q1t=["viewBox"],J1t=["viewBox"],ext=["ticks"];function F1(e){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mv.apply(this,arguments)}function yne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yne(Object(n),!0).forEach(function(r){QU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v6(e,t){if(e==null)return{};var n=txt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function txt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eve(r.key),r)}}function rxt(e,t,n){return t&&bne(e.prototype,t),n&&bne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ixt(e,t,n){return t=FM(t),oxt(e,Jbe()?Reflect.construct(t,n||[],FM(e).constructor):t.apply(e,n))}function oxt(e,t){if(t&&(F1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return axt(e)}function axt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jbe=function(){return!!e})()}function FM(e){return FM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FM(e)}function sxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G$(e,t)}function G$(e,t){return G$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G$(e,t)}function QU(e,t,n){return t=eve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eve(e){var t=lxt(e,"string");return F1(t)=="symbol"?t:t+""}function lxt(e,t){if(F1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(F1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _x=(function(e){function t(n){var r;return nxt(this,t),r=ixt(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return sxt(t,e),rxt(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=v6(r,Q1t),s=this.props,l=s.viewBox,c=v6(s,J1t);return!Kv(o,l)||!Kv(a,c)||!Kv(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,u=i.mirror,p=i.tickMargin,m,v,x,w,T,k,N=u?-1:1,I=r.tickSize||d,M=dt(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=v=r.coordinate,w=a+ +!u*l,x=w-N*I,k=x-N*p,T=M;break;case"left":x=w=r.coordinate,v=o+ +!u*s,m=v-N*I,T=m-N*p,k=M;break;case"right":x=w=r.coordinate,v=o+ +u*s,m=v+N*I,T=m+N*p,k=M;break;default:m=v=r.coordinate,w=a+ +u*l,x=w+N*I,k=x+N*p,T=M;break}return{line:{x1:m,y1:x,x2:v,y2:w},tick:{x:T,y:k}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,u=Eo(Eo(Eo({},Jn(this.props,!1)),Jn(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);u=Eo(Eo({},u),{},{x1:i,y1:o+p*s,x2:i+a,y2:o+p*s})}else{var m=+(l==="left"&&!c||l==="right"&&c);u=Eo(Eo({},u),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return F.createElement("line",Mv({},u,{className:Xn("recharts-cartesian-axis-line",gc(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,u=s.tickFormatter,p=s.unit,m=ZU(Eo(Eo({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),w=Jn(this.props,!1),T=Jn(d,!1),k=Eo(Eo({},w),{},{fill:"none"},Jn(l,!1)),N=m.map(function(I,M){var A=a.getTickLineCoord(I),R=A.line,L=A.tick,B=Eo(Eo(Eo(Eo({textAnchor:v,verticalAnchor:x},w),{},{stroke:"none",fill:c},T),L),{},{index:M,payload:I,visibleTicksCount:m.length,tickFormatter:u});return F.createElement(Wi,Mv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},QO(a.props,I,M)),l&&F.createElement("line",Mv({},k,R,{className:Xn("recharts-cartesian-axis-tick-line",gc(l,"className"))})),d&&t.renderTickItem(d,B,"".concat(Rn(u)?u(I.value,M):I.value).concat(p||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var u=this.props,p=u.ticks,m=v6(u,ext),v=p;return Rn(l)&&(v=p&&p.length>0?l(this.props):l(m)),a<=0||s<=0||!v||!v.length?null:F.createElement(Wi,{className:Xn("recharts-cartesian-axis",c),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),xa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Xn(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(r)?a=F.cloneElement(r,Eo(Eo({},i),{},{className:s})):Rn(r)?a=r(Eo(Eo({},i),{},{className:s})):a=F.createElement(cM,Mv({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])})(C.Component);QU(_x,"displayName","CartesianAxis");QU(_x,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cxt=["x1","y1","x2","y2","key"],uxt=["offset"];function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function vne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vne(Object(n),!0).forEach(function(r){dxt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dxt(e,t,n){return t=fxt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fxt(e){var t=hxt(e,"string");return X0(t)=="symbol"?t:t+""}function hxt(e,t){if(X0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(X0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l0.apply(this,arguments)}function xne(e,t){if(e==null)return{};var n=pxt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pxt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var mxt=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.ry;return F.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function tve(e,t){var n;if(F.isValidElement(e))n=F.cloneElement(e,t);else if(Rn(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=xne(t,cxt),c=Jn(l,!1);c.offset;var d=xne(c,uxt);n=F.createElement("line",l0({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function gxt(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=wa(wa({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return tve(i,c)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function yxt(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=wa(wa({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return tve(i,c)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function bxt(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var d=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==d[0]&&d.unshift(0);var u=d.map(function(p,m){var v=!d[m+1],x=v?i+a-p:d[m+1]-p;if(x<=0)return null;var w=m%t.length;return F.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:x,width:o,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function vxt(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(p){return Math.round(p+o-o)}).sort(function(p,m){return p-m});o!==d[0]&&d.unshift(0);var u=d.map(function(p,m){var v=!d[m+1],x=v?o+s-p:d[m+1]-p;if(x<=0)return null;var w=m%r.length;return F.createElement("rect",{key:"react-".concat(m),x:p,y:a,width:x,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var xxt=function(t,n){var r=t.xAxis,i=t.width,o=t.height,a=t.offset;return mbe(ZU(wa(wa(wa({},_x.defaultProps),r),{},{ticks:If(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},wxt=function(t,n){var r=t.yAxis,i=t.width,o=t.height,a=t.offset;return mbe(ZU(wa(wa(wa({},_x.defaultProps),r),{},{ticks:If(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},cv={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nve(e){var t,n,r,i,o,a,s=YU(),l=GU(),c=l1t(),d=wa(wa({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:cv.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:cv.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:cv.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:cv.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:cv.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:cv.verticalFill,x:dt(e.x)?e.x:c.left,y:dt(e.y)?e.y:c.top,width:dt(e.width)?e.width:c.width,height:dt(e.height)?e.height:c.height}),u=d.x,p=d.y,m=d.width,v=d.height,x=d.syncWithTicks,w=d.horizontalValues,T=d.verticalValues,k=o1t(),N=a1t();if(!dt(m)||m<=0||!dt(v)||v<=0||!dt(u)||u!==+u||!dt(p)||p!==+p)return null;var I=d.verticalCoordinatesGenerator||xxt,M=d.horizontalCoordinatesGenerator||wxt,A=d.horizontalPoints,R=d.verticalPoints;if((!A||!A.length)&&Rn(M)){var L=w&&w.length,B=M({yAxis:N?wa(wa({},N),{},{ticks:L?w:N.ticks}):void 0,width:s,height:l,offset:c},L?!0:x);Vf(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(X0(B),"]")),Array.isArray(B)&&(A=B)}if((!R||!R.length)&&Rn(I)){var $=T&&T.length,W=I({xAxis:k?wa(wa({},k),{},{ticks:$?T:k.ticks}):void 0,width:s,height:l,offset:c},$?!0:x);Vf(Array.isArray(W),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(X0(W),"]")),Array.isArray(W)&&(R=W)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(mxt,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),F.createElement(gxt,l0({},d,{offset:c,horizontalPoints:A,xAxis:k,yAxis:N})),F.createElement(yxt,l0({},d,{offset:c,verticalPoints:R,xAxis:k,yAxis:N})),F.createElement(bxt,l0({},d,{horizontalPoints:A})),F.createElement(vxt,l0({},d,{verticalPoints:R})))}nve.displayName="CartesianGrid";var Ext=["type","layout","connectNulls","ref"],Sxt=["key"];function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function wne(e,t){if(e==null)return{};var n=Cxt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cxt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VS.apply(this,arguments)}function Ene(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ene(Object(n),!0).forEach(function(r){eu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ene(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uv(e){return Axt(e)||_xt(e)||kxt(e)||Txt()}function Txt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kxt(e,t){if(e){if(typeof e=="string")return K$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K$(e,t)}}function _xt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Axt(e){if(Array.isArray(e))return K$(e)}function K$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ive(r.key),r)}}function Oxt(e,t,n){return t&&Sne(e.prototype,t),n&&Sne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mxt(e,t,n){return t=UM(t),Dxt(e,rve()?Reflect.construct(t,n||[],UM(e).constructor):t.apply(e,n))}function Dxt(e,t){if(t&&(U1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rxt(e)}function Rxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rve=function(){return!!e})()}function UM(e){return UM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},UM(e)}function Ixt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X$(e,t)}function X$(e,t){return X$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X$(e,t)}function eu(e,t,n){return t=ive(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ive(e){var t=Pxt(e,"string");return U1(t)=="symbol"?t:t+""}function Pxt(e,t){if(U1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(U1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yk=(function(e){function t(){var n;Nxt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Mxt(this,t,[].concat(i)),eu(n,"state",{isAnimationFinished:!0,totalLength:0}),eu(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),eu(n,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(T,k){return T+k});if(!c)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/c),u=a%c,p=s-a,m=[],v=0,x=0;v<l.length;x+=l[v],++v)if(x+l[v]>u){m=[].concat(uv(l.slice(0,v)),[u-x]);break}var w=m.length%2===0?[0,p]:[p];return[].concat(uv(t.repeat(l,d)),uv(m),w).map(function(T){return"".concat(T,"px")}).join(", ")}),eu(n,"id",ck("recharts-line-")),eu(n,"pathRef",function(a){n.mainCurve=a}),eu(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),eu(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ixt(t,e),Oxt(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,u=yc(d,mk);if(!u)return null;var p=function(x,w){return{x:x.x,y:x.y,value:x.value,errorVal:Il(x.payload,w)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(Wi,m,u.map(function(v){return F.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,u=Jn(this.props,!1),p=Jn(l,!0),m=c.map(function(x,w){var T=pl(pl(pl({key:"dot-".concat(w),r:3},u),p),{},{index:w,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:c});return t.renderDotItem(l,T)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return F.createElement(Wi,VS({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var u=wne(s,Ext),p=pl(pl(pl({},Jn(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:d});return F.createElement(_$,VS({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,d=a.animationBegin,u=a.animationDuration,p=a.animationEasing,m=a.animationId,v=a.animateNewValues,x=a.width,w=a.height,T=this.state,k=T.prevPoints,N=T.totalLength;return F.createElement(ih,{begin:d,duration:u,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var M=I.t;if(k){var A=k.length/s.length,R=s.map(function(V,Y){var U=Math.floor(Y*A);if(k[U]){var X=k[U],q=nu(X.x,V.x),ne=nu(X.y,V.y);return pl(pl({},V),{},{x:q(M),y:ne(M)})}if(v){var Z=nu(x*2,V.x),oe=nu(w/2,V.y);return pl(pl({},V),{},{x:Z(M),y:oe(M)})}return pl(pl({},V),{},{x:V.x,y:V.y})});return o.renderCurveStatically(R,r,i)}var L=nu(0,N),B=L(M),$;if(l){var W="".concat(l).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});$=o.getStrokeDasharray(B,N,W)}else $=o.generateSimpleStrokeDasharray(N,B);return o.renderCurveStatically(s,r,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!c&&d>0||!YR(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,d=i.yAxis,u=i.top,p=i.left,m=i.width,v=i.height,x=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var T=this.state.isAnimationFinished,k=s.length===1,N=Xn("recharts-line",l),I=c&&c.allowDataOverflow,M=d&&d.allowDataOverflow,A=I||M,R=qn(w)?this.id:w,L=(r=Jn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},B=L.r,$=B===void 0?3:B,W=L.strokeWidth,V=W===void 0?2:W,Y=Zst(a)?a:{},U=Y.clipDot,X=U===void 0?!0:U,q=$*2+V;return F.createElement(Wi,{className:N},I||M?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(R)},F.createElement("rect",{x:I?p:p-m/2,y:M?u:u-v/2,width:I?m:m*2,height:M?v:v*2})),!X&&F.createElement("clipPath",{id:"clipPath-dots-".concat(R)},F.createElement("rect",{x:p-q/2,y:u-q/2,width:m+q,height:v+q}))):null,!k&&this.renderCurve(A,R),this.renderErrorBar(A,R),(k||a)&&this.renderDots(A,X,R),(!x||T)&&Kp.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(uv(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(uv(a),uv(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(F.isValidElement(r))o=F.cloneElement(r,i);else if(Rn(r))o=r(i);else{var a=i.key,s=wne(i,Sxt),l=Xn("recharts-line-dot",typeof r!="boolean"?r.className:"");o=F.createElement(zU,VS({key:a},s,{className:l}))}return o}}])})(C.PureComponent);eu(yk,"displayName","Line");eu(yk,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Sx.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});eu(yk,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,u=l.map(function(p,m){var v=Il(p,a);return d==="horizontal"?{x:jee({axis:n,ticks:i,bandSize:s,entry:p,index:m}),y:qn(v)?null:r.scale(v),value:v,payload:p}:{x:qn(v)?null:n.scale(v),y:jee({axis:r,ticks:o,bandSize:s,entry:p,index:m}),value:v,payload:p}});return pl({points:u,layout:d},c)});function z1(e){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z1(e)}function Lxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jxt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sve(r.key),r)}}function Bxt(e,t,n){return t&&jxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $xt(e,t,n){return t=zM(t),Hxt(e,ove()?Reflect.construct(t,n||[],zM(e).constructor):t.apply(e,n))}function Hxt(e,t){if(t&&(z1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fxt(e)}function Fxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ove(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ove=function(){return!!e})()}function zM(e){return zM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zM(e)}function Uxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z$(e,t)}function Z$(e,t){return Z$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z$(e,t)}function ave(e,t,n){return t=sve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sve(e){var t=zxt(e,"string");return z1(t)=="symbol"?t:t+""}function zxt(e,t){if(z1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(z1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Q$(){return Q$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q$.apply(this,arguments)}function Vxt(e){var t=e.xAxisId,n=YU(),r=GU(),i=Vbe(t);return i==null?null:C.createElement(_x,Q$({},i,{className:Xn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return If(a,!0)}}))}var r3=(function(e){function t(){return Lxt(this,t),$xt(this,t,arguments)}return Uxt(t,e),Bxt(t,[{key:"render",value:function(){return C.createElement(Vxt,this.props)}}])})(C.Component);ave(r3,"displayName","XAxis");ave(r3,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function V1(e){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V1(e)}function qxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wxt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uve(r.key),r)}}function Yxt(e,t,n){return t&&Wxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gxt(e,t,n){return t=VM(t),Kxt(e,lve()?Reflect.construct(t,n||[],VM(e).constructor):t.apply(e,n))}function Kxt(e,t){if(t&&(V1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xxt(e)}function Xxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lve=function(){return!!e})()}function VM(e){return VM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},VM(e)}function Zxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J$(e,t)}function J$(e,t){return J$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J$(e,t)}function cve(e,t,n){return t=uve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uve(e){var t=Qxt(e,"string");return V1(t)=="symbol"?t:t+""}function Qxt(e,t){if(V1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(V1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eH(){return eH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eH.apply(this,arguments)}var Jxt=function(t){var n=t.yAxisId,r=YU(),i=GU(),o=qbe(n);return o==null?null:C.createElement(_x,eH({},o,{className:Xn("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return If(s,!0)}}))},i3=(function(e){function t(){return qxt(this,t),Gxt(this,t,arguments)}return Zxt(t,e),Yxt(t,[{key:"render",value:function(){return C.createElement(Jxt,this.props)}}])})(C.Component);cve(i3,"displayName","YAxis");cve(i3,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Cne(e){return rwt(e)||nwt(e)||twt(e)||ewt()}function ewt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function twt(e,t){if(e){if(typeof e=="string")return tH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tH(e,t)}}function nwt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rwt(e){if(Array.isArray(e))return tH(e)}function tH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nH=function(t,n,r,i,o){var a=yc(t,XU),s=yc(t,e3),l=[].concat(Cne(a),Cne(s)),c=yc(t,n3),d="".concat(i,"Id"),u=i[0],p=n;if(l.length&&(p=l.reduce(function(x,w){if(w.props[d]===r&&kd(w.props,"extendDomain")&&dt(w.props[u])){var T=w.props[u];return[Math.min(x[0],T),Math.max(x[1],T)]}return x},p)),c.length){var m="".concat(u,"1"),v="".concat(u,"2");p=c.reduce(function(x,w){if(w.props[d]===r&&kd(w.props,"extendDomain")&&dt(w.props[m])&&dt(w.props[v])){var T=w.props[m],k=w.props[v];return[Math.min(x[0],T,k),Math.max(x[1],T,k)]}return x},p)}return o&&o.length&&(p=o.reduce(function(x,w){return dt(w)?[Math.min(x[0],w),Math.max(x[1],w)]:x},p)),p},x6={exports:{}},Tne;function iwt(){return Tne||(Tne=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var p=0,m=u.length,v=new Array(m);p<m;p++)v[p]=u[p].fn;return v},s.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},s.prototype.emit=function(c,d,u,p,m,v){var x=n?n+c:c;if(!this._events[x])return!1;var w=this._events[x],T=arguments.length,k,N;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),T){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,u),!0;case 4:return w.fn.call(w.context,d,u,p),!0;case 5:return w.fn.call(w.context,d,u,p,m),!0;case 6:return w.fn.call(w.context,d,u,p,m,v),!0}for(N=1,k=new Array(T-1);N<T;N++)k[N-1]=arguments[N];w.fn.apply(w.context,k)}else{var I=w.length,M;for(N=0;N<I;N++)switch(w[N].once&&this.removeListener(c,w[N].fn,void 0,!0),T){case 1:w[N].fn.call(w[N].context);break;case 2:w[N].fn.call(w[N].context,d);break;case 3:w[N].fn.call(w[N].context,d,u);break;case 4:w[N].fn.call(w[N].context,d,u,p);break;default:if(!k)for(M=1,k=new Array(T-1);M<T;M++)k[M-1]=arguments[M];w[N].fn.apply(w[N].context,k)}}return!0},s.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},s.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},s.prototype.removeListener=function(c,d,u,p){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!p||v.once)&&(!u||v.context===u)&&a(this,m);else{for(var x=0,w=[],T=v.length;x<T;x++)(v[x].fn!==d||p&&!v[x].once||u&&v[x].context!==u)&&w.push(v[x]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(x6)),x6.exports}var owt=iwt();const awt=vr(owt);var w6=new awt,E6="recharts.syncMouseEvents";function uT(e){"@babel/helpers - typeof";return uT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uT(e)}function swt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lwt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dve(r.key),r)}}function cwt(e,t,n){return t&&lwt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S6(e,t,n){return t=dve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dve(e){var t=uwt(e,"string");return uT(t)=="symbol"?t:t+""}function uwt(e,t){if(uT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dwt=(function(){function e(){swt(this,e),S6(this,"activeIndex",0),S6(this,"coordinateList",[]),S6(this,"layout","horizontal")}return cwt(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,d=n.offset,u=d===void 0?null:d,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,u=o+l+c,p=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:u,pageY:p})}}}])})();function fwt(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],i=e?.[1];if(r&&i&&dt(r)&&dt(i))return!0}return!1}function hwt(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function fve(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,a=ta(t,n,r,i),s=ta(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function pwt(e,t,n){var r,i,o,a;if(e==="horizontal")r=t.x,o=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,p=ta(s,l,c,u),m=ta(s,l,d,u);r=p.x,i=p.y,o=m.x,a=m.y}else return fve(t);return[{x:r,y:i},{x:o,y:a}]}function dT(e){"@babel/helpers - typeof";return dT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dT(e)}function kne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kne(Object(n),!0).forEach(function(r){mwt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mwt(e,t,n){return t=gwt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gwt(e){var t=ywt(e,"string");return dT(t)=="symbol"?t:t+""}function ywt(e,t){if(dT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bwt(e){var t,n,r=e.element,i=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,u=e.layout,p=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||p!=="ScatterChart"&&i!=="axis")return null;var v,x=_$;if(p==="ScatterChart")v=a,x=mbt;else if(p==="BarChart")v=hwt(u,a,l,d),x=UU;else if(u==="radial"){var w=fve(a),T=w.cx,k=w.cy,N=w.radius,I=w.startAngle,M=w.endAngle;v={cx:T,cy:k,startAngle:I,endAngle:M,innerRadius:N,outerRadius:N},x=xbe}else v={points:pwt(u,a,l)},x=_$;var A=LA(LA(LA(LA({stroke:"#ccc",pointerEvents:"none"},l),v),Jn(m,!1)),{},{payload:s,payloadIndex:c,className:Xn("recharts-tooltip-cursor",m.className)});return C.isValidElement(m)?C.cloneElement(m,A):C.createElement(x,A)}var vwt=["item"],xwt=["children","className","width","height","style","compact","title","desc"];function q1(e){"@babel/helpers - typeof";return q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q1(e)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dv.apply(this,arguments)}function _ne(e,t){return Swt(e)||Ewt(e,t)||pve(e,t)||wwt()}function wwt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Swt(e){if(Array.isArray(e))return e}function Ane(e,t){if(e==null)return{};var n=Cwt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cwt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Twt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kwt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mve(r.key),r)}}function _wt(e,t,n){return t&&kwt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Awt(e,t,n){return t=qM(t),Nwt(e,hve()?Reflect.construct(t,n||[],qM(e).constructor):t.apply(e,n))}function Nwt(e,t){if(t&&(q1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Owt(e)}function Owt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hve=function(){return!!e})()}function qM(e){return qM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qM(e)}function Mwt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rH(e,t)}function rH(e,t){return rH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rH(e,t)}function W1(e){return Iwt(e)||Rwt(e)||pve(e)||Dwt()}function Dwt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pve(e,t){if(e){if(typeof e=="string")return iH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iH(e,t)}}function Rwt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Iwt(e){if(Array.isArray(e))return iH(e)}function iH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nne(Object(n),!0).forEach(function(r){nn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nn(e,t,n){return t=mve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mve(e){var t=Pwt(e,"string");return q1(t)=="symbol"?t:t+""}function Pwt(e,t){if(q1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(q1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lwt={xAxis:["bottom","top"],yAxis:["left","right"]},jwt={width:"100%",height:"100%"},gve={x:0,y:0};function jA(e){return e}var Bwt=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},$wt=function(t,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var a=o.coordinate,s=i.radius;return ze(ze(ze({},i),ta(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return ze(ze(ze({},i),ta(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return gve},o3=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(W1(s),W1(c)):s},[]);return a.length>0?a:t&&t.length&&dt(i)&&dt(o)?t.slice(i,o+1):[]};function yve(e){return e==="number"?[0,"auto"]:void 0}var oH=function(t,n,r,i){var o=t.graphicalItems,a=t.tooltipAxis,s=o3(n,t);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var d,u=(d=c.props.data)!==null&&d!==void 0?d:n;u&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(u=u.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var m=u===void 0?s:u;p=XO(m,a.dataKey,i)}else p=u&&u[r]||s[r];return p?[].concat(W1(l),[ybe(c,p)]):l},[])},One=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},a=Bwt(o,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,d=Zmt(a,s,c,l);if(d>=0&&c){var u=c[d]&&c[d].value,p=oH(t,n,d,u),m=$wt(r,s,d,o);return{activeTooltipIndex:d,activeLabel:u,activePayload:p,activeCoordinate:m}}return null},Hwt=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=t.layout,u=t.children,p=t.stackOffset,m=pbe(d,o);return r.reduce(function(v,x){var w,T=x.type.defaultProps!==void 0?ze(ze({},x.type.defaultProps),x.props):x.props,k=T.type,N=T.dataKey,I=T.allowDataOverflow,M=T.allowDuplicatedCategory,A=T.scale,R=T.ticks,L=T.includeHidden,B=T[a];if(v[B])return v;var $=o3(t.data,{graphicalItems:i.filter(function(te){var z,fe=a in te.props?te.props[a]:(z=te.type.defaultProps)===null||z===void 0?void 0:z[a];return fe===B}),dataStartIndex:l,dataEndIndex:c}),W=$.length,V,Y,U;fwt(T.domain,I,k)&&(V=E$(T.domain,null,I),m&&(k==="number"||A!=="auto")&&(U=US($,N,"category")));var X=yve(k);if(!V||V.length===0){var q,ne=(q=T.domain)!==null&&q!==void 0?q:X;if(N){if(V=US($,N,k),k==="category"&&m){var Z=Fst(V);M&&Z?(Y=V,V=DM(0,W)):M||(V=Fee(ne,V,x).reduce(function(te,z){return te.indexOf(z)>=0?te:[].concat(W1(te),[z])},[]))}else if(k==="category")M?V=V.filter(function(te){return te!==""&&!qn(te)}):V=Fee(ne,V,x).reduce(function(te,z){return te.indexOf(z)>=0||z===""||qn(z)?te:[].concat(W1(te),[z])},[]);else if(k==="number"){var oe=ngt($,i.filter(function(te){var z,fe,me=a in te.props?te.props[a]:(z=te.type.defaultProps)===null||z===void 0?void 0:z[a],ke="hide"in te.props?te.props.hide:(fe=te.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return me===B&&(L||!ke)}),N,o,d);oe&&(V=oe)}m&&(k==="number"||A!=="auto")&&(U=US($,N,"category"))}else m?V=DM(0,W):s&&s[B]&&s[B].hasStack&&k==="number"?V=p==="expand"?[0,1]:gbe(s[B].stackGroups,l,c):V=hbe($,i.filter(function(te){var z=a in te.props?te.props[a]:te.type.defaultProps[a],fe="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return z===B&&(L||!fe)}),k,d,!0);if(k==="number")V=nH(u,V,B,o,R),ne&&(V=E$(ne,V,I));else if(k==="category"&&ne){var K=ne,Q=V.every(function(te){return K.indexOf(te)>=0});Q&&(V=K)}}return ze(ze({},v),{},nn({},B,ze(ze({},T),{},{axisType:o,domain:V,categoricalDomain:U,duplicateDomain:Y,originalDomain:(w=T.domain)!==null&&w!==void 0?w:X,isCategorical:m,layout:d})))},{})},Fwt=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=t.layout,u=t.children,p=o3(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=p.length,v=pbe(d,o),x=-1;return r.reduce(function(w,T){var k=T.type.defaultProps!==void 0?ze(ze({},T.type.defaultProps),T.props):T.props,N=k[a],I=yve("number");if(!w[N]){x++;var M;return v?M=DM(0,m):s&&s[N]&&s[N].hasStack?(M=gbe(s[N].stackGroups,l,c),M=nH(u,M,N,o)):(M=E$(I,hbe(p,r.filter(function(A){var R,L,B=a in A.props?A.props[a]:(R=A.type.defaultProps)===null||R===void 0?void 0:R[a],$="hide"in A.props?A.props.hide:(L=A.type.defaultProps)===null||L===void 0?void 0:L.hide;return B===N&&!$}),"number",d),i.defaultProps.allowDataOverflow),M=nH(u,M,N,o)),ze(ze({},w),{},nn({},N,ze(ze({axisType:o},i.defaultProps),{},{hide:!0,orientation:gc(Lwt,"".concat(o,".").concat(x%2),null),domain:M,originalDomain:I,isCategorical:v,layout:d})))}return w},{})},Uwt=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=t.children,u="".concat(i,"Id"),p=yc(d,o),m={};return p&&p.length?m=Hwt(t,{axes:p,graphicalItems:a,axisType:i,axisIdKey:u,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(m=Fwt(t,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:u,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),m},zwt=function(t){var n=Rp(t),r=If(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:mU(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:SM(n,r)}},Mne=function(t){var n=t.children,r=t.defaultShowTooltip,i=vl(n,L1),o=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Vwt=function(t){return!t||!t.length?!1:t.some(function(n){var r=zf(n&&n.type);return r&&r.indexOf("Bar")>=0})},Dne=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qwt=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,a=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=r.width,d=r.height,u=r.children,p=r.margin||{},m=vl(u,L1),v=vl(u,w0),x=Object.keys(l).reduce(function(M,A){var R=l[A],L=R.orientation;return!R.mirror&&!R.hide?ze(ze({},M),{},nn({},L,M[L]+R.width)):M},{left:p.left||0,right:p.right||0}),w=Object.keys(a).reduce(function(M,A){var R=a[A],L=R.orientation;return!R.mirror&&!R.hide?ze(ze({},M),{},nn({},L,gc(M,"".concat(L))+R.height)):M},{top:p.top||0,bottom:p.bottom||0}),T=ze(ze({},w),x),k=T.bottom;m&&(T.bottom+=m.props.height||L1.defaultProps.height),v&&n&&(T=egt(T,i,r,n));var N=c-T.left-T.right,I=d-T.top-T.bottom;return ze(ze({brushBottom:k},T),{},{width:Math.max(N,0),height:Math.max(I,0)})},Wwt=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Ywt=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,a=t.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,u=t.defaultProps,p=function(T,k){var N=k.graphicalItems,I=k.stackGroups,M=k.offset,A=k.updateId,R=k.dataStartIndex,L=k.dataEndIndex,B=T.barSize,$=T.layout,W=T.barGap,V=T.barCategoryGap,Y=T.maxBarSize,U=Dne($),X=U.numericAxisName,q=U.cateAxisName,ne=Vwt(N),Z=[];return N.forEach(function(oe,K){var Q=o3(T.data,{graphicalItems:[oe],dataStartIndex:R,dataEndIndex:L}),te=oe.type.defaultProps!==void 0?ze(ze({},oe.type.defaultProps),oe.props):oe.props,z=te.dataKey,fe=te.maxBarSize,me=te["".concat(X,"Id")],ke=te["".concat(q,"Id")],Ee={},ve=l.reduce(function(xe,Te){var Je=k["".concat(Te.axisType,"Map")],Ze=te["".concat(Te.axisType,"Id")];Je&&Je[Ze]||Te.axisType==="zAxis"||K0();var Qe=Je[Ze];return ze(ze({},xe),{},nn(nn({},Te.axisType,Qe),"".concat(Te.axisType,"Ticks"),If(Qe)))},Ee),we=ve[q],je=ve["".concat(q,"Ticks")],Ke=I&&I[me]&&I[me].hasStack&&pgt(oe,I[me].stackGroups),Me=zf(oe.type).indexOf("Bar")>=0,Lt=SM(we,je),Ve=[],an=ne&&Qmt({barSize:B,stackGroups:I,totalSize:Wwt(ve,q)});if(Me){var cn,Qt,Yr=qn(fe)?Y:fe,er=(cn=(Qt=SM(we,je,!0))!==null&&Qt!==void 0?Qt:Yr)!==null&&cn!==void 0?cn:0;Ve=Jmt({barGap:W,barCategoryGap:V,bandSize:er!==Lt?er:Lt,sizeList:an[ke],maxBarSize:Yr}),er!==Lt&&(Ve=Ve.map(function(xe){return ze(ze({},xe),{},{position:ze(ze({},xe.position),{},{offset:xe.position.offset-er/2})})}))}var ce=oe&&oe.type&&oe.type.getComposedData;ce&&Z.push({props:ze(ze({},ce(ze(ze({},ve),{},{displayedData:Q,props:T,dataKey:z,item:oe,bandSize:Lt,barPosition:Ve,offset:M,stackedData:Ke,layout:$,dataStartIndex:R,dataEndIndex:L}))),{},nn(nn(nn({key:oe.key||"item-".concat(K)},X,ve[X]),q,ve[q]),"animationId",A)),childIndex:elt(oe,T.children),item:oe})}),Z},m=function(T,k){var N=T.props,I=T.dataStartIndex,M=T.dataEndIndex,A=T.updateId;if(!tZ({props:N}))return null;var R=N.children,L=N.layout,B=N.stackOffset,$=N.data,W=N.reverseStackOrder,V=Dne(L),Y=V.numericAxisName,U=V.cateAxisName,X=yc(R,r),q=dgt($,X,"".concat(Y,"Id"),"".concat(U,"Id"),B,W),ne=l.reduce(function(te,z){var fe="".concat(z.axisType,"Map");return ze(ze({},te),{},nn({},fe,Uwt(N,ze(ze({},z),{},{graphicalItems:X,stackGroups:z.axisType===Y&&q,dataStartIndex:I,dataEndIndex:M}))))},{}),Z=qwt(ze(ze({},ne),{},{props:N,graphicalItems:X}),k?.legendBBox);Object.keys(ne).forEach(function(te){ne[te]=d(N,ne[te],Z,te.replace("Map",""),n)});var oe=ne["".concat(U,"Map")],K=zwt(oe),Q=p(N,ze(ze({},ne),{},{dataStartIndex:I,dataEndIndex:M,updateId:A,graphicalItems:X,stackGroups:q,offset:Z}));return ze(ze({formattedGraphicalItems:Q,graphicalItems:X,offset:Z,stackGroups:q},K),ne)},v=(function(w){function T(k){var N,I,M;return Twt(this,T),M=Awt(this,T,[k]),nn(M,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),nn(M,"accessibilityManager",new dwt),nn(M,"handleLegendBBoxUpdate",function(A){if(A){var R=M.state,L=R.dataStartIndex,B=R.dataEndIndex,$=R.updateId;M.setState(ze({legendBBox:A},m({props:M.props,dataStartIndex:L,dataEndIndex:B,updateId:$},ze(ze({},M.state),{},{legendBBox:A}))))}}),nn(M,"handleReceiveSyncEvent",function(A,R,L){if(M.props.syncId===A){if(L===M.eventEmitterSymbol&&typeof M.props.syncMethod!="function")return;M.applySyncEvent(R)}}),nn(M,"handleBrushChange",function(A){var R=A.startIndex,L=A.endIndex;if(R!==M.state.dataStartIndex||L!==M.state.dataEndIndex){var B=M.state.updateId;M.setState(function(){return ze({dataStartIndex:R,dataEndIndex:L},m({props:M.props,dataStartIndex:R,dataEndIndex:L,updateId:B},M.state))}),M.triggerSyncEvent({dataStartIndex:R,dataEndIndex:L})}}),nn(M,"handleMouseEnter",function(A){var R=M.getMouseInfo(A);if(R){var L=ze(ze({},R),{},{isTooltipActive:!0});M.setState(L),M.triggerSyncEvent(L);var B=M.props.onMouseEnter;Rn(B)&&B(L,A)}}),nn(M,"triggeredAfterMouseMove",function(A){var R=M.getMouseInfo(A),L=R?ze(ze({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};M.setState(L),M.triggerSyncEvent(L);var B=M.props.onMouseMove;Rn(B)&&B(L,A)}),nn(M,"handleItemMouseEnter",function(A){M.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),nn(M,"handleItemMouseLeave",function(){M.setState(function(){return{isTooltipActive:!1}})}),nn(M,"handleMouseMove",function(A){A.persist(),M.throttleTriggeredAfterMouseMove(A)}),nn(M,"handleMouseLeave",function(A){M.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};M.setState(R),M.triggerSyncEvent(R);var L=M.props.onMouseLeave;Rn(L)&&L(R,A)}),nn(M,"handleOuterEvent",function(A){var R=Jst(A),L=gc(M.props,"".concat(R));if(R&&Rn(L)){var B,$;/.*touch.*/i.test(R)?$=M.getMouseInfo(A.changedTouches[0]):$=M.getMouseInfo(A),L((B=$)!==null&&B!==void 0?B:{},A)}}),nn(M,"handleClick",function(A){var R=M.getMouseInfo(A);if(R){var L=ze(ze({},R),{},{isTooltipActive:!0});M.setState(L),M.triggerSyncEvent(L);var B=M.props.onClick;Rn(B)&&B(L,A)}}),nn(M,"handleMouseDown",function(A){var R=M.props.onMouseDown;if(Rn(R)){var L=M.getMouseInfo(A);R(L,A)}}),nn(M,"handleMouseUp",function(A){var R=M.props.onMouseUp;if(Rn(R)){var L=M.getMouseInfo(A);R(L,A)}}),nn(M,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&M.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),nn(M,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&M.handleMouseDown(A.changedTouches[0])}),nn(M,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&M.handleMouseUp(A.changedTouches[0])}),nn(M,"handleDoubleClick",function(A){var R=M.props.onDoubleClick;if(Rn(R)){var L=M.getMouseInfo(A);R(L,A)}}),nn(M,"handleContextMenu",function(A){var R=M.props.onContextMenu;if(Rn(R)){var L=M.getMouseInfo(A);R(L,A)}}),nn(M,"triggerSyncEvent",function(A){M.props.syncId!==void 0&&w6.emit(E6,M.props.syncId,A,M.eventEmitterSymbol)}),nn(M,"applySyncEvent",function(A){var R=M.props,L=R.layout,B=R.syncMethod,$=M.state.updateId,W=A.dataStartIndex,V=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)M.setState(ze({dataStartIndex:W,dataEndIndex:V},m({props:M.props,dataStartIndex:W,dataEndIndex:V,updateId:$},M.state)));else if(A.activeTooltipIndex!==void 0){var Y=A.chartX,U=A.chartY,X=A.activeTooltipIndex,q=M.state,ne=q.offset,Z=q.tooltipTicks;if(!ne)return;if(typeof B=="function")X=B(Z,A);else if(B==="value"){X=-1;for(var oe=0;oe<Z.length;oe++)if(Z[oe].value===A.activeLabel){X=oe;break}}var K=ze(ze({},ne),{},{x:ne.left,y:ne.top}),Q=Math.min(Y,K.x+K.width),te=Math.min(U,K.y+K.height),z=Z[X]&&Z[X].value,fe=oH(M.state,M.props.data,X),me=Z[X]?{x:L==="horizontal"?Z[X].coordinate:Q,y:L==="horizontal"?te:Z[X].coordinate}:gve;M.setState(ze(ze({},A),{},{activeLabel:z,activeCoordinate:me,activePayload:fe,activeTooltipIndex:X}))}else M.setState(A)}),nn(M,"renderCursor",function(A){var R,L=M.state,B=L.isTooltipActive,$=L.activeCoordinate,W=L.activePayload,V=L.offset,Y=L.activeTooltipIndex,U=L.tooltipAxisBandSize,X=M.getTooltipEventType(),q=(R=A.props.active)!==null&&R!==void 0?R:B,ne=M.props.layout,Z=A.key||"_recharts-cursor";return F.createElement(bwt,{key:Z,activeCoordinate:$,activePayload:W,activeTooltipIndex:Y,chartName:n,element:A,isActive:q,layout:ne,offset:V,tooltipAxisBandSize:U,tooltipEventType:X})}),nn(M,"renderPolarAxis",function(A,R,L){var B=gc(A,"type.axisType"),$=gc(M.state,"".concat(B,"Map")),W=A.type.defaultProps,V=W!==void 0?ze(ze({},W),A.props):A.props,Y=$&&$[V["".concat(B,"Id")]];return C.cloneElement(A,ze(ze({},Y),{},{className:Xn(B,Y.className),key:A.key||"".concat(R,"-").concat(L),ticks:If(Y,!0)}))}),nn(M,"renderPolarGrid",function(A){var R=A.props,L=R.radialLines,B=R.polarAngles,$=R.polarRadius,W=M.state,V=W.radiusAxisMap,Y=W.angleAxisMap,U=Rp(V),X=Rp(Y),q=X.cx,ne=X.cy,Z=X.innerRadius,oe=X.outerRadius;return C.cloneElement(A,{polarAngles:Array.isArray(B)?B:If(X,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray($)?$:If(U,!0).map(function(K){return K.coordinate}),cx:q,cy:ne,innerRadius:Z,outerRadius:oe,key:A.key||"polar-grid",radialLines:L})}),nn(M,"renderLegend",function(){var A=M.state.formattedGraphicalItems,R=M.props,L=R.children,B=R.width,$=R.height,W=M.props.margin||{},V=B-(W.left||0)-(W.right||0),Y=dbe({children:L,formattedGraphicalItems:A,legendWidth:V,legendContent:c});if(!Y)return null;var U=Y.item,X=Ane(Y,vwt);return C.cloneElement(U,ze(ze({},X),{},{chartWidth:B,chartHeight:$,margin:W,onBBoxUpdate:M.handleLegendBBoxUpdate}))}),nn(M,"renderTooltip",function(){var A,R=M.props,L=R.children,B=R.accessibilityLayer,$=vl(L,hd);if(!$)return null;var W=M.state,V=W.isTooltipActive,Y=W.activeCoordinate,U=W.activePayload,X=W.activeLabel,q=W.offset,ne=(A=$.props.active)!==null&&A!==void 0?A:V;return C.cloneElement($,{viewBox:ze(ze({},q),{},{x:q.left,y:q.top}),active:ne,label:X,payload:ne?U:[],coordinate:Y,accessibilityLayer:B})}),nn(M,"renderBrush",function(A){var R=M.props,L=R.margin,B=R.data,$=M.state,W=$.offset,V=$.dataStartIndex,Y=$.dataEndIndex,U=$.updateId;return C.cloneElement(A,{key:A.key||"_recharts-brush",onChange:DA(M.handleBrushChange,A.props.onChange),data:B,x:dt(A.props.x)?A.props.x:W.left,y:dt(A.props.y)?A.props.y:W.top+W.height+W.brushBottom-(L.bottom||0),width:dt(A.props.width)?A.props.width:W.width,startIndex:V,endIndex:Y,updateId:"brush-".concat(U)})}),nn(M,"renderReferenceElement",function(A,R,L){if(!A)return null;var B=M,$=B.clipPathId,W=M.state,V=W.xAxisMap,Y=W.yAxisMap,U=W.offset,X=A.type.defaultProps||{},q=A.props,ne=q.xAxisId,Z=ne===void 0?X.xAxisId:ne,oe=q.yAxisId,K=oe===void 0?X.yAxisId:oe;return C.cloneElement(A,{key:A.key||"".concat(R,"-").concat(L),xAxis:V[Z],yAxis:Y[K],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:$})}),nn(M,"renderActivePoints",function(A){var R=A.item,L=A.activePoint,B=A.basePoint,$=A.childIndex,W=A.isRange,V=[],Y=R.props.key,U=R.item.type.defaultProps!==void 0?ze(ze({},R.item.type.defaultProps),R.item.props):R.item.props,X=U.activeDot,q=U.dataKey,ne=ze(ze({index:$,dataKey:q,cx:L.x,cy:L.y,r:4,fill:FU(R.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Jn(X,!1)),ZO(X));return V.push(T.renderActiveDot(X,ne,"".concat(Y,"-activePoint-").concat($))),B?V.push(T.renderActiveDot(X,ze(ze({},ne),{},{cx:B.x,cy:B.y}),"".concat(Y,"-basePoint-").concat($))):W&&V.push(null),V}),nn(M,"renderGraphicChild",function(A,R,L){var B=M.filterFormatItem(A,R,L);if(!B)return null;var $=M.getTooltipEventType(),W=M.state,V=W.isTooltipActive,Y=W.tooltipAxis,U=W.activeTooltipIndex,X=W.activeLabel,q=M.props.children,ne=vl(q,hd),Z=B.props,oe=Z.points,K=Z.isRange,Q=Z.baseLine,te=B.item.type.defaultProps!==void 0?ze(ze({},B.item.type.defaultProps),B.item.props):B.item.props,z=te.activeDot,fe=te.hide,me=te.activeBar,ke=te.activeShape,Ee=!!(!fe&&V&&ne&&(z||me||ke)),ve={};$!=="axis"&&ne&&ne.props.trigger==="click"?ve={onClick:DA(M.handleItemMouseEnter,A.props.onClick)}:$!=="axis"&&(ve={onMouseLeave:DA(M.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:DA(M.handleItemMouseEnter,A.props.onMouseEnter)});var we=C.cloneElement(A,ze(ze({},B.props),ve));function je(Te){return typeof Y.dataKey=="function"?Y.dataKey(Te.payload):null}if(Ee)if(U>=0){var Ke,Me;if(Y.dataKey&&!Y.allowDuplicatedCategory){var Lt=typeof Y.dataKey=="function"?je:"payload.".concat(Y.dataKey.toString());Ke=XO(oe,Lt,X),Me=K&&Q&&XO(Q,Lt,X)}else Ke=oe?.[U],Me=K&&Q&&Q[U];if(ke||me){var Ve=A.props.activeIndex!==void 0?A.props.activeIndex:U;return[C.cloneElement(A,ze(ze(ze({},B.props),ve),{},{activeIndex:Ve})),null,null]}if(!qn(Ke))return[we].concat(W1(M.renderActivePoints({item:B,activePoint:Ke,basePoint:Me,childIndex:U,isRange:K})))}else{var an,cn=(an=M.getItemByXY(M.state.activeCoordinate))!==null&&an!==void 0?an:{graphicalItem:we},Qt=cn.graphicalItem,Yr=Qt.item,er=Yr===void 0?A:Yr,ce=Qt.childIndex,xe=ze(ze(ze({},B.props),ve),{},{activeIndex:ce});return[C.cloneElement(er,xe),null,null]}return K?[we,null,null]:[we,null]}),nn(M,"renderCustomized",function(A,R,L){return C.cloneElement(A,ze(ze({key:"recharts-customized-".concat(L)},M.props),M.state))}),nn(M,"renderMap",{CartesianGrid:{handler:jA,once:!0},ReferenceArea:{handler:M.renderReferenceElement},ReferenceLine:{handler:jA},ReferenceDot:{handler:M.renderReferenceElement},XAxis:{handler:jA},YAxis:{handler:jA},Brush:{handler:M.renderBrush,once:!0},Bar:{handler:M.renderGraphicChild},Line:{handler:M.renderGraphicChild},Area:{handler:M.renderGraphicChild},Radar:{handler:M.renderGraphicChild},RadialBar:{handler:M.renderGraphicChild},Scatter:{handler:M.renderGraphicChild},Pie:{handler:M.renderGraphicChild},Funnel:{handler:M.renderGraphicChild},Tooltip:{handler:M.renderCursor,once:!0},PolarGrid:{handler:M.renderPolarGrid,once:!0},PolarAngleAxis:{handler:M.renderPolarAxis},PolarRadiusAxis:{handler:M.renderPolarAxis},Customized:{handler:M.renderCustomized}}),M.clipPathId="".concat((N=k.id)!==null&&N!==void 0?N:ck("recharts"),"-clip"),M.throttleTriggeredAfterMouseMove=uye(M.triggeredAfterMouseMove,(I=k.throttleDelay)!==null&&I!==void 0?I:1e3/60),M.state={},M}return Mwt(T,w),_wt(T,[{key:"componentDidMount",value:function(){var N,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,I=N.children,M=N.data,A=N.height,R=N.layout,L=vl(I,hd);if(L){var B=L.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,W=oH(this.state,M,B,$),V=this.state.tooltipTicks[B].coordinate,Y=(this.state.offset.top+A)/2,U=R==="horizontal",X=U?{x:V,y:Y}:{y:V,x:Y},q=this.state.formattedGraphicalItems.find(function(Z){var oe=Z.item;return oe.type.name==="Scatter"});q&&(X=ze(ze({},X),q.props.points[B].tooltipPosition),W=q.props.points[B].tooltipPayload);var ne={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:$,activePayload:W,activeCoordinate:X};this.setState(ne),this.renderCursor(L),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var M,A;this.accessibilityManager.setDetails({offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(N){V8([vl(N.children,hd)],[vl(this.props.children,hd)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=vl(this.props.children,hd);if(N&&typeof N.props.shared=="boolean"){var I=N.props.shared?"axis":"item";return s.indexOf(I)>=0?I:o}return o}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var I=this.container,M=I.getBoundingClientRect(),A=Fdt(M),R={chartX:Math.round(N.pageX-A.left),chartY:Math.round(N.pageY-A.top)},L=M.width/I.offsetWidth||1,B=this.inRange(R.chartX,R.chartY,L);if(!B)return null;var $=this.state,W=$.xAxisMap,V=$.yAxisMap,Y=this.getTooltipEventType(),U=One(this.state,this.props.data,this.props.layout,B);if(Y!=="axis"&&W&&V){var X=Rp(W).scale,q=Rp(V).scale,ne=X&&X.invert?X.invert(R.chartX):null,Z=q&&q.invert?q.invert(R.chartY):null;return ze(ze({},R),{},{xValue:ne,yValue:Z},U)}return U?ze(ze({},R),U):null}},{key:"inRange",value:function(N,I){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,R=N/M,L=I/M;if(A==="horizontal"||A==="vertical"){var B=this.state.offset,$=R>=B.left&&R<=B.left+B.width&&L>=B.top&&L<=B.top+B.height;return $?{x:R,y:L}:null}var W=this.state,V=W.angleAxisMap,Y=W.radiusAxisMap;if(V&&Y){var U=Rp(V);return Vee({x:R,y:L},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,I=this.getTooltipEventType(),M=vl(N,hd),A={};M&&I==="axis"&&(M.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=ZO(this.props,this.handleOuterEvent);return ze(ze({},R),A)}},{key:"addListener",value:function(){w6.on(E6,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){w6.removeListener(E6,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,I,M){for(var A=this.state.formattedGraphicalItems,R=0,L=A.length;R<L;R++){var B=A[R];if(B.item===N||B.props.key===N.key||I===zf(B.item.type)&&M===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,I=this.state.offset,M=I.left,A=I.top,R=I.height,L=I.width;return F.createElement("defs",null,F.createElement("clipPath",{id:N},F.createElement("rect",{x:M,y:A,height:R,width:L})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(I,M){var A=_ne(M,2),R=A[0],L=A[1];return ze(ze({},I),{},nn({},R,L.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(I,M){var A=_ne(M,2),R=A[0],L=A[1];return ze(ze({},I),{},nn({},R,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[N])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(N){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[N])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(N){var I=this.state,M=I.formattedGraphicalItems,A=I.activeItem;if(M&&M.length)for(var R=0,L=M.length;R<L;R++){var B=M[R],$=B.props,W=B.item,V=W.type.defaultProps!==void 0?ze(ze({},W.type.defaultProps),W.props):W.props,Y=zf(W.type);if(Y==="Bar"){var U=($.data||[]).find(function(Z){return obt(N,Z)});if(U)return{graphicalItem:B,payload:U}}else if(Y==="RadialBar"){var X=($.data||[]).find(function(Z){return Vee(N,Z)});if(X)return{graphicalItem:B,payload:X}}else if(XR(B,A)||ZR(B,A)||oT(B,A)){var q=Kbt({graphicalItem:B,activeTooltipItem:A,itemData:V.data}),ne=V.activeIndex===void 0?q:V.activeIndex;return{graphicalItem:ze(ze({},B),{},{childIndex:ne}),payload:oT(B,A)?V.data[q]:B.props.data[q]}}}return null}},{key:"render",value:function(){var N=this;if(!tZ(this))return null;var I=this.props,M=I.children,A=I.className,R=I.width,L=I.height,B=I.style,$=I.compact,W=I.title,V=I.desc,Y=Ane(I,xwt),U=Jn(Y,!1);if($)return F.createElement(lne,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(W8,Dv({},U,{width:R,height:L,title:W,desc:V}),this.renderClipPath(),rZ(M,this.renderMap)));if(this.props.accessibilityLayer){var X,q;U.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,U.role=(q=this.props.role)!==null&&q!==void 0?q:"application",U.onKeyDown=function(Z){N.accessibilityManager.keyboardEvent(Z)},U.onFocus=function(){N.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return F.createElement(lne,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",Dv({className:Xn("recharts-wrapper",A),style:ze({position:"relative",cursor:"default",width:R,height:L},B)},ne,{ref:function(oe){N.container=oe}}),F.createElement(W8,Dv({},U,{width:R,height:L,title:W,desc:V,style:jwt}),this.renderClipPath(),rZ(M,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);nn(v,"displayName",n),nn(v,"defaultProps",ze({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),nn(v,"getDerivedStateFromProps",function(w,T){var k=w.dataKey,N=w.data,I=w.children,M=w.width,A=w.height,R=w.layout,L=w.stackOffset,B=w.margin,$=T.dataStartIndex,W=T.dataEndIndex;if(T.updateId===void 0){var V=Mne(w);return ze(ze(ze({},V),{},{updateId:0},m(ze(ze({props:w},V),{},{updateId:0}),T)),{},{prevDataKey:k,prevData:N,prevWidth:M,prevHeight:A,prevLayout:R,prevStackOffset:L,prevMargin:B,prevChildren:I})}if(k!==T.prevDataKey||N!==T.prevData||M!==T.prevWidth||A!==T.prevHeight||R!==T.prevLayout||L!==T.prevStackOffset||!Kv(B,T.prevMargin)){var Y=Mne(w),U={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},X=ze(ze({},One(T,N,R)),{},{updateId:T.updateId+1}),q=ze(ze(ze({},Y),U),X);return ze(ze(ze({},q),m(ze({props:w},q),T)),{},{prevDataKey:k,prevData:N,prevWidth:M,prevHeight:A,prevLayout:R,prevStackOffset:L,prevMargin:B,prevChildren:I})}if(!V8(I,T.prevChildren)){var ne,Z,oe,K,Q=vl(I,L1),te=Q&&(ne=(Z=Q.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&ne!==void 0?ne:$,z=Q&&(oe=(K=Q.props)===null||K===void 0?void 0:K.endIndex)!==null&&oe!==void 0?oe:W,fe=te!==$||z!==W,me=!qn(N),ke=me&&!fe?T.updateId:T.updateId+1;return ze(ze({updateId:ke},m(ze(ze({props:w},T),{},{updateId:ke,dataStartIndex:te,dataEndIndex:z}),T)),{},{prevChildren:I,dataStartIndex:te,dataEndIndex:z})}return null}),nn(v,"renderActiveDot",function(w,T,k){var N;return C.isValidElement(w)?N=C.cloneElement(w,T):Rn(w)?N=w(T):N=F.createElement(zU,T),F.createElement(Wi,{className:"recharts-active-dot",key:k},N)});var x=C.forwardRef(function(T,k){return F.createElement(v,Dv({},T,{ref:k}))});return x.displayName=v.displayName,x},Gwt=Ywt({chartName:"LineChart",GraphicalChild:yk,axisComponents:[{axisType:"xAxis",AxisComp:r3},{axisType:"yAxis",AxisComp:i3}],formatAxisMap:qvt});const Kwt={light:"",dark:".dark"},bve=C.createContext(null);function vve(){const e=C.useContext(bve);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const xve=C.forwardRef(({id:e,className:t,children:n,config:r,...i},o)=>{const a=C.useId(),s=`chart-${e||a.replace(/:/g,"")}`;return g.jsx(bve.Provider,{value:{config:r},children:g.jsxs("div",{"data-chart":s,ref:o,className:Ie("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...i,children:[g.jsx(Xwt,{id:s,config:r}),g.jsx(Idt,{children:n})]})})});xve.displayName="Chart";const Xwt=({id:e,config:t})=>{const n=Object.entries(t).filter(([,r])=>r.theme||r.color);return n.length?g.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(Kwt).map(([r,i])=>`
${i} [data-chart=${e}] {
${n.map(([o,a])=>{const s=a.theme?.[r]||a.color;return s?`  --color-${o}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Zwt=hd,Qwt=C.forwardRef(({active:e,payload:t,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:o=!1,label:a,labelFormatter:s,labelClassName:l,formatter:c,color:d,nameKey:u,labelKey:p},m)=>{const{config:v}=vve(),x=C.useMemo(()=>{if(i||!t?.length)return null;const[T]=t,k=`${p||T?.dataKey||T?.name||"value"}`,N=aH(v,T,k),I=!p&&typeof a=="string"?v[a]?.label||a:N?.label;return s?g.jsx("div",{className:Ie("font-medium",l),children:s(I,t)}):I?g.jsx("div",{className:Ie("font-medium",l),children:I}):null},[a,s,t,i,l,v,p]);if(!e||!t?.length)return null;const w=t.length===1&&r!=="dot";return g.jsxs("div",{ref:m,className:Ie("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[w?null:x,g.jsx("div",{className:"grid gap-1.5",children:t.filter(T=>T.type!=="none").map((T,k)=>{const N=`${u||T.name||T.dataKey||"value"}`,I=aH(v,T,N),M=d||T.payload.fill||T.color;return g.jsx("div",{className:Ie("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:c&&T?.value!==void 0&&T.name?c(T.value,T.name,T,k,T.payload):g.jsxs(g.Fragment,{children:[I?.icon?g.jsx(I.icon,{}):!o&&g.jsx("div",{className:Ie("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":w&&r==="dashed"}),style:{"--color-bg":M,"--color-border":M}}),g.jsxs("div",{className:Ie("flex flex-1 justify-between leading-none",w?"items-end":"items-center"),children:[g.jsxs("div",{className:"grid gap-1.5",children:[w?x:null,g.jsx("span",{className:"text-muted-foreground",children:I?.label||T.name})]}),T.value&&g.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:T.value.toLocaleString()})]})]})},T.dataKey)})})]})});Qwt.displayName="ChartTooltip";const Jwt=w0,eEt=C.forwardRef(({className:e,hideIcon:t=!1,payload:n,verticalAlign:r="bottom",nameKey:i},o)=>{const{config:a}=vve();return n?.length?g.jsx("div",{ref:o,className:Ie("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",e),children:n.filter(s=>s.type!=="none").map(s=>{const l=`${i||s.dataKey||"value"}`,c=aH(a,s,l);return g.jsxs("div",{className:Ie("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c?.icon&&!t?g.jsx(c.icon,{}):g.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),c?.label]},s.value)})}):null});eEt.displayName="ChartLegend";function aH(e,t,n){if(typeof t!="object"||t===null)return;const r="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let i=n;return n in t&&typeof t[n]=="string"?i=t[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in e?e[i]:e[n]}function wve({historyData:e,startDate:t,endDate:n,unit:r,transform:i}){const[o,a]=C.useState(new Set),[s,l]=C.useState(null),c=C.useMemo(()=>e.series.some(R=>Object.keys(R.labels).length>0),[e.series]),d=new Set;for(const R of e.series)for(const L of R.values)d.add(L.timestamp.getTime());const u=new Set;for(const R of e.series)for(const L of R.values)u.add(L.timestamp.getTime());const p=Array.from(u).sort((R,L)=>R-L),v=(()=>{const L=(n.getTime()-t.getTime())/(1e3*60*60);return L<=1||L<=24?"time":L<=168?"datetime":"date"})(),x=C.useCallback(R=>Object.entries(R).map(([L,B])=>`${L}=${B}`).join(", "),[]),w=C.useCallback((R,L)=>{const B=e.series.map($=>x($.labels));L.metaKey||L.ctrlKey?a($=>{if($.size===B.length-1&&!$.has(R))return new Set;const V=new Set(B);return V.delete(R),V}):a($=>{const W=new Set($);return W.has(R)?W.delete(R):W.add(R),W})},[e.series,x]),T=F.useMemo(()=>p.map(R=>{const L=new Date(R);let B;v==="time"?B=L.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):v==="datetime"?B=L.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):B=L.toLocaleDateString("en-US",{month:"short",day:"numeric"});const $={timestamp:B};for(let W=0;W<e.series.length;W++){const V=e.series[W],Y=x(V.labels),U=V.values.find(X=>X.timestamp.getTime()===R);if(U){const{formattedValue:X}=F8(U.value,r??void 0,i);$[Y]=Number.parseFloat(X.replace(/,/g,""))}}return $}),[e.series,r,i,v,p,x]),k={},N=["var(--color-chart-1)","var(--color-chart-2)","var(--color-chart-3)","var(--color-chart-4)","var(--color-chart-5)"];for(let R=0;R<e.series.length;R++){const L=e.series[R],B=x(L.labels);k[B]={label:B,color:N[R%N.length]}}const{displayUnit:I}=F.useMemo(()=>F8(0,r??void 0,i),[r,i]),M=C.useMemo(()=>({active:R,payload:L,label:B})=>!R||!L?.length?null:g.jsxs("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:[g.jsx("div",{className:"mb-1 font-bold text-sm",children:B}),g.jsx("div",{className:"flex flex-col gap-1",children:L.filter($=>!o.has($.dataKey)).map($=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:$.color}}),g.jsx("span",{className:"text-sm",children:g.jsxs("span",{className:"font-medium",children:[$.value,I?` ${I}`:""]})})]},$.dataKey))})]}),[o,I]),A=C.useMemo(()=>({payload:R})=>R?.length?g.jsx("div",{className:"flex items-center justify-center gap-4 pt-3 flex-wrap",children:R.filter(L=>L.type!=="none").map(L=>{const B=L.dataKey,$=o.has(B);return g.jsxs("div",{className:"flex items-center gap-1.5 cursor-pointer select-none hover:opacity-80 transition-opacity",onClick:W=>w(B,W),onMouseEnter:()=>l(B),onMouseLeave:()=>l(null),onKeyDown:W=>{(W.key==="Enter"||W.key===" ")&&w(B,W)},role:"button",tabIndex:0,title:`Click to toggle, ${typeof window<"u"&&window.navigator.userAgent.includes("Mac")?"Cmd":"Ctrl"}+Click to isolate`,children:[g.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:L.color,opacity:$?.3:1}}),g.jsx("span",{style:{opacity:$?.5:1,textDecoration:$?"line-through":"none"},children:L.value})]},L.value)})}):null,[o,w]);return g.jsx(xve,{config:k,className:"h-[400px] w-full",children:g.jsxs(Gwt,{data:T,children:[g.jsx(nve,{vertical:!1}),g.jsx(r3,{dataKey:"timestamp",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:32,tickFormatter:R=>R}),g.jsx(i3,{tickLine:!1,axisLine:!1,tickMargin:8,width:80,tickFormatter:R=>`${R.toLocaleString()}${I?` ${I}`:""}`,tick:{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}}),g.jsx(Zwt,{content:g.jsx(M,{})}),c&&g.jsx(Jwt,{content:g.jsx(A,{})}),e.series.map((R,L)=>{const B=x(R.labels),$=o.has(B),W=s===B,V=s!==null&&!W;return g.jsx(yk,{dataKey:B,type:"monotone",stroke:N[L%N.length],strokeWidth:W?3:2,dot:{fill:N[L%N.length],strokeWidth:W?2:0,r:W?5:3},activeDot:{r:6,strokeWidth:2,stroke:"var(--background)"},hide:$,strokeOpacity:$?0:V?.2:1},B)})]})})}function tEt({notebookId:e=null,open:t,onOpenChange:n,metricName:r,prettyName:i,transform:o,transformMetadata:a,tenantName:s,startDate:l,endDate:c,filters:d,groupBy:u,groupByFn:p,unit:m}){const[v,x]=C.useState({series:[]});return C.useEffect(()=>{const w=async()=>{try{const T=await AT.getHistory(s,r,o,a,l,c,d,u,p,e);x(T)}catch(T){console.error("Failed to fetch metric history:",T),x({series:[]})}};t&&w()},[s,r,o,l,c,d,u,p,t,e,a]),g.jsx(kH,{open:t,onOpenChange:n,children:g.jsxs(_H,{children:[g.jsx(Nie,{children:g.jsxs(Oie,{className:"flex items-center justify-between",children:[g.jsx("div",{className:"space-y-2",children:g.jsx("div",{className:"text-2xl font-bold",children:i})}),g.jsx(wTe,{asChild:!0,children:g.jsx(ni,{variant:"ghost",size:"icon",children:g.jsx(RH,{className:"h-4 w-4"})})})]})}),g.jsx("div",{className:"px-4 pb-10",children:g.jsx(wve,{historyData:v,unit:m,transform:o,startDate:l,endDate:c})})]})})}function Eve({metrics:e,selectedMetric:t,selectedTimeAggregation:n,selectedGroupBy:r,selectedGroupByFn:i,selectedTransform:o,selectedTransformMetadata:a,blockFilters:s,matchOperator:l="==",matchValue:c="",onMetricSelect:d,onTransformChange:u,onTimeAggregationChange:p,onGroupByChange:m,onGroupByFnChange:v,onFiltersChange:x,onMatchConditionChange:w}){const T=fu($=>$.labels),[k,N]=C.useState(!1),[I,M]=C.useState(r.length>0),A=t&&t.timeAggregation.length>1,R=t&&t.groupBy.length>1,L=F.useMemo(()=>{if(o==="ratio"){const $=(a.filters||[]).map(W=>W.label);return t?.labels.filter(W=>!$.includes(W))}return t?.labels},[t,o,a]),B=F.useMemo(()=>(L?.length??0)===0,[L]);return e.length===0?g.jsx("div",{className:"text-sm text-muted-foreground",children:"No metrics available"}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:Ie("space-y-2","full-w"),children:[g.jsx("div",{className:"flex items-center gap-1.5",children:g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"})}),g.jsx(q0,{availableLabels:T,filters:s,onFiltersChange:x})]}),g.jsx(xc,{className:"w-full"}),g.jsxs("div",{className:Ie("space-y-2","full-w"),children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Show"}),g.jsxs("div",{className:"flex items-center justify-between w-full gap-1",children:[g.jsx("div",{className:"flex-1 min-w-0",children:g.jsxs(Od,{open:k,onOpenChange:N,modal:!0,children:[g.jsx(Md,{asChild:!0,children:g.jsxs(ni,{variant:"outline",role:"combobox","aria-expanded":k,className:"justify-between w-full",children:[g.jsx("span",{className:"truncate",children:t?t.prettyName:"Select a metric..."}),g.jsx(Lie,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),g.jsx(Dd,{className:"w-[400px] p-0",children:g.jsxs(e1,{children:[g.jsx(t1,{placeholder:"Search metrics..."}),g.jsxs(n1,{children:[g.jsx(r1,{children:"No metric found."}),g.jsx(i1,{children:e.map($=>g.jsx(o1,{value:$.prettyName,onSelect:()=>{d($),(!n||!$.timeAggregation.includes(n))&&p&&p($.timeAggregation[0]),(!i||!$.groupBy.includes(i))&&v($.groupBy[0]),N(!1),$.type==="rate"?u("ratePerSecond",{}):$.type==="histogram"?u("p50",{}):$.type==="ratio"?u("ratio",{filters:[]}):u(null,{})},children:g.jsx(js,{children:g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsxs("div",{className:"flex items-center justify-between w-full",children:[g.jsx("span",{children:$.prettyName}),g.jsx(Qv,{className:Ie("mr-2 h-4 w-4",t?.id===$.id?"opacity-100":"opacity-0")})]})}),g.jsx(Or,{side:"left",children:nEt($)})]})})},$.id))})]})]})})]})}),t&&t.type==="histogram"&&g.jsxs(Sv,{value:o||"",onValueChange:$=>{u($,{})},children:[g.jsx(Qg,{className:"w-18",children:g.jsx(Cv,{})}),g.jsxs(Jg,{children:[g.jsx(Fr,{value:"p50",children:"P50"}),g.jsx(Fr,{value:"p90",children:"P90"}),g.jsx(Fr,{value:"p95",children:"P95"}),g.jsx(Fr,{value:"p99",children:"P99"})]})]}),t&&t.type==="rate"&&g.jsxs(Sv,{value:o||"",onValueChange:$=>{u($,{})},children:[g.jsx(Qg,{className:"w-28",children:g.jsx(Cv,{})}),g.jsxs(Jg,{children:[g.jsx(Fr,{value:"ratePerSecond",children:"/second"}),g.jsx(Fr,{value:"ratePerMinute",children:"/minute"}),g.jsx(Fr,{value:"ratePerHour",children:"/hour"}),g.jsx(Fr,{value:"ratePerDay",children:"/day"})]})]}),g.jsx("div",{children:!I&&!B&&g.jsx(js,{delayDuration:300,children:g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(ni,{variant:"ghost",className:"text-muted-foreground cursor-pointer",size:"icon",onClick:()=>M(!I),children:g.jsx(D2e,{className:"size-4"})})}),g.jsx(Or,{side:"right",children:"Labels to group by. If no labels are selected, all values will be combined into a single one."})]})})})]})]}),t&&t.type==="ratio"&&g.jsxs("div",{className:Ie("space-y-2","full-w"),children:[g.jsxs("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-1",children:["Of",g.jsx(js,{children:g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(z_,{className:"size-3 text-muted-foreground cursor-help"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Which ratio condition to apply to the metric."})})]})})]}),g.jsx("div",{className:"flex items-center justify-between w-full gap-1",children:g.jsx(q0,{availableLabels:T,filters:a.filters??[],onFiltersChange:$=>{u(o,{filters:$})}})})]}),I&&t&&!B&&g.jsxs("div",{className:"space-y-2 flex-1",children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Grouped by"}),g.jsx(js,{delayDuration:300,children:g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(z_,{className:"size-3 text-muted-foreground cursor-help"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Labels to group by. If no labels are selected, all values will be combined into a single one."})})]})})]}),g.jsxs(Od,{children:[g.jsx(Md,{asChild:!0,children:g.jsx(ni,{variant:"outline",className:"w-full justify-start text-left",children:r.length>0?g.jsx("span",{children:r.join(", ")}):g.jsx("span",{className:"text-muted-foreground",children:"Select labels to group by..."})})}),g.jsx(Dd,{className:"w-[300px] p-0",align:"start",children:g.jsxs(e1,{children:[g.jsx(t1,{placeholder:"Search labels..."}),g.jsxs(n1,{children:[g.jsx(r1,{children:"No labels found."}),g.jsx(i1,{heading:"Available Labels",children:L?.map($=>g.jsxs(o1,{value:$,onSelect:()=>{const W=r.includes($)?r.filter(V=>V!==$):[...r,$];m(W)},children:[g.jsx(Qv,{className:Ie("mr-2 h-4 w-4",r.includes($)?"opacity-100":"opacity-0")}),$]},$))})]})]})})]})]}),R&&g.jsxs("div",{className:Ie("space-y-2","full-w"),children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Cross-label aggregation"}),g.jsx(js,{delayDuration:300,children:g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(z_,{className:"size-3 text-muted-foreground cursor-help"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"If we have values from different labels, this allows us to specify how to combine them."})})]})})]}),g.jsxs(Sv,{value:i||t.groupBy[0],onValueChange:v,children:[g.jsx(Qg,{className:"w-full",children:g.jsx(Cv,{})}),g.jsxs(Jg,{children:[t.groupBy.includes("sum")&&g.jsx(Fr,{value:"sum",children:"Sum values across labels"}),t.groupBy.includes("avg")&&g.jsx(Fr,{value:"avg",children:"Average values across labels"}),t.groupBy.includes("min")&&g.jsx(Fr,{value:"min",children:"Keep the lowest value across labels"}),t.groupBy.includes("max")&&g.jsx(Fr,{value:"max",children:"Keep the highest value across labels"})]})]})]}),g.jsx(xc,{className:"w-full"}),t&&p&&g.jsxs(g.Fragment,{children:[A&&g.jsxs("div",{className:"space-y-2 flex-1",children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Time Aggregation"}),g.jsx(js,{delayDuration:300,children:g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(z_,{className:"size-3 text-muted-foreground cursor-help"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"How to aggregate the metric values over the selected time window"})})]})})]}),g.jsx(js,{delayDuration:300,children:g.jsxs(Sv,{value:n||t.timeAggregation[0],onValueChange:p,children:[g.jsx(Qg,{className:"w-full",children:g.jsx(Cv,{})}),g.jsxs(Jg,{children:[t.timeAggregation.includes("last")&&g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(Fr,{value:"last",children:"Most recent value"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Keep the most recent value in the time window"})})]}),t.timeAggregation.includes("avg")&&g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(Fr,{value:"avg",children:"Average over period"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Calculates the mean of all values in the time window"})})]}),t.timeAggregation.includes("min")&&g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(Fr,{value:"min",children:"Minimum over period"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Returns the lowest value in the time window"})})]}),t.timeAggregation.includes("max")&&g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(Fr,{value:"max",children:"Maximum over period"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Returns the highest value in the time window"})})]}),t.timeAggregation.includes("match")&&g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(Fr,{value:"match",children:"Match percentage"})}),g.jsx(Or,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Percentage of time where metric matches a condition"})})]})]})]})})]}),n==="match"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Match Condition"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(Sv,{value:l,onValueChange:$=>{w?.($,c)},children:[g.jsx(Qg,{className:"w-24",children:g.jsx(Cv,{})}),g.jsxs(Jg,{children:[g.jsx(Fr,{value:"==",children:"="}),g.jsx(Fr,{value:">",children:">"}),g.jsx(Fr,{value:"<",children:"<"}),g.jsx(Fr,{value:">=",children:">="}),g.jsx(Fr,{value:"<=",children:"<="}),g.jsx(Fr,{value:"!=",children:"!="})]})]}),g.jsx(hu,{type:"number",placeholder:"Value",value:c,onChange:$=>{w?.(l,$.target.value)}})]}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:["Shows percentage of time where metric ",l," ",c||"..."]})]})]})]})}function nEt(e){return e.type==="rate"?"Answers questions like: how many signups do we have per second/minute/hour/day?":e.type==="increase"?"Answers questions like: how many new signups did we have in the last hour?":e.type==="ratio"?"Answers questions like: what percentage of signups are from the USA?":e.type==="histogram"?"Answers questions like: what is the response time for 95% of requests?":"Raw value of the metric."}const rEt=yx({type:"metric",propSchema:{metricId:{default:""},metricName:{default:""},title:{default:""},transform:{default:""},timeAggregation:{default:"avg"},groupBy:{default:"[]"},groupByFn:{default:"sum"},matchOperator:{default:"=="},matchValue:{default:""},healthMin:{default:""},healthMax:{default:""},blockFilters:{default:"[]"},transformMetadata:{default:"{}"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=gt(ve=>ve.settingsOpenBlockId),i=gt(ve=>ve.closeBlockSettings),o=gt(ve=>ve.metrics),a=gt(ve=>ve.currentNotebook?.filters),s=gt(ve=>ve.startDate),l=gt(ve=>ve.endDate),c=gt(ve=>ve.currentNotebook?.id),[d,u]=C.useState(null),[p,m]=C.useState(!1),[v,x]=C.useState(!1),[w,T]=C.useState({}),k=e.block.props.metricId,N=e.block.props.metricName,I=e.block.props.title,M=e.block.props.transform,A=e.block.props.timeAggregation,R=e.block.props.groupByFn,L=e.block.props.healthMin,B=e.block.props.healthMax,$=e.block.props.matchOperator,W=e.block.props.matchValue,V=C.useMemo(()=>{try{return JSON.parse(e.block.props.groupBy)}catch{return[]}},[e.block.props.groupBy]),Y=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),U=C.useMemo(()=>{try{return JSON.parse(e.block.props.transformMetadata)}catch{return{}}},[e.block.props.transformMetadata]),X=C.useMemo(()=>[...a||[],...Y],[a,Y]),q=F.useMemo(()=>o.find(ve=>ve.id===k),[k,o]);if(C.useEffect(()=>{if(!n||!N||s===null||l===null||X===void 0||!c){u(null);return}(async()=>{if(A==="match"&&!W){u(null);return}m(!0);try{const we=await AT.getScalar(n,N,s,l,M||null,U,V,R,A,$,W,X,c);u(we)}catch(we){console.error("Failed to fetch metric scalar:",we),u(null)}finally{m(!1)}})()},[n,M,U,A,V,R,$,W,s,l,X,c,N]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const ne=r===e.block.id,Z=ve=>{e.editor.updateBlock(e.block,{props:{metricId:ve.id,metricName:ve.prometheusName,groupBy:ve.type==="gauge"?"avg":"sum"}})},oe=(ve,we)=>{e.editor.updateBlock(e.block,{props:{transform:ve||"",transformMetadata:JSON.stringify(we)}})},K=ve=>{e.editor.updateBlock(e.block,{props:{timeAggregation:ve}})},Q=ve=>{e.editor.updateBlock(e.block,{props:{groupByFn:ve}})},te=ve=>{e.editor.updateBlock(e.block,{props:{groupBy:JSON.stringify(ve)}})},z=ve=>{e.editor.updateBlock(e.block,{props:{blockFilters:JSON.stringify(ve)}})},fe=ve=>{T(ve),x(!0)},me=ve=>{const we=L?Number.parseFloat(L):null,je=B?Number.parseFloat(B):null;return we===null&&je===null?"text-green-700":we!==null&&!Number.isNaN(we)&&ve<we||je!==null&&!Number.isNaN(je)&&ve>je?"text-red-700":"text-green-700"},ke=()=>p&&d===null&&q?g.jsxs(f0,{className:"@container/card shadow-none",children:[g.jsxs(zp,{children:[g.jsx(d0,{className:"h-4 w-32"}),g.jsx(d0,{className:"h-8 w-24"})]}),g.jsx(jv,{className:"flex-col items-start gap-1.5",children:g.jsx(d0,{className:"h-3 w-48"})})]}):d===null||d.scalars.length===0?g.jsxs(f0,{className:"@container/card shadow-none",children:[g.jsxs(zp,{className:"relative pb-3",children:[g.jsx(s1,{children:I||d?.prettyName||"N/A"}),g.jsx(wN,{className:Ie("text-2xl font-semibold @[250px]/card:text-3xl"),children:""})]}),g.jsx(jv,{className:"flex flex-wrap gap-1.5 p-3 pt-0"})]}):g.jsx("div",{className:"outline-none flex flex-col gap-1",children:d.scalars.map(ve=>Ee(ve))}),Ee=ve=>{const we=A==="match",je=F8(ve.value,we?"%":d?.unit??void 0,M||null),Ke=L||B?me(ve.value):"";return g.jsx("div",{className:"group",children:g.jsxs(f0,{className:"@container/card shadow-none",children:[g.jsxs(zp,{className:"relative pb-3",children:[g.jsxs("div",{className:"absolute right-3 top-0 px-2 py-1.5 rounded-b-lg border border-t-0 bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1.5 opacity-0 shadow-xs",onClick:()=>fe(ve.labels),children:[g.jsx(NH,{className:"size-4 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"History"})]}),g.jsx(s1,{children:d?.prettyName??"N/A"}),g.jsxs(wN,{className:Ie("text-2xl font-semibold @[250px]/card:text-3xl",Ke),children:[je.formattedValue,je.displayUnit&&g.jsx("span",{className:Ie("text-muted-foreground ml-2 text-xl",Ke),children:je.displayUnit})]})]}),g.jsx(jv,{className:"flex flex-wrap gap-1.5 p-3 pt-0",children:Object.entries(ve.labels).map(([Me,Lt])=>g.jsx(eh,{labelKey:Me,labelValue:Lt},Me))})]})},Object.entries(ve.labels).map(([Me,Lt])=>`${Me}:${Lt}`).join(","))};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:ke()}),g.jsx(fy,{open:ne,onOpenChange:ve=>{ve||i()},children:g.jsxs(Em,{children:[g.jsx(Sm,{children:g.jsx(Cm,{children:"Metric Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Title"}),g.jsx(hu,{placeholder:"Optional title...",value:I,onChange:ve=>{e.editor.updateBlock(e.block,{props:{title:ve.target.value}})}})]}),g.jsx("div",{className:"space-y-3",children:g.jsx(Eve,{metrics:o,selectedMetric:q??null,selectedTimeAggregation:A,selectedGroupBy:V,selectedGroupByFn:R,selectedTransform:M||null,onMetricSelect:Z,onTransformChange:oe,onTimeAggregationChange:K,onGroupByChange:te,onGroupByFnChange:Q,onFiltersChange:z,blockFilters:Y,matchOperator:$,matchValue:W,selectedTransformMetadata:U,onMatchConditionChange:(ve,we)=>{e.editor.updateBlock(e.block,{props:{matchOperator:ve,matchValue:we}})}})}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Health Interval (Optional)"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(hu,{type:"number",placeholder:"Min",value:L,onChange:ve=>{e.editor.updateBlock(e.block,{props:{healthMin:ve.target.value}})}}),g.jsx(hu,{type:"number",placeholder:"Max",value:B,onChange:ve=>{e.editor.updateBlock(e.block,{props:{healthMax:ve.target.value}})}})]}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"Values outside this range will be shown in red"})]})]})]})}),s!==null&&l!==null&&c&&g.jsx(tEt,{metricName:N??"",prettyName:d?.prettyName??"",transformMetadata:U,transform:!M&&d?.type==="counter"?"ratePerSecond":M,unit:d?.unit??null,tenantName:n,groupBy:V,groupByFn:R,filters:[...X,...Object.entries(w).map(([ve,we])=>({label:ve,value:we}))],open:v,startDate:s,endDate:l,onOpenChange:x,notebookId:c})]})}})(),iEt=yx({type:"metricHistory",propSchema:{metricId:{default:""},metricName:{default:""},transform:{default:""},transformMetadata:{default:"{}"},groupBy:{default:"[]"},groupByFn:{default:"sum"},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=gt(X=>X.settingsOpenBlockId),i=gt(X=>X.closeBlockSettings),o=gt(X=>X.openBlockSettings),a=gt(X=>X.metrics),s=gt(X=>X.startDate),l=gt(X=>X.endDate),c=gt(X=>X.currentNotebook?.filters),d=gt(X=>X.currentNotebook?.id),u=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),p=C.useMemo(()=>[...c||[],...u],[c,u]),[m,v]=C.useState({prettyName:"",unit:null,transform:null,series:[]}),[x,w]=C.useState(!1),T=e.block.props.metricId,k=e.block.props.transform,N=e.block.props.metricName,I=C.useMemo(()=>{try{return JSON.parse(e.block.props.groupBy)}catch{return[]}},[e.block.props.groupBy]),M=e.block.props.groupByFn,A=C.useMemo(()=>{try{return JSON.parse(e.block.props.transformMetadata)}catch{return{}}},[e.block.props.transformMetadata]),R=F.useMemo(()=>a.find(X=>X.id===T),[T,a]);if(C.useEffect(()=>{if(!n||!T||!s||!l||p===void 0||!d||!N){v({prettyName:"",unit:null,transform:null,series:[]});return}(async()=>{w(!0);try{const q=await AT.getHistory(n,N,k||null,A,s,l,p,I,M,d);v(q)}catch(q){console.error("Failed to fetch metric history:",q),v({prettyName:"",unit:null,transform:null,series:[]})}finally{w(!1)}})()},[n,T,N,k,A,s,l,p,I,M,d]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const L=r===e.block.id,B=X=>{e.editor.updateBlock(e.block,{props:{metricId:X.id,metricName:X.prometheusName}})},$=X=>{e.editor.updateBlock(e.block,{props:{groupBy:JSON.stringify(X)}})},W=X=>{e.editor.updateBlock(e.block,{props:{groupByFn:X}})},V=X=>{e.editor.updateBlock(e.block,{props:{blockFilters:JSON.stringify(X)}})},Y=(X,q)=>{e.editor.updateBlock(e.block,{props:{transform:X||"",transformMetadata:JSON.stringify(q)}})},U=()=>T?!s||!l?g.jsx("div",{className:"rounded-lg border p-8 text-center text-muted-foreground",children:g.jsx("p",{children:"No time window configured"})}):g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsx("div",{children:g.jsx("h3",{className:"text-lg font-semibold",children:m.prettyName})})}),g.jsx(wve,{historyData:m,unit:m.unit,transform:k||null,startDate:s,endDate:l})]}):g.jsx(e9,{icon:NH,title:"No metric selected",description:"Select a metric to view its history.",onClick:()=>o(e.block.id),className:"cursor-pointer"});return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:U()}),g.jsx(fy,{open:L,onOpenChange:X=>{X||i()},children:g.jsxs(Em,{children:[g.jsx(Sm,{children:g.jsx(Cm,{children:"Metric History Settings"})}),g.jsx("div",{className:"mt-6 space-y-6",children:g.jsx(Eve,{metrics:a.filter(X=>X.type!=="increase"),blockFilters:u,selectedTransform:k||null,selectedTransformMetadata:A,selectedMetric:R??null,selectedGroupBy:I,selectedGroupByFn:M,onMetricSelect:B,onGroupByChange:$,onGroupByFnChange:W,onFiltersChange:V,onTransformChange:Y})})]})})]})}})(),oEt=(e={})=>C.useMemo(()=>{const t=Ohe.create(e);window&&(window.ProseMirror=t._tiptapEditor);const n=t.extensions.sideMenu;return n.plugins[0]=new rn({key:Ehe,view:r=>{n.view=new whe(t,r,o=>{n.emit("update",o)});const i=o=>{let a=n.view.pmView.root.querySelectorAll("div[role=dialog] .bn-editor");if(a.length===0&&(a=Array.from(n.view.pmView.root.querySelectorAll(".bn-editor"))),a.length===0)return null;let s=a[0],l=Number.MAX_VALUE;return a.forEach(c=>{const d=c.querySelector(".bn-block-group").getBoundingClientRect(),u=o.clientX<d.left?d.left-o.clientX:o.clientX>d.right?o.clientX-d.right:0,p=o.clientY<d.top?d.top-o.clientY:o.clientY>d.bottom?o.clientY-d.bottom:0,m=Math.sqrt(u**2+p**2);m<l&&(l=m,s=c)}),{element:s,distance:l}};return n.view.findClosestEditorElement=i,n.view}}),t},[]),aEt={heading:yV,heading_2:bV,heading_3:vV,heading_4:Bke,heading_5:Hke,heading_6:Uke,toggle_heading:yV,toggle_heading_2:bV,toggle_heading_3:vV,quote:v2e,toggle_list:zie,numbered_list:n2e,bullet_list:i2e,check_list:Zke,paragraph:g2e,table:L2e,image:Yke,video:O2e,audio:FTe,file:Ake,emoji:k2e,code_block:yke,divider:d2e,columns_2:Bie,columns_3:$ie};function sEt(e){const t=[];return Aat(e)&&t.push({...qK(e).slash_menu.two_columns,icon:g.jsx(Bie,{className:"size-4.5"}),onItemClick:()=>{Ir(e,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}},{...qK(e).slash_menu.three_columns,icon:g.jsx($ie,{className:"size-4.5"}),onItemClick:()=>{Ir(e,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}}),t}function lEt(e,t=[]){const n=mce(e).map(i=>{const o=aEt[i.key];return{...i,icon:g.jsx(o,{className:"size-4.5"})}}),r=sEt(e);return[...KXe(n,r),...t]}function Sve({tenantName:e,notebook:t,openBlockSettings:n,updateNotebook:r,editable:i=!0}){const[o,a]=C.useState(!1),[s,l]=C.useState(!1),{table:c,...d}=gce,u=oEt({schema:Sat(VD.create({blockSpecs:{...d,flow:Wat,flowHistory:Yat,flowStatus:Xat,heatmap:Qat,metric:rEt,metricHistory:iEt}})),dropCursor:Tat,dictionary:{...m8,multi_column:yat.en},placeholders:{...m8.placeholders,emptyDocument:"Write or press '/' for commands",default:"Write or press '/' for commands"},extensions:[]});u.onMount(()=>{l(!0)}),C.useEffect(()=>{a(!1),s&&(u.replaceBlocks(u.document,t.blocks||[]),a(!0))},[t.id,u,s]),fR(m=>{if(!o)return;const v=[],x=[];m.document.forEach(w=>{w.type==="flow"?v.push({names:[],filters:JSON.parse(w.props.blockFilters)}):w.type==="flowHistory"||w.type==="flowStatus"||w.type==="heatmap"?v.push({names:[w.props.flowName],filters:JSON.parse(w.props.blockFilters)}):(w.type==="metric"||w.type==="metricHistory")&&x.push({names:[w.props.metricName],filters:JSON.parse(w.props.blockFilters)})}),r(e,t,{blocks:m.document,flowBlocksFilters:v,metricBlocksFilters:x})},u);const p=F.useCallback(m=>g.jsxs(mpe,{...m,children:[g.jsx(Nat,{...m}),g.jsx(Lat,{openBlockSettings:n,...m})]}),[n]);return g.jsx("div",{className:"flex-1 flex flex-col h-screen",children:g.jsx("div",{className:"flex-1 overflow-y-auto",children:g.jsxs("div",{className:"mx-auto py-12",children:[g.jsxs("div",{className:"mx-32",children:[i?g.jsx("input",{type:"text",value:t.title,onChange:m=>{r(e,t,{title:m.target.value})},placeholder:"Untitled",className:"w-full text-5xl font-bold mb-4 outline-none border-none bg-transparent placeholder:text-muted-foreground"}):g.jsx("h1",{className:"w-full text-5xl font-bold mb-4",children:t.title}),i?g.jsx("input",{type:"text",value:t.description,onChange:m=>{r(e,t,{description:m.target.value})},placeholder:"Add a description...",className:"w-full text-lg text-secondary-foreground mb-8 outline-none border-none bg-transparent placeholder:text-muted-foreground"}):g.jsx("p",{className:"w-full text-lg text-secondary-foreground mb-8",children:t.description})]}),g.jsx("div",{className:"mx-19 mb-32",children:g.jsxs(Zge,{editor:u,theme:"light",slashMenu:!1,sideMenu:!1,editable:i,children:[g.jsx(vpe,{triggerCharacter:"/",suggestionMenuComponent:Bat,getItems:async m=>{const v=lEt(u,[{title:"Flows Table",onItemClick:()=>{Ir(u,{type:"flow"})},group:"Flows",subtext:"List of all flows with information about their last run",icon:g.jsx(I2e,{className:"size-4.5"}),aliases:[]},{title:"Flow History",onItemClick:()=>{const w=Ir(u,{type:"flowHistory"});n(w.id)},group:"Flows",subtext:"List of all executions for a given flow",icon:g.jsx(Vke,{className:"size-4.5"}),aliases:[]},{title:"Flow Card",onItemClick:()=>{const w=Ir(u,{type:"flowStatus"});n(w.id)},group:"Flows",subtext:"Card showing key information about a specific flow",icon:g.jsx(w2e,{className:"size-4.5"}),aliases:["run counts","flow run count"]},{title:"Heatmap",onItemClick:()=>{const w=Ir(u,{type:"heatmap"});n(w.id)},group:"Flows",subtext:"Heatmap showing daily status for a given flow",icon:g.jsx(Kke,{className:"size-4.5"}),aliases:["flow heatmap"]},{title:"Number",onItemClick:()=>{const w=Ir(u,{type:"metric"});n(w.id)},group:"Metrics",subtext:"Display a metric value aggregated across time window. For example, the total number of signups.",icon:g.jsx(A2e,{className:"size-4.5"}),aliases:["metric"]},{title:"Chart",onItemClick:()=>{const w=Ir(u,{type:"metricHistory"});n(w.id)},group:"Metrics",subtext:"Chart showing metric history over time. For example, the number of signups over time.",icon:g.jsx(NH,{className:"size-4.5"}),aliases:["metric history"]}]),x=m.trim().toLowerCase();return x?v.filter(w=>w.title?.toLowerCase().includes(x)||w.aliases?.some(T=>T.includes(x))):v}}),g.jsx(gpe,{sideMenu:p})]})})]})})})}function cEt(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const uEt={},mS={};function c0(e,t){try{const r=(uEt[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in mS?mS[r]:Rne(r,r.split(":"))}catch{if(e in mS)return mS[e];const n=e?.match(dEt);return n?Rne(e,n.slice(1)):NaN}}const dEt=/([+-]\d\d):?(\d\d)?/;function Rne(e,t){const n=+(t[0]||0),r=+(t[1]||0),i=+(t[2]||0)/60;return mS[e]=n*60+r>0?n*60+r+i:n*60-r-i}class bd extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(c0(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Cve(this),sH(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new bd(...n,t):new bd(Date.now(),t)}withTimeZone(t){return new bd(+this,t)}getTimezoneOffset(){const t=-c0(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),sH(this),+this}[Symbol.for("constructDateFrom")](t){return new bd(+new Date(t),this.timeZone)}}const Ine=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Ine.test(e))return;const t=e.replace(Ine,"$1UTC");bd.prototype[t]&&(e.startsWith("get")?bd.prototype[e]=function(){return this.internal[t]()}:(bd.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),fEt(this),+this},bd.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),sH(this),+this}))});function sH(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-c0(e.timeZone,e)*60))}function fEt(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),Cve(e)}function Cve(e){const t=c0(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+e).getTimezoneOffset(),o=-new Date(+r).getTimezoneOffset(),a=i-o,s=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&s&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const l=i-n;l&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);const c=new Date(+e);c.setUTCSeconds(0);const d=i>0?c.getSeconds():(c.getSeconds()-60)%60,u=Math.round(-(c0(e.timeZone,e)*60))%60;(u||d)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+u),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+u+d));const p=c0(e.timeZone,e),m=p>0?Math.floor(p):Math.ceil(p),x=-new Date(+e).getTimezoneOffset()-m,w=m!==n,T=x-l;if(w&&T){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+T);const k=c0(e.timeZone,e),N=k>0?Math.floor(k):Math.ceil(k),I=m-N;I&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+I),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+I))}}class va extends bd{static tz(t,...n){return n.length?new va(...n,t):new va(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),i=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,i]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${t} GMT${n}${r}${i} (${cEt(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),i=String(Math.abs(t)%60).padStart(2,"0");return[n,r,i]}withTimeZone(t){return new va(+this,t)}[Symbol.for("constructDateFrom")](t){return new va(+new Date(t),this.timeZone)}}const Pne=5,hEt=4;function pEt(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,i=t.addDays(e,-r+1),o=t.addDays(i,Pne*7-1);return t.getMonth(e)===t.getMonth(o)?Pne:hEt}function Tve(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function mEt(e,t){const n=Tve(e,t),r=pEt(e,t);return t.addDays(n,r*7-1)}class Pl{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?va.tz(this.options.timeZone):new this.Date,this.newDate=(r,i,o)=>this.overrides?.newDate?this.overrides.newDate(r,i,o):this.options.timeZone?new va(r,i,o,this.options.timeZone):new Date(r,i,o),this.addDays=(r,i)=>this.overrides?.addDays?this.overrides.addDays(r,i):kT(r,i),this.addMonths=(r,i)=>this.overrides?.addMonths?this.overrides.addMonths(r,i):$H(r,i),this.addWeeks=(r,i)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,i):F_e(r,i),this.addYears=(r,i)=>this.overrides?.addYears?this.overrides.addYears(r,i):U_e(r,i),this.differenceInCalendarDays=(r,i)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,i):Noe(r,i),this.differenceInCalendarMonths=(r,i)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,i):Y_e(r,i),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):Q_e(r),this.eachYearOfInterval=r=>{const i=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):tAe(r),o=new Set(i.map(s=>this.getYear(s)));if(o.size===i.length)return i;const a=[];return o.forEach(s=>{a.push(new Date(s,0,1))}),a},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):mEt(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):nAe(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):Z_e(r),this.endOfWeek=(r,i)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,i):HH(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):eAe(r),this.format=(r,i,o)=>{const a=this.overrides?.format?this.overrides.format(r,i,this.options):Wf(r,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):Ioe(r),this.getMonth=(r,i)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):JAe(r,this.options),this.getYear=(r,i)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):eNe(r,this.options),this.getWeek=(r,i)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):Loe(r,this.options),this.isAfter=(r,i)=>this.overrides?.isAfter?this.overrides.isAfter(r,i):tNe(r,i),this.isBefore=(r,i)=>this.overrides?.isBefore?this.overrides.isBefore(r,i):nNe(r,i),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):Ooe(r),this.isSameDay=(r,i)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,i):q_e(r,i),this.isSameMonth=(r,i)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,i):rNe(r,i),this.isSameYear=(r,i)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,i):iNe(r,i),this.max=r=>this.overrides?.max?this.overrides.max(r):z_e(r),this.min=r=>this.overrides?.min?this.overrides.min(r):V_e(r),this.setMonth=(r,i)=>this.overrides?.setMonth?this.overrides.setMonth(r,i):oNe(r,i),this.setYear=(r,i)=>this.overrides?.setYear?this.overrides.setYear(r,i):aNe(r,i),this.startOfBroadcastWeek=(r,i)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):Tve(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):Jv(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):XS(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):J_e(r),this.startOfWeek=(r,i)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):T0(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):Roe(r),this.options={locale:FH,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Pl.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:i}=this.options,o=n?.code;if(o&&Pl.yearFirstLocales.has(o))try{return new Intl.DateTimeFormat(o,{month:"long",year:"numeric",timeZone:r,numberingSystem:i}).format(t)}catch{}const a=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,a)}}Pl.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Ud=new Pl;class kve{constructor(t,n,r=Ud){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class gEt{constructor(t,n){this.date=t,this.weeks=n}}class yEt{constructor(t,n){this.days=n,this.weekNumber=t}}function bEt(e){return F.createElement("button",{...e})}function vEt(e){return F.createElement("span",{...e})}function xEt(e){const{size:t=24,orientation:n="left",className:r}=e;return F.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&F.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&F.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&F.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&F.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function wEt(e){const{day:t,modifiers:n,...r}=e;return F.createElement("td",{...r})}function EEt(e){const{day:t,modifiers:n,...r}=e,i=F.useRef(null);return F.useEffect(()=>{n.focused&&i.current?.focus()},[n.focused]),F.createElement("button",{ref:i,...r})}var zt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(zt||(zt={}));var _i;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(_i||(_i={}));var du;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(du||(du={}));var xl;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(xl||(xl={}));function SEt(e){const{options:t,className:n,components:r,classNames:i,...o}=e,a=[i[zt.Dropdown],n].join(" "),s=t?.find(({value:l})=>l===o.value);return F.createElement("span",{"data-disabled":o.disabled,className:i[zt.DropdownRoot]},F.createElement(r.Select,{className:a,...o},t?.map(({value:l,label:c,disabled:d})=>F.createElement(r.Option,{key:l,value:l,disabled:d},c))),F.createElement("span",{className:i[zt.CaptionLabel],"aria-hidden":!0},s?.label,F.createElement(r.Chevron,{orientation:"down",size:18,className:i[zt.Chevron]})))}function CEt(e){return F.createElement("div",{...e})}function TEt(e){return F.createElement("div",{...e})}function kEt(e){const{calendarMonth:t,displayIndex:n,...r}=e;return F.createElement("div",{...r},e.children)}function _Et(e){const{calendarMonth:t,displayIndex:n,...r}=e;return F.createElement("div",{...r})}function AEt(e){return F.createElement("table",{...e})}function NEt(e){return F.createElement("div",{...e})}const _ve=C.createContext(void 0);function bk(){const e=C.useContext(_ve);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function OEt(e){const{components:t}=bk();return F.createElement(t.Dropdown,{...e})}function MEt(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:i,...o}=e,{components:a,classNames:s,labels:{labelPrevious:l,labelNext:c}}=bk(),d=C.useCallback(p=>{i&&n?.(p)},[i,n]),u=C.useCallback(p=>{r&&t?.(p)},[r,t]);return F.createElement("nav",{...o},F.createElement(a.PreviousMonthButton,{type:"button",className:s[zt.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:u},F.createElement(a.Chevron,{disabled:r?void 0:!0,className:s[zt.Chevron],orientation:"left"})),F.createElement(a.NextMonthButton,{type:"button",className:s[zt.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":c(i),onClick:d},F.createElement(a.Chevron,{disabled:i?void 0:!0,orientation:"right",className:s[zt.Chevron]})))}function DEt(e){const{components:t}=bk();return F.createElement(t.Button,{...e})}function REt(e){return F.createElement("option",{...e})}function IEt(e){const{components:t}=bk();return F.createElement(t.Button,{...e})}function PEt(e){const{rootRef:t,...n}=e;return F.createElement("div",{...n,ref:t})}function LEt(e){return F.createElement("select",{...e})}function jEt(e){const{week:t,...n}=e;return F.createElement("tr",{...n})}function BEt(e){return F.createElement("th",{...e})}function $Et(e){return F.createElement("thead",{"aria-hidden":!0},F.createElement("tr",{...e}))}function HEt(e){const{week:t,...n}=e;return F.createElement("th",{...n})}function FEt(e){return F.createElement("th",{...e})}function UEt(e){return F.createElement("tbody",{...e})}function zEt(e){const{components:t}=bk();return F.createElement(t.Dropdown,{...e})}const VEt=Object.freeze(Object.defineProperty({__proto__:null,Button:bEt,CaptionLabel:vEt,Chevron:xEt,Day:wEt,DayButton:EEt,Dropdown:SEt,DropdownNav:CEt,Footer:TEt,Month:kEt,MonthCaption:_Et,MonthGrid:AEt,Months:NEt,MonthsDropdown:OEt,Nav:MEt,NextMonthButton:DEt,Option:REt,PreviousMonthButton:IEt,Root:PEt,Select:LEt,Week:jEt,WeekNumber:HEt,WeekNumberHeader:FEt,Weekday:BEt,Weekdays:$Et,Weeks:UEt,YearsDropdown:zEt},Symbol.toStringTag,{value:"Module"}));function Pf(e,t,n=!1,r=Ud){let{from:i,to:o}=e;const{differenceInCalendarDays:a,isSameDay:s}=r;return i&&o?(a(o,i)<0&&([i,o]=[o,i]),a(t,i)>=(n?1:0)&&a(o,t)>=(n?1:0)):!n&&o?s(o,t):!n&&i?s(i,t):!1}function Ave(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function JU(e){return!!(e&&typeof e=="object"&&"from"in e)}function Nve(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ove(e){return!!(e&&typeof e=="object"&&"before"in e)}function Mve(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Dve(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Lf(e,t,n=Ud){const r=Array.isArray(t)?t:[t],{isSameDay:i,differenceInCalendarDays:o,isAfter:a}=n;return r.some(s=>{if(typeof s=="boolean")return s;if(n.isDate(s))return i(e,s);if(Dve(s,n))return s.includes(e);if(JU(s))return Pf(s,e,!1,n);if(Mve(s))return Array.isArray(s.dayOfWeek)?s.dayOfWeek.includes(e.getDay()):s.dayOfWeek===e.getDay();if(Ave(s)){const l=o(s.before,e),c=o(s.after,e),d=l>0,u=c<0;return a(s.before,s.after)?u&&d:d||u}return Nve(s)?o(e,s.after)>0:Ove(s)?o(s.before,e)>0:typeof s=="function"?s(e):!1})}function qEt(e,t,n,r,i){const{disabled:o,hidden:a,modifiers:s,showOutsideDays:l,broadcastCalendar:c,today:d}=t,{isSameDay:u,isSameMonth:p,startOfMonth:m,isBefore:v,endOfMonth:x,isAfter:w}=i,T=n&&m(n),k=r&&x(r),N={[_i.focused]:[],[_i.outside]:[],[_i.disabled]:[],[_i.hidden]:[],[_i.today]:[]},I={};for(const M of e){const{date:A,displayMonth:R}=M,L=!!(R&&!p(A,R)),B=!!(T&&v(A,T)),$=!!(k&&w(A,k)),W=!!(o&&Lf(A,o,i)),V=!!(a&&Lf(A,a,i))||B||$||!c&&!l&&L||c&&l===!1&&L,Y=u(A,d??i.today());L&&N.outside.push(M),W&&N.disabled.push(M),V&&N.hidden.push(M),Y&&N.today.push(M),s&&Object.keys(s).forEach(U=>{const X=s?.[U];X&&Lf(A,X,i)&&(I[U]?I[U].push(M):I[U]=[M])})}return M=>{const A={[_i.focused]:!1,[_i.disabled]:!1,[_i.hidden]:!1,[_i.outside]:!1,[_i.today]:!1},R={};for(const L in N){const B=N[L];A[L]=B.some($=>$===M)}for(const L in I)R[L]=I[L].some(B=>B===M);return{...A,...R}}}function WEt(e,t,n={}){return Object.entries(e).filter(([,i])=>i===!0).reduce((i,[o])=>(n[o]?i.push(n[o]):t[_i[o]]?i.push(t[_i[o]]):t[du[o]]&&i.push(t[du[o]]),i),[t[zt.Day]])}function YEt(e){return{...VEt,...e}}function GEt(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function ez(){const e={};for(const t in zt)e[zt[t]]=`rdp-${zt[t]}`;for(const t in _i)e[_i[t]]=`rdp-${_i[t]}`;for(const t in du)e[du[t]]=`rdp-${du[t]}`;for(const t in xl)e[xl[t]]=`rdp-${xl[t]}`;return e}function Rve(e,t,n){return(n??new Pl(t)).formatMonthYear(e)}const KEt=Rve;function XEt(e,t,n){return(n??new Pl(t)).format(e,"d")}function ZEt(e,t=Ud){return t.format(e,"LLLL")}function QEt(e,t,n){return(n??new Pl(t)).format(e,"cccccc")}function JEt(e,t=Ud){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function eSt(){return""}function Ive(e,t=Ud){return t.format(e,"yyyy")}const tSt=Ive,nSt=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Rve,formatDay:XEt,formatMonthCaption:KEt,formatMonthDropdown:ZEt,formatWeekNumber:JEt,formatWeekNumberHeader:eSt,formatWeekdayName:QEt,formatYearCaption:tSt,formatYearDropdown:Ive},Symbol.toStringTag,{value:"Module"}));function rSt(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...nSt,...e}}function iSt(e,t,n,r,i){const{startOfMonth:o,startOfYear:a,endOfYear:s,eachMonthOfInterval:l,getMonth:c}=i;return l({start:a(e),end:s(e)}).map(p=>{const m=r.formatMonthDropdown(p,i),v=c(p),x=t&&p<o(t)||n&&p>o(n)||!1;return{value:v,label:m,disabled:x}})}function oSt(e,t={},n={}){let r={...t?.[zt.Day]};return Object.entries(e).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n?.[i]}}),r}function aSt(e,t,n){const r=e.today(),i=t?e.startOfISOWeek(r):e.startOfWeek(r),o=[];for(let a=0;a<7;a++){const s=e.addDays(i,a);o.push(s)}return o}function sSt(e,t,n,r,i=!1){if(!e||!t)return;const{startOfYear:o,endOfYear:a,eachYearOfInterval:s,getYear:l}=r,c=o(e),d=a(t),u=s({start:c,end:d});return i&&u.reverse(),u.map(p=>{const m=n.formatYearDropdown(p,r);return{value:l(p),label:m,disabled:!1}})}function Pve(e,t,n,r){let i=(r??new Pl(n)).format(e,"PPPP");return t.today&&(i=`Today, ${i}`),t.selected&&(i=`${i}, selected`),i}const lSt=Pve;function Lve(e,t,n){return(n??new Pl(t)).formatMonthYear(e)}const cSt=Lve;function uSt(e,t,n,r){let i=(r??new Pl(n)).format(e,"PPPP");return t?.today&&(i=`Today, ${i}`),i}function dSt(e){return"Choose the Month"}function fSt(){return""}function hSt(e){return"Go to the Next Month"}function pSt(e){return"Go to the Previous Month"}function mSt(e,t,n){return(n??new Pl(t)).format(e,"cccc")}function gSt(e,t){return`Week ${e}`}function ySt(e){return"Week Number"}function bSt(e){return"Choose the Year"}const vSt=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:cSt,labelDay:lSt,labelDayButton:Pve,labelGrid:Lve,labelGridcell:uSt,labelMonthDropdown:dSt,labelNav:fSt,labelNext:hSt,labelPrevious:pSt,labelWeekNumber:gSt,labelWeekNumberHeader:ySt,labelWeekday:mSt,labelYearDropdown:bSt},Symbol.toStringTag,{value:"Module"})),vk=e=>e instanceof HTMLElement?e:null,C6=e=>[...e.querySelectorAll("[data-animated-month]")??[]],xSt=e=>vk(e.querySelector("[data-animated-month]")),T6=e=>vk(e.querySelector("[data-animated-caption]")),k6=e=>vk(e.querySelector("[data-animated-weeks]")),wSt=e=>vk(e.querySelector("[data-animated-nav]")),ESt=e=>vk(e.querySelector("[data-animated-weekdays]"));function SSt(e,t,{classNames:n,months:r,focused:i,dateLib:o}){const a=C.useRef(null),s=C.useRef(r),l=C.useRef(!1);C.useLayoutEffect(()=>{const c=s.current;if(s.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||c.length===0||r.length!==c.length)return;const d=o.isSameMonth(r[0].date,c[0].date),u=o.isAfter(r[0].date,c[0].date),p=u?n[xl.caption_after_enter]:n[xl.caption_before_enter],m=u?n[xl.weeks_after_enter]:n[xl.weeks_before_enter],v=a.current,x=e.current.cloneNode(!0);if(x instanceof HTMLElement?(C6(x).forEach(N=>{if(!(N instanceof HTMLElement))return;const I=xSt(N);I&&N.contains(I)&&N.removeChild(I);const M=T6(N);M&&M.classList.remove(p);const A=k6(N);A&&A.classList.remove(m)}),a.current=x):a.current=null,l.current||d||i)return;const w=v instanceof HTMLElement?C6(v):[],T=C6(e.current);if(T?.every(k=>k instanceof HTMLElement)&&w&&w.every(k=>k instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const k=wSt(e.current);k&&(k.style.zIndex="1"),T.forEach((N,I)=>{const M=w[I];if(!M)return;N.style.position="relative",N.style.overflow="hidden";const A=T6(N);A&&A.classList.add(p);const R=k6(N);R&&R.classList.add(m);const L=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),k&&(k.style.zIndex=""),A&&A.classList.remove(p),R&&R.classList.remove(m),N.style.position="",N.style.overflow="",N.contains(M)&&N.removeChild(M)};M.style.pointerEvents="none",M.style.position="absolute",M.style.overflow="hidden",M.setAttribute("aria-hidden","true");const B=ESt(M);B&&(B.style.opacity="0");const $=T6(M);$&&($.classList.add(u?n[xl.caption_before_exit]:n[xl.caption_after_exit]),$.addEventListener("animationend",L));const W=k6(M);W&&W.classList.add(u?n[xl.weeks_before_exit]:n[xl.weeks_after_exit]),N.insertBefore(M,N.firstChild)})}})}function CSt(e,t,n,r){const i=e[0],o=e[e.length-1],{ISOWeek:a,fixedWeeks:s,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:d,differenceInCalendarMonths:u,endOfBroadcastWeek:p,endOfISOWeek:m,endOfMonth:v,endOfWeek:x,isAfter:w,startOfBroadcastWeek:T,startOfISOWeek:k,startOfWeek:N}=r,I=l?T(i,r):a?k(i):N(i),M=l?p(o):a?m(v(o)):x(v(o)),A=d(M,I),R=u(o,i)+1,L=[];for(let W=0;W<=A;W++){const V=c(I,W);if(t&&w(V,t))break;L.push(V)}const $=(l?35:42)*R;if(s&&L.length<$){const W=$-L.length;for(let V=0;V<W;V++){const Y=c(L[L.length-1],1);L.push(Y)}}return L}function TSt(e){const t=[];return e.reduce((n,r)=>{const i=r.weeks.reduce((o,a)=>o.concat(a.days.slice()),t.slice());return n.concat(i.slice())},t.slice())}function kSt(e,t,n,r){const{numberOfMonths:i=1}=n,o=[];for(let a=0;a<i;a++){const s=r.addMonths(e,a);if(t&&s>t)break;o.push(s)}return o}function Lne(e,t,n,r){const{month:i,defaultMonth:o,today:a=r.today(),numberOfMonths:s=1}=e;let l=i||o||a;const{differenceInCalendarMonths:c,addMonths:d,startOfMonth:u}=r;if(n&&c(n,l)<s-1){const p=-1*(s-1);l=d(n,p)}return t&&c(l,t)<0&&(l=t),u(l)}function _St(e,t,n,r){const{addDays:i,endOfBroadcastWeek:o,endOfISOWeek:a,endOfMonth:s,endOfWeek:l,getISOWeek:c,getWeek:d,startOfBroadcastWeek:u,startOfISOWeek:p,startOfWeek:m}=r,v=e.reduce((x,w)=>{const T=n.broadcastCalendar?u(w,r):n.ISOWeek?p(w):m(w),k=n.broadcastCalendar?o(w):n.ISOWeek?a(s(w)):l(s(w)),N=t.filter(R=>R>=T&&R<=k),I=n.broadcastCalendar?35:42;if(n.fixedWeeks&&N.length<I){const R=t.filter(L=>{const B=I-N.length;return L>k&&L<=i(k,B)});N.push(...R)}const M=N.reduce((R,L)=>{const B=n.ISOWeek?c(L):d(L),$=R.find(V=>V.weekNumber===B),W=new kve(L,w,r);return $?$.days.push(W):R.push(new yEt(B,[W])),R},[]),A=new gEt(w,M);return x.push(A),x},[]);return n.reverseMonths?v.reverse():v}function ASt(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:i,startOfDay:o,startOfMonth:a,endOfMonth:s,addYears:l,endOfYear:c,newDate:d,today:u}=t,{fromYear:p,toYear:m,fromMonth:v,toMonth:x}=e;!n&&v&&(n=v),!n&&p&&(n=t.newDate(p,0,1)),!r&&x&&(r=x),!r&&m&&(r=d(m,11,31));const w=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=a(n):p?n=d(p,0,1):!n&&w&&(n=i(l(e.today??u(),-100))),r?r=s(r):m?r=d(m,11,31):!r&&w&&(r=c(e.today??u())),[n&&o(n),r&&o(r)]}function NSt(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:o=1}=n,{startOfMonth:a,addMonths:s,differenceInCalendarMonths:l}=r,c=i?o:1,d=a(e);if(!t)return s(d,c);if(!(l(t,e)<o))return s(d,c)}function OSt(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:o}=n,{startOfMonth:a,addMonths:s,differenceInCalendarMonths:l}=r,c=i?o??1:1,d=a(e);if(!t)return s(d,-c);if(!(l(d,t)<=0))return s(d,-c)}function MSt(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function a3(e,t){const[n,r]=C.useState(e);return[t===void 0?n:t,r]}function DSt(e,t){const[n,r]=ASt(e,t),{startOfMonth:i,endOfMonth:o}=t,a=Lne(e,n,r,t),[s,l]=a3(a,e.month?a:void 0);C.useEffect(()=>{const A=Lne(e,n,r,t);l(A)},[e.timeZone]);const c=kSt(s,r,e,t),d=CSt(c,e.endMonth?o(e.endMonth):void 0,e,t),u=_St(c,d,e,t),p=MSt(u),m=TSt(u),v=OSt(s,n,e,t),x=NSt(s,r,e,t),{disableNavigation:w,onMonthChange:T}=e,k=A=>p.some(R=>R.days.some(L=>L.isEqualTo(A))),N=A=>{if(w)return;let R=i(A);n&&R<i(n)&&(R=i(n)),r&&R>i(r)&&(R=i(r)),l(R),T?.(R)};return{months:u,weeks:p,days:m,navStart:n,navEnd:r,previousMonth:v,nextMonth:x,goToMonth:N,goToDay:A=>{k(A)||N(A.date)}}}var dd;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(dd||(dd={}));function jne(e){return!e[_i.disabled]&&!e[_i.hidden]&&!e[_i.outside]}function RSt(e,t,n,r){let i,o=-1;for(const a of e){const s=t(a);jne(s)&&(s[_i.focused]&&o<dd.FocusedModifier?(i=a,o=dd.FocusedModifier):r?.isEqualTo(a)&&o<dd.LastFocused?(i=a,o=dd.LastFocused):n(a.date)&&o<dd.Selected?(i=a,o=dd.Selected):s[_i.today]&&o<dd.Today&&(i=a,o=dd.Today))}return i||(i=e.find(a=>jne(t(a)))),i}function ISt(e,t,n,r,i,o,a){const{ISOWeek:s,broadcastCalendar:l}=o,{addDays:c,addMonths:d,addWeeks:u,addYears:p,endOfBroadcastWeek:m,endOfISOWeek:v,endOfWeek:x,max:w,min:T,startOfBroadcastWeek:k,startOfISOWeek:N,startOfWeek:I}=a;let A={day:c,week:u,month:d,year:p,startOfWeek:R=>l?k(R,a):s?N(R):I(R),endOfWeek:R=>l?m(R):s?v(R):x(R)}[e](n,t==="after"?1:-1);return t==="before"&&r?A=w([r,A]):t==="after"&&i&&(A=T([i,A])),A}function jve(e,t,n,r,i,o,a,s=0){if(s>365)return;const l=ISt(e,t,n.date,r,i,o,a),c=!!(o.disabled&&Lf(l,o.disabled,a)),d=!!(o.hidden&&Lf(l,o.hidden,a)),u=l,p=new kve(l,u,a);return!c&&!d?p:jve(e,t,p,r,i,o,a,s+1)}function PSt(e,t,n,r,i){const{autoFocus:o}=e,[a,s]=C.useState(),l=RSt(t.days,n,r||(()=>!1),a),[c,d]=C.useState(o?l:void 0);return{isFocusTarget:x=>!!l?.isEqualTo(x),setFocused:d,focused:c,blur:()=>{s(c),d(void 0)},moveFocus:(x,w)=>{if(!c)return;const T=jve(x,w,c,t.navStart,t.navEnd,e,i);T&&(e.disableNavigation&&!t.days.some(N=>N.isEqualTo(T))||(t.goToDay(T),d(T)))}}}function LSt(e,t){const{selected:n,required:r,onSelect:i}=e,[o,a]=a3(n,i?n:void 0),s=i?n:o,{isSameDay:l}=t,c=m=>s?.some(v=>l(v,m))??!1,{min:d,max:u}=e;return{selected:s,select:(m,v,x)=>{let w=[...s??[]];if(c(m)){if(s?.length===d||r&&s?.length===1)return;w=s?.filter(T=>!l(T,m))}else s?.length===u?w=[m]:w=[...w,m];return i||a(w),i?.(w,m,v,x),w},isSelected:c}}function jSt(e,t,n=0,r=0,i=!1,o=Ud){const{from:a,to:s}=t||{},{isSameDay:l,isAfter:c,isBefore:d}=o;let u;if(!a&&!s)u={from:e,to:n>0?void 0:e};else if(a&&!s)l(a,e)?n===0?u={from:a,to:e}:i?u={from:a,to:void 0}:u=void 0:d(e,a)?u={from:e,to:a}:u={from:a,to:e};else if(a&&s)if(l(a,e)&&l(s,e))i?u={from:a,to:s}:u=void 0;else if(l(a,e))u={from:a,to:n>0?void 0:e};else if(l(s,e))u={from:e,to:n>0?void 0:e};else if(d(e,a))u={from:e,to:s};else if(c(e,a))u={from:a,to:e};else if(c(e,s))u={from:a,to:e};else throw new Error("Invalid range");if(u?.from&&u?.to){const p=o.differenceInCalendarDays(u.to,u.from);r>0&&p>r?u={from:e,to:void 0}:n>1&&p<n&&(u={from:e,to:void 0})}return u}function BSt(e,t,n=Ud){const r=Array.isArray(t)?t:[t];let i=e.from;const o=n.differenceInCalendarDays(e.to,e.from),a=Math.min(o,6);for(let s=0;s<=a;s++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function Bne(e,t,n=Ud){return Pf(e,t.from,!1,n)||Pf(e,t.to,!1,n)||Pf(t,e.from,!1,n)||Pf(t,e.to,!1,n)}function $St(e,t,n=Ud){const r=Array.isArray(t)?t:[t];if(r.filter(s=>typeof s!="function").some(s=>typeof s=="boolean"?s:n.isDate(s)?Pf(e,s,!1,n):Dve(s,n)?s.some(l=>Pf(e,l,!1,n)):JU(s)?s.from&&s.to?Bne(e,{from:s.from,to:s.to},n):!1:Mve(s)?BSt(e,s.dayOfWeek,n):Ave(s)?n.isAfter(s.before,s.after)?Bne(e,{from:n.addDays(s.after,1),to:n.addDays(s.before,-1)},n):Lf(e.from,s,n)||Lf(e.to,s,n):Nve(s)||Ove(s)?Lf(e.from,s,n)||Lf(e.to,s,n):!1))return!0;const a=r.filter(s=>typeof s=="function");if(a.length){let s=e.from;const l=n.differenceInCalendarDays(e.to,e.from);for(let c=0;c<=l;c++){if(a.some(d=>d(s)))return!0;s=n.addDays(s,1)}}return!1}function HSt(e,t){const{disabled:n,excludeDisabled:r,selected:i,required:o,onSelect:a}=e,[s,l]=a3(i,a?i:void 0),c=a?i:s;return{selected:c,select:(p,m,v)=>{const{min:x,max:w}=e,T=p?jSt(p,c,x,w,o,t):void 0;return r&&n&&T?.from&&T.to&&$St({from:T.from,to:T.to},n,t)&&(T.from=p,T.to=void 0),a||l(T),a?.(T,p,m,v),T},isSelected:p=>c&&Pf(c,p,!1,t)}}function FSt(e,t){const{selected:n,required:r,onSelect:i}=e,[o,a]=a3(n,i?n:void 0),s=i?n:o,{isSameDay:l}=t;return{selected:s,select:(u,p,m)=>{let v=u;return!r&&s&&s&&l(u,s)&&(v=void 0),i||a(v),i?.(v,u,p,m),v},isSelected:u=>s?l(s,u):!1}}function USt(e,t){const n=FSt(e,t),r=LSt(e,t),i=HSt(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function zSt(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new va(t.today,t.timeZone)),t.month&&(t.month=new va(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new va(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new va(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new va(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new va(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(Tt=>new va(Tt,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new va(t.selected.from,t.timeZone):void 0,to:t.selected.to?new va(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:r,labels:i,dateLib:o,locale:a,classNames:s}=C.useMemo(()=>{const Tt={...FH,...t.locale};return{dateLib:new Pl({locale:Tt,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:YEt(t.components),formatters:rSt(t.formatters),labels:{...vSt,...t.labels},locale:Tt,classNames:{...ez(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:c,navLayout:d,numberOfMonths:u=1,onDayBlur:p,onDayClick:m,onDayFocus:v,onDayKeyDown:x,onDayMouseEnter:w,onDayMouseLeave:T,onNextClick:k,onPrevClick:N,showWeekNumber:I,styles:M}=t,{formatCaption:A,formatDay:R,formatMonthDropdown:L,formatWeekNumber:B,formatWeekNumberHeader:$,formatWeekdayName:W,formatYearDropdown:V}=r,Y=DSt(t,o),{days:U,months:X,navStart:q,navEnd:ne,previousMonth:Z,nextMonth:oe,goToMonth:K}=Y,Q=qEt(U,t,q,ne,o),{isSelected:te,select:z,selected:fe}=USt(t,o)??{},{blur:me,focused:ke,isFocusTarget:Ee,moveFocus:ve,setFocused:we}=PSt(t,Y,Q,te??(()=>!1),o),{labelDayButton:je,labelGridcell:Ke,labelGrid:Me,labelMonthDropdown:Lt,labelNav:Ve,labelPrevious:an,labelNext:cn,labelWeekday:Qt,labelWeekNumber:Yr,labelWeekNumberHeader:er,labelYearDropdown:ce}=i,xe=C.useMemo(()=>aSt(o,t.ISOWeek),[o,t.ISOWeek]),Te=c!==void 0||m!==void 0,Je=C.useCallback(()=>{Z&&(K(Z),N?.(Z))},[Z,K,N]),Ze=C.useCallback(()=>{oe&&(K(oe),k?.(oe))},[K,oe,k]),Qe=C.useCallback((Tt,lt)=>ct=>{ct.preventDefault(),ct.stopPropagation(),we(Tt),z?.(Tt.date,lt,ct),m?.(Tt.date,lt,ct)},[z,m,we]),ge=C.useCallback((Tt,lt)=>ct=>{we(Tt),v?.(Tt.date,lt,ct)},[v,we]),Be=C.useCallback((Tt,lt)=>ct=>{me(),p?.(Tt.date,lt,ct)},[me,p]),it=C.useCallback((Tt,lt)=>ct=>{const kt={ArrowLeft:[ct.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ct.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ct.shiftKey?"year":"week","after"],ArrowUp:[ct.shiftKey?"year":"week","before"],PageUp:[ct.shiftKey?"year":"month","before"],PageDown:[ct.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(kt[ct.key]){ct.preventDefault(),ct.stopPropagation();const[jt,vt]=kt[ct.key];ve(jt,vt)}x?.(Tt.date,lt,ct)},[ve,x,t.dir]),Nt=C.useCallback((Tt,lt)=>ct=>{w?.(Tt.date,lt,ct)},[w]),qt=C.useCallback((Tt,lt)=>ct=>{T?.(Tt.date,lt,ct)},[T]),Zn=C.useCallback(Tt=>lt=>{const ct=Number(lt.target.value),kt=o.setMonth(o.startOfMonth(Tt),ct);K(kt)},[o,K]),kn=C.useCallback(Tt=>lt=>{const ct=Number(lt.target.value),kt=o.setYear(o.startOfMonth(Tt),ct);K(kt)},[o,K]),{className:or,style:Yn}=C.useMemo(()=>({className:[s[zt.Root],t.className].filter(Boolean).join(" "),style:{...M?.[zt.Root],...t.style}}),[s,t.className,t.style,M]),xr=GEt(t),un=C.useRef(null);SSt(un,!!t.animate,{classNames:s,months:X,focused:ke,dateLib:o});const wi={dayPickerProps:t,selected:fe,select:z,isSelected:te,months:X,nextMonth:oe,previousMonth:Z,goToMonth:K,getModifiers:Q,components:n,classNames:s,styles:M,labels:i,formatters:r};return F.createElement(_ve.Provider,{value:wi},F.createElement(n.Root,{rootRef:t.animate?un:void 0,className:or,style:Yn,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...xr},F.createElement(n.Months,{className:s[zt.Months],style:M?.[zt.Months]},!t.hideNavigation&&!d&&F.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:s[zt.Nav],style:M?.[zt.Nav],"aria-label":Ve(),onPreviousClick:Je,onNextClick:Ze,previousMonth:Z,nextMonth:oe}),X.map((Tt,lt)=>F.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:s[zt.Month],style:M?.[zt.Month],key:lt,displayIndex:lt,calendarMonth:Tt},d==="around"&&!t.hideNavigation&&lt===0&&F.createElement(n.PreviousMonthButton,{type:"button",className:s[zt.PreviousMonthButton],tabIndex:Z?void 0:-1,"aria-disabled":Z?void 0:!0,"aria-label":an(Z),onClick:Je,"data-animated-button":t.animate?"true":void 0},F.createElement(n.Chevron,{disabled:Z?void 0:!0,className:s[zt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),F.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:s[zt.MonthCaption],style:M?.[zt.MonthCaption],calendarMonth:Tt,displayIndex:lt},l?.startsWith("dropdown")?F.createElement(n.DropdownNav,{className:s[zt.Dropdowns],style:M?.[zt.Dropdowns]},(()=>{const ct=l==="dropdown"||l==="dropdown-months"?F.createElement(n.MonthsDropdown,{key:"month",className:s[zt.MonthsDropdown],"aria-label":Lt(),classNames:s,components:n,disabled:!!t.disableNavigation,onChange:Zn(Tt.date),options:iSt(Tt.date,q,ne,r,o),style:M?.[zt.Dropdown],value:o.getMonth(Tt.date)}):F.createElement("span",{key:"month"},L(Tt.date,o)),kt=l==="dropdown"||l==="dropdown-years"?F.createElement(n.YearsDropdown,{key:"year",className:s[zt.YearsDropdown],"aria-label":ce(o.options),classNames:s,components:n,disabled:!!t.disableNavigation,onChange:kn(Tt.date),options:sSt(q,ne,r,o,!!t.reverseYears),style:M?.[zt.Dropdown],value:o.getYear(Tt.date)}):F.createElement("span",{key:"year"},V(Tt.date,o));return o.getMonthYearOrder()==="year-first"?[kt,ct]:[ct,kt]})(),F.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},A(Tt.date,o.options,o))):F.createElement(n.CaptionLabel,{className:s[zt.CaptionLabel],role:"status","aria-live":"polite"},A(Tt.date,o.options,o))),d==="around"&&!t.hideNavigation&&lt===u-1&&F.createElement(n.NextMonthButton,{type:"button",className:s[zt.NextMonthButton],tabIndex:oe?void 0:-1,"aria-disabled":oe?void 0:!0,"aria-label":cn(oe),onClick:Ze,"data-animated-button":t.animate?"true":void 0},F.createElement(n.Chevron,{disabled:oe?void 0:!0,className:s[zt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),lt===u-1&&d==="after"&&!t.hideNavigation&&F.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:s[zt.Nav],style:M?.[zt.Nav],"aria-label":Ve(),onPreviousClick:Je,onNextClick:Ze,previousMonth:Z,nextMonth:oe}),F.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":Me(Tt.date,o.options,o)||void 0,className:s[zt.MonthGrid],style:M?.[zt.MonthGrid]},!t.hideWeekdays&&F.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:s[zt.Weekdays],style:M?.[zt.Weekdays]},I&&F.createElement(n.WeekNumberHeader,{"aria-label":er(o.options),className:s[zt.WeekNumberHeader],style:M?.[zt.WeekNumberHeader],scope:"col"},$()),xe.map(ct=>F.createElement(n.Weekday,{"aria-label":Qt(ct,o.options,o),className:s[zt.Weekday],key:String(ct),style:M?.[zt.Weekday],scope:"col"},W(ct,o.options,o)))),F.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:s[zt.Weeks],style:M?.[zt.Weeks]},Tt.weeks.map(ct=>F.createElement(n.Week,{className:s[zt.Week],key:ct.weekNumber,style:M?.[zt.Week],week:ct},I&&F.createElement(n.WeekNumber,{week:ct,style:M?.[zt.WeekNumber],"aria-label":Yr(ct.weekNumber,{locale:a}),className:s[zt.WeekNumber],scope:"row",role:"rowheader"},B(ct.weekNumber,o)),ct.days.map(kt=>{const{date:jt}=kt,vt=Q(kt);if(vt[_i.focused]=!vt.hidden&&!!ke?.isEqualTo(kt),vt[du.selected]=te?.(jt)||vt.selected,JU(fe)){const{from:Hn,to:fi}=fe;vt[du.range_start]=!!(Hn&&fi&&o.isSameDay(jt,Hn)),vt[du.range_end]=!!(Hn&&fi&&o.isSameDay(jt,fi)),vt[du.range_middle]=Pf(fe,jt,!0,o)}const xt=oSt(vt,M,t.modifiersStyles),on=WEt(vt,s,t.modifiersClassNames),Gn=!Te&&!vt.hidden?Ke(jt,vt,o.options,o):void 0;return F.createElement(n.Day,{key:`${o.format(jt,"yyyy-MM-dd")}_${o.format(kt.displayMonth,"yyyy-MM")}`,day:kt,modifiers:vt,className:on.join(" "),style:xt,role:"gridcell","aria-selected":vt.selected||void 0,"aria-label":Gn,"data-day":o.format(jt,"yyyy-MM-dd"),"data-month":kt.outside?o.format(jt,"yyyy-MM"):void 0,"data-selected":vt.selected||void 0,"data-disabled":vt.disabled||void 0,"data-hidden":vt.hidden||void 0,"data-outside":kt.outside||void 0,"data-focused":vt.focused||void 0,"data-today":vt.today||void 0},!vt.hidden&&Te?F.createElement(n.DayButton,{className:s[zt.DayButton],style:M?.[zt.DayButton],type:"button",day:kt,modifiers:vt,disabled:vt.disabled||void 0,tabIndex:Ee(kt)?0:-1,"aria-label":je(jt,vt,o.options,o),onClick:Qe(kt,vt),onBlur:Be(kt,vt),onFocus:ge(kt,vt),onKeyDown:it(kt,vt),onMouseEnter:Nt(kt,vt),onMouseLeave:qt(kt,vt)},R(jt,o.options,o)):!vt.hidden&&R(kt.date,o.options,o))})))))))),t.footer&&F.createElement(n.Footer,{className:s[zt.Footer],style:M?.[zt.Footer],role:"status","aria-live":"polite"},t.footer)))}function VSt({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:i="ghost",formatters:o,components:a,...s}){const l=ez();return g.jsx(zSt,{showOutsideDays:n,className:Ie("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:c=>c.toLocaleString("default",{month:"short"}),...o},classNames:{root:Ie("w-fit",l.root),months:Ie("relative flex flex-col gap-4 md:flex-row",l.months),month:Ie("flex w-full flex-col gap-4",l.month),nav:Ie("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",l.nav),button_previous:Ie(KS({variant:i}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",l.button_previous),button_next:Ie(KS({variant:i}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",l.button_next),month_caption:Ie("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",l.month_caption),dropdowns:Ie("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",l.dropdowns),dropdown_root:Ie("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",l.dropdown_root),dropdown:Ie("bg-popover absolute inset-0 opacity-0",l.dropdown),caption_label:Ie("select-none font-medium",r==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:Ie("flex",l.weekdays),weekday:Ie("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",l.weekday),week:Ie("mt-2 flex w-full",l.week),week_number_header:Ie("w-[--cell-size] select-none",l.week_number_header),week_number:Ie("text-muted-foreground select-none text-[0.8rem]",l.week_number),day:Ie("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",l.day),range_start:Ie("bg-accent rounded-l-md",l.range_start),range_middle:Ie("rounded-none",l.range_middle),range_end:Ie("bg-accent rounded-r-md",l.range_end),today:Ie("font-semibold",l.today),outside:Ie("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:Ie("text-muted-foreground opacity-50",l.disabled),hidden:Ie("invisible",l.hidden),...t},components:{Root:({className:c,rootRef:d,...u})=>g.jsx("div",{"data-slot":"calendar",ref:d,className:Ie(c),...u}),Chevron:({className:c,orientation:d,...u})=>d==="left"?g.jsx(Pie,{className:Ie("size-4",c),...u}):d==="right"?g.jsx(OH,{className:Ie("size-4",c),...u}):g.jsx(CT,{className:Ie("size-4",c),...u}),DayButton:qSt,WeekNumber:({children:c,...d})=>g.jsx("td",{...d,children:g.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:c})}),...a},...s})}function qSt({className:e,day:t,modifiers:n,...r}){const i=ez(),o=C.useRef(null);return C.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),g.jsx(ni,{ref:o,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:Ie("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",i.day,e),...r})}function WSt(e){return/^(0[0-9]|1[0-9]|2[0-3])$/.test(e)}function YSt(e){return/^(0[1-9]|1[0-2])$/.test(e)}function GSt(e){return/^[0-5][0-9]$/.test(e)}function s3(e,{max:t,min:n=0,loop:r=!1}){let i=parseInt(e,10);return Number.isNaN(i)?"00":(r?(i>t&&(i=n),i<n&&(i=t)):(i>t&&(i=t),i<n&&(i=n)),i.toString().padStart(2,"0"))}function Bve(e){return WSt(e)?e:s3(e,{max:23})}function $ve(e){return YSt(e)?e:s3(e,{min:1,max:12})}function WM(e){return GSt(e)?e:s3(e,{max:59})}function tz(e,{min:t,max:n,step:r}){let i=parseInt(e,10);return Number.isNaN(i)?"00":(i+=r,s3(String(i),{min:t,max:n,loop:!0}))}function KSt(e,t){return tz(e,{min:0,max:23,step:t})}function XSt(e,t){return tz(e,{min:1,max:12,step:t})}function $ne(e,t){return tz(e,{min:0,max:59,step:t})}function ZSt(e,t){const n=WM(t);return e.setMinutes(parseInt(n,10)),e}function QSt(e,t){const n=WM(t);return e.setSeconds(parseInt(n,10)),e}function JSt(e,t){const n=Bve(t);return e.setHours(parseInt(n,10)),e}function eCt(e,t,n){const r=parseInt($ve(t),10),i=rCt(r,n);return e.setHours(i),e}function Hne(e,t,n,r){switch(n){case"minutes":return ZSt(e,t);case"seconds":return QSt(e,t);case"hours":return JSt(e,t);case"12hours":return r?eCt(e,t,r):e;default:return e}}function tCt(e,t){switch(t){case"minutes":return WM(String(e.getMinutes()));case"seconds":return WM(String(e.getSeconds()));case"hours":return Bve(String(e.getHours()));case"12hours":{const n=iCt(e.getHours());return $ve(String(n))}default:return"00"}}function nCt(e,t,n){switch(n){case"minutes":return $ne(e,t);case"seconds":return $ne(e,t);case"hours":return KSt(e,t);case"12hours":return XSt(e,t);default:return"00"}}function rCt(e,t){return t==="PM"?e<=11?e+12:e:t==="AM"&&e===12?0:e}function iCt(e){return e===0||e===12?"12":e>=22?`${e-12}`:e%12>9?`${e}`:`0${e%12}`}const lH=F.forwardRef(({className:e,type:t="tel",value:n,id:r,name:i,date:o=new Date(new Date().setHours(0,0,0,0)),setDate:a,onChange:s,onKeyDown:l,picker:c,period:d,onLeftFocus:u,onRightFocus:p,...m},v)=>{const[x,w]=F.useState(!1),[T,k]=F.useState("0");F.useEffect(()=>{if(x){const A=setTimeout(()=>{w(!1)},2e3);return()=>clearTimeout(A)}},[x]);const N=F.useMemo(()=>tCt(o,c),[o,c]),I=A=>c==="12hours"&&x&&N.slice(1,2)==="1"&&T==="0"?`0${A}`:x?N.slice(1,2)+A:`0${A}`,M=A=>{if(A.key!=="Tab"){if(A.preventDefault(),A.key==="ArrowRight"&&p?.(),A.key==="ArrowLeft"&&u?.(),["ArrowUp","ArrowDown"].includes(A.key)){const R=A.key==="ArrowUp"?1:-1,L=nCt(N,R,c);x&&w(!1);const B=new Date(o);a(Hne(B,L,c,d))}if(A.key>="0"&&A.key<="9"){c==="12hours"&&k(A.key);const R=I(A.key);x&&p?.(),w(B=>!B);const L=new Date(o);a(Hne(L,R,c,d))}}};return g.jsx(hu,{ref:v,id:r||c,name:i||c,className:Ie("w-[48px] text-center font-mono text-base tabular-nums caret-transparent focus:bg-accent focus:text-accent-foreground [&::-webkit-inner-spin-button]:appearance-none",e),value:n||N,onChange:A=>{A.preventDefault(),s?.(A)},type:t,inputMode:"decimal",onKeyDown:A=>{l?.(A),M(A)},...m})});lH.displayName="TimePickerInput";function oCt({date:e,setDate:t}){const n=C.useRef(null),r=C.useRef(null),i=C.useRef(null);return g.jsxs("div",{className:"flex items-end gap-2",children:[g.jsxs("div",{className:"grid gap-1 text-center",children:[g.jsx(Xf,{htmlFor:"hours",className:"text-xs",children:"Hours"}),g.jsx(lH,{picker:"hours",date:e,setDate:t,ref:r,onRightFocus:()=>n.current?.focus()})]}),g.jsxs("div",{className:"grid gap-1 text-center",children:[g.jsx(Xf,{htmlFor:"minutes",className:"text-xs",children:"Minutes"}),g.jsx(lH,{picker:"minutes",date:e,setDate:t,ref:n,onLeftFocus:()=>r.current?.focus(),onRightFocus:()=>i.current?.focus()})]})]})}function YM({date:e,setDate:t,className:n,buttonClassName:r,defaultTime:i}){const o=a=>{if(a){if(i){const s=new Date(a);s.setHours(i.hours??0,i.minutes??0,i.seconds??0,0),t(s);return}if(e){const l=(a.getTime()-e.getTime())/(1e3*60*60*24),c=P_e(e,{days:Math.ceil(l)});t(c)}else t(a)}};return g.jsxs(Od,{children:[g.jsx(Md,{asChild:!0,children:g.jsxs(ni,{variant:"outline",className:Ie("w-[254px] justify-start text-left font-normal",!e&&"text-muted-foreground",r),children:[g.jsx(Rie,{className:"mr-2 h-4 w-4"}),e?Wf(e,"PPP HH:mm"):g.jsx("span",{children:"Pick a date"})]})}),g.jsxs(Dd,{className:Ie("w-auto p-0",n),children:[g.jsx(VSt,{mode:"single",selected:e,onSelect:a=>o(a)}),g.jsx("div",{className:"p-3 border-t border-border",children:g.jsx(oCt,{setDate:t,date:e})})]})]})}var aCt=Object.defineProperty,sCt=(e,t)=>{for(var n in t)aCt(e,n,{get:t[n],enumerable:!0})},u0={};sCt(u0,{ActiveEmoji:()=>s1e,Empty:()=>a1e,List:()=>r1e,Loading:()=>o1e,Root:()=>Xve,Search:()=>Zve,SkinTone:()=>l1e,SkinToneSelector:()=>i1e,Viewport:()=>Qve});var Hve="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",nz=["none","light","medium-light","medium","medium-dark","dark"];function _6(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Zc=2,ga=null;function Fne(e){try{ga??=document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{}if(!ga||(queueMicrotask(()=>{ga&&(ga=null)}),ga.canvas.width=Zc,ga.canvas.height=Zc,ga.font=`2px ${Hve}`,ga.textBaseline="middle",ga.measureText(e).width>=Zc*2))return!1;ga.fillStyle="#00f",ga.fillText(e,0,0);let t=ga.getImageData(0,0,Zc,Zc).data;ga.clearRect(0,0,Zc,Zc),ga.fillStyle="#f00",ga.fillText(e,0,0);let n=ga.getImageData(0,0,Zc,Zc).data;for(let r=0;r<Zc*Zc*4;r+=4)if(t[r]!==n[r]||t[r+1]!==n[r+1]||t[r+2]!==n[r+2])return!1;return!0}function Une(e,t,n){try{let r=e.getItem(t);if(!r)throw new Error(`No value found for "${t}".`);let i=JSON.parse(r);return n(i)}catch{return null}}function Fve(e,t,n){e.setItem(t,JSON.stringify(n))}function zne(e){return t=>t===void 0?void 0:e(t)}function Vne(e){return t=>t===null?null:e(t)}function Yo(e){if(typeof e!="string")throw new Error;return e}function dN(e){if(typeof e!="number")throw new Error;return e}function Uve(e){if(typeof e!="boolean")throw new Error;return e}function xp(e){return t=>{if(typeof t!="object"||t===null)throw new Error;let n={};for(let r in e){let i=t[r];i===void 0&&e[r](void 0),n[r]=e[r](i)}return n}}function A6(e){return t=>{if(!Array.isArray(t))throw new Error;return t.length>0&&e(t[0]),t}}var zve=(e,t)=>`${e}/${t}/data.json`,Vve=(e,t)=>`${e}/${t}/messages.json`,lCt=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],qne="en",qve=e=>`frimousse/data/${e}`,Wne="frimousse/metadata";async function Yne(e,t){try{return(await fetch(e,{method:"HEAD",signal:t})).headers.get("etag")}catch{return null}}async function cCt(e,t,n){let[{emojis:r,emojisEtag:i},{messages:o,messagesEtag:a}]=await Promise.all([fetch(zve(e,t),{signal:n}).then(async s=>({emojis:await s.json(),emojisEtag:s.headers.get("etag")})),fetch(Vve(e,t),{signal:n}).then(async s=>({messages:await s.json(),messagesEtag:s.headers.get("etag")}))]);return{emojis:r,messages:o,emojisEtag:i,messagesEtag:a}}async function uCt(e,t,n){let[r,i]=await Promise.all([Yne(zve(e,t),n),Yne(Vve(e,t),n)]);return{emojisEtag:r,messagesEtag:i}}function dCt(e){return e.skins?e.skins.filter(t=>typeof t.tone=="number").reduce((t,n)=>{let r=nz[n.tone];return t[r]=n.emoji,t},{}):void 0}async function Gne(e,t,n){let{emojis:r,emojisEtag:i,messages:o,messagesEtag:a}=await cCt(e,t,n),s=o.subgroups.find(v=>v.key==="country-flag"||v.key==="subdivision-flag"),l=o.groups.filter(v=>v.key!=="component"),c=r.filter(v=>"group"in v),d=l.map(v=>({index:v.order,label:_6(v.message)})),u=o.skinTones.reduce((v,x)=>(v[x.key]=_6(x.message),v),{}),p=c.map(v=>({emoji:v.emoji,category:v.group,version:v.version,label:_6(v.label),tags:v.tags??[],countryFlag:s&&v.subgroup===s.order||void 0,skins:dCt(v)})),m={locale:t,emojis:p,categories:d,skinTones:u};return Fve(localStorage,qve(t),{data:m,metadata:{emojisEtag:i,messagesEtag:a}}),m}function fCt(e,t){let n=new Map;for(let a of e)n.has(a.version)||n.set(a.version,a.emoji);let r=[...n.keys()].sort((a,s)=>s-a),i=r[0]??0,o=Fne("");if(typeof t=="number")return{emojiVersion:t,countryFlags:o};for(let a of r){let s=n.get(a);if(Fne(s))return{emojiVersion:a,countryFlags:o}}return{emojiVersion:i,countryFlags:o}}var hCt=xp({emojiVersion:dN,countryFlags:Uve}),pCt=xp({data:xp({locale:Yo,emojis:A6(xp({emoji:Yo,category:dN,label:Yo,version:dN,tags:A6(Yo),countryFlag:zne(Uve),skins:zne(xp({light:Yo,"medium-light":Yo,medium:Yo,"medium-dark":Yo,dark:Yo}))})),categories:A6(xp({index:dN,label:Yo})),skinTones:xp({light:Yo,"medium-light":Yo,medium:Yo,"medium-dark":Yo,dark:Yo})}),metadata:xp({emojisEtag:Vne(Yo),messagesEtag:Vne(Yo)})});async function mCt({locale:e,emojiVersion:t,emojibaseUrl:n,signal:r}){let i=typeof n=="string"?n:`https://cdn.jsdelivr.net/npm/emojibase-data@${typeof t=="number"?Math.floor(t):"latest"}`,o=Une(sessionStorage,Wne,hCt),a=Une(localStorage,qve(e),pCt),s;if(!a)s=await Gne(i,e,r);else if(o)s=a.data;else try{let{emojisEtag:c,messagesEtag:d}=await uCt(i,e,r);s=!c||!d||c!==a.metadata.emojisEtag||d!==a.metadata.messagesEtag?await Gne(i,e,r):a.data}catch{s=a.data}o??=fCt(s.emojis,t),Fve(sessionStorage,Wne,o);let l=s.emojis.filter(c=>{let d=c.version<=o.emojiVersion;return c.countryFlag?d&&o.countryFlags:d});return{locale:e,emojis:l,categories:s.categories,skinTones:s.skinTones}}function Kne(e){return lCt.includes(e)?e:(console.warn(`Locale "${e}" is not supported, using "${qne}" instead.`),qne)}function Xne(e){return nz.includes(e)?e:(console.warn(`Skin tone "${e}" is not valid, using "none" instead.`),"none")}function gCt(e,t){let n=[];if(t<=0)return n;for(let r=0,i=e.length;r<i;r+=t)n.push(e.slice(r,r+t));return n}function yCt(e,t){if(!t)return e;let n=t.toLowerCase().trim(),r=new WeakMap;return e.filter(i=>{let o=0;i.label.toLowerCase().includes(n)&&(o+=10);for(let a of i.tags)a.toLowerCase().includes(n)&&(o+=1);return o>0?(r.set(i,o),!0):!1}).sort((i,o)=>(r.get(o)??0)-(r.get(i)??0))}function bCt(e,t,n,r){let i=yCt(e.emojis,r),o=[],a=[],s=[],l={},c=0,d=0;for(let u of i)l[u.category]||(l[u.category]=[]),l[u.category].push({emoji:n&&n!=="none"&&u.skins?u.skins[n]:u.emoji,label:u.label});for(let u of e.categories){let p=l[u.index];if(!p||p.length===0)continue;let m=gCt(Array.from(p),t).map(v=>({categoryIndex:c,emojis:v}));o.push(...m),a.push({label:u.label,rowsCount:m.length,startRowIndex:d}),s.push(d),c++,d+=m.length}return{count:i.length,categories:a,categoriesStartRowIndices:s,rows:o,skinTones:e.skinTones}}function vCt(e){let t={},n=null,r=null,i=new Set,o=()=>{if(n){t=n,n=null;for(let c of i)c(t)}r=null},a=()=>n??t,s=c=>{n??=t,Object.assign(n,typeof c=="function"?c(a()):c),r||(r=requestAnimationFrame(o))},l=c=>(i.add(c),()=>i.delete(c));return t=e(s,a),{get:a,set:s,subscribe:l}}function xCt(e){let[t]=C.useState(e);return t}function wCt(e){let t=C.createContext(null);return{useStore:()=>{let n=C.useContext(t);if(!n)throw new Error(e);return n},Provider:({store:n,children:r})=>g.jsx(t.Provider,{value:n,children:r})}}function Ll(e,t,n=Object.is){let[r,i]=C.useState(()=>t(e.get()));return C.useEffect(()=>e.subscribe(()=>{let o=t(e.get());i(a=>n(a,o)?a:o)}),[e,t,n]),C.useDebugValue(r),r}function vd(e,t,n){let r=C.useCallback(i=>i[t],[t]);return Ll(e,r,n)}var Zne=2;function ECt(e,t,n,r,i){let o=0;return vCt((a,s)=>({locale:t,columns:n,sticky:r,skinTone:i,onEmojiSelect:e,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:l=>{let c=s(),d=l?.data??c.data,u=l?.categoryHeaderHeight??c.categoryHeaderHeight,p=l?.rowHeight??c.rowHeight,m=l?.viewportHeight??c.viewportHeight;if(!d||d.rows.length===0||!u||!p||!m)return a({...l,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let v=0,x=0;for(let L of d.categories)if(x++*u+L.startRowIndex*p<o)v+=u;else break;let w=d.categories.length*u+d.rows.length*p,T=Math.floor(Zne*p/2),k=Math.ceil(Zne*p/2),N=Math.min(o-v-T,w-m),I=N+m+k,M=Math.max(0,Math.floor(N/p)),A=Math.min(d.rows.length-1,Math.ceil(I/p)),R=d.rows[M]?.categoryIndex;return a(R===void 0&&l?l:{...l,viewportStartCategoryIndex:R,viewportStartRowIndex:M,viewportEndRowIndex:A})},onDataChange:l=>{s().updateViewportState({data:l,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:l=>{a({search:l,interaction:l?"keyboard":"none"})},onActiveEmojiChange:(l,c,d)=>{if(a({interaction:l,activeColumnIndex:c,activeRowIndex:d}),l!=="keyboard")return;let{listRef:u,viewportRef:p,sticky:m,rowHeight:v,viewportHeight:x,categoryHeaderHeight:w}=s(),T=u?.current,k=p?.current;if(!T||!k||!v||!w||!x)return;let N=d;N===0&&k.scrollTo({top:0,behavior:"instant"});let I=T.querySelector(`[aria-rowindex="${N}"]`);if(!(I instanceof HTMLElement))return;let M=I.offsetTop,A=getComputedStyle(I),R=Number.parseFloat(A.scrollMarginTop),L=Number.parseFloat(A.scrollMarginBottom),B=o+R;m&&M<o+x/2&&(B+=w);let $=B+x-L;(M<B||M+v>$)&&k.scrollTo({top:Math.max(M<B+w?M-Math.max(m?w:0,R):M-x+v+L,0),behavior:"instant"})},onActiveEmojiReset:()=>{a({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:l=>{s().updateViewportState({rowHeight:l})},onCategoryHeaderHeightChange:l=>{s().updateViewportState({categoryHeaderHeight:l})},onViewportSizeChange:(l,c)=>{s().updateViewportState({viewportWidth:l,viewportHeight:c})},onViewportScroll:l=>{o=l,s().updateViewportState()}}))}var{useStore:Ks,Provider:SCt}=wCt("EmojiPicker.Root is missing.");function CCt(e){return e.search}function rz(e){return e.interaction==="none"?void 0:e.data?.rows[e.activeRowIndex]?.emojis[e.activeColumnIndex]}function TCt(e){return e.data===void 0||typeof e.data?.count=="number"&&e.data.count===0}function kCt(e){return e.data===null||e.viewportHeight===null||e.rowHeight===null||e.categoryHeaderHeight===null}function Wve(e){return e.data?.rows.length}function _Ct(e){return e.data?.categories.length}function ACt(e){return e.data?.categoriesStartRowIndices}function NCt(e){return e.data?.skinTones}function Yve(e,t){return e?.emoji===t?.emoji}function OCt(e,t){return e?.categoryIndex!==t?.categoryIndex||e?.emojis.length!==t?.emojis.length?!1:!!e?.emojis.every((n,r)=>Yve(n,t?.emojis[r]))}var eS="",Qne=new RegExp("\\p{Emoji_Modifier_Base}","u"),MCt=/\uFE0F$/,DCt=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,RCt={light:"","medium-light":"",medium:"","medium-dark":"",dark:""};function ICt(e,t){if(!e.split(eS).some(r=>Qne.test(r)))return e;let n=e.split(eS).map(r=>r.replace(DCt,"")).join(eS);return t==="none"?n:n.split(eS).map((r,i,o)=>{let a=o.length>1;return!Qne.test(r)||a&&r===""?r:r.replace(MCt,"")+RCt[t]}).join(eS)}function PCt(e){return nz.map(t=>({skinTone:t,emoji:ICt(e,t)}))}function Gve(){let e=Ks(),t=Ll(e,rz,Yve);return C.useDeferredValue(t)}function Kve(e=""){let t=Ks(),n=vd(t,"skinTone"),r=C.useMemo(()=>PCt(e),[e]),i=C.useCallback(o=>{t.set({skinTone:o})},[]);return[n,i,r]}function iz(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null||Array.isArray(e)!==Array.isArray(t))return!1;let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(i=>i in t&&e[i]===t[i])}function LCt(...e){}function jCt(e,t){let n=null;if(typeof window.requestIdleCallback=="function")n=window.requestIdleCallback(e,t);else{let r=Date.now();n=window.setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,t?.timeout-(Date.now()-r))})},10)}return()=>{typeof window.cancelIdleCallback=="function"?window.cancelIdleCallback(n):window.clearTimeout(n)}}var ru=typeof window<"u"?C.useLayoutEffect:C.useEffect;function BCt(e){let t=C.useRef(e);return ru(()=>{t.current=e}),C.useCallback((...n)=>t.current(...n),[])}function $Ct({emojiVersion:e,emojibaseUrl:t}){let[n,r]=C.useState(void 0),i=Ks(),o=vd(i,"locale"),a=vd(i,"columns"),s=vd(i,"skinTone"),l=vd(i,"search");return C.useEffect(()=>{let c=new AbortController,d=c.signal;return mCt({locale:o,emojiVersion:e,emojibaseUrl:t,signal:d}).then(u=>{r(u)}).catch(u=>{d.aborted||console.error(u)}),()=>{c.abort()}},[e,t,o]),C.useEffect(()=>{if(n)return jCt(()=>{i.get().onDataChange(bCt(n,a,s,l))},{timeout:100})},[n,a,s,l]),null}var Xve=C.forwardRef(({locale:e="en",columns:t=9,skinTone:n="none",onEmojiSelect:r=LCt,emojiVersion:i,emojibaseUrl:o,onFocusCapture:a,onBlurCapture:s,children:l,style:c,sticky:d=!0,...u},p)=>{let m=BCt(r),v=xCt(()=>ECt(m,Kne(e),t,d,Xne(n))),[x,w]=C.useState(!1),T=C.useRef(null),k=C.useCallback(M=>{M&&(T.current=M,v.set({rootRef:T}))},[]);ru(()=>{v.set({locale:Kne(e)})},[e]),ru(()=>{v.set({columns:t})},[t]),ru(()=>{v.set({sticky:d})},[d]),ru(()=>{v.set({skinTone:Xne(n)})},[n]);let N=C.useCallback(M=>{a?.(M);let{searchRef:A,viewportRef:R}=v.get(),L=M.target===A?.current||M.target.hasAttribute("frimousse-search"),B=M.target===R?.current||M.target.hasAttribute("frimousse-viewport");M.isDefaultPrevented()||(w(L||B),M.isDefaultPrevented()||(w(L||B),B?v.get().onActiveEmojiChange("keyboard",0,0):L&&v.get().search===""&&v.set({interaction:"none"})))},[a]),I=C.useCallback(M=>{s?.(M),!M.isDefaultPrevented()&&!M.currentTarget.contains(M.relatedTarget)&&w(!1)},[s]);return ru(()=>{x||v.get().onActiveEmojiReset()},[x]),C.useImperativeHandle(p,()=>T.current),C.useEffect(()=>{if(!x)return;function M(A){if(A.defaultPrevented||!A.key.startsWith("Arrow")&&A.key!=="Enter")return;let{data:R,onEmojiSelect:L,onActiveEmojiChange:B,interaction:$,activeColumnIndex:W,activeRowIndex:V}=v.get();if(A.key==="Enter"){let Y=rz(v.get());Y&&(A.preventDefault(),L(Y))}if(A.key.startsWith("Arrow")){let Y=W,U=V;if(A.preventDefault(),$!=="none"){if(R?.rows&&R.rows.length>0)switch(A.key){case"ArrowLeft":{if(Y===0){let X=U-1,q=R.rows[X];q&&(U=X,Y=q.emojis.length-1)}else Y-=1;break}case"ArrowRight":{if(Y===R.rows[U].emojis.length-1){let X=U+1;R.rows[X]&&(U=X,Y=0)}else Y+=1;break}case"ArrowUp":{let X=R.rows[U-1];X&&(U-=1,X.emojis[Y]||(Y=X.emojis.length-1));break}case"ArrowDown":{let X=R.rows[U+1];X&&(U+=1,X.emojis[Y]||(Y=X.emojis.length-1));break}}B("keyboard",Y,U)}else B("keyboard",0,0)}}return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[x]),ru(()=>{let M=null,A=null,R=null,L=null,B=v.subscribe(U=>{T.current&&(M!==U.viewportWidth&&(M=U.viewportWidth,T.current.style.setProperty("--frimousse-viewport-width",`${U.viewportWidth}px`)),A!==U.viewportHeight&&(A=U.viewportHeight,T.current.style.setProperty("--frimousse-viewport-height",`${U.viewportHeight}px`)),R!==U.rowHeight&&(R=U.rowHeight,T.current.style.setProperty("--frimousse-row-height",`${U.rowHeight}px`)),L!==U.categoryHeaderHeight&&(L=U.categoryHeaderHeight,T.current.style.setProperty("--frimousse-category-header-height",`${U.categoryHeaderHeight}px`)))}),{viewportWidth:$,viewportHeight:W,rowHeight:V,categoryHeaderHeight:Y}=v.get();return $&&T.current.style.setProperty("--frimousse-viewport-width",`${$}px`),W&&T.current.style.setProperty("--frimousse-viewport-height",`${W}px`),V&&T.current.style.setProperty("--frimousse-row-height",`${V}px`),Y&&T.current.style.setProperty("--frimousse-category-header-height",`${Y}px`),B},[]),g.jsx("div",{"data-focused":x?"":void 0,"frimousse-root":"",onBlurCapture:I,onFocusCapture:N,...u,ref:k,style:{"--frimousse-emoji-font":Hve,...c},children:g.jsxs(SCt,{store:v,children:[g.jsx($Ct,{emojiVersion:i,emojibaseUrl:o}),l]})})}),Zve=C.forwardRef(({value:e,defaultValue:t,onChange:n,...r},i)=>{let o=Ks(),a=C.useRef(null),s=C.useCallback(u=>{u&&(a.current=u,o.set({searchRef:a}))},[]),l=typeof e=="string",c=C.useRef(l);C.useEffect(()=>{c.current=l},[l]),ru(()=>{o.set({search:typeof e=="string"?e:typeof t=="string"?t:""})},[]),ru(()=>{typeof e=="string"&&o.get().onSearchChange(e)},[e]);let d=C.useCallback(u=>{n?.(u),u.isDefaultPrevented()||o.get().onSearchChange(u.target.value)},[n]);return C.useImperativeHandle(i,()=>a.current),g.jsx("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search",spellCheck:!1,type:"search",...r,defaultValue:t,onChange:d,ref:s,value:e})}),HCt=C.memo(()=>{let e=Gve();return e?g.jsx("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:e.label}):null}),Qve=C.forwardRef(({children:e,onScroll:t,onKeyDown:n,style:r,...i},o)=>{let a=Ks(),s=C.useRef(null),l=C.useCallback(p=>{p&&(s.current=p,a.set({viewportRef:s}))},[]),c=Ll(a,Wve),d=Ll(a,_Ct),u=C.useCallback(p=>{t?.(p),a.get().onViewportScroll(p.currentTarget.scrollTop)},[t]);return ru(()=>{if(!s.current)return;let p=new ResizeObserver(([m])=>{let v=m?.borderBoxSize[0]?.inlineSize??0,x=m?.borderBoxSize[0]?.blockSize??0,{onViewportSizeChange:w,viewportHeight:T,viewportWidth:k}=a.get();(T!==x||k!==v)&&w(v,x)});return p.observe(s.current),a.get().onViewportSizeChange(s.current.offsetWidth,s.current.clientHeight),()=>{p.disconnect()}},[]),C.useImperativeHandle(o,()=>s.current),g.jsxs("div",{"frimousse-viewport":"",...i,onScroll:u,ref:l,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:typeof c=="number"&&typeof d=="number"?`var(--frimousse-viewport-width, auto) calc(${c} * var(--frimousse-row-height) + ${d} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...r},children:[g.jsx(HCt,{}),e]})});function Jve(e,t,n){return{emoji:{...e,isActive:n},role:"gridcell","aria-colindex":t,"aria-selected":n||void 0,"aria-label":e.label,"data-active":n?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function e1e(e,t=!1){return{role:t?void 0:"row","aria-rowindex":t?void 0:e,"frimousse-row":"",style:{contain:t?void 0:"content",height:t?void 0:"var(--frimousse-row-height)",display:"flex"}}}function t1e(e,t){return{"frimousse-category":"",style:{contain:"content",top:t?`calc(${e} * var(--frimousse-category-header-height) + ${t.startRowIndex} * var(--frimousse-row-height))`:void 0,height:t?`calc(var(--frimousse-category-header-height) + ${t.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function n1e(e,t=!1,n=!0){return{category:e,"frimousse-category-header":"",style:{contain:t?void 0:"layout paint",height:t?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:n?"sticky":void 0,top:0}}}function Jne(e,t,n,r){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${e} * var(--frimousse-row-height) + ${t} * var(--frimousse-category-header-height))`,paddingTop:`calc(${n} * var(--frimousse-row-height) + ${r} * var(--frimousse-category-header-height))`}}}function ere(e,t,n){return{"aria-colcount":e,"aria-rowcount":t,"frimousse-list":"",style:{"--frimousse-list-columns":e,...n},role:"grid"}}function FCt(e){e.preventDefault()}var UCt=C.memo(({Emoji:e,emoji:t,columnIndex:n,rowIndex:r})=>{let i=Ks(),o=Ll(i,c=>rz(c)?.emoji===t.emoji),a=C.useCallback(()=>{i.get().onEmojiSelect(t)},[t]),s=C.useCallback(()=>{i.get().onActiveEmojiChange("pointer",n,r)},[n,r]),l=C.useCallback(()=>{i.get().onActiveEmojiReset()},[]);return g.jsx(e,{...Jve(t,n,o),onClick:a,onPointerDown:FCt,onPointerEnter:s,onPointerLeave:l})}),zCt=C.memo(({Row:e,Emoji:t,rowIndex:n})=>{let r=Ks(),i=Ll(r,o=>o.data?.rows[n],OCt);return i?g.jsx(e,{...e1e(n),children:i.emojis.map((o,a)=>g.jsx(UCt,{Emoji:t,columnIndex:a,emoji:o,rowIndex:n},o.label))}):null}),VCt=C.memo(({CategoryHeader:e,categoryIndex:t})=>{let n=Ks(),r=Ll(n,o=>o.data?.categories[t],iz),i=vd(n,"sticky");return r?g.jsx("div",{...t1e(t,r),children:g.jsx(e,{...n1e({label:r.label},!1,i)})}):null}),tre=C.memo(({CategoryHeader:e,Row:t,Emoji:n})=>{let r=C.useRef(null),i=Ks(),o=vd(i,"columns"),a=C.useMemo(()=>Array(o).fill({emoji:"",label:""}),[o]),s=C.useMemo(()=>({label:"Category"}),[]),l=C.useRef(null),c=C.useRef(null);return ru(()=>{let d=r.current?.parentElement?.parentElement;if(!d||!l.current||!c.current)return;let u=new ResizeObserver(v=>{for(let x of v){let w=x.contentRect.height,{onRowHeightChange:T,onCategoryHeaderHeightChange:k,rowHeight:N,categoryHeaderHeight:I}=i.get();x.target===l.current&&N!==w&&T(w),x.target===c.current&&I!==w&&k(w)}});u.observe(d),u.observe(l.current),u.observe(c.current);let{onRowHeightChange:p,onCategoryHeaderHeightChange:m}=i.get();return p(l.current.clientHeight),m(c.current.clientHeight),()=>{u.disconnect()}},[]),g.jsxs("div",{"aria-hidden":!0,ref:r,style:{height:0,visibility:"hidden"},children:[g.jsx("div",{"frimousse-row-sizer":"",ref:l,children:g.jsx(t,{...e1e(-1,!0),children:a.map((d,u)=>g.jsx(n,{...Jve(d,u,!1)},u))})}),g.jsx("div",{...t1e(-1),children:g.jsx("div",{"frimousse-category-header-sizer":"",ref:c,children:g.jsx(e,{...n1e(s,!0)})})})]})});function qCt({category:e,...t}){return g.jsx("div",{...t,children:e.label})}function WCt({emoji:e,...t}){return g.jsx("button",{type:"button",...t,children:e.emoji})}function YCt({...e}){return g.jsx("div",{...e})}var r1e=C.forwardRef(({style:e,components:t,...n},r)=>{let i=Ks(),o=C.useRef(null),a=C.useCallback(T=>{T&&(o.current=T,i.set({listRef:o}))},[]),s=t?.CategoryHeader??qCt,l=t?.Emoji??WCt,c=t?.Row??YCt,d=vd(i,"columns"),u=vd(i,"viewportStartRowIndex"),p=vd(i,"viewportEndRowIndex"),m=Ll(i,Wve),v=Ll(i,ACt,iz),x=C.useMemo(()=>v?.filter(T=>T<u).length??0,[v,u]),w=v?.length??0;return C.useImperativeHandle(r,()=>o.current),!m||!v||w===0?g.jsx("div",{...ere(d,0,e),...n,children:g.jsx("div",{...Jne(0,0,0,0),children:g.jsx(tre,{CategoryHeader:s,Emoji:l,Row:c})})}):g.jsx("div",{...ere(d,m,e),...n,ref:a,children:g.jsxs("div",{...Jne(m,w,u,x),children:[g.jsx(tre,{CategoryHeader:s,Emoji:l,Row:c}),Array.from({length:p-u+1},(T,k)=>{let N=u+k,I=v.indexOf(N);return g.jsxs(C.Fragment,{children:[I>=0&&g.jsx("div",{style:{height:"var(--frimousse-category-header-height)"}}),g.jsx(zCt,{Emoji:l,Row:c,rowIndex:N})]},N)}),Array.from({length:w},(T,k)=>g.jsx(VCt,{CategoryHeader:s,categoryIndex:k},k))]})})}),i1e=C.forwardRef(({emoji:e,onClick:t,"aria-label":n="Change skin tone",...r},i)=>{let o=Ks(),a=Ll(o,NCt,iz),[s,l,c]=Kve(e),d=C.useMemo(()=>Math.max(0,c.findIndex(w=>w.skinTone===s)),[s,c]),u=c[d],p=c[(d+1)%c.length].skinTone,m=s==="none"?void 0:a?.[s],v=p==="none"?void 0:a?.[p],x=C.useCallback(w=>{t?.(w),w.isDefaultPrevented()||l(p)},[t,l,p]);return g.jsx("button",{type:"button",...r,"aria-label":n+(v?` (${v})`:""),"aria-live":"polite","aria-valuetext":m,"frimousse-skin-tone-selector":"",onClick:x,ref:i,children:u.emoji})});function o1e({children:e,...t}){let n=Ks();return Ll(n,kCt)?g.jsx("span",{"frimousse-loading":"",...t,children:e}):null}function GCt({children:e}){let t=Ks(),n=Ll(t,CCt);return e({search:n})}function a1e({children:e,...t}){let n=Ks();return Ll(n,TCt)?g.jsx("span",{"frimousse-empty":"",...t,children:typeof e=="function"?g.jsx(GCt,{children:e}):e}):null}function s1e({children:e}){let t=Gve();return e({emoji:t})}function l1e({children:e,emoji:t}){let[n,r,i]=Kve(t);return e({skinTone:n,setSkinTone:r,skinToneVariations:i})}Xve.displayName="EmojiPicker.Root";Zve.displayName="EmojiPicker.Search";Qve.displayName="EmojiPicker.Viewport";r1e.displayName="EmojiPicker.List";o1e.displayName="EmojiPicker.Loading";a1e.displayName="EmojiPicker.Empty";i1e.displayName="EmojiPicker.SkinToneSelector";s1e.displayName="EmojiPicker.ActiveEmoji";l1e.displayName="EmojiPicker.SkinTone";function KCt({className:e,...t}){return g.jsx(u0.Root,{className:Ie("bg-popover text-popover-foreground isolate flex h-full w-fit flex-col overflow-hidden rounded-md",e),"data-slot":"emoji-picker",...t})}function XCt({className:e,...t}){return g.jsxs("div",{className:Ie("flex h-9 items-center gap-2 border-b px-3",e),"data-slot":"emoji-picker-search-wrapper",children:[g.jsx(qie,{className:"size-4 shrink-0 opacity-50"}),g.jsx(u0.Search,{className:"outline-hidden placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm disabled:cursor-not-allowed disabled:opacity-50","data-slot":"emoji-picker-search",...t})]})}function ZCt({children:e,...t}){return g.jsx("div",{...t,className:"scroll-my-1 px-1","data-slot":"emoji-picker-row",children:e})}function QCt({emoji:e,className:t,...n}){return g.jsx("button",{...n,className:Ie("data-[active]:bg-accent flex size-7 items-center justify-center rounded-sm text-base",t),"data-slot":"emoji-picker-emoji",children:e.emoji})}function JCt({category:e,...t}){return g.jsx("div",{...t,className:"bg-popover text-muted-foreground px-3 pb-2 pt-3.5 text-xs leading-none","data-slot":"emoji-picker-category-header",children:e.label})}function eTt({className:e,...t}){return g.jsxs(u0.Viewport,{className:Ie("outline-hidden relative flex-1",e),"data-slot":"emoji-picker-viewport",...t,children:[g.jsx(u0.Loading,{className:"absolute inset-0 flex items-center justify-center text-muted-foreground","data-slot":"emoji-picker-loading",children:g.jsx(Vie,{className:"size-4 animate-spin"})}),g.jsx(u0.Empty,{className:"absolute inset-0 flex items-center justify-center text-muted-foreground text-sm","data-slot":"emoji-picker-empty",children:"No emoji found."}),g.jsx(u0.List,{className:"select-none pb-1",components:{Row:ZCt,Emoji:QCt,CategoryHeader:JCt},"data-slot":"emoji-picker-list"})]})}function c1e({emoji:e,setEmoji:t,title:n,setTitle:r,start:i,setStart:o,end:a,setEnd:s,isEditing:l}){const[c,d]=C.useState(!1),u=["","","","","",""];return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs(Od,{open:c,onOpenChange:d,children:[g.jsx(Md,{asChild:!0,children:g.jsx("button",{type:"button",className:"text-xl cursor-pointer transition-opacity flex-shrink-0 hover:bg-muted rounded-md p-1",onClick:()=>d(!0),children:e})}),g.jsx(Dd,{className:"w-full p-1",children:g.jsxs(KCt,{onEmojiSelect:p=>{t(p.emoji),d(!1)},children:[g.jsx(XCt,{placeholder:"Search emoji..."}),g.jsx(eTt,{className:"max-h-[200px]"}),g.jsxs("div",{className:"border-t px-1 pb-0 pt-1",children:[g.jsx("div",{className:"text-xs text-muted-foreground ml-1 mb-1",children:"Frequently Used"}),g.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(p=>g.jsx("button",{type:"button",className:"text-sm hover:bg-muted rounded-sm p-1 transition-colors",onClick:()=>{t(p),d(!1)},children:p},p))})]})]})})]}),g.jsx(hu,{id:"title",placeholder:l?"Edit annotation":"New annotation",value:n,onChange:p=>r(p.target.value),className:"border-0 shadow-none px-0 focus-visible:ring-0 font-semibold text-lg md:text-lg flex-1 placeholder:text-secondary-foreground/60 h-auto"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Xf,{className:"text-xs",children:"Start Date"}),g.jsx(YM,{date:i,setDate:o,buttonClassName:"w-full"})]}),g.jsxs("div",{className:"space-y-2 mb-3",children:[g.jsx(Xf,{className:"text-xs",children:"End Date"}),g.jsx(YM,{date:a,setDate:s,buttonClassName:"w-full"})]})]})}function tTt(e,t){const n=l=>l.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),r=l=>l.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),i=n(e),o=n(t),a=r(e),s=r(t);return i===o?`${i} at ${a} - ${s}`:`${i} ${a} - ${o} ${s}`}function nre({comment:e,className:t,onDelete:n,onUpdate:r}){const i=k=>"id"in k,[o,a]=C.useState(!1),[s,l]=C.useState(e.emoji),[c,d]=C.useState(e.title),[u,p]=C.useState(e.start),[m,v]=C.useState(e.end),x=k=>{a(k),k?(l(e.emoji),d(e.title),p(e.start),v(e.end)):w()},w=async()=>{!c||!u||!m||!r||(await r({...i(e)&&{id:e.id},emoji:s,title:c,start:u,end:m}),a(!1))},T=g.jsxs("div",{className:Ie("cursor-pointer relative group transition-colors hover:bg-muted/50 py-3 px-4",t),children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"text-2xl flex-shrink-0",children:e.emoji}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"font-medium text-sm mb-1 truncate",children:e.title}),g.jsx("div",{className:"text-xs text-muted-foreground",children:tTt(e.start,e.end)})]})]}),n&&g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:i(e)&&g.jsx("div",{className:"absolute right-4 top-3 px-2 py-1 rounded-md bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1 opacity-0",onClick:k=>{k.stopPropagation(),n(e.id)},children:g.jsx(Wie,{className:"size-4 text-muted-foreground hover:text-destructive"})})}),g.jsx(Or,{children:g.jsx("p",{children:"Delete comment"})})]})]});return i(e)&&r?g.jsxs(Od,{open:o,onOpenChange:x,children:[g.jsx(Md,{asChild:!0,children:T}),g.jsx(Dd,{className:"w-[405px]",side:"bottom",align:"start",sideOffset:-65,children:g.jsx(c1e,{emoji:s,setEmoji:l,title:c,setTitle:d,start:u,setStart:p,end:m,setEnd:v,isEditing:!0})})]}):T}function nTt(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var oz="ScrollArea",[u1e]=us(oz),[rTt,kc]=u1e(oz),d1e=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...a}=e,[s,l]=C.useState(null),[c,d]=C.useState(null),[u,p]=C.useState(null),[m,v]=C.useState(null),[x,w]=C.useState(null),[T,k]=C.useState(0),[N,I]=C.useState(0),[M,A]=C.useState(!1),[R,L]=C.useState(!1),B=wn(t,W=>l(W)),$=tk(i);return g.jsx(rTt,{scope:n,type:r,dir:$,scrollHideDelay:o,scrollArea:s,viewport:c,onViewportChange:d,content:u,onContentChange:p,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:M,onScrollbarXEnabledChange:A,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:R,onScrollbarYEnabledChange:L,onCornerWidthChange:k,onCornerHeightChange:I,children:g.jsx(Ct.div,{dir:$,...a,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});d1e.displayName=oz;var f1e="ScrollAreaViewport",h1e=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=e,a=kc(f1e,n),s=C.useRef(null),l=wn(t,s,a.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(Ct.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:g.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});h1e.displayName=f1e;var zd="ScrollAreaScrollbar",p1e=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=kc(zd,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=i,s=e.orientation==="horizontal";return C.useEffect(()=>(s?o(!0):a(!0),()=>{s?o(!1):a(!1)}),[s,o,a]),i.type==="hover"?g.jsx(iTt,{...r,ref:t,forceMount:n}):i.type==="scroll"?g.jsx(oTt,{...r,ref:t,forceMount:n}):i.type==="auto"?g.jsx(m1e,{...r,ref:t,forceMount:n}):i.type==="always"?g.jsx(az,{...r,ref:t}):null});p1e.displayName=zd;var iTt=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=kc(zd,e.__scopeScrollArea),[o,a]=C.useState(!1);return C.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),a(!0)},d=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(_o,{present:n||o,children:g.jsx(m1e,{"data-state":o?"visible":"hidden",...r,ref:t})})}),oTt=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=kc(zd,e.__scopeScrollArea),o=e.orientation==="horizontal",a=c3(()=>l("SCROLL_END"),100),[s,l]=nTt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),C.useEffect(()=>{const c=i.viewport,d=o?"scrollLeft":"scrollTop";if(c){let u=c[d];const p=()=>{const m=c[d];u!==m&&(l("SCROLL"),a()),u=m};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[i.viewport,o,l,a]),g.jsx(_o,{present:n||s!=="hidden",children:g.jsx(az,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ut(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ut(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),m1e=C.forwardRef((e,t)=>{const n=kc(zd,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,a]=C.useState(!1),s=e.orientation==="horizontal",l=c3(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(s?c:d)}},10);return Y1(n.viewport,l),Y1(n.content,l),g.jsx(_o,{present:r||o,children:g.jsx(az,{"data-state":o?"visible":"hidden",...i,ref:t})})}),az=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=kc(zd,e.__scopeScrollArea),o=C.useRef(null),a=C.useRef(0),[s,l]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=x1e(s.viewport,s.content),d={...r,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function u(p,m){return dTt(p,a.current,s,m)}return n==="horizontal"?g.jsx(aTt,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollLeft,m=rre(p,s,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=u(p,i.dir))}}):n==="vertical"?g.jsx(sTt,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollTop,m=rre(p,s);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=u(p))}}):null}),aTt=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=kc(zd,e.__scopeScrollArea),[a,s]=C.useState(),l=C.useRef(null),c=wn(t,l,o.onScrollbarXChange);return C.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),g.jsx(y1e,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":l3(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),E1e(p,u)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:KM(a.paddingLeft),paddingEnd:KM(a.paddingRight)}})}})}),sTt=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=kc(zd,e.__scopeScrollArea),[a,s]=C.useState(),l=C.useRef(null),c=wn(t,l,o.onScrollbarYChange);return C.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),g.jsx(y1e,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":l3(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),E1e(p,u)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:KM(a.paddingTop),paddingEnd:KM(a.paddingBottom)}})}})}),[lTt,g1e]=u1e(zd),y1e=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...p}=e,m=kc(zd,n),[v,x]=C.useState(null),w=wn(t,B=>x(B)),T=C.useRef(null),k=C.useRef(""),N=m.viewport,I=r.content-r.viewport,M=To(d),A=To(l),R=c3(u,10);function L(B){if(T.current){const $=B.clientX-T.current.left,W=B.clientY-T.current.top;c({x:$,y:W})}}return C.useEffect(()=>{const B=$=>{const W=$.target;v?.contains(W)&&M($,I)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[N,v,I,M]),C.useEffect(A,[r,A]),Y1(v,R),Y1(m.content,R),g.jsx(lTt,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:To(o),onThumbPointerUp:To(a),onThumbPositionChange:A,onThumbPointerDown:To(s),children:g.jsx(Ct.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:ut(e.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),T.current=v.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),L(B))}),onPointerMove:ut(e.onPointerMove,L),onPointerUp:ut(e.onPointerUp,B=>{const $=B.target;$.hasPointerCapture(B.pointerId)&&$.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=k.current,m.viewport&&(m.viewport.style.scrollBehavior=""),T.current=null})})})}),GM="ScrollAreaThumb",b1e=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=g1e(GM,e.__scopeScrollArea);return g.jsx(_o,{present:n||i.hasThumb,children:g.jsx(cTt,{ref:t,...r})})}),cTt=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=kc(GM,n),a=g1e(GM,n),{onThumbPositionChange:s}=a,l=wn(t,u=>a.onThumbChange(u)),c=C.useRef(void 0),d=c3(()=>{c.current&&(c.current(),c.current=void 0)},100);return C.useEffect(()=>{const u=o.viewport;if(u){const p=()=>{if(d(),!c.current){const m=fTt(u,s);c.current=m,s()}};return s(),u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[o.viewport,d,s]),g.jsx(Ct.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ut(e.onPointerDownCapture,u=>{const m=u.target.getBoundingClientRect(),v=u.clientX-m.left,x=u.clientY-m.top;a.onThumbPointerDown({x:v,y:x})}),onPointerUp:ut(e.onPointerUp,a.onThumbPointerUp)})});b1e.displayName=GM;var sz="ScrollAreaCorner",v1e=C.forwardRef((e,t)=>{const n=kc(sz,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(uTt,{...e,ref:t}):null});v1e.displayName=sz;var uTt=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=kc(sz,n),[o,a]=C.useState(0),[s,l]=C.useState(0),c=!!(o&&s);return Y1(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),l(d)}),Y1(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),a(d)}),c?g.jsx(Ct.div,{...r,ref:t,style:{width:o,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function KM(e){return e?parseInt(e,10):0}function x1e(e,t){const n=e/t;return isNaN(n)?0:n}function l3(e){const t=x1e(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function dTt(e,t,n,r="ltr"){const i=l3(n),o=i/2,a=t||o,s=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,d=n.content-n.viewport,u=r==="ltr"?[0,d]:[d*-1,0];return w1e([l,c],u)(e)}function rre(e,t,n="ltr"){const r=l3(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,a=t.content-t.viewport,s=o-r,l=n==="ltr"?[0,a]:[a*-1,0],c=I8(e,l);return w1e([0,a],[0,s])(c)}function w1e(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function E1e(e,t){return e>0&&e<t}var fTt=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const o={left:e.scrollLeft,top:e.scrollTop},a=n.left!==o.left,s=n.top!==o.top;(a||s)&&t(),n=o,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function c3(e,t){const n=To(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Y1(e,t){const n=To(t);Xi(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var hTt=d1e,pTt=h1e,mTt=v1e;function gTt({className:e,children:t,...n}){return g.jsxs(hTt,{"data-slot":"scroll-area",className:Ie("relative",e),...n,children:[g.jsx(pTt,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),g.jsx(yTt,{}),g.jsx(mTt,{})]})}function yTt({className:e,orientation:t="vertical",...n}){return g.jsx(p1e,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Ie("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:g.jsx(b1e,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function bTt({visible:e,className:t}){const n=gt(I=>I.deleteComment),r=gt(I=>I.createComment),i=gt(I=>I.updateComment),o=gt(I=>I.pendingComment),a=gt(I=>I.comments),[s,l]=C.useState(!1),[c,d]=C.useState(""),[u,p]=C.useState(""),[m,v]=C.useState(new Date),[x,w]=C.useState(new Date),T=I=>{l(I),I?(d(""),p(""),v(new Date),w(new Date)):k()},k=async()=>{!u||!m||!x||(await r({emoji:c,title:u,start:m,end:x}),l(!1))},N=async I=>{I.id!==void 0&&await i({id:I.id,emoji:I.emoji,title:I.title,start:I.start,end:I.end})};return g.jsx("div",{className:Ie("border-l bg-background flex flex-col transition-all duration-300 ease-in-out overflow-hidden",e?"w-[400px]":"w-0 border-l-0",t),children:g.jsxs("div",{className:"w-[400px] flex flex-col h-full",children:[g.jsxs("div",{className:"py-2 px-6 flex items-center justify-between text-muted-foreground",children:[g.jsx("h3",{children:"Time annotations"}),g.jsxs(Od,{open:s,onOpenChange:T,children:[g.jsx(Md,{asChild:!0,children:g.jsx(ni,{variant:"ghost",size:"icon",className:"cursor-pointer",children:g.jsx(DH,{className:"size-5"})})}),g.jsx(Dd,{className:"w-[405px]",align:"start",children:g.jsx(c1e,{emoji:c,setEmoji:d,title:u,setTitle:p,start:m,setStart:v,end:x,setEnd:w,isEditing:!1})})]})]}),g.jsx(xc,{}),g.jsx(gTt,{className:"flex-1",children:g.jsxs("div",{className:"divide-y",children:[a.map(I=>g.jsx(nre,{comment:I,onDelete:n,onUpdate:N},I.id)),o&&g.jsx(nre,{comment:o,onDelete:n})]})})]})})}const ire=[{label:"Last 15 minutes",value:"15m"},{label:"Last 30 minutes",value:"30m"},{label:"Last hour",value:"1h"},{label:"Last 6 hours",value:"6h"},{label:"Last 12 hours",value:"12h"},{label:"Last 24 hours",value:"24h"},{label:"Last 7 days",value:"7d"},{label:"Last 30 days",value:"30d"},{label:"Today",value:"today"},{label:"This week",value:"w"}];function vTt({value:e,onChange:t,className:n}){const[r,i]=C.useState(!1),[o,a]=C.useState(!1),[s,l]=C.useState(void 0),[c,d]=C.useState(void 0),{start:u,end:p}=C.useMemo(()=>W6(e),[e]);C.useEffect(()=>{l(u),d(p)},[u,p]);const m=()=>{if(e.type==="relative"){const w=ire.find(T=>T.value===e.metadata.value);if(w)return w.label}return`${Wf(u,"MMM d, HH:mm")} - ${Wf(p,"MMM d, HH:mm")}`},v=w=>{t({type:"relative",metadata:{value:w}}),i(!1)},x=()=>{if(!s||!c)return;t({type:"absolute",metadata:{start:s,end:c}}),i(!1)};return g.jsxs(Od,{open:r,onOpenChange:i,children:[g.jsx(Md,{asChild:!0,children:g.jsxs(ni,{variant:"ghost",size:"sm",className:Ie("justify-between text-sm text-muted-foreground gap-0",n),children:[g.jsx(Rie,{className:"mr-2 h-4 w-4"}),m()]})}),g.jsx(Dd,{className:"w-80 p-0",align:"end",children:o?g.jsxs("div",{className:"p-3 space-y-4",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Xf,{className:"text-xs",children:"Start Date & Time"}),g.jsx(YM,{date:s,setDate:l,buttonClassName:"w-full",defaultTime:{hours:0,minutes:0,seconds:0}})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Xf,{className:"text-xs",children:"End Date & Time"}),g.jsx(YM,{date:c,setDate:d,buttonClassName:"w-full",defaultTime:{hours:23,minutes:59,seconds:59}})]})]}),g.jsx(xc,{className:"my-2"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs(ni,{variant:"ghost",size:"sm",onClick:()=>a(!1),children:[g.jsx(Pie,{className:"h-3.5 w-3.5"}),"Back"]}),g.jsx(ni,{variant:"default",size:"sm",onClick:x,children:"Apply"})]})]}):g.jsxs("div",{className:"p-3 space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Quick Ranges"}),g.jsx("div",{className:"grid grid-cols-2 gap-2",children:ire.map(w=>g.jsx(ni,{variant:e?.type==="relative"&&e.metadata.value===w.value?"default":"outline",size:"sm",className:"text-xs h-7",onClick:()=>v(w.value),children:w.label},w.label))})]}),g.jsx(xc,{}),g.jsx(ni,{variant:"outline",size:"sm",className:"w-full text-xs h-7",onClick:()=>{l(u),d(p),a(!0)},children:"Custom range..."})]})})]})}function xTt({timeWindow:e,filters:t,availableLabels:n,onTimeWindowChange:r,onFiltersChange:i}){return g.jsxs("div",{className:"flex items-center flex-wrap gap-0",children:[g.jsx(q0,{availableLabels:n,filters:t,onFiltersChange:i}),g.jsx(vTt,{value:e,onChange:r})]})}var u3="Checkbox",[wTt]=us(u3),[ETt,lz]=wTt(u3);function STt(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:o,form:a,name:s,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:u}=e,[p,m]=vc({prop:n,defaultProp:i??!1,onChange:l,caller:u3}),[v,x]=C.useState(null),[w,T]=C.useState(null),k=C.useRef(!1),N=v?!!a||!!v.closest("form"):!0,I={checked:p,disabled:o,setChecked:m,control:v,setControl:x,name:s,form:a,value:d,hasConsumerStoppedPropagationRef:k,required:c,defaultChecked:Xp(i)?!1:i,isFormControl:N,bubbleInput:w,setBubbleInput:T};return g.jsx(ETt,{scope:t,...I,children:CTt(u)?u(I):r})}var S1e="CheckboxTrigger",C1e=C.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:o,value:a,disabled:s,checked:l,required:c,setControl:d,setChecked:u,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:v}=lz(S1e,e),x=wn(i,d),w=C.useRef(l);return C.useEffect(()=>{const T=o?.form;if(T){const k=()=>u(w.current);return T.addEventListener("reset",k),()=>T.removeEventListener("reset",k)}},[o,u]),g.jsx(Ct.button,{type:"button",role:"checkbox","aria-checked":Xp(l)?"mixed":l,"aria-required":c,"data-state":N1e(l),"data-disabled":s?"":void 0,disabled:s,value:a,...r,ref:x,onKeyDown:ut(t,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:ut(n,T=>{u(k=>Xp(k)?!0:!k),v&&m&&(p.current=T.isPropagationStopped(),p.current||T.stopPropagation())})})});C1e.displayName=S1e;var cz=C.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l,onCheckedChange:c,form:d,...u}=e;return g.jsx(STt,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:s,required:a,onCheckedChange:c,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:p})=>g.jsxs(g.Fragment,{children:[g.jsx(C1e,{...u,ref:t,__scopeCheckbox:n}),p&&g.jsx(A1e,{__scopeCheckbox:n})]})})});cz.displayName=u3;var T1e="CheckboxIndicator",k1e=C.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,o=lz(T1e,n);return g.jsx(_o,{present:r||Xp(o.checked)||o.checked===!0,children:g.jsx(Ct.span,{"data-state":N1e(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});k1e.displayName=T1e;var _1e="CheckboxBubbleInput",A1e=C.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:a,required:s,disabled:l,name:c,value:d,form:u,bubbleInput:p,setBubbleInput:m}=lz(_1e,e),v=wn(n,m),x=Jme(o),w=uae(r);C.useEffect(()=>{const k=p;if(!k)return;const N=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(N,"checked").set,A=!i.current;if(x!==o&&M){const R=new Event("click",{bubbles:A});k.indeterminate=Xp(o),M.call(k,Xp(o)?!1:o),k.dispatchEvent(R)}},[p,x,o,i]);const T=C.useRef(Xp(o)?!1:o);return g.jsx(Ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??T.current,required:s,disabled:l,name:c,value:d,form:u,...t,tabIndex:-1,ref:v,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});A1e.displayName=_1e;function CTt(e){return typeof e=="function"}function Xp(e){return e==="indeterminate"}function N1e(e){return Xp(e)?"indeterminate":e?"checked":"unchecked"}const O1e=C.forwardRef(({className:e,...t},n)=>g.jsx(cz,{ref:n,className:Ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:g.jsx(k1e,{className:Ie("flex items-center justify-center text-current"),children:g.jsx(Qv,{className:"h-4 w-4"})})}));O1e.displayName=cz.displayName;const TTt={getAll:async()=>await(await ao("/api/flows/tenants",{method:"GET",headers:{"Content-Type":"application/json"}})).json()};function kTt(){const{tenant:e,notebookId:t}=oh(),n=kR(U=>U.setCurrentTenant),r=fu(U=>U.labels),i=gt(U=>U.currentNotebook),o=aD(U=>U.toggleSidebar),a=gt(U=>U.currentNotebook?.timeWindow),s=gt(U=>U.currentNotebook?.filters),l=gt(U=>U.setCurrentNotebook),c=gt(U=>U.updateNotebook),d=gt(U=>U.loading),u=gt(U=>U.fetchFlows),p=gt(U=>U.fetchMetrics),m=gt(U=>U.notebookCreating),v=gt(U=>U.openBlockSettings),x=gt(U=>U.startDate),w=gt(U=>U.endDate),T=gt(U=>U.commentsDrawerOpen),k=gt(U=>U.toggleCommentsDrawer),N=gt(U=>U.fetchComments),I=gt(U=>U.duplicateNotebook),[M,A]=C.useState(!1),[R,L]=C.useState([]),[B,$]=C.useState([]),[W,V]=C.useState(!1),Y=e?decodeURIComponent(e):"";return C.useEffect(()=>{x===null||w===null||N(void 0,x,w)},[x,w,N]),C.useEffect(()=>{!e||!t||d||(n(e),l(e,t))},[t,e,l,d,n]),C.useEffect(()=>{!e||x===null||w===null||s===void 0||t===void 0||(u(e,x,w,s,t),p())},[e,u,p,x,w,s,t]),g.jsxs("div",{className:"flex-1 flex h-screen min-w-0",children:[g.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[g.jsxs("div",{className:"flex items-center justify-between gap-4 px-8 py-3",children:[g.jsxs("nav",{className:"flex items-center text-muted-foreground gap-1",children:[g.jsxs(ni,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:o,children:[g.jsx(MH,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Toggle sidebar"})]}),g.jsx(xc,{orientation:"vertical",className:"h-4 mr-2 text-secondary-foreground"}),g.jsx(wd,{to:"/",className:"hover:text-foreground transition-colors font-lg",children:g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d"})}),"/",g.jsx(wd,{to:`/tenants/${encodeURIComponent(Y)}`,className:"hover:text-foreground transition-colors font-medium",children:Y}),"/",g.jsx("span",{className:"font-medium text-foreground",children:i?i.title:""})]}),g.jsxs("div",{className:"flex items-center gap-0",children:[a!==void 0&&s!==void 0&&g.jsx(xTt,{timeWindow:a,filters:s,availableLabels:r,onTimeWindowChange:U=>{i&&c(Y,i,{timeWindow:U})},onFiltersChange:U=>{i&&c(Y,i,{filters:U})}}),i&&g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(ni,{variant:"ghost",size:"sm",className:"justify-start text-sm text-muted-foreground h-6",onClick:()=>{i&&c(Y,i,{isPublic:!i.isPublic})},children:i.isPublic?g.jsx(Oke,{className:"size-4"}):g.jsx(s2e,{className:"size-4"})})}),g.jsx(Or,{children:i.isPublic?"Notebook is public - click to make private":"Notebook is private - click to make public"})]}),i&&g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(ni,{variant:"ghost",size:"sm",className:"justify-start text-sm text-muted-foreground h-6",onClick:async()=>{A(!0);const U=await TTt.getAll();L(U.filter(X=>X!==Y))},children:g.jsx(wke,{className:"size-4"})})}),g.jsx(Or,{children:"Duplicate notebook to other tenants"})]}),g.jsxs(Pr,{children:[g.jsx(Lr,{asChild:!0,children:g.jsx(ni,{variant:"ghost",size:"sm",className:"justify-start text-sm text-muted-foreground h-6",onClick:k,children:T?g.jsx(ake,{className:"size-5"}):g.jsx(WTe,{className:"size-4"})})}),g.jsx(Or,{children:T?"Hide annotations":"Show annotations"})]})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i&&!m&&g.jsx(Sve,{tenantName:Y,notebook:i,openBlockSettings:v,updateNotebook:c}),(!i||m)&&g.jsx("div",{className:"mx-auto py-12",children:g.jsxs("div",{className:"mx-32 space-y-4",children:[g.jsx("div",{className:"h-7 w-3/4 bg-muted rounded-lg animate-pulse"}),g.jsx("div",{className:"h-7 w-1/2 bg-muted rounded-lg animate-pulse"})]})})]})]}),g.jsx(bTt,{visible:T}),g.jsx(Woe,{open:M,onOpenChange:A,children:g.jsxs(Yoe,{children:[g.jsxs(Goe,{children:[g.jsx(Koe,{children:"Duplicate Notebook"}),g.jsx(Xoe,{children:"Select the tenants where you want to duplicate this notebook."})]}),g.jsx("div",{className:"py-4",children:R.length===0?g.jsx("p",{className:"text-sm text-muted-foreground",children:"No other tenants available."}):g.jsx("div",{className:"space-y-2",children:R.map(U=>g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(O1e,{id:U,checked:B.includes(U),onCheckedChange:X=>{$(X?[...B,U]:B.filter(q=>q!==U))}}),g.jsx("label",{htmlFor:U,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:U})]},U))})}),g.jsxs(jNe,{children:[g.jsx(ni,{variant:"outline",onClick:()=>{A(!1),$([])},disabled:W,children:"Cancel"}),g.jsx(ni,{onClick:async()=>{if(!(!i||B.length===0)){V(!0);try{await I(i.id,B),A(!1),$([])}catch(U){console.error("Failed to duplicate notebook:",U)}finally{V(!1)}}},disabled:W||B.length===0,children:W?"Duplicating...":"Duplicate"})]})]})})]})}function _Tt(){const{tenant:e,notebookId:t}=oh(),n=kR(u=>u.setCurrentTenant),r=gt(u=>u.setCurrentNotebook),i=gt(u=>u.currentNotebook),[o,a]=C.useState(!0),[s,l]=C.useState(null),c=e?decodeURIComponent(e):"",d=gt(u=>u.fetchComments);return C.useEffect(()=>{t&&d(t)},[t,d]),C.useEffect(()=>{(async()=>{if(!(!c||!t)){a(!0),l(null);try{const p=await fv.getOne(t);if(!p){l("Notebook not found");return}n(c),r(c,void 0,p)}catch(p){console.error("Failed to fetch notebook:",p),l("Failed to load notebook")}finally{a(!1)}}})()},[c,t,r,n]),o?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"mx-auto py-12",children:g.jsxs("div",{className:"mx-32 space-y-4",children:[g.jsx("div",{className:"h-7 w-3/4 bg-muted rounded-lg animate-pulse"}),g.jsx("div",{className:"h-7 w-1/2 bg-muted rounded-lg animate-pulse"})]})})}):s?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Error"}),g.jsx("p",{className:"text-muted-foreground",children:s})]})}):i?g.jsx("div",{className:"min-h-screen",children:g.jsx(Sve,{tenantName:c,notebook:i,editable:!1,openBlockSettings:()=>{},updateNotebook:()=>{}})}):g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"text-lg text-muted-foreground",children:"Notebook not found"})})}const N6=14;function ATt({tenant:e}){const[t,n]=C.useState([]),[r,i]=C.useState(!0),[o,a]=C.useState(1);C.useEffect(()=>{e&&(async()=>{i(!0);try{const v=await AT.list();n(v)}catch(v){console.error("Failed to fetch metrics:",v),n([])}finally{i(!1)}})()},[e]);const s=Math.ceil(t.length/N6),l=(o-1)*N6,c=l+N6,d=t.slice(l,c),u=()=>{a(m=>Math.max(1,m-1))},p=()=>{a(m=>Math.min(s,m+1))};return r?g.jsx(ox,{columns:2,rows:5}):g.jsxs(g.Fragment,{children:[g.jsxs(ty,{children:[g.jsx(ny,{children:g.jsxs(Ea,{children:[g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(AH,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Name"})]})}),g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(TT,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})})]})}),g.jsx(ry,{children:d.map((m,v)=>{const x=l+v;return g.jsx(F.Fragment,{children:g.jsxs(Ea,{className:"group cursor-pointer hover:bg-muted/50",children:[g.jsx(Ai,{children:g.jsx("span",{children:m.prettyName})}),g.jsx(Ai,{children:g.jsx("div",{className:"flex flex-wrap gap-1",children:m.labels.map(w=>g.jsx(eh,{labelKey:w,readonly:!0},w))})})]})},`${m.prometheusName}-${x}-fragment`)})})]}),g.jsx(TR,{currentPage:o,totalPages:s,onPreviousPage:u,onNextPage:p})]})}const O6=14;function NTt({tenant:e}){const[t,n]=C.useState([]),[r,i]=C.useState(!0),[o,a]=C.useState(1);C.useEffect(()=>{e&&(async()=>{i(!0);try{const v=await ey.list();n(v)}catch(v){console.error("Failed to fetch flows:",v),n([])}finally{i(!1)}})()},[e]);const s=Math.ceil(t.length/O6),l=(o-1)*O6,c=l+O6,d=t.slice(l,c),u=()=>{a(m=>Math.max(1,m-1))},p=()=>{a(m=>Math.min(s,m+1))};return r?g.jsx(ox,{columns:2,rows:5}):t.length===0?g.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No flows found"}):g.jsxs(g.Fragment,{children:[g.jsxs(ty,{children:[g.jsx(ny,{children:g.jsxs(Ea,{children:[g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Yie,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Flow Name"})]})}),g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(B2e,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})})]})}),g.jsx(ry,{children:d.map((m,v)=>{const x=l+v;return g.jsx(F.Fragment,{children:g.jsxs(Ea,{className:"hover:bg-muted/50",children:[g.jsx(Ai,{children:g.jsx("span",{children:m.name})}),g.jsx(Ai,{children:g.jsx("div",{className:"flex flex-wrap gap-1",children:m.labels.map(w=>g.jsx(eh,{labelKey:w,readonly:!0},w))})})]})},`${m.name}-${x}-fragment`)})})]}),g.jsx(TR,{currentPage:o,totalPages:s,onPreviousPage:u,onNextPage:p})]})}const OTt=Wge,M1e=C.forwardRef(({className:e,...t},n)=>g.jsx(V7,{ref:n,className:Ie("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));M1e.displayName=V7.displayName;const cH=C.forwardRef(({className:e,...t},n)=>g.jsx(q7,{ref:n,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));cH.displayName=q7.displayName;const uH=C.forwardRef(({className:e,...t},n)=>g.jsx(W7,{ref:n,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));uH.displayName=W7.displayName;function MTt(){const{tenant:e}=oh(),[t,n]=Zwe(),r=kR(l=>l.setCurrentTenant),i=aD(l=>l.toggleSidebar),o=e?decodeURIComponent(e):"",a=t.get("tab")||"metrics",s=l=>{n({tab:l})};return C.useEffect(()=>{r(o)},[o,r]),g.jsxs("div",{className:"flex-1 min-w-0 space-y-6 px-8 py-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-4",children:g.jsxs("nav",{className:"flex items-center text-muted-foreground gap-1",children:[g.jsxs(ni,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:i,children:[g.jsx(MH,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Toggle sidebar"})]}),g.jsx(xc,{orientation:"vertical",className:"h-4 mr-2 text-secondary-foreground"}),g.jsx(wd,{to:"/",className:"hover:text-foreground transition-colors font-lg",children:g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d"})}),"/",g.jsx(wd,{to:`/tenants/${encodeURIComponent(o)}`,className:"hover:text-foreground transition-colors font-medium",children:o})]})}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[g.jsx(Hie,{className:"h-8 w-8 text-muted-foreground"}),"Data Library"]}),g.jsx("p",{className:"text-sm text-secondary-foreground",children:"View existing metrics and flows"})]}),g.jsxs(OTt,{value:a,onValueChange:s,children:[g.jsxs(M1e,{children:[g.jsxs(cH,{value:"metrics",className:"flex items-center gap-2",children:[g.jsx(XTe,{className:"h-4 w-4"}),"Metrics"]}),g.jsxs(cH,{value:"flows",className:"flex items-center gap-2",children:[g.jsx(Yie,{className:"h-4 w-4"}),"Flows"]})]}),g.jsx(uH,{value:"metrics",className:"space-y-4",children:g.jsx(ATt,{tenant:o})}),g.jsx(uH,{value:"flows",className:"space-y-4",children:g.jsx(NTt,{tenant:o})})]})]})}function M6({children:e}){const t=BH(r=>r.isAuthenticated),n=Su();if(!t){const r=n.pathname.match(/^\/tenants\/([^/]+)\/notebooks\/([^/]+)$/);if(r){const[,i,o]=r;return g.jsx(Fz,{to:`/view/${i}/notebooks/${o}`,replace:!0})}return g.jsx(Fz,{to:"/login",replace:!0})}return g.jsx(g.Fragment,{children:e})}const DTt=Vwe([{path:"/login",element:g.jsx(_Me,{})},{path:"/view/:tenant/notebooks/:notebookId",element:g.jsx(_Tt,{})},{path:"/",element:g.jsx(M6,{children:g.jsx(qI,{children:g.jsx(EMe,{})})})},{path:"/tenants/:tenant",element:g.jsx(M6,{children:g.jsx(qI,{children:g.jsx(MTt,{})})})},{path:"/tenants/:tenant/notebooks/:notebookId",element:g.jsx(M6,{children:g.jsx(qI,{children:g.jsx(kTt,{})})})}]);W1e.createRoot(document.getElementById("root")).render(g.jsx(C.StrictMode,{children:g.jsx(js,{delayDuration:200,children:g.jsx(rEe,{router:DTt})})}));
