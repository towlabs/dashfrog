function y1e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uI={exports:{}},bE={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var az;function b1e(){if(az)return bE;az=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var s in i)s!=="key"&&(o[s]=i[s])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:a,ref:i!==void 0?i:null,props:o}}return bE.Fragment=t,bE.jsx=n,bE.jsxs=n,bE}var sz;function v1e(){return sz||(sz=1,uI.exports=b1e()),uI.exports}var g=v1e(),dI={exports:{}},pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lz;function x1e(){if(lz)return pn;lz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),u=Symbol.for("react.activity"),p=Symbol.iterator;function m(Q){return Q===null||typeof Q!="object"?null:(Q=p&&Q[p]||Q["@@iterator"],typeof Q=="function"?Q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function T(Q,te,U){this.props=Q,this.context=te,this.refs=w,this.updater=U||v}T.prototype.isReactComponent={},T.prototype.setState=function(Q,te){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,te,"setState")},T.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function k(){}k.prototype=T.prototype;function O(Q,te,U){this.props=Q,this.context=te,this.refs=w,this.updater=U||v}var I=O.prototype=new k;I.constructor=O,x(I,T.prototype),I.isPureReactComponent=!0;var N=Array.isArray;function A(){}var R={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function B(Q,te,U){var fe=U.ref;return{$$typeof:e,type:Q,key:te,ref:fe!==void 0?fe:null,props:U}}function $(Q,te){return B(Q.type,te,Q.props)}function q(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e}function z(Q){var te={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(U){return te[U]})}var W=/\/+/g;function G(Q,te){return typeof Q=="object"&&Q!==null&&Q.key!=null?z(""+Q.key):te.toString(36)}function Z(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(A,A):(Q.status="pending",Q.then(function(te){Q.status==="pending"&&(Q.status="fulfilled",Q.value=te)},function(te){Q.status==="pending"&&(Q.status="rejected",Q.reason=te)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function V(Q,te,U,fe,me){var ke=typeof Q;(ke==="undefined"||ke==="boolean")&&(Q=null);var Ee=!1;if(Q===null)Ee=!0;else switch(ke){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(Q.$$typeof){case e:case t:Ee=!0;break;case d:return Ee=Q._init,V(Ee(Q._payload),te,U,fe,me)}}if(Ee)return me=me(Q),Ee=fe===""?"."+G(Q,0):fe,N(me)?(U="",Ee!=null&&(U=Ee.replace(W,"$&/")+"/"),V(me,te,U,"",function(je){return je})):me!=null&&(q(me)&&(me=$(me,U+(me.key==null||Q&&Q.key===me.key?"":(""+me.key).replace(W,"$&/")+"/")+Ee)),te.push(me)),1;Ee=0;var ve=fe===""?".":fe+":";if(N(Q))for(var we=0;we<Q.length;we++)fe=Q[we],ke=ve+G(fe,we),Ee+=V(fe,te,U,ke,me);else if(we=m(Q),typeof we=="function")for(Q=we.call(Q),we=0;!(fe=Q.next()).done;)fe=fe.value,ke=ve+G(fe,we++),Ee+=V(fe,te,U,ke,me);else if(ke==="object"){if(typeof Q.then=="function")return V(Z(Q),te,U,fe,me);throw te=String(Q),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ne(Q,te,U){if(Q==null)return Q;var fe=[],me=0;return V(Q,fe,"","",function(ke){return te.call(U,ke,me++)}),fe}function X(Q){if(Q._status===-1){var te=Q._result;te=te(),te.then(function(U){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=U)},function(U){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=U)}),Q._status===-1&&(Q._status=0,Q._result=te)}if(Q._status===1)return Q._result.default;throw Q._result}var oe=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},K={map:ne,forEach:function(Q,te,U){ne(Q,function(){te.apply(this,arguments)},U)},count:function(Q){var te=0;return ne(Q,function(){te++}),te},toArray:function(Q){return ne(Q,function(te){return te})||[]},only:function(Q){if(!q(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return pn.Activity=u,pn.Children=K,pn.Component=T,pn.Fragment=n,pn.Profiler=i,pn.PureComponent=O,pn.StrictMode=r,pn.Suspense=l,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,pn.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return R.H.useMemoCache(Q)}},pn.cache=function(Q){return function(){return Q.apply(null,arguments)}},pn.cacheSignal=function(){return null},pn.cloneElement=function(Q,te,U){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var fe=x({},Q.props),me=Q.key;if(te!=null)for(ke in te.key!==void 0&&(me=""+te.key),te)!L.call(te,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&te.ref===void 0||(fe[ke]=te[ke]);var ke=arguments.length-2;if(ke===1)fe.children=U;else if(1<ke){for(var Ee=Array(ke),ve=0;ve<ke;ve++)Ee[ve]=arguments[ve+2];fe.children=Ee}return B(Q.type,me,fe)},pn.createContext=function(Q){return Q={$$typeof:a,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:o,_context:Q},Q},pn.createElement=function(Q,te,U){var fe,me={},ke=null;if(te!=null)for(fe in te.key!==void 0&&(ke=""+te.key),te)L.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(me[fe]=te[fe]);var Ee=arguments.length-2;if(Ee===1)me.children=U;else if(1<Ee){for(var ve=Array(Ee),we=0;we<Ee;we++)ve[we]=arguments[we+2];me.children=ve}if(Q&&Q.defaultProps)for(fe in Ee=Q.defaultProps,Ee)me[fe]===void 0&&(me[fe]=Ee[fe]);return B(Q,ke,me)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(Q){return{$$typeof:s,render:Q}},pn.isValidElement=q,pn.lazy=function(Q){return{$$typeof:d,_payload:{_status:-1,_result:Q},_init:X}},pn.memo=function(Q,te){return{$$typeof:c,type:Q,compare:te===void 0?null:te}},pn.startTransition=function(Q){var te=R.T,U={};R.T=U;try{var fe=Q(),me=R.S;me!==null&&me(U,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(A,oe)}catch(ke){oe(ke)}finally{te!==null&&U.types!==null&&(te.types=U.types),R.T=te}},pn.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},pn.use=function(Q){return R.H.use(Q)},pn.useActionState=function(Q,te,U){return R.H.useActionState(Q,te,U)},pn.useCallback=function(Q,te){return R.H.useCallback(Q,te)},pn.useContext=function(Q){return R.H.useContext(Q)},pn.useDebugValue=function(){},pn.useDeferredValue=function(Q,te){return R.H.useDeferredValue(Q,te)},pn.useEffect=function(Q,te){return R.H.useEffect(Q,te)},pn.useEffectEvent=function(Q){return R.H.useEffectEvent(Q)},pn.useId=function(){return R.H.useId()},pn.useImperativeHandle=function(Q,te,U){return R.H.useImperativeHandle(Q,te,U)},pn.useInsertionEffect=function(Q,te){return R.H.useInsertionEffect(Q,te)},pn.useLayoutEffect=function(Q,te){return R.H.useLayoutEffect(Q,te)},pn.useMemo=function(Q,te){return R.H.useMemo(Q,te)},pn.useOptimistic=function(Q,te){return R.H.useOptimistic(Q,te)},pn.useReducer=function(Q,te,U){return R.H.useReducer(Q,te,U)},pn.useRef=function(Q){return R.H.useRef(Q)},pn.useState=function(Q){return R.H.useState(Q)},pn.useSyncExternalStore=function(Q,te,U){return R.H.useSyncExternalStore(Q,te,U)},pn.useTransition=function(){return R.H.useTransition()},pn.version="19.2.0",pn}var cz;function uT(){return cz||(cz=1,dI.exports=x1e()),dI.exports}var C=uT();const F=vr(C),dT=y1e({__proto__:null,default:F},[C]);var fI={exports:{}},vE={},hI={exports:{}},pI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uz;function w1e(){return uz||(uz=1,(function(e){function t(V,ne){var X=V.length;V.push(ne);e:for(;0<X;){var oe=X-1>>>1,K=V[oe];if(0<i(K,ne))V[oe]=ne,V[X]=K,X=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ne=V[0],X=V.pop();if(X!==ne){V[0]=X;e:for(var oe=0,K=V.length,Q=K>>>1;oe<Q;){var te=2*(oe+1)-1,U=V[te],fe=te+1,me=V[fe];if(0>i(U,X))fe<K&&0>i(me,U)?(V[oe]=me,V[fe]=X,oe=fe):(V[oe]=U,V[te]=X,oe=te);else if(fe<K&&0>i(me,X))V[oe]=me,V[fe]=X,oe=fe;else break e}}return ne}function i(V,ne){var X=V.sortIndex-ne.sortIndex;return X!==0?X:V.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],d=1,u=null,p=3,m=!1,v=!1,x=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function I(V){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=V)r(c),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=n(c)}}function N(V){if(x=!1,I(V),!v)if(n(l)!==null)v=!0,A||(A=!0,z());else{var ne=n(c);ne!==null&&Z(N,ne.startTime-V)}}var A=!1,R=-1,L=5,B=-1;function $(){return w?!0:!(e.unstable_now()-B<L)}function q(){if(w=!1,A){var V=e.unstable_now();B=V;var ne=!0;try{e:{v=!1,x&&(x=!1,k(R),R=-1),m=!0;var X=p;try{t:{for(I(V),u=n(l);u!==null&&!(u.expirationTime>V&&$());){var oe=u.callback;if(typeof oe=="function"){u.callback=null,p=u.priorityLevel;var K=oe(u.expirationTime<=V);if(V=e.unstable_now(),typeof K=="function"){u.callback=K,I(V),ne=!0;break t}u===n(l)&&r(l),I(V)}else r(l);u=n(l)}if(u!==null)ne=!0;else{var Q=n(c);Q!==null&&Z(N,Q.startTime-V),ne=!1}}break e}finally{u=null,p=X,m=!1}ne=void 0}}finally{ne?z():A=!1}}}var z;if(typeof O=="function")z=function(){O(q)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,G=W.port2;W.port1.onmessage=q,z=function(){G.postMessage(null)}}else z=function(){T(q,0)};function Z(V,ne){R=T(function(){V(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(V){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var X=p;p=ne;try{return V()}finally{p=X}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(V,ne){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=p;p=V;try{return ne()}finally{p=X}},e.unstable_scheduleCallback=function(V,ne,X){var oe=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,V){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,V={id:d++,callback:ne,priorityLevel:V,startTime:X,expirationTime:K,sortIndex:-1},X>oe?(V.sortIndex=X,t(c,V),n(l)===null&&V===n(c)&&(x?(k(R),R=-1):x=!0,Z(N,X-oe))):(V.sortIndex=K,t(l,V),v||m||(v=!0,A||(A=!0,z()))),V},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(V){var ne=p;return function(){var X=p;p=ne;try{return V.apply(this,arguments)}finally{p=X}}}})(pI)),pI}var dz;function E1e(){return dz||(dz=1,hI.exports=w1e()),hI.exports}var mI={exports:{}},ma={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fz;function S1e(){if(fz)return ma;fz=1;var e=uT();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(l,c,d){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:u==null?null:""+u,children:l,containerInfo:c,implementation:d}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return ma.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ma.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return o(l,c,null,d)},ma.flushSync=function(l){var c=a.T,d=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=c,r.p=d,r.d.f()}},ma.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},ma.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},ma.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,u=s(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:u,integrity:p,fetchPriority:m}):d==="script"&&r.d.X(l,{crossOrigin:u,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},ma.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=s(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},ma.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,u=s(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},ma.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=s(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},ma.requestFormReset=function(l){r.d.r(l)},ma.unstable_batchedUpdates=function(l,c){return l(c)},ma.useFormState=function(l,c,d){return a.H.useFormState(l,c,d)},ma.useFormStatus=function(){return a.H.useHostTransitionStatus()},ma.version="19.2.0",ma}var hz;function ere(){if(hz)return mI.exports;hz=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mI.exports=S1e(),mI.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pz;function C1e(){if(pz)return vE;pz=1;var e=E1e(),t=uT(),n=ere();function r(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function o(f){var h=f,y=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(y=h.return),f=h.return;while(f)}return h.tag===3?y:null}function a(f){if(f.tag===13){var h=f.memoizedState;if(h===null&&(f=f.alternate,f!==null&&(h=f.memoizedState)),h!==null)return h.dehydrated}return null}function s(f){if(f.tag===31){var h=f.memoizedState;if(h===null&&(f=f.alternate,f!==null&&(h=f.memoizedState)),h!==null)return h.dehydrated}return null}function l(f){if(o(f)!==f)throw Error(r(188))}function c(f){var h=f.alternate;if(!h){if(h=o(f),h===null)throw Error(r(188));return h!==f?null:f}for(var y=f,E=h;;){var _=y.return;if(_===null)break;var D=_.alternate;if(D===null){if(E=_.return,E!==null){y=E;continue}break}if(_.child===D.child){for(D=_.child;D;){if(D===y)return l(_),f;if(D===E)return l(_),h;D=D.sibling}throw Error(r(188))}if(y.return!==E.return)y=_,E=D;else{for(var H=!1,J=_.child;J;){if(J===y){H=!0,y=_,E=D;break}if(J===E){H=!0,E=_,y=D;break}J=J.sibling}if(!H){for(J=D.child;J;){if(J===y){H=!0,y=D,E=_;break}if(J===E){H=!0,E=D,y=_;break}J=J.sibling}if(!H)throw Error(r(189))}}if(y.alternate!==E)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?f:h}function d(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(h=d(f),h!==null)return h;f=f.sibling}return null}var u=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),O=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(f){return f===null||typeof f!="object"?null:(f=q&&f[q]||f["@@iterator"],typeof f=="function"?f:null)}var W=Symbol.for("react.client.reference");function G(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===W?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case x:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList";case B:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case v:return"Portal";case O:return f.displayName||"Context";case k:return(f._context.displayName||"Context")+".Consumer";case I:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case R:return h=f.displayName||null,h!==null?h:G(f.type)||"Memo";case L:h=f._payload,f=f._init;try{return G(f(h))}catch{}}return null}var Z=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},oe=[],K=-1;function Q(f){return{current:f}}function te(f){0>K||(f.current=oe[K],oe[K]=null,K--)}function U(f,h){K++,oe[K]=f.current,f.current=h}var fe=Q(null),me=Q(null),ke=Q(null),Ee=Q(null);function ve(f,h){switch(U(ke,h),U(me,f),U(fe,null),h.nodeType){case 9:case 11:f=(f=h.documentElement)&&(f=f.namespaceURI)?Ig(f):0;break;default:if(f=h.tagName,h=h.namespaceURI)h=Ig(h),f=ha(h,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}te(fe),U(fe,f)}function we(){te(fe),te(me),te(ke)}function je(f){f.memoizedState!==null&&U(Ee,f);var h=fe.current,y=ha(h,f.type);h!==y&&(U(me,f),U(fe,y))}function Ke(f){me.current===f&&(te(fe),te(me)),Ee.current===f&&(te(Ee),ap._currentValue=X)}var De,It;function Fe(f){if(De===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);De=h&&h[1]||"",It=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+f+It}var an=!1;function cn(f,h){if(!f||an)return"";an=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(h){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Le){var Me=Le}Reflect.construct(f,[],We)}else{try{We.call()}catch(Le){Me=Le}f.call(We.prototype)}}else{try{throw Error()}catch(Le){Me=Le}(We=f())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Le){if(Le&&Me&&typeof Le.stack=="string")return[Le.stack,Me.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=E.DetermineComponentFrameRoot(),H=D[0],J=D[1];if(H&&J){var de=H.split(`
`),Ne=J.split(`
`);for(_=E=0;E<de.length&&!de[E].includes("DetermineComponentFrameRoot");)E++;for(;_<Ne.length&&!Ne[_].includes("DetermineComponentFrameRoot");)_++;if(E===de.length||_===Ne.length)for(E=de.length-1,_=Ne.length-1;1<=E&&0<=_&&de[E]!==Ne[_];)_--;for(;1<=E&&0<=_;E--,_--)if(de[E]!==Ne[_]){if(E!==1||_!==1)do if(E--,_--,0>_||de[E]!==Ne[_]){var ze=`
`+de[E].replace(" at new "," at ");return f.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",f.displayName)),ze}while(1<=E&&0<=_);break}}}finally{an=!1,Error.prepareStackTrace=y}return(y=f?f.displayName||f.name:"")?Fe(y):""}function Qt(f,h){switch(f.tag){case 26:case 27:case 5:return Fe(f.type);case 16:return Fe("Lazy");case 13:return f.child!==h&&h!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return cn(f.type,!1);case 11:return cn(f.type.render,!1);case 1:return cn(f.type,!0);case 31:return Fe("Activity");default:return""}}function Vr(f){try{var h="",y=null;do h+=Qt(f,y),y=f,f=f.return;while(f);return h}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}var er=Object.prototype.hasOwnProperty,ce=e.unstable_scheduleCallback,xe=e.unstable_cancelCallback,Te=e.unstable_shouldYield,Je=e.unstable_requestPaint,Ze=e.unstable_now,Qe=e.unstable_getCurrentPriorityLevel,ge=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,it=e.unstable_NormalPriority,At=e.unstable_LowPriority,qt=e.unstable_IdlePriority,Zn=e.log,Tn=e.unstable_setDisableYieldValue,or=null,Yn=null;function xr(f){if(typeof Zn=="function"&&Tn(f),Yn&&typeof Yn.setStrictMode=="function")try{Yn.setStrictMode(or,f)}catch{}}var un=Math.clz32?Math.clz32:lt,xi=Math.log,Ct=Math.LN2;function lt(f){return f>>>=0,f===0?32:31-(xi(f)/Ct|0)|0}var ct=256,Tt=262144,jt=4194304;function vt(f){var h=f&42;if(h!==0)return h;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function xt(f,h,y){var E=f.pendingLanes;if(E===0)return 0;var _=0,D=f.suspendedLanes,H=f.pingedLanes;f=f.warmLanes;var J=E&134217727;return J!==0?(E=J&~D,E!==0?_=vt(E):(H&=J,H!==0?_=vt(H):y||(y=J&~f,y!==0&&(_=vt(y))))):(J=E&~D,J!==0?_=vt(J):H!==0?_=vt(H):y||(y=E&~f,y!==0&&(_=vt(y)))),_===0?0:h!==0&&h!==_&&(h&D)===0&&(D=_&-_,y=h&-h,D>=y||D===32&&(y&4194048)!==0)?h:_}function on(f,h){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&h)===0}function Gn(f,h){switch(f){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var f=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),f}function di(f){for(var h=[],y=0;31>y;y++)h.push(f);return h}function se(f,h){f.pendingLanes|=h,h!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function ye(f,h,y,E,_,D){var H=f.pendingLanes;f.pendingLanes=y,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=y,f.entangledLanes&=y,f.errorRecoveryDisabledLanes&=y,f.shellSuspendCounter=0;var J=f.entanglements,de=f.expirationTimes,Ne=f.hiddenUpdates;for(y=H&~y;0<y;){var ze=31-un(y),We=1<<ze;J[ze]=0,de[ze]=-1;var Me=Ne[ze];if(Me!==null)for(Ne[ze]=null,ze=0;ze<Me.length;ze++){var Le=Me[ze];Le!==null&&(Le.lane&=-536870913)}y&=~We}E!==0&&Re(f,E,0),D!==0&&_===0&&f.tag!==0&&(f.suspendedLanes|=D&~(H&~h))}function Re(f,h,y){f.pendingLanes|=h,f.suspendedLanes&=~h;var E=31-un(h);f.entangledLanes|=h,f.entanglements[E]=f.entanglements[E]|1073741824|y&261930}function Xe(f,h){var y=f.entangledLanes|=h;for(f=f.entanglements;y;){var E=31-un(y),_=1<<E;_&h|f[E]&h&&(f[E]|=h),y&=~_}}function nt(f,h){var y=h&-h;return y=(y&42)!==0?1:kt(y),(y&(f.suspendedLanes|h))!==0?0:y}function kt(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function bt(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function _t(){var f=ne.p;return f!==0?f:(f=window.event,f===void 0?32:w_(f.type))}function $t(f,h){var y=ne.p;try{return ne.p=f,h()}finally{ne.p=y}}var Ht=Math.random().toString(36).slice(2),ft="__reactFiber$"+Ht,pt="__reactProps$"+Ht,xn="__reactContainer$"+Ht,mr="__reactEvents$"+Ht,Oi="__reactListeners$"+Ht,po="__reactHandles$"+Ht,Dr="__reactResources$"+Ht,ar="__reactMarker$"+Ht;function Xs(f){delete f[ft],delete f[pt],delete f[mr],delete f[Oi],delete f[po]}function ds(f){var h=f[ft];if(h)return h;for(var y=f.parentNode;y;){if(h=y[xn]||y[ft]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(f=i_(f);f!==null;){if(y=f[ft])return y;f=i_(f)}return h}f=y,y=f.parentNode}return null}function Zi(f){if(f=f[ft]||f[xn]){var h=f.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return f}return null}function Ao(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f.stateNode;throw Error(r(33))}function Ma(f){var h=f[Dr];return h||(h=f[Dr]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function qr(f){f[ar]=!0}var $l=new Set,Vd={};function Da(f,h){yn(f,h),yn(f+"Capture",h)}function yn(f,h){for(Vd[f]=h,f=0;f<h.length;f++)$l.add(h[f])}var $i=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kc={},Hl={};function wi(f){return er.call(Hl,f)?!0:er.call(kc,f)?!1:$i.test(f)?Hl[f]=!0:(kc[f]=!0,!1)}function _c(f,h,y){if(wi(h))if(y===null)f.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":f.removeAttribute(h);return;case"boolean":var E=h.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){f.removeAttribute(h);return}}f.setAttribute(h,""+y)}}function Ou(f,h,y){if(y===null)f.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(h);return}f.setAttribute(h,""+y)}}function fs(f,h,y,E){if(E===null)f.removeAttribute(y);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(y);return}f.setAttributeNS(h,y,""+E)}}function Ra(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function gy(f){var h=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function l3(f,h,y){var E=Object.getOwnPropertyDescriptor(f.constructor.prototype,h);if(!f.hasOwnProperty(h)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var _=E.get,D=E.set;return Object.defineProperty(f,h,{configurable:!0,get:function(){return _.call(this)},set:function(H){y=""+H,D.call(this,H)}}),Object.defineProperty(f,h,{enumerable:E.enumerable}),{getValue:function(){return y},setValue:function(H){y=""+H},stopTracking:function(){f._valueTracker=null,delete f[h]}}}}function yy(f){if(!f._valueTracker){var h=gy(f)?"checked":"value";f._valueTracker=l3(f,h,""+f[h])}}function Om(f){if(!f)return!1;var h=f._valueTracker;if(!h)return!0;var y=h.getValue(),E="";return f&&(E=gy(f)?f.checked?"true":"false":f.value),f=E,f!==y?(h.setValue(f),!0):!1}function Nm(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var c3=/[\n"\\]/g;function Ia(f){return f.replace(c3,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function by(f,h,y,E,_,D,H,J){f.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?f.type=H:f.removeAttribute("type"),h!=null?H==="number"?(h===0&&f.value===""||f.value!=h)&&(f.value=""+Ra(h)):f.value!==""+Ra(h)&&(f.value=""+Ra(h)):H!=="submit"&&H!=="reset"||f.removeAttribute("value"),h!=null?Tx(f,H,Ra(h)):y!=null?Tx(f,H,Ra(y)):E!=null&&f.removeAttribute("value"),_==null&&D!=null&&(f.defaultChecked=!!D),_!=null&&(f.checked=_&&typeof _!="function"&&typeof _!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?f.name=""+Ra(J):f.removeAttribute("name")}function vy(f,h,y,E,_,D,H,J){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(f.type=D),h!=null||y!=null){if(!(D!=="submit"&&D!=="reset"||h!=null)){yy(f);return}y=y!=null?""+Ra(y):"",h=h!=null?""+Ra(h):y,J||h===f.value||(f.value=h),f.defaultValue=h}E=E??_,E=typeof E!="function"&&typeof E!="symbol"&&!!E,f.checked=J?f.checked:!!E,f.defaultChecked=!!E,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(f.name=H),yy(f)}function Tx(f,h,y){h==="number"&&Nm(f.ownerDocument)===f||f.defaultValue===""+y||(f.defaultValue=""+y)}function qd(f,h,y,E){if(f=f.options,h){h={};for(var _=0;_<y.length;_++)h["$"+y[_]]=!0;for(y=0;y<f.length;y++)_=h.hasOwnProperty("$"+f[y].value),f[y].selected!==_&&(f[y].selected=_),_&&E&&(f[y].defaultSelected=!0)}else{for(y=""+Ra(y),h=null,_=0;_<f.length;_++){if(f[_].value===y){f[_].selected=!0,E&&(f[_].defaultSelected=!0);return}h!==null||f[_].disabled||(h=f[_])}h!==null&&(h.selected=!0)}}function xy(f,h,y){if(h!=null&&(h=""+Ra(h),h!==f.value&&(f.value=h),y==null)){f.defaultValue!==h&&(f.defaultValue=h);return}f.defaultValue=y!=null?""+Ra(y):""}function wy(f,h,y,E){if(h==null){if(E!=null){if(y!=null)throw Error(r(92));if(Z(E)){if(1<E.length)throw Error(r(93));E=E[0]}y=E}y==null&&(y=""),h=y}y=Ra(h),f.defaultValue=y,E=f.textContent,E===y&&E!==""&&E!==null&&(f.value=E),yy(f)}function Zs(f,h){if(h){var y=f.firstChild;if(y&&y===f.lastChild&&y.nodeType===3){y.nodeValue=h;return}}f.textContent=h}var bk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kx(f,h,y){var E=h.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?E?f.setProperty(h,""):h==="float"?f.cssFloat="":f[h]="":E?f.setProperty(h,y):typeof y!="number"||y===0||bk.has(h)?h==="float"?f.cssFloat=y:f[h]=(""+y).trim():f[h]=y+"px"}function vk(f,h,y){if(h!=null&&typeof h!="object")throw Error(r(62));if(f=f.style,y!=null){for(var E in y)!y.hasOwnProperty(E)||h!=null&&h.hasOwnProperty(E)||(E.indexOf("--")===0?f.setProperty(E,""):E==="float"?f.cssFloat="":f[E]="");for(var _ in h)E=h[_],h.hasOwnProperty(_)&&y[_]!==E&&kx(f,_,E)}else for(var D in h)h.hasOwnProperty(D)&&kx(f,D,h[D])}function Ey(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mm(f){return wk.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function Ac(){}var _x=null;function Ax(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Wd=null,mh=null;function Ek(f){var h=Zi(f);if(h&&(f=h.stateNode)){var y=f[pt]||null;e:switch(f=h.stateNode,h.type){case"input":if(by(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),h=y.name,y.type==="radio"&&h!=null){for(y=f;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Ia(""+h)+'"][type="radio"]'),h=0;h<y.length;h++){var E=y[h];if(E!==f&&E.form===f.form){var _=E[pt]||null;if(!_)throw Error(r(90));by(E,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(h=0;h<y.length;h++)E=y[h],E.form===f.form&&Om(E)}break e;case"textarea":xy(f,y.value,y.defaultValue);break e;case"select":h=y.value,h!=null&&qd(f,!!y.multiple,h,!1)}}}var Ox=!1;function Sk(f,h,y){if(Ox)return f(h,y);Ox=!0;try{var E=f(h);return E}finally{if(Ox=!1,(Wd!==null||mh!==null)&&(Tb(),Wd&&(h=Wd,f=mh,mh=Wd=null,Ek(h),f)))for(h=0;h<f.length;h++)Ek(f[h])}}function Yd(f,h){var y=f.stateNode;if(y===null)return null;var E=y[pt]||null;if(E===null)return null;y=E[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(f=f.type,E=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!E;break e;default:f=!1}if(f)return null;if(y&&typeof y!="function")throw Error(r(231,h,typeof y));return y}var Oc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nx=!1;if(Oc)try{var Dm={};Object.defineProperty(Dm,"passive",{get:function(){Nx=!0}}),window.addEventListener("test",Dm,Dm),window.removeEventListener("test",Dm,Dm)}catch{Nx=!1}var Nu=null,Mx=null,wr=null;function _r(){if(wr)return wr;var f,h=Mx,y=h.length,E,_="value"in Nu?Nu.value:Nu.textContent,D=_.length;for(f=0;f<y&&h[f]===_[f];f++);var H=y-f;for(E=1;E<=H&&h[y-E]===_[D-E];E++);return wr=_.slice(f,1<E?1-E:void 0)}function Sy(f){var h=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&h===13&&(f=13)):f=h,f===10&&(f=13),32<=f||f===13?f:0}function Cy(){return!0}function Ck(){return!1}function na(f){function h(y,E,_,D,H){this._reactName=y,this._targetInst=_,this.type=E,this.nativeEvent=D,this.target=H,this.currentTarget=null;for(var J in f)f.hasOwnProperty(J)&&(y=f[J],this[J]=y?y(D):D[J]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Cy:Ck,this.isPropagationStopped=Ck,this}return u(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Cy)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Cy)},persist:function(){},isPersistent:Cy}),h}var Gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ty=na(Gd),gh=u({},Gd,{view:0,detail:0}),u3=na(gh),Hi,Rm,Qs,Im=u({},gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Qs&&(Qs&&f.type==="mousemove"?(Hi=f.screenX-Qs.screenX,Rm=f.screenY-Qs.screenY):Rm=Hi=0,Qs=f),Hi)},movementY:function(f){return"movementY"in f?f.movementY:Rm}}),ky=na(Im),hs=u({},Im,{dataTransfer:0}),Tk=na(hs),kk=u({},gh,{relatedTarget:0}),_y=na(kk),_k=u({},Gd,{animationName:0,elapsedTime:0,pseudoElement:0}),Ak=na(_k),Ok=u({},Gd,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Pa=na(Ok),d3=u({},Gd,{data:0}),La=na(d3),f3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ay(f){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(f):(f=Mu[f])?!!h[f]:!1}function Pm(){return Ay}var Wr=u({},gh,{key:function(f){if(f.key){var h=f3[f.key]||f.key;if(h!=="Unidentified")return h}return f.type==="keypress"?(f=Sy(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Nk[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(f){return f.type==="keypress"?Sy(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Sy(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Du=na(Wr),Dx=u({},Im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mk=na(Dx),Rx=u({},gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),h3=na(Rx),p3=u({},Gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),m3=na(p3),Dk=u({},Im,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Oy=na(Dk),yh=u({},Gd,{newState:0,oldState:0}),g3=na(yh),Rk=[9,13,27,32],Ny=Oc&&"CompositionEvent"in window,Kd=null;Oc&&"documentMode"in document&&(Kd=document.documentMode);var Ix=Oc&&"TextEvent"in window&&!Kd,Px=Oc&&(!Ny||Kd&&8<Kd&&11>=Kd),Ik=" ",My=!1;function Dy(f,h){switch(f){case"keyup":return Rk.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pk(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Xd=!1;function ja(f,h){switch(f){case"compositionend":return Pk(h);case"keypress":return h.which!==32?null:(My=!0,Ik);case"textInput":return f=h.data,f===Ik&&My?null:f;default:return null}}function Lx(f,h){if(Xd)return f==="compositionend"||!Ny&&Dy(f,h)?(f=_r(),wr=Mx=Nu=null,Xd=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Px&&h.locale!=="ko"?null:h.data;default:return null}}var Lm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jx(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h==="input"?!!Lm[f.type]:h==="textarea"}function Bx(f,h,y,E){Wd?mh?mh.push(E):mh=[E]:Wd=E,h=Ng(h,"onChange"),0<h.length&&(y=new Ty("onChange","change",null,y,E),f.push({event:y,listeners:h}))}var jm=null,Bm=null;function y3(f){K2(f,0)}function Ry(f){var h=Ao(f);if(Om(h))return f}function Lk(f,h){if(f==="change")return h}var Zd=!1;if(Oc){var $x;if(Oc){var Hx="oninput"in document;if(!Hx){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),Hx=typeof Iy.oninput=="function"}$x=Hx}else $x=!1;Zd=$x&&(!document.documentMode||9<document.documentMode)}function Fx(){jm&&(jm.detachEvent("onpropertychange",Nc),Bm=jm=null)}function Nc(f){if(f.propertyName==="value"&&Ry(Bm)){var h=[];Bx(h,Bm,f,Ax(f)),Sk(y3,h)}}function Py(f,h,y){f==="focusin"?(Fx(),jm=h,Bm=y,jm.attachEvent("onpropertychange",Nc)):f==="focusout"&&Fx()}function b3(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Ry(Bm)}function v3(f,h){if(f==="click")return Ry(h)}function x3(f,h){if(f==="input"||f==="change")return Ry(h)}function bh(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var oi=typeof Object.is=="function"?Object.is:bh;function vh(f,h){if(oi(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var y=Object.keys(f),E=Object.keys(h);if(y.length!==E.length)return!1;for(E=0;E<y.length;E++){var _=y[E];if(!er.call(h,_)||!oi(f[_],h[_]))return!1}return!0}function jk(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Bk(f,h){var y=jk(f);f=0;for(var E;y;){if(y.nodeType===3){if(E=f+y.textContent.length,f<=h&&E>=h)return{node:y,offset:h-f};f=E}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=jk(y)}}function $k(f,h){return f&&h?f===h?!0:f&&f.nodeType===3?!1:h&&h.nodeType===3?$k(f,h.parentNode):"contains"in f?f.contains(h):f.compareDocumentPosition?!!(f.compareDocumentPosition(h)&16):!1:!1}function Hk(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var h=Nm(f.document);h instanceof f.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)f=h.contentWindow;else break;h=Nm(f.document)}return h}function Ux(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h&&(h==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||h==="textarea"||f.contentEditable==="true")}var xh=Oc&&"documentMode"in document&&11>=document.documentMode,be=null,Ue=null,Pe=null,gt=!1;function sn(f,h,y){var E=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;gt||be==null||be!==Nm(E)||(E=be,"selectionStart"in E&&Ux(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Pe&&vh(Pe,E)||(Pe=E,E=Ng(Ue,"onSelect"),0<E.length&&(h=new Ty("onSelect","select",null,h,y),f.push({event:h,listeners:E}),h.target=be)))}function On(f,h){var y={};return y[f.toLowerCase()]=h.toLowerCase(),y["Webkit"+f]="webkit"+h,y["Moz"+f]="moz"+h,y}var Yr={animationend:On("Animation","AnimationEnd"),animationiteration:On("Animation","AnimationIteration"),animationstart:On("Animation","AnimationStart"),transitionrun:On("Transition","TransitionRun"),transitionstart:On("Transition","TransitionStart"),transitioncancel:On("Transition","TransitionCancel"),transitionend:On("Transition","TransitionEnd")},gr={},Ly={};Oc&&(Ly=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Qd(f){if(gr[f])return gr[f];if(!Yr[f])return f;var h=Yr[f],y;for(y in h)if(h.hasOwnProperty(y)&&y in Ly)return gr[f]=h[y];return f}var Ba=Qd("animationend"),$m=Qd("animationiteration"),Fk=Qd("animationstart"),wh=Qd("transitionrun"),jy=Qd("transitionstart"),By=Qd("transitioncancel"),dr=Qd("transitionend"),Uk=new Map,$y="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$y.push("scrollEnd");function ra(f,h){Uk.set(f,h),Da(h,[f])}var Hy=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},ps=[],Eh=0,Sh=0;function Js(){for(var f=Eh,h=Sh=Eh=0;h<f;){var y=ps[h];ps[h++]=null;var E=ps[h];ps[h++]=null;var _=ps[h];ps[h++]=null;var D=ps[h];if(ps[h++]=null,E!==null&&_!==null){var H=E.pending;H===null?_.next=_:(_.next=H.next,H.next=_),E.pending=_}D!==0&&zx(y,_,D)}}function Jd(f,h,y,E){ps[Eh++]=f,ps[Eh++]=h,ps[Eh++]=y,ps[Eh++]=E,Sh|=E,f.lanes|=E,f=f.alternate,f!==null&&(f.lanes|=E)}function Fy(f,h,y,E){return Jd(f,h,y,E),Hm(f)}function Fl(f,h){return Jd(f,null,null,h),Hm(f)}function zx(f,h,y){f.lanes|=y;var E=f.alternate;E!==null&&(E.lanes|=y);for(var _=!1,D=f.return;D!==null;)D.childLanes|=y,E=D.alternate,E!==null&&(E.childLanes|=y),D.tag===22&&(f=D.stateNode,f===null||f._visibility&1||(_=!0)),f=D,D=D.return;return f.tag===3?(D=f.stateNode,_&&h!==null&&(_=31-un(y),f=D.hiddenUpdates,E=f[_],E===null?f[_]=[h]:E.push(h),h.lane=y|536870912),D):null}function Hm(f){if(50<Sg)throw Sg=0,Uw=null,Error(r(185));for(var h=f.return;h!==null;)f=h,h=f.return;return f.tag===3?f.stateNode:null}var Mc={};function zk(f,h,y,E){this.tag=f,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mo(f,h,y,E){return new zk(f,h,y,E)}function Dc(f){return f=f.prototype,!(!f||!f.isReactComponent)}function ms(f,h){var y=f.alternate;return y===null?(y=mo(f.tag,h,f.key,f.mode),y.elementType=f.elementType,y.type=f.type,y.stateNode=f.stateNode,y.alternate=f,f.alternate=y):(y.pendingProps=h,y.type=f.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=f.flags&65011712,y.childLanes=f.childLanes,y.lanes=f.lanes,y.child=f.child,y.memoizedProps=f.memoizedProps,y.memoizedState=f.memoizedState,y.updateQueue=f.updateQueue,h=f.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=f.sibling,y.index=f.index,y.ref=f.ref,y.refCleanup=f.refCleanup,y}function Vk(f,h){f.flags&=65011714;var y=f.alternate;return y===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,h=y.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),f}function Uy(f,h,y,E,_,D){var H=0;if(E=f,typeof f=="function")Dc(f)&&(H=1);else if(typeof f=="string")H=tI(f,y,fe.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case B:return f=mo(31,y,h,_),f.elementType=B,f.lanes=D,f;case x:return ef(y.children,_,D,h);case w:H=8,_|=24;break;case T:return f=mo(12,y,h,_|2),f.elementType=T,f.lanes=D,f;case N:return f=mo(13,y,h,_),f.elementType=N,f.lanes=D,f;case A:return f=mo(19,y,h,_),f.elementType=A,f.lanes=D,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case O:H=10;break e;case k:H=9;break e;case I:H=11;break e;case R:H=14;break e;case L:H=16,E=null;break e}H=29,y=Error(r(130,f===null?"null":typeof f,"")),E=null}return h=mo(H,y,h,_),h.elementType=f,h.type=E,h.lanes=D,h}function ef(f,h,y,E){return f=mo(7,f,E,h),f.lanes=y,f}function Ch(f,h,y){return f=mo(6,f,null,h),f.lanes=y,f}function Fm(f){var h=mo(18,null,null,0);return h.stateNode=f,h}function Um(f,h,y){return h=mo(4,f.children!==null?f.children:[],f.key,h),h.lanes=y,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}var qk=new WeakMap;function $a(f,h){if(typeof f=="object"&&f!==null){var y=qk.get(f);return y!==void 0?y:(h={value:f,source:h,stack:Vr(h)},qk.set(f,h),h)}return{value:f,source:h,stack:Vr(h)}}var Th=[],kh=0,fi=null,Ni=0,gs=[],ys=0,Rc=null,Ul=1,bs="";function Ha(f,h){Th[kh++]=Ni,Th[kh++]=fi,fi=f,Ni=h}function zy(f,h,y){gs[ys++]=Ul,gs[ys++]=bs,gs[ys++]=Rc,Rc=f;var E=Ul;f=bs;var _=32-un(E)-1;E&=~(1<<_),y+=1;var D=32-un(h)+_;if(30<D){var H=_-_%5;D=(E&(1<<H)-1).toString(32),E>>=H,_-=H,Ul=1<<32-un(h)+_|y<<_|E,bs=D+f}else Ul=1<<D|y<<_|E,bs=f}function Ru(f){f.return!==null&&(Ha(f,1),zy(f,1,0))}function tf(f){for(;f===fi;)fi=Th[--kh],Th[kh]=null,Ni=Th[--kh],Th[kh]=null;for(;f===Rc;)Rc=gs[--ys],gs[ys]=null,bs=gs[--ys],gs[ys]=null,Ul=gs[--ys],gs[ys]=null}function _h(f,h){gs[ys++]=Ul,gs[ys++]=bs,gs[ys++]=Rc,Ul=h.id,bs=h.overflow,Rc=f}var Mi=null,fr=null,Fn=!1,Iu=null,vs=!1,Vx=Error(r(519));function Pu(f){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ju($a(h,f)),Vx}function zm(f){var h=f.stateNode,y=f.type,E=f.memoizedProps;switch(h[ft]=f,h[pt]=E,y){case"dialog":Mn("cancel",h),Mn("close",h);break;case"iframe":case"object":case"embed":Mn("load",h);break;case"video":case"audio":for(y=0;y<Og.length;y++)Mn(Og[y],h);break;case"source":Mn("error",h);break;case"img":case"image":case"link":Mn("error",h),Mn("load",h);break;case"details":Mn("toggle",h);break;case"input":Mn("invalid",h),vy(h,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0);break;case"select":Mn("invalid",h);break;case"textarea":Mn("invalid",h),wy(h,E.value,E.defaultValue,E.children)}y=E.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||h.textContent===""+y||E.suppressHydrationWarning===!0||Q2(h.textContent,y)?(E.popover!=null&&(Mn("beforetoggle",h),Mn("toggle",h)),E.onScroll!=null&&Mn("scroll",h),E.onScrollEnd!=null&&Mn("scrollend",h),E.onClick!=null&&(h.onclick=Ac),h=!0):h=!1,h||Pu(f,!0)}function Ah(f){for(Mi=f.return;Mi;)switch(Mi.tag){case 5:case 31:case 13:vs=!1;return;case 27:case 3:vs=!0;return;default:Mi=Mi.return}}function nf(f){if(f!==Mi)return!1;if(!Fn)return Ah(f),Fn=!0,!1;var h=f.tag,y;if((y=h!==3&&h!==27)&&((y=h===5)&&(y=f.type,y=!(y!=="form"&&y!=="button")||Ju(f.type,f.memoizedProps)),y=!y),y&&fr&&Pu(f),Ah(f),h===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));fr=r_(f)}else if(h===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));fr=r_(f)}else h===27?(h=fr,Jt(f.type)?(f=lE,lE=null,fr=f):fr=h):fr=Mi?ks(f.stateNode.nextSibling):null;return!0}function ee(){fr=Mi=null,Fn=!1}function Lu(){var f=Iu;return f!==null&&(ua===null?ua=f:ua.push.apply(ua,f),Iu=null),f}function ju(f){Iu===null?Iu=[f]:Iu.push(f)}var ia=Q(null),dn=null,Ic=null;function Bu(f,h,y){U(ia,h._currentValue),h._currentValue=y}function Pc(f){f._currentValue=ia.current,te(ia)}function Lc(f,h,y){for(;f!==null;){var E=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),f===y)break;f=f.return}}function qx(f,h,y,E){var _=f.child;for(_!==null&&(_.return=f);_!==null;){var D=_.dependencies;if(D!==null){var H=_.child;D=D.firstContext;e:for(;D!==null;){var J=D;D=_;for(var de=0;de<h.length;de++)if(J.context===h[de]){D.lanes|=y,J=D.alternate,J!==null&&(J.lanes|=y),Lc(D.return,y,f),E||(H=null);break e}D=J.next}}else if(_.tag===18){if(H=_.return,H===null)throw Error(r(341));H.lanes|=y,D=H.alternate,D!==null&&(D.lanes|=y),Lc(H,y,f),H=null}else H=_.child;if(H!==null)H.return=_;else for(H=_;H!==null;){if(H===f){H=null;break}if(_=H.sibling,_!==null){_.return=H.return,H=_;break}H=H.return}_=H}}function Oh(f,h,y,E){f=null;for(var _=h,D=!1;_!==null;){if(!D){if((_.flags&524288)!==0)D=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var H=_.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var J=_.type;oi(_.pendingProps.value,H.value)||(f!==null?f.push(J):f=[J])}}else if(_===Ee.current){if(H=_.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(f!==null?f.push(ap):f=[ap])}_=_.return}f!==null&&qx(h,f,y,E),h.flags|=262144}function Vy(f){for(f=f.firstContext;f!==null;){if(!oi(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function rf(f){dn=f,Ic=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function go(f){return Wk(dn,f)}function xs(f,h){return dn===null&&rf(f),Wk(f,h)}function Wk(f,h){var y=h._currentValue;if(h={context:h,memoizedValue:y,next:null},Ic===null){if(f===null)throw Error(r(308));Ic=h,f.dependencies={lanes:0,firstContext:h},f.flags|=524288}else Ic=Ic.next=h;return y}var w3=typeof AbortController<"u"?AbortController:function(){var f=[],h=this.signal={aborted:!1,addEventListener:function(y,E){f.push(E)}};this.abort=function(){h.aborted=!0,f.forEach(function(y){return y()})}},E3=e.unstable_scheduleCallback,S3=e.unstable_NormalPriority,Di={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function el(){return{controller:new w3,data:new Map,refCount:0}}function Vm(f){f.refCount--,f.refCount===0&&E3(S3,function(){f.controller.abort()})}var qm=null,Wx=0,Nh=0,Mh=null;function of(f,h){if(qm===null){var y=qm=[];Wx=0,Nh=Ka(),Mh={status:"pending",value:void 0,then:function(E){y.push(E)}}}return Wx++,h.then(Yk,Yk),h}function Yk(){if(--Wx===0&&qm!==null){Mh!==null&&(Mh.status="fulfilled");var f=qm;qm=null,Nh=0,Mh=null;for(var h=0;h<f.length;h++)(0,f[h])()}}function C3(f,h){var y=[],E={status:"pending",value:null,reason:null,then:function(_){y.push(_)}};return f.then(function(){E.status="fulfilled",E.value=h;for(var _=0;_<y.length;_++)(0,y[_])(h)},function(_){for(E.status="rejected",E.reason=_,_=0;_<y.length;_++)(0,y[_])(void 0)}),E}var ws=V.S;V.S=function(f,h){M2=Ze(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&of(f,h),ws!==null&&ws(f,h)};var af=Q(null);function Yx(){var f=af.current;return f!==null?f:Or.pooledCache}function qy(f,h){h===null?U(af,af.current):U(af,h.pool)}function Gk(){var f=Yx();return f===null?null:{parent:Di._currentValue,pool:f}}var Dh=Error(r(460)),Wy=Error(r(474)),Wm=Error(r(542)),Yy={then:function(){}};function Kk(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Gy(f,h,y){switch(y=f[y],y===void 0?f.push(h):y!==h&&(h.then(Ac,Ac),h=y),h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,Gx(f),f;default:if(typeof h.status=="string")h.then(Ac,Ac);else{if(f=Or,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=h,f.status="pending",f.then(function(E){if(h.status==="pending"){var _=h;_.status="fulfilled",_.value=E}},function(E){if(h.status==="pending"){var _=h;_.status="rejected",_.reason=E}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,Gx(f),f}throw zl=h,Dh}}function tl(f){try{var h=f._init;return h(f._payload)}catch(y){throw y!==null&&typeof y=="object"&&typeof y.then=="function"?(zl=y,Dh):y}}var zl=null;function Xk(){if(zl===null)throw Error(r(459));var f=zl;return zl=null,f}function Gx(f){if(f===Dh||f===Wm)throw Error(r(483))}var Rh=null,Fa=0;function Ih(f){var h=Fa;return Fa+=1,Rh===null&&(Rh=[]),Gy(Rh,f,h)}function nl(f,h){h=h.props.ref,f.ref=h!==void 0?h:null}function zo(f,h){throw h.$$typeof===p?Error(r(525)):(f=Object.prototype.toString.call(h),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f)))}function Zk(f){function h(Se,pe){if(f){var Oe=Se.deletions;Oe===null?(Se.deletions=[pe],Se.flags|=16):Oe.push(pe)}}function y(Se,pe){if(!f)return null;for(;pe!==null;)h(Se,pe),pe=pe.sibling;return null}function E(Se){for(var pe=new Map;Se!==null;)Se.key!==null?pe.set(Se.key,Se):pe.set(Se.index,Se),Se=Se.sibling;return pe}function _(Se,pe){return Se=ms(Se,pe),Se.index=0,Se.sibling=null,Se}function D(Se,pe,Oe){return Se.index=Oe,f?(Oe=Se.alternate,Oe!==null?(Oe=Oe.index,Oe<pe?(Se.flags|=67108866,pe):Oe):(Se.flags|=67108866,pe)):(Se.flags|=1048576,pe)}function H(Se){return f&&Se.alternate===null&&(Se.flags|=67108866),Se}function J(Se,pe,Oe,qe){return pe===null||pe.tag!==6?(pe=Ch(Oe,Se.mode,qe),pe.return=Se,pe):(pe=_(pe,Oe),pe.return=Se,pe)}function de(Se,pe,Oe,qe){var Ft=Oe.type;return Ft===x?ze(Se,pe,Oe.props.children,qe,Oe.key):pe!==null&&(pe.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===L&&tl(Ft)===pe.type)?(pe=_(pe,Oe.props),nl(pe,Oe),pe.return=Se,pe):(pe=Uy(Oe.type,Oe.key,Oe.props,null,Se.mode,qe),nl(pe,Oe),pe.return=Se,pe)}function Ne(Se,pe,Oe,qe){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Oe.containerInfo||pe.stateNode.implementation!==Oe.implementation?(pe=Um(Oe,Se.mode,qe),pe.return=Se,pe):(pe=_(pe,Oe.children||[]),pe.return=Se,pe)}function ze(Se,pe,Oe,qe,Ft){return pe===null||pe.tag!==7?(pe=ef(Oe,Se.mode,qe,Ft),pe.return=Se,pe):(pe=_(pe,Oe),pe.return=Se,pe)}function We(Se,pe,Oe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=Ch(""+pe,Se.mode,Oe),pe.return=Se,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case m:return Oe=Uy(pe.type,pe.key,pe.props,null,Se.mode,Oe),nl(Oe,pe),Oe.return=Se,Oe;case v:return pe=Um(pe,Se.mode,Oe),pe.return=Se,pe;case L:return pe=tl(pe),We(Se,pe,Oe)}if(Z(pe)||z(pe))return pe=ef(pe,Se.mode,Oe,null),pe.return=Se,pe;if(typeof pe.then=="function")return We(Se,Ih(pe),Oe);if(pe.$$typeof===O)return We(Se,xs(Se,pe),Oe);zo(Se,pe)}return null}function Me(Se,pe,Oe,qe){var Ft=pe!==null?pe.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Ft!==null?null:J(Se,pe,""+Oe,qe);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case m:return Oe.key===Ft?de(Se,pe,Oe,qe):null;case v:return Oe.key===Ft?Ne(Se,pe,Oe,qe):null;case L:return Oe=tl(Oe),Me(Se,pe,Oe,qe)}if(Z(Oe)||z(Oe))return Ft!==null?null:ze(Se,pe,Oe,qe,null);if(typeof Oe.then=="function")return Me(Se,pe,Ih(Oe),qe);if(Oe.$$typeof===O)return Me(Se,pe,xs(Se,Oe),qe);zo(Se,Oe)}return null}function Le(Se,pe,Oe,qe,Ft){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Se=Se.get(Oe)||null,J(pe,Se,""+qe,Ft);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case m:return Se=Se.get(qe.key===null?Oe:qe.key)||null,de(pe,Se,qe,Ft);case v:return Se=Se.get(qe.key===null?Oe:qe.key)||null,Ne(pe,Se,qe,Ft);case L:return qe=tl(qe),Le(Se,pe,Oe,qe,Ft)}if(Z(qe)||z(qe))return Se=Se.get(Oe)||null,ze(pe,Se,qe,Ft,null);if(typeof qe.then=="function")return Le(Se,pe,Oe,Ih(qe),Ft);if(qe.$$typeof===O)return Le(Se,pe,Oe,xs(pe,qe),Ft);zo(pe,qe)}return null}function wt(Se,pe,Oe,qe){for(var Ft=null,tr=null,Mt=pe,bn=pe=0,Pn=null;Mt!==null&&bn<Oe.length;bn++){Mt.index>bn?(Pn=Mt,Mt=null):Pn=Mt.sibling;var nr=Me(Se,Mt,Oe[bn],qe);if(nr===null){Mt===null&&(Mt=Pn);break}f&&Mt&&nr.alternate===null&&h(Se,Mt),pe=D(nr,pe,bn),tr===null?Ft=nr:tr.sibling=nr,tr=nr,Mt=Pn}if(bn===Oe.length)return y(Se,Mt),Fn&&Ha(Se,bn),Ft;if(Mt===null){for(;bn<Oe.length;bn++)Mt=We(Se,Oe[bn],qe),Mt!==null&&(pe=D(Mt,pe,bn),tr===null?Ft=Mt:tr.sibling=Mt,tr=Mt);return Fn&&Ha(Se,bn),Ft}for(Mt=E(Mt);bn<Oe.length;bn++)Pn=Le(Mt,Se,bn,Oe[bn],qe),Pn!==null&&(f&&Pn.alternate!==null&&Mt.delete(Pn.key===null?bn:Pn.key),pe=D(Pn,pe,bn),tr===null?Ft=Pn:tr.sibling=Pn,tr=Pn);return f&&Mt.forEach(function(od){return h(Se,od)}),Fn&&Ha(Se,bn),Ft}function Yt(Se,pe,Oe,qe){if(Oe==null)throw Error(r(151));for(var Ft=null,tr=null,Mt=pe,bn=pe=0,Pn=null,nr=Oe.next();Mt!==null&&!nr.done;bn++,nr=Oe.next()){Mt.index>bn?(Pn=Mt,Mt=null):Pn=Mt.sibling;var od=Me(Se,Mt,nr.value,qe);if(od===null){Mt===null&&(Mt=Pn);break}f&&Mt&&od.alternate===null&&h(Se,Mt),pe=D(od,pe,bn),tr===null?Ft=od:tr.sibling=od,tr=od,Mt=Pn}if(nr.done)return y(Se,Mt),Fn&&Ha(Se,bn),Ft;if(Mt===null){for(;!nr.done;bn++,nr=Oe.next())nr=We(Se,nr.value,qe),nr!==null&&(pe=D(nr,pe,bn),tr===null?Ft=nr:tr.sibling=nr,tr=nr);return Fn&&Ha(Se,bn),Ft}for(Mt=E(Mt);!nr.done;bn++,nr=Oe.next())nr=Le(Mt,Se,bn,nr.value,qe),nr!==null&&(f&&nr.alternate!==null&&Mt.delete(nr.key===null?bn:nr.key),pe=D(nr,pe,bn),tr===null?Ft=nr:tr.sibling=nr,tr=nr);return f&&Mt.forEach(function(cI){return h(Se,cI)}),Fn&&Ha(Se,bn),Ft}function Cr(Se,pe,Oe,qe){if(typeof Oe=="object"&&Oe!==null&&Oe.type===x&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case m:e:{for(var Ft=Oe.key;pe!==null;){if(pe.key===Ft){if(Ft=Oe.type,Ft===x){if(pe.tag===7){y(Se,pe.sibling),qe=_(pe,Oe.props.children),qe.return=Se,Se=qe;break e}}else if(pe.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===L&&tl(Ft)===pe.type){y(Se,pe.sibling),qe=_(pe,Oe.props),nl(qe,Oe),qe.return=Se,Se=qe;break e}y(Se,pe);break}else h(Se,pe);pe=pe.sibling}Oe.type===x?(qe=ef(Oe.props.children,Se.mode,qe,Oe.key),qe.return=Se,Se=qe):(qe=Uy(Oe.type,Oe.key,Oe.props,null,Se.mode,qe),nl(qe,Oe),qe.return=Se,Se=qe)}return H(Se);case v:e:{for(Ft=Oe.key;pe!==null;){if(pe.key===Ft)if(pe.tag===4&&pe.stateNode.containerInfo===Oe.containerInfo&&pe.stateNode.implementation===Oe.implementation){y(Se,pe.sibling),qe=_(pe,Oe.children||[]),qe.return=Se,Se=qe;break e}else{y(Se,pe);break}else h(Se,pe);pe=pe.sibling}qe=Um(Oe,Se.mode,qe),qe.return=Se,Se=qe}return H(Se);case L:return Oe=tl(Oe),Cr(Se,pe,Oe,qe)}if(Z(Oe))return wt(Se,pe,Oe,qe);if(z(Oe)){if(Ft=z(Oe),typeof Ft!="function")throw Error(r(150));return Oe=Ft.call(Oe),Yt(Se,pe,Oe,qe)}if(typeof Oe.then=="function")return Cr(Se,pe,Ih(Oe),qe);if(Oe.$$typeof===O)return Cr(Se,pe,xs(Se,Oe),qe);zo(Se,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,pe!==null&&pe.tag===6?(y(Se,pe.sibling),qe=_(pe,Oe),qe.return=Se,Se=qe):(y(Se,pe),qe=Ch(Oe,Se.mode,qe),qe.return=Se,Se=qe),H(Se)):y(Se,pe)}return function(Se,pe,Oe,qe){try{Fa=0;var Ft=Cr(Se,pe,Oe,qe);return Rh=null,Ft}catch(Mt){if(Mt===Dh||Mt===Wm)throw Mt;var tr=mo(29,Mt,null,Se.mode);return tr.lanes=qe,tr.return=Se,tr}finally{}}}var $u=Zk(!0),Kx=Zk(!1),Es=!1;function Vl(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ky(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Hu(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function rl(f,h,y){var E=f.updateQueue;if(E===null)return null;if(E=E.shared,(sr&2)!==0){var _=E.pending;return _===null?h.next=h:(h.next=_.next,_.next=h),E.pending=h,h=Hm(f),zx(f,null,y),h}return Jd(f,E,h,y),Hm(f)}function Ym(f,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194048)!==0)){var E=h.lanes;E&=f.pendingLanes,y|=E,h.lanes=y,Xe(f,y)}}function Xy(f,h){var y=f.updateQueue,E=f.alternate;if(E!==null&&(E=E.updateQueue,y===E)){var _=null,D=null;if(y=y.firstBaseUpdate,y!==null){do{var H={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};D===null?_=D=H:D=D.next=H,y=y.next}while(y!==null);D===null?_=D=h:D=D.next=h}else _=D=h;y={baseState:E.baseState,firstBaseUpdate:_,lastBaseUpdate:D,shared:E.shared,callbacks:E.callbacks},f.updateQueue=y;return}f=y.lastBaseUpdate,f===null?y.firstBaseUpdate=h:f.next=h,y.lastBaseUpdate=h}var Fi=!1;function sf(){if(Fi){var f=Mh;if(f!==null)throw f}}function Ph(f,h,y,E){Fi=!1;var _=f.updateQueue;Es=!1;var D=_.firstBaseUpdate,H=_.lastBaseUpdate,J=_.shared.pending;if(J!==null){_.shared.pending=null;var de=J,Ne=de.next;de.next=null,H===null?D=Ne:H.next=Ne,H=de;var ze=f.alternate;ze!==null&&(ze=ze.updateQueue,J=ze.lastBaseUpdate,J!==H&&(J===null?ze.firstBaseUpdate=Ne:J.next=Ne,ze.lastBaseUpdate=de))}if(D!==null){var We=_.baseState;H=0,ze=Ne=de=null,J=D;do{var Me=J.lane&-536870913,Le=Me!==J.lane;if(Le?(In&Me)===Me:(E&Me)===Me){Me!==0&&Me===Nh&&(Fi=!0),ze!==null&&(ze=ze.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var wt=f,Yt=J;Me=h;var Cr=y;switch(Yt.tag){case 1:if(wt=Yt.payload,typeof wt=="function"){We=wt.call(Cr,We,Me);break e}We=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Yt.payload,Me=typeof wt=="function"?wt.call(Cr,We,Me):wt,Me==null)break e;We=u({},We,Me);break e;case 2:Es=!0}}Me=J.callback,Me!==null&&(f.flags|=64,Le&&(f.flags|=8192),Le=_.callbacks,Le===null?_.callbacks=[Me]:Le.push(Me))}else Le={lane:Me,tag:J.tag,payload:J.payload,callback:J.callback,next:null},ze===null?(Ne=ze=Le,de=We):ze=ze.next=Le,H|=Me;if(J=J.next,J===null){if(J=_.shared.pending,J===null)break;Le=J,J=Le.next,Le.next=null,_.lastBaseUpdate=Le,_.shared.pending=null}}while(!0);ze===null&&(de=We),_.baseState=de,_.firstBaseUpdate=Ne,_.lastBaseUpdate=ze,D===null&&(_.shared.lanes=0),Gu|=H,f.lanes=H,f.memoizedState=We}}function il(f,h){if(typeof f!="function")throw Error(r(191,f));f.call(h)}function Zy(f,h){var y=f.callbacks;if(y!==null)for(f.callbacks=null,f=0;f<y.length;f++)il(y[f],h)}var jc=Q(null),ql=Q(0);function Xx(f,h){f=ul,U(ql,f),U(jc,h),ul=f|h.baseLanes}function yo(){U(ql,ul),U(jc,jc.current)}function Gm(){ul=ql.current,te(jc),te(ql)}var Ua=Q(null),Ss=null;function Fu(f){var h=f.alternate;U(Ei,Ei.current&1),U(Ua,f),Ss===null&&(h===null||jc.current!==null||h.memoizedState!==null)&&(Ss=f)}function Km(f){U(Ei,Ei.current),U(Ua,f),Ss===null&&(Ss=f)}function Qk(f){f.tag===22?(U(Ei,Ei.current),U(Ua,f),Ss===null&&(Ss=f)):Cs()}function Cs(){U(Ei,Ei.current),U(Ua,Ua.current)}function oa(f){te(Ua),Ss===f&&(Ss=null),te(Ei)}var Ei=Q(0);function Qy(f){for(var h=f;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Pb(y)||ep(y)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var za=0,fn=null,Er=null,hi=null,Xm=!1,Lh=!1,lf=!1,Jy=0,jh=0,Uu=null,T3=0;function Gr(){throw Error(r(321))}function eb(f,h){if(h===null)return!1;for(var y=0;y<h.length&&y<f.length;y++)if(!oi(f[y],h[y]))return!1;return!0}function tb(f,h,y,E,_,D){return za=D,fn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,V.H=f===null||f.memoizedState===null?c2:ub,lf=!1,D=y(E,_),lf=!1,Lh&&(D=Zm(h,y,E,_)),Zx(f),D}function Zx(f){V.H=Vu;var h=Er!==null&&Er.next!==null;if(za=0,hi=Er=fn=null,Xm=!1,jh=0,Uu=null,h)throw Error(r(300));f===null||ai||(f=f.dependencies,f!==null&&Vy(f)&&(ai=!0))}function Zm(f,h,y,E){fn=f;var _=0;do{if(Lh&&(Uu=null),jh=0,Lh=!1,25<=_)throw Error(r(301));if(_+=1,hi=Er=null,f.updateQueue!=null){var D=f.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}V.H=og,D=h(y,E)}while(Lh);return D}function k3(){var f=V.H,h=f.useState()[0];return h=typeof h.then=="function"?$h(h):h,f=f.useState()[0],(Er!==null?Er.memoizedState:null)!==f&&(fn.flags|=1024),h}function nb(){var f=Jy!==0;return Jy=0,f}function rb(f,h,y){h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~y}function Qx(f){if(Xm){for(f=f.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}Xm=!1}za=0,hi=Er=fn=null,Lh=!1,jh=Jy=0,Uu=null}function Oo(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?fn.memoizedState=hi=f:hi=hi.next=f,hi}function Si(){if(Er===null){var f=fn.alternate;f=f!==null?f.memoizedState:null}else f=Er.next;var h=hi===null?fn.memoizedState:hi.next;if(h!==null)hi=h,Er=f;else{if(f===null)throw fn.alternate===null?Error(r(467)):Error(r(310));Er=f,f={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},hi===null?fn.memoizedState=hi=f:hi=hi.next=f}return hi}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $h(f){var h=jh;return jh+=1,Uu===null&&(Uu=[]),f=Gy(Uu,f,h),h=fn,(hi===null?h.memoizedState:hi.next)===null&&(h=h.alternate,V.H=h===null||h.memoizedState===null?c2:ub),f}function Hh(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return $h(f);if(f.$$typeof===O)return go(f)}throw Error(r(438,String(f)))}function Jx(f){var h=null,y=fn.updateQueue;if(y!==null&&(h=y.memoCache),h==null){var E=fn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(h={data:E.data.map(function(_){return _.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),y===null&&(y=Bh(),fn.updateQueue=y),y.memoCache=h,y=h.data[h.index],y===void 0)for(y=h.data[h.index]=Array(f),E=0;E<f;E++)y[E]=$;return h.index++,y}function ol(f,h){return typeof h=="function"?h(f):h}function hn(f){var h=Si();return ew(h,Er,f)}function ew(f,h,y){var E=f.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=y;var _=f.baseQueue,D=E.pending;if(D!==null){if(_!==null){var H=_.next;_.next=D.next,D.next=H}h.baseQueue=_=D,E.pending=null}if(D=f.baseState,_===null)f.memoizedState=D;else{h=_.next;var J=H=null,de=null,Ne=h,ze=!1;do{var We=Ne.lane&-536870913;if(We!==Ne.lane?(In&We)===We:(za&We)===We){var Me=Ne.revertLane;if(Me===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),We===Nh&&(ze=!0);else if((za&Me)===Me){Ne=Ne.next,Me===Nh&&(ze=!0);continue}else We={lane:0,revertLane:Ne.revertLane,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},de===null?(J=de=We,H=D):de=de.next=We,fn.lanes|=Me,Gu|=Me;We=Ne.action,lf&&y(D,We),D=Ne.hasEagerState?Ne.eagerState:y(D,We)}else Me={lane:We,revertLane:Ne.revertLane,gesture:Ne.gesture,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},de===null?(J=de=Me,H=D):de=de.next=Me,fn.lanes|=We,Gu|=We;Ne=Ne.next}while(Ne!==null&&Ne!==h);if(de===null?H=D:de.next=J,!oi(D,f.memoizedState)&&(ai=!0,ze&&(y=Mh,y!==null)))throw y;f.memoizedState=D,f.baseState=H,f.baseQueue=de,E.lastRenderedState=D}return _===null&&(E.lanes=0),[f.memoizedState,E.dispatch]}function tw(f){var h=Si(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=f;var E=y.dispatch,_=y.pending,D=h.memoizedState;if(_!==null){y.pending=null;var H=_=_.next;do D=f(D,H.action),H=H.next;while(H!==_);oi(D,h.memoizedState)||(ai=!0),h.memoizedState=D,h.baseQueue===null&&(h.baseState=D),y.lastRenderedState=D}return[D,E]}function Fh(f,h,y){var E=fn,_=Si(),D=Fn;if(D){if(y===void 0)throw Error(r(407));y=y()}else y=h();var H=!oi((Er||_).memoizedState,y);if(H&&(_.memoizedState=y,ai=!0),_=_.queue,tg(e2.bind(null,E,_,f),[f]),_.getSnapshot!==h||H||hi!==null&&hi.memoizedState.tag&1){if(E.flags|=2048,qa(9,{destroy:void 0},Jk.bind(null,E,_,y,h),null),Or===null)throw Error(r(349));D||(za&127)!==0||nw(E,h,y)}return y}function nw(f,h,y){f.flags|=16384,f={getSnapshot:h,value:y},h=fn.updateQueue,h===null?(h=Bh(),fn.updateQueue=h,h.stores=[f]):(y=h.stores,y===null?h.stores=[f]:y.push(f))}function Jk(f,h,y,E){h.value=y,h.getSnapshot=E,Va(h)&&t2(f)}function e2(f,h,y){return y(function(){Va(h)&&t2(f)})}function Va(f){var h=f.getSnapshot;f=f.value;try{var y=h();return!oi(f,y)}catch{return!0}}function t2(f){var h=Fl(f,2);h!==null&&da(h,f,2)}function Uh(f){var h=Oo();if(typeof f=="function"){var y=f;if(f=y(),lf){xr(!0);try{y()}finally{xr(!1)}}}return h.memoizedState=h.baseState=f,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:f},h}function ib(f,h,y,E){return f.baseState=y,ew(f,Er,typeof E=="function"?E:ol)}function n2(f,h,y,E,_){if(rg(f))throw Error(r(485));if(f=h.action,f!==null){var D={payload:_,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){D.listeners.push(H)}};V.T!==null?y(!0):D.isTransition=!1,E(D),y=h.pending,y===null?(D.next=h.pending=D,rw(h,D)):(D.next=y.next,h.pending=y.next=D)}}function rw(f,h){var y=h.action,E=h.payload,_=f.state;if(h.isTransition){var D=V.T,H={};V.T=H;try{var J=y(_,E),de=V.S;de!==null&&de(H,J),aa(f,h,J)}catch(Ne){Qm(f,h,Ne)}finally{D!==null&&H.types!==null&&(D.types=H.types),V.T=D}}else try{D=y(_,E),aa(f,h,D)}catch(Ne){Qm(f,h,Ne)}}function aa(f,h,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(E){Bc(f,h,E)},function(E){return Qm(f,h,E)}):Bc(f,h,y)}function Bc(f,h,y){h.status="fulfilled",h.value=y,iw(h),f.state=y,h=f.pending,h!==null&&(y=h.next,y===h?f.pending=null:(y=y.next,h.next=y,rw(f,y)))}function Qm(f,h,y){var E=f.pending;if(f.pending=null,E!==null){E=E.next;do h.status="rejected",h.reason=y,iw(h),h=h.next;while(h!==E)}f.action=null}function iw(f){f=f.listeners;for(var h=0;h<f.length;h++)(0,f[h])()}function Jm(f,h){return h}function ow(f,h){if(Fn){var y=Or.formState;if(y!==null){e:{var E=fn;if(Fn){if(fr){t:{for(var _=fr,D=vs;_.nodeType!==8;){if(!D){_=null;break t}if(_=ks(_.nextSibling),_===null){_=null;break t}}D=_.data,_=D==="F!"||D==="F"?_:null}if(_){fr=ks(_.nextSibling),E=_.data==="F!";break e}}Pu(E)}E=!1}E&&(h=y[0])}}return y=Oo(),y.memoizedState=y.baseState=h,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jm,lastRenderedState:h},y.queue=E,y=gw.bind(null,fn,E),E.dispatch=y,E=Uh(!1),D=Vh.bind(null,fn,!1,E.queue),E=Oo(),_={state:h,dispatch:null,action:f,pending:null},E.queue=_,y=n2.bind(null,fn,_,D,y),_.dispatch=y,E.memoizedState=f,[h,y,!1]}function ob(f){var h=Si();return aw(h,Er,f)}function aw(f,h,y){if(h=ew(f,h,Jm)[0],f=hn(ol)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var E=$h(h)}catch(H){throw H===Dh?Wm:H}else E=h;h=Si();var _=h.queue,D=_.dispatch;return y!==h.memoizedState&&(fn.flags|=2048,qa(9,{destroy:void 0},sw.bind(null,_,y),null)),[E,D,f]}function sw(f,h){f.action=h}function ab(f){var h=Si(),y=Er;if(y!==null)return aw(h,y,f);Si(),h=h.memoizedState,y=Si();var E=y.queue.dispatch;return y.memoizedState=f,[h,E,!1]}function qa(f,h,y,E){return f={tag:f,create:y,deps:E,inst:h,next:null},h=fn.updateQueue,h===null&&(h=Bh(),fn.updateQueue=h),y=h.lastEffect,y===null?h.lastEffect=f.next=f:(E=y.next,y.next=f,f.next=E,h.lastEffect=f),f}function r2(){return Si().memoizedState}function al(f,h,y,E){var _=Oo();fn.flags|=f,_.memoizedState=qa(1|h,{destroy:void 0},y,E===void 0?null:E)}function eg(f,h,y,E){var _=Si();E=E===void 0?null:E;var D=_.memoizedState.inst;Er!==null&&E!==null&&eb(E,Er.memoizedState.deps)?_.memoizedState=qa(h,D,y,E):(fn.flags|=f,_.memoizedState=qa(1|h,D,y,E))}function lw(f,h){al(8390656,8,f,h)}function tg(f,h){eg(2048,8,f,h)}function _3(f){fn.flags|=4;var h=fn.updateQueue;if(h===null)h=Bh(),fn.updateQueue=h,h.events=[f];else{var y=h.events;y===null?h.events=[f]:y.push(f)}}function i2(f){var h=Si().memoizedState;return _3({ref:h,nextImpl:f}),function(){if((sr&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function o2(f,h){return eg(4,2,f,h)}function cw(f,h){return eg(4,4,f,h)}function uw(f,h){if(typeof h=="function"){f=f();var y=h(f);return function(){typeof y=="function"?y():h(null)}}if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function a2(f,h,y){y=y!=null?y.concat([f]):null,eg(4,4,uw.bind(null,h,f),y)}function sb(){}function dw(f,h){var y=Si();h=h===void 0?null:h;var E=y.memoizedState;return h!==null&&eb(h,E[1])?E[0]:(y.memoizedState=[f,h],f)}function Vo(f,h){var y=Si();h=h===void 0?null:h;var E=y.memoizedState;if(h!==null&&eb(h,E[1]))return E[0];if(E=f(),lf){xr(!0);try{f()}finally{xr(!1)}}return y.memoizedState=[E,h],E}function Ts(f,h,y){return y===void 0||(za&1073741824)!==0&&(In&261930)===0?f.memoizedState=h:(f.memoizedState=y,f=R2(),fn.lanes|=f,Gu|=f,y)}function s2(f,h,y,E){return oi(y,h)?y:jc.current!==null?(f=Ts(f,y,E),oi(f,h)||(ai=!0),f):(za&42)===0||(za&1073741824)!==0&&(In&261930)===0?(ai=!0,f.memoizedState=y):(f=R2(),fn.lanes|=f,Gu|=f,h)}function l2(f,h,y,E,_){var D=ne.p;ne.p=D!==0&&8>D?D:8;var H=V.T,J={};V.T=J,Vh(f,!1,h,y);try{var de=_(),Ne=V.S;if(Ne!==null&&Ne(J,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var ze=C3(de,E);zh(f,h,ze,Ga(f))}else zh(f,h,E,Ga(f))}catch(We){zh(f,h,{then:function(){},status:"rejected",reason:We},Ga())}finally{ne.p=D,H!==null&&J.types!==null&&(H.types=J.types),V.T=H}}function lb(){}function zu(f,h,y,E){if(f.tag!==5)throw Error(r(476));var _=fw(f).queue;l2(f,_,h,X,y===null?lb:function(){return hw(f),y(E)})}function fw(f){var h=f.memoizedState;if(h!==null)return h;h={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:X},next:null};var y={};return h.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:y},next:null},f.memoizedState=h,f=f.alternate,f!==null&&(f.memoizedState=h),h}function hw(f){var h=fw(f);h.next===null&&(h=f.alternate.memoizedState),zh(f,h.next.queue,{},Ga())}function pw(){return go(ap)}function mw(){return Si().memoizedState}function cf(){return Si().memoizedState}function ng(f){for(var h=f.return;h!==null;){switch(h.tag){case 24:case 3:var y=Ga();f=Hu(y);var E=rl(h,f,y);E!==null&&(da(E,h,y),Ym(E,h,y)),h={cache:el()},f.payload=h;return}h=h.return}}function A3(f,h,y){var E=Ga();y={lane:E,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},rg(f)?ig(h,y):(y=Fy(f,h,y,E),y!==null&&(da(y,f,E),cb(y,h,E)))}function gw(f,h,y){var E=Ga();zh(f,h,y,E)}function zh(f,h,y,E){var _={lane:E,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null};if(rg(f))ig(h,_);else{var D=f.alternate;if(f.lanes===0&&(D===null||D.lanes===0)&&(D=h.lastRenderedReducer,D!==null))try{var H=h.lastRenderedState,J=D(H,y);if(_.hasEagerState=!0,_.eagerState=J,oi(J,H))return Jd(f,h,_,0),Or===null&&Js(),!1}catch{}finally{}if(y=Fy(f,h,_,E),y!==null)return da(y,f,E),cb(y,h,E),!0}return!1}function Vh(f,h,y,E){if(E={lane:2,revertLane:Ka(),gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},rg(f)){if(h)throw Error(r(479))}else h=Fy(f,y,E,2),h!==null&&da(h,f,2)}function rg(f){var h=f.alternate;return f===fn||h!==null&&h===fn}function ig(f,h){Lh=Xm=!0;var y=f.pending;y===null?h.next=h:(h.next=y.next,y.next=h),f.pending=h}function cb(f,h,y){if((y&4194048)!==0){var E=h.lanes;E&=f.pendingLanes,y|=E,h.lanes=y,Xe(f,y)}}var Vu={readContext:go,use:Hh,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr};Vu.useEffectEvent=Gr;var c2={readContext:go,use:Hh,useCallback:function(f,h){return Oo().memoizedState=[f,h===void 0?null:h],f},useContext:go,useEffect:lw,useImperativeHandle:function(f,h,y){y=y!=null?y.concat([f]):null,al(4194308,4,uw.bind(null,h,f),y)},useLayoutEffect:function(f,h){return al(4194308,4,f,h)},useInsertionEffect:function(f,h){al(4,2,f,h)},useMemo:function(f,h){var y=Oo();h=h===void 0?null:h;var E=f();if(lf){xr(!0);try{f()}finally{xr(!1)}}return y.memoizedState=[E,h],E},useReducer:function(f,h,y){var E=Oo();if(y!==void 0){var _=y(h);if(lf){xr(!0);try{y(h)}finally{xr(!1)}}}else _=h;return E.memoizedState=E.baseState=_,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:_},E.queue=f,f=f.dispatch=A3.bind(null,fn,f),[E.memoizedState,f]},useRef:function(f){var h=Oo();return f={current:f},h.memoizedState=f},useState:function(f){f=Uh(f);var h=f.queue,y=gw.bind(null,fn,h);return h.dispatch=y,[f.memoizedState,y]},useDebugValue:sb,useDeferredValue:function(f,h){var y=Oo();return Ts(y,f,h)},useTransition:function(){var f=Uh(!1);return f=l2.bind(null,fn,f.queue,!0,!1),Oo().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,h,y){var E=fn,_=Oo();if(Fn){if(y===void 0)throw Error(r(407));y=y()}else{if(y=h(),Or===null)throw Error(r(349));(In&127)!==0||nw(E,h,y)}_.memoizedState=y;var D={value:y,getSnapshot:h};return _.queue=D,lw(e2.bind(null,E,D,f),[f]),E.flags|=2048,qa(9,{destroy:void 0},Jk.bind(null,E,D,y,h),null),y},useId:function(){var f=Oo(),h=Or.identifierPrefix;if(Fn){var y=bs,E=Ul;y=(E&~(1<<32-un(E)-1)).toString(32)+y,h="_"+h+"R_"+y,y=Jy++,0<y&&(h+="H"+y.toString(32)),h+="_"}else y=T3++,h="_"+h+"r_"+y.toString(32)+"_";return f.memoizedState=h},useHostTransitionStatus:pw,useFormState:ow,useActionState:ow,useOptimistic:function(f){var h=Oo();h.memoizedState=h.baseState=f;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=y,h=Vh.bind(null,fn,!0,y),y.dispatch=h,[f,h]},useMemoCache:Jx,useCacheRefresh:function(){return Oo().memoizedState=ng.bind(null,fn)},useEffectEvent:function(f){var h=Oo(),y={impl:f};return h.memoizedState=y,function(){if((sr&2)!==0)throw Error(r(440));return y.impl.apply(void 0,arguments)}}},ub={readContext:go,use:Hh,useCallback:dw,useContext:go,useEffect:tg,useImperativeHandle:a2,useInsertionEffect:o2,useLayoutEffect:cw,useMemo:Vo,useReducer:hn,useRef:r2,useState:function(){return hn(ol)},useDebugValue:sb,useDeferredValue:function(f,h){var y=Si();return s2(y,Er.memoizedState,f,h)},useTransition:function(){var f=hn(ol)[0],h=Si().memoizedState;return[typeof f=="boolean"?f:$h(f),h]},useSyncExternalStore:Fh,useId:mw,useHostTransitionStatus:pw,useFormState:ob,useActionState:ob,useOptimistic:function(f,h){var y=Si();return ib(y,Er,f,h)},useMemoCache:Jx,useCacheRefresh:cf};ub.useEffectEvent=i2;var og={readContext:go,use:Hh,useCallback:dw,useContext:go,useEffect:tg,useImperativeHandle:a2,useInsertionEffect:o2,useLayoutEffect:cw,useMemo:Vo,useReducer:tw,useRef:r2,useState:function(){return tw(ol)},useDebugValue:sb,useDeferredValue:function(f,h){var y=Si();return Er===null?Ts(y,f,h):s2(y,Er.memoizedState,f,h)},useTransition:function(){var f=tw(ol)[0],h=Si().memoizedState;return[typeof f=="boolean"?f:$h(f),h]},useSyncExternalStore:Fh,useId:mw,useHostTransitionStatus:pw,useFormState:ab,useActionState:ab,useOptimistic:function(f,h){var y=Si();return Er!==null?ib(y,Er,f,h):(y.baseState=f,[f,y.queue.dispatch])},useMemoCache:Jx,useCacheRefresh:cf};og.useEffectEvent=i2;function db(f,h,y,E){h=f.memoizedState,y=y(E,h),y=y==null?h:u({},h,y),f.memoizedState=y,f.lanes===0&&(f.updateQueue.baseState=y)}var ag={enqueueSetState:function(f,h,y){f=f._reactInternals;var E=Ga(),_=Hu(E);_.payload=h,y!=null&&(_.callback=y),h=rl(f,_,E),h!==null&&(da(h,f,E),Ym(h,f,E))},enqueueReplaceState:function(f,h,y){f=f._reactInternals;var E=Ga(),_=Hu(E);_.tag=1,_.payload=h,y!=null&&(_.callback=y),h=rl(f,_,E),h!==null&&(da(h,f,E),Ym(h,f,E))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var y=Ga(),E=Hu(y);E.tag=2,h!=null&&(E.callback=h),h=rl(f,E,y),h!==null&&(da(h,f,y),Ym(h,f,y))}};function u2(f,h,y,E,_,D,H){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,D,H):h.prototype&&h.prototype.isPureReactComponent?!vh(y,E)||!vh(_,D):!0}function yw(f,h,y,E){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,E),h.state!==f&&ag.enqueueReplaceState(h,h.state,null)}function qo(f,h){var y=h;if("ref"in h){y={};for(var E in h)E!=="ref"&&(y[E]=h[E])}if(f=f.defaultProps){y===h&&(y=u({},y));for(var _ in f)y[_]===void 0&&(y[_]=f[_])}return y}function bw(f){Hy(f)}function vw(f){console.error(f)}function d2(f){Hy(f)}function sg(f,h){try{var y=f.onUncaughtError;y(h.value,{componentStack:h.stack})}catch(E){setTimeout(function(){throw E})}}function f2(f,h,y){try{var E=f.onCaughtError;E(y.value,{componentStack:y.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function xw(f,h,y){return y=Hu(y),y.tag=3,y.payload={element:null},y.callback=function(){sg(f,h)},y}function Wl(f){return f=Hu(f),f.tag=3,f}function fb(f,h,y,E){var _=y.type.getDerivedStateFromError;if(typeof _=="function"){var D=E.value;f.payload=function(){return _(D)},f.callback=function(){f2(h,y,E)}}var H=y.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(f.callback=function(){f2(h,y,E),typeof _!="function"&&(Ku===null?Ku=new Set([this]):Ku.add(this));var J=E.stack;this.componentDidCatch(E.value,{componentStack:J!==null?J:""})})}function ww(f,h,y,E,_){if(y.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(h=y.alternate,h!==null&&Oh(h,y,_,!0),y=Ua.current,y!==null){switch(y.tag){case 31:case 13:return Ss===null?kb():y.alternate===null&&si===0&&(si=3),y.flags&=-257,y.flags|=65536,y.lanes=_,E===Yy?y.flags|=16384:(h=y.updateQueue,h===null?y.updateQueue=new Set([E]):h.add(E),Xw(f,E,_)),!1;case 22:return y.flags|=65536,E===Yy?y.flags|=16384:(h=y.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([E])},y.updateQueue=h):(y=h.retryQueue,y===null?h.retryQueue=new Set([E]):y.add(E)),Xw(f,E,_)),!1}throw Error(r(435,y.tag))}return Xw(f,E,_),kb(),!1}if(Fn)return h=Ua.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=_,E!==Vx&&(f=Error(r(422),{cause:E}),ju($a(f,y)))):(E!==Vx&&(h=Error(r(423),{cause:E}),ju($a(h,y))),f=f.current.alternate,f.flags|=65536,_&=-_,f.lanes|=_,E=$a(E,y),_=xw(f.stateNode,E,_),Xy(f,_),si!==4&&(si=2)),!1;var D=Error(r(520),{cause:E});if(D=$a(D,y),wg===null?wg=[D]:wg.push(D),si!==4&&(si=2),h===null)return!0;E=$a(E,y),y=h;do{switch(y.tag){case 3:return y.flags|=65536,f=_&-_,y.lanes|=f,f=xw(y.stateNode,E,f),Xy(y,f),!1;case 1:if(h=y.type,D=y.stateNode,(y.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Ku===null||!Ku.has(D))))return y.flags|=65536,_&=-_,y.lanes|=_,_=Wl(_),fb(_,f,y,E),Xy(y,_),!1}y=y.return}while(y!==null);return!1}var lg=Error(r(461)),ai=!1;function pi(f,h,y,E){h.child=f===null?Kx(h,null,y,E):$u(h,f.child,y,E)}function Wt(f,h,y,E,_){y=y.render;var D=h.ref;if("ref"in E){var H={};for(var J in E)J!=="ref"&&(H[J]=E[J])}else H=E;return rf(h),E=tb(f,h,y,H,D,_),J=nb(),f!==null&&!ai?(rb(f,h,_),Yl(f,h,_)):(Fn&&J&&Ru(h),h.flags|=1,pi(f,h,E,_),h.child)}function cg(f,h,y,E,_){if(f===null){var D=y.type;return typeof D=="function"&&!Dc(D)&&D.defaultProps===void 0&&y.compare===null?(h.tag=15,h.type=D,hb(f,h,D,E,_)):(f=Uy(y.type,null,E,h,h.mode,_),f.ref=h.ref,f.return=h,h.child=f)}if(D=f.child,!bb(f,_)){var H=D.memoizedProps;if(y=y.compare,y=y!==null?y:vh,y(H,E)&&f.ref===h.ref)return Yl(f,h,_)}return h.flags|=1,f=ms(D,E),f.ref=h.ref,f.return=h,h.child=f}function hb(f,h,y,E,_){if(f!==null){var D=f.memoizedProps;if(vh(D,E)&&f.ref===h.ref)if(ai=!1,h.pendingProps=E=D,bb(f,_))(f.flags&131072)!==0&&(ai=!0);else return h.lanes=f.lanes,Yl(f,h,_)}return gb(f,h,y,E,_)}function qu(f,h,y,E){var _=E.children,D=f!==null?f.memoizedState:null;if(f===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),E.mode==="hidden"){if((h.flags&128)!==0){if(D=D!==null?D.baseLanes|y:y,f!==null){for(E=h.child=f.child,_=0;E!==null;)_=_|E.lanes|E.childLanes,E=E.sibling;E=_&~D}else E=0,h.child=null;return pb(f,h,D,y,E)}if((y&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},f!==null&&qy(h,D!==null?D.cachePool:null),D!==null?Xx(h,D):yo(),Qk(h);else return E=h.lanes=536870912,pb(f,h,D!==null?D.baseLanes|y:y,y,E)}else D!==null?(qy(h,D.cachePool),Xx(h,D),Cs(),h.memoizedState=null):(f!==null&&qy(h,null),yo(),Cs());return pi(f,h,_,y),h.child}function ug(f,h){return f!==null&&f.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function pb(f,h,y,E,_){var D=Yx();return D=D===null?null:{parent:Di._currentValue,pool:D},h.memoizedState={baseLanes:y,cachePool:D},f!==null&&qy(h,null),yo(),Qk(h),f!==null&&Oh(f,h,E,!0),h.childLanes=_,null}function dg(f,h){return h=yb({mode:h.mode,children:h.children},f.mode),h.ref=f.ref,f.child=h,h.return=f,h}function bo(f,h,y){return $u(h,f.child,null,y),f=dg(h,h.pendingProps),f.flags|=2,oa(h),h.memoizedState=null,f}function O3(f,h,y){var E=h.pendingProps,_=(h.flags&128)!==0;if(h.flags&=-129,f===null){if(Fn){if(E.mode==="hidden")return f=dg(h,E),h.lanes=536870912,ug(null,f);if(Km(h),(f=fr)?(f=n_(f,vs),f=f!==null&&f.data==="&"?f:null,f!==null&&(h.memoizedState={dehydrated:f,treeContext:Rc!==null?{id:Ul,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},y=Fm(f),y.return=h,h.child=y,Mi=h,fr=null)):f=null,f===null)throw Pu(h);return h.lanes=536870912,null}return dg(h,E)}var D=f.memoizedState;if(D!==null){var H=D.dehydrated;if(Km(h),_)if(h.flags&256)h.flags&=-257,h=bo(f,h,y);else if(h.memoizedState!==null)h.child=f.child,h.flags|=128,h=null;else throw Error(r(558));else if(ai||Oh(f,h,y,!1),_=(y&f.childLanes)!==0,ai||_){if(E=Or,E!==null&&(H=nt(E,y),H!==0&&H!==D.retryLane))throw D.retryLane=H,Fl(f,H),da(E,f,H),lg;kb(),h=bo(f,h,y)}else f=D.treeContext,fr=ks(H.nextSibling),Mi=h,Fn=!0,Iu=null,vs=!1,f!==null&&_h(h,f),h=dg(h,E),h.flags|=4096;return h}return f=ms(f.child,{mode:E.mode,children:E.children}),f.ref=h.ref,h.child=f,f.return=h,f}function mb(f,h){var y=h.ref;if(y===null)f!==null&&f.ref!==null&&(h.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(f===null||f.ref!==y)&&(h.flags|=4194816)}}function gb(f,h,y,E,_){return rf(h),y=tb(f,h,y,E,void 0,_),E=nb(),f!==null&&!ai?(rb(f,h,_),Yl(f,h,_)):(Fn&&E&&Ru(h),h.flags|=1,pi(f,h,y,_),h.child)}function h2(f,h,y,E,_,D){return rf(h),h.updateQueue=null,y=Zm(h,E,y,_),Zx(f),E=nb(),f!==null&&!ai?(rb(f,h,D),Yl(f,h,D)):(Fn&&E&&Ru(h),h.flags|=1,pi(f,h,y,D),h.child)}function Ew(f,h,y,E,_){if(rf(h),h.stateNode===null){var D=Mc,H=y.contextType;typeof H=="object"&&H!==null&&(D=go(H)),D=new y(E,D),h.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=ag,h.stateNode=D,D._reactInternals=h,D=h.stateNode,D.props=E,D.state=h.memoizedState,D.refs={},Vl(h),H=y.contextType,D.context=typeof H=="object"&&H!==null?go(H):Mc,D.state=h.memoizedState,H=y.getDerivedStateFromProps,typeof H=="function"&&(db(h,y,H,E),D.state=h.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(H=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),H!==D.state&&ag.enqueueReplaceState(D,D.state,null),Ph(h,E,D,_),sf(),D.state=h.memoizedState),typeof D.componentDidMount=="function"&&(h.flags|=4194308),E=!0}else if(f===null){D=h.stateNode;var J=h.memoizedProps,de=qo(y,J);D.props=de;var Ne=D.context,ze=y.contextType;H=Mc,typeof ze=="object"&&ze!==null&&(H=go(ze));var We=y.getDerivedStateFromProps;ze=typeof We=="function"||typeof D.getSnapshotBeforeUpdate=="function",J=h.pendingProps!==J,ze||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(J||Ne!==H)&&yw(h,D,E,H),Es=!1;var Me=h.memoizedState;D.state=Me,Ph(h,E,D,_),sf(),Ne=h.memoizedState,J||Me!==Ne||Es?(typeof We=="function"&&(db(h,y,We,E),Ne=h.memoizedState),(de=Es||u2(h,y,de,E,Me,Ne,H))?(ze||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(h.flags|=4194308)):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=Ne),D.props=E,D.state=Ne,D.context=H,E=de):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{D=h.stateNode,Ky(f,h),H=h.memoizedProps,ze=qo(y,H),D.props=ze,We=h.pendingProps,Me=D.context,Ne=y.contextType,de=Mc,typeof Ne=="object"&&Ne!==null&&(de=go(Ne)),J=y.getDerivedStateFromProps,(Ne=typeof J=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(H!==We||Me!==de)&&yw(h,D,E,de),Es=!1,Me=h.memoizedState,D.state=Me,Ph(h,E,D,_),sf();var Le=h.memoizedState;H!==We||Me!==Le||Es||f!==null&&f.dependencies!==null&&Vy(f.dependencies)?(typeof J=="function"&&(db(h,y,J,E),Le=h.memoizedState),(ze=Es||u2(h,y,ze,E,Me,Le,de)||f!==null&&f.dependencies!==null&&Vy(f.dependencies))?(Ne||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(E,Le,de),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(E,Le,de)),typeof D.componentDidUpdate=="function"&&(h.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof D.componentDidUpdate!="function"||H===f.memoizedProps&&Me===f.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===f.memoizedProps&&Me===f.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=Le),D.props=E,D.state=Le,D.context=de,E=ze):(typeof D.componentDidUpdate!="function"||H===f.memoizedProps&&Me===f.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===f.memoizedProps&&Me===f.memoizedState||(h.flags|=1024),E=!1)}return D=E,mb(f,h),E=(h.flags&128)!==0,D||E?(D=h.stateNode,y=E&&typeof y.getDerivedStateFromError!="function"?null:D.render(),h.flags|=1,f!==null&&E?(h.child=$u(h,f.child,null,_),h.child=$u(h,null,y,_)):pi(f,h,y,_),h.memoizedState=D.state,f=h.child):f=Yl(f,h,_),f}function p2(f,h,y,E){return ee(),h.flags|=256,pi(f,h,y,E),h.child}var Sw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cw(f){return{baseLanes:f,cachePool:Gk()}}function sl(f,h,y){return f=f!==null?f.childLanes&~y:0,h&&(f|=Ya),f}function No(f,h,y){var E=h.pendingProps,_=!1,D=(h.flags&128)!==0,H;if((H=D)||(H=f!==null&&f.memoizedState===null?!1:(Ei.current&2)!==0),H&&(_=!0,h.flags&=-129),H=(h.flags&32)!==0,h.flags&=-33,f===null){if(Fn){if(_?Fu(h):Cs(),(f=fr)?(f=n_(f,vs),f=f!==null&&f.data!=="&"?f:null,f!==null&&(h.memoizedState={dehydrated:f,treeContext:Rc!==null?{id:Ul,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},y=Fm(f),y.return=h,h.child=y,Mi=h,fr=null)):f=null,f===null)throw Pu(h);return ep(f)?h.lanes=32:h.lanes=536870912,null}var J=E.children;return E=E.fallback,_?(Cs(),_=h.mode,J=yb({mode:"hidden",children:J},_),E=ef(E,_,y,null),J.return=h,E.return=h,J.sibling=E,h.child=J,E=h.child,E.memoizedState=Cw(y),E.childLanes=sl(f,H,y),h.memoizedState=Sw,ug(null,E)):(Fu(h),fg(h,J))}var de=f.memoizedState;if(de!==null&&(J=de.dehydrated,J!==null)){if(D)h.flags&256?(Fu(h),h.flags&=-257,h=hg(f,h,y)):h.memoizedState!==null?(Cs(),h.child=f.child,h.flags|=128,h=null):(Cs(),J=E.fallback,_=h.mode,E=yb({mode:"visible",children:E.children},_),J=ef(J,_,y,null),J.flags|=2,E.return=h,J.return=h,E.sibling=J,h.child=E,$u(h,f.child,null,y),E=h.child,E.memoizedState=Cw(y),E.childLanes=sl(f,H,y),h.memoizedState=Sw,h=ug(null,E));else if(Fu(h),ep(J)){if(H=J.nextSibling&&J.nextSibling.dataset,H)var Ne=H.dgst;H=Ne,E=Error(r(419)),E.stack="",E.digest=H,ju({value:E,source:null,stack:null}),h=hg(f,h,y)}else if(ai||Oh(f,h,y,!1),H=(y&f.childLanes)!==0,ai||H){if(H=Or,H!==null&&(E=nt(H,y),E!==0&&E!==de.retryLane))throw de.retryLane=E,Fl(f,E),da(H,f,E),lg;Pb(J)||kb(),h=hg(f,h,y)}else Pb(J)?(h.flags|=192,h.child=f.child,h=null):(f=de.treeContext,fr=ks(J.nextSibling),Mi=h,Fn=!0,Iu=null,vs=!1,f!==null&&_h(h,f),h=fg(h,E.children),h.flags|=4096);return h}return _?(Cs(),J=E.fallback,_=h.mode,de=f.child,Ne=de.sibling,E=ms(de,{mode:"hidden",children:E.children}),E.subtreeFlags=de.subtreeFlags&65011712,Ne!==null?J=ms(Ne,J):(J=ef(J,_,y,null),J.flags|=2),J.return=h,E.return=h,E.sibling=J,h.child=E,ug(null,E),E=h.child,J=f.child.memoizedState,J===null?J=Cw(y):(_=J.cachePool,_!==null?(de=Di._currentValue,_=_.parent!==de?{parent:de,pool:de}:_):_=Gk(),J={baseLanes:J.baseLanes|y,cachePool:_}),E.memoizedState=J,E.childLanes=sl(f,H,y),h.memoizedState=Sw,ug(f.child,E)):(Fu(h),y=f.child,f=y.sibling,y=ms(y,{mode:"visible",children:E.children}),y.return=h,y.sibling=null,f!==null&&(H=h.deletions,H===null?(h.deletions=[f],h.flags|=16):H.push(f)),h.child=y,h.memoizedState=null,y)}function fg(f,h){return h=yb({mode:"visible",children:h},f.mode),h.return=f,f.child=h}function yb(f,h){return f=mo(22,f,null,h),f.lanes=0,f}function hg(f,h,y){return $u(h,f.child,null,y),f=fg(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function m2(f,h,y){f.lanes|=h;var E=f.alternate;E!==null&&(E.lanes|=h),Lc(f.return,h,y)}function Tw(f,h,y,E,_,D){var H=f.memoizedState;H===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:y,tailMode:_,treeForkCount:D}:(H.isBackwards=h,H.rendering=null,H.renderingStartTime=0,H.last=E,H.tail=y,H.tailMode=_,H.treeForkCount=D)}function qh(f,h,y){var E=h.pendingProps,_=E.revealOrder,D=E.tail;E=E.children;var H=Ei.current,J=(H&2)!==0;if(J?(H=H&1|2,h.flags|=128):H&=1,U(Ei,H),pi(f,h,E,y),E=Fn?Ni:0,!J&&f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&m2(f,y,h);else if(f.tag===19)m2(f,y,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(_){case"forwards":for(y=h.child,_=null;y!==null;)f=y.alternate,f!==null&&Qy(f)===null&&(_=y),y=y.sibling;y=_,y===null?(_=h.child,h.child=null):(_=y.sibling,y.sibling=null),Tw(h,!1,_,y,D,E);break;case"backwards":case"unstable_legacy-backwards":for(y=null,_=h.child,h.child=null;_!==null;){if(f=_.alternate,f!==null&&Qy(f)===null){h.child=_;break}f=_.sibling,_.sibling=y,y=_,_=f}Tw(h,!0,y,null,D,E);break;case"together":Tw(h,!1,null,null,void 0,E);break;default:h.memoizedState=null}return h.child}function Yl(f,h,y){if(f!==null&&(h.dependencies=f.dependencies),Gu|=h.lanes,(y&h.childLanes)===0)if(f!==null){if(Oh(f,h,y,!1),(y&h.childLanes)===0)return null}else return null;if(f!==null&&h.child!==f.child)throw Error(r(153));if(h.child!==null){for(f=h.child,y=ms(f,f.pendingProps),h.child=y,y.return=h;f.sibling!==null;)f=f.sibling,y=y.sibling=ms(f,f.pendingProps),y.return=h;y.sibling=null}return h.child}function bb(f,h){return(f.lanes&h)!==0?!0:(f=f.dependencies,!!(f!==null&&Vy(f)))}function N3(f,h,y){switch(h.tag){case 3:ve(h,h.stateNode.containerInfo),Bu(h,Di,f.memoizedState.cache),ee();break;case 27:case 5:je(h);break;case 4:ve(h,h.stateNode.containerInfo);break;case 10:Bu(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Km(h),null;break;case 13:var E=h.memoizedState;if(E!==null)return E.dehydrated!==null?(Fu(h),h.flags|=128,null):(y&h.child.childLanes)!==0?No(f,h,y):(Fu(h),f=Yl(f,h,y),f!==null?f.sibling:null);Fu(h);break;case 19:var _=(f.flags&128)!==0;if(E=(y&h.childLanes)!==0,E||(Oh(f,h,y,!1),E=(y&h.childLanes)!==0),_){if(E)return qh(f,h,y);h.flags|=128}if(_=h.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),U(Ei,Ei.current),E)break;return null;case 22:return h.lanes=0,qu(f,h,y,h.pendingProps);case 24:Bu(h,Di,f.memoizedState.cache)}return Yl(f,h,y)}function g2(f,h,y){if(f!==null)if(f.memoizedProps!==h.pendingProps)ai=!0;else{if(!bb(f,y)&&(h.flags&128)===0)return ai=!1,N3(f,h,y);ai=(f.flags&131072)!==0}else ai=!1,Fn&&(h.flags&1048576)!==0&&zy(h,Ni,h.index);switch(h.lanes=0,h.tag){case 16:e:{var E=h.pendingProps;if(f=tl(h.elementType),h.type=f,typeof f=="function")Dc(f)?(E=qo(f,E),h.tag=1,h=Ew(null,h,f,E,y)):(h.tag=0,h=gb(null,h,f,E,y));else{if(f!=null){var _=f.$$typeof;if(_===I){h.tag=11,h=Wt(null,h,f,E,y);break e}else if(_===R){h.tag=14,h=cg(null,h,f,E,y);break e}}throw h=G(f)||f,Error(r(306,h,""))}}return h;case 0:return gb(f,h,h.type,h.pendingProps,y);case 1:return E=h.type,_=qo(E,h.pendingProps),Ew(f,h,E,_,y);case 3:e:{if(ve(h,h.stateNode.containerInfo),f===null)throw Error(r(387));E=h.pendingProps;var D=h.memoizedState;_=D.element,Ky(f,h),Ph(h,E,null,y);var H=h.memoizedState;if(E=H.cache,Bu(h,Di,E),E!==D.cache&&qx(h,[Di],y,!0),sf(),E=H.element,D.isDehydrated)if(D={element:E,isDehydrated:!1,cache:H.cache},h.updateQueue.baseState=D,h.memoizedState=D,h.flags&256){h=p2(f,h,E,y);break e}else if(E!==_){_=$a(Error(r(424)),h),ju(_),h=p2(f,h,E,y);break e}else{switch(f=h.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(fr=ks(f.firstChild),Mi=h,Fn=!0,Iu=null,vs=!0,y=Kx(h,null,E,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(ee(),E===_){h=Yl(f,h,y);break e}pi(f,h,E,y)}h=h.child}return h;case 26:return mb(f,h),f===null?(y=l_(h.type,null,h.pendingProps,null))?h.memoizedState=y:Fn||(y=h.type,f=h.pendingProps,E=Rg(ke.current).createElement(y),E[ft]=h,E[pt]=f,vo(E,y,f),qr(E),h.stateNode=E):h.memoizedState=l_(h.type,f.memoizedProps,h.pendingProps,f.memoizedState),null;case 27:return je(h),f===null&&Fn&&(E=h.stateNode=o_(h.type,h.pendingProps,ke.current),Mi=h,vs=!0,_=fr,Jt(h.type)?(lE=_,fr=ks(E.firstChild)):fr=_),pi(f,h,h.pendingProps.children,y),mb(f,h),f===null&&(h.flags|=4194304),h.child;case 5:return f===null&&Fn&&((_=E=fr)&&(E=W3(E,h.type,h.pendingProps,vs),E!==null?(h.stateNode=E,Mi=h,fr=ks(E.firstChild),vs=!1,_=!0):_=!1),_||Pu(h)),je(h),_=h.type,D=h.pendingProps,H=f!==null?f.memoizedProps:null,E=D.children,Ju(_,D)?E=null:H!==null&&Ju(_,H)&&(h.flags|=32),h.memoizedState!==null&&(_=tb(f,h,k3,null,null,y),ap._currentValue=_),mb(f,h),pi(f,h,E,y),h.child;case 6:return f===null&&Fn&&((f=y=fr)&&(y=hr(y,h.pendingProps,vs),y!==null?(h.stateNode=y,Mi=h,fr=null,f=!0):f=!1),f||Pu(h)),null;case 13:return No(f,h,y);case 4:return ve(h,h.stateNode.containerInfo),E=h.pendingProps,f===null?h.child=$u(h,null,E,y):pi(f,h,E,y),h.child;case 11:return Wt(f,h,h.type,h.pendingProps,y);case 7:return pi(f,h,h.pendingProps,y),h.child;case 8:return pi(f,h,h.pendingProps.children,y),h.child;case 12:return pi(f,h,h.pendingProps.children,y),h.child;case 10:return E=h.pendingProps,Bu(h,h.type,E.value),pi(f,h,E.children,y),h.child;case 9:return _=h.type._context,E=h.pendingProps.children,rf(h),_=go(_),E=E(_),h.flags|=1,pi(f,h,E,y),h.child;case 14:return cg(f,h,h.type,h.pendingProps,y);case 15:return hb(f,h,h.type,h.pendingProps,y);case 19:return qh(f,h,y);case 31:return O3(f,h,y);case 22:return qu(f,h,y,h.pendingProps);case 24:return rf(h),E=go(Di),f===null?(_=Yx(),_===null&&(_=Or,D=el(),_.pooledCache=D,D.refCount++,D!==null&&(_.pooledCacheLanes|=y),_=D),h.memoizedState={parent:E,cache:_},Vl(h),Bu(h,Di,_)):((f.lanes&y)!==0&&(Ky(f,h),Ph(h,null,null,y),sf()),_=f.memoizedState,D=h.memoizedState,_.parent!==E?(_={parent:E,cache:E},h.memoizedState=_,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=_),Bu(h,Di,E)):(E=D.cache,Bu(h,Di,E),E!==_.cache&&qx(h,[Di],y,!0))),pi(f,h,h.pendingProps.children,y),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function $c(f){f.flags|=4}function kw(f,h,y,E,_){if((h=(f.mode&32)!==0)&&(h=!1),h){if(f.flags|=16777216,(_&335544128)===_)if(f.stateNode.complete)f.flags|=8192;else if(Cg())f.flags|=8192;else throw zl=Yy,Wy}else f.flags&=-16777217}function _w(f,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!h_(h))if(Cg())f.flags|=8192;else throw zl=Yy,Wy}function pg(f,h){h!==null&&(f.flags|=4),f.flags&16384&&(h=f.tag!==22?Hn():536870912,f.lanes|=h,Kh|=h)}function mg(f,h){if(!Fn)switch(f.tailMode){case"hidden":h=f.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?f.tail=null:y.sibling=null;break;case"collapsed":y=f.tail;for(var E=null;y!==null;)y.alternate!==null&&(E=y),y=y.sibling;E===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function Ar(f){var h=f.alternate!==null&&f.alternate.child===f.child,y=0,E=0;if(h)for(var _=f.child;_!==null;)y|=_.lanes|_.childLanes,E|=_.subtreeFlags&65011712,E|=_.flags&65011712,_.return=f,_=_.sibling;else for(_=f.child;_!==null;)y|=_.lanes|_.childLanes,E|=_.subtreeFlags,E|=_.flags,_.return=f,_=_.sibling;return f.subtreeFlags|=E,f.childLanes=y,h}function y2(f,h,y){var E=h.pendingProps;switch(tf(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(h),null;case 1:return Ar(h),null;case 3:return y=h.stateNode,E=null,f!==null&&(E=f.memoizedState.cache),h.memoizedState.cache!==E&&(h.flags|=2048),Pc(Di),we(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(f===null||f.child===null)&&(nf(h)?$c(h):f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Lu())),Ar(h),null;case 26:var _=h.type,D=h.memoizedState;return f===null?($c(h),D!==null?(Ar(h),_w(h,D)):(Ar(h),kw(h,_,null,E,y))):D?D!==f.memoizedState?($c(h),Ar(h),_w(h,D)):(Ar(h),h.flags&=-16777217):(f=f.memoizedProps,f!==E&&$c(h),Ar(h),kw(h,_,f,E,y)),null;case 27:if(Ke(h),y=ke.current,_=h.type,f!==null&&h.stateNode!=null)f.memoizedProps!==E&&$c(h);else{if(!E){if(h.stateNode===null)throw Error(r(166));return Ar(h),null}f=fe.current,nf(h)?zm(h):(f=o_(_,E,y),h.stateNode=f,$c(h))}return Ar(h),null;case 5:if(Ke(h),_=h.type,f!==null&&h.stateNode!=null)f.memoizedProps!==E&&$c(h);else{if(!E){if(h.stateNode===null)throw Error(r(166));return Ar(h),null}if(D=fe.current,nf(h))zm(h);else{var H=Rg(ke.current);switch(D){case 1:D=H.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:D=H.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":D=H.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":D=H.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":D=H.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof E.is=="string"?H.createElement("select",{is:E.is}):H.createElement("select"),E.multiple?D.multiple=!0:E.size&&(D.size=E.size);break;default:D=typeof E.is=="string"?H.createElement(_,{is:E.is}):H.createElement(_)}}D[ft]=h,D[pt]=E;e:for(H=h.child;H!==null;){if(H.tag===5||H.tag===6)D.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===h)break e;for(;H.sibling===null;){if(H.return===null||H.return===h)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}h.stateNode=D;e:switch(vo(D,_,E),_){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}E&&$c(h)}}return Ar(h),kw(h,h.type,f===null?null:f.memoizedProps,h.pendingProps,y),null;case 6:if(f&&h.stateNode!=null)f.memoizedProps!==E&&$c(h);else{if(typeof E!="string"&&h.stateNode===null)throw Error(r(166));if(f=ke.current,nf(h)){if(f=h.stateNode,y=h.memoizedProps,E=null,_=Mi,_!==null)switch(_.tag){case 27:case 5:E=_.memoizedProps}f[ft]=h,f=!!(f.nodeValue===y||E!==null&&E.suppressHydrationWarning===!0||Q2(f.nodeValue,y)),f||Pu(h,!0)}else f=Rg(f).createTextNode(E),f[ft]=h,h.stateNode=f}return Ar(h),null;case 31:if(y=h.memoizedState,f===null||f.memoizedState!==null){if(E=nf(h),y!==null){if(f===null){if(!E)throw Error(r(318));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(557));f[ft]=h}else ee(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ar(h),f=!1}else y=Lu(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=y),f=!0;if(!f)return h.flags&256?(oa(h),h):(oa(h),null);if((h.flags&128)!==0)throw Error(r(558))}return Ar(h),null;case 13:if(E=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(_=nf(h),E!==null&&E.dehydrated!==null){if(f===null){if(!_)throw Error(r(318));if(_=h.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[ft]=h}else ee(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ar(h),_=!1}else _=Lu(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=_),_=!0;if(!_)return h.flags&256?(oa(h),h):(oa(h),null)}return oa(h),(h.flags&128)!==0?(h.lanes=y,h):(y=E!==null,f=f!==null&&f.memoizedState!==null,y&&(E=h.child,_=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(_=E.alternate.memoizedState.cachePool.pool),D=null,E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(D=E.memoizedState.cachePool.pool),D!==_&&(E.flags|=2048)),y!==f&&y&&(h.child.flags|=8192),pg(h,h.updateQueue),Ar(h),null);case 4:return we(),f===null&&tE(h.stateNode.containerInfo),Ar(h),null;case 10:return Pc(h.type),Ar(h),null;case 19:if(te(Ei),E=h.memoizedState,E===null)return Ar(h),null;if(_=(h.flags&128)!==0,D=E.rendering,D===null)if(_)mg(E,!1);else{if(si!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(D=Qy(f),D!==null){for(h.flags|=128,mg(E,!1),f=D.updateQueue,h.updateQueue=f,pg(h,f),h.subtreeFlags=0,f=y,y=h.child;y!==null;)Vk(y,f),y=y.sibling;return U(Ei,Ei.current&1|2),Fn&&Ha(h,E.treeForkCount),h.child}f=f.sibling}E.tail!==null&&Ze()>ff&&(h.flags|=128,_=!0,mg(E,!1),h.lanes=4194304)}else{if(!_)if(f=Qy(D),f!==null){if(h.flags|=128,_=!0,f=f.updateQueue,h.updateQueue=f,pg(h,f),mg(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!Fn)return Ar(h),null}else 2*Ze()-E.renderingStartTime>ff&&y!==536870912&&(h.flags|=128,_=!0,mg(E,!1),h.lanes=4194304);E.isBackwards?(D.sibling=h.child,h.child=D):(f=E.last,f!==null?f.sibling=D:h.child=D,E.last=D)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=Ze(),f.sibling=null,y=Ei.current,U(Ei,_?y&1|2:y&1),Fn&&Ha(h,E.treeForkCount),f):(Ar(h),null);case 22:case 23:return oa(h),Gm(),E=h.memoizedState!==null,f!==null?f.memoizedState!==null!==E&&(h.flags|=8192):E&&(h.flags|=8192),E?(y&536870912)!==0&&(h.flags&128)===0&&(Ar(h),h.subtreeFlags&6&&(h.flags|=8192)):Ar(h),y=h.updateQueue,y!==null&&pg(h,y.retryQueue),y=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),E=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==y&&(h.flags|=2048),f!==null&&te(af),null;case 24:return y=null,f!==null&&(y=f.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),Pc(Di),Ar(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function gg(f,h){switch(tf(h),h.tag){case 1:return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return Pc(Di),we(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 26:case 27:case 5:return Ke(h),null;case 31:if(h.memoizedState!==null){if(oa(h),h.alternate===null)throw Error(r(340));ee()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 13:if(oa(h),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(r(340));ee()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return te(Ei),null;case 4:return we(),null;case 10:return Pc(h.type),null;case 22:case 23:return oa(h),Gm(),f!==null&&te(af),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 24:return Pc(Di),null;case 25:return null;default:return null}}function vb(f,h){switch(tf(h),h.tag){case 3:Pc(Di),we();break;case 26:case 27:case 5:Ke(h);break;case 4:we();break;case 31:h.memoizedState!==null&&oa(h);break;case 13:oa(h);break;case 19:te(Ei);break;case 10:Pc(h.type);break;case 22:case 23:oa(h),Gm(),f!==null&&te(af);break;case 24:Pc(Di)}}function Wh(f,h){try{var y=h.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var _=E.next;y=_;do{if((y.tag&f)===f){E=void 0;var D=y.create,H=y.inst;E=D(),H.destroy=E}y=y.next}while(y!==_)}}catch(J){br(h,h.return,J)}}function Hc(f,h,y){try{var E=h.updateQueue,_=E!==null?E.lastEffect:null;if(_!==null){var D=_.next;E=D;do{if((E.tag&f)===f){var H=E.inst,J=H.destroy;if(J!==void 0){H.destroy=void 0,_=h;var de=y,Ne=J;try{Ne()}catch(ze){br(_,de,ze)}}}E=E.next}while(E!==D)}}catch(ze){br(h,h.return,ze)}}function yg(f){var h=f.updateQueue;if(h!==null){var y=f.stateNode;try{Zy(h,y)}catch(E){br(f,f.return,E)}}}function Aw(f,h,y){y.props=qo(f.type,f.memoizedProps),y.state=f.memoizedState;try{y.componentWillUnmount()}catch(E){br(f,h,E)}}function sa(f,h){try{var y=f.ref;if(y!==null){switch(f.tag){case 26:case 27:case 5:var E=f.stateNode;break;case 30:E=f.stateNode;break;default:E=f.stateNode}typeof y=="function"?f.refCleanup=y(E):y.current=E}}catch(_){br(f,h,_)}}function Mo(f,h){var y=f.ref,E=f.refCleanup;if(y!==null)if(typeof E=="function")try{E()}catch(_){br(f,h,_)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(_){br(f,h,_)}else y.current=null}function b2(f){var h=f.type,y=f.memoizedProps,E=f.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":y.autoFocus&&E.focus();break e;case"img":y.src?E.src=y.src:y.srcSet&&(E.srcset=y.srcSet)}}catch(_){br(f,f.return,_)}}function xb(f,h,y){try{var E=f.stateNode;z3(E,f.type,y,h),E[pt]=h}catch(_){br(f,f.return,_)}}function v2(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Jt(f.type)||f.tag===4}function Ow(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||v2(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Jt(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Nw(f,h,y){var E=f.tag;if(E===5||E===6)f=f.stateNode,h?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(f,h):(h=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,h.appendChild(f),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=Ac));else if(E!==4&&(E===27&&Jt(f.type)&&(y=f.stateNode,h=null),f=f.child,f!==null))for(Nw(f,h,y),f=f.sibling;f!==null;)Nw(f,h,y),f=f.sibling}function wb(f,h,y){var E=f.tag;if(E===5||E===6)f=f.stateNode,h?y.insertBefore(f,h):y.appendChild(f);else if(E!==4&&(E===27&&Jt(f.type)&&(y=f.stateNode),f=f.child,f!==null))for(wb(f,h,y),f=f.sibling;f!==null;)wb(f,h,y),f=f.sibling}function x2(f){var h=f.stateNode,y=f.memoizedProps;try{for(var E=f.type,_=h.attributes;_.length;)h.removeAttributeNode(_[0]);vo(h,E,y),h[ft]=f,h[pt]=y}catch(D){br(f,f.return,D)}}var Fc=!1,Ri=!1,Mw=!1,w2=typeof WeakSet=="function"?WeakSet:Set,Qi=null;function M3(f,h){if(f=f.containerInfo,Dg=Ub,f=Hk(f),Ux(f)){if("selectionStart"in f)var y={start:f.selectionStart,end:f.selectionEnd};else e:{y=(y=f.ownerDocument)&&y.defaultView||window;var E=y.getSelection&&y.getSelection();if(E&&E.rangeCount!==0){y=E.anchorNode;var _=E.anchorOffset,D=E.focusNode;E=E.focusOffset;try{y.nodeType,D.nodeType}catch{y=null;break e}var H=0,J=-1,de=-1,Ne=0,ze=0,We=f,Me=null;t:for(;;){for(var Le;We!==y||_!==0&&We.nodeType!==3||(J=H+_),We!==D||E!==0&&We.nodeType!==3||(de=H+E),We.nodeType===3&&(H+=We.nodeValue.length),(Le=We.firstChild)!==null;)Me=We,We=Le;for(;;){if(We===f)break t;if(Me===y&&++Ne===_&&(J=H),Me===D&&++ze===E&&(de=H),(Le=We.nextSibling)!==null)break;We=Me,Me=We.parentNode}We=Le}y=J===-1||de===-1?null:{start:J,end:de}}else y=null}y=y||{start:0,end:0}}else y=null;for(oE={focusedElem:f,selectionRange:y},Ub=!1,Qi=h;Qi!==null;)if(h=Qi,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,Qi=f;else for(;Qi!==null;){switch(h=Qi,D=h.alternate,f=h.flags,h.tag){case 0:if((f&4)!==0&&(f=h.updateQueue,f=f!==null?f.events:null,f!==null))for(y=0;y<f.length;y++)_=f[y],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&D!==null){f=void 0,y=h,_=D.memoizedProps,D=D.memoizedState,E=y.stateNode;try{var wt=qo(y.type,_);f=E.getSnapshotBeforeUpdate(wt,D),E.__reactInternalSnapshotBeforeUpdate=f}catch(Yt){br(y,y.return,Yt)}}break;case 3:if((f&1024)!==0){if(f=h.stateNode.containerInfo,y=f.nodeType,y===9)Ib(f);else if(y===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":Ib(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=h.sibling,f!==null){f.return=h.return,Qi=f;break}Qi=h.return}}function Dw(f,h,y){var E=y.flags;switch(y.tag){case 0:case 11:case 15:zc(f,y),E&4&&Wh(5,y);break;case 1:if(zc(f,y),E&4)if(f=y.stateNode,h===null)try{f.componentDidMount()}catch(H){br(y,y.return,H)}else{var _=qo(y.type,h.memoizedProps);h=h.memoizedState;try{f.componentDidUpdate(_,h,f.__reactInternalSnapshotBeforeUpdate)}catch(H){br(y,y.return,H)}}E&64&&yg(y),E&512&&sa(y,y.return);break;case 3:if(zc(f,y),E&64&&(f=y.updateQueue,f!==null)){if(h=null,y.child!==null)switch(y.child.tag){case 27:case 5:h=y.child.stateNode;break;case 1:h=y.child.stateNode}try{Zy(f,h)}catch(H){br(y,y.return,H)}}break;case 27:h===null&&E&4&&x2(y);case 26:case 5:zc(f,y),h===null&&E&4&&b2(y),E&512&&sa(y,y.return);break;case 12:zc(f,y);break;case 31:zc(f,y),E&4&&Iw(f,y);break;case 13:zc(f,y),E&4&&S2(f,y),E&64&&(f=y.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(y=Ob.bind(null,y),Y3(f,y))));break;case 22:if(E=y.memoizedState!==null||Fc,!E){h=h!==null&&h.memoizedState!==null||Ri,_=Fc;var D=Ri;Fc=E,(Ri=h)&&!D?Gl(f,y,(y.subtreeFlags&8772)!==0):zc(f,y),Fc=_,Ri=D}break;case 30:break;default:zc(f,y)}}function Rw(f){var h=f.alternate;h!==null&&(f.alternate=null,Rw(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&Xs(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Lr=null,la=!1;function Uc(f,h,y){for(y=y.child;y!==null;)E2(f,h,y),y=y.sibling}function E2(f,h,y){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(or,y)}catch{}switch(y.tag){case 26:Ri||Mo(y,h),Uc(f,h,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:Ri||Mo(y,h);var E=Lr,_=la;Jt(y.type)&&(Lr=y.stateNode,la=!1),Uc(f,h,y),Pg(y.stateNode),Lr=E,la=_;break;case 5:Ri||Mo(y,h);case 6:if(E=Lr,_=la,Lr=null,Uc(f,h,y),Lr=E,la=_,Lr!==null)if(la)try{(Lr.nodeType===9?Lr.body:Lr.nodeName==="HTML"?Lr.ownerDocument.body:Lr).removeChild(y.stateNode)}catch(D){br(y,h,D)}else try{Lr.removeChild(y.stateNode)}catch(D){br(y,h,D)}break;case 18:Lr!==null&&(la?(f=Lr,sE(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,y.stateNode),lp(f)):sE(Lr,y.stateNode));break;case 4:E=Lr,_=la,Lr=y.stateNode.containerInfo,la=!0,Uc(f,h,y),Lr=E,la=_;break;case 0:case 11:case 14:case 15:Hc(2,y,h),Ri||Hc(4,y,h),Uc(f,h,y);break;case 1:Ri||(Mo(y,h),E=y.stateNode,typeof E.componentWillUnmount=="function"&&Aw(y,h,E)),Uc(f,h,y);break;case 21:Uc(f,h,y);break;case 22:Ri=(E=Ri)||y.memoizedState!==null,Uc(f,h,y),Ri=E;break;default:Uc(f,h,y)}}function Iw(f,h){if(h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{lp(f)}catch(y){br(h,h.return,y)}}}function S2(f,h){if(h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{lp(f)}catch(y){br(h,h.return,y)}}function D3(f){switch(f.tag){case 31:case 13:case 19:var h=f.stateNode;return h===null&&(h=f.stateNode=new w2),h;case 22:return f=f.stateNode,h=f._retryCache,h===null&&(h=f._retryCache=new w2),h;default:throw Error(r(435,f.tag))}}function Eb(f,h){var y=D3(f);h.forEach(function(E){if(!y.has(E)){y.add(E);var _=$3.bind(null,f,E);E.then(_,_)}})}function ca(f,h){var y=h.deletions;if(y!==null)for(var E=0;E<y.length;E++){var _=y[E],D=f,H=h,J=H;e:for(;J!==null;){switch(J.tag){case 27:if(Jt(J.type)){Lr=J.stateNode,la=!1;break e}break;case 5:Lr=J.stateNode,la=!1;break e;case 3:case 4:Lr=J.stateNode.containerInfo,la=!0;break e}J=J.return}if(Lr===null)throw Error(r(160));E2(D,H,_),Lr=null,la=!1,D=_.alternate,D!==null&&(D.return=null),_.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)C2(h,f),h=h.sibling}var ll=null;function C2(f,h){var y=f.alternate,E=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:ca(h,f),jr(f),E&4&&(Hc(3,f,f.return),Wh(3,f),Hc(5,f,f.return));break;case 1:ca(h,f),jr(f),E&512&&(Ri||y===null||Mo(y,y.return)),E&64&&Fc&&(f=f.updateQueue,f!==null&&(E=f.callbacks,E!==null&&(y=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=y===null?E:y.concat(E))));break;case 26:var _=ll;if(ca(h,f),jr(f),E&512&&(Ri||y===null||Mo(y,y.return)),E&4){var D=y!==null?y.memoizedState:null;if(E=f.memoizedState,y===null)if(E===null)if(f.stateNode===null){e:{E=f.type,y=f.memoizedProps,_=_.ownerDocument||_;t:switch(E){case"title":D=_.getElementsByTagName("title")[0],(!D||D[ar]||D[ft]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=_.createElement(E),_.head.insertBefore(D,_.querySelector("head > title"))),vo(D,E,y),D[ft]=f,qr(D),E=D;break e;case"link":var H=d_("link","href",_).get(E+(y.href||""));if(H){for(var J=0;J<H.length;J++)if(D=H[J],D.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&D.getAttribute("rel")===(y.rel==null?null:y.rel)&&D.getAttribute("title")===(y.title==null?null:y.title)&&D.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){H.splice(J,1);break t}}D=_.createElement(E),vo(D,E,y),_.head.appendChild(D);break;case"meta":if(H=d_("meta","content",_).get(E+(y.content||""))){for(J=0;J<H.length;J++)if(D=H[J],D.getAttribute("content")===(y.content==null?null:""+y.content)&&D.getAttribute("name")===(y.name==null?null:y.name)&&D.getAttribute("property")===(y.property==null?null:y.property)&&D.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&D.getAttribute("charset")===(y.charSet==null?null:y.charSet)){H.splice(J,1);break t}}D=_.createElement(E),vo(D,E,y),_.head.appendChild(D);break;default:throw Error(r(468,E))}D[ft]=f,qr(D),E=D}f.stateNode=E}else f_(_,f.type,f.stateNode);else f.stateNode=u_(_,E,f.memoizedProps);else D!==E?(D===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):D.count--,E===null?f_(_,f.type,f.stateNode):u_(_,E,f.memoizedProps)):E===null&&f.stateNode!==null&&xb(f,f.memoizedProps,y.memoizedProps)}break;case 27:ca(h,f),jr(f),E&512&&(Ri||y===null||Mo(y,y.return)),y!==null&&E&4&&xb(f,f.memoizedProps,y.memoizedProps);break;case 5:if(ca(h,f),jr(f),E&512&&(Ri||y===null||Mo(y,y.return)),f.flags&32){_=f.stateNode;try{Zs(_,"")}catch(wt){br(f,f.return,wt)}}E&4&&f.stateNode!=null&&(_=f.memoizedProps,xb(f,_,y!==null?y.memoizedProps:_)),E&1024&&(Mw=!0);break;case 6:if(ca(h,f),jr(f),E&4){if(f.stateNode===null)throw Error(r(162));E=f.memoizedProps,y=f.stateNode;try{y.nodeValue=E}catch(wt){br(f,f.return,wt)}}break;case 3:if(Lg=null,_=ll,ll=Lb(h.containerInfo),ca(h,f),ll=_,jr(f),E&4&&y!==null&&y.memoizedState.isDehydrated)try{lp(h.containerInfo)}catch(wt){br(f,f.return,wt)}Mw&&(Mw=!1,T2(f));break;case 4:E=ll,ll=Lb(f.stateNode.containerInfo),ca(h,f),jr(f),ll=E;break;case 12:ca(h,f),jr(f);break;case 31:ca(h,f),jr(f),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,Eb(f,E)));break;case 13:ca(h,f),jr(f),f.child.flags&8192&&f.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Eg=Ze()),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,Eb(f,E)));break;case 22:_=f.memoizedState!==null;var de=y!==null&&y.memoizedState!==null,Ne=Fc,ze=Ri;if(Fc=Ne||_,Ri=ze||de,ca(h,f),Ri=ze,Fc=Ne,jr(f),E&8192)e:for(h=f.stateNode,h._visibility=_?h._visibility&-2:h._visibility|1,_&&(y===null||de||Fc||Ri||uf(f)),y=null,h=f;;){if(h.tag===5||h.tag===26){if(y===null){de=y=h;try{if(D=de.stateNode,_)H=D.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{J=de.stateNode;var We=de.memoizedProps.style,Me=We!=null&&We.hasOwnProperty("display")?We.display:null;J.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(wt){br(de,de.return,wt)}}}else if(h.tag===6){if(y===null){de=h;try{de.stateNode.nodeValue=_?"":de.memoizedProps}catch(wt){br(de,de.return,wt)}}}else if(h.tag===18){if(y===null){de=h;try{var Le=de.stateNode;_?Za(Le,!0):Za(de.stateNode,!1)}catch(wt){br(de,de.return,wt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===f)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;y===h&&(y=null),h=h.return}y===h&&(y=null),h.sibling.return=h.return,h=h.sibling}E&4&&(E=f.updateQueue,E!==null&&(y=E.retryQueue,y!==null&&(E.retryQueue=null,Eb(f,y))));break;case 19:ca(h,f),jr(f),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,Eb(f,E)));break;case 30:break;case 21:break;default:ca(h,f),jr(f)}}function jr(f){var h=f.flags;if(h&2){try{for(var y,E=f.return;E!==null;){if(v2(E)){y=E;break}E=E.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var _=y.stateNode,D=Ow(f);wb(f,D,_);break;case 5:var H=y.stateNode;y.flags&32&&(Zs(H,""),y.flags&=-33);var J=Ow(f);wb(f,J,H);break;case 3:case 4:var de=y.stateNode.containerInfo,Ne=Ow(f);Nw(f,Ne,de);break;default:throw Error(r(161))}}catch(ze){br(f,f.return,ze)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function T2(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var h=f;T2(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),f=f.sibling}}function zc(f,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Dw(f,h.alternate,h),h=h.sibling}function uf(f){for(f=f.child;f!==null;){var h=f;switch(h.tag){case 0:case 11:case 14:case 15:Hc(4,h,h.return),uf(h);break;case 1:Mo(h,h.return);var y=h.stateNode;typeof y.componentWillUnmount=="function"&&Aw(h,h.return,y),uf(h);break;case 27:Pg(h.stateNode);case 26:case 5:Mo(h,h.return),uf(h);break;case 22:h.memoizedState===null&&uf(h);break;case 30:uf(h);break;default:uf(h)}f=f.sibling}}function Gl(f,h,y){for(y=y&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var E=h.alternate,_=f,D=h,H=D.flags;switch(D.tag){case 0:case 11:case 15:Gl(_,D,y),Wh(4,D);break;case 1:if(Gl(_,D,y),E=D,_=E.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Ne){br(E,E.return,Ne)}if(E=D,_=E.updateQueue,_!==null){var J=E.stateNode;try{var de=_.shared.hiddenCallbacks;if(de!==null)for(_.shared.hiddenCallbacks=null,_=0;_<de.length;_++)il(de[_],J)}catch(Ne){br(E,E.return,Ne)}}y&&H&64&&yg(D),sa(D,D.return);break;case 27:x2(D);case 26:case 5:Gl(_,D,y),y&&E===null&&H&4&&b2(D),sa(D,D.return);break;case 12:Gl(_,D,y);break;case 31:Gl(_,D,y),y&&H&4&&Iw(_,D);break;case 13:Gl(_,D,y),y&&H&4&&S2(_,D);break;case 22:D.memoizedState===null&&Gl(_,D,y),sa(D,D.return);break;case 30:break;default:Gl(_,D,y)}h=h.sibling}}function Pw(f,h){var y=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),f=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(f=h.memoizedState.cachePool.pool),f!==y&&(f!=null&&f.refCount++,y!=null&&Vm(y))}function Lw(f,h){f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&Vm(f))}function cl(f,h,y,E){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)k2(f,h,y,E),h=h.sibling}function k2(f,h,y,E){var _=h.flags;switch(h.tag){case 0:case 11:case 15:cl(f,h,y,E),_&2048&&Wh(9,h);break;case 1:cl(f,h,y,E);break;case 3:cl(f,h,y,E),_&2048&&(f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&Vm(f)));break;case 12:if(_&2048){cl(f,h,y,E),f=h.stateNode;try{var D=h.memoizedProps,H=D.id,J=D.onPostCommit;typeof J=="function"&&J(H,h.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(de){br(h,h.return,de)}}else cl(f,h,y,E);break;case 31:cl(f,h,y,E);break;case 13:cl(f,h,y,E);break;case 23:break;case 22:D=h.stateNode,H=h.alternate,h.memoizedState!==null?D._visibility&2?cl(f,h,y,E):bg(f,h):D._visibility&2?cl(f,h,y,E):(D._visibility|=2,Wu(f,h,y,E,(h.subtreeFlags&10256)!==0||!1)),_&2048&&Pw(H,h);break;case 24:cl(f,h,y,E),_&2048&&Lw(h.alternate,h);break;default:cl(f,h,y,E)}}function Wu(f,h,y,E,_){for(_=_&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var D=f,H=h,J=y,de=E,Ne=H.flags;switch(H.tag){case 0:case 11:case 15:Wu(D,H,J,de,_),Wh(8,H);break;case 23:break;case 22:var ze=H.stateNode;H.memoizedState!==null?ze._visibility&2?Wu(D,H,J,de,_):bg(D,H):(ze._visibility|=2,Wu(D,H,J,de,_)),_&&Ne&2048&&Pw(H.alternate,H);break;case 24:Wu(D,H,J,de,_),_&&Ne&2048&&Lw(H.alternate,H);break;default:Wu(D,H,J,de,_)}h=h.sibling}}function bg(f,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var y=f,E=h,_=E.flags;switch(E.tag){case 22:bg(y,E),_&2048&&Pw(E.alternate,E);break;case 24:bg(y,E),_&2048&&Lw(E.alternate,E);break;default:bg(y,E)}h=h.sibling}}var vg=8192;function Yh(f,h,y){if(f.subtreeFlags&vg)for(f=f.child;f!==null;)_2(f,h,y),f=f.sibling}function _2(f,h,y){switch(f.tag){case 26:Yh(f,h,y),f.flags&vg&&f.memoizedState!==null&&op(y,ll,f.memoizedState,f.memoizedProps);break;case 5:Yh(f,h,y);break;case 3:case 4:var E=ll;ll=Lb(f.stateNode.containerInfo),Yh(f,h,y),ll=E;break;case 22:f.memoizedState===null&&(E=f.alternate,E!==null&&E.memoizedState!==null?(E=vg,vg=16777216,Yh(f,h,y),vg=E):Yh(f,h,y));break;default:Yh(f,h,y)}}function A2(f){var h=f.alternate;if(h!==null&&(f=h.child,f!==null)){h.child=null;do h=f.sibling,f.sibling=null,f=h;while(f!==null)}}function xg(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var E=h[y];Qi=E,N2(E,f)}A2(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)O2(f),f=f.sibling}function O2(f){switch(f.tag){case 0:case 11:case 15:xg(f),f.flags&2048&&Hc(9,f,f.return);break;case 3:xg(f);break;case 12:xg(f);break;case 22:var h=f.stateNode;f.memoizedState!==null&&h._visibility&2&&(f.return===null||f.return.tag!==13)?(h._visibility&=-3,Sb(f)):xg(f);break;default:xg(f)}}function Sb(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var E=h[y];Qi=E,N2(E,f)}A2(f)}for(f=f.child;f!==null;){switch(h=f,h.tag){case 0:case 11:case 15:Hc(8,h,h.return),Sb(h);break;case 22:y=h.stateNode,y._visibility&2&&(y._visibility&=-3,Sb(h));break;default:Sb(h)}f=f.sibling}}function N2(f,h){for(;Qi!==null;){var y=Qi;switch(y.tag){case 0:case 11:case 15:Hc(8,y,h);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var E=y.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Vm(y.memoizedState.cache)}if(E=y.child,E!==null)E.return=y,Qi=E;else e:for(y=f;Qi!==null;){E=Qi;var _=E.sibling,D=E.return;if(Rw(E),E===y){Qi=null;break e}if(_!==null){_.return=D,Qi=_;break e}Qi=D}}}var R3={getCacheForType:function(f){var h=go(Di),y=h.data.get(f);return y===void 0&&(y=f(),h.data.set(f,y)),y},cacheSignal:function(){return go(Di).controller.signal}},I3=typeof WeakMap=="function"?WeakMap:Map,sr=0,Or=null,Nn=null,In=0,yr=0,Wa=null,Yu=!1,Gh=!1,jw=!1,ul=0,si=0,Gu=0,df=0,Bw=0,Ya=0,Kh=0,wg=null,ua=null,$w=!1,Eg=0,M2=0,ff=1/0,Cb=null,Ku=null,Ui=0,Xu=null,Xh=null,Vc=0,Hw=0,Fw=null,D2=null,Sg=0,Uw=null;function Ga(){return(sr&2)!==0&&In!==0?In&-In:V.T!==null?Ka():_t()}function R2(){if(Ya===0)if((In&536870912)===0||Fn){var f=Tt;Tt<<=1,(Tt&3932160)===0&&(Tt=262144),Ya=f}else Ya=536870912;return f=Ua.current,f!==null&&(f.flags|=32),Ya}function da(f,h,y){(f===Or&&(yr===2||yr===9)||f.cancelPendingCommit!==null)&&(Zh(f,0),qc(f,In,Ya,!1)),se(f,y),((sr&2)===0||f!==Or)&&(f===Or&&((sr&2)===0&&(df|=y),si===4&&qc(f,In,Ya,!1)),Kl(f))}function I2(f,h,y){if((sr&6)!==0)throw Error(r(327));var E=!y&&(h&127)===0&&(h&f.expiredLanes)===0||on(f,h),_=E?L3(f,h):Vw(f,h,!0),D=E;do{if(_===0){Gh&&!E&&qc(f,h,0,!1);break}else{if(y=f.current.alternate,D&&!L2(y)){_=Vw(f,h,!1),D=!1;continue}if(_===2){if(D=h,f.errorRecoveryDisabledLanes&D)var H=0;else H=f.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){h=H;e:{var J=f;_=wg;var de=J.current.memoizedState.isDehydrated;if(de&&(Zh(J,H).flags|=256),H=Vw(J,H,!1),H!==2){if(jw&&!de){J.errorRecoveryDisabledLanes|=D,df|=D,_=4;break e}D=ua,ua=_,D!==null&&(ua===null?ua=D:ua.push.apply(ua,D))}_=H}if(D=!1,_!==2)continue}}if(_===1){Zh(f,0),qc(f,h,0,!0);break}e:{switch(E=f,D=_,D){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:qc(E,h,Ya,!Yu);break e;case 2:ua=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(_=Eg+300-Ze(),10<_)){if(qc(E,h,Ya,!Yu),xt(E,0,!0)!==0)break e;Vc=h,E.timeoutHandle=J2(P2.bind(null,E,y,ua,Cb,$w,h,Ya,df,Kh,Yu,D,"Throttled",-0,0),_);break e}P2(E,y,ua,Cb,$w,h,Ya,df,Kh,Yu,D,null,-0,0)}}break}while(!0);Kl(f)}function P2(f,h,y,E,_,D,H,J,de,Ne,ze,We,Me,Le){if(f.timeoutHandle=-1,We=h.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ac},_2(h,D,We);var wt=(D&62914560)===D?Eg-Ze():(D&4194048)===D?M2-Ze():0;if(wt=nI(We,wt),wt!==null){Vc=D,f.cancelPendingCommit=wt(U2.bind(null,f,h,D,y,E,_,H,J,de,ze,We,null,Me,Le)),qc(f,D,H,!Ne);return}}U2(f,h,D,y,E,_,H,J,de)}function L2(f){for(var h=f;;){var y=h.tag;if((y===0||y===11||y===15)&&h.flags&16384&&(y=h.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var E=0;E<y.length;E++){var _=y[E],D=_.getSnapshot;_=_.value;try{if(!oi(D(),_))return!1}catch{return!1}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function qc(f,h,y,E){h&=~Bw,h&=~df,f.suspendedLanes|=h,f.pingedLanes&=~h,E&&(f.warmLanes|=h),E=f.expirationTimes;for(var _=h;0<_;){var D=31-un(_),H=1<<D;E[D]=-1,_&=~H}y!==0&&Re(f,y,h)}function Tb(){return(sr&6)===0?(Ag(0),!1):!0}function zw(){if(Nn!==null){if(yr===0)var f=Nn.return;else f=Nn,Ic=dn=null,Qx(f),Rh=null,Fa=0,f=Nn;for(;f!==null;)vb(f.alternate,f),f=f.return;Nn=null}}function Zh(f,h){var y=f.timeoutHandle;y!==-1&&(f.timeoutHandle=-1,q3(y)),y=f.cancelPendingCommit,y!==null&&(f.cancelPendingCommit=null,y()),Vc=0,zw(),Or=f,Nn=y=ms(f.current,null),In=h,yr=0,Wa=null,Yu=!1,Gh=on(f,h),jw=!1,Kh=Ya=Bw=df=Gu=si=0,ua=wg=null,$w=!1,(h&8)!==0&&(h|=h&32);var E=f.entangledLanes;if(E!==0)for(f=f.entanglements,E&=h;0<E;){var _=31-un(E),D=1<<_;h|=f[_],E&=~D}return ul=h,Js(),y}function j2(f,h){fn=null,V.H=Vu,h===Dh||h===Wm?(h=Xk(),yr=3):h===Wy?(h=Xk(),yr=4):yr=h===lg?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Wa=h,Nn===null&&(si=1,sg(f,$a(h,f.current)))}function Cg(){var f=Ua.current;return f===null?!0:(In&4194048)===In?Ss===null:(In&62914560)===In||(In&536870912)!==0?f===Ss:!1}function B2(){var f=V.H;return V.H=Vu,f===null?Vu:f}function $2(){var f=V.A;return V.A=R3,f}function kb(){si=4,Yu||(In&4194048)!==In&&Ua.current!==null||(Gh=!0),(Gu&134217727)===0&&(df&134217727)===0||Or===null||qc(Or,In,Ya,!1)}function Vw(f,h,y){var E=sr;sr|=2;var _=B2(),D=$2();(Or!==f||In!==h)&&(Cb=null,Zh(f,h)),h=!1;var H=si;e:do try{if(yr!==0&&Nn!==null){var J=Nn,de=Wa;switch(yr){case 8:zw(),H=6;break e;case 3:case 2:case 9:case 6:Ua.current===null&&(h=!0);var Ne=yr;if(yr=0,Wa=null,Qh(f,J,de,Ne),y&&Gh){H=0;break e}break;default:Ne=yr,yr=0,Wa=null,Qh(f,J,de,Ne)}}P3(),H=si;break}catch(ze){j2(f,ze)}while(!0);return h&&f.shellSuspendCounter++,Ic=dn=null,sr=E,V.H=_,V.A=D,Nn===null&&(Or=null,In=0,Js()),H}function P3(){for(;Nn!==null;)H2(Nn)}function L3(f,h){var y=sr;sr|=2;var E=B2(),_=$2();Or!==f||In!==h?(Cb=null,ff=Ze()+500,Zh(f,h)):Gh=on(f,h);e:do try{if(yr!==0&&Nn!==null){h=Nn;var D=Wa;t:switch(yr){case 1:yr=0,Wa=null,Qh(f,h,D,1);break;case 2:case 9:if(Kk(D)){yr=0,Wa=null,F2(h);break}h=function(){yr!==2&&yr!==9||Or!==f||(yr=7),Kl(f)},D.then(h,h);break e;case 3:yr=7;break e;case 4:yr=5;break e;case 7:Kk(D)?(yr=0,Wa=null,F2(h)):(yr=0,Wa=null,Qh(f,h,D,7));break;case 5:var H=null;switch(Nn.tag){case 26:H=Nn.memoizedState;case 5:case 27:var J=Nn;if(H?h_(H):J.stateNode.complete){yr=0,Wa=null;var de=J.sibling;if(de!==null)Nn=de;else{var Ne=J.return;Ne!==null?(Nn=Ne,_b(Ne)):Nn=null}break t}}yr=0,Wa=null,Qh(f,h,D,5);break;case 6:yr=0,Wa=null,Qh(f,h,D,6);break;case 8:zw(),si=6;break e;default:throw Error(r(462))}}j3();break}catch(ze){j2(f,ze)}while(!0);return Ic=dn=null,V.H=E,V.A=_,sr=y,Nn!==null?0:(Or=null,In=0,Js(),si)}function j3(){for(;Nn!==null&&!Te();)H2(Nn)}function H2(f){var h=g2(f.alternate,f,ul);f.memoizedProps=f.pendingProps,h===null?_b(f):Nn=h}function F2(f){var h=f,y=h.alternate;switch(h.tag){case 15:case 0:h=h2(y,h,h.pendingProps,h.type,void 0,In);break;case 11:h=h2(y,h,h.pendingProps,h.type.render,h.ref,In);break;case 5:Qx(h);default:vb(y,h),h=Nn=Vk(h,ul),h=g2(y,h,ul)}f.memoizedProps=f.pendingProps,h===null?_b(f):Nn=h}function Qh(f,h,y,E){Ic=dn=null,Qx(h),Rh=null,Fa=0;var _=h.return;try{if(ww(f,_,h,y,In)){si=1,sg(f,$a(y,f.current)),Nn=null;return}}catch(D){if(_!==null)throw Nn=_,D;si=1,sg(f,$a(y,f.current)),Nn=null;return}h.flags&32768?(Fn||E===1?f=!0:Gh||(In&536870912)!==0?f=!1:(Yu=f=!0,(E===2||E===9||E===3||E===6)&&(E=Ua.current,E!==null&&E.tag===13&&(E.flags|=16384))),Tg(h,f)):_b(h)}function _b(f){var h=f;do{if((h.flags&32768)!==0){Tg(h,Yu);return}f=h.return;var y=y2(h.alternate,h,ul);if(y!==null){Nn=y;return}if(h=h.sibling,h!==null){Nn=h;return}Nn=h=f}while(h!==null);si===0&&(si=5)}function Tg(f,h){do{var y=gg(f.alternate,f);if(y!==null){y.flags&=32767,Nn=y;return}if(y=f.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!h&&(f=f.sibling,f!==null)){Nn=f;return}Nn=f=y}while(f!==null);si=6,Nn=null}function U2(f,h,y,E,_,D,H,J,de){f.cancelPendingCommit=null;do kg();while(Ui!==0);if((sr&6)!==0)throw Error(r(327));if(h!==null){if(h===f.current)throw Error(r(177));if(D=h.lanes|h.childLanes,D|=Sh,ye(f,y,D,H,J,de),f===Or&&(Nn=Or=null,In=0),Xh=h,Xu=f,Vc=y,Hw=D,Fw=_,D2=E,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,H3(it,function(){return Gw(),null})):(f.callbackNode=null,f.callbackPriority=0),E=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||E){E=V.T,V.T=null,_=ne.p,ne.p=2,H=sr,sr|=4;try{M3(f,h,y)}finally{sr=H,ne.p=_,V.T=E}}Ui=1,qw(),Ww(),Ab()}}function qw(){if(Ui===1){Ui=0;var f=Xu,h=Xh,y=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||y){y=V.T,V.T=null;var E=ne.p;ne.p=2;var _=sr;sr|=4;try{C2(h,f);var D=oE,H=Hk(f.containerInfo),J=D.focusedElem,de=D.selectionRange;if(H!==J&&J&&J.ownerDocument&&$k(J.ownerDocument.documentElement,J)){if(de!==null&&Ux(J)){var Ne=de.start,ze=de.end;if(ze===void 0&&(ze=Ne),"selectionStart"in J)J.selectionStart=Ne,J.selectionEnd=Math.min(ze,J.value.length);else{var We=J.ownerDocument||document,Me=We&&We.defaultView||window;if(Me.getSelection){var Le=Me.getSelection(),wt=J.textContent.length,Yt=Math.min(de.start,wt),Cr=de.end===void 0?Yt:Math.min(de.end,wt);!Le.extend&&Yt>Cr&&(H=Cr,Cr=Yt,Yt=H);var Se=Bk(J,Yt),pe=Bk(J,Cr);if(Se&&pe&&(Le.rangeCount!==1||Le.anchorNode!==Se.node||Le.anchorOffset!==Se.offset||Le.focusNode!==pe.node||Le.focusOffset!==pe.offset)){var Oe=We.createRange();Oe.setStart(Se.node,Se.offset),Le.removeAllRanges(),Yt>Cr?(Le.addRange(Oe),Le.extend(pe.node,pe.offset)):(Oe.setEnd(pe.node,pe.offset),Le.addRange(Oe))}}}}for(We=[],Le=J;Le=Le.parentNode;)Le.nodeType===1&&We.push({element:Le,left:Le.scrollLeft,top:Le.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<We.length;J++){var qe=We[J];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}Ub=!!Dg,oE=Dg=null}finally{sr=_,ne.p=E,V.T=y}}f.current=h,Ui=2}}function Ww(){if(Ui===2){Ui=0;var f=Xu,h=Xh,y=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||y){y=V.T,V.T=null;var E=ne.p;ne.p=2;var _=sr;sr|=4;try{Dw(f,h.alternate,h)}finally{sr=_,ne.p=E,V.T=y}}Ui=3}}function Ab(){if(Ui===4||Ui===3){Ui=0,Je();var f=Xu,h=Xh,y=Vc,E=D2;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Ui=5:(Ui=0,Xh=Xu=null,Yw(f,f.pendingLanes));var _=f.pendingLanes;if(_===0&&(Ku=null),bt(y),h=h.stateNode,Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(or,h,void 0,(h.current.flags&128)===128)}catch{}if(E!==null){h=V.T,_=ne.p,ne.p=2,V.T=null;try{for(var D=f.onRecoverableError,H=0;H<E.length;H++){var J=E[H];D(J.value,{componentStack:J.stack})}}finally{V.T=h,ne.p=_}}(Vc&3)!==0&&kg(),Kl(f),_=f.pendingLanes,(y&261930)!==0&&(_&42)!==0?f===Uw?Sg++:(Sg=0,Uw=f):Sg=0,Ag(0)}}function Yw(f,h){(f.pooledCacheLanes&=h)===0&&(h=f.pooledCache,h!=null&&(f.pooledCache=null,Vm(h)))}function kg(){return qw(),Ww(),Ab(),Gw()}function Gw(){if(Ui!==5)return!1;var f=Xu,h=Hw;Hw=0;var y=bt(Vc),E=V.T,_=ne.p;try{ne.p=32>y?32:y,V.T=null,y=Fw,Fw=null;var D=Xu,H=Vc;if(Ui=0,Xh=Xu=null,Vc=0,(sr&6)!==0)throw Error(r(331));var J=sr;if(sr|=4,O2(D.current),k2(D,D.current,H,y),sr=J,Ag(0,!1),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(or,D)}catch{}return!0}finally{ne.p=_,V.T=E,Yw(f,h)}}function Kw(f,h,y){h=$a(y,h),h=xw(f.stateNode,h,2),f=rl(f,h,2),f!==null&&(se(f,2),Kl(f))}function br(f,h,y){if(f.tag===3)Kw(f,f,y);else for(;h!==null;){if(h.tag===3){Kw(h,f,y);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Ku===null||!Ku.has(E))){f=$a(y,f),y=Wl(2),E=rl(h,y,2),E!==null&&(fb(y,E,h,f),se(E,2),Kl(E));break}}h=h.return}}function Xw(f,h,y){var E=f.pingCache;if(E===null){E=f.pingCache=new I3;var _=new Set;E.set(h,_)}else _=E.get(h),_===void 0&&(_=new Set,E.set(h,_));_.has(y)||(jw=!0,_.add(y),f=B3.bind(null,f,h,y),h.then(f,f))}function B3(f,h,y){var E=f.pingCache;E!==null&&E.delete(h),f.pingedLanes|=f.suspendedLanes&y,f.warmLanes&=~y,Or===f&&(In&y)===y&&(si===4||si===3&&(In&62914560)===In&&300>Ze()-Eg?(sr&2)===0&&Zh(f,0):Bw|=y,Kh===In&&(Kh=0)),Kl(f)}function _g(f,h){h===0&&(h=Hn()),f=Fl(f,h),f!==null&&(se(f,h),Kl(f))}function Ob(f){var h=f.memoizedState,y=0;h!==null&&(y=h.retryLane),_g(f,y)}function $3(f,h){var y=0;switch(f.tag){case 31:case 13:var E=f.stateNode,_=f.memoizedState;_!==null&&(y=_.retryLane);break;case 19:E=f.stateNode;break;case 22:E=f.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(h),_g(f,y)}function H3(f,h){return ce(f,h)}var Jh=null,hf=null,Zw=!1,Nb=!1,Qw=!1,Zu=0;function Kl(f){f!==hf&&f.next===null&&(hf===null?Jh=hf=f:hf=hf.next=f),Nb=!0,Zw||(Zw=!0,U3())}function Ag(f,h){if(!Qw&&Nb){Qw=!0;do for(var y=!1,E=Jh;E!==null;){if(f!==0){var _=E.pendingLanes;if(_===0)var D=0;else{var H=E.suspendedLanes,J=E.pingedLanes;D=(1<<31-un(42|f)+1)-1,D&=_&~(H&~J),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(y=!0,W2(E,D))}else D=In,D=xt(E,E===Or?D:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(D&3)===0||on(E,D)||(y=!0,W2(E,D));E=E.next}while(y);Qw=!1}}function F3(){z2()}function z2(){Nb=Zw=!1;var f=0;Zu!==0&&V3()&&(f=Zu);for(var h=Ze(),y=null,E=Jh;E!==null;){var _=E.next,D=V2(E,h);D===0?(E.next=null,y===null?Jh=_:y.next=_,_===null&&(hf=y)):(y=E,(f!==0||(D&3)!==0)&&(Nb=!0)),E=_}Ui!==0&&Ui!==5||Ag(f),Zu!==0&&(Zu=0)}function V2(f,h){for(var y=f.suspendedLanes,E=f.pingedLanes,_=f.expirationTimes,D=f.pendingLanes&-62914561;0<D;){var H=31-un(D),J=1<<H,de=_[H];de===-1?((J&y)===0||(J&E)!==0)&&(_[H]=Gn(J,h)):de<=h&&(f.expiredLanes|=J),D&=~J}if(h=Or,y=In,y=xt(f,f===h?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),E=f.callbackNode,y===0||f===h&&(yr===2||yr===9)||f.cancelPendingCommit!==null)return E!==null&&E!==null&&xe(E),f.callbackNode=null,f.callbackPriority=0;if((y&3)===0||on(f,y)){if(h=y&-y,h===f.callbackPriority)return h;switch(E!==null&&xe(E),bt(y)){case 2:case 8:y=Be;break;case 32:y=it;break;case 268435456:y=qt;break;default:y=it}return E=q2.bind(null,f),y=ce(y,E),f.callbackPriority=h,f.callbackNode=y,h}return E!==null&&E!==null&&xe(E),f.callbackPriority=2,f.callbackNode=null,2}function q2(f,h){if(Ui!==0&&Ui!==5)return f.callbackNode=null,f.callbackPriority=0,null;var y=f.callbackNode;if(kg()&&f.callbackNode!==y)return null;var E=In;return E=xt(f,f===Or?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),E===0?null:(I2(f,E,h),V2(f,Ze()),f.callbackNode!=null&&f.callbackNode===y?q2.bind(null,f):null)}function W2(f,h){if(kg())return null;I2(f,h,!0)}function U3(){t_(function(){(sr&6)!==0?ce(ge,F3):z2()})}function Ka(){if(Zu===0){var f=Nh;f===0&&(f=ct,ct<<=1,(ct&261888)===0&&(ct=256)),Zu=f}return Zu}function Y2(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Mm(""+f)}function G2(f,h){var y=h.ownerDocument.createElement("input");return y.name=h.name,y.value=h.value,f.id&&y.setAttribute("form",f.id),h.parentNode.insertBefore(y,h),f=new FormData(f),y.parentNode.removeChild(y),f}function pf(f,h,y,E,_){if(h==="submit"&&y&&y.stateNode===_){var D=Y2((_[pt]||null).action),H=E.submitter;H&&(h=(h=H[pt]||null)?Y2(h.formAction):H.getAttribute("formAction"),h!==null&&(D=h,H=null));var J=new Ty("action","action",null,E,_);f.push({event:J,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Zu!==0){var de=H?G2(_,H):new FormData(_);zu(y,{pending:!0,data:de,method:_.method,action:D},null,de)}}else typeof D=="function"&&(J.preventDefault(),de=H?G2(_,H):new FormData(_),zu(y,{pending:!0,data:de,method:_.method,action:D},D,de))},currentTarget:_}]})}}for(var ln=0;ln<$y.length;ln++){var Jw=$y[ln],fa=Jw.toLowerCase(),Ci=Jw[0].toUpperCase()+Jw.slice(1);ra(fa,"on"+Ci)}ra(Ba,"onAnimationEnd"),ra($m,"onAnimationIteration"),ra(Fk,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(wh,"onTransitionRun"),ra(jy,"onTransitionStart"),ra(By,"onTransitionCancel"),ra(dr,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Da("onBeforeInput",["compositionend","keypress","textInput","paste"]),Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Og="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Og));function K2(f,h){h=(h&4)!==0;for(var y=0;y<f.length;y++){var E=f[y],_=E.event;E=E.listeners;e:{var D=void 0;if(h)for(var H=E.length-1;0<=H;H--){var J=E[H],de=J.instance,Ne=J.currentTarget;if(J=J.listener,de!==D&&_.isPropagationStopped())break e;D=J,_.currentTarget=Ne;try{D(_)}catch(ze){Hy(ze)}_.currentTarget=null,D=de}else for(H=0;H<E.length;H++){if(J=E[H],de=J.instance,Ne=J.currentTarget,J=J.listener,de!==D&&_.isPropagationStopped())break e;D=J,_.currentTarget=Ne;try{D(_)}catch(ze){Hy(ze)}_.currentTarget=null,D=de}}}}function Mn(f,h){var y=h[mr];y===void 0&&(y=h[mr]=new Set);var E=f+"__bubble";y.has(E)||(Db(h,f,2,!1),y.add(E))}function eE(f,h,y){var E=0;h&&(E|=4),Db(y,f,E,h)}var Mb="_reactListening"+Math.random().toString(36).slice(2);function tE(f){if(!f[Mb]){f[Mb]=!0,$l.forEach(function(y){y!=="selectionchange"&&(Qu.has(y)||eE(y,!1,f),eE(y,!0,f))});var h=f.nodeType===9?f:f.ownerDocument;h===null||h[Mb]||(h[Mb]=!0,eE("selectionchange",!1,h))}}function Db(f,h,y,E){switch(w_(h)){case 2:var _=iI;break;case 8:_=oI;break;default:_=hE}y=_.bind(null,h,y,f),_=void 0,!Nx||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(_=!0),E?_!==void 0?f.addEventListener(h,y,{capture:!0,passive:_}):f.addEventListener(h,y,!0):_!==void 0?f.addEventListener(h,y,{passive:_}):f.addEventListener(h,y,!1)}function nE(f,h,y,E,_){var D=E;if((h&1)===0&&(h&2)===0&&E!==null)e:for(;;){if(E===null)return;var H=E.tag;if(H===3||H===4){var J=E.stateNode.containerInfo;if(J===_)break;if(H===4)for(H=E.return;H!==null;){var de=H.tag;if((de===3||de===4)&&H.stateNode.containerInfo===_)return;H=H.return}for(;J!==null;){if(H=ds(J),H===null)return;if(de=H.tag,de===5||de===6||de===26||de===27){E=D=H;continue e}J=J.parentNode}}E=E.return}Sk(function(){var Ne=D,ze=Ax(y),We=[];e:{var Me=Uk.get(f);if(Me!==void 0){var Le=Ty,wt=f;switch(f){case"keypress":if(Sy(y)===0)break e;case"keydown":case"keyup":Le=Du;break;case"focusin":wt="focus",Le=_y;break;case"focusout":wt="blur",Le=_y;break;case"beforeblur":case"afterblur":Le=_y;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=Tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=h3;break;case Ba:case $m:case Fk:Le=Ak;break;case dr:Le=m3;break;case"scroll":case"scrollend":Le=u3;break;case"wheel":Le=Oy;break;case"copy":case"cut":case"paste":Le=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=Mk;break;case"toggle":case"beforetoggle":Le=g3}var Yt=(h&4)!==0,Cr=!Yt&&(f==="scroll"||f==="scrollend"),Se=Yt?Me!==null?Me+"Capture":null:Me;Yt=[];for(var pe=Ne,Oe;pe!==null;){var qe=pe;if(Oe=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Oe===null||Se===null||(qe=Yd(pe,Se),qe!=null&&Yt.push(Xa(pe,qe,Oe))),Cr)break;pe=pe.return}0<Yt.length&&(Me=new Le(Me,wt,null,y,ze),We.push({event:Me,listeners:Yt}))}}if((h&7)===0){e:{if(Me=f==="mouseover"||f==="pointerover",Le=f==="mouseout"||f==="pointerout",Me&&y!==_x&&(wt=y.relatedTarget||y.fromElement)&&(ds(wt)||wt[xn]))break e;if((Le||Me)&&(Me=ze.window===ze?ze:(Me=ze.ownerDocument)?Me.defaultView||Me.parentWindow:window,Le?(wt=y.relatedTarget||y.toElement,Le=Ne,wt=wt?ds(wt):null,wt!==null&&(Cr=o(wt),Yt=wt.tag,wt!==Cr||Yt!==5&&Yt!==27&&Yt!==6)&&(wt=null)):(Le=null,wt=Ne),Le!==wt)){if(Yt=ky,qe="onMouseLeave",Se="onMouseEnter",pe="mouse",(f==="pointerout"||f==="pointerover")&&(Yt=Mk,qe="onPointerLeave",Se="onPointerEnter",pe="pointer"),Cr=Le==null?Me:Ao(Le),Oe=wt==null?Me:Ao(wt),Me=new Yt(qe,pe+"leave",Le,y,ze),Me.target=Cr,Me.relatedTarget=Oe,qe=null,ds(ze)===Ne&&(Yt=new Yt(Se,pe+"enter",wt,y,ze),Yt.target=Oe,Yt.relatedTarget=Cr,qe=Yt),Cr=qe,Le&&wt)t:{for(Yt=Rb,Se=Le,pe=wt,Oe=0,qe=Se;qe;qe=Yt(qe))Oe++;qe=0;for(var Ft=pe;Ft;Ft=Yt(Ft))qe++;for(;0<Oe-qe;)Se=Yt(Se),Oe--;for(;0<qe-Oe;)pe=Yt(pe),qe--;for(;Oe--;){if(Se===pe||pe!==null&&Se===pe.alternate){Yt=Se;break t}Se=Yt(Se),pe=Yt(pe)}Yt=null}else Yt=null;Le!==null&&Kr(We,Me,Le,Yt,!1),wt!==null&&Cr!==null&&Kr(We,Cr,wt,Yt,!0)}}e:{if(Me=Ne?Ao(Ne):window,Le=Me.nodeName&&Me.nodeName.toLowerCase(),Le==="select"||Le==="input"&&Me.type==="file")var tr=Lk;else if(jx(Me))if(Zd)tr=x3;else{tr=b3;var Mt=Py}else Le=Me.nodeName,!Le||Le.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?Ne&&Ey(Ne.elementType)&&(tr=Lk):tr=v3;if(tr&&(tr=tr(f,Ne))){Bx(We,tr,y,ze);break e}Mt&&Mt(f,Me,Ne),f==="focusout"&&Ne&&Me.type==="number"&&Ne.memoizedProps.value!=null&&Tx(Me,"number",Me.value)}switch(Mt=Ne?Ao(Ne):window,f){case"focusin":(jx(Mt)||Mt.contentEditable==="true")&&(be=Mt,Ue=Ne,Pe=null);break;case"focusout":Pe=Ue=be=null;break;case"mousedown":gt=!0;break;case"contextmenu":case"mouseup":case"dragend":gt=!1,sn(We,y,ze);break;case"selectionchange":if(xh)break;case"keydown":case"keyup":sn(We,y,ze)}var bn;if(Ny)e:{switch(f){case"compositionstart":var Pn="onCompositionStart";break e;case"compositionend":Pn="onCompositionEnd";break e;case"compositionupdate":Pn="onCompositionUpdate";break e}Pn=void 0}else Xd?Dy(f,y)&&(Pn="onCompositionEnd"):f==="keydown"&&y.keyCode===229&&(Pn="onCompositionStart");Pn&&(Px&&y.locale!=="ko"&&(Xd||Pn!=="onCompositionStart"?Pn==="onCompositionEnd"&&Xd&&(bn=_r()):(Nu=ze,Mx="value"in Nu?Nu.value:Nu.textContent,Xd=!0)),Mt=Ng(Ne,Pn),0<Mt.length&&(Pn=new La(Pn,f,null,y,ze),We.push({event:Pn,listeners:Mt}),bn?Pn.data=bn:(bn=Pk(y),bn!==null&&(Pn.data=bn)))),(bn=Ix?ja(f,y):Lx(f,y))&&(Pn=Ng(Ne,"onBeforeInput"),0<Pn.length&&(Mt=new La("onBeforeInput","beforeinput",null,y,ze),We.push({event:Mt,listeners:Pn}),Mt.data=bn)),pf(We,f,Ne,y,ze)}K2(We,h)})}function Xa(f,h,y){return{instance:f,listener:h,currentTarget:y}}function Ng(f,h){for(var y=h+"Capture",E=[];f!==null;){var _=f,D=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||D===null||(_=Yd(f,y),_!=null&&E.unshift(Xa(f,_,D)),_=Yd(f,h),_!=null&&E.push(Xa(f,_,D))),f.tag===3)return E;f=f.return}return[]}function Rb(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function Kr(f,h,y,E,_){for(var D=h._reactName,H=[];y!==null&&y!==E;){var J=y,de=J.alternate,Ne=J.stateNode;if(J=J.tag,de!==null&&de===E)break;J!==5&&J!==26&&J!==27||Ne===null||(de=Ne,_?(Ne=Yd(y,D),Ne!=null&&H.unshift(Xa(y,Ne,de))):_||(Ne=Yd(y,D),Ne!=null&&H.push(Xa(y,Ne,de)))),y=y.return}H.length!==0&&f.push({event:h,listeners:H})}var mi=/\r\n?/g,X2=/\u0000|\uFFFD/g;function Z2(f){return(typeof f=="string"?f:""+f).replace(mi,`
`).replace(X2,"")}function Q2(f,h){return h=Z2(h),Z2(f)===h}function Sr(f,h,y,E,_,D){switch(y){case"children":typeof E=="string"?h==="body"||h==="textarea"&&E===""||Zs(f,E):(typeof E=="number"||typeof E=="bigint")&&h!=="body"&&Zs(f,""+E);break;case"className":Ou(f,"class",E);break;case"tabIndex":Ou(f,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":Ou(f,y,E);break;case"style":vk(f,E,D);break;case"data":if(h!=="object"){Ou(f,"data",E);break}case"src":case"href":if(E===""&&(h!=="a"||y!=="href")){f.removeAttribute(y);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){f.removeAttribute(y);break}E=Mm(""+E),f.setAttribute(y,E);break;case"action":case"formAction":if(typeof E=="function"){f.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(y==="formAction"?(h!=="input"&&Sr(f,h,"name",_.name,_,null),Sr(f,h,"formEncType",_.formEncType,_,null),Sr(f,h,"formMethod",_.formMethod,_,null),Sr(f,h,"formTarget",_.formTarget,_,null)):(Sr(f,h,"encType",_.encType,_,null),Sr(f,h,"method",_.method,_,null),Sr(f,h,"target",_.target,_,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){f.removeAttribute(y);break}E=Mm(""+E),f.setAttribute(y,E);break;case"onClick":E!=null&&(f.onclick=Ac);break;case"onScroll":E!=null&&Mn("scroll",f);break;case"onScrollEnd":E!=null&&Mn("scrollend",f);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(y=E.__html,y!=null){if(_.children!=null)throw Error(r(60));f.innerHTML=y}}break;case"multiple":f.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":f.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){f.removeAttribute("xlink:href");break}y=Mm(""+E),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(y,""+E):f.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(y,""):f.removeAttribute(y);break;case"capture":case"download":E===!0?f.setAttribute(y,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?f.setAttribute(y,E):f.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?f.setAttribute(y,E):f.removeAttribute(y);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?f.removeAttribute(y):f.setAttribute(y,E);break;case"popover":Mn("beforetoggle",f),Mn("toggle",f),_c(f,"popover",E);break;case"xlinkActuate":fs(f,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":fs(f,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":fs(f,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":fs(f,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":fs(f,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":fs(f,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":fs(f,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":fs(f,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":fs(f,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":_c(f,"is",E);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=xk.get(y)||y,_c(f,y,E))}}function rE(f,h,y,E,_,D){switch(y){case"style":vk(f,E,D);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(y=E.__html,y!=null){if(_.children!=null)throw Error(r(60));f.innerHTML=y}}break;case"children":typeof E=="string"?Zs(f,E):(typeof E=="number"||typeof E=="bigint")&&Zs(f,""+E);break;case"onScroll":E!=null&&Mn("scroll",f);break;case"onScrollEnd":E!=null&&Mn("scrollend",f);break;case"onClick":E!=null&&(f.onclick=Ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vd.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(_=y.endsWith("Capture"),h=y.slice(2,_?y.length-7:void 0),D=f[pt]||null,D=D!=null?D[y]:null,typeof D=="function"&&f.removeEventListener(h,D,_),typeof E=="function")){typeof D!="function"&&D!==null&&(y in f?f[y]=null:f.hasAttribute(y)&&f.removeAttribute(y)),f.addEventListener(h,E,_);break e}y in f?f[y]=E:E===!0?f.setAttribute(y,""):_c(f,y,E)}}}function vo(f,h,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mn("error",f),Mn("load",f);var E=!1,_=!1,D;for(D in y)if(y.hasOwnProperty(D)){var H=y[D];if(H!=null)switch(D){case"src":E=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Sr(f,h,D,H,y,null)}}_&&Sr(f,h,"srcSet",y.srcSet,y,null),E&&Sr(f,h,"src",y.src,y,null);return;case"input":Mn("invalid",f);var J=D=H=_=null,de=null,Ne=null;for(E in y)if(y.hasOwnProperty(E)){var ze=y[E];if(ze!=null)switch(E){case"name":_=ze;break;case"type":H=ze;break;case"checked":de=ze;break;case"defaultChecked":Ne=ze;break;case"value":D=ze;break;case"defaultValue":J=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,h));break;default:Sr(f,h,E,ze,y,null)}}vy(f,D,J,de,Ne,H,_,!1);return;case"select":Mn("invalid",f),E=H=D=null;for(_ in y)if(y.hasOwnProperty(_)&&(J=y[_],J!=null))switch(_){case"value":D=J;break;case"defaultValue":H=J;break;case"multiple":E=J;default:Sr(f,h,_,J,y,null)}h=D,y=H,f.multiple=!!E,h!=null?qd(f,!!E,h,!1):y!=null&&qd(f,!!E,y,!0);return;case"textarea":Mn("invalid",f),D=_=E=null;for(H in y)if(y.hasOwnProperty(H)&&(J=y[H],J!=null))switch(H){case"value":E=J;break;case"defaultValue":_=J;break;case"children":D=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(91));break;default:Sr(f,h,H,J,y,null)}wy(f,E,_,D);return;case"option":for(de in y)if(y.hasOwnProperty(de)&&(E=y[de],E!=null))switch(de){case"selected":f.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:Sr(f,h,de,E,y,null)}return;case"dialog":Mn("beforetoggle",f),Mn("toggle",f),Mn("cancel",f),Mn("close",f);break;case"iframe":case"object":Mn("load",f);break;case"video":case"audio":for(E=0;E<Og.length;E++)Mn(Og[E],f);break;case"image":Mn("error",f),Mn("load",f);break;case"details":Mn("toggle",f);break;case"embed":case"source":case"link":Mn("error",f),Mn("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in y)if(y.hasOwnProperty(Ne)&&(E=y[Ne],E!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Sr(f,h,Ne,E,y,null)}return;default:if(Ey(h)){for(ze in y)y.hasOwnProperty(ze)&&(E=y[ze],E!==void 0&&rE(f,h,ze,E,y,void 0));return}}for(J in y)y.hasOwnProperty(J)&&(E=y[J],E!=null&&Sr(f,h,J,E,y,null))}function z3(f,h,y,E){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,D=null,H=null,J=null,de=null,Ne=null,ze=null;for(Le in y){var We=y[Le];if(y.hasOwnProperty(Le)&&We!=null)switch(Le){case"checked":break;case"value":break;case"defaultValue":de=We;default:E.hasOwnProperty(Le)||Sr(f,h,Le,null,E,We)}}for(var Me in E){var Le=E[Me];if(We=y[Me],E.hasOwnProperty(Me)&&(Le!=null||We!=null))switch(Me){case"type":D=Le;break;case"name":_=Le;break;case"checked":Ne=Le;break;case"defaultChecked":ze=Le;break;case"value":H=Le;break;case"defaultValue":J=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,h));break;default:Le!==We&&Sr(f,h,Me,Le,E,We)}}by(f,H,J,de,Ne,ze,D,_);return;case"select":Le=H=J=Me=null;for(D in y)if(de=y[D],y.hasOwnProperty(D)&&de!=null)switch(D){case"value":break;case"multiple":Le=de;default:E.hasOwnProperty(D)||Sr(f,h,D,null,E,de)}for(_ in E)if(D=E[_],de=y[_],E.hasOwnProperty(_)&&(D!=null||de!=null))switch(_){case"value":Me=D;break;case"defaultValue":J=D;break;case"multiple":H=D;default:D!==de&&Sr(f,h,_,D,E,de)}h=J,y=H,E=Le,Me!=null?qd(f,!!y,Me,!1):!!E!=!!y&&(h!=null?qd(f,!!y,h,!0):qd(f,!!y,y?[]:"",!1));return;case"textarea":Le=Me=null;for(J in y)if(_=y[J],y.hasOwnProperty(J)&&_!=null&&!E.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Sr(f,h,J,null,E,_)}for(H in E)if(_=E[H],D=y[H],E.hasOwnProperty(H)&&(_!=null||D!=null))switch(H){case"value":Me=_;break;case"defaultValue":Le=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==D&&Sr(f,h,H,_,E,D)}xy(f,Me,Le);return;case"option":for(var wt in y)if(Me=y[wt],y.hasOwnProperty(wt)&&Me!=null&&!E.hasOwnProperty(wt))switch(wt){case"selected":f.selected=!1;break;default:Sr(f,h,wt,null,E,Me)}for(de in E)if(Me=E[de],Le=y[de],E.hasOwnProperty(de)&&Me!==Le&&(Me!=null||Le!=null))switch(de){case"selected":f.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:Sr(f,h,de,Me,E,Le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in y)Me=y[Yt],y.hasOwnProperty(Yt)&&Me!=null&&!E.hasOwnProperty(Yt)&&Sr(f,h,Yt,null,E,Me);for(Ne in E)if(Me=E[Ne],Le=y[Ne],E.hasOwnProperty(Ne)&&Me!==Le&&(Me!=null||Le!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,h));break;default:Sr(f,h,Ne,Me,E,Le)}return;default:if(Ey(h)){for(var Cr in y)Me=y[Cr],y.hasOwnProperty(Cr)&&Me!==void 0&&!E.hasOwnProperty(Cr)&&rE(f,h,Cr,void 0,E,Me);for(ze in E)Me=E[ze],Le=y[ze],!E.hasOwnProperty(ze)||Me===Le||Me===void 0&&Le===void 0||rE(f,h,ze,Me,E,Le);return}}for(var Se in y)Me=y[Se],y.hasOwnProperty(Se)&&Me!=null&&!E.hasOwnProperty(Se)&&Sr(f,h,Se,null,E,Me);for(We in E)Me=E[We],Le=y[We],!E.hasOwnProperty(We)||Me===Le||Me==null&&Le==null||Sr(f,h,We,Me,E,Le)}function iE(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mg(){if(typeof performance.getEntriesByType=="function"){for(var f=0,h=0,y=performance.getEntriesByType("resource"),E=0;E<y.length;E++){var _=y[E],D=_.transferSize,H=_.initiatorType,J=_.duration;if(D&&J&&iE(H)){for(H=0,J=_.responseEnd,E+=1;E<y.length;E++){var de=y[E],Ne=de.startTime;if(Ne>J)break;var ze=de.transferSize,We=de.initiatorType;ze&&iE(We)&&(de=de.responseEnd,H+=ze*(de<J?1:(J-Ne)/(de-Ne)))}if(--E,h+=8*(D+H)/(_.duration/1e3),f++,10<f)break}}if(0<f)return h/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var Dg=null,oE=null;function Rg(f){return f.nodeType===9?f:f.ownerDocument}function Ig(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ha(f,h){if(f===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&h==="foreignObject"?0:f}function Ju(f,h){return f==="textarea"||f==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var aE=null;function V3(){var f=window.event;return f&&f.type==="popstate"?f===aE?!1:(aE=f,!0):(aE=null,!1)}var J2=typeof setTimeout=="function"?setTimeout:void 0,q3=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,t_=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(f){return e_.resolve(null).then(f).catch(Wc)}:J2;function Wc(f){setTimeout(function(){throw f})}function Jt(f){return f==="head"}function sE(f,h){var y=h,E=0;do{var _=y.nextSibling;if(f.removeChild(y),_&&_.nodeType===8)if(y=_.data,y==="/$"||y==="/&"){if(E===0){f.removeChild(_),lp(h);return}E--}else if(y==="$"||y==="$?"||y==="$~"||y==="$!"||y==="&")E++;else if(y==="html")Pg(f.ownerDocument.documentElement);else if(y==="head"){y=f.ownerDocument.head,Pg(y);for(var D=y.firstChild;D;){var H=D.nextSibling,J=D.nodeName;D[ar]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&D.rel.toLowerCase()==="stylesheet"||y.removeChild(D),D=H}}else y==="body"&&Pg(f.ownerDocument.body);y=_}while(y);lp(h)}function Za(f,h){var y=f;f=0;do{var E=y.nextSibling;if(y.nodeType===1?h?(y._stashedDisplay=y.style.display,y.style.display="none"):(y.style.display=y._stashedDisplay||"",y.getAttribute("style")===""&&y.removeAttribute("style")):y.nodeType===3&&(h?(y._stashedText=y.nodeValue,y.nodeValue=""):y.nodeValue=y._stashedText||""),E&&E.nodeType===8)if(y=E.data,y==="/$"){if(f===0)break;f--}else y!=="$"&&y!=="$?"&&y!=="$~"&&y!=="$!"||f++;y=E}while(y)}function Ib(f){var h=f.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var y=h;switch(h=h.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":Ib(y),Xs(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}f.removeChild(y)}}function W3(f,h,y,E){for(;f.nodeType===1;){var _=y;if(f.nodeName.toLowerCase()!==h.toLowerCase()){if(!E&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(E){if(!f[ar])switch(h){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(D=f.getAttribute("rel"),D==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(D!==_.rel||f.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||f.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||f.getAttribute("title")!==(_.title==null?null:_.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(D=f.getAttribute("src"),(D!==(_.src==null?null:_.src)||f.getAttribute("type")!==(_.type==null?null:_.type)||f.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&D&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(h==="input"&&f.type==="hidden"){var D=_.name==null?null:""+_.name;if(_.type==="hidden"&&f.getAttribute("name")===D)return f}else return f;if(f=ks(f.nextSibling),f===null)break}return null}function hr(f,h,y){if(h==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!y||(f=ks(f.nextSibling),f===null))return null;return f}function n_(f,h){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!h||(f=ks(f.nextSibling),f===null))return null;return f}function Pb(f){return f.data==="$?"||f.data==="$~"}function ep(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function Y3(f,h){var y=f.ownerDocument;if(f.data==="$~")f._reactRetry=h;else if(f.data!=="$?"||y.readyState!=="loading")h();else{var E=function(){h(),y.removeEventListener("DOMContentLoaded",E)};y.addEventListener("DOMContentLoaded",E),f._reactRetry=E}}function ks(f){for(;f!=null;f=f.nextSibling){var h=f.nodeType;if(h===1||h===3)break;if(h===8){if(h=f.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return f}var lE=null;function r_(f){f=f.nextSibling;for(var h=0;f;){if(f.nodeType===8){var y=f.data;if(y==="/$"||y==="/&"){if(h===0)return ks(f.nextSibling);h--}else y!=="$"&&y!=="$!"&&y!=="$?"&&y!=="$~"&&y!=="&"||h++}f=f.nextSibling}return null}function i_(f){f=f.previousSibling;for(var h=0;f;){if(f.nodeType===8){var y=f.data;if(y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"){if(h===0)return f;h--}else y!=="/$"&&y!=="/&"||h++}f=f.previousSibling}return null}function o_(f,h,y){switch(h=Rg(y),f){case"html":if(f=h.documentElement,!f)throw Error(r(452));return f;case"head":if(f=h.head,!f)throw Error(r(453));return f;case"body":if(f=h.body,!f)throw Error(r(454));return f;default:throw Error(r(451))}}function Pg(f){for(var h=f.attributes;h.length;)f.removeAttributeNode(h[0]);Xs(f)}var _s=new Map,a_=new Set;function Lb(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Yc=ne.d;ne.d={f:G3,r:K3,D:cE,C:X3,L:Z3,m:Q3,X:pa,S:Ji,M:J3};function G3(){var f=Yc.f(),h=Tb();return f||h}function K3(f){var h=Zi(f);h!==null&&h.tag===5&&h.type==="form"?hw(h):Yc.r(f)}var ed=typeof document>"u"?null:document;function s_(f,h,y){var E=ed;if(E&&typeof h=="string"&&h){var _=Ia(h);_='link[rel="'+f+'"][href="'+_+'"]',typeof y=="string"&&(_+='[crossorigin="'+y+'"]'),a_.has(_)||(a_.add(_),f={rel:f,crossOrigin:y,href:h},E.querySelector(_)===null&&(h=E.createElement("link"),vo(h,"link",f),qr(h),E.head.appendChild(h)))}}function cE(f){Yc.D(f),s_("dns-prefetch",f,null)}function X3(f,h){Yc.C(f,h),s_("preconnect",f,h)}function Z3(f,h,y){Yc.L(f,h,y);var E=ed;if(E&&f&&h){var _='link[rel="preload"][as="'+Ia(h)+'"]';h==="image"&&y&&y.imageSrcSet?(_+='[imagesrcset="'+Ia(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(_+='[imagesizes="'+Ia(y.imageSizes)+'"]')):_+='[href="'+Ia(f)+'"]';var D=_;switch(h){case"style":D=tp(f);break;case"script":D=rp(f)}_s.has(D)||(f=u({rel:"preload",href:h==="image"&&y&&y.imageSrcSet?void 0:f,as:h},y),_s.set(D,f),E.querySelector(_)!==null||h==="style"&&E.querySelector(np(D))||h==="script"&&E.querySelector(ip(D))||(h=E.createElement("link"),vo(h,"link",f),qr(h),E.head.appendChild(h)))}}function Q3(f,h){Yc.m(f,h);var y=ed;if(y&&f){var E=h&&typeof h.as=="string"?h.as:"script",_='link[rel="modulepreload"][as="'+Ia(E)+'"][href="'+Ia(f)+'"]',D=_;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=rp(f)}if(!_s.has(D)&&(f=u({rel:"modulepreload",href:f},h),_s.set(D,f),y.querySelector(_)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(ip(D)))return}E=y.createElement("link"),vo(E,"link",f),qr(E),y.head.appendChild(E)}}}function Ji(f,h,y){Yc.S(f,h,y);var E=ed;if(E&&f){var _=Ma(E).hoistableStyles,D=tp(f);h=h||"default";var H=_.get(D);if(!H){var J={loading:0,preload:null};if(H=E.querySelector(np(D)))J.loading=5;else{f=u({rel:"stylesheet",href:f,"data-precedence":h},y),(y=_s.get(D))&&uE(f,y);var de=H=E.createElement("link");qr(de),vo(de,"link",f),de._p=new Promise(function(Ne,ze){de.onload=Ne,de.onerror=ze}),de.addEventListener("load",function(){J.loading|=1}),de.addEventListener("error",function(){J.loading|=2}),J.loading|=4,jb(H,h,E)}H={type:"stylesheet",instance:H,count:1,state:J},_.set(D,H)}}}function pa(f,h){Yc.X(f,h);var y=ed;if(y&&f){var E=Ma(y).hoistableScripts,_=rp(f),D=E.get(_);D||(D=y.querySelector(ip(_)),D||(f=u({src:f,async:!0},h),(h=_s.get(_))&&Bb(f,h),D=y.createElement("script"),qr(D),vo(D,"link",f),y.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},E.set(_,D))}}function J3(f,h){Yc.M(f,h);var y=ed;if(y&&f){var E=Ma(y).hoistableScripts,_=rp(f),D=E.get(_);D||(D=y.querySelector(ip(_)),D||(f=u({src:f,async:!0,type:"module"},h),(h=_s.get(_))&&Bb(f,h),D=y.createElement("script"),qr(D),vo(D,"link",f),y.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},E.set(_,D))}}function l_(f,h,y,E){var _=(_=ke.current)?Lb(_):null;if(!_)throw Error(r(446));switch(f){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(h=tp(y.href),y=Ma(_).hoistableStyles,E=y.get(h),E||(E={type:"style",instance:null,count:0,state:null},y.set(h,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){f=tp(y.href);var D=Ma(_).hoistableStyles,H=D.get(f);if(H||(_=_.ownerDocument||_,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(f,H),(D=_.querySelector(np(f)))&&!D._p&&(H.instance=D,H.state.loading=5),_s.has(f)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},_s.set(f,y),D||eI(_,f,y,H.state))),h&&E===null)throw Error(r(528,""));return H}if(h&&E!==null)throw Error(r(529,""));return null;case"script":return h=y.async,y=y.src,typeof y=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=rp(y),y=Ma(_).hoistableScripts,E=y.get(h),E||(E={type:"script",instance:null,count:0,state:null},y.set(h,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,f))}}function tp(f){return'href="'+Ia(f)+'"'}function np(f){return'link[rel="stylesheet"]['+f+"]"}function c_(f){return u({},f,{"data-precedence":f.precedence,precedence:null})}function eI(f,h,y,E){f.querySelector('link[rel="preload"][as="style"]['+h+"]")?E.loading=1:(h=f.createElement("link"),E.preload=h,h.addEventListener("load",function(){return E.loading|=1}),h.addEventListener("error",function(){return E.loading|=2}),vo(h,"link",y),qr(h),f.head.appendChild(h))}function rp(f){return'[src="'+Ia(f)+'"]'}function ip(f){return"script[async]"+f}function u_(f,h,y){if(h.count++,h.instance===null)switch(h.type){case"style":var E=f.querySelector('style[data-href~="'+Ia(y.href)+'"]');if(E)return h.instance=E,qr(E),E;var _=u({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return E=(f.ownerDocument||f).createElement("style"),qr(E),vo(E,"style",_),jb(E,y.precedence,f),h.instance=E;case"stylesheet":_=tp(y.href);var D=f.querySelector(np(_));if(D)return h.state.loading|=4,h.instance=D,qr(D),D;E=c_(y),(_=_s.get(_))&&uE(E,_),D=(f.ownerDocument||f).createElement("link"),qr(D);var H=D;return H._p=new Promise(function(J,de){H.onload=J,H.onerror=de}),vo(D,"link",E),h.state.loading|=4,jb(D,y.precedence,f),h.instance=D;case"script":return D=rp(y.src),(_=f.querySelector(ip(D)))?(h.instance=_,qr(_),_):(E=y,(_=_s.get(D))&&(E=u({},y),Bb(E,_)),f=f.ownerDocument||f,_=f.createElement("script"),qr(_),vo(_,"link",E),f.head.appendChild(_),h.instance=_);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(E=h.instance,h.state.loading|=4,jb(E,y.precedence,f));return h.instance}function jb(f,h,y){for(var E=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=E.length?E[E.length-1]:null,D=_,H=0;H<E.length;H++){var J=E[H];if(J.dataset.precedence===h)D=J;else if(D!==_)break}D?D.parentNode.insertBefore(f,D.nextSibling):(h=y.nodeType===9?y.head:y,h.insertBefore(f,h.firstChild))}function uE(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.title==null&&(f.title=h.title)}function Bb(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.integrity==null&&(f.integrity=h.integrity)}var Lg=null;function d_(f,h,y){if(Lg===null){var E=new Map,_=Lg=new Map;_.set(y,E)}else _=Lg,E=_.get(y),E||(E=new Map,_.set(y,E));if(E.has(f))return E;for(E.set(f,null),y=y.getElementsByTagName(f),_=0;_<y.length;_++){var D=y[_];if(!(D[ar]||D[ft]||f==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var H=D.getAttribute(h)||"";H=f+H;var J=E.get(H);J?J.push(D):E.set(H,[D])}}return E}function f_(f,h,y){f=f.ownerDocument||f,f.head.insertBefore(y,h==="title"?f.querySelector("head > title"):null)}function tI(f,h,y){if(y===1||h.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return f=h.disabled,typeof h.precedence=="string"&&f==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function h_(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function op(f,h,y,E){if(y.type==="stylesheet"&&(typeof E.media!="string"||matchMedia(E.media).matches!==!1)&&(y.state.loading&4)===0){if(y.instance===null){var _=tp(E.href),D=h.querySelector(np(_));if(D){h=D._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(f.count++,f=$b.bind(f),h.then(f,f)),y.state.loading|=4,y.instance=D,qr(D);return}D=h.ownerDocument||h,E=c_(E),(_=_s.get(_))&&uE(E,_),D=D.createElement("link"),qr(D);var H=D;H._p=new Promise(function(J,de){H.onload=J,H.onerror=de}),vo(D,"link",E),y.instance=D}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(y,h),(h=y.state.preload)&&(y.state.loading&3)===0&&(f.count++,y=$b.bind(f),h.addEventListener("load",y),h.addEventListener("error",y))}}var dE=0;function nI(f,h){return f.stylesheets&&f.count===0&&Fb(f,f.stylesheets),0<f.count||0<f.imgCount?function(y){var E=setTimeout(function(){if(f.stylesheets&&Fb(f,f.stylesheets),f.unsuspend){var D=f.unsuspend;f.unsuspend=null,D()}},6e4+h);0<f.imgBytes&&dE===0&&(dE=62500*Mg());var _=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&Fb(f,f.stylesheets),f.unsuspend)){var D=f.unsuspend;f.unsuspend=null,D()}},(f.imgBytes>dE?50:800)+h);return f.unsuspend=y,function(){f.unsuspend=null,clearTimeout(E),clearTimeout(_)}}:null}function $b(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fb(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var Hb=null;function Fb(f,h){f.stylesheets=null,f.unsuspend!==null&&(f.count++,Hb=new Map,h.forEach(p_,f),Hb=null,$b.call(f))}function p_(f,h){if(!(h.state.loading&4)){var y=Hb.get(f);if(y)var E=y.get(null);else{y=new Map,Hb.set(f,y);for(var _=f.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<_.length;D++){var H=_[D];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(y.set(H.dataset.precedence,H),E=H)}E&&y.set(null,E)}_=h.instance,H=_.getAttribute("data-precedence"),D=y.get(H)||E,D===E&&y.set(null,_),y.set(H,_),this.count++,E=$b.bind(this),_.addEventListener("load",E),_.addEventListener("error",E),D?D.parentNode.insertBefore(_,D.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(_,f.firstChild)),h.state.loading|=4}}var ap={$$typeof:O,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function rI(f,h,y,E,_,D,H,J,de){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=E,this.onUncaughtError=_,this.onCaughtError=D,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function m_(f,h,y,E,_,D,H,J,de,Ne,ze,We){return f=new rI(f,h,y,H,de,Ne,ze,We,J),h=1,D===!0&&(h|=24),D=mo(3,null,null,h),f.current=D,D.stateNode=f,h=el(),h.refCount++,f.pooledCache=h,h.refCount++,D.memoizedState={element:E,isDehydrated:y,cache:h},Vl(D),f}function g_(f){return f?(f=Mc,f):Mc}function y_(f,h,y,E,_,D){_=g_(_),E.context===null?E.context=_:E.pendingContext=_,E=Hu(h),E.payload={element:y},D=D===void 0?null:D,D!==null&&(E.callback=D),y=rl(f,E,h),y!==null&&(da(y,f,h),Ym(y,f,h))}function b_(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var y=f.retryLane;f.retryLane=y!==0&&y<h?y:h}}function fE(f,h){b_(f,h),(f=f.alternate)&&b_(f,h)}function v_(f){if(f.tag===13||f.tag===31){var h=Fl(f,67108864);h!==null&&da(h,f,67108864),fE(f,67108864)}}function x_(f){if(f.tag===13||f.tag===31){var h=Ga();h=kt(h);var y=Fl(f,h);y!==null&&da(y,f,h),fE(f,h)}}var Ub=!0;function iI(f,h,y,E){var _=V.T;V.T=null;var D=ne.p;try{ne.p=2,hE(f,h,y,E)}finally{ne.p=D,V.T=_}}function oI(f,h,y,E){var _=V.T;V.T=null;var D=ne.p;try{ne.p=8,hE(f,h,y,E)}finally{ne.p=D,V.T=_}}function hE(f,h,y,E){if(Ub){var _=pE(E);if(_===null)nE(f,h,E,zb,y),E_(f,E);else if(S_(_,f,h,y,E))E.stopPropagation();else if(E_(f,E),h&4&&-1<aI.indexOf(f)){for(;_!==null;){var D=Zi(_);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var H=vt(D.pendingLanes);if(H!==0){var J=D;for(J.pendingLanes|=2,J.entangledLanes|=2;H;){var de=1<<31-un(H);J.entanglements[1]|=de,H&=~de}Kl(D),(sr&6)===0&&(ff=Ze()+500,Ag(0))}}break;case 31:case 13:J=Fl(D,2),J!==null&&da(J,D,2),Tb(),fE(D,2)}if(D=pE(E),D===null&&nE(f,h,E,zb,y),D===_)break;_=D}_!==null&&E.stopPropagation()}else nE(f,h,E,null,y)}}function pE(f){return f=Ax(f),mE(f)}var zb=null;function mE(f){if(zb=null,f=ds(f),f!==null){var h=o(f);if(h===null)f=null;else{var y=h.tag;if(y===13){if(f=a(h),f!==null)return f;f=null}else if(y===31){if(f=s(h),f!==null)return f;f=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;f=null}else h!==f&&(f=null)}}return zb=f,null}function w_(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case ge:return 2;case Be:return 8;case it:case At:return 32;case qt:return 268435456;default:return 32}default:return 32}}var gE=!1,td=null,nd=null,rd=null,jg=new Map,Bg=new Map,id=[],aI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(f,h){switch(f){case"focusin":case"focusout":td=null;break;case"dragenter":case"dragleave":nd=null;break;case"mouseover":case"mouseout":rd=null;break;case"pointerover":case"pointerout":jg.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bg.delete(h.pointerId)}}function mf(f,h,y,E,_,D){return f===null||f.nativeEvent!==D?(f={blockedOn:h,domEventName:y,eventSystemFlags:E,nativeEvent:D,targetContainers:[_]},h!==null&&(h=Zi(h),h!==null&&v_(h)),f):(f.eventSystemFlags|=E,h=f.targetContainers,_!==null&&h.indexOf(_)===-1&&h.push(_),f)}function S_(f,h,y,E,_){switch(h){case"focusin":return td=mf(td,f,h,y,E,_),!0;case"dragenter":return nd=mf(nd,f,h,y,E,_),!0;case"mouseover":return rd=mf(rd,f,h,y,E,_),!0;case"pointerover":var D=_.pointerId;return jg.set(D,mf(jg.get(D)||null,f,h,y,E,_)),!0;case"gotpointercapture":return D=_.pointerId,Bg.set(D,mf(Bg.get(D)||null,f,h,y,E,_)),!0}return!1}function yE(f){var h=ds(f.target);if(h!==null){var y=o(h);if(y!==null){if(h=y.tag,h===13){if(h=a(y),h!==null){f.blockedOn=h,$t(f.priority,function(){x_(y)});return}}else if(h===31){if(h=s(y),h!==null){f.blockedOn=h,$t(f.priority,function(){x_(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){f.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Vb(f){if(f.blockedOn!==null)return!1;for(var h=f.targetContainers;0<h.length;){var y=pE(f.nativeEvent);if(y===null){y=f.nativeEvent;var E=new y.constructor(y.type,y);_x=E,y.target.dispatchEvent(E),_x=null}else return h=Zi(y),h!==null&&v_(h),f.blockedOn=y,!1;h.shift()}return!0}function C_(f,h,y){Vb(f)&&y.delete(h)}function sI(){gE=!1,td!==null&&Vb(td)&&(td=null),nd!==null&&Vb(nd)&&(nd=null),rd!==null&&Vb(rd)&&(rd=null),jg.forEach(C_),Bg.forEach(C_)}function sp(f,h){f.blockedOn===h&&(f.blockedOn=null,gE||(gE=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sI)))}var qb=null;function T_(f){qb!==f&&(qb=f,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){qb===f&&(qb=null);for(var h=0;h<f.length;h+=3){var y=f[h],E=f[h+1],_=f[h+2];if(typeof E!="function"){if(mE(E||y)===null)continue;break}var D=Zi(y);D!==null&&(f.splice(h,3),h-=3,zu(D,{pending:!0,data:_,method:y.method,action:E},E,_))}}))}function lp(f){function h(de){return sp(de,f)}td!==null&&sp(td,f),nd!==null&&sp(nd,f),rd!==null&&sp(rd,f),jg.forEach(h),Bg.forEach(h);for(var y=0;y<id.length;y++){var E=id[y];E.blockedOn===f&&(E.blockedOn=null)}for(;0<id.length&&(y=id[0],y.blockedOn===null);)yE(y),y.blockedOn===null&&id.shift();if(y=(f.ownerDocument||f).$$reactFormReplay,y!=null)for(E=0;E<y.length;E+=3){var _=y[E],D=y[E+1],H=_[pt]||null;if(typeof D=="function")H||T_(y);else if(H){var J=null;if(D&&D.hasAttribute("formAction")){if(_=D,H=D[pt]||null)J=H.formAction;else if(mE(_)!==null)continue}else J=H.action;typeof J=="function"?y[E+1]=J:(y.splice(E,3),E-=3),T_(y)}}}function Wo(){function f(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(H){return _=H})},focusReset:"manual",scroll:"manual"})}function h(){_!==null&&(_(),_=null),E||setTimeout(y,20)}function y(){if(!E&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var E=!1,_=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(y,100),function(){E=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),_!==null&&(_(),_=null)}}}function $g(f){this._internalRoot=f}Wb.prototype.render=$g.prototype.render=function(f){var h=this._internalRoot;if(h===null)throw Error(r(409));var y=h.current,E=Ga();y_(y,E,f,h,null,null)},Wb.prototype.unmount=$g.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var h=f.containerInfo;y_(f.current,2,null,f,null,null),Tb(),h[xn]=null}};function Wb(f){this._internalRoot=f}Wb.prototype.unstable_scheduleHydration=function(f){if(f){var h=_t();f={blockedOn:null,target:f,priority:h};for(var y=0;y<id.length&&h!==0&&h<id[y].priority;y++);id.splice(y,0,f),y===0&&yE(f)}};var k_=t.version;if(k_!=="19.2.0")throw Error(r(527,k_,"19.2.0"));ne.findDOMNode=function(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=c(h),f=f!==null?d(f):null,f=f===null?null:f.stateNode,f};var lI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yb.isDisabled&&Yb.supportsFiber)try{or=Yb.inject(lI),Yn=Yb}catch{}}return vE.createRoot=function(f,h){if(!i(f))throw Error(r(299));var y=!1,E="",_=bw,D=vw,H=d2;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(H=h.onRecoverableError)),h=m_(f,1,!1,null,null,y,E,null,_,D,H,Wo),f[xn]=h.current,tE(f),new $g(h)},vE.hydrateRoot=function(f,h,y){if(!i(f))throw Error(r(299));var E=!1,_="",D=bw,H=vw,J=d2,de=null;return y!=null&&(y.unstable_strictMode===!0&&(E=!0),y.identifierPrefix!==void 0&&(_=y.identifierPrefix),y.onUncaughtError!==void 0&&(D=y.onUncaughtError),y.onCaughtError!==void 0&&(H=y.onCaughtError),y.onRecoverableError!==void 0&&(J=y.onRecoverableError),y.formState!==void 0&&(de=y.formState)),h=m_(f,1,!0,h,y??null,E,_,de,D,H,J,Wo),h.context=g_(null),y=h.current,E=Ga(),E=kt(E),_=Hu(E),_.callback=null,rl(y,_,E),y=E,h.current.lanes=y,se(h,y),Kl(h),f[xn]=h.current,tE(f),new Wb(h)},vE.version="19.2.0",vE}var mz;function T1e(){if(mz)return fI.exports;mz=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fI.exports=C1e(),fI.exports}var tre=T1e();const k1e=vr(tre);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nre=e=>{throw TypeError(e)},_1e=(e,t,n)=>t.has(e)||nre("Cannot "+n),gI=(e,t,n)=>(_1e(e,t,"read from private field"),n?n.call(e):t.get(e)),A1e=(e,t,n)=>t.has(e)?nre("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),gz="popstate";function O1e(e={}){function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return US("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xp(i)}return M1e(t,n,null,e)}function $n(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ji(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N1e(){return Math.random().toString(36).substring(2,10)}function yz(e,t){return{usr:e.state,key:e.key,idx:t}}function US(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?cm(t):t,state:n,key:t&&t.key||r||N1e()}}function Xp({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function M1e(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function u(){s="POP";let w=d(),T=w==null?null:w-c;c=w,l&&l({action:s,location:x.location,delta:T})}function p(w,T){s="PUSH";let k=US(x.location,w,T);c=d()+1;let O=yz(k,c),I=x.createHref(k);try{a.pushState(O,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}o&&l&&l({action:s,location:x.location,delta:1})}function m(w,T){s="REPLACE";let k=US(x.location,w,T);c=d();let O=yz(k,c),I=x.createHref(k);a.replaceState(O,"",I),o&&l&&l({action:s,location:x.location,delta:0})}function v(w){return rre(w)}let x={get action(){return s},get location(){return e(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gz,u),l=w,()=>{i.removeEventListener(gz,u),l=null}},createHref(w){return t(i,w)},createURL:v,encodeLocation(w){let T=v(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:m,go(w){return a.go(w)}};return x}function rre(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$n(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Xp(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var QE,bz=class{constructor(e){if(A1e(this,QE,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(gI(this,QE).has(e))return gI(this,QE).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){gI(this,QE).set(e,t)}};QE=new WeakMap;var D1e=new Set(["lazy","caseSensitive","path","id","index","children"]);function R1e(e){return D1e.has(e)}var I1e=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function P1e(e){return I1e.has(e)}function L1e(e){return e.index===!0}function zS(e,t,n=[],r={},i=!1){return e.map((o,a)=>{let s=[...n,String(a)],l=typeof o.id=="string"?o.id:s.join("-");if($n(o.index!==!0||!o.children,"Cannot specify children on an index route"),$n(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),L1e(o)){let c={...o,...t(o),id:l};return r[l]=c,c}else{let c={...o,...t(o),id:l,children:void 0};return r[l]=c,o.children&&(c.children=zS(o.children,t,s,r,i)),c}})}function Tp(e,t,n="/"){return LA(e,t,n,!1)}function LA(e,t,n,r){let i=typeof t=="string"?cm(t):t,o=bc(i.pathname||"/",n);if(o==null)return null;let a=ire(e);B1e(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=K1e(o);s=Y1e(a[l],c,r)}return s}function j1e(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function ire(e,t=[],n=[],r="",i=!1){let o=(a,s,l=i,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;$n(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let u=xd([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&($n(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),ire(a.children,t,p,u,l)),!(a.path==null&&!a.index)&&t.push({path:u,score:q1e(u,a.index),routesMeta:p})};return e.forEach((a,s)=>{if(a.path===""||!a.path?.includes("?"))o(a,s);else for(let l of ore(a.path))o(a,s,!0,l)}),t}function ore(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=ore(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function B1e(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:W1e(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var $1e=/^:[\w-]+$/,H1e=3,F1e=2,U1e=1,z1e=10,V1e=-2,vz=e=>e==="*";function q1e(e,t){let n=e.split("/"),r=n.length;return n.some(vz)&&(r+=V1e),t&&(r+=F1e),n.filter(i=>!vz(i)).reduce((i,o)=>i+($1e.test(o)?H1e:o===""?U1e:z1e),r)}function W1e(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Y1e(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",u=uO({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=uO({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:xd([o,u.pathname]),pathnameBase:J1e(xd([o,u.pathnameBase])),route:p}),u.pathnameBase!=="/"&&(o=xd([o,u.pathnameBase]))}return a}function uO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=G1e(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:u},p)=>{if(d==="*"){let v=s[p]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const m=s[p];return u&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function G1e(e,t=!1,n=!0){ji(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function K1e(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ji(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function bc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function X1e({basename:e,pathname:t}){return t==="/"?e:xd([e,t])}function Z1e(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?cm(e):e;return{pathname:n?n.startsWith("/")?n:Q1e(n,t):t,search:exe(r),hash:txe(i)}}function Q1e(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yI(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function are(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function GM(e){let t=are(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function KM(e,t,n,r=!1){let i;typeof e=="string"?i=cm(e):(i={...e},$n(!i.pathname||!i.pathname.includes("?"),yI("?","pathname","search",i)),$n(!i.pathname||!i.pathname.includes("#"),yI("#","pathname","hash",i)),$n(!i.search||!i.search.includes("#"),yI("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let u=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),u-=1;i.pathname=p.join("/")}s=u>=0?t[u]:"/"}let l=Z1e(i,s),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var xd=e=>e.join("/").replace(/\/\/+/g,"/"),J1e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),exe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,txe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,dO=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function VS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var sre=["POST","PUT","PATCH","DELETE"],nxe=new Set(sre),rxe=["GET",...sre],ixe=new Set(rxe),oxe=new Set([301,302,303,307,308]),axe=new Set([307,308]),bI={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sxe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xE={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},lxe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lH=e=>lxe.test(e),cxe=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),lre="remix-router-transitions",cre=Symbol("ResetLoaderData");function uxe(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";$n(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||cxe,o={},a=zS(e.routes,i,void 0,o),s,l=e.basename||"/";l.startsWith("/")||(l=`/${l}`);let c=e.dataStrategy||mxe,d={...e.future},u=null,p=new Set,m=null,v=null,x=null,w=e.hydrationData!=null,T=Tp(a,e.history.location,l),k=!1,O=null,I;if(T==null&&!e.patchRoutesOnNavigation){let se=tc(404,{pathname:e.history.location.pathname}),{matches:ye,route:Re}=__(a);I=!0,T=ye,O={[Re.id]:se}}else if(T&&!e.hydrationData&&on(T,a,e.history.location.pathname).active&&(T=null),T)if(T.some(se=>se.route.lazy))I=!1;else if(!T.some(se=>cH(se.route)))I=!0;else{let se=e.hydrationData?e.hydrationData.loaderData:null,ye=e.hydrationData?e.hydrationData.errors:null;if(ye){let Re=T.findIndex(Xe=>ye[Xe.route.id]!==void 0);I=T.slice(0,Re+1).every(Xe=>!N6(Xe.route,se,ye))}else I=T.every(Re=>!N6(Re.route,se,ye))}else{I=!1,T=[];let se=on(null,a,e.history.location.pathname);se.active&&se.matches&&(k=!0,T=se.matches)}let N,A={historyAction:e.history.action,location:e.history.location,matches:T,initialized:I,navigation:bI,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},R="POP",L=!1,B,$=!1,q=new Map,z=null,W=!1,G=!1,Z=new Set,V=new Map,ne=0,X=-1,oe=new Map,K=new Set,Q=new Map,te=new Map,U=new Set,fe=new Map,me,ke=null;function Ee(){if(u=e.history.listen(({action:se,location:ye,delta:Re})=>{if(me){me(),me=void 0;return}ji(fe.size===0||Re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Xe=lt({currentLocation:A.location,nextLocation:ye,historyAction:se});if(Xe&&Re!=null){let nt=new Promise(kt=>{me=kt});e.history.go(Re*-1),Ct(Xe,{state:"blocked",location:ye,proceed(){Ct(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),nt.then(()=>e.history.go(Re))},reset(){let kt=new Map(A.blockers);kt.set(Xe,xE),je({blockers:kt})}});return}return Fe(se,ye)}),n){Nxe(t,q);let se=()=>Mxe(t,q);t.addEventListener("pagehide",se),z=()=>t.removeEventListener("pagehide",se)}return A.initialized||Fe("POP",A.location,{initialHydration:!0}),N}function ve(){u&&u(),z&&z(),p.clear(),B&&B.abort(),A.fetchers.forEach((se,ye)=>qt(ye)),A.blockers.forEach((se,ye)=>xi(ye))}function we(se){return p.add(se),()=>p.delete(se)}function je(se,ye={}){se.matches&&(se.matches=se.matches.map(nt=>{let kt=o[nt.route.id],bt=nt.route;return bt.element!==kt.element||bt.errorElement!==kt.errorElement||bt.hydrateFallbackElement!==kt.hydrateFallbackElement?{...nt,route:kt}:nt})),A={...A,...se};let Re=[],Xe=[];A.fetchers.forEach((nt,kt)=>{nt.state==="idle"&&(U.has(kt)?Re.push(kt):Xe.push(kt))}),U.forEach(nt=>{!A.fetchers.has(nt)&&!V.has(nt)&&Re.push(nt)}),[...p].forEach(nt=>nt(A,{deletedFetchers:Re,viewTransitionOpts:ye.viewTransitionOpts,flushSync:ye.flushSync===!0})),Re.forEach(nt=>qt(nt)),Xe.forEach(nt=>A.fetchers.delete(nt))}function Ke(se,ye,{flushSync:Re}={}){let Xe=A.actionData!=null&&A.navigation.formMethod!=null&&Ps(A.navigation.formMethod)&&A.navigation.state==="loading"&&se.state?._isRedirect!==!0,nt;ye.actionData?Object.keys(ye.actionData).length>0?nt=ye.actionData:nt=null:Xe?nt=A.actionData:nt=null;let kt=ye.loaderData?Oz(A.loaderData,ye.loaderData,ye.matches||[],ye.errors):A.loaderData,bt=A.blockers;bt.size>0&&(bt=new Map(bt),bt.forEach((ft,pt)=>bt.set(pt,xE)));let _t=W?!1:xt(se,ye.matches||A.matches),$t=L===!0||A.navigation.formMethod!=null&&Ps(A.navigation.formMethod)&&se.state?._isRedirect!==!0;s&&(a=s,s=void 0),W||R==="POP"||(R==="PUSH"?e.history.push(se,se.state):R==="REPLACE"&&e.history.replace(se,se.state));let Ht;if(R==="POP"){let ft=q.get(A.location.pathname);ft&&ft.has(se.pathname)?Ht={currentLocation:A.location,nextLocation:se}:q.has(se.pathname)&&(Ht={currentLocation:se,nextLocation:A.location})}else if($){let ft=q.get(A.location.pathname);ft?ft.add(se.pathname):(ft=new Set([se.pathname]),q.set(A.location.pathname,ft)),Ht={currentLocation:A.location,nextLocation:se}}je({...ye,actionData:nt,loaderData:kt,historyAction:R,location:se,initialized:!0,navigation:bI,revalidation:"idle",restoreScrollPosition:_t,preventScrollReset:$t,blockers:bt},{viewTransitionOpts:Ht,flushSync:Re===!0}),R="POP",L=!1,$=!1,W=!1,G=!1,ke?.resolve(),ke=null}async function De(se,ye){if(typeof se=="number"){e.history.go(se);return}let Re=O6(A.location,A.matches,l,se,ye?.fromRouteId,ye?.relative),{path:Xe,submission:nt,error:kt}=xz(!1,Re,ye),bt=A.location,_t=US(A.location,Xe,ye&&ye.state);_t={..._t,...e.history.encodeLocation(_t)};let $t=ye&&ye.replace!=null?ye.replace:void 0,Ht="PUSH";$t===!0?Ht="REPLACE":$t===!1||nt!=null&&Ps(nt.formMethod)&&nt.formAction===A.location.pathname+A.location.search&&(Ht="REPLACE");let ft=ye&&"preventScrollReset"in ye?ye.preventScrollReset===!0:void 0,pt=(ye&&ye.flushSync)===!0,xn=lt({currentLocation:bt,nextLocation:_t,historyAction:Ht});if(xn){Ct(xn,{state:"blocked",location:_t,proceed(){Ct(xn,{state:"proceeding",proceed:void 0,reset:void 0,location:_t}),De(se,ye)},reset(){let mr=new Map(A.blockers);mr.set(xn,xE),je({blockers:mr})}});return}await Fe(Ht,_t,{submission:nt,pendingError:kt,preventScrollReset:ft,replace:ye&&ye.replace,enableViewTransition:ye&&ye.viewTransition,flushSync:pt})}function It(){ke||(ke=Dxe()),Qe(),je({revalidation:"loading"});let se=ke.promise;return A.navigation.state==="submitting"?se:A.navigation.state==="idle"?(Fe(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),se):(Fe(R||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:$===!0}),se)}async function Fe(se,ye,Re){B&&B.abort(),B=null,R=se,W=(Re&&Re.startUninterruptedRevalidation)===!0,vt(A.location,A.matches),L=(Re&&Re.preventScrollReset)===!0,$=(Re&&Re.enableViewTransition)===!0;let Xe=s||a,nt=Re&&Re.overrideNavigation,kt=Re?.initialHydration&&A.matches&&A.matches.length>0&&!k?A.matches:Tp(Xe,ye,l),bt=(Re&&Re.flushSync)===!0;if(kt&&A.initialized&&!G&&Sxe(A.location,ye)&&!(Re&&Re.submission&&Ps(Re.submission.formMethod))){Ke(ye,{matches:kt},{flushSync:bt});return}let _t=on(kt,Xe,ye.pathname);if(_t.active&&_t.matches&&(kt=_t.matches),!kt){let{error:po,notFoundMatches:Dr,route:ar}=ct(ye.pathname);Ke(ye,{matches:Dr,loaderData:{},errors:{[ar.id]:po}},{flushSync:bt});return}B=new AbortController;let $t=uv(e.history,ye,B.signal,Re&&Re.submission),Ht=e.getContext?await e.getContext():new bz,ft;if(Re&&Re.pendingError)ft=[kp(kt).route.id,{type:"error",error:Re.pendingError}];else if(Re&&Re.submission&&Ps(Re.submission.formMethod)){let po=await an($t,ye,Re.submission,kt,Ht,_t.active,Re&&Re.initialHydration===!0,{replace:Re.replace,flushSync:bt});if(po.shortCircuited)return;if(po.pendingActionResult){let[Dr,ar]=po.pendingActionResult;if(wl(ar)&&VS(ar.error)&&ar.error.status===404){B=null,Ke(ye,{matches:po.matches,loaderData:{},errors:{[Dr]:ar.error}});return}}kt=po.matches||kt,ft=po.pendingActionResult,nt=vI(ye,Re.submission),bt=!1,_t.active=!1,$t=uv(e.history,$t.url,$t.signal)}let{shortCircuited:pt,matches:xn,loaderData:mr,errors:Oi}=await cn($t,ye,kt,Ht,_t.active,nt,Re&&Re.submission,Re&&Re.fetcherSubmission,Re&&Re.replace,Re&&Re.initialHydration===!0,bt,ft);pt||(B=null,Ke(ye,{matches:xn||kt,...Nz(ft),loaderData:mr,errors:Oi}))}async function an(se,ye,Re,Xe,nt,kt,bt,_t={}){Qe();let $t=Axe(ye,Re);if(je({navigation:$t},{flushSync:_t.flushSync===!0}),kt){let pt=await Gn(Xe,ye.pathname,se.signal);if(pt.type==="aborted")return{shortCircuited:!0};if(pt.type==="error"){if(pt.partialMatches.length===0){let{matches:mr,route:Oi}=__(a);return{matches:mr,pendingActionResult:[Oi.id,{type:"error",error:pt.error}]}}let xn=kp(pt.partialMatches).route.id;return{matches:pt.partialMatches,pendingActionResult:[xn,{type:"error",error:pt.error}]}}else if(pt.matches)Xe=pt.matches;else{let{notFoundMatches:xn,error:mr,route:Oi}=ct(ye.pathname);return{matches:xn,pendingActionResult:[Oi.id,{type:"error",error:mr}]}}}let Ht,ft=jA(Xe,ye);if(!ft.route.action&&!ft.route.lazy)Ht={type:"error",error:tc(405,{method:se.method,pathname:ye.pathname,routeId:ft.route.id})};else{let pt=Mv(i,o,se,Xe,ft,bt?[]:r,nt),xn=await Je(se,pt,nt,null);if(Ht=xn[ft.route.id],!Ht){for(let mr of Xe)if(xn[mr.route.id]){Ht=xn[mr.route.id];break}}if(se.signal.aborted)return{shortCircuited:!0}}if(Jg(Ht)){let pt;return _t&&_t.replace!=null?pt=_t.replace:pt=kz(Ht.response.headers.get("Location"),new URL(se.url),l)===A.location.pathname+A.location.search,await Te(se,Ht,!0,{submission:Re,replace:pt}),{shortCircuited:!0}}if(wl(Ht)){let pt=kp(Xe,ft.route.id);return(_t&&_t.replace)!==!0&&(R="PUSH"),{matches:Xe,pendingActionResult:[pt.route.id,Ht,ft.route.id]}}return{matches:Xe,pendingActionResult:[ft.route.id,Ht]}}async function cn(se,ye,Re,Xe,nt,kt,bt,_t,$t,Ht,ft,pt){let xn=kt||vI(ye,bt),mr=bt||_t||Dz(xn),Oi=!W&&!Ht;if(nt){if(Oi){let $i=Qt(pt);je({navigation:xn,...$i!==void 0?{actionData:$i}:{}},{flushSync:ft})}let yn=await Gn(Re,ye.pathname,se.signal);if(yn.type==="aborted")return{shortCircuited:!0};if(yn.type==="error"){if(yn.partialMatches.length===0){let{matches:kc,route:Hl}=__(a);return{matches:kc,loaderData:{},errors:{[Hl.id]:yn.error}}}let $i=kp(yn.partialMatches).route.id;return{matches:yn.partialMatches,loaderData:{},errors:{[$i]:yn.error}}}else if(yn.matches)Re=yn.matches;else{let{error:$i,notFoundMatches:kc,route:Hl}=ct(ye.pathname);return{matches:kc,loaderData:{},errors:{[Hl.id]:$i}}}}let po=s||a,{dsMatches:Dr,revalidatingFetchers:ar}=wz(se,Xe,i,o,e.history,A,Re,mr,ye,Ht?[]:r,Ht===!0,G,Z,U,Q,K,po,l,e.patchRoutesOnNavigation!=null,pt);if(X=++ne,!e.dataStrategy&&!Dr.some(yn=>yn.shouldLoad)&&!Dr.some(yn=>yn.route.middleware&&yn.route.middleware.length>0)&&ar.length===0){let yn=Yn();return Ke(ye,{matches:Re,loaderData:{},errors:pt&&wl(pt[1])?{[pt[0]]:pt[1].error}:null,...Nz(pt),...yn?{fetchers:new Map(A.fetchers)}:{}},{flushSync:ft}),{shortCircuited:!0}}if(Oi){let yn={};if(!nt){yn.navigation=xn;let $i=Qt(pt);$i!==void 0&&(yn.actionData=$i)}ar.length>0&&(yn.fetchers=Vr(ar)),je(yn,{flushSync:ft})}ar.forEach(yn=>{Tn(yn.key),yn.controller&&V.set(yn.key,yn.controller)});let Xs=()=>ar.forEach(yn=>Tn(yn.key));B&&B.signal.addEventListener("abort",Xs);let{loaderResults:ds,fetcherResults:Zi}=await Ze(Dr,ar,se,Xe);if(se.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",Xs),ar.forEach(yn=>V.delete(yn.key));let Ao=A_(ds);if(Ao)return await Te(se,Ao.result,!0,{replace:$t}),{shortCircuited:!0};if(Ao=A_(Zi),Ao)return K.add(Ao.key),await Te(se,Ao.result,!0,{replace:$t}),{shortCircuited:!0};let{loaderData:Ma,errors:qr}=Az(A,Re,ds,pt,ar,Zi);Ht&&A.errors&&(qr={...A.errors,...qr});let $l=Yn(),Vd=xr(X),Da=$l||Vd||ar.length>0;return{matches:Re,loaderData:Ma,errors:qr,...Da?{fetchers:new Map(A.fetchers)}:{}}}function Qt(se){if(se&&!wl(se[1]))return{[se[0]]:se[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Vr(se){return se.forEach(ye=>{let Re=A.fetchers.get(ye.key),Xe=wE(void 0,Re?Re.data:void 0);A.fetchers.set(ye.key,Xe)}),new Map(A.fetchers)}async function er(se,ye,Re,Xe){Tn(se);let nt=(Xe&&Xe.flushSync)===!0,kt=s||a,bt=O6(A.location,A.matches,l,Re,ye,Xe?.relative),_t=Tp(kt,bt,l),$t=on(_t,kt,bt);if($t.active&&$t.matches&&(_t=$t.matches),!_t){Be(se,ye,tc(404,{pathname:bt}),{flushSync:nt});return}let{path:Ht,submission:ft,error:pt}=xz(!0,bt,Xe);if(pt){Be(se,ye,pt,{flushSync:nt});return}let xn=e.getContext?await e.getContext():new bz,mr=(Xe&&Xe.preventScrollReset)===!0;if(ft&&Ps(ft.formMethod)){await ce(se,ye,Ht,_t,xn,$t.active,nt,mr,ft);return}Q.set(se,{routeId:ye,path:Ht}),await xe(se,ye,Ht,_t,xn,$t.active,nt,mr,ft)}async function ce(se,ye,Re,Xe,nt,kt,bt,_t,$t){Qe(),Q.delete(se);let Ht=A.fetchers.get(se);ge(se,Oxe($t,Ht),{flushSync:bt});let ft=new AbortController,pt=uv(e.history,Re,ft.signal,$t);if(kt){let wi=await Gn(Xe,new URL(pt.url).pathname,pt.signal,se);if(wi.type==="aborted")return;if(wi.type==="error"){Be(se,ye,wi.error,{flushSync:bt});return}else if(wi.matches)Xe=wi.matches;else{Be(se,ye,tc(404,{pathname:Re}),{flushSync:bt});return}}let xn=jA(Xe,Re);if(!xn.route.action&&!xn.route.lazy){let wi=tc(405,{method:$t.formMethod,pathname:Re,routeId:ye});Be(se,ye,wi,{flushSync:bt});return}V.set(se,ft);let mr=ne,Oi=Mv(i,o,pt,Xe,xn,r,nt),Dr=(await Je(pt,Oi,nt,se))[xn.route.id];if(pt.signal.aborted){V.get(se)===ft&&V.delete(se);return}if(U.has(se)){if(Jg(Dr)||wl(Dr)){ge(se,Tf(void 0));return}}else{if(Jg(Dr))if(V.delete(se),X>mr){ge(se,Tf(void 0));return}else return K.add(se),ge(se,wE($t)),Te(pt,Dr,!1,{fetcherSubmission:$t,preventScrollReset:_t});if(wl(Dr)){Be(se,ye,Dr.error);return}}let ar=A.navigation.location||A.location,Xs=uv(e.history,ar,ft.signal),ds=s||a,Zi=A.navigation.state!=="idle"?Tp(ds,A.navigation.location,l):A.matches;$n(Zi,"Didn't find any matches after fetcher action");let Ao=++ne;oe.set(se,Ao);let Ma=wE($t,Dr.data);A.fetchers.set(se,Ma);let{dsMatches:qr,revalidatingFetchers:$l}=wz(Xs,nt,i,o,e.history,A,Zi,$t,ar,r,!1,G,Z,U,Q,K,ds,l,e.patchRoutesOnNavigation!=null,[xn.route.id,Dr]);$l.filter(wi=>wi.key!==se).forEach(wi=>{let _c=wi.key,Ou=A.fetchers.get(_c),fs=wE(void 0,Ou?Ou.data:void 0);A.fetchers.set(_c,fs),Tn(_c),wi.controller&&V.set(_c,wi.controller)}),je({fetchers:new Map(A.fetchers)});let Vd=()=>$l.forEach(wi=>Tn(wi.key));ft.signal.addEventListener("abort",Vd);let{loaderResults:Da,fetcherResults:yn}=await Ze(qr,$l,Xs,nt);if(ft.signal.aborted)return;if(ft.signal.removeEventListener("abort",Vd),oe.delete(se),V.delete(se),$l.forEach(wi=>V.delete(wi.key)),A.fetchers.has(se)){let wi=Tf(Dr.data);A.fetchers.set(se,wi)}let $i=A_(Da);if($i)return Te(Xs,$i.result,!1,{preventScrollReset:_t});if($i=A_(yn),$i)return K.add($i.key),Te(Xs,$i.result,!1,{preventScrollReset:_t});let{loaderData:kc,errors:Hl}=Az(A,Zi,Da,void 0,$l,yn);xr(Ao),A.navigation.state==="loading"&&Ao>X?($n(R,"Expected pending action"),B&&B.abort(),Ke(A.navigation.location,{matches:Zi,loaderData:kc,errors:Hl,fetchers:new Map(A.fetchers)})):(je({errors:Hl,loaderData:Oz(A.loaderData,kc,Zi,Hl),fetchers:new Map(A.fetchers)}),G=!1)}async function xe(se,ye,Re,Xe,nt,kt,bt,_t,$t){let Ht=A.fetchers.get(se);ge(se,wE($t,Ht?Ht.data:void 0),{flushSync:bt});let ft=new AbortController,pt=uv(e.history,Re,ft.signal);if(kt){let ar=await Gn(Xe,new URL(pt.url).pathname,pt.signal,se);if(ar.type==="aborted")return;if(ar.type==="error"){Be(se,ye,ar.error,{flushSync:bt});return}else if(ar.matches)Xe=ar.matches;else{Be(se,ye,tc(404,{pathname:Re}),{flushSync:bt});return}}let xn=jA(Xe,Re);V.set(se,ft);let mr=ne,Oi=Mv(i,o,pt,Xe,xn,r,nt),Dr=(await Je(pt,Oi,nt,se))[xn.route.id];if(V.get(se)===ft&&V.delete(se),!pt.signal.aborted){if(U.has(se)){ge(se,Tf(void 0));return}if(Jg(Dr))if(X>mr){ge(se,Tf(void 0));return}else{K.add(se),await Te(pt,Dr,!1,{preventScrollReset:_t});return}if(wl(Dr)){Be(se,ye,Dr.error);return}ge(se,Tf(Dr.data))}}async function Te(se,ye,Re,{submission:Xe,fetcherSubmission:nt,preventScrollReset:kt,replace:bt}={}){ye.response.headers.has("X-Remix-Revalidate")&&(G=!0);let _t=ye.response.headers.get("Location");$n(_t,"Expected a Location header on the redirect Response"),_t=kz(_t,new URL(se.url),l);let $t=US(A.location,_t,{_isRedirect:!0});if(n){let Oi=!1;if(ye.response.headers.has("X-Remix-Reload-Document"))Oi=!0;else if(lH(_t)){const po=rre(_t,!0);Oi=po.origin!==t.location.origin||bc(po.pathname,l)==null}if(Oi){bt?t.location.replace(_t):t.location.assign(_t);return}}B=null;let Ht=bt===!0||ye.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ft,formAction:pt,formEncType:xn}=A.navigation;!Xe&&!nt&&ft&&pt&&xn&&(Xe=Dz(A.navigation));let mr=Xe||nt;if(axe.has(ye.response.status)&&mr&&Ps(mr.formMethod))await Fe(Ht,$t,{submission:{...mr,formAction:_t},preventScrollReset:kt||L,enableViewTransition:Re?$:void 0});else{let Oi=vI($t,Xe);await Fe(Ht,$t,{overrideNavigation:Oi,fetcherSubmission:nt,preventScrollReset:kt||L,enableViewTransition:Re?$:void 0})}}async function Je(se,ye,Re,Xe){let nt,kt={};try{nt=await yxe(c,se,ye,Xe,Re,!1)}catch(bt){return ye.filter(_t=>_t.shouldLoad).forEach(_t=>{kt[_t.route.id]={type:"error",error:bt}}),kt}if(se.signal.aborted)return kt;for(let[bt,_t]of Object.entries(nt))if(kxe(_t)){let $t=_t.result;kt[bt]={type:"redirect",response:wxe($t,se,bt,ye,l)}}else kt[bt]=await xxe(_t);return kt}async function Ze(se,ye,Re,Xe){let nt=Je(Re,se,Xe,null),kt=Promise.all(ye.map(async $t=>{if($t.matches&&$t.match&&$t.request&&$t.controller){let ft=(await Je($t.request,$t.matches,Xe,$t.key))[$t.match.route.id];return{[$t.key]:ft}}else return Promise.resolve({[$t.key]:{type:"error",error:tc(404,{pathname:$t.path})}})})),bt=await nt,_t=(await kt).reduce(($t,Ht)=>Object.assign($t,Ht),{});return{loaderResults:bt,fetcherResults:_t}}function Qe(){G=!0,Q.forEach((se,ye)=>{V.has(ye)&&Z.add(ye),Tn(ye)})}function ge(se,ye,Re={}){A.fetchers.set(se,ye),je({fetchers:new Map(A.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function Be(se,ye,Re,Xe={}){let nt=kp(A.matches,ye);qt(se),je({errors:{[nt.route.id]:Re},fetchers:new Map(A.fetchers)},{flushSync:(Xe&&Xe.flushSync)===!0})}function it(se){return te.set(se,(te.get(se)||0)+1),U.has(se)&&U.delete(se),A.fetchers.get(se)||sxe}function At(se,ye){Tn(se,ye?.reason),ge(se,Tf(null))}function qt(se){let ye=A.fetchers.get(se);V.has(se)&&!(ye&&ye.state==="loading"&&oe.has(se))&&Tn(se),Q.delete(se),oe.delete(se),K.delete(se),U.delete(se),Z.delete(se),A.fetchers.delete(se)}function Zn(se){let ye=(te.get(se)||0)-1;ye<=0?(te.delete(se),U.add(se)):te.set(se,ye),je({fetchers:new Map(A.fetchers)})}function Tn(se,ye){let Re=V.get(se);Re&&(Re.abort(ye),V.delete(se))}function or(se){for(let ye of se){let Re=it(ye),Xe=Tf(Re.data);A.fetchers.set(ye,Xe)}}function Yn(){let se=[],ye=!1;for(let Re of K){let Xe=A.fetchers.get(Re);$n(Xe,`Expected fetcher: ${Re}`),Xe.state==="loading"&&(K.delete(Re),se.push(Re),ye=!0)}return or(se),ye}function xr(se){let ye=[];for(let[Re,Xe]of oe)if(Xe<se){let nt=A.fetchers.get(Re);$n(nt,`Expected fetcher: ${Re}`),nt.state==="loading"&&(Tn(Re),oe.delete(Re),ye.push(Re))}return or(ye),ye.length>0}function un(se,ye){let Re=A.blockers.get(se)||xE;return fe.get(se)!==ye&&fe.set(se,ye),Re}function xi(se){A.blockers.delete(se),fe.delete(se)}function Ct(se,ye){let Re=A.blockers.get(se)||xE;$n(Re.state==="unblocked"&&ye.state==="blocked"||Re.state==="blocked"&&ye.state==="blocked"||Re.state==="blocked"&&ye.state==="proceeding"||Re.state==="blocked"&&ye.state==="unblocked"||Re.state==="proceeding"&&ye.state==="unblocked",`Invalid blocker state transition: ${Re.state} -> ${ye.state}`);let Xe=new Map(A.blockers);Xe.set(se,ye),je({blockers:Xe})}function lt({currentLocation:se,nextLocation:ye,historyAction:Re}){if(fe.size===0)return;fe.size>1&&ji(!1,"A router only supports one blocker at a time");let Xe=Array.from(fe.entries()),[nt,kt]=Xe[Xe.length-1],bt=A.blockers.get(nt);if(!(bt&&bt.state==="proceeding")&&kt({currentLocation:se,nextLocation:ye,historyAction:Re}))return nt}function ct(se){let ye=tc(404,{pathname:se}),Re=s||a,{matches:Xe,route:nt}=__(Re);return{notFoundMatches:Xe,route:nt,error:ye}}function Tt(se,ye,Re){if(m=se,x=ye,v=Re||null,!w&&A.navigation===bI){w=!0;let Xe=xt(A.location,A.matches);Xe!=null&&je({restoreScrollPosition:Xe})}return()=>{m=null,x=null,v=null}}function jt(se,ye){return v&&v(se,ye.map(Xe=>j1e(Xe,A.loaderData)))||se.key}function vt(se,ye){if(m&&x){let Re=jt(se,ye);m[Re]=x()}}function xt(se,ye){if(m){let Re=jt(se,ye),Xe=m[Re];if(typeof Xe=="number")return Xe}return null}function on(se,ye,Re){if(e.patchRoutesOnNavigation)if(se){if(Object.keys(se[0].params).length>0)return{active:!0,matches:LA(ye,Re,l,!0)}}else return{active:!0,matches:LA(ye,Re,l,!0)||[]};return{active:!1,matches:null}}async function Gn(se,ye,Re,Xe){if(!e.patchRoutesOnNavigation)return{type:"success",matches:se};let nt=se;for(;;){let kt=s==null,bt=s||a,_t=o;try{await e.patchRoutesOnNavigation({signal:Re,path:ye,matches:nt,fetcherKey:Xe,patch:(ft,pt)=>{Re.aborted||Ez(ft,pt,bt,_t,i,!1)}})}catch(ft){return{type:"error",error:ft,partialMatches:nt}}finally{kt&&!Re.aborted&&(a=[...a])}if(Re.aborted)return{type:"aborted"};let $t=Tp(bt,ye,l);if($t)return{type:"success",matches:$t};let Ht=LA(bt,ye,l,!0);if(!Ht||nt.length===Ht.length&&nt.every((ft,pt)=>ft.route.id===Ht[pt].route.id))return{type:"success",matches:null};nt=Ht}}function Hn(se){o={},s=zS(se,i,void 0,o)}function di(se,ye,Re=!1){let Xe=s==null;Ez(se,ye,s||a,o,i,Re),Xe&&(a=[...a],je({}))}return N={get basename(){return l},get future(){return d},get state(){return A},get routes(){return a},get window(){return t},initialize:Ee,subscribe:we,enableScrollRestoration:Tt,navigate:De,fetch:er,revalidate:It,createHref:se=>e.history.createHref(se),encodeLocation:se=>e.history.encodeLocation(se),getFetcher:it,resetFetcher:At,deleteFetcher:Zn,dispose:ve,getBlocker:un,deleteBlocker:xi,patchRoutes:di,_internalFetchControllers:V,_internalSetRoutes:Hn,_internalSetStateDoNotUseOrYouWillBreakYourApp(se){je(se)}},N}function dxe(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function O6(e,t,n,r,i,o){let a,s;if(i){a=[];for(let c of t)if(a.push(c),c.route.id===i){s=c;break}}else a=t,s=t[t.length-1];let l=KM(r||".",GM(a),bc(e.pathname,n)||e.pathname,o==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&s){let c=uH(l.search);if(s.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&c){let d=new URLSearchParams(l.search),u=d.getAll("index");d.delete("index"),u.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();l.search=p?`?${p}`:""}}return n!=="/"&&(l.pathname=X1e({basename:n,pathname:l.pathname})),Xp(l)}function xz(e,t,n){if(!n||!dxe(n))return{path:t};if(n.formMethod&&!_xe(n.formMethod))return{path:t,error:tc(405,{method:n.formMethod})};let r=()=>({path:t,error:tc(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),a=mre(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ps(o))return r();let u=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[m,v])=>`${p}${m}=${v}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:u}}}else if(n.formEncType==="application/json"){if(!Ps(o))return r();try{let u=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:u,text:void 0}}}catch{return r()}}}$n(typeof FormData=="function","FormData is not available in this environment");let s,l;if(n.formData)s=D6(n.formData),l=n.formData;else if(n.body instanceof FormData)s=D6(n.body),l=n.body;else if(n.body instanceof URLSearchParams)s=n.body,l=_z(s);else if(n.body==null)s=new URLSearchParams,l=new FormData;else try{s=new URLSearchParams(n.body),l=_z(s)}catch{return r()}let c={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Ps(c.formMethod))return{path:t,submission:c};let d=cm(t);return e&&d.search&&uH(d.search)&&s.append("index",""),d.search=`?${s}`,{path:Xp(d),submission:c}}function wz(e,t,n,r,i,o,a,s,l,c,d,u,p,m,v,x,w,T,k,O){let I=O?wl(O[1])?O[1].error:O[1].data:void 0,N=i.createURL(o.location),A=i.createURL(l),R;if(d&&o.errors){let W=Object.keys(o.errors)[0];R=a.findIndex(G=>G.route.id===W)}else if(O&&wl(O[1])){let W=O[0];R=a.findIndex(G=>G.route.id===W)-1}let L=O?O[1].statusCode:void 0,B=L&&L>=400,$={currentUrl:N,currentParams:o.matches[0]?.params||{},nextUrl:A,nextParams:a[0].params,...s,actionResult:I,actionStatus:L},q=a.map((W,G)=>{let{route:Z}=W,V=null;if(R!=null&&G>R?V=!1:Z.lazy?V=!0:cH(Z)?d?V=N6(Z,o.loaderData,o.errors):fxe(o.loaderData,o.matches[G],W)&&(V=!0):V=!1,V!==null)return M6(n,r,e,W,c,t,V);let ne=B?!1:u||N.pathname+N.search===A.pathname+A.search||N.search!==A.search||hxe(o.matches[G],W),X={...$,defaultShouldRevalidate:ne},oe=fO(W,X);return M6(n,r,e,W,c,t,oe,X)}),z=[];return v.forEach((W,G)=>{if(d||!a.some(te=>te.route.id===W.routeId)||m.has(G))return;let Z=o.fetchers.get(G),V=Z&&Z.state!=="idle"&&Z.data===void 0,ne=Tp(w,W.path,T);if(!ne){if(k&&V)return;z.push({key:G,routeId:W.routeId,path:W.path,matches:null,match:null,request:null,controller:null});return}if(x.has(G))return;let X=jA(ne,W.path),oe=new AbortController,K=uv(i,W.path,oe.signal),Q=null;if(p.has(G))p.delete(G),Q=Mv(n,r,K,ne,X,c,t);else if(V)u&&(Q=Mv(n,r,K,ne,X,c,t));else{let te={...$,defaultShouldRevalidate:B?!1:u};fO(X,te)&&(Q=Mv(n,r,K,ne,X,c,t,te))}Q&&z.push({key:G,routeId:W.routeId,path:W.path,matches:Q,match:X,request:K,controller:oe})}),{dsMatches:q,revalidatingFetchers:z}}function cH(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function N6(e,t,n){if(e.lazy)return!0;if(!cH(e))return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function fxe(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function hxe(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function fO(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Ez(e,t,n,r,i,o){let a;if(e){let c=r[e];$n(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),a=c.children}else a=n;let s=[],l=[];if(t.forEach(c=>{let d=a.find(u=>ure(c,u));d?l.push({existingRoute:d,newRoute:c}):s.push(c)}),s.length>0){let c=zS(s,i,[e||"_","patch",String(a?.length||"0")],r);a.push(...c)}if(o&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:d,newRoute:u}=l[c],p=d,[m]=zS([u],i,[],{},!0);Object.assign(p,{element:m.element?m.element:p.element,errorElement:m.errorElement?m.errorElement:p.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:p.hydrateFallbackElement})}}function ure(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>ure(n,i))):!1}var Sz=new WeakMap,dre=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if($n(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[e];if(!o)return;let a=Sz.get(i);a||(a={},Sz.set(i,a));let s=a[e];if(s)return s;let l=(async()=>{let c=R1e(e),u=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)ji(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(u)ji(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await o();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return a[e]=l,l},Cz=new WeakMap;function pxe(e,t,n,r,i){let o=n[e.id];if($n(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=Cz.get(o);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let u=(async()=>{$n(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),m={};for(let v in p){let x=p[v];if(x===void 0)continue;let w=P1e(v),k=o[v]!==void 0&&v!=="hasErrorBoundary";w?ji(!w,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?ji(!k,`Route "${o.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):m[v]=x}Object.assign(o,m),Object.assign(o,{...r(o),lazy:void 0})})();return Cz.set(o,u),u.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:u}}let a=Object.keys(e.lazy),s=[],l;for(let d of a){if(i&&i.includes(d))continue;let u=dre({key:d,route:e,manifest:n,mapRouteProperties:r});u&&(s.push(u),d===t&&(l=u))}let c=s.length>0?Promise.all(s).then(()=>{}):void 0;return c?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function Tz(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,o)=>{n[t[o].route.id]=i}),n}async function mxe(e){return e.matches.some(t=>t.route.middleware)?fre(e,()=>Tz(e)):Tz(e)}function fre(e,t){return gxe(e,t,r=>r,Cxe,n);function n(r,i,o){if(o)return Promise.resolve(Object.assign(o.value,{[i]:{type:"error",result:r}}));{let{matches:a}=e,s=Math.min(Math.max(a.findIndex(c=>c.route.id===i),0),Math.max(a.findIndex(c=>c.unstable_shouldCallHandler()),0)),l=kp(a,a[s].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:r}})}}}async function gxe(e,t,n,r,i){let{matches:o,request:a,params:s,context:l}=e,c=o.flatMap(u=>u.route.middleware?u.route.middleware.map(p=>[u.route.id,p]):[]);return await hre({request:a,params:s,context:l},c,t,n,r,i)}async function hre(e,t,n,r,i,o,a=0){let{request:s}=e;if(s.signal.aborted)throw s.signal.reason??new Error(`Request aborted: ${s.method} ${s.url}`);let l=t[a];if(!l)return await n();let[c,d]=l,u,p=async()=>{if(u)throw new Error("You may only call `next()` once per middleware");try{return u={value:await hre(e,t,n,r,i,o,a+1)},u.value}catch(m){return u={value:await o(m,c,u)},u.value}};try{let m=await d(e,p),v=m!=null?r(m):void 0;return i(v)?v:u?v??u.value:(u={value:await p()},u.value)}catch(m){return await o(m,c,u)}}function pre(e,t,n,r,i){let o=dre({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),a=pxe(r.route,Ps(n.method)?"action":"loader",t,e,i);return{middleware:o,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function M6(e,t,n,r,i,o,a,s=null){let l=!1,c=pre(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:a,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler(d){return l=!0,s?typeof d=="boolean"?fO(r,{...s,defaultShouldRevalidate:d}):fO(r,s):a},resolve(d){let{lazy:u,loader:p,middleware:m}=r.route,v=l||a||d&&!Ps(n.method)&&(u||p),x=m&&m.length>0&&!p&&!u;return v&&!x?bxe({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:d,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Mv(e,t,n,r,i,o,a,s=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler:()=>!1,_lazyPromises:pre(e,t,n,l,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:M6(e,t,n,l,o,a,!0,s))}async function yxe(e,t,n,r,i,o){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let a={request:t,params:n[0].params,context:i,matches:n},l=await e({...a,fetcherKey:r,runClientMiddleware:c=>{let d=a;return fre(d,()=>c({...d,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return l}async function bxe({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let a,s,l=Ps(e.method),c=l?"action":"loader",d=u=>{let p,m=new Promise((w,T)=>p=T);s=()=>p(),e.signal.addEventListener("abort",s);let v=w=>typeof u!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):u({request:e,params:t.params,context:o},...w!==void 0?[w]:[]),x=(async()=>{try{return{type:"data",result:await(i?i(T=>v(T)):v())}}catch(w){return{type:"error",result:w}}})();return Promise.race([x,m])};try{let u=l?t.route.action:t.route.loader;if(n||r)if(u){let p,[m]=await Promise.all([d(u).catch(v=>{p=v}),n,r]);if(p!==void 0)throw p;a=m}else{await n;let p=l?t.route.action:t.route.loader;if(p)[a]=await Promise.all([d(p),r]);else if(c==="action"){let m=new URL(e.url),v=m.pathname+m.search;throw tc(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(u)a=await d(u);else{let p=new URL(e.url),m=p.pathname+p.search;throw tc(404,{pathname:m})}}catch(u){return{type:"error",result:u}}finally{s&&e.signal.removeEventListener("abort",s)}return a}async function vxe(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function xxe(e){let{result:t,type:n}=e;if(gre(t)){let r;try{r=await vxe(t)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new dO(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?Mz(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new dO(t.init?.status||500,void 0,t.data),statusCode:VS(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:VS(t)?t.status:void 0}:Mz(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function wxe(e,t,n,r,i){let o=e.headers.get("Location");if($n(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!lH(o)){let a=r.slice(0,r.findIndex(s=>s.route.id===n)+1);o=O6(new URL(t.url),a,i,o),e.headers.set("Location",o)}return e}function kz(e,t,n){if(lH(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=bc(i.pathname,n)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function uv(e,t,n,r){let i=e.createURL(mre(t)).toString(),o={signal:n};if(r&&Ps(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=D6(r.formData):o.body=r.formData}return new Request(i,o)}function D6(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function _z(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Exe(e,t,n,r=!1,i=!1){let o={},a=null,s,l=!1,c={},d=n&&wl(n[1])?n[1].error:void 0;return e.forEach(u=>{if(!(u.route.id in t))return;let p=u.route.id,m=t[p];if($n(!Jg(m),"Cannot handle redirect results in processLoaderData"),wl(m)){let v=m.error;if(d!==void 0&&(v=d,d=void 0),a=a||{},i)a[p]=v;else{let x=kp(e,p);a[x.route.id]==null&&(a[x.route.id]=v)}r||(o[p]=cre),l||(l=!0,s=VS(m.error)?m.error.status:500),m.headers&&(c[p]=m.headers)}else o[p]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(s=m.statusCode),m.headers&&(c[p]=m.headers)}),d!==void 0&&n&&(a={[n[0]]:d},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:c}}function Az(e,t,n,r,i,o){let{loaderData:a,errors:s}=Exe(t,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:d,controller:u}=l;if(u&&u.signal.aborted)return;let p=o[c];if($n(p,"Did not find corresponding fetcher result"),wl(p)){let m=kp(e.matches,d?.route.id);s&&s[m.route.id]||(s={...s,[m.route.id]:p.error}),e.fetchers.delete(c)}else if(Jg(p))$n(!1,"Unhandled fetcher revalidation redirect");else{let m=Tf(p.data);e.fetchers.set(c,m)}}),{loaderData:a,errors:s}}function Oz(e,t,n,r){let i=Object.entries(t).filter(([,o])=>o!==cre).reduce((o,[a,s])=>(o[a]=s,o),{});for(let o of n){let a=o.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&o.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function Nz(e){return e?wl(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function kp(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function __(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function tc(e,{pathname:t,routeId:n,method:r,type:i,message:o}={}){let a="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(a="Bad Request",r&&t&&n?s=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(s="Unable to encode submission body")):e===403?(a="Forbidden",s=`Route "${n}" does not match URL "${t}"`):e===404?(a="Not Found",s=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",r&&t&&n?s=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(s=`Invalid request method "${r.toUpperCase()}"`)),new dO(e||500,a,new Error(s),!0)}function A_(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(Jg(i))return{key:r,result:i}}}function mre(e){let t=typeof e=="string"?cm(e):e;return Xp({...t,hash:""})}function Sxe(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Cxe(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&Txe(n))}function Txe(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function kxe(e){return gre(e.result)&&oxe.has(e.result.status)}function wl(e){return e.type==="error"}function Jg(e){return(e&&e.type)==="redirect"}function Mz(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function gre(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function _xe(e){return ixe.has(e.toUpperCase())}function Ps(e){return nxe.has(e.toUpperCase())}function uH(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function jA(e,t){let n=typeof t=="string"?cm(t).search:t.search;if(e[e.length-1].route.index&&uH(n||""))return e[e.length-1];let r=are(e);return r[r.length-1]}function Dz(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function vI(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Axe(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function wE(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Oxe(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Tf(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Nxe(e,t){try{let n=e.sessionStorage.getItem(lre);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function Mxe(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(lre,JSON.stringify(n))}catch(r){ji(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Dxe(){let e,t,n=new Promise((r,i)=>{e=async o=>{r(o);try{await n}catch{}},t=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var X0=C.createContext(null);X0.displayName="DataRouter";var fT=C.createContext(null);fT.displayName="DataRouterState";C.createContext(!1);var dH=C.createContext({isTransitioning:!1});dH.displayName="ViewTransition";var yre=C.createContext(new Map);yre.displayName="Fetchers";var Rxe=C.createContext(null);Rxe.displayName="Await";var wu=C.createContext(null);wu.displayName="Navigation";var XM=C.createContext(null);XM.displayName="Location";var Eu=C.createContext({outlet:null,matches:[],isDataRoute:!1});Eu.displayName="Route";var fH=C.createContext(null);fH.displayName="RouteError";function Ixe(e,{relative:t}={}){$n(q1(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(wu),{hash:i,pathname:o,search:a}=hT(e,{relative:t}),s=o;return n!=="/"&&(s=o==="/"?n:xd([n,o])),r.createHref({pathname:s,search:a,hash:i})}function q1(){return C.useContext(XM)!=null}function Su(){return $n(q1(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(XM).location}var bre="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vre(e){C.useContext(wu).static||C.useLayoutEffect(e)}function Z0(){let{isDataRoute:e}=C.useContext(Eu);return e?Yxe():Pxe()}function Pxe(){$n(q1(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(X0),{basename:t,navigator:n}=C.useContext(wu),{matches:r}=C.useContext(Eu),{pathname:i}=Su(),o=JSON.stringify(GM(r)),a=C.useRef(!1);return vre(()=>{a.current=!0}),C.useCallback((l,c={})=>{if(ji(a.current,bre),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=KM(l,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:xd([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,i,e])}C.createContext(null);function oh(){let{matches:e}=C.useContext(Eu),t=e[e.length-1];return t?t.params:{}}function hT(e,{relative:t}={}){let{matches:n}=C.useContext(Eu),{pathname:r}=Su(),i=JSON.stringify(GM(n));return C.useMemo(()=>KM(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Lxe(e,t,n,r,i){$n(q1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=C.useContext(wu),{matches:a}=C.useContext(Eu),s=a[a.length-1],l=s?s.params:{},c=s?s.pathname:"/",d=s?s.pathnameBase:"/",u=s&&s.route;{let k=u&&u.path||"";xre(c,!u||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=Su(),m;m=p;let v=m.pathname||"/",x=v;if(d!=="/"){let k=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=Tp(e,{pathname:x});return ji(u||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),ji(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Fxe(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:xd([d,o.encodeLocation?o.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:xd([d,o.encodeLocation?o.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),a,n,r,i)}function jxe(){let e=Wxe(),t=VS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,a)}var Bxe=C.createElement(jxe,null),$xe=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(Eu.Provider,{value:this.props.routeContext},C.createElement(fH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hxe({routeContext:e,match:t,children:n}){let r=C.useContext(X0);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Eu.Provider,{value:e},n)}function Fxe(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=n?.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);$n(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:u,errors:p}=n,m=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){s=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,d,u)=>{let p,m=!1,v=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||Bxe,s&&(l<0&&u===0?(xre("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):l===u&&(m=!0,x=d.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,u+1)),T=()=>{let k;return p?k=v:m?k=x:d.route.Component?k=C.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=c,C.createElement(Hxe,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:k})};return n&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?C.createElement($xe,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):T()},null)}function hH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uxe(e){let t=C.useContext(X0);return $n(t,hH(e)),t}function zxe(e){let t=C.useContext(fT);return $n(t,hH(e)),t}function Vxe(e){let t=C.useContext(Eu);return $n(t,hH(e)),t}function pH(e){let t=Vxe(e),n=t.matches[t.matches.length-1];return $n(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function qxe(){return pH("useRouteId")}function Wxe(){let e=C.useContext(fH),t=zxe("useRouteError"),n=pH("useRouteError");return e!==void 0?e:t.errors?.[n]}function Yxe(){let{router:e}=Uxe("useNavigate"),t=pH("useNavigate"),n=C.useRef(!1);return vre(()=>{n.current=!0}),C.useCallback(async(i,o={})=>{ji(n.current,bre),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Rz={};function xre(e,t,n){!t&&!Rz[e]&&(Rz[e]=!0,ji(!1,n))}var Iz={};function Pz(e,t){!e&&!Iz[t]&&(Iz[t]=!0,console.warn(t))}function Gxe(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&ji(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:C.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&ji(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:C.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&ji(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:C.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Kxe=["HydrateFallback","hydrateFallbackElement"],Xxe=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function Zxe({router:e,flushSync:t,unstable_onError:n}){let[r,i]=C.useState(e.state),[o,a]=C.useState(),[s,l]=C.useState({isTransitioning:!1}),[c,d]=C.useState(),[u,p]=C.useState(),[m,v]=C.useState(),x=C.useRef(new Map),w=C.useCallback(N=>{i(A=>(N.errors&&n&&Object.entries(N.errors).forEach(([R,L])=>{A.errors?.[R]!==L&&n(L)}),N))},[n]),T=C.useCallback((N,{deletedFetchers:A,flushSync:R,viewTransitionOpts:L})=>{N.fetchers.forEach(($,q)=>{$.data!==void 0&&x.current.set(q,$.data)}),A.forEach($=>x.current.delete($)),Pz(R===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let B=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Pz(L==null||B,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!B){t&&R?t(()=>w(N)):C.startTransition(()=>w(N));return}if(t&&R){t(()=>{u&&(c&&c.resolve(),u.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let $=e.window.document.startViewTransition(()=>{t(()=>w(N))});$.finished.finally(()=>{t(()=>{d(void 0),p(void 0),a(void 0),l({isTransitioning:!1})})}),t(()=>p($));return}u?(c&&c.resolve(),u.skipTransition(),v({state:N,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(N),l({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[e.window,t,u,c,w]);C.useLayoutEffect(()=>e.subscribe(T),[e,T]),C.useEffect(()=>{s.isTransitioning&&!s.flushSync&&d(new Xxe)},[s]),C.useEffect(()=>{if(c&&o&&e.window){let N=o,A=c.promise,R=e.window.document.startViewTransition(async()=>{C.startTransition(()=>w(N)),await A});R.finished.finally(()=>{d(void 0),p(void 0),a(void 0),l({isTransitioning:!1})}),p(R)}},[o,c,e.window,w]),C.useEffect(()=>{c&&o&&r.location.key===o.location.key&&c.resolve()},[c,u,r.location,o]),C.useEffect(()=>{!s.isTransitioning&&m&&(a(m.state),l({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[s.isTransitioning,m]);let k=C.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:N=>e.navigate(N),push:(N,A,R)=>e.navigate(N,{state:A,preventScrollReset:R?.preventScrollReset}),replace:(N,A,R)=>e.navigate(N,{replace:!0,state:A,preventScrollReset:R?.preventScrollReset})}),[e]),O=e.basename||"/",I=C.useMemo(()=>({router:e,navigator:k,static:!1,basename:O,unstable_onError:n}),[e,k,O,n]);return C.createElement(C.Fragment,null,C.createElement(X0.Provider,{value:I},C.createElement(fT.Provider,{value:r},C.createElement(yre.Provider,{value:x.current},C.createElement(dH.Provider,{value:s},C.createElement(ewe,{basename:O,location:r.location,navigationType:r.historyAction,navigator:k},C.createElement(Qxe,{routes:e.routes,future:e.future,state:r,unstable_onError:n})))))),null)}var Qxe=C.memo(Jxe);function Jxe({routes:e,future:t,state:n,unstable_onError:r}){return Lxe(e,void 0,n,r,t)}function Lz({to:e,replace:t,state:n,relative:r}){$n(q1(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(wu);ji(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=C.useContext(Eu),{pathname:a}=Su(),s=Z0(),l=KM(e,GM(o),a,r==="path"),c=JSON.stringify(l);return C.useEffect(()=>{s(JSON.parse(c),{replace:t,state:n,relative:r})},[s,c,r,t,n]),null}function ewe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){$n(!q1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),s=C.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=cm(n));let{pathname:l="/",search:c="",hash:d="",state:u=null,key:p="default"}=n,m=C.useMemo(()=>{let v=bc(l,a);return v==null?null:{location:{pathname:v,search:c,hash:d,state:u,key:p},navigationType:r}},[a,l,c,d,u,p,r]);return ji(m!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:C.createElement(wu.Provider,{value:s},C.createElement(XM.Provider,{children:t,value:m}))}var BA="get",$A="application/x-www-form-urlencoded";function ZM(e){return e!=null&&typeof e.tagName=="string"}function twe(e){return ZM(e)&&e.tagName.toLowerCase()==="button"}function nwe(e){return ZM(e)&&e.tagName.toLowerCase()==="form"}function rwe(e){return ZM(e)&&e.tagName.toLowerCase()==="input"}function iwe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function owe(e,t){return e.button===0&&(!t||t==="_self")&&!iwe(e)}function R6(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function awe(e,t){let n=R6(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var O_=null;function swe(){if(O_===null)try{new FormData(document.createElement("form"),0),O_=!1}catch{O_=!0}return O_}var lwe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xI(e){return e!=null&&!lwe.has(e)?(ji(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$A}"`),null):e}function cwe(e,t){let n,r,i,o,a;if(nwe(e)){let s=e.getAttribute("action");r=s?bc(s,t):null,n=e.getAttribute("method")||BA,i=xI(e.getAttribute("enctype"))||$A,o=new FormData(e)}else if(twe(e)||rwe(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(r=l?bc(l,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||BA,i=xI(e.getAttribute("formenctype"))||xI(s.getAttribute("enctype"))||$A,o=new FormData(s,e),!swe()){let{name:c,type:d,value:u}=e;if(d==="image"){let p=c?`${c}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else c&&o.append(c,u)}}else{if(ZM(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=BA,r=null,i=$A,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mH(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uwe(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&bc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function dwe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fwe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function hwe(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await dwe(o,n);return a.links?a.links():[]}return[]}));return ywe(r.flat(1).filter(fwe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jz(e,t,n,r,i,o){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,s=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return o==="assets"?t.filter((l,c)=>a(l,c)||s(l,c)):o==="data"?t.filter((l,c)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,c)||s(l,c))return!0;if(l.route.shouldRevalidate){let u=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function pwe(e,t,{includeHydrateFallback:n}={}){return mwe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function mwe(e){return[...new Set(e)]}function gwe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ywe(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(gwe(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function wre(){let e=C.useContext(X0);return mH(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function bwe(){let e=C.useContext(fT);return mH(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gH=C.createContext(void 0);gH.displayName="FrameworkContext";function Ere(){let e=C.useContext(gH);return mH(e,"You must render this element inside a <HydratedRouter> element"),e}function vwe(e,t){let n=C.useContext(gH),[r,i]=C.useState(!1),[o,a]=C.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=t,p=C.useRef(null);C.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=T=>{T.forEach(k=>{a(k.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),C.useEffect(()=>{if(r){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:EE(s,m),onBlur:EE(l,v),onMouseEnter:EE(c,m),onMouseLeave:EE(d,v),onTouchStart:EE(u,m)}]:[!1,p,{}]}function EE(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function xwe({page:e,...t}){let{router:n}=wre(),r=C.useMemo(()=>Tp(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?C.createElement(Ewe,{page:e,matches:r,...t}):null}function wwe(e){let{manifest:t,routeModules:n}=Ere(),[r,i]=C.useState([]);return C.useEffect(()=>{let o=!1;return hwe(e,t,n).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,n]),r}function Ewe({page:e,matches:t,...n}){let r=Su(),{manifest:i,routeModules:o}=Ere(),{basename:a}=wre(),{loaderData:s,matches:l}=bwe(),c=C.useMemo(()=>jz(e,t,l,i,r,"data"),[e,t,l,i,r]),d=C.useMemo(()=>jz(e,t,l,i,r,"assets"),[e,t,l,i,r]),u=C.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,x=!1;if(t.forEach(T=>{let k=i.routes[T.route.id];!k||!k.hasLoader||(!c.some(O=>O.route.id===T.route.id)&&T.route.id in s&&o[T.route.id]?.shouldRevalidate||k.hasClientLoader?x=!0:v.add(T.route.id))}),v.size===0)return[];let w=uwe(e,a,"data");return x&&v.size>0&&w.searchParams.set("_routes",t.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[a,s,r,i,c,t,e,o]),p=C.useMemo(()=>pwe(d,i),[d,i]),m=wwe(d);return C.createElement(C.Fragment,null,u.map(v=>C.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>C.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:x})=>C.createElement("link",{key:v,nonce:n.nonce,...x})))}function Swe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Sre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sre&&(window.__reactRouterVersion="7.9.4")}catch{}function Cwe(e,t){return uxe({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:O1e({window:t?.window}),hydrationData:Twe(),routes:e,mapRouteProperties:Gxe,hydrationRouteProperties:Kxe,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function Twe(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:kwe(e.errors)}),e}function kwe(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new dO(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var Cre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wd=C.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:d,viewTransition:u,...p},m){let{basename:v}=C.useContext(wu),x=typeof c=="string"&&Cre.test(c),w,T=!1;if(typeof c=="string"&&x&&(w=c,Sre))try{let B=new URL(window.location.href),$=c.startsWith("//")?new URL(B.protocol+c):new URL(c),q=bc($.pathname,v);$.origin===B.origin&&q!=null?c=q+$.search+$.hash:T=!0}catch{ji(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Ixe(c,{relative:i}),[O,I,N]=vwe(r,p),A=Nwe(c,{replace:a,state:s,target:l,preventScrollReset:d,relative:i,viewTransition:u});function R(B){t&&t(B),B.defaultPrevented||A(B)}let L=C.createElement("a",{...p,...N,href:w||k,onClick:T||o?t:R,ref:Swe(m,I),target:l,"data-discover":!x&&n==="render"?"true":void 0});return O&&!x?C.createElement(C.Fragment,null,L,C.createElement(xwe,{page:k})):L});wd.displayName="Link";var _we=C.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...c},d){let u=hT(a,{relative:c.relative}),p=Su(),m=C.useContext(fT),{navigator:v,basename:x}=C.useContext(wu),w=m!=null&&Lwe(u)&&s===!0,T=v.encodeLocation?v.encodeLocation(u).pathname:u.pathname,k=p.pathname,O=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(k=k.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&x&&(O=bc(O,x)||O);const I=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let N=k===T||!i&&k.startsWith(T)&&k.charAt(I)==="/",A=O!=null&&(O===T||!i&&O.startsWith(T)&&O.charAt(T.length)==="/"),R={isActive:N,isPending:A,isTransitioning:w},L=N?t:void 0,B;typeof r=="function"?B=r(R):B=[r,N?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(R):o;return C.createElement(wd,{...c,"aria-current":L,className:B,ref:d,style:$,to:a,viewTransition:s},typeof l=="function"?l(R):l)});_we.displayName="NavLink";var Awe=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:a=BA,action:s,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:u,...p},m)=>{let v=Iwe(),x=Pwe(s,{relative:c}),w=a.toLowerCase()==="get"?"get":"post",T=typeof s=="string"&&Cre.test(s),k=O=>{if(l&&l(O),O.defaultPrevented)return;O.preventDefault();let I=O.nativeEvent.submitter,N=I?.getAttribute("formmethod")||a;v(I||O.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:i,state:o,relative:c,preventScrollReset:d,viewTransition:u})};return C.createElement("form",{ref:m,method:w,action:x,onSubmit:r?l:k,...p,"data-discover":!T&&e==="render"?"true":void 0})});Awe.displayName="Form";function Owe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tre(e){let t=C.useContext(X0);return $n(t,Owe(e)),t}function Nwe(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let s=Z0(),l=Su(),c=hT(e,{relative:o});return C.useCallback(d=>{if(owe(d,t)){d.preventDefault();let u=n!==void 0?n:Xp(l)===Xp(c);s(e,{replace:u,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[l,s,c,n,r,t,e,i,o,a])}function Mwe(e){ji(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=C.useRef(R6(e)),n=C.useRef(!1),r=Su(),i=C.useMemo(()=>awe(r.search,n.current?null:t.current),[r.search]),o=Z0(),a=C.useCallback((s,l)=>{const c=R6(typeof s=="function"?s(new URLSearchParams(i)):s);n.current=!0,o("?"+c,l)},[o,i]);return[i,a]}var Dwe=0,Rwe=()=>`__${String(++Dwe)}__`;function Iwe(){let{router:e}=Tre("useSubmit"),{basename:t}=C.useContext(wu),n=qxe();return C.useCallback(async(r,i={})=>{let{action:o,method:a,encType:s,formData:l,body:c}=cwe(r,t);if(i.navigate===!1){let d=i.fetcherKey||Rwe();await e.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Pwe(e,{relative:t}={}){let{basename:n}=C.useContext(wu),r=C.useContext(Eu);$n(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...hT(e||".",{relative:t})},a=Su();if(e==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(d=>d==="")){s.delete("index"),l.filter(u=>u).forEach(u=>s.append("index",u));let d=s.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:xd([n,o.pathname])),Xp(o)}function Lwe(e,{relative:t}={}){let n=C.useContext(dH);$n(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Tre("useViewTransitionState"),i=hT(e,{relative:t});if(!n.isTransitioning)return!1;let o=bc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=bc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uO(i.pathname,a)!=null||uO(i.pathname,o)!=null}var ka=ere();const yH=vr(ka);function jwe(e){return C.createElement(Zxe,{flushSync:ka.flushSync,...e})}function Bwe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const $we=e=>{switch(e){case"success":return Uwe;case"info":return Vwe;case"warning":return zwe;case"error":return qwe;default:return null}},Hwe=Array(12).fill(0),Fwe=({visible:e,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},F.createElement("div",{className:"sonner-spinner"},Hwe.map((n,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Uwe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zwe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Vwe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qwe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Wwe=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ywe=()=>{const[e,t]=F.useState(document.hidden);return F.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let I6=1;class Gwe{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,o=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:I6++,a=this.toasts.find(l=>l.id===o),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...t,id:o,title:r}),{...l,...t,id:o,dismissible:s,title:r}):l):this.addToast({title:r,...i,dismissible:s,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let o=r!==void 0,a;const s=i.then(async c=>{if(a=["resolve",c],F.isValidElement(c))o=!1,this.create({id:r,type:"default",message:c});else if(Xwe(c)&&!c.ok){o=!1;const u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,v=typeof u=="object"&&!F.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:p,...v})}else if(c instanceof Error){o=!1;const u=typeof n.error=="function"?await n.error(c):n.error,p=typeof n.description=="function"?await n.description(c):n.description,v=typeof u=="object"&&!F.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:p,...v})}else if(n.success!==void 0){o=!1;const u=typeof n.success=="function"?await n.success(c):n.success,p=typeof n.description=="function"?await n.description(c):n.description,v=typeof u=="object"&&!F.isValidElement(u)?u:{message:u};this.create({id:r,type:"success",description:p,...v})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){o=!1;const d=typeof n.error=="function"?await n.error(c):n.error,u=typeof n.description=="function"?await n.description(c):n.description,m=typeof d=="object"&&!F.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:u,...m})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,d)=>s.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{const r=n?.id||I6++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ms=new Gwe,Kwe=(e,t)=>{const n=t?.id||I6++;return Ms.addToast({title:e,...t,id:n}),n},Xwe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Zwe=Kwe,Qwe=()=>Ms.toasts,Jwe=()=>Ms.getActiveToasts();Object.assign(Zwe,{success:Ms.success,info:Ms.info,warning:Ms.warning,error:Ms.error,custom:Ms.custom,message:Ms.message,promise:Ms.promise,dismiss:Ms.dismiss,loading:Ms.loading},{getHistory:Qwe,getToasts:Jwe});Bwe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function N_(e){return e.label!==void 0}const eEe=3,tEe="24px",nEe="16px",Bz=4e3,rEe=356,iEe=14,oEe=45,aEe=200;function ad(...e){return e.filter(Boolean).join(" ")}function sEe(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const lEe=e=>{var t,n,r,i,o,a,s,l,c;const{invert:d,toast:u,unstyled:p,interacting:m,setHeights:v,visibleToasts:x,heights:w,index:T,toasts:k,expanded:O,removeToast:I,defaultRichColors:N,closeButton:A,style:R,cancelButtonStyle:L,actionButtonStyle:B,className:$="",descriptionClassName:q="",duration:z,position:W,gap:G,expandByDefault:Z,classNames:V,icons:ne,closeButtonAriaLabel:X="Close toast"}=e,[oe,K]=F.useState(null),[Q,te]=F.useState(null),[U,fe]=F.useState(!1),[me,ke]=F.useState(!1),[Ee,ve]=F.useState(!1),[we,je]=F.useState(!1),[Ke,De]=F.useState(!1),[It,Fe]=F.useState(0),[an,cn]=F.useState(0),Qt=F.useRef(u.duration||z||Bz),Vr=F.useRef(null),er=F.useRef(null),ce=T===0,xe=T+1<=x,Te=u.type,Je=u.dismissible!==!1,Ze=u.className||"",Qe=u.descriptionClassName||"",ge=F.useMemo(()=>w.findIndex(xt=>xt.toastId===u.id)||0,[w,u.id]),Be=F.useMemo(()=>{var xt;return(xt=u.closeButton)!=null?xt:A},[u.closeButton,A]),it=F.useMemo(()=>u.duration||z||Bz,[u.duration,z]),At=F.useRef(0),qt=F.useRef(0),Zn=F.useRef(0),Tn=F.useRef(null),[or,Yn]=W.split("-"),xr=F.useMemo(()=>w.reduce((xt,on,Gn)=>Gn>=ge?xt:xt+on.height,0),[w,ge]),un=Ywe(),xi=u.invert||d,Ct=Te==="loading";qt.current=F.useMemo(()=>ge*G+xr,[ge,xr]),F.useEffect(()=>{Qt.current=it},[it]),F.useEffect(()=>{fe(!0)},[]),F.useEffect(()=>{const xt=er.current;if(xt){const on=xt.getBoundingClientRect().height;return cn(on),v(Gn=>[{toastId:u.id,height:on,position:u.position},...Gn]),()=>v(Gn=>Gn.filter(Hn=>Hn.toastId!==u.id))}},[v,u.id]),F.useLayoutEffect(()=>{if(!U)return;const xt=er.current,on=xt.style.height;xt.style.height="auto";const Gn=xt.getBoundingClientRect().height;xt.style.height=on,cn(Gn),v(Hn=>Hn.find(se=>se.toastId===u.id)?Hn.map(se=>se.toastId===u.id?{...se,height:Gn}:se):[{toastId:u.id,height:Gn,position:u.position},...Hn])},[U,u.title,u.description,v,u.id,u.jsx,u.action,u.cancel]);const lt=F.useCallback(()=>{ke(!0),Fe(qt.current),v(xt=>xt.filter(on=>on.toastId!==u.id)),setTimeout(()=>{I(u)},aEe)},[u,I,v,qt]);F.useEffect(()=>{if(u.promise&&Te==="loading"||u.duration===1/0||u.type==="loading")return;let xt;return O||m||un?(()=>{if(Zn.current<At.current){const Hn=new Date().getTime()-At.current;Qt.current=Qt.current-Hn}Zn.current=new Date().getTime()})():(()=>{Qt.current!==1/0&&(At.current=new Date().getTime(),xt=setTimeout(()=>{u.onAutoClose==null||u.onAutoClose.call(u,u),lt()},Qt.current))})(),()=>clearTimeout(xt)},[O,m,u,Te,un,lt]),F.useEffect(()=>{u.delete&&(lt(),u.onDismiss==null||u.onDismiss.call(u,u))},[lt,u.delete]);function ct(){var xt;if(ne?.loading){var on;return F.createElement("div",{className:ad(V?.loader,u==null||(on=u.classNames)==null?void 0:on.loader,"sonner-loader"),"data-visible":Te==="loading"},ne.loading)}return F.createElement(Fwe,{className:ad(V?.loader,u==null||(xt=u.classNames)==null?void 0:xt.loader),visible:Te==="loading"})}const Tt=u.icon||ne?.[Te]||$we(Te);var jt,vt;return F.createElement("li",{tabIndex:0,ref:er,className:ad($,Ze,V?.toast,u==null||(t=u.classNames)==null?void 0:t.toast,V?.default,V?.[Te],u==null||(n=u.classNames)==null?void 0:n[Te]),"data-sonner-toast":"","data-rich-colors":(jt=u.richColors)!=null?jt:N,"data-styled":!(u.jsx||u.unstyled||p),"data-mounted":U,"data-promise":!!u.promise,"data-swiped":Ke,"data-removed":me,"data-visible":xe,"data-y-position":or,"data-x-position":Yn,"data-index":T,"data-front":ce,"data-swiping":Ee,"data-dismissible":Je,"data-type":Te,"data-invert":xi,"data-swipe-out":we,"data-swipe-direction":Q,"data-expanded":!!(O||Z&&U),"data-testid":u.testId,style:{"--index":T,"--toasts-before":T,"--z-index":k.length-T,"--offset":`${me?It:qt.current}px`,"--initial-height":Z?"auto":`${an}px`,...R,...u.style},onDragEnd:()=>{ve(!1),K(null),Tn.current=null},onPointerDown:xt=>{xt.button!==2&&(Ct||!Je||(Vr.current=new Date,Fe(qt.current),xt.target.setPointerCapture(xt.pointerId),xt.target.tagName!=="BUTTON"&&(ve(!0),Tn.current={x:xt.clientX,y:xt.clientY})))},onPointerUp:()=>{var xt,on,Gn;if(we||!Je)return;Tn.current=null;const Hn=Number(((xt=er.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),di=Number(((on=er.current)==null?void 0:on.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),se=new Date().getTime()-((Gn=Vr.current)==null?void 0:Gn.getTime()),ye=oe==="x"?Hn:di,Re=Math.abs(ye)/se;if(Math.abs(ye)>=oEe||Re>.11){Fe(qt.current),u.onDismiss==null||u.onDismiss.call(u,u),te(oe==="x"?Hn>0?"right":"left":di>0?"down":"up"),lt(),je(!0);return}else{var Xe,nt;(Xe=er.current)==null||Xe.style.setProperty("--swipe-amount-x","0px"),(nt=er.current)==null||nt.style.setProperty("--swipe-amount-y","0px")}De(!1),ve(!1),K(null)},onPointerMove:xt=>{var on,Gn,Hn;if(!Tn.current||!Je||((on=window.getSelection())==null?void 0:on.toString().length)>0)return;const se=xt.clientY-Tn.current.y,ye=xt.clientX-Tn.current.x;var Re;const Xe=(Re=e.swipeDirections)!=null?Re:sEe(W);!oe&&(Math.abs(ye)>1||Math.abs(se)>1)&&K(Math.abs(ye)>Math.abs(se)?"x":"y");let nt={x:0,y:0};const kt=bt=>1/(1.5+Math.abs(bt)/20);if(oe==="y"){if(Xe.includes("top")||Xe.includes("bottom"))if(Xe.includes("top")&&se<0||Xe.includes("bottom")&&se>0)nt.y=se;else{const bt=se*kt(se);nt.y=Math.abs(bt)<Math.abs(se)?bt:se}}else if(oe==="x"&&(Xe.includes("left")||Xe.includes("right")))if(Xe.includes("left")&&ye<0||Xe.includes("right")&&ye>0)nt.x=ye;else{const bt=ye*kt(ye);nt.x=Math.abs(bt)<Math.abs(ye)?bt:ye}(Math.abs(nt.x)>0||Math.abs(nt.y)>0)&&De(!0),(Gn=er.current)==null||Gn.style.setProperty("--swipe-amount-x",`${nt.x}px`),(Hn=er.current)==null||Hn.style.setProperty("--swipe-amount-y",`${nt.y}px`)}},Be&&!u.jsx&&Te!=="loading"?F.createElement("button",{"aria-label":X,"data-disabled":Ct,"data-close-button":!0,onClick:Ct||!Je?()=>{}:()=>{lt(),u.onDismiss==null||u.onDismiss.call(u,u)},className:ad(V?.closeButton,u==null||(r=u.classNames)==null?void 0:r.closeButton)},(vt=ne?.close)!=null?vt:Wwe):null,(Te||u.icon||u.promise)&&u.icon!==null&&(ne?.[Te]!==null||u.icon)?F.createElement("div",{"data-icon":"",className:ad(V?.icon,u==null||(i=u.classNames)==null?void 0:i.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||ct():null,u.type!=="loading"?Tt:null):null,F.createElement("div",{"data-content":"",className:ad(V?.content,u==null||(o=u.classNames)==null?void 0:o.content)},F.createElement("div",{"data-title":"",className:ad(V?.title,u==null||(a=u.classNames)==null?void 0:a.title)},u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title),u.description?F.createElement("div",{"data-description":"",className:ad(q,Qe,V?.description,u==null||(s=u.classNames)==null?void 0:s.description)},typeof u.description=="function"?u.description():u.description):null),F.isValidElement(u.cancel)?u.cancel:u.cancel&&N_(u.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||L,onClick:xt=>{N_(u.cancel)&&Je&&(u.cancel.onClick==null||u.cancel.onClick.call(u.cancel,xt),lt())},className:ad(V?.cancelButton,u==null||(l=u.classNames)==null?void 0:l.cancelButton)},u.cancel.label):null,F.isValidElement(u.action)?u.action:u.action&&N_(u.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||B,onClick:xt=>{N_(u.action)&&(u.action.onClick==null||u.action.onClick.call(u.action,xt),!xt.defaultPrevented&&lt())},className:ad(V?.actionButton,u==null||(c=u.classNames)==null?void 0:c.actionButton)},u.action.label):null)};function $z(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function cEe(e,t){const n={};return[e,t].forEach((r,i)=>{const o=i===1,a=o?"--mobile-offset":"--offset",s=o?nEe:tEe;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=s:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(s)}),n}const uEe=F.forwardRef(function(t,n){const{id:r,invert:i,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:l,className:c,offset:d,mobileOffset:u,theme:p="light",richColors:m,duration:v,style:x,visibleToasts:w=eEe,toastOptions:T,dir:k=$z(),gap:O=iEe,icons:I,containerAriaLabel:N="Notifications"}=t,[A,R]=F.useState([]),L=F.useMemo(()=>r?A.filter(U=>U.toasterId===r):A.filter(U=>!U.toasterId),[A,r]),B=F.useMemo(()=>Array.from(new Set([o].concat(L.filter(U=>U.position).map(U=>U.position)))),[L,o]),[$,q]=F.useState([]),[z,W]=F.useState(!1),[G,Z]=F.useState(!1),[V,ne]=F.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=F.useRef(null),oe=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=F.useRef(null),Q=F.useRef(!1),te=F.useCallback(U=>{R(fe=>{var me;return(me=fe.find(ke=>ke.id===U.id))!=null&&me.delete||Ms.dismiss(U.id),fe.filter(({id:ke})=>ke!==U.id)})},[]);return F.useEffect(()=>Ms.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{R(fe=>fe.map(me=>me.id===U.id?{...me,delete:!0}:me))});return}setTimeout(()=>{yH.flushSync(()=>{R(fe=>{const me=fe.findIndex(ke=>ke.id===U.id);return me!==-1?[...fe.slice(0,me),{...fe[me],...U},...fe.slice(me+1)]:[U,...fe]})})})}),[A]),F.useEffect(()=>{if(p!=="system"){ne(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:fe})=>{ne(fe?"dark":"light")})}catch{U.addListener(({matches:me})=>{try{ne(me?"dark":"light")}catch(ke){console.error(ke)}})}},[p]),F.useEffect(()=>{A.length<=1&&W(!1)},[A]),F.useEffect(()=>{const U=fe=>{var me;if(a.every(ve=>fe[ve]||fe.code===ve)){var Ee;W(!0),(Ee=X.current)==null||Ee.focus()}fe.code==="Escape"&&(document.activeElement===X.current||(me=X.current)!=null&&me.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[a]),F.useEffect(()=>{if(X.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,Q.current=!1)}},[X.current]),F.createElement("section",{ref:n,"aria-label":`${N} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((U,fe)=>{var me;const[ke,Ee]=U.split("-");return L.length?F.createElement("ol",{key:U,dir:k==="auto"?$z():k,tabIndex:-1,ref:X,className:c,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":ke,"data-x-position":Ee,style:{"--front-toast-height":`${((me=$[0])==null?void 0:me.height)||0}px`,"--width":`${rEe}px`,"--gap":`${O}px`,...x,...cEe(d,u)},onBlur:ve=>{Q.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(Q.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,K.current=ve.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{G||W(!1)},onDragEnd:()=>W(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},L.filter(ve=>!ve.position&&fe===0||ve.position===U).map((ve,we)=>{var je,Ke;return F.createElement(lEe,{key:ve.id,icons:I,index:we,toast:ve,defaultRichColors:m,duration:(je=T?.duration)!=null?je:v,className:T?.className,descriptionClassName:T?.descriptionClassName,invert:i,visibleToasts:w,closeButton:(Ke=T?.closeButton)!=null?Ke:l,interacting:G,position:U,style:T?.style,unstyled:T?.unstyled,classNames:T?.classNames,cancelButtonStyle:T?.cancelButtonStyle,actionButtonStyle:T?.actionButtonStyle,closeButtonAriaLabel:T?.closeButtonAriaLabel,removeToast:te,toasts:L.filter(De=>De.position==ve.position),heights:$.filter(De=>De.position==ve.position),setHeights:q,expandByDefault:s,gap:O,expanded:z,swipeDirections:t.swipeDirections})})):null}))});function dt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function Hz(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function is(...e){return t=>{let n=!1;const r=e.map(i=>{const o=Hz(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Hz(e[i],null)}}}}function An(...e){return C.useCallback(is(...e),e)}function dEe(e,t){const n=C.createContext(t),r=o=>{const{children:a,...s}=o,l=C.useMemo(()=>s,Object.values(s));return g.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function i(o){const a=C.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Vs(e,t=[]){let n=[];function r(o,a){const s=C.createContext(a),l=n.length;n=[...n,a];const c=u=>{const{scope:p,children:m,...v}=u,x=p?.[e]?.[l]||s,w=C.useMemo(()=>v,Object.values(v));return g.jsx(x.Provider,{value:w,children:m})};c.displayName=o+"Provider";function d(u,p){const m=p?.[e]?.[l]||s,v=C.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${o}\``)}return[c,d]}const i=()=>{const o=n.map(a=>C.createContext(a));return function(s){const l=s?.[e]||o;return C.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,fEe(i,...t)]}function fEe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const u=l(o)[`__scope${c}`];return{...s,...u}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Xi=globalThis?.document?C.useLayoutEffect:()=>{},hEe=dT[" useId ".trim().toString()]||(()=>{}),pEe=0;function Gi(e){const[t,n]=C.useState(hEe());return Xi(()=>{n(r=>r??String(pEe++))},[e]),t?`radix-${t}`:""}var mEe=dT[" useInsertionEffect ".trim().toString()]||Xi;function gu({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,a]=gEe({defaultProp:t,onChange:n}),s=e!==void 0,l=s?e:i;{const d=C.useRef(e!==void 0);C.useEffect(()=>{const u=d.current;u!==s&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,r])}const c=C.useCallback(d=>{if(s){const u=yEe(d)?d(e):d;u!==e&&a.current?.(u)}else o(d)},[s,e,o,a]);return[l,c]}function gEe({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),i=C.useRef(n),o=C.useRef(t);return mEe(()=>{o.current=t},[t]),C.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}function yEe(e){return typeof e=="function"}function bEe(e){const t=vEe(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(wEe);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function vEe(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=SEe(i),s=EEe(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xEe=Symbol("radix.slottable");function wEe(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xEe}function EEe(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function SEe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var CEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dt=CEe.reduce((e,t)=>{const n=bEe(`Primitive.${t}`),r=C.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function kre(e,t){e&&ka.flushSync(()=>e.dispatchEvent(t))}function Co(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>t.current?.(...n),[])}function TEe(e,t=globalThis?.document){const n=Co(e);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var kEe="DismissableLayer",P6="dismissableLayer.update",_Ee="dismissableLayer.pointerDownOutside",AEe="dismissableLayer.focusOutside",Fz,_re=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),W1=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=e,c=C.useContext(_re),[d,u]=C.useState(null),p=d?.ownerDocument??globalThis?.document,[,m]=C.useState({}),v=An(t,R=>u(R)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),T=x.indexOf(w),k=d?x.indexOf(d):-1,O=c.layersWithOutsidePointerEventsDisabled.size>0,I=k>=T,N=MEe(R=>{const L=R.target,B=[...c.branches].some($=>$.contains(L));!I||B||(i?.(R),a?.(R),R.defaultPrevented||s?.())},p),A=DEe(R=>{const L=R.target;[...c.branches].some($=>$.contains(L))||(o?.(R),a?.(R),R.defaultPrevented||s?.())},p);return TEe(R=>{k===c.layers.size-1&&(r?.(R),!R.defaultPrevented&&s&&(R.preventDefault(),s()))},p),C.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Fz=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Uz(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Fz)}},[d,p,n,c]),C.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Uz())},[d,c]),C.useEffect(()=>{const R=()=>m({});return document.addEventListener(P6,R),()=>document.removeEventListener(P6,R)},[]),g.jsx(Dt.div,{...l,ref:v,style:{pointerEvents:O?I?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,A.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,N.onPointerDownCapture)})});W1.displayName=kEe;var OEe="DismissableLayerBranch",NEe=C.forwardRef((e,t)=>{const n=C.useContext(_re),r=C.useRef(null),i=An(t,r);return C.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),g.jsx(Dt.div,{...e,ref:i})});NEe.displayName=OEe;function MEe(e,t=globalThis?.document){const n=Co(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){Are(_Ee,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function DEe(e,t=globalThis?.document){const n=Co(e),r=C.useRef(!1);return C.useEffect(()=>{const i=o=>{o.target&&!r.current&&Are(AEe,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Uz(){const e=new CustomEvent(P6);document.dispatchEvent(e)}function Are(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?kre(i,o):i.dispatchEvent(o)}var wI="focusScope.autoFocusOnMount",EI="focusScope.autoFocusOnUnmount",zz={bubbles:!1,cancelable:!0},REe="FocusScope",pT=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[s,l]=C.useState(null),c=Co(i),d=Co(o),u=C.useRef(null),p=An(t,x=>l(x)),m=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let x=function(O){if(m.paused||!s)return;const I=O.target;s.contains(I)?u.current=I:gp(u.current,{select:!0})},w=function(O){if(m.paused||!s)return;const I=O.relatedTarget;I!==null&&(s.contains(I)||gp(u.current,{select:!0}))},T=function(O){if(document.activeElement===document.body)for(const N of O)N.removedNodes.length>0&&gp(s)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const k=new MutationObserver(T);return s&&k.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),k.disconnect()}}},[r,s,m.paused]),C.useEffect(()=>{if(s){qz.add(m);const x=document.activeElement;if(!s.contains(x)){const T=new CustomEvent(wI,zz);s.addEventListener(wI,c),s.dispatchEvent(T),T.defaultPrevented||(IEe($Ee(Ore(s)),{select:!0}),document.activeElement===x&&gp(s))}return()=>{s.removeEventListener(wI,c),setTimeout(()=>{const T=new CustomEvent(EI,zz);s.addEventListener(EI,d),s.dispatchEvent(T),T.defaultPrevented||gp(x??document.body,{select:!0}),s.removeEventListener(EI,d),qz.remove(m)},0)}}},[s,c,d,m]);const v=C.useCallback(x=>{if(!n&&!r||m.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,T=document.activeElement;if(w&&T){const k=x.currentTarget,[O,I]=PEe(k);O&&I?!x.shiftKey&&T===I?(x.preventDefault(),n&&gp(O,{select:!0})):x.shiftKey&&T===O&&(x.preventDefault(),n&&gp(I,{select:!0})):T===k&&x.preventDefault()}},[n,r,m.paused]);return g.jsx(Dt.div,{tabIndex:-1,...a,ref:p,onKeyDown:v})});pT.displayName=REe;function IEe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(gp(r,{select:t}),document.activeElement!==n)return}function PEe(e){const t=Ore(e),n=Vz(t,e),r=Vz(t.reverse(),e);return[n,r]}function Ore(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vz(e,t){for(const n of e)if(!LEe(n,{upTo:t}))return n}function LEe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jEe(e){return e instanceof HTMLInputElement&&"select"in e}function gp(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&jEe(e)&&t&&e.select()}}var qz=BEe();function BEe(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Wz(e,t),e.unshift(t)},remove(t){e=Wz(e,t),e[0]?.resume()}}}function Wz(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function $Ee(e){return e.filter(t=>t.tagName!=="A")}var HEe="Portal",Y1=C.forwardRef((e,t)=>{const{container:n,...r}=e,[i,o]=C.useState(!1);Xi(()=>o(!0),[]);const a=n||i&&globalThis?.document?.body;return a?yH.createPortal(g.jsx(Dt.div,{...r,ref:t}),a):null});Y1.displayName=HEe;function FEe(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var Fo=e=>{const{present:t,children:n}=e,r=UEe(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),o=An(r.ref,zEe(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:o}):null};Fo.displayName="Presence";function UEe(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),o=C.useRef("none"),a=e?"mounted":"unmounted",[s,l]=FEe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=M_(r.current);o.current=s==="mounted"?c:"none"},[s]),Xi(()=>{const c=r.current,d=i.current;if(d!==e){const p=o.current,m=M_(c);e?l("MOUNT"):m==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Xi(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,u=m=>{const x=M_(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&x&&(l("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=m=>{m.target===t&&(o.current=M_(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:C.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function M_(e){return e?.animationName||"none"}function zEe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var SI=0;function QM(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Yz()),document.body.insertAdjacentElement("beforeend",e[1]??Yz()),SI++,()=>{SI===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),SI--}},[])}function Yz(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var md=function(){return md=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},md.apply(this,arguments)};function Nre(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function VEe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var HA="right-scroll-bar-position",FA="width-before-scroll-bar",qEe="with-scroll-bars-hidden",WEe="--removed-body-scroll-bar-size";function CI(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YEe(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var GEe=typeof window<"u"?C.useLayoutEffect:C.useEffect,Gz=new WeakMap;function KEe(e,t){var n=YEe(null,function(r){return e.forEach(function(i){return CI(i,r)})});return GEe(function(){var r=Gz.get(n);if(r){var i=new Set(r),o=new Set(e),a=n.current;i.forEach(function(s){o.has(s)||CI(s,null)}),o.forEach(function(s){i.has(s)||CI(s,a)})}Gz.set(n,e)},[e]),n}function XEe(e){return e}function ZEe(e,t){t===void 0&&(t=XEe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var d=a;a=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),n}}}};return i}function QEe(e){e===void 0&&(e={});var t=ZEe(null);return t.options=md({async:!0,ssr:!1},e),t}var Mre=function(e){var t=e.sideCar,n=Nre(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,md({},n))};Mre.isSideCarExport=!0;function JEe(e,t){return e.useMedium(t),Mre}var Dre=QEe(),TI=function(){},JM=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:TI,onWheelCapture:TI,onTouchMoveCapture:TI}),i=r[0],o=r[1],a=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,p=e.sideCar,m=e.noRelative,v=e.noIsolation,x=e.inert,w=e.allowPinchZoom,T=e.as,k=T===void 0?"div":T,O=e.gapMode,I=Nre(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,A=KEe([n,t]),R=md(md({},I),i);return C.createElement(C.Fragment,null,d&&C.createElement(N,{sideCar:Dre,removeScrollBar:c,shards:u,noRelative:m,noIsolation:v,inert:x,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:O}),a?C.cloneElement(C.Children.only(s),md(md({},R),{ref:A})):C.createElement(k,md({},R,{className:l,ref:A}),s))});JM.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};JM.classNames={fullWidth:FA,zeroRight:HA};var eSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tSe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=eSe();return t&&e.setAttribute("nonce",t),e}function nSe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function rSe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iSe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=tSe())&&(nSe(t,n),rSe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},oSe=function(){var e=iSe();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Rre=function(){var e=oSe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},aSe={left:0,top:0,right:0,gap:0},kI=function(e){return parseInt(e||"",10)||0},sSe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[kI(n),kI(r),kI(i)]},lSe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return aSe;var t=sSe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},cSe=Rre(),Dv="data-scroll-locked",uSe=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(qEe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Dv,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(HA,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(FA,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(HA," .").concat(HA,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(FA," .").concat(FA,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Dv,`] {
    `).concat(WEe,": ").concat(s,`px;
  }
`)},Kz=function(){var e=parseInt(document.body.getAttribute(Dv)||"0",10);return isFinite(e)?e:0},dSe=function(){C.useEffect(function(){return document.body.setAttribute(Dv,(Kz()+1).toString()),function(){var e=Kz()-1;e<=0?document.body.removeAttribute(Dv):document.body.setAttribute(Dv,e.toString())}},[])},fSe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;dSe();var o=C.useMemo(function(){return lSe(i)},[i]);return C.createElement(cSe,{styles:uSe(o,!t,i,n?"":"!important")})},L6=!1;if(typeof window<"u")try{var D_=Object.defineProperty({},"passive",{get:function(){return L6=!0,!0}});window.addEventListener("test",D_,D_),window.removeEventListener("test",D_,D_)}catch{L6=!1}var Gb=L6?{passive:!1}:!1,hSe=function(e){return e.tagName==="TEXTAREA"},Ire=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!hSe(e)&&n[t]==="visible")},pSe=function(e){return Ire(e,"overflowY")},mSe=function(e){return Ire(e,"overflowX")},Xz=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Pre(e,r);if(i){var o=Lre(e,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gSe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ySe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Pre=function(e,t){return e==="v"?pSe(t):mSe(t)},Lre=function(e,t){return e==="v"?gSe(t):ySe(t)},bSe=function(e,t){return e==="h"&&t==="rtl"?-1:1},vSe=function(e,t,n,r,i){var o=bSe(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),c=!1,d=a>0,u=0,p=0;do{if(!s)break;var m=Lre(e,s),v=m[0],x=m[1],w=m[2],T=x-w-o*v;(v||T)&&Pre(e,s)&&(u+=T,p+=v);var k=s.parentNode;s=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&Math.abs(u)<1||!d&&Math.abs(p)<1)&&(c=!0),c},R_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Zz=function(e){return[e.deltaX,e.deltaY]},Qz=function(e){return e&&"current"in e?e.current:e},xSe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},wSe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ESe=0,Kb=[];function SSe(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(ESe++)[0],o=C.useState(Rre)[0],a=C.useRef(e);C.useEffect(function(){a.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=VEe([e.lockRef.current],(e.shards||[]).map(Qz),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=C.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var T=R_(x),k=n.current,O="deltaX"in x?x.deltaX:k[0]-T[0],I="deltaY"in x?x.deltaY:k[1]-T[1],N,A=x.target,R=Math.abs(O)>Math.abs(I)?"h":"v";if("touches"in x&&R==="h"&&A.type==="range")return!1;var L=Xz(R,A);if(!L)return!0;if(L?N=R:(N=R==="v"?"h":"v",L=Xz(R,A)),!L)return!1;if(!r.current&&"changedTouches"in x&&(O||I)&&(r.current=N),!N)return!0;var B=r.current||N;return vSe(B,w,x,B==="h"?O:I)},[]),l=C.useCallback(function(x){var w=x;if(!(!Kb.length||Kb[Kb.length-1]!==o)){var T="deltaY"in w?Zz(w):R_(w),k=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&xSe(N.delta,T)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var O=(a.current.shards||[]).map(Qz).filter(Boolean).filter(function(N){return N.contains(w.target)}),I=O.length>0?s(w,O[0]):!a.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),c=C.useCallback(function(x,w,T,k){var O={name:x,delta:w,target:T,should:k,shadowParent:CSe(T)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(I){return I!==O})},1)},[]),d=C.useCallback(function(x){n.current=R_(x),r.current=void 0},[]),u=C.useCallback(function(x){c(x.type,Zz(x),x.target,s(x,e.lockRef.current))},[]),p=C.useCallback(function(x){c(x.type,R_(x),x.target,s(x,e.lockRef.current))},[]);C.useEffect(function(){return Kb.push(o),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Gb),document.addEventListener("touchmove",l,Gb),document.addEventListener("touchstart",d,Gb),function(){Kb=Kb.filter(function(x){return x!==o}),document.removeEventListener("wheel",l,Gb),document.removeEventListener("touchmove",l,Gb),document.removeEventListener("touchstart",d,Gb)}},[]);var m=e.removeScrollBar,v=e.inert;return C.createElement(C.Fragment,null,v?C.createElement(o,{styles:wSe(i)}):null,m?C.createElement(fSe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function CSe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const TSe=JEe(Dre,SSe);var mT=C.forwardRef(function(e,t){return C.createElement(JM,md({},e,{ref:t,sideCar:TSe}))});mT.classNames=JM.classNames;var kSe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xb=new WeakMap,I_=new WeakMap,P_={},_I=0,jre=function(e){return e&&(e.host||jre(e.parentNode))},_Se=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=jre(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ASe=function(e,t,n,r){var i=_Se(t,Array.isArray(e)?e:[e]);P_[n]||(P_[n]=new WeakMap);var o=P_[n],a=[],s=new Set,l=new Set(i),c=function(u){!u||s.has(u)||(s.add(u),c(u.parentNode))};i.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(p){if(s.has(p))d(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",x=(Xb.get(p)||0)+1,w=(o.get(p)||0)+1;Xb.set(p,x),o.set(p,w),a.push(p),x===1&&v&&I_.set(p,!0),w===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",p,T)}})};return d(t),s.clear(),_I++,function(){a.forEach(function(u){var p=Xb.get(u)-1,m=o.get(u)-1;Xb.set(u,p),o.set(u,m),p||(I_.has(u)||u.removeAttribute(r),I_.delete(u)),m||u.removeAttribute(n)}),_I--,_I||(Xb=new WeakMap,Xb=new WeakMap,I_=new WeakMap,P_={})}},eD=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=kSe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),ASe(r,i,n,"aria-hidden")):function(){return null}};function OSe(e){const t=NSe(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(DSe);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function NSe(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=ISe(i),s=RSe(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MSe=Symbol("radix.slottable");function DSe(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MSe}function RSe(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function ISe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tD="Dialog",[Bre,$re]=Vs(tD),[PSe,Cu]=Bre(tD),Hre=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,s=C.useRef(null),l=C.useRef(null),[c,d]=gu({prop:r,defaultProp:i??!1,onChange:o,caller:tD});return g.jsx(PSe,{scope:t,triggerRef:s,contentRef:l,contentId:Gi(),titleId:Gi(),descriptionId:Gi(),open:c,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(u=>!u),[d]),modal:a,children:n})};Hre.displayName=tD;var Fre="DialogTrigger",Ure=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cu(Fre,n),o=An(t,i.triggerRef);return g.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xH(i.open),...r,ref:o,onClick:dt(e.onClick,i.onOpenToggle)})});Ure.displayName=Fre;var bH="DialogPortal",[LSe,zre]=Bre(bH,{forceMount:void 0}),Vre=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Cu(bH,t);return g.jsx(LSe,{scope:t,forceMount:n,children:C.Children.map(r,a=>g.jsx(Fo,{present:n||o.open,children:g.jsx(Y1,{asChild:!0,container:i,children:a})}))})};Vre.displayName=bH;var hO="DialogOverlay",qre=C.forwardRef((e,t)=>{const n=zre(hO,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Cu(hO,e.__scopeDialog);return o.modal?g.jsx(Fo,{present:r||o.open,children:g.jsx(BSe,{...i,ref:t})}):null});qre.displayName=hO;var jSe=OSe("DialogOverlay.RemoveScroll"),BSe=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cu(hO,n);return g.jsx(mT,{as:jSe,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Dt.div,{"data-state":xH(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),S0="DialogContent",Wre=C.forwardRef((e,t)=>{const n=zre(S0,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Cu(S0,e.__scopeDialog);return g.jsx(Fo,{present:r||o.open,children:o.modal?g.jsx($Se,{...i,ref:t}):g.jsx(HSe,{...i,ref:t})})});Wre.displayName=S0;var $Se=C.forwardRef((e,t)=>{const n=Cu(S0,e.__scopeDialog),r=C.useRef(null),i=An(t,n.contentRef,r);return C.useEffect(()=>{const o=r.current;if(o)return eD(o)},[]),g.jsx(Yre,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,o=>o.preventDefault())})}),HSe=C.forwardRef((e,t)=>{const n=Cu(S0,e.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return g.jsx(Yre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Yre=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,s=Cu(S0,n),l=C.useRef(null),c=An(t,l);return QM(),g.jsxs(g.Fragment,{children:[g.jsx(pT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:g.jsx(W1,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":xH(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(USe,{titleId:s.titleId}),g.jsx(VSe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),vH="DialogTitle",Gre=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cu(vH,n);return g.jsx(Dt.h2,{id:i.titleId,...r,ref:t})});Gre.displayName=vH;var Kre="DialogDescription",Xre=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cu(Kre,n);return g.jsx(Dt.p,{id:i.descriptionId,...r,ref:t})});Xre.displayName=Kre;var Zre="DialogClose",Qre=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cu(Zre,n);return g.jsx(Dt.button,{type:"button",...r,ref:t,onClick:dt(e.onClick,()=>i.onOpenChange(!1))})});Qre.displayName=Zre;function xH(e){return e?"open":"closed"}var Jre="DialogTitleWarning",[FSe,eie]=dEe(Jre,{contentName:S0,titleName:vH,docsSlug:"dialog"}),USe=({titleId:e})=>{const t=eie(Jre),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},zSe="DialogDescriptionWarning",VSe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eie(zSe).contentName}}.`;return C.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},gT=Hre,qSe=Ure,yT=Vre,G1=qre,K1=Wre,bT=Gre,vT=Xre,nD=Qre;function WSe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const tie=F.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),xT=()=>{const e=F.useContext(tie);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};WSe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function YSe(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function GSe(){return wH(/^Mac/)}function KSe(){return wH(/^iPhone/)}function Jz(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function XSe(){return wH(/^iPad/)||GSe()&&navigator.maxTouchPoints>1}function nie(){return KSe()||XSe()}function wH(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const ZSe=24,QSe=typeof window<"u"?C.useLayoutEffect:C.useEffect;function eV(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const AI=typeof document<"u"&&window.visualViewport;function tV(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function rie(e){for(tV(e)&&(e=e.parentElement);e&&!tV(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const JSe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let L_=0,OI;function eCe(e={}){let{isDisabled:t}=e;QSe(()=>{if(!t)return L_++,L_===1&&nie()&&(OI=tCe()),()=>{L_--,L_===0&&OI?.()}},[t])}function tCe(){let e,t=0,n=u=>{e=rie(u.target),!(e===document.documentElement&&e===document.body)&&(t=u.changedTouches[0].pageY)},r=u=>{if(!e||e===document.documentElement||e===document.body){u.preventDefault();return}let p=u.changedTouches[0].pageY,m=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((m<=0&&p>t||m>=v&&p<t)&&u.preventDefault(),t=p)},i=u=>{let p=u.target;j6(p)&&p!==document.activeElement&&(u.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},o=u=>{let p=u.target;j6(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",AI&&(AI.height<window.innerHeight?requestAnimationFrame(()=>{nV(p)}):AI.addEventListener("resize",()=>nV(p),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},s=window.pageXOffset,l=window.pageYOffset,c=eV(nCe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=eV(SE(document,"touchstart",n,{passive:!1,capture:!0}),SE(document,"touchmove",r,{passive:!1,capture:!0}),SE(document,"touchend",i,{passive:!1,capture:!0}),SE(document,"focus",o,!0),SE(window,"scroll",a));return()=>{c(),d(),window.scrollTo(s,l)}}function nCe(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function SE(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function nV(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=rie(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const a=n.getBoundingClientRect().bottom+ZSe;o>a&&(n.scrollTop+=i-r)}e=n.parentElement}}function j6(e){return e instanceof HTMLInputElement&&!JSe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function rCe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function iCe(...e){return t=>e.forEach(n=>rCe(n,t))}function iie(...e){return C.useCallback(iCe(...e),e)}const oie=new WeakMap;function So(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}r[i]=e.style[i],e.style[i]=o}),!n&&oie.set(e,r)}function oCe(e,t){if(!e||!(e instanceof HTMLElement))return;let n=oie.get(e);n&&(e.style[t]=n[t])}const io=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function j_(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[io(t)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[io(t)?5:4]):null)}function aCe(e){return 8*(Math.log(e+1)-2)}function NI(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function sCe(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Ti={DURATION:.5,EASE:[.32,.72,0,1]},aie=.4,lCe=.25,cCe=100,sie=8,Hg=16,B6=26,MI="vaul-dragging";function lie(e){const t=F.useRef(e);return F.useEffect(()=>{t.current=e}),F.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function uCe({defaultProp:e,onChange:t}){const n=F.useState(e),[r]=n,i=F.useRef(r),o=lie(t);return F.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function cie({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=uCe({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,s=lie(n),l=F.useCallback(c=>{if(o){const u=typeof c=="function"?c(e):c;u!==e&&s(u)}else i(c)},[o,e,i,s]);return[a,l]}function dCe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:o,onSnapPointChange:a,direction:s="bottom",container:l,snapToSequentialPoint:c}){const[d,u]=cie({prop:e,defaultProp:n?.[0],onChange:t}),[p,m]=F.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);F.useEffect(()=>{function R(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const v=F.useMemo(()=>d===n?.[n.length-1]||null,[n,d]),x=F.useMemo(()=>{var R;return(R=n?.findIndex(L=>L===d))!=null?R:null},[n,d]),w=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===d||!n,T=F.useMemo(()=>{const R=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var L;return(L=n?.map(B=>{const $=typeof B=="string";let q=0;if($&&(q=parseInt(B,10)),io(s)){const W=$?q:p?B*R.height:0;return p?s==="bottom"?R.height-W:-R.height+W:W}const z=$?q:p?B*R.width:0;return p?s==="right"?R.width-z:-R.width+z:z}))!=null?L:[]},[n,p,l]),k=F.useMemo(()=>x!==null?T?.[x]:null,[T,x]),O=F.useCallback(R=>{var L;const B=(L=T?.findIndex($=>$===R))!=null?L:null;a(B),So(r.current,{transition:`transform ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,transform:io(s)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`}),T&&B!==T.length-1&&o!==void 0&&B!==o&&B<o?So(i.current,{transition:`opacity ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,opacity:"0"}):So(i.current,{transition:`opacity ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,opacity:"1"}),u(n?.[Math.max(B,0)])},[r.current,n,T,o,i,u]);F.useEffect(()=>{if(d||e){var R;const L=(R=n?.findIndex(B=>B===e||B===d))!=null?R:-1;T&&L!==-1&&typeof T[L]=="number"&&O(T[L])}},[d,e,n,T,O]);function I({draggedDistance:R,closeDrawer:L,velocity:B,dismissible:$}){if(o===void 0)return;const q=s==="bottom"||s==="right"?(k??0)-R:(k??0)+R,z=x===o-1,W=x===0,G=R>0;if(z&&So(i.current,{transition:`opacity ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`}),!c&&B>2&&!G){$?L():O(T[0]);return}if(!c&&B>2&&G&&T&&n){O(T[n.length-1]);return}const Z=T?.reduce((ne,X)=>typeof ne!="number"||typeof X!="number"?ne:Math.abs(X-q)<Math.abs(ne-q)?X:ne),V=io(s)?window.innerHeight:window.innerWidth;if(B>aie&&Math.abs(R)<V*.4){const ne=G?1:-1;if(ne>0&&v&&n){O(T[n.length-1]);return}if(W&&ne<0&&$&&L(),x===null)return;O(T[x+ne]);return}O(Z)}function N({draggedDistance:R}){if(k===null)return;const L=s==="bottom"||s==="right"?k-R:k+R;(s==="bottom"||s==="right")&&L<T[T.length-1]||(s==="top"||s==="left")&&L>T[T.length-1]||So(r.current,{transform:io(s)?`translate3d(0, ${L}px, 0)`:`translate3d(${L}px, 0, 0)`})}function A(R,L){if(!n||typeof x!="number"||!T||o===void 0)return null;const B=x===o-1;if(x>=o&&L)return 0;if(B&&!L)return 1;if(!w&&!B)return null;const q=B?x+1:x-1,z=B?T[q]-T[q-1]:T[q+1]-T[q],W=R/Math.abs(z);return B?1-W:W}return{isLastSnapPoint:v,activeSnapPoint:d,shouldFade:w,getPercentageDragged:A,setActiveSnapPoint:u,activeSnapPointIndex:x,onRelease:I,onDrag:N,snapPointsOffset:T}}const fCe=()=>()=>{};function hCe(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=xT(),o=F.useRef(null),a=C.useMemo(()=>document.body.style.backgroundColor,[]);function s(){return(window.innerWidth-B6)/window.innerWidth}F.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;sCe(r&&!i?NI(document.body,{background:"black"}):fCe,NI(l,{transformOrigin:io(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Ti.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ti.EASE.join(",")})`}));const c=NI(l,{borderRadius:`${sie}px`,overflow:"hidden",...io(e)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),o.current=window.setTimeout(()=>{a?document.body.style.background=a:document.body.style.removeProperty("background")},Ti.DURATION*1e3)}}},[t,n,a])}let CE=null;function pCe({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:o}){const[a,s]=F.useState(()=>typeof window<"u"?window.location.href:""),l=F.useRef(0),c=F.useCallback(()=>{if(Jz()&&CE===null&&e&&!o){CE={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:u,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-u}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=p-window.innerHeight;m&&l.current>=p&&(document.body.style.top=`${-(l.current+m)}px`)}),300)}},[e]),d=F.useCallback(()=>{if(Jz()&&CE!==null&&!o){const u=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,CE),window.requestAnimationFrame(()=>{if(i&&a!==window.location.href){s(window.location.href);return}window.scrollTo(p,u)}),CE=null}},[a]);return F.useEffect(()=>{function u(){l.current=window.scrollY}return u(),window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}},[]),F.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),F.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),t||window.setTimeout(()=>{d()},500)):d())},[e,r,a,t,n,c,d]),{restorePositionSetting:d}}function mCe({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:i,snapPoints:o,shouldScaleBackground:a=!1,setBackgroundColorOnScale:s=!0,closeThreshold:l=lCe,scrollLockTimeout:c=cCe,dismissible:d=!0,handleOnly:u=!1,fadeFromIndex:p=o&&o.length-1,activeSnapPoint:m,setActiveSnapPoint:v,fixed:x,modal:w=!0,onClose:T,nested:k,noBodyStyles:O=!1,direction:I="bottom",defaultOpen:N=!1,disablePreventScroll:A=!0,snapToSequentialPoint:R=!1,preventScrollRestoration:L=!1,repositionInputs:B=!0,onAnimationEnd:$,container:q,autoFocus:z=!1}){var W,G;const[Z=!1,V]=cie({defaultProp:N,prop:e,onChange:lt=>{t?.(lt),!lt&&!k&&Be(),setTimeout(()=>{$?.(lt)},Ti.DURATION*1e3),lt&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),lt||(document.body.style.pointerEvents="auto")}}),[ne,X]=F.useState(!1),[oe,K]=F.useState(!1),[Q,te]=F.useState(!1),U=F.useRef(null),fe=F.useRef(null),me=F.useRef(null),ke=F.useRef(null),Ee=F.useRef(null),ve=F.useRef(!1),we=F.useRef(null),je=F.useRef(0),Ke=F.useRef(!1),De=F.useRef(!N),It=F.useRef(0),Fe=F.useRef(null),an=F.useRef(((W=Fe.current)==null?void 0:W.getBoundingClientRect().height)||0),cn=F.useRef(((G=Fe.current)==null?void 0:G.getBoundingClientRect().width)||0),Qt=F.useRef(0),Vr=F.useCallback(lt=>{o&&lt===Je.length-1&&(fe.current=new Date)},[]),{activeSnapPoint:er,activeSnapPointIndex:ce,setActiveSnapPoint:xe,onRelease:Te,snapPointsOffset:Je,onDrag:Ze,shouldFade:Qe,getPercentageDragged:ge}=dCe({snapPoints:o,activeSnapPointProp:m,setActiveSnapPointProp:v,drawerRef:Fe,fadeFromIndex:p,overlayRef:U,onSnapPointChange:Vr,direction:I,container:q,snapToSequentialPoint:R});eCe({isDisabled:!Z||oe||!w||Q||!ne||!B||!A});const{restorePositionSetting:Be}=pCe({isOpen:Z,modal:w,nested:k??!1,hasBeenOpened:ne,preventScrollRestoration:L,noBodyStyles:O});function it(){return(window.innerWidth-B6)/window.innerWidth}function At(lt){var ct,Tt;!d&&!o||Fe.current&&!Fe.current.contains(lt.target)||(an.current=((ct=Fe.current)==null?void 0:ct.getBoundingClientRect().height)||0,cn.current=((Tt=Fe.current)==null?void 0:Tt.getBoundingClientRect().width)||0,K(!0),me.current=new Date,nie()&&window.addEventListener("touchend",()=>ve.current=!1,{once:!0}),lt.target.setPointerCapture(lt.pointerId),je.current=io(I)?lt.pageY:lt.pageX)}function qt(lt,ct){var Tt;let jt=lt;const vt=(Tt=window.getSelection())==null?void 0:Tt.toString(),xt=Fe.current?j_(Fe.current,I):null,on=new Date;if(jt.tagName==="SELECT"||jt.hasAttribute("data-vaul-no-drag")||jt.closest("[data-vaul-no-drag]"))return!1;if(I==="right"||I==="left")return!0;if(fe.current&&on.getTime()-fe.current.getTime()<500)return!1;if(xt!==null&&(I==="bottom"?xt>0:xt<0))return!0;if(vt&&vt.length>0)return!1;if(Ee.current&&on.getTime()-Ee.current.getTime()<c&&xt===0||ct)return Ee.current=on,!1;for(;jt;){if(jt.scrollHeight>jt.clientHeight){if(jt.scrollTop!==0)return Ee.current=new Date,!1;if(jt.getAttribute("role")==="dialog")return!0}jt=jt.parentNode}return!0}function Zn(lt){if(Fe.current&&oe){const ct=I==="bottom"||I==="right"?1:-1,Tt=(je.current-(io(I)?lt.pageY:lt.pageX))*ct,jt=Tt>0,vt=o&&!d&&!jt;if(vt&&ce===0)return;const xt=Math.abs(Tt),on=document.querySelector("[data-vaul-drawer-wrapper]"),Gn=I==="bottom"||I==="top"?an.current:cn.current;let Hn=xt/Gn;const di=ge(xt,jt);if(di!==null&&(Hn=di),vt&&Hn>=1||!ve.current&&!qt(lt.target,jt))return;if(Fe.current.classList.add(MI),ve.current=!0,So(Fe.current,{transition:"none"}),So(U.current,{transition:"none"}),o&&Ze({draggedDistance:Tt}),jt&&!o){const ye=aCe(Tt),Re=Math.min(ye*-1,0)*ct;So(Fe.current,{transform:io(I)?`translate3d(0, ${Re}px, 0)`:`translate3d(${Re}px, 0, 0)`});return}const se=1-Hn;if((Qe||p&&ce===p-1)&&(r?.(lt,Hn),So(U.current,{opacity:`${se}`,transition:"none"},!0)),on&&U.current&&a){const ye=Math.min(it()+Hn*(1-it()),1),Re=8-Hn*8,Xe=Math.max(0,14-Hn*14);So(on,{borderRadius:`${Re}px`,transform:io(I)?`scale(${ye}) translate3d(0, ${Xe}px, 0)`:`scale(${ye}) translate3d(${Xe}px, 0, 0)`,transition:"none"},!0)}if(!o){const ye=xt*ct;So(Fe.current,{transform:io(I)?`translate3d(0, ${ye}px, 0)`:`translate3d(${ye}px, 0, 0)`})}}}F.useEffect(()=>{window.requestAnimationFrame(()=>{De.current=!0})},[]),F.useEffect(()=>{var lt;function ct(){if(!Fe.current||!B)return;const Tt=document.activeElement;if(j6(Tt)||Ke.current){var jt;const vt=((jt=window.visualViewport)==null?void 0:jt.height)||0,xt=window.innerHeight;let on=xt-vt;const Gn=Fe.current.getBoundingClientRect().height||0,Hn=Gn>xt*.8;Qt.current||(Qt.current=Gn);const di=Fe.current.getBoundingClientRect().top;if(Math.abs(It.current-on)>60&&(Ke.current=!Ke.current),o&&o.length>0&&Je&&ce){const se=Je[ce]||0;on+=se}if(It.current=on,Gn>vt||Ke.current){const se=Fe.current.getBoundingClientRect().height;let ye=se;se>vt&&(ye=vt-(Hn?di:B6)),x?Fe.current.style.height=`${se-Math.max(on,0)}px`:Fe.current.style.height=`${Math.max(ye,vt-di)}px`}else YSe()||(Fe.current.style.height=`${Qt.current}px`);o&&o.length>0&&!Ke.current?Fe.current.style.bottom="0px":Fe.current.style.bottom=`${Math.max(on,0)}px`}}return(lt=window.visualViewport)==null||lt.addEventListener("resize",ct),()=>{var Tt;return(Tt=window.visualViewport)==null?void 0:Tt.removeEventListener("resize",ct)}},[ce,o,Je]);function Tn(lt){Yn(),T?.(),lt||V(!1),setTimeout(()=>{o&&xe(o[0])},Ti.DURATION*1e3)}function or(){if(!Fe.current)return;const lt=document.querySelector("[data-vaul-drawer-wrapper]"),ct=j_(Fe.current,I);So(Fe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`}),So(U.current,{transition:`opacity ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,opacity:"1"}),a&&ct&&ct>0&&Z&&So(lt,{borderRadius:`${sie}px`,overflow:"hidden",...io(I)?{transform:`scale(${it()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${it()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ti.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ti.EASE.join(",")})`},!0)}function Yn(){!oe||!Fe.current||(Fe.current.classList.remove(MI),ve.current=!1,K(!1),ke.current=new Date)}function xr(lt){if(!oe||!Fe.current)return;Fe.current.classList.remove(MI),ve.current=!1,K(!1),ke.current=new Date;const ct=j_(Fe.current,I);if(!lt||!qt(lt.target,!1)||!ct||Number.isNaN(ct)||me.current===null)return;const Tt=ke.current.getTime()-me.current.getTime(),jt=je.current-(io(I)?lt.pageY:lt.pageX),vt=Math.abs(jt)/Tt;if(vt>.05&&(te(!0),setTimeout(()=>{te(!1)},200)),o){Te({draggedDistance:jt*(I==="bottom"||I==="right"?1:-1),closeDrawer:Tn,velocity:vt,dismissible:d}),i?.(lt,!0);return}if(I==="bottom"||I==="right"?jt>0:jt<0){or(),i?.(lt,!0);return}if(vt>aie){Tn(),i?.(lt,!1);return}var xt;const on=Math.min((xt=Fe.current.getBoundingClientRect().height)!=null?xt:0,window.innerHeight);var Gn;const Hn=Math.min((Gn=Fe.current.getBoundingClientRect().width)!=null?Gn:0,window.innerWidth),di=I==="left"||I==="right";if(Math.abs(ct)>=(di?Hn:on)*l){Tn(),i?.(lt,!1);return}i?.(lt,!0),or()}F.useEffect(()=>(Z&&(So(document.documentElement,{scrollBehavior:"auto"}),fe.current=new Date),()=>{oCe(document.documentElement,"scrollBehavior")}),[Z]);function un(lt){const ct=lt?(window.innerWidth-Hg)/window.innerWidth:1,Tt=lt?-Hg:0;we.current&&window.clearTimeout(we.current),So(Fe.current,{transition:`transform ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,transform:io(I)?`scale(${ct}) translate3d(0, ${Tt}px, 0)`:`scale(${ct}) translate3d(${Tt}px, 0, 0)`}),!lt&&Fe.current&&(we.current=setTimeout(()=>{const jt=j_(Fe.current,I);So(Fe.current,{transition:"none",transform:io(I)?`translate3d(0, ${jt}px, 0)`:`translate3d(${jt}px, 0, 0)`})},500))}function xi(lt,ct){if(ct<0)return;const Tt=(window.innerWidth-Hg)/window.innerWidth,jt=Tt+ct*(1-Tt),vt=-Hg+ct*Hg;So(Fe.current,{transform:io(I)?`scale(${jt}) translate3d(0, ${vt}px, 0)`:`scale(${jt}) translate3d(${vt}px, 0, 0)`,transition:"none"})}function Ct(lt,ct){const Tt=io(I)?window.innerHeight:window.innerWidth,jt=ct?(Tt-Hg)/Tt:1,vt=ct?-Hg:0;ct&&So(Fe.current,{transition:`transform ${Ti.DURATION}s cubic-bezier(${Ti.EASE.join(",")})`,transform:io(I)?`scale(${jt}) translate3d(0, ${vt}px, 0)`:`scale(${jt}) translate3d(${vt}px, 0, 0)`})}return F.useEffect(()=>{w||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[w]),F.createElement(gT,{defaultOpen:N,onOpenChange:lt=>{!d&&!lt||(lt?X(!0):Tn(!0),V(lt))},open:Z},F.createElement(tie.Provider,{value:{activeSnapPoint:er,snapPoints:o,setActiveSnapPoint:xe,drawerRef:Fe,overlayRef:U,onOpenChange:t,onPress:At,onRelease:xr,onDrag:Zn,dismissible:d,shouldAnimate:De,handleOnly:u,isOpen:Z,isDragging:oe,shouldFade:Qe,closeDrawer:Tn,onNestedDrag:xi,onNestedOpenChange:un,onNestedRelease:Ct,keyboardIsOpen:Ke,modal:w,snapPointsOffset:Je,activeSnapPointIndex:ce,direction:I,shouldScaleBackground:a,setBackgroundColorOnScale:s,noBodyStyles:O,container:q,autoFocus:z}},n))}const uie=F.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:o,isOpen:a,modal:s,shouldAnimate:l}=xT(),c=iie(t,n),d=r&&r.length>0;if(!s)return null;const u=F.useCallback(p=>i(p),[i]);return F.createElement(G1,{onMouseUp:u,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":a&&d?"true":"false","data-vaul-snap-points-overlay":a&&o?"true":"false","data-vaul-animate":l?.current?"true":"false",...e})});uie.displayName="Drawer.Overlay";const die=F.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},i){const{drawerRef:o,onPress:a,onRelease:s,onDrag:l,keyboardIsOpen:c,snapPointsOffset:d,activeSnapPointIndex:u,modal:p,isOpen:m,direction:v,snapPoints:x,container:w,handleOnly:T,shouldAnimate:k,autoFocus:O}=xT(),[I,N]=F.useState(!1),A=iie(i,o),R=F.useRef(null),L=F.useRef(null),B=F.useRef(!1),$=x&&x.length>0;hCe();const q=(W,G,Z=0)=>{if(B.current)return!0;const V=Math.abs(W.y),ne=Math.abs(W.x),X=ne>V,oe=["bottom","right"].includes(G)?1:-1;if(G==="left"||G==="right"){if(!(W.x*oe<0)&&ne>=0&&ne<=Z)return X}else if(!(W.y*oe<0)&&V>=0&&V<=Z)return!X;return B.current=!0,!0};F.useEffect(()=>{$&&window.requestAnimationFrame(()=>{N(!0)})},[]);function z(W){R.current=null,B.current=!1,s(W)}return F.createElement(K1,{"data-vaul-drawer-direction":v,"data-vaul-drawer":"","data-vaul-delayed-snap-points":I?"true":"false","data-vaul-snap-points":m&&$?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":k?.current?"true":"false",...r,ref:A,style:d&&d.length>0?{"--snap-point-height":`${d[u??0]}px`,...t}:t,onPointerDown:W=>{T||(r.onPointerDown==null||r.onPointerDown.call(r,W),R.current={x:W.pageX,y:W.pageY},a(W))},onOpenAutoFocus:W=>{n?.(W),O||W.preventDefault()},onPointerDownOutside:W=>{if(e?.(W),!p||W.defaultPrevented){W.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:W=>{if(!p){W.preventDefault();return}},onPointerMove:W=>{if(L.current=W,T||(r.onPointerMove==null||r.onPointerMove.call(r,W),!R.current))return;const G=W.pageY-R.current.y,Z=W.pageX-R.current.x,V=W.pointerType==="touch"?10:2;q({x:Z,y:G},v,V)?l(W):(Math.abs(Z)>V||Math.abs(G)>V)&&(R.current=null)},onPointerUp:W=>{r.onPointerUp==null||r.onPointerUp.call(r,W),R.current=null,B.current=!1,s(W)},onPointerOut:W=>{r.onPointerOut==null||r.onPointerOut.call(r,W),z(L.current)},onContextMenu:W=>{r.onContextMenu==null||r.onContextMenu.call(r,W),L.current&&z(L.current)}})});die.displayName="Drawer.Content";const gCe=250,yCe=120,bCe=F.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:i,isDragging:o,snapPoints:a,activeSnapPoint:s,setActiveSnapPoint:l,dismissible:c,handleOnly:d,isOpen:u,onPress:p,onDrag:m}=xT(),v=F.useRef(null),x=F.useRef(!1);function w(){if(x.current){O();return}window.setTimeout(()=>{T()},yCe)}function T(){if(o||e||x.current){O();return}if(O(),!a||a.length===0){c||i();return}if(s===a[a.length-1]&&c){i();return}const N=a.findIndex(R=>R===s);if(N===-1)return;const A=a[N+1];l(A)}function k(){v.current=window.setTimeout(()=>{x.current=!0},gCe)}function O(){v.current&&window.clearTimeout(v.current),x.current=!1}return F.createElement("div",{onClick:w,onPointerCancel:O,onPointerDown:I=>{d&&p(I),k()},onPointerMove:I=>{d&&m(I)},ref:r,"data-vaul-drawer-visible":u?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},F.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});bCe.displayName="Drawer.Handle";function vCe(e){const t=xT(),{container:n=t.container,...r}=e;return F.createElement(yT,{container:n,...r})}const Id={Root:mCe,Content:die,Overlay:uie,Portal:vCe,Close:nD,Title:bT,Description:vT};function fie(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=fie(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=fie(e))&&(r&&(r+=" "),r+=t);return r}const EH="-",xCe=e=>{const t=ECe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const s=a.split(EH);return s[0]===""&&s.length!==1&&s.shift(),hie(s,t)||wCe(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},hie=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?hie(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(EH);return t.validators.find(({validator:a})=>a(o))?.classGroupId},rV=/^\[(.+)\]$/,wCe=e=>{if(rV.test(e)){const t=rV.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ECe=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)$6(n[i],r,i,t);return r},$6=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:iV(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(SCe(i)){$6(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{$6(a,iV(t,o),n,r)})})},iV=(e,t)=>{let n=e;return t.split(EH).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SCe=e=>e.isThemeGetter,CCe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},H6="!",F6=":",TCe=F6.length,kCe=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const o=[];let a=0,s=0,l=0,c;for(let v=0;v<i.length;v++){let x=i[v];if(a===0&&s===0){if(x===F6){o.push(i.slice(l,v)),l=v+TCe;continue}if(x==="/"){c=v;continue}}x==="["?a++:x==="]"?a--:x==="("?s++:x===")"&&s--}const d=o.length===0?i:i.substring(l),u=_Ce(d),p=u!==d,m=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:u,maybePostfixModifierPosition:m}};if(t){const i=t+F6,o=r;r=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},_Ce=e=>e.endsWith(H6)?e.substring(0,e.length-1):e.startsWith(H6)?e.substring(1):e,ACe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(a=>{a[0]==="["||t[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},OCe=e=>({cache:CCe(e.cacheSize),parseClassName:kCe(e),sortModifiers:ACe(e),...xCe(e)}),NCe=/\s+/,MCe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],s=e.trim().split(NCe);let l="";for(let c=s.length-1;c>=0;c-=1){const d=s[c],{isExternal:u,modifiers:p,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}=n(d);if(u){l=d+(l.length>0?" "+l:l);continue}let w=!!x,T=r(w?v.substring(0,x):v);if(!T){if(!w){l=d+(l.length>0?" "+l:l);continue}if(T=r(v),!T){l=d+(l.length>0?" "+l:l);continue}w=!1}const k=o(p).join(":"),O=m?k+H6:k,I=O+T;if(a.includes(I))continue;a.push(I);const N=i(T,w);for(let A=0;A<N.length;++A){const R=N[A];a.push(O+R)}l=d+(l.length>0?" "+l:l)}return l};function DCe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=pie(t))&&(r&&(r+=" "),r+=n);return r}const pie=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=pie(e[r]))&&(n&&(n+=" "),n+=t);return n};function RCe(e,...t){let n,r,i,o=a;function a(l){const c=t.reduce((d,u)=>u(d),e());return n=OCe(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const d=MCe(l,n);return i(l,d),d}return function(){return o(DCe.apply(null,arguments))}}const xo=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},mie=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gie=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ICe=/^\d+\/\d+$/,PCe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LCe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jCe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,BCe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$Ce=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zb=e=>ICe.test(e),Dn=e=>!!e&&!Number.isNaN(Number(e)),cp=e=>!!e&&Number.isInteger(Number(e)),DI=e=>e.endsWith("%")&&Dn(e.slice(0,-1)),yf=e=>PCe.test(e),HCe=()=>!0,FCe=e=>LCe.test(e)&&!jCe.test(e),yie=()=>!1,UCe=e=>BCe.test(e),zCe=e=>$Ce.test(e),VCe=e=>!Ot(e)&&!Nt(e),qCe=e=>X1(e,xie,yie),Ot=e=>mie.test(e),Fg=e=>X1(e,wie,FCe),RI=e=>X1(e,XCe,Dn),oV=e=>X1(e,bie,yie),WCe=e=>X1(e,vie,zCe),B_=e=>X1(e,Eie,UCe),Nt=e=>gie.test(e),TE=e=>Z1(e,wie),YCe=e=>Z1(e,ZCe),aV=e=>Z1(e,bie),GCe=e=>Z1(e,xie),KCe=e=>Z1(e,vie),$_=e=>Z1(e,Eie,!0),X1=(e,t,n)=>{const r=mie.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Z1=(e,t,n=!1)=>{const r=gie.exec(e);return r?r[1]?t(r[1]):n:!1},bie=e=>e==="position"||e==="percentage",vie=e=>e==="image"||e==="url",xie=e=>e==="length"||e==="size"||e==="bg-size",wie=e=>e==="length",XCe=e=>e==="number",ZCe=e=>e==="family-name",Eie=e=>e==="shadow",QCe=()=>{const e=xo("color"),t=xo("font"),n=xo("text"),r=xo("font-weight"),i=xo("tracking"),o=xo("leading"),a=xo("breakpoint"),s=xo("container"),l=xo("spacing"),c=xo("radius"),d=xo("shadow"),u=xo("inset-shadow"),p=xo("text-shadow"),m=xo("drop-shadow"),v=xo("blur"),x=xo("perspective"),w=xo("aspect"),T=xo("ease"),k=xo("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...I(),Nt,Ot],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],L=()=>[Nt,Ot,l],B=()=>[Zb,"full","auto",...L()],$=()=>[cp,"none","subgrid",Nt,Ot],q=()=>["auto",{span:["full",cp,Nt,Ot]},cp,Nt,Ot],z=()=>[cp,"auto",Nt,Ot],W=()=>["auto","min","max","fr",Nt,Ot],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...L()],ne=()=>[Zb,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],X=()=>[e,Nt,Ot],oe=()=>[...I(),aV,oV,{position:[Nt,Ot]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",GCe,qCe,{size:[Nt,Ot]}],te=()=>[DI,TE,Fg],U=()=>["","none","full",c,Nt,Ot],fe=()=>["",Dn,TE,Fg],me=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Dn,DI,aV,oV],ve=()=>["","none",v,Nt,Ot],we=()=>["none",Dn,Nt,Ot],je=()=>["none",Dn,Nt,Ot],Ke=()=>[Dn,Nt,Ot],De=()=>[Zb,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yf],breakpoint:[yf],color:[HCe],container:[yf],"drop-shadow":[yf],ease:["in","out","in-out"],font:[VCe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yf],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yf],shadow:[yf],spacing:["px",Dn],text:[yf],"text-shadow":[yf],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zb,Ot,Nt,w]}],container:["container"],columns:[{columns:[Dn,Ot,Nt,s]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[cp,"auto",Nt,Ot]}],basis:[{basis:[Zb,"full","auto",s,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Dn,Zb,"auto","initial","none",Ot]}],grow:[{grow:["",Dn,Nt,Ot]}],shrink:[{shrink:["",Dn,Nt,Ot]}],order:[{order:[cp,"first","last","none",Nt,Ot]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[s,"screen",...ne()]}],"min-w":[{"min-w":[s,"screen","none",...ne()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,TE,Fg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Nt,RI]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",DI,Ot]}],"font-family":[{font:[YCe,Ot,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Nt,Ot]}],"line-clamp":[{"line-clamp":[Dn,"none",Nt,RI]}],leading:[{leading:[o,...L()]}],"list-image":[{"list-image":["none",Nt,Ot]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Nt,Ot]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Dn,"from-font","auto",Nt,Fg]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Dn,"auto",Nt,Ot]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt,Ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt,Ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cp,Nt,Ot],radial:["",Nt,Ot],conic:[cp,Nt,Ot]},KCe,WCe]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Dn,Nt,Ot]}],"outline-w":[{outline:["",Dn,TE,Fg]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",d,$_,B_]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",u,$_,B_]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Dn,Fg]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",p,$_,B_]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Dn,Nt,Ot]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Dn]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[Nt,Ot]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Dn]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Nt,Ot]}],filter:[{filter:["","none",Nt,Ot]}],blur:[{blur:ve()}],brightness:[{brightness:[Dn,Nt,Ot]}],contrast:[{contrast:[Dn,Nt,Ot]}],"drop-shadow":[{"drop-shadow":["","none",m,$_,B_]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Dn,Nt,Ot]}],"hue-rotate":[{"hue-rotate":[Dn,Nt,Ot]}],invert:[{invert:["",Dn,Nt,Ot]}],saturate:[{saturate:[Dn,Nt,Ot]}],sepia:[{sepia:["",Dn,Nt,Ot]}],"backdrop-filter":[{"backdrop-filter":["","none",Nt,Ot]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Dn,Nt,Ot]}],"backdrop-contrast":[{"backdrop-contrast":[Dn,Nt,Ot]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Dn,Nt,Ot]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Dn,Nt,Ot]}],"backdrop-invert":[{"backdrop-invert":["",Dn,Nt,Ot]}],"backdrop-opacity":[{"backdrop-opacity":[Dn,Nt,Ot]}],"backdrop-saturate":[{"backdrop-saturate":[Dn,Nt,Ot]}],"backdrop-sepia":[{"backdrop-sepia":["",Dn,Nt,Ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Nt,Ot]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Dn,"initial",Nt,Ot]}],ease:[{ease:["linear","initial",T,Nt,Ot]}],delay:[{delay:[Dn,Nt,Ot]}],animate:[{animate:["none",k,Nt,Ot]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Nt,Ot]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Ke()}],"skew-x":[{"skew-x":Ke()}],"skew-y":[{"skew-y":Ke()}],transform:[{transform:[Nt,Ot,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:De()}],"translate-x":[{"translate-x":De()}],"translate-y":[{"translate-y":De()}],"translate-z":[{"translate-z":De()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt,Ot]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt,Ot]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Dn,TE,Fg,RI]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},JCe=RCe(QCe);function Ie(...e){return JCe(Xn(e))}const SH=({shouldScaleBackground:e=!0,...t})=>g.jsx(Id.Root,{shouldScaleBackground:e,...t});SH.displayName="Drawer";const eTe=Id.Portal,tTe=Id.Close,Sie=C.forwardRef(({className:e,...t},n)=>g.jsx(Id.Overlay,{ref:n,className:Ie("fixed inset-0 z-50 bg-black/80",e),...t}));Sie.displayName=Id.Overlay.displayName;const CH=C.forwardRef(({className:e,children:t,side:n="bottom",...r},i)=>{const o={left:"fixed left-0 top-0 bottom-0 z-50 flex h-full w-[600px] flex-col border-r bg-background",right:"fixed right-0 top-0 bottom-0 z-50 flex h-full w-[1000px] flex-col border-l bg-background",top:"fixed inset-x-0 top-0 z-50 flex h-auto flex-col rounded-b-[10px] border-b bg-background",bottom:"fixed inset-x-0 bottom-0 z-50 flex h-auto flex-col rounded-t-[10px] border-t bg-background"};return g.jsxs(eTe,{children:[g.jsx(Sie,{}),g.jsxs(Id.Content,{ref:i,className:Ie(o[n],e),...r,children:[n==="bottom"&&g.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]})});CH.displayName="DrawerContent";const Cie=({className:e,...t})=>g.jsx("div",{className:Ie("grid gap-1.5 p-4 text-center sm:text-left",e),...t});Cie.displayName="DrawerHeader";const Tie=C.forwardRef(({className:e,...t},n)=>g.jsx(Id.Title,{ref:n,className:Ie("text-lg font-semibold leading-none tracking-tight",e),...t}));Tie.displayName=Id.Title.displayName;const nTe=C.forwardRef(({className:e,...t},n)=>g.jsx(Id.Description,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));nTe.displayName=Id.Description.displayName;const sV=e=>{let t;const n=new Set,r=(c,d)=>{const u=typeof c=="function"?c(t):c;if(!Object.is(u,t)){const p=t;t=d??(typeof u!="object"||u===null)?u:Object.assign({},t,u),n.forEach(m=>m(t,p))}},i=()=>t,s={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,s);return s},rTe=(e=>e?sV(e):sV),iTe=e=>e;function oTe(e,t=iTe){const n=F.useSyncExternalStore(e.subscribe,F.useCallback(()=>t(e.getState()),[e,t]),F.useCallback(()=>t(e.getInitialState()),[e,t]));return F.useDebugValue(n),n}const lV=e=>{const t=rTe(e),n=r=>oTe(t,r);return Object.assign(n,t),n},wT=(e=>e?lV(e):lV),cV={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},qS=new Map,H_=e=>{const t=qS.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},aTe=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=qS.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return qS.set(n.name,i),{type:"tracked",store:e,...i}},sTe=(e,t)=>{if(t===void 0)return;const n=qS.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&qS.delete(e))},lTe=e=>{var t,n;if(!e)return;const r=e.split(`
`),i=r.findIndex(a=>a.includes("api.setState"));if(i<0)return;const o=((t=r[i+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(o))==null?void 0:n[1]},cTe=(e,t={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:a,store:s,...l}=t;let c;try{c=(o??(cV?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return e(n,r,i);const{connection:d,...u}=aTe(s,c,l);let p=!0;i.setState=((x,w,T)=>{const k=n(x,w);if(!p)return k;const O=T===void 0?{type:a||lTe(new Error().stack)||"anonymous"}:typeof T=="string"?{type:T}:T;return s===void 0?(d?.send(O,r()),k):(d?.send({...O,type:`${s}/${O.type}`},{...H_(l.name),[s]:i.getState()}),k)}),i.devtools={cleanup:()=>{d&&typeof d.unsubscribe=="function"&&d.unsubscribe(),sTe(l.name,s)}};const m=(...x)=>{const w=p;p=!1,n(...x),p=w},v=e(i.setState,r,i);if(u.type==="untracked"?d?.init(v):(u.stores[u.store]=i,d?.init(Object.fromEntries(Object.entries(u.stores).map(([x,w])=>[x,x===u.store?v:w.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let x=!1;const w=i.dispatch;i.dispatch=(...T)=>{(cV?"production":void 0)!=="production"&&T[0].type==="__setState"&&!x&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),x=!0),w(...T)}}return d.subscribe(x=>{var w;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return II(x.payload,T=>{if(T.type==="__setState"){if(s===void 0){m(T.state);return}Object.keys(T.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const k=T.state[s];if(k==null)return;JSON.stringify(i.getState())!==JSON.stringify(k)&&m(k);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(T)});case"DISPATCH":switch(x.payload.type){case"RESET":return m(v),s===void 0?d?.init(i.getState()):d?.init(H_(l.name));case"COMMIT":if(s===void 0){d?.init(i.getState());return}return d?.init(H_(l.name));case"ROLLBACK":return II(x.state,T=>{if(s===void 0){m(T),d?.init(i.getState());return}m(T[s]),d?.init(H_(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return II(x.state,T=>{if(s===void 0){m(T);return}JSON.stringify(i.getState())!==JSON.stringify(T[s])&&m(T[s])});case"IMPORT_STATE":{const{nextLiftedState:T}=x.payload,k=(w=T.computedStates.slice(-1)[0])==null?void 0:w.state;if(!k)return;m(s===void 0?k:k[s]),d?.send(null,T);return}case"PAUSE_RECORDING":return p=!p}return}}),v},rD=cTe,II=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)};function uTe(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const a=l=>l===null?null:JSON.parse(l,void 0),s=(o=n.getItem(i))!=null?o:null;return s instanceof Promise?s.then(a):a(s)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const U6=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return U6(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return U6(r)(n)}}}},dTe=(e,t)=>(n,r,i)=>{let o={storage:uTe(()=>localStorage),partialize:x=>x,version:0,merge:(x,w)=>({...w,...x}),...t},a=!1;const s=new Set,l=new Set;let c=o.storage;if(!c)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...x)},r,i);const d=()=>{const x=o.partialize({...r()});return c.setItem(o.name,{state:x,version:o.version})},u=i.setState;i.setState=(x,w)=>(u(x,w),d());const p=e((...x)=>(n(...x),d()),r,i);i.getInitialState=()=>p;let m;const v=()=>{var x,w;if(!c)return;a=!1,s.forEach(k=>{var O;return k((O=r())!=null?O:p)});const T=((w=o.onRehydrateStorage)==null?void 0:w.call(o,(x=r())!=null?x:p))||void 0;return U6(c.getItem.bind(c))(o.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==o.version){if(o.migrate){const O=o.migrate(k.state,k.version);return O instanceof Promise?O.then(I=>[!0,I]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var O;const[I,N]=k;if(m=o.merge(N,(O=r())!=null?O:p),n(m,!0),I)return d()}).then(()=>{T?.(m,void 0),m=r(),a=!0,l.forEach(k=>k(m))}).catch(k=>{T?.(void 0,k)})};return i.persist={setOptions:x=>{o={...o,...x},x.storage&&(c=x.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:x=>(s.add(x),()=>{s.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},o.skipHydration||v(),m||p},fTe=dTe;var JE={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var hTe=JE.exports,uV;function pTe(){return uV||(uV=1,(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",u=1,p=2,m=4,v=1,x=2,w=1,T=2,k=4,O=8,I=16,N=32,A=64,R=128,L=256,B=512,$=30,q="...",z=800,W=16,G=1,Z=2,V=3,ne=1/0,X=9007199254740991,oe=17976931348623157e292,K=NaN,Q=4294967295,te=Q-1,U=Q>>>1,fe=[["ary",R],["bind",w],["bindKey",T],["curry",O],["curryRight",I],["flip",B],["partial",N],["partialRight",A],["rearg",L]],me="[object Arguments]",ke="[object Array]",Ee="[object AsyncFunction]",ve="[object Boolean]",we="[object Date]",je="[object DOMException]",Ke="[object Error]",De="[object Function]",It="[object GeneratorFunction]",Fe="[object Map]",an="[object Number]",cn="[object Null]",Qt="[object Object]",Vr="[object Promise]",er="[object Proxy]",ce="[object RegExp]",xe="[object Set]",Te="[object String]",Je="[object Symbol]",Ze="[object Undefined]",Qe="[object WeakMap]",ge="[object WeakSet]",Be="[object ArrayBuffer]",it="[object DataView]",At="[object Float32Array]",qt="[object Float64Array]",Zn="[object Int8Array]",Tn="[object Int16Array]",or="[object Int32Array]",Yn="[object Uint8Array]",xr="[object Uint8ClampedArray]",un="[object Uint16Array]",xi="[object Uint32Array]",Ct=/\b__p \+= '';/g,lt=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,jt=/[&<>"']/g,vt=RegExp(Tt.source),xt=RegExp(jt.source),on=/<%-([\s\S]+?)%>/g,Gn=/<%([\s\S]+?)%>/g,Hn=/<%=([\s\S]+?)%>/g,di=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,se=/^\w*$/,ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,Xe=RegExp(Re.source),nt=/^\s+/,kt=/\s/,bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_t=/\{\n\/\* \[wrapped with (.+)\] \*/,$t=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,xn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mr=/\w*$/,Oi=/^[-+]0x[0-9a-f]+$/i,po=/^0b[01]+$/i,Dr=/^\[object .+?Constructor\]$/,ar=/^0o[0-7]+$/i,Xs=/^(?:0|[1-9]\d*)$/,ds=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zi=/($^)/,Ao=/['\n\r\u2028\u2029\\]/g,Ma="\\ud800-\\udfff",qr="\\u0300-\\u036f",$l="\\ufe20-\\ufe2f",Vd="\\u20d0-\\u20ff",Da=qr+$l+Vd,yn="\\u2700-\\u27bf",$i="a-z\\xdf-\\xf6\\xf8-\\xff",kc="\\xac\\xb1\\xd7\\xf7",Hl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wi="\\u2000-\\u206f",_c=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ou="A-Z\\xc0-\\xd6\\xd8-\\xde",fs="\\ufe0e\\ufe0f",Ra=kc+Hl+wi+_c,gy="[']",l3="["+Ma+"]",yy="["+Ra+"]",Om="["+Da+"]",Nm="\\d+",c3="["+yn+"]",Ia="["+$i+"]",by="[^"+Ma+Ra+Nm+yn+$i+Ou+"]",vy="\\ud83c[\\udffb-\\udfff]",Tx="(?:"+Om+"|"+vy+")",qd="[^"+Ma+"]",xy="(?:\\ud83c[\\udde6-\\uddff]){2}",wy="[\\ud800-\\udbff][\\udc00-\\udfff]",Zs="["+Ou+"]",bk="\\u200d",kx="(?:"+Ia+"|"+by+")",vk="(?:"+Zs+"|"+by+")",Ey="(?:"+gy+"(?:d|ll|m|re|s|t|ve))?",xk="(?:"+gy+"(?:D|LL|M|RE|S|T|VE))?",wk=Tx+"?",Mm="["+fs+"]?",Ac="(?:"+bk+"(?:"+[qd,xy,wy].join("|")+")"+Mm+wk+")*",_x="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ax="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wd=Mm+wk+Ac,mh="(?:"+[c3,xy,wy].join("|")+")"+Wd,Ek="(?:"+[qd+Om+"?",Om,xy,wy,l3].join("|")+")",Ox=RegExp(gy,"g"),Sk=RegExp(Om,"g"),Yd=RegExp(vy+"(?="+vy+")|"+Ek+Wd,"g"),Oc=RegExp([Zs+"?"+Ia+"+"+Ey+"(?="+[yy,Zs,"$"].join("|")+")",vk+"+"+xk+"(?="+[yy,Zs+kx,"$"].join("|")+")",Zs+"?"+kx+"+"+Ey,Zs+"+"+xk,Ax,_x,Nm,mh].join("|"),"g"),Nx=RegExp("["+bk+Ma+Da+fs+"]"),Dm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mx=-1,wr={};wr[At]=wr[qt]=wr[Zn]=wr[Tn]=wr[or]=wr[Yn]=wr[xr]=wr[un]=wr[xi]=!0,wr[me]=wr[ke]=wr[Be]=wr[ve]=wr[it]=wr[we]=wr[Ke]=wr[De]=wr[Fe]=wr[an]=wr[Qt]=wr[ce]=wr[xe]=wr[Te]=wr[Qe]=!1;var _r={};_r[me]=_r[ke]=_r[Be]=_r[it]=_r[ve]=_r[we]=_r[At]=_r[qt]=_r[Zn]=_r[Tn]=_r[or]=_r[Fe]=_r[an]=_r[Qt]=_r[ce]=_r[xe]=_r[Te]=_r[Je]=_r[Yn]=_r[xr]=_r[un]=_r[xi]=!0,_r[Ke]=_r[De]=_r[Qe]=!1;var Sy={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Cy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ck={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},na={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gd=parseFloat,Ty=parseInt,gh=typeof Ip=="object"&&Ip&&Ip.Object===Object&&Ip,u3=typeof self=="object"&&self&&self.Object===Object&&self,Hi=gh||u3||Function("return this")(),Rm=t&&!t.nodeType&&t,Qs=Rm&&!0&&e&&!e.nodeType&&e,Im=Qs&&Qs.exports===Rm,ky=Im&&gh.process,hs=(function(){try{var be=Qs&&Qs.require&&Qs.require("util").types;return be||ky&&ky.binding&&ky.binding("util")}catch{}})(),Tk=hs&&hs.isArrayBuffer,kk=hs&&hs.isDate,_y=hs&&hs.isMap,_k=hs&&hs.isRegExp,Ak=hs&&hs.isSet,Ok=hs&&hs.isTypedArray;function Pa(be,Ue,Pe){switch(Pe.length){case 0:return be.call(Ue);case 1:return be.call(Ue,Pe[0]);case 2:return be.call(Ue,Pe[0],Pe[1]);case 3:return be.call(Ue,Pe[0],Pe[1],Pe[2])}return be.apply(Ue,Pe)}function d3(be,Ue,Pe,gt){for(var sn=-1,On=be==null?0:be.length;++sn<On;){var Yr=be[sn];Ue(gt,Yr,Pe(Yr),be)}return gt}function La(be,Ue){for(var Pe=-1,gt=be==null?0:be.length;++Pe<gt&&Ue(be[Pe],Pe,be)!==!1;);return be}function f3(be,Ue){for(var Pe=be==null?0:be.length;Pe--&&Ue(be[Pe],Pe,be)!==!1;);return be}function Nk(be,Ue){for(var Pe=-1,gt=be==null?0:be.length;++Pe<gt;)if(!Ue(be[Pe],Pe,be))return!1;return!0}function Mu(be,Ue){for(var Pe=-1,gt=be==null?0:be.length,sn=0,On=[];++Pe<gt;){var Yr=be[Pe];Ue(Yr,Pe,be)&&(On[sn++]=Yr)}return On}function Ay(be,Ue){var Pe=be==null?0:be.length;return!!Pe&&yh(be,Ue,0)>-1}function Pm(be,Ue,Pe){for(var gt=-1,sn=be==null?0:be.length;++gt<sn;)if(Pe(Ue,be[gt]))return!0;return!1}function Wr(be,Ue){for(var Pe=-1,gt=be==null?0:be.length,sn=Array(gt);++Pe<gt;)sn[Pe]=Ue(be[Pe],Pe,be);return sn}function Du(be,Ue){for(var Pe=-1,gt=Ue.length,sn=be.length;++Pe<gt;)be[sn+Pe]=Ue[Pe];return be}function Dx(be,Ue,Pe,gt){var sn=-1,On=be==null?0:be.length;for(gt&&On&&(Pe=be[++sn]);++sn<On;)Pe=Ue(Pe,be[sn],sn,be);return Pe}function Mk(be,Ue,Pe,gt){var sn=be==null?0:be.length;for(gt&&sn&&(Pe=be[--sn]);sn--;)Pe=Ue(Pe,be[sn],sn,be);return Pe}function Rx(be,Ue){for(var Pe=-1,gt=be==null?0:be.length;++Pe<gt;)if(Ue(be[Pe],Pe,be))return!0;return!1}var h3=Kd("length");function p3(be){return be.split("")}function m3(be){return be.match(Ht)||[]}function Dk(be,Ue,Pe){var gt;return Pe(be,function(sn,On,Yr){if(Ue(sn,On,Yr))return gt=On,!1}),gt}function Oy(be,Ue,Pe,gt){for(var sn=be.length,On=Pe+(gt?1:-1);gt?On--:++On<sn;)if(Ue(be[On],On,be))return On;return-1}function yh(be,Ue,Pe){return Ue===Ue?v3(be,Ue,Pe):Oy(be,Rk,Pe)}function g3(be,Ue,Pe,gt){for(var sn=Pe-1,On=be.length;++sn<On;)if(gt(be[sn],Ue))return sn;return-1}function Rk(be){return be!==be}function Ny(be,Ue){var Pe=be==null?0:be.length;return Pe?My(be,Ue)/Pe:K}function Kd(be){return function(Ue){return Ue==null?n:Ue[be]}}function Ix(be){return function(Ue){return be==null?n:be[Ue]}}function Px(be,Ue,Pe,gt,sn){return sn(be,function(On,Yr,gr){Pe=gt?(gt=!1,On):Ue(Pe,On,Yr,gr)}),Pe}function Ik(be,Ue){var Pe=be.length;for(be.sort(Ue);Pe--;)be[Pe]=be[Pe].value;return be}function My(be,Ue){for(var Pe,gt=-1,sn=be.length;++gt<sn;){var On=Ue(be[gt]);On!==n&&(Pe=Pe===n?On:Pe+On)}return Pe}function Dy(be,Ue){for(var Pe=-1,gt=Array(be);++Pe<be;)gt[Pe]=Ue(Pe);return gt}function Pk(be,Ue){return Wr(Ue,function(Pe){return[Pe,be[Pe]]})}function Xd(be){return be&&be.slice(0,vh(be)+1).replace(nt,"")}function ja(be){return function(Ue){return be(Ue)}}function Lx(be,Ue){return Wr(Ue,function(Pe){return be[Pe]})}function Lm(be,Ue){return be.has(Ue)}function jx(be,Ue){for(var Pe=-1,gt=be.length;++Pe<gt&&yh(Ue,be[Pe],0)>-1;);return Pe}function Bx(be,Ue){for(var Pe=be.length;Pe--&&yh(Ue,be[Pe],0)>-1;);return Pe}function jm(be,Ue){for(var Pe=be.length,gt=0;Pe--;)be[Pe]===Ue&&++gt;return gt}var Bm=Ix(Sy),y3=Ix(Cy);function Ry(be){return"\\"+na[be]}function Lk(be,Ue){return be==null?n:be[Ue]}function Zd(be){return Nx.test(be)}function $x(be){return Dm.test(be)}function Hx(be){for(var Ue,Pe=[];!(Ue=be.next()).done;)Pe.push(Ue.value);return Pe}function Iy(be){var Ue=-1,Pe=Array(be.size);return be.forEach(function(gt,sn){Pe[++Ue]=[sn,gt]}),Pe}function Fx(be,Ue){return function(Pe){return be(Ue(Pe))}}function Nc(be,Ue){for(var Pe=-1,gt=be.length,sn=0,On=[];++Pe<gt;){var Yr=be[Pe];(Yr===Ue||Yr===d)&&(be[Pe]=d,On[sn++]=Pe)}return On}function Py(be){var Ue=-1,Pe=Array(be.size);return be.forEach(function(gt){Pe[++Ue]=gt}),Pe}function b3(be){var Ue=-1,Pe=Array(be.size);return be.forEach(function(gt){Pe[++Ue]=[gt,gt]}),Pe}function v3(be,Ue,Pe){for(var gt=Pe-1,sn=be.length;++gt<sn;)if(be[gt]===Ue)return gt;return-1}function x3(be,Ue,Pe){for(var gt=Pe+1;gt--;)if(be[gt]===Ue)return gt;return gt}function bh(be){return Zd(be)?Bk(be):h3(be)}function oi(be){return Zd(be)?$k(be):p3(be)}function vh(be){for(var Ue=be.length;Ue--&&kt.test(be.charAt(Ue)););return Ue}var jk=Ix(Ck);function Bk(be){for(var Ue=Yd.lastIndex=0;Yd.test(be);)++Ue;return Ue}function $k(be){return be.match(Yd)||[]}function Hk(be){return be.match(Oc)||[]}var Ux=(function be(Ue){Ue=Ue==null?Hi:xh.defaults(Hi.Object(),Ue,xh.pick(Hi,Nu));var Pe=Ue.Array,gt=Ue.Date,sn=Ue.Error,On=Ue.Function,Yr=Ue.Math,gr=Ue.Object,Ly=Ue.RegExp,Qd=Ue.String,Ba=Ue.TypeError,$m=Pe.prototype,Fk=On.prototype,wh=gr.prototype,jy=Ue["__core-js_shared__"],By=Fk.toString,dr=wh.hasOwnProperty,Uk=0,$y=(function(){var b=/[^.]+$/.exec(jy&&jy.keys&&jy.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""})(),ra=wh.toString,Hy=By.call(gr),ps=Hi._,Eh=Ly("^"+By.call(dr).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sh=Im?Ue.Buffer:n,Js=Ue.Symbol,Jd=Ue.Uint8Array,Fy=Sh?Sh.allocUnsafe:n,Fl=Fx(gr.getPrototypeOf,gr),zx=gr.create,Hm=wh.propertyIsEnumerable,Mc=$m.splice,zk=Js?Js.isConcatSpreadable:n,mo=Js?Js.iterator:n,Dc=Js?Js.toStringTag:n,ms=(function(){try{var b=qu(gr,"defineProperty");return b({},"",{}),b}catch{}})(),Vk=Ue.clearTimeout!==Hi.clearTimeout&&Ue.clearTimeout,Uy=gt&&gt.now!==Hi.Date.now&&gt.now,ef=Ue.setTimeout!==Hi.setTimeout&&Ue.setTimeout,Ch=Yr.ceil,Fm=Yr.floor,Um=gr.getOwnPropertySymbols,qk=Sh?Sh.isBuffer:n,$a=Ue.isFinite,Th=$m.join,kh=Fx(gr.keys,gr),fi=Yr.max,Ni=Yr.min,gs=gt.now,ys=Ue.parseInt,Rc=Yr.random,Ul=$m.reverse,bs=qu(Ue,"DataView"),Ha=qu(Ue,"Map"),zy=qu(Ue,"Promise"),Ru=qu(Ue,"Set"),tf=qu(Ue,"WeakMap"),_h=qu(gr,"create"),Mi=tf&&new tf,fr={},Fn=Mo(bs),Iu=Mo(Ha),vs=Mo(zy),Vx=Mo(Ru),Pu=Mo(tf),zm=Js?Js.prototype:n,Ah=zm?zm.valueOf:n,nf=zm?zm.toString:n;function ee(b){if(mi(b)&&!ln(b)&&!(b instanceof dn)){if(b instanceof ia)return b;if(dr.call(b,"__wrapped__"))return xb(b)}return new ia(b)}var Lu=(function(){function b(){}return function(S){if(!Kr(S))return{};if(zx)return zx(S);b.prototype=S;var M=new b;return b.prototype=n,M}})();function ju(){}function ia(b,S){this.__wrapped__=b,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=n}ee.templateSettings={escape:on,evaluate:Gn,interpolate:Hn,variable:"",imports:{_:ee}},ee.prototype=ju.prototype,ee.prototype.constructor=ee,ia.prototype=Lu(ju.prototype),ia.prototype.constructor=ia;function dn(b){this.__wrapped__=b,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function Ic(){var b=new dn(this.__wrapped__);return b.__actions__=Vo(this.__actions__),b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=Vo(this.__iteratees__),b.__takeCount__=this.__takeCount__,b.__views__=Vo(this.__views__),b}function Bu(){if(this.__filtered__){var b=new dn(this);b.__dir__=-1,b.__filtered__=!0}else b=this.clone(),b.__dir__*=-1;return b}function Pc(){var b=this.__wrapped__.value(),S=this.__dir__,M=ln(b),j=S<0,Y=M?b.length:0,re=O3(0,Y,this.__views__),le=re.start,he=re.end,Ce=he-le,Ye=j?he:le-1,Ge=this.__iteratees__,et=Ge.length,ht=0,Bt=Ni(Ce,this.__takeCount__);if(!M||!j&&Y==Ce&&Bt==Ce)return ow(b,this.__actions__);var en=[];e:for(;Ce--&&ht<Bt;){Ye+=S;for(var kn=-1,tn=b[Ye];++kn<et;){var Un=Ge[kn],Qn=Un.iteratee,dl=Un.type,Qa=Qn(tn);if(dl==Z)tn=Qa;else if(!Qa){if(dl==G)continue e;break e}}en[ht++]=tn}return en}dn.prototype=Lu(ju.prototype),dn.prototype.constructor=dn;function Lc(b){var S=-1,M=b==null?0:b.length;for(this.clear();++S<M;){var j=b[S];this.set(j[0],j[1])}}function qx(){this.__data__=_h?_h(null):{},this.size=0}function Oh(b){var S=this.has(b)&&delete this.__data__[b];return this.size-=S?1:0,S}function Vy(b){var S=this.__data__;if(_h){var M=S[b];return M===l?n:M}return dr.call(S,b)?S[b]:n}function rf(b){var S=this.__data__;return _h?S[b]!==n:dr.call(S,b)}function go(b,S){var M=this.__data__;return this.size+=this.has(b)?0:1,M[b]=_h&&S===n?l:S,this}Lc.prototype.clear=qx,Lc.prototype.delete=Oh,Lc.prototype.get=Vy,Lc.prototype.has=rf,Lc.prototype.set=go;function xs(b){var S=-1,M=b==null?0:b.length;for(this.clear();++S<M;){var j=b[S];this.set(j[0],j[1])}}function Wk(){this.__data__=[],this.size=0}function w3(b){var S=this.__data__,M=zl(S,b);if(M<0)return!1;var j=S.length-1;return M==j?S.pop():Mc.call(S,M,1),--this.size,!0}function E3(b){var S=this.__data__,M=zl(S,b);return M<0?n:S[M][1]}function S3(b){return zl(this.__data__,b)>-1}function Di(b,S){var M=this.__data__,j=zl(M,b);return j<0?(++this.size,M.push([b,S])):M[j][1]=S,this}xs.prototype.clear=Wk,xs.prototype.delete=w3,xs.prototype.get=E3,xs.prototype.has=S3,xs.prototype.set=Di;function el(b){var S=-1,M=b==null?0:b.length;for(this.clear();++S<M;){var j=b[S];this.set(j[0],j[1])}}function Vm(){this.size=0,this.__data__={hash:new Lc,map:new(Ha||xs),string:new Lc}}function qm(b){var S=cg(this,b).delete(b);return this.size-=S?1:0,S}function Wx(b){return cg(this,b).get(b)}function Nh(b){return cg(this,b).has(b)}function Mh(b,S){var M=cg(this,b),j=M.size;return M.set(b,S),this.size+=M.size==j?0:1,this}el.prototype.clear=Vm,el.prototype.delete=qm,el.prototype.get=Wx,el.prototype.has=Nh,el.prototype.set=Mh;function of(b){var S=-1,M=b==null?0:b.length;for(this.__data__=new el;++S<M;)this.add(b[S])}function Yk(b){return this.__data__.set(b,l),this}function C3(b){return this.__data__.has(b)}of.prototype.add=of.prototype.push=Yk,of.prototype.has=C3;function ws(b){var S=this.__data__=new xs(b);this.size=S.size}function af(){this.__data__=new xs,this.size=0}function Yx(b){var S=this.__data__,M=S.delete(b);return this.size=S.size,M}function qy(b){return this.__data__.get(b)}function Gk(b){return this.__data__.has(b)}function Dh(b,S){var M=this.__data__;if(M instanceof xs){var j=M.__data__;if(!Ha||j.length<i-1)return j.push([b,S]),this.size=++M.size,this;M=this.__data__=new el(j)}return M.set(b,S),this.size=M.size,this}ws.prototype.clear=af,ws.prototype.delete=Yx,ws.prototype.get=qy,ws.prototype.has=Gk,ws.prototype.set=Dh;function Wy(b,S){var M=ln(b),j=!M&&pf(b),Y=!M&&!j&&Qu(b),re=!M&&!j&&!Y&&Ju(b),le=M||j||Y||re,he=le?Dy(b.length,Qd):[],Ce=he.length;for(var Ye in b)(S||dr.call(b,Ye))&&!(le&&(Ye=="length"||Y&&(Ye=="offset"||Ye=="parent")||re&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||sl(Ye,Ce)))&&he.push(Ye);return he}function Wm(b){var S=b.length;return S?b[Hh(0,S-1)]:n}function Yy(b,S){return yg(Vo(b),nl(S,0,b.length))}function Kk(b){return yg(Vo(b))}function Gy(b,S,M){(M!==n&&!Ka(b[S],M)||M===n&&!(S in b))&&Fa(b,S,M)}function tl(b,S,M){var j=b[S];(!(dr.call(b,S)&&Ka(j,M))||M===n&&!(S in b))&&Fa(b,S,M)}function zl(b,S){for(var M=b.length;M--;)if(Ka(b[M][0],S))return M;return-1}function Xk(b,S,M,j){return Vl(b,function(Y,re,le){S(j,Y,M(Y),le)}),j}function Gx(b,S){return b&&Ts(S,Ji(S),b)}function Rh(b,S){return b&&Ts(S,pa(S),b)}function Fa(b,S,M){S=="__proto__"&&ms?ms(b,S,{configurable:!0,enumerable:!0,value:M,writable:!0}):b[S]=M}function Ih(b,S){for(var M=-1,j=S.length,Y=Pe(j),re=b==null;++M<j;)Y[M]=re?n:ed(b,S[M]);return Y}function nl(b,S,M){return b===b&&(M!==n&&(b=b<=M?b:M),S!==n&&(b=b>=S?b:S)),b}function zo(b,S,M,j,Y,re){var le,he=S&u,Ce=S&p,Ye=S&m;if(M&&(le=Y?M(b,j,Y,re):M(b)),le!==n)return le;if(!Kr(b))return b;var Ge=ln(b);if(Ge){if(le=h2(b),!he)return Vo(b,le)}else{var et=bo(b),ht=et==De||et==It;if(Qu(b))return lw(b,he);if(et==Qt||et==me||ht&&!Y){if(le=Ce||ht?{}:Ew(b),!he)return Ce?l2(b,Rh(le,b)):s2(b,Gx(le,b))}else{if(!_r[et])return Y?b:{};le=p2(b,et,he)}}re||(re=new ws);var Bt=re.get(b);if(Bt)return Bt;re.set(b,le),Rg(b)?b.forEach(function(tn){le.add(zo(tn,S,M,tn,b,re))}):X2(b)&&b.forEach(function(tn,Un){le.set(Un,zo(tn,S,M,Un,b,re))});var en=Ye?Ce?ww:fb:Ce?pa:Ji,kn=Ge?n:en(b);return La(kn||b,function(tn,Un){kn&&(Un=tn,tn=b[Un]),tl(le,Un,zo(tn,S,M,Un,b,re))}),le}function Zk(b){var S=Ji(b);return function(M){return $u(M,b,S)}}function $u(b,S,M){var j=M.length;if(b==null)return!j;for(b=gr(b);j--;){var Y=M[j],re=S[Y],le=b[Y];if(le===n&&!(Y in b)||!re(le))return!1}return!0}function Kx(b,S,M){if(typeof b!="function")throw new Ba(a);return gg(function(){b.apply(n,M)},S)}function Es(b,S,M,j){var Y=-1,re=Ay,le=!0,he=b.length,Ce=[],Ye=S.length;if(!he)return Ce;M&&(S=Wr(S,ja(M))),j?(re=Pm,le=!1):S.length>=i&&(re=Lm,le=!1,S=new of(S));e:for(;++Y<he;){var Ge=b[Y],et=M==null?Ge:M(Ge);if(Ge=j||Ge!==0?Ge:0,le&&et===et){for(var ht=Ye;ht--;)if(S[ht]===et)continue e;Ce.push(Ge)}else re(S,et,j)||Ce.push(Ge)}return Ce}var Vl=fw(il),Ky=fw(Zy,!0);function Hu(b,S){var M=!0;return Vl(b,function(j,Y,re){return M=!!S(j,Y,re),M}),M}function rl(b,S,M){for(var j=-1,Y=b.length;++j<Y;){var re=b[j],le=S(re);if(le!=null&&(he===n?le===le&&!ha(le):M(le,he)))var he=le,Ce=re}return Ce}function Ym(b,S,M,j){var Y=b.length;for(M=Jt(M),M<0&&(M=-M>Y?0:Y+M),j=j===n||j>Y?Y:Jt(j),j<0&&(j+=Y),j=M>j?0:sE(j);M<j;)b[M++]=S;return b}function Xy(b,S){var M=[];return Vl(b,function(j,Y,re){S(j,Y,re)&&M.push(j)}),M}function Fi(b,S,M,j,Y){var re=-1,le=b.length;for(M||(M=Cw),Y||(Y=[]);++re<le;){var he=b[re];S>0&&M(he)?S>1?Fi(he,S-1,M,j,Y):Du(Y,he):j||(Y[Y.length]=he)}return Y}var sf=hw(),Ph=hw(!0);function il(b,S){return b&&sf(b,S,Ji)}function Zy(b,S){return b&&Ph(b,S,Ji)}function jc(b,S){return Mu(S,function(M){return Xa(b[M])})}function ql(b,S){S=qa(S,b);for(var M=0,j=S.length;b!=null&&M<j;)b=b[sa(S[M++])];return M&&M==j?b:n}function Xx(b,S,M){var j=S(b);return ln(b)?j:Du(j,M(b))}function yo(b){return b==null?b===n?Ze:cn:Dc&&Dc in gr(b)?ug(b):kw(b)}function Gm(b,S){return b>S}function Ua(b,S){return b!=null&&dr.call(b,S)}function Ss(b,S){return b!=null&&S in gr(b)}function Fu(b,S,M){return b>=Ni(S,M)&&b<fi(S,M)}function Km(b,S,M){for(var j=M?Pm:Ay,Y=b[0].length,re=b.length,le=re,he=Pe(re),Ce=1/0,Ye=[];le--;){var Ge=b[le];le&&S&&(Ge=Wr(Ge,ja(S))),Ce=Ni(Ge.length,Ce),he[le]=!M&&(S||Y>=120&&Ge.length>=120)?new of(le&&Ge):n}Ge=b[0];var et=-1,ht=he[0];e:for(;++et<Y&&Ye.length<Ce;){var Bt=Ge[et],en=S?S(Bt):Bt;if(Bt=M||Bt!==0?Bt:0,!(ht?Lm(ht,en):j(Ye,en,M))){for(le=re;--le;){var kn=he[le];if(!(kn?Lm(kn,en):j(b[le],en,M)))continue e}ht&&ht.push(en),Ye.push(Bt)}}return Ye}function Qk(b,S,M,j){return il(b,function(Y,re,le){S(j,M(Y),re,le)}),j}function Cs(b,S,M){S=qa(S,b),b=pg(b,S);var j=b==null?b:b[sa(jr(S))];return j==null?n:Pa(j,b,M)}function oa(b){return mi(b)&&yo(b)==me}function Ei(b){return mi(b)&&yo(b)==Be}function Qy(b){return mi(b)&&yo(b)==we}function za(b,S,M,j,Y){return b===S?!0:b==null||S==null||!mi(b)&&!mi(S)?b!==b&&S!==S:fn(b,S,M,j,za,Y)}function fn(b,S,M,j,Y,re){var le=ln(b),he=ln(S),Ce=le?ke:bo(b),Ye=he?ke:bo(S);Ce=Ce==me?Qt:Ce,Ye=Ye==me?Qt:Ye;var Ge=Ce==Qt,et=Ye==Qt,ht=Ce==Ye;if(ht&&Qu(b)){if(!Qu(S))return!1;le=!0,Ge=!1}if(ht&&!Ge)return re||(re=new ws),le||Ju(b)?sg(b,S,M,j,Y,re):f2(b,S,Ce,M,j,Y,re);if(!(M&v)){var Bt=Ge&&dr.call(b,"__wrapped__"),en=et&&dr.call(S,"__wrapped__");if(Bt||en){var kn=Bt?b.value():b,tn=en?S.value():S;return re||(re=new ws),Y(kn,tn,M,j,re)}}return ht?(re||(re=new ws),xw(b,S,M,j,Y,re)):!1}function Er(b){return mi(b)&&bo(b)==Fe}function hi(b,S,M,j){var Y=M.length,re=Y,le=!j;if(b==null)return!re;for(b=gr(b);Y--;){var he=M[Y];if(le&&he[2]?he[1]!==b[he[0]]:!(he[0]in b))return!1}for(;++Y<re;){he=M[Y];var Ce=he[0],Ye=b[Ce],Ge=he[1];if(le&&he[2]){if(Ye===n&&!(Ce in b))return!1}else{var et=new ws;if(j)var ht=j(Ye,Ge,Ce,b,S,et);if(!(ht===n?za(Ge,Ye,v|x,j,et):ht))return!1}}return!0}function Xm(b){if(!Kr(b)||m2(b))return!1;var S=Xa(b)?Eh:Dr;return S.test(Mo(b))}function Lh(b){return mi(b)&&yo(b)==ce}function lf(b){return mi(b)&&bo(b)==xe}function Jy(b){return mi(b)&&Rb(b.length)&&!!wr[yo(b)]}function jh(b){return typeof b=="function"?b:b==null?Wo:typeof b=="object"?ln(b)?Zx(b[0],b[1]):tb(b):J(b)}function Uu(b){if(!qh(b))return kh(b);var S=[];for(var M in gr(b))dr.call(b,M)&&M!="constructor"&&S.push(M);return S}function T3(b){if(!Kr(b))return $c(b);var S=qh(b),M=[];for(var j in b)j=="constructor"&&(S||!dr.call(b,j))||M.push(j);return M}function Gr(b,S){return b<S}function eb(b,S){var M=-1,j=fa(b)?Pe(b.length):[];return Vl(b,function(Y,re,le){j[++M]=S(Y,re,le)}),j}function tb(b){var S=hb(b);return S.length==1&&S[0][2]?bb(S[0][0],S[0][1]):function(M){return M===b||hi(M,b,S)}}function Zx(b,S){return fg(b)&&Yl(S)?bb(sa(b),S):function(M){var j=ed(M,b);return j===n&&j===S?cE(M,b):za(S,j,v|x)}}function Zm(b,S,M,j,Y){b!==S&&sf(S,function(re,le){if(Y||(Y=new ws),Kr(re))k3(b,S,le,M,Zm,j,Y);else{var he=j?j(Ar(b,le),re,le+"",b,S,Y):n;he===n&&(he=re),Gy(b,le,he)}},pa)}function k3(b,S,M,j,Y,re,le){var he=Ar(b,M),Ce=Ar(S,M),Ye=le.get(Ce);if(Ye){Gy(b,M,Ye);return}var Ge=re?re(he,Ce,M+"",b,S,le):n,et=Ge===n;if(et){var ht=ln(Ce),Bt=!ht&&Qu(Ce),en=!ht&&!Bt&&Ju(Ce);Ge=Ce,ht||Bt||en?ln(he)?Ge=he:Ci(he)?Ge=Vo(he):Bt?(et=!1,Ge=lw(Ce,!0)):en?(et=!1,Ge=cw(Ce,!0)):Ge=[]:Mg(Ce)||pf(Ce)?(Ge=he,pf(he)?Ge=Ib(he):(!Kr(he)||Xa(he))&&(Ge=Ew(Ce))):et=!1}et&&(le.set(Ce,Ge),Y(Ge,Ce,j,re,le),le.delete(Ce)),Gy(b,M,Ge)}function nb(b,S){var M=b.length;if(M)return S+=S<0?M:0,sl(S,M)?b[S]:n}function rb(b,S,M){S.length?S=Wr(S,function(re){return ln(re)?function(le){return ql(le,re.length===1?re[0]:re)}:re}):S=[Wo];var j=-1;S=Wr(S,ja(Wt()));var Y=eb(b,function(re,le,he){var Ce=Wr(S,function(Ye){return Ye(re)});return{criteria:Ce,index:++j,value:re}});return Ik(Y,function(re,le){return a2(re,le,M)})}function Qx(b,S){return Oo(b,S,function(M,j){return cE(b,j)})}function Oo(b,S,M){for(var j=-1,Y=S.length,re={};++j<Y;){var le=S[j],he=ql(b,le);M(he,le)&&Fh(re,qa(le,b),he)}return re}function Si(b){return function(S){return ql(S,b)}}function Bh(b,S,M,j){var Y=j?g3:yh,re=-1,le=S.length,he=b;for(b===S&&(S=Vo(S)),M&&(he=Wr(b,ja(M)));++re<le;)for(var Ce=0,Ye=S[re],Ge=M?M(Ye):Ye;(Ce=Y(he,Ge,Ce,j))>-1;)he!==b&&Mc.call(he,Ce,1),Mc.call(b,Ce,1);return b}function $h(b,S){for(var M=b?S.length:0,j=M-1;M--;){var Y=S[M];if(M==j||Y!==re){var re=Y;sl(Y)?Mc.call(b,Y,1):Qm(b,Y)}}return b}function Hh(b,S){return b+Fm(Rc()*(S-b+1))}function Jx(b,S,M,j){for(var Y=-1,re=fi(Ch((S-b)/(M||1)),0),le=Pe(re);re--;)le[j?re:++Y]=b,b+=M;return le}function ol(b,S){var M="";if(!b||S<1||S>X)return M;do S%2&&(M+=b),S=Fm(S/2),S&&(b+=b);while(S);return M}function hn(b,S){return vb(_w(b,S,Wo),b+"")}function ew(b){return Wm(op(b))}function tw(b,S){var M=op(b);return yg(M,nl(S,0,M.length))}function Fh(b,S,M,j){if(!Kr(b))return b;S=qa(S,b);for(var Y=-1,re=S.length,le=re-1,he=b;he!=null&&++Y<re;){var Ce=sa(S[Y]),Ye=M;if(Ce==="__proto__"||Ce==="constructor"||Ce==="prototype")return b;if(Y!=le){var Ge=he[Ce];Ye=j?j(Ge,Ce,he):n,Ye===n&&(Ye=Kr(Ge)?Ge:sl(S[Y+1])?[]:{})}tl(he,Ce,Ye),he=he[Ce]}return b}var nw=Mi?function(b,S){return Mi.set(b,S),b}:Wo,Jk=ms?function(b,S){return ms(b,"toString",{configurable:!0,enumerable:!1,value:sp(S),writable:!0})}:Wo;function e2(b){return yg(op(b))}function Va(b,S,M){var j=-1,Y=b.length;S<0&&(S=-S>Y?0:Y+S),M=M>Y?Y:M,M<0&&(M+=Y),Y=S>M?0:M-S>>>0,S>>>=0;for(var re=Pe(Y);++j<Y;)re[j]=b[j+S];return re}function t2(b,S){var M;return Vl(b,function(j,Y,re){return M=S(j,Y,re),!M}),!!M}function Uh(b,S,M){var j=0,Y=b==null?j:b.length;if(typeof S=="number"&&S===S&&Y<=U){for(;j<Y;){var re=j+Y>>>1,le=b[re];le!==null&&!ha(le)&&(M?le<=S:le<S)?j=re+1:Y=re}return Y}return ib(b,S,Wo,M)}function ib(b,S,M,j){var Y=0,re=b==null?0:b.length;if(re===0)return 0;S=M(S);for(var le=S!==S,he=S===null,Ce=ha(S),Ye=S===n;Y<re;){var Ge=Fm((Y+re)/2),et=M(b[Ge]),ht=et!==n,Bt=et===null,en=et===et,kn=ha(et);if(le)var tn=j||en;else Ye?tn=en&&(j||ht):he?tn=en&&ht&&(j||!Bt):Ce?tn=en&&ht&&!Bt&&(j||!kn):Bt||kn?tn=!1:tn=j?et<=S:et<S;tn?Y=Ge+1:re=Ge}return Ni(re,te)}function n2(b,S){for(var M=-1,j=b.length,Y=0,re=[];++M<j;){var le=b[M],he=S?S(le):le;if(!M||!Ka(he,Ce)){var Ce=he;re[Y++]=le===0?0:le}}return re}function rw(b){return typeof b=="number"?b:ha(b)?K:+b}function aa(b){if(typeof b=="string")return b;if(ln(b))return Wr(b,aa)+"";if(ha(b))return nf?nf.call(b):"";var S=b+"";return S=="0"&&1/b==-ne?"-0":S}function Bc(b,S,M){var j=-1,Y=Ay,re=b.length,le=!0,he=[],Ce=he;if(M)le=!1,Y=Pm;else if(re>=i){var Ye=S?null:u2(b);if(Ye)return Py(Ye);le=!1,Y=Lm,Ce=new of}else Ce=S?[]:he;e:for(;++j<re;){var Ge=b[j],et=S?S(Ge):Ge;if(Ge=M||Ge!==0?Ge:0,le&&et===et){for(var ht=Ce.length;ht--;)if(Ce[ht]===et)continue e;S&&Ce.push(et),he.push(Ge)}else Y(Ce,et,M)||(Ce!==he&&Ce.push(et),he.push(Ge))}return he}function Qm(b,S){return S=qa(S,b),b=pg(b,S),b==null||delete b[sa(jr(S))]}function iw(b,S,M,j){return Fh(b,S,M(ql(b,S)),j)}function Jm(b,S,M,j){for(var Y=b.length,re=j?Y:-1;(j?re--:++re<Y)&&S(b[re],re,b););return M?Va(b,j?0:re,j?re+1:Y):Va(b,j?re+1:0,j?Y:re)}function ow(b,S){var M=b;return M instanceof dn&&(M=M.value()),Dx(S,function(j,Y){return Y.func.apply(Y.thisArg,Du([j],Y.args))},M)}function ob(b,S,M){var j=b.length;if(j<2)return j?Bc(b[0]):[];for(var Y=-1,re=Pe(j);++Y<j;)for(var le=b[Y],he=-1;++he<j;)he!=Y&&(re[Y]=Es(re[Y]||le,b[he],S,M));return Bc(Fi(re,1),S,M)}function aw(b,S,M){for(var j=-1,Y=b.length,re=S.length,le={};++j<Y;){var he=j<re?S[j]:n;M(le,b[j],he)}return le}function sw(b){return Ci(b)?b:[]}function ab(b){return typeof b=="function"?b:Wo}function qa(b,S){return ln(b)?b:fg(b,S)?[b]:Aw(hr(b))}var r2=hn;function al(b,S,M){var j=b.length;return M=M===n?j:M,!S&&M>=j?b:Va(b,S,M)}var eg=Vk||function(b){return Hi.clearTimeout(b)};function lw(b,S){if(S)return b.slice();var M=b.length,j=Fy?Fy(M):new b.constructor(M);return b.copy(j),j}function tg(b){var S=new b.constructor(b.byteLength);return new Jd(S).set(new Jd(b)),S}function _3(b,S){var M=S?tg(b.buffer):b.buffer;return new b.constructor(M,b.byteOffset,b.byteLength)}function i2(b){var S=new b.constructor(b.source,mr.exec(b));return S.lastIndex=b.lastIndex,S}function o2(b){return Ah?gr(Ah.call(b)):{}}function cw(b,S){var M=S?tg(b.buffer):b.buffer;return new b.constructor(M,b.byteOffset,b.length)}function uw(b,S){if(b!==S){var M=b!==n,j=b===null,Y=b===b,re=ha(b),le=S!==n,he=S===null,Ce=S===S,Ye=ha(S);if(!he&&!Ye&&!re&&b>S||re&&le&&Ce&&!he&&!Ye||j&&le&&Ce||!M&&Ce||!Y)return 1;if(!j&&!re&&!Ye&&b<S||Ye&&M&&Y&&!j&&!re||he&&M&&Y||!le&&Y||!Ce)return-1}return 0}function a2(b,S,M){for(var j=-1,Y=b.criteria,re=S.criteria,le=Y.length,he=M.length;++j<le;){var Ce=uw(Y[j],re[j]);if(Ce){if(j>=he)return Ce;var Ye=M[j];return Ce*(Ye=="desc"?-1:1)}}return b.index-S.index}function sb(b,S,M,j){for(var Y=-1,re=b.length,le=M.length,he=-1,Ce=S.length,Ye=fi(re-le,0),Ge=Pe(Ce+Ye),et=!j;++he<Ce;)Ge[he]=S[he];for(;++Y<le;)(et||Y<re)&&(Ge[M[Y]]=b[Y]);for(;Ye--;)Ge[he++]=b[Y++];return Ge}function dw(b,S,M,j){for(var Y=-1,re=b.length,le=-1,he=M.length,Ce=-1,Ye=S.length,Ge=fi(re-he,0),et=Pe(Ge+Ye),ht=!j;++Y<Ge;)et[Y]=b[Y];for(var Bt=Y;++Ce<Ye;)et[Bt+Ce]=S[Ce];for(;++le<he;)(ht||Y<re)&&(et[Bt+M[le]]=b[Y++]);return et}function Vo(b,S){var M=-1,j=b.length;for(S||(S=Pe(j));++M<j;)S[M]=b[M];return S}function Ts(b,S,M,j){var Y=!M;M||(M={});for(var re=-1,le=S.length;++re<le;){var he=S[re],Ce=j?j(M[he],b[he],he,M,b):n;Ce===n&&(Ce=b[he]),Y?Fa(M,he,Ce):tl(M,he,Ce)}return M}function s2(b,S){return Ts(b,pb(b),S)}function l2(b,S){return Ts(b,dg(b),S)}function lb(b,S){return function(M,j){var Y=ln(M)?d3:Xk,re=S?S():{};return Y(M,b,Wt(j,2),re)}}function zu(b){return hn(function(S,M){var j=-1,Y=M.length,re=Y>1?M[Y-1]:n,le=Y>2?M[2]:n;for(re=b.length>3&&typeof re=="function"?(Y--,re):n,le&&No(M[0],M[1],le)&&(re=Y<3?n:re,Y=1),S=gr(S);++j<Y;){var he=M[j];he&&b(S,he,j,re)}return S})}function fw(b,S){return function(M,j){if(M==null)return M;if(!fa(M))return b(M,j);for(var Y=M.length,re=S?Y:-1,le=gr(M);(S?re--:++re<Y)&&j(le[re],re,le)!==!1;);return M}}function hw(b){return function(S,M,j){for(var Y=-1,re=gr(S),le=j(S),he=le.length;he--;){var Ce=le[b?he:++Y];if(M(re[Ce],Ce,re)===!1)break}return S}}function pw(b,S,M){var j=S&w,Y=ng(b);function re(){var le=this&&this!==Hi&&this instanceof re?Y:b;return le.apply(j?M:this,arguments)}return re}function mw(b){return function(S){S=hr(S);var M=Zd(S)?oi(S):n,j=M?M[0]:S.charAt(0),Y=M?al(M,1).join(""):S.slice(1);return j[b]()+Y}}function cf(b){return function(S){return Dx(S_(ap(S).replace(Ox,"")),b,"")}}function ng(b){return function(){var S=arguments;switch(S.length){case 0:return new b;case 1:return new b(S[0]);case 2:return new b(S[0],S[1]);case 3:return new b(S[0],S[1],S[2]);case 4:return new b(S[0],S[1],S[2],S[3]);case 5:return new b(S[0],S[1],S[2],S[3],S[4]);case 6:return new b(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new b(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var M=Lu(b.prototype),j=b.apply(M,S);return Kr(j)?j:M}}function A3(b,S,M){var j=ng(b);function Y(){for(var re=arguments.length,le=Pe(re),he=re,Ce=pi(Y);he--;)le[he]=arguments[he];var Ye=re<3&&le[0]!==Ce&&le[re-1]!==Ce?[]:Nc(le,Ce);if(re-=Ye.length,re<M)return db(b,S,Vh,Y.placeholder,n,le,Ye,n,n,M-re);var Ge=this&&this!==Hi&&this instanceof Y?j:b;return Pa(Ge,this,le)}return Y}function gw(b){return function(S,M,j){var Y=gr(S);if(!fa(S)){var re=Wt(M,3);S=Ji(S),M=function(he){return re(Y[he],he,Y)}}var le=b(S,M,j);return le>-1?Y[re?S[le]:le]:n}}function zh(b){return Wl(function(S){var M=S.length,j=M,Y=ia.prototype.thru;for(b&&S.reverse();j--;){var re=S[j];if(typeof re!="function")throw new Ba(a);if(Y&&!le&&ai(re)=="wrapper")var le=new ia([],!0)}for(j=le?j:M;++j<M;){re=S[j];var he=ai(re),Ce=he=="wrapper"?lg(re):n;Ce&&hg(Ce[0])&&Ce[1]==(R|O|N|L)&&!Ce[4].length&&Ce[9]==1?le=le[ai(Ce[0])].apply(le,Ce[3]):le=re.length==1&&hg(re)?le[he]():le.thru(re)}return function(){var Ye=arguments,Ge=Ye[0];if(le&&Ye.length==1&&ln(Ge))return le.plant(Ge).value();for(var et=0,ht=M?S[et].apply(this,Ye):Ge;++et<M;)ht=S[et].call(this,ht);return ht}})}function Vh(b,S,M,j,Y,re,le,he,Ce,Ye){var Ge=S&R,et=S&w,ht=S&T,Bt=S&(O|I),en=S&B,kn=ht?n:ng(b);function tn(){for(var Un=arguments.length,Qn=Pe(Un),dl=Un;dl--;)Qn[dl]=arguments[dl];if(Bt)var Qa=pi(tn),fl=jm(Qn,Qa);if(j&&(Qn=sb(Qn,j,Y,Bt)),re&&(Qn=dw(Qn,re,le,Bt)),Un-=fl,Bt&&Un<Ye){var zi=Nc(Qn,Qa);return db(b,S,Vh,tn.placeholder,M,Qn,zi,he,Ce,Ye-Un)}var Gc=et?M:this,gf=ht?Gc[b]:b;return Un=Qn.length,he?Qn=mg(Qn,he):en&&Un>1&&Qn.reverse(),Ge&&Ce<Un&&(Qn.length=Ce),this&&this!==Hi&&this instanceof tn&&(gf=kn||ng(gf)),gf.apply(Gc,Qn)}return tn}function rg(b,S){return function(M,j){return Qk(M,b,S(j),{})}}function ig(b,S){return function(M,j){var Y;if(M===n&&j===n)return S;if(M!==n&&(Y=M),j!==n){if(Y===n)return j;typeof M=="string"||typeof j=="string"?(M=aa(M),j=aa(j)):(M=rw(M),j=rw(j)),Y=b(M,j)}return Y}}function cb(b){return Wl(function(S){return S=Wr(S,ja(Wt())),hn(function(M){var j=this;return b(S,function(Y){return Pa(Y,j,M)})})})}function Vu(b,S){S=S===n?" ":aa(S);var M=S.length;if(M<2)return M?ol(S,b):S;var j=ol(S,Ch(b/bh(S)));return Zd(S)?al(oi(j),0,b).join(""):j.slice(0,b)}function c2(b,S,M,j){var Y=S&w,re=ng(b);function le(){for(var he=-1,Ce=arguments.length,Ye=-1,Ge=j.length,et=Pe(Ge+Ce),ht=this&&this!==Hi&&this instanceof le?re:b;++Ye<Ge;)et[Ye]=j[Ye];for(;Ce--;)et[Ye++]=arguments[++he];return Pa(ht,Y?M:this,et)}return le}function ub(b){return function(S,M,j){return j&&typeof j!="number"&&No(S,M,j)&&(M=j=n),S=Wc(S),M===n?(M=S,S=0):M=Wc(M),j=j===n?S<M?1:-1:Wc(j),Jx(S,M,j,b)}}function og(b){return function(S,M){return typeof S=="string"&&typeof M=="string"||(S=Za(S),M=Za(M)),b(S,M)}}function db(b,S,M,j,Y,re,le,he,Ce,Ye){var Ge=S&O,et=Ge?le:n,ht=Ge?n:le,Bt=Ge?re:n,en=Ge?n:re;S|=Ge?N:A,S&=~(Ge?A:N),S&k||(S&=-4);var kn=[b,S,Y,Bt,et,en,ht,he,Ce,Ye],tn=M.apply(n,kn);return hg(b)&&y2(tn,kn),tn.placeholder=j,Wh(tn,b,S)}function ag(b){var S=Yr[b];return function(M,j){if(M=Za(M),j=j==null?0:Ni(Jt(j),292),j&&$a(M)){var Y=(hr(M)+"e").split("e"),re=S(Y[0]+"e"+(+Y[1]+j));return Y=(hr(re)+"e").split("e"),+(Y[0]+"e"+(+Y[1]-j))}return S(M)}}var u2=Ru&&1/Py(new Ru([,-0]))[1]==ne?function(b){return new Ru(b)}:y;function yw(b){return function(S){var M=bo(S);return M==Fe?Iy(S):M==xe?b3(S):Pk(S,b(S))}}function qo(b,S,M,j,Y,re,le,he){var Ce=S&T;if(!Ce&&typeof b!="function")throw new Ba(a);var Ye=j?j.length:0;if(Ye||(S&=-97,j=Y=n),le=le===n?le:fi(Jt(le),0),he=he===n?he:Jt(he),Ye-=Y?Y.length:0,S&A){var Ge=j,et=Y;j=Y=n}var ht=Ce?n:lg(b),Bt=[b,S,M,j,Y,Ge,et,re,le,he];if(ht&&g2(Bt,ht),b=Bt[0],S=Bt[1],M=Bt[2],j=Bt[3],Y=Bt[4],he=Bt[9]=Bt[9]===n?Ce?0:b.length:fi(Bt[9]-Ye,0),!he&&S&(O|I)&&(S&=-25),!S||S==w)var en=pw(b,S,M);else S==O||S==I?en=A3(b,S,he):(S==N||S==(w|N))&&!Y.length?en=c2(b,S,M,j):en=Vh.apply(n,Bt);var kn=ht?nw:y2;return Wh(kn(en,Bt),b,S)}function bw(b,S,M,j){return b===n||Ka(b,wh[M])&&!dr.call(j,M)?S:b}function vw(b,S,M,j,Y,re){return Kr(b)&&Kr(S)&&(re.set(S,b),Zm(b,S,n,vw,re),re.delete(S)),b}function d2(b){return Mg(b)?n:b}function sg(b,S,M,j,Y,re){var le=M&v,he=b.length,Ce=S.length;if(he!=Ce&&!(le&&Ce>he))return!1;var Ye=re.get(b),Ge=re.get(S);if(Ye&&Ge)return Ye==S&&Ge==b;var et=-1,ht=!0,Bt=M&x?new of:n;for(re.set(b,S),re.set(S,b);++et<he;){var en=b[et],kn=S[et];if(j)var tn=le?j(kn,en,et,S,b,re):j(en,kn,et,b,S,re);if(tn!==n){if(tn)continue;ht=!1;break}if(Bt){if(!Rx(S,function(Un,Qn){if(!Lm(Bt,Qn)&&(en===Un||Y(en,Un,M,j,re)))return Bt.push(Qn)})){ht=!1;break}}else if(!(en===kn||Y(en,kn,M,j,re))){ht=!1;break}}return re.delete(b),re.delete(S),ht}function f2(b,S,M,j,Y,re,le){switch(M){case it:if(b.byteLength!=S.byteLength||b.byteOffset!=S.byteOffset)return!1;b=b.buffer,S=S.buffer;case Be:return!(b.byteLength!=S.byteLength||!re(new Jd(b),new Jd(S)));case ve:case we:case an:return Ka(+b,+S);case Ke:return b.name==S.name&&b.message==S.message;case ce:case Te:return b==S+"";case Fe:var he=Iy;case xe:var Ce=j&v;if(he||(he=Py),b.size!=S.size&&!Ce)return!1;var Ye=le.get(b);if(Ye)return Ye==S;j|=x,le.set(b,S);var Ge=sg(he(b),he(S),j,Y,re,le);return le.delete(b),Ge;case Je:if(Ah)return Ah.call(b)==Ah.call(S)}return!1}function xw(b,S,M,j,Y,re){var le=M&v,he=fb(b),Ce=he.length,Ye=fb(S),Ge=Ye.length;if(Ce!=Ge&&!le)return!1;for(var et=Ce;et--;){var ht=he[et];if(!(le?ht in S:dr.call(S,ht)))return!1}var Bt=re.get(b),en=re.get(S);if(Bt&&en)return Bt==S&&en==b;var kn=!0;re.set(b,S),re.set(S,b);for(var tn=le;++et<Ce;){ht=he[et];var Un=b[ht],Qn=S[ht];if(j)var dl=le?j(Qn,Un,ht,S,b,re):j(Un,Qn,ht,b,S,re);if(!(dl===n?Un===Qn||Y(Un,Qn,M,j,re):dl)){kn=!1;break}tn||(tn=ht=="constructor")}if(kn&&!tn){var Qa=b.constructor,fl=S.constructor;Qa!=fl&&"constructor"in b&&"constructor"in S&&!(typeof Qa=="function"&&Qa instanceof Qa&&typeof fl=="function"&&fl instanceof fl)&&(kn=!1)}return re.delete(b),re.delete(S),kn}function Wl(b){return vb(_w(b,n,Lr),b+"")}function fb(b){return Xx(b,Ji,pb)}function ww(b){return Xx(b,pa,dg)}var lg=Mi?function(b){return Mi.get(b)}:y;function ai(b){for(var S=b.name+"",M=fr[S],j=dr.call(fr,S)?M.length:0;j--;){var Y=M[j],re=Y.func;if(re==null||re==b)return Y.name}return S}function pi(b){var S=dr.call(ee,"placeholder")?ee:b;return S.placeholder}function Wt(){var b=ee.iteratee||$g;return b=b===$g?jh:b,arguments.length?b(arguments[0],arguments[1]):b}function cg(b,S){var M=b.__data__;return yb(S)?M[typeof S=="string"?"string":"hash"]:M.map}function hb(b){for(var S=Ji(b),M=S.length;M--;){var j=S[M],Y=b[j];S[M]=[j,Y,Yl(Y)]}return S}function qu(b,S){var M=Lk(b,S);return Xm(M)?M:n}function ug(b){var S=dr.call(b,Dc),M=b[Dc];try{b[Dc]=n;var j=!0}catch{}var Y=ra.call(b);return j&&(S?b[Dc]=M:delete b[Dc]),Y}var pb=Um?function(b){return b==null?[]:(b=gr(b),Mu(Um(b),function(S){return Hm.call(b,S)}))}:We,dg=Um?function(b){for(var S=[];b;)Du(S,pb(b)),b=Fl(b);return S}:We,bo=yo;(bs&&bo(new bs(new ArrayBuffer(1)))!=it||Ha&&bo(new Ha)!=Fe||zy&&bo(zy.resolve())!=Vr||Ru&&bo(new Ru)!=xe||tf&&bo(new tf)!=Qe)&&(bo=function(b){var S=yo(b),M=S==Qt?b.constructor:n,j=M?Mo(M):"";if(j)switch(j){case Fn:return it;case Iu:return Fe;case vs:return Vr;case Vx:return xe;case Pu:return Qe}return S});function O3(b,S,M){for(var j=-1,Y=M.length;++j<Y;){var re=M[j],le=re.size;switch(re.type){case"drop":b+=le;break;case"dropRight":S-=le;break;case"take":S=Ni(S,b+le);break;case"takeRight":b=fi(b,S-le);break}}return{start:b,end:S}}function mb(b){var S=b.match(_t);return S?S[1].split($t):[]}function gb(b,S,M){S=qa(S,b);for(var j=-1,Y=S.length,re=!1;++j<Y;){var le=sa(S[j]);if(!(re=b!=null&&M(b,le)))break;b=b[le]}return re||++j!=Y?re:(Y=b==null?0:b.length,!!Y&&Rb(Y)&&sl(le,Y)&&(ln(b)||pf(b)))}function h2(b){var S=b.length,M=new b.constructor(S);return S&&typeof b[0]=="string"&&dr.call(b,"index")&&(M.index=b.index,M.input=b.input),M}function Ew(b){return typeof b.constructor=="function"&&!qh(b)?Lu(Fl(b)):{}}function p2(b,S,M){var j=b.constructor;switch(S){case Be:return tg(b);case ve:case we:return new j(+b);case it:return _3(b,M);case At:case qt:case Zn:case Tn:case or:case Yn:case xr:case un:case xi:return cw(b,M);case Fe:return new j;case an:case Te:return new j(b);case ce:return i2(b);case xe:return new j;case Je:return o2(b)}}function Sw(b,S){var M=S.length;if(!M)return b;var j=M-1;return S[j]=(M>1?"& ":"")+S[j],S=S.join(M>2?", ":" "),b.replace(bt,`{
/* [wrapped with `+S+`] */
`)}function Cw(b){return ln(b)||pf(b)||!!(zk&&b&&b[zk])}function sl(b,S){var M=typeof b;return S=S??X,!!S&&(M=="number"||M!="symbol"&&Xs.test(b))&&b>-1&&b%1==0&&b<S}function No(b,S,M){if(!Kr(M))return!1;var j=typeof S;return(j=="number"?fa(M)&&sl(S,M.length):j=="string"&&S in M)?Ka(M[S],b):!1}function fg(b,S){if(ln(b))return!1;var M=typeof b;return M=="number"||M=="symbol"||M=="boolean"||b==null||ha(b)?!0:se.test(b)||!di.test(b)||S!=null&&b in gr(S)}function yb(b){var S=typeof b;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?b!=="__proto__":b===null}function hg(b){var S=ai(b),M=ee[S];if(typeof M!="function"||!(S in dn.prototype))return!1;if(b===M)return!0;var j=lg(M);return!!j&&b===j[0]}function m2(b){return!!$y&&$y in b}var Tw=jy?Xa:Me;function qh(b){var S=b&&b.constructor,M=typeof S=="function"&&S.prototype||wh;return b===M}function Yl(b){return b===b&&!Kr(b)}function bb(b,S){return function(M){return M==null?!1:M[b]===S&&(S!==n||b in gr(M))}}function N3(b){var S=_g(b,function(j){return M.size===c&&M.clear(),j}),M=S.cache;return S}function g2(b,S){var M=b[1],j=S[1],Y=M|j,re=Y<(w|T|R),le=j==R&&M==O||j==R&&M==L&&b[7].length<=S[8]||j==(R|L)&&S[7].length<=S[8]&&M==O;if(!(re||le))return b;j&w&&(b[2]=S[2],Y|=M&w?0:k);var he=S[3];if(he){var Ce=b[3];b[3]=Ce?sb(Ce,he,S[4]):he,b[4]=Ce?Nc(b[3],d):S[4]}return he=S[5],he&&(Ce=b[5],b[5]=Ce?dw(Ce,he,S[6]):he,b[6]=Ce?Nc(b[5],d):S[6]),he=S[7],he&&(b[7]=he),j&R&&(b[8]=b[8]==null?S[8]:Ni(b[8],S[8])),b[9]==null&&(b[9]=S[9]),b[0]=S[0],b[1]=Y,b}function $c(b){var S=[];if(b!=null)for(var M in gr(b))S.push(M);return S}function kw(b){return ra.call(b)}function _w(b,S,M){return S=fi(S===n?b.length-1:S,0),function(){for(var j=arguments,Y=-1,re=fi(j.length-S,0),le=Pe(re);++Y<re;)le[Y]=j[S+Y];Y=-1;for(var he=Pe(S+1);++Y<S;)he[Y]=j[Y];return he[S]=M(le),Pa(b,this,he)}}function pg(b,S){return S.length<2?b:ql(b,Va(S,0,-1))}function mg(b,S){for(var M=b.length,j=Ni(S.length,M),Y=Vo(b);j--;){var re=S[j];b[j]=sl(re,M)?Y[re]:n}return b}function Ar(b,S){if(!(S==="constructor"&&typeof b[S]=="function")&&S!="__proto__")return b[S]}var y2=Hc(nw),gg=ef||function(b,S){return Hi.setTimeout(b,S)},vb=Hc(Jk);function Wh(b,S,M){var j=S+"";return vb(b,Sw(j,b2(mb(j),M)))}function Hc(b){var S=0,M=0;return function(){var j=gs(),Y=W-(j-M);if(M=j,Y>0){if(++S>=z)return arguments[0]}else S=0;return b.apply(n,arguments)}}function yg(b,S){var M=-1,j=b.length,Y=j-1;for(S=S===n?j:S;++M<S;){var re=Hh(M,Y),le=b[re];b[re]=b[M],b[M]=le}return b.length=S,b}var Aw=N3(function(b){var S=[];return b.charCodeAt(0)===46&&S.push(""),b.replace(ye,function(M,j,Y,re){S.push(Y?re.replace(pt,"$1"):j||M)}),S});function sa(b){if(typeof b=="string"||ha(b))return b;var S=b+"";return S=="0"&&1/b==-ne?"-0":S}function Mo(b){if(b!=null){try{return By.call(b)}catch{}try{return b+""}catch{}}return""}function b2(b,S){return La(fe,function(M){var j="_."+M[0];S&M[1]&&!Ay(b,j)&&b.push(j)}),b.sort()}function xb(b){if(b instanceof dn)return b.clone();var S=new ia(b.__wrapped__,b.__chain__);return S.__actions__=Vo(b.__actions__),S.__index__=b.__index__,S.__values__=b.__values__,S}function v2(b,S,M){(M?No(b,S,M):S===n)?S=1:S=fi(Jt(S),0);var j=b==null?0:b.length;if(!j||S<1)return[];for(var Y=0,re=0,le=Pe(Ch(j/S));Y<j;)le[re++]=Va(b,Y,Y+=S);return le}function Ow(b){for(var S=-1,M=b==null?0:b.length,j=0,Y=[];++S<M;){var re=b[S];re&&(Y[j++]=re)}return Y}function Nw(){var b=arguments.length;if(!b)return[];for(var S=Pe(b-1),M=arguments[0],j=b;j--;)S[j-1]=arguments[j];return Du(ln(M)?Vo(M):[M],Fi(S,1))}var wb=hn(function(b,S){return Ci(b)?Es(b,Fi(S,1,Ci,!0)):[]}),x2=hn(function(b,S){var M=jr(S);return Ci(M)&&(M=n),Ci(b)?Es(b,Fi(S,1,Ci,!0),Wt(M,2)):[]}),Fc=hn(function(b,S){var M=jr(S);return Ci(M)&&(M=n),Ci(b)?Es(b,Fi(S,1,Ci,!0),n,M):[]});function Ri(b,S,M){var j=b==null?0:b.length;return j?(S=M||S===n?1:Jt(S),Va(b,S<0?0:S,j)):[]}function Mw(b,S,M){var j=b==null?0:b.length;return j?(S=M||S===n?1:Jt(S),S=j-S,Va(b,0,S<0?0:S)):[]}function w2(b,S){return b&&b.length?Jm(b,Wt(S,3),!0,!0):[]}function Qi(b,S){return b&&b.length?Jm(b,Wt(S,3),!0):[]}function M3(b,S,M,j){var Y=b==null?0:b.length;return Y?(M&&typeof M!="number"&&No(b,S,M)&&(M=0,j=Y),Ym(b,S,M,j)):[]}function Dw(b,S,M){var j=b==null?0:b.length;if(!j)return-1;var Y=M==null?0:Jt(M);return Y<0&&(Y=fi(j+Y,0)),Oy(b,Wt(S,3),Y)}function Rw(b,S,M){var j=b==null?0:b.length;if(!j)return-1;var Y=j-1;return M!==n&&(Y=Jt(M),Y=M<0?fi(j+Y,0):Ni(Y,j-1)),Oy(b,Wt(S,3),Y,!0)}function Lr(b){var S=b==null?0:b.length;return S?Fi(b,1):[]}function la(b){var S=b==null?0:b.length;return S?Fi(b,ne):[]}function Uc(b,S){var M=b==null?0:b.length;return M?(S=S===n?1:Jt(S),Fi(b,S)):[]}function E2(b){for(var S=-1,M=b==null?0:b.length,j={};++S<M;){var Y=b[S];j[Y[0]]=Y[1]}return j}function Iw(b){return b&&b.length?b[0]:n}function S2(b,S,M){var j=b==null?0:b.length;if(!j)return-1;var Y=M==null?0:Jt(M);return Y<0&&(Y=fi(j+Y,0)),yh(b,S,Y)}function D3(b){var S=b==null?0:b.length;return S?Va(b,0,-1):[]}var Eb=hn(function(b){var S=Wr(b,sw);return S.length&&S[0]===b[0]?Km(S):[]}),ca=hn(function(b){var S=jr(b),M=Wr(b,sw);return S===jr(M)?S=n:M.pop(),M.length&&M[0]===b[0]?Km(M,Wt(S,2)):[]}),ll=hn(function(b){var S=jr(b),M=Wr(b,sw);return S=typeof S=="function"?S:n,S&&M.pop(),M.length&&M[0]===b[0]?Km(M,n,S):[]});function C2(b,S){return b==null?"":Th.call(b,S)}function jr(b){var S=b==null?0:b.length;return S?b[S-1]:n}function T2(b,S,M){var j=b==null?0:b.length;if(!j)return-1;var Y=j;return M!==n&&(Y=Jt(M),Y=Y<0?fi(j+Y,0):Ni(Y,j-1)),S===S?x3(b,S,Y):Oy(b,Rk,Y,!0)}function zc(b,S){return b&&b.length?nb(b,Jt(S)):n}var uf=hn(Gl);function Gl(b,S){return b&&b.length&&S&&S.length?Bh(b,S):b}function Pw(b,S,M){return b&&b.length&&S&&S.length?Bh(b,S,Wt(M,2)):b}function Lw(b,S,M){return b&&b.length&&S&&S.length?Bh(b,S,n,M):b}var cl=Wl(function(b,S){var M=b==null?0:b.length,j=Ih(b,S);return $h(b,Wr(S,function(Y){return sl(Y,M)?+Y:Y}).sort(uw)),j});function k2(b,S){var M=[];if(!(b&&b.length))return M;var j=-1,Y=[],re=b.length;for(S=Wt(S,3);++j<re;){var le=b[j];S(le,j,b)&&(M.push(le),Y.push(j))}return $h(b,Y),M}function Wu(b){return b==null?b:Ul.call(b)}function bg(b,S,M){var j=b==null?0:b.length;return j?(M&&typeof M!="number"&&No(b,S,M)?(S=0,M=j):(S=S==null?0:Jt(S),M=M===n?j:Jt(M)),Va(b,S,M)):[]}function vg(b,S){return Uh(b,S)}function Yh(b,S,M){return ib(b,S,Wt(M,2))}function _2(b,S){var M=b==null?0:b.length;if(M){var j=Uh(b,S);if(j<M&&Ka(b[j],S))return j}return-1}function A2(b,S){return Uh(b,S,!0)}function xg(b,S,M){return ib(b,S,Wt(M,2),!0)}function O2(b,S){var M=b==null?0:b.length;if(M){var j=Uh(b,S,!0)-1;if(Ka(b[j],S))return j}return-1}function Sb(b){return b&&b.length?n2(b):[]}function N2(b,S){return b&&b.length?n2(b,Wt(S,2)):[]}function R3(b){var S=b==null?0:b.length;return S?Va(b,1,S):[]}function I3(b,S,M){return b&&b.length?(S=M||S===n?1:Jt(S),Va(b,0,S<0?0:S)):[]}function sr(b,S,M){var j=b==null?0:b.length;return j?(S=M||S===n?1:Jt(S),S=j-S,Va(b,S<0?0:S,j)):[]}function Or(b,S){return b&&b.length?Jm(b,Wt(S,3),!1,!0):[]}function Nn(b,S){return b&&b.length?Jm(b,Wt(S,3)):[]}var In=hn(function(b){return Bc(Fi(b,1,Ci,!0))}),yr=hn(function(b){var S=jr(b);return Ci(S)&&(S=n),Bc(Fi(b,1,Ci,!0),Wt(S,2))}),Wa=hn(function(b){var S=jr(b);return S=typeof S=="function"?S:n,Bc(Fi(b,1,Ci,!0),n,S)});function Yu(b){return b&&b.length?Bc(b):[]}function Gh(b,S){return b&&b.length?Bc(b,Wt(S,2)):[]}function jw(b,S){return S=typeof S=="function"?S:n,b&&b.length?Bc(b,n,S):[]}function ul(b){if(!(b&&b.length))return[];var S=0;return b=Mu(b,function(M){if(Ci(M))return S=fi(M.length,S),!0}),Dy(S,function(M){return Wr(b,Kd(M))})}function si(b,S){if(!(b&&b.length))return[];var M=ul(b);return S==null?M:Wr(M,function(j){return Pa(S,n,j)})}var Gu=hn(function(b,S){return Ci(b)?Es(b,S):[]}),df=hn(function(b){return ob(Mu(b,Ci))}),Bw=hn(function(b){var S=jr(b);return Ci(S)&&(S=n),ob(Mu(b,Ci),Wt(S,2))}),Ya=hn(function(b){var S=jr(b);return S=typeof S=="function"?S:n,ob(Mu(b,Ci),n,S)}),Kh=hn(ul);function wg(b,S){return aw(b||[],S||[],tl)}function ua(b,S){return aw(b||[],S||[],Fh)}var $w=hn(function(b){var S=b.length,M=S>1?b[S-1]:n;return M=typeof M=="function"?(b.pop(),M):n,si(b,M)});function Eg(b){var S=ee(b);return S.__chain__=!0,S}function M2(b,S){return S(b),b}function ff(b,S){return S(b)}var Cb=Wl(function(b){var S=b.length,M=S?b[0]:0,j=this.__wrapped__,Y=function(re){return Ih(re,b)};return S>1||this.__actions__.length||!(j instanceof dn)||!sl(M)?this.thru(Y):(j=j.slice(M,+M+(S?1:0)),j.__actions__.push({func:ff,args:[Y],thisArg:n}),new ia(j,this.__chain__).thru(function(re){return S&&!re.length&&re.push(n),re}))});function Ku(){return Eg(this)}function Ui(){return new ia(this.value(),this.__chain__)}function Xu(){this.__values__===n&&(this.__values__=t_(this.value()));var b=this.__index__>=this.__values__.length,S=b?n:this.__values__[this.__index__++];return{done:b,value:S}}function Xh(){return this}function Vc(b){for(var S,M=this;M instanceof ju;){var j=xb(M);j.__index__=0,j.__values__=n,S?Y.__wrapped__=j:S=j;var Y=j;M=M.__wrapped__}return Y.__wrapped__=b,S}function Hw(){var b=this.__wrapped__;if(b instanceof dn){var S=b;return this.__actions__.length&&(S=new dn(this)),S=S.reverse(),S.__actions__.push({func:ff,args:[Wu],thisArg:n}),new ia(S,this.__chain__)}return this.thru(Wu)}function Fw(){return ow(this.__wrapped__,this.__actions__)}var D2=lb(function(b,S,M){dr.call(b,M)?++b[M]:Fa(b,M,1)});function Sg(b,S,M){var j=ln(b)?Nk:Hu;return M&&No(b,S,M)&&(S=n),j(b,Wt(S,3))}function Uw(b,S){var M=ln(b)?Mu:Xy;return M(b,Wt(S,3))}var Ga=gw(Dw),R2=gw(Rw);function da(b,S){return Fi(Cg(b,S),1)}function I2(b,S){return Fi(Cg(b,S),ne)}function P2(b,S,M){return M=M===n?1:Jt(M),Fi(Cg(b,S),M)}function L2(b,S){var M=ln(b)?La:Vl;return M(b,Wt(S,3))}function qc(b,S){var M=ln(b)?f3:Ky;return M(b,Wt(S,3))}var Tb=lb(function(b,S,M){dr.call(b,M)?b[M].push(S):Fa(b,M,[S])});function zw(b,S,M,j){b=fa(b)?b:op(b),M=M&&!j?Jt(M):0;var Y=b.length;return M<0&&(M=fi(Y+M,0)),Ig(b)?M<=Y&&b.indexOf(S,M)>-1:!!Y&&yh(b,S,M)>-1}var Zh=hn(function(b,S,M){var j=-1,Y=typeof S=="function",re=fa(b)?Pe(b.length):[];return Vl(b,function(le){re[++j]=Y?Pa(S,le,M):Cs(le,S,M)}),re}),j2=lb(function(b,S,M){Fa(b,M,S)});function Cg(b,S){var M=ln(b)?Wr:eb;return M(b,Wt(S,3))}function B2(b,S,M,j){return b==null?[]:(ln(S)||(S=S==null?[]:[S]),M=j?n:M,ln(M)||(M=M==null?[]:[M]),rb(b,S,M))}var $2=lb(function(b,S,M){b[M?0:1].push(S)},function(){return[[],[]]});function kb(b,S,M){var j=ln(b)?Dx:Px,Y=arguments.length<3;return j(b,Wt(S,4),M,Y,Vl)}function Vw(b,S,M){var j=ln(b)?Mk:Px,Y=arguments.length<3;return j(b,Wt(S,4),M,Y,Ky)}function P3(b,S){var M=ln(b)?Mu:Xy;return M(b,Ob(Wt(S,3)))}function L3(b){var S=ln(b)?Wm:ew;return S(b)}function j3(b,S,M){(M?No(b,S,M):S===n)?S=1:S=Jt(S);var j=ln(b)?Yy:tw;return j(b,S)}function H2(b){var S=ln(b)?Kk:e2;return S(b)}function F2(b){if(b==null)return 0;if(fa(b))return Ig(b)?bh(b):b.length;var S=bo(b);return S==Fe||S==xe?b.size:Uu(b).length}function Qh(b,S,M){var j=ln(b)?Rx:t2;return M&&No(b,S,M)&&(S=n),j(b,Wt(S,3))}var _b=hn(function(b,S){if(b==null)return[];var M=S.length;return M>1&&No(b,S[0],S[1])?S=[]:M>2&&No(S[0],S[1],S[2])&&(S=[S[0]]),rb(b,Fi(S,1),[])}),Tg=Uy||function(){return Hi.Date.now()};function U2(b,S){if(typeof S!="function")throw new Ba(a);return b=Jt(b),function(){if(--b<1)return S.apply(this,arguments)}}function qw(b,S,M){return S=M?n:S,S=b&&S==null?b.length:S,qo(b,R,n,n,n,n,S)}function Ww(b,S){var M;if(typeof S!="function")throw new Ba(a);return b=Jt(b),function(){return--b>0&&(M=S.apply(this,arguments)),b<=1&&(S=n),M}}var Ab=hn(function(b,S,M){var j=w;if(M.length){var Y=Nc(M,pi(Ab));j|=N}return qo(b,j,S,M,Y)}),Yw=hn(function(b,S,M){var j=w|T;if(M.length){var Y=Nc(M,pi(Yw));j|=N}return qo(S,j,b,M,Y)});function kg(b,S,M){S=M?n:S;var j=qo(b,O,n,n,n,n,n,S);return j.placeholder=kg.placeholder,j}function Gw(b,S,M){S=M?n:S;var j=qo(b,I,n,n,n,n,n,S);return j.placeholder=Gw.placeholder,j}function Kw(b,S,M){var j,Y,re,le,he,Ce,Ye=0,Ge=!1,et=!1,ht=!0;if(typeof b!="function")throw new Ba(a);S=Za(S)||0,Kr(M)&&(Ge=!!M.leading,et="maxWait"in M,re=et?fi(Za(M.maxWait)||0,S):re,ht="trailing"in M?!!M.trailing:ht);function Bt(zi){var Gc=j,gf=Y;return j=Y=n,Ye=zi,le=b.apply(gf,Gc),le}function en(zi){return Ye=zi,he=gg(Un,S),Ge?Bt(zi):le}function kn(zi){var Gc=zi-Ce,gf=zi-Ye,oz=S-Gc;return et?Ni(oz,re-gf):oz}function tn(zi){var Gc=zi-Ce,gf=zi-Ye;return Ce===n||Gc>=S||Gc<0||et&&gf>=re}function Un(){var zi=Tg();if(tn(zi))return Qn(zi);he=gg(Un,kn(zi))}function Qn(zi){return he=n,ht&&j?Bt(zi):(j=Y=n,le)}function dl(){he!==n&&eg(he),Ye=0,j=Ce=Y=he=n}function Qa(){return he===n?le:Qn(Tg())}function fl(){var zi=Tg(),Gc=tn(zi);if(j=arguments,Y=this,Ce=zi,Gc){if(he===n)return en(Ce);if(et)return eg(he),he=gg(Un,S),Bt(Ce)}return he===n&&(he=gg(Un,S)),le}return fl.cancel=dl,fl.flush=Qa,fl}var br=hn(function(b,S){return Kx(b,1,S)}),Xw=hn(function(b,S,M){return Kx(b,Za(S)||0,M)});function B3(b){return qo(b,B)}function _g(b,S){if(typeof b!="function"||S!=null&&typeof S!="function")throw new Ba(a);var M=function(){var j=arguments,Y=S?S.apply(this,j):j[0],re=M.cache;if(re.has(Y))return re.get(Y);var le=b.apply(this,j);return M.cache=re.set(Y,le)||re,le};return M.cache=new(_g.Cache||el),M}_g.Cache=el;function Ob(b){if(typeof b!="function")throw new Ba(a);return function(){var S=arguments;switch(S.length){case 0:return!b.call(this);case 1:return!b.call(this,S[0]);case 2:return!b.call(this,S[0],S[1]);case 3:return!b.call(this,S[0],S[1],S[2])}return!b.apply(this,S)}}function $3(b){return Ww(2,b)}var H3=r2(function(b,S){S=S.length==1&&ln(S[0])?Wr(S[0],ja(Wt())):Wr(Fi(S,1),ja(Wt()));var M=S.length;return hn(function(j){for(var Y=-1,re=Ni(j.length,M);++Y<re;)j[Y]=S[Y].call(this,j[Y]);return Pa(b,this,j)})}),Jh=hn(function(b,S){var M=Nc(S,pi(Jh));return qo(b,N,n,S,M)}),hf=hn(function(b,S){var M=Nc(S,pi(hf));return qo(b,A,n,S,M)}),Zw=Wl(function(b,S){return qo(b,L,n,n,n,S)});function Nb(b,S){if(typeof b!="function")throw new Ba(a);return S=S===n?S:Jt(S),hn(b,S)}function Qw(b,S){if(typeof b!="function")throw new Ba(a);return S=S==null?0:fi(Jt(S),0),hn(function(M){var j=M[S],Y=al(M,0,S);return j&&Du(Y,j),Pa(b,this,Y)})}function Zu(b,S,M){var j=!0,Y=!0;if(typeof b!="function")throw new Ba(a);return Kr(M)&&(j="leading"in M?!!M.leading:j,Y="trailing"in M?!!M.trailing:Y),Kw(b,S,{leading:j,maxWait:S,trailing:Y})}function Kl(b){return qw(b,1)}function Ag(b,S){return Jh(ab(S),b)}function F3(){if(!arguments.length)return[];var b=arguments[0];return ln(b)?b:[b]}function z2(b){return zo(b,m)}function V2(b,S){return S=typeof S=="function"?S:n,zo(b,m,S)}function q2(b){return zo(b,u|m)}function W2(b,S){return S=typeof S=="function"?S:n,zo(b,u|m,S)}function U3(b,S){return S==null||$u(b,S,Ji(S))}function Ka(b,S){return b===S||b!==b&&S!==S}var Y2=og(Gm),G2=og(function(b,S){return b>=S}),pf=oa((function(){return arguments})())?oa:function(b){return mi(b)&&dr.call(b,"callee")&&!Hm.call(b,"callee")},ln=Pe.isArray,Jw=Tk?ja(Tk):Ei;function fa(b){return b!=null&&Rb(b.length)&&!Xa(b)}function Ci(b){return mi(b)&&fa(b)}function Og(b){return b===!0||b===!1||mi(b)&&yo(b)==ve}var Qu=qk||Me,K2=kk?ja(kk):Qy;function Mn(b){return mi(b)&&b.nodeType===1&&!Mg(b)}function eE(b){if(b==null)return!0;if(fa(b)&&(ln(b)||typeof b=="string"||typeof b.splice=="function"||Qu(b)||Ju(b)||pf(b)))return!b.length;var S=bo(b);if(S==Fe||S==xe)return!b.size;if(qh(b))return!Uu(b).length;for(var M in b)if(dr.call(b,M))return!1;return!0}function Mb(b,S){return za(b,S)}function tE(b,S,M){M=typeof M=="function"?M:n;var j=M?M(b,S):n;return j===n?za(b,S,n,M):!!j}function Db(b){if(!mi(b))return!1;var S=yo(b);return S==Ke||S==je||typeof b.message=="string"&&typeof b.name=="string"&&!Mg(b)}function nE(b){return typeof b=="number"&&$a(b)}function Xa(b){if(!Kr(b))return!1;var S=yo(b);return S==De||S==It||S==Ee||S==er}function Ng(b){return typeof b=="number"&&b==Jt(b)}function Rb(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=X}function Kr(b){var S=typeof b;return b!=null&&(S=="object"||S=="function")}function mi(b){return b!=null&&typeof b=="object"}var X2=_y?ja(_y):Er;function Z2(b,S){return b===S||hi(b,S,hb(S))}function Q2(b,S,M){return M=typeof M=="function"?M:n,hi(b,S,hb(S),M)}function Sr(b){return iE(b)&&b!=+b}function rE(b){if(Tw(b))throw new sn(o);return Xm(b)}function vo(b){return b===null}function z3(b){return b==null}function iE(b){return typeof b=="number"||mi(b)&&yo(b)==an}function Mg(b){if(!mi(b)||yo(b)!=Qt)return!1;var S=Fl(b);if(S===null)return!0;var M=dr.call(S,"constructor")&&S.constructor;return typeof M=="function"&&M instanceof M&&By.call(M)==Hy}var Dg=_k?ja(_k):Lh;function oE(b){return Ng(b)&&b>=-X&&b<=X}var Rg=Ak?ja(Ak):lf;function Ig(b){return typeof b=="string"||!ln(b)&&mi(b)&&yo(b)==Te}function ha(b){return typeof b=="symbol"||mi(b)&&yo(b)==Je}var Ju=Ok?ja(Ok):Jy;function aE(b){return b===n}function V3(b){return mi(b)&&bo(b)==Qe}function J2(b){return mi(b)&&yo(b)==ge}var q3=og(Gr),e_=og(function(b,S){return b<=S});function t_(b){if(!b)return[];if(fa(b))return Ig(b)?oi(b):Vo(b);if(mo&&b[mo])return Hx(b[mo]());var S=bo(b),M=S==Fe?Iy:S==xe?Py:op;return M(b)}function Wc(b){if(!b)return b===0?b:0;if(b=Za(b),b===ne||b===-ne){var S=b<0?-1:1;return S*oe}return b===b?b:0}function Jt(b){var S=Wc(b),M=S%1;return S===S?M?S-M:S:0}function sE(b){return b?nl(Jt(b),0,Q):0}function Za(b){if(typeof b=="number")return b;if(ha(b))return K;if(Kr(b)){var S=typeof b.valueOf=="function"?b.valueOf():b;b=Kr(S)?S+"":S}if(typeof b!="string")return b===0?b:+b;b=Xd(b);var M=po.test(b);return M||ar.test(b)?Ty(b.slice(2),M?2:8):Oi.test(b)?K:+b}function Ib(b){return Ts(b,pa(b))}function W3(b){return b?nl(Jt(b),-X,X):b===0?b:0}function hr(b){return b==null?"":aa(b)}var n_=zu(function(b,S){if(qh(S)||fa(S)){Ts(S,Ji(S),b);return}for(var M in S)dr.call(S,M)&&tl(b,M,S[M])}),Pb=zu(function(b,S){Ts(S,pa(S),b)}),ep=zu(function(b,S,M,j){Ts(S,pa(S),b,j)}),Y3=zu(function(b,S,M,j){Ts(S,Ji(S),b,j)}),ks=Wl(Ih);function lE(b,S){var M=Lu(b);return S==null?M:Gx(M,S)}var r_=hn(function(b,S){b=gr(b);var M=-1,j=S.length,Y=j>2?S[2]:n;for(Y&&No(S[0],S[1],Y)&&(j=1);++M<j;)for(var re=S[M],le=pa(re),he=-1,Ce=le.length;++he<Ce;){var Ye=le[he],Ge=b[Ye];(Ge===n||Ka(Ge,wh[Ye])&&!dr.call(b,Ye))&&(b[Ye]=re[Ye])}return b}),i_=hn(function(b){return b.push(n,vw),Pa(np,n,b)});function o_(b,S){return Dk(b,Wt(S,3),il)}function Pg(b,S){return Dk(b,Wt(S,3),Zy)}function _s(b,S){return b==null?b:sf(b,Wt(S,3),pa)}function a_(b,S){return b==null?b:Ph(b,Wt(S,3),pa)}function Lb(b,S){return b&&il(b,Wt(S,3))}function Yc(b,S){return b&&Zy(b,Wt(S,3))}function G3(b){return b==null?[]:jc(b,Ji(b))}function K3(b){return b==null?[]:jc(b,pa(b))}function ed(b,S,M){var j=b==null?n:ql(b,S);return j===n?M:j}function s_(b,S){return b!=null&&gb(b,S,Ua)}function cE(b,S){return b!=null&&gb(b,S,Ss)}var X3=rg(function(b,S,M){S!=null&&typeof S.toString!="function"&&(S=ra.call(S)),b[S]=M},sp(Wo)),Z3=rg(function(b,S,M){S!=null&&typeof S.toString!="function"&&(S=ra.call(S)),dr.call(b,S)?b[S].push(M):b[S]=[M]},Wt),Q3=hn(Cs);function Ji(b){return fa(b)?Wy(b):Uu(b)}function pa(b){return fa(b)?Wy(b,!0):T3(b)}function J3(b,S){var M={};return S=Wt(S,3),il(b,function(j,Y,re){Fa(M,S(j,Y,re),j)}),M}function l_(b,S){var M={};return S=Wt(S,3),il(b,function(j,Y,re){Fa(M,Y,S(j,Y,re))}),M}var tp=zu(function(b,S,M){Zm(b,S,M)}),np=zu(function(b,S,M,j){Zm(b,S,M,j)}),c_=Wl(function(b,S){var M={};if(b==null)return M;var j=!1;S=Wr(S,function(re){return re=qa(re,b),j||(j=re.length>1),re}),Ts(b,ww(b),M),j&&(M=zo(M,u|p|m,d2));for(var Y=S.length;Y--;)Qm(M,S[Y]);return M});function eI(b,S){return ip(b,Ob(Wt(S)))}var rp=Wl(function(b,S){return b==null?{}:Qx(b,S)});function ip(b,S){if(b==null)return{};var M=Wr(ww(b),function(j){return[j]});return S=Wt(S),Oo(b,M,function(j,Y){return S(j,Y[0])})}function u_(b,S,M){S=qa(S,b);var j=-1,Y=S.length;for(Y||(Y=1,b=n);++j<Y;){var re=b==null?n:b[sa(S[j])];re===n&&(j=Y,re=M),b=Xa(re)?re.call(b):re}return b}function jb(b,S,M){return b==null?b:Fh(b,S,M)}function uE(b,S,M,j){return j=typeof j=="function"?j:n,b==null?b:Fh(b,S,M,j)}var Bb=yw(Ji),Lg=yw(pa);function d_(b,S,M){var j=ln(b),Y=j||Qu(b)||Ju(b);if(S=Wt(S,4),M==null){var re=b&&b.constructor;Y?M=j?new re:[]:Kr(b)?M=Xa(re)?Lu(Fl(b)):{}:M={}}return(Y?La:il)(b,function(le,he,Ce){return S(M,le,he,Ce)}),M}function f_(b,S){return b==null?!0:Qm(b,S)}function tI(b,S,M){return b==null?b:iw(b,S,ab(M))}function h_(b,S,M,j){return j=typeof j=="function"?j:n,b==null?b:iw(b,S,ab(M),j)}function op(b){return b==null?[]:Lx(b,Ji(b))}function dE(b){return b==null?[]:Lx(b,pa(b))}function nI(b,S,M){return M===n&&(M=S,S=n),M!==n&&(M=Za(M),M=M===M?M:0),S!==n&&(S=Za(S),S=S===S?S:0),nl(Za(b),S,M)}function $b(b,S,M){return S=Wc(S),M===n?(M=S,S=0):M=Wc(M),b=Za(b),Fu(b,S,M)}function Hb(b,S,M){if(M&&typeof M!="boolean"&&No(b,S,M)&&(S=M=n),M===n&&(typeof S=="boolean"?(M=S,S=n):typeof b=="boolean"&&(M=b,b=n)),b===n&&S===n?(b=0,S=1):(b=Wc(b),S===n?(S=b,b=0):S=Wc(S)),b>S){var j=b;b=S,S=j}if(M||b%1||S%1){var Y=Rc();return Ni(b+Y*(S-b+Gd("1e-"+((Y+"").length-1))),S)}return Hh(b,S)}var Fb=cf(function(b,S,M){return S=S.toLowerCase(),b+(M?p_(S):S)});function p_(b){return mf(hr(b).toLowerCase())}function ap(b){return b=hr(b),b&&b.replace(ds,Bm).replace(Sk,"")}function rI(b,S,M){b=hr(b),S=aa(S);var j=b.length;M=M===n?j:nl(Jt(M),0,j);var Y=M;return M-=S.length,M>=0&&b.slice(M,Y)==S}function m_(b){return b=hr(b),b&&xt.test(b)?b.replace(jt,y3):b}function g_(b){return b=hr(b),b&&Xe.test(b)?b.replace(Re,"\\$&"):b}var y_=cf(function(b,S,M){return b+(M?"-":"")+S.toLowerCase()}),b_=cf(function(b,S,M){return b+(M?" ":"")+S.toLowerCase()}),fE=mw("toLowerCase");function v_(b,S,M){b=hr(b),S=Jt(S);var j=S?bh(b):0;if(!S||j>=S)return b;var Y=(S-j)/2;return Vu(Fm(Y),M)+b+Vu(Ch(Y),M)}function x_(b,S,M){b=hr(b),S=Jt(S);var j=S?bh(b):0;return S&&j<S?b+Vu(S-j,M):b}function Ub(b,S,M){b=hr(b),S=Jt(S);var j=S?bh(b):0;return S&&j<S?Vu(S-j,M)+b:b}function iI(b,S,M){return M||S==null?S=0:S&&(S=+S),ys(hr(b).replace(nt,""),S||0)}function oI(b,S,M){return(M?No(b,S,M):S===n)?S=1:S=Jt(S),ol(hr(b),S)}function hE(){var b=arguments,S=hr(b[0]);return b.length<3?S:S.replace(b[1],b[2])}var pE=cf(function(b,S,M){return b+(M?"_":"")+S.toLowerCase()});function zb(b,S,M){return M&&typeof M!="number"&&No(b,S,M)&&(S=M=n),M=M===n?Q:M>>>0,M?(b=hr(b),b&&(typeof S=="string"||S!=null&&!Dg(S))&&(S=aa(S),!S&&Zd(b))?al(oi(b),0,M):b.split(S,M)):[]}var mE=cf(function(b,S,M){return b+(M?" ":"")+mf(S)});function w_(b,S,M){return b=hr(b),M=M==null?0:nl(Jt(M),0,b.length),S=aa(S),b.slice(M,M+S.length)==S}function gE(b,S,M){var j=ee.templateSettings;M&&No(b,S,M)&&(S=n),b=hr(b),S=ep({},S,j,bw);var Y=ep({},S.imports,j.imports,bw),re=Ji(Y),le=Lx(Y,re),he,Ce,Ye=0,Ge=S.interpolate||Zi,et="__p += '",ht=Ly((S.escape||Zi).source+"|"+Ge.source+"|"+(Ge===Hn?xn:Zi).source+"|"+(S.evaluate||Zi).source+"|$","g"),Bt="//# sourceURL="+(dr.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Mx+"]")+`
`;b.replace(ht,function(tn,Un,Qn,dl,Qa,fl){return Qn||(Qn=dl),et+=b.slice(Ye,fl).replace(Ao,Ry),Un&&(he=!0,et+=`' +
__e(`+Un+`) +
'`),Qa&&(Ce=!0,et+=`';
`+Qa+`;
__p += '`),Qn&&(et+=`' +
((__t = (`+Qn+`)) == null ? '' : __t) +
'`),Ye=fl+tn.length,tn}),et+=`';
`;var en=dr.call(S,"variable")&&S.variable;if(!en)et=`with (obj) {
`+et+`
}
`;else if(ft.test(en))throw new sn(s);et=(Ce?et.replace(Ct,""):et).replace(lt,"$1").replace(ct,"$1;"),et="function("+(en||"obj")+`) {
`+(en?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(he?", __e = _.escape":"")+(Ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var kn=yE(function(){return On(re,Bt+"return "+et).apply(n,le)});if(kn.source=et,Db(kn))throw kn;return kn}function td(b){return hr(b).toLowerCase()}function nd(b){return hr(b).toUpperCase()}function rd(b,S,M){if(b=hr(b),b&&(M||S===n))return Xd(b);if(!b||!(S=aa(S)))return b;var j=oi(b),Y=oi(S),re=jx(j,Y),le=Bx(j,Y)+1;return al(j,re,le).join("")}function jg(b,S,M){if(b=hr(b),b&&(M||S===n))return b.slice(0,vh(b)+1);if(!b||!(S=aa(S)))return b;var j=oi(b),Y=Bx(j,oi(S))+1;return al(j,0,Y).join("")}function Bg(b,S,M){if(b=hr(b),b&&(M||S===n))return b.replace(nt,"");if(!b||!(S=aa(S)))return b;var j=oi(b),Y=jx(j,oi(S));return al(j,Y).join("")}function id(b,S){var M=$,j=q;if(Kr(S)){var Y="separator"in S?S.separator:Y;M="length"in S?Jt(S.length):M,j="omission"in S?aa(S.omission):j}b=hr(b);var re=b.length;if(Zd(b)){var le=oi(b);re=le.length}if(M>=re)return b;var he=M-bh(j);if(he<1)return j;var Ce=le?al(le,0,he).join(""):b.slice(0,he);if(Y===n)return Ce+j;if(le&&(he+=Ce.length-he),Dg(Y)){if(b.slice(he).search(Y)){var Ye,Ge=Ce;for(Y.global||(Y=Ly(Y.source,hr(mr.exec(Y))+"g")),Y.lastIndex=0;Ye=Y.exec(Ge);)var et=Ye.index;Ce=Ce.slice(0,et===n?he:et)}}else if(b.indexOf(aa(Y),he)!=he){var ht=Ce.lastIndexOf(Y);ht>-1&&(Ce=Ce.slice(0,ht))}return Ce+j}function aI(b){return b=hr(b),b&&vt.test(b)?b.replace(Tt,jk):b}var E_=cf(function(b,S,M){return b+(M?" ":"")+S.toUpperCase()}),mf=mw("toUpperCase");function S_(b,S,M){return b=hr(b),S=M?n:S,S===n?$x(b)?Hk(b):m3(b):b.match(S)||[]}var yE=hn(function(b,S){try{return Pa(b,n,S)}catch(M){return Db(M)?M:new sn(M)}}),Vb=Wl(function(b,S){return La(S,function(M){M=sa(M),Fa(b,M,Ab(b[M],b))}),b});function C_(b){var S=b==null?0:b.length,M=Wt();return b=S?Wr(b,function(j){if(typeof j[1]!="function")throw new Ba(a);return[M(j[0]),j[1]]}):[],hn(function(j){for(var Y=-1;++Y<S;){var re=b[Y];if(Pa(re[0],this,j))return Pa(re[1],this,j)}})}function sI(b){return Zk(zo(b,u))}function sp(b){return function(){return b}}function qb(b,S){return b==null||b!==b?S:b}var T_=zh(),lp=zh(!0);function Wo(b){return b}function $g(b){return jh(typeof b=="function"?b:zo(b,u))}function Wb(b){return tb(zo(b,u))}function k_(b,S){return Zx(b,zo(S,u))}var lI=hn(function(b,S){return function(M){return Cs(M,b,S)}}),Yb=hn(function(b,S){return function(M){return Cs(b,M,S)}});function f(b,S,M){var j=Ji(S),Y=jc(S,j);M==null&&!(Kr(S)&&(Y.length||!j.length))&&(M=S,S=b,b=this,Y=jc(S,Ji(S)));var re=!(Kr(M)&&"chain"in M)||!!M.chain,le=Xa(b);return La(Y,function(he){var Ce=S[he];b[he]=Ce,le&&(b.prototype[he]=function(){var Ye=this.__chain__;if(re||Ye){var Ge=b(this.__wrapped__),et=Ge.__actions__=Vo(this.__actions__);return et.push({func:Ce,args:arguments,thisArg:b}),Ge.__chain__=Ye,Ge}return Ce.apply(b,Du([this.value()],arguments))})}),b}function h(){return Hi._===this&&(Hi._=ps),this}function y(){}function E(b){return b=Jt(b),hn(function(S){return nb(S,b)})}var _=cb(Wr),D=cb(Nk),H=cb(Rx);function J(b){return fg(b)?Kd(sa(b)):Si(b)}function de(b){return function(S){return b==null?n:ql(b,S)}}var Ne=ub(),ze=ub(!0);function We(){return[]}function Me(){return!1}function Le(){return{}}function wt(){return""}function Yt(){return!0}function Cr(b,S){if(b=Jt(b),b<1||b>X)return[];var M=Q,j=Ni(b,Q);S=Wt(S),b-=Q;for(var Y=Dy(j,S);++M<b;)S(M);return Y}function Se(b){return ln(b)?Wr(b,sa):ha(b)?[b]:Vo(Aw(hr(b)))}function pe(b){var S=++Uk;return hr(b)+S}var Oe=ig(function(b,S){return b+S},0),qe=ag("ceil"),Ft=ig(function(b,S){return b/S},1),tr=ag("floor");function Mt(b){return b&&b.length?rl(b,Wo,Gm):n}function bn(b,S){return b&&b.length?rl(b,Wt(S,2),Gm):n}function Pn(b){return Ny(b,Wo)}function nr(b,S){return Ny(b,Wt(S,2))}function od(b){return b&&b.length?rl(b,Wo,Gr):n}function cI(b,S){return b&&b.length?rl(b,Wt(S,2),Gr):n}var f1e=ig(function(b,S){return b*S},1),h1e=ag("round"),p1e=ig(function(b,S){return b-S},0);function m1e(b){return b&&b.length?My(b,Wo):0}function g1e(b,S){return b&&b.length?My(b,Wt(S,2)):0}return ee.after=U2,ee.ary=qw,ee.assign=n_,ee.assignIn=Pb,ee.assignInWith=ep,ee.assignWith=Y3,ee.at=ks,ee.before=Ww,ee.bind=Ab,ee.bindAll=Vb,ee.bindKey=Yw,ee.castArray=F3,ee.chain=Eg,ee.chunk=v2,ee.compact=Ow,ee.concat=Nw,ee.cond=C_,ee.conforms=sI,ee.constant=sp,ee.countBy=D2,ee.create=lE,ee.curry=kg,ee.curryRight=Gw,ee.debounce=Kw,ee.defaults=r_,ee.defaultsDeep=i_,ee.defer=br,ee.delay=Xw,ee.difference=wb,ee.differenceBy=x2,ee.differenceWith=Fc,ee.drop=Ri,ee.dropRight=Mw,ee.dropRightWhile=w2,ee.dropWhile=Qi,ee.fill=M3,ee.filter=Uw,ee.flatMap=da,ee.flatMapDeep=I2,ee.flatMapDepth=P2,ee.flatten=Lr,ee.flattenDeep=la,ee.flattenDepth=Uc,ee.flip=B3,ee.flow=T_,ee.flowRight=lp,ee.fromPairs=E2,ee.functions=G3,ee.functionsIn=K3,ee.groupBy=Tb,ee.initial=D3,ee.intersection=Eb,ee.intersectionBy=ca,ee.intersectionWith=ll,ee.invert=X3,ee.invertBy=Z3,ee.invokeMap=Zh,ee.iteratee=$g,ee.keyBy=j2,ee.keys=Ji,ee.keysIn=pa,ee.map=Cg,ee.mapKeys=J3,ee.mapValues=l_,ee.matches=Wb,ee.matchesProperty=k_,ee.memoize=_g,ee.merge=tp,ee.mergeWith=np,ee.method=lI,ee.methodOf=Yb,ee.mixin=f,ee.negate=Ob,ee.nthArg=E,ee.omit=c_,ee.omitBy=eI,ee.once=$3,ee.orderBy=B2,ee.over=_,ee.overArgs=H3,ee.overEvery=D,ee.overSome=H,ee.partial=Jh,ee.partialRight=hf,ee.partition=$2,ee.pick=rp,ee.pickBy=ip,ee.property=J,ee.propertyOf=de,ee.pull=uf,ee.pullAll=Gl,ee.pullAllBy=Pw,ee.pullAllWith=Lw,ee.pullAt=cl,ee.range=Ne,ee.rangeRight=ze,ee.rearg=Zw,ee.reject=P3,ee.remove=k2,ee.rest=Nb,ee.reverse=Wu,ee.sampleSize=j3,ee.set=jb,ee.setWith=uE,ee.shuffle=H2,ee.slice=bg,ee.sortBy=_b,ee.sortedUniq=Sb,ee.sortedUniqBy=N2,ee.split=zb,ee.spread=Qw,ee.tail=R3,ee.take=I3,ee.takeRight=sr,ee.takeRightWhile=Or,ee.takeWhile=Nn,ee.tap=M2,ee.throttle=Zu,ee.thru=ff,ee.toArray=t_,ee.toPairs=Bb,ee.toPairsIn=Lg,ee.toPath=Se,ee.toPlainObject=Ib,ee.transform=d_,ee.unary=Kl,ee.union=In,ee.unionBy=yr,ee.unionWith=Wa,ee.uniq=Yu,ee.uniqBy=Gh,ee.uniqWith=jw,ee.unset=f_,ee.unzip=ul,ee.unzipWith=si,ee.update=tI,ee.updateWith=h_,ee.values=op,ee.valuesIn=dE,ee.without=Gu,ee.words=S_,ee.wrap=Ag,ee.xor=df,ee.xorBy=Bw,ee.xorWith=Ya,ee.zip=Kh,ee.zipObject=wg,ee.zipObjectDeep=ua,ee.zipWith=$w,ee.entries=Bb,ee.entriesIn=Lg,ee.extend=Pb,ee.extendWith=ep,f(ee,ee),ee.add=Oe,ee.attempt=yE,ee.camelCase=Fb,ee.capitalize=p_,ee.ceil=qe,ee.clamp=nI,ee.clone=z2,ee.cloneDeep=q2,ee.cloneDeepWith=W2,ee.cloneWith=V2,ee.conformsTo=U3,ee.deburr=ap,ee.defaultTo=qb,ee.divide=Ft,ee.endsWith=rI,ee.eq=Ka,ee.escape=m_,ee.escapeRegExp=g_,ee.every=Sg,ee.find=Ga,ee.findIndex=Dw,ee.findKey=o_,ee.findLast=R2,ee.findLastIndex=Rw,ee.findLastKey=Pg,ee.floor=tr,ee.forEach=L2,ee.forEachRight=qc,ee.forIn=_s,ee.forInRight=a_,ee.forOwn=Lb,ee.forOwnRight=Yc,ee.get=ed,ee.gt=Y2,ee.gte=G2,ee.has=s_,ee.hasIn=cE,ee.head=Iw,ee.identity=Wo,ee.includes=zw,ee.indexOf=S2,ee.inRange=$b,ee.invoke=Q3,ee.isArguments=pf,ee.isArray=ln,ee.isArrayBuffer=Jw,ee.isArrayLike=fa,ee.isArrayLikeObject=Ci,ee.isBoolean=Og,ee.isBuffer=Qu,ee.isDate=K2,ee.isElement=Mn,ee.isEmpty=eE,ee.isEqual=Mb,ee.isEqualWith=tE,ee.isError=Db,ee.isFinite=nE,ee.isFunction=Xa,ee.isInteger=Ng,ee.isLength=Rb,ee.isMap=X2,ee.isMatch=Z2,ee.isMatchWith=Q2,ee.isNaN=Sr,ee.isNative=rE,ee.isNil=z3,ee.isNull=vo,ee.isNumber=iE,ee.isObject=Kr,ee.isObjectLike=mi,ee.isPlainObject=Mg,ee.isRegExp=Dg,ee.isSafeInteger=oE,ee.isSet=Rg,ee.isString=Ig,ee.isSymbol=ha,ee.isTypedArray=Ju,ee.isUndefined=aE,ee.isWeakMap=V3,ee.isWeakSet=J2,ee.join=C2,ee.kebabCase=y_,ee.last=jr,ee.lastIndexOf=T2,ee.lowerCase=b_,ee.lowerFirst=fE,ee.lt=q3,ee.lte=e_,ee.max=Mt,ee.maxBy=bn,ee.mean=Pn,ee.meanBy=nr,ee.min=od,ee.minBy=cI,ee.stubArray=We,ee.stubFalse=Me,ee.stubObject=Le,ee.stubString=wt,ee.stubTrue=Yt,ee.multiply=f1e,ee.nth=zc,ee.noConflict=h,ee.noop=y,ee.now=Tg,ee.pad=v_,ee.padEnd=x_,ee.padStart=Ub,ee.parseInt=iI,ee.random=Hb,ee.reduce=kb,ee.reduceRight=Vw,ee.repeat=oI,ee.replace=hE,ee.result=u_,ee.round=h1e,ee.runInContext=be,ee.sample=L3,ee.size=F2,ee.snakeCase=pE,ee.some=Qh,ee.sortedIndex=vg,ee.sortedIndexBy=Yh,ee.sortedIndexOf=_2,ee.sortedLastIndex=A2,ee.sortedLastIndexBy=xg,ee.sortedLastIndexOf=O2,ee.startCase=mE,ee.startsWith=w_,ee.subtract=p1e,ee.sum=m1e,ee.sumBy=g1e,ee.template=gE,ee.times=Cr,ee.toFinite=Wc,ee.toInteger=Jt,ee.toLength=sE,ee.toLower=td,ee.toNumber=Za,ee.toSafeInteger=W3,ee.toString=hr,ee.toUpper=nd,ee.trim=rd,ee.trimEnd=jg,ee.trimStart=Bg,ee.truncate=id,ee.unescape=aI,ee.uniqueId=pe,ee.upperCase=E_,ee.upperFirst=mf,ee.each=L2,ee.eachRight=qc,ee.first=Iw,f(ee,(function(){var b={};return il(ee,function(S,M){dr.call(ee.prototype,M)||(b[M]=S)}),b})(),{chain:!1}),ee.VERSION=r,La(["bind","bindKey","curry","curryRight","partial","partialRight"],function(b){ee[b].placeholder=ee}),La(["drop","take"],function(b,S){dn.prototype[b]=function(M){M=M===n?1:fi(Jt(M),0);var j=this.__filtered__&&!S?new dn(this):this.clone();return j.__filtered__?j.__takeCount__=Ni(M,j.__takeCount__):j.__views__.push({size:Ni(M,Q),type:b+(j.__dir__<0?"Right":"")}),j},dn.prototype[b+"Right"]=function(M){return this.reverse()[b](M).reverse()}}),La(["filter","map","takeWhile"],function(b,S){var M=S+1,j=M==G||M==V;dn.prototype[b]=function(Y){var re=this.clone();return re.__iteratees__.push({iteratee:Wt(Y,3),type:M}),re.__filtered__=re.__filtered__||j,re}}),La(["head","last"],function(b,S){var M="take"+(S?"Right":"");dn.prototype[b]=function(){return this[M](1).value()[0]}}),La(["initial","tail"],function(b,S){var M="drop"+(S?"":"Right");dn.prototype[b]=function(){return this.__filtered__?new dn(this):this[M](1)}}),dn.prototype.compact=function(){return this.filter(Wo)},dn.prototype.find=function(b){return this.filter(b).head()},dn.prototype.findLast=function(b){return this.reverse().find(b)},dn.prototype.invokeMap=hn(function(b,S){return typeof b=="function"?new dn(this):this.map(function(M){return Cs(M,b,S)})}),dn.prototype.reject=function(b){return this.filter(Ob(Wt(b)))},dn.prototype.slice=function(b,S){b=Jt(b);var M=this;return M.__filtered__&&(b>0||S<0)?new dn(M):(b<0?M=M.takeRight(-b):b&&(M=M.drop(b)),S!==n&&(S=Jt(S),M=S<0?M.dropRight(-S):M.take(S-b)),M)},dn.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()},dn.prototype.toArray=function(){return this.take(Q)},il(dn.prototype,function(b,S){var M=/^(?:filter|find|map|reject)|While$/.test(S),j=/^(?:head|last)$/.test(S),Y=ee[j?"take"+(S=="last"?"Right":""):S],re=j||/^find/.test(S);Y&&(ee.prototype[S]=function(){var le=this.__wrapped__,he=j?[1]:arguments,Ce=le instanceof dn,Ye=he[0],Ge=Ce||ln(le),et=function(Un){var Qn=Y.apply(ee,Du([Un],he));return j&&ht?Qn[0]:Qn};Ge&&M&&typeof Ye=="function"&&Ye.length!=1&&(Ce=Ge=!1);var ht=this.__chain__,Bt=!!this.__actions__.length,en=re&&!ht,kn=Ce&&!Bt;if(!re&&Ge){le=kn?le:new dn(this);var tn=b.apply(le,he);return tn.__actions__.push({func:ff,args:[et],thisArg:n}),new ia(tn,ht)}return en&&kn?b.apply(this,he):(tn=this.thru(et),en?j?tn.value()[0]:tn.value():tn)})}),La(["pop","push","shift","sort","splice","unshift"],function(b){var S=$m[b],M=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",j=/^(?:pop|shift)$/.test(b);ee.prototype[b]=function(){var Y=arguments;if(j&&!this.__chain__){var re=this.value();return S.apply(ln(re)?re:[],Y)}return this[M](function(le){return S.apply(ln(le)?le:[],Y)})}}),il(dn.prototype,function(b,S){var M=ee[S];if(M){var j=M.name+"";dr.call(fr,j)||(fr[j]=[]),fr[j].push({name:S,func:M})}}),fr[Vh(n,T).name]=[{name:"wrapper",func:n}],dn.prototype.clone=Ic,dn.prototype.reverse=Bu,dn.prototype.value=Pc,ee.prototype.at=Cb,ee.prototype.chain=Ku,ee.prototype.commit=Ui,ee.prototype.next=Xu,ee.prototype.plant=Vc,ee.prototype.reverse=Hw,ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=Fw,ee.prototype.first=ee.prototype.head,mo&&(ee.prototype[mo]=Xh),ee}),xh=Ux();Qs?((Qs.exports=xh)._=xh,Rm._=xh):Hi._=xh}).call(hTe)})(JE,JE.exports)),JE.exports}var Sv=pTe();async function Lo(e,t){const n=localStorage.getItem("auth-storage");let r=null;if(n)try{r=JSON.parse(n).state?.token||null}catch{}const i=new Headers(t?.headers);r&&i.set("Authorization",`Bearer ${r}`);const o=await fetch(e,{...t,headers:i});if(o.status===401)throw localStorage.removeItem("auth-storage"),localStorage.removeItem("auth_token"),localStorage.removeItem("username"),window.location.href="/login",new Error("Authentication required. Redirecting to login...");return o}const UA={getFlowLabels:async()=>await(await Lo("/api/flows/labels")).json(),getFlowTenants:async()=>await(await Lo("/api/flows/tenants")).json(),getMetricsLabels:async()=>await(await Lo("/api/metrics/labels")).json(),getAll:async()=>{const[e,t,n]=await Promise.all([UA.getFlowLabels(),UA.getFlowTenants(),UA.getMetricsLabels()]),r=n.filter(s=>s.label==="tenant").flatMap(s=>s.values),i=n.filter(s=>s.label!=="tenant"),o=Sv.groupBy([...e,...i],s=>s.label),a=Sv.uniq([...t,...r]);return{labels:Object.entries(o).map(([s,l])=>({label:s,values:Sv.uniq(Sv.flatMap(l,c=>c.values))})),tenants:a}}},du=wT()(rD(e=>({labels:[],tenants:[],loading:!1,error:null,fetchLabelsAndTenants:async()=>{e({loading:!0,error:null});const t=await UA.getAll();e({labels:t.labels,tenants:t.tenants,loading:!1})}}),{name:"labels"})),iD=wT(e=>({sidebarCollapsed:!1,toggleSidebar:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setSidebarCollapsed:t=>e({sidebarCollapsed:t})}));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mTe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gTe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),dV=e=>{const t=gTe(e);return t.charAt(0).toUpperCase()+t.slice(1)},kie=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),yTe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bTe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vTe=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>C.createElement("svg",{ref:l,...bTe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:kie("lucide",i),...!o&&!yTe(s)&&{"aria-hidden":"true"},...s},[...a.map(([c,d])=>C.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(e,t)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(vTe,{ref:o,iconNode:t,className:kie(`lucide-${mTe(dV(e))}`,`lucide-${e}`,r),...i}));return n.displayName=dV(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xTe=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],wTe=mt("audio-lines",xTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ETe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],STe=mt("book-open",ETe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CTe=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],_ie=mt("building-2",CTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TTe=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],kTe=mt("calendar-clock",TTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Te=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Aie=mt("calendar",_Te);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ATe=[["path",{d:"M15 11h4.5a1 1 0 0 1 0 5h-4a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h3a1 1 0 0 1 0 5",key:"nxs35"}],["path",{d:"m2 16 4.039-9.69a.5.5 0 0 1 .923 0L11 16",key:"d5nyq2"}],["path",{d:"M3.304 13h6.392",key:"1q3zxz"}]],TH=mt("case-upper",ATe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OTe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],NTe=mt("chart-column",OTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MTe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],kH=mt("chart-line",MTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DTe=[["path",{d:"M6 5h12",key:"fvfigv"}],["path",{d:"M4 12h10",key:"oujl3d"}],["path",{d:"M12 19h8",key:"baeox8"}]],Oie=mt("chart-no-axes-gantt",DTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RTe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],WS=mt("check",RTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ITe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ET=mt("chevron-down",ITe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PTe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Nie=mt("chevron-left",PTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LTe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_H=mt("chevron-right",LTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jTe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],BTe=mt("chevron-up",jTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Te=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],HTe=mt("chevrons-right",$Te);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FTe=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Mie=mt("chevrons-up-down",FTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zTe=mt("circle-check",UTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],oD=mt("circle-dot",VTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],F_=mt("circle-question-mark",qTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],YTe=mt("circle-x",WTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Die=mt("circle",GTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KTe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zp=mt("clock",KTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XTe=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],ZTe=mt("code",XTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QTe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Rie=mt("columns-2",QTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JTe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Iie=mt("columns-3",JTe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eke=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],tke=mt("corner-down-right",eke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nke=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Pie=mt("database",nke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rke=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nc=mt("eye-off",rke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ike=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rc=mt("eye",ike);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oke=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],ake=mt("file",oke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ske=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],lke=mt("globe",ske);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cke=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],uke=mt("grip-vertical",cke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dke=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Lie=mt("hash",dke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],fV=mt("heading-1",fke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],hV=mt("heading-2",hke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],pV=mt("heading-3",pke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mke=[["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v3a1 1 0 0 0 1 1h3",key:"tj5zdr"}],["path",{d:"M21 10v8",key:"1kdml4"}],["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}]],gke=mt("heading-4",mke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]],bke=mt("heading-5",yke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vke=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]],xke=mt("heading-6",vke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wke=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Eke=mt("history",wke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ske=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],jie=mt("house",Ske);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Tke=mt("image",Cke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kke=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],_ke=mt("layout-grid",kke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ake=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Oke=mt("list-checks",Ake);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nke=[["path",{d:"M10 5h11",key:"1hkqpe"}],["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 19h11",key:"14g2nv"}],["path",{d:"m3 10 3-3-3-3",key:"i7pm08"}],["path",{d:"m3 20 3-3-3-3",key:"20gx1n"}]],Bie=mt("list-collapse",Nke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mke=[["path",{d:"M12 5H2",key:"1o22fu"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 8V2",key:"1wcffq"}]],Dke=mt("list-filter-plus",Mke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rke=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Ike=mt("list-ordered",Rke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pke=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Lke=mt("list",Pke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jke=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],$ie=mt("loader",jke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bke=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$ke=mt("lock",Bke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hke=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fke=mt("log-out",Hke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uke=[["path",{d:"M5 12h14",key:"1ays0h"}]],zke=mt("minus",Uke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vke=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],qke=mt("paintbrush",Vke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],AH=mt("panel-left",Wke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yke=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],Gke=mt("pilcrow",Yke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kke=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],OH=mt("plus",Kke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xke=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Zke=mt("quote",Xke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qke=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],Jke=mt("rectangle-ellipsis",Qke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Hie=mt("search",e2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2e=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n2e=mt("settings",t2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],i2e=mt("smile",r2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],a2e=mt("square-dot",o2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2e=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],l2e=mt("square-play",s2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2e=[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]],u2e=mt("square-stack",c2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2e=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],f2e=mt("table-2",d2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2e=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],p2e=mt("table",h2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2e=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],g2e=mt("tag",m2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2e=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],ST=mt("tags",y2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2e=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],aD=mt("timer",b2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fie=mt("trash-2",v2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2e=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],w2e=mt("trash",x2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2e=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Uie=mt("workflow",E2e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],NH=mt("x",S2e),Go=[];for(let e=0;e<256;++e)Go.push((e+256).toString(16).slice(1));function C2e(e,t=0){return(Go[e[t+0]]+Go[e[t+1]]+Go[e[t+2]]+Go[e[t+3]]+"-"+Go[e[t+4]]+Go[e[t+5]]+"-"+Go[e[t+6]]+Go[e[t+7]]+"-"+Go[e[t+8]]+Go[e[t+9]]+"-"+Go[e[t+10]]+Go[e[t+11]]+Go[e[t+12]]+Go[e[t+13]]+Go[e[t+14]]+Go[e[t+15]]).toLowerCase()}let PI;const T2e=new Uint8Array(16);function k2e(){if(!PI){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");PI=crypto.getRandomValues.bind(crypto)}return PI(T2e)}const _2e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mV={randomUUID:_2e};function A2e(e,t,n){e=e||{};const r=e.random??e.rng?.()??k2e();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,C2e(r)}function O2e(e,t,n){return mV.randomUUID&&!e?mV.randomUUID():A2e(e)}var N2e=Symbol("radix.slottable");function M2e(e){const t=({children:n})=>g.jsx(g.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=N2e,t}var zie="AlertDialog",[D2e]=Vs(zie,[$re]),ah=$re(),Vie=e=>{const{__scopeAlertDialog:t,...n}=e,r=ah(t);return g.jsx(gT,{...r,...n,modal:!0})};Vie.displayName=zie;var R2e="AlertDialogTrigger",I2e=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ah(n);return g.jsx(qSe,{...i,...r,ref:t})});I2e.displayName=R2e;var P2e="AlertDialogPortal",qie=e=>{const{__scopeAlertDialog:t,...n}=e,r=ah(t);return g.jsx(yT,{...r,...n})};qie.displayName=P2e;var L2e="AlertDialogOverlay",Wie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ah(n);return g.jsx(G1,{...i,...r,ref:t})});Wie.displayName=L2e;var Rv="AlertDialogContent",[j2e,B2e]=D2e(Rv),$2e=M2e("AlertDialogContent"),Yie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=ah(n),a=C.useRef(null),s=An(t,a),l=C.useRef(null);return g.jsx(FSe,{contentName:Rv,titleName:Gie,docsSlug:"alert-dialog",children:g.jsx(j2e,{scope:n,cancelRef:l,children:g.jsxs(K1,{role:"alertdialog",...o,...i,ref:s,onOpenAutoFocus:dt(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[g.jsx($2e,{children:r}),g.jsx(F2e,{contentRef:a})]})})})});Yie.displayName=Rv;var Gie="AlertDialogTitle",Kie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ah(n);return g.jsx(bT,{...i,...r,ref:t})});Kie.displayName=Gie;var Xie="AlertDialogDescription",Zie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ah(n);return g.jsx(vT,{...i,...r,ref:t})});Zie.displayName=Xie;var H2e="AlertDialogAction",Qie=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ah(n);return g.jsx(nD,{...i,...r,ref:t})});Qie.displayName=H2e;var Jie="AlertDialogCancel",eoe=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=B2e(Jie,n),o=ah(n),a=An(t,i);return g.jsx(nD,{...o,...r,ref:a})});eoe.displayName=Jie;var F2e=({contentRef:e})=>{const t=`\`${Rv}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rv}\` by passing a \`${Xie}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},U2e=Vie,z2e=qie,toe=Wie,noe=Yie,roe=Qie,ioe=eoe,ooe=Kie,aoe=Zie,V2e=Symbol.for("react.lazy"),pO=dT[" use ".trim().toString()];function q2e(e){return typeof e=="object"&&e!==null&&"then"in e}function soe(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===V2e&&"_payload"in e&&q2e(e._payload)}function W2e(e){const t=Y2e(e),n=C.forwardRef((r,i)=>{let{children:o,...a}=r;soe(o)&&typeof pO=="function"&&(o=pO(o._payload));const s=C.Children.toArray(o),l=s.find(K2e);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var MH=W2e("Slot");function Y2e(e){const t=C.forwardRef((n,r)=>{let{children:i,...o}=n;if(soe(i)&&typeof pO=="function"&&(i=pO(i._payload)),C.isValidElement(i)){const a=Z2e(i),s=X2e(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var G2e=Symbol("radix.slottable");function K2e(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===G2e}function X2e(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Z2e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const gV=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yV=Xn,Q0=(e,t)=>n=>{var r;if(t?.variants==null)return yV(e,n?.class,n?.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(c=>{const d=n?.[c],u=o?.[c];if(d===null)return null;const p=gV(d)||gV(u);return i[c][p]}),s=n&&Object.entries(n).reduce((c,d)=>{let[u,p]=d;return p===void 0||(c[u]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:p,...m}=d;return Object.entries(m).every(v=>{let[x,w]=v;return Array.isArray(w)?w.includes({...o,...s}[x]):{...o,...s}[x]===w})?[...c,u,p]:c},[]);return yV(e,a,l,n?.class,n?.className)},YS=Q0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function Ai({className:e,variant:t,size:n,asChild:r=!1,...i}){const o=r?MH:"button";return g.jsx(o,{"data-slot":"button",className:Ie(YS({variant:t,size:n,className:e})),...i})}const Q2e=U2e,J2e=z2e,loe=C.forwardRef(({className:e,...t},n)=>g.jsx(toe,{className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));loe.displayName=toe.displayName;const coe=C.forwardRef(({className:e,...t},n)=>g.jsxs(J2e,{children:[g.jsx(loe,{}),g.jsx(noe,{ref:n,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));coe.displayName=noe.displayName;const uoe=({className:e,...t})=>g.jsx("div",{className:Ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});uoe.displayName="AlertDialogHeader";const doe=({className:e,...t})=>g.jsx("div",{className:Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});doe.displayName="AlertDialogFooter";const foe=C.forwardRef(({className:e,...t},n)=>g.jsx(ooe,{ref:n,className:Ie("text-lg font-semibold",e),...t}));foe.displayName=ooe.displayName;const hoe=C.forwardRef(({className:e,...t},n)=>g.jsx(aoe,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));hoe.displayName=aoe.displayName;const poe=C.forwardRef(({className:e,...t},n)=>g.jsx(roe,{ref:n,className:Ie(YS(),e),...t}));poe.displayName=roe.displayName;const moe=C.forwardRef(({className:e,...t},n)=>g.jsx(ioe,{ref:n,className:Ie(YS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));moe.displayName=ioe.displayName;var sD="Collapsible",[e_e]=Vs(sD),[t_e,DH]=e_e(sD),goe=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:a,...s}=e,[l,c]=gu({prop:r,defaultProp:i??!1,onChange:a,caller:sD});return g.jsx(t_e,{scope:n,disabled:o,contentId:Gi(),open:l,onOpenToggle:C.useCallback(()=>c(d=>!d),[c]),children:g.jsx(Dt.div,{"data-state":IH(l),"data-disabled":o?"":void 0,...s,ref:t})})});goe.displayName=sD;var yoe="CollapsibleTrigger",boe=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=DH(yoe,n);return g.jsx(Dt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":IH(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:dt(e.onClick,i.onOpenToggle)})});boe.displayName=yoe;var RH="CollapsibleContent",voe=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=DH(RH,e.__scopeCollapsible);return g.jsx(Fo,{present:n||i.open,children:({present:o})=>g.jsx(n_e,{...r,ref:t,present:o})})});voe.displayName=RH;var n_e=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,a=DH(RH,n),[s,l]=C.useState(r),c=C.useRef(null),d=An(t,c),u=C.useRef(0),p=u.current,m=C.useRef(0),v=m.current,x=a.open||s,w=C.useRef(x),T=C.useRef(void 0);return C.useEffect(()=>{const k=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(k)},[]),Xi(()=>{const k=c.current;if(k){T.current=T.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const O=k.getBoundingClientRect();u.current=O.height,m.current=O.width,w.current||(k.style.transitionDuration=T.current.transitionDuration,k.style.animationName=T.current.animationName),l(r)}},[a.open,r]),g.jsx(Dt.div,{"data-state":IH(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!x,...o,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:x&&i})});function IH(e){return e?"open":"closed"}var r_e=goe;const i_e=r_e,o_e=boe,a_e=voe;var s_e="Separator",bV="horizontal",l_e=["horizontal","vertical"],xoe=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=bV,...i}=e,o=c_e(r)?r:bV,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return g.jsx(Dt.div,{"data-orientation":o,...s,...i,ref:t})});xoe.displayName=s_e;function c_e(e){return l_e.includes(e)}var woe=xoe;const vc=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>g.jsx(woe,{ref:i,decorative:n,orientation:t,className:Ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));vc.displayName=woe.displayName;const PH=wT()(rD(fTe((e,t)=>({isAuthenticated:!1,username:null,token:null,login:(n,r)=>{e({isAuthenticated:!0,username:n,token:r})},logout:()=>{e({isAuthenticated:!1,username:null,token:null}),localStorage.removeItem("auth_token"),localStorage.removeItem("username")}}),{name:"auth-storage"}),{name:"auth"}));function vV(e){return{id:e.id,emoji:e.emoji,title:e.title,start:new Date(e.start),end:new Date(e.end)}}const U_={list:async e=>(await(await Lo("/api/comments/list",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)})).json()).map(vV),delete:async e=>(await Lo(`/api/comments/${e}`,{headers:{"Content-Type":"application/json"},method:"DELETE"})).json(),create:async e=>{const t=await Lo("/api/comments/",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});return vV(await t.json())},update:async e=>{await Lo(`/api/comments/${e.id}`,{headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e)})}},Eoe=6048e5,u_e=864e5,d_e=6e4,f_e=36e5,xV=Symbol.for("constructDateFrom");function Bi(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&xV in e?e[xV](t):e instanceof Date?new e.constructor(t):new Date(t)}function Wn(e,t){return Bi(t||e,e)}function CT(e,t,n){const r=Wn(e,n?.in);return isNaN(t)?Bi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function LH(e,t,n){const r=Wn(e,n?.in);if(isNaN(t))return Bi(e,NaN);if(!t)return r;const i=r.getDate(),o=Bi(e,r.getTime());o.setMonth(r.getMonth()+t+1,0);const a=o.getDate();return i>=a?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function h_e(e,t,n){const{years:r=0,months:i=0,weeks:o=0,days:a=0,hours:s=0,minutes:l=0,seconds:c=0}=t,d=Wn(e,n?.in),u=i||r?LH(d,i+r*12):d,p=a||o?CT(u,a+o*7):u,m=l+s*60,x=(c+m*60)*1e3;return Bi(e,+p+x)}function p_e(e,t,n){return Bi(e,+Wn(e)+t)}function m_e(e,t,n){return p_e(e,t*f_e)}let g_e={};function TT(){return g_e}function C0(e,t){const n=TT(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Wn(e,t?.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function GS(e,t){return C0(e,{...t,weekStartsOn:1})}function Soe(e,t){const n=Wn(e,t?.in),r=n.getFullYear(),i=Bi(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=GS(i),a=Bi(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=GS(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function wV(e){const t=Wn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Q1(e,...t){const n=Bi.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Xv(e,t){const n=Wn(e,t?.in);return n.setHours(0,0,0,0),n}function Coe(e,t,n){const[r,i]=Q1(n?.in,e,t),o=Xv(r),a=Xv(i),s=+o-wV(o),l=+a-wV(a);return Math.round((s-l)/u_e)}function y_e(e,t){const n=Soe(e,t),r=Bi(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),GS(r)}function b_e(e,t,n){const r=Wn(e,n?.in);return r.setTime(r.getTime()+t*d_e),r}function v_e(e,t,n){return CT(e,t*7,n)}function x_e(e,t,n){return LH(e,t*12,n)}function w_e(e,t){let n,r=t?.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Bi.bind(null,i));const o=Wn(i,r);(!n||n<o||isNaN(+o))&&(n=o)}),Bi(r,n||NaN)}function E_e(e,t){let n,r=t?.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Bi.bind(null,i));const o=Wn(i,r);(!n||n>o||isNaN(+o))&&(n=o)}),Bi(r,n||NaN)}function S_e(e,t,n){const[r,i]=Q1(n?.in,e,t);return+Xv(r)==+Xv(i)}function Toe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function C_e(e){return!(!Toe(e)&&typeof e!="number"||isNaN(+Wn(e)))}function T_e(e,t,n){const[r,i]=Q1(n?.in,e,t),o=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return o*12+a}function k_e(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function __e(e,t){return+Wn(e)-+Wn(t)}function A_e(e,t){const n=Wn(e,t?.in);return n.setHours(23,59,59,999),n}function O_e(e,t){const n=Wn(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function koe(e,t,n){const r=__e(e,t)/1e3;return k_e(n?.roundingMethod)(r)}function _oe(e,t){const[n,r]=Q1(e,t.start,t.end);return{start:n,end:r}}function N_e(e,t){const{start:n,end:r}=_oe(t?.in,e);let i=+n>+r;const o=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0),a.setDate(1);let s=1;const l=[];for(;+a<=o;)l.push(Bi(n,a)),a.setMonth(a.getMonth()+s);return i?l.reverse():l}function M_e(e,t){const n=Wn(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function D_e(e,t){const n=Wn(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Aoe(e,t){const n=Wn(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function R_e(e,t){const{start:n,end:r}=_oe(t?.in,e);let i=+n>+r;const o=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0),a.setMonth(0,1);let s=1;const l=[];for(;+a<=o;)l.push(Bi(n,a)),a.setFullYear(a.getFullYear()+s);return i?l.reverse():l}function jH(e,t){const n=TT(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Wn(e,t?.in),o=i.getDay(),a=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function I_e(e,t){return jH(e,{...t,weekStartsOn:1})}const P_e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},L_e=(e,t,n)=>{let r;const i=P_e[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function LI(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const j_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H_e={date:LI({formats:j_e,defaultWidth:"full"}),time:LI({formats:B_e,defaultWidth:"full"}),dateTime:LI({formats:$_e,defaultWidth:"full"})},F_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},U_e=(e,t,n,r)=>F_e[e];function kE(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,s=n?.width?String(n.width):a;i=e.formattingValues[s]||e.formattingValues[a]}else{const a=e.defaultWidth,s=n?.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const z_e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},V_e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},q_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W_e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},G_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},K_e=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},X_e={ordinalNumber:K_e,era:kE({values:z_e,defaultWidth:"wide"}),quarter:kE({values:V_e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kE({values:q_e,defaultWidth:"wide"}),day:kE({values:W_e,defaultWidth:"wide"}),dayPeriod:kE({values:Y_e,defaultWidth:"wide",formattingValues:G_e,defaultFormattingWidth:"wide"})};function _E(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?Q_e(s,u=>u.test(a)):Z_e(s,u=>u.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}function Z_e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Q_e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function J_e(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=t.slice(i.length);return{value:a,rest:s}}}const eAe=/^(\d+)(th|st|nd|rd)?/i,tAe=/\d+/i,nAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rAe={any:[/^b/i,/^(a|c)/i]},iAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oAe={any:[/1/i,/2/i,/3/i,/4/i]},aAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fAe={ordinalNumber:J_e({matchPattern:eAe,parsePattern:tAe,valueCallback:e=>parseInt(e,10)}),era:_E({matchPatterns:nAe,defaultMatchWidth:"wide",parsePatterns:rAe,defaultParseWidth:"any"}),quarter:_E({matchPatterns:iAe,defaultMatchWidth:"wide",parsePatterns:oAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_E({matchPatterns:aAe,defaultMatchWidth:"wide",parsePatterns:sAe,defaultParseWidth:"any"}),day:_E({matchPatterns:lAe,defaultMatchWidth:"wide",parsePatterns:cAe,defaultParseWidth:"any"}),dayPeriod:_E({matchPatterns:uAe,defaultMatchWidth:"any",parsePatterns:dAe,defaultParseWidth:"any"})},BH={code:"en-US",formatDistance:L_e,formatLong:H_e,formatRelative:U_e,localize:X_e,match:fAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hAe(e,t){const n=Wn(e,t?.in);return Coe(n,Aoe(n))+1}function Ooe(e,t){const n=Wn(e,t?.in),r=+GS(n)-+y_e(n);return Math.round(r/Eoe)+1}function Noe(e,t){const n=Wn(e,t?.in),r=n.getFullYear(),i=TT(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Bi(t?.in||e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=C0(a,t),l=Bi(t?.in||e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=C0(l,t);return+n>=+s?r+1:+n>=+c?r:r-1}function pAe(e,t){const n=TT(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Noe(e,t),o=Bi(t?.in||e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),C0(o,t)}function Moe(e,t){const n=Wn(e,t?.in),r=+C0(n,t)-+pAe(n,t);return Math.round(r/Eoe)+1}function zn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const up={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return zn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):zn(n+1,2)},d(e,t){return zn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return zn(e.getHours()%12||12,t.length)},H(e,t){return zn(e.getHours(),t.length)},m(e,t){return zn(e.getMinutes(),t.length)},s(e,t){return zn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return zn(i,t.length)}},Qb={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},EV={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return up.y(e,t)},Y:function(e,t,n,r){const i=Noe(e,r),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return zn(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):zn(o,t.length)},R:function(e,t){const n=Soe(e);return zn(n,t.length)},u:function(e,t){const n=e.getFullYear();return zn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return zn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return zn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return up.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return zn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Moe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):zn(i,t.length)},I:function(e,t,n){const r=Ooe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):zn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):up.d(e,t)},D:function(e,t,n){const r=hAe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):zn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return zn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return zn(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return zn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Qb.noon:r===0?i=Qb.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Qb.evening:r>=12?i=Qb.afternoon:r>=4?i=Qb.morning:i=Qb.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return up.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):up.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):zn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):zn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):up.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):up.s(e,t)},S:function(e,t){return up.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return CV(r);case"XXXX":case"XX":return Wg(r);case"XXXXX":case"XXX":default:return Wg(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return CV(r);case"xxxx":case"xx":return Wg(r);case"xxxxx":case"xxx":default:return Wg(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+SV(r,":");case"OOOO":default:return"GMT"+Wg(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+SV(r,":");case"zzzz":default:return"GMT"+Wg(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return zn(r,t.length)},T:function(e,t,n){return zn(+e,t.length)}};function SV(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+zn(o,2)}function CV(e,t){return e%60===0?(e>0?"-":"+")+zn(Math.abs(e)/60,2):Wg(e,t)}function Wg(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=zn(Math.trunc(r/60),2),o=zn(r%60,2);return n+i+t+o}const TV=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Doe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},mAe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return TV(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",TV(r,t)).replace("{{time}}",Doe(i,t))},gAe={p:Doe,P:mAe},yAe=/^D+$/,bAe=/^Y+$/,vAe=["D","DD","YY","YYYY"];function xAe(e){return yAe.test(e)}function wAe(e){return bAe.test(e)}function EAe(e,t,n){const r=SAe(e,t,n);if(console.warn(r),vAe.includes(e))throw new RangeError(r)}function SAe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kAe=/^'([^]*?)'?$/,_Ae=/''/g,AAe=/[a-zA-Z]/;function Wf(e,t,n){const r=TT(),i=n?.locale??r.locale??BH,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Wn(e,n?.in);if(!C_e(s))throw new RangeError("Invalid time value");let l=t.match(TAe).map(d=>{const u=d[0];if(u==="p"||u==="P"){const p=gAe[u];return p(d,i.formatLong)}return d}).join("").match(CAe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const u=d[0];if(u==="'")return{isToken:!1,value:OAe(d)};if(EV[u])return{isToken:!0,value:d};if(u.match(AAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(d=>{if(!d.isToken)return d.value;const u=d.value;(!n?.useAdditionalWeekYearTokens&&wAe(u)||!n?.useAdditionalDayOfYearTokens&&xAe(u))&&EAe(u,t,String(e));const p=EV[u[0]];return p(s,u,i.localize,c)}).join("")}function OAe(e){const t=e.match(kAe);return t?t[1].replace(_Ae,"'"):e}function jI(e,t){const n=Wn(e,t?.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=t?.format??"extended",i=t?.representation??"complete";let o="",a="";const s=r==="extended"?"-":"",l=r==="extended"?":":"";if(i!=="time"){const c=zn(n.getDate(),2),d=zn(n.getMonth()+1,2);o=`${zn(n.getFullYear(),4)}${s}${d}${s}${c}`}if(i!=="date"){const c=n.getTimezoneOffset();if(c!==0){const x=Math.abs(c),w=zn(Math.trunc(x/60),2),T=zn(x%60,2);a=`${c<0?"+":"-"}${w}:${T}`}else a="Z";const d=zn(n.getHours(),2),u=zn(n.getMinutes(),2),p=zn(n.getSeconds(),2),m=o===""?"":"T",v=[d,u,p].join(l);o=`${o}${m}${v}${a}`}return o}function NAe(e,t){const n=Wn(e,t?.in),r=n.getFullYear(),i=n.getMonth(),o=Bi(n,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function MAe(e,t){return Wn(e,t?.in).getMonth()}function DAe(e,t){return Wn(e,t?.in).getFullYear()}function RAe(e,t){return+Wn(e)>+Wn(t)}function IAe(e,t){return+Wn(e)<+Wn(t)}function PAe(e,t,n){const[r,i]=Q1(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function LAe(e,t,n){const[r,i]=Q1(n?.in,e,t);return r.getFullYear()===i.getFullYear()}function kV(e,t,n){return CT(e,-t,n)}function T0(e,t){const n=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return Wn(n?Date.UTC(+n[1],+n[2]-1,+n[3],+n[4]-(+n[9]||0)*(n[8]=="-"?-1:1),+n[5]-(+n[10]||0)*(n[8]=="-"?-1:1),+n[6],+((n[7]||"0")+"00").substring(0,3)):NaN,t?.in)}function jAe(e,t,n){const r=Wn(e,n?.in),i=r.getFullYear(),o=r.getDate(),a=Bi(e,0);a.setFullYear(i,t,15),a.setHours(0,0,0,0);const s=NAe(a);return r.setMonth(t,Math.min(o,s)),r}function BAe(e,t,n){const r=Wn(e,n?.in);return isNaN(+r)?Bi(e,NaN):(r.setFullYear(t),r)}function AE(e,t,n){return m_e(e,-t)}function _V(e,t,n){return b_e(e,-t,n)}function $Ae(e){return{...e,lastRunStartedAt:T0(e.lastRunStartedAt),lastRunEndedAt:e.lastRunEndedAt?T0(e.lastRunEndedAt):null}}function HAe(e){return{...e,eventDt:T0(e.eventDt)}}function FAe(e){return{...e,startTime:T0(e.startTime),endTime:e.endTime?T0(e.endTime):null}}function UAe(e){return e.map(t=>({...t,startTime:T0(t.startTime),endTime:t.endTime?T0(t.endTime):null,events:t.events.map(HAe),steps:t.steps.map(FAe)}))}const J0={getByTenant:async(e,t,n,r,i)=>(await(await Lo("/api/flows/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start:t.toISOString(),end:n.toISOString(),tenant:e,labels:r,notebook_id:i})})).json()).map($Ae),getFlowHistory:async(e,t,n,r,i,o)=>{const a=await Lo("/api/flows/history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flow_name:t,start:n.toISOString(),end:r.toISOString(),labels:i,tenant:e,notebook_id:o})});if(!a.ok)throw new Error(`Failed to fetch flow details: ${a.statusText}`);const s=await a.json();return UAe(s.history)},list:async()=>await(await Lo("/api/flows/")).json()},kT={list:async()=>await(await Lo("/api/metrics/search",{method:"GET",headers:{"Content-Type":"application/json"}})).json(),getHistory:async(e,t,n,r,i,o,a,s,l,c)=>{const u=await(await Lo("/api/metrics/range",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metric_name:t,transform:n,transform_metadata:r,group_by:s,group_fn:l,start_time:i.toISOString(),end_time:o.toISOString(),labels:[...a,{label:"tenant",value:e}],notebook_id:c})})).json();return{prettyName:u.prettyName,unit:u.unit,transform:u.transform,series:u.series.map(p=>({labels:p.labels,values:p.values.map(m=>({timestamp:new Date(m.timestamp),value:m.value}))}))}},getScalar:async(e,t,n,r,i,o,a,s,l,c,d,u,p)=>{const m={metric_name:t,transform:i,transform_metadata:o,group_by:a,group_fn:s,time_aggregation:l,start_time:n.toISOString(),end_time:r.toISOString(),labels:[...u,{label:"tenant",value:e}],notebook_id:p};return l==="match"&&(m.match_operator=c,m.match_value=d),await(await Lo("/api/metrics/instant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json()}},eS={getOne:async e=>{const t=await Lo(`/api/notebooks/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});return t.ok?await t.json():null},getAll:async e=>{const t=new URLSearchParams;return t.set("tenant",e),(await(await Lo(`/api/notebooks/list?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json()).map(r=>({...r,timeWindow:r.timeWindow?.type==="absolute"?{type:"absolute",metadata:{start:new Date(r.timeWindow.metadata.start),end:new Date(r.timeWindow.metadata.end)}}:r.timeWindow||{type:"relative",metadata:{value:"24h"}},filters:r.filters||[]}))},create:async(e,t)=>(await Lo("/api/notebooks/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenant:e,notebook:t})})).json(),update:async e=>{const t=await Lo(`/api/notebooks/${e.id}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update notebook: ${t.statusText}`);return await t.json()},delete:async e=>(await Lo(`/api/notebooks/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json()};function z6(e){if(e.type==="absolute")return{start:e.metadata.start,end:e.metadata.end};const t=new Date,{value:n}=e.metadata;switch(n){case"15m":return{start:_V(t,15),end:t};case"30m":return{start:_V(t,30),end:t};case"1h":return{start:AE(t,1),end:t};case"6h":return{start:AE(t,6),end:t};case"12h":return{start:AE(t,12),end:t};case"24h":return{start:AE(t,24),end:t};case"7d":return{start:kV(t,7),end:t};case"30d":return{start:kV(t,30),end:t};case"today":return{start:Xv(t),end:A_e(t)};case"w":return{start:C0(t,{weekStartsOn:0}),end:jH(t,{weekStartsOn:0})};default:return{start:AE(t,24),end:t}}}let BI=null,Jb=null;const yt=wT()(rD((e,t)=>({notebooks:{},currentNotebook:null,notebookCreating:!1,flows:[],flowsLoading:!1,metrics:[],metricsLoading:!1,comments:[],commentsLoading:!1,commentsDrawerOpen:!1,loading:!0,error:null,settingsOpenBlockId:null,startDate:null,endDate:null,pendingComment:null,openBlockSettings:n=>{e({settingsOpenBlockId:n})},closeBlockSettings:()=>{e({settingsOpenBlockId:null})},openCommentsDrawer:()=>{e({commentsDrawerOpen:!0})},closeCommentsDrawer:()=>{e({commentsDrawerOpen:!1})},toggleCommentsDrawer:()=>{e({commentsDrawerOpen:!t().commentsDrawerOpen})},fetchFlows:async(n,r,i,o,a)=>{e({flowsLoading:!0});try{const s=await J0.getByTenant(n,r,i,o,a);e({flows:s,flowsLoading:!1})}catch{e({flows:[],flowsLoading:!1})}},fetchMetrics:async()=>{e({metricsLoading:!0});try{const n=await kT.list();e({metrics:n,metricsLoading:!1})}catch(n){console.error("Failed to fetch metrics:",n),e({metrics:[],metricsLoading:!1})}},fetchComments:async(n,r,i)=>{e({commentsLoading:!0});try{const o=await U_.list({notebook_id:n,start:r,end:i});e({comments:o,commentsLoading:!1})}catch(o){console.error("Failed to fetch comments:",o),e({comments:[],commentsLoading:!1})}},setCurrentNotebook:(n,r,i)=>{const o=i||(t().notebooks[n]||[]).find(s=>s.id===r)||null;if(!o)return null;Jb&&clearInterval(Jb);const a=()=>{const s=t().currentNotebook;if(!s?.timeWindow){e({startDate:null,endDate:null});return}const{start:l,end:c}=z6(s.timeWindow);e({startDate:l,endDate:c})};return e({currentNotebook:o}),a(),o?.timeWindow?.type==="relative"&&(Jb=setInterval(a,15e3)),o},fetchNotebooks:async n=>{e({loading:!0,error:null});try{const r=await eS.getAll(n),{notebooks:i}=t();e({notebooks:{...i,[n]:r},loading:!1})}catch(r){console.error("Failed to fetch notebooks:",r),e({error:r instanceof Error?r.message:"Failed to fetch notebooks",loading:!1})}},updateNotebook:(n,r,i)=>{const{notebooks:o}=t(),a={...r,...i},s=(o[n]||[]).map(l=>l.id===a.id?a:l);if(i.timeWindow){const{start:l,end:c}=z6(i.timeWindow);e({startDate:l,endDate:c})}e({notebooks:{...o,[n]:s},currentNotebook:a}),BI&&clearTimeout(BI),BI=setTimeout(async()=>{await eS.update(a)},200)},createNotebook:(n,r)=>{const{notebooks:i}=t(),o=i[n]||[];return e({notebookCreating:!0,notebooks:{...i,[n]:[...o,r]}}),eS.create(n,r).then(()=>{e({notebookCreating:!1})}),r},deleteNotebook:async(n,r)=>{eS.delete(r);const{notebooks:i}=t(),o=i[n]||[];e({notebooks:{...i,[n]:o.filter(a=>a.id!==r)}})},stopTimeWindowRefresh:()=>{Jb&&(clearInterval(Jb),Jb=null)},deleteComment:async n=>{const{comments:r}=t();e({comments:r.filter(i=>i.id!==n)}),await U_.delete(n)},createComment:async n=>{const{comments:r}=t();e({pendingComment:n});const i=await U_.create(n);e({comments:[...r,i],pendingComment:null})},updateComment:async n=>{const{comments:r}=t(),i=r.find(a=>a.id===n.id);if(!i)return;const o={...i,...n};e({comments:r.map(a=>a.id===n.id?{...a,...n}:a)}),await U_.update(o)}}),{name:"notebooks"}));var AV=1,zAe=.9,VAe=.8,qAe=.17,$I=.1,HI=.999,WAe=.9999,YAe=.99,GAe=/[\\\/_+.#"@\[\(\{&]/,KAe=/[\\\/_+.#"@\[\(\{&]/g,XAe=/[\s-]/,Roe=/[\s-]/g;function V6(e,t,n,r,i,o,a){if(o===t.length)return i===e.length?AV:YAe;var s=`${i},${o}`;if(a[s]!==void 0)return a[s];for(var l=r.charAt(o),c=n.indexOf(l,i),d=0,u,p,m,v;c>=0;)u=V6(e,t,n,r,c+1,o+1,a),u>d&&(c===i?u*=AV:GAe.test(e.charAt(c-1))?(u*=VAe,m=e.slice(i,c-1).match(KAe),m&&i>0&&(u*=Math.pow(HI,m.length))):XAe.test(e.charAt(c-1))?(u*=zAe,v=e.slice(i,c-1).match(Roe),v&&i>0&&(u*=Math.pow(HI,v.length))):(u*=qAe,i>0&&(u*=Math.pow(HI,c-i))),e.charAt(c)!==t.charAt(o)&&(u*=WAe)),(u<$I&&n.charAt(c-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(c-1)!==r.charAt(o))&&(p=V6(e,t,n,r,c+1,o+2,a),p*$I>u&&(u=p*$I)),u>d&&(d=u),c=n.indexOf(l,c+1);return a[s]=d,d}function OV(e){return e.toLowerCase().replace(Roe," ")}function ZAe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,V6(e,t,OV(e),OV(t),0,0,{})}var OE='[cmdk-group=""]',FI='[cmdk-group-items=""]',QAe='[cmdk-group-heading=""]',Ioe='[cmdk-item=""]',NV=`${Ioe}:not([aria-disabled="true"])`,q6="cmdk-item-select",dv="data-value",JAe=(e,t,n)=>ZAe(e,t,n),Poe=C.createContext(void 0),_T=()=>C.useContext(Poe),Loe=C.createContext(void 0),$H=()=>C.useContext(Loe),joe=C.createContext(void 0),Boe=C.forwardRef((e,t)=>{let n=fv(()=>{var te,U;return{search:"",value:(U=(te=e.value)!=null?te:e.defaultValue)!=null?U:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=fv(()=>new Set),i=fv(()=>new Map),o=fv(()=>new Map),a=fv(()=>new Set),s=$oe(e),{label:l,children:c,value:d,onValueChange:u,filter:p,shouldFilter:m,loop:v,disablePointerSelection:x=!1,vimBindings:w=!0,...T}=e,k=Gi(),O=Gi(),I=Gi(),N=C.useRef(null),A=uOe();k0(()=>{if(d!==void 0){let te=d.trim();n.current.value=te,R.emit()}},[d]),k0(()=>{A(6,W)},[]);let R=C.useMemo(()=>({subscribe:te=>(a.current.add(te),()=>a.current.delete(te)),snapshot:()=>n.current,setState:(te,U,fe)=>{var me,ke,Ee,ve;if(!Object.is(n.current[te],U)){if(n.current[te]=U,te==="search")z(),$(),A(1,q);else if(te==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let we=document.getElementById(I);we?we.focus():(me=document.getElementById(k))==null||me.focus()}if(A(7,()=>{var we;n.current.selectedItemId=(we=G())==null?void 0:we.id,R.emit()}),fe||A(5,W),((ke=s.current)==null?void 0:ke.value)!==void 0){let we=U??"";(ve=(Ee=s.current).onValueChange)==null||ve.call(Ee,we);return}}R.emit()}},emit:()=>{a.current.forEach(te=>te())}}),[]),L=C.useMemo(()=>({value:(te,U,fe)=>{var me;U!==((me=o.current.get(te))==null?void 0:me.value)&&(o.current.set(te,{value:U,keywords:fe}),n.current.filtered.items.set(te,B(U,fe)),A(2,()=>{$(),R.emit()}))},item:(te,U)=>(r.current.add(te),U&&(i.current.has(U)?i.current.get(U).add(te):i.current.set(U,new Set([te]))),A(3,()=>{z(),$(),n.current.value||q(),R.emit()}),()=>{o.current.delete(te),r.current.delete(te),n.current.filtered.items.delete(te);let fe=G();A(4,()=>{z(),fe?.getAttribute("id")===te&&q(),R.emit()})}),group:te=>(i.current.has(te)||i.current.set(te,new Set),()=>{o.current.delete(te),i.current.delete(te)}),filter:()=>s.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:k,inputId:I,labelId:O,listInnerRef:N}),[]);function B(te,U){var fe,me;let ke=(me=(fe=s.current)==null?void 0:fe.filter)!=null?me:JAe;return te?ke(te,n.current.search,U):0}function $(){if(!n.current.search||s.current.shouldFilter===!1)return;let te=n.current.filtered.items,U=[];n.current.filtered.groups.forEach(me=>{let ke=i.current.get(me),Ee=0;ke.forEach(ve=>{let we=te.get(ve);Ee=Math.max(we,Ee)}),U.push([me,Ee])});let fe=N.current;Z().sort((me,ke)=>{var Ee,ve;let we=me.getAttribute("id"),je=ke.getAttribute("id");return((Ee=te.get(je))!=null?Ee:0)-((ve=te.get(we))!=null?ve:0)}).forEach(me=>{let ke=me.closest(FI);ke?ke.appendChild(me.parentElement===ke?me:me.closest(`${FI} > *`)):fe.appendChild(me.parentElement===fe?me:me.closest(`${FI} > *`))}),U.sort((me,ke)=>ke[1]-me[1]).forEach(me=>{var ke;let Ee=(ke=N.current)==null?void 0:ke.querySelector(`${OE}[${dv}="${encodeURIComponent(me[0])}"]`);Ee?.parentElement.appendChild(Ee)})}function q(){let te=Z().find(fe=>fe.getAttribute("aria-disabled")!=="true"),U=te?.getAttribute(dv);R.setState("value",U||void 0)}function z(){var te,U,fe,me;if(!n.current.search||s.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ke=0;for(let Ee of r.current){let ve=(U=(te=o.current.get(Ee))==null?void 0:te.value)!=null?U:"",we=(me=(fe=o.current.get(Ee))==null?void 0:fe.keywords)!=null?me:[],je=B(ve,we);n.current.filtered.items.set(Ee,je),je>0&&ke++}for(let[Ee,ve]of i.current)for(let we of ve)if(n.current.filtered.items.get(we)>0){n.current.filtered.groups.add(Ee);break}n.current.filtered.count=ke}function W(){var te,U,fe;let me=G();me&&(((te=me.parentElement)==null?void 0:te.firstChild)===me&&((fe=(U=me.closest(OE))==null?void 0:U.querySelector(QAe))==null||fe.scrollIntoView({block:"nearest"})),me.scrollIntoView({block:"nearest"}))}function G(){var te;return(te=N.current)==null?void 0:te.querySelector(`${Ioe}[aria-selected="true"]`)}function Z(){var te;return Array.from(((te=N.current)==null?void 0:te.querySelectorAll(NV))||[])}function V(te){let U=Z()[te];U&&R.setState("value",U.getAttribute(dv))}function ne(te){var U;let fe=G(),me=Z(),ke=me.findIndex(ve=>ve===fe),Ee=me[ke+te];(U=s.current)!=null&&U.loop&&(Ee=ke+te<0?me[me.length-1]:ke+te===me.length?me[0]:me[ke+te]),Ee&&R.setState("value",Ee.getAttribute(dv))}function X(te){let U=G(),fe=U?.closest(OE),me;for(;fe&&!me;)fe=te>0?lOe(fe,OE):cOe(fe,OE),me=fe?.querySelector(NV);me?R.setState("value",me.getAttribute(dv)):ne(te)}let oe=()=>V(Z().length-1),K=te=>{te.preventDefault(),te.metaKey?oe():te.altKey?X(1):ne(1)},Q=te=>{te.preventDefault(),te.metaKey?V(0):te.altKey?X(-1):ne(-1)};return C.createElement(Dt.div,{ref:t,tabIndex:-1,...T,"cmdk-root":"",onKeyDown:te=>{var U;(U=T.onKeyDown)==null||U.call(T,te);let fe=te.nativeEvent.isComposing||te.keyCode===229;if(!(te.defaultPrevented||fe))switch(te.key){case"n":case"j":{w&&te.ctrlKey&&K(te);break}case"ArrowDown":{K(te);break}case"p":case"k":{w&&te.ctrlKey&&Q(te);break}case"ArrowUp":{Q(te);break}case"Home":{te.preventDefault(),V(0);break}case"End":{te.preventDefault(),oe();break}case"Enter":{te.preventDefault();let me=G();if(me){let ke=new Event(q6);me.dispatchEvent(ke)}}}}},C.createElement("label",{"cmdk-label":"",htmlFor:L.inputId,id:L.labelId,style:fOe},l),lD(e,te=>C.createElement(Loe.Provider,{value:R},C.createElement(Poe.Provider,{value:L},te))))}),eOe=C.forwardRef((e,t)=>{var n,r;let i=Gi(),o=C.useRef(null),a=C.useContext(joe),s=_T(),l=$oe(e),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:a?.forceMount;k0(()=>{if(!c)return s.item(i,a?.id)},[c]);let d=Hoe(i,o,[e.value,e.children,o],e.keywords),u=$H(),p=Qp(A=>A.value&&A.value===d.current),m=Qp(A=>c||s.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);C.useEffect(()=>{let A=o.current;if(!(!A||e.disabled))return A.addEventListener(q6,v),()=>A.removeEventListener(q6,v)},[m,e.onSelect,e.disabled]);function v(){var A,R;x(),(R=(A=l.current).onSelect)==null||R.call(A,d.current)}function x(){u.setState("value",d.current,!0)}if(!m)return null;let{disabled:w,value:T,onSelect:k,forceMount:O,keywords:I,...N}=e;return C.createElement(Dt.div,{ref:is(o,t),...N,id:i,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!p,"data-disabled":!!w,"data-selected":!!p,onPointerMove:w||s.getDisablePointerSelection()?void 0:x,onClick:w?void 0:v},e.children)}),tOe=C.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...o}=e,a=Gi(),s=C.useRef(null),l=C.useRef(null),c=Gi(),d=_T(),u=Qp(m=>i||d.filter()===!1?!0:m.search?m.filtered.groups.has(a):!0);k0(()=>d.group(a),[]),Hoe(a,s,[e.value,e.heading,l]);let p=C.useMemo(()=>({id:a,forceMount:i}),[i]);return C.createElement(Dt.div,{ref:is(s,t),...o,"cmdk-group":"",role:"presentation",hidden:u?void 0:!0},n&&C.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),lD(e,m=>C.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},C.createElement(joe.Provider,{value:p},m))))}),nOe=C.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=C.useRef(null),o=Qp(a=>!a.search);return!n&&!o?null:C.createElement(Dt.div,{ref:is(i,t),...r,"cmdk-separator":"",role:"separator"})}),rOe=C.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,o=$H(),a=Qp(c=>c.search),s=Qp(c=>c.selectedItemId),l=_T();return C.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),C.createElement(Dt.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":s,id:l.inputId,type:"text",value:i?e.value:a,onChange:c=>{i||o.setState("search",c.target.value),n?.(c.target.value)}})}),iOe=C.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,o=C.useRef(null),a=C.useRef(null),s=Qp(c=>c.selectedItemId),l=_T();return C.useEffect(()=>{if(a.current&&o.current){let c=a.current,d=o.current,u,p=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let m=c.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return p.observe(c),()=>{cancelAnimationFrame(u),p.unobserve(c)}}},[]),C.createElement(Dt.div,{ref:is(o,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":r,id:l.listId},lD(e,c=>C.createElement("div",{ref:is(a,l.listInnerRef),"cmdk-list-sizer":""},c)))}),oOe=C.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:a,...s}=e;return C.createElement(gT,{open:n,onOpenChange:r},C.createElement(yT,{container:a},C.createElement(G1,{"cmdk-overlay":"",className:i}),C.createElement(K1,{"aria-label":e.label,"cmdk-dialog":"",className:o},C.createElement(Boe,{ref:t,...s}))))}),aOe=C.forwardRef((e,t)=>Qp(n=>n.filtered.count===0)?C.createElement(Dt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),sOe=C.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...o}=e;return C.createElement(Dt.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},lD(e,a=>C.createElement("div",{"aria-hidden":!0},a)))}),J1=Object.assign(Boe,{List:iOe,Item:eOe,Input:rOe,Group:tOe,Separator:nOe,Dialog:oOe,Empty:aOe,Loading:sOe});function lOe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function cOe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function $oe(e){let t=C.useRef(e);return k0(()=>{t.current=e}),t}var k0=typeof window>"u"?C.useEffect:C.useLayoutEffect;function fv(e){let t=C.useRef();return t.current===void 0&&(t.current=e()),t}function Qp(e){let t=$H(),n=()=>e(t.snapshot());return C.useSyncExternalStore(t.subscribe,n,n)}function Hoe(e,t,n,r=[]){let i=C.useRef(),o=_T();return k0(()=>{var a;let s=(()=>{var c;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());o.value(e,s,l),(a=t.current)==null||a.setAttribute(dv,s),i.current=s}),i}var uOe=()=>{let[e,t]=C.useState(),n=fv(()=>new Map);return k0(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function dOe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function lD({asChild:e,children:t},n){return e&&C.isValidElement(t)?C.cloneElement(dOe(t),{ref:t.ref},n(t.props.children)):n(t)}var fOe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function hOe({...e}){return g.jsx(gT,{"data-slot":"dialog",...e})}function pOe({...e}){return g.jsx(yT,{"data-slot":"dialog-portal",...e})}function mOe({className:e,...t}){return g.jsx(G1,{"data-slot":"dialog-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function gOe({className:e,children:t,showCloseButton:n=!0,...r}){return g.jsxs(pOe,{"data-slot":"dialog-portal",children:[g.jsx(mOe,{}),g.jsxs(K1,{"data-slot":"dialog-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n&&g.jsxs(nD,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[g.jsx(NH,{}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function yOe({className:e,...t}){return g.jsx("div",{"data-slot":"dialog-header",className:Ie("flex flex-col gap-2 text-center sm:text-left",e),...t})}function bOe({className:e,...t}){return g.jsx(bT,{"data-slot":"dialog-title",className:Ie("text-lg leading-none font-semibold",e),...t})}function vOe({className:e,...t}){return g.jsx(vT,{"data-slot":"dialog-description",className:Ie("text-muted-foreground text-sm",e),...t})}function Zv({className:e,...t}){return g.jsx(J1,{"data-slot":"command",className:Ie("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function xOe({title:e="Command Palette",description:t="Search for a command to run...",children:n,className:r,showCloseButton:i=!0,...o}){return g.jsxs(hOe,{...o,children:[g.jsxs(yOe,{className:"sr-only",children:[g.jsx(bOe,{children:e}),g.jsx(vOe,{children:t})]}),g.jsx(gOe,{className:Ie("overflow-hidden p-0",r),showCloseButton:i,children:g.jsx(Zv,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:n})})]})}function Qv({className:e,...t}){return g.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[g.jsx(Hie,{className:"size-4 shrink-0 opacity-50"}),g.jsx(J1.Input,{"data-slot":"command-input",className:Ie("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function Jv({className:e,...t}){return g.jsx(J1.List,{"data-slot":"command-list",className:Ie("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function e1({...e}){return g.jsx(J1.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function t1({className:e,...t}){return g.jsx(J1.Group,{"data-slot":"command-group",className:Ie("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function n1({className:e,...t}){return g.jsx(J1.Item,{"data-slot":"command-item",className:Ie("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function wOe({open:e,onOpenChange:t}){const n=Z0(),r=du(o=>o.tenants);C.useEffect(()=>{const o=a=>{a.key==="k"&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),t(!e))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e,t]);const i=o=>{t(!1),n(`/tenants/${encodeURIComponent(o)}`)};return g.jsxs(xOe,{open:e,onOpenChange:t,children:[g.jsx(Qv,{placeholder:"Search for tenants..."}),g.jsxs(Jv,{children:[g.jsx(e1,{children:"No tenants found."}),r.length>0&&g.jsx(t1,{heading:"Tenants",children:r.map(o=>g.jsxs(n1,{onSelect:()=>i(o),className:"flex items-center gap-3",children:[g.jsx(_ie,{className:"h-4 w-4"}),g.jsx("span",{children:o})]},o))})]})]})}const EOe=[{id:"home",label:"Home",icon:jie,href:"/"},{id:"search",label:"Go To",icon:tke,href:"/search",shortcut:"K"}];function MV({isCollapsed:e}={}){const t=Su().pathname,[n,r]=C.useState(!1),[i,o]=C.useState(!0),[a,s]=C.useState(!1),[l,c]=C.useState(null),d=yt(L=>L.notebooks),u=yt(L=>L.loading),p=yt(L=>L.fetchNotebooks),m=yt(L=>L.createNotebook),v=yt(L=>L.deleteNotebook),x=Z0(),w=PH(L=>L.logout),T=t.startsWith("/tenants/")?decodeURIComponent(t.split("/")[2]):null;C.useEffect(()=>{T&&p(T)},[T,p]);const k=T?d[T]||[]:[],O=T?[{id:"data",label:"Data Library",icon:Pie,href:`/tenants/${encodeURIComponent(T)}`}]:[],I=()=>{if(!T)return;const L={id:O2e(),title:"Untitled Notebook",description:"",blocks:null,timeWindow:{type:"relative",metadata:{value:"24h"}},filters:[],flowBlocksFilters:null,metricBlocksFilters:null,isPublic:!1},B=m(T,L);x(`/tenants/${encodeURIComponent(T)}/notebooks/${B.id}`)},N=(L,B,$)=>{L.preventDefault(),L.stopPropagation(),c({id:B,title:$}),s(!0)},A=async()=>{if(!(!T||!l))try{await v(T,l.id),s(!1),c(null),x(`/tenants/${encodeURIComponent(T)}`)}catch(L){console.error("Failed to delete notebook:",L),s(!1),c(null)}},R=()=>{w(),x("/login")};return g.jsxs(g.Fragment,{children:[!e&&g.jsxs("aside",{className:"flex h-screen w-64 flex-col border-r transition-all duration-300 hidden md:flex",style:{backgroundColor:"#f9f8f7"},children:[g.jsx("div",{className:"flex h-14 items-center border-b px-3",children:g.jsx("div",{className:Ie("flex transition-all items-center gap-1"),children:g.jsxs("span",{className:"font-bold text-lg",children:[g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d/"}),T||"ashfrog"]})})}),g.jsx("div",{className:"flex-1 overflow-y-auto",children:g.jsxs("nav",{className:"space-y-1 p-2",children:[EOe.map(L=>{const B=L.icon,$=t===L.href;return L.id==="search"?g.jsxs("button",{type:"button",onClick:()=>r(!0),className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all hover:bg-accent w-full text-left",e&&"justify-center px-2"),style:{color:"#5f5e5b"},children:[g.jsx(B,{className:"h-4 w-4 shrink-0"}),!e&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"flex-1",children:L.label}),L.shortcut&&g.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:L.shortcut})]})]},L.id):g.jsxs(wd,{to:L.href,className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all hover:bg-accent",$&&"bg-accent text-accent-foreground",e&&"justify-center px-2"),style:{color:$?void 0:"#5f5e5b"},children:[g.jsx(B,{className:"h-4 w-4 shrink-0"}),!e&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"flex-1",children:L.label}),L.shortcut&&g.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:L.shortcut})]})]},L.id)}),!e&&T&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"px-3 py-2",children:g.jsx(vc,{})}),g.jsx("div",{className:"space-y-1",children:O.map(L=>{const B=L.icon,$=t===L.href;return g.jsxs(wd,{to:L.href,className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all hover:bg-accent",$&&"bg-accent text-accent-foreground"),style:{color:$?void 0:"#5f5e5b"},children:[g.jsx(B,{className:"h-4 w-4 shrink-0"}),g.jsx("span",{className:"flex-1",children:L.label})]},L.id)})}),g.jsxs(i_e,{open:i,onOpenChange:o,className:"space-y-1",children:[g.jsx("div",{className:"flex items-center gap-1 group",children:g.jsxs(o_e,{className:"flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all hover:bg-accent flex-1",children:[g.jsx(STe,{className:"h-4 w-4 shrink-0"}),g.jsx("span",{className:"flex-1 text-left",children:"Notebooks"}),g.jsx(OH,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:L=>{L.preventDefault(),I()}}),g.jsx(ET,{className:Ie("h-4 w-4 shrink-0 transition-transform",i&&"rotate-180")})]})}),g.jsx(a_e,{className:"space-y-1 pl-4",children:u?[1,2,3].map(L=>g.jsx("div",{className:"h-9 rounded-lg bg-accent/50 animate-pulse"},L)):k.length>0?k.map(L=>{const B=t===`/tenants/${encodeURIComponent(T)}/notebooks/${L.id}`;return g.jsxs("div",{className:"group relative",children:[g.jsx(wd,{to:`/tenants/${encodeURIComponent(T)}/notebooks/${L.id}`,className:Ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all hover:bg-accent pr-10",B&&"bg-accent text-accent-foreground"),style:{color:B?void 0:"#5f5e5b"},children:L.title}),g.jsx(Ai,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:$=>N($,L.id,L.title),title:"Delete notebook",children:g.jsx(Fie,{className:"h-3.5 w-3.5 text-secondary-foreground",strokeWidth:2.5})})]},L.id)}):g.jsx("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:"No notebooks"})})]})]})]})}),g.jsx("div",{className:"border-t p-2",children:g.jsxs(Ai,{variant:"ghost",className:"w-full justify-start gap-3 text-sm font-medium hover:bg-accent",style:{color:"#5f5e5b"},onClick:R,children:[g.jsx(Fke,{className:"h-4 w-4 shrink-0"}),g.jsx("span",{className:"flex-1 text-left",children:"Logout"})]})})]}),g.jsx(wOe,{open:n,onOpenChange:r}),g.jsx(Q2e,{open:a,onOpenChange:s,children:g.jsxs(coe,{children:[g.jsxs(uoe,{children:[g.jsx(foe,{children:"Delete notebook?"}),g.jsxs(hoe,{children:['Are you sure you want to delete "',l?.title,'"? This action cannot be undone.']})]}),g.jsxs(doe,{children:[g.jsx(moe,{children:"Cancel"}),g.jsx(poe,{onClick:A,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function UI({children:e}){const[t,n]=C.useState(!1),r=iD(o=>o.sidebarCollapsed),i=du(o=>o.fetchLabelsAndTenants);return C.useEffect(()=>{const o=setInterval(()=>{i()},5e3);return()=>clearInterval(o)},[i]),g.jsxs(g.Fragment,{children:[g.jsx(uEe,{position:"top-right",richColors:!0,closeButton:!0}),g.jsxs("div",{className:"flex min-h-screen w-screen overflow-hidden",children:[g.jsx(MV,{isCollapsed:r}),g.jsx(SH,{open:t,onOpenChange:n,children:g.jsx(CH,{side:"left",className:"p-0",children:g.jsx(MV,{})})}),g.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[g.jsx("header",{className:"border-b bg-background"}),g.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:e})]})]})]})}const SOe=["top","right","bottom","left"],Jp=Math.min,El=Math.max,mO=Math.round,z_=Math.floor,Ed=e=>({x:e,y:e}),COe={left:"right",right:"left",bottom:"top",top:"bottom"},TOe={start:"end",end:"start"};function W6(e,t,n){return El(e,Jp(t,n))}function Yf(e,t){return typeof e=="function"?e(t):e}function Gf(e){return e.split("-")[0]}function ex(e){return e.split("-")[1]}function HH(e){return e==="x"?"y":"x"}function FH(e){return e==="y"?"height":"width"}const kOe=new Set(["top","bottom"]);function gd(e){return kOe.has(Gf(e))?"y":"x"}function UH(e){return HH(gd(e))}function _Oe(e,t,n){n===void 0&&(n=!1);const r=ex(e),i=UH(e),o=FH(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=gO(a)),[a,gO(a)]}function AOe(e){const t=gO(e);return[Y6(e),t,Y6(t)]}function Y6(e){return e.replace(/start|end/g,t=>TOe[t])}const DV=["left","right"],RV=["right","left"],OOe=["top","bottom"],NOe=["bottom","top"];function MOe(e,t,n){switch(e){case"top":case"bottom":return n?t?RV:DV:t?DV:RV;case"left":case"right":return t?OOe:NOe;default:return[]}}function DOe(e,t,n,r){const i=ex(e);let o=MOe(Gf(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Y6)))),o}function gO(e){return e.replace(/left|right|bottom|top/g,t=>COe[t])}function ROe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Foe(e){return typeof e!="number"?ROe(e):{top:e,right:e,bottom:e,left:e}}function yO(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function IV(e,t,n){let{reference:r,floating:i}=e;const o=gd(t),a=UH(t),s=FH(a),l=Gf(t),c=o==="y",d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,p=r[s]/2-i[s]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:u};break;case"left":m={x:r.x-i.width,y:u};break;default:m={x:r.x,y:r.y}}switch(ex(t)){case"start":m[a]-=p*(n&&c?-1:1);break;case"end":m[a]+=p*(n&&c?-1:1);break}return m}const IOe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=IV(c,r,l),p=r,m={},v=0;for(let x=0;x<s.length;x++){const{name:w,fn:T}=s[x],{x:k,y:O,data:I,reset:N}=await T({x:d,y:u,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:a,elements:{reference:e,floating:t}});d=k??d,u=O??u,m={...m,[w]:{...m[w],...I}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(c=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:d,y:u}=IV(c,p,l)),x=-1)}return{x:d,y:u,placement:p,strategy:i,middlewareData:m}};async function KS(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:m=0}=Yf(t,e),v=Foe(m),w=s[p?u==="floating"?"reference":"floating":u],T=yO(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),k=u==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),I=await(o.isElement==null?void 0:o.isElement(O))?await(o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},N=yO(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:k,offsetParent:O,strategy:l}):k);return{top:(T.top-N.top+v.top)/I.y,bottom:(N.bottom-T.bottom+v.bottom)/I.y,left:(T.left-N.left+v.left)/I.x,right:(N.right-T.right+v.right)/I.x}}const POe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=Yf(e,t)||{};if(c==null)return{};const u=Foe(d),p={x:n,y:r},m=UH(i),v=FH(m),x=await a.getDimensions(c),w=m==="y",T=w?"top":"left",k=w?"bottom":"right",O=w?"clientHeight":"clientWidth",I=o.reference[v]+o.reference[m]-p[m]-o.floating[v],N=p[m]-o.reference[m],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let R=A?A[O]:0;(!R||!await(a.isElement==null?void 0:a.isElement(A)))&&(R=s.floating[O]||o.floating[v]);const L=I/2-N/2,B=R/2-x[v]/2-1,$=Jp(u[T],B),q=Jp(u[k],B),z=$,W=R-x[v]-q,G=R/2-x[v]/2+L,Z=W6(z,G,W),V=!l.arrow&&ex(i)!=null&&G!==Z&&o.reference[v]/2-(G<z?$:q)-x[v]/2<0,ne=V?G<z?G-z:G-W:0;return{[m]:p[m]+ne,data:{[m]:Z,centerOffset:G-Z-ne,...V&&{alignmentOffset:ne}},reset:V}}}),LOe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...w}=Yf(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const T=Gf(i),k=gd(s),O=Gf(s)===s,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=p||(O||!x?[gO(s)]:AOe(s)),A=v!=="none";!p&&A&&N.push(...DOe(s,x,v,I));const R=[s,...N],L=await KS(t,w),B=[];let $=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&B.push(L[T]),u){const G=_Oe(i,a,I);B.push(L[G[0]],L[G[1]])}if($=[...$,{placement:i,overflows:B}],!B.every(G=>G<=0)){var q,z;const G=(((q=o.flip)==null?void 0:q.index)||0)+1,Z=R[G];if(Z&&(!(u==="alignment"?k!==gd(Z):!1)||$.every(X=>gd(X.placement)===k?X.overflows[0]>0:!0)))return{data:{index:G,overflows:$},reset:{placement:Z}};let V=(z=$.filter(ne=>ne.overflows[0]<=0).sort((ne,X)=>ne.overflows[1]-X.overflows[1])[0])==null?void 0:z.placement;if(!V)switch(m){case"bestFit":{var W;const ne=(W=$.filter(X=>{if(A){const oe=gd(X.placement);return oe===k||oe==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(oe=>oe>0).reduce((oe,K)=>oe+K,0)]).sort((X,oe)=>X[1]-oe[1])[0])==null?void 0:W[0];ne&&(V=ne);break}case"initialPlacement":V=s;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function PV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function LV(e){return SOe.some(t=>e[t]>=0)}const jOe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Yf(e,t);switch(r){case"referenceHidden":{const o=await KS(t,{...i,elementContext:"reference"}),a=PV(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:LV(a)}}}case"escaped":{const o=await KS(t,{...i,altBoundary:!0}),a=PV(o,n.floating);return{data:{escapedOffsets:a,escaped:LV(a)}}}default:return{}}}}},Uoe=new Set(["left","top"]);async function BOe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Gf(n),s=ex(n),l=gd(n)==="y",c=Uoe.has(a)?-1:1,d=o&&l?-1:1,u=Yf(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&typeof v=="number"&&(m=s==="end"?v*-1:v),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const $Oe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await BOe(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},HOe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:w=>{let{x:T,y:k}=w;return{x:T,y:k}}},...l}=Yf(e,t),c={x:n,y:r},d=await KS(t,l),u=gd(Gf(i)),p=HH(u);let m=c[p],v=c[u];if(o){const w=p==="y"?"top":"left",T=p==="y"?"bottom":"right",k=m+d[w],O=m-d[T];m=W6(k,m,O)}if(a){const w=u==="y"?"top":"left",T=u==="y"?"bottom":"right",k=v+d[w],O=v-d[T];v=W6(k,v,O)}const x=s.fn({...t,[p]:m,[u]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:o,[u]:a}}}}}},FOe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Yf(e,t),d={x:n,y:r},u=gd(i),p=HH(u);let m=d[p],v=d[u];const x=Yf(s,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const O=p==="y"?"height":"width",I=o.reference[p]-o.floating[O]+w.mainAxis,N=o.reference[p]+o.reference[O]-w.mainAxis;m<I?m=I:m>N&&(m=N)}if(c){var T,k;const O=p==="y"?"width":"height",I=Uoe.has(Gf(i)),N=o.reference[u]-o.floating[O]+(I&&((T=a.offset)==null?void 0:T[u])||0)+(I?0:w.crossAxis),A=o.reference[u]+o.reference[O]+(I?0:((k=a.offset)==null?void 0:k[u])||0)-(I?w.crossAxis:0);v<N?v=N:v>A&&(v=A)}return{[p]:m,[u]:v}}}},UOe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...c}=Yf(e,t),d=await KS(t,c),u=Gf(i),p=ex(i),m=gd(i)==="y",{width:v,height:x}=o.floating;let w,T;u==="top"||u==="bottom"?(w=u,T=p===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(T=u,w=p==="end"?"top":"bottom");const k=x-d.top-d.bottom,O=v-d.left-d.right,I=Jp(x-d[w],k),N=Jp(v-d[T],O),A=!t.middlewareData.shift;let R=I,L=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=O),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=k),A&&!p){const $=El(d.left,0),q=El(d.right,0),z=El(d.top,0),W=El(d.bottom,0);m?L=v-2*($!==0||q!==0?$+q:El(d.left,d.right)):R=x-2*(z!==0||W!==0?z+W:El(d.top,d.bottom))}await l({...t,availableWidth:L,availableHeight:R});const B=await a.getDimensions(s.floating);return v!==B.width||x!==B.height?{reset:{rects:!0}}:{}}}};function cD(){return typeof window<"u"}function tx(e){return zH(e)?(e.nodeName||"").toLowerCase():"#document"}function Al(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pd(e){var t;return(t=(zH(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zH(e){return cD()?e instanceof Node||e instanceof Al(e).Node:!1}function qi(e){return cD()?e instanceof Element||e instanceof Al(e).Element:!1}function yu(e){return cD()?e instanceof HTMLElement||e instanceof Al(e).HTMLElement:!1}function G6(e){return!cD()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Al(e).ShadowRoot}const zOe=new Set(["inline","contents"]);function AT(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=xc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!zOe.has(i)}const VOe=new Set(["table","td","th"]);function qOe(e){return VOe.has(tx(e))}const WOe=[":popover-open",":modal"];function uD(e){return WOe.some(t=>{try{return e.matches(t)}catch{return!1}})}const YOe=["transform","translate","scale","rotate","perspective"],GOe=["transform","translate","scale","rotate","perspective","filter"],KOe=["paint","layout","strict","content"];function VH(e){const t=dD(),n=qi(e)?xc(e):e;return YOe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||GOe.some(r=>(n.willChange||"").includes(r))||KOe.some(r=>(n.contain||"").includes(r))}function XOe(e){let t=Kf(e);for(;yu(t)&&!jf(t);){if(VH(t))return t;if(uD(t))return null;t=Kf(t)}return null}function dD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ZOe=new Set(["html","body","#document"]);function jf(e){return ZOe.has(tx(e))}function xc(e){return Al(e).getComputedStyle(e)}function fD(e){return qi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Kf(e){if(tx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||G6(e)&&e.host||Pd(e);return G6(t)?t.host:t}function zoe(e){const t=Kf(e);return jf(t)?e.ownerDocument?e.ownerDocument.body:e.body:yu(t)&&AT(t)?t:zoe(t)}function Up(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=zoe(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Al(i);if(o){const s=K6(a);return t.concat(a,a.visualViewport||[],AT(i)?i:[],s&&n?Up(s):[])}return t.concat(i,Up(i,[],n))}function K6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Voe(e){const t=xc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=yu(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=mO(n)!==o||mO(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function qH(e){return qi(e)?e:e.contextElement}function Iv(e){const t=qH(e);if(!yu(t))return Ed(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Voe(t);let a=(o?mO(n.width):n.width)/r,s=(o?mO(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const QOe=Ed(0);function qoe(e){const t=Al(e);return!dD()||!t.visualViewport?QOe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JOe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Al(e)?!1:t}function _0(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=qH(e);let a=Ed(1);t&&(r?qi(r)&&(a=Iv(r)):a=Iv(e));const s=JOe(o,n,r)?qoe(o):Ed(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,d=i.width/a.x,u=i.height/a.y;if(o){const p=Al(o),m=r&&qi(r)?Al(r):r;let v=p,x=K6(v);for(;x&&r&&m!==v;){const w=Iv(x),T=x.getBoundingClientRect(),k=xc(x),O=T.left+(x.clientLeft+parseFloat(k.paddingLeft))*w.x,I=T.top+(x.clientTop+parseFloat(k.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,u*=w.y,l+=O,c+=I,v=Al(x),x=K6(v)}}return yO({width:d,height:u,x:l,y:c})}function hD(e,t){const n=fD(e).scrollLeft;return t?t.left+n:_0(Pd(e)).left+n}function Woe(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-hD(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function eNe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=Pd(r),s=t?uD(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Ed(1);const d=Ed(0),u=yu(r);if((u||!u&&!o)&&((tx(r)!=="body"||AT(a))&&(l=fD(r)),yu(r))){const m=_0(r);c=Iv(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=a&&!u&&!o?Woe(a,l):Ed(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function tNe(e){return Array.from(e.getClientRects())}function nNe(e){const t=Pd(e),n=fD(e),r=e.ownerDocument.body,i=El(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=El(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+hD(e);const s=-n.scrollTop;return xc(r).direction==="rtl"&&(a+=El(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const jV=25;function rNe(e,t){const n=Al(e),r=Pd(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const d=dD();(!d||d&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=hD(r);if(c<=0){const d=r.ownerDocument,u=d.body,p=getComputedStyle(u),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-u.clientWidth-m);v<=jV&&(o-=v)}else c<=jV&&(o+=c);return{width:o,height:a,x:s,y:l}}const iNe=new Set(["absolute","fixed"]);function oNe(e,t){const n=_0(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=yu(e)?Iv(e):Ed(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function BV(e,t,n){let r;if(t==="viewport")r=rNe(e,n);else if(t==="document")r=nNe(Pd(e));else if(qi(t))r=oNe(t,n);else{const i=qoe(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return yO(r)}function Yoe(e,t){const n=Kf(e);return n===t||!qi(n)||jf(n)?!1:xc(n).position==="fixed"||Yoe(n,t)}function aNe(e,t){const n=t.get(e);if(n)return n;let r=Up(e,[],!1).filter(s=>qi(s)&&tx(s)!=="body"),i=null;const o=xc(e).position==="fixed";let a=o?Kf(e):e;for(;qi(a)&&!jf(a);){const s=xc(a),l=VH(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&iNe.has(i.position)||AT(a)&&!l&&Yoe(e,a))?r=r.filter(d=>d!==a):i=s,a=Kf(a)}return t.set(e,r),r}function sNe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?uD(t)?[]:aNe(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,d)=>{const u=BV(t,d,i);return c.top=El(u.top,c.top),c.right=Jp(u.right,c.right),c.bottom=Jp(u.bottom,c.bottom),c.left=El(u.left,c.left),c},BV(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lNe(e){const{width:t,height:n}=Voe(e);return{width:t,height:n}}function cNe(e,t,n){const r=yu(t),i=Pd(t),o=n==="fixed",a=_0(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Ed(0);function c(){l.x=hD(i)}if(r||!r&&!o)if((tx(t)!=="body"||AT(i))&&(s=fD(t)),r){const m=_0(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&c();o&&!r&&i&&c();const d=i&&!r&&!o?Woe(i,s):Ed(0),u=a.left+s.scrollLeft-l.x-d.x,p=a.top+s.scrollTop-l.y-d.y;return{x:u,y:p,width:a.width,height:a.height}}function zI(e){return xc(e).position==="static"}function $V(e,t){if(!yu(e)||xc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Pd(e)===n&&(n=n.ownerDocument.body),n}function Goe(e,t){const n=Al(e);if(uD(e))return n;if(!yu(e)){let i=Kf(e);for(;i&&!jf(i);){if(qi(i)&&!zI(i))return i;i=Kf(i)}return n}let r=$V(e,t);for(;r&&qOe(r)&&zI(r);)r=$V(r,t);return r&&jf(r)&&zI(r)&&!VH(r)?n:r||XOe(e)||n}const uNe=async function(e){const t=this.getOffsetParent||Goe,n=this.getDimensions,r=await n(e.floating);return{reference:cNe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dNe(e){return xc(e).direction==="rtl"}const fNe={convertOffsetParentRelativeRectToViewportRelativeRect:eNe,getDocumentElement:Pd,getClippingRect:sNe,getOffsetParent:Goe,getElementRects:uNe,getClientRects:tNe,getDimensions:lNe,getScale:Iv,isElement:qi,isRTL:dNe};function Koe(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hNe(e,t){let n=null,r;const i=Pd(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:d,top:u,width:p,height:m}=c;if(s||t(),!p||!m)return;const v=z_(u),x=z_(i.clientWidth-(d+p)),w=z_(i.clientHeight-(u+m)),T=z_(d),O={rootMargin:-v+"px "+-x+"px "+-w+"px "+-T+"px",threshold:El(0,Jp(1,l))||1};let I=!0;function N(A){const R=A[0].intersectionRatio;if(R!==l){if(!I)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!Koe(c,e.getBoundingClientRect())&&a(),I=!1}try{n=new IntersectionObserver(N,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,O)}n.observe(e)}return a(!0),o}function Xoe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=qH(e),d=i||o?[...c?Up(c):[],...Up(t)]:[];d.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),o&&T.addEventListener("resize",n)});const u=c&&s?hNe(c,n):null;let p=-1,m=null;a&&(m=new ResizeObserver(T=>{let[k]=T;k&&k.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var O;(O=m)==null||O.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let v,x=l?_0(e):null;l&&w();function w(){const T=_0(e);x&&!Koe(x,T)&&n(),x=T,v=requestAnimationFrame(w)}return n(),()=>{var T;d.forEach(k=>{i&&k.removeEventListener("scroll",n),o&&k.removeEventListener("resize",n)}),u?.(),(T=m)==null||T.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const pNe=$Oe,mNe=HOe,gNe=LOe,yNe=UOe,bNe=jOe,HV=POe,vNe=FOe,xNe=(e,t,n)=>{const r=new Map,i={platform:fNe,...n},o={...i.platform,_c:r};return IOe(e,t,{...i,platform:o})};var wNe=typeof document<"u",ENe=function(){},zA=wNe?C.useLayoutEffect:ENe;function bO(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!bO(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!bO(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Zoe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function FV(e,t){const n=Zoe(e);return Math.round(t*n)/n}function VI(e){const t=C.useRef(e);return zA(()=>{t.current=e}),t}function Qoe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[d,u]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=C.useState(r);bO(p,r)||m(r);const[v,x]=C.useState(null),[w,T]=C.useState(null),k=C.useCallback(X=>{X!==A.current&&(A.current=X,x(X))},[]),O=C.useCallback(X=>{X!==R.current&&(R.current=X,T(X))},[]),I=o||v,N=a||w,A=C.useRef(null),R=C.useRef(null),L=C.useRef(d),B=l!=null,$=VI(l),q=VI(i),z=VI(c),W=C.useCallback(()=>{if(!A.current||!R.current)return;const X={placement:t,strategy:n,middleware:p};q.current&&(X.platform=q.current),xNe(A.current,R.current,X).then(oe=>{const K={...oe,isPositioned:z.current!==!1};G.current&&!bO(L.current,K)&&(L.current=K,ka.flushSync(()=>{u(K)}))})},[p,t,n,q,z]);zA(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,u(X=>({...X,isPositioned:!1})))},[c]);const G=C.useRef(!1);zA(()=>(G.current=!0,()=>{G.current=!1}),[]),zA(()=>{if(I&&(A.current=I),N&&(R.current=N),I&&N){if($.current)return $.current(I,N,W);W()}},[I,N,W,$,B]);const Z=C.useMemo(()=>({reference:A,floating:R,setReference:k,setFloating:O}),[k,O]),V=C.useMemo(()=>({reference:I,floating:N}),[I,N]),ne=C.useMemo(()=>{const X={position:n,left:0,top:0};if(!V.floating)return X;const oe=FV(V.floating,d.x),K=FV(V.floating,d.y);return s?{...X,transform:"translate("+oe+"px, "+K+"px)",...Zoe(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:K}},[n,s,V.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:W,refs:Z,elements:V,floatingStyles:ne}),[d,W,Z,V,ne])}const SNe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?HV({element:r.current,padding:i}).fn(n):{}:r?HV({element:r,padding:i}).fn(n):{}}}},sh=(e,t)=>({...pNe(e),options:[e,t]}),OT=(e,t)=>({...mNe(e),options:[e,t]}),CNe=(e,t)=>({...vNe(e),options:[e,t]}),um=(e,t)=>({...gNe(e),options:[e,t]}),pD=(e,t)=>({...yNe(e),options:[e,t]}),TNe=(e,t)=>({...bNe(e),options:[e,t]}),kNe=(e,t)=>({...SNe(e),options:[e,t]});var _Ne="Arrow",Joe=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return g.jsx(Dt.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});Joe.displayName=_Ne;var ANe=Joe;function ONe(e){const[t,n]=C.useState(void 0);return Xi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var WH="Popper",[eae,dm]=Vs(WH),[NNe,tae]=eae(WH),nae=e=>{const{__scopePopper:t,children:n}=e,[r,i]=C.useState(null);return g.jsx(NNe,{scope:t,anchor:r,onAnchorChange:i,children:n})};nae.displayName=WH;var rae="PopperAnchor",iae=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=tae(rae,n),a=C.useRef(null),s=An(t,a),l=C.useRef(null);return C.useEffect(()=>{const c=l.current;l.current=r?.current||a.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:g.jsx(Dt.div,{...i,ref:s})});iae.displayName=rae;var YH="PopperContent",[MNe,DNe]=eae(YH),oae=C.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...x}=e,w=tae(YH,n),[T,k]=C.useState(null),O=An(t,Ee=>k(Ee)),[I,N]=C.useState(null),A=ONe(I),R=A?.width??0,L=A?.height??0,B=r+(o!=="center"?"-"+o:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},q=Array.isArray(c)?c:[c],z=q.length>0,W={padding:$,boundary:q.filter(INe),altBoundary:z},{refs:G,floatingStyles:Z,placement:V,isPositioned:ne,middlewareData:X}=Qoe({strategy:"fixed",placement:B,whileElementsMounted:(...Ee)=>Xoe(...Ee,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[sh({mainAxis:i+L,alignmentAxis:a}),l&&OT({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?CNe():void 0,...W}),l&&um({...W}),pD({...W,apply:({elements:Ee,rects:ve,availableWidth:we,availableHeight:je})=>{const{width:Ke,height:De}=ve.reference,It=Ee.floating.style;It.setProperty("--radix-popper-available-width",`${we}px`),It.setProperty("--radix-popper-available-height",`${je}px`),It.setProperty("--radix-popper-anchor-width",`${Ke}px`),It.setProperty("--radix-popper-anchor-height",`${De}px`)}}),I&&kNe({element:I,padding:s}),PNe({arrowWidth:R,arrowHeight:L}),p&&TNe({strategy:"referenceHidden",...W})]}),[oe,K]=lae(V),Q=Co(v);Xi(()=>{ne&&Q?.()},[ne,Q]);const te=X.arrow?.x,U=X.arrow?.y,fe=X.arrow?.centerOffset!==0,[me,ke]=C.useState();return Xi(()=>{T&&ke(window.getComputedStyle(T).zIndex)},[T]),g.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:ne?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:g.jsx(MNe,{scope:n,placedSide:oe,onArrowChange:N,arrowX:te,arrowY:U,shouldHideArrow:fe,children:g.jsx(Dt.div,{"data-side":oe,"data-align":K,...x,ref:O,style:{...x.style,animation:ne?void 0:"none"}})})})});oae.displayName=YH;var aae="PopperArrow",RNe={top:"bottom",right:"left",bottom:"top",left:"right"},sae=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=DNe(aae,r),a=RNe[o.placedSide];return g.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:g.jsx(ANe,{...i,ref:n,style:{...i.style,display:"block"}})})});sae.displayName=aae;function INe(e){return e!==null}var PNe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,s=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[c,d]=lae(n),u={start:"0%",center:"50%",end:"100%"}[d],p=(i.arrow?.x??0)+s/2,m=(i.arrow?.y??0)+l/2;let v="",x="";return c==="bottom"?(v=a?u:`${p}px`,x=`${-l}px`):c==="top"?(v=a?u:`${p}px`,x=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,x=a?u:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,x=a?u:`${m}px`),{data:{x:v,y:x}}}});function lae(e){const[t,n="center"]=e.split("-");return[t,n]}var NT=nae,MT=iae,mD=oae,gD=sae,LNe=Symbol("radix.slottable");function jNe(e){const t=({children:n})=>g.jsx(g.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=LNe,t}var cae=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BNe="VisuallyHidden",uae=C.forwardRef((e,t)=>g.jsx(Dt.span,{...e,ref:t,style:{...cae,...e.style}}));uae.displayName=BNe;var $Ne=uae,[yD]=Vs("Tooltip",[dm]),bD=dm(),dae="TooltipProvider",HNe=700,X6="tooltip.open",[FNe,GH]=yD(dae),fae=e=>{const{__scopeTooltip:t,delayDuration:n=HNe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,a=C.useRef(!0),s=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),g.jsx(FNe,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:C.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:o})};fae.displayName=dae;var XS="Tooltip",[UNe,DT]=yD(XS),hae=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=e,l=GH(XS,e.__scopeTooltip),c=bD(t),[d,u]=C.useState(null),p=Gi(),m=C.useRef(0),v=a??l.disableHoverableContent,x=s??l.delayDuration,w=C.useRef(!1),[T,k]=gu({prop:r,defaultProp:i??!1,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(X6))):l.onClose(),o?.(R)},caller:XS}),O=C.useMemo(()=>T?w.current?"delayed-open":"instant-open":"closed",[T]),I=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,k(!0)},[k]),N=C.useCallback(()=>{window.clearTimeout(m.current),m.current=0,k(!1)},[k]),A=C.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,k(!0),m.current=0},x)},[x,k]);return C.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),g.jsx(NT,{...c,children:g.jsx(UNe,{scope:t,contentId:p,open:T,stateAttribute:O,trigger:d,onTriggerChange:u,onTriggerEnter:C.useCallback(()=>{l.isOpenDelayedRef.current?A():I()},[l.isOpenDelayedRef,A,I]),onTriggerLeave:C.useCallback(()=>{v?N():(window.clearTimeout(m.current),m.current=0)},[N,v]),onOpen:I,onClose:N,disableHoverableContent:v,children:n})})};hae.displayName=XS;var Z6="TooltipTrigger",pae=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=DT(Z6,n),o=GH(Z6,n),a=bD(n),s=C.useRef(null),l=An(t,s,i.onTriggerChange),c=C.useRef(!1),d=C.useRef(!1),u=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),g.jsx(MT,{asChild:!0,...a,children:g.jsx(Dt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:dt(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:dt(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:dt(e.onBlur,i.onClose),onClick:dt(e.onClick,i.onClose)})})});pae.displayName=Z6;var KH="TooltipPortal",[zNe,VNe]=yD(KH,{forceMount:void 0}),mae=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=DT(KH,t);return g.jsx(zNe,{scope:t,forceMount:n,children:g.jsx(Fo,{present:n||o.open,children:g.jsx(Y1,{asChild:!0,container:i,children:r})})})};mae.displayName=KH;var r1="TooltipContent",gae=C.forwardRef((e,t)=>{const n=VNe(r1,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,a=DT(r1,e.__scopeTooltip);return g.jsx(Fo,{present:r||a.open,children:a.disableHoverableContent?g.jsx(yae,{side:i,...o,ref:t}):g.jsx(qNe,{side:i,...o,ref:t})})}),qNe=C.forwardRef((e,t)=>{const n=DT(r1,e.__scopeTooltip),r=GH(r1,e.__scopeTooltip),i=C.useRef(null),o=An(t,i),[a,s]=C.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:u}=r,p=C.useCallback(()=>{s(null),u(!1)},[u]),m=C.useCallback((v,x)=>{const w=v.currentTarget,T={x:v.clientX,y:v.clientY},k=KNe(T,w.getBoundingClientRect()),O=XNe(T,k),I=ZNe(x.getBoundingClientRect()),N=JNe([...O,...I]);s(N),u(!0)},[u]);return C.useEffect(()=>()=>p(),[p]),C.useEffect(()=>{if(l&&d){const v=w=>m(w,d),x=w=>m(w,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",x)}}},[l,d,m,p]),C.useEffect(()=>{if(a){const v=x=>{const w=x.target,T={x:x.clientX,y:x.clientY},k=l?.contains(w)||d?.contains(w),O=!QNe(T,a);k?p():O&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,a,c,p]),g.jsx(yae,{...e,ref:o})}),[WNe,YNe]=yD(XS,{isInside:!1}),GNe=jNe("TooltipContent"),yae=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=e,l=DT(r1,n),c=bD(n),{onClose:d}=l;return C.useEffect(()=>(document.addEventListener(X6,d),()=>document.removeEventListener(X6,d)),[d]),C.useEffect(()=>{if(l.trigger){const u=p=>{p.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),g.jsx(W1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:g.jsxs(mD,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(GNe,{children:r}),g.jsx(WNe,{scope:n,isInside:!0,children:g.jsx($Ne,{id:l.contentId,role:"tooltip",children:i||r})})]})})});gae.displayName=r1;var bae="TooltipArrow",vae=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=bD(n);return YNe(bae,n).isInside?null:g.jsx(gD,{...i,...r,ref:t})});vae.displayName=bae;function KNe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function XNe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function ZNe(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function QNe(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const s=t[o],l=t[a],c=s.x,d=s.y,u=l.x,p=l.y;d>r!=p>r&&n<(u-c)*(r-d)/(p-d)+c&&(i=!i)}return i}function JNe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),eMe(t)}function eMe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var xae=fae,wae=hae,Eae=pae,tMe=mae,XH=gae,nMe=vae;const Ls=xae,ei=wae,ti=Eae,$r=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>g.jsx(tMe,{children:g.jsx(XH,{ref:r,sideOffset:t,className:Ie("z-2000 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));$r.displayName=XH.displayName;function ZH({icon:e,title:t,description:n,action:r,onClick:i,className:o}){return g.jsxs("div",{className:Ie("flex flex-col items-center justify-center py-12 px-4",o),onClick:i,children:[g.jsx("div",{className:"rounded-full bg-muted p-4 mb-4",children:g.jsx(e,{className:"h-8 w-8 text-muted-foreground"})}),g.jsxs("div",{className:"text-center space-y-2 max-w-md",children:[g.jsx("h3",{className:"font-semibold text-lg",children:t}),g.jsx("p",{className:"text-sm text-muted-foreground",children:n}),r&&g.jsx("div",{className:"pt-4",children:r})]})]})}function u0({className:e,...t}){return g.jsx("div",{className:Ie("animate-pulse rounded-md bg-primary/10",e),...t})}const ey=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{className:"relative w-full overflow-auto max-w-full mb-0",children:g.jsx("table",{ref:n,className:Ie("w-max min-w-full caption-bottom text-sm",e),...t})}));ey.displayName="Table";const ty=C.forwardRef(({className:e,...t},n)=>g.jsx("thead",{ref:n,className:Ie("[&_tr]:border-b",e),...t}));ty.displayName="TableHeader";const ny=C.forwardRef(({className:e,...t},n)=>g.jsx("tbody",{ref:n,className:Ie("[&_tr:last-child]:border-0",e),...t}));ny.displayName="TableBody";const rMe=C.forwardRef(({className:e,...t},n)=>g.jsx("tfoot",{ref:n,className:Ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));rMe.displayName="TableFooter";const Ea=C.forwardRef(({className:e,...t},n)=>g.jsx("tr",{ref:n,className:Ie("transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),style:{borderBottom:"1px solid #2a1c0012"},...t}));Ea.displayName="TableRow";const oo=C.forwardRef(({className:e,...t},n)=>g.jsx("th",{ref:n,className:Ie("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));oo.displayName="TableHead";const _i=C.forwardRef(({className:e,...t},n)=>g.jsx("td",{ref:n,className:Ie("py-2 px-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] whitespace-nowrap border-r",e),...t}));_i.displayName="TableCell";const iMe=C.forwardRef(({className:e,...t},n)=>g.jsx("caption",{ref:n,className:Ie("mt-4 text-sm text-muted-foreground",e),...t}));iMe.displayName="TableCaption";function nx({columns:e,rows:t=5}){return g.jsxs(ey,{children:[g.jsx(ty,{children:g.jsx(Ea,{children:Array.from({length:e}).map((n,r)=>g.jsx(oo,{children:g.jsx(u0,{className:"h-4 w-24"})},r))})}),g.jsx(ny,{children:Array.from({length:t}).map((n,r)=>g.jsx(Ea,{children:Array.from({length:e}).map((i,o)=>g.jsx(_i,{children:g.jsx(u0,{className:"h-4 w-full"})},o))},r))})]})}function oMe(){const e=du(a=>a.tenants),t=du(a=>a.loading),n=Z0(),r=du(a=>a.fetchLabelsAndTenants),i=iD(a=>a.toggleSidebar);C.useEffect(()=>{r()},[r]);const o=a=>{n(`/tenants/${encodeURIComponent(a)}`)};return g.jsxs("div",{className:"flex-1 space-y-6 px-8 py-4",children:[g.jsxs("nav",{className:"flex items-center text-muted-foreground gap-1",children:[g.jsxs(Ai,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:i,children:[g.jsx(AH,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Toggle sidebar"})]}),g.jsx(vc,{orientation:"vertical",className:"h-4 mr-2 text-secondary-foreground"}),g.jsx(wd,{to:"/",className:"hover:text-foreground transition-colors font-lg",children:g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d"})}),"/"]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[g.jsx(jie,{className:"h-8 w-8 text-muted-foreground"}),"Tenants"]}),g.jsx("p",{className:"text-sm text-secondary-foreground",children:"Select a tenant namespace to view their data"})]}),g.jsx("div",{children:t&&!e?g.jsx(nx,{columns:1,rows:5}):e.length===0?g.jsx(ZH,{icon:_ie,title:"No tenants yet",description:"Tenants will appear automatically once you start pushing events to Dashfrog."}):g.jsxs(ey,{children:[g.jsx(ty,{children:g.jsx(Ea,{children:g.jsx(oo,{children:"Tenant"})})}),g.jsx(ny,{children:e.map(a=>g.jsx(Ea,{onClick:()=>o(a),className:"cursor-pointer",children:g.jsxs(_i,{className:"font-medium",children:["d/",a]})},a))})]})})]})}const d0=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("rounded-xl border bg-card text-card-foreground shadow",e),...t}));d0.displayName="Card";const zp=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("flex flex-col space-y-1.5 p-6",e),...t}));zp.displayName="CardHeader";const vO=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("font-semibold leading-none tracking-tight",e),...t}));vO.displayName="CardTitle";const i1=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));i1.displayName="CardDescription";const xO=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("p-6 pt-0",e),...t}));xO.displayName="CardContent";const Pv=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("flex items-center p-6 pt-0",e),...t}));Pv.displayName="CardFooter";const aMe=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:Ie("pt-1.5",e),...t}));aMe.displayName="CardAction";const fu=C.forwardRef(({className:e,type:t,...n},r)=>g.jsx("input",{type:t,className:Ie("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));fu.displayName="Input";var sMe="Label",Sae=C.forwardRef((e,t)=>g.jsx(Dt.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Sae.displayName=sMe;var QH=Sae;const lMe=Q0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xf=C.forwardRef(({className:e,...t},n)=>g.jsx(QH,{ref:n,className:Ie(lMe(),e),...t}));Xf.displayName=QH.displayName;const cMe={login:async(e,t)=>{const n=new URLSearchParams;n.append("username",e),n.append("password",t);const r=await fetch("/api/auth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});if(!r.ok)throw r.status===401?new Error("Invalid username or password"):new Error(`Authentication failed: ${r.statusText}`);return await r.json()}};function uMe(){const[e,t]=C.useState(""),[n,r]=C.useState(""),[i,o]=C.useState(""),[a,s]=C.useState(!1),l=Z0(),c=PH(u=>u.login),d=async u=>{u.preventDefault(),o(""),s(!0);try{if(!e||!n){o("Please enter both username and password");return}const p=await cMe.login(e,n);c(e,p.access_token),l("/")}catch(p){p instanceof Error?o(p.message):o("An error occurred during login")}finally{s(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:g.jsxs(d0,{className:"w-full max-w-md",children:[g.jsxs(zp,{className:"space-y-1",children:[g.jsx(vO,{className:"text-2xl font-bold",children:"Login"}),g.jsx(i1,{children:"Enter your credentials to access Dashfrog"})]}),g.jsx(xO,{children:g.jsxs("form",{onSubmit:d,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Xf,{htmlFor:"username",children:"Username"}),g.jsx(fu,{id:"username",type:"text",placeholder:"Enter your username",value:e,onChange:u=>t(u.target.value),disabled:a,autoComplete:"username"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Xf,{htmlFor:"password",children:"Password"}),g.jsx(fu,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:u=>r(u.target.value),disabled:a,autoComplete:"current-password"})]}),i&&g.jsx("div",{className:"text-sm text-red-500 font-medium",children:i}),g.jsx(Ai,{type:"submit",className:"w-full",disabled:a,children:a?"Logging in...":"Login"})]})})]})})}const dMe="modulepreload",fMe=function(e){return"/"+e},UV={},wO=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var a=c;document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=c(n.map(d=>{if(d=fMe(d),d in UV)return;UV[d]=!0;const u=d.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":dMe,u||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((v,x)=>{m.addEventListener("load",v),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};function Zo(e){this.content=e}Zo.prototype={constructor:Zo,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new Zo(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Zo(n)},addToStart:function(e,t){return new Zo([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Zo(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new Zo(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Zo.from(e),e.size?new Zo(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Zo.from(e),e.size?new Zo(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Zo.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Zo.from=function(e){if(e instanceof Zo)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Zo(t)};function Cae(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){let a=Cae(i.content,o.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function Tae(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let a=e.child(--i),s=t.child(--o),l=a.nodeSize;if(a==s){n-=l,r-=l;continue}if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let c=0,d=Math.min(a.text.length,s.text.length);for(;c<d&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let c=Tae(a.content,s.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class He{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let a=0,s=0;s<n;a++){let l=this.content[a],c=s+l.nodeSize;if(c>t&&r(l,i+s,o||null,a)!==!1&&l.content.size){let d=s+1;l.nodesBetween(Math.max(0,t-d),Math.min(l.content.size,n-d),r,i+d)}s=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",a=!0;return this.nodesBetween(t,n,(s,l)=>{let c=s.isText?s.text.slice(Math.max(t,l)-l,n-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&c||s.isTextblock)&&r&&(a?a=!1:o+=r),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new He(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,a=0;a<n;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>n)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,n-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,n-a-1))),r.push(s),i+=s.nodeSize),a=l}return new He(r,i)}cutByIndex(t,n){return t==n?He.empty:t==0&&n==this.content.length?this:new He(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new He(i,o)}addToStart(t){return new He([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new He(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return Cae(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return Tae(this,t,n,r)}findIndex(t){if(t==0)return V_(0,t);if(t==this.size)return V_(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t?V_(n+1,o):V_(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return He.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new He(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return He.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new He(n||t,r)}static from(t){if(!t)return He.empty;if(t instanceof He)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new He([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}He.empty=new He([],0);const qI={index:0,offset:0};function V_(e,t){return qI.index=e,qI.offset=t,qI}function EO(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!EO(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!EO(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Fr=class Q6{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&EO(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Q6.none;if(t instanceof Q6)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Fr.none=[];class SO extends Error{}class at{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=_ae(this.content,t+this.openStart,n);return r&&new at(r,this.openStart,this.openEnd)}removeBetween(t,n){return new at(kae(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return at.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new at(He.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new at(t,r,i)}}at.empty=new at(He.empty,0,0);function kae(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(i==t||o.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(kae(o.content,t-i-1,n-i-1)))}function _ae(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),a=e.maybeChild(i);if(o==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=_ae(a.content,t-o-1,n,a);return s&&e.replaceChild(i,a.copy(s))}function hMe(e,t,n){if(n.openStart>e.depth)throw new SO("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new SO("Inconsistent open depths");return Aae(e,t,n,0)}function Aae(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=Aae(e,t,n,r+1);return o.copy(o.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,s=a.content;return h0(a,s.cut(0,e.parentOffset).append(n.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=pMe(n,e);return h0(o,Nae(e,a,s,t,r))}else return h0(o,CO(e,t,r))}function Oae(e,t){if(!t.type.compatibleContent(e.type))throw new SO("Cannot join "+t.type.name+" onto "+e.type.name)}function J6(e,t,n){let r=e.node(n);return Oae(r,t.node(n)),r}function f0(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function pS(e,t,n,r){let i=(t||e).node(n),o=0,a=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(f0(e.nodeAfter,r),o++));for(let s=o;s<a;s++)f0(i.child(s),r);t&&t.depth==n&&t.textOffset&&f0(t.nodeBefore,r)}function h0(e,t){return e.type.checkContent(t),e.copy(t)}function Nae(e,t,n,r,i){let o=e.depth>i&&J6(e,t,i+1),a=r.depth>i&&J6(n,r,i+1),s=[];return pS(null,e,i,s),o&&a&&t.index(i)==n.index(i)?(Oae(o,a),f0(h0(o,Nae(e,t,n,r,i+1)),s)):(o&&f0(h0(o,CO(e,t,i+1)),s),pS(t,n,i,s),a&&f0(h0(a,CO(n,r,i+1)),s)),pS(r,null,i,s),new He(s)}function CO(e,t,n){let r=[];if(pS(null,e,n,r),e.depth>n){let i=J6(e,t,n+1);f0(h0(i,CO(e,t,n+1)),r)}return pS(t,null,n,r),new He(r)}function pMe(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(He.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class ZS{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Fr.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let s=r;r=i,i=s}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new TO(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),c=o-l;if(r.push(a,s,i+l),!c||(a=a.child(s),a.isText))break;o=c-1,i+=l+1}return new ZS(n,r,o)}static resolveCached(t,n){let r=zV.get(t);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==n)return a}else zV.set(t,r=new mMe);let i=r.elts[r.i]=ZS.resolve(t,n);return r.i=(r.i+1)%gMe,i}}class mMe{constructor(){this.elts=[],this.i=0}}const gMe=12,zV=new WeakMap;class TO{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const yMe=Object.create(null);let Bf=class eB{constructor(t,n,r,i=Fr.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||He.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&EO(this.attrs,n||t.defaultAttrs||yMe)&&Fr.sameSet(this.marks,r||Fr.none)}copy(t=null){return t==this.content?this:new eB(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new eB(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return at.empty;let i=this.resolve(t),o=this.resolve(n),a=r?0:i.sharedDepth(n),s=i.start(a),c=i.node(a).content.cut(i.pos-s,o.pos-s);return new at(c,i.depth-a,o.depth-a)}replace(t,n,r){return hMe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return ZS.resolveCached(this,t)}resolveNoCache(t){return ZS.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Mae(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=He.empty,i=0,o=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,o),s=a&&a.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Fr.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Fr.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=He.fromJSON(t,n.content),o=t.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Bf.prototype.text=void 0;class kO extends Bf{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Mae(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new kO(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new kO(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Mae(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class A0{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new bMe(t,n);if(r.next==null)return A0.empty;let i=Dae(r);r.next&&r.err("Unexpected trailing text");let o=TMe(CMe(i));return kMe(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(a,s){let l=a.matchFragment(t,r);if(l&&(!n||l.validEnd))return He.from(s.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:d,next:u}=a.next[c];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(u)==-1){i.push(u);let p=o(u,s.concat(d));if(p)return p}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||l.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return o}).join(`
`)}}A0.empty=new A0(!0);class bMe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Dae(e){let t=[];do t.push(vMe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function vMe(e){let t=[];do t.push(xMe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function xMe(e){let t=SMe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=wMe(e,t);else break;return t}function VV(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function wMe(e,t){let n=VV(e),r=n;return e.eat(",")&&(e.next!="}"?r=VV(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function EMe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let a=n[o];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function SMe(e){if(e.eat("(")){let t=Dae(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=EMe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function CMe(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(a,s,l){let c={term:l,to:s};return t[a].push(c),c}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(o(c,s)),[]);if(a.type=="seq")for(let l=0;;l++){let c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;i(c,s=n())}else if(a.type=="star"){let l=n();return r(s,l),i(o(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return i(o(a.expr,s),l),i(o(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let c=0;c<a.min;c++){let d=n();i(o(a.expr,l),d),l=d}if(a.max==-1)i(o(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let d=n();r(l,d),i(o(a.expr,l),d),l=d}return[r(l)]}else{if(a.type=="name")return[r(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Rae(e,t){return t-e}function qV(e,t){let n=[];return r(t),n.sort(Rae);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&n.indexOf(l)==-1&&r(l)}}}function TMe(e){let t=Object.create(null);return n(qV(e,0));function n(r){let i=[];r.forEach(a=>{e[a].forEach(({term:s,to:l})=>{if(!s)return;let c;for(let d=0;d<i.length;d++)i[d][0]==s&&(c=i[d][1]);qV(e,l).forEach(d=>{c||i.push([s,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let o=t[r.join(",")]=new A0(r.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(Rae);o.next.push({type:i[a][0],next:t[s.join(",")]||n(s)})}return o}}function kMe(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:c}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Iae(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Pae(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Lae(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function jae(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new AMe(e,r,t[r]);return n}let WV=class Bae{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=jae(t,r.attrs),this.defaultAttrs=Iae(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==A0.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Pae(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Bf(this,this.computeAttrs(t),He.from(n),Fr.setFrom(r))}createChecked(t=null,n,r){return n=He.from(n),this.checkContent(n),new Bf(this,this.computeAttrs(t),n,Fr.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=He.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(He.empty,!0);return o?new Bf(this,t,n.append(o),Fr.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){Lae(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Fr.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,a)=>r[o]=new Bae(o,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function _Me(e,t,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}class AMe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?_Me(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class vD{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=jae(t,i.attrs),this.excluded=null;let o=Iae(this.attrs);this.instance=o?new Fr(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Fr(this,Pae(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,a)=>r[o]=new vD(o,i++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){Lae(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}let $ae=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Zo.from(t.nodes),n.marks=Zo.from(t.marks||{}),this.nodes=WV.compile(this.spec.nodes,this),this.marks=vD.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=A0.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?YV(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:YV(this,a.split(" "))}this.nodeFromJSON=i=>Bf.fromJSON(this,i),this.markFromJSON=i=>Fr.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof WV){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new kO(r,r.defaultAttrs,t,Fr.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}};function YV(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],a=o;if(o)n.push(o);else for(let s in e.marks){let l=e.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function OMe(e){return e.tag!=null}function NMe(e){return e.style!=null}let hu=class tB{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(OMe(i))this.tags.push(i);else if(NMe(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,n={}){let r=new KV(this,n,!1);return r.addAll(t,Fr.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new KV(this,n,!0);return r.addAll(t,Fr.none,n.from,n.to),at.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(RMe(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let s=n[a];if((s.priority==null?50:s.priority)<o)break}n.splice(a,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(a=>{r(a=XV(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(a=>{r(a=XV(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new tB(t,tB.schemaRules(t)))}};const Hae={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},MMe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Fae={ol:!0,ul:!0},QS=1,nB=2,mS=4;function GV(e,t,n){return t!=null?(t?QS:0)|(t==="full"?nB:0):e&&e.whitespace=="pre"?QS|nB:n&~mS}class q_{constructor(t,n,r,i,o,a){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Fr.none,this.match=o||(a&mS?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(He.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&QS)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=He.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(He.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Hae.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class KV{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,a=GV(null,n.preserveWhitespace,0)|(r?mS:0);i?o=new q_(i.type,i.attrs,Fr.none,!0,n.topMatch||i.type.contentMatch,a):r?o=new q_(null,null,Fr.none,!0,null,a):o=new q_(t.schema.topNodeType,null,Fr.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,o=i.options&nB?"full":this.localPreserveWS||(i.options&QS)>0,{schema:a}=this.parser;if(o==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let s=r.split(/\r?\n|\r/);for(let l=0;l<s.length;l++)l&&this.insertNode(a.linebreakReplacement.create(),n,!0),s[l]&&this.insertNode(a.text(s[l]),n,!/\S/.test(s[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],l=t.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),s;Fae.hasOwnProperty(a)&&this.parser.normalizeLists&&DMe(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,r));e:if(l?l.ignore:MMe.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,d=this.needsBlock;if(Hae.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let u=l&&l.skip?n:this.readStyles(t,n);u&&this.addAll(t,u),c&&this.sync(o),this.needsBlock=d}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=r.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return n}addElementByRule(t,n,r,i){let o,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(a,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}o&&this.sync(s)&&this.open--}addAll(t,n,r,i){let o=r||0;for(let a=r?t.childNodes[r]:t.firstChild,s=i==null?null:t.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a,n);this.findAtPoint(t,o)}findPlace(t,n,r){let i,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(t);if(c&&(!i||i.length>c.length+s)&&(i=c,o=l,!c.length))break;if(l.solid){if(r)break;s+=2}}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let a=Fr.none;for(let s of i.concat(t.marks))(o.type?o.type.allowsMarkType(s.type):ZV(s.type,t.type))&&(a=s.addToSet(a));return o.content.push(t.mark(a)),!0}return!1}enter(t,n,r,i){let o=this.findPlace(t.create(n),r,!1);return o&&(o=this.enterInner(t,n,r,!0,i)),o}enterInner(t,n,r,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let s=GV(t,o,a.options);a.options&mS&&a.content.length==0&&(s|=mS);let l=Fr.none;return r=r.filter(c=>(a.type?a.type.allowsMarkType(c.type):ZV(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new q_(t,n,l,i,null,s)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=QS)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let c=n[s];if(c==""){if(s==n.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let d=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function DMe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&Fae.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function RMe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function XV(e){let t={};for(let n in e)t[n]=e[n];return t}function ZV(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:c,next:d}=s.edge(l);if(c==t||o.indexOf(d)<0&&a(d))return!0}};if(a(i.contentMatch))return!0}}class Ml{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=WI(n).createDocumentFragment());let i=r,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[s][0])||c.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],d=this.serializeMark(c,a.isInline,n);d&&(o.push([c,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=VA(WI(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&VA(WI(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return VA(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Ml(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=QV(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return QV(t.marks)}}function QV(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function WI(e){return e.document||window.document}const JV=new WeakMap;function IMe(e){let t=JV.get(e);return t===void 0&&JV.set(e,t=PMe(e)),t}function PMe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function VA(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=IMe(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let s,l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let u in c)if(c[u]!=null){let p=u.indexOf(" ");p>0?l.setAttributeNS(u.slice(0,p),u.slice(p+1),c[u]):u=="style"&&l.style?l.style.cssText=c[u]:l.setAttribute(u,c[u])}}for(let u=d;u<t.length;u++){let p=t[u];if(p===0){if(u<t.length-1||u>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:m,contentDOM:v}=VA(e,p,n,r);if(l.appendChild(m),v){if(s)throw new RangeError("Multiple content holes");s=v}}}return{dom:l,contentDOM:s}}const Uae=65535,zae=Math.pow(2,16);function LMe(e,t){return e+t*zae}function eq(e){return e&Uae}function jMe(e){return(e-(e&Uae))/zae}const Vae=1,qae=2,qA=4,Wae=8;class rB{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Wae)>0}get deletedBefore(){return(this.delInfo&(Vae|qA))>0}get deletedAfter(){return(this.delInfo&(qae|qA))>0}get deletedAcross(){return(this.delInfo&qA)>0}}class Sl{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Sl.empty)return Sl.empty}recover(t){let n=0,r=eq(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+jMe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[s+o],d=this.ranges[s+a],u=l+c;if(t<=u){let p=c?t==l?-1:t==u?1:n:n,m=l+i+(p<0?0:d);if(r)return m;let v=t==(n<0?l:u)?null:LMe(s/3,t-l),x=t==l?qae:t==u?Vae:qA;return(n<0?t!=l:t!=u)&&(x|=Wae),new rB(m,x,v)}i+=d-c}return r?t+i:new rB(t+i,0,null)}touches(t,n){let r=0,i=eq(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[s+o],d=l+c;if(t<=d&&s==i*3)return!0;r+=this.ranges[s+a]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[i+n],d=this.ranges[i+r];t(s,s+c,l,l+d),o+=d-c}}invert(){return new Sl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Sl.empty:new Sl(t<0?[0,-t,0]:[0,0,t])}}Sl.empty=new Sl([]);class o1{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new o1(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new o1;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(t,n);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,t=s.pos}return r?t:new rB(t,i,null)}}const YI=Object.create(null);let Aa=class{getMap(){return Sl.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=YI[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in YI)throw new RangeError("Duplicate use of step JSON ID "+t);return YI[t]=n,n.prototype.jsonID=t,n}};class so{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new so(t,null)}static fail(t){return new so(null,t)}static fromReplace(t,n,r,i){try{return so.ok(t.replace(n,r,i))}catch(o){if(o instanceof SO)return so.fail(o.message);throw o}}}function JH(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(JH(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return He.fromArray(r)}class Pp extends Aa{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new at(JH(n.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return so.fromReplace(t,this.from,this.to,o)}invert(){return new su(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Pp(n.pos,r.pos,this.mark)}merge(t){return t instanceof Pp&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Pp(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Pp(n.from,n.to,t.markFromJSON(n.mark))}}Aa.jsonID("addMark",Pp);class su extends Aa{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new at(JH(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return so.fromReplace(t,this.from,this.to,r)}invert(){return new Pp(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new su(n.pos,r.pos,this.mark)}merge(t){return t instanceof su&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new su(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new su(n.from,n.to,t.markFromJSON(n.mark))}}Aa.jsonID("removeMark",su);class Lp extends Aa{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return so.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return so.fromReplace(t,this.pos,this.pos+1,new at(He.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Lp(this.pos,n.marks[i]);return new Lp(this.pos,this.mark)}}return new O0(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Lp(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Lp(n.pos,t.markFromJSON(n.mark))}}Aa.jsonID("addNodeMark",Lp);class O0 extends Aa{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return so.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return so.fromReplace(t,this.pos,this.pos+1,new at(He.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Lp(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new O0(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new O0(n.pos,t.markFromJSON(n.mark))}}Aa.jsonID("removeNodeMark",O0);class ao extends Aa{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&iB(t,this.from,this.to)?so.fail("Structure replace would overwrite content"):so.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Sl([this.from,this.to-this.from,this.slice.size])}invert(t){return new ao(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ao(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof ao)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?at.empty:new at(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ao(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?at.empty:new at(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ao(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ao(n.from,n.to,at.fromJSON(t,n.slice),!!n.structure)}}Aa.jsonID("replace",ao);class Ki extends Aa{constructor(t,n,r,i,o,a,s=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(iB(t,this.from,this.gapFrom)||iB(t,this.gapTo,this.to)))return so.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return so.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?so.fromReplace(t,this.from,this.to,r):so.fail("Content does not fit in gap")}getMap(){return new Sl([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Ki(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ki(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ki(n.from,n.to,n.gapFrom,n.gapTo,at.fromJSON(t,n.slice),n.insert,!!n.structure)}}Aa.jsonID("replaceAround",Ki);function iB(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function BMe(e,t,n,r){let i=[],o=[],a,s;e.doc.nodesBetween(t,n,(l,c,d)=>{if(!l.isInline)return;let u=l.marks;if(!r.isInSet(u)&&d.type.allowsMarkType(r.type)){let p=Math.max(c,t),m=Math.min(c+l.nodeSize,n),v=r.addToSet(u);for(let x=0;x<u.length;x++)u[x].isInSet(v)||(a&&a.to==p&&a.mark.eq(u[x])?a.to=m:i.push(a=new su(p,m,u[x])));s&&s.to==p?s.to=m:o.push(s=new Pp(p,m,r))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function $Me(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(r instanceof vD){let c=a.marks,d;for(;d=r.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let c=Math.min(s+a.nodeSize,n);for(let d=0;d<l.length;d++){let u=l[d],p;for(let m=0;m<i.length;m++){let v=i[m];v.step==o-1&&u.eq(i[m].style)&&(p=v)}p?(p.to=c,p.step=o):i.push({style:u,from:Math.max(s,t),to:c,step:o})}}}),i.forEach(a=>e.step(new su(a.from,a.to,a.style)))}function e9(e,t,n,r=n.contentMatch,i=!0){let o=e.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),d=s+c.nodeSize,u=r.matchType(c.type);if(!u)a.push(new ao(s,d,at.empty));else{r=u;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||e.step(new su(s,d,c.marks[p]));if(i&&c.isText&&n.whitespace!="pre"){let p,m=/\r?\n|\r/g,v;for(;p=m.exec(c.text);)v||(v=new at(He.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),a.push(new ao(s+p.index,s+p.index+p[0].length,v))}}s=d}if(!r.validEnd){let l=r.fillBefore(He.empty,!0);e.replace(s,s,new at(l,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function HMe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function rx(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,i=0,o=0;;--r){let a=e.$from.node(r),s=e.$from.index(r)+i,l=e.$to.indexAfter(r)-o;if(r<e.depth&&a.canReplace(s,l,n))return r;if(r==0||a.type.spec.isolating||!HMe(a,s,l))break;s&&(i=1),l<a.childCount&&(o=1)}return null}function FMe(e,t,n){let{$from:r,$to:i,depth:o}=t,a=r.before(o+1),s=i.after(o+1),l=a,c=s,d=He.empty,u=0;for(let v=o,x=!1;v>n;v--)x||r.index(v)>0?(x=!0,d=He.from(r.node(v).copy(d)),u++):l--;let p=He.empty,m=0;for(let v=o,x=!1;v>n;v--)x||i.after(v+1)<i.end(v)?(x=!0,p=He.from(i.node(v).copy(p)),m++):c++;e.step(new Ki(l,c,a,s,new at(d.append(p),u,m),d.size-u,!0))}function Yae(e,t,n=null,r=e){let i=UMe(e,t),o=i&&zMe(r,t);return o?i.map(tq).concat({type:t,attrs:n}).concat(o.map(tq)):null}function tq(e){return{type:e,attrs:null}}function UMe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return n.canReplaceWith(r,i,a)?o:null}function zMe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:a}function VMe(e,t,n){let r=He.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let s=n[a].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=He.from(n[a].type.create(n[a].attrs,r))}let i=t.start,o=t.end;e.step(new Ki(i,o,i,o,new at(r,0,0),n.length,!0))}function qMe(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,l)&&WMe(e.doc,e.mapping.slice(o).map(s),r)){let c=null;if(r.schema.linebreakReplacement){let m=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);m&&!v?c=!1:!m&&v&&(c=!0)}c===!1&&Kae(e,a,s,o),e9(e,e.mapping.slice(o).map(s,1),r,void 0,c===null);let d=e.mapping.slice(o),u=d.map(s,1),p=d.map(s+a.nodeSize,1);return e.step(new Ki(u,p,u+1,p-1,new at(He.from(r.create(l,null,a.marks)),0,0),1,!0)),c===!0&&Gae(e,a,s,o),!1}})}function Gae(e,t,n,r){t.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=e.mapping.slice(r).map(n+1+o+a.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function Kae(e,t,n,r){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+o);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function WMe(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function YMe(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Ki(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new at(He.from(a),0,0),1,!0))}function $f(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,d=n-2;c>o;c--,d--){let u=i.node(c),p=i.index(c);if(u.type.spec.isolating)return!1;let m=u.content.cutByIndex(p,u.childCount),v=r&&r[d+1];v&&(m=m.replaceChild(0,v.type.create(v.attrs)));let x=r&&r[d]||u;if(!u.canReplace(p+1,u.childCount)||!x.type.validContent(m))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function GMe(e,t,n=1,r){let i=e.doc.resolve(t),o=He.empty,a=He.empty;for(let s=i.depth,l=i.depth-n,c=n-1;s>l;s--,c--){o=He.from(i.node(s).copy(o));let d=r&&r[c];a=He.from(d?d.type.create(d.attrs,a):i.node(s).copy(a))}e.step(new ao(t,t,new at(o.append(a),n,n),!0))}function ry(e,t){let n=e.resolve(t),r=n.index();return Xae(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function KMe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),a=o.type==r?e.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(o.marks))return!1}return n.validEnd}function Xae(e,t){return!!(e&&t&&!e.isLeaf&&KMe(e,t))}function xD(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let o,a,s=r.index(i);if(i==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(i+1),s++,a=r.node(i).maybeChild(s)):(o=r.node(i).maybeChild(s-1),a=r.node(i+1)),o&&!o.isTextblock&&Xae(o,a)&&r.node(i).canReplace(s,s+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function XMe(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-n),a=o.node().type;if(i&&a.inlineContent){let d=a.whitespace=="pre",u=!!a.contentMatch.matchType(i);d&&!u?r=!1:!d&&u&&(r=!0)}let s=e.steps.length;if(r===!1){let d=e.doc.resolve(t+n);Kae(e,d.node(),d.before(),s)}a.inlineContent&&e9(e,t+n-1,a,o.node().contentMatchAt(o.index()),r==null);let l=e.mapping.slice(s),c=l.map(t-n);if(e.step(new ao(c,l.map(t+n,-1),at.empty,!0)),r===!0){let d=e.doc.resolve(c);Gae(e,d.node(),d.before(),e.steps.length)}return e}function ZMe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function t9(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let a=r.depth;a>=0;a--){let s=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(s>0?1:0),c=r.node(a),d=!1;if(o==1)d=c.canReplace(l,l,i);else{let u=c.contentMatchAt(l).findWrapping(i.firstChild.type);d=u&&c.canReplaceWith(l,l,u[0])}if(d)return s==0?r.pos:s<0?r.before(a+1):r.after(a+1)}return null}function wD(e,t,n=t,r=at.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return Zae(i,o,r)?new ao(t,n,r):new QMe(i,o,r).fit()}function Zae(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class QMe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=He.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=He.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,a=r.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new at(o,a,s);return t>-1?new Ki(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ao(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=GI(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],d,u=null;if(n==1&&(a?c.matchType(a.type)||(u=c.fillBefore(He.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:s,parent:o,inject:u};if(n==2&&a&&(d=c.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:s,parent:o,wrap:d};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=GI(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new at(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=GI(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new at(tS(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new at(tS(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let x=0;x<o.length;x++)this.openFrontierNode(o[x]);let a=this.unplaced,s=r?r.content:a.content,l=a.openStart-t,c=0,d=[],{match:u,type:p}=this.frontier[n];if(i){for(let x=0;x<i.childCount;x++)d.push(i.child(x));u=u.matchFragment(i)}let m=s.size+t-(a.content.size-a.openEnd);for(;c<s.childCount;){let x=s.child(c),w=u.matchType(x.type);if(!w)break;c++,(c>1||l==0||x.content.size)&&(u=w,d.push(Qae(x.mark(p.allowedMarks(x.marks)),c==1?l:0,c==s.childCount?m:-1)))}let v=c==s.childCount;v||(m=-1),this.placed=nS(this.placed,n,He.from(d)),this.frontier[n].match=u,v&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,w=s;x<m;x++){let T=w.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),w=T.content}this.unplaced=v?t==0?at.empty:new at(tS(a.content,t-1,1),t-1,m<0?a.openEnd:t-1):new at(tS(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!KI(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=KI(t,n,i,r,o);if(a){for(let s=n-1;s>=0;s--){let{match:l,type:c}=this.frontier[s],d=KI(t,s,c,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=nS(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=nS(this.placed,this.depth,He.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(He.empty,!0);n.childCount&&(this.placed=nS(this.placed,this.frontier.length,n))}}function tS(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(tS(e.firstChild.content,t-1,n)))}function nS(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(nS(e.lastChild.content,t-1,n)))}function GI(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Qae(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Qae(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(He.empty,!0)))),e.copy(r)}function KI(e,t,n,r,i){let o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!JMe(n,o.content,a)?s:null}function JMe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function eDe(e){return e.spec.defining||e.spec.definingForContent}function tDe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(Zae(i,o,r))return e.step(new ao(t,n,r));let a=ese(i,o);a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let p=i.depth,m=i.pos-1;p>0;p--,m--){let v=i.node(p).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;a.indexOf(p)>-1?s=p:i.before(p)==m&&a.splice(1,0,-p)}let l=a.indexOf(s),c=[],d=r.openStart;for(let p=r.content,m=0;;m++){let v=p.firstChild;if(c.push(v),m==r.openStart)break;p=v.content}for(let p=d-1;p>=0;p--){let m=c[p],v=eDe(m.type);if(v&&!m.sameMarkup(i.node(Math.abs(s)-1)))d=p;else if(v||!m.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let m=(p+d+1)%(r.openStart+1),v=c[m];if(v)for(let x=0;x<a.length;x++){let w=a[(x+l)%a.length],T=!0;w<0&&(T=!1,w=-w);let k=i.node(w-1),O=i.index(w-1);if(k.canReplaceWith(O,O,v.type,v.marks))return e.replace(i.before(w),T?o.after(w):n,new at(Jae(r.content,0,r.openStart,m),m,r.openEnd))}}let u=e.steps.length;for(let p=a.length-1;p>=0&&(e.replace(t,n,r),!(e.steps.length>u));p--){let m=a[p];m<0||(t=i.before(m),n=o.after(m))}}function Jae(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(Jae(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),a=o.fillBefore(e).append(e);e=a.append(o.matchFragment(a).fillBefore(He.empty,!0))}return e}function nDe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=ZMe(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new at(He.from(r),0,0))}function rDe(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=ese(r,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||r.node(s).type.contentMatch.validEnd)return e.delete(r.start(s),i.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return e.delete(r.before(s),i.after(s))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}function ese(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}class Lv extends Aa{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return so.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return so.fromReplace(t,this.pos,this.pos+1,new at(He.from(i),0,n.isLeaf?0:1))}getMap(){return Sl.empty}invert(t){return new Lv(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Lv(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Lv(n.pos,n.attr,n.value)}}Aa.jsonID("attr",Lv);class JS extends Aa{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return so.ok(r)}getMap(){return Sl.empty}invert(t){return new JS(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new JS(n.attr,n.value)}}Aa.jsonID("docAttr",JS);let a1=class extends Error{};a1=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};a1.prototype=Object.create(Error.prototype);a1.prototype.constructor=a1;a1.prototype.name="TransformError";class n9{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new o1}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new a1(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=at.empty){let i=wD(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new at(He.from(r),0,0))}delete(t,n){return this.replace(t,n,at.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return tDe(this,t,n,r),this}replaceRangeWith(t,n,r){return nDe(this,t,n,r),this}deleteRange(t,n){return rDe(this,t,n),this}lift(t,n){return FMe(this,t,n),this}join(t,n=1){return XMe(this,t,n),this}wrap(t,n){return VMe(this,t,n),this}setBlockType(t,n=t,r,i=null){return qMe(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return YMe(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Lv(t,n,r)),this}setDocAttribute(t,n){return this.step(new JS(t,n)),this}addNodeMark(t,n){return this.step(new Lp(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Fr)n.isInSet(r.marks)&&this.step(new O0(t,n));else{let i=r.marks,o,a=[];for(;o=n.isInSet(i);)a.push(new O0(t,o)),i=o.removeFromSet(i);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(t,n=1,r){return GMe(this,t,n,r),this}addMark(t,n,r){return BMe(this,t,n,r),this}removeMark(t,n,r){return $Me(this,t,n,r),this}clearIncompatible(t,n,r){return e9(this,t,n,r),this}}const XI=Object.create(null);class Zt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new tse(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=at.empty){let r=n.content.lastChild,i=null;for(let s=0;s<n.openEnd;s++)i=r,r=r.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],d=t.mapping.slice(o);t.replaceRange(d.map(l.pos),d.map(c.pos),s?at.empty:n),s==0&&iq(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=t.mapping.slice(r),c=l.map(a.pos),d=l.map(s.pos);o?t.deleteRange(c,d):(t.replaceRangeWith(c,d,n),iq(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new St(t):hv(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let a=n<0?hv(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):hv(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Fs(t.node(0))}static atStart(t){return hv(t,t,0,0,1)||new Fs(t)}static atEnd(t){return hv(t,t,t.content.size,t.childCount,-1)||new Fs(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=XI[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in XI)throw new RangeError("Duplicate use of selection JSON ID "+t);return XI[t]=n,n.prototype.jsonID=t,n}getBookmark(){return St.between(this.$anchor,this.$head).getBookmark()}}Zt.prototype.visible=!0;class tse{constructor(t,n){this.$from=t,this.$to=n}}let nq=!1;function rq(e){!nq&&!e.parent.inlineContent&&(nq=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class St extends Zt{constructor(t,n=t){rq(t),rq(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Zt.near(r);let i=t.resolve(n.map(this.anchor));return new St(i.parent.inlineContent?i:r,r)}replace(t,n=at.empty){if(super.replace(t,n),n==at.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof St&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new ED(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new St(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Zt.findFrom(n,r,!0)||Zt.findFrom(n,-r,!0);if(o)n=o.$head;else return Zt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Zt.findFrom(t,-r,!0)||Zt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new St(t,n)}}Zt.jsonID("text",St);class ED{constructor(t,n){this.anchor=t,this.head=n}map(t){return new ED(t.map(this.anchor),t.map(this.head))}resolve(t){return St.between(t.resolve(this.anchor),t.resolve(this.head))}}class Rt extends Zt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?Zt.near(o):new Rt(o)}content(){return new at(He.from(this.node),0,0)}eq(t){return t instanceof Rt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new r9(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Rt(t.resolve(n.anchor))}static create(t,n){return new Rt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Rt.prototype.visible=!1;Zt.jsonID("node",Rt);class r9{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new ED(r,r):new r9(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Rt.isSelectable(r)?new Rt(n):Zt.near(n)}}class Fs extends Zt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=at.empty){if(n==at.empty){t.delete(0,t.doc.content.size);let r=Zt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Fs(t)}map(t){return new Fs(t)}eq(t){return t instanceof Fs}getBookmark(){return iDe}}Zt.jsonID("all",Fs);const iDe={map(){return this},resolve(e){return new Fs(e)}};function hv(e,t,n,r,i,o=!1){if(t.inlineContent)return St.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let s=t.child(a);if(s.isAtom){if(!o&&Rt.isSelectable(s))return Rt.create(e,n-(i<0?s.nodeSize:0))}else{let l=hv(e,s,n+i,i<0?s.childCount:0,i,o);if(l)return l}n+=s.nodeSize*i}return null}function iq(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof ao||i instanceof Ki))return;let o=e.mapping.maps[r],a;o.forEach((s,l,c,d)=>{a==null&&(a=d)}),e.setSelection(Zt.near(e.doc.resolve(a),n))}const oq=1,W_=2,aq=4;let oDe=class extends n9{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|oq)&~W_,this.storedMarks=null,this}get selectionSet(){return(this.updated&oq)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=W_,this}ensureMarks(t){return Fr.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&W_)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~W_,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Fr.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(Zt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=aq,this}get scrolledIntoView(){return(this.updated&aq)>0}};function sq(e,t){return!t||!e?e:e.bind(t)}class rS{constructor(t,n,r){this.name=t,this.init=sq(n.init,r),this.apply=sq(n.apply,r)}}const aDe=[new rS("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new rS("selection",{init(e,t){return e.selection||Zt.atStart(t.doc)},apply(e){return e.selection}}),new rS("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new rS("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class ZI{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=aDe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new rS(r.key,r.spec.state,r))})}}class Cv{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,c=i?i[a].state:this,d=l<n.length&&s.spec.appendTransaction.call(s,l?n.slice(l):n,c,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",t),!i){i=[];for(let u=0;u<this.config.plugins.length;u++)i.push(u<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),o=!0}i&&(i[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Cv(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new oDe(this)}static create(t){let n=new ZI(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Cv(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new ZI(this.schema,t.plugins),r=n.fields,i=new Cv(n);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new ZI(t.schema,t.plugins),o=new Cv(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Bf.fromJSON(t.schema,n.doc);else if(a.name=="selection")o.selection=Zt.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let s in r){let l=r[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){o[a.name]=c.fromJSON.call(l,t,n[s],o);return}}o[a.name]=a.init(t,o)}}),o}}function nse(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=nse(i,t,{})),n[r]=i}return n}class rn{constructor(t){this.spec=t,this.props={},t.props&&nse(t.props,this,this.props),this.key=t.key?t.key.key:rse("plugin")}getState(t){return t[this.key]}}const QI=Object.create(null);function rse(e){return e in QI?e+"$"+ ++QI[e]:(QI[e]=0,e+"$")}class wn{constructor(t="key"){this.key=rse(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const i9=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function ise(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const ose=(e,t,n)=>{let r=ise(e,n);if(!r)return!1;let i=o9(r);if(!i){let a=r.blockRange(),s=a&&rx(a);return s==null?!1:(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(pse(e,i,t,-1))return!0;if(r.parent.content.size==0&&(s1(o,"end")||Rt.isSelectable(o)))for(let a=r.depth;;a--){let s=wD(e.doc,r.before(a),r.after(a),at.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(s1(o,"end")?Zt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Rt.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},sDe=(e,t,n)=>{let r=ise(e,n);if(!r)return!1;let i=o9(r);return i?ase(e,i,t):!1},lDe=(e,t,n)=>{let r=lse(e,n);if(!r)return!1;let i=a9(r);return i?ase(e,i,t):!1};function ase(e,t,n){let r=t.nodeBefore,i=r,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let a=t.nodeAfter,s=a,l=t.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let d=s.firstChild;if(!d)return!1;s=d}let c=wD(e.doc,o,l,at.empty);if(!c||c.from!=o||c instanceof ao&&c.slice.size>=l-o)return!1;if(n){let d=e.tr.step(c);d.setSelection(St.create(d.doc,o)),n(d.scrollIntoView())}return!0}function s1(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const sse=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=o9(r)}let a=o&&o.nodeBefore;return!a||!Rt.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Rt.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function o9(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function lse(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const cse=(e,t,n)=>{let r=lse(e,n);if(!r)return!1;let i=a9(r);if(!i)return!1;let o=i.nodeAfter;if(pse(e,i,t,1))return!0;if(r.parent.content.size==0&&(s1(o,"start")||Rt.isSelectable(o))){let a=wD(e.doc,r.before(),r.after(),at.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=e.tr.step(a);s.setSelection(s1(o,"start")?Zt.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):Rt.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},use=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=a9(r)}let a=o&&o.nodeAfter;return!a||!Rt.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Rt.create(e.doc,o.pos)).scrollIntoView()),!0)};function a9(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const cDe=(e,t)=>{let n=e.selection,r=n instanceof Rt,i;if(r){if(n.node.isTextblock||!ry(e.doc,n.from))return!1;i=n.from}else if(i=xD(e.doc,n.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);r&&o.setSelection(Rt.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},uDe=(e,t)=>{let n=e.selection,r;if(n instanceof Rt){if(n.node.isTextblock||!ry(e.doc,n.to))return!1;r=n.to}else if(r=xD(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},dDe=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&rx(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},dse=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function s9(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const fDe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),a=s9(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(t){let s=n.after(),l=e.tr.replaceWith(s,s,a.createAndFill());l.setSelection(Zt.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},fse=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Fs||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=s9(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(a,o.createAndFill());s.setSelection(St.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},hse=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if($f(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&rx(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function hDe(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof Rt&&t.selection.node.isBlock)return!r.parentOffset||!$f(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,s,l=!1,c=!1;for(let m=r.depth;;m--)if(r.node(m).isBlock){l=r.end(m)==r.pos+(r.depth-m),c=r.start(m)==r.pos-(r.depth-m),s=s9(r.node(m-1).contentMatchAt(r.indexAfter(m-1))),o.unshift(l&&s?{type:s}:null),a=m;break}else{if(m==1)return!1;o.unshift(null)}let d=t.tr;(t.selection instanceof St||t.selection instanceof Fs)&&d.deleteSelection();let u=d.mapping.map(r.pos),p=$f(d.doc,u,o.length,o);if(p||(o[0]=s?{type:s}:null,p=$f(d.doc,u,o.length,o)),!p)return!1;if(d.split(u,o.length,o),!l&&c&&r.node(a).type!=s){let m=d.mapping.map(r.before(a)),v=d.doc.resolve(m);s&&r.node(a-1).canReplaceWith(v.index(),v.index()+1,s)&&d.setNodeMarkup(d.mapping.map(r.before(a)),s)}return n&&n(d.scrollIntoView()),!0}}const pDe=hDe(),mDe=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(Rt.create(e.doc,i))),!0)};function gDe(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||ry(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function pse(e,t,n,r){let i=t.nodeBefore,o=t.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&gDe(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(n){let m=t.pos+o.nodeSize,v=He.empty;for(let T=a.length-1;T>=0;T--)v=He.from(a[T].create(null,v));v=He.from(i.copy(v));let x=e.tr.step(new Ki(t.pos-1,m,t.pos,m,new at(v,1,0),a.length,!0)),w=x.doc.resolve(m+2*a.length);w.nodeAfter&&w.nodeAfter.type==i.type&&ry(x.doc,w.pos)&&x.join(w.pos),n(x.scrollIntoView())}return!0}let d=o.type.spec.isolating||r>0&&l?null:Zt.findFrom(t,1),u=d&&d.$from.blockRange(d.$to),p=u&&rx(u);if(p!=null&&p>=t.depth)return n&&n(e.tr.lift(u,p).scrollIntoView()),!0;if(c&&s1(o,"start",!0)&&s1(i,"end")){let m=i,v=[];for(;v.push(m),!m.isTextblock;)m=m.lastChild;let x=o,w=1;for(;!x.isTextblock;x=x.firstChild)w++;if(m.canReplace(m.childCount,m.childCount,x.content)){if(n){let T=He.empty;for(let O=v.length-1;O>=0;O--)T=He.from(v[O].copy(T));let k=e.tr.step(new Ki(t.pos-v.length,t.pos+o.nodeSize,t.pos+w,t.pos+o.nodeSize-w,new at(T,v.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function mse(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(St.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const yDe=mse(-1),bDe=mse(1);function vDe(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o),s=a&&Yae(a,e,t);return s?(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0):!1}}function lq(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=n.selection.ranges[o];n.doc.nodesBetween(a,s,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let d=n.doc.resolve(c),u=d.index();i=d.parent.canReplaceWith(u,u+1,e)}})}if(!i)return!1;if(r){let o=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[a];o.setBlockType(s,l,e,t)}r(o.scrollIntoView())}return!0}}function l9(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}l9(i9,ose,sse);l9(i9,cse,use);l9(dse,fse,hse,pDe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function xDe(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o);if(!a)return!1;let s=r?n.tr:null;return wDe(s,a,e,t)?(r&&r(s.scrollIntoView()),!0):!1}}function wDe(e,t,n,r=null){let i=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new TO(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new TO(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let s=Yae(o,n,r,t);return s?(e&&EDe(e,t,s,i,n),!0):!1}function EDe(e,t,n,r,i){let o=He.empty;for(let d=n.length-1;d>=0;d--)o=He.from(n[d].type.create(n[d].attrs,o));e.step(new Ki(t.start-(r?2:0),t.end,t.start,t.end,new at(o,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==i&&(a=d+1);let s=n.length-a,l=t.start+n.length-(r?2:0),c=t.parent;for(let d=t.startIndex,u=t.endIndex,p=!0;d<u;d++,p=!1)!p&&$f(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(d).nodeSize;return e}function SDe(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return o?n?r.node(o.depth-1).type==e?CDe(t,n,e,o):TDe(t,n,o):!0:!1}}function CDe(e,t,n,r){let i=e.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new Ki(o-1,a,o,a,new at(He.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new TO(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const s=rx(r);if(s==null)return!1;i.lift(r,s);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return ry(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function TDe(e,t,n){let r=e.tr,i=n.parent;for(let m=n.end,v=n.endIndex-1,x=n.startIndex;v>x;v--)m-=i.child(v).nodeSize,r.delete(m-1,m+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),d=o.index(-1);if(!c.canReplace(d+(s?0:1),d+1,a.content.append(l?He.empty:He.from(i))))return!1;let u=o.pos,p=u+a.nodeSize;return r.step(new Ki(u-(s?1:0),p+(l?1:0),u+1,p-1,new at((s?He.empty:He.from(i.copy(He.empty))).append(l?He.empty:He.from(i.copy(He.empty))),s?0:1,l?0:1),s?0:1)),t(r.scrollIntoView()),!0}function kDe(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==s.type,d=He.from(c?e.create():null),u=new at(He.from(e.create(null,He.from(s.type.create(null,d)))),c?3:1,0),p=o.start,m=o.end;n(t.tr.step(new Ki(p-(c?3:1),m,p,m,u,1,!0)).scrollIntoView())}return!0}}const Qo=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},l1=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let oB=null;const Af=function(e,t,n){let r=oB||(oB=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},_De=function(){oB=null},N0=function(e,t,n,r){return n&&(cq(e,t,n,r,-1)||cq(e,t,n,r,1))},ADe=/^(img|br|input|textarea|hr)$/i;function cq(e,t,n,r,i){for(var o;;){if(e==n&&t==r)return!0;if(t==(i<0?0:sc(e))){let a=e.parentNode;if(!a||a.nodeType!=1||RT(e)||ADe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Qo(e)+(i<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=i;else return!1;else e=a,t=i<0?sc(e):0}else return!1}}function sc(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function ODe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=sc(e)}else if(e.parentNode&&!RT(e))t=Qo(e),e=e.parentNode;else return null}}function NDe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!RT(e))t=Qo(e)+1,e=e.parentNode;else return null}}function MDe(e,t,n){for(let r=t==0,i=t==sc(e);r||i;){if(e==n)return!0;let o=Qo(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==sc(e)}}function RT(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const SD=function(e){return e.focusNode&&N0(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Kg(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function DDe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function RDe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(sc(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(sc(r.startContainer),r.startOffset)}}}const _d=typeof navigator<"u"?navigator:null,uq=typeof document<"u"?document:null,fm=_d&&_d.userAgent||"",aB=/Edge\/(\d+)/.exec(fm),gse=/MSIE \d/.exec(fm),sB=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fm),Us=!!(gse||sB||aB),Vp=gse?document.documentMode:sB?+sB[1]:aB?+aB[1]:0,fc=!Us&&/gecko\/(\d+)/i.test(fm);fc&&+(/Firefox\/(\d+)/.exec(fm)||[0,0])[1];const lB=!Us&&/Chrome\/(\d+)/.exec(fm),Sa=!!lB,yse=lB?+lB[1]:0,as=!Us&&!!_d&&/Apple Computer/.test(_d.vendor),c1=as&&(/Mobile\/\w+/.test(fm)||!!_d&&_d.maxTouchPoints>2),ic=c1||(_d?/Mac/.test(_d.platform):!1),IDe=_d?/Win/.test(_d.platform):!1,Nf=/Android \d/.test(fm),IT=!!uq&&"webkitFontSmoothing"in uq.documentElement.style,PDe=IT?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function LDe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function bf(e,t){return typeof e=="number"?e:e[t]}function jDe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function dq(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(a.nodeType!=1){a=l1(a);continue}let s=a,l=s==o.body,c=l?LDe(o):jDe(s),d=0,u=0;if(t.top<c.top+bf(r,"top")?u=-(c.top-t.top+bf(i,"top")):t.bottom>c.bottom-bf(r,"bottom")&&(u=t.bottom-t.top>c.bottom-c.top?t.top+bf(i,"top")-c.top:t.bottom-c.bottom+bf(i,"bottom")),t.left<c.left+bf(r,"left")?d=-(c.left-t.left+bf(i,"left")):t.right>c.right-bf(r,"right")&&(d=t.right-c.right+bf(i,"right")),d||u)if(l)o.defaultView.scrollBy(d,u);else{let m=s.scrollLeft,v=s.scrollTop;u&&(s.scrollTop+=u),d&&(s.scrollLeft+=d);let x=s.scrollLeft-m,w=s.scrollTop-v;t={left:t.left-x,top:t.top-w,right:t.right-x,bottom:t.bottom-w}}let p=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:l1(a)}}function BDe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=e.root.elementFromPoint(o,a);if(!s||s==e.dom||!e.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=n-20){r=s,i=l.top;break}}return{refDOM:r,refTop:i,stack:bse(e.dom)}}function bse(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=l1(r));return t}function $De({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;vse(n,r==0?0:r-t)}function vse(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ev=null;function HDe(e){if(e.setActive)return e.setActive();if(ev)return e.focus(ev);let t=bse(e);e.focus(ev==null?{get preventScroll(){return ev={preventScroll:!0},!0}}:void 0),ev||(ev=!1,vse(t,0))}function xse(e,t){let n,r=2e8,i,o=0,a=t.top,s=t.top,l,c;for(let d=e.firstChild,u=0;d;d=d.nextSibling,u++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=Af(d).getClientRects();else continue;for(let m=0;m<p.length;m++){let v=p[m];if(v.top<=a&&v.bottom>=s){a=Math.max(v.bottom,a),s=Math.min(v.top,s);let x=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(x<r){n=d,r=x,i=x&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,d.nodeType==1&&x&&(o=u+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!l&&v.left<=t.left&&v.right>=t.left&&(l=d,c={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(o=u+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?FDe(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:xse(n,i)}function FDe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=yp(r,1);if(o.top!=o.bottom&&c9(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function c9(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function UDe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function zDe(e,t,n){let{node:r,offset:i}=xse(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function VDe(e,t,n,r){let i=-1;for(let o=t,a=!1;o!=e.dom;){let s=e.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!a&&l.left>r.left||l.top>r.top?i=s.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function wse(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let a=e.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(c9(t,c))return wse(a,t,c)}}if((o=(o+1)%r)==i)break}return e}function qDe(e,t){let n=e.dom.ownerDocument,r,i=0,o=RDe(n,t.left,t.top);o&&({node:r,offset:i}=o);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),s;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=e.dom.getBoundingClientRect();if(!c9(t,c)||(a=wse(e.dom,t,c),!a))return null}if(as)for(let c=a;r&&c;c=l1(c))c.draggable&&(r=void 0);if(a=UDe(a,t),r){if(fc&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],u;d.nodeName=="IMG"&&(u=d.getBoundingClientRect()).right<=t.left&&u.bottom>t.top&&i++}let c;IT&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=VDe(e,r,i,t))}s==null&&(s=zDe(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function fq(e){return e.top<e.bottom||e.left<e.right}function yp(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(fq(r))return r}return Array.prototype.find.call(n,fq)||e.getBoundingClientRect()}const WDe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Ese(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),a=IT||fc;if(r.nodeType==3)if(a&&(WDe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=yp(Af(r,i,i),n);if(fc&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=yp(Af(r,i-1,i-1),-1);if(c.top==l.top){let d=yp(Af(r,i,i+1),-1);if(d.top!=l.top)return NE(d,d.left<c.left)}}return l}else{let l=i,c=i,d=n<0?1:-1;return n<0&&!i?(c++,d=-1):n>=0&&i==r.nodeValue.length?(l--,d=1):n<0?l--:c++,NE(yp(Af(r,l,c),d),d<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==sc(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return JI(l.getBoundingClientRect(),!1)}if(o==null&&i<sc(r)){let l=r.childNodes[i];if(l.nodeType==1)return JI(l.getBoundingClientRect(),!0)}return JI(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==sc(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Af(l,sc(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return NE(yp(c,1),!1)}if(o==null&&i<sc(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Af(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return NE(yp(c,-1),!0)}return NE(yp(r.nodeType==3?Af(r):r,-n),n>=0)}function NE(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function JI(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Sse(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function YDe(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return Sse(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=e.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=Ese(e,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Af(s,0,s.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const GDe=/[\u0590-\u08ac]/;function KDe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=e.domSelection();return s?!GDe.test(r.parent.textContent)||!s.modify?n=="left"||n=="backward"?o:a:Sse(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:u}=e.domSelectionRange(),p=s.caretBidiLevel;s.modify("move",n,"character");let m=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:v,focusOffset:x}=e.domSelectionRange(),w=v&&!m.contains(v.nodeType==1?v:v.parentNode)||l==v&&c==x;try{s.collapse(d,u),l&&(l!=d||c!=u)&&s.extend&&s.extend(l,c)}catch{}return p!=null&&(s.caretBidiLevel=p),w}):r.pos==r.start()||r.pos==r.end()}let hq=null,pq=null,mq=!1;function XDe(e,t,n){return hq==t&&pq==n?mq:(hq=t,pq=n,mq=n=="up"||n=="down"?YDe(e,t,n):KDe(e,t,n))}const hc=0,gq=1,e0=2,Ad=3;class PT{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=hc,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,a;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>Qo(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!n||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let s=i.children[a];if(s.size){i=s;break}}return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],s=o+a.size;if(s>t||a instanceof Tse){i=t-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Cse&&o.side>=0;r--);if(n<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&n&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Qo(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Qo(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,s=0;;s++){let l=this.children[s],c=a+l.size;if(i==-1&&t<=c){let d=a+l.border;if(t>=d&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,d);t=a;for(let u=s;u>0;u--){let p=this.children[u-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=Qo(p.dom)+1;break}t-=p.size}i==-1&&(i=0)}if(i>-1&&(c>n||s==this.children.length-1)){n=c;for(let d=s+1;d<this.children.length;d++){let u=this.children[d];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(-1)){o=Qo(u.dom);break}n+=u.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),a=Math.max(t,n);for(let m=0,v=0;m<this.children.length;m++){let x=this.children[m],w=v+x.size;if(o>v&&a<w)return x.setSelection(t-v-x.border,n-v-x.border,r,i);v=w}let s=this.domFromPos(t,t?-1:1),l=n==t?s:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),d=r.domSelectionRange(),u=!1;if((fc||as)&&t==n){let{node:m,offset:v}=s;if(m.nodeType==3){if(u=!!(v&&m.nodeValue[v-1]==`
`),u&&v==m.nodeValue.length)for(let x=m,w;x;x=x.parentNode){if(w=x.nextSibling){w.nodeName=="BR"&&(s=l={node:w.parentNode,offset:Qo(w)+1});break}let T=x.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let x=m.childNodes[v-1];u=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(fc&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let m=d.focusNode.childNodes[d.focusOffset];m&&m.contentEditable=="false"&&(i=!0)}if(!(i||u&&as)&&N0(s.node,s.offset,d.anchorNode,d.anchorOffset)&&N0(l.node,l.offset,d.focusNode,d.focusOffset))return;let p=!1;if((c.extend||t==n)&&!(u&&fc)){c.collapse(s.node,s.offset);try{t!=n&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(t>n){let v=s;s=l,l=v}let m=document.createRange();m.setEnd(l.node,l.offset),m.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(m)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let s=r+o.border,l=a-o.border;if(t>=s&&n<=l){this.dirty=t==r||n==a?e0:gq,t==s&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ad:o.markDirty(t-s,n-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?e0:Ad}r=a}this.dirty=e0}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?e0:gq;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class Cse extends PT{constructor(t,n,r,i){let o,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==hc&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class ZDe extends PT{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class M0 extends PT{constructor(t,n,r,i,o){super(t,[],r,i),this.mark=n,this.spec=o}static create(t,n,r,i){let o=i.nodeViews[n.type.name],a=o&&o(n,i,r);return(!a||!a.dom)&&(a=Ml.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new M0(t,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Ad||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ad&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=hc){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=hc}}slice(t,n,r){let i=M0.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=uB(o,n,a,r)),t>0&&(o=uB(o,0,t,r));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class qp extends PT{constructor(t,n,r,i,o,a,s,l,c){super(t,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=s}static create(t,n,r,i,o,a){let s=o.nodeViews[n.type.name],l,c=s&&s(n,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,i),d=c&&c.dom,u=c&&c.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:u}=Ml.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!u&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=Ase(d,r,n),c?l=new QDe(t,n,r,i,d,u||null,p,c,o,a+1):n.isText?new CD(t,n,r,i,d,p,o):new qp(t,n,r,i,d,u||null,p,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>He.empty)}return t}matchesNode(t,n,r){return this.dirty==hc&&t.eq(this.node)&&_O(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new eRe(this,a&&a.node,t);rRe(this.node,this.innerDeco,(c,d,u)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!u&&l.syncToMarks(d==this.node.childCount?Fr.none:this.node.child(d).marks,r,t),l.placeWidget(c,t,i)},(c,d,u,p)=>{l.syncToMarks(c.marks,r,t);let m;l.findNodeMatch(c,d,u,p)||s&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(m=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,d,u,m,t)||l.updateNextNode(c,d,u,t,p,i)||l.addNode(c,d,u,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==e0)&&(a&&this.protectLocalComposition(t,a),kse(this.contentDOM,this.children,t),c1&&iRe(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof St)||r<n||i>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=oRe(this.node.content,a,r-n,i-n);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new ZDe(this,o,n,i);t.input.compositionNodes.push(a),this.children=uB(this.children,r,r+i.length,t,a)}update(t,n,r,i){return this.dirty==Ad||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=hc}updateOuterDeco(t){if(_O(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=_se(this.dom,this.nodeDOM,cB(this.outerDeco,this.node,n),cB(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function yq(e,t,n,r,i){Ase(r,t,e);let o=new qp(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class CD extends qp{constructor(t,n,r,i,o,a,s){super(t,n,r,i,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Ad||this.dirty!=hc&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=hc||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=hc,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new CD(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ad)}get domAtom(){return!1}isText(t){return this.node.text==t}}class Tse extends PT{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==hc&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class QDe extends qp{constructor(t,n,r,i,o,a,s,l,c,d){super(t,n,r,i,o,a,s,c,d),this.spec=l}update(t,n,r,i){if(this.dirty==Ad)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function kse(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=bq(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(s,r);if(a instanceof M0){let l=r?r.previousSibling:e.lastChild;kse(a.contentDOM,a.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=bq(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const gS=function(e){e&&(this.nodeName=e)};gS.prototype=Object.create(null);const t0=[new gS];function cB(e,t,n){if(e.length==0)return t0;let r=n?t0[0]:new gS,i=[r];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&i.push(r=new gS(a.nodeName));for(let s in a){let l=a[s];l!=null&&(n&&i.length==1&&i.push(r=new gS(t.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+l:s=="style"?r.style=(r.style?r.style+";":"")+l:s!="nodeName"&&(r[s]=l))}}}return i}function _se(e,t,n,r){if(n==t0&&r==t0)return t;let i=t;for(let o=0;o<r.length;o++){let a=r[o],s=n[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=t0[0]),i=l}JDe(i,s||t0[0],a)}return i}function JDe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function Ase(e,t,n){return _se(e,e,t0,cB(t,n,e.nodeType!=1))}function _O(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function bq(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class eRe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=tRe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=hc,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=M0.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let c=this.top.children[s];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let a=this.top.children[i];return a.dirty==Ad&&a.dom==a.contentDOM&&(a.dirty=e0),a.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof qp){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let d=l.dom,u,p=this.isLocked(d)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Ad&&_O(n,l.outerDeco));if(!p&&l.update(t,n,r,i))return this.destroyBetween(this.index,s),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(u=this.recreateWrapper(l,t,n,r,i,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=u,u.contentDOM&&(u.dirty=e0,u.updateChildren(i,a+1),u.dirty=hc),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,o,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!_O(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let s=qp.create(this.top,n,r,i,o,a);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,n,r,i,o){let a=qp.create(this.top,t,n,r,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Cse(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof M0;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof CD)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((as||Sa)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Tse(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function tRe(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(r){let c=n.children[r-1];if(c instanceof M0)n=c,r=c.children.length;else{s=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function nRe(e,t){return e.type.side-t.type.side}function rRe(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let d=e.child(c);r(d,i,t.forChild(o,d),c),o+=d.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let d,u;for(;a<i.length&&i[a].to==o;){let w=i[a++];w.widget&&(d?(u||(u=[d])).push(w):d=w)}if(d)if(u){u.sort(nRe);for(let w=0;w<u.length;w++)n(u[w],c,!!l)}else n(d,c,!!l);let p,m;if(l)m=-1,p=l,l=null;else if(c<e.childCount)m=c,p=e.child(c++);else break;for(let w=0;w<s.length;w++)s[w].to<=o&&s.splice(w--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let v=o+p.nodeSize;if(p.isText){let w=v;a<i.length&&i[a].from<w&&(w=i[a].from);for(let T=0;T<s.length;T++)s[T].to<w&&(w=s[T].to);w<v&&(l=p.cut(w-o),p=p.cut(0,w-o),v=w,m=-1)}else for(;a<i.length&&i[a].to<v;)a++;let x=p.isInline&&!p.isLeaf?s.filter(w=>!w.inline):s.slice();r(p,x,t.forChild(o,p),m),o=v}}function iRe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function oRe(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let a=e.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<e.childCount;){let c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let c=s<r?l.lastIndexOf(t,r-s-1):-1;if(c>=0&&c+t.length+s>=n)return s+c;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}function uB(e,t,n,r,i){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,d=s+=l.size;c>=n||d<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),d>n&&o.push(l.slice(n-c,l.size,r)))}return o}function u9(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s=r.resolve(a),l,c;if(SD(n)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&Rt.isSelectable(u)&&i.parent&&!(u.isInline&&MDe(n.focusNode,n.focusOffset,i.dom))){let p=i.posBefore;c=new Rt(a==p?s:r.resolve(p))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let u=a,p=a;for(let m=0;m<n.rangeCount;m++){let v=n.getRangeAt(m);u=Math.min(u,e.docView.posFromDOM(v.startContainer,v.startOffset,1)),p=Math.max(p,e.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(u<0)return null;[l,a]=p==e.state.selection.anchor?[p,u]:[u,p],s=r.resolve(a)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=r.resolve(l);if(!c){let u=t=="pointer"||e.state.selection.head<s.pos&&!o?1:-1;c=d9(e,d,s,u)}return c}function Ose(e){return e.editable?e.hasFocus():Mse(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Hf(e,t=!1){let n=e.state.selection;if(Nse(e,n),!!Ose(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Sa){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&N0(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)sRe(e);else{let{anchor:r,head:i}=n,o,a;vq&&!(n instanceof St)&&(n.$from.parent.inlineContent||(o=xq(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=xq(e,n.to))),e.docView.setSelection(r,i,e,t),vq&&(o&&wq(o),a&&wq(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&aRe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const vq=as||Sa&&yse<63;function xq(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(as&&i&&i.contentEditable=="false")return eP(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return eP(i);if(o)return eP(o)}}function eP(e){return e.contentEditable="true",as&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function wq(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function aRe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!Ose(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function sRe(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,Qo(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Us&&Vp<=11&&(n.disabled=!0,n.disabled=!1)}function Nse(e,t){if(t instanceof Rt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Eq(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Eq(e)}function Eq(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function d9(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||St.between(t,n,r)}function Sq(e){return e.editable&&!e.hasFocus()?!1:Mse(e)}function Mse(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function lRe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return N0(t.node,t.offset,n.anchorNode,n.anchorOffset)}function dB(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Zt.findFrom(o,t)}function wp(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Cq(e,t,n){let r=e.state.selection;if(r instanceof St)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return wp(e,new St(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=dB(e.state,t);return i&&i instanceof Rt?wp(e,i):!1}else if(!(ic&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=e.docView.descAt(s))&&!a.contentDOM?Rt.isSelectable(o)?wp(e,new Rt(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):IT?wp(e,new St(e.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Rt&&r.node.isInline)return wp(e,new St(t>0?r.$to:r.$from));{let i=dB(e.state,t);return i?wp(e,i):!1}}}function AO(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function yS(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function tv(e,t){return t<0?cRe(e):uRe(e)}function cRe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,a=!1;for(fc&&n.nodeType==1&&r<AO(n)&&yS(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let s=n.childNodes[r-1];if(yS(s,-1))i=n,o=--r;else if(s.nodeType==3)n=s,r=n.nodeValue.length;else break}}else{if(Dse(n))break;{let s=n.previousSibling;for(;s&&yS(s,-1);)i=n.parentNode,o=Qo(s),s=s.previousSibling;if(s)n=s,r=AO(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?fB(e,n,r):i&&fB(e,i,o)}function uRe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=AO(n),o,a;for(;;)if(r<i){if(n.nodeType!=1)break;let s=n.childNodes[r];if(yS(s,1))o=n,a=++r;else break}else{if(Dse(n))break;{let s=n.nextSibling;for(;s&&yS(s,1);)o=s.parentNode,a=Qo(s)+1,s=s.nextSibling;if(s)n=s,r=0,i=AO(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&fB(e,o,a)}function Dse(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function dRe(e,t){for(;e&&t==e.childNodes.length&&!RT(e);)t=Qo(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function fRe(e,t){for(;e&&!t&&!RT(e);)t=Qo(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function fB(e,t,n){if(t.nodeType!=3){let o,a;(a=dRe(t,n))?(t=a,n=0):(o=fRe(t,n))&&(t=o,n=o.nodeValue.length)}let r=e.domSelection();if(!r)return;if(SD(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Hf(e)},50)}function Tq(e,t){let n=e.state.doc.resolve(t);if(!(Sa||IDe)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function kq(e,t,n){let r=e.state.selection;if(r instanceof St&&!r.empty||n.indexOf("s")>-1||ic&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=dB(e.state,t);if(a&&a instanceof Rt)return wp(e,a)}if(!i.parent.inlineContent){let a=t<0?i:o,s=r instanceof Fs?Zt.near(a,t):Zt.findFrom(a,t);return s?wp(e,s):!1}return!1}function _q(e,t){if(!(e.state.selection instanceof St))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=e.state.tr;return t<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),e.dispatch(a),!0}return!1}function Aq(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function hRe(e){if(!as||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;Aq(e,r,"true"),setTimeout(()=>Aq(e,r,"false"),20)}return!1}function pRe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function mRe(e,t){let n=t.keyCode,r=pRe(t);if(n==8||ic&&n==72&&r=="c")return _q(e,-1)||tv(e,-1);if(n==46&&!t.shiftKey||ic&&n==68&&r=="c")return _q(e,1)||tv(e,1);if(n==13||n==27)return!0;if(n==37||ic&&n==66&&r=="c"){let i=n==37?Tq(e,e.state.selection.from)=="ltr"?-1:1:-1;return Cq(e,i,r)||tv(e,i)}else if(n==39||ic&&n==70&&r=="c"){let i=n==39?Tq(e,e.state.selection.from)=="ltr"?1:-1:1;return Cq(e,i,r)||tv(e,i)}else{if(n==38||ic&&n==80&&r=="c")return kq(e,-1,r)||tv(e,-1);if(n==40||ic&&n==78&&r=="c")return hRe(e)||kq(e,1,r)||tv(e,1);if(r==(ic?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function f9(e,t){e.someProp("transformCopied",m=>{t=m(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let m=r.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let a=e.someProp("clipboardSerializer")||Ml.fromSchema(e.state.schema),s=Bse(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let c=l.firstChild,d,u=0;for(;c&&c.nodeType==1&&(d=jse[c.nodeName.toLowerCase()]);){for(let m=d.length-1;m>=0;m--){let v=s.createElement(d[m]);for(;l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),u++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${u?` -${u}`:""} ${JSON.stringify(n)}`);let p=e.someProp("clipboardTextSerializer",m=>m(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:p,slice:t}}function Rse(e,t,n,r,i){let o=i.parent.type.spec.code,a,s;if(!n&&!t)return null;let l=!!t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",p=>{t=p(t,o||r,e)}),o)return s=new at(He.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",p=>{s=p(s,e,!0)}),s;let u=e.someProp("clipboardTextParser",p=>p(t,i,r,e));if(u)s=u;else{let p=i.marks(),{schema:m}=e.state,v=Ml.fromSchema(m);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(x=>{let w=a.appendChild(document.createElement("p"));x&&w.appendChild(v.serializeNode(m.text(x,p)))})}}else e.someProp("transformPastedHTML",u=>{n=u(n,e)}),a=vRe(n),IT&&xRe(a);let c=a&&a.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let u=+d[3];u>0;u--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||hu.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||d),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!gRe.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)s=wRe(Oq(s,+d[1],+d[2]),d[4]);else if(s=at.maxOpen(yRe(s.content,i),!0),s.openStart||s.openEnd){let u=0,p=0;for(let m=s.content.firstChild;u<s.openStart&&!m.type.spec.isolating;u++,m=m.firstChild);for(let m=s.content.lastChild;p<s.openEnd&&!m.type.spec.isolating;p++,m=m.lastChild);s=Oq(s,u,p)}return e.someProp("transformPasted",u=>{s=u(s,e,l)}),s}const gRe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function yRe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),o,a=[];if(e.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),c;if(!l)return a=null;if(c=a.length&&o.length&&Pse(l,o,s,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=Lse(a[a.length-1],o.length));let d=Ise(s,l);a.push(d),i=i.matchType(d.type),o=l}}),a)return He.from(a)}return e}function Ise(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,He.from(e));return e}function Pse(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=Pse(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(He.from(Ise(n,e,i+1))))}}function Lse(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,Lse(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(He.empty,!0);return e.copy(n.append(r))}function hB(e,t,n,r,i,o){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(o=0),i<r-1&&(s=hB(s,t,n,r,i+1,o)),i>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(He.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function Oq(e,t,n){return t<e.openStart&&(e=new at(hB(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new at(hB(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const jse={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Nq=null;function Bse(){return Nq||(Nq=document.implementation.createHTMLDocument("title"))}let tP=null;function bRe(e){let t=window.trustedTypes;return t?(tP||(tP=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),tP.createHTML(e)):e}function vRe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=Bse().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&jse[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=bRe(e),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function xRe(e){let t=e.querySelectorAll(Sa?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function wRe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:a}=e;for(let s=r.length-2;s>=0;s-=2){let l=n.nodes[r[s]];if(!l||l.hasRequiredAttrs())break;i=He.from(l.create(r[s+1],i)),o++,a++}return new at(i,o,a)}const ss={},ls={},ERe={touchstart:!0,touchmove:!0};class SRe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function CRe(e){for(let t in ss){let n=ss[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{kRe(e,r)&&!h9(e,r)&&(e.editable||!(r.type in ls))&&n(e,r)},ERe[t]?{passive:!0}:void 0)}as&&e.dom.addEventListener("input",()=>null),pB(e)}function jp(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function TRe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function pB(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>h9(e,r))})}function h9(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function kRe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function _Re(e,t){!h9(e,t)&&ss[t.type]&&(e.editable||!(t.type in ls))&&ss[t.type](e,t)}ls.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!Hse(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Nf&&Sa&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),c1&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Kg(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||mRe(e,n)?n.preventDefault():jp(e,"key")};ls.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};ls.keypress=(e,t)=>{let n=t;if(Hse(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||ic&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof St)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,r.$from.pos,r.$to.pos,i,o))&&e.dispatch(o()),n.preventDefault()}};function TD(e){return{left:e.clientX,top:e.clientY}}function ARe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function p9(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(e.someProp(t,s=>a>o.depth?s(e,n,o.nodeAfter,o.before(a),i,!0):s(e,n,o.node(a),o.before(a),i,!1)))return!0;return!1}function jv(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function ORe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Rt.isSelectable(r)?(jv(e,new Rt(n)),!0):!1}function NRe(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Rt&&(r=n.node);let o=e.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(Rt.isSelectable(s)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(a);break}}return i!=null?(jv(e,Rt.create(e.state.doc,i)),!0):!1}function MRe(e,t,n,r,i){return p9(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?NRe(e,n):ORe(e,n))}function DRe(e,t,n,r){return p9(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function RRe(e,t,n,r){return p9(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||IRe(e,n,r)}function IRe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(jv(e,St.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)jv(e,St.create(r,s+1,s+1+a.content.size));else if(Rt.isSelectable(a))jv(e,Rt.create(r,s));else continue;return!0}}function m9(e){return OO(e)}const $se=ic?"metaKey":"ctrlKey";ss.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=m9(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&ARe(n,e.input.lastClick)&&!n[$se]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let a=e.posAtCoords(TD(n));a&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new PRe(e,a,n,!!r)):(o=="doubleClick"?DRe:RRe)(e,a.pos,a.inside,n)?n.preventDefault():jp(e,"pointer"))};class PRe{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[$se],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),a=n.inside;else{let d=t.state.doc.resolve(n.pos);o=d.parent,a=d.depth?d.before():0}const s=i?null:r.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Rt&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),jp(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Hf(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(TD(t))),this.updateAllowDefault(t),this.allowDefault||!n?jp(this.view,"pointer"):MRe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||as&&this.mightDrag&&!this.mightDrag.node.isAtom||Sa&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(jv(this.view,Zt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):jp(this.view,"pointer")}move(t){this.updateAllowDefault(t),jp(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}ss.touchstart=e=>{e.input.lastTouch=Date.now(),m9(e),jp(e,"pointer")};ss.touchmove=e=>{e.input.lastTouch=Date.now(),jp(e,"pointer")};ss.contextmenu=e=>m9(e);function Hse(e,t){return e.composing?!0:as&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const LRe=Nf?5e3:-1;ls.compositionstart=ls.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof St&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),OO(e,!0),e.markCursor=null;else if(OO(e,!t.selection.empty),fc&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=e.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}e.input.composing=!0}Fse(e,LRe)};ls.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Fse(e,20))};function Fse(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>OO(e),t))}function Use(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=BRe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function jRe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=ODe(t.focusNode,t.focusOffset),r=NDe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function BRe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function OO(e,t=!1){if(!(Nf&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Use(e),t||e.docView&&e.docView.dirty){let n=u9(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function $Re(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const eC=Us&&Vp<15||c1&&PDe<604;ss.copy=ls.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=eC?null:n.clipboardData,a=r.content(),{dom:s,text:l}=f9(e,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):$Re(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function HRe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function FRe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?tC(e,r.value,null,i,t):tC(e,r.textContent,r.innerHTML,i,t)},50)}function tC(e,t,n,r,i){let o=Rse(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||at.empty)))return!0;if(!o)return!1;let a=HRe(o),s=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function zse(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ls.paste=(e,t)=>{let n=t;if(e.composing&&!Nf)return;let r=eC?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&tC(e,zse(r),r.getData("text/html"),i,n)?n.preventDefault():FRe(e,n)};class Vse{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const URe=ic?"altKey":"ctrlKey";function qse(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[URe]}ss.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(TD(n)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Rt?i.to-1:i.to))){if(r&&r.mightDrag)a=Rt.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let u=e.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=e.docView&&(a=Rt.create(e.state.doc,u.posBefore))}}let s=(a||e.state.selection).content(),{dom:l,text:c,slice:d}=f9(e,s);(!n.dataTransfer.files.length||!Sa||yse>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(eC?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",eC||n.dataTransfer.setData("text/plain",c),e.dragging=new Vse(d,qse(e,n),a)};ss.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};ls.dragover=ls.dragenter=(e,t)=>t.preventDefault();ls.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(TD(n));if(!i)return;let o=e.state.doc.resolve(i.pos),a=r&&r.slice;a?e.someProp("transformPasted",v=>{a=v(a,e,!1)}):a=Rse(e,zse(n.dataTransfer),eC?null:n.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&qse(e,n));if(e.someProp("handleDrop",v=>v(e,n,a||at.empty,s))){n.preventDefault();return}if(!a)return;n.preventDefault();let l=a?t9(e.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(s){let{node:v}=r;v?v.replace(c):c.deleteSelection()}let d=c.mapping.map(l),u=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,p=c.doc;if(u?c.replaceRangeWith(d,d,a.content.firstChild):c.replaceRange(d,d,a),c.doc.eq(p))return;let m=c.doc.resolve(d);if(u&&Rt.isSelectable(a.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new Rt(m));else{let v=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((x,w,T,k)=>v=k),c.setSelection(d9(e,m,c.doc.resolve(v)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};ss.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Hf(e)},20))};ss.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};ss.beforeinput=(e,t)=>{if(Sa&&Nf&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Kg(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in ls)ss[e]=ls[e];function nC(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class NO{constructor(t,n){this.toDOM=t,this.spec=n||p0,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new ir(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof NO&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&nC(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Wp{constructor(t,n){this.attrs=t,this.spec=n||p0}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new ir(o,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Wp&&nC(this.attrs,t.attrs)&&nC(this.spec,t.spec)}static is(t){return t.type instanceof Wp}destroy(){}}class g9{constructor(t,n){this.attrs=t,this.spec=n||p0}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=o.pos?null:new ir(o.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof g9&&nC(this.attrs,t.attrs)&&nC(this.spec,t.spec)}destroy(){}}class ir{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new ir(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new ir(t,t,new NO(n,r))}static inline(t,n,r,i){return new ir(t,n,new Wp(r,i))}static node(t,n,r,i){return new ir(t,n,new g9(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Wp}get widget(){return this.type instanceof NO}}const pv=[],p0={};class mn{constructor(t,n){this.local=t.length?t:pv,this.children=n.length?n:pv}static create(t,n){return n.length?MO(n,t,0,p0):ya}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=n&&s.to>=t&&(!o||o(s.spec))&&r.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,n-s,r,i+s,o)}}map(t,n,r){return this==ya||t.maps.length==0?this:this.mapInner(t,n,0,0,r||p0)}mapInner(t,n,r,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,r,i);l&&l.type.valid(n,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?zRe(this.children,a||[],t,n,r,i,o):a?new mn(a.sort(m0),pv):ya}add(t,n){return n.length?this==ya?mn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((s,l)=>{let c=l+r,d;if(d=Yse(n,s,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,d,c+1):i.splice(o,0,l,l+s.nodeSize,MO(d,s,c+1,p0)),o+=3}});let a=Wse(o?Gse(n):n,-r);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new mn(a.length?this.local.concat(a).sort(m0):this.local,i||this.children)}remove(t){return t.length==0||this==ya?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,s=r[o]+n,l=r[o+1]+n;for(let d=0,u;d<t.length;d++)(u=t[d])&&u.from>s&&u.to<l&&(t[d]=null,(a||(a=[])).push(u));if(!a)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(a,s+1);c!=ya?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<i.length;s++)i[s].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new mn(i,r):ya}forChild(t,n){if(this==ya)return this;if(n.isLeaf)return mn.empty;let r,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(r=this.children[s+2]);break}let o=t+1,a=o+n.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof Wp){let c=Math.max(o,l.from)-o,d=Math.min(a,l.to)-o;c<d&&(i||(i=[])).push(l.copy(c,d))}}if(i){let s=new mn(i.sort(m0),pv);return r?new _p([s,r]):s}return r||ya}eq(t){if(this==t)return!0;if(!(t instanceof mn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return y9(this.localsInner(t))}localsInner(t){if(this==ya)return pv;if(t.inlineContent||!this.local.some(Wp.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Wp||n.push(this.local[r]);return n}forEachSet(t){t(this)}}mn.empty=new mn([],[]);mn.removeOverlap=y9;const ya=mn.empty;class _p{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,p0));return _p.from(r)}forChild(t,n){if(n.isLeaf)return mn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=ya&&(o instanceof _p?r=r.concat(o.members):r.push(o))}return _p.from(r)}eq(t){if(!(t instanceof _p)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?y9(r?n:n.sort(m0)):pv}static from(t){switch(t.length){case 0:return ya;case 1:return t[0];default:return new _p(t.every(n=>n instanceof mn)?t:t.reduce((n,r)=>n.concat(r instanceof mn?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function zRe(e,t,n,r,i,o,a){let s=e.slice();for(let c=0,d=o;c<n.maps.length;c++){let u=0;n.maps[c].forEach((p,m,v,x)=>{let w=x-v-(m-p);for(let T=0;T<s.length;T+=3){let k=s[T+1];if(k<0||p>k+d-u)continue;let O=s[T]+d-u;m>=O?s[T+1]=p<=O?-2:-1:p>=d&&w&&(s[T]+=w,s[T+1]+=w)}u+=w}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){l=!0,s[c+1]=-1;continue}let d=n.map(e[c]+o),u=d-i;if(u<0||u>=r.content.size){l=!0;continue}let p=n.map(e[c+1]+o,-1),m=p-i,{index:v,offset:x}=r.content.findIndex(u),w=r.maybeChild(v);if(w&&x==u&&x+w.nodeSize==m){let T=s[c+2].mapInner(n,w,d+1,e[c]+o+1,a);T!=ya?(s[c]=u,s[c+1]=m,s[c+2]=T):(s[c+1]=-2,l=!0)}else l=!0}if(l){let c=VRe(s,e,t,n,i,o,a),d=MO(c,r,0,a);t=d.local;for(let u=0;u<s.length;u+=3)s[u+1]<0&&(s.splice(u,3),u-=3);for(let u=0,p=0;u<d.children.length;u+=3){let m=d.children[u];for(;p<s.length&&s[p]<m;)p+=3;s.splice(p,0,d.children[u],d.children[u+1],d.children[u+2])}}return new mn(t.sort(m0),s)}function Wse(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new ir(i.from+t,i.to+t,i.type))}return n}function VRe(e,t,n,r,i,o,a){function s(l,c){for(let d=0;d<l.local.length;d++){let u=l.local[d].map(r,i,c);u?n.push(u):a.onRemove&&a.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)s(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&s(e[l+2],t[l]+o+1);return n}function Yse(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,a;o<e.length;o++)(a=e[o])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[o]=null);return i}function Gse(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function MO(e,t,n,r){let i=[],o=!1;t.forEach((s,l)=>{let c=Yse(e,s,l+n);if(c){o=!0;let d=MO(c,s,n+l+1,r);d!=ya&&i.push(l,l+s.nodeSize,d)}});let a=Wse(o?Gse(e):e,-n).sort(m0);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new mn(a,i):ya}function m0(e,t){return e.from-t.from||e.to-t.to}function y9(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),Mq(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),Mq(t,i,r.copy(o.from,r.to)));break}}}return t}function Mq(e,t,n){for(;t<e.length&&m0(n,e[t])>0;)t++;e.splice(t,0,n)}function nP(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=ya&&t.push(r)}),e.cursorWrapper&&t.push(mn.create(e.state.doc,[e.cursorWrapper.deco])),_p.from(t)}const qRe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},WRe=Us&&Vp<=11;let YRe=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}};class GRe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new YRe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Us&&Vp<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),WRe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,qRe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Sq(this.view)){if(this.suppressingSelectionUpdates)return Hf(this.view);if(Us&&Vp<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&N0(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=l1(o))n.add(o);for(let o=t.anchorNode;o;o=l1(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Sq(t)&&!this.ignoreSelectionChange(r),o=-1,a=-1,s=!1,l=[];if(t.editable)for(let d=0;d<n.length;d++){let u=this.registerMutation(n[d],l);u&&(o=o<0?u.from:Math.min(u.from,o),a=a<0?u.to:Math.max(u.to,a),u.typeOver&&(s=!0))}if(fc&&l.length){let d=l.filter(u=>u.nodeName=="BR");if(d.length==2){let[u,p]=d;u.parentNode&&u.parentNode.parentNode==p.parentNode?p.remove():u.remove()}else{let{focusNode:u}=this.currentSelection;for(let p of d){let m=p.parentNode;m&&m.nodeName=="LI"&&(!u||ZRe(t,u)!=m)&&p.remove()}}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&SD(r)&&(c=u9(t))&&c.eq(Zt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Hf(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,a),KRe(t)),this.handleDOMChange(o,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Hf(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let u=t.addedNodes[d];n.push(u),u.nodeType==3&&(this.lastChangedTextNode=u)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(Us&&Vp<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:u,nextSibling:p}=t.addedNodes[d];(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(i=u),(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(o=p)}let a=i&&i.parentNode==t.target?Qo(i)+1:0,s=r.localPosFromDOM(t.target,a,-1),l=o&&o.parentNode==t.target?Qo(o):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:s,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Dq=new WeakMap,Rq=!1;function KRe(e){if(!Dq.has(e)&&(Dq.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=fc,Rq)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Rq=!0}}function Iq(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return N0(a.node,a.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function XRe(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return Iq(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?Iq(e,n):null}function ZRe(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function QRe(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:a,to:s}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,d=l.anchorNode;if(d&&e.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],SD(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Sa&&e.input.lastKeyCode===8)for(let w=o;w>i;w--){let T=r.childNodes[w-1],k=T.pmViewDesc;if(T.nodeName=="BR"&&!k){o=w;break}if(!k||k.size)break}let u=e.state.doc,p=e.someProp("domParser")||hu.fromSchema(e.state.schema),m=u.resolve(a),v=null,x=p.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:o,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:JRe,context:m});if(c&&c[0].pos!=null){let w=c[0].pos,T=c[1]&&c[1].pos;T==null&&(T=w),v={anchor:w+a,head:T+a}}return{doc:x,sel:v,from:a,to:s}}function JRe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(as&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||as&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const e3e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function t3e(e,t,n,r,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let R=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,L=u9(e,R);if(L&&!e.state.selection.eq(L)){if(Sa&&Nf&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",$=>$(e,Kg(13,"Enter"))))return;let B=e.state.tr.setSelection(L);R=="pointer"?B.setMeta("pointer",!0):R=="key"&&B.scrollIntoView(),o&&B.setMeta("composition",o),e.dispatch(B)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(n);t=a.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l=e.state.selection,c=QRe(e,t,n),d=e.state.doc,u=d.slice(c.from,c.to),p,m;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(p=e.state.selection.to,m="end"):(p=e.state.selection.from,m="start"),e.input.lastKeyCode=null;let v=i3e(u.content,c.doc.content,c.from,p,m);if(v&&e.input.domChangeCount++,(c1&&e.input.lastIOSEnter>Date.now()-225||Nf)&&i.some(R=>R.nodeType==1&&!e3e.test(R.nodeName))&&(!v||v.endA>=v.endB)&&e.someProp("handleKeyDown",R=>R(e,Kg(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!v)if(r&&l instanceof St&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))v={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let R=Pq(e,e.state.doc,c.sel);if(R&&!R.eq(e.state.selection)){let L=e.state.tr.setSelection(R);o&&L.setMeta("composition",o),e.dispatch(L)}}return}e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof St&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),Us&&Vp<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>c.from&&c.doc.textBetween(v.start-c.from-1,v.start-c.from+1)==" "&&(v.start--,v.endA--,v.endB--);let x=c.doc.resolveNoCache(v.start-c.from),w=c.doc.resolveNoCache(v.endB-c.from),T=d.resolve(v.start),k=x.sameParent(w)&&x.parent.inlineContent&&T.end()>=v.endA;if((c1&&e.input.lastIOSEnter>Date.now()-225&&(!k||i.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!k&&x.pos<c.doc.content.size&&(!x.sameParent(w)||!x.parent.inlineContent)&&x.pos<w.pos&&!/\S/.test(c.doc.textBetween(x.pos,w.pos,"","")))&&e.someProp("handleKeyDown",R=>R(e,Kg(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>v.start&&r3e(d,v.start,v.endA,x,w)&&e.someProp("handleKeyDown",R=>R(e,Kg(8,"Backspace")))){Nf&&Sa&&e.domObserver.suppressSelectionUpdates();return}Sa&&v.endB==v.start&&(e.input.lastChromeDelete=Date.now()),Nf&&!k&&x.start()!=w.start()&&w.parentOffset==0&&x.depth==w.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==v.endA&&(v.endB-=2,w=c.doc.resolveNoCache(v.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(R){return R(e,Kg(13,"Enter"))})},20));let O=v.start,I=v.endA,N=R=>{let L=R||e.state.tr.replace(O,I,c.doc.slice(v.start-c.from,v.endB-c.from));if(c.sel){let B=Pq(e,L.doc,c.sel);B&&!(Sa&&e.composing&&B.empty&&(v.start!=v.endB||e.input.lastChromeDelete<Date.now()-100)&&(B.head==O||B.head==L.mapping.map(I)-1)||Us&&B.empty&&B.head==O)&&L.setSelection(B)}return o&&L.setMeta("composition",o),L.scrollIntoView()},A;if(k)if(x.pos==w.pos){Us&&Vp<=11&&x.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Hf(e),20));let R=N(e.state.tr.delete(O,I)),L=d.resolve(v.start).marksAcross(d.resolve(v.endA));L&&R.ensureMarks(L),e.dispatch(R)}else if(v.endA==v.endB&&(A=n3e(x.parent.content.cut(x.parentOffset,w.parentOffset),T.parent.content.cut(T.parentOffset,v.endA-T.start())))){let R=N(e.state.tr);A.type=="add"?R.addMark(O,I,A.mark):R.removeMark(O,I,A.mark),e.dispatch(R)}else if(x.parent.child(x.index()).isText&&x.index()==w.index()-(w.textOffset?0:1)){let R=x.parent.textBetween(x.parentOffset,w.parentOffset),L=()=>N(e.state.tr.insertText(R,O,I));e.someProp("handleTextInput",B=>B(e,O,I,R,L))||e.dispatch(L())}else e.dispatch(N());else e.dispatch(N())}function Pq(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:d9(e,t.resolve(n.anchor),t.resolve(n.head))}function n3e(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,a,s,l;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)o=n[d].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=d=>d.mark(s.addToSet(d.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=d=>d.mark(s.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<t.childCount;d++)c.push(l(t.child(d)));if(He.from(c).eq(e))return{mark:s,type:a}}function r3e(e,t,n,r,i){if(n-t<=i.pos-r.pos||rP(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let s=o.nodeAfter;return s!=null&&n==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(rP(o,!0,!0));return!a.parent.isTextblock||a.pos>n||rP(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function rP(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function i3e(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));r-=a+l-o}if(a<o&&e.size<t.size){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<t.size&&Lq(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&Lq(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function Lq(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Kse{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new SRe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Fq),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=$q(this),Bq(this),this.nodeViews=Hq(this),this.docView=yq(this.state.doc,jq(this),nP(this),this.dom,this),this.domObserver=new GRe(this,(r,i,o,a)=>t3e(this,r,i,o,a)),this.domObserver.start(),CRe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&pB(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Fq),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,o=!1,a=!1;t.storedMarks&&this.composing&&(Use(this),a=!0),this.state=t;let s=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=Hq(this);a3e(m,this.nodeViews)&&(this.nodeViews=m,o=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&pB(this),this.editable=$q(this),Bq(this);let l=nP(this),c=jq(this),d=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",u=o||!this.docView.matchesNode(t.doc,c,l);(u||!t.selection.eq(i.selection))&&(a=!0);let p=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&BDe(this);if(a){this.domObserver.stop();let m=u&&(Us||Sa)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&o3e(i.selection,t.selection);if(u){let v=Sa?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=jRe(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=yq(t.doc,c,l,this.dom,this)),v&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&lRe(this))?Hf(this,m):(Nse(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&$De(p)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Rt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&dq(this,n.getBoundingClientRect(),t)}else dq(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new Vse(t.slice,t.move,i<0?void 0:Rt.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[t];if(s!=null&&(i=n?n(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[t];if(s!=null&&(i=n?n(s):s))return i}}hasFocus(){if(Us){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&HDe(this.dom),Hf(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return qDe(this,t)}coordsAtPos(t,n=1){return Ese(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return XDe(this,n||this.state,t)}pasteHTML(t,n){return tC(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return tC(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return f9(this,t)}destroy(){this.docView&&(TRe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],nP(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,_De())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return _Re(this,t)}domSelectionRange(){let t=this.domSelection();return t?as&&this.root.nodeType===11&&DDe(this.dom.ownerDocument)==this.dom&&XRe(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Kse.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function jq(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[ir.node(0,e.state.doc.content.size,t)]}function Bq(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ir.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function $q(e){return!e.someProp("editable",t=>t(e.state)===!1)}function o3e(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Hq(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function a3e(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function Fq(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var em={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},DO={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},s3e=typeof navigator<"u"&&/Mac/.test(navigator.platform),l3e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Jo=0;Jo<10;Jo++)em[48+Jo]=em[96+Jo]=String(Jo);for(var Jo=1;Jo<=24;Jo++)em[Jo+111]="F"+Jo;for(var Jo=65;Jo<=90;Jo++)em[Jo]=String.fromCharCode(Jo+32),DO[Jo]=String.fromCharCode(Jo);for(var iP in em)DO.hasOwnProperty(iP)||(DO[iP]=em[iP]);function c3e(e){var t=s3e&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||l3e&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?DO:em)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const u3e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),d3e=typeof navigator<"u"&&/Win/.test(navigator.platform);function f3e(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))u3e?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function h3e(e){let t=Object.create(null);for(let n in e)t[f3e(n)]=e[n];return t}function oP(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function p3e(e){return new rn({props:{handleKeyDown:b9(e)}})}function b9(e){let t=h3e(e);return function(n,r){let i=c3e(r),o,a=t[oP(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let s=t[oP(i,r,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(d3e&&r.ctrlKey&&r.altKey)&&(o=em[r.keyCode])&&o!=i){let s=t[oP(o,r)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}var m3e=Object.defineProperty,v9=(e,t)=>{for(var n in t)m3e(e,n,{get:t[n],enumerable:!0})};function kD(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var _D=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,s])=>[a,(...c)=>{const d=s(...c)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a=[],s=!!e,l=e||i.tr,c=()=>(!s&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),a.every(u=>u===!0)),d={...Object.fromEntries(Object.entries(n).map(([u,p])=>[u,(...v)=>{const x=this.buildProps(l,t),w=p(...v)(x);return a.push(w),d}])),run:c};return d}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([s,l])=>[s,(...c)=>l(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a={tr:e,editor:r,view:o,state:kD({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([s,l])=>[s,(...c)=>l(...c)(a)]))}};return a}},Xse={};v9(Xse,{blur:()=>g3e,clearContent:()=>y3e,clearNodes:()=>b3e,command:()=>v3e,createParagraphNear:()=>x3e,cut:()=>w3e,deleteCurrentNode:()=>E3e,deleteNode:()=>S3e,deleteRange:()=>C3e,deleteSelection:()=>T3e,enter:()=>k3e,exitCode:()=>_3e,extendMarkRange:()=>A3e,first:()=>O3e,focus:()=>N3e,forEach:()=>M3e,insertContent:()=>D3e,insertContentAt:()=>I3e,joinBackward:()=>j3e,joinDown:()=>L3e,joinForward:()=>B3e,joinItemBackward:()=>$3e,joinItemForward:()=>H3e,joinTextblockBackward:()=>F3e,joinTextblockForward:()=>U3e,joinUp:()=>P3e,keyboardShortcut:()=>V3e,lift:()=>q3e,liftEmptyBlock:()=>W3e,liftListItem:()=>Y3e,newlineInCode:()=>G3e,resetAttributes:()=>K3e,scrollIntoView:()=>X3e,selectAll:()=>Z3e,selectNodeBackward:()=>Q3e,selectNodeForward:()=>J3e,selectParentNode:()=>eIe,selectTextblockEnd:()=>tIe,selectTextblockStart:()=>nIe,setContent:()=>rIe,setMark:()=>yIe,setMeta:()=>bIe,setNode:()=>vIe,setNodeSelection:()=>xIe,setTextDirection:()=>wIe,setTextSelection:()=>EIe,sinkListItem:()=>SIe,splitBlock:()=>CIe,splitListItem:()=>TIe,toggleList:()=>kIe,toggleMark:()=>_Ie,toggleNode:()=>AIe,toggleWrap:()=>OIe,undoInputRule:()=>NIe,unsetAllMarks:()=>MIe,unsetMark:()=>DIe,unsetTextDirection:()=>RIe,updateAttributes:()=>IIe,wrapIn:()=>PIe,wrapInList:()=>LIe});var g3e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),y3e=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),b3e=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:a})=>{e.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;const{doc:c,mapping:d}=t,u=c.resolve(d.map(l)),p=c.resolve(d.map(l+s.nodeSize)),m=u.blockRange(p);if(!m)return;const v=rx(m);if(s.type.isTextblock){const{defaultType:x}=u.parent.contentMatchAt(u.index());t.setNodeMarkup(m.start,x)}(v||v===0)&&t.lift(m,v)})}),!0},v3e=e=>t=>e(t),x3e=()=>({state:e,dispatch:t})=>fse(e,t),w3e=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,o.content),r.setSelection(new St(r.doc.resolve(Math.max(a-1,0)))),!0},E3e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(t){const s=i.before(o),l=i.after(o);e.delete(s,l).scrollIntoView()}return!0}return!1};function Ho(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var S3e=e=>({tr:t,state:n,dispatch:r})=>{const i=Ho(e,n.schema),o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(r){const l=o.before(a),c=o.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},C3e=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},T3e=()=>({state:e,dispatch:t})=>i9(e,t),k3e=()=>({commands:e})=>e.keyboardShortcut("Enter"),_3e=()=>({state:e,dispatch:t})=>fDe(e,t);function x9(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function RO(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:x9(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function Zse(e,t,n={}){return e.find(r=>r.type===t&&RO(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function Uq(e,t,n={}){return!!Zse(e,t,n)}function u1(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!Zse([...i.node.marks],t,n)))return;let a=i.index,s=e.start()+i.offset,l=a+1,c=s+i.node.nodeSize;for(;a>0&&Uq([...e.parent.child(a-1).marks],t,n);)a-=1,s-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&Uq([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:c}}function lh(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var A3e=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=lh(e,r.schema),{doc:a,selection:s}=n,{$from:l,from:c,to:d}=s;if(i){const u=u1(l,o,t);if(u&&u.from<=c&&u.to>=d){const p=St.create(a,u.from,u.to);n.setSelection(p)}}return!0},O3e=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function w9(e){return e instanceof St}function Mf(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Qse(e,t=null){if(!t)return null;const n=Zt.atStart(e),r=Zt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,o=r.to;return t==="all"?St.create(e,Mf(0,i,o),Mf(e.content.size,i,o)):St.create(e,Mf(t,i,o),Mf(t,i,o))}function Jse(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function AD(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var N3e=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const a=()=>{(AD()||Jse())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!w9(n.state.selection))return a(),!0;const s=Qse(i.doc,e)||n.state.selection,l=n.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},M3e=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),D3e=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),ele=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&ele(r)}return e};function Y_(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return ele(n)}function rC(e,t,n){if(e instanceof Bf||e instanceof He)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return He.fromArray(e.map(s=>t.nodeFromJSON(s)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),rC("",t,n)}if(i){if(n.errorOnInvalidContent){let a=!1,s="";const l=new $ae({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,s=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?hu.fromSchema(l).parseSlice(Y_(e),n.parseOptions):hu.fromSchema(l).parse(Y_(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}const o=hu.fromSchema(t);return n.slice?o.parseSlice(Y_(e),n.parseOptions).content:o.parse(Y_(e),n.parseOptions)}return rC("",t,n)}function tle(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof ao||i instanceof Ki))return;const o=e.mapping.maps[r];let a=0;o.forEach((s,l,c,d)=>{a===0&&(a=d)}),e.setSelection(Zt.near(e.doc.resolve(a),n))}var R3e=e=>!("type"in e),I3e=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{var a;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let s;const l=w=>{o.emit("contentError",{editor:o,error:w,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{rC(t,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(w){l(w)}try{s=rC(t,o.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(w){return l(w),!1}let{from:d,to:u}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},p=!0,m=!0;if((R3e(s)?s:[s]).forEach(w=>{w.check(),p=p?w.isText&&w.marks.length===0:!1,m=m?w.isBlock:!1}),d===u&&m){const{parent:w}=r.doc.resolve(d);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(d-=1,u+=1)}let x;if(p){if(Array.isArray(t))x=t.map(w=>w.text||"").join("");else if(t instanceof He){let w="";t.forEach(T=>{T.text&&(w+=T.text)}),x=w}else typeof t=="object"&&t&&t.text?x=t.text:x=t;r.insertText(x,d,u)}else{x=s;const w=r.doc.resolve(d),T=w.node(),k=w.parentOffset===0,O=T.isText||T.isTextblock,I=T.content.size>0;k&&O&&I&&(d=Math.max(0,d-1)),r.replaceWith(d,u,x)}n.updateSelection&&tle(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:x}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:x})}return!0},P3e=()=>({state:e,dispatch:t})=>cDe(e,t),L3e=()=>({state:e,dispatch:t})=>uDe(e,t),j3e=()=>({state:e,dispatch:t})=>ose(e,t),B3e=()=>({state:e,dispatch:t})=>cse(e,t),$3e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=xD(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},H3e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=xD(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},F3e=()=>({state:e,dispatch:t})=>sDe(e,t),U3e=()=>({state:e,dispatch:t})=>lDe(e,t);function nle(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function z3e(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<t.length-1;s+=1){const l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))AD()||nle()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var V3e=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=z3e(e).split(/-(?!$)/),a=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,s))});return l?.steps.forEach(c=>{const d=c.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function iC(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,a=t?Ho(t,e.schema):null,s=[];e.doc.nodesBetween(r,i,(u,p)=>{if(u.isText)return;const m=Math.max(r,p),v=Math.min(i,p+u.nodeSize);s.push({node:u,from:m,to:v})});const l=i-r,c=s.filter(u=>a?a.name===u.node.type.name:!0).filter(u=>RO(u.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((u,p)=>u+p.to-p.from,0)>=l}var q3e=(e,t={})=>({state:n,dispatch:r})=>{const i=Ho(e,n.schema);return iC(n,i,t)?dDe(n,r):!1},W3e=()=>({state:e,dispatch:t})=>hse(e,t),Y3e=e=>({state:t,dispatch:n})=>{const r=Ho(e,t.schema);return SDe(r)(t,n)},G3e=()=>({state:e,dispatch:t})=>dse(e,t);function OD(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function zq(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var K3e=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=OD(typeof e=="string"?e:e.name,r.schema);if(!s)return!1;s==="node"&&(o=Ho(e,r.schema)),s==="mark"&&(a=lh(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,u)=>{o&&o===d.type&&(l=!0,i&&n.setNodeMarkup(u,void 0,zq(d.attrs,t))),a&&d.marks.length&&d.marks.forEach(p=>{a===p.type&&(l=!0,i&&n.addMark(u,u+d.nodeSize,a.create(zq(p.attrs,t))))})})}),l},X3e=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Z3e=()=>({tr:e,dispatch:t})=>{if(t){const n=new Fs(e.doc);e.setSelection(n)}return!0},Q3e=()=>({state:e,dispatch:t})=>sse(e,t),J3e=()=>({state:e,dispatch:t})=>use(e,t),eIe=()=>({state:e,dispatch:t})=>mDe(e,t),tIe=()=>({state:e,dispatch:t})=>bDe(e,t),nIe=()=>({state:e,dispatch:t})=>yDe(e,t);function IO(e,t,n={},r={}){return rC(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var rIe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:a,commands:s})=>{const{doc:l}=o;if(r.preserveWhitespace!=="full"){const c=IO(e,i.schema,r,{errorOnInvalidContent:t??i.options.enableContentCheck});return a&&o.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&o.setMeta("preventUpdate",!n),s.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??i.options.enableContentCheck})};function rle(e,t){const n=lh(t,e.schema),{from:r,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{a.push(...l.marks)});const s=a.find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function ND(e,t){const n=new n9(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function iIe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Vq(e,t){const n=[];return e.descendants((r,i)=>{t(r)&&n.push({node:r,pos:i})}),n}function ile(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function oIe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function MD(e){return t=>oIe(t.$from,e)}function Vt(e,t,n){return e.config[t]===void 0&&e.parent?Vt(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Vt(e.parent,t,n):null}):e.config[t]}function E9(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Vt(t,"addExtensions",n);return r?[t,...E9(r())]:t}).flat(10)}function S9(e,t){const n=Ml.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function ole(e){return typeof e=="function"}function Br(e,t=void 0,...n){return ole(e)?t?e.bind(t)(...n):e(...n):e}function aIe(e={}){return Object.keys(e).length===0&&e.constructor===Object}function d1(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function ale(e){const t=[],{nodeExtensions:n,markExtensions:r}=d1(e),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage,extensions:i},l=Vt(a,"addGlobalAttributes",s);if(!l)return;l().forEach(d=>{d.types.forEach(u=>{Object.entries(d.attributes).forEach(([p,m])=>{t.push({type:u,name:p,attribute:{...o,...m}})})})})}),i.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=Vt(a,"addAttributes",s);if(!l)return;const c=l();Object.entries(c).forEach(([d,u])=>{const p={...o,...u};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,t.push({type:a.name,name:d,attribute:p})})}),t}function Dl(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const s=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],c=s.filter(d=>!l.includes(d));r[i]=[...l,...c].join(" ")}else if(i==="style"){const s=o?o.split(";").map(d=>d.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;l.forEach(d=>{const[u,p]=d.split(":").map(m=>m.trim());c.set(u,p)}),s.forEach(d=>{const[u,p]=d.split(":").map(m=>m.trim());c.set(u,p)}),r[i]=Array.from(c.entries()).map(([d,u])=>`${d}: ${u}`).join("; ")}else r[i]=o}),r},{})}function oC(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Dl(n,r),{})}function sIe(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function qq(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((o,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(n):sIe(n.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...r,...i}}}}function Wq(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&aIe(n)?!1:n!=null))}function Yq(e){var t,n;const r={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(r.default=e.attribute.default),((n=e?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function sle(e,t){var n;const r=ale(e),{nodeExtensions:i,markExtensions:o}=d1(e),a=(n=i.find(c=>Vt(c,"topNode")))==null?void 0:n.name,s=Object.fromEntries(i.map(c=>{const d=r.filter(T=>T.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:t},p=e.reduce((T,k)=>{const O=Vt(k,"extendNodeSchema",u);return{...T,...O?O(c):{}}},{}),m=Wq({...p,content:Br(Vt(c,"content",u)),marks:Br(Vt(c,"marks",u)),group:Br(Vt(c,"group",u)),inline:Br(Vt(c,"inline",u)),atom:Br(Vt(c,"atom",u)),selectable:Br(Vt(c,"selectable",u)),draggable:Br(Vt(c,"draggable",u)),code:Br(Vt(c,"code",u)),whitespace:Br(Vt(c,"whitespace",u)),linebreakReplacement:Br(Vt(c,"linebreakReplacement",u)),defining:Br(Vt(c,"defining",u)),isolating:Br(Vt(c,"isolating",u)),attrs:Object.fromEntries(d.map(Yq))}),v=Br(Vt(c,"parseHTML",u));v&&(m.parseDOM=v.map(T=>qq(T,d)));const x=Vt(c,"renderHTML",u);x&&(m.toDOM=T=>x({node:T,HTMLAttributes:oC(T,d)}));const w=Vt(c,"renderText",u);return w&&(m.toText=w),[c.name,m]})),l=Object.fromEntries(o.map(c=>{const d=r.filter(w=>w.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:t},p=e.reduce((w,T)=>{const k=Vt(T,"extendMarkSchema",u);return{...w,...k?k(c):{}}},{}),m=Wq({...p,inclusive:Br(Vt(c,"inclusive",u)),excludes:Br(Vt(c,"excludes",u)),group:Br(Vt(c,"group",u)),spanning:Br(Vt(c,"spanning",u)),code:Br(Vt(c,"code",u)),attrs:Object.fromEntries(d.map(Yq))}),v=Br(Vt(c,"parseHTML",u));v&&(m.parseDOM=v.map(w=>qq(w,d)));const x=Vt(c,"renderHTML",u);return x&&(m.toDOM=w=>x({mark:w,HTMLAttributes:oC(w,d)})),[c.name,m]}));return new $ae({topNode:a,nodes:s,marks:l})}function lIe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function C9(e){return e.sort((n,r)=>{const i=Vt(n,"priority")||100,o=Vt(r,"priority")||100;return i>o?-1:i<o?1:0})}function T9(e){const t=C9(E9(e)),n=lIe(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function cIe(e,t){const n=T9(e);return sle(n,t)}function lle(e,t,n){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:a={}}=n||{};let s="";return e.nodesBetween(r,i,(l,c,d,u)=>{var p;l.isBlock&&c>r&&(s+=o);const m=a?.[l.type.name];if(m)return d&&(s+=m({node:l,pos:c,parent:d,index:u,range:t})),!1;l.isText&&(s+=(p=l?.text)==null?void 0:p.slice(Math.max(r,c)-c,i-c))}),s}function uIe(e,t){const n={from:0,to:e.content.size};return lle(e,n,t)}function cle(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function dIe(e,t){const n=Ho(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,s=>{o.push(s)});const a=o.reverse().find(s=>s.type.name===n.name);return a?{...a.attrs}:{}}function ule(e,t){const n=OD(typeof t=="string"?t:t.name,e.schema);return n==="node"?dIe(e,t):n==="mark"?rle(e,t):{}}function fIe(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function hIe(e){const t=fIe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((o,a)=>a!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function k9(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((s,l)=>{a.push({from:s,to:l})});else{const{from:s,to:l}=n[o];if(s===void 0||l===void 0)return;a.push({from:s,to:l})}a.forEach(({from:s,to:l})=>{const c=t.slice(o).map(s,-1),d=t.slice(o).map(l),u=t.invert().map(c,-1),p=t.invert().map(d);r.push({oldRange:{from:u,to:p},newRange:{from:c,to:d}})})}),hIe(r)}function _9(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e),a=u1(o,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(e,t,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),r}function aP(e,t){return t.nodes[e]||t.marks[e]||null}function WA(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var pIe=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,o,a,s)=>{var l,c;const d=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-o))}),n};function mB(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?lh(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(u=>o?o.name===u.type.name:!0).find(u=>RO(u.attrs,n,{strict:!1}));let a=0;const s=[];if(i.forEach(({$from:u,$to:p})=>{const m=u.pos,v=p.pos;e.doc.nodesBetween(m,v,(x,w)=>{if(!x.isText&&!x.marks.length)return;const T=Math.max(m,w),k=Math.min(v,w+x.nodeSize),O=k-T;a+=O,s.push(...x.marks.map(I=>({mark:I,from:T,to:k})))})}),a===0)return!1;const l=s.filter(u=>o?o.name===u.mark.type.name:!0).filter(u=>RO(u.mark.attrs,n,{strict:!1})).reduce((u,p)=>u+p.to-p.from,0),c=s.filter(u=>o?u.mark.type!==o&&u.mark.type.excludes(o):!0).reduce((u,p)=>u+p.to-p.from,0);return(l>0?l+c:l)>=a}function mIe(e,t,n={}){if(!t)return iC(e,null,n)||mB(e,null,n);const r=OD(t,e.schema);return r==="node"?iC(e,t,n):r==="mark"?mB(e,t,n):!1}function Gq(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function Kq(e,t){const{nodeExtensions:n}=d1(t),r=n.find(a=>a.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Br(Vt(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function DD(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(DD(o,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function PO(e){return e instanceof Rt}function LO(e,t,n){const i=e.state.doc.content.size,o=Mf(t,0,i),a=Mf(n,0,i),s=e.coordsAtPos(o),l=e.coordsAtPos(a,-1),c=Math.min(s.top,l.top),d=Math.max(s.bottom,l.bottom),u=Math.min(s.left,l.left),p=Math.max(s.right,l.right),m=p-u,v=d-c,T={top:c,bottom:d,left:u,right:p,width:m,height:v,x:u,y:c};return{...T,toJSON:()=>T}}function gIe(e,t,n){var r;const{selection:i}=t;let o=null;if(w9(i)&&(o=i.$cursor),o){const s=(r=e.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(s)||!s.some(c=>c.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let c=s.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(s.pos,l.pos,(d,u,p)=>{if(c)return!1;if(d.isInline){const m=!p||p.type.allowsMarkType(n),v=!!n.isInSet(d.marks)||!d.marks.some(x=>x.type.excludes(n));c=m&&v}return!c}),c})}var yIe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:a,ranges:s}=o,l=lh(e,r.schema);if(i)if(a){const c=rle(r,l);n.addStoredMark(l.create({...c,...t}))}else s.forEach(c=>{const d=c.$from.pos,u=c.$to.pos;r.doc.nodesBetween(d,u,(p,m)=>{const v=Math.max(m,d),x=Math.min(m+p.nodeSize,u);p.marks.find(T=>T.type===l)?p.marks.forEach(T=>{l===T.type&&n.addMark(v,x,l.create({...T.attrs,...t}))}):n.addMark(v,x,l.create(t))})});return gIe(r,n,l)},bIe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),vIe=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=Ho(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:s})=>lq(o,{...a,...t})(n)?!0:s.clearNodes()).command(({state:s})=>lq(o,{...a,...t})(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},xIe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=Mf(e,0,r.content.size),o=Rt.create(r,i);t.setSelection(o)}return!0},wIe=(e,t)=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=r;let a,s;return typeof t=="number"?(a=t,s=t):t&&"from"in t&&"to"in t?(a=t.from,s=t.to):(a=o.from,s=o.to),i&&n.doc.nodesBetween(a,s,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},EIe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,a=St.atStart(r).from,s=St.atEnd(r).to,l=Mf(i,a,s),c=Mf(o,a,s),d=St.create(r,l,c);t.setSelection(d)}return!0},SIe=e=>({state:t,dispatch:n})=>{const r=Ho(e,t.schema);return kDe(r)(t,n)};function Xq(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t?.includes(i.type.name));e.tr.ensureMarks(r)}}var CIe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:a}=t,{$from:s,$to:l}=o,c=i.extensionManager.attributes,d=WA(c,s.node().type.name,s.node().attrs);if(o instanceof Rt&&o.node.isBlock)return!s.parentOffset||!$f(a,s.pos)?!1:(r&&(e&&Xq(n,i.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const u=l.parentOffset===l.parent.content.size,p=s.depth===0?void 0:iIe(s.node(-1).contentMatchAt(s.indexAfter(-1)));let m=u&&p?[{type:p,attrs:d}]:void 0,v=$f(t.doc,t.mapping.map(s.pos),1,m);if(!m&&!v&&$f(t.doc,t.mapping.map(s.pos),1,p?[{type:p}]:void 0)&&(v=!0,m=p?[{type:p,attrs:d}]:void 0),r){if(v&&(o instanceof St&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,m),p&&!u&&!s.parentOffset&&s.parent.type!==p)){const x=t.mapping.map(s.before()),w=t.doc.resolve(x);s.node(-1).canReplaceWith(w.index(),w.index()+1,p)&&t.setNodeMarkup(t.mapping.map(s.before()),p)}e&&Xq(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return v},TIe=(e,t={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var a;const s=Ho(e,r.schema),{$from:l,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const u=l.node(-1);if(u.type!==s)return!1;const p=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let T=He.empty;const k=l.index(-1)?1:l.index(-2)?2:3;for(let L=l.depth-k;L>=l.depth-3;L-=1)T=He.from(l.node(L).copy(T));const O=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,I={...WA(p,l.node().type.name,l.node().attrs),...t},N=((a=s.contentMatch.defaultType)==null?void 0:a.createAndFill(I))||void 0;T=T.append(He.from(s.createAndFill(null,N)||void 0));const A=l.before(l.depth-(k-1));n.replace(A,l.after(-O),new at(T,4-k,0));let R=-1;n.doc.nodesBetween(A,n.doc.content.size,(L,B)=>{if(R>-1)return!1;L.isTextblock&&L.content.size===0&&(R=B+1)}),R>-1&&n.setSelection(St.near(n.doc.resolve(R))),n.scrollIntoView()}return!0}const m=c.pos===l.end()?u.contentMatchAt(0).defaultType:null,v={...WA(p,u.type.name,u.attrs),...t},x={...WA(p,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const w=m?[{type:s,attrs:v},{type:m,attrs:x}]:[{type:s,attrs:v}];if(!$f(n.doc,l.pos,2))return!1;if(i){const{selection:T,storedMarks:k}=r,{splittableMarks:O}=o.extensionManager,I=k||T.$to.parentOffset&&T.$from.marks();if(n.split(l.pos,2,w).scrollIntoView(),!I||!i)return!0;const N=I.filter(A=>O.includes(A.type.name));n.ensureMarks(N)}return!0},sP=(e,t)=>{const n=MD(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&ry(e.doc,n.pos)&&e.join(n.pos),!0},lP=(e,t)=>{const n=MD(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&ry(e.doc,r)&&e.join(r),!0},kIe=(e,t,n,r={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:c,can:d})=>{const{extensions:u,splittableMarks:p}=i.extensionManager,m=Ho(e,a.schema),v=Ho(t,a.schema),{selection:x,storedMarks:w}=a,{$from:T,$to:k}=x,O=T.blockRange(k),I=w||x.$to.parentOffset&&x.$from.marks();if(!O)return!1;const N=MD(A=>Kq(A.type.name,u))(x);if(O.depth>=1&&N&&O.depth-N.depth<=1){if(N.node.type===m)return c.liftListItem(v);if(Kq(N.node.type.name,u)&&m.validContent(N.node.content)&&s)return l().command(()=>(o.setNodeMarkup(N.pos,m),!0)).command(()=>sP(o,m)).command(()=>lP(o,m)).run()}return!n||!I||!s?l().command(()=>d().wrapInList(m,r)?!0:c.clearNodes()).wrapInList(m,r).command(()=>sP(o,m)).command(()=>lP(o,m)).run():l().command(()=>{const A=d().wrapInList(m,r),R=I.filter(L=>p.includes(L.type.name));return o.ensureMarks(R),A?!0:c.clearNodes()}).wrapInList(m,r).command(()=>sP(o,m)).command(()=>lP(o,m)).run()},_Ie=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,a=lh(e,r.schema);return mB(r,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)},AIe=(e,t,n={})=>({state:r,commands:i})=>{const o=Ho(e,r.schema),a=Ho(t,r.schema),s=iC(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),s?i.setNode(a,l):i.setNode(o,{...l,...n})},OIe=(e,t={})=>({state:n,commands:r})=>{const i=Ho(e,n.schema);return iC(n,i,t)?r.lift(i):r.wrapIn(i,t)},NIe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const a=e.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){const l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},MIe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},DIe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=lh(e,r.schema),{$from:c,empty:d,ranges:u}=s;if(!i)return!0;if(d&&a){let{from:p,to:m}=s;const v=(o=c.marks().find(w=>w.type===l))==null?void 0:o.attrs,x=u1(c,l,v);x&&(p=x.from,m=x.to),n.removeMark(p,m,l)}else u.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},RIe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:i}=n;let o,a;return typeof e=="number"?(o=e,a=e):e&&"from"in e&&"to"in e?(o=e.from,a=e.to):(o=i.from,a=i.to),r&&t.doc.nodesBetween(o,a,(s,l)=>{if(s.isText)return;const c={...s.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},IIe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=OD(typeof e=="string"?e:e.name,r.schema);if(!s)return!1;s==="node"&&(o=Ho(e,r.schema)),s==="mark"&&(a=lh(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const d=c.$from.pos,u=c.$to.pos;let p,m,v,x;n.selection.empty?r.doc.nodesBetween(d,u,(w,T)=>{o&&o===w.type&&(l=!0,v=Math.max(T,d),x=Math.min(T+w.nodeSize,u),p=T,m=w)}):r.doc.nodesBetween(d,u,(w,T)=>{T<d&&o&&o===w.type&&(l=!0,v=Math.max(T,d),x=Math.min(T+w.nodeSize,u),p=T,m=w),T>=d&&T<=u&&(o&&o===w.type&&(l=!0,i&&n.setNodeMarkup(T,void 0,{...w.attrs,...t})),a&&w.marks.length&&w.marks.forEach(k=>{if(a===k.type&&(l=!0,i)){const O=Math.max(T,d),I=Math.min(T+w.nodeSize,u);n.addMark(O,I,a.create({...k.attrs,...t}))}}))}),m&&(p!==void 0&&i&&n.setNodeMarkup(p,void 0,{...m.attrs,...t}),a&&m.marks.length&&m.marks.forEach(w=>{a===w.type&&i&&n.addMark(v,x,a.create({...w.attrs,...t}))}))}),l},PIe=(e,t={})=>({state:n,dispatch:r})=>{const i=Ho(e,n.schema);return vDe(i,t)(n,r)},LIe=(e,t={})=>({state:n,dispatch:r})=>{const i=Ho(e,n.schema);return xDe(i,t)(n,r)},jIe=class{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}once(t,n){const r=(...i)=>{this.off(t,r),n.apply(this,i)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},dle=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},BIe=(e,t)=>{if(x9(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function G_(e){var t;const{editor:n,from:r,to:i,text:o,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(p=>p.type.spec.code))return!1;let d=!1;const u=pIe(c)+o;return a.forEach(p=>{if(d)return;const m=BIe(u,p.find);if(!m)return;const v=l.state.tr,x=kD({state:l.state,transaction:v}),w={from:r-(m[0].length-o.length),to:i},{commands:T,chain:k,can:O}=new _D({editor:n,state:x});p.handler({state:x,range:w,match:m,commands:T,chain:k,can:O})===null||!v.steps.length||(p.undoable&&v.setMeta(s,{transform:v,from:r,to:i,text:o}),l.dispatch(v),d=!0)}),d}function $Ie(e){const{editor:t,rules:n}=e,r=new rn({state:{init(){return null},apply(i,o,a){const s=i.getMeta(r);if(s)return s;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=S9(He.from(d),a.schema);const{from:u}=l,p=u+d.length;G_({editor:t,from:u,to:p,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,s){return G_({editor:t,from:o,to:a,text:s,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&G_({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?G_({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function HIe(e){return Object.prototype.toString.call(e).slice(8,-1)}function K_(e){return HIe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function fle(e,t){const n={...e};return K_(e)&&K_(t)&&Object.keys(t).forEach(r=>{K_(t[r])&&K_(e[r])?n[r]=fle(e[r],t[r]):n[r]=t[r]}),n}var A9=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Br(Vt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Br(Vt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>fle(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},jl=class hle extends A9{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new hle(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(c=>c?.type.name===n.name))return!1;const l=a.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function FIe(e){return typeof e=="number"}var UIe=class{constructor(e){this.find=e.find,this.handler=e.handler}},zIe=(e,t,n)=>{if(x9(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function VIe(e){const{editor:t,state:n,from:r,to:i,rule:o,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:d}=new _D({editor:t,state:n}),u=[];return n.doc.nodesBetween(r,i,(m,v)=>{var x,w,T,k,O;if((w=(x=m.type)==null?void 0:x.spec)!=null&&w.code||!(m.isText||m.isTextblock||m.isInline))return;const I=(O=(k=(T=m.content)==null?void 0:T.size)!=null?k:m.nodeSize)!=null?O:0,N=Math.max(r,v),A=Math.min(i,v+I);if(N>=A)return;const R=m.isText?m.text||"":m.textBetween(N-v,A-v,void 0,"");zIe(R,o.find,a).forEach(B=>{if(B.index===void 0)return;const $=N+B.index+1,q=$+B[0].length,z={from:n.tr.mapping.map($),to:n.tr.mapping.map(q)},W=o.handler({state:n,range:z,match:B,commands:l,chain:c,can:d,pasteEvent:a,dropEvent:s});u.push(W)})}),u.every(m=>m!==null)}var X_=null,qIe=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function WIe(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,s;try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}const l=({state:d,from:u,to:p,rule:m,pasteEvt:v})=>{const x=d.tr,w=kD({state:d,transaction:x});if(!(!VIe({editor:t,state:w,from:Math.max(u-1,0),to:p.b-1,rule:m,pasteEvent:v,dropEvent:s})||!x.steps.length)){try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return n.map(d=>new rn({view(u){const p=v=>{var x;r=(x=u.dom.parentElement)!=null&&x.contains(v.target)?u.dom.parentElement:null,r&&(X_=t)},m=()=>{X_&&(X_=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(u,p)=>{if(o=r===u.dom.parentElement,s=p,!o){const m=X_;m?.isEditable&&setTimeout(()=>{const v=m.state.selection;v&&m.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(u,p)=>{var m;const v=(m=p.clipboardData)==null?void 0:m.getData("text/html");return a=p,i=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(u,p,m)=>{const v=u[0],x=v.getMeta("uiEvent")==="paste"&&!i,w=v.getMeta("uiEvent")==="drop"&&!o,T=v.getMeta("applyPasteRules"),k=!!T;if(!x&&!w&&!k)return;if(k){let{text:N}=T;typeof N=="string"?N=N:N=S9(He.from(N),m.schema);const{from:A}=T,R=A+N.length,L=qIe(N);return l({rule:d,state:m,from:A,to:{b:R},pasteEvt:L})}const O=p.doc.content.findDiffStart(m.doc.content),I=p.doc.content.findDiffEnd(m.doc.content);if(!(!FIe(O)||!I||O===I.b))return l({rule:d,state:m,from:O,to:I,pasteEvt:a})}}))}var RD=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=T9(e),this.schema=sle(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:aP(t.name,this.schema)},r=Vt(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return C9([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:aP(r.name,this.schema)},o=[],a=Vt(r,"addKeyboardShortcuts",i);let s={};if(r.type==="mark"&&Vt(r,"exitable",i)&&(s.ArrowRight=()=>jl.handleExit({editor:e,mark:r})),a){const p=Object.fromEntries(Object.entries(a()).map(([m,v])=>[m,()=>v({editor:e})]));s={...s,...p}}const l=p3e(s);o.push(l);const c=Vt(r,"addInputRules",i);if(Gq(r,e.options.enableInputRules)&&c){const p=c();if(p&&p.length){const m=$Ie({editor:e,rules:p}),v=Array.isArray(m)?m:[m];o.push(...v)}}const d=Vt(r,"addPasteRules",i);if(Gq(r,e.options.enablePasteRules)&&d){const p=d();if(p&&p.length){const m=WIe({editor:e,rules:p});o.push(...m)}}const u=Vt(r,"addProseMirrorPlugins",i);if(u){const p=u();o.push(...p)}return o})}get attributes(){return ale(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=d1(this.extensions);return Object.fromEntries(t.filter(n=>!!Vt(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Ho(n.name,this.schema)},o=Vt(n,"addNodeView",i);if(!o)return[];const a=o();if(!a)return[];const s=(l,c,d,u,p)=>{const m=oC(l,r);return a({node:l,view:c,getPos:d,decorations:u,innerDecorations:p,editor:e,extension:n,HTMLAttributes:m})};return[n.name,s]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=d1(this.extensions);return Object.fromEntries(t.filter(n=>!!Vt(n,"addMarkView")).map(n=>{const r=this.attributes.filter(s=>s.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:lh(n.name,this.schema)},o=Vt(n,"addMarkView",i);if(!o)return[];const a=(s,l,c)=>{const d=oC(s,r);return o()({mark:s,view:l,inline:c,editor:e,extension:n,HTMLAttributes:d,updateAttributes:u=>{oPe(s,e,u)}})};return[n.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:aP(t.name,this.schema)};t.type==="mark"&&((n=Br(Vt(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=Vt(t,"onBeforeCreate",r),o=Vt(t,"onCreate",r),a=Vt(t,"onUpdate",r),s=Vt(t,"onSelectionUpdate",r),l=Vt(t,"onTransaction",r),c=Vt(t,"onFocus",r),d=Vt(t,"onBlur",r),u=Vt(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),u&&this.editor.on("destroy",u)})}};RD.resolve=T9;RD.sort=C9;RD.flatten=E9;var mv={};v9(mv,{ClipboardTextSerializer:()=>mle,Commands:()=>gle,Delete:()=>yle,Drop:()=>ble,Editable:()=>vle,FocusEvents:()=>wle,Keymap:()=>Ele,Paste:()=>Sle,Tabindex:()=>Cle,TextDirection:()=>Tle,focusEventsPluginKey:()=>xle});var ur=class ple extends A9{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new ple(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},mle=ur.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new rn({key:new wn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map(d=>d.$from.pos)),s=Math.max(...o.map(d=>d.$to.pos)),l=cle(n);return lle(r,{from:a,to:s},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),gle=ur.create({name:"commands",addCommands(){return{...Xse}}}),yle=ur.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const o=()=>{var a,s,l,c;if((c=(l=(s=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:s.filterTransaction)==null?void 0:l.call(s,e))!=null?c:e.getMeta("y-sync$"))return;const d=ND(e.before,[e,...t]);k9(d).forEach(m=>{d.mapping.mapResult(m.oldRange.from).deletedAfter&&d.mapping.mapResult(m.oldRange.to).deletedBefore&&d.before.nodesBetween(m.oldRange.from,m.oldRange.to,(v,x)=>{const w=x+v.nodeSize-2,T=m.oldRange.from<=x&&w<=m.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:x,to:w,newFrom:d.mapping.map(x),newTo:d.mapping.map(w),deletedRange:m.oldRange,newRange:m.newRange,partial:!T,editor:this.editor,transaction:e,combinedTransform:d})})});const p=d.mapping;d.steps.forEach((m,v)=>{var x,w;if(m instanceof su){const T=p.slice(v).map(m.from,-1),k=p.slice(v).map(m.to),O=p.invert().map(T,-1),I=p.invert().map(k),N=(x=d.doc.nodeAt(T-1))==null?void 0:x.marks.some(R=>R.eq(m.mark)),A=(w=d.doc.nodeAt(k))==null?void 0:w.marks.some(R=>R.eq(m.mark));this.editor.emit("delete",{type:"mark",mark:m.mark,from:m.from,to:m.to,deletedRange:{from:O,to:I},newRange:{from:T,to:k},partial:!!(A||N),editor:this.editor,transaction:e,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),ble=ur.create({name:"drop",addProseMirrorPlugins(){return[new rn({key:new wn("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),vle=ur.create({name:"editable",addProseMirrorPlugins(){return[new rn({key:new wn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),xle=new wn("focusEvents"),wle=ur.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new rn({key:xle,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Ele=ur.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:c}=s,{empty:d,$anchor:u}=l,{pos:p,parent:m}=u,v=u.parent.isTextblock&&p>0?s.doc.resolve(p-1):u,x=v.parent.type.spec.isolating,w=u.pos-u.parentOffset,T=x&&v.parent.childCount===1?w===u.pos:Zt.atStart(c).from===p;return!d||!m.type.isTextblock||m.textContent.length||!T||T&&u.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return AD()||nle()?o:i},addProseMirrorPlugins(){return[new rn({key:new wn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(x=>x.getMeta("composition")))return;const r=e.some(x=>x.docChanged)&&!t.doc.eq(n.doc),i=e.some(x=>x.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:a,to:s}=t.selection,l=Zt.atStart(t.doc).from,c=Zt.atEnd(t.doc).to;if(o||!(a===l&&s===c)||!DD(n.doc))return;const p=n.tr,m=kD({state:n,transaction:p}),{commands:v}=new _D({editor:this.editor,state:m});if(v.clearNodes(),!!p.steps.length)return p}})]}}),Sle=ur.create({name:"paste",addProseMirrorPlugins(){return[new rn({key:new wn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Cle=ur.create({name:"tabindex",addProseMirrorPlugins(){return[new rn({key:new wn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Tle=ur.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=d1(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new rn({key:new wn("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),YIe=class gv{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new gv(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new gv(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new gv(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(a);if(!i&&s.depth<=this.depth)return;const l=new gv(s,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new gv(s,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const o=i.node.attrs,a=Object.keys(n);for(let s=0;s<a.length;s+=1){const l=a[s];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===t&&o.every(l=>n[l]===a.node.attrs[l])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},GIe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function KIe(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var XIe=class extends jIe{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=Qse(t,this.options.autofocus);this.editorState=Cv.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=KIe(GIe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=ole(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(o))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[vle,mle.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),gle,wle,Ele,Cle,ble,Sle,yle,Tle.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new RD(r,this)}createCommandManager(){this.commandManager=new _D({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=IO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=IO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new Kse(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(c)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),s=a?.getMeta("focus"),l=a?.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(e.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||o.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return ule(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return mIe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return S9(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return uIe(this.state.doc,{blockSeparator:t,textSerializers:{...cle(this.schema),...n}})}get isEmpty(){return DD(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new YIe(t,this)}get $doc(){return this.$pos(0)}};function f1(e){return new dle({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Br(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,a=r[r.length-1],s=r[0];if(a){const l=s.search(/\S/),c=n.from+s.indexOf(a),d=c+a.length;if(_9(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(x=>x===e.type&&x!==m.mark.type)).filter(m=>m.to>c).length)return null;d<n.to&&o.delete(d,n.to),c>n.from&&o.delete(n.from+l,c);const p=n.from+l+a.length;o.addMark(n.from+l,p,e.type.create(i||{})),o.removeStoredMark(e.type)}},undoable:e.undoable})}var ZIe={};v9(ZIe,{createAtomBlockMarkdownSpec:()=>QIe,createBlockMarkdownSpec:()=>JIe,createInlineMarkdownSpec:()=>nPe,parseAttributes:()=>O9,parseIndentedBlocks:()=>rPe,renderNestedMarkdownContent:()=>iPe,serializeAttributes:()=>N9});function O9(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(d=>d.trim().slice(1));t.class=c.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(t.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,d])=>{var u;const p=parseInt(((u=d.match(/__QUOTED_(\d+)__/))==null?void 0:u[1])||"0",10),m=n[p];m&&(t[c]=m.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(t[d]=!0)}),t}function N9(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function QIe(e){const{nodeName:t,name:n,parseAttributes:r=O9,serializeAttributes:i=N9,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:s}=e,l=n||t,c=d=>{if(!s)return d;const u={};return s.forEach(p=>{p in d&&(u[p]=d[p])}),u};return{parseMarkdown:(d,u)=>{const p={...o,...d.attributes};return u.createNode(t,p,[])},markdownTokenizer:{name:t,level:"block",start(d){var u;const p=new RegExp(`^:::${l}(?:\\s|$)`,"m"),m=(u=d.match(p))==null?void 0:u.index;return m!==void 0?m:-1},tokenize(d,u,p){const m=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=d.match(m);if(!v)return;const x=v[1]||"",w=r(x);if(!a.find(k=>!(k in w)))return{type:t,raw:v[0],attributes:w}}},renderMarkdown:d=>{const u=c(d.attrs||{}),p=i(u),m=p?` {${p}}`:"";return`:::${l}${m} :::`}}}function JIe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=O9,serializeAttributes:o=N9,defaultAttributes:a={},content:s="block",allowedAttributes:l}=e,c=n||t,d=u=>{if(!l)return u;const p={};return l.forEach(m=>{m in u&&(p[m]=u[m])}),p};return{parseMarkdown:(u,p)=>{let m;if(r){const x=r(u);m=typeof x=="string"?[{type:"text",text:x}]:x}else s==="block"?m=p.parseChildren(u.tokens||[]):m=p.parseInline(u.tokens||[]);const v={...a,...u.attributes};return p.createNode(t,v,m)},markdownTokenizer:{name:t,level:"block",start(u){var p;const m=new RegExp(`^:::${c}`,"m"),v=(p=u.match(m))==null?void 0:p.index;return v!==void 0?v:-1},tokenize(u,p,m){var v;const x=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),w=u.match(x);if(!w)return;const[T,k=""]=w,O=i(k);let I=1;const N=T.length;let A="";const R=/^:::([\w-]*)(\s.*)?/gm,L=u.slice(N);for(R.lastIndex=0;;){const B=R.exec(L);if(B===null)break;const $=B.index,q=B[1];if(!((v=B[2])!=null&&v.endsWith(":::"))){if(q)I+=1;else if(I-=1,I===0){const z=L.slice(0,$);A=z.trim();const W=u.slice(0,N+$+B[0].length);let G=[];if(A)if(s==="block")for(G=m.blockTokens(z),G.forEach(Z=>{Z.text&&(!Z.tokens||Z.tokens.length===0)&&(Z.tokens=m.inlineTokens(Z.text))});G.length>0;){const Z=G[G.length-1];if(Z.type==="paragraph"&&(!Z.text||Z.text.trim()===""))G.pop();else break}else G=m.inlineTokens(A);return{type:t,raw:W,attributes:O,content:A,tokens:G}}}}}},renderMarkdown:(u,p)=>{const m=d(u.attrs||{}),v=o(m),x=v?` {${v}}`:"",w=p.renderChildren(u.content||[],`

`);return`:::${c}${x}

${w}

:::`}}}function ePe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,i,o,a]=r;t[i]=o||a,r=n.exec(e)}return t}function tPe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function nPe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=ePe,serializeAttributes:o=tPe,defaultAttributes:a={},selfClosing:s=!1,allowedAttributes:l}=e,c=n||t,d=p=>{if(!l)return p;const m={};return l.forEach(v=>{v in p&&(m[v]=p[v])}),m},u=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,m)=>{const v={...a,...p.attributes};if(s)return m.createNode(t,v);const x=r?r(p):p.content||"";return x?m.createNode(t,v,[m.createTextNode(x)]):m.createNode(t,v,[])},markdownTokenizer:{name:t,level:"inline",start(p){const m=s?new RegExp(`\\[${u}\\s*[^\\]]*\\]`):new RegExp(`\\[${u}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${u}\\]`),v=p.match(m),x=v?.index;return x!==void 0?x:-1},tokenize(p,m,v){const x=s?new RegExp(`^\\[${u}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${u}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${u}\\]`),w=p.match(x);if(!w)return;let T="",k="";if(s){const[,I]=w;k=I}else{const[,I,N]=w;k=I,T=N||""}const O=i(k.trim());return{type:t,raw:w[0],content:T.trim(),attributes:O}}},renderMarkdown:p=>{let m="";r?m=r(p):p.content&&p.content.length>0&&(m=p.content.filter(T=>T.type==="text").map(T=>T.text).join(""));const v=d(p.attrs||{}),x=o(v),w=x?` ${x}`:"";return s?`[${c}${w}]`:`[${c}${w}]${m}[/${c}]`}}}function rPe(e,t,n){var r,i,o,a;const s=e.split(`
`),l=[];let c="",d=0;const u=t.baseIndentSize||2;for(;d<s.length;){const p=s[d],m=p.match(t.itemPattern);if(!m){if(l.length>0)break;if(p.trim()===""){d+=1,c=`${c}${p}
`;continue}else return}const v=t.extractItemData(m),{indentLevel:x,mainContent:w}=v;c=`${c}${p}
`;const T=[w];for(d+=1;d<s.length;){const N=s[d];if(N.trim()===""){const R=s.slice(d+1).findIndex($=>$.trim()!=="");if(R===-1)break;if((((i=(r=s[d+1+R].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>x){T.push(N),c=`${c}${N}
`,d+=1;continue}else break}if((((a=(o=N.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>x)T.push(N),c=`${c}${N}
`,d+=1;else break}let k;const O=T.slice(1);if(O.length>0){const N=O.map(A=>A.slice(x+u)).join(`
`);N.trim()&&(t.customNestedParser?k=t.customNestedParser(N):k=n.blockTokens(N))}const I=t.createToken(v,k);l.push(I)}if(l.length!==0)return{items:l,raw:c}}function iPe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const i=typeof n=="function"?n(r):n,[o,...a]=e.content,s=t.renderChildren([o]),l=[`${i}${s}`];return a&&a.length>0&&a.forEach(c=>{const d=t.renderChildren([c]);if(d){const u=d.split(`
`).map(p=>p?t.indent(p):"").join(`
`);l.push(u)}}),l.join(`
`)}function oPe(e,t,n={}){const{state:r}=t,{doc:i,tr:o}=r,a=e;i.descendants((s,l)=>{const c=o.mapping.map(l),d=o.mapping.map(l)+s.nodeSize;let u=null;if(s.marks.forEach(m=>{if(m!==a)return!1;u=m}),!u)return;let p=!1;if(Object.keys(n).forEach(m=>{n[m]!==u.attrs[m]&&(p=!0)}),p){const m=e.type.create({...e.attrs,...n});o.removeMark(c,d,e.type),o.addMark(c,d,m)}}),o.docChanged&&t.view.dispatch(o)}var qs=class kle extends A9{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new kle(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},aPe=class{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,r,i,o,a,s;const{view:l}=this.editor,c=e.target,d=c.nodeType===3?(t=c.parentElement)==null?void 0:t.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||(n=this.contentDOM)!=null&&n.contains(c)||!d)return;let u=0,p=0;if(this.dom!==d){const k=this.dom.getBoundingClientRect(),O=d.getBoundingClientRect(),I=(i=e.offsetX)!=null?i:(r=e.nativeEvent)==null?void 0:r.offsetX,N=(a=e.offsetY)!=null?a:(o=e.nativeEvent)==null?void 0:o.offsetY;u=O.x-k.x+I,p=O.y-k.y+N}const m=this.dom.cloneNode(!0);try{const k=this.dom.getBoundingClientRect();m.style.width=`${Math.round(k.width)}px`,m.style.height=`${Math.round(k.height)}px`,m.style.boxSizing="border-box",m.style.pointerEvents="none"}catch{}let v=null;try{v=document.createElement("div"),v.style.position="absolute",v.style.top="-9999px",v.style.left="-9999px",v.style.pointerEvents="none",v.appendChild(m),document.body.appendChild(v),(s=e.dataTransfer)==null||s.setDragImage(m,u,p)}finally{v&&setTimeout(()=>{try{v?.remove()}catch{}},0)}const x=this.getPos();if(typeof x!="number")return;const w=Rt.create(l.state.doc,x),T=l.state.tr.setSelection(w);l.dispatch(T)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const n=e.target;if(!(this.dom.contains(n)&&!((t=this.contentDOM)!=null&&t.contains(n))))return!1;const i=e.type.startsWith("drag"),o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!i)return!0;const{isEditable:s}=this.editor,{isDragging:l}=this,c=!!this.node.type.spec.draggable,d=Rt.isSelectable(this.node),u=e.type==="copy",p=e.type==="paste",m=e.type==="cut",v=e.type==="mousedown";if(!c&&d&&i&&e.target===this.dom&&e.preventDefault(),c&&i&&!l&&e.target===this.dom)return e.preventDefault(),!1;if(c&&s&&!l&&v){const x=n.closest("[data-drag-handle]");x&&(this.dom===x||this.dom.contains(x))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(l||o||u||p||m||v&&d)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(AD()||Jse())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(n=>n.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const n=this.getPos();return typeof n!="number"?!1:(t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}};function D0(e){return new UIe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const o=Br(e.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:a}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const d=l.search(/\S/),u=n.from+l.indexOf(s),p=u+s.length;if(_9(n.from,n.to,t.doc).filter(v=>v.mark.type.excluded.find(w=>w===e.type&&w!==v.mark.type)).filter(v=>v.to>u).length)return null;p<n.to&&a.delete(p,n.to),u>n.from&&a.delete(n.from+d,u),c=n.from+d+s.length,a.addMark(n.from+d,c,e.type.create(o||{})),a.removeStoredMark(e.type)}}})}var Z_,sPe=new Uint8Array(16);function lPe(){if(!Z_&&(Z_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Z_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Z_(sPe)}const cPe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function uPe(e){return typeof e=="string"&&cPe.test(e)}var Ko=[];for(var cP=0;cP<256;++cP)Ko.push((cP+256).toString(16).substr(1));function dPe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ko[e[t+0]]+Ko[e[t+1]]+Ko[e[t+2]]+Ko[e[t+3]]+"-"+Ko[e[t+4]]+Ko[e[t+5]]+"-"+Ko[e[t+6]]+Ko[e[t+7]]+"-"+Ko[e[t+8]]+Ko[e[t+9]]+"-"+Ko[e[t+10]]+Ko[e[t+11]]+Ko[e[t+12]]+Ko[e[t+13]]+Ko[e[t+14]]+Ko[e[t+15]]).toLowerCase();if(!uPe(n))throw TypeError("Stringified UUID is invalid");return n}function _le(e,t,n){e=e||{};var r=e.random||(e.rng||lPe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,dPe(r)}function fPe(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function hPe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return fPe(t)}const LT=ur.create({name:"uniqueID",priority:1e4,addOptions(){return{attributeName:"id",types:[],setIdAttribute:!1,generateID:()=>{if(typeof window<"u"&&window.__TEST_OPTIONS){const e=window.__TEST_OPTIONS;return e.mockID===void 0?e.mockID=0:e.mockID++,e.mockID.toString()}return _le()},filterTransaction:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:e=>e.getAttribute(`data-${this.options.attributeName}`),renderHTML:e=>{const t={[`data-${this.options.attributeName}`]:e[this.options.attributeName]};return this.options.setIdAttribute?{...t,id:e[this.options.attributeName]}:t}}}}]},addProseMirrorPlugins(){let e=null,t=!1;return[new rn({key:new wn("uniqueID"),appendTransaction:(n,r,i)=>{const o=n.some(m=>m.docChanged)&&!r.doc.eq(i.doc),a=this.options.filterTransaction&&n.some(m=>{var v,x;return!((x=(v=this.options).filterTransaction)!=null&&x.call(v,m))});if(!o||a)return;const{tr:s}=i,{types:l,attributeName:c,generateID:d}=this.options,u=ND(r.doc,n),{mapping:p}=u;if(k9(u).forEach(({newRange:m})=>{const v=ile(i.doc,m,T=>l.includes(T.type.name)),x=v.map(({node:T})=>T.attrs[c]).filter(T=>T!==null),w=hPe(x);v.forEach(({node:T,pos:k})=>{var O;const I=(O=s.doc.nodeAt(k))==null?void 0:O.attrs[c];if(I===null){const A=r.doc.type.createAndFill().content;if(r.doc.content.findDiffStart(A)===null){const R=JSON.parse(JSON.stringify(i.doc.toJSON()));if(R.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(R.content)===JSON.stringify(A.toJSON())){s.setNodeMarkup(k,void 0,{...T.attrs,[c]:"initialBlockId"});return}}s.setNodeMarkup(k,void 0,{...T.attrs,[c]:d()});return}const{deleted:N}=p.invert().mapResult(k);N&&w.includes(I)&&s.setNodeMarkup(k,void 0,{...T.attrs,[c]:d()})})}),!!s.steps.length)return s.setMeta("uniqueID",!0),s},view(n){const r=i=>{let o;e=!((o=n.dom.parentElement)===null||o===void 0)&&o.contains(i.target)?n.dom.parentElement:null};return window.addEventListener("dragstart",r),{destroy(){window.removeEventListener("dragstart",r)}}},props:{handleDOMEvents:{drop:(n,r)=>{let i;return e!==n.dom.parentElement||((i=r.dataTransfer)===null||i===void 0?void 0:i.effectAllowed)==="copy"?t=!0:t=!1,e=null,!1},paste:()=>(t=!0,!1)},transformPasted:n=>{if(!t)return n;const{types:r,attributeName:i}=this.options,o=a=>{const s=[];return a.forEach(l=>{if(l.isText){s.push(l);return}if(!r.includes(l.type.name)){s.push(l.copy(o(l.content)));return}const c=l.type.create({...l.attrs,[i]:null},o(l.content),l.marks);s.push(c)}),He.from(s)};return t=!1,new at(o(n.content),n.openStart,n.openEnd)}}})]}});function Zq(e){return e.type==="link"}function Ale(e){return typeof e!="string"&&e.type==="link"}function R0(e){return typeof e!="string"&&e.type==="text"}function tm(e){var t,n,r,i,o;return nm(e)?{...e}:aC(e)?{type:"tableCell",content:[].concat(e.content),props:{backgroundColor:((t=e.props)==null?void 0:t.backgroundColor)??"default",textColor:((n=e.props)==null?void 0:n.textColor)??"default",textAlignment:((r=e.props)==null?void 0:r.textAlignment)??"left",colspan:((i=e.props)==null?void 0:i.colspan)??1,rowspan:((o=e.props)==null?void 0:o.rowspan)??1}}:{type:"tableCell",content:[].concat(e),props:{backgroundColor:"default",textColor:"default",textAlignment:"left",colspan:1,rowspan:1}}}function aC(e){return e!=null&&typeof e!="string"&&!Array.isArray(e)&&e.type==="tableCell"}function nm(e){return aC(e)&&e.props!==void 0&&e.content!==void 0}function I0(e){return nm(e)?e.props.colspan??1:1}function sC(e){return nm(e)?e.props.rowspan??1:1}let Od=class extends Error{constructor(t){super(`Unreachable case: ${t}`)}};function En(e,t=!0){const{"data-test":n,...r}=e;if(Object.keys(r).length>0&&t)throw new Error("Object must be empty "+JSON.stringify(e))}function Zf(e,t){const n=e.resolve(t);if(n.nodeAfter&&n.nodeAfter.type.isInGroup("bnBlock"))return{posBeforeNode:n.pos,node:n.nodeAfter};let r=n.depth,i=n.node(r);for(;r>0;){if(i.type.isInGroup("bnBlock"))return{posBeforeNode:n.before(r),node:i};r--,i=n.node(r)}const o=[];e.descendants((s,l)=>{s.type.isInGroup("bnBlock")&&o.push(l)}),console.warn(`Position ${t} is not within a blockContainer node.`);const a=e.resolve(o.find(s=>s>=t)||o[o.length-1]);return{posBeforeNode:a.pos,node:a.nodeAfter}}function M9(e,t){if(!e.type.isInGroup("bnBlock"))throw new Error(`Attempted to get bnBlock node at position but found node of different type ${e.type.name}`);const n=e,r=t,i=r+n.nodeSize,o={node:n,beforePos:r,afterPos:i};if(n.type.name==="blockContainer"){let a,s;if(n.forEach((l,c)=>{if(l.type.spec.group==="blockContent"){const d=l,u=r+c+1,p=u+l.nodeSize;a={node:d,beforePos:u,afterPos:p}}else if(l.type.name==="blockGroup"){const d=l,u=r+c+1,p=u+l.nodeSize;s={node:d,beforePos:u,afterPos:p}}}),!a)throw new Error(`blockContainer node does not contain a blockContent node in its children: ${n}`);return{isBlockContainer:!0,bnBlock:o,blockContent:a,childContainer:s,blockNoteType:a.node.type.name}}else{if(!o.node.type.isInGroup("childContainer"))throw new Error(`bnBlock node is not in the childContainer group: ${o.node}`);return{isBlockContainer:!1,bnBlock:o,childContainer:o,blockNoteType:o.node.type.name}}}function Qf(e){return M9(e.node,e.posBeforeNode)}function ID(e){if(!e.nodeAfter)throw new Error(`Attempted to get blockContainer node at position ${e.pos} but a node at this position does not exist`);return M9(e.nodeAfter,e.pos)}function Ns(e){const t=Zf(e.doc,e.selection.anchor);return Qf(t)}function jT(e){const t=Zf(e.doc,e.selection.anchor);return Qf(t)}function ho(e){return"doc"in e?e.doc.type.schema:e.type.schema}function Ole(e){return e.cached.blockNoteEditor}function BT(e){return Ole(e).schema}function D9(e){return BT(e).blockSchema}function R9(e){return BT(e).inlineContentSchema}function ix(e){return BT(e).styleSchema}function I9(e){return Ole(e).blockCache}function Nle(e,t,n){var r,i;const o={type:"tableContent",columnWidths:[],headerRows:void 0,headerCols:void 0,rows:[]},a=[];e.content.forEach((s,l,c)=>{const d={cells:[]};c===0&&s.content.forEach(u=>{let p=u.attrs.colwidth;p==null&&(p=new Array(u.attrs.colspan??1).fill(void 0)),o.columnWidths.push(...p)}),d.cells=s.content.content.map((u,p)=>(a[c]||(a[c]=[]),a[c][p]=u.type.name==="tableHeader",{type:"tableCell",content:u.content.content.map(m=>PD(m,t,n)).reduce((m,v)=>{if(!m.length)return v;const x=m[m.length-1],w=v[0];return w&&R0(x)&&R0(w)&&JSON.stringify(x.styles)===JSON.stringify(w.styles)?(x.text+=`
`+w.text,m.push(...v.slice(1)),m):(m.push(...v),m)},[]),props:{colspan:u.attrs.colspan,rowspan:u.attrs.rowspan,backgroundColor:u.attrs.backgroundColor,textColor:u.attrs.textColor,textAlignment:u.attrs.textAlignment}})),o.rows.push(d)});for(let s=0;s<a.length;s++)(r=a[s])!=null&&r.every(l=>l)&&(o.headerRows=(o.headerRows??0)+1);for(let s=0;s<((i=a[0])==null?void 0:i.length);s++)a!=null&&a.every(l=>l[s])&&(o.headerCols=(o.headerCols??0)+1);return o}function PD(e,t,n){const r=[];let i;return e.content.forEach(o=>{if(o.type.name==="hardBreak"){if(i)if(R0(i))i.text+=`
`;else if(Zq(i))i.content[i.content.length-1].text+=`
`;else throw new Error("unexpected");else i={type:"text",text:`
`,styles:{}};return}if(o.type.name!=="link"&&o.type.name!=="text"){if(!t[o.type.name]){console.warn("unrecognized inline content type",o.type.name);return}i&&(r.push(i),i=void 0),r.push(P9(o,t,n));return}const a={};let s;for(const l of o.marks)if(l.type.name==="link")s=l;else{const c=n[l.type.name];if(!c){if(l.type.spec.blocknoteIgnore)continue;throw new Error(`style ${l.type.name} not found in styleSchema`)}if(c.propSchema==="boolean")a[c.type]=!0;else if(c.propSchema==="string")a[c.type]=l.attrs.stringValue;else throw new Od(c.propSchema)}i?R0(i)?s?(r.push(i),i={type:"link",href:s.attrs.href,content:[{type:"text",text:o.textContent,styles:a}]}):JSON.stringify(i.styles)===JSON.stringify(a)?i.text+=o.textContent:(r.push(i),i={type:"text",text:o.textContent,styles:a}):Zq(i)&&(s?i.href===s.attrs.href?JSON.stringify(i.content[i.content.length-1].styles)===JSON.stringify(a)?i.content[i.content.length-1].text+=o.textContent:i.content.push({type:"text",text:o.textContent,styles:a}):(r.push(i),i={type:"link",href:s.attrs.href,content:[{type:"text",text:o.textContent,styles:a}]}):(r.push(i),i={type:"text",text:o.textContent,styles:a})):s?i={type:"link",href:s.attrs.href,content:[{type:"text",text:o.textContent,styles:a}]}:i={type:"text",text:o.textContent,styles:a}}),i&&r.push(i),r}function P9(e,t,n){if(e.type.name==="text"||e.type.name==="link")throw new Error("unexpected");const r={},i=t[e.type.name];for(const[a,s]of Object.entries(e.attrs)){if(!i)throw Error("ic node is of an unrecognized type: "+e.type.name);const l=i.propSchema;a in l&&(r[a]=s)}let o;return i.content==="styled"?o=PD(e,t,n):o=void 0,{type:e.type.name,props:r,content:o}}function ri(e,t,n=D9(t),r=R9(t),i=ix(t),o=I9(t)){var a;if(!e.type.isInGroup("bnBlock"))throw Error("Node should be a bnBlock, but is instead: "+e.type.name);const s=o?.get(e);if(s)return s;const l=M9(e,0);let c=l.bnBlock.node.attrs.id;c===null&&(c=LT.options.generateID());const d=n[l.blockNoteType];if(!d)throw Error("Block is of an unrecognized type: "+l.blockNoteType);const u={};for(const[w,T]of Object.entries({...e.attrs,...l.isBlockContainer?l.blockContent.node.attrs:{}})){const k=d.propSchema;w in k&&!(k[w].default===void 0&&T===void 0)&&(u[w]=T)}const p=n[l.blockNoteType],m=[];(a=l.childContainer)==null||a.node.forEach(w=>{m.push(ri(w,t,n,r,i,o))});let v;if(p.content==="inline"){if(!l.isBlockContainer)throw new Error("impossible");v=PD(l.blockContent.node,r,i)}else if(p.content==="table"){if(!l.isBlockContainer)throw new Error("impossible");v=Nle(l.blockContent.node,r,i)}else if(p.content==="none")v=void 0;else throw new Od(p.content);const x={id:c,type:p.type,props:u,content:v,children:m};return o?.set(e,x),x}function pPe(e,t=ho(e),n=D9(t),r=R9(t),i=ix(t),o=I9(t)){const a=[];return e.firstChild&&e.firstChild.descendants(s=>(a.push(ri(s,t,n,r,i,o)),!1)),a}function mPe(e,t,n=D9(t),r=R9(t),i=ix(t),o=I9(t)){function a(s,l,c){if(s.type.name!=="blockGroup")throw new Error("unexpected");const d=[];let u,p;return s.forEach((m,v,x)=>{if(m.type.name!=="blockContainer")throw new Error("unexpected");if(m.childCount===0)return;if(m.childCount===0||m.childCount>2)throw new Error("unexpected, blockContainer.childCount: "+m.childCount);const w=x===0,T=x===s.childCount-1;if(m.firstChild.type.name==="blockGroup"){if(!w)throw new Error("unexpected");const N=a(m.firstChild,Math.max(0,l-1),T?Math.max(0,c-1):0);u=N.blockCutAtStart,T&&(p=N.blockCutAtEnd),d.push(...N.blocks);return}const k=ri(m,t,n,r,i,o),O=m.childCount>1?m.child(1):void 0;let I=[];if(O){const N=a(O,0,T?Math.max(0,c-1):0);I=N.blocks,T&&(p=N.blockCutAtEnd)}T&&!O&&c>1&&(p=k.id),w&&l>1&&(u=k.id),d.push({...k,children:I})}),{blocks:d,blockCutAtStart:u,blockCutAtEnd:p}}if(e.content.childCount===0)return{blocks:[],blockCutAtStart:void 0,blockCutAtEnd:void 0};if(e.content.childCount!==1)throw new Error("slice must be a single block, did you forget includeParents=true?");return a(e.content.firstChild,Math.max(e.openStart-1,0),Math.max(e.openEnd-1,0))}function hm(e){const{height:t,width:n}=L9(e),r=new Array(t).fill(!1).map(()=>new Array(n).fill(null)),i=(o,a)=>{for(let s=o;s<t;s++)for(let l=a;l<n;l++)if(!r[s][l])return{row:s,col:l};throw new Error("Unable to create occupancy grid for table, no more available cells")};for(let o=0;o<e.content.rows.length;o++)for(let a=0;a<e.content.rows[o].cells.length;a++){const s=tm(e.content.rows[o].cells[a]),l=sC(s),c=I0(s),{row:d,col:u}=i(o,a);for(let p=d;p<d+l;p++)for(let m=u;m<u+c;m++){if(r[p][m])throw new Error(`Unable to create occupancy grid for table, cell at ${p},${m} is already occupied`);r[p][m]={row:o,col:a,rowspan:l,colspan:c,cell:s}}}return r}function lC(e){const t=new Set;return e.map(n=>({cells:n.map(r=>t.has(r.row+":"+r.col)?!1:(t.add(r.row+":"+r.col),r.cell)).filter(r=>r!==!1)}))}function P0(e,t,n=hm(t)){for(let r=0;r<n.length;r++)for(let i=0;i<n[r].length;i++){const o=n[r][i];if(o.row===e.row&&o.col===e.col)return{row:r,col:i,cell:o.cell}}throw new Error(`Unable to resolve relative table cell indices for table, cell at ${e.row},${e.col} is not occupied`)}function L9(e){const t=e.content.rows.length;let n=0;return e.content.rows.forEach(r=>{let i=0;r.cells.forEach(o=>{i+=I0(o)}),n=Math.max(n,i)}),{height:t,width:n}}function Mle(e,t,n=hm(t)){var r;const i=(r=n[e.row])==null?void 0:r[e.col];if(i)return{row:i.row,col:i.col,cell:i.cell}}function gB(e,t){var n;const r=hm(e);if(t<0||t>=r.length)return[];let i=0;for(let a=0;a<t;a++){const s=(n=r[i])==null?void 0:n[0];if(!s)return[];i+=s.rowspan}const o=new Array(r[0].length).fill(!1).map((a,s)=>Mle({row:i,col:s},e,r)).filter(a=>a!==void 0);return o.filter((a,s)=>o.findIndex(l=>l.row===a.row&&l.col===a.col)===s)}function yB(e,t){var n;const r=hm(e);if(t<0||t>=r[0].length)return[];let i=0;for(let a=0;a<t;a++){const s=(n=r[0])==null?void 0:n[i];if(!s)return[];i+=s.colspan}const o=new Array(r.length).fill(!1).map((a,s)=>Mle({row:s,col:i},e,r)).filter(a=>a!==void 0);return o.filter((a,s)=>o.findIndex(l=>l.row===a.row&&l.col===a.col)===s)}function gPe(e,t,n,r=hm(e)){const{col:i}=P0({row:0,col:t},e,r),{col:o}=P0({row:0,col:n},e,r);return r.forEach(a=>{const[s]=a.splice(i,1);a.splice(o,0,s)}),lC(r)}function yPe(e,t,n,r=hm(e)){const{row:i}=P0({row:t,col:0},e,r),{row:o}=P0({row:n,col:0},e,r),[a]=r.splice(i,1);return r.splice(o,0,a),lC(r)}function bB(e){return e?aC(e)?bB(e.content):typeof e=="string"?e.length===0:Array.isArray(e)?e.every(t=>typeof t=="string"?t.length===0:R0(t)?t.text.length===0:Ale(t)?typeof t.content=="string"?t.content.length===0:t.content.every(n=>n.text.length===0):!1):!1:!0}function bPe(e,t,n=hm(e)){if(t==="columns"){let o=0;for(let a=n[0].length-1;a>=0&&n.every(s=>bB(s[a].cell)&&s[a].colspan===1);a--)o++;for(let a=n.length-1;a>=0;a--){const s=Math.max(n[a].length-o,1);n[a]=n[a].slice(0,s)}return lC(n)}let r=0;for(let o=n.length-1;o>=0&&n[o].every(a=>bB(a.cell)&&a.rowspan===1);o--)r++;const i=Math.min(r,n.length-1);return n.splice(n.length-i,i),lC(n)}function vPe(e,t,n,r=hm(e)){const{width:i,height:o}=L9(e);if(t==="columns")r.forEach((a,s)=>{if(n>=0)for(let l=0;l<n;l++)a.push({row:s,col:Math.max(...a.map(c=>c.col))+1,rowspan:1,colspan:1,cell:tm("")});else a.splice(i+n,-1*n)});else if(n>0)for(let a=0;a<n;a++){const s=new Array(i).fill(null).map((l,c)=>({row:o+a,col:c,rowspan:1,colspan:1,cell:tm("")}));r.push(s)}else n<0&&r.splice(o+n,-1*n);return lC(r)}function Dle(e,t,n){const r=gB(e,n);if(!r.some(a=>sC(a.cell)>1))return!0;let i=n,o=n;return r.forEach(a=>{const s=sC(a.cell);i=Math.max(i,a.row+s-1),o=Math.min(o,a.row)}),t<n?n===i:n===o}function Rle(e,t,n){const r=yB(e,n);if(!r.some(a=>I0(a.cell)>1))return!0;let i=n,o=n;return r.forEach(a=>{const s=I0(a.cell);i=Math.max(i,a.col+s-1),o=Math.min(o,a.col)}),t<n?n===i:n===o}function xPe(e,t,n){const r=P0(e,n),i=P0(t,n);return r.col===i.col}function Qq(e,t,n,r){const i=[];for(const[o,a]of Object.entries(e.styles||{})){const s=n[o];if(!s)throw new Error(`style ${o} not found in styleSchema`);if(s.propSchema==="boolean")a&&i.push(t.mark(o));else if(s.propSchema==="string")a&&i.push(t.mark(o,{stringValue:a}));else throw new Od(s.propSchema)}return!r||!t.nodes[r].spec.code?e.text.split(/(\n)/g).filter(o=>o.length>0).map(o=>o===`
`?t.nodes.hardBreak.createChecked():t.text(o,i)):e.text.length>0?[t.text(e.text,i)]:[]}function wPe(e,t,n){const r=t.marks.link.create({href:e.href});return vB(e.content,t,n).map(i=>{if(i.type.name==="text")return i.mark([...i.marks,r]);if(i.type.name==="hardBreak")return i;throw new Error("unexpected node type")})}function vB(e,t,n,r){const i=[];if(typeof e=="string")return i.push(...Qq({text:e,styles:{}},t,n,r)),i;for(const o of e)i.push(...Qq(o,t,n,r));return i}function bu(e,t,n,r=ix(t)){const i=[];for(const o of e)typeof o=="string"?i.push(...vB(o,t,r,n)):Ale(o)?i.push(...wPe(o,t,r)):R0(o)?i.push(...vB([o],t,r,n)):i.push(Ile(o,t,r));return i}function LD(e,t,n=ix(t)){const r=[],i=new Array(e.headerRows??0).fill(!0),o=new Array(e.headerCols??0).fill(!0),a=e.columnWidths??[];for(let s=0;s<e.rows.length;s++){const l=e.rows[s],c=[],d=i[s];for(let p=0;p<l.cells.length;p++){const m=l.cells[p],v=o[p],x=void 0;let w=null;const T=P0({row:s,col:p},{content:e});let k=a[T.col]?[a[T.col]]:null;if(m)if(typeof m=="string")w=t.text(m);else if(aC(m)){m.content&&(w=bu(m.content,t,"tableParagraph",n));const I=I0(m);I>1&&(k=new Array(I).fill(!1).map((N,A)=>a[T.col+A]??void 0))}else w=bu(m,t,"tableParagraph",n);const O=t.nodes[v||d?"tableHeader":"tableCell"].createChecked({...aC(m)?m.props:{},colwidth:k},t.nodes.tableParagraph.createChecked(x,w));c.push(O)}const u=t.nodes.tableRow.createChecked({},c);r.push(u)}return r}function Ile(e,t,n){let r,i=e.type;if(i===void 0&&(i="paragraph"),!t.nodes[i])throw new Error(`node type ${i} not found in schema`);if(!e.content)r=t.nodes[i].createChecked(e.props);else if(typeof e.content=="string"){const o=bu([e.content],t,i,n);r=t.nodes[i].createChecked(e.props,o)}else if(Array.isArray(e.content)){const o=bu(e.content,t,i,n);r=t.nodes[i].createChecked(e.props,o)}else if(e.content.type==="tableContent"){const o=LD(e.content,t,n);r=t.nodes[i].createChecked(e.props,o)}else throw new Od(e.content.type);return r}function iy(e,t,n=ix(t)){let r=e.id;r===void 0&&(r=LT.options.generateID());const i=[];if(e.children)for(const o of e.children)i.push(iy(o,t,n));if(!e.type||t.nodes[e.type].isInGroup("blockContent")){const o=Ile(e,t,n),a=i.length>0?t.nodes.blockGroup.createChecked({},i):void 0;return t.nodes.blockContainer.createChecked({id:r,...e.props},a?[o,a]:o)}else{if(t.nodes[e.type].isInGroup("bnBlock"))return t.nodes[e.type].createChecked({id:r,...e.props},i);throw new Error(`block type ${e.type} doesn't match blockContent or bnBlock group`)}}var xB,wB;if(typeof WeakMap<"u"){let e=new WeakMap;xB=t=>e.get(t),wB=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;xB=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},wB=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var ni=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let o=r+1,a=i+1;for(let s=1;o<this.width&&this.map[t+s]==n;s++)o++;for(let s=1;a<this.height&&this.map[t+this.width*s]==n;s++)a++;return{left:r,top:i,right:o,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:o,bottom:a}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:a==this.height)?null:this.map[r+this.width*(n<0?o-1:a)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:o}=this.findCell(e),{left:a,right:s,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(i,l),right:Math.max(r,s),bottom:Math.max(o,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const o=r*this.width+i,a=this.map[o];n[a]||(n[a]=!0,!(i==e.left&&i&&this.map[o-1]==a||r==e.top&&r&&this.map[o-this.width]==a)&&t.push(a))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==e){let a=t+e*this.width;const s=(e+1)*this.width;for(;a<s&&this.map[a]<i;)a++;return a==s?o-1:this.map[a]}i=o}}static get(e){return xB(e)||wB(e,EPe(e))}};function EPe(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=SPe(e),n=e.childCount,r=[];let i=0,o=null;const a=[];for(let c=0,d=t*n;c<d;c++)r[c]=0;for(let c=0,d=0;c<n;c++){const u=e.child(c);d++;for(let v=0;;v++){for(;i<r.length&&r[i]!=0;)i++;if(v==u.childCount)break;const x=u.child(v),{colspan:w,rowspan:T,colwidth:k}=x.attrs;for(let O=0;O<T;O++){if(O+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:d,n:T-O});break}const I=i+O*t;for(let N=0;N<w;N++){r[I+N]==0?r[I+N]=d:(o||(o=[])).push({type:"collision",row:c,pos:d,n:w-N});const A=k&&k[N];if(A){const R=(I+N)%t*2,L=a[R];L==null||L!=A&&a[R+1]==1?(a[R]=A,a[R+1]=1):L==A&&a[R+1]++}}}i+=w,d+=x.nodeSize}const p=(c+1)*t;let m=0;for(;i<p;)r[i++]==0&&m++;m&&(o||(o=[])).push({type:"missing",row:c,n:m}),d++}(t===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const s=new ni(t,n,r,o);let l=!1;for(let c=0;!l&&c<a.length;c+=2)a[c]!=null&&a[c+1]<n&&(l=!0);return l&&CPe(s,a,e),s}function SPe(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let o=0;if(n)for(let a=0;a<r;a++){const s=e.child(a);for(let l=0;l<s.childCount;l++){const c=s.child(l);a+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const s=i.child(a);o+=s.attrs.colspan,s.attrs.rowspan>1&&(n=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function CPe(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const o=e.map[i];if(r[o])continue;r[o]=!0;const a=n.nodeAt(o);if(!a)throw new RangeError(`No cell with offset ${o} found`);let s=null;const l=a.attrs;for(let c=0;c<l.colspan;c++){const d=(i+c)%e.width,u=t[d*2];u!=null&&(!l.colwidth||l.colwidth[c]!=u)&&((s||(s=TPe(l)))[c]=u)}s&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}function TPe(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function _a(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var Ap=new wn("selectingCells");function ox(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function kPe(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function Ld(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function j9(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=ox(t.$head)||_Pe(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function _Pe(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function EB(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function APe(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function B9(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function Ple(e,t,n){const r=e.node(-1),i=ni.get(r),o=e.start(-1),a=i.nextCell(e.pos-o,t,n);return a==null?null:e.node(0).resolve(o+a)}function L0(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function Lle(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function OPe(e,t,n){const r=_a(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var Mr=class kf extends Zt{constructor(t,n=t){const r=t.node(-1),i=ni.get(r),o=t.start(-1),a=i.rectBetween(t.pos-o,n.pos-o),s=t.node(0),l=i.cellsInRect(a).filter(d=>d!=n.pos-o);l.unshift(n.pos-o);const c=l.map(d=>{const u=r.nodeAt(d);if(!u)throw RangeError(`No cell with offset ${d} found`);const p=o+d+1;return new tse(s.resolve(p),s.resolve(p+u.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(EB(r)&&EB(i)&&B9(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?kf.rowSelection(r,i):o&&this.isColSelection()?kf.colSelection(r,i):new kf(r,i)}return St.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=ni.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},a=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let d=l*n.width+i.left,u=i.left;u<i.right;u++,d++){const p=n.map[d];if(o[p])continue;o[p]=!0;const m=n.findCell(p);let v=t.nodeAt(p);if(!v)throw RangeError(`No cell with offset ${p} found`);const x=i.left-m.left,w=m.right-i.right;if(x>0||w>0){let T=v.attrs;if(x>0&&(T=L0(T,0,x)),w>0&&(T=L0(T,T.colspan-w,w)),m.left<i.left){if(v=v.type.createAndFill(T),!v)throw RangeError(`Could not create cell with attrs ${JSON.stringify(T)}`)}else v=v.type.create(T,v.content)}if(m.top<i.top||m.bottom>i.bottom){const T={...v.attrs,rowspan:Math.min(m.bottom,i.bottom)-Math.max(m.top,i.top)};m.top<i.top?v=v.type.createAndFill(T):v=v.type.create(T,v.content)}c.push(v)}a.push(t.child(l).copy(He.from(c)))}const s=this.isColSelection()&&this.isRowSelection()?t:a;return new at(He.from(s),1,1)}replace(t,n=at.empty){const r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:s,$to:l}=i[a],c=t.mapping.slice(r);t.replace(c.map(s.pos),c.map(l.pos),a?at.empty:n)}const o=Zt.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);o&&t.setSelection(o)}replaceWith(t,n){this.replace(t,new at(He.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=ni.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<o.length;a++)t(n.nodeAt(o[a]),i+o[a])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=ni.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(t=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))),new kf(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=ni.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,s=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,s)==n.width}eq(t){return t instanceof kf&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=ni.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(n=l.resolve(o+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(t=l.resolve(o+i.map[i.width*(a.top+1)-1]))),new kf(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new kf(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new kf(t.resolve(n),t.resolve(r))}getBookmark(){return new NPe(this.$anchorCell.pos,this.$headCell.pos)}};Mr.prototype.visible=!1;Zt.jsonID("cell",Mr);var NPe=class jle{constructor(t,n){this.anchor=t,this.head=n}map(t){return new jle(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&B9(n,r)?new Mr(n,r):Zt.near(r,1)}};function MPe(e){if(!(e.selection instanceof Mr))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(ir.node(r,r+n.nodeSize,{class:"selectedCell"}))}),mn.create(e.doc,t)}function DPe({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function RPe({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&t.parentOffset===0}function IPe(e,t,n){const r=(t||e).selection,i=(t||e).doc;let o,a;if(r instanceof Rt&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")o=Mr.create(i,r.from);else if(a=="row"){const s=i.resolve(r.from+1);o=Mr.rowSelection(s,s)}else if(!n){const s=ni.get(r.node),l=r.from+1,c=l+s.map[s.width*s.height-1];o=Mr.create(i,l+1,c)}}else r instanceof St&&DPe(r)?o=St.create(i,r.from):r instanceof St&&RPe(r)&&(o=St.create(i,r.$from.start(),r.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}var PPe=new wn("fix-tables");function Ble(e,t,n,r){const i=e.childCount,o=t.childCount;e:for(let a=0,s=0;a<o;a++){const l=t.child(a);for(let c=s,d=Math.min(i,a+3);c<d;c++)if(e.child(c)==l){s=c+1,n+=l.nodeSize;continue e}r(l,n),s<i&&e.child(s).sameMarkup(l)?Ble(e.child(s),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function LPe(e,t){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=jPe(e,i,o,n))};return t?t.doc!=e.doc&&Ble(t.doc,e.doc,0,r):e.doc.descendants(r),n}function jPe(e,t,n,r){const i=ni.get(t);if(!i.problems)return r;r||(r=e.tr);const o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const d=t.nodeAt(c.pos);if(!d)continue;const u=d.attrs;for(let p=0;p<u.rowspan;p++)o[c.row+p]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,L0(u,u.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const d=t.nodeAt(c.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const d=t.nodeAt(c.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...d.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+t.nodeSize)}}let a,s;for(let l=0;l<o.length;l++)o[l]&&(a==null&&(a=l),s=l);for(let l=0,c=n+1;l<i.height;l++){const d=t.child(l),u=c+d.nodeSize,p=o[l];if(p>0){let m="cell";d.firstChild&&(m=d.firstChild.type.spec.tableRole);const v=[];for(let w=0;w<p;w++){const T=_a(e.schema)[m].createAndFill();T&&v.push(T)}const x=(l==0||a==l-1)&&s==l?c+1:u-1;r.insert(r.mapping.map(x),v)}c=u}return r.setMeta(PPe,{fixTables:!0})}function jd(e){const t=e.selection,n=j9(e),r=n.node(-1),i=n.start(-1),o=ni.get(r);return{...t instanceof Mr?o.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function $le(e,{map:t,tableStart:n,table:r},i){let o=i>0?-1:0;OPe(t,r,i+o)&&(o=i==0||i==t.width?null:0);for(let a=0;a<t.height;a++){const s=a*t.width+i;if(i>0&&i<t.width&&t.map[s-1]==t.map[s]){const l=t.map[s],c=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,Lle(c.attrs,i-t.colCount(l))),a+=c.attrs.rowspan-1}else{const l=o==null?_a(r.type.schema).cell:r.nodeAt(t.map[s+o]).type,c=t.positionAt(a,i,r);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function BPe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e);t($le(e.tr,n,n.left))}return!0}function $Pe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e);t($le(e.tr,n,n.right))}return!0}function HPe(e,{map:t,table:n,tableStart:r},i){const o=e.mapping.maps.length;for(let a=0;a<t.height;){const s=a*t.width+i,l=t.map[s],c=n.nodeAt(l),d=c.attrs;if(i>0&&t.map[s-1]==l||i<t.width-1&&t.map[s+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(r+l),null,L0(d,i-t.colCount(l)));else{const u=e.mapping.slice(o).map(r+l);e.delete(u,u+c.nodeSize)}a+=d.rowspan}}function FPe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;HPe(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=ni.get(o)}t(r)}return!0}function UPe(e,t,n){var r;const i=_a(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(((r=t.nodeAt(e.map[o+n*e.width]))==null?void 0:r.type)!=i)return!1;return!0}function Hle(e,{map:t,tableStart:n,table:r},i){var o;let a=n;for(let c=0;c<i;c++)a+=r.child(c).nodeSize;const s=[];let l=i>0?-1:0;UPe(t,r,i+l)&&(l=i==0||i==t.height?null:0);for(let c=0,d=t.width*i;c<t.width;c++,d++)if(i>0&&i<t.height&&t.map[d]==t.map[d-t.width]){const u=t.map[d],p=r.nodeAt(u).attrs;e.setNodeMarkup(n+u,null,{...p,rowspan:p.rowspan+1}),c+=p.colspan-1}else{const u=l==null?_a(r.type.schema).cell:(o=r.nodeAt(t.map[d+l*t.width]))==null?void 0:o.type,p=u?.createAndFill();p&&s.push(p)}return e.insert(a,_a(r.type.schema).row.create(null,s)),e}function zPe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e);t(Hle(e.tr,n,n.top))}return!0}function VPe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e);t(Hle(e.tr,n,n.bottom))}return!0}function qPe(e,{map:t,table:n,tableStart:r},i){let o=0;for(let c=0;c<i;c++)o+=n.child(c).nodeSize;const a=o+n.child(i).nodeSize,s=e.mapping.maps.length;e.delete(o+r,a+r);const l=new Set;for(let c=0,d=i*t.width;c<t.width;c++,d++){const u=t.map[d];if(!l.has(u)){if(l.add(u),i>0&&u==t.map[d-t.width]){const p=n.nodeAt(u).attrs;e.setNodeMarkup(e.mapping.slice(s).map(u+r),null,{...p,rowspan:p.rowspan-1}),c+=p.colspan-1}else if(i<t.height&&u==t.map[d+t.width]){const p=n.nodeAt(u),m=p.attrs,v=p.type.create({...m,rowspan:p.attrs.rowspan-1},p.content),x=t.positionAt(i+1,c,n);e.insert(e.mapping.slice(s).map(r+x),v),c+=m.colspan-1}}}}function WPe(e,t){if(!Ld(e))return!1;if(t){const n=jd(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;qPe(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=ni.get(n.table)}t(r)}return!0}function Jq(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function YPe({width:e,height:t,map:n},r){let i=r.top*e+r.left,o=i,a=(r.bottom-1)*e+r.left,s=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[o]==n[o-1]||r.right<e&&n[s]==n[s+1])return!0;o+=e,s+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[a]==n[a+e])return!0;i++,a++}return!1}function GPe(e,t){const n=e.selection;if(!(n instanceof Mr)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=jd(e),{map:i}=r;if(YPe(i,r))return!1;if(t){const o=e.tr,a={};let s=He.empty,l,c;for(let d=r.top;d<r.bottom;d++)for(let u=r.left;u<r.right;u++){const p=i.map[d*i.width+u],m=r.table.nodeAt(p);if(!(a[p]||!m))if(a[p]=!0,l==null)l=p,c=m;else{Jq(m)||(s=s.append(m.content));const v=o.mapping.map(p+r.tableStart);o.delete(v,v+m.nodeSize)}}if(l==null||c==null)return!0;if(o.setNodeMarkup(l+r.tableStart,null,{...Lle(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),s.size){const d=l+1+c.content.size,u=Jq(c)?l+1:d;o.replaceWith(u+r.tableStart,d+r.tableStart,s)}o.setSelection(new Mr(o.doc.resolve(l+r.tableStart))),t(o)}return!0}function KPe(e,t){const n=_a(e.schema);return XPe(({node:r})=>n[r.type.spec.tableRole])(e,t)}function XPe(e){return(t,n)=>{var r;const i=t.selection;let o,a;if(i instanceof Mr){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(o=kPe(i.$from),!o)return!1;a=(r=ox(i.$from))==null?void 0:r.pos}if(o==null||a==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let s=o.attrs;const l=[],c=s.colwidth;s.rowspan>1&&(s={...s,rowspan:1}),s.colspan>1&&(s={...s,colspan:1});const d=jd(t),u=t.tr;for(let m=0;m<d.right-d.left;m++)l.push(c?{...s,colwidth:c&&c[m]?[c[m]]:null}:s);let p;for(let m=d.top;m<d.bottom;m++){let v=d.map.positionAt(m,d.left,d.table);m==d.top&&(v+=o.nodeSize);for(let x=d.left,w=0;x<d.right;x++,w++)x==d.left&&m==d.top||u.insert(p=u.mapping.map(v+d.tableStart,1),e({node:o,row:m,col:x}).createAndFill(l[w]))}u.setNodeMarkup(a,e({node:o,row:d.top,col:d.left}),l[0]),i instanceof Mr&&u.setSelection(new Mr(u.doc.resolve(i.$anchorCell.pos),p?u.doc.resolve(p):void 0)),n(u)}return!0}}function ZPe(e){return function(t,n){if(!Ld(t))return!1;if(n){const r=_a(t.schema),i=jd(t),o=t.tr,a=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),s=a.map(l=>i.table.nodeAt(l));for(let l=0;l<a.length;l++)s[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+a[l],r.cell,s[l].attrs);if(o.steps.length==0)for(let l=0;l<a.length;l++)o.setNodeMarkup(i.tableStart+a[l],r.header_cell,s[l].attrs);n(o)}return!0}}function eW(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const o=t.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function $9(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?ZPe(e):function(n,r){if(!Ld(n))return!1;if(r){const i=_a(n.schema),o=jd(n),a=n.tr,s=eW("row",o,i),l=eW("column",o,i),d=(e==="column"?s:e==="row"?l:!1)?1:0,u=e=="column"?{left:0,top:d,right:1,bottom:o.map.height}:e=="row"?{left:d,top:0,right:o.map.width,bottom:1}:o,p=e=="column"?l?i.cell:i.header_cell:e=="row"?s?i.cell:i.header_cell:i.cell;o.map.cellsInRect(u).forEach(m=>{const v=m+o.tableStart,x=a.doc.nodeAt(v);x&&a.setNodeMarkup(v,p,x.attrs)}),r(a)}return!0}}$9("row",{useDeprecatedLogic:!0});$9("column",{useDeprecatedLogic:!0});$9("cell",{useDeprecatedLogic:!0});function QPe(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){const o=e.node(-1).child(r),a=o.lastChild;if(a)return i-1-a.nodeSize;i-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function tW(e){return function(t,n){if(!Ld(t))return!1;const r=QPe(j9(t),e);if(r==null)return!1;if(n){const i=t.doc.resolve(r);n(t.tr.setSelection(St.between(i,APe(i))).scrollIntoView())}return!0}}function Q_(e,t){const n=e.selection;if(!(n instanceof Mr))return!1;if(t){const r=e.tr,i=_a(e.schema).cell.createAndFill().content;n.forEachCell((o,a)=>{o.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+o.nodeSize-1),new at(i,0,0))}),r.docChanged&&t(r)}return!0}function JPe(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),o=i.type.spec.tableRole,a=i.type.schema,s=[];if(o=="row")for(let l=0;l<t.childCount;l++){let c=t.child(l).content;const d=l?0:Math.max(0,n-1),u=l<t.childCount-1?0:Math.max(0,r-1);(d||u)&&(c=SB(_a(a).row,new at(c,d,u)).content),s.push(c)}else if(o=="cell"||o=="header_cell")s.push(n||r?SB(_a(a).row,new at(t,n,r)).content:t);else return null;return eLe(a,s)}function eLe(e,t){const n=[];for(let i=0;i<t.length;i++){const o=t[i];for(let a=o.childCount-1;a>=0;a--){const{rowspan:s,colspan:l}=o.child(a).attrs;for(let c=i;c<i+s;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(He.empty),n[i]<r){const o=_a(e).cell.createAndFill(),a=[];for(let s=n[i];s<r;s++)a.push(o);t[i]=t[i].append(He.from(a))}return{height:t.length,width:r,rows:t}}function SB(e,t){const n=e.createAndFill();return new n9(n).replace(0,n.content.size,t).doc}function tLe({width:e,height:t,rows:n},r,i){if(e!=r){const o=[],a=[];for(let s=0;s<n.length;s++){const l=n[s],c=[];for(let d=o[s]||0,u=0;d<r;u++){let p=l.child(u%l.childCount);d+p.attrs.colspan>r&&(p=p.type.createChecked(L0(p.attrs,p.attrs.colspan,d+p.attrs.colspan-r),p.content)),c.push(p),d+=p.attrs.colspan;for(let m=1;m<p.attrs.rowspan;m++)o[s+m]=(o[s+m]||0)+p.attrs.colspan}a.push(He.from(c))}n=a,e=r}if(t!=i){const o=[];for(let a=0,s=0;a<i;a++,s++){const l=[],c=n[s%t];for(let d=0;d<c.childCount;d++){let u=c.child(d);a+u.attrs.rowspan>i&&(u=u.type.create({...u.attrs,rowspan:Math.max(1,i-u.attrs.rowspan)},u.content)),l.push(u)}o.push(He.from(l))}n=o,t=i}return{width:e,height:t,rows:n}}function nLe(e,t,n,r,i,o,a){const s=e.doc.type.schema,l=_a(s);let c,d;if(i>t.width)for(let u=0,p=0;u<t.height;u++){const m=n.child(u);p+=m.nodeSize;const v=[];let x;m.lastChild==null||m.lastChild.type==l.cell?x=c||(c=l.cell.createAndFill()):x=d||(d=l.header_cell.createAndFill());for(let w=t.width;w<i;w++)v.push(x);e.insert(e.mapping.slice(a).map(p-1+r),v)}if(o>t.height){const u=[];for(let v=0,x=(t.height-1)*t.width;v<Math.max(t.width,i);v++){const w=v>=t.width?!1:n.nodeAt(t.map[x+v]).type==l.header_cell;u.push(w?d||(d=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const p=l.row.create(null,He.from(u)),m=[];for(let v=t.height;v<o;v++)m.push(p);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),m)}return!!(c||d)}function nW(e,t,n,r,i,o,a,s){if(a==0||a==t.height)return!1;let l=!1;for(let c=i;c<o;c++){const d=a*t.width+c,u=t.map[d];if(t.map[d-t.width]==u){l=!0;const p=n.nodeAt(u),{top:m,left:v}=t.findCell(u);e.setNodeMarkup(e.mapping.slice(s).map(u+r),null,{...p.attrs,rowspan:a-m}),e.insert(e.mapping.slice(s).map(t.positionAt(a,v,n)),p.type.createAndFill({...p.attrs,rowspan:m+p.attrs.rowspan-a})),c+=p.attrs.colspan-1}}return l}function rW(e,t,n,r,i,o,a,s){if(a==0||a==t.width)return!1;let l=!1;for(let c=i;c<o;c++){const d=c*t.width+a,u=t.map[d];if(t.map[d-1]==u){l=!0;const p=n.nodeAt(u),m=t.colCount(u),v=e.mapping.slice(s).map(u+r);e.setNodeMarkup(v,null,L0(p.attrs,a-m,p.attrs.colspan-(a-m))),e.insert(v+p.nodeSize,p.type.createAndFill(L0(p.attrs,0,a-m))),c+=p.attrs.rowspan-1}}return l}function iW(e,t,n,r,i){let o=n?e.doc.nodeAt(n-1):e.doc;if(!o)throw new Error("No table found");let a=ni.get(o);const{top:s,left:l}=r,c=l+i.width,d=s+i.height,u=e.tr;let p=0;function m(){if(o=n?u.doc.nodeAt(n-1):u.doc,!o)throw new Error("No table found");a=ni.get(o),p=u.mapping.maps.length}nLe(u,a,o,n,c,d,p)&&m(),nW(u,a,o,n,l,c,s,p)&&m(),nW(u,a,o,n,l,c,d,p)&&m(),rW(u,a,o,n,s,d,l,p)&&m(),rW(u,a,o,n,s,d,c,p)&&m();for(let v=s;v<d;v++){const x=a.positionAt(v,l,o),w=a.positionAt(v,c,o);u.replace(u.mapping.slice(p).map(x+n),u.mapping.slice(p).map(w+n),new at(i.rows[v-s],0,0))}m(),u.setSelection(new Mr(u.doc.resolve(n+a.positionAt(s,l,o)),u.doc.resolve(n+a.positionAt(d-1,c-1,o)))),t(u)}var rLe=b9({ArrowLeft:J_("horiz",-1),ArrowRight:J_("horiz",1),ArrowUp:J_("vert",-1),ArrowDown:J_("vert",1),"Shift-ArrowLeft":eA("horiz",-1),"Shift-ArrowRight":eA("horiz",1),"Shift-ArrowUp":eA("vert",-1),"Shift-ArrowDown":eA("vert",1),Backspace:Q_,"Mod-Backspace":Q_,Delete:Q_,"Mod-Delete":Q_});function YA(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function J_(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof Mr)return YA(n,r,Zt.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;const a=Fle(i,e,t);if(a==null)return!1;if(e=="horiz")return YA(n,r,Zt.near(n.doc.resolve(o.head+t),t));{const s=n.doc.resolve(a),l=Ple(s,e,t);let c;return l?c=Zt.near(l,1):t<0?c=Zt.near(n.doc.resolve(s.before(-1)),-1):c=Zt.near(n.doc.resolve(s.after(-1)),1),YA(n,r,c)}}}function eA(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let a;if(o instanceof Mr)a=o;else{const l=Fle(i,e,t);if(l==null)return!1;a=new Mr(n.doc.resolve(l))}const s=Ple(a.$headCell,e,t);return s?YA(n,r,new Mr(a.$anchorCell,s)):!1}}function iLe(e,t){const n=e.state.doc,r=ox(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new Mr(r))),!0):!1}function oLe(e,t,n){if(!Ld(e.state))return!1;let r=JPe(n);const i=e.state.selection;if(i instanceof Mr){r||(r={width:1,height:1,rows:[He.from(SB(_a(e.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),s=ni.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=tLe(r,s.right-s.left,s.bottom-s.top),iW(e.state,e.dispatch,a,s,r),!0}else if(r){const o=j9(e.state),a=o.start(-1);return iW(e.state,e.dispatch,a,ni.get(o.node(-1)).findCell(o.pos-a),r),!0}else return!1}function aLe(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=oW(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof Mr)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=ox(e.state.selection.$anchor))!=null&&((n=uP(e,t))==null?void 0:n.pos)!=i.pos)o(i,t),t.preventDefault();else if(!r)return;function o(l,c){let d=uP(e,c);const u=Ap.getState(e.state)==null;if(!d||!B9(l,d))if(u)d=l;else return;const p=new Mr(l,d);if(u||!e.state.selection.eq(p)){const m=e.state.tr.setSelection(p);u&&m.setMeta(Ap,l.pos),e.dispatch(m)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",s),Ap.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Ap,-1))}function s(l){const c=l,d=Ap.getState(e.state);let u;if(d!=null)u=e.state.doc.resolve(d);else if(oW(e,c.target)!=r&&(u=uP(e,t),!u))return a();u&&o(u,c)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",s)}function Fle(e,t,n){if(!(e.state.selection instanceof St))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const s=r.before(i),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?s:null}}return null}function oW(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function uP(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?ox(e.state.doc.resolve(n.pos)):null}var Ule=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),CB(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,CB(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function CB(e,t,n,r,i,o){var a;let s=0,l=!0,c=t.firstChild;const d=e.firstChild;if(d){for(let u=0,p=0;u<d.childCount;u++){const{colspan:m,colwidth:v}=d.child(u).attrs;for(let x=0;x<m;x++,p++){const w=i==p?o:v&&v[x],T=w?w+"px":"";if(s+=w||r,w||(l=!1),c)c.style.width!=T&&(c.style.width=T),c=c.nextSibling;else{const k=document.createElement("col");k.style.width=T,t.appendChild(k)}}}for(;c;){const u=c.nextSibling;(a=c.parentNode)==null||a.removeChild(c),c=u}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var Cl=new wn("tableColumnResizing");function sLe({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=Ule,lastColumnResizable:i=!0}={}){const o=new rn({key:Cl,state:{init(a,s){var l,c;const d=(c=(l=o.spec)==null?void 0:l.props)==null?void 0:c.nodeViews,u=_a(s.schema).table.name;return r&&d&&(d[u]=(p,m)=>new r(p,n,m)),new lLe(-1,!1)},apply(a,s){return s.apply(a)}},props:{attributes:a=>{const s=Cl.getState(a);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,s)=>{cLe(a,s,e,i)},mouseleave:a=>{uLe(a)},mousedown:(a,s)=>{dLe(a,s,t,n)}},decorations:a=>{const s=Cl.getState(a);if(s&&s.activeHandle>-1)return gLe(a,s.activeHandle)},nodeViews:{}}});return o}var lLe=class GA{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(Cl);if(r&&r.setHandle!=null)return new GA(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new GA(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return EB(t.doc.resolve(i))||(i=-1),new GA(i,n.dragging)}return n}};function cLe(e,t,n,r){if(!e.editable)return;const i=Cl.getState(e.state);if(i&&!i.dragging){const o=hLe(t.target);let a=-1;if(o){const{left:s,right:l}=o.getBoundingClientRect();t.clientX-s<=n?a=aW(e,t,"left",n):l-t.clientX<=n&&(a=aW(e,t,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const s=e.state.doc.resolve(a),l=s.node(-1),c=ni.get(l),d=s.start(-1);if(c.colCount(s.pos-d)+s.nodeAfter.attrs.colspan-1==c.width-1)return}zle(e,a)}}}function uLe(e){if(!e.editable)return;const t=Cl.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&zle(e,-1)}function dLe(e,t,n,r){var i;if(!e.editable)return!1;const o=(i=e.dom.ownerDocument.defaultView)!=null?i:window,a=Cl.getState(e.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const s=e.state.doc.nodeAt(a.activeHandle),l=fLe(e,a.activeHandle,s.attrs);e.dispatch(e.state.tr.setMeta(Cl,{setDragging:{startX:t.clientX,startWidth:l}}));function c(u){o.removeEventListener("mouseup",c),o.removeEventListener("mousemove",d);const p=Cl.getState(e.state);p?.dragging&&(pLe(e,p.activeHandle,sW(p.dragging,u,n)),e.dispatch(e.state.tr.setMeta(Cl,{setDragging:null})))}function d(u){if(!u.which)return c(u);const p=Cl.getState(e.state);if(p&&p.dragging){const m=sW(p.dragging,u,n);lW(e,p.activeHandle,m,r)}}return lW(e,a.activeHandle,l,r),o.addEventListener("mouseup",c),o.addEventListener("mousemove",d),t.preventDefault(),!0}function fLe(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=e.domAtPos(t);let s=o.node.childNodes[o.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(s-=r[c],l--);return s/l}function hLe(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function aW(e,t,n,r){const i=n=="right"?-r:r,o=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!o)return-1;const{pos:a}=o,s=ox(e.state.doc.resolve(a));if(!s)return-1;if(n=="right")return s.pos;const l=ni.get(s.node(-1)),c=s.start(-1),d=l.map.indexOf(s.pos-c);return d%l.width==0?-1:c+l.map[d-1]}function sW(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function zle(e,t){e.dispatch(e.state.tr.setMeta(Cl,{setHandle:t}))}function pLe(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),o=ni.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let c=0;c<o.height;c++){const d=c*o.width+s;if(c&&o.map[d]==o.map[d-o.width])continue;const u=o.map[d],p=i.nodeAt(u).attrs,m=p.colspan==1?0:s-o.colCount(u);if(p.colwidth&&p.colwidth[m]==n)continue;const v=p.colwidth?p.colwidth.slice():mLe(p.colspan);v[m]=n,l.setNodeMarkup(a+u,null,{...p,colwidth:v})}l.docChanged&&e.dispatch(l)}function lW(e,t,n,r){const i=e.state.doc.resolve(t),o=i.node(-1),a=i.start(-1),s=ni.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let l=e.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&CB(o,l.firstChild,l,r,s,n)}function mLe(e){return Array(e).fill(0)}function gLe(e,t){var n;const r=[],i=e.doc.resolve(t),o=i.node(-1);if(!o)return mn.empty;const a=ni.get(o),s=i.start(-1),l=a.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;for(let c=0;c<a.height;c++){const d=l+c*a.width;if((l==a.width-1||a.map[d]!=a.map[d+1])&&(c==0||a.map[d]!=a.map[d-a.width])){const u=a.map[d],p=s+u+o.nodeAt(u).nodeSize-1,m=document.createElement("div");m.className="column-resize-handle",(n=Cl.getState(e))!=null&&n.dragging&&r.push(ir.node(s+u,s+u+o.nodeAt(u).nodeSize,{class:"column-resize-dragging"})),r.push(ir.widget(p,m))}}return mn.create(e.doc,r)}function yLe({allowTableNodeSelection:e=!1}={}){return new rn({key:Ap,state:{init(){return null},apply(t,n){const r=t.getMeta(Ap);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:o}=t.mapping.mapResult(n);return i?null:o}},props:{decorations:MPe,handleDOMEvents:{mousedown:aLe},createSelectionBetween(t){return Ap.getState(t.state)!=null?t.state.selection:null},handleTripleClick:iLe,handleKeyDown:rLe,handlePaste:oLe},appendTransaction(t,n,r){return IPe(r,LPe(r,n),e)}})}var cW=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},bLe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,vLe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,xLe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,wLe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,ELe=jl.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return cW("strong",{...Dl(this.options.HTMLAttributes,e),children:cW("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[f1({find:bLe,type:this.type}),f1({find:xLe,type:this.type})]},addPasteRules(){return[D0({find:vLe,type:this.type}),D0({find:wLe,type:this.type})]}}),SLe=ELe,CLe=/(^|[^`])`([^`]+)`(?!`)$/,TLe=/(^|[^`])`([^`]+)`(?!`)/g,kLe=jl.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Dl(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[f1({find:CLe,type:this.type})]},addPasteRules(){return[D0({find:TLe,type:this.type})]}}),_Le=kLe,ALe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,OLe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,NLe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,MLe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,DLe=jl.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Dl(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[f1({find:ALe,type:this.type}),f1({find:NLe,type:this.type})]},addPasteRules(){return[D0({find:OLe,type:this.type}),D0({find:MLe,type:this.type})]}}),RLe=DLe,ILe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,PLe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,LLe=jl.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Dl(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[f1({find:ILe,type:this.type})]},addPasteRules(){return[D0({find:PLe,type:this.type})]}}),jLe=LLe,BLe=jl.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Dl(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),$Le=BLe,HLe=class Vle{constructor(t){this.cache=new Map(t)}get(t){return this.cache.get(t)}set(t,n,r){t<0||this.cache.set(t,[n,r])}replace(t,n,r,i){this.remove(t),this.set(n,r,i)}remove(t){this.cache.delete(t)}invalidate(t){const n=new Vle(this.cache),r=t.mapping;return this.cache.forEach(([i,o],a)=>{if(a<0)return;const s=r.mapResult(a),l=t.doc.nodeAt(s.pos);if(s.deleted||!l?.eq(i))n.remove(a);else if(a!==s.pos){const c=o.map(d=>d.map(r,0,0)).filter(d=>d!=null);n.replace(a,s.pos,l,c)}}),n}};function FLe({parser:e,nodeTypes:t=["code_block","codeBlock"],languageExtractor:n=r=>r.attrs.language}){const r=new wn("prosemirror-highlight");return new rn({key:r,state:{init(i,o){const a=new HLe,[s,l]=uW(o.doc,e,t,n,a);return{cache:a,decorations:s,promises:l}},apply:(i,o)=>{const a=o.cache.invalidate(i),s=!!i.getMeta("prosemirror-highlight-refresh");if(!i.docChanged&&!s){const d=o.decorations.map(i.mapping,i.doc),u=o.promises;return{cache:a,decorations:d,promises:u}}const[l,c]=uW(i.doc,e,t,n,a);return{cache:a,decorations:l,promises:c}}},view:i=>{const o=new Set,a=()=>{if(o.size>0)return;const l=i.state.tr.setMeta("prosemirror-highlight-refresh",!0);i.dispatch(l)},s=()=>{var l;const c=r.getState(i.state);for(const d of(l=c?.promises)!=null?l:[])o.add(d),d.then(()=>{o.delete(d),a()}).catch(()=>{o.delete(d)})};return s(),{update:()=>{s()}}},props:{decorations(i){var o;return(o=this.getState(i))==null?void 0:o.decorations}}})}function uW(e,t,n,r,i){const o=[],a=[];return e.descendants((s,l)=>{if(!s.type.isTextblock)return!0;if(n.includes(s.type.name)){const c=r(s),d=i.get(l);if(d){const[u,p]=d;o.push(...p)}else{const u=t({content:s.textContent,language:c||void 0,pos:l,size:s.nodeSize});u&&Array.isArray(u)?(i.set(l,s,u),o.push(...u)):u instanceof Promise&&(i.remove(l),a.push(u))}}return!1}),[mn.create(e,o),a]}function ULe(e,t){return function({content:r,language:i,pos:o,size:a}){var s;const l=[],{tokens:c,fg:d,bg:u,rootStyle:p}=e.codeToTokens(r,{lang:i,theme:e.getLoadedThemes()[0]}),m=p||(d&&u?`--prosemirror-highlight:${d};--prosemirror-highlight-bg:${u}`:"");if(m){const x=ir.node(o,o+a,{style:m});l.push(x)}let v=o+1;for(const x of c){for(const w of x){const T=v+w.content.length,k=ir.inline(v,T,{style:zLe((s=w.htmlStyle)!=null?s:`color: ${w.color}`),class:"shiki"});l.push(k),v=T}v+=1}return l}}function zLe(e){return typeof e=="string"?e:Object.entries(e).map(([t,n])=>`${t}:${n}`).join(";")}var VLe=Object.defineProperty,qLe=(e,t,n)=>t in e?VLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ds=(e,t,n)=>qLe(e,typeof t!="symbol"?t+"":t,n);const WLe=()=>typeof navigator<"u"&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function bl(e,t="Ctrl"){return WLe()?e.replace("Mod",""):e.replace("Mod",t)}function bi(...e){return[...new Set(e.filter(t=>t).join(" ").split(" "))].join(" ")}function YLe(e,t,n,r){const i=document.createElement("div");i.className=bi("bn-block-content",n.class),i.setAttribute("data-content-type",e);for(const[a,s]of Object.entries(n))a!=="class"&&i.setAttribute(a,s);const o=document.createElement(t);o.className=bi("bn-inline-content",r.class);for(const[a,s]of Object.entries(r))a!=="class"&&o.setAttribute(a,s);return i.appendChild(o),{dom:i,contentDOM:o}}const dW=(e,t)=>{let n=iy(e,t.pmSchema);n.type.name==="blockContainer"&&(n=n.firstChild);const r=t.pmSchema.nodes[n.type.name].spec.toDOM;if(r===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const i=r(n);if(typeof i!="object"||!("dom"in i))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return i};function GLe(e,t="<br>"){const n=e.querySelectorAll("p");if(n.length>1){const r=n[0];for(let i=1;i<n.length;i++){const o=n[i];r.innerHTML+=t+o.innerHTML,o.remove()}}}function jO(e){return"data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fW(e){const t=e.split("/");return!t.length||t[t.length-1]===""?e:t[t.length-1]}function KLe(e){var t;const n=["mp4","webm","ogg","mov","mkv","flv","avi","wmv","m4v"];try{const r=((t=new URL(e).pathname.split(".").pop())==null?void 0:t.toLowerCase())||"";return n.includes(r)}catch{return!1}}function XLe(e){const t={};return Object.entries(e).forEach(([n,r])=>{t[n]={default:r.default,keepOnSplit:!0,parseHTML:i=>{const o=i.getAttribute(jO(n));if(o===null)return null;if(r.default===void 0&&r.type==="boolean"||r.default!==void 0&&typeof r.default=="boolean")return o==="true"?!0:o==="false"?!1:null;if(r.default===void 0&&r.type==="number"||r.default!==void 0&&typeof r.default=="number"){const a=parseFloat(o);return!Number.isNaN(a)&&Number.isFinite(a)?a:null}return o},renderHTML:i=>i[n]!==r.default?{[jO(n)]:i[n]}:{}}}),t}function qle(e,t,n,r){const i=e();if(i===void 0)throw new Error("Cannot find node position");const o=n.state.doc.resolve(i).node().attrs.id;if(!o)throw new Error("Block doesn't have id");const a=t.getBlock(o);if(a.type!==r)throw new Error("Block type does not match");return a}function TB(e,t,n,r,i=!1,o){const a=document.createElement("div");if(o!==void 0)for(const[s,l]of Object.entries(o))s!=="class"&&a.setAttribute(s,l);a.className=bi("bn-block-content",o?.class||""),a.setAttribute("data-content-type",t);for(const[s,l]of Object.entries(n)){const c=r[s].default;l!==c&&a.setAttribute(jO(s),l)}return i&&a.setAttribute("data-file-block",""),a.appendChild(e.dom),e.contentDOM&&(e.contentDOM.className=bi("bn-inline-content",e.contentDOM.className)),{...e,dom:a}}function H9(e,t,n){return{config:{type:e.type,content:e.content,propSchema:t},implementation:{node:e.node,render:dW,toExternalHTML:dW},extensions:n}}function ZLe(e,t){e.stopEvent=n=>(n.type==="mousedown"&&setTimeout(()=>{t.view.dom.blur()},10),!0)}function QLe(e,t){const n=[{tag:"[data-content-type="+e.type+"]",contentElement:".bn-inline-content"}];return t.parse&&n.push({tag:"*",getAttrs(r){var i;if(typeof r=="string")return!1;const o=(i=t.parse)==null?void 0:i.call(t,r);return o===void 0?!1:o},getContent:e.content==="inline"||e.content==="none"?(r,i)=>{var o;if(t.parseContent)return t.parseContent({el:r,schema:i});if(e.content==="inline"){const a=r.cloneNode(!0);return GLe(a,(o=t.meta)!=null&&o.code?`
`:"<br>"),hu.fromSchema(i).parse(a,{topNode:i.nodes.paragraph.create()}).content}return He.empty}:void 0}),n}function JLe(e,t,n,r){var i,o,a,s;const l=t.node||qs.create({name:e.type,content:e.content==="inline"?"inline*":e.content==="none"?"":e.content,group:"blockContent",selectable:((i=t.meta)==null?void 0:i.selectable)??!0,isolating:((o=t.meta)==null?void 0:o.isolating)??!0,code:((a=t.meta)==null?void 0:a.code)??!1,defining:((s=t.meta)==null?void 0:s.defining)??!0,priority:r,addAttributes(){return XLe(e.propSchema)},parseHTML(){return QLe(e,t)},renderHTML({HTMLAttributes:c}){var d;const u=document.createElement("div");return TB({dom:u,contentDOM:e.content==="inline"?u:void 0},e.type,{},e.propSchema,((d=t.meta)==null?void 0:d.fileBlockAccept)!==void 0,c)},addNodeView(){return c=>{var d,u;const p=this.options.editor,m=qle(c.getPos,p,this.editor,e.type),v=((d=this.options.domAttributes)==null?void 0:d.blockContent)||{},x=t.render.call({blockContentDOMAttributes:v,props:c,renderType:"nodeView"},m,p);return((u=t.meta)==null?void 0:u.selectable)===!1&&ZLe(x,this.editor),x}}});if(l.name!==e.type)throw new Error("Node name does not match block type. This is a bug in BlockNote.");return{config:e,implementation:{...t,node:l,render(c,d){var u;const p=((u=l.options.domAttributes)==null?void 0:u.blockContent)||{};return t.render.call({blockContentDOMAttributes:p,props:void 0,renderType:"dom"},c,d)},toExternalHTML:(c,d)=>{var u,p;const m=((u=l.options.domAttributes)==null?void 0:u.blockContent)||{};return((p=t.toExternalHTML)==null?void 0:p.call({blockContentDOMAttributes:m},c,d))??t.render.call({blockContentDOMAttributes:m,renderType:"dom",props:void 0},c,d)}},extensions:n}}function Bl(e,t,n){return(r={})=>{const i=typeof e=="function"?e(r):e,o=typeof t=="function"?t(r):t,a=n?typeof n=="function"?n(r):n:void 0;return{config:i,implementation:{...o,toExternalHTML(s,l){var c,d;const u=(c=o.toExternalHTML)==null?void 0:c.call({blockContentDOMAttributes:this.blockContentDOMAttributes},s,l);if(u!==void 0)return TB(u,s.type,s.props,i.propSchema,((d=o.meta)==null?void 0:d.fileBlockAccept)!==void 0)},render(s,l){var c;const d=o.render.call({blockContentDOMAttributes:this.blockContentDOMAttributes,renderType:this.renderType,props:this.props},s,l);return TB(d,s.type,s.props,i.propSchema,((c=o.meta)==null?void 0:c.fileBlockAccept)!==void 0,this.blockContentDOMAttributes)}},extensions:a}}}function Wle(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,n.config]))}function e4e(e){return e==="boolean"?{}:{stringValue:{default:void 0,keepOnSplit:!0,parseHTML:t=>t.getAttribute("data-value"),renderHTML:t=>t.stringValue!==void 0?{"data-value":t.stringValue}:{}}}}function tA(e,t,n,r){return e.dom.setAttribute("data-style-type",t),r==="string"&&e.dom.setAttribute("data-value",n),e.contentDOM&&e.contentDOM.setAttribute("data-editable",""),e}function Yle(e,t){return{config:e,implementation:t}}function ME(e,t){return Yle({type:e.name,propSchema:t},{mark:e,render(n,r){const i=r.pmSchema.marks[e.name].spec.toDOM;if(i===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const o=r.pmSchema.mark(e.name,{stringValue:n}),a=Ml.renderSpec(document,i(o,!0));if(typeof a!="object"||!("dom"in a))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap mark's `renderHTML` function does not return an object with the `dom` property.");return a},toExternalHTML(n,r){const i=r.pmSchema.marks[e.name].spec.toDOM;if(i===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const o=r.pmSchema.mark(e.name,{stringValue:n}),a=Ml.renderSpec(document,i(o,!0));if(typeof a!="object"||!("dom"in a))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap mark's `renderHTML` function does not return an object with the `dom` property.");return a}})}function Gle(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,n.config]))}function t4e(e,t){const n=[{tag:`[data-style-type="${e.type}"]`,contentElement:r=>{const i=r;return i.matches("[data-editable]")?i:i.querySelector("[data-editable]")||i}}];return t&&n.push({tag:"*",consuming:!1,getAttrs(r){if(typeof r=="string")return!1;const i=t?.(r);return i===void 0?!1:{stringValue:i}}}),n}function Kle(e,t){const n=jl.create({name:e.type,addAttributes(){return e4e(e.propSchema)},parseHTML(){return t4e(e,t.parse)},renderHTML({mark:r}){const i=(t.toExternalHTML||t.render)(r.attrs.stringValue);return tA(i,e.type,r.attrs.stringValue,e.propSchema)},addMarkView(){return({mark:r})=>{const i=t.render(r.attrs.stringValue);return tA(i,e.type,r.attrs.stringValue,e.propSchema)}}});return Yle(e,{...t,mark:n,render:r=>{const i=t.render(r);return tA(i,e.type,r,e.propSchema)},toExternalHTML:r=>{const i=(t.toExternalHTML||t.render)(r);return tA(i,e.type,r,e.propSchema)}})}function n4e(e){const t=i4e(e);let{roots:n,nonRoots:r}=hW(t);const i=[];for(;n.size;){i.push(n);const o=new Set;for(const a of n){const s=e.get(a);if(s)for(const l of s){const c=t.get(l);if(c===void 0)continue;const d=c-1;t.set(l,d),d===0&&o.add(l)}}n=o}if(r=hW(t).nonRoots,r.size)throw new Error(`Cycle(s) detected; toposort only works on acyclic graphs. Cyclic nodes: ${Array.from(r).join(", ")}`);return i}function r4e(e){const t=o4e(e);return n4e(t)}function i4e(e){const t=new Map;for(const[n,r]of e.entries()){t.has(n)||t.set(n,0);for(const i of r){const o=t.get(i)??0;t.set(i,o+1)}}return t}function hW(e){const t=new Set,n=new Set;for(const[r,i]of e.entries())i===0?t.add(r):n.add(r);return{roots:t,nonRoots:n}}function o4e(e){const t=new Map;for(const[n,r]of e.entries()){t.has(n)||t.set(n,new Set);for(const i of r)t.has(i)||t.set(i,new Set),t.get(i).add(n)}return t}function a4e(){return new Map}function pW(e){return e&&Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0))}let s4e=class{constructor(t){Ds(this,"BlockNoteEditor","only for types"),Ds(this,"Block","only for types"),Ds(this,"PartialBlock","only for types"),Ds(this,"inlineContentSpecs"),Ds(this,"styleSpecs"),Ds(this,"blockSpecs"),Ds(this,"blockSchema"),Ds(this,"inlineContentSchema"),Ds(this,"styleSchema"),this.opts=t;const{blockSpecs:n,inlineContentSpecs:r,styleSpecs:i,blockSchema:o,inlineContentSchema:a,styleSchema:s}=this.init();this.blockSpecs=n,this.styleSpecs=i,this.styleSchema=s,this.inlineContentSpecs=r,this.blockSchema=o,this.inlineContentSchema=a}init(){var t;const n=a4e(),r=new Set;n.set("default",r);for(const[d,u]of Object.entries({...this.opts.blockSpecs,...this.opts.inlineContentSpecs,...this.opts.styleSpecs}))(t=u.implementation)!=null&&t.runsBefore?n.set(d,new Set(u.implementation.runsBefore)):r.add(d);const i=r4e(n),o=i.findIndex(d=>d.has("default")),a=d=>91+(i.findIndex(u=>u.has(d))+o)*10,s=Object.fromEntries(Object.entries(this.opts.blockSpecs).map(([d,u])=>[d,JLe(u.config,u.implementation,u.extensions,a(d))])),l=Object.fromEntries(Object.entries(this.opts.inlineContentSpecs).map(([d,u])=>{var p;return typeof u.config!="object"?[d,u]:[d,{...u,implementation:{...u.implementation,node:(p=u.implementation)==null?void 0:p.node.extend({priority:a(d)})}}]})),c=Object.fromEntries(Object.entries(this.opts.styleSpecs).map(([d,u])=>{var p;return[d,{...u,implementation:{...u.implementation,mark:(p=u.implementation)==null?void 0:p.mark.extend({priority:a(d)})}}]}));return{blockSpecs:s,blockSchema:Object.fromEntries(Object.entries(s).map(([d,u])=>[d,u.config])),inlineContentSpecs:pW(l),styleSpecs:pW(c),inlineContentSchema:Wle(l),styleSchema:Gle(c)}}extend(t){Object.assign(this.opts.blockSpecs,t.blockSpecs),Object.assign(this.opts.inlineContentSpecs,t.inlineContentSpecs),Object.assign(this.opts.styleSpecs,t.styleSpecs);const{blockSpecs:n,inlineContentSpecs:r,styleSpecs:i,blockSchema:o,inlineContentSchema:a,styleSchema:s}=this.init();return this.blockSpecs=n,this.styleSpecs=i,this.styleSchema=s,this.inlineContentSpecs=r,this.blockSchema=o,this.inlineContentSchema=a,this}};function cs(e,t){let n,r;if(t.firstChild.descendants((i,o)=>n?!1:!F9(i)||i.attrs.id!==e?!0:(n=i,r=o+1,!1)),!(n===void 0||r===void 0))return{node:n,posBeforeNode:r}}function F9(e){return e.type.isInGroup("bnBlock")}const l4e=(e,t)=>({tr:n,dispatch:r})=>(r&&jD(n,e,t),!0);function jD(e,t,n,r,i){const o=ID(e.doc.resolve(t));let a=null;o.blockNoteType==="table"&&(a=d4e(e));const s=ho(e),l=s.nodes[o.blockNoteType],c=s.nodes[n.type||o.blockNoteType],d=c.isInGroup("bnBlock")?c:s.nodes.blockContainer;if(o.isBlockContainer&&c.isInGroup("blockContent"))mW(n,e,o),c4e(n,e,l,c,o);else if(!o.isBlockContainer&&c.isInGroup("bnBlock"))mW(n,e,o);else{const u=ri(o.bnBlock.node,s);e.replaceWith(o.bnBlock.beforePos,o.bnBlock.afterPos,iy({children:u.children,...n},s));return}e.setNodeMarkup(o.bnBlock.beforePos,d,{...o.bnBlock.node.attrs,...n.props}),a&&f4e(e,o,a)}function c4e(e,t,n,r,i,o,a){const s=ho(t);let l="keep";if(e.content)if(typeof e.content=="string")l=bu([e.content],s,r.name);else if(Array.isArray(e.content))l=bu(e.content,s,r.name);else if(e.content.type==="tableContent")l=LD(e.content,s);else throw new Od(e.content.type);else n.spec.content===""||r.spec.content!==n.spec.content&&(l=[]);l==="keep"?t.setNodeMarkup(i.blockContent.beforePos,r,{...i.blockContent.node.attrs,...e.props}):t.replaceWith(i.blockContent.beforePos,i.blockContent.afterPos,r.createChecked({...i.blockContent.node.attrs,...e.props},l))}function mW(e,t,n){const r=ho(t);if(e.children!==void 0&&e.children.length>0){const i=e.children.map(o=>iy(o,r));if(n.childContainer)t.step(new ao(n.childContainer.beforePos+1,n.childContainer.afterPos-1,new at(He.from(i),0,0)));else{if(!n.isBlockContainer)throw new Error("impossible");t.insert(n.blockContent.afterPos,r.nodes.blockGroup.createChecked({},i))}}}function u4e(e,t,n,r,i){const o=typeof t=="string"?t:t.id,a=cs(o,e.doc);if(!a)throw new Error(`Block with ID ${o} not found`);jD(e,a.posBeforeNode,n);const s=e.doc.resolve(a.posBeforeNode+1).node(),l=ho(e);return ri(s,l)}function d4e(e){const t="selection"in e?e.selection:null;if(!(t instanceof St))return null;const n=e.doc.resolve(t.head);let r=-1,i=-1;for(let x=n.depth;x>=0;x--){const w=n.node(x).type.name;if(r<0&&(w==="tableCell"||w==="tableHeader")&&(r=x),w==="table"){i=x;break}}if(r<0||i<0)return null;const o=n.before(r),a=n.before(i),s=e.doc.nodeAt(a);if(!s||s.type.name!=="table")return null;const l=ni.get(s),c=o-(a+1),d=l.map.indexOf(c);if(d<0)return null;const u=Math.floor(d/l.width),p=d%l.width,m=o+1+1,v=Math.max(0,t.head-m);return{row:u,col:p,offset:v}}function f4e(e,t,n){var r;if(t.blockNoteType!=="table")return!1;let i=-1;if(t.isBlockContainer)i=e.mapping.map(t.blockContent.beforePos);else{const w=e.mapping.map(t.bnBlock.beforePos),T=w+(((r=e.doc.nodeAt(w))==null?void 0:r.nodeSize)||0);e.doc.nodesBetween(w,T,(k,O)=>k.type.name==="table"?(i=O,!1):!0)}const o=i>=0?e.doc.nodeAt(i):null;if(!o||o.type.name!=="table")return!1;const a=ni.get(o),s=Math.max(0,Math.min(n.row,a.height-1)),l=Math.max(0,Math.min(n.col,a.width-1)),c=s*a.width+l,d=a.map[c];if(d==null)return!1;const u=i+1+d+1,p=e.doc.nodeAt(u),m=u+1,v=p?p.content.size:0,x=m+Math.max(0,Math.min(n.offset,v));return"selection"in e&&e.setSelection(St.create(e.doc,x)),!0}const Bp={gray:{text:"#9b9a97",background:"#ebeced"},brown:{text:"#64473a",background:"#e9e5e3"},red:{text:"#e03e3e",background:"#fbe4e4"},orange:{text:"#d9730d",background:"#f6e9d9"},yellow:{text:"#dfab01",background:"#fbf3db"},green:{text:"#4d6461",background:"#ddedea"},blue:{text:"#0b6e99",background:"#ddebf1"},purple:{text:"#6940a5",background:"#eae4f2"},pink:{text:"#ad1a72",background:"#f4dfeb"}},cr={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},zs=e=>{const t={};return e.hasAttribute("data-background-color")?t.backgroundColor=e.getAttribute("data-background-color"):e.style.backgroundColor&&(t.backgroundColor=e.style.backgroundColor),e.hasAttribute("data-text-color")?t.textColor=e.getAttribute("data-text-color"):e.style.color&&(t.textColor=e.style.color),t.textAlignment=cr.textAlignment.values.includes(e.style.textAlign)?e.style.textAlign:void 0,t},oy=(e,t)=>{e.backgroundColor&&e.backgroundColor!==cr.backgroundColor.default&&(t.style.backgroundColor=e.backgroundColor in Bp?Bp[e.backgroundColor].background:e.backgroundColor),e.textColor&&e.textColor!==cr.textColor.default&&(t.style.color=e.textColor in Bp?Bp[e.textColor].text:e.textColor),e.textAlignment&&e.textAlignment!==cr.textAlignment.default&&(t.style.textAlign=e.textAlignment)},h4e=(e="backgroundColor")=>({default:cr.backgroundColor.default,parseHTML:t=>t.hasAttribute("data-background-color")?t.getAttribute("data-background-color"):t.style.backgroundColor?t.style.backgroundColor:cr.backgroundColor.default,renderHTML:t=>t[e]===cr.backgroundColor.default?{}:{"data-background-color":t[e]}}),p4e=(e="textColor")=>({default:cr.textColor.default,parseHTML:t=>t.hasAttribute("data-text-color")?t.getAttribute("data-text-color"):t.style.color?t.style.color:cr.textColor.default,renderHTML:t=>t[e]===cr.textColor.default?{}:{"data-text-color":t[e]}}),BD=(e,t)=>{const n=e.querySelector(t);if(!n)return;const r=e.querySelector("figcaption"),i=r?.textContent??void 0;return{targetElement:n,caption:i}},m4e=(e,t,n)=>{const r=document.createElement("div");r.className="bn-add-file-button";const i=document.createElement("div");i.className="bn-add-file-button-icon",n?i.appendChild(n):i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',r.appendChild(i);const o=document.createElement("p");o.className="bn-add-file-button-text",o.innerHTML=e.type in t.dictionary.file_blocks.add_button_text?t.dictionary.file_blocks.add_button_text[e.type]:t.dictionary.file_blocks.add_button_text.file,r.appendChild(o);const a=l=>{l.preventDefault()},s=()=>{t.transact(l=>l.setMeta(t.filePanel.plugins[0],{block:e}))};return r.addEventListener("mousedown",a,!0),r.addEventListener("click",s,!0),{dom:r,destroy:()=>{r.removeEventListener("mousedown",a,!0),r.removeEventListener("click",s,!0)}}},g4e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',y4e=e=>{const t=document.createElement("div");t.className="bn-file-name-with-icon";const n=document.createElement("div");n.className="bn-file-icon",n.innerHTML=g4e,t.appendChild(n);const r=document.createElement("p");return r.className="bn-file-name",r.textContent=e.props.name,t.appendChild(r),{dom:t}},U9=(e,t,n,r)=>{const i=document.createElement("div");if(i.className="bn-file-block-content-wrapper",e.props.url===""){const a=m4e(e,t,r);i.appendChild(a.dom);const s=t.onUploadStart(l=>{if(l===e.id){i.removeChild(a.dom);const c=document.createElement("div");c.className="bn-file-loading-preview",c.textContent="Loading...",i.appendChild(c)}});return{dom:i,destroy:()=>{s(),a.destroy()}}}const o={dom:i};if(e.props.showPreview===!1||!n){const a=y4e(e);i.appendChild(a.dom),o.destroy=()=>{var s;(s=a.destroy)==null||s.call(a)}}else i.appendChild(n.dom);if(e.props.caption){const a=document.createElement("p");a.className="bn-file-caption",a.textContent=e.props.caption,i.appendChild(a)}return o},z9=(e,t)=>{const n=document.createElement("figure"),r=document.createElement("figcaption");return r.textContent=t,n.appendChild(e),n.appendChild(r),{dom:n}},$D=(e,t)=>{const n=document.createElement("div"),r=document.createElement("p");return r.textContent=t,n.appendChild(e),n.appendChild(r),{dom:n}},gW=e=>({url:e.src||void 0}),b4e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"></path></svg>',v4e=e=>({type:"audio",propSchema:{backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0}},content:"none"}),x4e=(e={})=>t=>{if(t.tagName==="AUDIO"){if(t.closest("figure"))return;const{backgroundColor:n}=zs(t);return{...gW(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=BD(t,"audio");if(!n)return;const{targetElement:r,caption:i}=n,{backgroundColor:o}=zs(t);return{...gW(r),backgroundColor:o,caption:i}}},w4e=(e={})=>(t,n)=>{const r=document.createElement("div");r.innerHTML=e.icon??b4e;const i=document.createElement("audio");return i.className="bn-audio",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(o=>{i.src=o}):i.src=t.props.url,i.controls=!0,i.contentEditable="false",i.draggable=!1,U9(t,n,{dom:i},r.firstElementChild)},E4e=(e={})=>(t,n)=>{if(!t.props.url){const i=document.createElement("p");return i.textContent="Add audio",{dom:i}}let r;return t.props.showPreview?(r=document.createElement("audio"),r.src=t.props.url):(r=document.createElement("a"),r.href=t.props.url,r.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?z9(r,t.props.caption):$D(r,t.props.caption):{dom:r}},S4e=Bl(v4e,e=>({meta:{fileBlockAccept:["audio/*"]},parse:x4e(e),render:w4e(e),toExternalHTML:E4e(e),runsBefore:["file"]}));let HD=class{constructor(){Ds(this,"callbacks",{})}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),()=>this.off(t,n)}emit(t,...n){const r=this.callbacks[t];r&&r.forEach(i=>i.apply(this,n))}off(t,n){const r=this.callbacks[t];r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t])}removeAllListeners(){this.callbacks={}}},uo=class extends HD{constructor(...t){super(),Ds(this,"plugins",[]),Ds(this,"inputRules"),Ds(this,"keyboardShortcuts"),Ds(this,"tiptapExtensions")}static key(){throw new Error("You must implement the key method in your extension")}addProsemirrorPlugin(t){this.plugins.push(t)}get priority(){}};function wc(e){const t=Object.create(uo.prototype);return t.key=e.key,t.inputRules=e.inputRules,t.keyboardShortcuts=e.keyboardShortcuts,t.plugins=e.plugins??[],t.tiptapExtensions=e.tiptapExtensions,t}const yW=Symbol.for("blocknote.shikiParser"),dP=Symbol.for("blocknote.shikiHighlighterPromise");function C4e(e){const t=globalThis;let n,r;return FLe({parser:i=>{if(!e.createHighlighter)return[];if(!n)return t[dP]=t[dP]||e.createHighlighter(),t[dP].then(a=>{n=a});const o=Xle(e,i.language);return!o||o==="text"||o==="none"||o==="plaintext"||o==="txt"?[]:n.getLoadedLanguages().includes(o)?(r||(r=t[yW]||ULe(n),t[yW]=r),r(i)):n.loadLanguage(o)},languageExtractor:i=>i.attrs.language,nodeTypes:["codeBlock"]})}const T4e=({defaultLanguage:e="text"})=>({type:"codeBlock",propSchema:{language:{default:e}},content:"inline"}),k4e=Bl(T4e,e=>({meta:{code:!0,defining:!0,isolating:!1},parse:t=>{var n,r;if(t.tagName!=="PRE"||t.childElementCount!==1||((n=t.firstElementChild)==null?void 0:n.tagName)!=="CODE")return;const i=t.firstElementChild;return{language:i.getAttribute("data-language")||((r=i.className.split(" ").find(o=>o.includes("language-")))==null?void 0:r.replace("language-",""))}},parseContent:({el:t,schema:n})=>{const r=hu.fromSchema(n),i=t.firstElementChild;return r.parse(i,{preserveWhitespace:"full",topNode:n.nodes.codeBlock.create()}).content},render(t,n){const r=document.createDocumentFragment(),i=document.createElement("pre"),o=document.createElement("code");i.appendChild(o);let a;if(e.supportedLanguages){const s=document.createElement("select");Object.entries(e.supportedLanguages??{}).forEach(([d,{name:u}])=>{const p=document.createElement("option");p.value=d,p.text=u,s.appendChild(p)}),s.value=t.props.language||e.defaultLanguage||"text";const l=d=>{const u=d.target.value;n.updateBlock(t.id,{props:{language:u}})};s.addEventListener("change",l),a=()=>s.removeEventListener("change",l);const c=document.createElement("div");c.contentEditable="false",c.appendChild(s),r.appendChild(c)}return r.appendChild(i),{dom:r,contentDOM:o,destroy:()=>{a?.()}}},toExternalHTML(t){const n=document.createElement("pre"),r=document.createElement("code");return r.className=`language-${t.props.language}`,r.dataset.language=t.props.language,n.appendChild(r),{dom:n,contentDOM:r}}}),e=>[wc({key:"code-block-highlighter",plugins:[C4e(e)]}),wc({key:"code-block-keyboard-shortcuts",keyboardShortcuts:{Delete:({editor:t})=>t.transact(n=>{const{block:r}=t.getTextCursorPosition();if(r.type!=="codeBlock")return!1;const{$from:i}=n.selection;return i.parent.textContent?!1:(t.removeBlocks([r]),!0)}),Tab:({editor:t})=>e.indentLineWithTab===!1?!1:t.transact(n=>{const{block:r}=t.getTextCursorPosition();return r.type==="codeBlock"?(n.insertText("  "),!0):!1}),Enter:({editor:t})=>t.transact(n=>{const{block:r,nextBlock:i}=t.getTextCursorPosition();if(r.type!=="codeBlock")return!1;const{$from:o}=n.selection,a=o.parentOffset===o.parent.nodeSize-2,s=o.parent.textContent.endsWith(`

`);if(a&&s){if(n.delete(o.pos-2,o.pos),i)return t.setTextCursorPosition(i,"start"),!0;const[l]=t.insertBlocks([{type:"paragraph"}],r,"after");return t.setTextCursorPosition(l,"start"),!0}return n.insertText(`
`),!0}),"Shift-Enter":({editor:t})=>t.transact(()=>{const{block:n}=t.getTextCursorPosition();if(n.type!=="codeBlock")return!1;const[r]=t.insertBlocks([{type:"paragraph"}],n,"after");return t.setTextCursorPosition(r,"start"),!0})},inputRules:[{find:/^```(.*?)\s$/,replace:({match:t})=>{const n=t[1].trim();return{type:"codeBlock",props:{language:{language:Xle(e,n)??n}.language},content:[]}}}]})]);function Xle(e,t){var n;return(n=Object.entries(e.supportedLanguages??{}).find(([r,{aliases:i}])=>i?.includes(t)||r===t))==null?void 0:n[0]}const _4e=()=>({type:"divider",propSchema:{},content:"none"}),A4e=Bl(_4e,{meta:{isolating:!1},parse(e){if(e.tagName==="HR")return{}},render(){return{dom:document.createElement("hr")}}},[wc({key:"divider-block-shortcuts",inputRules:[{find:new RegExp("^---$"),replace(){return{type:"divider",props:{},content:[]}}}]})]),bW=e=>({url:e.src||void 0}),O4e=()=>({type:"file",propSchema:{backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""}},content:"none"}),N4e=()=>e=>{if(e.tagName==="EMBED"){if(e.closest("figure"))return;const{backgroundColor:t}=zs(e);return{...bW(e),backgroundColor:t}}if(e.tagName==="FIGURE"){const t=BD(e,"embed");if(!t)return;const{targetElement:n,caption:r}=t,{backgroundColor:i}=zs(e);return{...bW(n),backgroundColor:i,caption:r}}},M4e=Bl(O4e,{meta:{fileBlockAccept:["*/*"]},parse:N4e(),render(e,t){return U9(e,t)},toExternalHTML(e){if(!e.props.url){const n=document.createElement("p");return n.textContent="Add file",{dom:n}}const t=document.createElement("a");return t.href=e.props.url,t.textContent=e.props.name||e.props.url,e.props.caption?$D(t,e.props.caption):{dom:t}}}),D4e={set:(e,t)=>window.localStorage.setItem(`toggle-${e.id}`,t?"true":"false"),get:e=>window.localStorage.getItem(`toggle-${e.id}`)==="true"},Zle=(e,t,n,r=D4e)=>{if("isToggleable"in e.props&&!e.props.isToggleable)return{dom:n};const i=document.createElement("div"),o=document.createElement("div");o.className="bn-toggle-wrapper";const a=document.createElement("button");a.className="bn-toggle-button",a.type="button",a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="CURRENTCOLOR"><path d="M320-200v-560l440 280-440 280Z"/></svg>';const s=v=>v.preventDefault();a.addEventListener("mousedown",s);const l=()=>{var v;o.getAttribute("data-show-children")==="true"?(o.setAttribute("data-show-children","false"),r.set(t.getBlock(e),!1),i.contains(c)&&i.removeChild(c)):(o.setAttribute("data-show-children","true"),r.set(t.getBlock(e),!0),((v=t.getBlock(e))==null?void 0:v.children.length)===0&&!i.contains(c)&&i.appendChild(c))};a.addEventListener("click",l),o.appendChild(a),o.appendChild(n);const c=document.createElement("button");c.className="bn-toggle-add-block-button",c.type="button",c.textContent=t.dictionary.toggle_blocks.add_block_button;const d=v=>v.preventDefault();c.addEventListener("mousedown",d);const u=()=>{t.transact(()=>{const v=t.updateBlock(e,{children:[{}]});t.setTextCursorPosition(v.children[0].id,"end"),t.focus()})};c.addEventListener("click",u),i.appendChild(o);let p=e.children.length;const m=t.onChange(()=>{var v;const x=((v=t.getBlock(e))==null?void 0:v.children.length)??0;x>p?(o.getAttribute("data-show-children")==="false"&&(o.setAttribute("data-show-children","true"),r.set(t.getBlock(e),!0)),i.contains(c)&&i.removeChild(c)):x===0&&x<p&&(o.getAttribute("data-show-children")==="true"&&(o.setAttribute("data-show-children","false"),r.set(t.getBlock(e),!1)),i.contains(c)&&i.removeChild(c)),p=x});return r.get(e)?(o.setAttribute("data-show-children","true"),e.children.length===0&&i.appendChild(c)):o.setAttribute("data-show-children","false"),{dom:i,ignoreMutation:v=>v instanceof MutationRecord&&(v.type==="attributes"&&v.target===o&&v.attributeName==="data-show-children"||v.type==="childList"&&(v.addedNodes[0]===c||v.removedNodes[0]===c)),destroy:()=>{a.removeEventListener("mousedown",s),a.removeEventListener("click",l),c.removeEventListener("mousedown",d),c.removeEventListener("click",u),m?.()}}},Qle=[1,2,3,4,5,6],R4e=({defaultLevel:e=1,levels:t=Qle,allowToggleHeadings:n=!0}={})=>({type:"heading",propSchema:{...cr,level:{default:e,values:t},...n?{isToggleable:{default:!1,optional:!0}}:{}},content:"inline"}),I4e=Bl(R4e,({allowToggleHeadings:e=!0}={})=>({meta:{isolating:!1},parse(t){let n;switch(t.tagName){case"H1":n=1;break;case"H2":n=2;break;case"H3":n=3;break;case"H4":n=4;break;case"H5":n=5;break;case"H6":n=6;break;default:return}return{...zs(t),level:n}},render(t,n){const r=document.createElement(`h${t.props.level}`);return e?{...Zle(t,n,r),contentDOM:r}:{dom:r,contentDOM:r}},toExternalHTML(t){const n=document.createElement(`h${t.props.level}`);return oy(t.props,n),{dom:n,contentDOM:n}}}),({levels:e=Qle}={})=>[wc({key:"heading-shortcuts",keyboardShortcuts:Object.fromEntries(e.map(t=>[`Mod-Alt-${t}`,({editor:n})=>{const r=n.getTextCursorPosition();return n.schema.blockSchema[r.block.type].content!=="inline"?!1:(n.updateBlock(r.block,{type:"heading",props:{level:t}}),!0)}])??[]),inputRules:e.map(t=>({find:new RegExp(`^(#{${t}})\\s$`),replace({match:n}){return{type:"heading",props:{level:n[1].length}}}}))})]),Jle=(e,t,n,r,i)=>{const{dom:o,destroy:a}=U9(e,t,n,i),s=o;s.style.position="relative",e.props.url&&e.props.showPreview&&(e.props.previewWidth?s.style.width=`${e.props.previewWidth}px`:s.style.width="fit-content");const l=document.createElement("div");l.className="bn-resize-handle",l.style.left="4px";const c=document.createElement("div");c.className="bn-resize-handle",c.style.right="4px";const d=document.createElement("div");d.style.position="absolute",d.style.height="100%",d.style.width="100%";let u,p=e.props.previewWidth;const m=O=>{var I,N;if(!u){!t.isEditable&&r.contains(l)&&r.contains(c)&&(r.removeChild(l),r.removeChild(c));return}let A;const R="touches"in O?O.touches[0].clientX:O.clientX;e.props.textAlignment==="center"?u.handleUsed==="left"?A=u.initialWidth+(u.initialClientX-R)*2:A=u.initialWidth+(R-u.initialClientX)*2:u.handleUsed==="left"?A=u.initialWidth+u.initialClientX-R:A=u.initialWidth+R-u.initialClientX,p=Math.min(Math.max(A,64),((N=(I=t.domElement)==null?void 0:I.firstElementChild)==null?void 0:N.clientWidth)||Number.MAX_VALUE),s.style.width=`${p}px`},v=O=>{(!O.target||!s.contains(O.target)||!t.isEditable)&&r.contains(l)&&r.contains(c)&&(r.removeChild(l),r.removeChild(c)),u&&(u=void 0,s.contains(d)&&s.removeChild(d),t.updateBlock(e,{props:{previewWidth:p}}))},x=()=>{t.isEditable&&(r.appendChild(l),r.appendChild(c))},w=O=>{O.relatedTarget===l||O.relatedTarget===c||u||t.isEditable&&r.contains(l)&&r.contains(c)&&(r.removeChild(l),r.removeChild(c))},T=O=>{O.preventDefault(),s.contains(d)||s.appendChild(d);const I="touches"in O?O.touches[0].clientX:O.clientX;u={handleUsed:"left",initialWidth:s.clientWidth,initialClientX:I}},k=O=>{O.preventDefault(),s.contains(d)||s.appendChild(d);const I="touches"in O?O.touches[0].clientX:O.clientX;u={handleUsed:"right",initialWidth:s.clientWidth,initialClientX:I}};return window.addEventListener("mousemove",m),window.addEventListener("touchmove",m),window.addEventListener("mouseup",v),window.addEventListener("touchend",v),s.addEventListener("mouseenter",x),s.addEventListener("mouseleave",w),l.addEventListener("mousedown",T),l.addEventListener("touchstart",T),c.addEventListener("mousedown",k),c.addEventListener("touchstart",k),{dom:s,destroy:()=>{a?.(),window.removeEventListener("mousemove",m),window.removeEventListener("touchmove",m),window.removeEventListener("mouseup",v),window.removeEventListener("touchend",v),s.removeEventListener("mouseenter",x),s.removeEventListener("mouseleave",w),l.removeEventListener("mousedown",T),l.removeEventListener("touchstart",T),c.removeEventListener("mousedown",k),c.removeEventListener("touchstart",k)}}},vW=e=>{const t=e.src||void 0,n=e.width||void 0,r=e.alt||void 0;return{url:t,previewWidth:n,name:r}},P4e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"></path></svg>',L4e=(e={})=>({type:"image",propSchema:{textAlignment:cr.textAlignment,backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},content:"none"}),j4e=(e={})=>t=>{if(t.tagName==="IMG"){if(t.closest("figure"))return;const{backgroundColor:n}=zs(t);return{...vW(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=BD(t,"img");if(!n)return;const{targetElement:r,caption:i}=n,{backgroundColor:o}=zs(t);return{...vW(r),backgroundColor:o,caption:i}}},B4e=(e={})=>(t,n)=>{const r=document.createElement("div");r.innerHTML=e.icon??P4e;const i=document.createElement("div");i.className="bn-visual-media-wrapper";const o=document.createElement("img");return o.className="bn-visual-media",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(a=>{o.src=a}):o.src=t.props.url,o.alt=t.props.name||t.props.caption||"BlockNote image",o.contentEditable="false",o.draggable=!1,i.appendChild(o),Jle(t,n,{dom:i},i,r.firstElementChild)},$4e=(e={})=>(t,n)=>{if(!t.props.url){const i=document.createElement("p");return i.textContent="Add image",{dom:i}}let r;return t.props.showPreview?(r=document.createElement("img"),r.src=t.props.url,r.alt=t.props.name||t.props.caption||"BlockNote image",t.props.previewWidth&&(r.width=t.props.previewWidth)):(r=document.createElement("a"),r.href=t.props.url,r.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?z9(r,t.props.caption):$D(r,t.props.caption):{dom:r}},H4e=Bl(L4e,e=>({meta:{fileBlockAccept:["image/*"]},parse:j4e(e),render:B4e(e),toExternalHTML:$4e(e),runsBefore:["file"]})),F4e=(e,t,n)=>({state:r,dispatch:i})=>i?ece(r.tr,e,t,n):!0,ece=(e,t,n,r)=>{const i=Zf(e.doc,t),o=Qf(i);if(!o.isBlockContainer)return!1;const a=ho(e),s=[{type:o.bnBlock.node.type,attrs:r?{...o.bnBlock.node.attrs,id:void 0}:{}},{type:n?o.blockContent.node.type:a.nodes.paragraph,attrs:r?{...o.blockContent.node.attrs}:{}}];return e.split(t,2,s),!0},FD=(e,t)=>{const{blockInfo:n,selectionEmpty:r}=e.transact(a=>({blockInfo:jT(a),selectionEmpty:a.selection.anchor===a.selection.head}));if(!n.isBlockContainer)return!1;const{bnBlock:i,blockContent:o}=n;return o.node.type.name!==t||!r?!1:o.node.childCount===0?(e.transact(a=>{jD(a,i.beforePos,{type:"paragraph",props:{}})}),!0):o.node.childCount>0?e.transact(a=>(a.deleteSelection(),ece(a,a.selection.from,!0))):!1};function V9(e,t,n){var r,i,o;const a=hu.fromSchema(t),s=e,l=document.createElement("div");l.setAttribute("data-node-type","blockGroup");for(const m of Array.from(s.childNodes))l.appendChild(m.cloneNode(!0));let c=a.parse(l,{topNode:t.nodes.blockGroup.create()});((i=(r=c.firstChild)==null?void 0:r.firstChild)==null?void 0:i.type.name)==="checkListItem"&&(c=c.copy(c.content.cut(c.firstChild.firstChild.nodeSize+2)));const d=(o=c.firstChild)==null?void 0:o.firstChild;if(!(d!=null&&d.isTextblock))return He.from(c);const u=t.nodes[n].create({},d.content),p=c.content.cut(d.nodeSize+2);if(p.size>0){const m=c.copy(p);return u.content.addToEnd(m)}return u.content}const U4e=()=>({type:"bulletListItem",propSchema:{...cr},content:"inline"}),z4e=Bl(U4e,{meta:{isolating:!1},parse(e){var t;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="UL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="UL"))return zs(e)},parseContent:({el:e,schema:t})=>V9(e,t,"bulletListItem"),render(){const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return oy(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[wc({key:"bullet-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>FD(e,"bulletListItem"),"Mod-Shift-8":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"bulletListItem",props:{}}),!0)}},inputRules:[{find:new RegExp("^[-+*]\\s$"),replace({editor:e}){if(Ns(e.prosemirrorState).blockNoteType!=="heading")return{type:"bulletListItem",props:{}}}}]})]),V4e=()=>({type:"checkListItem",propSchema:{...cr,checked:{default:!1,type:"boolean"}},content:"inline"}),q4e=Bl(V4e,{meta:{isolating:!1},parse(e){var t;if(e.tagName==="input")return e.closest("[data-content-type]")||e.closest("li")?void 0:e.type==="checkbox"?{checked:e.checked}:void 0;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="UL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="UL")){const r=e.querySelector("input[type=checkbox]")||null;return r===null?void 0:{...zs(e),checked:r.checked}}},parseContent:({el:e,schema:t})=>V9(e,t,"checkListItem"),render(e,t){const n=document.createDocumentFragment(),r=document.createElement("input");r.type="checkbox",r.checked=e.props.checked,e.props.checked&&r.setAttribute("checked",""),r.addEventListener("change",()=>{t.updateBlock(e,{props:{checked:!e.props.checked}})});const i=document.createElement("p");return n.appendChild(r),n.appendChild(i),{dom:n,contentDOM:i}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("input");n.type="checkbox",n.checked=e.props.checked,e.props.checked&&n.setAttribute("checked","");const r=document.createElement("p");return oy(e.props,t),t.appendChild(n),t.appendChild(r),{dom:t,contentDOM:r}},runsBefore:["bulletListItem"]},[wc({key:"check-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>FD(e,"checkListItem"),"Mod-Shift-9":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"checkListItem",props:{}}),!0)}},inputRules:[{find:new RegExp("\\[\\s*\\]\\s$"),replace(){return{type:"checkListItem",props:{checked:!1},content:[]}}},{find:new RegExp("\\[[Xx]\\]\\s$"),replace(){return{type:"checkListItem",props:{checked:!0}}}}]})]);function tce(e,t,n,r){let i=e.firstChild.attrs.start||1,o=!0;const a=!!e.firstChild.attrs.start,s=Qf({posBeforeNode:t,node:e});if(!s.isBlockContainer)throw new Error("impossible");const l=n.doc.resolve(s.bnBlock.beforePos).nodeBefore,c=l?r.get(l):void 0;return c!==void 0?(i=c+1,o=!1):l&&Qf({posBeforeNode:s.bnBlock.beforePos-l.nodeSize,node:l}).blockNoteType==="numberedListItem"&&(i=tce(l,s.bnBlock.beforePos-l.nodeSize,n,r).index+1,o=!1),r.set(e,i),{index:i,isFirst:o,hasStart:a}}function xW(e,t){const n=new Map,r=t.decorations.map(e.mapping,e.doc),i=[];e.doc.nodesBetween(0,e.doc.nodeSize-2,(a,s)=>{if(a.type.name==="blockContainer"&&a.firstChild.type.name==="numberedListItem"){const{index:l,isFirst:c,hasStart:d}=tce(a,s,e,n);if(r.find(s,s+a.nodeSize,u=>u.index===l&&u.isFirst===c&&u.hasStart===d).length===0){const u=e.doc.nodeAt(s+1);i.push(ir.node(s+1,s+1+u.nodeSize,{"data-index":l.toString()}))}}});const o=i.flatMap(a=>r.find(a.from,a.to));return{decorations:r.remove(o).add(e.doc,i)}}const W4e=()=>new rn({key:new wn("numbered-list-indexing-decorations"),state:{init(e,t){return xW(t.tr,{decorations:mn.empty})},apply(e,t){return!e.docChanged&&!e.selectionSet&&t.decorations?t:xW(e,t)}},props:{decorations(e){var t;return((t=this.getState(e))==null?void 0:t.decorations)??mn.empty}}}),Y4e=()=>({type:"numberedListItem",propSchema:{...cr,start:{default:void 0,type:"number"}},content:"inline"}),G4e=Bl(Y4e,{meta:{isolating:!1},parse(e){var t;if(e.tagName!=="LI")return;const n=e.parentElement;if(n!==null&&(n.tagName==="OL"||n.tagName==="DIV"&&((t=n.parentElement)==null?void 0:t.tagName)==="OL")){const r=parseInt(n.getAttribute("start")||"1"),i=zs(e);return e.previousElementSibling||r===1?i:{...i,start:r}}},parseContent:({el:e,schema:t})=>V9(e,t,"numberedListItem"),render(){const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return oy(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[wc({key:"numbered-list-item-shortcuts",inputRules:[{find:new RegExp("^(\\d+)\\.\\s$"),replace({match:e,editor:t}){if(Ns(t.prosemirrorState).blockNoteType==="heading")return;const n=parseInt(e[1]);return{type:"numberedListItem",props:{start:n!==1?n:void 0}}}}],keyboardShortcuts:{Enter:({editor:e})=>FD(e,"numberedListItem"),"Mod-Shift-7":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"numberedListItem",props:{}}),!0)}},plugins:[W4e()]})]),K4e=()=>({type:"toggleListItem",propSchema:{...cr},content:"inline"}),X4e=Bl(K4e,{meta:{isolating:!1},render(e,t){const n=document.createElement("p");return{...Zle(e,t,n),contentDOM:n}},toExternalHTML(e){const t=document.createElement("li"),n=document.createElement("p");return oy(e.props,t),t.appendChild(n),{dom:t,contentDOM:n}}},[wc({key:"toggle-list-item-shortcuts",keyboardShortcuts:{Enter:({editor:e})=>FD(e,"toggleListItem"),"Mod-Shift-6":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"toggleListItem",props:{}}),!0)}}})]),Z4e=()=>({type:"paragraph",propSchema:cr,content:"inline"}),nce=Bl(Z4e,{meta:{isolating:!1},parse:e=>{var t;if(e.tagName==="P"&&(t=e.textContent)!=null&&t.trim())return zs(e)},render:()=>{const e=document.createElement("p");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("p");return oy(e.props,t),{dom:t,contentDOM:t}},runsBefore:["default"]},[wc({key:"paragraph-shortcuts",keyboardShortcuts:{"Mod-Alt-0":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"paragraph",props:{}}),!0)}}})]),Q4e=()=>({type:"quote",propSchema:{backgroundColor:cr.backgroundColor,textColor:cr.textColor},content:"inline"}),J4e=Bl(Q4e,{meta:{isolating:!1},parse(e){if(e.tagName==="BLOCKQUOTE"){const{backgroundColor:t,textColor:n}=zs(e);return{backgroundColor:t,textColor:n}}},render(){const e=document.createElement("blockquote");return{dom:e,contentDOM:e}},toExternalHTML(e){const t=document.createElement("blockquote");return oy(e.props,t),{dom:t,contentDOM:t}}},[wc({key:"quote-block-shortcuts",keyboardShortcuts:{"Mod-Alt-q":({editor:e})=>{const t=e.getTextCursorPosition();return e.schema.blockSchema[t.block.type].content!=="inline"?!1:(e.updateBlock(t.block,{type:"quote",props:{}}),!0)}},inputRules:[{find:new RegExp("^>\\s$"),replace(){return{type:"quote",props:{}}}}]})]),eje=35,q9=120,tje=31,nje=ur.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[sLe({cellMinWidth:eje,defaultCellMinWidth:q9,View:null}),yLe()],addKeyboardShortcuts(){return{Enter:()=>this.editor.state.selection.empty&&this.editor.state.selection.$head.parent.type.name==="tableParagraph"?(this.editor.commands.insertContent({type:"hardBreak"}),!0):!1,Backspace:()=>{const e=this.editor.state.selection,t=e.empty,n=e.$head.parentOffset===0,r=e.$head.node().type.name==="tableParagraph";return t&&n&&r},Tab:()=>this.editor.commands.command(({state:e,dispatch:t,view:n})=>tW(1)(e,t,n)),"Shift-Tab":()=>this.editor.commands.command(({state:e,dispatch:t,view:n})=>tW(-1)(e,t,n))}},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:Br(Vt(e,"tableRole",t))}}}),rje={textColor:cr.textColor},ije=qs.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"tableContent+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th",getContent:(e,t)=>rce(e,t)}]},renderHTML({HTMLAttributes:e}){return["th",Dl(this.options.HTMLAttributes,e),0]}}),oje=qs.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"tableContent+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td",getContent:(e,t)=>rce(e,t)}]},renderHTML({HTMLAttributes:e}){return["td",Dl(this.options.HTMLAttributes,e),0]}}),aje=qs.create({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",marks:"deletion insertion modification",isolating:!0,parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){var n,r,i;const o=YLe(this.name,"table",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...t},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{}),a=document.createElement("colgroup");for(const s of e.children[0].children)if(s.attrs.colwidth)for(const l of s.attrs.colwidth){const c=document.createElement("col");l&&(c.style=`width: ${l}px`),a.appendChild(c)}else a.appendChild(document.createElement("col"));return(i=o.dom.firstChild)==null||i.appendChild(a),o},addNodeView(){return({node:e,HTMLAttributes:t})=>{var n;class r extends Ule{constructor(o,a,s){super(o,a),this.node=o,this.cellMinWidth=a,this.blockContentHTMLAttributes=s;const l=document.createElement("div");l.className=bi("bn-block-content",s.class),l.setAttribute("data-content-type","table");for(const[p,m]of Object.entries(s))p!=="class"&&l.setAttribute(p,m);const c=this.dom,d=document.createElement("div");d.className="tableWrapper-inner",d.appendChild(c.firstChild),c.appendChild(d),l.appendChild(c);const u=document.createElement("div");u.className="table-widgets-container",u.style.position="relative",c.appendChild(u),this.dom=l}ignoreMutation(o){return!o.target.closest(".tableWrapper-inner")||super.ignoreMutation(o)}}return new r(e,q9,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...t})}}}),sje=qs.create({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML(){return[{tag:"p",getAttrs:e=>{if(typeof e=="string"||!e.textContent||!e.closest("[data-content-type]"))return!1;const t=e.parentElement;return t===null?!1:t.tagName==="TD"||t.tagName==="TH"?{}:!1},node:"tableParagraph"}]},renderHTML({HTMLAttributes:e}){return["p",e,0]}}),lje=qs.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)+",tableRole:"row",marks:"deletion insertion modification",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",Dl(this.options.HTMLAttributes,e),0]}});function rce(e,t){const n=hu.fromSchema(t).parse(e,{topNode:t.nodes.blockGroup.create()}),r=[];return n.content.descendants(i=>{if(i.isInline)return r.push(i),!1}),He.fromArray(r)}const cje=()=>H9({node:aje,type:"table",content:"table"},rje,[wc({key:"table-extensions",tiptapExtensions:[nje,sje,ije,oje,lje]}),wc({key:"table-keyboard-delete",keyboardShortcuts:{Backspace:({editor:e})=>{if(!(e.prosemirrorState.selection instanceof Mr))return!1;const t=e.getTextCursorPosition().block,n=t.content;let r=0;for(const o of n.rows)for(const a of o.cells){if("type"in a&&a.content.length>0||!("type"in a)&&a.length>0)return!1;r++}let i=0;return e.prosemirrorState.selection.forEachCell(()=>{i++}),i<r?!1:(e.transact(()=>{(e.getPrevBlock(t)||e.getNextBlock(t))&&e.setTextCursorPosition(t),e.removeBlocks([t])}),!0)}}})]),wW=e=>{const t=e.src||void 0,n=e.width||void 0;return{url:t,previewWidth:n}},uje='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"></path></svg>',dje=e=>({type:"video",propSchema:{textAlignment:cr.textAlignment,backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},content:"none"}),fje=e=>t=>{if(t.tagName==="VIDEO"){if(t.closest("figure"))return;const{backgroundColor:n}=zs(t);return{...wW(t),backgroundColor:n}}if(t.tagName==="FIGURE"){const n=BD(t,"video");if(!n)return;const{targetElement:r,caption:i}=n,{backgroundColor:o}=zs(t);return{...wW(r),backgroundColor:o,caption:i}}},hje=Bl(dje,e=>({meta:{fileBlockAccept:["video/*"]},parse:fje(),render(t,n){const r=document.createElement("div");r.innerHTML=e.icon??uje;const i=document.createElement("div");i.className="bn-visual-media-wrapper";const o=document.createElement("video");return o.className="bn-visual-media",n.resolveFileUrl?n.resolveFileUrl(t.props.url).then(a=>{o.src=a}):o.src=t.props.url,o.controls=!0,o.contentEditable="false",o.draggable=!1,o.width=t.props.previewWidth,i.appendChild(o),Jle(t,n,{dom:i},i,r.firstElementChild)},toExternalHTML(t){if(!t.props.url){const r=document.createElement("p");return r.textContent="Add video",{dom:r}}let n;return t.props.showPreview?(n=document.createElement("video"),n.src=t.props.url,t.props.previewWidth&&(n.width=t.props.previewWidth)):(n=document.createElement("a"),n.href=t.props.url,n.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?z9(n,t.props.caption):$D(n,t.props.caption):{dom:n}},runsBefore:["file"]}));function Zr(e,t,n){if(!(t in e.schema.blockSpecs))return!1;if(!n)return!0;for(const[r,i]of Object.entries(n)){if(!(r in e.schema.blockSpecs[t].config.propSchema))return!1;if(typeof i=="string"){if(e.schema.blockSpecs[t].config.propSchema[r].default!==void 0&&typeof e.schema.blockSpecs[t].config.propSchema[r].default!==i||e.schema.blockSpecs[t].config.propSchema[r].type!==void 0&&e.schema.blockSpecs[t].config.propSchema[r].type!==i)return!1}else{if(e.schema.blockSpecs[t].config.propSchema[r].default!==i.default||e.schema.blockSpecs[t].config.propSchema[r].default===void 0&&i.default===void 0&&e.schema.blockSpecs[t].config.propSchema[r].type!==i.type||typeof e.schema.blockSpecs[t].config.propSchema[r].values!=typeof i.values)return!1;if(typeof e.schema.blockSpecs[t].config.propSchema[r].values=="object"&&typeof i.values=="object"){for(const o of i.values)if(!e.schema.blockSpecs[t].config.propSchema[r].values.includes(o))return!1}}}return!0}function _l(e,t,n,r){return Zr(t,n,r)&&e.type===n}function kB(e){return e instanceof Mr}function pje(e){let t=e.getTextCursorPosition().block,n=e.schema.blockSchema[t.type].content;for(;n==="none";){if(t=e.getTextCursorPosition().nextBlock,t===void 0)return;n=e.schema.blockSchema[t.type].content,e.setTextCursorPosition(t,"end")}}function Rr(e,t){const n=e.getTextCursorPosition().block;if(n.content===void 0)throw new Error("Slash Menu open in a block that doesn't contain content.");let r;return Array.isArray(n.content)&&(n.content.length===1&&R0(n.content[0])&&n.content[0].type==="text"&&n.content[0].text==="/"||n.content.length===0)?(r=e.updateBlock(n,t),e.setTextCursorPosition(r)):(r=e.insertBlocks([t],n,"after")[0],e.setTextCursorPosition(e.getTextCursorPosition().nextBlock)),pje(e),r}function ice(e){const t=[];return Zr(e,"heading",{level:"number"})&&t.push({onItemClick:()=>{Rr(e,{type:"heading",props:{level:1}})},badge:bl("Mod-Alt-1"),key:"heading",...e.dictionary.slash_menu.heading},{onItemClick:()=>{Rr(e,{type:"heading",props:{level:2}})},badge:bl("Mod-Alt-2"),key:"heading_2",...e.dictionary.slash_menu.heading_2},{onItemClick:()=>{Rr(e,{type:"heading",props:{level:3}})},badge:bl("Mod-Alt-3"),key:"heading_3",...e.dictionary.slash_menu.heading_3}),Zr(e,"quote")&&t.push({onItemClick:()=>{Rr(e,{type:"quote"})},key:"quote",...e.dictionary.slash_menu.quote}),Zr(e,"toggleListItem")&&t.push({onItemClick:()=>{Rr(e,{type:"toggleListItem"})},badge:bl("Mod-Shift-6"),key:"toggle_list",...e.dictionary.slash_menu.toggle_list}),Zr(e,"numberedListItem")&&t.push({onItemClick:()=>{Rr(e,{type:"numberedListItem"})},badge:bl("Mod-Shift-7"),key:"numbered_list",...e.dictionary.slash_menu.numbered_list}),Zr(e,"bulletListItem")&&t.push({onItemClick:()=>{Rr(e,{type:"bulletListItem"})},badge:bl("Mod-Shift-8"),key:"bullet_list",...e.dictionary.slash_menu.bullet_list}),Zr(e,"checkListItem")&&t.push({onItemClick:()=>{Rr(e,{type:"checkListItem"})},badge:bl("Mod-Shift-9"),key:"check_list",...e.dictionary.slash_menu.check_list}),Zr(e,"paragraph")&&t.push({onItemClick:()=>{Rr(e,{type:"paragraph"})},badge:bl("Mod-Alt-0"),key:"paragraph",...e.dictionary.slash_menu.paragraph}),Zr(e,"codeBlock")&&t.push({onItemClick:()=>{Rr(e,{type:"codeBlock"})},badge:bl("Mod-Alt-c"),key:"code_block",...e.dictionary.slash_menu.code_block}),Zr(e,"divider")&&t.push({onItemClick:()=>{Rr(e,{type:"divider"})},key:"divider",...e.dictionary.slash_menu.divider}),Zr(e,"table")&&t.push({onItemClick:()=>{Rr(e,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},badge:void 0,key:"table",...e.dictionary.slash_menu.table}),Zr(e,"image",{url:"string"})&&t.push({onItemClick:()=>{const n=Rr(e,{type:"image"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"image",...e.dictionary.slash_menu.image}),Zr(e,"video",{url:"string"})&&t.push({onItemClick:()=>{const n=Rr(e,{type:"video"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"video",...e.dictionary.slash_menu.video}),Zr(e,"audio",{url:"string"})&&t.push({onItemClick:()=>{const n=Rr(e,{type:"audio"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"audio",...e.dictionary.slash_menu.audio}),Zr(e,"file",{url:"string"})&&t.push({onItemClick:()=>{const n=Rr(e,{type:"file"});e.transact(r=>r.setMeta(e.filePanel.plugins[0],{block:n}))},key:"file",...e.dictionary.slash_menu.file}),Zr(e,"heading",{level:"number",isToggleable:"boolean"})&&t.push({onItemClick:()=>{Rr(e,{type:"heading",props:{level:1,isToggleable:!0}})},key:"toggle_heading",...e.dictionary.slash_menu.toggle_heading},{onItemClick:()=>{Rr(e,{type:"heading",props:{level:2,isToggleable:!0}})},key:"toggle_heading_2",...e.dictionary.slash_menu.toggle_heading_2},{onItemClick:()=>{Rr(e,{type:"heading",props:{level:3,isToggleable:!0}})},key:"toggle_heading_3",...e.dictionary.slash_menu.toggle_heading_3}),Zr(e,"heading",{level:"number"})&&(e.schema.blockSchema.heading.propSchema.level.values||[]).filter(n=>n>3).forEach(n=>{t.push({onItemClick:()=>{Rr(e,{type:"heading",props:{level:n}})},key:`heading_${n}`,...e.dictionary.slash_menu[`heading_${n}`]})}),t.push({onItemClick:()=>{e.openSuggestionMenu(":",{deleteTriggerCharacter:!0,ignoreQueryLength:!0})},key:"emoji",...e.dictionary.slash_menu.emoji}),t}function mje(e,t){return e.filter(({title:n,aliases:r})=>n.toLowerCase().includes(t.toLowerCase())||r&&r.filter(i=>i.toLowerCase().includes(t.toLowerCase())).length!==0)}const oce={audio:S4e(),bulletListItem:z4e(),checkListItem:q4e(),codeBlock:k4e(),divider:A4e(),file:M4e(),heading:I4e(),image:H4e(),numberedListItem:G4e(),paragraph:nce(),quote:J4e(),table:cje(),toggleListItem:X4e(),video:hje()},gje=Kle({type:"textColor",propSchema:"string"},{render:()=>{const e=document.createElement("span");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("span");return e!==cr.textColor.default&&(t.style.color=e in Bp?Bp[e].text:e),{dom:t,contentDOM:t}},parse:e=>{if(e.tagName==="SPAN"&&e.style.color)return e.style.color}}),yje=Kle({type:"backgroundColor",propSchema:"string"},{render:()=>{const e=document.createElement("span");return{dom:e,contentDOM:e}},toExternalHTML:e=>{const t=document.createElement("span");return e!==cr.backgroundColor.default&&(t.style.backgroundColor=e in Bp?Bp[e].background:e),{dom:t,contentDOM:t}},parse:e=>{if(e.tagName==="SPAN"&&e.style.backgroundColor)return e.style.backgroundColor}}),W9={bold:ME(SLe,"boolean"),italic:ME(RLe,"boolean"),underline:ME($Le,"boolean"),strike:ME(jLe,"boolean"),code:ME(_Le,"boolean"),textColor:gje,backgroundColor:yje};Gle(W9);const ace={text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}},bje=Wle(ace);let UD=class sce extends s4e{static create(t){return new sce({blockSpecs:t?.blockSpecs??oce,inlineContentSpecs:t?.inlineContentSpecs??ace,styleSpecs:t?.styleSpecs??W9})}};var fP,EW;function vje(){return EW||(EW=1,fP=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}),fP}var xje=vje();const wje=vr(xje);function lce(e={}){return new rn({view(t){return new Eje(t,e)}})}class Eje{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(n){let u=t.nodeBefore,p=t.nodeAfter;if(u||p){let m=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(m){let v=m.getBoundingClientRect(),x=u?v.bottom:v.top;u&&p&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*s;r={left:v.left,right:v.right,top:x-w,bottom:x+w}}}}if(!r){let u=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*a;r={left:u.left-p,right:u.left+p,top:u.top,bottom:u.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,d=-pageYOffset;else{let u=l.getBoundingClientRect(),p=u.width/l.offsetWidth,m=u.height/l.offsetHeight;c=u.left-l.scrollLeft*p,d=u.top-l.scrollTop*m}this.element.style.left=(r.left-c)/a+"px",this.element.style.top=(r.top-d)/s+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=t9(this.editorView.state.doc,a,this.editorView.dragging.slice);s!=null&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const pc=()=>new Map,_B=e=>{const t=pc();return e.forEach((n,r)=>{t.set(r,n)}),t},Bd=(e,t,n)=>{let r=e.get(t);return r===void 0&&e.set(t,r=n()),r},Sje=(e,t)=>{const n=[];for(const[r,i]of e)n.push(t(i,r));return n},Cje=(e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1},j0=()=>new Set,hP=e=>e[e.length-1],Tje=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},rm=Array.from,kje=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1},AB=Array.isArray;class cce{constructor(){this._observers=pc()}on(t,n){return Bd(this._observers,t,j0).add(n),n}once(t,n){const r=(...i)=>{this.off(t,r),n(...i)};this.on(t,r)}off(t,n){const r=this._observers.get(t);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(t))}emit(t,n){return rm((this._observers.get(t)||pc()).values()).forEach(r=>r(...n))}destroy(){this._observers=pc()}}const Jf=Math.floor,KA=Math.abs,Ff=(e,t)=>e<t?e:t,vu=(e,t)=>e>t?e:t,uce=e=>e!==0?e<0:1/e<0,SW=1,CW=2,pP=4,mP=8,cC=32,Uf=64,rs=128,_je=1<<29,zD=31,OB=63,g0=127,Aje=2147483647,dce=Number.MAX_SAFE_INTEGER,Oje=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&Jf(e)===e),Nje=String.fromCharCode,Mje=e=>e.toLowerCase(),Dje=/^\s*/g,Rje=e=>e.replace(Dje,""),Ije=/([A-Z])/g,TW=(e,t)=>Rje(e.replace(Ije,n=>`${t}${Mje(n)}`)),Pje=e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.codePointAt(i);return r},uC=typeof TextEncoder<"u"?new TextEncoder:null,Lje=e=>uC.encode(e),jje=uC?Lje:Pje;let bS=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});bS&&bS.decode(new Uint8Array).length===1&&(bS=null);class $T{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const HT=()=>new $T,Bje=e=>{const t=HT();return e(t),lu(t)},$je=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},lu=e=>{const t=new Uint8Array($je(e));let n=0;for(let r=0;r<e.bufs.length;r++){const i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},Hje=(e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(vu(n,t)*2),e.cpos=0)},Io=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(n*2),e.cpos=0),e.cbuf[e.cpos++]=t},NB=Io,Kn=(e,t)=>{for(;t>g0;)Io(e,rs|g0&t),t=Jf(t/128);Io(e,g0&t)},Y9=(e,t)=>{const n=uce(t);for(n&&(t=-t),Io(e,(t>OB?rs:0)|(n?Uf:0)|OB&t),t=Jf(t/64);t>0;)Io(e,(t>g0?rs:0)|g0&t),t=Jf(t/128)},MB=new Uint8Array(3e4),Fje=MB.length/3,Uje=(e,t)=>{if(t.length<Fje){const n=uC.encodeInto(t,MB).written||0;Kn(e,n);for(let r=0;r<n;r++)Io(e,MB[r])}else ml(e,jje(t))},zje=(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;Kn(e,r);for(let i=0;i<r;i++)Io(e,n.codePointAt(i))},Bv=uC&&uC.encodeInto?Uje:zje,VD=(e,t)=>{const n=e.cbuf.length,r=e.cpos,i=Ff(n-r,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(vu(n*2,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},ml=(e,t)=>{Kn(e,t.byteLength),VD(e,t)},G9=(e,t)=>{Hje(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},Vje=(e,t)=>G9(e,4).setFloat32(0,t,!1),qje=(e,t)=>G9(e,8).setFloat64(0,t,!1),Wje=(e,t)=>G9(e,8).setBigInt64(0,t,!1),kW=new DataView(new ArrayBuffer(4)),Yje=e=>(kW.setFloat32(0,e),kW.getFloat32(0)===e),h1=(e,t)=>{switch(typeof t){case"string":Io(e,119),Bv(e,t);break;case"number":Oje(t)&&KA(t)<=Aje?(Io(e,125),Y9(e,t)):Yje(t)?(Io(e,124),Vje(e,t)):(Io(e,123),qje(e,t));break;case"bigint":Io(e,122),Wje(e,t);break;case"object":if(t===null)Io(e,126);else if(AB(t)){Io(e,117),Kn(e,t.length);for(let n=0;n<t.length;n++)h1(e,t[n])}else if(t instanceof Uint8Array)Io(e,116),ml(e,t);else{Io(e,118);const n=Object.keys(t);Kn(e,n.length);for(let r=0;r<n.length;r++){const i=n[r];Bv(e,i),h1(e,t[i])}}break;case"boolean":Io(e,t?120:121);break;default:Io(e,127)}};class _W extends $T{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&Kn(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const AW=e=>{e.count>0&&(Y9(e.encoder,e.count===1?e.s:-e.s),e.count>1&&Kn(e.encoder,e.count-2))};class XA{constructor(){this.encoder=new $T,this.s=0,this.count=0}write(t){this.s===t?this.count++:(AW(this),this.count=1,this.s=t)}toUint8Array(){return AW(this),lu(this.encoder)}}const OW=e=>{if(e.count>0){const t=e.diff*2+(e.count===1?0:1);Y9(e.encoder,t),e.count>1&&Kn(e.encoder,e.count-2)}};class gP{constructor(){this.encoder=new $T,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(OW(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return OW(this),lu(this.encoder)}}class Gje{constructor(){this.sarr=[],this.s="",this.lensE=new XA}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new $T;return this.sarr.push(this.s),this.s="",Bv(t,this.sarr.join("")),VD(t,this.lensE.toUint8Array()),lu(t)}}const im=e=>new Error(e),pu=()=>{throw im("Method unimplemented")},Rl=()=>{throw im("Unexpected case")},fce=im("Unexpected end of array"),hce=im("Integer out of Range");class qD{constructor(t){this.arr=t,this.pos=0}}const ax=e=>new qD(e),Kje=e=>e.pos!==e.arr.length,Xje=(e,t)=>{const n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},gl=e=>Xje(e,Bn(e)),p1=e=>e.arr[e.pos++],Bn=e=>{let t=0,n=1;const r=e.arr.length;for(;e.pos<r;){const i=e.arr[e.pos++];if(t=t+(i&g0)*n,n*=128,i<rs)return t;if(t>dce)throw hce}throw fce},K9=e=>{let t=e.arr[e.pos++],n=t&OB,r=64;const i=(t&Uf)>0?-1:1;if((t&rs)===0)return i*n;const o=e.arr.length;for(;e.pos<o;){if(t=e.arr[e.pos++],n=n+(t&g0)*r,r*=128,t<rs)return i*n;if(n>dce)throw hce}throw fce},Zje=e=>{let t=Bn(e);if(t===0)return"";{let n=String.fromCodePoint(p1(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(p1(e));else for(;t>0;){const r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))}},Qje=e=>bS.decode(gl(e)),$v=bS?Qje:Zje,X9=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},Jje=e=>X9(e,4).getFloat32(0,!1),e5e=e=>X9(e,8).getFloat64(0,!1),t5e=e=>X9(e,8).getBigInt64(0,!1),n5e=[e=>{},e=>null,K9,Jje,e5e,t5e,e=>!1,e=>!0,$v,e=>{const t=Bn(e),n={};for(let r=0;r<t;r++){const i=$v(e);n[i]=dC(e)}return n},e=>{const t=Bn(e),n=[];for(let r=0;r<t;r++)n.push(dC(e));return n},gl],dC=e=>n5e[127-p1(e)](e);class NW extends qD{constructor(t,n){super(t),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),Kje(this)?this.count=Bn(this)+1:this.count=-1),this.count--,this.s}}class ZA extends qD{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=K9(this);const t=uce(this.s);this.count=1,t&&(this.s=-this.s,this.count=Bn(this)+2)}return this.count--,this.s}}class yP extends qD{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=K9(this),n=t&1;this.diff=Jf(t/2),this.count=1,n&&(this.count=Bn(this)+2)}return this.s+=this.diff,this.count--,this.s}}class r5e{constructor(t){this.decoder=new ZA(t),this.str=$v(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),n=this.str.slice(this.spos,t);return this.spos=t,n}}const i5e=crypto.getRandomValues.bind(crypto),o5e=Math.random,pce=()=>i5e(new Uint32Array(1))[0],a5e=e=>e[Jf(o5e()*e.length)],s5e="10000000-1000-4000-8000"+-1e11,l5e=()=>s5e.replace(/[018]/g,e=>(e^pce()&15>>e/4).toString(16)),c5e=Date.now,MW=e=>new Promise(e);Promise.all.bind(Promise);const DW=e=>e===void 0?null:e;class u5e{constructor(){this.map=new Map}setItem(t,n){this.map.set(t,n)}getItem(t){return this.map.get(t)}}let mce=new u5e,d5e=!0;try{typeof localStorage<"u"&&localStorage&&(mce=localStorage,d5e=!1)}catch{}const f5e=mce,h5e=Object.assign,gce=Object.keys,p5e=(e,t)=>{for(const n in e)t(e[n],n)},RW=e=>gce(e).length,m5e=e=>{for(const t in e)return!1;return!0},yce=(e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0},g5e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),y5e=(e,t)=>e===t||RW(e)===RW(t)&&yce(e,(n,r)=>(n!==void 0||g5e(t,r))&&t[r]===n),b5e=Object.freeze,bce=e=>{for(const t in e){const n=e[t];(typeof n=="object"||typeof n=="function")&&bce(e[t])}return b5e(e)},Z9=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&Z9(e,t,n+1)}},v5e=e=>e,x5e=(e,t)=>t.includes(e);var vce={};const m1=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",xce=typeof window<"u"&&typeof document<"u"&&!m1;let sd;const w5e=()=>{if(sd===void 0)if(m1){sd=pc();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];r[0]==="-"?(t!==null&&sd.set(t,""),t=r):t!==null&&(sd.set(t,r),t=null)}t!==null&&sd.set(t,"")}else typeof location=="object"?(sd=pc(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){const[t,n]=e.split("=");sd.set(`--${TW(t,"-")}`,n),sd.set(`-${TW(t,"-")}`,n)}})):sd=pc();return sd},DB=e=>w5e().has(e),BO=e=>DW(m1?vce[e.toUpperCase().replaceAll("-","_")]:f5e.getItem(e)),wce=e=>DB("--"+e)||BO(e)!==null;wce("production");const E5e=m1&&x5e(vce.FORCE_COLOR,["true","1","2"]),S5e=E5e||!DB("--no-colors")&&!wce("no-color")&&(!m1||process.stdout.isTTY)&&(!m1||DB("--color")||BO("COLORTERM")!==null||(BO("TERM")||"").includes("color")),C5e=e=>new Uint8Array(e),T5e=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=Nje(e[n]);return btoa(t)},k5e=e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),_5e=xce?T5e:k5e,A5e=e=>{const t=C5e(e.byteLength);return t.set(e),t},O5e=e=>Bje(t=>h1(t,e));class N5e{constructor(t,n){this.left=t,this.right=n}}const vf=(e,t)=>new N5e(e,t),M5e=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const D5e=e=>Sje(e,(t,n)=>`${n}:${t};`).join(""),R5e=e=>class{constructor(n){this._=n}destroy(){e(this._)}},I5e=R5e(clearTimeout),Q9=(e,t)=>new I5e(setTimeout(t,e)),ch=Symbol,Ece=ch(),Sce=ch(),P5e=ch(),L5e=ch(),j5e=ch(),Cce=ch(),B5e=ch(),J9=ch(),$5e=ch(),H5e=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[];let r=0;for(;r<e.length;r++){const i=e[r];if(i===void 0)break;if(i.constructor===String||i.constructor===Number)t.push(i);else if(i.constructor===Object)break}for(r>0&&n.push(t.join(""));r<e.length;r++){const i=e[r];i instanceof Symbol||n.push(i)}return n},F5e={[Ece]:vf("font-weight","bold"),[Sce]:vf("font-weight","normal"),[P5e]:vf("color","blue"),[j5e]:vf("color","green"),[L5e]:vf("color","grey"),[Cce]:vf("color","red"),[B5e]:vf("color","purple"),[J9]:vf("color","orange"),[$5e]:vf("color","black")},U5e=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[],r=pc();let i=[],o=0;for(;o<e.length;o++){const a=e[o],s=F5e[a];if(s!==void 0)r.set(s.left,s.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const l=D5e(r);o>0||l.length>0?(t.push("%c"+a),n.push(l)):t.push(a)}else break}}for(o>0&&(i=n,i.unshift(t.join("")));o<e.length;o++){const a=e[o];a instanceof Symbol||i.push(a)}return i},Tce=S5e?U5e:H5e,z5e=(...e)=>{console.log(...Tce(e)),_ce.forEach(t=>t.print(e))},kce=(...e)=>{console.warn(...Tce(e)),e.unshift(J9),_ce.forEach(t=>t.print(e))},_ce=j0(),Ace=e=>({[Symbol.iterator](){return this},next:e}),V5e=(e,t)=>Ace(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),bP=(e,t)=>Ace(()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}});class eF{constructor(t,n){this.clock=t,this.len=n}}class sx{constructor(){this.clients=new Map}}const om=(e,t,n)=>t.clients.forEach((r,i)=>{const o=e.doc.store.clients.get(i);if(o!=null){const a=o[o.length-1],s=a.id.clock+a.length;for(let l=0,c=r[l];l<r.length&&c.clock<s;c=r[++l])Uce(e,o,c.clock,c.len,n)}}),q5e=(e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const i=Jf((n+r)/2),o=e[i],a=o.clock;if(a<=t){if(t<a+o.len)return i;n=i+1}else r=i-1}return null},lx=(e,t)=>{const n=e.clients.get(t.client);return n!==void 0&&q5e(n,t.clock)!==null},tF=e=>{e.clients.forEach(t=>{t.sort((i,o)=>i.clock-o.clock);let n,r;for(n=1,r=1;n<t.length;n++){const i=t[r-1],o=t[n];i.clock+i.len>=o.clock?i.len=vu(i.len,o.clock+o.len-i.clock):(r<n&&(t[r]=o),r++)}t.length=r})},RB=e=>{const t=new sx;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,i)=>{if(!t.clients.has(i)){const o=r.slice();for(let a=n+1;a<e.length;a++)Tje(o,e[a].clients.get(i)||[]);t.clients.set(i,o)}});return tF(t),t},fC=(e,t,n,r)=>{Bd(e.clients,t,()=>[]).push(new eF(n,r))},Oce=()=>new sx,Nce=e=>{const t=Oce();return e.clients.forEach((n,r)=>{const i=[];for(let o=0;o<n.length;o++){const a=n[o];if(a.deleted){const s=a.id.clock;let l=a.length;if(o+1<n.length)for(let c=n[o+1];o+1<n.length&&c.deleted;c=n[++o+1])l+=c.length;i.push(new eF(s,l))}}i.length>0&&t.clients.set(r,i)}),t},cx=(e,t)=>{Kn(e.restEncoder,t.clients.size),rm(t.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{e.resetDsCurVal(),Kn(e.restEncoder,n);const i=r.length;Kn(e.restEncoder,i);for(let o=0;o<i;o++){const a=r[o];e.writeDsClock(a.clock),e.writeDsLen(a.len)}})},nF=e=>{const t=new sx,n=Bn(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const i=Bn(e.restDecoder),o=Bn(e.restDecoder);if(o>0){const a=Bd(t.clients,i,()=>[]);for(let s=0;s<o;s++)a.push(new eF(e.readDsClock(),e.readDsLen()))}}return t},IW=(e,t,n)=>{const r=new sx,i=Bn(e.restDecoder);for(let o=0;o<i;o++){e.resetDsCurVal();const a=Bn(e.restDecoder),s=Bn(e.restDecoder),l=n.clients.get(a)||[],c=Yi(n,a);for(let d=0;d<s;d++){const u=e.readDsClock(),p=u+e.readDsLen();if(u<c){c<p&&fC(r,a,c,p-c);let m=Ec(l,u),v=l[m];for(!v.deleted&&v.id.clock<u&&(l.splice(m+1,0,qO(t,v,u-v.id.clock)),m++);m<l.length&&(v=l[m++],v.id.clock<p);)v.deleted||(p<v.id.clock+v.length&&l.splice(m,0,qO(t,v,p-v.id.clock)),v.delete(t))}else fC(r,a,u,p-u)}}if(r.clients.size>0){const o=new B0;return Kn(o.restEncoder,0),cx(o,r),o.toUint8Array()}return null},Mce=pce;class pm extends cce{constructor({guid:t=l5e(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:a=!1,shouldLoad:s=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=Mce(),this.guid=t,this.collectionid=n,this.share=new Map,this.store=new Hce,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=s,this.autoLoad=a,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=MW(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const l=()=>MW(c=>{const d=u=>{(u===void 0||u===!0)&&(this.off("sync",d),c())};this.on("sync",d)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){const t=this._item;t!==null&&!this.shouldLoad&&Hr(t.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(rm(this.subdocs).map(t=>t.guid))}transact(t,n=null){return Hr(this,t,n)}get(t,n=Bo){const r=Bd(this.share,t,()=>{const o=new n;return o._integrate(this,null),o}),i=r.constructor;if(n!==Bo&&i!==n)if(i===Bo){const o=new n;o._map=r._map,r._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=o}),o._start=r._start;for(let a=o._start;a!==null;a=a.right)a.parent=o;return o._length=r._length,this.share.set(t,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return r}getArray(t=""){return this.get(t,Uv)}getText(t=""){return this.get(t,am)}getMap(t=""){return this.get(t,y1)}getXmlElement(t=""){return this.get(t,ea)}getXmlFragment(t=""){return this.get(t,sm)}toJSON(){const t={};return this.share.forEach((n,r)=>{t[r]=n.toJSON()}),t}destroy(){this.isDestroyed=!0,rm(this.subdocs).forEach(n=>n.destroy());const t=this._item;if(t!==null){this._item=null;const n=t.content;n.doc=new pm({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=t,Hr(t.parent.doc,r=>{const i=n.doc;t.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class Dce{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return Bn(this.restDecoder)}readDsLen(){return Bn(this.restDecoder)}}class Rce extends Dce{readLeftID(){return vn(Bn(this.restDecoder),Bn(this.restDecoder))}readRightID(){return vn(Bn(this.restDecoder),Bn(this.restDecoder))}readClient(){return Bn(this.restDecoder)}readInfo(){return p1(this.restDecoder)}readString(){return $v(this.restDecoder)}readParentInfo(){return Bn(this.restDecoder)===1}readTypeRef(){return Bn(this.restDecoder)}readLen(){return Bn(this.restDecoder)}readAny(){return dC(this.restDecoder)}readBuf(){return A5e(gl(this.restDecoder))}readJSON(){return JSON.parse($v(this.restDecoder))}readKey(){return $v(this.restDecoder)}}class W5e{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Bn(this.restDecoder),this.dsCurrVal}readDsLen(){const t=Bn(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class g1 extends W5e{constructor(t){super(t),this.keys=[],Bn(t),this.keyClockDecoder=new yP(gl(t)),this.clientDecoder=new ZA(gl(t)),this.leftClockDecoder=new yP(gl(t)),this.rightClockDecoder=new yP(gl(t)),this.infoDecoder=new NW(gl(t),p1),this.stringDecoder=new r5e(gl(t)),this.parentInfoDecoder=new NW(gl(t),p1),this.typeRefDecoder=new ZA(gl(t)),this.lenDecoder=new ZA(gl(t))}readLeftID(){return new Hv(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Hv(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return dC(this.restDecoder)}readBuf(){return gl(this.restDecoder)}readJSON(){return dC(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class Ice{constructor(){this.restEncoder=HT()}toUint8Array(){return lu(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){Kn(this.restEncoder,t)}writeDsLen(t){Kn(this.restEncoder,t)}}class FT extends Ice{writeLeftID(t){Kn(this.restEncoder,t.client),Kn(this.restEncoder,t.clock)}writeRightID(t){Kn(this.restEncoder,t.client),Kn(this.restEncoder,t.clock)}writeClient(t){Kn(this.restEncoder,t)}writeInfo(t){NB(this.restEncoder,t)}writeString(t){Bv(this.restEncoder,t)}writeParentInfo(t){Kn(this.restEncoder,t?1:0)}writeTypeRef(t){Kn(this.restEncoder,t)}writeLen(t){Kn(this.restEncoder,t)}writeAny(t){h1(this.restEncoder,t)}writeBuf(t){ml(this.restEncoder,t)}writeJSON(t){Bv(this.restEncoder,JSON.stringify(t))}writeKey(t){Bv(this.restEncoder,t)}}class Pce{constructor(){this.restEncoder=HT(),this.dsCurrVal=0}toUint8Array(){return lu(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const n=t-this.dsCurrVal;this.dsCurrVal=t,Kn(this.restEncoder,n)}writeDsLen(t){t===0&&Rl(),Kn(this.restEncoder,t-1),this.dsCurrVal+=t}}class B0 extends Pce{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new gP,this.clientEncoder=new XA,this.leftClockEncoder=new gP,this.rightClockEncoder=new gP,this.infoEncoder=new _W(NB),this.stringEncoder=new Gje,this.parentInfoEncoder=new _W(NB),this.typeRefEncoder=new XA,this.lenEncoder=new XA}toUint8Array(){const t=HT();return Kn(t,0),ml(t,this.keyClockEncoder.toUint8Array()),ml(t,this.clientEncoder.toUint8Array()),ml(t,this.leftClockEncoder.toUint8Array()),ml(t,this.rightClockEncoder.toUint8Array()),ml(t,lu(this.infoEncoder)),ml(t,this.stringEncoder.toUint8Array()),ml(t,lu(this.parentInfoEncoder)),ml(t,this.typeRefEncoder.toUint8Array()),ml(t,this.lenEncoder.toUint8Array()),VD(t,lu(this.restEncoder)),lu(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){h1(this.restEncoder,t)}writeBuf(t){ml(this.restEncoder,t)}writeJSON(t){h1(this.restEncoder,t)}writeKey(t){const n=this.keyMap.get(t);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(n)}}const Y5e=(e,t,n,r)=>{r=vu(r,t[0].id.clock);const i=Ec(t,r);Kn(e.restEncoder,t.length-i),e.writeClient(n),Kn(e.restEncoder,r);const o=t[i];o.write(e,r-o.id.clock);for(let a=i+1;a<t.length;a++)t[a].write(e,0)},rF=(e,t,n)=>{const r=new Map;n.forEach((i,o)=>{Yi(t,o)>i&&r.set(o,i)}),UT(t).forEach((i,o)=>{n.has(o)||r.set(o,0)}),Kn(e.restEncoder,r.size),rm(r.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{Y5e(e,t.clients.get(i),i,o)})},G5e=(e,t)=>{const n=pc(),r=Bn(e.restDecoder);for(let i=0;i<r;i++){const o=Bn(e.restDecoder),a=new Array(o),s=e.readClient();let l=Bn(e.restDecoder);n.set(s,{i:0,refs:a});for(let c=0;c<o;c++){const d=e.readInfo();switch(zD&d){case 0:{const u=e.readLen();a[c]=new lc(vn(s,l),u),l+=u;break}case 10:{const u=Bn(e.restDecoder);a[c]=new cc(vn(s,l),u),l+=u;break}default:{const u=(d&(Uf|rs))===0,p=new ii(vn(s,l),null,(d&rs)===rs?e.readLeftID():null,null,(d&Uf)===Uf?e.readRightID():null,u?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,u&&(d&cC)===cC?e.readString():null,uue(e,d));a[c]=p,l+=p.length}}}}return n},K5e=(e,t,n)=>{const r=[];let i=rm(n.keys()).sort((m,v)=>m-v);if(i.length===0)return null;const o=()=>{if(i.length===0)return null;let m=n.get(i[i.length-1]);for(;m.refs.length===m.i;)if(i.pop(),i.length>0)m=n.get(i[i.length-1]);else return null;return m};let a=o();if(a===null)return null;const s=new Hce,l=new Map,c=(m,v)=>{const x=l.get(m);(x==null||x>v)&&l.set(m,v)};let d=a.refs[a.i++];const u=new Map,p=()=>{for(const m of r){const v=m.id.client,x=n.get(v);x?(x.i--,s.clients.set(v,x.refs.slice(x.i)),n.delete(v),x.i=0,x.refs=[]):s.clients.set(v,[m]),i=i.filter(w=>w!==v)}r.length=0};for(;;){if(d.constructor!==cc){const v=Bd(u,d.id.client,()=>Yi(t,d.id.client))-d.id.clock;if(v<0)r.push(d),c(d.id.client,d.id.clock-1),p();else{const x=d.getMissing(e,t);if(x!==null){r.push(d);const w=n.get(x)||{refs:[],i:0};if(w.refs.length===w.i)c(x,Yi(t,x)),p();else{d=w.refs[w.i++];continue}}else(v===0||v<d.length)&&(d.integrate(e,v),u.set(d.id.client,d.id.clock+d.length))}}if(r.length>0)d=r.pop();else if(a!==null&&a.i<a.refs.length)d=a.refs[a.i++];else{if(a=o(),a===null)break;d=a.refs[a.i++]}}if(s.clients.size>0){const m=new B0;return rF(m,s,new Map),Kn(m.restEncoder,0),{missing:l,update:m.toUint8Array()}}return null},X5e=(e,t)=>rF(e,t.doc.store,t.beforeState),Z5e=(e,t,n,r=new g1(e))=>Hr(t,i=>{i.local=!1;let o=!1;const a=i.doc,s=a.store,l=G5e(r,a),c=K5e(i,s,l),d=s.pendingStructs;if(d){for(const[p,m]of d.missing)if(m<Yi(s,p)){o=!0;break}if(c){for(const[p,m]of c.missing){const v=d.missing.get(p);(v==null||v>m)&&d.missing.set(p,m)}d.update=HO([d.update,c.update])}}else s.pendingStructs=c;const u=IW(r,i,s);if(s.pendingDs){const p=new g1(ax(s.pendingDs));Bn(p.restDecoder);const m=IW(p,i,s);u&&m?s.pendingDs=HO([u,m]):s.pendingDs=u||m}else s.pendingDs=u;if(o){const p=s.pendingStructs.update;s.pendingStructs=null,$O(i.doc,p)}},n,!1),$O=(e,t,n,r=g1)=>{const i=ax(t);Z5e(i,e,n,new r(i))},PW=(e,t,n)=>$O(e,t,n,Rce),Q5e=(e,t,n=new Map)=>{rF(e,t.store,n),cx(e,Nce(t.store))},J5e=(e,t=new Uint8Array([0]),n=new B0)=>{const r=Lce(t);Q5e(n,e,r);const i=[n.toUint8Array()];if(e.store.pendingDs&&i.push(e.store.pendingDs),e.store.pendingStructs&&i.push(b6e(e.store.pendingStructs.update,t)),i.length>1){if(n.constructor===FT)return g6e(i.map((o,a)=>a===0?o:x6e(o)));if(n.constructor===B0)return HO(i)}return i[0]},LW=(e,t)=>J5e(e,t,new FT),e6e=e=>{const t=new Map,n=Bn(e.restDecoder);for(let r=0;r<n;r++){const i=Bn(e.restDecoder),o=Bn(e.restDecoder);t.set(i,o)}return t},Lce=e=>e6e(new Dce(ax(e))),jce=(e,t)=>(Kn(e.restEncoder,t.size),rm(t.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{Kn(e.restEncoder,n),Kn(e.restEncoder,r)}),e),t6e=(e,t)=>jce(e,UT(t.store)),n6e=(e,t=new Pce)=>(e instanceof Map?jce(t,e):t6e(t,e),t.toUint8Array()),r6e=e=>n6e(e,new Ice);class i6e{constructor(){this.l=[]}}const jW=()=>new i6e,BW=(e,t)=>e.l.push(t),$W=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter(i=>t!==i),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Bce=(e,t,n)=>Z9(e.l,[t,n]);class Hv{constructor(t,n){this.client=t,this.clock=n}}const Tv=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,vn=(e,t)=>new Hv(e,t),hC=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw Rl()},pC=(e,t)=>{for(;t!==null;){if(t.parent===e)return!0;t=t.parent._item}return!1};class mC{constructor(t,n,r,i=0){this.type=t,this.tname=n,this.item=r,this.assoc=i}}const vS=e=>new mC(e.type==null?null:vn(e.type.client,e.type.clock),e.tname??null,e.item==null?null:vn(e.item.client,e.item.clock),e.assoc==null?0:e.assoc);class o6e{constructor(t,n,r=0){this.type=t,this.index=n,this.assoc=r}}const a6e=(e,t,n=0)=>new o6e(e,t,n),nA=(e,t,n)=>{let r=null,i=null;return e._item===null?i=hC(e):r=vn(e._item.id.client,e._item.id.clock),new mC(r,i,t,n)},vP=(e,t,n=0)=>{let r=e._start;if(n<0){if(t===0)return nA(e,null,n);t--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>t)return nA(e,vn(r.id.client,r.id.clock+t),n);t-=r.length}if(r.right===null&&n<0)return nA(e,r.lastId,n);r=r.right}return nA(e,null,n)},s6e=(e,t)=>{const n=Fv(e,t),r=t.clock-n.id.clock;return{item:n,diff:r}},l6e=(e,t,n=!0)=>{const r=t.store,i=e.item,o=e.type,a=e.tname,s=e.assoc;let l=null,c=0;if(i!==null){if(Yi(r,i.client)<=i.clock)return null;const d=n?jB(r,i):s6e(r,i),u=d.item;if(!(u instanceof ii))return null;if(l=u.parent,l._item===null||!l._item.deleted){c=u.deleted||!u.countable?0:d.diff+(s>=0?0:1);let p=u.left;for(;p!==null;)!p.deleted&&p.countable&&(c+=p.length),p=p.left}}else{if(a!==null)l=t.get(a);else if(o!==null){if(Yi(r,o.client)<=o.clock)return null;const{item:d}=n?jB(r,o):{item:Fv(r,o)};if(d instanceof ii&&d.content instanceof Tu)l=d.content.type;else return null}else throw Rl();s>=0?c=l._length:c=0}return a6e(l,c,e.assoc)},HW=(e,t)=>e===t||e!==null&&t!==null&&e.tname===t.tname&&Tv(e.item,t.item)&&Tv(e.type,t.type)&&e.assoc===t.assoc;class iF{constructor(t,n){this.ds=t,this.sv=n}}const $ce=(e,t)=>new iF(e,t),xP=e=>$ce(Nce(e.store),UT(e.store)),Xg=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!lx(t.ds,e.id),IB=(e,t)=>{const n=Bd(e.meta,IB,j0),r=e.doc.store;n.has(t)||(t.sv.forEach((i,o)=>{i<Yi(r,o)&&Bs(e,vn(o,i))}),om(e,t.ds,i=>{}),n.add(t))};class Hce{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const UT=e=>{const t=new Map;return e.clients.forEach((n,r)=>{const i=n[n.length-1];t.set(r,i.id.clock+i.length)}),t},Yi=(e,t)=>{const n=e.clients.get(t);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},Fce=(e,t)=>{let n=e.clients.get(t.id.client);if(n===void 0)n=[],e.clients.set(t.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw Rl()}n.push(t)},Ec=(e,t)=>{let n=0,r=e.length-1,i=e[r],o=i.id.clock;if(o===t)return r;let a=Jf(t/(o+i.length-1)*r);for(;n<=r;){if(i=e[a],o=i.id.clock,o<=t){if(t<o+i.length)return a;n=a+1}else r=a-1;a=Jf((n+r)/2)}throw Rl()},c6e=(e,t)=>{const n=e.clients.get(t.client);return n[Ec(n,t.clock)]},Fv=c6e,PB=(e,t,n)=>{const r=Ec(t,n),i=t[r];return i.id.clock<n&&i instanceof ii?(t.splice(r+1,0,qO(e,i,n-i.id.clock)),r+1):r},Bs=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[PB(e,n,t.clock)]},FW=(e,t,n)=>{const r=t.clients.get(n.client),i=Ec(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==lc&&r.splice(i+1,0,qO(e,o,n.clock-o.id.clock+1)),o},u6e=(e,t,n)=>{const r=e.clients.get(t.id.client);r[Ec(r,t.id.clock)]=n},Uce=(e,t,n,r,i)=>{if(r===0)return;const o=n+r;let a=PB(e,t,n),s;do s=t[a++],o<s.id.clock+s.length&&PB(e,t,o),i(s);while(a<t.length&&t[a].id.clock<o)};class d6e{constructor(t,n,r){this.doc=t,this.deleteSet=new sx,this.beforeState=UT(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const UW=(e,t)=>t.deleteSet.clients.size===0&&!Cje(t.afterState,(n,r)=>t.beforeState.get(r)!==n)?!1:(tF(t.deleteSet),X5e(e,t),cx(e,t.deleteSet),!0),zW=(e,t,n)=>{const r=t._item;(r===null||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&Bd(e.changed,t,j0).add(n)},QA=(e,t)=>{let n=e[t],r=e[t-1],i=t;for(;i>0;n=r,r=e[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof ii&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const o=t-i;return o&&e.splice(t+1-o,o),o},f6e=(e,t,n)=>{for(const[r,i]of e.clients.entries()){const o=t.clients.get(r);for(let a=i.length-1;a>=0;a--){const s=i[a],l=s.clock+s.len;for(let c=Ec(o,s.clock),d=o[c];c<o.length&&d.id.clock<l;d=o[++c]){const u=o[c];if(s.clock+s.len<=u.id.clock)break;u instanceof ii&&u.deleted&&!u.keep&&n(u)&&u.gc(t,!1)}}}},h6e=(e,t)=>{e.clients.forEach((n,r)=>{const i=t.clients.get(r);for(let o=n.length-1;o>=0;o--){const a=n[o],s=Ff(i.length-1,1+Ec(i,a.clock+a.len-1));for(let l=s,c=i[l];l>0&&c.id.clock>=a.clock;c=i[l])l-=1+QA(i,l)}})},zce=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,i=r.store,o=n.deleteSet,a=n._mergeStructs;try{tF(o),n.afterState=UT(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const s=[];n.changed.forEach((l,c)=>s.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,l)})),s.push(()=>{n.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(d=>d.target._item===null||!d.target._item.deleted),l.forEach(d=>{d.currentTarget=c,d._path=null}),l.sort((d,u)=>d.path.length-u.path.length),Bce(c._dEH,l,n))})}),s.push(()=>r.emit("afterTransaction",[n,r])),Z9(s,[]),n._needFormattingCleanup&&I6e(n)}finally{r.gc&&f6e(o,i,r.gcFilter),h6e(o,i),n.afterState.forEach((d,u)=>{const p=n.beforeState.get(u)||0;if(p!==d){const m=i.clients.get(u),v=vu(Ec(m,p),1);for(let x=m.length-1;x>=v;)x-=1+QA(m,x)}});for(let d=a.length-1;d>=0;d--){const{client:u,clock:p}=a[d].id,m=i.clients.get(u),v=Ec(m,p);v+1<m.length&&QA(m,v+1)>1||v>0&&QA(m,v)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(z5e(J9,Ece,"[yjs] ",Sce,Cce,"Changed the client-id because another client seems to be using it."),r.clientID=Mce()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const d=new FT;UW(d,n)&&r.emit("update",[d.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const d=new B0;UW(d,n)&&r.emit("updateV2",[d.toUint8Array(),n.origin,r,n])}const{subdocsAdded:s,subdocsLoaded:l,subdocsRemoved:c}=n;(s.size>0||c.size>0||l.size>0)&&(s.forEach(d=>{d.clientID=r.clientID,d.collectionid==null&&(d.collectionid=r.collectionid),r.subdocs.add(d)}),c.forEach(d=>r.subdocs.delete(d)),r.emit("subdocs",[{loaded:l,added:s,removed:c},r,n]),c.forEach(d=>d.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):zce(e,t+1)}}},Hr=(e,t,n=null,r=!0)=>{const i=e._transactionCleanups;let o=!1,a=null;e._transaction===null&&(o=!0,e._transaction=new d6e(e,n,r),i.push(e._transaction),i.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{a=t(e._transaction)}finally{if(o){const s=e._transaction===i[0];e._transaction=null,s&&zce(i,0)}}return a};class p6e{constructor(t,n){this.insertions=n,this.deletions=t,this.meta=new Map}}const VW=(e,t,n)=>{om(e,n.deletions,r=>{r instanceof ii&&t.scope.some(i=>i===e.doc||pC(i,r))&&fF(r,!1)})},qW=(e,t,n)=>{let r=null;const i=e.doc,o=e.scope;Hr(i,s=>{for(;t.length>0&&e.currStackItem===null;){const l=i.store,c=t.pop(),d=new Set,u=[];let p=!1;om(s,c.insertions,m=>{if(m instanceof ii){if(m.redone!==null){let{item:v,diff:x}=jB(l,m.id);x>0&&(v=Bs(s,vn(v.id.client,v.id.clock+x))),m=v}!m.deleted&&o.some(v=>v===s.doc||pC(v,m))&&u.push(m)}}),om(s,c.deletions,m=>{m instanceof ii&&o.some(v=>v===s.doc||pC(v,m))&&!lx(c.insertions,m.id)&&d.add(m)}),d.forEach(m=>{p=cue(s,m,d,c.insertions,e.ignoreRemoteMapChanges,e)!==null||p});for(let m=u.length-1;m>=0;m--){const v=u[m];e.deleteFilter(v)&&(v.delete(s),p=!0)}e.currStackItem=p?c:null}s.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),r=s},e);const a=e.currStackItem;if(a!=null){const s=r.changedParentTypes;e.emit("stack-item-popped",[{stackItem:a,type:n,changedParentTypes:s,origin:e},e]),e.currStackItem=null}return a};class Vce extends cce{constructor(t,{captureTimeout:n=500,captureTransaction:r=l=>!0,deleteFilter:i=()=>!0,trackedOrigins:o=new Set([null]),ignoreRemoteMapChanges:a=!1,doc:s=AB(t)?t[0].doc:t instanceof pm?t:t.doc}={}){super(),this.scope=[],this.doc=s,this.addToScope(t),this.deleteFilter=i,o.add(this),this.trackedOrigins=o,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=a,this.captureTimeout=n,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(w=>l.changedParentTypes.has(w)||w===this.doc)||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const c=this.undoing,d=this.redoing,u=c?this.redoStack:this.undoStack;c?this.stopCapturing():d||this.clear(!1,!0);const p=new sx;l.afterState.forEach((w,T)=>{const k=l.beforeState.get(T)||0,O=w-k;O>0&&fC(p,T,k,O)});const m=c5e();let v=!1;if(this.lastChange>0&&m-this.lastChange<this.captureTimeout&&u.length>0&&!c&&!d){const w=u[u.length-1];w.deletions=RB([w.deletions,l.deleteSet]),w.insertions=RB([w.insertions,p])}else u.push(new p6e(l.deleteSet,p)),v=!0;!c&&!d&&(this.lastChange=m),om(l,l.deleteSet,w=>{w instanceof ii&&this.scope.some(T=>T===l.doc||pC(T,w))&&fF(w,!0)});const x=[{stackItem:u[u.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];v?this.emit("stack-item-added",x):this.emit("stack-item-updated",x)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(t){const n=new Set(this.scope);t=AB(t)?t:[t],t.forEach(r=>{n.has(r)||(n.add(r),(r instanceof Bo?r.doc!==this.doc:r!==this.doc)&&kce("[yjs#509] Not same Y.Doc"),this.scope.push(r))})}addTrackedOrigin(t){this.trackedOrigins.add(t)}removeTrackedOrigin(t){this.trackedOrigins.delete(t)}clear(t=!0,n=!0){(t&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{t&&(this.undoStack.forEach(i=>VW(r,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>VW(r,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:t,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let t;try{t=qW(this,this.undoStack,"undo")}finally{this.undoing=!1}return t}redo(){this.redoing=!0;let t;try{t=qW(this,this.redoStack,"redo")}finally{this.redoing=!1}return t}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*m6e(e){const t=Bn(e.restDecoder);for(let n=0;n<t;n++){const r=Bn(e.restDecoder),i=e.readClient();let o=Bn(e.restDecoder);for(let a=0;a<r;a++){const s=e.readInfo();if(s===10){const l=Bn(e.restDecoder);yield new cc(vn(i,o),l),o+=l}else if((zD&s)!==0){const l=(s&(Uf|rs))===0,c=new ii(vn(i,o),null,(s&rs)===rs?e.readLeftID():null,null,(s&Uf)===Uf?e.readRightID():null,l?e.readParentInfo()?e.readString():e.readLeftID():null,l&&(s&cC)===cC?e.readString():null,uue(e,s));yield c,o+=c.length}else{const l=e.readLen();yield new lc(vn(i,o),l),o+=l}}}}class oF{constructor(t,n){this.gen=m6e(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===cc);return this.curr}}class aF{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const g6e=e=>HO(e,Rce,FT),y6e=(e,t)=>{if(e.constructor===lc){const{client:n,clock:r}=e.id;return new lc(vn(n,r+t),e.length-t)}else if(e.constructor===cc){const{client:n,clock:r}=e.id;return new cc(vn(n,r+t),e.length-t)}else{const n=e,{client:r,clock:i}=n.id;return new ii(vn(r,i+t),null,vn(r,i+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},HO=(e,t=g1,n=B0)=>{if(e.length===1)return e[0];const r=e.map(d=>new t(ax(d)));let i=r.map(d=>new oF(d,!0)),o=null;const a=new n,s=new aF(a);for(;i=i.filter(p=>p.curr!==null),i.sort((p,m)=>{if(p.curr.id.client===m.curr.id.client){const v=p.curr.id.clock-m.curr.id.clock;return v===0?p.curr.constructor===m.curr.constructor?0:p.curr.constructor===cc?1:-1:v}else return m.curr.id.client-p.curr.id.client}),i.length!==0;){const d=i[0],u=d.curr.id.client;if(o!==null){let p=d.curr,m=!1;for(;p!==null&&p.id.clock+p.length<=o.struct.id.clock+o.struct.length&&p.id.client>=o.struct.id.client;)p=d.next(),m=!0;if(p===null||p.id.client!==u||m&&p.id.clock>o.struct.id.clock+o.struct.length)continue;if(u!==o.struct.id.client)Op(s,o.struct,o.offset),o={struct:p,offset:0},d.next();else if(o.struct.id.clock+o.struct.length<p.id.clock)if(o.struct.constructor===cc)o.struct.length=p.id.clock+p.length-o.struct.id.clock;else{Op(s,o.struct,o.offset);const v=p.id.clock-o.struct.id.clock-o.struct.length;o={struct:new cc(vn(u,o.struct.id.clock+o.struct.length),v),offset:0}}else{const v=o.struct.id.clock+o.struct.length-p.id.clock;v>0&&(o.struct.constructor===cc?o.struct.length-=v:p=y6e(p,v)),o.struct.mergeWith(p)||(Op(s,o.struct,o.offset),o={struct:p,offset:0},d.next())}}else o={struct:d.curr,offset:0},d.next();for(let p=d.curr;p!==null&&p.id.client===u&&p.id.clock===o.struct.id.clock+o.struct.length&&p.constructor!==cc;p=d.next())Op(s,o.struct,o.offset),o={struct:p,offset:0}}o!==null&&(Op(s,o.struct,o.offset),o=null),sF(s);const l=r.map(d=>nF(d)),c=RB(l);return cx(a,c),a.toUint8Array()},b6e=(e,t,n=g1,r=B0)=>{const i=Lce(t),o=new r,a=new aF(o),s=new n(ax(e)),l=new oF(s,!1);for(;l.curr;){const d=l.curr,u=d.id.client,p=i.get(u)||0;if(l.curr.constructor===cc){l.next();continue}if(d.id.clock+d.length>p)for(Op(a,d,vu(p-d.id.clock,0)),l.next();l.curr&&l.curr.id.client===u;)Op(a,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===u&&l.curr.id.clock+l.curr.length<=p;)l.next()}sF(a);const c=nF(s);return cx(o,c),o.toUint8Array()},qce=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:lu(e.encoder.restEncoder)}),e.encoder.restEncoder=HT(),e.written=0)},Op=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&qce(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),Kn(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},sF=e=>{qce(e);const t=e.encoder.restEncoder;Kn(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];Kn(t,r.written),VD(t,r.restEncoder)}},v6e=(e,t,n,r)=>{const i=new n(ax(e)),o=new oF(i,!1),a=new r,s=new aF(a);for(let c=o.curr;c!==null;c=o.next())Op(s,t(c),0);sF(s);const l=nF(i);return cx(a,l),a.toUint8Array()},x6e=e=>v6e(e,v5e,g1,FT),WW="You must not compute changes after the event-handler fired.";class WD{constructor(t,n){this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=w6e(this.currentTarget,this.target))}deletes(t){return lx(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw im(WW);const t=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const o=n._map.get(i);let a,s;if(this.adds(o)){let l=o.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(o))if(l!==null&&this.deletes(l))a="delete",s=hP(l.content.getContent());else return;else l!==null&&this.deletes(l)?(a="update",s=hP(l.content.getContent())):(a="add",s=void 0)}else if(this.deletes(o))a="delete",s=hP(o.content.getContent());else return;t.set(i,{action:a,oldValue:s})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw im(WW);const n=this.target,r=j0(),i=j0(),o=[];if(t={added:r,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(n).has(null)){let s=null;const l=()=>{s&&o.push(s)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((s===null||s.delete===void 0)&&(l(),s={delete:0}),s.delete+=c.length,i.add(c)):this.adds(c)?((s===null||s.insert===void 0)&&(l(),s={insert:[]}),s.insert=s.insert.concat(c.content.getContent()),r.add(c)):((s===null||s.retain===void 0)&&(l(),s={retain:0}),s.retain+=c.length);s!==null&&s.retain===void 0&&l()}this._changes=t}return t}}const w6e=(e,t)=>{const n=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)n.unshift(t._item.parentSub);else{let r=0,i=t._item.parent._start;for(;i!==t._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}t=t._item.parent}return n},Ta=()=>{kce("Invalid access: Add Yjs type to a document before reading data.")},Wce=80;let lF=0;class E6e{constructor(t,n){t.marker=!0,this.p=t,this.index=n,this.timestamp=lF++}}const S6e=e=>{e.timestamp=lF++},Yce=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=lF++},C6e=(e,t,n)=>{if(e.length>=Wce){const r=e.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return Yce(r,t,n),r}else{const r=new E6e(t,n);return e.push(r),r}},YD=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;const n=e._searchMarker.length===0?null:e._searchMarker.reduce((o,a)=>KA(t-o.index)<KA(t-a.index)?o:a);let r=e._start,i=0;for(n!==null&&(r=n.p,i=n.index,S6e(n));r.right!==null&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>t;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&KA(n.index-i)<r.parent.length/Wce?(Yce(n,r,i),n):C6e(e._searchMarker,r,i)},gC=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const i=e[r];if(n>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){e.splice(r,1);continue}i.p=o,o.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=vu(t,i.index+n))}},GD=(e,t,n)=>{const r=e,i=t.changedParentTypes;for(;Bd(i,e,()=>[]).push(n),e._item!==null;)e=e._item.parent;Bce(r._eH,n,t)};class Bo{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=jW(),this._dEH=jW(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,n){this.doc=t,this._item=n}_copy(){throw pu()}clone(){throw pu()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,n){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){BW(this._eH,t)}observeDeep(t){BW(this._dEH,t)}unobserve(t){$W(this._eH,t)}unobserveDeep(t){$W(this._dEH,t)}toJSON(){}}const Gce=(e,t,n)=>{e.doc??Ta(),t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const i=[];let o=e._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){const a=o.content.getContent();if(a.length<=t)t-=a.length;else{for(let s=t;s<a.length&&r>0;s++)i.push(a[s]),r--;t=0}}o=o.right}return i},Kce=e=>{e.doc??Ta();const t=[];let n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)t.push(r[i])}n=n.right}return t},Xce=(e,t)=>{const n=[];let r=e._start;for(;r!==null;){if(r.countable&&Xg(r,t)){const i=r.content.getContent();for(let o=0;o<i.length;o++)n.push(i[o])}r=r.right}return n},yC=(e,t)=>{let n=0,r=e._start;for(e.doc??Ta();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let o=0;o<i.length;o++)t(i[o],n++,e)}r=r.right}},Zce=(e,t)=>{const n=[];return yC(e,(r,i)=>{n.push(t(r,i,e))}),n},T6e=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},Qce=(e,t)=>{e.doc??Ta();const n=YD(e,t);let r=e._start;for(n!==null&&(r=n.p,t-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},FO=(e,t,n,r)=>{let i=n;const o=e.doc,a=o.clientID,s=o.store,l=n===null?t._start:n.right;let c=[];const d=()=>{c.length>0&&(i=new ii(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new $0(c)),i.integrate(e,0),c=[])};r.forEach(u=>{if(u===null)c.push(u);else switch(u.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(u);break;default:switch(d(),u.constructor){case Uint8Array:case ArrayBuffer:i=new ii(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new zT(new Uint8Array(u))),i.integrate(e,0);break;case pm:i=new ii(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new VT(u)),i.integrate(e,0);break;default:if(u instanceof Bo)i=new ii(vn(a,Yi(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new Tu(u)),i.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),d()},Jce=()=>im("Length exceeded!"),eue=(e,t,n,r)=>{if(n>t._length)throw Jce();if(n===0)return t._searchMarker&&gC(t._searchMarker,n,r.length),FO(e,t,null,r);const i=n,o=YD(t,n);let a=t._start;for(o!==null&&(a=o.p,n-=o.index,n===0&&(a=a.prev,n+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&Bs(e,vn(a.id.client,a.id.clock+n));break}n-=a.length}return t._searchMarker&&gC(t._searchMarker,i,r.length),FO(e,t,a,r)},k6e=(e,t,n)=>{let i=(t._searchMarker||[]).reduce((o,a)=>a.index>o.index?a:o,{index:0,p:t._start}).p;if(i)for(;i.right;)i=i.right;return FO(e,t,i,n)},tue=(e,t,n,r)=>{if(r===0)return;const i=n,o=r,a=YD(t,n);let s=t._start;for(a!==null&&(s=a.p,n-=a.index);s!==null&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&Bs(e,vn(s.id.client,s.id.clock+n)),n-=s.length);for(;r>0&&s!==null;)s.deleted||(r<s.length&&Bs(e,vn(s.id.client,s.id.clock+r)),s.delete(e),r-=s.length),s=s.right;if(r>0)throw Jce();t._searchMarker&&gC(t._searchMarker,i,-o+r)},UO=(e,t,n)=>{const r=t._map.get(n);r!==void 0&&r.delete(e)},cF=(e,t,n,r)=>{const i=t._map.get(n)||null,o=e.doc,a=o.clientID;let s;if(r==null)s=new $0([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:s=new $0([r]);break;case Uint8Array:s=new zT(r);break;case pm:s=new VT(r);break;default:if(r instanceof Bo)s=new Tu(r);else throw new Error("Unexpected content type")}new ii(vn(a,Yi(o.store,a)),i,i&&i.lastId,null,null,t,n,s).integrate(e,0)},uF=(e,t)=>{e.doc??Ta();const n=e._map.get(t);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},nue=e=>{const t={};return e.doc??Ta(),e._map.forEach((n,r)=>{n.deleted||(t[r]=n.content.getContent()[n.length-1])}),t},rue=(e,t)=>{e.doc??Ta();const n=e._map.get(t);return n!==void 0&&!n.deleted},_6e=(e,t)=>{const n={};return e._map.forEach((r,i)=>{let o=r;for(;o!==null&&(!t.sv.has(o.id.client)||o.id.clock>=(t.sv.get(o.id.client)||0));)o=o.left;o!==null&&Xg(o,t)&&(n[i]=o.content.getContent()[o.length-1])}),n},rA=e=>(e.doc??Ta(),V5e(e._map.entries(),t=>!t[1].deleted));class A6e extends WD{}class Uv extends Bo{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const n=new Uv;return n.push(t),n}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Uv}clone(){const t=new Uv;return t.insert(0,this.toArray().map(n=>n instanceof Bo?n.clone():n)),t}get length(){return this.doc??Ta(),this._length}_callObserver(t,n){super._callObserver(t,n),GD(this,t,new A6e(this,t))}insert(t,n){this.doc!==null?Hr(this.doc,r=>{eue(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}push(t){this.doc!==null?Hr(this.doc,n=>{k6e(n,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,n=1){this.doc!==null?Hr(this.doc,r=>{tue(r,this,t,n)}):this._prelimContent.splice(t,n)}get(t){return Qce(this,t)}toArray(){return Kce(this)}slice(t=0,n=this.length){return Gce(this,t,n)}toJSON(){return this.map(t=>t instanceof Bo?t.toJSON():t)}map(t){return Zce(this,t)}forEach(t){yC(this,t)}[Symbol.iterator](){return T6e(this)}_write(t){t.writeTypeRef(J6e)}}const O6e=e=>new Uv;class N6e extends WD{constructor(t,n,r){super(t,n),this.keysChanged=r}}class y1 extends Bo{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,n){super._integrate(t,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new y1}clone(){const t=new y1;return this.forEach((n,r)=>{t.set(r,n instanceof Bo?n.clone():n)}),t}_callObserver(t,n){GD(this,t,new N6e(this,t,n))}toJSON(){this.doc??Ta();const t={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];t[r]=i instanceof Bo?i.toJSON():i}}),t}get size(){return[...rA(this)].length}keys(){return bP(rA(this),t=>t[0])}values(){return bP(rA(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return bP(rA(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??Ta(),this._map.forEach((n,r)=>{n.deleted||t(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?Hr(this.doc,n=>{UO(n,this,t)}):this._prelimContent.delete(t)}set(t,n){return this.doc!==null?Hr(this.doc,r=>{cF(r,this,t,n)}):this._prelimContent.set(t,n),n}get(t){return uF(this,t)}has(t){return rue(this,t)}clear(){this.doc!==null?Hr(this.doc,t=>{this.forEach(function(n,r,i){UO(t,i,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(eBe)}}const M6e=e=>new y1,$p=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&y5e(e,t);class LB{constructor(t,n,r,i){this.left=t,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&Rl(),this.right.content.constructor){case fo:this.right.deleted||ux(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const YW=(e,t,n)=>{for(;t.right!==null&&n>0;){switch(t.right.content.constructor){case fo:t.right.deleted||ux(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&Bs(e,vn(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},iA=(e,t,n,r)=>{const i=new Map,o=r?YD(t,n):null;if(o){const a=new LB(o.p.left,o.p,o.index,i);return YW(e,a,n-o.index)}else{const a=new LB(null,t._start,0,i);return YW(e,a,n)}},iue=(e,t,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===fo&&$p(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=e.doc,o=i.clientID;r.forEach((a,s)=>{const l=n.left,c=n.right,d=new ii(vn(o,Yi(i.store,o)),l,l&&l.lastId,c,c&&c.id,t,null,new fo(s,a));d.integrate(e,0),n.right=d,n.forward()})},ux=(e,t)=>{const{key:n,value:r}=t;r===null?e.delete(n):e.set(n,r)},oue=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===fo&&$p(t[e.right.content.key]??null,e.right.content.value)))break;e.forward()}},aue=(e,t,n,r)=>{const i=e.doc,o=i.clientID,a=new Map;for(const s in r){const l=r[s],c=n.currentAttributes.get(s)??null;if(!$p(c,l)){a.set(s,c);const{left:d,right:u}=n;n.right=new ii(vn(o,Yi(i.store,o)),d,d&&d.lastId,u,u&&u.id,t,null,new fo(s,l)),n.right.integrate(e,0),n.forward()}}return a},wP=(e,t,n,r,i)=>{n.currentAttributes.forEach((p,m)=>{i[m]===void 0&&(i[m]=null)});const o=e.doc,a=o.clientID;oue(n,i);const s=aue(e,t,n,i),l=r.constructor===String?new xu(r):r instanceof Bo?new Tu(r):new ay(r);let{left:c,right:d,index:u}=n;t._searchMarker&&gC(t._searchMarker,n.index,l.getLength()),d=new ii(vn(a,Yi(o.store,a)),c,c&&c.lastId,d,d&&d.id,t,null,l),d.integrate(e,0),n.right=d,n.index=u,n.forward(),iue(e,t,n,s)},GW=(e,t,n,r,i)=>{const o=e.doc,a=o.clientID;oue(n,i);const s=aue(e,t,n,i);e:for(;n.right!==null&&(r>0||s.size>0&&(n.right.deleted||n.right.content.constructor===fo));){if(!n.right.deleted)switch(n.right.content.constructor){case fo:{const{key:l,value:c}=n.right.content,d=i[l];if(d!==void 0){if($p(d,c))s.delete(l);else{if(r===0)break e;s.set(l,c)}n.right.delete(e)}else n.currentAttributes.set(l,c);break}default:r<n.right.length&&Bs(e,vn(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new ii(vn(a,Yi(o.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new xu(l)),n.right.integrate(e,0),n.forward()}iue(e,t,n,s)},sue=(e,t,n,r,i)=>{let o=t;const a=pc();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===fo){const c=o.content;a.set(c.key,c)}o=o.right}let s=0,l=!1;for(;t!==o;){if(n===t&&(l=!0),!t.deleted){const c=t.content;switch(c.constructor){case fo:{const{key:d,value:u}=c,p=r.get(d)??null;(a.get(d)!==c||p===u)&&(t.delete(e),s++,!l&&(i.get(d)??null)===u&&p!==u&&(p===null?i.delete(d):i.set(d,p))),!l&&!t.deleted&&ux(i,c);break}}}t=t.right}return s},D6e=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===fo){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}},R6e=e=>{let t=0;return Hr(e.doc,n=>{let r=e._start,i=e._start,o=pc();const a=_B(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case fo:ux(a,i.content);break;default:t+=sue(n,r,i,o,a),o=_B(a),r=i;break}i=i.right}}),t},I6e=e=>{const t=new Set,n=e.doc;for(const[r,i]of e.afterState.entries()){const o=e.beforeState.get(r)||0;i!==o&&Uce(e,n.store.clients.get(r),o,i,a=>{!a.deleted&&a.content.constructor===fo&&a.constructor!==lc&&t.add(a.parent)})}Hr(n,r=>{om(e,e.deleteSet,i=>{if(i instanceof lc||!i.parent._hasFormatting||t.has(i.parent))return;const o=i.parent;i.content.constructor===fo?t.add(o):D6e(r,i)});for(const i of t)R6e(i)})},KW=(e,t,n)=>{const r=n,i=_B(t.currentAttributes),o=t.right;for(;n>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case Tu:case ay:case xu:n<t.right.length&&Bs(e,vn(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}o&&sue(e,o,t.right,i,t.currentAttributes);const a=(t.left||t.right).parent;return a._searchMarker&&gC(a._searchMarker,t.index,-r+n),t};class P6e extends WD{constructor(t,n,r){super(t,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,n=[];Hr(t,r=>{const i=new Map,o=new Map;let a=this.target._start,s=null;const l={};let c="",d=0,u=0;const p=()=>{if(s!==null){let m=null;switch(s){case"delete":u>0&&(m={delete:u}),u=0;break;case"insert":(typeof c=="object"||c.length>0)&&(m={insert:c},i.size>0&&(m.attributes={},i.forEach((v,x)=>{v!==null&&(m.attributes[x]=v)}))),c="";break;case"retain":d>0&&(m={retain:d},m5e(l)||(m.attributes=h5e({},l))),d=0;break}m&&n.push(m),s=null}};for(;a!==null;){switch(a.content.constructor){case Tu:case ay:this.adds(a)?this.deletes(a)||(p(),s="insert",c=a.content.getContent()[0],p()):this.deletes(a)?(s!=="delete"&&(p(),s="delete"),u+=1):a.deleted||(s!=="retain"&&(p(),s="retain"),d+=1);break;case xu:this.adds(a)?this.deletes(a)||(s!=="insert"&&(p(),s="insert"),c+=a.content.str):this.deletes(a)?(s!=="delete"&&(p(),s="delete"),u+=a.length):a.deleted||(s!=="retain"&&(p(),s="retain"),d+=a.length);break;case fo:{const{key:m,value:v}=a.content;if(this.adds(a)){if(!this.deletes(a)){const x=i.get(m)??null;$p(x,v)?v!==null&&a.delete(r):(s==="retain"&&p(),$p(v,o.get(m)??null)?delete l[m]:l[m]=v)}}else if(this.deletes(a)){o.set(m,v);const x=i.get(m)??null;$p(x,v)||(s==="retain"&&p(),l[m]=x)}else if(!a.deleted){o.set(m,v);const x=l[m];x!==void 0&&($p(x,v)?x!==null&&a.delete(r):(s==="retain"&&p(),v===null?delete l[m]:l[m]=v))}a.deleted||(s==="insert"&&p(),ux(i,a.content));break}}a=a.right}for(p();n.length>0;){const m=n[n.length-1];if(m.retain!==void 0&&m.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class am extends Bo{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Ta(),this._length}_integrate(t,n){super._integrate(t,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new am}clone(){const t=new am;return t.applyDelta(this.toDelta()),t}_callObserver(t,n){super._callObserver(t,n);const r=new P6e(this,t,n);GD(this,t,r),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??Ta();let t="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===xu&&(t+=n.content.str),n=n.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:n=!0}={}){this.doc!==null?Hr(this.doc,r=>{const i=new LB(null,this._start,0,new Map);for(let o=0;o<t.length;o++){const a=t[o];if(a.insert!==void 0){const s=!n&&typeof a.insert=="string"&&o===t.length-1&&i.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof s!="string"||s.length>0)&&wP(r,this,i,s,a.attributes||{})}else a.retain!==void 0?GW(r,this,i,a.retain,a.attributes||{}):a.delete!==void 0&&KW(r,i,a.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,n,r){this.doc??Ta();const i=[],o=new Map,a=this.doc;let s="",l=this._start;function c(){if(s.length>0){const u={};let p=!1;o.forEach((v,x)=>{p=!0,u[x]=v});const m={insert:s};p&&(m.attributes=u),i.push(m),s=""}}const d=()=>{for(;l!==null;){if(Xg(l,t)||n!==void 0&&Xg(l,n))switch(l.content.constructor){case xu:{const u=o.get("ychange");t!==void 0&&!Xg(l,t)?(u===void 0||u.user!==l.id.client||u.type!=="removed")&&(c(),o.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!Xg(l,n)?(u===void 0||u.user!==l.id.client||u.type!=="added")&&(c(),o.set("ychange",r?r("added",l.id):{type:"added"})):u!==void 0&&(c(),o.delete("ychange")),s+=l.content.str;break}case Tu:case ay:{c();const u={insert:l.content.getContent()[0]};if(o.size>0){const p={};u.attributes=p,o.forEach((m,v)=>{p[v]=m})}i.push(u);break}case fo:Xg(l,t)&&(c(),ux(o,l.content));break}l=l.right}c()};return t||n?Hr(a,u=>{t&&IB(u,t),n&&IB(u,n),d()},"cleanup"):d(),i}insert(t,n,r){if(n.length<=0)return;const i=this.doc;i!==null?Hr(i,o=>{const a=iA(o,this,t,!r);r||(r={},a.currentAttributes.forEach((s,l)=>{r[l]=s})),wP(o,this,a,n,r)}):this._pending.push(()=>this.insert(t,n,r))}insertEmbed(t,n,r){const i=this.doc;i!==null?Hr(i,o=>{const a=iA(o,this,t,!r);wP(o,this,a,n,r||{})}):this._pending.push(()=>this.insertEmbed(t,n,r||{}))}delete(t,n){if(n===0)return;const r=this.doc;r!==null?Hr(r,i=>{KW(i,iA(i,this,t,!0),n)}):this._pending.push(()=>this.delete(t,n))}format(t,n,r){if(n===0)return;const i=this.doc;i!==null?Hr(i,o=>{const a=iA(o,this,t,!1);a.right!==null&&GW(o,this,a,n,r)}):this._pending.push(()=>this.format(t,n,r))}removeAttribute(t){this.doc!==null?Hr(this.doc,n=>{UO(n,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,n){this.doc!==null?Hr(this.doc,r=>{cF(r,this,t,n)}):this._pending.push(()=>this.setAttribute(t,n))}getAttribute(t){return uF(this,t)}getAttributes(){return nue(this)}_write(t){t.writeTypeRef(tBe)}}const L6e=e=>new am;class EP{constructor(t,n=()=>!0){this._filter=n,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??Ta()}[Symbol.iterator](){return this}next(){let t=this._currentNode,n=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(n)))do if(n=t.content.type,!t.deleted&&(n.constructor===ea||n.constructor===sm)&&n._start!==null)t=n._start;else for(;t!==null;){const r=t.next;if(r!==null){t=r;break}else t.parent===this._root?t=null:t=t.parent._item}while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class sm extends Bo{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new sm}clone(){const t=new sm;return t.insert(0,this.toArray().map(n=>n instanceof Bo?n.clone():n)),t}get length(){return this.doc??Ta(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new EP(this,t)}querySelector(t){t=t.toUpperCase();const r=new EP(this,i=>i.nodeName&&i.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),rm(new EP(this,n=>n.nodeName&&n.nodeName.toUpperCase()===t))}_callObserver(t,n){GD(this,t,new $6e(this,n,t))}toString(){return Zce(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,n={},r){const i=t.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),yC(this,o=>{i.insertBefore(o.toDOM(t,n,r),null)}),i}insert(t,n){this.doc!==null?Hr(this.doc,r=>{eue(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}insertAfter(t,n){if(this.doc!==null)Hr(this.doc,r=>{const i=t&&t instanceof Bo?t._item:t;FO(r,this,i,n)});else{const r=this._prelimContent,i=t===null?0:r.findIndex(o=>o===t)+1;if(i===0&&t!==null)throw im("Reference item not found");r.splice(i,0,...n)}}delete(t,n=1){this.doc!==null?Hr(this.doc,r=>{tue(r,this,t,n)}):this._prelimContent.splice(t,n)}toArray(){return Kce(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return Qce(this,t)}slice(t=0,n=this.length){return Gce(this,t,n)}forEach(t){yC(this,t)}_write(t){t.writeTypeRef(rBe)}}const j6e=e=>new sm;class ea extends sm{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,n){super._integrate(t,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new ea(this.nodeName)}clone(){const t=new ea(this.nodeName),n=this.getAttributes();return p5e(n,(r,i)=>{typeof r=="string"&&t.setAttribute(i,r)}),t.insert(0,this.toArray().map(r=>r instanceof Bo?r.clone():r)),t}toString(){const t=this.getAttributes(),n=[],r=[];for(const s in t)r.push(s);r.sort();const i=r.length;for(let s=0;s<i;s++){const l=r[s];n.push(l+'="'+t[l]+'"')}const o=this.nodeName.toLocaleLowerCase(),a=n.length>0?" "+n.join(" "):"";return`<${o}${a}>${super.toString()}</${o}>`}removeAttribute(t){this.doc!==null?Hr(this.doc,n=>{UO(n,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,n){this.doc!==null?Hr(this.doc,r=>{cF(r,this,t,n)}):this._prelimAttrs.set(t,n)}getAttribute(t){return uF(this,t)}hasAttribute(t){return rue(this,t)}getAttributes(t){return t?_6e(this,t):nue(this)}toDOM(t=document,n={},r){const i=t.createElement(this.nodeName),o=this.getAttributes();for(const a in o){const s=o[a];typeof s=="string"&&i.setAttribute(a,s)}return yC(this,a=>{i.appendChild(a.toDOM(t,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(t){t.writeTypeRef(nBe),t.writeKey(this.nodeName)}}const B6e=e=>new ea(e.readKey());class $6e extends WD{constructor(t,n,r){super(t,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class zO extends y1{constructor(t){super(),this.hookName=t}_copy(){return new zO(this.hookName)}clone(){const t=new zO(this.hookName);return this.forEach((n,r)=>{t.set(r,n)}),t}toDOM(t=document,n={},r){const i=n[this.hookName];let o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(o,this),o}_write(t){t.writeTypeRef(iBe),t.writeKey(this.hookName)}}const H6e=e=>new zO(e.readKey());class Ol extends am{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new Ol}clone(){const t=new Ol;return t.applyDelta(this.toDelta()),t}toDOM(t=document,n,r){const i=t.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(t=>{const n=[];for(const i in t.attributes){const o=[];for(const a in t.attributes[i])o.push({key:a,value:t.attributes[i][a]});o.sort((a,s)=>a.key<s.key?-1:1),n.push({nodeName:i,attrs:o})}n.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const o=n[i];r+=`<${o.nodeName}`;for(let a=0;a<o.attrs.length;a++){const s=o.attrs[a];r+=` ${s.key}="${s.value}"`}r+=">"}r+=t.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(oBe)}}const F6e=e=>new Ol;class dF{constructor(t,n){this.id=t,this.length=n}get deleted(){throw pu()}mergeWith(t){return!1}write(t,n,r){throw pu()}integrate(t,n){throw pu()}}const U6e=0;class lc extends dF{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){n>0&&(this.id.clock+=n,this.length-=n),Fce(t.doc.store,this)}write(t,n){t.writeInfo(U6e),t.writeLen(this.length-n)}getMissing(t,n){return null}}class zT{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new zT(this.content)}splice(t){throw pu()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeBuf(this.content)}getRef(){return 3}}const z6e=e=>new zT(e.readBuf());class bC{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new bC(this.len)}splice(t){const n=new bC(this.len-t);return this.len=t,n}mergeWith(t){return this.len+=t.len,!0}integrate(t,n){fC(t.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(t){}gc(t){}write(t,n){t.writeLen(this.len-n)}getRef(){return 1}}const V6e=e=>new bC(e.readLen()),lue=(e,t)=>new pm({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class VT{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),t.meta!==null&&(n.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new VT(lue(this.doc.guid,this.opts))}splice(t){throw pu()}mergeWith(t){return!1}integrate(t,n){this.doc._item=n,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,n){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const q6e=e=>new VT(lue(e.readString(),e.readAny()));class ay{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ay(this.embed)}splice(t){throw pu()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeJSON(this.embed)}getRef(){return 5}}const W6e=e=>new ay(e.readJSON());class fo{constructor(t,n){this.key=t,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new fo(this.key,this.value)}splice(t){throw pu()}mergeWith(t){return!1}integrate(t,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(t){}gc(t){}write(t,n){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const Y6e=e=>new fo(e.readKey(),e.readJSON());class VO{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new VO(this.arr)}splice(t){const n=new VO(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];t.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const G6e=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const i=e.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new VO(n)},K6e=BO("node_env")==="development";class $0{constructor(t){this.arr=t,K6e&&bce(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new $0(this.arr)}splice(t){const n=new $0(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];t.writeAny(o)}}getRef(){return 8}}const X6e=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new $0(n)};class xu{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new xu(this.str)}splice(t){const n=new xu(this.str.slice(t));this.str=this.str.slice(0,t);const r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(t){return this.str+=t.str,!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const Z6e=e=>new xu(e.readString()),Q6e=[O6e,M6e,L6e,B6e,j6e,H6e,F6e],J6e=0,eBe=1,tBe=2,nBe=3,rBe=4,iBe=5,oBe=6;class Tu{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Tu(this.type._copy())}splice(t){throw pu()}mergeWith(t){return!1}integrate(t,n){this.type._integrate(t.doc,n)}delete(t){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let n=this.type._start;for(;n!==null;)n.gc(t,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,n){this.type._write(t)}getRef(){return 7}}const aBe=e=>new Tu(Q6e[e.readTypeRef()](e)),jB=(e,t)=>{let n=t,r=0,i;do r>0&&(n=vn(n.client,n.clock+r)),i=Fv(e,n),r=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof ii);return{item:i,diff:r}},fF=(e,t)=>{for(;e!==null&&e.keep!==t;)e.keep=t,e=e.parent._item},qO=(e,t,n)=>{const{client:r,clock:i}=t.id,o=new ii(vn(r,i+n),t,vn(r,i+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),t.redone!==null&&(o.redone=vn(t.redone.client,t.redone.clock+n)),t.right=o,o.right!==null&&(o.right.left=o),e._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),t.length=n,o},XW=(e,t)=>kje(e,n=>lx(n.deletions,t)),cue=(e,t,n,r,i,o)=>{const a=e.doc,s=a.store,l=a.clientID,c=t.redone;if(c!==null)return Bs(e,c);let d=t.parent._item,u=null,p;if(d!==null&&d.deleted===!0){if(d.redone===null&&(!n.has(d)||cue(e,d,n,r,i,o)===null))return null;for(;d.redone!==null;)d=Bs(e,d.redone)}const m=d===null?t.parent:d.content.type;if(t.parentSub===null){for(u=t.left,p=t;u!==null;){let T=u;for(;T!==null&&T.parent._item!==d;)T=T.redone===null?null:Bs(e,T.redone);if(T!==null&&T.parent._item===d){u=T;break}u=u.left}for(;p!==null;){let T=p;for(;T!==null&&T.parent._item!==d;)T=T.redone===null?null:Bs(e,T.redone);if(T!==null&&T.parent._item===d){p=T;break}p=p.right}}else if(p=null,t.right&&!i){for(u=t;u!==null&&u.right!==null&&(u.right.redone||lx(r,u.right.id)||XW(o.undoStack,u.right.id)||XW(o.redoStack,u.right.id));)for(u=u.right;u.redone;)u=Bs(e,u.redone);if(u&&u.right!==null)return null}else u=m._map.get(t.parentSub)||null;const v=Yi(s,l),x=vn(l,v),w=new ii(x,u,u&&u.lastId,p,p&&p.id,m,t.parentSub,t.content.copy());return t.redone=x,fF(w,!0),w.integrate(e,0),w};let ii=class BB extends dF{constructor(t,n,r,i,o,a,s,l){super(t,l.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=o,this.parent=a,this.parentSub=s,this.redone=null,this.content=l,this.info=this.content.isCountable()?CW:0}set marker(t){(this.info&mP)>0!==t&&(this.info^=mP)}get marker(){return(this.info&mP)>0}get keep(){return(this.info&SW)>0}set keep(t){this.keep!==t&&(this.info^=SW)}get countable(){return(this.info&CW)>0}get deleted(){return(this.info&pP)>0}set deleted(t){this.deleted!==t&&(this.info^=pP)}markDeleted(){this.info|=pP}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Yi(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Yi(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Hv&&this.id.client!==this.parent.client&&this.parent.clock>=Yi(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=FW(t,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Bs(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===lc||this.right&&this.right.constructor===lc)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===BB?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===BB&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Hv){const r=Fv(n,this.parent);r.constructor===lc?this.parent=null:this.parent=r.content.type}return null}integrate(t,n){if(n>0&&(this.id.clock+=n,this.left=FW(t,t.doc.store,vn(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const o=new Set,a=new Set;for(;i!==null&&i!==this.right;){if(a.add(i),o.add(i),Tv(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,o.clear();else if(Tv(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&a.has(Fv(t.doc.store,i.origin)))o.has(Fv(t.doc.store,i.origin))||(r=i,o.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Fce(t.doc.store,this),this.content.integrate(t,this),zW(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new lc(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:vn(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&Tv(t.origin,this.lastId)&&this.right===t&&Tv(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),fC(t.deleteSet,this.id.client,this.id.clock,this.length),zW(t,n,this.parentSub),this.content.delete(t)}}gc(t,n){if(!this.deleted)throw Rl();this.content.gc(t),n?u6e(t,this,new lc(this.id,this.length)):this.content=new bC(this.length)}write(t,n){const r=n>0?vn(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,o=this.parentSub,a=this.content.getRef()&zD|(r===null?0:rs)|(i===null?0:Uf)|(o===null?0:cC);if(t.writeInfo(a),r!==null&&t.writeLeftID(r),i!==null&&t.writeRightID(i),r===null&&i===null){const s=this.parent;if(s._item!==void 0){const l=s._item;if(l===null){const c=hC(s);t.writeParentInfo(!0),t.writeString(c)}else t.writeParentInfo(!1),t.writeLeftID(l.id)}else s.constructor===String?(t.writeParentInfo(!0),t.writeString(s)):s.constructor===Hv?(t.writeParentInfo(!1),t.writeLeftID(s)):Rl();o!==null&&t.writeString(o)}this.content.write(t,n)}};const uue=(e,t)=>sBe[t&zD](e),sBe=[()=>{Rl()},V6e,G6e,z6e,Z6e,W6e,Y6e,aBe,X6e,q6e,()=>{Rl()}],lBe=10;class cc extends dF{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){Rl()}write(t,n){t.writeInfo(lBe),Kn(t.restEncoder,this.length-n)}getMissing(t,n){return null}}const due=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},fue="__ $YJS$ __";due[fue]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");due[fue]=!0;class Li extends Zt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Li.valid(r)?new Li(r):Zt.near(r)}content(){return at.empty}eq(t){return t instanceof Li&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Li(t.resolve(n.pos))}getBookmark(){return new hF(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!cBe(t)||!uBe(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Li.valid(t))return t;let i=t.pos,o=null;for(let a=t.depth;;a--){let s=t.node(a);if(n>0?t.indexAfter(a)<s.childCount:t.index(a)>0){o=s.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=n;let l=t.doc.resolve(i);if(Li.valid(l))return l}for(;;){let a=n>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!Rt.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=a,i+=n;let s=t.doc.resolve(i);if(Li.valid(s))return s}return null}}}Li.prototype.visible=!1;Li.findFrom=Li.findGapCursorFrom;Zt.jsonID("gapcursor",Li);class hF{constructor(t){this.pos=t}map(t){return new hF(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Li.valid(n)?new Li(n):Zt.near(n)}}function hue(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function cBe(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||hue(i.type))return!0;if(i.inlineContent)return!1}}return!0}function uBe(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||hue(i.type))return!0;if(i.inlineContent)return!1}}return!0}function dBe(){return new rn({props:{decorations:mBe,createSelectionBetween(e,t,n){return t.pos==n.pos&&Li.valid(n)?new Li(n):null},handleClick:hBe,handleKeyDown:fBe,handleDOMEvents:{beforeinput:pBe}}})}const fBe=b9({ArrowLeft:oA("horiz",-1),ArrowRight:oA("horiz",1),ArrowUp:oA("vert",-1),ArrowDown:oA("vert",1)});function oA(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let a=r.selection,s=t>0?a.$to:a.$from,l=a.empty;if(a instanceof St){if(!o.endOfTextblock(n)||s.depth==0)return!1;l=!1,s=r.doc.resolve(t>0?s.after():s.before())}let c=Li.findGapCursorFrom(s,t,l);return c?(i&&i(r.tr.setSelection(new Li(c))),!0):!1}}function hBe(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Li.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Rt.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Li(r))),!0)}function pBe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Li))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=He.empty;for(let a=r.length-1;a>=0;a--)i=He.from(r[a].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new at(i,0,0));return o.setSelection(St.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function mBe(e){if(!(e.selection instanceof Li))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",mn.create(e.doc,[ir.widget(e.selection.head,t,{key:"gapcursor"})])}var WO=200,$o=function(){};$o.prototype.append=function(t){return t.length?(t=$o.from(t),!this.length&&t||t.length<WO&&this.leafAppend(t)||this.length<WO&&t.leafPrepend(this)||this.appendInner(t)):this};$o.prototype.prepend=function(t){return t.length?$o.from(t).append(this):this};$o.prototype.appendInner=function(t){return new gBe(this,t)};$o.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?$o.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};$o.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};$o.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};$o.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,a){return i.push(t(o,a))},n,r),i};$o.from=function(t){return t instanceof $o?t:t&&t.length?new pue(t):$o.empty};var pue=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=WO)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=WO)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})($o);$o.empty=new pue([]);var gBe=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(r,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(r,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(r,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(r,Math.min(i,s),o,a)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})($o);const yBe=500;class ru{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let a=t.tr,s,l,c=[],d=[];return this.items.forEach((u,p)=>{if(!u.step){i||(i=this.remapping(r,p+1),o=i.maps.length),o--,d.push(u);return}if(i){d.push(new dp(u.map));let m=u.step.map(i.slice(o)),v;m&&a.maybeStep(m).doc&&(v=a.mapping.maps[a.mapping.maps.length-1],c.push(new dp(v,void 0,void 0,c.length+d.length))),o--,v&&i.appendMap(v,o)}else a.maybeStep(u.step);if(u.selection)return s=i?u.selection.map(i.slice(o)):u.selection,l=new ru(this.items.slice(0,r).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(t,n,r,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let d=0;d<t.steps.length;d++){let u=t.steps[d].invert(t.docs[d]),p=new dp(t.mapping.maps[d],u,n),m;(m=l&&l.merge(p))&&(p=m,d?o.pop():s=s.slice(0,s.length-1)),o.push(p),n&&(a++,n=void 0),i||(l=p)}let c=a-r.depth;return c>vBe&&(s=bBe(s,c),a-=c),new ru(s.append(o),a)}remapping(t,n){let r=new o1;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},t,n),r}addMaps(t){return this.eventCount==0?this:new ru(this.items.append(t.map(n=>new dp(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(p=>{p.selection&&s--},i);let l=n;this.items.forEach(p=>{let m=o.getMirror(--l);if(m==null)return;a=Math.min(a,m);let v=o.maps[m];if(p.step){let x=t.steps[m].invert(t.docs[m]),w=p.selection&&p.selection.map(o.slice(l+1,m));w&&s++,r.push(new dp(v,x,w))}else r.push(new dp(v))},i);let c=[];for(let p=n;p<a;p++)c.push(new dp(o.maps[p]));let d=this.items.slice(0,i).append(c).append(r),u=new ru(d,s);return u.emptyItemCount()>yBe&&(u=u.compress(this.items.length-r.length)),u}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=t)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let d=a.selection&&a.selection.map(n.slice(r));d&&o++;let u=new dp(c.invert(),l,d),p,m=i.length-1;(p=i.length&&i[m].merge(u))?i[m]=p:i.push(u)}}else a.map&&r--},this.items.length,0),new ru($o.from(i.reverse()),o)}}ru.empty=new ru($o.empty,0);function bBe(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}let dp=class mue{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new mue(n.getMap().invert(),n,this.selection)}}};class Ep{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const vBe=20;function xBe(e,t,n,r){let i=n.getMeta(y0),o;if(i)return i.historyState;n.getMeta(SBe)&&(e=new Ep(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta(y0))return a.getMeta(y0).redo?new Ep(e.done.addTransform(n,void 0,r,JA(t)),e.undone,ZW(n.mapping.maps),e.prevTime,e.prevComposition):new Ep(e.done,e.undone.addTransform(n,void 0,r,JA(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=n.getMeta("composition"),l=e.prevTime==0||!a&&e.prevComposition!=s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!wBe(n,e.prevRanges)),c=a?SP(e.prevRanges,n.mapping):ZW(n.mapping.maps);return new Ep(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,JA(t)),ru.empty,c,n.time,s??e.prevComposition)}else return(o=n.getMeta("rebased"))?new Ep(e.done.rebased(n,o),e.undone.rebased(n,o),SP(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Ep(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),SP(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function wBe(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function ZW(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,o,a)=>t.push(o,a));return t}function SP(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function EBe(e,t,n){let r=JA(t),i=y0.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,r),l=new Ep(n?s:o.remaining,n?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(y0,{redo:n,historyState:l})}let CP=!1,QW=null;function JA(e){let t=e.plugins;if(QW!=t){CP=!1,QW=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){CP=!0;break}}return CP}const y0=new wn("history"),SBe=new wn("closeHistory");function CBe(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new rn({key:y0,state:{init(){return new Ep(ru.empty,ru.empty,null,0,-1)},apply(t,n,r){return xBe(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?pF:r=="historyRedo"?mF:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function gue(e,t){return(n,r)=>{let i=y0.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let o=EBe(i,n,e);o&&r(t?o.scrollIntoView():o)}return!0}}const pF=gue(!1,!0),mF=gue(!0,!0);ur.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new rn({key:new wn("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const a=o-i,s=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(s,l);return e=!0,c}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:t.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!t.getMeta("paste"))return!1;const s=t.selection.$head.pos,l=o-r,c=s-l,d=s;return t.deleteRange(c,d),!(this.storage.characters({node:t.doc})>r)}})]}});ur.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[lce(this.options)]}});ur.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new rn({key:new wn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,o=[];if(!n||!r)return mn.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;a+=1});let s=0;return e.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(s+=1,this.options.mode==="deepest"&&a-s>0||this.options.mode==="shallowest"&&s>1)return this.options.mode==="deepest";o.push(ir.node(c,c+l.nodeSize,{class:this.options.className}))}),mn.create(e,o)}}})]}});var TBe=ur.create({name:"gapCursor",addProseMirrorPlugins(){return[dBe()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Br(Vt(e,"allowGapCursor",n)))!=null?t:null}}});ur.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new rn({key:new wn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const o=this.editor.isEmpty;return e.descendants((a,s)=>{const l=r>=s&&r<=s+a.nodeSize,c=!a.isLeaf&&DD(a);if((l||!this.options.showOnlyCurrent)&&c){const d=[this.options.emptyNodeClass];o&&d.push(this.options.emptyEditorClass);const u=ir.node(s,s+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:s,hasAnchor:l}):this.options.placeholder});i.push(u)}return this.options.includeChildren}),mn.create(e,i)}}})]}});ur.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new rn({key:new wn("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||PO(n.selection)||e.view.dragging?null:mn.create(n.doc,[ir.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function JW({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}ur.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new wn(this.name),n=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new rn({key:t,appendTransaction:(i,o,a)=>{const{doc:s,tr:l,schema:c}=a,d=t.getState(a),u=s.content.size,p=c.nodes[n];if(d)return l.insert(u,p.create())},state:{init:(i,o)=>{const a=o.tr.doc.lastChild;return!JW({node:a,types:r})},apply:(i,o)=>{if(!i.docChanged)return o;const a=i.doc.lastChild;return!JW({node:a,types:r})}}})]}});var kBe=ur.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>pF(e,t),redo:()=>({state:e,dispatch:t})=>mF(e,t)}},addProseMirrorPlugins(){return[CBe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}});const _Be="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",ABe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",$B="numeric",HB="ascii",FB="alpha",xS="asciinumeric",iS="alphanumeric",UB="domain",yue="emoji",OBe="scheme",NBe="slashscheme",TP="whitespace";function MBe(e,t){return e in t||(t[e]=[]),t[e]}function n0(e,t,n){t[$B]&&(t[xS]=!0,t[iS]=!0),t[HB]&&(t[xS]=!0,t[FB]=!0),t[xS]&&(t[iS]=!0),t[FB]&&(t[iS]=!0),t[iS]&&(t[UB]=!0),t[yue]&&(t[UB]=!0);for(const r in t){const i=MBe(r,n);i.indexOf(e)<0&&i.push(e)}}function DBe(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function js(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}js.groups={};js.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],o=t.jr[r][1];if(o&&i.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||js.groups;let i;return t&&t.j?i=t:(i=new js(t),n&&r&&n0(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(e[a]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||js.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let a,s=i.go(e);if(s?(a=new js,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new js,o){if(r)if(a.t&&typeof a.t=="string"){const l=Object.assign(DBe(a.t,r),n);n0(o,l,r)}else n&&n0(o,n,r);a.t=o}return i.j[e]=a,a}};const _n=(e,t,n,r,i)=>e.ta(t,n,r,i),Ii=(e,t,n,r,i)=>e.tr(t,n,r,i),eY=(e,t,n,r,i)=>e.ts(t,n,r,i),ot=(e,t,n,r,i)=>e.tt(t,n,r,i),_f="WORD",zB="UWORD",bue="ASCIINUMERICAL",vue="ALPHANUMERICAL",vC="LOCALHOST",VB="TLD",qB="UTLD",eO="SCHEME",yv="SLASH_SCHEME",gF="NUM",WB="WS",yF="NL",wS="OPENBRACE",ES="CLOSEBRACE",YO="OPENBRACKET",GO="CLOSEBRACKET",KO="OPENPAREN",XO="CLOSEPAREN",ZO="OPENANGLEBRACKET",QO="CLOSEANGLEBRACKET",JO="FULLWIDTHLEFTPAREN",eN="FULLWIDTHRIGHTPAREN",tN="LEFTCORNERBRACKET",nN="RIGHTCORNERBRACKET",rN="LEFTWHITECORNERBRACKET",iN="RIGHTWHITECORNERBRACKET",oN="FULLWIDTHLESSTHAN",aN="FULLWIDTHGREATERTHAN",sN="AMPERSAND",lN="APOSTROPHE",cN="ASTERISK",Sp="AT",uN="BACKSLASH",dN="BACKTICK",fN="CARET",Np="COLON",bF="COMMA",hN="DOLLAR",ld="DOT",pN="EQUALS",vF="EXCLAMATION",ec="HYPHEN",SS="PERCENT",mN="PIPE",gN="PLUS",yN="POUND",CS="QUERY",xF="QUOTE",xue="FULLWIDTHMIDDLEDOT",wF="SEMI",cd="SLASH",TS="TILDE",bN="UNDERSCORE",wue="EMOJI",vN="SYM";var Eue=Object.freeze({__proto__:null,ALPHANUMERICAL:vue,AMPERSAND:sN,APOSTROPHE:lN,ASCIINUMERICAL:bue,ASTERISK:cN,AT:Sp,BACKSLASH:uN,BACKTICK:dN,CARET:fN,CLOSEANGLEBRACKET:QO,CLOSEBRACE:ES,CLOSEBRACKET:GO,CLOSEPAREN:XO,COLON:Np,COMMA:bF,DOLLAR:hN,DOT:ld,EMOJI:wue,EQUALS:pN,EXCLAMATION:vF,FULLWIDTHGREATERTHAN:aN,FULLWIDTHLEFTPAREN:JO,FULLWIDTHLESSTHAN:oN,FULLWIDTHMIDDLEDOT:xue,FULLWIDTHRIGHTPAREN:eN,HYPHEN:ec,LEFTCORNERBRACKET:tN,LEFTWHITECORNERBRACKET:rN,LOCALHOST:vC,NL:yF,NUM:gF,OPENANGLEBRACKET:ZO,OPENBRACE:wS,OPENBRACKET:YO,OPENPAREN:KO,PERCENT:SS,PIPE:mN,PLUS:gN,POUND:yN,QUERY:CS,QUOTE:xF,RIGHTCORNERBRACKET:nN,RIGHTWHITECORNERBRACKET:iN,SCHEME:eO,SEMI:wF,SLASH:cd,SLASH_SCHEME:yv,SYM:vN,TILDE:TS,TLD:VB,UNDERSCORE:bN,UTLD:qB,UWORD:zB,WORD:_f,WS:WB});const xf=/[a-z]/,DE=new RegExp("\\p{L}","u"),kP=new RegExp("\\p{Emoji}","u"),wf=/\d/,_P=/\s/,tY="\r",AP=`
`,RBe="",IBe="",OP="";let aA=null,sA=null;function PBe(e=[]){const t={};js.groups=t;const n=new js;aA==null&&(aA=nY(_Be)),sA==null&&(sA=nY(ABe)),ot(n,"'",lN),ot(n,"{",wS),ot(n,"}",ES),ot(n,"[",YO),ot(n,"]",GO),ot(n,"(",KO),ot(n,")",XO),ot(n,"<",ZO),ot(n,">",QO),ot(n,"",JO),ot(n,"",eN),ot(n,"",tN),ot(n,"",nN),ot(n,"",rN),ot(n,"",iN),ot(n,"",oN),ot(n,"",aN),ot(n,"&",sN),ot(n,"*",cN),ot(n,"@",Sp),ot(n,"`",dN),ot(n,"^",fN),ot(n,":",Np),ot(n,",",bF),ot(n,"$",hN),ot(n,".",ld),ot(n,"=",pN),ot(n,"!",vF),ot(n,"-",ec),ot(n,"%",SS),ot(n,"|",mN),ot(n,"+",gN),ot(n,"#",yN),ot(n,"?",CS),ot(n,'"',xF),ot(n,"/",cd),ot(n,";",wF),ot(n,"~",TS),ot(n,"_",bN),ot(n,"\\",uN),ot(n,"",xue);const r=Ii(n,wf,gF,{[$B]:!0});Ii(r,wf,r);const i=Ii(r,xf,bue,{[xS]:!0}),o=Ii(r,DE,vue,{[iS]:!0}),a=Ii(n,xf,_f,{[HB]:!0});Ii(a,wf,i),Ii(a,xf,a),Ii(i,wf,i),Ii(i,xf,i);const s=Ii(n,DE,zB,{[FB]:!0});Ii(s,xf),Ii(s,wf,o),Ii(s,DE,s),Ii(o,wf,o),Ii(o,xf),Ii(o,DE,o);const l=ot(n,AP,yF,{[TP]:!0}),c=ot(n,tY,WB,{[TP]:!0}),d=Ii(n,_P,WB,{[TP]:!0});ot(n,OP,d),ot(c,AP,l),ot(c,OP,d),Ii(c,_P,d),ot(d,tY),ot(d,AP),Ii(d,_P,d),ot(d,OP,d);const u=Ii(n,kP,wue,{[yue]:!0});ot(u,"#"),Ii(u,kP,u),ot(u,RBe,u);const p=ot(u,IBe);ot(p,"#"),Ii(p,kP,u);const m=[[xf,a],[wf,i]],v=[[xf,null],[DE,s],[wf,o]];for(let x=0;x<aA.length;x++)fp(n,aA[x],VB,_f,m);for(let x=0;x<sA.length;x++)fp(n,sA[x],qB,zB,v);n0(VB,{tld:!0,ascii:!0},t),n0(qB,{utld:!0,alpha:!0},t),fp(n,"file",eO,_f,m),fp(n,"mailto",eO,_f,m),fp(n,"http",yv,_f,m),fp(n,"https",yv,_f,m),fp(n,"ftp",yv,_f,m),fp(n,"ftps",yv,_f,m),n0(eO,{scheme:!0,ascii:!0},t),n0(yv,{slashscheme:!0,ascii:!0},t),e=e.sort((x,w)=>x[0]>w[0]?1:-1);for(let x=0;x<e.length;x++){const w=e[x][0],k=e[x][1]?{[OBe]:!0}:{[NBe]:!0};w.indexOf("-")>=0?k[UB]=!0:xf.test(w)?wf.test(w)?k[xS]=!0:k[HB]=!0:k[$B]=!0,eY(n,w,w,k)}return eY(n,"localhost",vC,{ascii:!0}),n.jd=new js(vN),{start:n,tokens:Object.assign({groups:t},Eue)}}function Sue(e,t){const n=LBe(t.replace(/[A-Z]/g,s=>s.toLowerCase())),r=n.length,i=[];let o=0,a=0;for(;a<r;){let s=e,l=null,c=0,d=null,u=-1,p=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(u=0,p=0,d=s):u>=0&&(u+=n[a].length,p++),c+=n[a].length,o+=n[a].length,a++;o-=u,a-=p,c-=u,i.push({t:d.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function LBe(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),o,a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function fp(e,t,n,r,i){let o;const a=t.length;for(let s=0;s<a-1;s++){const l=t[s];e.j[l]?o=e.j[l]:(o=new js(r),o.jr=i.slice(),e.j[l]=o),e=o}return o=new js(n),o.jr=i.slice(),e.j[t[a-1]]=o,o}function nY(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let o=0;for(;i.indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let a=parseInt(e.substring(r,r+o),10);a>0;a--)n.pop();r+=o}else n.push(e[r]),r++}return t}const xC={defaultProtocol:"http",events:null,format:rY,formatHref:rY,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function EF(e,t=null){let n=Object.assign({},xC);e&&(n=Object.assign(n,e instanceof EF?e.o:e));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}EF.prototype={o:xC,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:xC[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function rY(e){return e}function Cue(e,t){this.t="token",this.v=e,this.tk=t}Cue.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=xC.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),o=this.toFormattedString(e),a={},s=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),d=e.getObj("attributes",n,t),u=e.getObj("events",n,t);return a.href=r,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),d&&Object.assign(a,d),{tagName:i,attributes:a,content:o,eventListeners:u}}};function KD(e,t){class n extends Cue{constructor(i,o){super(i,o),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const iY=KD("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),oY=KD("text"),jBe=KD("nl"),lA=KD("url",{isLink:!0,toHref(e=xC.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==vC&&e[1].t===Np}}),Xl=e=>new js(e);function BBe({groups:e}){const t=e.domain.concat([sN,cN,Sp,uN,dN,fN,hN,pN,ec,gF,SS,mN,gN,yN,cd,vN,TS,bN]),n=[lN,Np,bF,ld,vF,SS,CS,xF,wF,ZO,QO,wS,ES,GO,YO,KO,XO,JO,eN,tN,nN,rN,iN,oN,aN],r=[sN,lN,cN,uN,dN,fN,hN,pN,ec,wS,ES,SS,mN,gN,yN,CS,cd,vN,TS,bN],i=Xl(),o=ot(i,TS);_n(o,r,o),_n(o,e.domain,o);const a=Xl(),s=Xl(),l=Xl();_n(i,e.domain,a),_n(i,e.scheme,s),_n(i,e.slashscheme,l),_n(a,r,o),_n(a,e.domain,a);const c=ot(a,Sp);ot(o,Sp,c),ot(s,Sp,c),ot(l,Sp,c);const d=ot(o,ld);_n(d,r,o),_n(d,e.domain,o);const u=Xl();_n(c,e.domain,u),_n(u,e.domain,u);const p=ot(u,ld);_n(p,e.domain,u);const m=Xl(iY);_n(p,e.tld,m),_n(p,e.utld,m),ot(c,vC,m);const v=ot(u,ec);ot(v,ec,v),_n(v,e.domain,u),_n(m,e.domain,u),ot(m,ld,p),ot(m,ec,v);const x=ot(m,Np);_n(x,e.numeric,iY);const w=ot(a,ec),T=ot(a,ld);ot(w,ec,w),_n(w,e.domain,a),_n(T,r,o),_n(T,e.domain,a);const k=Xl(lA);_n(T,e.tld,k),_n(T,e.utld,k),_n(k,e.domain,a),_n(k,r,o),ot(k,ld,T),ot(k,ec,w),ot(k,Sp,c);const O=ot(k,Np),I=Xl(lA);_n(O,e.numeric,I);const N=Xl(lA),A=Xl();_n(N,t,N),_n(N,n,A),_n(A,t,N),_n(A,n,A),ot(k,cd,N),ot(I,cd,N);const R=ot(s,Np),L=ot(l,Np),B=ot(L,cd),$=ot(B,cd);_n(s,e.domain,a),ot(s,ld,T),ot(s,ec,w),_n(l,e.domain,a),ot(l,ld,T),ot(l,ec,w),_n(R,e.domain,N),ot(R,cd,N),ot(R,CS,N),_n($,e.domain,N),_n($,t,N),ot($,cd,N);const q=[[wS,ES],[YO,GO],[KO,XO],[ZO,QO],[JO,eN],[tN,nN],[rN,iN],[oN,aN]];for(let z=0;z<q.length;z++){const[W,G]=q[z],Z=ot(N,W);ot(A,W,Z),ot(Z,G,N);const V=Xl(lA);_n(Z,t,V);const ne=Xl();_n(Z,n),_n(V,t,V),_n(V,n,ne),_n(ne,t,V),_n(ne,n,ne),ot(V,G,N),ot(ne,G,N)}return ot(i,vC,k),ot(i,yF,jBe),{start:i,tokens:Eue}}function $Be(e,t,n){let r=n.length,i=0,o=[],a=[];for(;i<r;){let s=e,l=null,c=null,d=0,u=null,p=-1;for(;i<r&&!(l=s.go(n[i].t));)a.push(n[i++]);for(;i<r&&(c=l||s.go(n[i].t));)l=null,s=c,s.accepts()?(p=0,u=s):p>=0&&p++,i++,d++;if(p<0)i-=d,i<r&&(a.push(n[i]),i++);else{a.length>0&&(o.push(NP(oY,t,a)),a=[]),i-=p,d-=p;const m=u.t,v=n.slice(i-d,i);o.push(NP(m,t,v))}}return a.length>0&&o.push(NP(oY,t,a)),o}function NP(e,t,n){const r=n[0].s,i=n[n.length-1].e,o=t.slice(r,i);return new e(o,n)}const HBe=typeof console<"u"&&console&&console.warn||(()=>{}),FBe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ci={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function UBe(){return js.groups={},ci.scanner=null,ci.parser=null,ci.tokenQueue=[],ci.pluginQueue=[],ci.customSchemes=[],ci.initialized=!1,ci}function aY(e,t=!1){if(ci.initialized&&HBe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${FBe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ci.customSchemes.push([e,t])}function zBe(){ci.scanner=PBe(ci.customSchemes);for(let e=0;e<ci.tokenQueue.length;e++)ci.tokenQueue[e][1]({scanner:ci.scanner});ci.parser=BBe(ci.scanner.tokens);for(let e=0;e<ci.pluginQueue.length;e++)ci.pluginQueue[e][1]({scanner:ci.scanner,parser:ci.parser});return ci.initialized=!0,ci}function SF(e){return ci.initialized||zBe(),$Be(ci.parser.start,e,Sue(ci.scanner.start,e))}SF.scan=Sue;function Tue(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new EF(n),i=SF(e),o=[];for(let a=0;a<i.length;a++){const s=i[a];s.isLink&&(!t||s.t===t)&&r.check(s)&&o.push(s.toFormattedObject(r))}return o}var CF="[\0- -\u2029]",VBe=new RegExp(CF),qBe=new RegExp(`${CF}$`),WBe=new RegExp(CF,"g");function YBe(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function GBe(e){return new rn({key:new wn("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(c=>c.docChanged)&&!n.doc.eq(r.doc),o=t.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=r,s=ND(n.doc,[...t]);if(k9(s).forEach(({newRange:c})=>{const d=ile(r.doc,c,m=>m.isTextblock);let u,p;if(d.length>1)u=d[0],p=r.doc.textBetween(u.pos,u.pos+u.node.nodeSize,void 0," ");else if(d.length){const m=r.doc.textBetween(c.from,c.to," "," ");if(!qBe.test(m))return;u=d[0],p=r.doc.textBetween(u.pos,c.to,void 0," ")}if(u&&p){const m=p.split(VBe).filter(Boolean);if(m.length<=0)return!1;const v=m[m.length-1],x=u.pos+p.lastIndexOf(v);if(!v)return!1;const w=SF(v).map(T=>T.toObject(e.defaultProtocol));if(!YBe(w))return!1;w.filter(T=>T.isLink).map(T=>({...T,from:x+T.start+1,to:x+T.end+1})).filter(T=>r.schema.marks.code?!r.doc.rangeHasMark(T.from,T.to,r.schema.marks.code):!0).filter(T=>e.validate(T.value)).filter(T=>e.shouldAutoLink(T.value)).forEach(T=>{_9(T.from,T.to,r.doc).some(k=>k.mark.type===e.type)||a.addMark(T.from,T.to,e.type.create({href:T.href}))})}}),!!a.steps.length)return a}})}function KBe(e){return new rn({key:new wn("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,o;if(r.button!==0||!t.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let d=r.target;const u=[];for(;d.nodeName!=="DIV";)u.push(d),d=d.parentNode;a=u.find(p=>p.nodeName==="A")}if(!a)return!1;const s=ule(t.state,e.type.name),l=(i=a?.href)!=null?i:s.href,c=(o=a?.target)!=null?o:s.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),a&&l?(window.open(l,c),!0):!1}}})}function XBe(e){return new rn({key:new wn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:i}=e,{state:o}=t,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";r.content.forEach(d=>{l+=d.textContent});const c=Tue(l,{defaultProtocol:e.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function Ug(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(WBe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var ZBe=jl.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){aY(e);return}aY(e.scheme,e.optionalSlashes)})},onDestroy(){UBe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Ug(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Ug(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Ug(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Dl(this.options.HTMLAttributes,e),0]:["a",Dl(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ug(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Ug(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[D0({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=Tue(e).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!Ug(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&t.push({text:o.value,data:{href:o.href},index:o.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(GBe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Ug(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(KBe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(XBe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),QBe=qs.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""});class qT{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}qT.prototype.normal={};qT.prototype.property={};qT.prototype.space=void 0;function kue(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new qT(n,r,t)}function wC(e){return e.toLowerCase()}class Ws{constructor(t,n){this.attribute=n,this.property=t}}Ws.prototype.attribute="";Ws.prototype.booleanish=!1;Ws.prototype.boolean=!1;Ws.prototype.commaOrSpaceSeparated=!1;Ws.prototype.commaSeparated=!1;Ws.prototype.defined=!1;Ws.prototype.mustUseProperty=!1;Ws.prototype.number=!1;Ws.prototype.overloadedBoolean=!1;Ws.prototype.property="";Ws.prototype.spaceSeparated=!1;Ws.prototype.space=void 0;let JBe=0;const Cn=sy(),no=sy(),YB=sy(),st=sy(),Qr=sy(),zv=sy(),hl=sy();function sy(){return 2**++JBe}const GB=Object.freeze(Object.defineProperty({__proto__:null,boolean:Cn,booleanish:no,commaOrSpaceSeparated:hl,commaSeparated:zv,number:st,overloadedBoolean:YB,spaceSeparated:Qr},Symbol.toStringTag,{value:"Module"})),MP=Object.keys(GB);class TF extends Ws{constructor(t,n,r,i){let o=-1;if(super(t,n),sY(this,"space",i),typeof r=="number")for(;++o<MP.length;){const a=MP[o];sY(this,MP[o],(r&GB[a])===GB[a])}}}TF.prototype.defined=!0;function sY(e,t,n){n&&(e[t]=n)}function dx(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new TF(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[wC(r)]=r,n[wC(o.attribute)]=r}return new qT(t,n,e.space)}const _ue=dx({properties:{ariaActiveDescendant:null,ariaAtomic:no,ariaAutoComplete:null,ariaBusy:no,ariaChecked:no,ariaColCount:st,ariaColIndex:st,ariaColSpan:st,ariaControls:Qr,ariaCurrent:null,ariaDescribedBy:Qr,ariaDetails:null,ariaDisabled:no,ariaDropEffect:Qr,ariaErrorMessage:null,ariaExpanded:no,ariaFlowTo:Qr,ariaGrabbed:no,ariaHasPopup:null,ariaHidden:no,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qr,ariaLevel:st,ariaLive:null,ariaModal:no,ariaMultiLine:no,ariaMultiSelectable:no,ariaOrientation:null,ariaOwns:Qr,ariaPlaceholder:null,ariaPosInSet:st,ariaPressed:no,ariaReadOnly:no,ariaRelevant:null,ariaRequired:no,ariaRoleDescription:Qr,ariaRowCount:st,ariaRowIndex:st,ariaRowSpan:st,ariaSelected:no,ariaSetSize:st,ariaSort:null,ariaValueMax:st,ariaValueMin:st,ariaValueNow:st,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Aue(e,t){return t in e?e[t]:t}function Oue(e,t){return Aue(e,t.toLowerCase())}const e8e=dx({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zv,acceptCharset:Qr,accessKey:Qr,action:null,allow:null,allowFullScreen:Cn,allowPaymentRequest:Cn,allowUserMedia:Cn,alt:null,as:null,async:Cn,autoCapitalize:null,autoComplete:Qr,autoFocus:Cn,autoPlay:Cn,blocking:Qr,capture:null,charSet:null,checked:Cn,cite:null,className:Qr,cols:st,colSpan:null,content:null,contentEditable:no,controls:Cn,controlsList:Qr,coords:st|zv,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Cn,defer:Cn,dir:null,dirName:null,disabled:Cn,download:YB,draggable:no,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Cn,formTarget:null,headers:Qr,height:st,hidden:YB,high:st,href:null,hrefLang:null,htmlFor:Qr,httpEquiv:Qr,id:null,imageSizes:null,imageSrcSet:null,inert:Cn,inputMode:null,integrity:null,is:null,isMap:Cn,itemId:null,itemProp:Qr,itemRef:Qr,itemScope:Cn,itemType:Qr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Cn,low:st,manifest:null,max:null,maxLength:st,media:null,method:null,min:null,minLength:st,multiple:Cn,muted:Cn,name:null,nonce:null,noModule:Cn,noValidate:Cn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Cn,optimum:st,pattern:null,ping:Qr,placeholder:null,playsInline:Cn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Cn,referrerPolicy:null,rel:Qr,required:Cn,reversed:Cn,rows:st,rowSpan:st,sandbox:Qr,scope:null,scoped:Cn,seamless:Cn,selected:Cn,shadowRootClonable:Cn,shadowRootDelegatesFocus:Cn,shadowRootMode:null,shape:null,size:st,sizes:null,slot:null,span:st,spellCheck:no,src:null,srcDoc:null,srcLang:null,srcSet:null,start:st,step:null,style:null,tabIndex:st,target:null,title:null,translate:null,type:null,typeMustMatch:Cn,useMap:null,value:no,width:st,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qr,axis:null,background:null,bgColor:null,border:st,borderColor:null,bottomMargin:st,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Cn,declare:Cn,event:null,face:null,frame:null,frameBorder:null,hSpace:st,leftMargin:st,link:null,longDesc:null,lowSrc:null,marginHeight:st,marginWidth:st,noResize:Cn,noHref:Cn,noShade:Cn,noWrap:Cn,object:null,profile:null,prompt:null,rev:null,rightMargin:st,rules:null,scheme:null,scrolling:no,standby:null,summary:null,text:null,topMargin:st,valueType:null,version:null,vAlign:null,vLink:null,vSpace:st,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Cn,disableRemotePlayback:Cn,prefix:null,property:null,results:st,security:null,unselectable:null},space:"html",transform:Oue}),t8e=dx({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:hl,accentHeight:st,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:st,amplitude:st,arabicForm:null,ascent:st,attributeName:null,attributeType:null,azimuth:st,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:st,by:null,calcMode:null,capHeight:st,className:Qr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:st,diffuseConstant:st,direction:null,display:null,dur:null,divisor:st,dominantBaseline:null,download:Cn,dx:null,dy:null,edgeMode:null,editable:null,elevation:st,enableBackground:null,end:null,event:null,exponent:st,externalResourcesRequired:null,fill:null,fillOpacity:st,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zv,g2:zv,glyphName:zv,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:st,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:st,horizOriginX:st,horizOriginY:st,id:null,ideographic:st,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:st,k:st,k1:st,k2:st,k3:st,k4:st,kernelMatrix:hl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:st,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:st,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:st,overlineThickness:st,paintOrder:null,panose1:null,path:null,pathLength:st,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:st,pointsAtY:st,pointsAtZ:st,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hl,rev:hl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hl,requiredFeatures:hl,requiredFonts:hl,requiredFormats:hl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:st,specularExponent:st,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:st,strikethroughThickness:st,string:null,stroke:null,strokeDashArray:hl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:st,strokeOpacity:st,strokeWidth:null,style:null,surfaceScale:st,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hl,tabIndex:st,tableValues:null,target:null,targetX:st,targetY:st,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:st,underlineThickness:st,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:st,values:null,vAlphabetic:st,vMathematical:st,vectorEffect:null,vHanging:st,vIdeographic:st,version:null,vertAdvY:st,vertOriginX:st,vertOriginY:st,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:st,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Aue}),Nue=dx({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Mue=dx({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Oue}),Due=dx({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),n8e=/[A-Z]/g,lY=/-[a-z]/g,r8e=/^data[-\w.:]+$/i;function kF(e,t){const n=wC(t);let r=t,i=Ws;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&r8e.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(lY,o8e);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!lY.test(o)){let a=o.replace(n8e,i8e);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=TF}return new i(r,t)}function i8e(e){return"-"+e.toLowerCase()}function o8e(e){return e.charAt(1).toUpperCase()}const XD=kue([_ue,e8e,Nue,Mue,Due],"html"),WT=kue([_ue,t8e,Nue,Mue,Due],"svg");function cY(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const a=n.slice(i,r).trim();(a||!o)&&t.push(a),i=r+1,r=n.indexOf(",",i)}return t}function a8e(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const uY=/[#.]/g;function s8e(e,t){const n=e||"",r={};let i=0,o,a;for(;i<n.length;){uY.lastIndex=i;const s=uY.exec(n),l=n.slice(i,s?s.index:n.length);l&&(o?o==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:a=l,i+=l.length),s&&(o=s[0],i++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function dY(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function l8e(e){return e.join(" ").trim()}function Rue(e,t,n){const r=n?f8e(n):void 0;function i(o,a,...s){let l;if(o==null){l={type:"root",children:[]};const c=a;s.unshift(c)}else{l=s8e(o,t);const c=l.tagName.toLowerCase(),d=r?r.get(c):void 0;if(l.tagName=d||c,c8e(a))s.unshift(a);else for(const[u,p]of Object.entries(a))u8e(e,l.properties,u,p)}for(const c of s)KB(l.children,c);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function c8e(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const a of o)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function u8e(e,t,n,r){const i=kF(e,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=dY(r):i.commaSeparated?o=cY(r):i.commaOrSpaceSeparated?o=dY(cY(r).join(" ")):o=fY(i,i.property,r):Array.isArray(r)?o=[...r]:o=i.property==="style"?d8e(r):String(r);if(Array.isArray(o)){const a=[];for(const s of o)a.push(fY(i,i.property,s));o=a}i.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[i.property]=o}}function KB(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)KB(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?KB(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function fY(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||wC(n)===wC(t)))return!0}return n}function d8e(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function f8e(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const h8e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Iue=Rue(XD,"div"),Pue=Rue(WT,"g",h8e);function p8e(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=t.length){let a=0;for(;;){let s=n[a];if(s===void 0){const l=hY(t,n[a-1]);s=l===-1?t.length+1:l+1,n[a]=s}if(s>o)return{line:a+1,column:o-(a>0?n[a-1]:0)+1,offset:o};a++}}}function i(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const s=n[n.length-1],l=hY(t,s),c=l===-1?t.length+1:l+1;if(s===c)break;n.push(c)}const a=(o.line>1?n[o.line-2]:0)+o.column-1;if(a<n[o.line-1])return a}}}function hY(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const tO={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"},Lue={}.hasOwnProperty,m8e=Object.prototype;function g8e(e,t){const n=t||{};return _F({file:n.file||void 0,location:!1,schema:n.space==="svg"?WT:XD,verbose:n.verbose||!1},e)}function _F(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},nO(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:jue(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),a=p8e(o),s=a.toPoint(0),l=a.toPoint(o.length);n.position={start:s,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},nO(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},nO(e,r,n),n}default:return n=y8e(e,t),n}}function jue(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=_F(e,t[n]);r.push(i)}return r}function y8e(e,t){const n=e.schema;e.schema=t.namespaceURI===tO.svg?WT:XD;let r=-1;const i={};for(;++r<t.attrs.length;){const s=t.attrs[r],l=(s.prefix?s.prefix+":":"")+s.name;Lue.call(m8e,l)||(i[l]=s.value)}const a=(e.schema.space==="svg"?Pue:Iue)(t.tagName,i,jue(e,t.childNodes));if(nO(e,t,a),a.tagName==="template"){const s=t,l=s.sourceCodeLocation,c=l&&l.startTag&&kv(l.startTag),d=l&&l.endTag&&kv(l.endTag),u=_F(e,s.content);c&&d&&e.file&&(u.position={start:c.end,end:d.start}),a.content=u}return e.schema=n,a}function nO(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=b8e(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function b8e(e,t,n){const r=kv(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const o={};let a;if(n.attrs)for(a in n.attrs)Lue.call(n.attrs,a)&&(o[kF(e.schema,a).property]=kv(n.attrs[a]));n.startTag;const s=kv(n.startTag),l=n.endTag?kv(n.endTag):void 0,c={opening:s};l&&(c.closing=l),c.properties=o,t.data={position:c}}}return r}function kv(e){const t=pY({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=pY({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function pY(e){return e.line&&e.column?e:void 0}const v8e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),gi="";var ie;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(ie||(ie={}));const As={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Bue(e){return e>=55296&&e<=57343}function x8e(e){return e>=56320&&e<=57343}function w8e(e,t){return(e-55296)*1024+9216+t}function $ue(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Hue(e){return e>=64976&&e<=65007||v8e.has(e)}var $e;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})($e||($e={}));const E8e=65536;class S8e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=E8e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:o}=this,a=i+n,s=o+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:s,endOffset:s}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(x8e(n))return this.pos++,this._addGap(),w8e(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ie.EOF;return this._err($e.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ie.EOF;const r=this.html.charCodeAt(n);return r===ie.CARRIAGE_RETURN?ie.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ie.EOF;let t=this.html.charCodeAt(this.pos);return t===ie.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ie.LINE_FEED):t===ie.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Bue(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===ie.LINE_FEED||t===ie.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){$ue(t)?this._err($e.controlCharacterInInputStream):Hue(t)&&this._err($e.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var lr;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(lr||(lr={}));function Fue(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const C8e=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),T8e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function k8e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=T8e.get(e))!==null&&t!==void 0?t:e}var jo;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(jo||(jo={}));const _8e=32;var Hp;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Hp||(Hp={}));function XB(e){return e>=jo.ZERO&&e<=jo.NINE}function A8e(e){return e>=jo.UPPER_A&&e<=jo.UPPER_F||e>=jo.LOWER_A&&e<=jo.LOWER_F}function O8e(e){return e>=jo.UPPER_A&&e<=jo.UPPER_Z||e>=jo.LOWER_A&&e<=jo.LOWER_Z||XB(e)}function N8e(e){return e===jo.EQUALS||O8e(e)}var Ro;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ro||(Ro={}));var Of;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Of||(Of={}));class M8e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Ro.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Of.Strict}startEntity(t){this.decodeMode=t,this.state=Ro.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Ro.EntityStart:return t.charCodeAt(n)===jo.NUM?(this.state=Ro.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Ro.NamedEntity,this.stateNamedEntity(t,n));case Ro.NumericStart:return this.stateNumericStart(t,n);case Ro.NumericDecimal:return this.stateNumericDecimal(t,n);case Ro.NumericHex:return this.stateNumericHex(t,n);case Ro.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|_8e)===jo.LOWER_X?(this.state=Ro.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Ro.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+Number.parseInt(t.substr(n,o),i),this.consumed+=o}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(XB(i)||A8e(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(XB(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===jo.SEMI)this.consumed+=1;else if(this.decodeMode===Of.Strict)return 0;return this.emitCodePoint(k8e(this.result),this.consumed),this.errors&&(t!==jo.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&Hp.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=D8e(r,i,this.treeIndex+Math.max(1,o),a),this.treeIndex<0)return this.result===0||this.decodeMode===Of.Attribute&&(o===0||N8e(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&Hp.VALUE_LENGTH)>>14,o!==0){if(a===jo.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Of.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Hp.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Hp.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Ro.NamedEntity:return this.result!==0&&(this.decodeMode!==Of.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ro.NumericDecimal:return this.emitNumericEntity(0,2);case Ro.NumericHex:return this.emitNumericEntity(0,3);case Ro.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ro.EntityStart:return 0}}}function D8e(e,t,n,r){const i=(t&Hp.BRANCH_LENGTH)>>7,o=t&Hp.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const l=r-o;return l<0||l>=i?-1:e[n+l]-1}let a=n,s=a+i-1;for(;a<=s;){const l=a+s>>>1,c=e[l];if(c<r)a=l+1;else if(c>r)s=l-1;else return e[l+i]}return-1}var tt;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(tt||(tt={}));var b0;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(b0||(b0={}));var oc;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(oc||(oc={}));var _e;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(_e||(_e={}));var P;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(P||(P={}));const R8e=new Map([[_e.A,P.A],[_e.ADDRESS,P.ADDRESS],[_e.ANNOTATION_XML,P.ANNOTATION_XML],[_e.APPLET,P.APPLET],[_e.AREA,P.AREA],[_e.ARTICLE,P.ARTICLE],[_e.ASIDE,P.ASIDE],[_e.B,P.B],[_e.BASE,P.BASE],[_e.BASEFONT,P.BASEFONT],[_e.BGSOUND,P.BGSOUND],[_e.BIG,P.BIG],[_e.BLOCKQUOTE,P.BLOCKQUOTE],[_e.BODY,P.BODY],[_e.BR,P.BR],[_e.BUTTON,P.BUTTON],[_e.CAPTION,P.CAPTION],[_e.CENTER,P.CENTER],[_e.CODE,P.CODE],[_e.COL,P.COL],[_e.COLGROUP,P.COLGROUP],[_e.DD,P.DD],[_e.DESC,P.DESC],[_e.DETAILS,P.DETAILS],[_e.DIALOG,P.DIALOG],[_e.DIR,P.DIR],[_e.DIV,P.DIV],[_e.DL,P.DL],[_e.DT,P.DT],[_e.EM,P.EM],[_e.EMBED,P.EMBED],[_e.FIELDSET,P.FIELDSET],[_e.FIGCAPTION,P.FIGCAPTION],[_e.FIGURE,P.FIGURE],[_e.FONT,P.FONT],[_e.FOOTER,P.FOOTER],[_e.FOREIGN_OBJECT,P.FOREIGN_OBJECT],[_e.FORM,P.FORM],[_e.FRAME,P.FRAME],[_e.FRAMESET,P.FRAMESET],[_e.H1,P.H1],[_e.H2,P.H2],[_e.H3,P.H3],[_e.H4,P.H4],[_e.H5,P.H5],[_e.H6,P.H6],[_e.HEAD,P.HEAD],[_e.HEADER,P.HEADER],[_e.HGROUP,P.HGROUP],[_e.HR,P.HR],[_e.HTML,P.HTML],[_e.I,P.I],[_e.IMG,P.IMG],[_e.IMAGE,P.IMAGE],[_e.INPUT,P.INPUT],[_e.IFRAME,P.IFRAME],[_e.KEYGEN,P.KEYGEN],[_e.LABEL,P.LABEL],[_e.LI,P.LI],[_e.LINK,P.LINK],[_e.LISTING,P.LISTING],[_e.MAIN,P.MAIN],[_e.MALIGNMARK,P.MALIGNMARK],[_e.MARQUEE,P.MARQUEE],[_e.MATH,P.MATH],[_e.MENU,P.MENU],[_e.META,P.META],[_e.MGLYPH,P.MGLYPH],[_e.MI,P.MI],[_e.MO,P.MO],[_e.MN,P.MN],[_e.MS,P.MS],[_e.MTEXT,P.MTEXT],[_e.NAV,P.NAV],[_e.NOBR,P.NOBR],[_e.NOFRAMES,P.NOFRAMES],[_e.NOEMBED,P.NOEMBED],[_e.NOSCRIPT,P.NOSCRIPT],[_e.OBJECT,P.OBJECT],[_e.OL,P.OL],[_e.OPTGROUP,P.OPTGROUP],[_e.OPTION,P.OPTION],[_e.P,P.P],[_e.PARAM,P.PARAM],[_e.PLAINTEXT,P.PLAINTEXT],[_e.PRE,P.PRE],[_e.RB,P.RB],[_e.RP,P.RP],[_e.RT,P.RT],[_e.RTC,P.RTC],[_e.RUBY,P.RUBY],[_e.S,P.S],[_e.SCRIPT,P.SCRIPT],[_e.SEARCH,P.SEARCH],[_e.SECTION,P.SECTION],[_e.SELECT,P.SELECT],[_e.SOURCE,P.SOURCE],[_e.SMALL,P.SMALL],[_e.SPAN,P.SPAN],[_e.STRIKE,P.STRIKE],[_e.STRONG,P.STRONG],[_e.STYLE,P.STYLE],[_e.SUB,P.SUB],[_e.SUMMARY,P.SUMMARY],[_e.SUP,P.SUP],[_e.TABLE,P.TABLE],[_e.TBODY,P.TBODY],[_e.TEMPLATE,P.TEMPLATE],[_e.TEXTAREA,P.TEXTAREA],[_e.TFOOT,P.TFOOT],[_e.TD,P.TD],[_e.TH,P.TH],[_e.THEAD,P.THEAD],[_e.TITLE,P.TITLE],[_e.TR,P.TR],[_e.TRACK,P.TRACK],[_e.TT,P.TT],[_e.U,P.U],[_e.UL,P.UL],[_e.SVG,P.SVG],[_e.VAR,P.VAR],[_e.WBR,P.WBR],[_e.XMP,P.XMP]]);function ZD(e){var t;return(t=R8e.get(e))!==null&&t!==void 0?t:P.UNKNOWN}const rt=P,I8e={[tt.HTML]:new Set([rt.ADDRESS,rt.APPLET,rt.AREA,rt.ARTICLE,rt.ASIDE,rt.BASE,rt.BASEFONT,rt.BGSOUND,rt.BLOCKQUOTE,rt.BODY,rt.BR,rt.BUTTON,rt.CAPTION,rt.CENTER,rt.COL,rt.COLGROUP,rt.DD,rt.DETAILS,rt.DIR,rt.DIV,rt.DL,rt.DT,rt.EMBED,rt.FIELDSET,rt.FIGCAPTION,rt.FIGURE,rt.FOOTER,rt.FORM,rt.FRAME,rt.FRAMESET,rt.H1,rt.H2,rt.H3,rt.H4,rt.H5,rt.H6,rt.HEAD,rt.HEADER,rt.HGROUP,rt.HR,rt.HTML,rt.IFRAME,rt.IMG,rt.INPUT,rt.LI,rt.LINK,rt.LISTING,rt.MAIN,rt.MARQUEE,rt.MENU,rt.META,rt.NAV,rt.NOEMBED,rt.NOFRAMES,rt.NOSCRIPT,rt.OBJECT,rt.OL,rt.P,rt.PARAM,rt.PLAINTEXT,rt.PRE,rt.SCRIPT,rt.SECTION,rt.SELECT,rt.SOURCE,rt.STYLE,rt.SUMMARY,rt.TABLE,rt.TBODY,rt.TD,rt.TEMPLATE,rt.TEXTAREA,rt.TFOOT,rt.TH,rt.THEAD,rt.TITLE,rt.TR,rt.TRACK,rt.UL,rt.WBR,rt.XMP]),[tt.MATHML]:new Set([rt.MI,rt.MO,rt.MN,rt.MS,rt.MTEXT,rt.ANNOTATION_XML]),[tt.SVG]:new Set([rt.TITLE,rt.FOREIGN_OBJECT,rt.DESC]),[tt.XLINK]:new Set,[tt.XML]:new Set,[tt.XMLNS]:new Set},ZB=new Set([rt.H1,rt.H2,rt.H3,rt.H4,rt.H5,rt.H6]);_e.STYLE,_e.SCRIPT,_e.XMP,_e.IFRAME,_e.NOEMBED,_e.NOFRAMES,_e.PLAINTEXT;var ae;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(ae||(ae={}));const $s={DATA:ae.DATA,RCDATA:ae.RCDATA,RAWTEXT:ae.RAWTEXT,SCRIPT_DATA:ae.SCRIPT_DATA,PLAINTEXT:ae.PLAINTEXT,CDATA_SECTION:ae.CDATA_SECTION};function P8e(e){return e>=ie.DIGIT_0&&e<=ie.DIGIT_9}function oS(e){return e>=ie.LATIN_CAPITAL_A&&e<=ie.LATIN_CAPITAL_Z}function L8e(e){return e>=ie.LATIN_SMALL_A&&e<=ie.LATIN_SMALL_Z}function bp(e){return L8e(e)||oS(e)}function mY(e){return bp(e)||P8e(e)}function cA(e){return e+32}function Uue(e){return e===ie.SPACE||e===ie.LINE_FEED||e===ie.TABULATION||e===ie.FORM_FEED}function gY(e){return Uue(e)||e===ie.SOLIDUS||e===ie.GREATER_THAN_SIGN}function j8e(e){return e===ie.NULL?$e.nullCharacterReference:e>1114111?$e.characterReferenceOutsideUnicodeRange:Bue(e)?$e.surrogateCharacterReference:Hue(e)?$e.noncharacterCharacterReference:$ue(e)||e===ie.CARRIAGE_RETURN?$e.controlCharacterReference:null}class B8e{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ae.DATA,this.returnState=ae.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new S8e(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new M8e(C8e,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err($e.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err($e.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=j8e(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:lr.START_TAG,tagName:"",tagID:P.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:lr.END_TAG,tagName:"",tagID:P.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:lr.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:lr.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Fue(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err($e.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ZD(t.tagName),t.type===lr.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err($e.endTagWithAttributes),t.selfClosing&&this._err($e.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case lr.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case lr.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case lr.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:lr.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Uue(t)?lr.WHITESPACE_CHARACTER:t===ie.NULL?lr.NULL_CHARACTER:lr.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(lr.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=ae.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Of.Attribute:Of.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ae.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ae.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case ae.DATA:{this._stateData(t);break}case ae.RCDATA:{this._stateRcdata(t);break}case ae.RAWTEXT:{this._stateRawtext(t);break}case ae.SCRIPT_DATA:{this._stateScriptData(t);break}case ae.PLAINTEXT:{this._statePlaintext(t);break}case ae.TAG_OPEN:{this._stateTagOpen(t);break}case ae.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case ae.TAG_NAME:{this._stateTagName(t);break}case ae.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case ae.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case ae.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case ae.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case ae.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case ae.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case ae.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case ae.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case ae.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case ae.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case ae.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case ae.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case ae.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case ae.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case ae.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case ae.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case ae.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case ae.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case ae.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case ae.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case ae.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case ae.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case ae.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case ae.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case ae.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case ae.BOGUS_COMMENT:{this._stateBogusComment(t);break}case ae.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case ae.COMMENT_START:{this._stateCommentStart(t);break}case ae.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case ae.COMMENT:{this._stateComment(t);break}case ae.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case ae.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case ae.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case ae.COMMENT_END:{this._stateCommentEnd(t);break}case ae.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case ae.DOCTYPE:{this._stateDoctype(t);break}case ae.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case ae.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case ae.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case ae.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case ae.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case ae.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case ae.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case ae.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case ae.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case ae.CDATA_SECTION:{this._stateCdataSection(t);break}case ae.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case ae.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case ae.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case ae.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.TAG_OPEN;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitCodePoint(t);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case ie.AMPERSAND:{this._startCharacterReference();break}case ie.LESS_THAN_SIGN:{this.state=ae.RCDATA_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(gi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.RAWTEXT_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(gi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(gi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(gi);break}case ie.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(bp(t))this._createStartTagToken(),this.state=ae.TAG_NAME,this._stateTagName(t);else switch(t){case ie.EXCLAMATION_MARK:{this.state=ae.MARKUP_DECLARATION_OPEN;break}case ie.SOLIDUS:{this.state=ae.END_TAG_OPEN;break}case ie.QUESTION_MARK:{this._err($e.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t);break}case ie.EOF:{this._err($e.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err($e.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ae.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(bp(t))this._createEndTagToken(),this.state=ae.TAG_NAME,this._stateTagName(t);else switch(t){case ie.GREATER_THAN_SIGN:{this._err($e.missingEndTagName),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err($e.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.SOLIDUS:{this.state=ae.SELF_CLOSING_START_TAG;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.tagName+=gi;break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(oS(t)?cA(t):t)}}_stateRcdataLessThanSign(t){t===ie.SOLIDUS?this.state=ae.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ae.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){bp(t)?(this.state=ae.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=ae.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ae.BEFORE_ATTRIBUTE_NAME,!1;case ie.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ae.SELF_CLOSING_START_TAG,!1;case ie.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ae.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===ie.SOLIDUS?this.state=ae.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){bp(t)?(this.state=ae.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case ie.SOLIDUS:{this.state=ae.SCRIPT_DATA_END_TAG_OPEN;break}case ie.EXCLAMATION_MARK:{this.state=ae.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){bp(t)?(this.state=ae.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===ie.HYPHEN_MINUS?(this.state=ae.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===ie.HYPHEN_MINUS?(this.state=ae.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ae.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(gi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_ESCAPED,this._emitChars(gi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case ie.HYPHEN_MINUS:{this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ie.GREATER_THAN_SIGN:{this.state=ae.SCRIPT_DATA,this._emitChars(">");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_ESCAPED,this._emitChars(gi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===ie.SOLIDUS?this.state=ae.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:bp(t)?(this._emitChars("<"),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){bp(t)?(this.state=ae.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(As.SCRIPT,!1)&&gY(this.preprocessor.peek(As.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<As.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ae.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this._emitChars(gi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case ie.HYPHEN_MINUS:{this._emitChars("-");break}case ie.LESS_THAN_SIGN:{this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ie.GREATER_THAN_SIGN:{this.state=ae.SCRIPT_DATA,this._emitChars(">");break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gi);break}case ie.EOF:{this._err($e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===ie.SOLIDUS?(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(As.SCRIPT,!1)&&gY(this.preprocessor.peek(As.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<As.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ae.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ae.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.SOLIDUS:case ie.GREATER_THAN_SIGN:case ie.EOF:{this.state=ae.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ie.EQUALS_SIGN:{this._err($e.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ae.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ae.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:case ie.SOLIDUS:case ie.GREATER_THAN_SIGN:case ie.EOF:{this._leaveAttrName(),this.state=ae.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ie.EQUALS_SIGN:{this._leaveAttrName(),this.state=ae.BEFORE_ATTRIBUTE_VALUE;break}case ie.QUOTATION_MARK:case ie.APOSTROPHE:case ie.LESS_THAN_SIGN:{this._err($e.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.name+=gi;break}default:this.currentAttr.name+=String.fromCodePoint(oS(t)?cA(t):t)}}_stateAfterAttributeName(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.SOLIDUS:{this.state=ae.SELF_CLOSING_START_TAG;break}case ie.EQUALS_SIGN:{this.state=ae.BEFORE_ATTRIBUTE_VALUE;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ae.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{this.state=ae.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this.state=ae.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingAttributeValue),this.state=ae.DATA,this.emitCurrentTagToken();break}default:this.state=ae.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.value+=gi;break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.value+=gi;break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this._leaveAttrValue(),this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.AMPERSAND:{this._startCharacterReference();break}case ie.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),this.currentAttr.value+=gi;break}case ie.QUOTATION_MARK:case ie.APOSTROPHE:case ie.LESS_THAN_SIGN:case ie.EQUALS_SIGN:case ie.GRAVE_ACCENT:{this._err($e.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this._leaveAttrValue(),this.state=ae.BEFORE_ATTRIBUTE_NAME;break}case ie.SOLIDUS:{this._leaveAttrValue(),this.state=ae.SELF_CLOSING_START_TAG;break}case ie.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this._err($e.missingWhitespaceBetweenAttributes),this.state=ae.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case ie.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=ae.DATA,this.emitCurrentTagToken();break}case ie.EOF:{this._err($e.eofInTag),this._emitEOFToken();break}default:this._err($e.unexpectedSolidusInTag),this.state=ae.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.data+=gi;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(As.DASH_DASH,!0)?(this._createCommentToken(As.DASH_DASH.length+1),this.state=ae.COMMENT_START):this._consumeSequenceIfMatch(As.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(As.DOCTYPE.length+1),this.state=ae.DOCTYPE):this._consumeSequenceIfMatch(As.CDATA_START,!0)?this.inForeignNode?this.state=ae.CDATA_SECTION:(this._err($e.cdataInHtmlContent),this._createCommentToken(As.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ae.BOGUS_COMMENT):this._ensureHibernation()||(this._err($e.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ae.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_START_DASH;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptClosingOfEmptyComment),this.state=ae.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptClosingOfEmptyComment),this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ae.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END_DASH;break}case ie.LESS_THAN_SIGN:{n.data+="<",this.state=ae.COMMENT_LESS_THAN_SIGN;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.data+=gi;break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case ie.EXCLAMATION_MARK:{n.data+="!",this.state=ae.COMMENT_LESS_THAN_SIGN_BANG;break}case ie.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===ie.HYPHEN_MINUS?this.state=ae.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ae.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===ie.HYPHEN_MINUS?this.state=ae.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ae.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==ie.GREATER_THAN_SIGN&&t!==ie.EOF&&this._err($e.nestedComment),this.state=ae.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{this.state=ae.COMMENT_END;break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EXCLAMATION_MARK:{this.state=ae.COMMENT_END_BANG;break}case ie.HYPHEN_MINUS:{n.data+="-";break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=ae.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case ie.HYPHEN_MINUS:{n.data+="--!",this.state=ae.COMMENT_END_DASH;break}case ie.GREATER_THAN_SIGN:{this._err($e.incorrectlyClosedComment),this.state=ae.DATA,this.emitCurrentComment(n);break}case ie.EOF:{this._err($e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=ae.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this.state=ae.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case ie.EOF:{this._err($e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingWhitespaceBeforeDoctypeName),this.state=ae.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(oS(t))this._createDoctypeToken(String.fromCharCode(cA(t))),this.state=ae.DOCTYPE_NAME;else switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.NULL:{this._err($e.unexpectedNullCharacter),this._createDoctypeToken(gi),this.state=ae.DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=ae.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.AFTER_DOCTYPE_NAME;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.name+=gi;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(oS(t)?cA(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(As.PUBLIC,!1)?this.state=ae.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(As.SYSTEM,!1)?this.state=ae.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err($e.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.QUOTATION_MARK:{this._err($e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err($e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.publicId="",this.state=ae.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.publicId+=gi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.publicId+=gi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ie.GREATER_THAN_SIGN:{this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.QUOTATION_MARK:{this._err($e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err($e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.QUOTATION_MARK:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:{this.state=ae.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.QUOTATION_MARK:{this._err($e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{this._err($e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.QUOTATION_MARK:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ie.APOSTROPHE:{n.systemId="",this.state=ae.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ie.GREATER_THAN_SIGN:{this._err($e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.DATA,this.emitCurrentDoctype(n);break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ie.QUOTATION_MARK:{this.state=ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.systemId+=gi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ie.APOSTROPHE:{this.state=ae.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ie.NULL:{this._err($e.unexpectedNullCharacter),n.systemId+=gi;break}case ie.GREATER_THAN_SIGN:{this._err($e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ie.SPACE:case ie.LINE_FEED:case ie.TABULATION:case ie.FORM_FEED:break;case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.EOF:{this._err($e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($e.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ae.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case ie.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ae.DATA;break}case ie.NULL:{this._err($e.unexpectedNullCharacter);break}case ie.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case ie.RIGHT_SQUARE_BRACKET:{this.state=ae.CDATA_SECTION_BRACKET;break}case ie.EOF:{this._err($e.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===ie.RIGHT_SQUARE_BRACKET?this.state=ae.CDATA_SECTION_END:(this._emitChars("]"),this.state=ae.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case ie.GREATER_THAN_SIGN:{this.state=ae.DATA;break}case ie.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ae.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(ie.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&mY(this.preprocessor.peek(1))?ae.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){mY(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===ie.SEMICOLON&&this._err($e.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const zue=new Set([P.DD,P.DT,P.LI,P.OPTGROUP,P.OPTION,P.P,P.RB,P.RP,P.RT,P.RTC]),yY=new Set([...zue,P.CAPTION,P.COLGROUP,P.TBODY,P.TD,P.TFOOT,P.TH,P.THEAD,P.TR]),xN=new Set([P.APPLET,P.CAPTION,P.HTML,P.MARQUEE,P.OBJECT,P.TABLE,P.TD,P.TEMPLATE,P.TH]),$8e=new Set([...xN,P.OL,P.UL]),H8e=new Set([...xN,P.BUTTON]),bY=new Set([P.ANNOTATION_XML,P.MI,P.MN,P.MO,P.MS,P.MTEXT]),vY=new Set([P.DESC,P.FOREIGN_OBJECT,P.TITLE]),F8e=new Set([P.TR,P.TEMPLATE,P.HTML]),U8e=new Set([P.TBODY,P.TFOOT,P.THEAD,P.TEMPLATE,P.HTML]),z8e=new Set([P.TABLE,P.TEMPLATE,P.HTML]),V8e=new Set([P.TD,P.TH]);class q8e{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=P.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===P.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===tt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==tt.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(ZB,tt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(V8e,tt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(z8e,tt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(U8e,tt.HTML)}clearBackToTableRowContext(){this.clearBackTo(F8e,tt.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===P.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===P.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case tt.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case tt.SVG:{if(vY.has(i))return!1;break}case tt.MATHML:{if(bY.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,xN)}hasInListItemScope(t){return this.hasInDynamicScope(t,$8e)}hasInButtonScope(t){return this.hasInDynamicScope(t,H8e)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case tt.HTML:{if(ZB.has(n))return!0;if(xN.has(n))return!1;break}case tt.SVG:{if(vY.has(n))return!1;break}case tt.MATHML:{if(bY.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===tt.HTML)switch(this.tagIDs[n]){case t:return!0;case P.TABLE:case P.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===tt.HTML)switch(this.tagIDs[t]){case P.TBODY:case P.THEAD:case P.TFOOT:return!0;case P.TABLE:case P.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===tt.HTML)switch(this.tagIDs[n]){case t:return!0;case P.OPTION:case P.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&zue.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&yY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&yY.has(this.currentTagId);)this.pop()}}const DP=3;var pd;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(pd||(pd={}));const xY={type:pd.Marker};class W8e{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let s=0;s<this.entries.length;s++){const l=this.entries[s];if(l.type===pd.Marker)break;const{element:c}=l;if(this.treeAdapter.getTagName(c)===o&&this.treeAdapter.getNamespaceURI(c)===a){const d=this.treeAdapter.getAttrList(c);d.length===i&&r.push({idx:s,attrs:d})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<DP)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<DP)return;const i=new Map(n.map(a=>[a.name,a.value]));let o=0;for(let a=0;a<r.length;a++){const s=r[a];s.attrs.every(l=>i.get(l.name)===l.value)&&(o+=1,o>=DP&&this.entries.splice(s.idx,1))}}insertMarker(){this.entries.unshift(xY)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:pd.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:pd.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(xY);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===pd.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===pd.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===pd.Element&&n.element===t)}}const vp={createDocument(){return{nodeName:"#document",mode:oc.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};vp.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(vp.isTextNode(n)){n.value+=t;return}}vp.appendChild(e,vp.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&vp.isTextNode(r)?r.value+=t:vp.insertBefore(e,vp.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Vue="html",Y8e="about:legacy-compat",G8e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",que=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],K8e=[...que,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],X8e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Wue=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Z8e=[...Wue,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function wY(e,t){return t.some(n=>e.startsWith(n))}function Q8e(e){return e.name===Vue&&e.publicId===null&&(e.systemId===null||e.systemId===Y8e)}function J8e(e){if(e.name!==Vue)return oc.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===G8e)return oc.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),X8e.has(n))return oc.QUIRKS;let r=t===null?K8e:que;if(wY(n,r))return oc.QUIRKS;if(r=t===null?Wue:Z8e,wY(n,r))return oc.LIMITED_QUIRKS}return oc.NO_QUIRKS}const EY={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},e$e="definitionurl",t$e="definitionURL",n$e=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),r$e=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:tt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:tt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:tt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:tt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:tt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:tt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:tt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:tt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:tt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:tt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:tt.XMLNS}]]),i$e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),o$e=new Set([P.B,P.BIG,P.BLOCKQUOTE,P.BODY,P.BR,P.CENTER,P.CODE,P.DD,P.DIV,P.DL,P.DT,P.EM,P.EMBED,P.H1,P.H2,P.H3,P.H4,P.H5,P.H6,P.HEAD,P.HR,P.I,P.IMG,P.LI,P.LISTING,P.MENU,P.META,P.NOBR,P.OL,P.P,P.PRE,P.RUBY,P.S,P.SMALL,P.SPAN,P.STRONG,P.STRIKE,P.SUB,P.SUP,P.TABLE,P.TT,P.U,P.UL,P.VAR]);function a$e(e){const t=e.tagID;return t===P.FONT&&e.attrs.some(({name:r})=>r===b0.COLOR||r===b0.SIZE||r===b0.FACE)||o$e.has(t)}function Yue(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===e$e){e.attrs[t].name=t$e;break}}function Gue(e){for(let t=0;t<e.attrs.length;t++){const n=n$e.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function AF(e){for(let t=0;t<e.attrs.length;t++){const n=r$e.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function s$e(e){const t=i$e.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=ZD(e.tagName))}function l$e(e,t){return t===tt.MATHML&&(e===P.MI||e===P.MO||e===P.MN||e===P.MS||e===P.MTEXT)}function c$e(e,t,n){if(t===tt.MATHML&&e===P.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===b0.ENCODING){const i=n[r].value.toLowerCase();return i===EY.TEXT_HTML||i===EY.APPLICATION_XML}}return t===tt.SVG&&(e===P.FOREIGN_OBJECT||e===P.DESC||e===P.TITLE)}function u$e(e,t,n,r){return(!r||r===tt.HTML)&&c$e(e,t,n)||(!r||r===tt.MATHML)&&l$e(e,t)}const d$e="hidden",f$e=8,h$e=3;var ue;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(ue||(ue={}));const p$e={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Kue=new Set([P.TABLE,P.TBODY,P.TFOOT,P.THEAD,P.TR]),SY={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:vp,onParseError:null};class Xue{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=ue.INITIAL,this.originalInsertionMode=ue.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...SY,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new B8e(this.options,this),this.activeFormattingElements=new W8e(this.treeAdapter),this.fragmentContextID=r?ZD(this.treeAdapter.getTagName(r)):P.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new q8e(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...SY,...n};t??(t=r.treeAdapter.createElement(_e.TEMPLATE,tt.HTML,[]));const i=r.treeAdapter.createElement("documentmock",tt.HTML,[]),o=new this(r,i,t);return o.fragmentContextID===P.TEMPLATE&&o.tmplInsertionModeStack.unshift(ue.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:p$e,a={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(a)}onItemPush(t,n,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let o,a;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,a=this.fragmentContextID):{current:o,currentTagId:a}=this.openElements,this._setContextModes(o,a)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===tt.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,tt.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=ue.TEXT}switchToPlaintextParsing(){this.insertionMode=ue.TEXT,this.originalInsertionMode=ue.IN_BODY,this.tokenizer.state=$s.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===_e.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==tt.HTML))switch(this.fragmentContextID){case P.TITLE:case P.TEXTAREA:{this.tokenizer.state=$s.RCDATA;break}case P.STYLE:case P.XMP:case P.IFRAME:case P.NOEMBED:case P.NOFRAMES:case P.NOSCRIPT:{this.tokenizer.state=$s.RAWTEXT;break}case P.SCRIPT:{this.tokenizer.state=$s.SCRIPT_DATA;break}case P.PLAINTEXT:{this.tokenizer.state=$s.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(s=>this.treeAdapter.isDocumentTypeNode(s));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,tt.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,tt.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(_e.HTML,tt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,P.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),o=r?i.lastIndexOf(r):i.length,a=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:c,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:c,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),o=n.type===lr.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===P.SVG&&this.treeAdapter.getTagName(n)===_e.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===tt.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===P.MGLYPH||t.tagID===P.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,tt.HTML)}_processToken(t){switch(t.type){case lr.CHARACTER:{this.onCharacter(t);break}case lr.NULL_CHARACTER:{this.onNullCharacter(t);break}case lr.COMMENT:{this.onComment(t);break}case lr.DOCTYPE:{this.onDoctype(t);break}case lr.START_TAG:{this._processStartTag(t);break}case lr.END_TAG:{this.onEndTag(t);break}case lr.EOF:{this.onEof(t);break}case lr.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return u$e(t,i,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===pd.Marker||this.openElements.contains(i.element)),r=n===-1?t-1:n-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ue.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(P.P),this.openElements.popUntilTagNamePopped(P.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case P.TR:{this.insertionMode=ue.IN_ROW;return}case P.TBODY:case P.THEAD:case P.TFOOT:{this.insertionMode=ue.IN_TABLE_BODY;return}case P.CAPTION:{this.insertionMode=ue.IN_CAPTION;return}case P.COLGROUP:{this.insertionMode=ue.IN_COLUMN_GROUP;return}case P.TABLE:{this.insertionMode=ue.IN_TABLE;return}case P.BODY:{this.insertionMode=ue.IN_BODY;return}case P.FRAMESET:{this.insertionMode=ue.IN_FRAMESET;return}case P.SELECT:{this._resetInsertionModeForSelect(t);return}case P.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case P.HTML:{this.insertionMode=this.headElement?ue.AFTER_HEAD:ue.BEFORE_HEAD;return}case P.TD:case P.TH:{if(t>0){this.insertionMode=ue.IN_CELL;return}break}case P.HEAD:{if(t>0){this.insertionMode=ue.IN_HEAD;return}break}}this.insertionMode=ue.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===P.TEMPLATE)break;if(r===P.TABLE){this.insertionMode=ue.IN_SELECT_IN_TABLE;return}}this.insertionMode=ue.IN_SELECT}_isElementCausesFosterParenting(t){return Kue.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case P.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===tt.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case P.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return I8e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){VHe(this,t);return}switch(this.insertionMode){case ue.INITIAL:{RE(this,t);break}case ue.BEFORE_HTML:{kS(this,t);break}case ue.BEFORE_HEAD:{_S(this,t);break}case ue.IN_HEAD:{AS(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{OS(this,t);break}case ue.AFTER_HEAD:{NS(this,t);break}case ue.IN_BODY:case ue.IN_CAPTION:case ue.IN_CELL:case ue.IN_TEMPLATE:{Que(this,t);break}case ue.TEXT:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{RP(this,t);break}case ue.IN_TABLE_TEXT:{ide(this,t);break}case ue.IN_COLUMN_GROUP:{wN(this,t);break}case ue.AFTER_BODY:{EN(this,t);break}case ue.AFTER_AFTER_BODY:{rO(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){zHe(this,t);return}switch(this.insertionMode){case ue.INITIAL:{RE(this,t);break}case ue.BEFORE_HTML:{kS(this,t);break}case ue.BEFORE_HEAD:{_S(this,t);break}case ue.IN_HEAD:{AS(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{OS(this,t);break}case ue.AFTER_HEAD:{NS(this,t);break}case ue.TEXT:{this._insertCharacters(t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{RP(this,t);break}case ue.IN_COLUMN_GROUP:{wN(this,t);break}case ue.AFTER_BODY:{EN(this,t);break}case ue.AFTER_AFTER_BODY:{rO(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){QB(this,t);return}switch(this.insertionMode){case ue.INITIAL:case ue.BEFORE_HTML:case ue.BEFORE_HEAD:case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:case ue.IN_BODY:case ue.IN_TABLE:case ue.IN_CAPTION:case ue.IN_COLUMN_GROUP:case ue.IN_TABLE_BODY:case ue.IN_ROW:case ue.IN_CELL:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:case ue.IN_TEMPLATE:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:{QB(this,t);break}case ue.IN_TABLE_TEXT:{IE(this,t);break}case ue.AFTER_BODY:{w$e(this,t);break}case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{E$e(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case ue.INITIAL:{S$e(this,t);break}case ue.BEFORE_HEAD:case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:{this._err(t,$e.misplacedDoctype);break}case ue.IN_TABLE_TEXT:{IE(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,$e.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?qHe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case ue.INITIAL:{RE(this,t);break}case ue.BEFORE_HTML:{C$e(this,t);break}case ue.BEFORE_HEAD:{k$e(this,t);break}case ue.IN_HEAD:{ku(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{O$e(this,t);break}case ue.AFTER_HEAD:{M$e(this,t);break}case ue.IN_BODY:{Oa(this,t);break}case ue.IN_TABLE:{b1(this,t);break}case ue.IN_TABLE_TEXT:{IE(this,t);break}case ue.IN_CAPTION:{_He(this,t);break}case ue.IN_COLUMN_GROUP:{MF(this,t);break}case ue.IN_TABLE_BODY:{eR(this,t);break}case ue.IN_ROW:{tR(this,t);break}case ue.IN_CELL:{NHe(this,t);break}case ue.IN_SELECT:{sde(this,t);break}case ue.IN_SELECT_IN_TABLE:{DHe(this,t);break}case ue.IN_TEMPLATE:{IHe(this,t);break}case ue.AFTER_BODY:{LHe(this,t);break}case ue.IN_FRAMESET:{jHe(this,t);break}case ue.AFTER_FRAMESET:{$He(this,t);break}case ue.AFTER_AFTER_BODY:{FHe(this,t);break}case ue.AFTER_AFTER_FRAMESET:{UHe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?WHe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case ue.INITIAL:{RE(this,t);break}case ue.BEFORE_HTML:{T$e(this,t);break}case ue.BEFORE_HEAD:{_$e(this,t);break}case ue.IN_HEAD:{A$e(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{N$e(this,t);break}case ue.AFTER_HEAD:{D$e(this,t);break}case ue.IN_BODY:{JD(this,t);break}case ue.TEXT:{yHe(this,t);break}case ue.IN_TABLE:{EC(this,t);break}case ue.IN_TABLE_TEXT:{IE(this,t);break}case ue.IN_CAPTION:{AHe(this,t);break}case ue.IN_COLUMN_GROUP:{OHe(this,t);break}case ue.IN_TABLE_BODY:{JB(this,t);break}case ue.IN_ROW:{ade(this,t);break}case ue.IN_CELL:{MHe(this,t);break}case ue.IN_SELECT:{lde(this,t);break}case ue.IN_SELECT_IN_TABLE:{RHe(this,t);break}case ue.IN_TEMPLATE:{PHe(this,t);break}case ue.AFTER_BODY:{ude(this,t);break}case ue.IN_FRAMESET:{BHe(this,t);break}case ue.AFTER_FRAMESET:{HHe(this,t);break}case ue.AFTER_AFTER_BODY:{rO(this,t);break}}}onEof(t){switch(this.insertionMode){case ue.INITIAL:{RE(this,t);break}case ue.BEFORE_HTML:{kS(this,t);break}case ue.BEFORE_HEAD:{_S(this,t);break}case ue.IN_HEAD:{AS(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{OS(this,t);break}case ue.AFTER_HEAD:{NS(this,t);break}case ue.IN_BODY:case ue.IN_TABLE:case ue.IN_CAPTION:case ue.IN_COLUMN_GROUP:case ue.IN_TABLE_BODY:case ue.IN_ROW:case ue.IN_CELL:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:{nde(this,t);break}case ue.TEXT:{bHe(this,t);break}case ue.IN_TABLE_TEXT:{IE(this,t);break}case ue.IN_TEMPLATE:{cde(this,t);break}case ue.AFTER_BODY:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{NF(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===ie.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:case ue.TEXT:case ue.IN_COLUMN_GROUP:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:{this._insertCharacters(t);break}case ue.IN_BODY:case ue.IN_CAPTION:case ue.IN_CELL:case ue.IN_TEMPLATE:case ue.AFTER_BODY:case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{Zue(this,t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{RP(this,t);break}case ue.IN_TABLE_TEXT:{rde(this,t);break}}}}function m$e(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):tde(e,t),n}function g$e(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function y$e(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,a=i;a!==n;o++,a=i){i=e.openElements.getCommonAncestor(a);const s=e.activeFormattingElements.getElementEntry(a),l=s&&o>=h$e;!s||l?(l&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(a)):(a=b$e(e,s),r===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function b$e(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function v$e(e,t,n){const r=e.treeAdapter.getTagName(t),i=ZD(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);i===P.TEMPLATE&&o===tt.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function x$e(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function OF(e,t){for(let n=0;n<f$e;n++){const r=m$e(e,t);if(!r)break;const i=g$e(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const o=y$e(e,i,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),a&&v$e(e,a,o),x$e(e,i,r)}}function QB(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function w$e(e,t){e._appendCommentNode(t,e.openElements.items[0])}function E$e(e,t){e._appendCommentNode(t,e.document)}function NF(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(o);a&&!a.endTag&&e._setEndLocation(o,t)}}}}function S$e(e,t){e._setDocumentType(t);const n=t.forceQuirks?oc.QUIRKS:J8e(t);Q8e(t)||e._err(t,$e.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=ue.BEFORE_HTML}function RE(e,t){e._err(t,$e.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,oc.QUIRKS),e.insertionMode=ue.BEFORE_HTML,e._processToken(t)}function C$e(e,t){t.tagID===P.HTML?(e._insertElement(t,tt.HTML),e.insertionMode=ue.BEFORE_HEAD):kS(e,t)}function T$e(e,t){const n=t.tagID;(n===P.HTML||n===P.HEAD||n===P.BODY||n===P.BR)&&kS(e,t)}function kS(e,t){e._insertFakeRootElement(),e.insertionMode=ue.BEFORE_HEAD,e._processToken(t)}function k$e(e,t){switch(t.tagID){case P.HTML:{Oa(e,t);break}case P.HEAD:{e._insertElement(t,tt.HTML),e.headElement=e.openElements.current,e.insertionMode=ue.IN_HEAD;break}default:_S(e,t)}}function _$e(e,t){const n=t.tagID;n===P.HEAD||n===P.BODY||n===P.HTML||n===P.BR?_S(e,t):e._err(t,$e.endTagWithoutMatchingOpenElement)}function _S(e,t){e._insertFakeElement(_e.HEAD,P.HEAD),e.headElement=e.openElements.current,e.insertionMode=ue.IN_HEAD,e._processToken(t)}function ku(e,t){switch(t.tagID){case P.HTML:{Oa(e,t);break}case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:{e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.TITLE:{e._switchToTextParsing(t,$s.RCDATA);break}case P.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,$s.RAWTEXT):(e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_HEAD_NO_SCRIPT);break}case P.NOFRAMES:case P.STYLE:{e._switchToTextParsing(t,$s.RAWTEXT);break}case P.SCRIPT:{e._switchToTextParsing(t,$s.SCRIPT_DATA);break}case P.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ue.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ue.IN_TEMPLATE);break}case P.HEAD:{e._err(t,$e.misplacedStartTagForHeadElement);break}default:AS(e,t)}}function A$e(e,t){switch(t.tagID){case P.HEAD:{e.openElements.pop(),e.insertionMode=ue.AFTER_HEAD;break}case P.BODY:case P.BR:case P.HTML:{AS(e,t);break}case P.TEMPLATE:{ly(e,t);break}default:e._err(t,$e.endTagWithoutMatchingOpenElement)}}function ly(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==P.TEMPLATE&&e._err(t,$e.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(P.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,$e.endTagWithoutMatchingOpenElement)}function AS(e,t){e.openElements.pop(),e.insertionMode=ue.AFTER_HEAD,e._processToken(t)}function O$e(e,t){switch(t.tagID){case P.HTML:{Oa(e,t);break}case P.BASEFONT:case P.BGSOUND:case P.HEAD:case P.LINK:case P.META:case P.NOFRAMES:case P.STYLE:{ku(e,t);break}case P.NOSCRIPT:{e._err(t,$e.nestedNoscriptInHead);break}default:OS(e,t)}}function N$e(e,t){switch(t.tagID){case P.NOSCRIPT:{e.openElements.pop(),e.insertionMode=ue.IN_HEAD;break}case P.BR:{OS(e,t);break}default:e._err(t,$e.endTagWithoutMatchingOpenElement)}}function OS(e,t){const n=t.type===lr.EOF?$e.openElementsLeftAfterEof:$e.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=ue.IN_HEAD,e._processToken(t)}function M$e(e,t){switch(t.tagID){case P.HTML:{Oa(e,t);break}case P.BODY:{e._insertElement(t,tt.HTML),e.framesetOk=!1,e.insertionMode=ue.IN_BODY;break}case P.FRAMESET:{e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_FRAMESET;break}case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:case P.NOFRAMES:case P.SCRIPT:case P.STYLE:case P.TEMPLATE:case P.TITLE:{e._err(t,$e.abandonedHeadElementChild),e.openElements.push(e.headElement,P.HEAD),ku(e,t),e.openElements.remove(e.headElement);break}case P.HEAD:{e._err(t,$e.misplacedStartTagForHeadElement);break}default:NS(e,t)}}function D$e(e,t){switch(t.tagID){case P.BODY:case P.HTML:case P.BR:{NS(e,t);break}case P.TEMPLATE:{ly(e,t);break}default:e._err(t,$e.endTagWithoutMatchingOpenElement)}}function NS(e,t){e._insertFakeElement(_e.BODY,P.BODY),e.insertionMode=ue.IN_BODY,QD(e,t)}function QD(e,t){switch(t.type){case lr.CHARACTER:{Que(e,t);break}case lr.WHITESPACE_CHARACTER:{Zue(e,t);break}case lr.COMMENT:{QB(e,t);break}case lr.START_TAG:{Oa(e,t);break}case lr.END_TAG:{JD(e,t);break}case lr.EOF:{nde(e,t);break}}}function Zue(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Que(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function R$e(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function I$e(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function P$e(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_FRAMESET)}function L$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML)}function j$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&ZB.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,tt.HTML)}function B$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function $$e(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),n||(e.formElement=e.openElements.current))}function H$e(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===P.LI&&i===P.LI||(n===P.DD||n===P.DT)&&(i===P.DD||i===P.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==P.ADDRESS&&i!==P.DIV&&i!==P.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML)}function F$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),e.tokenizer.state=$s.PLAINTEXT}function U$e(e,t){e.openElements.hasInScope(P.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.framesetOk=!1}function z$e(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(_e.A);n&&(OF(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function V$e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function q$e(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(P.NOBR)&&(OF(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,tt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function W$e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Y$e(e,t){e.treeAdapter.getDocumentMode(e.document)!==oc.QUIRKS&&e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,tt.HTML),e.framesetOk=!1,e.insertionMode=ue.IN_TABLE}function Jue(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,tt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function ede(e){const t=Fue(e,b0.TYPE);return t!=null&&t.toLowerCase()===d$e}function G$e(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,tt.HTML),ede(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function K$e(e,t){e._appendElement(t,tt.HTML),t.ackSelfClosing=!0}function X$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._appendElement(t,tt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Z$e(e,t){t.tagName=_e.IMG,t.tagID=P.IMG,Jue(e,t)}function Q$e(e,t){e._insertElement(t,tt.HTML),e.skipNextNewLine=!0,e.tokenizer.state=$s.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ue.TEXT}function J$e(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,$s.RAWTEXT)}function eHe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,$s.RAWTEXT)}function CY(e,t){e._switchToTextParsing(t,$s.RAWTEXT)}function tHe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ue.IN_TABLE||e.insertionMode===ue.IN_CAPTION||e.insertionMode===ue.IN_TABLE_BODY||e.insertionMode===ue.IN_ROW||e.insertionMode===ue.IN_CELL?ue.IN_SELECT_IN_TABLE:ue.IN_SELECT}function nHe(e,t){e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML)}function rHe(e,t){e.openElements.hasInScope(P.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,tt.HTML)}function iHe(e,t){e.openElements.hasInScope(P.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(P.RTC),e._insertElement(t,tt.HTML)}function oHe(e,t){e._reconstructActiveFormattingElements(),Yue(t),AF(t),t.selfClosing?e._appendElement(t,tt.MATHML):e._insertElement(t,tt.MATHML),t.ackSelfClosing=!0}function aHe(e,t){e._reconstructActiveFormattingElements(),Gue(t),AF(t),t.selfClosing?e._appendElement(t,tt.SVG):e._insertElement(t,tt.SVG),t.ackSelfClosing=!0}function TY(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,tt.HTML)}function Oa(e,t){switch(t.tagID){case P.I:case P.S:case P.B:case P.U:case P.EM:case P.TT:case P.BIG:case P.CODE:case P.FONT:case P.SMALL:case P.STRIKE:case P.STRONG:{V$e(e,t);break}case P.A:{z$e(e,t);break}case P.H1:case P.H2:case P.H3:case P.H4:case P.H5:case P.H6:{j$e(e,t);break}case P.P:case P.DL:case P.OL:case P.UL:case P.DIV:case P.DIR:case P.NAV:case P.MAIN:case P.MENU:case P.ASIDE:case P.CENTER:case P.FIGURE:case P.FOOTER:case P.HEADER:case P.HGROUP:case P.DIALOG:case P.DETAILS:case P.ADDRESS:case P.ARTICLE:case P.SEARCH:case P.SECTION:case P.SUMMARY:case P.FIELDSET:case P.BLOCKQUOTE:case P.FIGCAPTION:{L$e(e,t);break}case P.LI:case P.DD:case P.DT:{H$e(e,t);break}case P.BR:case P.IMG:case P.WBR:case P.AREA:case P.EMBED:case P.KEYGEN:{Jue(e,t);break}case P.HR:{X$e(e,t);break}case P.RB:case P.RTC:{rHe(e,t);break}case P.RT:case P.RP:{iHe(e,t);break}case P.PRE:case P.LISTING:{B$e(e,t);break}case P.XMP:{J$e(e,t);break}case P.SVG:{aHe(e,t);break}case P.HTML:{R$e(e,t);break}case P.BASE:case P.LINK:case P.META:case P.STYLE:case P.TITLE:case P.SCRIPT:case P.BGSOUND:case P.BASEFONT:case P.TEMPLATE:{ku(e,t);break}case P.BODY:{I$e(e,t);break}case P.FORM:{$$e(e,t);break}case P.NOBR:{q$e(e,t);break}case P.MATH:{oHe(e,t);break}case P.TABLE:{Y$e(e,t);break}case P.INPUT:{G$e(e,t);break}case P.PARAM:case P.TRACK:case P.SOURCE:{K$e(e,t);break}case P.IMAGE:{Z$e(e,t);break}case P.BUTTON:{U$e(e,t);break}case P.APPLET:case P.OBJECT:case P.MARQUEE:{W$e(e,t);break}case P.IFRAME:{eHe(e,t);break}case P.SELECT:{tHe(e,t);break}case P.OPTION:case P.OPTGROUP:{nHe(e,t);break}case P.NOEMBED:case P.NOFRAMES:{CY(e,t);break}case P.FRAMESET:{P$e(e,t);break}case P.TEXTAREA:{Q$e(e,t);break}case P.NOSCRIPT:{e.options.scriptingEnabled?CY(e,t):TY(e,t);break}case P.PLAINTEXT:{F$e(e,t);break}case P.COL:case P.TH:case P.TD:case P.TR:case P.HEAD:case P.FRAME:case P.TBODY:case P.TFOOT:case P.THEAD:case P.CAPTION:case P.COLGROUP:break;default:TY(e,t)}}function sHe(e,t){if(e.openElements.hasInScope(P.BODY)&&(e.insertionMode=ue.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function lHe(e,t){e.openElements.hasInScope(P.BODY)&&(e.insertionMode=ue.AFTER_BODY,ude(e,t))}function cHe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function uHe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(P.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(P.FORM):n&&e.openElements.remove(n))}function dHe(e){e.openElements.hasInButtonScope(P.P)||e._insertFakeElement(_e.P,P.P),e._closePElement()}function fHe(e){e.openElements.hasInListItemScope(P.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(P.LI),e.openElements.popUntilTagNamePopped(P.LI))}function hHe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function pHe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function mHe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function gHe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(_e.BR,P.BR),e.openElements.pop(),e.framesetOk=!1}function tde(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],a=e.openElements.tagIDs[i];if(r===a&&(r!==P.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,a))break}}function JD(e,t){switch(t.tagID){case P.A:case P.B:case P.I:case P.S:case P.U:case P.EM:case P.TT:case P.BIG:case P.CODE:case P.FONT:case P.NOBR:case P.SMALL:case P.STRIKE:case P.STRONG:{OF(e,t);break}case P.P:{dHe(e);break}case P.DL:case P.UL:case P.OL:case P.DIR:case P.DIV:case P.NAV:case P.PRE:case P.MAIN:case P.MENU:case P.ASIDE:case P.BUTTON:case P.CENTER:case P.FIGURE:case P.FOOTER:case P.HEADER:case P.HGROUP:case P.DIALOG:case P.ADDRESS:case P.ARTICLE:case P.DETAILS:case P.SEARCH:case P.SECTION:case P.SUMMARY:case P.LISTING:case P.FIELDSET:case P.BLOCKQUOTE:case P.FIGCAPTION:{cHe(e,t);break}case P.LI:{fHe(e);break}case P.DD:case P.DT:{hHe(e,t);break}case P.H1:case P.H2:case P.H3:case P.H4:case P.H5:case P.H6:{pHe(e);break}case P.BR:{gHe(e);break}case P.BODY:{sHe(e,t);break}case P.HTML:{lHe(e,t);break}case P.FORM:{uHe(e);break}case P.APPLET:case P.OBJECT:case P.MARQUEE:{mHe(e,t);break}case P.TEMPLATE:{ly(e,t);break}default:tde(e,t)}}function nde(e,t){e.tmplInsertionModeStack.length>0?cde(e,t):NF(e,t)}function yHe(e,t){var n;t.tagID===P.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function bHe(e,t){e._err(t,$e.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function RP(e,t){if(e.openElements.currentTagId!==void 0&&Kue.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ue.IN_TABLE_TEXT,t.type){case lr.CHARACTER:{ide(e,t);break}case lr.WHITESPACE_CHARACTER:{rde(e,t);break}}else YT(e,t)}function vHe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_CAPTION}function xHe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_COLUMN_GROUP}function wHe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(_e.COLGROUP,P.COLGROUP),e.insertionMode=ue.IN_COLUMN_GROUP,MF(e,t)}function EHe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_TABLE_BODY}function SHe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(_e.TBODY,P.TBODY),e.insertionMode=ue.IN_TABLE_BODY,eR(e,t)}function CHe(e,t){e.openElements.hasInTableScope(P.TABLE)&&(e.openElements.popUntilTagNamePopped(P.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function THe(e,t){ede(t)?e._appendElement(t,tt.HTML):YT(e,t),t.ackSelfClosing=!0}function kHe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,tt.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function b1(e,t){switch(t.tagID){case P.TD:case P.TH:case P.TR:{SHe(e,t);break}case P.STYLE:case P.SCRIPT:case P.TEMPLATE:{ku(e,t);break}case P.COL:{wHe(e,t);break}case P.FORM:{kHe(e,t);break}case P.TABLE:{CHe(e,t);break}case P.TBODY:case P.TFOOT:case P.THEAD:{EHe(e,t);break}case P.INPUT:{THe(e,t);break}case P.CAPTION:{vHe(e,t);break}case P.COLGROUP:{xHe(e,t);break}default:YT(e,t)}}function EC(e,t){switch(t.tagID){case P.TABLE:{e.openElements.hasInTableScope(P.TABLE)&&(e.openElements.popUntilTagNamePopped(P.TABLE),e._resetInsertionMode());break}case P.TEMPLATE:{ly(e,t);break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TBODY:case P.TD:case P.TFOOT:case P.TH:case P.THEAD:case P.TR:break;default:YT(e,t)}}function YT(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,QD(e,t),e.fosterParentingEnabled=n}function rde(e,t){e.pendingCharacterTokens.push(t)}function ide(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function IE(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)YT(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const ode=new Set([P.CAPTION,P.COL,P.COLGROUP,P.TBODY,P.TD,P.TFOOT,P.TH,P.THEAD,P.TR]);function _He(e,t){const n=t.tagID;ode.has(n)?e.openElements.hasInTableScope(P.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_TABLE,b1(e,t)):Oa(e,t)}function AHe(e,t){const n=t.tagID;switch(n){case P.CAPTION:case P.TABLE:{e.openElements.hasInTableScope(P.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_TABLE,n===P.TABLE&&EC(e,t));break}case P.BODY:case P.COL:case P.COLGROUP:case P.HTML:case P.TBODY:case P.TD:case P.TFOOT:case P.TH:case P.THEAD:case P.TR:break;default:JD(e,t)}}function MF(e,t){switch(t.tagID){case P.HTML:{Oa(e,t);break}case P.COL:{e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.TEMPLATE:{ku(e,t);break}default:wN(e,t)}}function OHe(e,t){switch(t.tagID){case P.COLGROUP:{e.openElements.currentTagId===P.COLGROUP&&(e.openElements.pop(),e.insertionMode=ue.IN_TABLE);break}case P.TEMPLATE:{ly(e,t);break}case P.COL:break;default:wN(e,t)}}function wN(e,t){e.openElements.currentTagId===P.COLGROUP&&(e.openElements.pop(),e.insertionMode=ue.IN_TABLE,e._processToken(t))}function eR(e,t){switch(t.tagID){case P.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_ROW;break}case P.TH:case P.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(_e.TR,P.TR),e.insertionMode=ue.IN_ROW,tR(e,t);break}case P.CAPTION:case P.COL:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE,b1(e,t));break}default:b1(e,t)}}function JB(e,t){const n=t.tagID;switch(t.tagID){case P.TBODY:case P.TFOOT:case P.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE);break}case P.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE,EC(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TD:case P.TH:case P.TR:break;default:EC(e,t)}}function tR(e,t){switch(t.tagID){case P.TH:case P.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,tt.HTML),e.insertionMode=ue.IN_CELL,e.activeFormattingElements.insertMarker();break}case P.CAPTION:case P.COL:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:case P.TR:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,eR(e,t));break}default:b1(e,t)}}function ade(e,t){switch(t.tagID){case P.TR:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY);break}case P.TABLE:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,JB(e,t));break}case P.TBODY:case P.TFOOT:case P.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(P.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,JB(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TD:case P.TH:break;default:EC(e,t)}}function NHe(e,t){const n=t.tagID;ode.has(n)?(e.openElements.hasInTableScope(P.TD)||e.openElements.hasInTableScope(P.TH))&&(e._closeTableCell(),tR(e,t)):Oa(e,t)}function MHe(e,t){const n=t.tagID;switch(n){case P.TD:case P.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_ROW);break}case P.TABLE:case P.TBODY:case P.TFOOT:case P.THEAD:case P.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),ade(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:break;default:JD(e,t)}}function sde(e,t){switch(t.tagID){case P.HTML:{Oa(e,t);break}case P.OPTION:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e._insertElement(t,tt.HTML);break}case P.OPTGROUP:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop(),e._insertElement(t,tt.HTML);break}case P.HR:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop(),e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.INPUT:case P.KEYGEN:case P.TEXTAREA:case P.SELECT:{e.openElements.hasInSelectScope(P.SELECT)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),t.tagID!==P.SELECT&&e._processStartTag(t));break}case P.SCRIPT:case P.TEMPLATE:{ku(e,t);break}}}function lde(e,t){switch(t.tagID){case P.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===P.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===P.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop();break}case P.OPTION:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop();break}case P.SELECT:{e.openElements.hasInSelectScope(P.SELECT)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode());break}case P.TEMPLATE:{ly(e,t);break}}}function DHe(e,t){const n=t.tagID;n===P.CAPTION||n===P.TABLE||n===P.TBODY||n===P.TFOOT||n===P.THEAD||n===P.TR||n===P.TD||n===P.TH?(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),e._processStartTag(t)):sde(e,t)}function RHe(e,t){const n=t.tagID;n===P.CAPTION||n===P.TABLE||n===P.TBODY||n===P.TFOOT||n===P.THEAD||n===P.TR||n===P.TD||n===P.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),e.onEndTag(t)):lde(e,t)}function IHe(e,t){switch(t.tagID){case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:case P.NOFRAMES:case P.SCRIPT:case P.STYLE:case P.TEMPLATE:case P.TITLE:{ku(e,t);break}case P.CAPTION:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:{e.tmplInsertionModeStack[0]=ue.IN_TABLE,e.insertionMode=ue.IN_TABLE,b1(e,t);break}case P.COL:{e.tmplInsertionModeStack[0]=ue.IN_COLUMN_GROUP,e.insertionMode=ue.IN_COLUMN_GROUP,MF(e,t);break}case P.TR:{e.tmplInsertionModeStack[0]=ue.IN_TABLE_BODY,e.insertionMode=ue.IN_TABLE_BODY,eR(e,t);break}case P.TD:case P.TH:{e.tmplInsertionModeStack[0]=ue.IN_ROW,e.insertionMode=ue.IN_ROW,tR(e,t);break}default:e.tmplInsertionModeStack[0]=ue.IN_BODY,e.insertionMode=ue.IN_BODY,Oa(e,t)}}function PHe(e,t){t.tagID===P.TEMPLATE&&ly(e,t)}function cde(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(P.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):NF(e,t)}function LHe(e,t){t.tagID===P.HTML?Oa(e,t):EN(e,t)}function ude(e,t){var n;if(t.tagID===P.HTML){if(e.fragmentContext||(e.insertionMode=ue.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===P.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else EN(e,t)}function EN(e,t){e.insertionMode=ue.IN_BODY,QD(e,t)}function jHe(e,t){switch(t.tagID){case P.HTML:{Oa(e,t);break}case P.FRAMESET:{e._insertElement(t,tt.HTML);break}case P.FRAME:{e._appendElement(t,tt.HTML),t.ackSelfClosing=!0;break}case P.NOFRAMES:{ku(e,t);break}}}function BHe(e,t){t.tagID===P.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==P.FRAMESET&&(e.insertionMode=ue.AFTER_FRAMESET))}function $He(e,t){switch(t.tagID){case P.HTML:{Oa(e,t);break}case P.NOFRAMES:{ku(e,t);break}}}function HHe(e,t){t.tagID===P.HTML&&(e.insertionMode=ue.AFTER_AFTER_FRAMESET)}function FHe(e,t){t.tagID===P.HTML?Oa(e,t):rO(e,t)}function rO(e,t){e.insertionMode=ue.IN_BODY,QD(e,t)}function UHe(e,t){switch(t.tagID){case P.HTML:{Oa(e,t);break}case P.NOFRAMES:{ku(e,t);break}}}function zHe(e,t){t.chars=gi,e._insertCharacters(t)}function VHe(e,t){e._insertCharacters(t),e.framesetOk=!1}function dde(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==tt.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function qHe(e,t){if(a$e(t))dde(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===tt.MATHML?Yue(t):r===tt.SVG&&(s$e(t),Gue(t)),AF(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function WHe(e,t){if(t.tagID===P.P||t.tagID===P.BR){dde(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===tt.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}_e.AREA,_e.BASE,_e.BASEFONT,_e.BGSOUND,_e.BR,_e.COL,_e.EMBED,_e.FRAME,_e.HR,_e.IMG,_e.INPUT,_e.KEYGEN,_e.LINK,_e.META,_e.PARAM,_e.SOURCE,_e.TRACK,_e.WBR;function YHe(e,t){return Xue.parse(e,t)}function GHe(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=Xue.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function MS(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?kY(e.position):"start"in e||"end"in e?kY(e):"line"in e||"column"in e?e8(e):""}function e8(e){return _Y(e&&e.line)+":"+_Y(e&&e.column)}function kY(e){return e8(e&&e.start)+"-"+e8(e&&e.end)}function _Y(e){return e&&typeof e=="number"?e:1}class us extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=MS(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}us.prototype.file="";us.prototype.name="";us.prototype.reason="";us.prototype.message="";us.prototype.stack="";us.prototype.column=void 0;us.prototype.line=void 0;us.prototype.ancestors=void 0;us.prototype.cause=void 0;us.prototype.fatal=void 0;us.prototype.place=void 0;us.prototype.ruleId=void 0;us.prototype.source=void 0;const ud={basename:KHe,dirname:XHe,extname:ZHe,join:QHe,sep:"/"};function KHe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');GT(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function XHe(e){if(GT(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function ZHe(e){GT(e);let t=e.length,n=-1,r=0,i=-1,o=0,a;for(;t--;){const s=e.codePointAt(t);if(s===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),s===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function QHe(...e){let t=-1,n;for(;++t<e.length;)GT(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":JHe(n)}function JHe(e){GT(e);const t=e.codePointAt(0)===47;let n=e9e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function e9e(e,t){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=e.length;){if(a<e.length)s=e.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function GT(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const t9e={cwd:n9e};function n9e(){return"/"}function t8(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function r9e(e){if(typeof e=="string")e=new URL(e);else if(!t8(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return i9e(e)}function i9e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const IP=["history","path","basename","stem","extname","dirname"];class n8{constructor(t){let n;t?t8(t)?n={path:t}:typeof t=="string"||o9e(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":t9e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<IP.length;){const o=IP[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)IP.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ud.basename(this.path):void 0}set basename(t){LP(t,"basename"),PP(t,"basename"),this.path=ud.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ud.dirname(this.path):void 0}set dirname(t){AY(this.basename,"dirname"),this.path=ud.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ud.extname(this.path):void 0}set extname(t){if(PP(t,"extname"),AY(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ud.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){t8(t)&&(t=r9e(t)),LP(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ud.basename(this.path,this.extname):void 0}set stem(t){LP(t,"stem"),PP(t,"stem"),this.path=ud.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new us(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function PP(e,t){if(e&&e.includes(ud.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ud.sep+"`")}function LP(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function AY(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function o9e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const a9e={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},s9e="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",l9e=/-[a-z]/g,c9e=/%c(?:([-+])(\d+))?/g,u9e=/%x/g,d9e={2:!0,1:!1,0:null},f9e={};function h9e(e,t){const n=t||f9e,r=n.onerror,i=e instanceof n8?e:new n8(e),o=n.fragment?GHe:YHe,a=String(i),s=o(a,{sourceCodeLocationInfo:!0,onParseError:n.onerror?l:null,scriptingEnabled:!1});return g8e(s,{file:i,space:n.space,verbose:n.verbose});function l(c){const d=c.code,u=p9e(d),p=n[u],m=p??!0,v=typeof m=="number"?m:m?1:0;if(v){const w=a9e[u],T=new us(x(w.reason),{place:{start:{line:c.startLine,column:c.startCol,offset:c.startOffset},end:{line:c.endLine,column:c.endCol,offset:c.endOffset}},ruleId:d,source:"hast-util-from-html"});i.path&&(T.file=i.path,T.name=i.path+":"+T.name),T.fatal=d9e[v],T.note=x(w.description),T.url=w.url===!1?void 0:s9e+d,r(T)}function x(w){return w.replace(c9e,T).replace(u9e,k);function T(O,I,N){const A=(N?Number.parseInt(N,10):0)*(I==="-"?-1:1),R=a.charAt(c.startOffset+A);return g9e(R)}function k(){return y9e(a.charCodeAt(c.startOffset))}}}}function p9e(e){return e.replace(l9e,m9e)}function m9e(e){return e.charAt(1).toUpperCase()}function g9e(e){return e==="`"?"` ` `":e}function y9e(e){return"0x"+e.toString(16).toUpperCase()}function b9e(e){const t=this,{emitParseErrors:n,...r}={...t.data("settings"),...e};t.parser=i;function i(o,a){return h9e(o,{...r,onerror:n?function(s){a.path&&(s.name=a.path+":"+s.name,s.file=a.path),a.messages.push(s)}:void 0})}}const fde=-1,nR=0,DS=1,SN=2,DF=3,RF=4,IF=5,PF=6,hde=7,pde=8,OY=typeof self=="object"?self:globalThis,v9e=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case nR:case fde:return n(a,i);case DS:{const s=n([],i);for(const l of a)s.push(r(l));return s}case SN:{const s=n({},i);for(const[l,c]of a)s[r(l)]=r(c);return s}case DF:return n(new Date(a),i);case RF:{const{source:s,flags:l}=a;return n(new RegExp(s,l),i)}case IF:{const s=n(new Map,i);for(const[l,c]of a)s.set(r(l),r(c));return s}case PF:{const s=n(new Set,i);for(const l of a)s.add(r(l));return s}case hde:{const{name:s,message:l}=a;return n(new OY[s](l),i)}case pde:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return n(new DataView(s),a)}}return n(new OY[o](a),i)};return r},NY=e=>v9e(new Map,e)(0),nv="",{toString:x9e}={},{keys:w9e}=Object,PE=e=>{const t=typeof e;if(t!=="object"||!e)return[nR,t];const n=x9e.call(e).slice(8,-1);switch(n){case"Array":return[DS,nv];case"Object":return[SN,nv];case"Date":return[DF,nv];case"RegExp":return[RF,nv];case"Map":return[IF,nv];case"Set":return[PF,nv];case"DataView":return[DS,n]}return n.includes("Array")?[DS,n]:n.includes("Error")?[hde,n]:[SN,n]},uA=([e,t])=>e===nR&&(t==="function"||t==="symbol"),E9e=(e,t,n,r)=>{const i=(a,s)=>{const l=r.push(a)-1;return n.set(s,l),l},o=a=>{if(n.has(a))return n.get(a);let[s,l]=PE(a);switch(s){case nR:{let d=a;switch(l){case"bigint":s=pde,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([fde],a)}return i([s,d],a)}case DS:{if(l){let p=a;return l==="DataView"?p=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(a)),i([l,[...p]],a)}const d=[],u=i([s,d],a);for(const p of a)d.push(o(p));return u}case SN:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const d=[],u=i([s,d],a);for(const p of w9e(a))(e||!uA(PE(a[p])))&&d.push([o(p),o(a[p])]);return u}case DF:return i([s,a.toISOString()],a);case RF:{const{source:d,flags:u}=a;return i([s,{source:d,flags:u}],a)}case IF:{const d=[],u=i([s,d],a);for(const[p,m]of a)(e||!(uA(PE(p))||uA(PE(m))))&&d.push([o(p),o(m)]);return u}case PF:{const d=[],u=i([s,d],a);for(const p of a)(e||!uA(PE(p)))&&d.push(o(p));return u}}const{message:c}=a;return i([s,{name:l,message:c}],a)};return o},MY=(e,{json:t,lossy:n}={})=>{const r=[];return E9e(!(t||n),!!t,new Map,r)(e),r},v1=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?NY(MY(e,t)):structuredClone(e):(e,t)=>NY(MY(e,t)),LF=(function(e,t,n,r,i){const o=_u(t);return mde(e)?o.call(i,e,n,r):!1}),_u=(function(e){if(e==null)return T9e;if(typeof e=="string")return C9e(e);if(typeof e=="object")return S9e(e);if(typeof e=="function")return jF(e);throw new Error("Expected function, string, or array as `test`")});function S9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=_u(e[n]);return jF(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function C9e(e){return jF(t);function t(n){return n.tagName===e}}function jF(e){return t;function t(n,r,i){return!!(mde(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function T9e(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function mde(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const gde=_u(function(e){return e.tagName==="audio"||e.tagName==="canvas"||e.tagName==="embed"||e.tagName==="iframe"||e.tagName==="img"||e.tagName==="math"||e.tagName==="object"||e.tagName==="picture"||e.tagName==="svg"||e.tagName==="video"}),k9e=/[ \t\n\f\r]/g;function KT(e){return typeof e=="object"?e.type==="text"?DY(e.value):!1:DY(e)}function DY(e){return e.replace(k9e,"")===""}const fx=(function(e){if(e==null)return N9e;if(typeof e=="function")return rR(e);if(typeof e=="object")return Array.isArray(e)?_9e(e):A9e(e);if(typeof e=="string")return O9e(e);throw new Error("Expected function, string, or object as test")});function _9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fx(e[n]);return rR(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function A9e(e){const t=e;return rR(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function O9e(e){return rR(t);function t(n){return n&&n.type===e}}function rR(e){return t;function t(n,r,i){return!!(M9e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function N9e(){return!0}function M9e(e){return e!==null&&typeof e=="object"&&"type"in e}const D9e=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],R9e=["button","input","select","textarea"],I9e=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],P9e={},BF=fx(["comment","doctype"]);function L9e(e,t){yde(e,{collapse:z9e((t||P9e).newlines?F9e:U9e),whitespace:"normal"})}function yde(e,t){if("children"in e){const n={...t};return(e.type==="root"||xde(e))&&(n.before=!0,n.after=!0),n.whitespace=V9e(e,t),B9e(e,n)}if(e.type==="text"){if(t.whitespace==="normal")return j9e(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{ignore:BF(e),stripAtStart:!1,remove:!1}}function j9e(e,t){const n=t.collapse(e.value),r={ignore:!1,stripAtStart:!1,remove:!1};let i=0,o=n.length;return t.before&&RY(n.charAt(0))&&i++,i!==o&&RY(n.charAt(o-1))&&(t.after?o--:r.stripAtStart=!0),i===o?r.remove=!0:e.value=n.slice(i,o),r}function B9e(e,t){let n=t.before;const r=t.after,i=e.children;let o=i.length,a=-1;for(;++a<o;){const s=yde(i[a],{...t,after:bde(i,a,r),before:n});s.remove?(i.splice(a,1),a--,o--):s.ignore||(n=s.stripAtStart),vde(i[a])&&(n=!1)}return{ignore:!1,stripAtStart:!!(n||r),remove:!1}}function bde(e,t,n){for(;++t<e.length;){const r=e[t];let i=$9e(r);if(i===void 0&&"children"in r&&!H9e(r)&&(i=bde(r.children,-1)),typeof i=="boolean")return i}return n}function $9e(e){if(e.type==="element"){if(vde(e))return!1;if(xde(e))return!0}else if(e.type==="text"){if(!KT(e))return!1}else if(!BF(e))return!1}function vde(e){return gde(e)||LF(e,R9e)}function xde(e){return LF(e,D9e)}function H9e(e){return!!(e.type==="element"&&e.properties.hidden)||BF(e)||LF(e,I9e)}function RY(e){return e===" "||e===`
`}function F9e(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function U9e(){return" "}function z9e(e){return t;function t(n){return String(n).replace(/[\t\n\v\f\r ]+/g,e)}}function V9e(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}function q9e(e){return function(t){L9e(t,e)}}const wde=[],W9e=!0,CN=!1,Ede="skip";function Sde(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=fx(i),a=r?-1:1;s(e,void 0,[])();function s(l,c,d){const u=l&&typeof l=="object"?l:{};if(typeof u.type=="string"){const m=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=wde,v,x,w;if((!t||o(l,c,d[d.length-1]||void 0))&&(m=Y9e(n(l,d)),m[0]===CN))return m;if("children"in l&&l.children){const T=l;if(T.children&&m[0]!==Ede)for(x=(r?T.children.length:-1)+a,w=d.concat(T);x>-1&&x<T.children.length;){const k=T.children[x];if(v=s(k,x,w)(),v[0]===CN)return v;x=typeof v[1]=="number"?v[1]:x+a}}return m}}}function Y9e(e){return Array.isArray(e)?e:typeof e=="number"?[W9e,e]:e==null?wde:[e]}function H0(e,t,n,r){let i,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,i=n):(o=t,a=n,i=r),Sde(e,o,s,i);function s(l,c){const d=c[c.length-1],u=d?d.children.indexOf(l):void 0;return a(l,u,d)}}const Cde=kde("end"),Tde=kde("start");function kde(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function _de(e){const t=Tde(e),n=Cde(e);if(t&&n)return{start:t,end:n}}function G9e(e,t){const n=t.properties||{},r=e.all(t),i={type:"link",url:e.resolve(String(n.href||"")||null),title:n.title?String(n.title):null,children:r};return e.patch(t,i),i}function K9e(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||void 0,e.baseFound=!0)}function X9e(e,t){const n={type:"blockquote",children:e.toFlow(e.all(t))};return e.patch(t,n),n}function Z9e(e,t){const n={type:"break"};return e.patch(t,n),n}const IY=(function(e,t,n){const r=fx(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),PY=/\n/g,LY=/[\t ]+/g,r8=_u("br"),jY=_u(iFe),Q9e=_u("p"),BY=_u("tr"),J9e=_u(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",rFe,oFe]),Ade=_u(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function XT(e,t){const n={},r="children"in e?e.children:[],i=Ade(e),o=Mde(e,{whitespace:n.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...Nde(e,{breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<r.length;)a.push(...Ode(r[s],e,{whitespace:o,breakBefore:s?void 0:i,breakAfter:s<r.length-1?r8(r[s+1]):i}));const l=[];let c;for(s=-1;++s<a.length;){const d=a[s];typeof d=="number"?c!==void 0&&d>c&&(c=d):d&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(d))}return l.join("")}function Ode(e,t,n){return e.type==="element"?eFe(e,t,n):e.type==="text"?n.whitespace==="normal"?Nde(e,n):tFe(e):[]}function eFe(e,t,n){const r=Mde(e,n),i=e.children||[];let o=-1,a=[];if(J9e(e))return a;let s,l;for(r8(e)||BY(e)&&IY(t,e,BY)?l=`
`:Q9e(e)?(s=2,l=2):Ade(e)&&(s=1,l=1);++o<i.length;)a=a.concat(Ode(i[o],e,{whitespace:r,breakBefore:o?void 0:s,breakAfter:o<i.length-1?r8(i[o+1]):l}));return jY(e)&&IY(t,e,jY)&&a.push("	"),s&&a.unshift(s),l&&a.push(l),a}function Nde(e,t){const n=String(e.value),r=[],i=[];let o=0;for(;o<=n.length;){PY.lastIndex=o;const l=PY.exec(n),c=l&&"index"in l?l.index:n.length;r.push(nFe(n.slice(o,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,c===n.length?t.breakAfter:!0)),o=c+1}let a=-1,s;for(;++a<r.length;)r[a].charCodeAt(r[a].length-1)===8203||a<r.length-1&&r[a+1].charCodeAt(0)===8203?(i.push(r[a]),s=void 0):r[a]?(typeof s=="number"&&i.push(s),i.push(r[a]),s=0):(a===0||a===r.length-1)&&i.push(0);return i}function tFe(e){return[String(e.value)]}function nFe(e,t,n){const r=[];let i=0,o;for(;i<e.length;){LY.lastIndex=i;const a=LY.exec(e);o=a?a.index:e.length,!i&&!o&&a&&!t&&r.push(""),i!==o&&r.push(e.slice(i,o)),i=a?o+a[0].length:o}return i!==o&&!n&&r.push(""),r.join(" ")}function Mde(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function rFe(e){return!!(e.properties||{}).hidden}function iFe(e){return e.tagName==="td"||e.tagName==="th"}function oFe(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function aFe(e){const t=String(e);let n=t.length;for(;n>0;){const r=t.codePointAt(n-1);if(r!==void 0&&(r===10||r===13))n--;else break}return t.slice(0,n)}const jP="language-";function dA(e,t){const n=t.children;let r=-1,i,o;if(t.tagName==="pre")for(;++r<n.length;){const s=n[r];if(s.type==="element"&&s.tagName==="code"&&s.properties&&s.properties.className&&Array.isArray(s.properties.className)){i=s.properties.className;break}}if(i){for(r=-1;++r<i.length;)if(String(i[r]).slice(0,jP.length)===jP){o=String(i[r]).slice(jP.length);break}}const a={type:"code",lang:o||null,meta:null,value:aFe(XT(t))};return e.patch(t,a),a}function sFe(e,t){const n={type:"html",value:"<!--"+t.value+"-->"};return e.patch(t,n),n}function BP(e,t){const r={type:"delete",children:e.all(t)};return e.patch(t,r),r}function $F(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function lFe(e,t){const n=[],r=[];let i=-1;for(;++i<t.children.length;){const s=t.children[i];s.type==="element"&&s.tagName==="div"?n.push(...s.children):n.push(s)}let o={definitions:[],titles:[]};for(i=-1;++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="dt"){const l=n[i-1];l&&l.type==="element"&&l.tagName==="dd"&&(r.push(o),o={definitions:[],titles:[]}),o.titles.push(s)}else o.definitions.push(s)}r.push(o),i=-1;const a=[];for(;++i<r.length;){const s=[...$Y(e,r[i].titles),...$Y(e,r[i].definitions)];s.length>0&&a.push({type:"listItem",spread:s.length>1,checked:null,children:s})}if(a.length>0){const s={type:"list",ordered:!1,start:null,spread:$F(a),children:a};return e.patch(t,s),s}}function $Y(e,t){const n=e.all({type:"root",children:t}),r=e.toSpecificContent(n,cFe);return r.length===0?[]:r.length===1?r[0].children:[{type:"list",ordered:!1,start:null,spread:$F(r),children:r}]}function cFe(){return{type:"listItem",spread:!1,checked:null,children:[]}}function fA(e,t){const r={type:"emphasis",children:e.all(t)};return e.patch(t,r),r}function HF(e){let t=0,n=e.length;for(;t<n&&e[t].type==="break";)t++;for(;n>t&&e[n-1].type==="break";)n--;return t===0&&n===e.length?e:e.slice(t,n)}function rv(e,t){const n=Number(t.tagName.charAt(1))||1,r=HF(e.all(t)),i={type:"heading",depth:n,children:r};return e.patch(t,i),i}function uFe(e,t){const n={type:"thematicBreak"};return e.patch(t,n),n}function dFe(e,t){const n=t.properties||{},r=String(n.src||""),i=String(n.title||"");if(r&&i){const o={type:"link",title:null,url:e.resolve(r),children:[{type:"text",value:i}]};return e.patch(t,o),o}}function HY(e,t){const n=t.properties||{},r={type:"image",url:e.resolve(String(n.src||"")||null),title:n.title?String(n.title):null,alt:n.alt?String(n.alt):""};return e.patch(t,r),r}function LE(e,t){const n={type:"inlineCode",value:XT(t)};return e.patch(t,n),n}function Dde(e,t){const n=[],r=[],i=t||e.properties||{},o=Rde(e),a=Math.min(Number.parseInt(String(i.size),10),0)||(i.multiple?4:1);let s=-1;for(;++s<o.length;){const d=o[s];d&&d.properties&&d.properties.selected&&n.push(d)}const l=n.length>0?n:o,c=Math.min(l.length,a);for(s=-1;++s<c;){const d=l[s],u=d.properties||{},p=XT(d),m=p||String(u.label||""),v=String(u.value||"")||p;r.push([v,m===v?void 0:m])}return r}function Rde(e){const t=[];let n=-1;for(;++n<e.children.length;){const r=e.children[n];"children"in r&&Array.isArray(r.children)&&t.push(...Rde(r)),r.type==="element"&&r.tagName==="option"&&(!r.properties||!r.properties.disabled)&&t.push(r)}return t}const fFe="[x]",hFe="[ ]";function pFe(e,t){const n=t.properties||{},r=String(n.value||n.placeholder||"");if(n.disabled||n.type==="hidden"||n.type==="file")return;if(n.type==="checkbox"||n.type==="radio"){const l={type:"text",value:n.checked?e.options.checked||fFe:e.options.unchecked||hFe};return e.patch(t,l),l}if(n.type==="image"){const l=n.alt||r;if(l){const c={type:"image",url:e.resolve(String(n.src||"")||null),title:String(n.title||"")||null,alt:String(l)};return e.patch(t,c),c}return}let i=[];if(r)i=[[r,void 0]];else if(n.type!=="button"&&n.type!=="file"&&n.type!=="password"&&n.type!=="reset"&&n.type!=="submit"&&n.list){const l=String(n.list),c=e.elementById.get(l);c&&c.tagName==="datalist"&&(i=Dde(c,n))}if(i.length===0)return;if(n.type==="password"&&(i[0]=["".repeat(i[0][0].length),void 0]),n.type==="email"||n.type==="url"){const l=[];let c=-1;for(;++c<i.length;){const d=e.resolve(i[c][0]),u={type:"link",title:null,url:n.type==="email"?"mailto:"+d:d,children:[{type:"text",value:i[c][1]||d}]};l.push(u),c!==i.length-1&&l.push({type:"text",value:", "})}return l}const o=[];let a=-1;for(;++a<i.length;)o.push(i[a][1]?i[a][1]+" ("+i[a][0]+")":i[a][0]);const s={type:"text",value:o.join(", ")};return e.patch(t,s),s}const mFe={}.hasOwnProperty;function gFe(e,t){const n=e.type==="element"&&mFe.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}const yFe=new Set(["pingback","prefetch","stylesheet"]);function bFe(e){if(e.type!=="element"||e.tagName!=="link")return!1;if(e.properties.itemProp)return!0;const t=e.properties.rel;let n=-1;if(!Array.isArray(t)||t.length===0)return!1;for(;++n<t.length;)if(!yFe.has(String(t[n])))return!1;return!0}const vFe=_u(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),xFe=_u("meta");function Ide(e){return!!(e.type==="text"||vFe(e)||gde(e)||bFe(e)||xFe(e)&&gFe(e,"itemProp"))}function $P(e,t){const{rest:n,checkbox:r}=Lde(t),i=r?!!r.properties.checked:null,o=Pde(n),a=e.toFlow(e.all(n)),s={type:"listItem",spread:o,checked:i,children:a};return e.patch(t,s),s}function Pde(e){let t=-1,n=!1;for(;++t<e.children.length;){const r=e.children[t];if(r.type==="element"){if(Ide(r))continue;if(r.tagName==="p"||n||Pde(r))return!0;n=!0}}return!1}function Lde(e){const t=e.children[0];if(t&&t.type==="element"&&t.tagName==="input"&&t.properties&&(t.properties.type==="checkbox"||t.properties.type==="radio")){const n={...e,children:e.children.slice(1)};return{checkbox:t,rest:n}}if(t&&t.type==="element"&&t.tagName==="p"){const{checkbox:n,rest:r}=Lde(t);if(n){const i={...e,children:[r,...e.children.slice(1)]};return{checkbox:n,rest:i}}}return{checkbox:void 0,rest:e}}function HP(e,t){const n=t.tagName==="ol",r=e.toSpecificContent(e.all(t),wFe);let i=null;n&&(i=t.properties&&t.properties.start?Number.parseInt(String(t.properties.start),10):1);const o={type:"list",ordered:n,start:i,spread:$F(r),children:r};return e.patch(t,o),o}function wFe(){return{type:"listItem",spread:!1,checked:null,children:[]}}const EFe={};function iR(e,t){const n=EFe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return jde(e,r,i)}function jde(e,t,n){if(SFe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return FY(e.children,t,n)}return Array.isArray(e)?FY(e,t,n):""}function FY(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=jde(e[i],t,n);return r.join("")}function SFe(e){return!!(e&&typeof e=="object")}const Bde=fx(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function oR(e){let t=-1;for(;++t<e.length;){const n=e[t];if(!Fde(n)||"children"in n&&oR(n.children))return!0}return!1}function $de(e){return Hde(e,t,function(n){return n});function t(n){return n.every(function(r){return r.type==="text"?KT(r.value):!1})?[]:[{type:"paragraph",children:HF(n)}]}}function CFe(e){return Hde(e.children,t,n);function t(r){const i=FP(e);return i.children=r,[i]}function n(r){if("children"in r&&"children"in e){const i=FP(e),o=FP(r);return i.children=r.children,o.children.push(i),o}return{...r}}}function Hde(e,t,n){const r=TFe(e),i=[];let o=[],a=-1;for(;++a<r.length;){const s=r[a];Fde(s)?o.push(s):(o.length>0&&(i.push(...t(o)),o=[]),i.push(n(s)))}return o.length>0&&(i.push(...t(o)),o=[]),i}function TFe(e){const t=[];let n=-1;for(;++n<e.length;){const r=e[n];(r.type==="delete"||r.type==="link")&&oR(r.children)?t.push(...CFe(r)):t.push(r)}return t}function Fde(e){const t=e.data&&e.data.hName;return t?Ide({type:"element",tagName:t,properties:{},children:[]}):Bde(e)}function FP(e){return v1({...e,children:[]})}function UY(e,t){const n=t.properties||{},r=t.tagName==="video"?String(n.poster||""):"";let i=String(n.src||""),o=-1,a=!1,s=e.all(t);if(H0({type:"root",children:s},function(u){if(u.type==="link")return a=!0,CN}),a||oR(s))return s;for(;!i&&++o<t.children.length;){const u=t.children[o];u.type==="element"&&u.tagName==="source"&&u.properties&&(i=String(u.properties.src||""))}if(r){const u={type:"image",title:null,url:e.resolve(r),alt:iR(s)};e.patch(t,u),s=[u]}const c=s,d={type:"link",title:n.title?String(n.title):null,url:e.resolve(i),children:c};return e.patch(t,d),d}function zY(e,t){const n=HF(e.all(t));if(n.length>0){const r={type:"paragraph",children:n};return e.patch(t,r),r}}const kFe=['"'];function _Fe(e,t){const n=e.options.quotes||kFe;e.qNesting++;const r=e.all(t);e.qNesting--;const i=n[e.qNesting%n.length],o=r[0],a=r[r.length-1],s=i.charAt(0),l=i.length>1?i.charAt(1):i;return o&&o.type==="text"?o.value=s+o.value:r.unshift({type:"text",value:s}),a&&a.type==="text"?a.value+=l:r.push({type:"text",value:l}),r}function AFe(e,t){let n=e.all(t);(e.options.document||oR(n))&&(n=$de(n));const r={type:"root",children:n};return e.patch(t,r),r}function OFe(e,t){const n=Dde(t);let r=-1;const i=[];for(;++r<n.length;){const o=n[r];i.push(o[1]?o[1]+" ("+o[0]+")":o[0])}if(i.length>0){const o={type:"text",value:i.join(", ")};return e.patch(t,o),o}}function VY(e,t){const r={type:"strong",children:e.all(t)};return e.patch(t,r),r}function qY(e,t){const r={type:"tableCell",children:e.all(t)};if(e.patch(t,r),t.properties){const i=t.properties.rowSpan,o=t.properties.colSpan;if(i||o){const a=r.data||(r.data={});i&&(a.hastUtilToMdastTemporaryRowSpan=i),o&&(a.hastUtilToMdastTemporaryColSpan=o)}}return r}function NFe(e,t){const r={type:"tableRow",children:e.toSpecificContent(e.all(t),MFe)};return e.patch(t,r),r}function MFe(){return{type:"tableCell",children:[]}}function DFe(e,t){if(e.inTable){const c={type:"text",value:XT(t)};return e.patch(t,c),c}e.inTable=!0;const{align:n,headless:r}=RFe(t),i=e.toSpecificContent(e.all(t),WY);r&&i.unshift(WY());let o=-1;for(;++o<i.length;){const c=i[o],d=e.toSpecificContent(c.children,IFe);c.children=d}let a=1;for(o=-1;++o<i.length;){const c=i[o].children;let d=-1;for(;++d<c.length;){const u=c[d];if(u.data){const p=u.data,m=Number.parseInt(String(p.hastUtilToMdastTemporaryColSpan),10)||1,v=Number.parseInt(String(p.hastUtilToMdastTemporaryRowSpan),10)||1;if(m>1||v>1){let x=o-1;for(;++x<o+v;){let w=d-1;for(;++w<d+m&&i[x];){const T=[];(x!==o||w!==d)&&T.push({type:"tableCell",children:[]}),i[x].children.splice(w,0,...T)}}}"hastUtilToMdastTemporaryColSpan"in u.data&&delete u.data.hastUtilToMdastTemporaryColSpan,"hastUtilToMdastTemporaryRowSpan"in u.data&&delete u.data.hastUtilToMdastTemporaryRowSpan,Object.keys(u.data).length===0&&delete u.data}}c.length>a&&(a=c.length)}for(o=-1;++o<i.length;){const c=i[o].children;let d=c.length-1;for(;++d<a;)c.push({type:"tableCell",children:[]})}let s=n.length-1;for(;++s<a;)n.push(null);e.inTable=!1;const l={type:"table",align:n,children:i};return e.patch(t,l),l}function RFe(e){const t={align:[null],headless:!0};let n=0,r=0;return H0(e,function(i){if(i.type==="element"){if(i.tagName==="table"&&e!==i)return Ede;if((i.tagName==="th"||i.tagName==="td")&&i.properties){if(!t.align[r]){const o=String(i.properties.align||"")||null;(o==="center"||o==="left"||o==="right"||o===null)&&(t.align[r]=o)}t.headless&&n<2&&i.tagName==="th"&&(t.headless=!1),r++}else i.tagName==="thead"?t.headless=!1:i.tagName==="tr"&&(n++,r=0)}}),t}function IFe(){return{type:"tableCell",children:[]}}function WY(){return{type:"tableRow",children:[]}}function PFe(e,t){const n={type:"text",value:t.value};return e.patch(t,n),n}function LFe(e,t){const n={type:"text",value:XT(t)};return e.patch(t,n),n}function jFe(e,t){const n={type:"text",value:""};return e.patch(t,n),n}const BFe={comment:sFe,doctype:jn,root:AFe,text:PFe},$Fe={applet:jn,area:jn,basefont:jn,bgsound:jn,caption:jn,col:jn,colgroup:jn,command:jn,content:jn,datalist:jn,dialog:jn,element:jn,embed:jn,frame:jn,frameset:jn,isindex:jn,keygen:jn,link:jn,math:jn,menu:jn,menuitem:jn,meta:jn,nextid:jn,noembed:jn,noframes:jn,optgroup:jn,option:jn,param:jn,script:jn,shadow:jn,source:jn,spacer:jn,style:jn,svg:jn,template:jn,title:jn,track:jn,abbr:Ln,acronym:Ln,bdi:Ln,bdo:Ln,big:Ln,blink:Ln,button:Ln,canvas:Ln,cite:Ln,data:Ln,details:Ln,dfn:Ln,font:Ln,ins:Ln,label:Ln,map:Ln,marquee:Ln,meter:Ln,nobr:Ln,noscript:Ln,object:Ln,output:Ln,progress:Ln,rb:Ln,rbc:Ln,rp:Ln,rt:Ln,rtc:Ln,ruby:Ln,slot:Ln,small:Ln,span:Ln,sup:Ln,sub:Ln,tbody:Ln,tfoot:Ln,thead:Ln,time:Ln,address:eo,article:eo,aside:eo,body:eo,center:eo,div:eo,fieldset:eo,figcaption:eo,figure:eo,form:eo,footer:eo,header:eo,hgroup:eo,html:eo,legend:eo,main:eo,multicol:eo,nav:eo,picture:eo,section:eo,a:G9e,audio:UY,b:VY,base:K9e,blockquote:X9e,br:Z9e,code:LE,dir:HP,dl:lFe,dt:$P,dd:$P,del:BP,em:fA,h1:rv,h2:rv,h3:rv,h4:rv,h5:rv,h6:rv,hr:uFe,i:fA,iframe:dFe,img:HY,image:HY,input:pFe,kbd:LE,li:$P,listing:dA,mark:fA,ol:HP,p:zY,plaintext:dA,pre:dA,q:_Fe,s:BP,samp:LE,select:OFe,strike:BP,strong:VY,summary:zY,table:DFe,td:qY,textarea:LFe,th:qY,tr:NFe,tt:LE,u:fA,ul:HP,var:LE,video:UY,wbr:jFe,xmp:dA};function Ln(e,t){return e.all(t)}function eo(e,t){return e.toFlow(e.all(t))}function jn(){}const YY={}.hasOwnProperty;function HFe(e){return{all:FFe,baseFound:!1,elementById:new Map,frozenBaseUrl:void 0,handlers:{...$Fe,...e.handlers},inTable:!1,nodeHandlers:{...BFe,...e.nodeHandlers},one:UFe,options:e,patch:zFe,qNesting:0,resolve:VFe,toFlow:qFe,toSpecificContent:WFe}}function FFe(e){const t=e.children||[],n=[];let r=-1;for(;++r<t.length;){const i=t[r],o=this.one(i,e);Array.isArray(o)?n.push(...o):o&&n.push(o)}return n}function UFe(e,t){if(e.type==="element"){if(e.properties&&e.properties.dataMdast==="ignore")return;if(YY.call(this.handlers,e.tagName))return this.handlers[e.tagName](this,e,t)||void 0}else if(YY.call(this.nodeHandlers,e.type))return this.nodeHandlers[e.type](this,e,t)||void 0;if("value"in e&&typeof e.value=="string"){const n={type:"text",value:e.value};return this.patch(e,n),n}if("children"in e)return this.all(e)}function zFe(e,t){e.position&&(t.position=_de(e))}function VFe(e){const t=this.frozenBaseUrl;return e==null?"":t?String(new URL(e,t)):e}function qFe(e){return $de(e)}function WFe(e,t){const n=t(),r=[];let i=[],o=-1;for(;++o<e.length;){const s=e[o];if(a(s))i.length>0&&(s.children.unshift(...i),i=[]),r.push(s);else{const l=s;i.push(l)}}if(i.length>0){let s=r[r.length-1];s||(s=t(),r.push(s)),s.children.push(...i),i=[]}return r;function a(s){return s.type===n.type}}const YFe={};function GY(e,t){const n=v1(e),r=t||YFe,i=q9e({newlines:r.newlines===!0}),o=HFe(r);let a;i(n),H0(n,function(l){if(l&&l.type==="element"&&l.properties){const c=String(l.properties.id||"")||void 0;c&&!o.elementById.has(c)&&o.elementById.set(c,l)}});const s=o.one(n,void 0);return s?Array.isArray(s)?a={type:"root",children:s}:a=s:a={type:"root",children:[]},H0(a,function(l,c,d){if(l.type==="text"&&c!==void 0&&d){const u=d.children[c-1];if(u&&u.type===l.type)return u.value+=l.value,d.children.splice(c,1),u.position&&l.position&&(u.position.end=l.position.end),c-1;if(l.value=l.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),d&&(d.type==="heading"||d.type==="paragraph"||d.type==="root")&&(c||(l.value=l.value.replace(/^[\t ]+/,"")),c===d.children.length-1&&(l.value=l.value.replace(/[\t ]+$/,""))),!l.value)return d.children.splice(c,1),c}}),a}const KY={document:!0};function GFe(e,t){return e&&"run"in e?async function(n,r){const i=GY(n,{...KY,...t});await e.run(i,r)}:function(n){return GY(n,{...KY,...e})}}function TN(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const ts=mm(/[A-Za-z]/),Ca=mm(/[\dA-Za-z]/),KFe=mm(/[#-'*+\--9=?A-Z^-~]/);function kN(e){return e!==null&&(e<32||e===127)}const i8=mm(/\d/),XFe=mm(/[\dA-Fa-f]/),ZFe=mm(/[!-/:-@[-`{-~]/);function Xt(e){return e!==null&&e<-2}function zr(e){return e!==null&&(e<0||e===32)}function Vn(e){return e===-2||e===-1||e===32}const aR=mm(new RegExp("\\p{P}|\\p{S}","u")),F0=mm(/\s/);function mm(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function QFe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function JFe(e,t,n){const i=fx((n||{}).ignore||[]),o=e7e(t);let a=-1;for(;++a<o.length;)Sde(e,"text",s);function s(c,d){let u=-1,p;for(;++u<d.length;){const m=d[u],v=p?p.children:void 0;if(i(m,v?v.indexOf(m):void 0,p))return;p=m}if(p)return l(c,d)}function l(c,d){const u=d[d.length-1],p=o[a][0],m=o[a][1];let v=0;const w=u.children.indexOf(c);let T=!1,k=[];p.lastIndex=0;let O=p.exec(c.value);for(;O;){const I=O.index,N={index:O.index,input:O.input,stack:[...d,c]};let A=m(...O,N);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?p.lastIndex=I+1:(v!==I&&k.push({type:"text",value:c.value.slice(v,I)}),Array.isArray(A)?k.push(...A):A&&k.push(A),v=I+O[0].length,T=!0),!p.global)break;O=p.exec(c.value)}return T?(v<c.value.length&&k.push({type:"text",value:c.value.slice(v)}),u.children.splice(w,1,...k)):k=[c],w+k.length}}function e7e(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([t7e(i[0]),n7e(i[1])])}return t}function t7e(e){return typeof e=="string"?new RegExp(QFe(e),"g"):e}function n7e(e){return typeof e=="function"?e:function(){return e}}const UP="phrasing",zP=["autolink","link","image","label"];function r7e(){return{transforms:[u7e],enter:{literalAutolink:o7e,literalAutolinkEmail:VP,literalAutolinkHttp:VP,literalAutolinkWww:VP},exit:{literalAutolink:c7e,literalAutolinkEmail:l7e,literalAutolinkHttp:a7e,literalAutolinkWww:s7e}}}function i7e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:UP,notInConstruct:zP},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:UP,notInConstruct:zP},{character:":",before:"[ps]",after:"\\/",inConstruct:UP,notInConstruct:zP}]}}function o7e(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function VP(e){this.config.enter.autolinkProtocol.call(this,e)}function a7e(e){this.config.exit.autolinkProtocol.call(this,e)}function s7e(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function l7e(e){this.config.exit.autolinkEmail.call(this,e)}function c7e(e){this.exit(e)}function u7e(e){JFe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,d7e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),f7e]],{ignore:["link","linkReference"]})}function d7e(e,t,n,r,i){let o="";if(!Ude(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!h7e(n)))return!1;const a=p7e(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function f7e(e,t,n,r){return!Ude(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function h7e(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function p7e(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=TN(e,"(");let o=TN(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function Ude(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||F0(n)||aR(n))&&(!t||n!==47)}function mu(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}zde.peek=S7e;function m7e(){this.buffer()}function g7e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function y7e(){this.buffer()}function b7e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function v7e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=mu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function x7e(e){this.exit(e)}function w7e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=mu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function E7e(e){this.exit(e)}function S7e(){return"["}function zde(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),s(),a(),o+=i.move("]"),o}function C7e(){return{enter:{gfmFootnoteCallString:m7e,gfmFootnoteCall:g7e,gfmFootnoteDefinitionLabelString:y7e,gfmFootnoteDefinition:b7e},exit:{gfmFootnoteCallString:v7e,gfmFootnoteCall:x7e,gfmFootnoteDefinitionLabelString:w7e,gfmFootnoteDefinition:E7e}}}function T7e(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:zde},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,a){const s=o.createTracker(a);let l=s.move("[^");const c=o.enter("footnoteDefinition"),d=o.enter("label");return l+=s.move(o.safe(o.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,s.current()),t?Vde:k7e))),c(),l}}function k7e(e,t,n){return t===0?e:Vde(e,t,n)}function Vde(e,t,n){return(n?"":"    ")+e}const _7e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];qde.peek=D7e;function A7e(){return{canContainEols:["delete"],enter:{strikethrough:N7e},exit:{strikethrough:M7e}}}function O7e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:_7e}],handlers:{delete:qde}}}function N7e(e){this.enter({type:"delete",children:[]},e)}function M7e(e){this.exit(e)}function qde(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function D7e(){return"~"}function R7e(e){return e.length}function I7e(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||R7e,o=[],a=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const x=[],w=[];let T=-1;for(e[d].length>c&&(c=e[d].length);++T<e[d].length;){const k=P7e(e[d][T]);if(n.alignDelimiters!==!1){const O=i(k);w[T]=O,(l[T]===void 0||O>l[T])&&(l[T]=O)}x.push(k)}a[d]=x,s[d]=w}let u=-1;if(typeof r=="object"&&"length"in r)for(;++u<c;)o[u]=XY(r[u]);else{const x=XY(r);for(;++u<c;)o[u]=x}u=-1;const p=[],m=[];for(;++u<c;){const x=o[u];let w="",T="";x===99?(w=":",T=":"):x===108?w=":":x===114&&(T=":");let k=n.alignDelimiters===!1?1:Math.max(1,l[u]-w.length-T.length);const O=w+"-".repeat(k)+T;n.alignDelimiters!==!1&&(k=w.length+k+T.length,k>l[u]&&(l[u]=k),m[u]=k),p[u]=O}a.splice(1,0,p),s.splice(1,0,m),d=-1;const v=[];for(;++d<a.length;){const x=a[d],w=s[d];u=-1;const T=[];for(;++u<c;){const k=x[u]||"";let O="",I="";if(n.alignDelimiters!==!1){const N=l[u]-(w[u]||0),A=o[u];A===114?O=" ".repeat(N):A===99?N%2?(O=" ".repeat(N/2+.5),I=" ".repeat(N/2-.5)):(O=" ".repeat(N/2),I=O):I=" ".repeat(N)}n.delimiterStart!==!1&&!u&&T.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||u)&&T.push(" "),n.alignDelimiters!==!1&&T.push(O),T.push(k),n.alignDelimiters!==!1&&T.push(I),n.padding!==!1&&T.push(" "),(n.delimiterEnd!==!1||u!==c-1)&&T.push("|")}v.push(n.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return v.join(`
`)}function P7e(e){return e==null?"":String(e)}function XY(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const ZY={}.hasOwnProperty;function Wde(e,t){const n=t||{};function r(i,...o){let a=r.invalid;const s=r.handlers;if(i&&ZY.call(i,e)){const l=String(i[e]);a=ZY.call(s,l)?s[l]:r.unknown}if(a)return a.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const L7e={}.hasOwnProperty;function Yde(e,t){let n=-1,r;if(t.extensions)for(;++n<t.extensions.length;)Yde(e,t.extensions[n]);for(r in t)if(L7e.call(t,r))switch(r){case"extensions":break;case"unsafe":{QY(e[r],t[r]);break}case"join":{QY(e[r],t[r]);break}case"handlers":{j7e(e[r],t[r]);break}default:e.options[r]=t[r]}return e}function QY(e,t){t&&e.push(...t)}function j7e(e,t){t&&Object.assign(e,t)}function B7e(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),$7e);return i(),a}function $7e(e,t,n){return">"+(n?"":" ")+e}function Gde(e,t){return JY(e,t.inConstruct,!0)&&!JY(e,t.notInConstruct,!1)}function JY(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function eG(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Gde(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function H7e(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+t.length,r=n.indexOf(t,i);return a}function o8(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function F7e(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function U7e(e,t,n,r){const i=F7e(n),o=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(o8(e,n)){const u=n.enter("codeIndented"),p=n.indentLines(o,z7e);return u(),p}const s=n.createTracker(r),l=i.repeat(Math.max(H7e(o,i)+1,3)),c=n.enter("codeFenced");let d=s.move(l);if(e.lang){const u=n.enter(`codeFencedLang${a}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),u()}if(e.lang&&e.meta){const u=n.enter(`codeFencedMeta${a}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),u()}return d+=s.move(`
`),o&&(d+=s.move(o+`
`)),d+=s.move(l),c(),d}function z7e(e,t,n){return(n?"":"    ")+e}function FF(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function V7e(e,t,n,r){const i=FF(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),a(),c}function q7e(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function lm(e){return"&#x"+e.toString(16).toUpperCase()+";"}function x1(e){if(e===null||zr(e)||F0(e))return 1;if(aR(e))return 2}function _N(e,t,n){const r=x1(e),i=x1(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Kde.peek=W7e;function Kde(e,t,n,r){const i=q7e(n),o=n.enter("emphasis"),a=n.createTracker(r),s=a.move(i);let l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),d=_N(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=lm(c)+l.slice(1));const u=l.charCodeAt(l.length-1),p=_N(r.after.charCodeAt(0),u,i);p.inside&&(l=l.slice(0,-1)+lm(u));const m=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function W7e(e,t,n){return n.options.emphasis||"*"}function Xde(e,t){let n=!1;return H0(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,CN}),!!((!e.depth||e.depth<3)&&iR(e)&&(t.options.setext||n))}function Y7e(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(Xde(e,n)){const d=n.enter("headingSetext"),u=n.enter("phrasing"),p=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return u(),d(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c=lm(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c}Zde.peek=G7e;function Zde(e){return e.value||""}function G7e(){return"<"}Qde.peek=K7e;function Qde(e,t,n,r){const i=FF(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),a(),c}function K7e(){return"!"}Jde.peek=X7e;function Jde(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const u=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=d,o(),i==="full"||!c||c!==u?l+=s.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function X7e(){return"!"}efe.peek=Z7e;function efe(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],s=n.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Z7e(){return"`"}function tfe(e,t){const n=iR(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}nfe.peek=Q7e;function nfe(e,t,n,r){const i=FF(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(tfe(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let u=a.move("<");return u+=a.move(n.containerPhrasing(e,{before:u,after:">",...a.current()})),u+=a.move(">"),s(),n.stack=d,u}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${o}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),s(),c}function Q7e(e,t,n){return tfe(e,n)?"<":"["}rfe.peek=J7e;function rfe(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const u=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=d,o(),i==="full"||!c||c!==u?l+=s.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function J7e(){return"["}function UF(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function eUe(e){const t=UF(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function tUe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function ife(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function nUe(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?tUe(n):UF(n);const s=e.ordered?a==="."?")":".":eUe(n);let l=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),ife(n)===a&&d){let u=-1;for(;++u<e.children.length;){const p=e.children[u];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),c}function rUe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function iUe(e,t,n,r){const i=rUe(n);let o=n.bulletCurrent||UF(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),d);return l(),c;function d(u,p,m){return p?(m?"":" ".repeat(a))+u:(m?o:o+" ".repeat(a-o.length))+u}}function oUe(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,r);return o(),i(),a}function aUe(e,t,n,r){return(e.children.some(function(a){return Bde(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function sUe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}ofe.peek=lUe;function ofe(e,t,n,r){const i=sUe(n),o=n.enter("strong"),a=n.createTracker(r),s=a.move(i+i);let l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),d=_N(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=lm(c)+l.slice(1));const u=l.charCodeAt(l.length-1),p=_N(r.after.charCodeAt(0),u,i);p.inside&&(l=l.slice(0,-1)+lm(u));const m=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function lUe(e,t,n){return n.options.strong||"*"}function cUe(e,t,n,r){return n.safe(e.value,r)}function uUe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function dUe(e,t,n){const r=(ife(n)+(n.options.ruleSpaces?" ":"")).repeat(uUe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const zF={blockquote:B7e,break:eG,code:U7e,definition:V7e,emphasis:Kde,hardBreak:eG,heading:Y7e,html:Zde,image:Qde,imageReference:Jde,inlineCode:efe,link:nfe,linkReference:rfe,list:nUe,listItem:iUe,paragraph:oUe,root:aUe,strong:ofe,text:cUe,thematicBreak:dUe},fUe=[hUe];function hUe(e,t,n,r){if(t.type==="code"&&o8(t,r)&&(e.type==="list"||e.type===t.type&&o8(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&Xde(t,r))?void 0:n.spread?1:0}const zg=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],pUe=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:zg},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:zg},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:zg},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:zg},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:zg},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:zg},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:zg},{atBreak:!0,character:"~"}],tG=document.createElement("i");function VF(e){const t="&"+e+";";tG.innerHTML=t;const n=tG.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function afe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const mUe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function sfe(e){return e.replace(mUe,gUe)}function gUe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return afe(n.slice(o?2:1),o?16:10)}return VF(n)||e}function yUe(e){return e.label||!e.identifier?e.label||"":sfe(e.identifier)}function bUe(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function vUe(e,t,n){const r=t.indexStack,i=e.children||[],o=[];let a=-1,s=n.before,l;r.push(-1);let c=t.createTracker(n);for(;++a<i.length;){const d=i[a];let u;if(r[r.length-1]=a,a+1<i.length){let v=t.handle.handlers[i[a+1].type];v&&v.peek&&(v=v.peek),u=v?v(i[a+1],e,t,{before:"",after:"",...c.current()}).charAt(0):""}else u=n.after;o.length>0&&(s==="\r"||s===`
`)&&d.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),s=" ",c=t.createTracker(n),c.move(o.join("")));let p=t.handle(d,e,t,{...c.current(),after:u,before:s});l&&l===p.slice(0,1)&&(p=lm(l.charCodeAt(0))+p.slice(1));const m=t.attentionEncodeSurroundingInfo;t.attentionEncodeSurroundingInfo=void 0,l=void 0,m&&(o.length>0&&m.before&&s===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+lm(s.charCodeAt(0))),m.after&&(l=u)),c.move(p),o.push(p),s=p.slice(-1)}return r.pop(),o.join("")}function xUe(e,t,n){const r=t.indexStack,i=e.children||[],o=t.createTracker(n),a=[];let s=-1;for(r.push(-1);++s<i.length;){const l=i[s];r[r.length-1]=s,a.push(o.move(t.handle(l,e,t,{before:`
`,after:`
`,...o.current()}))),l.type!=="list"&&(t.bulletLastUsed=void 0),s<i.length-1&&a.push(o.move(wUe(l,i[s+1],e,t)))}return r.pop(),a.join("")}function wUe(e,t,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](e,t,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const EUe=/\r?\n|\r/g;function SUe(e,t){const n=[];let r=0,i=0,o;for(;o=EUe.exec(e);)a(e.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return a(e.slice(r)),n.join("");function a(s){n.push(t(s,i,!s))}}function CUe(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],o=[],a={};let s=-1;for(;++s<e.unsafe.length;){const d=e.unsafe[s];if(!Gde(e.stack,d))continue;const u=e.compilePattern(d);let p;for(;p=u.exec(r);){const m="before"in d||!!d.atBreak,v="after"in d,x=p.index+(m?p[1].length:0);i.includes(x)?(a[x].before&&!m&&(a[x].before=!1),a[x].after&&!v&&(a[x].after=!1)):(i.push(x),a[x]={before:m,after:v})}}i.sort(TUe);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(s=-1;++s<i.length;){const d=i[s];d<l||d>=c||d+1<c&&i[s+1]===d+1&&a[d].after&&!a[d+1].before&&!a[d+1].after||i[s-1]===d-1&&a[d].before&&!a[d-1].before&&!a[d-1].after||(l!==d&&o.push(nG(r.slice(l,d),"\\")),l=d,/[!-/:-@[-`{-~]/.test(r.charAt(d))&&(!n.encode||!n.encode.includes(r.charAt(d)))?o.push("\\"):(o.push(lm(r.charCodeAt(d))),l++))}return o.push(nG(r.slice(l,c),n.after)),o.join("")}function TUe(e,t){return e-t}function nG(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=e+t;let a=-1,s=0,l;for(;l=n.exec(o);)r.push(l.index);for(;++a<r.length;)s!==r[a]&&i.push(e.slice(s,r[a])),i.push("\\"),s=r[a];return i.push(e.slice(s)),i.join("")}function kUe(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,o=n.column||1;return{move:l,current:a,shift:s};function a(){return{now:{line:i,column:o},lineShift:r}}function s(c){r+=c}function l(c){const d=c||"",u=d.split(/\r?\n|\r/g),p=u[u.length-1];return i+=u.length-1,o=u.length===1?o+p.length:1+p.length+r,d}}function _Ue(e,t){const n=t||{},r={associationId:yUe,containerPhrasing:MUe,containerFlow:DUe,createTracker:kUe,compilePattern:bUe,enter:o,handlers:{...zF},handle:void 0,indentLines:SUe,indexStack:[],join:[...fUe],options:{},safe:RUe,stack:[],unsafe:[...pUe]};Yde(r,n),r.options.tightDefinitions&&r.join.push(NUe),r.handle=Wde("type",{invalid:AUe,unknown:OUe,handlers:r.handlers});let i=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function o(a){return r.stack.push(a),s;function s(){r.stack.pop()}}}function AUe(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function OUe(e){const t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function NUe(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function MUe(e,t){return vUe(e,this,t)}function DUe(e,t){return xUe(e,this,t)}function RUe(e,t){return CUe(this,e,t)}function IUe(){return{enter:{table:PUe,tableData:rG,tableHeader:rG,tableRow:jUe},exit:{codeText:BUe,table:LUe,tableData:qP,tableHeader:qP,tableRow:qP}}}function PUe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function LUe(e){this.exit(e),this.data.inTable=void 0}function jUe(e){this.enter({type:"tableRow",children:[]},e)}function qP(e){this.exit(e)}function rG(e){this.enter({type:"tableCell",children:[]},e)}function BUe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,$Ue));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function $Ue(e,t){return t==="|"?t:e}function HUe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:a,tableCell:l,tableRow:s}};function a(m,v,x,w){return c(d(m,x,w),m.align)}function s(m,v,x,w){const T=u(m,x,w),k=c([T]);return k.slice(0,k.indexOf(`
`))}function l(m,v,x,w){const T=x.enter("tableCell"),k=x.enter("phrasing"),O=x.containerPhrasing(m,{...w,before:o,after:o});return k(),T(),O}function c(m,v){return I7e(m,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function d(m,v,x){const w=m.children;let T=-1;const k=[],O=v.enter("table");for(;++T<w.length;)k[T]=u(w[T],v,x);return O(),k}function u(m,v,x){const w=m.children;let T=-1;const k=[],O=v.enter("tableRow");for(;++T<w.length;)k[T]=l(w[T],m,v,x);return O(),k}function p(m,v,x){let w=zF.inlineCode(m,v,x);return x.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function FUe(){return{exit:{taskListCheckValueChecked:iG,taskListCheckValueUnchecked:iG,paragraph:zUe}}}function UUe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:VUe}}}function iG(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function zUe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,a;for(;++o<i.length;){const s=i[o];if(s.type==="paragraph"){a=s;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function VUe(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let l=zF.listItem(e,t,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+a}}function qUe(){return[r7e(),C7e(),A7e(),IUe(),FUe()]}function WUe(e){return{extensions:[i7e(),T7e(e),O7e(),HUe(e),UUe()]}}function Nl(e,t,n,r){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function ac(e,t){return e.length>0?(Nl(e,e.length,0,t),e):t}const oG={}.hasOwnProperty;function lfe(e){const t={};let n=-1;for(;++n<e.length;)YUe(t,e[n]);return t}function YUe(e,t){let n;for(n in t){const i=(oG.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){oG.call(i,a)||(i[a]=[]);const s=o[a];GUe(i[a],Array.isArray(s)?s:s?[s]:[])}}}function GUe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Nl(e,0,0,r)}const KUe={tokenize:tze,partial:!0},cfe={tokenize:nze,partial:!0},ufe={tokenize:rze,partial:!0},dfe={tokenize:ize,partial:!0},XUe={tokenize:oze,partial:!0},ffe={name:"wwwAutolink",tokenize:JUe,previous:pfe},hfe={name:"protocolAutolink",tokenize:eze,previous:mfe},uh={name:"emailAutolink",tokenize:QUe,previous:gfe},$d={};function ZUe(){return{text:$d}}let Vg=48;for(;Vg<123;)$d[Vg]=uh,Vg++,Vg===58?Vg=65:Vg===91&&(Vg=97);$d[43]=uh;$d[45]=uh;$d[46]=uh;$d[95]=uh;$d[72]=[uh,hfe];$d[104]=[uh,hfe];$d[87]=[uh,ffe];$d[119]=[uh,ffe];function QUe(e,t,n){const r=this;let i,o;return a;function a(u){return!a8(u)||!gfe.call(r,r.previous)||qF(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(u))}function s(u){return a8(u)?(e.consume(u),s):u===64?(e.consume(u),l):n(u)}function l(u){return u===46?e.check(XUe,d,c)(u):u===45||u===95||Ca(u)?(o=!0,e.consume(u),l):d(u)}function c(u){return e.consume(u),i=!0,l}function d(u){return o&&i&&ts(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(u)):n(u)}}function JUe(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!pfe.call(r,r.previous)||qF(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(KUe,e.attempt(cfe,e.attempt(ufe,o),n),n)(a))}function o(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function eze(e,t,n){const r=this;let i="",o=!1;return a;function a(u){return(u===72||u===104)&&mfe.call(r,r.previous)&&!qF(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(u),e.consume(u),s):n(u)}function s(u){if(ts(u)&&i.length<5)return i+=String.fromCodePoint(u),e.consume(u),s;if(u===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(u),l}return n(u)}function l(u){return u===47?(e.consume(u),o?c:(o=!0,l)):n(u)}function c(u){return u===null||kN(u)||zr(u)||F0(u)||aR(u)?n(u):e.attempt(cfe,e.attempt(ufe,d),n)(u)}function d(u){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(u)}}function tze(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),o):n(a)}function o(a){return a===null?n(a):t(a)}}function nze(e,t,n){let r,i,o;return a;function a(c){return c===46||c===95?e.check(dfe,l,s)(c):c===null||zr(c)||F0(c)||c!==45&&aR(c)?l(c):(o=!0,e.consume(c),a)}function s(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),a}function l(c){return i||r||!o?n(c):t(c)}}function rze(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(dfe,t,o)(a):a===null||zr(a)||F0(a)?t(a):(e.consume(a),i)}function o(a){return a===41&&r++,e.consume(a),i}}function ize(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),o):s===93?(e.consume(s),i):s===60||s===null||zr(s)||F0(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||zr(s)||F0(s)?t(s):r(s)}function o(s){return ts(s)?a(s):n(s)}function a(s){return s===59?(e.consume(s),r):ts(s)?(e.consume(s),a):n(s)}}function oze(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return Ca(o)?n(o):t(o)}}function pfe(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||zr(e)}function mfe(e){return!ts(e)}function gfe(e){return!(e===47||a8(e))}function a8(e){return e===43||e===45||e===46||e===95||Ca(e)}function qF(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function hx(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Ca(e.charCodeAt(n+1))&&Ca(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function sR(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const s8={name:"attention",resolveAll:aze,tokenize:sze};function aze(e,t){let n=-1,r,i,o,a,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const u={...e[r][1].end},p={...e[n][1].start};aG(u,-l),aG(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:u,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[r][1].end={...a.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=ac(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=ac(c,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),c=ac(c,sR(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=ac(c,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=ac(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Nl(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function sze(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=x1(r);let o;return a;function a(l){return o=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===o)return e.consume(l),s;const c=e.exit("attentionSequence"),d=x1(l),u=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return c._open=!!(o===42?u:u&&(i||!p)),c._close=!!(o===42?p:p&&(d||!u)),t(l)}}function aG(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const lze={name:"autolink",tokenize:cze};function cze(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return ts(m)?(e.consume(m),a):m===64?n(m):c(m)}function a(m){return m===43||m===45||m===46||Ca(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ca(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||kN(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):KFe(m)?(e.consume(m),c):n(m)}function d(m){return Ca(m)?u(m):n(m)}function u(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Ca(m))&&r++<63){const v=m===45?p:u;return e.consume(m),v}return n(m)}}function rr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return Vn(l)?(e.enter(n),s(l)):t(l)}function s(l){return Vn(l)&&o++<i?(e.consume(l),s):(e.exit(n),t(l))}}const ZT={partial:!0,tokenize:uze};function uze(e,t,n){return r;function r(o){return Vn(o)?rr(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||Xt(o)?t(o):n(o)}}const yfe={continuation:{tokenize:fze},exit:hze,name:"blockQuote",tokenize:dze};function dze(e,t,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Vn(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function fze(e,t,n){const r=this;return i;function i(a){return Vn(a)?rr(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(yfe,t,n)(a)}}function hze(e){e.exit("blockQuote")}const bfe={name:"characterEscape",tokenize:pze};function pze(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return ZFe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const vfe={name:"characterReference",tokenize:mze};function mze(e,t,n){const r=this;let i=0,o,a;return s;function s(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),l}function l(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),o=31,a=Ca,d(u))}function c(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=XFe,d):(e.enter("characterReferenceValue"),o=7,a=i8,d(u))}function d(u){if(u===59&&i){const p=e.exit("characterReferenceValue");return a===Ca&&!VF(r.sliceSerialize(p))?n(u):(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(u)&&i++<o?(e.consume(u),d):n(u)}}const sG={partial:!0,tokenize:yze},lG={concrete:!0,name:"codeFenced",tokenize:gze};function gze(e,t,n){const r=this,i={partial:!0,tokenize:N};let o=0,a=0,s;return l;function l(A){return c(A)}function c(A){const R=r.events[r.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,s=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(A)}function d(A){return A===s?(a++,e.consume(A),d):a<3?n(A):(e.exit("codeFencedFenceSequence"),Vn(A)?rr(e,u,"whitespace")(A):u(A))}function u(A){return A===null||Xt(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(sG,x,I)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(A))}function p(A){return A===null||Xt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(A)):Vn(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rr(e,m,"whitespace")(A)):A===96&&A===s?n(A):(e.consume(A),p)}function m(A){return A===null||Xt(A)?u(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(A))}function v(A){return A===null||Xt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(A)):A===96&&A===s?n(A):(e.consume(A),v)}function x(A){return e.attempt(i,I,w)(A)}function w(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),T}function T(A){return o>0&&Vn(A)?rr(e,k,"linePrefix",o+1)(A):k(A)}function k(A){return A===null||Xt(A)?e.check(sG,x,I)(A):(e.enter("codeFlowValue"),O(A))}function O(A){return A===null||Xt(A)?(e.exit("codeFlowValue"),k(A)):(e.consume(A),O)}function I(A){return e.exit("codeFenced"),t(A)}function N(A,R,L){let B=0;return $;function $(Z){return A.enter("lineEnding"),A.consume(Z),A.exit("lineEnding"),q}function q(Z){return A.enter("codeFencedFence"),Vn(Z)?rr(A,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):z(Z)}function z(Z){return Z===s?(A.enter("codeFencedFenceSequence"),W(Z)):L(Z)}function W(Z){return Z===s?(B++,A.consume(Z),W):B>=a?(A.exit("codeFencedFenceSequence"),Vn(Z)?rr(A,G,"whitespace")(Z):G(Z)):L(Z)}function G(Z){return Z===null||Xt(Z)?(A.exit("codeFencedFence"),R(Z)):L(Z)}}}function yze(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const WP={name:"codeIndented",tokenize:vze},bze={partial:!0,tokenize:xze};function vze(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),rr(e,o,"linePrefix",5)(c)}function o(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):Xt(c)?e.attempt(bze,a,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||Xt(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function xze(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Xt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):rr(e,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):Xt(a)?i(a):n(a)}}const wze={name:"codeText",previous:Sze,resolve:Eze,tokenize:Cze};function Eze(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Sze(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Cze(e,t,n){let r=0,i,o;return a;function a(u){return e.enter("codeText"),e.enter("codeTextSequence"),s(u)}function s(u){return u===96?(e.consume(u),r++,s):(e.exit("codeTextSequence"),l(u))}function l(u){return u===null?n(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),l):u===96?(o=e.enter("codeTextSequence"),i=0,d(u)):Xt(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(u))}function c(u){return u===null||u===32||u===96||Xt(u)?(e.exit("codeTextData"),l(u)):(e.consume(u),c)}function d(u){return u===96?(e.consume(u),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(u)):(o.type="codeTextData",c(u))}}class Tze{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&jE(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),jE(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),jE(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);jE(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);jE(this.left,n.reverse())}}}function jE(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function xfe(e){const t={};let n=-1,r,i,o,a,s,l,c;const d=new Tze(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,kze(d,n)),n=t[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=d.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},s=d.slice(i,n),s.unshift(r),d.splice(i,n-i+1,s))}}return Nl(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function kze(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],c={};let d,u,p=-1,m=n,v=0,x=0;const w=[x];for(;m;){for(;e.get(++i)[1]!==m;);o.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),u&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),u=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(x=p+1,w.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):w.pop(),p=w.length;p--;){const T=s.slice(w[p],w[p+1]),k=o.pop();l.push([k,k+T.length-1]),e.splice(k,2,T)}for(l.reverse(),p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const _ze={resolve:Oze,tokenize:Nze},Aze={partial:!0,tokenize:Mze};function Oze(e){return xfe(e),e}function Nze(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):Xt(s)?e.check(Aze,a,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function a(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Mze(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),rr(e,o,"linePrefix")}function o(a){if(a===null||Xt(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function wfe(e,t,n,r,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return u;function u(T){return T===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(T),e.exit(o),p):T===null||T===32||T===41||kN(T)?n(T):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),x(T))}function p(T){return T===62?(e.enter(o),e.consume(T),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===62?(e.exit("chunkString"),e.exit(s),p(T)):T===null||T===60||Xt(T)?n(T):(e.consume(T),T===92?v:m)}function v(T){return T===60||T===62||T===92?(e.consume(T),m):m(T)}function x(T){return!d&&(T===null||T===41||zr(T))?(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(T)):d<c&&T===40?(e.consume(T),d++,x):T===41?(e.consume(T),d--,x):T===null||T===32||T===40||kN(T)?n(T):(e.consume(T),T===92?w:x)}function w(T){return T===40||T===41||T===92?(e.consume(T),x):x(T)}}function Efe(e,t,n,r,i,o){const a=this;let s=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(o),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(m):m===93?(e.exit(o),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Xt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),u(m))}function u(m){return m===null||m===91||m===93||Xt(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!Vn(m)),m===92?p:u)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,u):u(m)}}function Sfe(e,t,n,r,i,o){let a;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),a=p===40?41:p,l):n(p)}function l(p){return p===a?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(o),c(p))}function c(p){return p===a?(e.exit(o),l(a)):p===null?n(p):Xt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),rr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===a||p===null||Xt(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?u:d)}function u(p){return p===a||p===92?(e.consume(p),d):d(p)}}function RS(e,t){let n;return r;function r(i){return Xt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Vn(i)?rr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Dze={name:"definition",tokenize:Ize},Rze={partial:!0,tokenize:Pze};function Ize(e,t,n){const r=this;let i;return o;function o(m){return e.enter("definition"),a(m)}function a(m){return Efe.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return i=mu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return zr(m)?RS(e,c)(m):c(m)}function c(m){return wfe(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Rze,u,u)(m)}function u(m){return Vn(m)?rr(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Xt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Pze(e,t,n){return r;function r(s){return zr(s)?RS(e,i)(s):n(s)}function i(s){return Sfe(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return Vn(s)?rr(e,a,"whitespace")(s):a(s)}function a(s){return s===null||Xt(s)?t(s):n(s)}}const Lze={name:"hardBreakEscape",tokenize:jze};function jze(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return Xt(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const Bze={name:"headingAtx",resolve:$ze,tokenize:Hze};function $ze(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Nl(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function Hze(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||zr(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Xt(d)?(e.exit("atxHeading"),t(d)):Vn(d)?rr(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||zr(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const Fze=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cG=["pre","script","style","textarea"],Uze={concrete:!0,name:"htmlFlow",resolveTo:qze,tokenize:Wze},zze={partial:!0,tokenize:Gze},Vze={partial:!0,tokenize:Yze};function qze(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Wze(e,t,n){const r=this;let i,o,a,s,l;return c;function c(U){return d(U)}function d(U){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(U),u}function u(U){return U===33?(e.consume(U),p):U===47?(e.consume(U),o=!0,x):U===63?(e.consume(U),i=3,r.interrupt?t:K):ts(U)?(e.consume(U),a=String.fromCharCode(U),w):n(U)}function p(U){return U===45?(e.consume(U),i=2,m):U===91?(e.consume(U),i=5,s=0,v):ts(U)?(e.consume(U),i=4,r.interrupt?t:K):n(U)}function m(U){return U===45?(e.consume(U),r.interrupt?t:K):n(U)}function v(U){const fe="CDATA[";return U===fe.charCodeAt(s++)?(e.consume(U),s===fe.length?r.interrupt?t:z:v):n(U)}function x(U){return ts(U)?(e.consume(U),a=String.fromCharCode(U),w):n(U)}function w(U){if(U===null||U===47||U===62||zr(U)){const fe=U===47,me=a.toLowerCase();return!fe&&!o&&cG.includes(me)?(i=1,r.interrupt?t(U):z(U)):Fze.includes(a.toLowerCase())?(i=6,fe?(e.consume(U),T):r.interrupt?t(U):z(U)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(U):o?k(U):O(U))}return U===45||Ca(U)?(e.consume(U),a+=String.fromCharCode(U),w):n(U)}function T(U){return U===62?(e.consume(U),r.interrupt?t:z):n(U)}function k(U){return Vn(U)?(e.consume(U),k):$(U)}function O(U){return U===47?(e.consume(U),$):U===58||U===95||ts(U)?(e.consume(U),I):Vn(U)?(e.consume(U),O):$(U)}function I(U){return U===45||U===46||U===58||U===95||Ca(U)?(e.consume(U),I):N(U)}function N(U){return U===61?(e.consume(U),A):Vn(U)?(e.consume(U),N):O(U)}function A(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(e.consume(U),l=U,R):Vn(U)?(e.consume(U),A):L(U)}function R(U){return U===l?(e.consume(U),l=null,B):U===null||Xt(U)?n(U):(e.consume(U),R)}function L(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||zr(U)?N(U):(e.consume(U),L)}function B(U){return U===47||U===62||Vn(U)?O(U):n(U)}function $(U){return U===62?(e.consume(U),q):n(U)}function q(U){return U===null||Xt(U)?z(U):Vn(U)?(e.consume(U),q):n(U)}function z(U){return U===45&&i===2?(e.consume(U),V):U===60&&i===1?(e.consume(U),ne):U===62&&i===4?(e.consume(U),Q):U===63&&i===3?(e.consume(U),K):U===93&&i===5?(e.consume(U),oe):Xt(U)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(zze,te,W)(U)):U===null||Xt(U)?(e.exit("htmlFlowData"),W(U)):(e.consume(U),z)}function W(U){return e.check(Vze,G,te)(U)}function G(U){return e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),Z}function Z(U){return U===null||Xt(U)?W(U):(e.enter("htmlFlowData"),z(U))}function V(U){return U===45?(e.consume(U),K):z(U)}function ne(U){return U===47?(e.consume(U),a="",X):z(U)}function X(U){if(U===62){const fe=a.toLowerCase();return cG.includes(fe)?(e.consume(U),Q):z(U)}return ts(U)&&a.length<8?(e.consume(U),a+=String.fromCharCode(U),X):z(U)}function oe(U){return U===93?(e.consume(U),K):z(U)}function K(U){return U===62?(e.consume(U),Q):U===45&&i===2?(e.consume(U),K):z(U)}function Q(U){return U===null||Xt(U)?(e.exit("htmlFlowData"),te(U)):(e.consume(U),Q)}function te(U){return e.exit("htmlFlow"),t(U)}}function Yze(e,t,n){const r=this;return i;function i(a){return Xt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function Gze(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ZT,t,n)}}const Kze={name:"htmlText",tokenize:Xze};function Xze(e,t,n){const r=this;let i,o,a;return s;function s(K){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(K),l}function l(K){return K===33?(e.consume(K),c):K===47?(e.consume(K),N):K===63?(e.consume(K),O):ts(K)?(e.consume(K),L):n(K)}function c(K){return K===45?(e.consume(K),d):K===91?(e.consume(K),o=0,v):ts(K)?(e.consume(K),k):n(K)}function d(K){return K===45?(e.consume(K),m):n(K)}function u(K){return K===null?n(K):K===45?(e.consume(K),p):Xt(K)?(a=u,ne(K)):(e.consume(K),u)}function p(K){return K===45?(e.consume(K),m):u(K)}function m(K){return K===62?V(K):K===45?p(K):u(K)}function v(K){const Q="CDATA[";return K===Q.charCodeAt(o++)?(e.consume(K),o===Q.length?x:v):n(K)}function x(K){return K===null?n(K):K===93?(e.consume(K),w):Xt(K)?(a=x,ne(K)):(e.consume(K),x)}function w(K){return K===93?(e.consume(K),T):x(K)}function T(K){return K===62?V(K):K===93?(e.consume(K),T):x(K)}function k(K){return K===null||K===62?V(K):Xt(K)?(a=k,ne(K)):(e.consume(K),k)}function O(K){return K===null?n(K):K===63?(e.consume(K),I):Xt(K)?(a=O,ne(K)):(e.consume(K),O)}function I(K){return K===62?V(K):O(K)}function N(K){return ts(K)?(e.consume(K),A):n(K)}function A(K){return K===45||Ca(K)?(e.consume(K),A):R(K)}function R(K){return Xt(K)?(a=R,ne(K)):Vn(K)?(e.consume(K),R):V(K)}function L(K){return K===45||Ca(K)?(e.consume(K),L):K===47||K===62||zr(K)?B(K):n(K)}function B(K){return K===47?(e.consume(K),V):K===58||K===95||ts(K)?(e.consume(K),$):Xt(K)?(a=B,ne(K)):Vn(K)?(e.consume(K),B):V(K)}function $(K){return K===45||K===46||K===58||K===95||Ca(K)?(e.consume(K),$):q(K)}function q(K){return K===61?(e.consume(K),z):Xt(K)?(a=q,ne(K)):Vn(K)?(e.consume(K),q):B(K)}function z(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(e.consume(K),i=K,W):Xt(K)?(a=z,ne(K)):Vn(K)?(e.consume(K),z):(e.consume(K),G)}function W(K){return K===i?(e.consume(K),i=void 0,Z):K===null?n(K):Xt(K)?(a=W,ne(K)):(e.consume(K),W)}function G(K){return K===null||K===34||K===39||K===60||K===61||K===96?n(K):K===47||K===62||zr(K)?B(K):(e.consume(K),G)}function Z(K){return K===47||K===62||zr(K)?B(K):n(K)}function V(K){return K===62?(e.consume(K),e.exit("htmlTextData"),e.exit("htmlText"),t):n(K)}function ne(K){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(K),e.exit("lineEnding"),X}function X(K){return Vn(K)?rr(e,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):oe(K)}function oe(K){return e.enter("htmlTextData"),a(K)}}const WF={name:"labelEnd",resolveAll:eVe,resolveTo:tVe,tokenize:nVe},Zze={tokenize:rVe},Qze={tokenize:iVe},Jze={tokenize:oVe};function eVe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Nl(e,0,e.length,n),e}function tVe(e,t){let n=e.length,r=0,i,o,a,s;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=ac(s,e.slice(o+1,o+r+3)),s=ac(s,[["enter",d,t]]),s=ac(s,sR(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),s=ac(s,[["exit",d,t],e[a-2],e[a-1],["exit",c,t]]),s=ac(s,e.slice(a+1)),s=ac(s,[["exit",l,t]]),Nl(e,o,e.length,s),e}function nVe(e,t,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(p){return o?o._inactive?u(p):(a=r.parser.defined.includes(mu(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(Zze,d,a?d:u)(p):p===91?e.attempt(Qze,d,a?c:u)(p):a?d(p):u(p)}function c(p){return e.attempt(Jze,d,u)(p)}function d(p){return t(p)}function u(p){return o._balanced=!0,n(p)}}function rVe(e,t,n){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),i}function i(u){return zr(u)?RS(e,o)(u):o(u)}function o(u){return u===41?d(u):wfe(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function a(u){return zr(u)?RS(e,l)(u):d(u)}function s(u){return n(u)}function l(u){return u===34||u===39||u===40?Sfe(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):d(u)}function c(u){return zr(u)?RS(e,d)(u):d(u)}function d(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}function iVe(e,t,n){const r=this;return i;function i(s){return Efe.call(r,e,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(mu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function a(s){return n(s)}}function oVe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const aVe={name:"labelStartImage",resolveAll:WF.resolveAll,tokenize:sVe};function sVe(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const lVe={name:"labelStartLink",resolveAll:WF.resolveAll,tokenize:cVe};function cVe(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const YP={name:"lineEnding",tokenize:uVe};function uVe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),rr(e,t,"linePrefix")}}const iO={name:"thematicBreak",tokenize:dVe};function dVe(e,t,n){let r=0,i;return o;function o(c){return e.enter("thematicBreak"),a(c)}function a(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Xt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Vn(c)?rr(e,s,"whitespace")(c):s(c))}}const Os={continuation:{tokenize:mVe},exit:yVe,name:"list",tokenize:pVe},fVe={partial:!0,tokenize:bVe},hVe={partial:!0,tokenize:gVe};function pVe(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:i8(m)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(iO,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return i8(m)&&++a<10?(e.consume(m),l):(!r.interrupt||a<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(ZT,r.interrupt?n:d,e.attempt(fVe,p,u))}function d(m){return r.containerState.initialBlankLine=!0,o++,p(m)}function u(m){return Vn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function mVe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ZT,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rr(e,t,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!Vn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(hVe,t,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,rr(e,e.attempt(Os,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function gVe(e,t,n){const r=this;return rr(e,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function yVe(e){e.exit(this.containerState.type)}function bVe(e,t,n){const r=this;return rr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!Vn(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const uG={name:"setextUnderline",resolveTo:vVe,tokenize:xVe};function vVe(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function xVe(e,t,n){const r=this;let i;return o;function o(c){let d=r.events.length,u;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){u=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||u)?(e.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Vn(c)?rr(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Xt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const wVe={tokenize:OVe,partial:!0};function EVe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:kVe,continuation:{tokenize:_Ve},exit:AVe}},text:{91:{name:"gfmFootnoteCall",tokenize:TVe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:SVe,resolveTo:CVe}}}}function SVe(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!a||!a._balanced)return n(l);const c=mu(r.sliceSerialize({start:a.end,end:r.now()}));return c.codePointAt(0)!==94||!o.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function CVe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function TVe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return s;function s(u){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),l}function l(u){return u!==94?n(u):(e.enter("gfmFootnoteCallMarker"),e.consume(u),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(u){if(o>999||u===93&&!a||u===null||u===91||zr(u))return n(u);if(u===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(mu(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(u)}return zr(u)||(a=!0),o++,e.consume(u),u===92?d:c}function d(u){return u===91||u===92||u===93?(e.consume(u),o++,c):c(u)}}function kVe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,s;return l;function l(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(v)}function d(v){if(a>999||v===93&&!s||v===null||v===91||zr(v))return n(v);if(v===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return o=mu(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return zr(v)||(s=!0),a++,e.consume(v),v===92?u:d}function u(v){return v===91||v===92||v===93?(e.consume(v),a++,d):d(v)}function p(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),i.includes(o)||i.push(o),rr(e,m,"gfmFootnoteDefinitionWhitespace")):n(v)}function m(v){return t(v)}}function _Ve(e,t,n){return e.check(ZT,t,e.attempt(wVe,t,n))}function AVe(e){e.exit("gfmFootnoteDefinition")}function OVe(e,t,n){const r=this;return rr(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(o):n(o)}}function NVe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,s){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let c=l;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[l][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[l][1].end)},u={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[l][1].start)},p=[["enter",d,s],["enter",a[c][1],s],["exit",a[c][1],s],["enter",u,s]],m=s.parser.constructs.insideSpan.null;m&&Nl(p,p.length,0,sR(m,a.slice(c+1,l),s)),Nl(p,p.length,0,[["exit",u,s],["enter",a[l][1],s],["exit",a[l][1],s],["exit",d,s]]),Nl(a,c-1,l-c+3,p),l=c+p.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,s,l){const c=this.previous,d=this.events;let u=0;return p;function p(v){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(v):(a.enter("strikethroughSequenceTemporary"),m(v))}function m(v){const x=x1(c);if(v===126)return u>1?l(v):(a.consume(v),u++,m);if(u<2&&!n)return l(v);const w=a.exit("strikethroughSequenceTemporary"),T=x1(v);return w._open=!T||T===2&&!!x,w._close=!x||x===2&&!!T,s(v)}}}class MVe{constructor(){this.map=[]}add(t,n,r){DVe(this,t,n,r)}consume(t){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function DVe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function RVe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function IVe(){return{flow:{null:{name:"table",tokenize:PVe,resolveAll:LVe}}}}function PVe(e,t,n){const r=this;let i=0,o=0,a;return s;function s($){let q=r.events.length-1;for(;q>-1;){const G=r.events[q][1].type;if(G==="lineEnding"||G==="linePrefix")q--;else break}const z=q>-1?r.events[q][1].type:null,W=z==="tableHead"||z==="tableRow"?A:l;return W===A&&r.parser.lazy[r.now().line]?n($):W($)}function l($){return e.enter("tableHead"),e.enter("tableRow"),c($)}function c($){return $===124||(a=!0,o+=1),d($)}function d($){return $===null?n($):Xt($)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),m):n($):Vn($)?rr(e,d,"whitespace")($):(o+=1,a&&(a=!1,i+=1),$===124?(e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),u($)))}function u($){return $===null||$===124||zr($)?(e.exit("data"),d($)):(e.consume($),$===92?p:u)}function p($){return $===92||$===124?(e.consume($),u):u($)}function m($){return r.interrupt=!1,r.parser.lazy[r.now().line]?n($):(e.enter("tableDelimiterRow"),a=!1,Vn($)?rr(e,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):v($))}function v($){return $===45||$===58?w($):$===124?(a=!0,e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),x):N($)}function x($){return Vn($)?rr(e,w,"whitespace")($):w($)}function w($){return $===58?(o+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume($),e.exit("tableDelimiterMarker"),T):$===45?(o+=1,T($)):$===null||Xt($)?I($):N($)}function T($){return $===45?(e.enter("tableDelimiterFiller"),k($)):N($)}function k($){return $===45?(e.consume($),k):$===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume($),e.exit("tableDelimiterMarker"),O):(e.exit("tableDelimiterFiller"),O($))}function O($){return Vn($)?rr(e,I,"whitespace")($):I($)}function I($){return $===124?v($):$===null||Xt($)?!a||i!==o?N($):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t($)):N($)}function N($){return n($)}function A($){return e.enter("tableRow"),R($)}function R($){return $===124?(e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),R):$===null||Xt($)?(e.exit("tableRow"),t($)):Vn($)?rr(e,R,"whitespace")($):(e.enter("data"),L($))}function L($){return $===null||$===124||zr($)?(e.exit("data"),R($)):(e.consume($),$===92?B:L)}function B($){return $===92||$===124?(e.consume($),L):L($)}}function LVe(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],s=!1,l=0,c,d,u;const p=new MVe;for(;++n<e.length;){const m=e[n],v=m[1];m[0]==="enter"?v.type==="tableHead"?(s=!1,l!==0&&(dG(p,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",c,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,u=void 0,o=[0,0,0,0],a=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",d,t]])),i=v.type==="tableDelimiterRow"?2:d?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],u=hA(p,t,o,i,void 0,u),o=[0,0,0,0]),a[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],u=hA(p,t,o,i,void 0,u)),o=a,a=[o[1],n,0,0])):v.type==="tableHead"?(s=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,o[1]!==0?(a[0]=a[1],u=hA(p,t,o,i,n,u)):a[1]!==0&&(u=hA(p,t,a,i,n,u)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&dG(p,t,l,c,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=RVe(t.events,n))}return e}function hA(e,t,n,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(o.end=Object.assign({},bv(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const l=bv(t.events,n[1]);if(o={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const c=bv(t.events,n[2]),d=bv(t.events,n[3]),u={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",u,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,x=n[3]-n[2]-1;e.add(v,x,[])}}e.add(n[3]+1,0,[["exit",u,t]])}return i!==void 0&&(o.end=Object.assign({},bv(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function dG(e,t,n,r,i){const o=[],a=bv(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function bv(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const jVe={name:"tasklistCheck",tokenize:$Ve};function BVe(){return{text:{91:jVe}}}function $Ve(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),o)}function o(l){return zr(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Xt(l)?t(l):Vn(l)?e.check({tokenize:HVe},t,n)(l):n(l)}}function HVe(e,t,n){return rr(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function FVe(e){return lfe([ZUe(),EVe(),NVe(e),IVe(),BVe()])}const UVe={};function Cfe(e){const t=this,n=e||UVe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(FVe(n)),o.push(qUe()),a.push(WUe(n))}function zVe(e){const t=this;t.compiler=n;function n(r){return _Ue(r,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}function fG(e){if(e)throw e}var GP,hG;function VVe(){if(hG)return GP;hG=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},o=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),u=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!u)return!1;var p;for(p in c);return typeof p>"u"||e.call(c,p)},a=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},s=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return GP=function l(){var c,d,u,p,m,v,x=arguments[0],w=1,T=arguments.length,k=!1;for(typeof x=="boolean"&&(k=x,x=arguments[1]||{},w=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});w<T;++w)if(c=arguments[w],c!=null)for(d in c)u=s(x,d),p=s(c,d),x!==p&&(k&&p&&(o(p)||(m=i(p)))?(m?(m=!1,v=u&&i(u)?u:[]):v=u&&o(u)?u:{},a(x,{name:d,newValue:l(k,v,p)})):typeof p<"u"&&a(x,{name:d,newValue:p}));return x},GP}var qVe=VVe();const KP=vr(qVe);function l8(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function WVe(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...c){const d=e[++o];let u=-1;if(l){a(l);return}for(;++u<i.length;)(c[u]===null||c[u]===void 0)&&(c[u]=i[u]);i=c,d?YVe(d,s)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function YVe(e,t){let n;return r;function r(...a){const s=e.length>a.length;let l;s&&a.push(i);try{l=e.apply(this,a)}catch(c){const d=c;if(s&&n)throw d;return i(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,t(a,...s))}function o(a){i(null,a)}}const GVe=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),KVe={}.hasOwnProperty;class YF extends GVe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=WVe()}copy(){const t=new YF;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(KP(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(QP("data",this.frozen),this.namespace[t]=n,this):KVe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(QP("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=pA(t),r=this.parser||this.Parser;return XP("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),XP("process",this.parser||this.Parser),ZP("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=pA(t),l=r.parse(s);r.run(l,s,function(d,u,p){if(d||!u||!p)return c(d);const m=u,v=r.stringify(m,p);ZVe(v)?p.value=v:p.result=v,c(d,p)});function c(d,u){d||!u?a(d):o?o(u):n(void 0,u)}}}processSync(t){let n=!1,r;return this.freeze(),XP("processSync",this.parser||this.Parser),ZP("processSync",this.compiler||this.Compiler),this.process(t,i),mG("processSync","process",n),r;function i(o,a){n=!0,fG(o),r=a}}run(t,n,r){pG(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=pA(n);i.run(t,l,c);function c(d,u,p){const m=u||t;d?s(d):a?a(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),mG("runSync","run",r),i;function o(a,s){fG(a),i=s,r=!0}}stringify(t,n){this.freeze();const r=pA(n),i=this.compiler||this.Compiler;return ZP("stringify",i),pG(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(QP("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...u]=c;l(d,u)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=KP(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const u=c[d];o(u)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let u=-1,p=-1;for(;++u<r.length;)if(r[u][0]===c){p=u;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...v]=d;const x=r[p][1];l8(x)&&l8(m)&&(m=KP(!0,x,m)),r[p]=[c,m,...v]}}}}const Tfe=new YF().freeze();function XP(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ZP(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function QP(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pG(e){if(!l8(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function mG(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function pA(e){return XVe(e)?e:new n8(e)}function XVe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ZVe(e){return typeof e=="string"||QVe(e)}function QVe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}function JVe(e,t){return kfe(e,{})||{type:"root",children:[]}}function kfe(e,t){const n=eqe(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function eqe(e,t){switch(e.nodeType){case 1:return iqe(e,t);case 3:return nqe(e);case 8:return rqe(e);case 9:return gG(e,t);case 10:return tqe();case 11:return gG(e,t);default:return}}function gG(e,t){return{type:"root",children:_fe(e,t)}}function tqe(){return{type:"doctype"}}function nqe(e){return{type:"text",value:e.nodeValue||""}}function rqe(e){return{type:"comment",value:e.nodeValue||""}}function iqe(e,t){const n=e.namespaceURI,r=n===tO.svg?Pue:Iue,i=n===tO.html?e.tagName.toLowerCase():e.tagName,o=n===tO.html&&i==="template"?e.content:e,a=e.getAttributeNames(),s={};let l=-1;for(;++l<a.length;)s[a[l]]=e.getAttribute(a[l])||"";return r(i,s,_fe(o,t))}function _fe(e,t){const n=e.childNodes,r=[];let i=-1;for(;++i<n.length;){const o=kfe(n[i],t);o!==void 0&&r.push(o)}return r}const oqe=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else n!==void 0&&n()}},aqe=/[\uD800-\uDBFF]/,sqe=/[\uDC00-\uDFFF]/,lqe=(e,t)=>{let n=0,r=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;for(n>0&&aqe.test(e[n-1])&&n--;r+n<e.length&&r+n<t.length&&e[e.length-r-1]===t[t.length-r-1];)r++;return r>0&&sqe.test(e[e.length-r])&&r--,{index:n,remove:e.length-n-r,insert:t.slice(n,t.length-r)}},cqe=lqe,Nr=new wn("y-sync"),uc=new wn("y-undo"),aS=new wn("yjs-cursor"),Sd=(e,t)=>e>>>t|e<<32-t,uqe=e=>Sd(e,2)^Sd(e,13)^Sd(e,22),dqe=e=>Sd(e,6)^Sd(e,11)^Sd(e,25),fqe=e=>Sd(e,7)^Sd(e,18)^e>>>3,hqe=e=>Sd(e,17)^Sd(e,19)^e>>>10,pqe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mqe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class gqe{constructor(){const t=new ArrayBuffer(320);this._H=new Uint32Array(t,0,8),this._H.set(mqe),this._W=new Uint32Array(t,64,64)}_updateHash(){const t=this._H,n=this._W;for(let u=16;u<64;u++)n[u]=hqe(n[u-2])+n[u-7]+fqe(n[u-15])+n[u-16];let r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],d=t[7];for(let u=0,p,m;u<64;u++)p=d+dqe(s)+(s&l^~s&c)+pqe[u]+n[u]>>>0,m=uqe(r)+(r&i^r&o^i&o)>>>0,d=c,c=l,l=s,s=a+p>>>0,a=o,o=i,i=r,r=p+m>>>0;t[0]+=r,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=l,t[6]+=c,t[7]+=d}digest(t){let n=0;for(;n+56<=t.length;){let a=0;for(;a<16&&n+3<t.length;a++)this._W[a]=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++];if(n%64!==0){for(this._W.fill(0,a,16);n<t.length;)this._W[a]|=t[n]<<(3-n%4)*8,n++;this._W[a]|=rs<<(3-n%4)*8}this._updateHash()}const r=n%64!==0;this._W.fill(0,0,16);let i=0;for(;n<t.length;i++)for(let a=3;a>=0&&n<t.length;a--)this._W[i]|=t[n++]<<a*8;r||(this._W[i-(n%4===0?0:1)]|=rs<<(3-n%4)*8),this._W[14]=t.byteLength/_je,this._W[15]=t.byteLength*8,this._updateHash();const o=new Uint8Array(32);for(let a=0;a<this._H.length;a++)for(let s=0;s<4;s++)o[a*4+s]=this._H[a]>>>(3-s)*8;return o}}const yqe=e=>new gqe().digest(e),bqe=e=>{for(let n=6;n<e.length;n++)e[n%6]=e[n%6]^e[n];return e.slice(0,6)},vqe=e=>_5e(bqe(yqe(O5e(e)))),AN=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&t.sv.get(e.id.client)>e.id.clock&&!lx(t.ds,e.id),xqe=[{light:"#ecd44433",dark:"#ecd444"}],wqe=(e,t,n)=>{if(!e.has(n)){if(e.size<t.length){const r=j0();e.forEach(i=>r.add(i)),t=t.filter(i=>!r.has(i))}e.set(n,a5e(t))}return e.get(n)},Eqe=(e,{colors:t=xqe,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:i=()=>{},mapping:o}={})=>{let a=!1;const s=new Cqe(e,o),l=new rn({props:{editable:c=>{const d=Nr.getState(c);return d.snapshot==null&&d.prevSnapshot==null}},key:Nr,state:{init:(c,d)=>({type:e,doc:e.doc,binding:s,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:t,colorMapping:n,permanentUserData:r}),apply:(c,d)=>{const u=c.getMeta(Nr);if(u!==void 0){d=Object.assign({},d);for(const p in u)d[p]=u[p]}return d.addToHistory=c.getMeta("addToHistory")!==!1,d.isChangeOrigin=u!==void 0&&!!u.isChangeOrigin,d.isUndoRedoOperation=u!==void 0&&!!u.isChangeOrigin&&!!u.isUndoRedoOperation,s.prosemirrorView!==null&&u!==void 0&&(u.snapshot!=null||u.prevSnapshot!=null)&&Q9(0,()=>{s.prosemirrorView!=null&&(u.restore==null?s._renderSnapshot(u.snapshot,u.prevSnapshot,d):(s._renderSnapshot(u.snapshot,u.snapshot,d),delete d.restore,delete d.snapshot,delete d.prevSnapshot,s.mux(()=>{s._prosemirrorChanged(s.prosemirrorView.state.doc)})))}),d}},view:c=>(s.initView(c),o==null&&s._forceRerender(),i(),{update:()=>{const d=l.getState(c.state);if(d.snapshot==null&&d.prevSnapshot==null&&(a||c.state.doc.content.findDiffStart(c.state.doc.type.createAndFill().content)!==null)){if(a=!0,d.addToHistory===!1&&!d.isChangeOrigin){const u=uc.getState(c.state),p=u&&u.undoManager;p&&p.stopCapturing()}s.mux(()=>{d.doc.transact(u=>{u.meta.set("addToHistory",d.addToHistory),s._prosemirrorChanged(c.state.doc)},Nr)})}},destroy:()=>{s.destroy()}})});return l},Sqe=(e,t,n)=>{if(t!==null&&t.anchor!==null&&t.head!==null)if(t.type==="all")e.setSelection(new Fs(e.doc));else if(t.type==="node"){const r=v0(n.doc,n.type,t.anchor,n.mapping);e.setSelection(Rt.create(e.doc,r))}else{const r=v0(n.doc,n.type,t.anchor,n.mapping),i=v0(n.doc,n.type,t.head,n.mapping);if(r!==null&&i!==null){const o=St.between(e.doc.resolve(r),e.doc.resolve(i));e.setSelection(o)}}},ON=(e,t)=>({type:t.selection.jsonID,anchor:CC(t.selection.anchor,e.type,e.mapping),head:CC(t.selection.head,e.type,e.mapping)});class Cqe{constructor(t,n=new Map){this.type=t,this.prosemirrorView=null,this.mux=oqe(),this.mapping=n,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=t.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=ON(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(xce&&this._domSelectionInView===null&&(Q9(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const t=this.prosemirrorView._root.getSelection();if(t==null||t.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const i=n.getBoundingClientRect(),o=M5e.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||o.clientWidth||0)&&i.top<=(window.innerHeight||o.clientHeight||0)}renderSnapshot(t,n){n||(n=$ce(Oce(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Nr,{snapshot:t,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const t=this.type.toArray().map(r=>oO(r,this.prosemirrorView.state.schema,this)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(He.from(t),0,0));n.setMeta(Nr,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const t=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(i=>oO(i,this.prosemirrorView.state.schema,this)).filter(i=>i!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(He.from(n),0,0));if(t){const i=Ff(vu(t.anchor,0),r.doc.content.size),o=Ff(vu(t.head,0),r.doc.content.size);r.setSelection(St.create(r.doc,i,o))}this.prosemirrorView.dispatch(r.setMeta(Nr,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(t,n,r){let i=this.doc,o=this.type;if(t||(t=xP(this.doc)),t instanceof Uint8Array||n instanceof Uint8Array)if((!(t instanceof Uint8Array)||!(n instanceof Uint8Array))&&Rl(),i=new pm({gc:!1}),$O(i,n),n=xP(i),$O(i,t),t=xP(i),o._item===null){const a=Array.from(this.doc.share.keys()).find(s=>this.doc.share.get(s)===this.type);o=i.getXmlFragment(a)}else{const a=i.store.clients.get(o._item.id.client)??[],s=Ec(a,o._item.id.clock);o=a[s].content.type}this.mapping.clear(),this.mux(()=>{i.transact(a=>{const s=r.permanentUserData;s&&s.dss.forEach(u=>{om(a,u,p=>{})});const l=(u,p)=>{const m=u==="added"?s.getUserByClientId(p.client):s.getUserByDeletedId(p);return{user:m,type:u,color:wqe(r.colorMapping,r.colors,m)}},c=Xce(o,new iF(n.ds,t.sv)).map(u=>!u._item.deleted||AN(u._item,t)||AN(u._item,n)?oO(u,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},t,n,l):null).filter(u=>u!==null),d=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(He.from(c),0,0));this.prosemirrorView.dispatch(d.setMeta(Nr,{isChangeOrigin:!0}))},Nr)})}_typeChanged(t,n){if(this.prosemirrorView==null)return;const r=Nr.getState(this.prosemirrorView.state);if(t.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{const i=(s,l)=>this.mapping.delete(l);om(n,n.deleteSet,s=>{if(s.constructor===ii){const l=s.content.type;l&&this.mapping.delete(l)}}),n.changed.forEach(i),n.changedParentTypes.forEach(i);const o=this.type.toArray().map(s=>Afe(s,this.prosemirrorView.state.schema,this)).filter(s=>s!==null);let a=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new at(He.from(o),0,0));Sqe(a,this.beforeTransactionSelection,this),a=a.setMeta(Nr,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof Vce}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&a.scrollIntoView(),this.prosemirrorView.dispatch(a)})}_prosemirrorChanged(t){this.doc.transact(()=>{u8(this.doc,this.type,t,this),this.beforeTransactionSelection=ON(this,this.prosemirrorView.state)},Nr)}initView(t){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=t,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const Afe=(e,t,n,r,i,o)=>{const a=n.mapping.get(e);if(a===void 0){if(e instanceof ea)return oO(e,t,n,r,i,o);throw pu()}return a},oO=(e,t,n,r,i,o)=>{const a=[],s=l=>{if(l instanceof ea){const c=Afe(l,t,n,r,i,o);c!==null&&a.push(c)}else{const c=l._item.right?.content?.type;c instanceof am&&!c._item.deleted&&c._item.id.client===c.doc.clientID&&(l.applyDelta([{retain:l.length},...c.toDelta()]),c.doc.transact(u=>{c._item.delete(u)}));const d=Tqe(l,t,n,r,i,o);d!==null&&d.forEach(u=>{u!==null&&a.push(u)})}};r===void 0||i===void 0?e.toArray().forEach(s):Xce(e,new iF(i.ds,r.sv)).forEach(s);try{const l=e.getAttributes(r);r!==void 0&&(AN(e._item,r)?AN(e._item,i)||(l.ychange=o?o("added",e._item.id):{type:"added"}):l.ychange=o?o("removed",e._item.id):{type:"removed"});const c=t.node(e.nodeName,l,a);return n.mapping.set(e,c),c}catch{return e.doc.transact(c=>{e._item.delete(c)},Nr),n.mapping.delete(e),null}},Tqe=(e,t,n,r,i,o)=>{const a=[],s=e.toDelta(r,i,o);try{for(let l=0;l<s.length;l++){const c=s[l];a.push(t.text(c.insert,Mqe(c.attributes,t)))}}catch{return e.doc.transact(c=>{e._item.delete(c)},Nr),null}return a},kqe=(e,t)=>{const n=new Ol,r=e.map(i=>({insert:i.text,attributes:Mfe(i.marks,t)}));return n.applyDelta(r),t.mapping.set(n,e),n},_qe=(e,t)=>{const n=new ea(e.type.name);for(const r in e.attrs){const i=e.attrs[r];i!==null&&r!=="ychange"&&n.setAttribute(r,i)}return n.insert(0,lR(e).map(r=>c8(r,t))),t.mapping.set(n,e),n},c8=(e,t)=>e instanceof Array?kqe(e,t):_qe(e,t),yG=e=>typeof e=="object"&&e!==null,GF=(e,t)=>{const n=Object.keys(e).filter(i=>e[i]!==null);let r=n.length===(t==null?0:Object.keys(t).filter(i=>t[i]!==null).length);for(let i=0;i<n.length&&r;i++){const o=n[i],a=e[o],s=t[o];r=o==="ychange"||a===s||yG(a)&&yG(s)&&GF(a,s)}return r},lR=e=>{const t=e.content.content,n=[];for(let r=0;r<t.length;r++){const i=t[r];if(i.isText){const o=[];for(let a=t[r];r<t.length&&a.isText;a=t[++r])o.push(a);r--,n.push(o)}else n.push(i)}return n},Ofe=(e,t)=>{const n=e.toDelta();return n.length===t.length&&n.every((r,i)=>r.insert===t[i].text&&gce(r.attributes||{}).length===t[i].marks.length&&yce(r.attributes,(o,a)=>{const s=Nfe(a),l=t[i].marks;return GF(o,l.find(c=>c.type.name===s)?.attrs)}))},SC=(e,t)=>{if(e instanceof ea&&!(t instanceof Array)&&d8(e,t)){const n=lR(t);return e._length===n.length&&GF(e.getAttributes(),t.attrs)&&e.toArray().every((r,i)=>SC(r,n[i]))}return e instanceof Ol&&t instanceof Array&&Ofe(e,t)},NN=(e,t)=>e===t||e instanceof Array&&t instanceof Array&&e.length===t.length&&e.every((n,r)=>t[r]===n),bG=(e,t,n)=>{const r=e.toArray(),i=lR(t),o=i.length,a=r.length,s=Ff(a,o);let l=0,c=0,d=!1;for(;l<s;l++){const u=r[l],p=i[l];if(NN(n.mapping.get(u),p))d=!0;else if(!SC(u,p))break}for(;l+c<s;c++){const u=r[a-c-1],p=i[o-c-1];if(NN(n.mapping.get(u),p))d=!0;else if(!SC(u,p))break}return{equalityFactor:l+c,foundMappedChild:d}},Aqe=e=>{let t="",n=e._start;const r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof xu?t+=n.content.str:n.content instanceof fo&&(r[n.content.key]=null)),n=n.right;return{str:t,nAttrs:r}},Oqe=(e,t,n)=>{n.mapping.set(e,t);const{nAttrs:r,str:i}=Aqe(e),o=t.map(c=>({insert:c.text,attributes:Object.assign({},r,Mfe(c.marks,n))})),{insert:a,remove:s,index:l}=cqe(i,o.map(c=>c.insert).join(""));e.delete(l,s),e.insert(l,a),e.applyDelta(o.map(c=>({retain:c.insert.length,attributes:c.attributes})))},Nqe=/(.*)(--[a-zA-Z0-9+/=]{8})$/,Nfe=e=>Nqe.exec(e)?.[1]??e,Mqe=(e,t)=>{const n=[];for(const r in e)n.push(t.mark(Nfe(r),e[r]));return n},Mfe=(e,t)=>{const n={};return e.forEach(r=>{if(r.type.name!=="ychange"){const i=Bd(t.isOMark,r.type,()=>!r.type.excludes(r.type));n[i?`${r.type.name}--${vqe(r.toJSON())}`:r.type.name]=r.attrs}}),n},u8=(e,t,n,r)=>{if(t instanceof ea&&t.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.mapping.set(t,n),t instanceof ea){const u=t.getAttributes(),p=n.attrs;for(const m in p)p[m]!==null?u[m]!==p[m]&&m!=="ychange"&&t.setAttribute(m,p[m]):t.removeAttribute(m);for(const m in u)p[m]===void 0&&t.removeAttribute(m)}const i=lR(n),o=i.length,a=t.toArray(),s=a.length,l=Ff(o,s);let c=0,d=0;for(;c<l;c++){const u=a[c],p=i[c];if(!NN(r.mapping.get(u),p))if(SC(u,p))r.mapping.set(u,p);else break}for(;d+c<l;d++){const u=a[s-d-1],p=i[o-d-1];if(!NN(r.mapping.get(u),p))if(SC(u,p))r.mapping.set(u,p);else break}e.transact(()=>{for(;s-c-d>0&&o-c-d>0;){const p=a[c],m=i[c],v=a[s-d-1],x=i[o-d-1];if(p instanceof Ol&&m instanceof Array)Ofe(p,m)||Oqe(p,m,r),c+=1;else{let w=p instanceof ea&&d8(p,m),T=v instanceof ea&&d8(v,x);if(w&&T){const k=bG(p,m,r),O=bG(v,x,r);k.foundMappedChild&&!O.foundMappedChild?T=!1:!k.foundMappedChild&&O.foundMappedChild||k.equalityFactor<O.equalityFactor?w=!1:T=!1}w?(u8(e,p,m,r),c+=1):T?(u8(e,v,x,r),d+=1):(r.mapping.delete(t.get(c)),t.delete(c,1),t.insert(c,[c8(m,r)]),c+=1)}}const u=s-c-d;if(s===1&&o===0&&a[0]instanceof Ol?(r.mapping.delete(a[0]),a[0].delete(0,a[0].length)):u>0&&(t.slice(c,c+u).forEach(p=>r.mapping.delete(p)),t.delete(c,u)),c+d<o){const p=[];for(let m=c;m<o-d;m++)p.push(c8(i[m],r));t.insert(c,p)}},Nr)},d8=(e,t)=>!(t instanceof Array)&&e.nodeName===t.type.name;let IS=null;const Dqe=()=>{const e=IS;IS=null,e.forEach((t,n)=>{const r=n.state.tr,i=Nr.getState(n.state);i&&i.binding&&!i.binding.isDestroyed&&(t.forEach((o,a)=>{r.setMeta(a,o)}),n.dispatch(r))})},Rqe=(e,t,n)=>{IS||(IS=new Map,Q9(0,Dqe)),Bd(IS,e,pc).set(t,n)},CC=(e,t,n)=>{if(e===0)return vP(t,0,t.length===0?-1:0);let r=t._first===null?null:t._first.content.type;for(;r!==null&&t!==r;){if(r instanceof Ol){if(r._length>=e)return vP(r,e,t.length===0?-1:0);if(e-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,e--;while(r!==t&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==t&&(r=r._item===null?null:r._item.next.content.type)}}else{const i=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&e<i)r=r._first.content.type,e--;else{if(e===1&&r._length===0&&i>1)return new mC(r._item===null?null:r._item.id,r._item===null?hC(r):null,null);if(e-=i,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(e===0)return r=r._item===null?r:r._item.parent,new mC(r._item===null?null:r._item.id,r._item===null?hC(r):null,null);do r=r._item.parent,e--;while(r!==t&&r._item.next===null);r!==t&&(r=r._item.next.content.type)}}}if(r===null)throw Rl();if(e===0&&r.constructor!==Ol&&r!==t)return Iqe(r._item.parent,r._item)}return vP(t,t._length,t.length===0?-1:0)},Iqe=(e,t)=>{let n=null,r=null;return e._item===null?r=hC(e):n=vn(e._item.id.client,e._item.id.clock),new mC(n,r,t.id)},v0=(e,t,n,r)=>{const i=l6e(n,e);if(i===null||i.type!==t&&!pC(t,i.type._item))return null;let o=i.type,a=0;if(o.constructor===Ol)a=i.index;else if(o._item===null||!o._item.deleted){let s=o._first,l=0;for(;l<o._length&&l<i.index&&s!==null;){if(!s.deleted){const c=s.content.type;l++,c instanceof Ol?a+=c._length:a+=r.get(c).nodeSize}s=s.right}a+=1}for(;o!==t&&o._item!==null;){const s=o._item.parent;if(s._item===null||!s._item.deleted){a+=1;let l=s._first;for(;l!==null;){const c=l.content.type;if(c===o)break;l.deleted||(c instanceof Ol?a+=c._length:a+=r.get(c).nodeSize),l=l.right}}o=s}return a-1},Pqe=(e,t,n)=>e!==t,Lqe=e=>{const t=document.createElement("span");t.classList.add("ProseMirror-yjs-cursor"),t.setAttribute("style",`border-color: ${e.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${e.color}`),n.insertBefore(document.createTextNode(e.name),null);const r=document.createTextNode(""),i=document.createTextNode("");return t.insertBefore(r,null),t.insertBefore(n,null),t.insertBefore(i,null),t},Dfe=e=>({style:`background-color: ${e.color}70`,class:"ProseMirror-yjs-selection"}),jqe=/^#[0-9a-fA-F]{6}$/,vG=(e,t,n,r,i)=>{const o=Nr.getState(e),a=o.doc,s=[];return o.snapshot!=null||o.prevSnapshot!=null||o.binding.mapping.size===0?mn.create(e.doc,[]):(t.getStates().forEach((l,c)=>{if(n(a.clientID,c,l)&&l.cursor!=null){const d=l.user||{};d.color==null?d.color="#ffa500":jqe.test(d.color)||console.warn("A user uses an unsupported color format",d),d.name==null&&(d.name=`User: ${c}`);let u=v0(a,o.type,vS(l.cursor.anchor),o.binding.mapping),p=v0(a,o.type,vS(l.cursor.head),o.binding.mapping);if(u!==null&&p!==null){const m=vu(e.doc.content.size-1,0);u=Ff(u,m),p=Ff(p,m),s.push(ir.widget(p,()=>r(d,c),{key:c+"",side:10}));const v=Ff(u,p),x=vu(u,p);s.push(ir.inline(v,x,i(d,c),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),mn.create(e.doc,s))},Bqe=(e,{awarenessStateFilter:t=Pqe,cursorBuilder:n=Lqe,selectionBuilder:r=Dfe,getSelection:i=a=>a.selection}={},o="cursor")=>new rn({key:aS,state:{init(a,s){return vG(s,e,t,n,r)},apply(a,s,l,c){const d=Nr.getState(c),u=a.getMeta(aS);return d&&d.isChangeOrigin||u&&u.awarenessUpdated?vG(c,e,t,n,r):s.map(a.mapping,a.doc)}},props:{decorations:a=>aS.getState(a)},view:a=>{const s=()=>{a.docView&&Rqe(a,aS,{awarenessUpdated:!0})},l=()=>{const c=Nr.getState(a.state),d=e.getLocalState()||{};if(a.hasFocus()){const u=i(a.state),p=CC(u.anchor,c.type,c.binding.mapping),m=CC(u.head,c.type,c.binding.mapping);(d.cursor==null||!HW(vS(d.cursor.anchor),p)||!HW(vS(d.cursor.head),m))&&e.setLocalStateField(o,{anchor:p,head:m})}else d.cursor!=null&&v0(c.doc,c.type,vS(d.cursor.anchor),c.binding.mapping)!==null&&e.setLocalStateField(o,null)};return e.on("change",s),a.dom.addEventListener("focusin",l),a.dom.addEventListener("focusout",l),{update:l,destroy:()=>{a.dom.removeEventListener("focusin",l),a.dom.removeEventListener("focusout",l),e.off("change",s),e.setLocalStateField(o,null)}}}}),$qe=e=>uc.getState(e)?.undoManager?.undo()!=null,Hqe=e=>uc.getState(e)?.undoManager?.redo()!=null,Fqe=(e,t)=>t==null?uc.getState(e)?.undoManager?.canUndo():$qe(e),Uqe=(e,t)=>t==null?uc.getState(e)?.undoManager?.canRedo():Hqe(e),zqe=new Set(["paragraph"]),Vqe=(e,t)=>!(e instanceof ii)||!(e.content instanceof Tu)||!(e.content.type instanceof am||e.content.type instanceof ea&&t.has(e.content.type.nodeName))||e.content.type._length===0,qqe=({protectedNodes:e=zqe,trackedOrigins:t=[],undoManager:n=null}={})=>new rn({key:uc,state:{init:(r,i)=>{const o=Nr.getState(i),a=n||new Vce(o.type,{trackedOrigins:new Set([Nr].concat(t)),deleteFilter:s=>Vqe(s,e),captureTransaction:s=>s.meta.get("addToHistory")!==!1});return{undoManager:a,prevSel:null,hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}},apply:(r,i,o,a)=>{const s=Nr.getState(a).binding,l=i.undoManager,c=l.undoStack.length>0,d=l.redoStack.length>0;return s?{undoManager:l,prevSel:ON(s,o),hasUndoOps:c,hasRedoOps:d}:c!==i.hasUndoOps||d!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):i}},view:r=>{const i=Nr.getState(r.state),o=uc.getState(r.state).undoManager;return o.on("stack-item-added",({stackItem:a})=>{const s=i.binding;s&&a.meta.set(s,uc.getState(r.state).prevSel)}),o.on("stack-item-popped",({stackItem:a})=>{const s=i.binding;s&&(s.beforeTransactionSelection=a.meta.get(s)||s.beforeTransactionSelection)}),{destroy:()=>{o.destroy()}}}}),f8={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},heading_4:{title:"Heading 4",subtext:"Minor subsection heading",aliases:["h4","heading4","subheading4"],group:"Subheadings"},heading_5:{title:"Heading 5",subtext:"Small subsection heading",aliases:["h5","heading5","subheading5"],group:"Subheadings"},heading_6:{title:"Heading 6",subtext:"Lowest-level heading",aliases:["h6","heading6","subheading6"],group:"Subheadings"},toggle_heading:{title:"Toggle Heading 1",subtext:"Toggleable top-level heading",aliases:["h","heading1","h1","collapsable"],group:"Subheadings"},toggle_heading_2:{title:"Toggle Heading 2",subtext:"Toggleable key section heading",aliases:["h2","heading2","subheading","collapsable"],group:"Subheadings"},toggle_heading_3:{title:"Toggle Heading 3",subtext:"Toggleable subsection and group heading",aliases:["h3","heading3","subheading","collapsable"],group:"Subheadings"},quote:{title:"Quote",subtext:"Quote or excerpt",aliases:["quotation","blockquote","bq"],group:"Basic blocks"},toggle_list:{title:"Toggle List",subtext:"List with hideable sub-items",aliases:["li","list","toggleList","toggle list","collapsable list"],group:"Basic blocks"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],group:"Basic blocks"},page_break:{title:"Page Break",subtext:"Page separator",aliases:["page","break","separator"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"},divider:{title:"Divider",subtext:"Visually divide blocks",aliases:["divider","hr","line","horizontal rule"],group:"Basic blocks"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",toggleListItem:"Toggle",bulletListItem:"List",numberedListItem:"List",checkListItem:"List",emptyDocument:void 0,new_comment:"Write a comment...",edit_comment:"Edit comment...",comment_reply:"Add comment..."},file_blocks:{add_button_text:{image:"Add image",video:"Add video",audio:"Add audio",file:"Add file"}},toggle_blocks:{add_block_button:"Empty toggle. Click to add a block."},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors",header_row_menuitem:"Header row",header_column_menuitem:"Header column"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below",split_cell_menuitem:"Split cell",merge_cells_menuitem:"Merge cells",background_color_menuitem:"Background color"},suggestion_menu:{no_items_title:"No items found"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"},table_cell_merge:{tooltip:"Merge cells"},comment:{tooltip:"Add comment"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},comments:{edited:"edited",save_button_text:"Save",cancel_button_text:"Cancel",actions:{add_reaction:"Add reaction",resolve:"Resolve",edit_comment:"Edit comment",delete_comment:"Delete comment",more_actions:"More actions"},reactions:{reacted_by:"Reacted by"},sidebar:{marked_as_resolved:"Marked as resolved",more_replies:e=>`${e} more replies`}},generic:{ctrl_shortcut:"Ctrl"}},Wqe={tokenize:Yqe};function Yqe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),rr(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Xt(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),a)}}const Gqe={tokenize:Kqe},xG={tokenize:Xqe};function Kqe(e){const t=this,n=[];let r=0,i,o,a;return s;function s(O){if(r<n.length){const I=n[r];return t.containerState=I[1],e.attempt(I[0].continuation,l,c)(O)}return c(O)}function l(O){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&k();const I=t.events.length;let N=I,A;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){A=t.events[N][1].end;break}T(r);let R=I;for(;R<t.events.length;)t.events[R][1].end={...A},R++;return Nl(t.events,N+1,0,t.events.slice(I)),t.events.length=R,c(O)}return s(O)}function c(O){if(r===n.length){if(!i)return p(O);if(i.currentConstruct&&i.currentConstruct.concrete)return v(O);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(xG,d,u)(O)}function d(O){return i&&k(),T(r),p(O)}function u(O){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,v(O)}function p(O){return t.containerState={},e.attempt(xG,m,v)(O)}function m(O){return r++,n.push([t.currentConstruct,t.containerState]),p(O)}function v(O){if(O===null){i&&k(),T(0),e.consume(O);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),x(O)}function x(O){if(O===null){w(e.exit("chunkFlow"),!0),T(0),e.consume(O);return}return Xt(O)?(e.consume(O),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(O),x)}function w(O,I){const N=t.sliceStream(O);if(I&&N.push(null),O.previous=o,o&&(o.next=O),o=O,i.defineSkip(O.start),i.write(N),t.parser.lazy[O.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<a&&(!i.events[A][1].end||i.events[A][1].end.offset>a))return;const R=t.events.length;let L=R,B,$;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){if(B){$=t.events[L][1].end;break}B=!0}for(T(r),A=R;A<t.events.length;)t.events[A][1].end={...$},A++;Nl(t.events,L+1,0,t.events.slice(R)),t.events.length=A}}function T(O){let I=n.length;for(;I-- >O;){const N=n[I];t.containerState=N[1],N[0].exit.call(t,e)}n.length=O}function k(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Xqe(e,t,n){return rr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const Zqe={tokenize:Qqe};function Qqe(e){const t=this,n=e.attempt(ZT,r,e.attempt(this.parser.constructs.flowInitial,i,rr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(_ze,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Jqe={resolveAll:Ife()},eWe=Rfe("string"),tWe=Rfe("text");function Rfe(e){return{resolveAll:Ife(e==="text"?nWe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,a,s);return a;function a(d){return c(d)?o(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),o(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const u=i[d];let p=-1;if(u)for(;++p<u.length;){const m=u[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Ife(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function nWe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(c===-2)l=!0,s++;else if(c!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const rWe={42:Os,43:Os,45:Os,48:Os,49:Os,50:Os,51:Os,52:Os,53:Os,54:Os,55:Os,56:Os,57:Os,62:yfe},iWe={91:Dze},oWe={[-2]:WP,[-1]:WP,32:WP},aWe={35:Bze,42:iO,45:[uG,iO],60:Uze,61:uG,95:iO,96:lG,126:lG},sWe={38:vfe,92:bfe},lWe={[-5]:YP,[-4]:YP,[-3]:YP,33:aVe,38:vfe,42:s8,60:[lze,Kze],91:lVe,92:[Lze,bfe],93:WF,95:s8,96:wze},cWe={null:[s8,Jqe]},uWe={null:[42,95]},dWe={null:[]},fWe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:uWe,contentInitial:iWe,disable:dWe,document:rWe,flow:aWe,flowInitial:oWe,insideSpan:cWe,string:sWe,text:lWe},Symbol.toStringTag,{value:"Module"}));function hWe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:R(N),check:R(A),consume:k,enter:O,exit:I,interrupt:R(A,{interrupt:!0})},c={code:null,containerState:{},defineSkip:x,events:[],now:v,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:u};let d=t.tokenize.call(c,l);return t.resolveAll&&o.push(t),c;function u(q){return a=ac(a,q),w(),a[a.length-1]!==null?[]:(L(t,0),c.events=sR(o,c.events,c),c.events)}function p(q,z){return mWe(m(q),z)}function m(q){return pWe(a,q)}function v(){const{_bufferIndex:q,_index:z,line:W,column:G,offset:Z}=r;return{_bufferIndex:q,_index:z,line:W,column:G,offset:Z}}function x(q){i[q.line]=q.column,$()}function w(){let q;for(;r._index<a.length;){const z=a[r._index];if(typeof z=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<z.length;)T(z.charCodeAt(r._bufferIndex));else T(z)}}function T(q){d=d(q)}function k(q){Xt(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,$()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=q}function O(q,z){const W=z||{};return W.type=q,W.start=v(),c.events.push(["enter",W,c]),s.push(W),W}function I(q){const z=s.pop();return z.end=v(),c.events.push(["exit",z,c]),z}function N(q,z){L(q,z.from)}function A(q,z){z.restore()}function R(q,z){return W;function W(G,Z,V){let ne,X,oe,K;return Array.isArray(G)?te(G):"tokenize"in G?te([G]):Q(G);function Q(ke){return Ee;function Ee(ve){const we=ve!==null&&ke[ve],je=ve!==null&&ke.null,Ke=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(je)?je:je?[je]:[]];return te(Ke)(ve)}}function te(ke){return ne=ke,X=0,ke.length===0?V:U(ke[X])}function U(ke){return Ee;function Ee(ve){return K=B(),oe=ke,ke.partial||(c.currentConstruct=ke),ke.name&&c.parser.constructs.disable.null.includes(ke.name)?me():ke.tokenize.call(z?Object.assign(Object.create(c),z):c,l,fe,me)(ve)}}function fe(ke){return q(oe,K),Z}function me(ke){return K.restore(),++X<ne.length?U(ne[X]):V}}}function L(q,z){q.resolveAll&&!o.includes(q)&&o.push(q),q.resolve&&Nl(c.events,z,c.events.length-z,q.resolve(c.events.slice(z),c)),q.resolveTo&&(c.events=q.resolveTo(c.events,c))}function B(){const q=v(),z=c.previous,W=c.currentConstruct,G=c.events.length,Z=Array.from(s);return{from:G,restore:V};function V(){r=q,c.previous=z,c.currentConstruct=W,c.events.length=G,s=Z,$()}}function $(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function pWe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function mWe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function gWe(e){const r={constructs:lfe([fWe,...(e||{}).extensions||[]]),content:i(Wqe),defined:[],document:i(Gqe),flow:i(Zqe),lazy:{},string:i(eWe),text:i(tWe)};return r;function i(o){return a;function a(s){return hWe(r,o,s)}}}function yWe(e){for(;!xfe(e););return e}const wG=/[\0\t\n\r]/g;function bWe(){let e=1,t="",n=!0,r;return i;function i(o,a,s){const l=[];let c,d,u,p,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),u=0,t="",n&&(o.charCodeAt(0)===65279&&u++,n=void 0);u<o.length;){if(wG.lastIndex=u,c=wG.exec(o),p=c&&c.index!==void 0?c.index:o.length,m=o.charCodeAt(p),!c){t=o.slice(u);break}if(m===10&&u===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),u<p&&(l.push(o.slice(u,p)),e+=p-u),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}u=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Pfe={}.hasOwnProperty;function vWe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),xWe(n)(yWe(gWe(n).document().write(bWe()(e,t,!0))))}function xWe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(er),autolinkProtocol:B,autolinkEmail:B,atxHeading:o(an),blockQuote:o(je),characterEscape:B,characterReference:B,codeFenced:o(Ke),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(Ke,a),codeText:o(De,a),codeTextData:B,data:B,codeFlowValue:B,definition:o(It),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Fe),hardBreakEscape:o(cn),hardBreakTrailing:o(cn),htmlFlow:o(Qt,a),htmlFlowData:B,htmlText:o(Qt,a),htmlTextData:B,image:o(Vr),label:a,link:o(er),listItem:o(xe),listItemValue:p,listOrdered:o(ce,u),listUnordered:o(ce),paragraph:o(Te),reference:U,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(an),strong:o(Je),thematicBreak:o(Qe)},exit:{atxHeading:l(),atxHeadingSequence:N,autolink:l(),autolinkEmail:we,autolinkProtocol:ve,blockQuote:l(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:ke,characterReference:Ee,codeFenced:l(w),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:$,codeIndented:l(T),codeText:l(Z),codeTextData:$,data:$,definition:l(),definitionDestinationString:I,definitionLabelString:k,definitionTitleString:O,emphasis:l(),hardBreakEscape:l(z),hardBreakTrailing:l(z),htmlFlow:l(W),htmlFlowData:$,htmlText:l(G),htmlTextData:$,image:l(ne),label:oe,labelText:X,lineEnding:q,link:l(V),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:fe,resourceDestinationString:K,resourceTitleString:Q,resource:te,setextHeading:l(L),setextHeadingLineSequence:R,setextHeadingText:A,strong:l(),thematicBreak:l()}};Lfe(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Be={type:"root",children:[]};const it={stack:[Be],tokenStack:[],config:t,enter:s,exit:c,buffer:a,resume:d,data:n},At=[];let qt=-1;for(;++qt<ge.length;)if(ge[qt][1].type==="listOrdered"||ge[qt][1].type==="listUnordered")if(ge[qt][0]==="enter")At.push(qt);else{const Zn=At.pop();qt=i(ge,Zn,qt)}for(qt=-1;++qt<ge.length;){const Zn=t[ge[qt][0]];Pfe.call(Zn,ge[qt][1].type)&&Zn[ge[qt][1].type].call(Object.assign({sliceSerialize:ge[qt][2].sliceSerialize},it),ge[qt][1])}if(it.tokenStack.length>0){const Zn=it.tokenStack[it.tokenStack.length-1];(Zn[1]||EG).call(it,void 0,Zn[0])}for(Be.position={start:hp(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:hp(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},qt=-1;++qt<t.transforms.length;)Be=t.transforms[qt](Be)||Be;return Be}function i(ge,Be,it){let At=Be-1,qt=-1,Zn=!1,Tn,or,Yn,xr;for(;++At<=it;){const un=ge[At];switch(un[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{un[0]==="enter"?qt++:qt--,xr=void 0;break}case"lineEndingBlank":{un[0]==="enter"&&(Tn&&!xr&&!qt&&!Yn&&(Yn=At),xr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xr=void 0}if(!qt&&un[0]==="enter"&&un[1].type==="listItemPrefix"||qt===-1&&un[0]==="exit"&&(un[1].type==="listUnordered"||un[1].type==="listOrdered")){if(Tn){let xi=At;for(or=void 0;xi--;){const Ct=ge[xi];if(Ct[1].type==="lineEnding"||Ct[1].type==="lineEndingBlank"){if(Ct[0]==="exit")continue;or&&(ge[or][1].type="lineEndingBlank",Zn=!0),Ct[1].type="lineEnding",or=xi}else if(!(Ct[1].type==="linePrefix"||Ct[1].type==="blockQuotePrefix"||Ct[1].type==="blockQuotePrefixWhitespace"||Ct[1].type==="blockQuoteMarker"||Ct[1].type==="listItemIndent"))break}Yn&&(!or||Yn<or)&&(Tn._spread=!0),Tn.end=Object.assign({},or?ge[or][1].start:un[1].end),ge.splice(or||At,0,["exit",Tn,un[2]]),At++,it++}if(un[1].type==="listItemPrefix"){const xi={type:"listItem",_spread:!1,start:Object.assign({},un[1].start),end:void 0};Tn=xi,ge.splice(At,0,["enter",xi,un[2]]),At++,it++,Yn=void 0,xr=!0}}}return ge[Be][1]._spread=Zn,it}function o(ge,Be){return it;function it(At){s.call(this,ge(At),At),Be&&Be.call(this,At)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(ge,Be,it){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Be,it||void 0]),ge.position={start:hp(Be.start),end:void 0}}function l(ge){return Be;function Be(it){ge&&ge.call(this,it),c.call(this,it)}}function c(ge,Be){const it=this.stack.pop(),At=this.tokenStack.pop();if(At)At[0].type!==ge.type&&(Be?Be.call(this,ge,At[0]):(At[1]||EG).call(this,ge,At[0]));else throw new Error("Cannot close `"+ge.type+"` ("+MS({start:ge.start,end:ge.end})+"): its not open");it.position.end=hp(ge.end)}function d(){return iR(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function p(ge){if(this.data.expectingFirstListItemValue){const Be=this.stack[this.stack.length-2];Be.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.lang=ge}function v(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.meta=ge}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge.replace(/(\r?\n|\r)$/g,"")}function k(ge){const Be=this.resume(),it=this.stack[this.stack.length-1];it.label=Be,it.identifier=mu(this.sliceSerialize(ge)).toLowerCase()}function O(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.title=ge}function I(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.url=ge}function N(ge){const Be=this.stack[this.stack.length-1];if(!Be.depth){const it=this.sliceSerialize(ge).length;Be.depth=it}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function R(ge){const Be=this.stack[this.stack.length-1];Be.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function B(ge){const it=this.stack[this.stack.length-1].children;let At=it[it.length-1];(!At||At.type!=="text")&&(At=Ze(),At.position={start:hp(ge.start),end:void 0},it.push(At)),this.stack.push(At)}function $(ge){const Be=this.stack.pop();Be.value+=this.sliceSerialize(ge),Be.position.end=hp(ge.end)}function q(ge){const Be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const it=Be.children[Be.children.length-1];it.position.end=hp(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Be.type)&&(B.call(this,ge),$.call(this,ge))}function z(){this.data.atHardBreak=!0}function W(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge}function G(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge}function Z(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.value=ge}function V(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Be,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function ne(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Be,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function X(ge){const Be=this.sliceSerialize(ge),it=this.stack[this.stack.length-2];it.label=sfe(Be),it.identifier=mu(Be).toLowerCase()}function oe(){const ge=this.stack[this.stack.length-1],Be=this.resume(),it=this.stack[this.stack.length-1];if(this.data.inReference=!0,it.type==="link"){const At=ge.children;it.children=At}else it.alt=Be}function K(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.url=ge}function Q(){const ge=this.resume(),Be=this.stack[this.stack.length-1];Be.title=ge}function te(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function fe(ge){const Be=this.resume(),it=this.stack[this.stack.length-1];it.label=Be,it.identifier=mu(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function me(ge){this.data.characterReferenceType=ge.type}function ke(ge){const Be=this.sliceSerialize(ge),it=this.data.characterReferenceType;let At;it?(At=afe(Be,it==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):At=VF(Be);const qt=this.stack[this.stack.length-1];qt.value+=At}function Ee(ge){const Be=this.stack.pop();Be.position.end=hp(ge.end)}function ve(ge){$.call(this,ge);const Be=this.stack[this.stack.length-1];Be.url=this.sliceSerialize(ge)}function we(ge){$.call(this,ge);const Be=this.stack[this.stack.length-1];Be.url="mailto:"+this.sliceSerialize(ge)}function je(){return{type:"blockquote",children:[]}}function Ke(){return{type:"code",lang:null,meta:null,value:""}}function De(){return{type:"inlineCode",value:""}}function It(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fe(){return{type:"emphasis",children:[]}}function an(){return{type:"heading",depth:0,children:[]}}function cn(){return{type:"break"}}function Qt(){return{type:"html",value:""}}function Vr(){return{type:"image",title:null,url:"",alt:null}}function er(){return{type:"link",title:null,url:"",children:[]}}function ce(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function xe(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function Te(){return{type:"paragraph",children:[]}}function Je(){return{type:"strong",children:[]}}function Ze(){return{type:"text",value:""}}function Qe(){return{type:"thematicBreak"}}}function hp(e){return{line:e.line,column:e.column,offset:e.offset}}function Lfe(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Lfe(e,r):wWe(e,r)}}function wWe(e,t){let n;for(n in t)if(Pfe.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function EG(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+MS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+MS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+MS({start:t.start,end:t.end})+") is still open")}function EWe(e){const t=this;t.parser=n;function n(r){return vWe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function SWe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function CWe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function TWe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function kWe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _We(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function AWe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=hx(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function OWe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function NWe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function jfe(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function MWe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jfe(e,t);const i={src:hx(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function DWe(e,t){const n={src:hx(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function RWe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function IWe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jfe(e,t);const i={href:hx(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function PWe(e,t){const n={href:hx(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function LWe(e,t,n){const r=e.all(t),i=n?jWe(n):Bfe(t),o={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let u;d&&d.type==="element"&&d.tagName==="p"?u=d:(u={type:"element",tagName:"p",properties:{},children:[]},r.unshift(u)),u.children.length>0&&u.children.unshift({type:"text",value:" "}),u.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,c),e.applyData(t,c)}function jWe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Bfe(n[r])}return t}function Bfe(e){const t=e.spread;return t??e.children.length>1}function BWe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function $We(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HWe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function FWe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function UWe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Tde(t.children[1]),l=Cde(t.children[t.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function zWe(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const u=t.children[l],p={},m=a?a[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:o,properties:p,children:[]};u&&(v.children=e.all(u),e.patch(u,v),v=e.applyData(u,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function VWe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const SG=9,CG=32;function qWe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(TG(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(TG(t.slice(i),i>0,!1)),o.join("")}function TG(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===SG||o===CG;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===SG||o===CG;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function WWe(e,t){const n={type:"text",value:qWe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function YWe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const h8={blockquote:SWe,break:CWe,code:TWe,delete:kWe,emphasis:_We,footnoteReference:AWe,heading:OWe,html:NWe,imageReference:MWe,image:DWe,inlineCode:RWe,linkReference:IWe,link:PWe,listItem:LWe,list:BWe,paragraph:$We,root:HWe,strong:FWe,table:UWe,tableCell:VWe,tableRow:zWe,text:WWe,thematicBreak:YWe,toml:mA,yaml:mA,definition:mA,footnoteDefinition:mA};function mA(){}function GWe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function KWe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function XWe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||GWe,r=e.options.footnoteBackLabel||KWe,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),u=String(c.identifier).toUpperCase(),p=hx(u.toLowerCase());let m=0;const v=[],x=e.footnoteCounts.get(u);for(;x!==void 0&&++m<=x;){v.length>0&&v.push({type:"text",value:" "});let k=typeof n=="string"?n:n(l,m);typeof k=="string"&&(k={type:"text",value:k}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const k=w.children[w.children.length-1];k&&k.type==="text"?k.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...v)}else d.push(...v);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,T),s.push(T)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...v1(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const p8={}.hasOwnProperty,ZWe={};function QWe(e,t){const n=t||ZWe,r=new Map,i=new Map,o=new Map,a={...h8,...n.handlers},s={all:c,applyData:eYe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:n,patch:JWe,wrap:nYe};return H0(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const u=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();u.has(p)||u.set(p,d)}}),s;function l(d,u){const p=d.type,m=s.handlers[p];if(p8.call(s.handlers,p)&&m)return m(s,d,u);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:x,...w}=d,T=v1(w);return T.children=s.all(d),T}return v1(d)}return(s.options.unknownHandler||tYe)(s,d,u)}function c(d){const u=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const v=s.one(p[m],d);if(v){if(m&&p[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=kG(v.value)),!Array.isArray(v)&&v.type==="element")){const x=v.children[0];x&&x.type==="text"&&(x.value=kG(x.value))}Array.isArray(v)?u.push(...v):u.push(v)}}}return u}}function JWe(e,t){e.position&&(t.position=_de(e))}function eYe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,v1(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function tYe(e,t){const n=t.data||{},r="value"in t&&!(p8.call(n,"hProperties")||p8.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nYe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function kG(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function _G(e,t){const n=QWe(e,t),r=n.one(e,void 0),i=XWe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function rYe(e,t){return e&&"run"in e?async function(n,r){const i=_G(n,{file:r,...t});await e.run(i,r)}:function(n,r){return _G(n,{file:r,...e||t})}}const iYe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],oYe=/["&'<>`]/g,aYe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sYe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,lYe=/[|\\{}()[\]^$+*?.]/g,AG=new WeakMap;function cYe(e,t){if(e=e.replace(t.subset?uYe(t.subset):oYe,r),t.subset||t.escapeOnly)return e;return e.replace(aYe,n).replace(sYe,r);function n(i,o,a){return t.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,a.charCodeAt(o+2),t)}function r(i,o,a){return t.format(i.charCodeAt(0),a.charCodeAt(o+1),t)}}function uYe(e){let t=AG.get(e);return t||(t=dYe(e),AG.set(e,t)),t}function dYe(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(lYe,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const fYe=/[\dA-Fa-f]/;function hYe(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!fYe.test(String.fromCharCode(t))?r:r+";"}const pYe=/\d/;function mYe(e,t,n){const r="&#"+String(e);return n&&t&&!pYe.test(String.fromCharCode(t))?r:r+";"}const gYe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],JP={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},yYe=["cent","copy","divide","gt","lt","not","para","times"],$fe={}.hasOwnProperty,m8={};let gA;for(gA in JP)$fe.call(JP,gA)&&(m8[JP[gA]]=gA);const bYe=/[^\dA-Za-z]/;function vYe(e,t,n,r){const i=String.fromCharCode(e);if($fe.call(m8,i)){const o=m8[i],a="&"+o;return n&&gYe.includes(o)&&!yYe.includes(o)&&(!r||t&&t!==61&&bYe.test(String.fromCharCode(t)))?a:a+";"}return""}function xYe(e,t,n){let r=hYe(e,t,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=vYe(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const o=mYe(e,t,n.omitOptionalSemicolons);o.length<r.length&&(r=o)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function Vv(e,t){return cYe(e,Object.assign({format:xYe},t))}const wYe=/^>|^->|<!--|-->|--!>|<!-$/g,EYe=[">"],SYe=["<",">"];function CYe(e,t,n,r){return r.settings.bogusComments?"<?"+Vv(e.value,Object.assign({},r.settings.characterReferences,{subset:EYe}))+">":"<!--"+e.value.replace(wYe,i)+"-->";function i(o){return Vv(o,Object.assign({},r.settings.characterReferences,{subset:SYe}))}}function TYe(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}const ko=Ffe(1),Hfe=Ffe(-1),kYe=[];function Ffe(e){return t;function t(n,r,i){const o=n?n.children:kYe;let a=(r||0)+e,s=o[a];if(!i)for(;s&&KT(s);)a+=e,s=o[a];return s}}const _Ye={}.hasOwnProperty;function Ufe(e){return t;function t(n,r,i){return _Ye.call(e,n.tagName)&&e[n.tagName](n,r,i)}}const KF=Ufe({body:OYe,caption:eL,colgroup:eL,dd:RYe,dt:DYe,head:eL,html:AYe,li:MYe,optgroup:IYe,option:PYe,p:NYe,rp:OG,rt:OG,tbody:jYe,td:NG,tfoot:BYe,th:NG,thead:LYe,tr:$Ye});function eL(e,t,n){const r=ko(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&KT(r.value.charAt(0)))}function AYe(e,t,n){const r=ko(n,t);return!r||r.type!=="comment"}function OYe(e,t,n){const r=ko(n,t);return!r||r.type!=="comment"}function NYe(e,t,n){const r=ko(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function MYe(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&r.tagName==="li"}function DYe(e,t,n){const r=ko(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function RYe(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function OG(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function IYe(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function PYe(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function LYe(e,t,n){const r=ko(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function jYe(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function BYe(e,t,n){return!ko(n,t)}function $Ye(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function NG(e,t,n){const r=ko(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const HYe=Ufe({body:zYe,colgroup:VYe,head:UYe,html:FYe,tbody:qYe});function FYe(e){const t=ko(e,-1);return!t||t.type!=="comment"}function UYe(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function zYe(e){const t=ko(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&KT(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function VYe(e,t,n){const r=Hfe(n,t),i=ko(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&KF(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function qYe(e,t,n){const r=Hfe(n,t),i=ko(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&KF(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const yA={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function WYe(e,t,n,r){const i=r.schema,o=i.space==="svg"?!1:r.settings.omitOptionalTags;let a=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const s=[];let l;i.space==="html"&&e.tagName==="svg"&&(r.schema=WT);const c=YYe(r,e.properties),d=r.all(i.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=i,d&&(a=!1),(c||!o||!HYe(e,t,n))&&(s.push("<",e.tagName,c?" "+c:""),a&&(i.space==="svg"||r.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&s.push(" "),s.push("/")),s.push(">")),s.push(d),!a&&(!o||!KF(e,t,n))&&s.push("</"+e.tagName+">"),s.join("")}function YYe(e,t){const n=[];let r=-1,i;if(t){for(i in t)if(t[i]!==null&&t[i]!==void 0){const o=GYe(e,i,t[i]);o&&n.push(o)}}for(;++r<n.length;){const o=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&o!=='"'&&o!=="'"&&(n[r]+=" ")}return n.join("")}function GYe(e,t,n){const r=kF(e.schema,t),i=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,o=e.settings.allowDangerousCharacters?0:1;let a=e.quote,s;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=Vv(r.attribute,Object.assign({},e.settings.characterReferences,{subset:yA.name[i][o]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?a8e:l8e)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?l:(e.settings.preferUnquoted&&(s=Vv(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:yA.unquoted[i][o]}))),s!==n&&(e.settings.quoteSmart&&TN(n,a)>TN(n,e.alternative)&&(a=e.alternative),s=a+Vv(n,Object.assign({},e.settings.characterReferences,{subset:(a==="'"?yA.single:yA.double)[i][o],attribute:!0}))+a),l+(s&&"="+s))}const KYe=["<","&"];function zfe(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:Vv(e.value,Object.assign({},r.settings.characterReferences,{subset:KYe}))}function XYe(e,t,n,r){return r.settings.allowDangerousHtml?e.value:zfe(e,t,n,r)}function ZYe(e,t,n,r){return r.all(e)}const QYe=Wde("type",{invalid:JYe,unknown:eGe,handlers:{comment:CYe,doctype:TYe,element:WYe,raw:XYe,root:ZYe,text:zfe}});function JYe(e){throw new Error("Expected node, not `"+e+"`")}function eGe(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const tGe={},nGe={},rGe=[];function iGe(e,t){const n=t||tGe,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:oGe,all:aGe,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||iYe,characterReferences:n.characterReferences||nGe,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?WT:XD,quote:r,alternative:i}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function oGe(e,t,n){return QYe(e,t,n,this)}function aGe(e){const t=[],n=e&&e.children||rGe;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function sGe(e){const t=this,n={...t.data("settings"),...e};t.compiler=r;function r(i){return iGe(i,n)}}var lGe=Object.defineProperty,cGe=(e,t,n)=>t in e?lGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ae=(e,t,n)=>cGe(e,typeof t!="symbol"?t+"":t,n);function uGe(e,t,n,r="before"){const i=typeof n=="string"?n:n.id,o=ho(e),a=t.map(c=>iy(c,o)),s=cs(i,e.doc);if(!s)throw new Error(`Block with ID ${i} not found`);let l=s.posBeforeNode;return r==="after"&&(l+=s.node.nodeSize),e.step(new ao(l,l,new at(He.from(a),0,0))),a.map(c=>ri(c,o))}function g8(e){if(!e||e.type.name!=="column")throw new Error("Invalid columnPos: does not point to column node.");const t=e.firstChild;if(!t)throw new Error("Invalid column: does not have child node.");const n=t.firstChild;if(!n)throw new Error("Invalid blockContainer: does not have child node.");return e.childCount===1&&t.childCount===1&&n.type.name==="paragraph"&&n.content.content.length===0}function dGe(e,t){const n=e.doc.resolve(t),r=n.nodeAfter;if(!r||r.type.name!=="columnList")throw new Error("Invalid columnListPos: does not point to columnList node.");for(let i=r.childCount-1;i>=0;i--){const o=e.doc.resolve(n.pos+1).posAtIndex(i),a=e.doc.resolve(o).nodeAfter;if(!a||a.type.name!=="column")throw new Error("Invalid columnPos: does not point to column node.");g8(a)&&e.delete(o,o+a.nodeSize)}}function y8(e,t){dGe(e,t);const n=e.doc.resolve(t).nodeAfter;if(!n||n.type.name!=="columnList")throw new Error("Invalid columnListPos: does not point to columnList node.");if(n.childCount>2)return;if(n.childCount<2)throw new Error("Invalid columnList: contains fewer than two children.");const r=t+1,i=e.doc.resolve(r).nodeAfter,o=t+n.nodeSize-1,a=e.doc.resolve(o).nodeBefore;if(!i||!a)throw new Error("Invalid columnList: does not contain children.");const s=g8(i),l=g8(a);if(s&&l){e.delete(t,t+n.nodeSize);return}if(s){e.step(new Ki(t,t+n.nodeSize,o-a.nodeSize+1,o-1,at.empty,0,!1));return}if(l){e.step(new Ki(t,t+n.nodeSize,r+1,r+i.nodeSize-1,at.empty,0,!1));return}}function MG(e,t,n){const r=ho(e),i=n.map(d=>iy(d,r)),o=new Set(t.map(d=>typeof d=="string"?d:d.id)),a=[],s=new Set,l=typeof t[0]=="string"?t[0]:t[0].id;let c=0;if(e.doc.descendants((d,u)=>{if(o.size===0)return!1;if(!d.type.isInGroup("bnBlock")||!o.has(d.attrs.id))return!0;if(a.push(ri(d,r)),o.delete(d.attrs.id),n.length>0&&d.attrs.id===l){const x=e.doc.nodeSize;e.insert(u,i);const w=e.doc.nodeSize;c+=x-w}const p=e.doc.nodeSize,m=e.doc.resolve(u-c);m.node().type.name==="column"?s.add(m.before(-1)):m.node().type.name==="columnList"&&s.add(m.before()),m.node().type.name==="blockGroup"&&m.node(m.depth-1).type.name!=="doc"&&m.node().childCount===1?e.delete(m.before(),m.after()):e.delete(u-c,u-c+d.nodeSize);const v=e.doc.nodeSize;return c+=p-v,!1}),o.size>0){const d=[...o].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+d)}return s.forEach(d=>y8(e,d)),{insertedBlocks:i.map(d=>ri(d,r)),removedBlocks:a}}function Vfe(e){const t=Array.from(e.classList).filter(n=>!n.startsWith("bn-"))||[];t.length>0?e.className=t.join(" "):e.removeAttribute("class")}function qfe(e,t,n,r){var i;let o;if(t)if(typeof t=="string")o=bu([t],e.pmSchema);else if(Array.isArray(t))o=bu(t,e.pmSchema);else if(t.type==="tableContent")o=LD(t,e.pmSchema);else throw new Od(t.type);else throw new Error("blockContent is required");const a=(r?.document??document).createDocumentFragment();for(const s of o)if(s.type.name!=="text"&&e.schema.inlineContentSchema[s.type.name]){const l=e.schema.inlineContentSpecs[s.type.name].implementation;if(l){const c=P9(s,e.schema.inlineContentSchema,e.schema.styleSchema),d=l.toExternalHTML?l.toExternalHTML(c,e):l.render.call({renderType:"dom",props:void 0},c,()=>{},e);if(d){if(a.appendChild(d.dom),d.contentDOM){const u=n.serializeFragment(s.content,r);d.contentDOM.dataset.editable="",d.contentDOM.appendChild(u)}continue}}}else if(s.type.name==="text"){let l=document.createTextNode(s.textContent);for(const c of s.marks.toReversed())if(c.type.name in e.schema.styleSpecs){const d=(e.schema.styleSpecs[c.type.name].implementation.toExternalHTML??e.schema.styleSpecs[c.type.name].implementation.render)(c.attrs.stringValue,e);d.contentDOM.appendChild(l),l=d.dom}else{const d=c.type.spec.toDOM(c,!0),u=Ml.renderSpec(document,d);u.contentDOM.appendChild(l),l=u.dom}a.appendChild(l)}else{const l=n.serializeFragment(He.from([s]),r);a.appendChild(l)}return a.childNodes.length===1&&((i=a.firstChild)==null?void 0:i.nodeType)===1&&Vfe(a.firstChild),a}function fGe(e,t,n,r,i,o,a){var s,l,c,d,u,p,m,v,x;const w=a?.document??document,T=t.pmSchema.nodes.blockContainer,k=n.props||{};for(const[B,$]of Object.entries(t.schema.blockSchema[n.type].propSchema))!(B in k)&&$.default!==void 0&&(k[B]=$.default);const O=(l=(s=T.spec)==null?void 0:s.toDOM)==null?void 0:l.call(s,T.create({id:n.id,...k})),I=Array.from(O.dom.attributes),N=t.blockImplementations[n.type].implementation,A=((c=N.toExternalHTML)==null?void 0:c.call({},{...n,props:k},t))||N.render.call({},{...n,props:k},t),R=w.createDocumentFragment();if(A.dom.classList.contains("bn-block-content")){const B=[...I,...Array.from(A.dom.attributes)].filter($=>$.name.startsWith("data")&&$.name!=="data-content-type"&&$.name!=="data-file-block"&&$.name!=="data-node-view-wrapper"&&$.name!=="data-node-type"&&$.name!=="data-id"&&$.name!=="data-editable");for(const $ of B)A.dom.firstChild.setAttribute($.name,$.value);Vfe(A.dom.firstChild),R.append(...Array.from(A.dom.childNodes))}else R.append(A.dom);if(A.contentDOM&&n.content){const B=qfe(t,n.content,r,a);A.contentDOM.appendChild(B)}let L;if(i.has(n.type)?L="OL":o.has(n.type)&&(L="UL"),L){if(((d=e.lastChild)==null?void 0:d.nodeName)!==L){const B=w.createElement(L);L==="OL"&&"start"in k&&k.start&&k?.start!==1&&B.setAttribute("start",k.start+""),e.append(B)}e.lastChild.appendChild(R)}else e.append(R);if(n.children&&n.children.length>0){const B=w.createDocumentFragment();if(Wfe(B,t,n.children,r,i,o,a),((u=e.lastChild)==null?void 0:u.nodeName)==="UL"||((p=e.lastChild)==null?void 0:p.nodeName)==="OL")for(;((m=B.firstChild)==null?void 0:m.nodeName)==="UL"||((v=B.firstChild)==null?void 0:v.nodeName)==="OL";)e.lastChild.lastChild.appendChild(B.firstChild);t.pmSchema.nodes[n.type].isInGroup("blockContent")?e.append(B):(x=A.contentDOM)==null||x.append(B)}}const Wfe=(e,t,n,r,i,o,a)=>{for(const s of n)fGe(e,t,s,r,i,o,a)},hGe=(e,t,n,r,i,o)=>{const a=(o?.document??document).createDocumentFragment();return Wfe(a,e,t,n,r,i,o),a},cR=(e,t)=>{const n=Ml.fromSchema(e);return{exportBlocks:(r,i)=>{const o=hGe(t,r,n,new Set(["numberedListItem"]),new Set(["bulletListItem","checkListItem","toggleListItem"]),i),a=document.createElement("div");return a.append(o),a.innerHTML},exportInlineContent:(r,i)=>{const o=qfe(t,r,n,i),a=document.createElement("div");return a.append(o.cloneNode(!0)),a.innerHTML}}};function pGe(e,t,n,r,i){let o;if(t)if(typeof t=="string")o=bu([t],e.pmSchema,r);else if(Array.isArray(t))o=bu(t,e.pmSchema,r);else if(t.type==="tableContent")o=LD(t,e.pmSchema);else throw new Od(t.type);else throw new Error("blockContent is required");const a=(i?.document??document).createDocumentFragment();for(const s of o)if(s.type.name!=="text"&&e.schema.inlineContentSchema[s.type.name]){const l=e.schema.inlineContentSpecs[s.type.name].implementation;if(l){const c=P9(s,e.schema.inlineContentSchema,e.schema.styleSchema),d=l.render.call({renderType:"dom",props:void 0},c,()=>{},e);if(d){if(a.appendChild(d.dom),d.contentDOM){const u=n.serializeFragment(s.content,i);d.contentDOM.dataset.editable="",d.contentDOM.appendChild(u)}continue}}}else if(s.type.name==="text"){let l=document.createTextNode(s.textContent);for(const c of s.marks.toReversed())if(c.type.name in e.schema.styleSpecs){const d=e.schema.styleSpecs[c.type.name].implementation.render(c.attrs.stringValue,e);d.contentDOM.appendChild(l),l=d.dom}else{const d=c.type.spec.toDOM(c,!0),u=Ml.renderSpec(document,d);u.contentDOM.appendChild(l),l=u.dom}a.appendChild(l)}else{const l=n.serializeFragment(He.from([s]),i);a.appendChild(l)}return a}function mGe(e,t,n,r){var i,o,a,s,l;const c=e.pmSchema.nodes.blockContainer,d=t.props||{};for(const[v,x]of Object.entries(e.schema.blockSchema[t.type].propSchema))!(v in d)&&x.default!==void 0&&(d[v]=x.default);const u=t.children||[],p=e.blockImplementations[t.type].implementation.render.call({renderType:"dom",props:void 0},{...t,props:d,children:u},e);if(p.contentDOM&&t.content){const v=pGe(e,t.content,n,t.type,r);p.contentDOM.appendChild(v)}if(e.pmSchema.nodes[t.type].isInGroup("bnBlock")){if(t.children&&t.children.length>0){const v=Yfe(e,t.children,n,r);(i=p.contentDOM)==null||i.append(v)}return p.dom}const m=(a=(o=c.spec)==null?void 0:o.toDOM)==null?void 0:a.call(o,c.create({id:t.id,...d}));return(s=m.contentDOM)==null||s.appendChild(p.dom),t.children&&t.children.length>0&&((l=m.contentDOM)==null||l.appendChild(Gfe(e,t.children,n,r))),m.dom}function Yfe(e,t,n,r){const i=(r?.document??document).createDocumentFragment();for(const o of t){const a=mGe(e,o,n,r);i.appendChild(a)}return i}const Gfe=(e,t,n,r)=>{var i;const o=e.pmSchema.nodes.blockGroup,a=o.spec.toDOM(o.create({})),s=Yfe(e,t,n,r);return(i=a.contentDOM)==null||i.appendChild(s),a.dom},gGe=(e,t)=>{const n=Ml.fromSchema(e);return{serializeBlocks:(r,i)=>Gfe(t,r,n,i).outerHTML}};function yGe(e,t){if(t===0)return;const n=e.resolve(t);for(let r=n.depth;r>0;r--){const i=n.node(r);if(F9(i))return i.attrs.id}}function bGe(e){return e.getMeta("paste")?{type:"paste"}:e.getMeta("uiEvent")==="drop"?{type:"drop"}:e.getMeta("history$")?{type:e.getMeta("history$").redo?"redo":"undo"}:e.getMeta("y-sync$")?e.getMeta("y-sync$").isUndoRedoOperation?{type:"undo-redo"}:{type:"yjs-remote"}:{type:"local"}}function DG(e){const t="__root__",n={},r={},i=ho(e);return e.descendants((o,a)=>{if(!F9(o))return!0;const s=yGe(e,a),l=s??t;r[l]||(r[l]=[]);const c=ri(o,i);return n[o.attrs.id]={block:c,parentId:s},r[l].push(o.attrs.id),!0}),{byId:n,childrenByParent:r}}function vGe(e,t){const n=new Set;if(!e||!t)return n;const r=new Set(e),i=t.filter(x=>r.has(x)),o=e.filter(x=>i.includes(x));if(o.length<=1||i.length<=1)return n;const a={};for(let x=0;x<o.length;x++)a[o[x]]=x;const s=i.map(x=>a[x]),l=s.length,c=[],d=[],u=new Array(l).fill(-1),p=(x,w)=>{let T=0,k=x.length;for(;T<k;){const O=T+k>>>1;x[O]<w?T=O+1:k=O}return T};for(let x=0;x<l;x++){const w=s[x],T=p(c,w);T>0&&(u[x]=d[T-1]),T===c.length?(c.push(w),d.push(x)):(c[T]=w,d[T]=x)}const m=new Set;let v=d[d.length-1]??-1;for(;v!==-1;)m.add(v),v=u[v];for(let x=0;x<i.length;x++)m.has(x)||n.add(i[x]);return n}function Kfe(e,t=[]){const n=bGe(e),r=ND(e.before,[e,...t]),i=DG(r.before),o=DG(r.doc),a=[],s=new Set;Object.keys(o.byId).filter(m=>!(m in i.byId)).forEach(m=>{a.push({type:"insert",block:o.byId[m].block,source:n,prevBlock:void 0}),s.add(m)}),Object.keys(i.byId).filter(m=>!(m in o.byId)).forEach(m=>{a.push({type:"delete",block:i.byId[m].block,source:n,prevBlock:void 0}),s.add(m)}),Object.keys(o.byId).filter(m=>m in i.byId).forEach(m=>{var v,x;const w=i.byId[m],T=o.byId[m];w.parentId!==T.parentId?(a.push({type:"move",block:T.block,prevBlock:w.block,source:n,prevParent:w.parentId?(v=i.byId[w.parentId])==null?void 0:v.block:void 0,currentParent:T.parentId?(x=o.byId[T.parentId])==null?void 0:x.block:void 0}),s.add(m)):wje({...w.block,children:void 0},{...T.block,children:void 0})||(a.push({type:"update",block:T.block,prevBlock:w.block,source:n}),s.add(m))});const l=i.childrenByParent,c=o.childrenByParent,d="__root__",u=new Set([...Object.keys(l),...Object.keys(c)]),p=new Set;return u.forEach(m=>{const v=vGe(l[m],c[m]);v.size!==0&&v.forEach(x=>{var w,T;const k=i.byId[x],O=o.byId[x];!k||!O||k.parentId!==O.parentId||s.has(x)||(k.parentId??d)!==m||p.has(x)||(p.add(x),a.push({type:"move",block:O.block,prevBlock:k.block,source:n,prevParent:k.parentId?(w=i.byId[k.parentId])==null?void 0:w.block:void 0,currentParent:O.parentId?(T=o.byId[O.parentId])==null?void 0:T.block:void 0}),s.add(x))})}),a}const XF=["vscode-editor-data","blocknote/html","text/markdown","text/html","text/plain","Files"];function xGe(e,t){if(!e.startsWith(".")||!t.startsWith("."))throw new Error("The strings provided are not valid file extensions.");return e===t}function wGe(e,t){const n=e.split("/"),r=t.split("/");if(n.length!==2)throw new Error(`The string ${e} is not a valid MIME type.`);if(r.length!==2)throw new Error(`The string ${t} is not a valid MIME type.`);return n[1]==="*"||r[1]==="*"?n[0]===r[0]:(n[0]==="*"||r[0]==="*"||n[0]===r[0])&&n[1]===r[1]}function RG(e,t,n,r="after"){let i;return Array.isArray(t.content)&&t.content.length===0?i=e.updateBlock(t,n).id:i=e.insertBlocks([n],t,r)[0].id,i}async function Xfe(e,t){var n;if(!t.uploadFile){console.warn("Attempted ot insert file, but uploadFile is not set in the BlockNote editor options");return}const r="dataTransfer"in e?e.dataTransfer:e.clipboardData;if(r===null)return;let i=null;for(const a of XF)if(r.types.includes(a)){i=a;break}if(i!=="Files")return;const o=r.items;if(o){e.preventDefault();for(let a=0;a<o.length;a++){let s="file";for(const c of Object.values(t.schema.blockSpecs))for(const d of((n=c.implementation.meta)==null?void 0:n.fileBlockAccept)||[]){const u=d.startsWith("."),p=o[a].getAsFile();if(p&&(!u&&p.type&&wGe(o[a].type,d)||u&&xGe("."+p.name.split(".").pop(),d))){s=c.config.type;break}}const l=o[a].getAsFile();if(l){const c={type:s,props:{name:l.name}};let d;if(e.type==="paste"){const m=t.getTextCursorPosition().block;d=RG(t,m,c)}else if(e.type==="drop"){const m={left:e.clientX,top:e.clientY},v=t.prosemirrorView.posAtCoords(m);if(!v)return;d=t.transact(x=>{const w=Zf(x.doc,v.pos),T=t.prosemirrorView.dom.querySelector(`[data-id="${w.node.attrs.id}"]`),k=T?.getBoundingClientRect();return RG(t,t.getBlock(w.node.attrs.id),c,k&&(k.top+k.bottom)/2>m.top?"before":"after")})}else return;const u=await t.uploadFile(l,d),p=typeof u=="string"?{props:{url:u}}:{...u};t.updateBlock(d,p)}}}}const EGe=e=>ur.create({name:"dropFile",addProseMirrorPlugins(){return[new rn({props:{handleDOMEvents:{drop(t,n){if(!e.isEditable)return;let r=null;for(const i of XF)if(n.dataTransfer.types.includes(i)){r=i;break}return r===null?!0:r==="Files"?(Xfe(n,e),!0):!1}}}})]}}),SGe=/(^|\n) {0,3}#{1,6} {1,8}[^\n]{1,64}\r?\n\r?\n\s{0,32}\S/,CGe=/(_|__|\*|\*\*|~~|==|\+\+)(?!\s)(?:[^\s](?:.{0,62}[^\s])?|\S)(?=\1)/,TGe=/\[[^\]]{1,128}\]\(https?:\/\/\S{1,999}\)/,kGe=/(?:\s|^)`(?!\s)(?:[^\s`](?:[^`]{0,46}[^\s`])?|[^\s`])`([^\w]|$)/,_Ge=/(?:^|\n)\s{0,5}-\s{1}[^\n]+\n\s{0,15}-\s/,AGe=/(?:^|\n)\s{0,5}\d+\.\s{1}[^\n]+\n\s{0,15}\d+\.\s/,OGe=/\n{2} {0,3}-{2,48}\n{2}/,NGe=/(?:\n|^)(```|~~~|\$\$)(?!`|~)[^\s]{0,64} {0,64}[^\n]{0,64}\n[\s\S]{0,9999}?\s*\1 {0,64}(?:\n+|$)/,MGe=/(?:\n|^)(?!\s)\w[^\n]{0,64}\r?\n(-|=)\1{0,64}\n\n\s{0,64}(\w|$)/,DGe=/(?:^|(\r?\n\r?\n))( {0,3}>[^\n]{1,333}\n){1,999}($|(\r?\n))/,RGe=/^\s*\|(.+\|)+\s*$/m,IGe=/^\s*\|(\s*[-:]+[-:]\s*\|)+\s*$/m,PGe=/^\s*\|(.+\|)+\s*$/m,LGe=e=>SGe.test(e)||CGe.test(e)||TGe.test(e)||kGe.test(e)||_Ge.test(e)||AGe.test(e)||OGe.test(e)||NGe.test(e)||MGe.test(e)||DGe.test(e)||RGe.test(e)||IGe.test(e)||PGe.test(e);async function jGe(e,t){const{schema:n}=t.state;if(!e.clipboardData)return!1;const r=e.clipboardData.getData("text/plain");if(!r)return!1;if(!n.nodes.codeBlock)return t.pasteText(r),!0;const i=e.clipboardData.getData("vscode-editor-data"),o=i?JSON.parse(i):void 0,a=o?.mode;return a?(t.pasteHTML(`<pre><code class="language-${a}">${r.replace(/\r\n?/g,`
`)}</code></pre>`),!0):!1}function BGe({event:e,editor:t,prioritizeMarkdownOverHTML:n,plainTextAsMarkdown:r}){var i;if(t.transact(s=>s.selection.$from.parent.type.spec.code&&s.selection.$to.parent.type.spec.code)){const s=(i=e.clipboardData)==null?void 0:i.getData("text/plain");if(s)return t.pasteText(s),!0}let o;for(const s of XF)if(e.clipboardData.types.includes(s)){o=s;break}if(!o)return!0;if(o==="vscode-editor-data")return jGe(e,t.prosemirrorView),!0;if(o==="Files")return Xfe(e,t),!0;const a=e.clipboardData.getData(o);if(o==="blocknote/html")return t.pasteHTML(a,!0),!0;if(o==="text/markdown")return t.pasteMarkdown(a),!0;if(n){const s=e.clipboardData.getData("text/plain");if(LGe(s))return t.pasteMarkdown(s),!0}return o==="text/html"?(t.pasteHTML(a),!0):r?(t.pasteMarkdown(a),!0):(t.pasteText(a),!0)}const $Ge=(e,t)=>ur.create({name:"pasteFromClipboard",addProseMirrorPlugins(){return[new rn({props:{handleDOMEvents:{paste(n,r){if(r.preventDefault(),!!e.isEditable)return t({event:r,editor:e,defaultPasteHandler:({prioritizeMarkdownOverHTML:i=!0,plainTextAsMarkdown:o=!0}={})=>BGe({event:r,editor:e,prioritizeMarkdownOverHTML:i,plainTextAsMarkdown:o})})}}}})]}});function HGe(){const e=t=>{let n=t.children.length;for(let r=0;r<n;r++){const i=t.children[r];if(i.type==="element"&&(e(i),i.tagName==="u"))if(i.children.length>0){t.children.splice(r,1,...i.children);const o=i.children.length-1;n+=o,r+=o}else t.children.splice(r,1),n--,r--}};return e}function FGe(){const e=t=>{var n;if(t.children&&"length"in t.children&&t.children.length)for(let r=t.children.length-1;r>=0;r--){const i=t.children[r],o=r+1<t.children.length?t.children[r+1]:void 0;i.type==="element"&&i.tagName==="input"&&((n=i.properties)==null?void 0:n.type)==="checkbox"&&o?.type==="element"&&o.tagName==="p"?(o.tagName="span",o.children.splice(0,0,JVe(document.createTextNode(" ")))):e(i)}};return e}function UGe(){return e=>{H0(e,"element",(t,n,r)=>{var i,o,a,s;if(r&&t.tagName==="video"){const l=((i=t.properties)==null?void 0:i.src)||((o=t.properties)==null?void 0:o["data-url"])||"",c=((a=t.properties)==null?void 0:a.title)||((s=t.properties)==null?void 0:s["data-name"])||"";r.children[n]={type:"text",value:`![${c}](${l})`}}})}}function ZF(e){return Tfe().use(b9e,{fragment:!0}).use(UGe).use(HGe).use(FGe).use(GFe).use(Cfe).use(zVe,{handlers:{text:t=>t.value}}).processSync(e).value}function zGe(e,t,n,r){const i=cR(t,n).exportBlocks(e,r);return ZF(i)}function Zfe(e){const t=[];return e.descendants(n=>{var r,i;const o=ho(n);return n.type.name==="blockContainer"&&((r=n.firstChild)==null?void 0:r.type.name)==="blockGroup"?!0:n.type.name==="columnList"&&n.childCount===1?((i=n.firstChild)==null||i.forEach(a=>{t.push(ri(a,o))}),!1):n.type.isInGroup("bnBlock")?(t.push(ri(n,o)),!1):!0}),t}function VGe(e,t,n){var r;let i=!1;const o=e.state.selection instanceof Mr;if(!o){const l=e.state.doc.slice(e.state.selection.from,e.state.selection.to,!1).content,c=[];for(let d=0;d<l.childCount;d++)c.push(l.child(d));i=c.find(d=>d.type.isInGroup("bnBlock")||d.type.name==="blockGroup"||d.type.spec.group==="blockContent")===void 0,i&&(t=l)}let a;const s=cR(e.state.schema,n);if(o){((r=t.firstChild)==null?void 0:r.type.name)==="table"&&(t=t.firstChild.content);const l=Nle(t,n.schema.inlineContentSchema,n.schema.styleSchema);a=`<table>${s.exportInlineContent(l,{})}</table>`}else if(i){const l=PD(t,n.schema.inlineContentSchema,n.schema.styleSchema);a=s.exportInlineContent(l,{})}else{const l=Zfe(t);a=s.exportBlocks(l,{})}return a}function Qfe(e,t){"node"in e.state.selection&&e.state.selection.node.type.spec.group==="blockContent"&&t.transact(a=>a.setSelection(new Rt(a.doc.resolve(e.state.selection.from-1))));const n=e.serializeForClipboard(e.state.selection.content()).dom.innerHTML,r=e.state.selection.content().content,i=VGe(e,r,t),o=ZF(i);return{clipboardHTML:n,externalHTML:i,markdown:o}}const IG=()=>{const e=window.getSelection();if(!e||e.isCollapsed)return!0;let t=e.focusNode;for(;t;){if(t instanceof HTMLElement&&t.getAttribute("contenteditable")==="false")return!0;t=t.parentElement}return!1},PG=(e,t,n)=>{n.preventDefault(),n.clipboardData.clearData();const{clipboardHTML:r,externalHTML:i,markdown:o}=Qfe(t,e);n.clipboardData.setData("blocknote/html",r),n.clipboardData.setData("text/html",i),n.clipboardData.setData("text/plain",o)},qGe=e=>ur.create({name:"copyToClipboard",addProseMirrorPlugins(){return[new rn({props:{handleDOMEvents:{copy(t,n){return IG()||PG(e,t,n),!0},cut(t,n){return IG()||(PG(e,t,n),t.editable&&t.dispatch(t.state.tr.deleteSelection())),!0},dragstart(t,n){if(!("node"in t.state.selection)||t.state.selection.node.type.spec.group!=="blockContent")return;e.transact(a=>a.setSelection(new Rt(a.doc.resolve(t.state.selection.from-1)))),n.preventDefault(),n.dataTransfer.clearData();const{clipboardHTML:r,externalHTML:i,markdown:o}=Qfe(t,e);return n.dataTransfer.setData("blocknote/html",r),n.dataTransfer.setData("text/html",i),n.dataTransfer.setData("text/plain",o),!0}}}})]}}),WGe=ur.create({name:"blockBackgroundColor",addGlobalAttributes(){return[{types:["tableCell","tableHeader"],attributes:{backgroundColor:h4e()}}]}});let YGe=class extends uo{constructor(){super(),Ae(this,"beforeChangeCallbacks",[]),this.addProsemirrorPlugin(new rn({key:new wn("blockChange"),filterTransaction:t=>{let n;return this.beforeChangeCallbacks.reduce((r,i)=>r===!1?r:i({getChanges(){return n||(n=Kfe(t),n)},tr:t})!==!1,!0)}}))}static key(){return"blockChange"}subscribe(t){return this.beforeChangeCallbacks.push(t),()=>{this.beforeChangeCallbacks=this.beforeChangeCallbacks.filter(n=>n!==t)}}};const aO=class Jfe extends uo{constructor(t){super(),Ae(this,"provider"),Ae(this,"recentlyUpdatedCursors"),Ae(this,"renderCursor",(n,r)=>{let i=this.recentlyUpdatedCursors.get(r);if(!i){const o=(this.collaboration.renderCursor??Jfe.defaultCursorRender)(n);this.collaboration.showCursorLabels!=="always"&&(o.addEventListener("mouseenter",()=>{const a=this.recentlyUpdatedCursors.get(r);a.element.setAttribute("data-active",""),a.hideTimeout&&(clearTimeout(a.hideTimeout),this.recentlyUpdatedCursors.set(r,{element:a.element,hideTimeout:void 0}))}),o.addEventListener("mouseleave",()=>{const a=this.recentlyUpdatedCursors.get(r);this.recentlyUpdatedCursors.set(r,{element:a.element,hideTimeout:setTimeout(()=>{a.element.removeAttribute("data-active")},2e3)})})),i={element:o,hideTimeout:void 0},this.recentlyUpdatedCursors.set(r,i)}return i.element}),Ae(this,"updateUser",n=>{this.provider.awareness.setLocalStateField("user",n)}),this.collaboration=t,this.provider=t.provider,this.recentlyUpdatedCursors=new Map,this.provider.awareness.setLocalStateField("user",t.user),t.showCursorLabels!=="always"&&this.provider.awareness.on("change",({updated:n})=>{for(const r of n){const i=this.recentlyUpdatedCursors.get(r);i&&(i.element.setAttribute("data-active",""),i.hideTimeout&&clearTimeout(i.hideTimeout),this.recentlyUpdatedCursors.set(r,{element:i.element,hideTimeout:setTimeout(()=>{i.element.removeAttribute("data-active")},2e3)}))}}),this.addProsemirrorPlugin(Bqe(this.provider.awareness,{selectionBuilder:Dfe,cursorBuilder:this.renderCursor}))}static key(){return"yCursorPlugin"}get priority(){return 999}static isDarkColor(t){const n=t.charAt(0)==="#"?t.substring(1,7):t,r=parseInt(n.substring(0,2),16),i=parseInt(n.substring(2,4),16),o=parseInt(n.substring(4,6),16),a=[r/255,i/255,o/255].map(s=>s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4));return .2126*a[0]+.7152*a[1]+.0722*a[2]<=.179}};Ae(aO,"defaultCursorRender",e=>{const t=document.createElement("span");t.classList.add("bn-collaboration-cursor__base");const n=document.createElement("span");n.setAttribute("contentedEditable","false"),n.classList.add("bn-collaboration-cursor__caret"),n.setAttribute("style",`background-color: ${e.color}; color: ${aO.isDarkColor(e.color)?"white":"black"}`);const r=document.createElement("span");return r.classList.add("bn-collaboration-cursor__label"),r.setAttribute("style",`background-color: ${e.color}; color: ${aO.isDarkColor(e.color)?"white":"black"}`),r.insertBefore(document.createTextNode(e.name),null),n.insertBefore(r,null),t.insertBefore(document.createTextNode(""),null),t.insertBefore(n,null),t.insertBefore(document.createTextNode(""),null),t});let QF=aO,MN=class extends uo{static key(){return"ySyncPlugin"}constructor(t){super(),this.addProsemirrorPlugin(Eqe(t))}get priority(){return 1001}},DN=class extends uo{static key(){return"yUndoPlugin"}constructor({editor:t}){super(),this.addProsemirrorPlugin(qqe({trackedOrigins:[t]}))}get priority(){return 1e3}},ehe=class extends uo{constructor({editor:t,collaboration:n}){super(t),Ae(this,"editor"),Ae(this,"collaboration"),Ae(this,"forkedState"),this.editor=t,this.collaboration=n}static key(){return"ForkYDocPlugin"}findTypeInOtherYdoc(t,n){const r=t.doc;if(t._item===null){const i=Array.from(r.share.keys()).find(o=>r.share.get(o)===t);if(i==null)throw new Error("type does not exist in other ydoc");return n.get(i,t.constructor)}else{const i=t._item,o=n.store.clients.get(i.id.client)??[],a=Ec(o,i.id.clock);return o[a].content.type}}get isForkedFromRemote(){return this.forkedState!==void 0}fork(){var t;if(this.isForkedFromRemote)return;const n=(t=this.collaboration)==null?void 0:t.fragment;if(!n)throw new Error("No fragment to fork from");const r=new pm;PW(r,LW(n.doc));const i=this.findTypeInOtherYdoc(n,r);this.forkedState={undoStack:uc.getState(this.editor.prosemirrorState).undoManager.undoStack,originalFragment:n,forkedFragment:i},this.editor._tiptapEditor.unregisterPlugin([aS,uc,Nr]),this.editor._tiptapEditor.registerPlugin(new MN(i).plugins[0]),this.editor._tiptapEditor.registerPlugin(new DN({editor:this.editor}).plugins[0]),this.emit("forked",!0)}merge({keepChanges:t}){if(!this.forkedState)return;this.editor._tiptapEditor.unregisterPlugin(Nr),this.editor._tiptapEditor.unregisterPlugin(uc);const{originalFragment:n,forkedFragment:r,undoStack:i}=this.forkedState;if(this.editor.extensions.ySyncPlugin=new MN(n),this.editor.extensions.yCursorPlugin=new QF(this.collaboration),this.editor.extensions.yUndoPlugin=new DN({editor:this.editor}),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.ySyncPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yCursorPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yUndoPlugin.plugins[0]),uc.getState(this.editor.prosemirrorState).undoManager.undoStack=i,t){const o=LW(r.doc,r6e(n.doc));PW(n.doc,o,this.editor)}this.forkedState=void 0,this.emit("forked",!1)}};const the=(e,t)=>{t(e),e.forEach(n=>{n instanceof ea&&the(n,t)})},GGe=(e,t)=>{const n=new Map;return e.forEach(r=>{r instanceof ea&&the(r,i=>{if(i.nodeName==="blockContainer"&&i.hasAttribute("id")){const o=i.getAttribute("textColor"),a=i.getAttribute("backgroundColor"),s={textColor:o===cr.textColor.default?void 0:o,backgroundColor:a===cr.backgroundColor.default?void 0:a};(s.textColor||s.backgroundColor)&&n.set(i.getAttribute("id"),s)}})}),n.size===0?!1:(t.doc.descendants((r,i)=>{if(r.type.name==="blockContainer"&&n.has(r.attrs.id)){const o=t.doc.nodeAt(i+1);if(!o)throw new Error("No element found");t.setNodeMarkup(i+1,void 0,{...o.attrs,...n.get(r.attrs.id)})}}),!0)},KGe=[GGe];let XGe=class nhe extends uo{constructor(t){const n=new wn(nhe.key());super(),Ae(this,"migrationDone",!1),this.addProsemirrorPlugin(new rn({key:n,appendTransaction:(r,i,o)=>{if(this.migrationDone||!r.some(s=>s.getMeta("y-sync$"))||r.every(s=>!s.docChanged)||!t.firstChild)return;const a=o.tr;for(const s of KGe)s(t,a);if(this.migrationDone=!0,!!a.docChanged)return a}}))}static key(){return"schemaMigrationPlugin"}};const RN=jl.create({name:"comment",excludes:"",inclusive:!1,keepOnSplit:!0,addAttributes(){return{orphan:{parseHTML:e=>!!e.getAttribute("data-orphan"),renderHTML:e=>e.orphan?{"data-orphan":"true"}:{},default:!1},threadId:{parseHTML:e=>e.getAttribute("data-bn-thread-id"),renderHTML:e=>({"data-bn-thread-id":e.threadId}),default:""}}},renderHTML({HTMLAttributes:e}){return["span",Dl(e,{class:"bn-thread-mark"})]},parseHTML(){return[{tag:"span.bn-thread-mark"}]},extendMarkSchema(e){return e.name==="comment"?{blocknoteIgnore:!0}:{}}});let ZGe=class extends HD{constructor(t){super(),Ae(this,"userCache",new Map),Ae(this,"loadingUsers",new Set),this.resolveUsers=t}async loadUsers(t){const n=t.filter(r=>!this.userCache.has(r)&&!this.loadingUsers.has(r));if(n.length!==0){for(const r of n)this.loadingUsers.add(r);try{const r=await this.resolveUsers(n);for(const i of r)this.userCache.set(i.id,i);this.emit("update",this.userCache)}finally{for(const r of n)this.loadingUsers.delete(r)}}}getUser(t){return this.userCache.get(t)}subscribe(t){return this.on("update",t)}};const bA=new wn("blocknote-comments"),QGe="SET_SELECTED_THREAD_ID";function JGe(e,t){const n=new Map;return e.descendants((r,i)=>{r.marks.forEach(o=>{if(o.type.name===t){const a=o.attrs.threadId;if(!a)return;const s=i,l=s+r.nodeSize,c=n.get(a)??{from:1/0,to:0};n.set(a,{from:Math.min(s,c.from),to:Math.max(l,c.to)})}})}),n}let rhe=class extends uo{constructor(t,n,r,i,o){if(super(),Ae(this,"userStore"),Ae(this,"pendingComment",!1),Ae(this,"selectedThreadId"),Ae(this,"threadPositions",new Map),Ae(this,"updateMarksFromThreads",s=>{this.editor.transact(l=>{l.doc.descendants((c,d)=>{c.marks.forEach(u=>{if(u.type.name===this.markType){const p=u.type,m=u.attrs.threadId,v=s.get(m),x=!!(!v||v.resolved||v.deletedAt);if(x!==u.attrs.orphan){const w=Math.max(d,0),T=Math.min(d+c.nodeSize,l.doc.content.size-1,l.doc.content.size-1);l.removeMark(w,T,u),l.addMark(w,T,p.create({...u.attrs,orphan:x})),x&&this.selectedThreadId===m&&(this.selectedThreadId=void 0,this.emitStateUpdate())}}})})})}),this.editor=t,this.threadStore=n,this.markType=r,this.resolveUsers=i,this.commentEditorSchema=o,!i)throw new Error("resolveUsers is required for comments");this.userStore=new ZGe(i),this.threadStore.subscribe(this.updateMarksFromThreads),t.onCreate(()=>{this.updateMarksFromThreads(this.threadStore.getThreads()),t.onSelectionChange(()=>{this.pendingComment&&(this.pendingComment=!1,this.emitStateUpdate())})});const a=this;this.addProsemirrorPlugin(new rn({key:bA,state:{init(){return{decorations:mn.empty}},apply(s,l){const c=s.getMeta(bA);if(!s.docChanged&&!c)return l;const d=s.docChanged?JGe(s.doc,a.markType):a.threadPositions;(d.size>0||a.threadPositions.size>0)&&(a.threadPositions=d,a.emitStateUpdate());const u=[];if(a.selectedThreadId){const p=d.get(a.selectedThreadId);p&&u.push(ir.inline(p.from,p.to,{class:"bn-thread-mark-selected"}))}return{decorations:mn.create(s.doc,u)}}},props:{decorations(s){var l;return((l=bA.getState(s))==null?void 0:l.decorations)??mn.empty},handleClick:(s,l,c)=>{var d;if(c.button!==0)return;const u=s.state.doc.nodeAt(l);if(!u){a.selectThread(void 0);return}const p=s.state.schema.marks[r],m=s.state.doc.resolve(l),v=(d=u.marks.filter(w=>w.type.name===r&&w.attrs.orphan!==!0).map(w=>{const T=u1(m,p,w.attrs);return{mark:w,distance:(Math.abs(T.from-l)+Math.abs(T.to-l))/2,length:T.to-T.from}}).sort((w,T)=>w.distance!==T.distance?w.distance-T.distance:w.length-T.length)[0])==null?void 0:d.mark,x=v?.attrs.threadId;a.selectThread(x)}}}))}static key(){return"comments"}emitStateUpdate(){this.emit("update",{selectedThreadId:this.selectedThreadId,pendingComment:this.pendingComment,threadPositions:this.threadPositions})}onUpdate(t){return this.on("update",t)}selectThread(t){var n,r;if(this.selectedThreadId!==t&&(this.selectedThreadId=t,this.emitStateUpdate(),this.editor.transact(i=>i.setMeta(bA,{name:QGe})),t)){const i=this.threadPositions.get(t);if(!i)return;(r=(n=this.editor.prosemirrorView)==null?void 0:n.domAtPos(i.from).node)==null||r.scrollIntoView({behavior:"smooth",block:"center"})}}startPendingComment(){this.pendingComment=!0,this.emitStateUpdate()}stopPendingComment(){this.pendingComment=!1,this.emitStateUpdate()}async createThread(t){const n=await this.threadStore.createThread(t);if(this.threadStore.addThreadToDocument){const r=this.editor.prosemirrorView,i=r.state.selection,o=Nr.getState(r.state),a={prosemirror:{head:i.head,anchor:i.anchor},yjs:o?ON(o.binding,r.state):void 0};await this.threadStore.addThreadToDocument({threadId:n.id,selection:a})}else this.editor._tiptapEditor.commands.setMark(this.markType,{orphan:!1,threadId:n.id})}},eKe=class{constructor(t,n,r,i){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"mouseDownHandler",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"dragstartHandler",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"scrollHandler",()=>{var o;if((o=this.state)!=null&&o.show){const a=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);if(!a)return;this.state.referencePos=a.getBoundingClientRect(),this.emitUpdate()}}),Ae(this,"closeMenu",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pluginKey=n,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized file panel");i(this.state)},r.dom.addEventListener("mousedown",this.mouseDownHandler),r.dom.addEventListener("dragstart",this.dragstartHandler),r.root.addEventListener("scroll",this.scrollHandler,!0)}update(t,n){var r,i;const o=this.pluginKey.getState(t.state),a=this.pluginKey.getState(n);if(!((r=this.state)!=null&&r.show)&&o!=null&&o.block&&this.editor.isEditable){const c=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${o.block.id}"]`);if(!c)return;this.state={show:!0,referencePos:c.getBoundingClientRect(),block:o.block},this.emitUpdate();return}const s=o?.block&&!(a!=null&&a.block),l=!(o!=null&&o.block)&&a?.block;s&&this.state&&!this.state.show&&(this.state.show=!0,this.emitUpdate()),l&&(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}};const tL=new wn("FilePanelPlugin");let tKe=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"closeMenu",()=>{var n;return(n=this.view)==null?void 0:n.closeMenu()}),this.addProsemirrorPlugin(new rn({key:tL,view:n=>(this.view=new eKe(t,tL,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>{var i;return r.key==="Escape"&&this.shown?((i=this.view)==null||i.closeMenu(),!0):!1}},state:{init:()=>({block:void 0}),apply:(n,r)=>n.getMeta(tL)||(!n.getMeta(Nr)&&(n.selectionSet||n.docChanged)?{block:void 0}:r)}}))}static key(){return"filePanel"}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}onUpdate(t){return this.on("update",t)}},nKe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"preventHide",!1),Ae(this,"preventShow",!1),Ae(this,"shouldShow",({view:i,state:o,from:a,to:s})=>{const{doc:l,selection:c}=o,{empty:d}=c,u=!l.textBetween(a,s).length&&w9(o.selection);if(c.$from.parent.type.spec.code||PO(c)&&c.node.type.spec.code||d||u)return!1;const p=document.activeElement;return!(!this.isElementWithinEditorWrapper(p)&&i.editable)}),Ae(this,"blurHandler",i=>{var o;if(this.preventHide){this.preventHide=!1;return}const a=this.pmView.dom.parentElement;i&&i.relatedTarget&&(a===i.relatedTarget||a.contains(i.relatedTarget)||i.relatedTarget.matches(".bn-ui-container, .bn-ui-container *"))||(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"isElementWithinEditorWrapper",i=>{if(!i)return!1;const o=this.pmView.dom.parentElement;return o?o.contains(i):!1}),Ae(this,"viewMousedownHandler",i=>{(!this.isElementWithinEditorWrapper(i.target)||i.button===0)&&(this.preventShow=!0)}),Ae(this,"mouseupHandler",()=>{this.preventShow&&(this.preventShow=!1,setTimeout(()=>this.update(this.pmView)))}),Ae(this,"dragHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"scrollHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),Ae(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized formatting toolbar");r(this.state)},n.dom.addEventListener("mousedown",this.viewMousedownHandler),n.root.addEventListener("mouseup",this.mouseupHandler),n.dom.addEventListener("dragstart",this.dragHandler),n.dom.addEventListener("dragover",this.dragHandler),n.dom.addEventListener("blur",this.blurHandler),n.root.addEventListener("scroll",this.scrollHandler,!0)}update(t,n){var r,i,o;const{state:a,composing:s}=t,{doc:l,selection:c}=a,d=n&&n.doc.eq(l)&&n.selection.eq(c);if(s||d)return;const{ranges:u}=c,p=Math.min(...u.map(w=>w.$from.pos)),m=Math.max(...u.map(w=>w.$to.pos)),v=this.shouldShow({view:t,state:a,from:p,to:m}),x=typeof Range.prototype.getClientRects>"u";if(!this.preventShow&&(v||this.preventHide)&&!x){const w=this.getSelectionBoundingBox();if(w.height===0&&w.width===0){queueMicrotask(()=>{const k={show:!0,referencePos:this.getSelectionBoundingBox()};this.state=k,this.emitUpdate(),t.dispatch(t.state.tr.setSelection(St.create(t.state.doc,t.state.selection.from+1,t.state.selection.to))),t.dispatch(t.state.tr.setSelection(St.create(t.state.doc,t.state.selection.from-1,t.state.selection.to)))});return}const T={show:!0,referencePos:this.getSelectionBoundingBox()};(T.show!==((r=this.state)==null?void 0:r.show)||T.referencePos.toJSON()!==((i=this.state)==null?void 0:i.referencePos.toJSON()))&&(this.state=T,this.emitUpdate());return}if((o=this.state)!=null&&o.show&&!this.preventHide&&(!v||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("mouseup",this.mouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}getSelectionBoundingBox(){const{state:t}=this.pmView,{selection:n}=t,{ranges:r}=n,i=Math.min(...r.map(a=>a.$from.pos)),o=Math.max(...r.map(a=>a.$to.pos));if(PO(n)){const a=this.pmView.nodeDOM(i);if(a)return a.getBoundingClientRect()}return LO(this.pmView,i,o)}};const rKe=new wn("FormattingToolbarPlugin");let iKe=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new rn({key:rKe,view:n=>(this.view=new nKe(t,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"formattingToolbar"}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}onUpdate(t){return this.on("update",t)}};const oKe=qs.create({name:"hardBreak",inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,priority:10,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Dl(this.options.HTMLAttributes,e)]},renderText(){return`
`}}),b8=(e,t)=>{const n=e.resolve(t),r=n.index();if(r===0)return;const i=n.posAtIndex(r-1);return ID(e.resolve(i))},ihe=(e,t)=>{for(;t.childContainer;){const n=t.childContainer.node,r=e.resolve(t.childContainer.beforePos+1).posAtIndex(n.childCount-1);t=ID(e.resolve(r))}return t},aKe=(e,t)=>e.isBlockContainer&&e.blockContent.node.type.spec.content==="inline*"&&e.blockContent.node.childCount>0&&t.isBlockContainer&&t.blockContent.node.type.spec.content==="inline*",sKe=(e,t,n,r)=>{if(!r.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but next block is not a block container`);if(r.childContainer){const i=e.doc.resolve(r.childContainer.beforePos+1),o=e.doc.resolve(r.childContainer.afterPos-1),a=i.blockRange(o);if(t){const s=e.doc.resolve(r.bnBlock.beforePos);e.tr.lift(a,s.depth)}}if(t){if(!n.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but previous block is not a block container`);t(e.tr.delete(n.blockContent.afterPos-1,r.blockContent.beforePos+1))}return!0},LG=e=>({state:t,dispatch:n})=>{const r=t.doc.resolve(e),i=ID(r),o=b8(t.doc,i.bnBlock.beforePos);if(!o)return!1;const a=ihe(t.doc,o);return aKe(a,i)?sKe(t,n,a,i):!1};function lKe(e,t,n){const{$from:r,$to:i}=e.selection,o=r.blockRange(i,m=>m.childCount>0&&(m.type.name==="blockGroup"||m.type.name==="column"));if(!o)return!1;const a=o.startIndex;if(a===0)return!1;const s=o.parent.child(a-1);if(s.type!==t)return!1;const l=s.lastChild&&s.lastChild.type===n,c=He.from(l?t.create():null),d=new at(He.from(t.create(null,He.from(n.create(null,c)))),l?3:1,0),u=o.start,p=o.end;return e.step(new Ki(u-(l?3:1),p,u,p,d,1,!0)).scrollIntoView(),!0}function ohe(e){return e.transact(t=>lKe(t,e.pmSchema.nodes.blockContainer,e.pmSchema.nodes.blockGroup))}function cKe(e){e._tiptapEditor.commands.liftListItem("blockContainer")}function uKe(e){return e.transact(t=>{const{bnBlock:n}=jT(t);return t.doc.resolve(n.beforePos).nodeBefore!==null})}function dKe(e){return e.transact(t=>{const{bnBlock:n}=jT(t);return t.doc.resolve(n.beforePos).depth>1})}const fKe=ur.create({priority:50,addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({chain:r,commands:i})=>[()=>i.deleteSelection(),()=>i.undoInputRule(),()=>i.command(({state:o})=>{const a=Ns(o);if(!a.isBlockContainer)return!1;const s=o.selection.from===a.blockContent.beforePos+1,l=a.blockContent.node.type.name==="paragraph";return s&&!l?i.command(l4e(a.bnBlock.beforePos,{type:"paragraph",props:{}})):!1}),()=>i.command(({state:o})=>{const a=Ns(o);if(!a.isBlockContainer)return!1;const{blockContent:s}=a;return o.selection.from===s.beforePos+1?i.liftListItem("blockContainer"):!1}),()=>i.command(({state:o})=>{const a=Ns(o);if(!a.isBlockContainer)return!1;const{bnBlock:s,blockContent:l}=a,c=o.selection.from===l.beforePos+1,d=o.selection.empty,u=s.beforePos;return c&&d?r().command(LG(u)).scrollIntoView().run():!1}),()=>i.command(({state:o,tr:a,dispatch:s})=>{const l=Ns(o);if(!l.isBlockContainer||a.selection.from!==l.blockContent.beforePos+1)return!1;const c=a.doc.resolve(l.bnBlock.beforePos);if(c.nodeBefore||c.node().type.name!=="column")return!1;const d=a.doc.resolve(l.bnBlock.beforePos),u=a.doc.resolve(d.before()),p=u.before();if(s){const m=a.doc.slice(l.bnBlock.beforePos,l.bnBlock.afterPos).content;a.delete(l.bnBlock.beforePos,l.bnBlock.afterPos),u.index()===0?(y8(a,p),a.insert(p,m),a.setSelection(St.near(a.doc.resolve(p)))):(a.insert(u.pos-1,m),a.setSelection(St.near(a.doc.resolve(u.pos-1))),y8(a,p))}return!0}),()=>i.command(({state:o})=>{const a=Ns(o);if(!a.isBlockContainer)return!1;if(a.blockContent.node.childCount===0&&a.blockContent.node.type.spec.content==="inline*"){const s=b8(o.doc,a.bnBlock.beforePos);if(!s||!s.isBlockContainer)return!1;let l=r();if(s.blockContent.node.type.spec.content==="tableRow+"){const c=a.bnBlock.beforePos-1-1-1-1-1;l=l.setTextSelection(c)}else if(s.blockContent.node.type.spec.content===""){const c=s.blockContent.afterPos-s.blockContent.node.nodeSize;l=l.setNodeSelection(c)}else{const c=s.blockContent.afterPos-s.blockContent.node.nodeSize;l=l.setTextSelection(c)}return l.deleteRange({from:a.bnBlock.beforePos,to:a.bnBlock.afterPos}).scrollIntoView().run()}return!1}),()=>i.command(({state:o})=>{const a=Ns(o);if(!a.isBlockContainer)throw new Error("todo");const s=o.selection.from===a.blockContent.beforePos+1,l=o.selection.empty,c=b8(o.doc,a.bnBlock.beforePos);if(c&&s&&l){const d=ihe(o.doc,c);if(!d.isBlockContainer)throw new Error("todo");if(d.blockContent.node.type.spec.content===""||d.blockContent.node.type.spec.content==="inline*"&&d.blockContent.node.childCount===0)return r().cut({from:a.bnBlock.beforePos,to:a.bnBlock.afterPos},d.bnBlock.afterPos).deleteRange({from:d.bnBlock.beforePos,to:d.bnBlock.afterPos}).run()}return!1})]),t=()=>this.editor.commands.first(({commands:r})=>[()=>r.deleteSelection(),()=>r.command(({state:i})=>{const o=Ns(i);if(!o.isBlockContainer)return!1;const{bnBlock:a,blockContent:s,childContainer:l}=o,{depth:c}=i.doc.resolve(a.beforePos),d=a.afterPos===i.doc.nodeSize-3,u=i.selection.from===s.afterPos-1,p=i.selection.empty;if(!d&&u&&p&&l===void 0){let m=c,v=a.afterPos+1,x=i.doc.resolve(v).depth;for(;x<m;)m=x,v+=2,x=i.doc.resolve(v).depth;return r.command(LG(v-1))}return!1})]),n=(r=!1)=>this.editor.commands.first(({commands:i,tr:o})=>[()=>i.command(({state:a})=>{const s=Ns(a);if(!s.isBlockContainer)return!1;const{bnBlock:l,blockContent:c}=s,{depth:d}=a.doc.resolve(l.beforePos),u=a.selection.$anchor.parentOffset===0,p=a.selection.anchor===a.selection.head,m=c.node.childCount===0,v=d>1;return u&&p&&m&&v?i.liftListItem("blockContainer"):!1}),()=>i.command(({state:a})=>{var s;const l=Ns(a),c=((s=this.options.editor.schema.blockSchema[l.blockNoteType].meta)==null?void 0:s.hardBreakShortcut)??"shift+enter";if(c==="none")return!1;if(c==="shift+enter"&&r||c==="enter"){const d=o.storedMarks||o.selection.$head.marks().filter(u=>this.editor.extensionManager.splittableMarks.includes(u.type.name));return o.insert(o.selection.head,o.doc.type.schema.nodes.hardBreak.create()).ensureMarks(d),!0}return!1}),()=>i.command(({state:a,dispatch:s})=>{const l=Ns(a);if(!l.isBlockContainer)return!1;const{bnBlock:c,blockContent:d}=l,u=a.selection.$anchor.parentOffset===0,p=a.selection.anchor===a.selection.head,m=d.node.childCount===0;if(u&&p&&m){const v=c.afterPos,x=v+2;if(s){const w=a.schema.nodes.blockContainer.createAndFill();a.tr.insert(v,w).scrollIntoView(),a.tr.setSelection(new St(a.doc.resolve(x)))}return!0}return!1}),()=>i.command(({state:a,chain:s})=>{const l=Ns(a);if(!l.isBlockContainer)return!1;const{blockContent:c}=l,d=a.selection.$anchor.parentOffset===0;return c.node.childCount===0?!1:(s().deleteSelection().command(F4e(a.selection.from,d,d)).run(),!0)})]);return{Backspace:e,Delete:t,Enter:()=>n(),"Shift-Enter":()=>n(!0),Tab:()=>{var r,i,o;return this.options.tabBehavior!=="prefer-indent"&&((r=this.options.editor.formattingToolbar)!=null&&r.shown||(i=this.options.editor.linkToolbar)!=null&&i.shown||(o=this.options.editor.filePanel)!=null&&o.shown)?!1:ohe(this.options.editor)},"Shift-Tab":()=>{var r,i,o;return this.options.tabBehavior!=="prefer-indent"&&((r=this.options.editor.formattingToolbar)!=null&&r.shown||(i=this.options.editor.linkToolbar)!=null&&i.shown||(o=this.options.editor.filePanel)!=null&&o.shown)?!1:(this.editor.commands.liftListItem("blockContainer"),!0)},"Shift-Mod-ArrowUp":()=>(this.options.editor.moveBlocksUp(),!0),"Shift-Mod-ArrowDown":()=>(this.options.editor.moveBlocksDown(),!0),"Mod-z":()=>this.options.editor.undo(),"Mod-y":()=>this.options.editor.redo(),"Shift-Mod-z":()=>this.options.editor.redo()}}});let hKe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"menuUpdateTimer"),Ae(this,"startMenuUpdateTimer"),Ae(this,"stopMenuUpdateTimer"),Ae(this,"mouseHoveredLinkMark"),Ae(this,"mouseHoveredLinkMarkRange"),Ae(this,"keyboardHoveredLinkMark"),Ae(this,"keyboardHoveredLinkMarkRange"),Ae(this,"linkMark"),Ae(this,"linkMarkRange"),Ae(this,"mouseOverHandler",i=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),i.target instanceof HTMLAnchorElement&&i.target.nodeName==="A"){const o=i.target,a=this.pmView.posAtDOM(o,0)+1,s=this.pmView.state.doc.resolve(a),l=s.marks();for(const c of l)if(c.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=c,this.mouseHoveredLinkMarkRange=u1(s,c.type,c.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),Ae(this,"clickHandler",i=>{var o;const a=this.pmView.dom.parentElement;this.linkMark&&i&&i.target&&!(a===i.target||a.contains(i.target))&&(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),Ae(this,"scrollHandler",()=>{var i;this.linkMark!==void 0&&(i=this.state)!=null&&i.show&&(this.state.referencePos=LO(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),Ae(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized link toolbar");r(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update(this.pmView,void 0,!0)},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),this.pmView.root.addEventListener("click",this.clickHandler,!0),this.pmView.root.addEventListener("scroll",this.scrollHandler,!0)}editLink(t,n){var r;this.editor.transact(i=>{const o=ho(i);i.insertText(n,this.linkMarkRange.from,this.linkMarkRange.to),i.addMark(this.linkMarkRange.from,this.linkMarkRange.from+n.length,o.mark("link",{href:t}))}),this.pmView.focus(),(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var t;this.editor.transact(n=>n.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate())}update(t,n,r=!1){var i;const{state:o}=t;if(n&&n.selection.from===o.selection.from&&n.selection.to===o.selection.to||!this.pmView.hasFocus())return;const a=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){const s=this.pmView.state.selection.$from.marks();for(const l of s)if(l.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=l,this.keyboardHoveredLinkMarkRange=u1(this.pmView.state.selection.$from,l.type,l.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&r&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:LO(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if((i=this.state)!=null&&i.show&&a&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0),this.pmView.root.removeEventListener("click",this.clickHandler,!0)}};const pKe=new wn("LinkToolbarPlugin");let mKe=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"editLink",(n,r)=>{this.view.editLink(n,r)}),Ae(this,"deleteLink",()=>{this.view.deleteLink()}),Ae(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),Ae(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),Ae(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new rn({key:pKe,view:n=>(this.view=new hKe(t,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"linkToolbar"}onUpdate(t){return this.on("update",t)}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}};const ahe=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"],she="https",gKe=new wn("node-selection-keyboard");let yKe=class extends uo{static key(){return"nodeSelectionKeyboard"}constructor(){super(),this.addProsemirrorPlugin(new rn({key:gKe,props:{handleKeyDown:(t,n)=>{if("node"in t.state.selection){if(n.ctrlKey||n.metaKey)return!1;if(n.key.length===1)return n.preventDefault(),!0;if(n.key==="Enter"&&!n.shiftKey&&!n.altKey&&!n.ctrlKey&&!n.metaKey){const r=t.state.tr;return t.dispatch(r.insert(t.state.tr.selection.$to.after(),t.state.schema.nodes.paragraph.createChecked()).setSelection(new St(r.doc.resolve(t.state.tr.selection.$to.after()+1)))),!0}}return!1}}}))}};const bKe=new wn("blocknote-placeholder");let vKe=class extends uo{static key(){return"placeholder"}constructor(t,n){super(),this.addProsemirrorPlugin(new rn({key:bKe,view:r=>{const i=`placeholder-selector-${_le()}`;r.dom.classList.add(i);const o=document.createElement("style"),a=t._tiptapEditor.options.injectNonce;a&&o.setAttribute("nonce",a),r.root instanceof window.ShadowRoot?r.root.append(o):r.root.head.appendChild(o);const s=o.sheet,l=(c="")=>`.${i} .bn-block-content${c} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`;try{const{default:c,emptyDocument:d,...u}=n;for(const[v,x]of Object.entries(u)){const w=`[data-content-type="${v}"]`;s.insertRule(`${l(w)} { content: ${JSON.stringify(x)}; }`)}s.insertRule(`${l("[data-is-only-empty-block]")} { content: ${JSON.stringify(d)}; }`),s.insertRule(`${l("[data-is-empty-and-focused]")} { content: ${JSON.stringify(c)}; }`)}catch(c){console.warn("Failed to insert placeholder CSS rule - this is likely due to the browser not supporting certain CSS pseudo-element selectors (:has, :only-child:, or :before)",c)}return{destroy:()=>{r.root instanceof window.ShadowRoot?r.root.removeChild(o):r.root.head.removeChild(o)}}},props:{decorations:r=>{const{doc:i,selection:o}=r;if(!t.isEditable||!o.empty||o.$from.parent.type.spec.code)return;const a=[];r.doc.content.size===6&&a.push(ir.node(2,4,{"data-is-only-empty-block":"true"}));const s=o.$anchor,l=s.parent;if(l.content.size===0){const c=s.before();a.push(ir.node(c,c+l.nodeSize,{"data-is-empty-and-focused":"true"}))}return mn.create(i,a)}}}))}};const jG=new wn("previous-blocks"),xKe={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"};let wKe=class extends uo{static key(){return"previousBlockType"}constructor(){super();let t;this.addProsemirrorPlugin(new rn({key:jG,view(n){return{update:async(r,i)=>{var o;((o=this.key)==null?void 0:o.getState(r.state).updatedBlocks.size)>0&&(t=setTimeout(()=>{r.dispatch(r.state.tr.setMeta(jG,{clearUpdate:!0}))},0))},destroy:()=>{t&&clearTimeout(t)}}},state:{init(){return{prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}},apply(n,r,i,o){if(r.currentTransactionOldBlockAttrs={},r.updatedBlocks.clear(),!n.docChanged||i.doc.eq(o.doc))return r;const a={},s=Vq(i.doc,d=>d.attrs.id),l=new Map(s.map(d=>[d.node.attrs.id,d])),c=Vq(o.doc,d=>d.attrs.id);for(const d of c){const u=l.get(d.node.attrs.id),p=u?.node.firstChild,m=d.node.firstChild;if(u&&p&&m){const v={index:m.attrs.index,level:m.attrs.level,type:m.type.name,depth:o.doc.resolve(d.pos).depth},x={index:p.attrs.index,level:p.attrs.level,type:p.type.name,depth:i.doc.resolve(u.pos).depth};a[d.node.attrs.id]=x,r.currentTransactionOldBlockAttrs[d.node.attrs.id]=x,JSON.stringify(x)!==JSON.stringify(v)&&(x["depth-change"]=x.depth-v.depth,r.updatedBlocks.add(d.node.attrs.id))}}return r.prevTransactionOldBlockAttrs=a,r}},props:{decorations(n){const r=this.getState(n);if(r.updatedBlocks.size===0)return;const i=[];return n.doc.descendants((o,a)=>{if(!o.attrs.id||!r.updatedBlocks.has(o.attrs.id))return;const s=r.currentTransactionOldBlockAttrs[o.attrs.id],l={};for(const[d,u]of Object.entries(s))l["data-prev-"+xKe[d]]=u||"none";const c=ir.node(a,a+o.nodeSize,{...l});i.push(c)}),mn.create(n.doc,i)}}}))}};const BG=new wn("blocknote-show-selection");let EKe=class extends uo{constructor(t){super(),Ae(this,"enabled",!1),this.editor=t,this.addProsemirrorPlugin(new rn({key:BG,props:{decorations:n=>{const{doc:r,selection:i}=n;if(!this.enabled)return mn.empty;const o=ir.inline(i.from,i.to,{"data-show-selection":"true"});return mn.create(r,[o])}}}))}static key(){return"showSelection"}setEnabled(t){this.enabled!==t&&(this.enabled=t,this.editor.transact(n=>n.setMeta(BG,{})))}getEnabled(){return this.enabled}};function lhe(e,t){for(var n,r;e&&e.parentElement&&e.parentElement!==t.dom&&((n=e.getAttribute)==null?void 0:n.call(e,"data-node-type"))!=="blockContainer";)e=e.parentElement;if(((r=e.getAttribute)==null?void 0:r.call(e,"data-node-type"))==="blockContainer")return{node:e,id:e.getAttribute("data-id")}}let v8=class sO extends Zt{constructor(t,n){super(t,n),Ae(this,"nodes");const r=t.node();this.nodes=[],t.doc.nodesBetween(t.pos,n.pos,(i,o,a)=>{if(a!==null&&a.eq(r))return this.nodes.push(i),!1})}static create(t,n,r=n){return new sO(t.resolve(n),t.resolve(r))}content(){return new at(He.from(this.nodes),0,0)}eq(t){if(!(t instanceof sO)||this.nodes.length!==t.nodes.length||this.from!==t.from||this.to!==t.to)return!1;for(let n=0;n<this.nodes.length;n++)if(!this.nodes[n].eq(t.nodes[n]))return!1;return!0}map(t,n){const r=n.mapResult(this.from),i=n.mapResult(this.to);return i.deleted?Zt.near(t.resolve(r.pos)):r.deleted?Zt.near(t.resolve(i.pos)):new sO(t.resolve(r.pos),t.resolve(i.pos))}toJSON(){return{type:"multiple-node",anchor:this.anchor,head:this.head}}};Zt.jsonID("multiple-node",v8);let eu;function SKe(e,t){let n,r;const i=t.resolve(e.from).node().type.spec.group==="blockContent",o=t.resolve(e.to).node().type.spec.group==="blockContent",a=Math.min(e.$anchor.depth,e.$head.depth);if(i&&o){const s=e.$from.start(a-1),l=e.$to.end(a-1);n=t.resolve(s-1).pos,r=t.resolve(l+1).pos}else n=e.from,r=e.to;return{from:n,to:r}}function $G(e,t,n=t){t===n&&(n+=e.state.doc.resolve(t+1).node().nodeSize);const r=e.domAtPos(t).node.cloneNode(!0),i=e.domAtPos(t).node,o=(d,u)=>Array.prototype.indexOf.call(d.children,u),a=o(i,e.domAtPos(t+1).node.parentElement),s=o(i,e.domAtPos(n-1).node.parentElement);for(let d=i.childElementCount-1;d>=0;d--)(d>s||d<a)&&r.removeChild(r.children[d]);che(e.root),eu=r;const l=eu.getElementsByTagName("iframe");for(let d=0;d<l.length;d++){const u=l[d],p=u.parentElement;p&&p.removeChild(u)}const c=e.dom.className.split(" ").filter(d=>d!=="ProseMirror"&&d!=="bn-root"&&d!=="bn-editor").join(" ");eu.className=eu.className+" bn-drag-preview "+c,e.root instanceof ShadowRoot?e.root.appendChild(eu):e.root.body.appendChild(eu)}function che(e){eu!==void 0&&(e instanceof ShadowRoot?e.removeChild(eu):e.body.removeChild(eu),eu=void 0)}function CKe(e,t,n){if(!e.dataTransfer||n.headless)return;const r=n.prosemirrorView,i=cs(t.id,r.state.doc);if(!i)throw new Error(`Block with ID ${t.id} not found`);const o=i.posBeforeNode;if(o!=null){const a=r.state.selection,s=r.state.doc,{from:l,to:c}=SKe(a,s),d=l<=o&&o<c,u=a.$anchor.node()!==a.$head.node()||a instanceof v8;d&&u?(r.dispatch(r.state.tr.setSelection(v8.create(s,l,c))),$G(r,l,c)):(r.dispatch(r.state.tr.setSelection(Rt.create(r.state.doc,o))),$G(r,o));const p=r.state.selection.content(),m=n.pmSchema,v=r.serializeForClipboard(p).dom.innerHTML,x=cR(m,n),w=Zfe(p.content),T=x.exportBlocks(w,{}),k=ZF(T);e.dataTransfer.clearData(),e.dataTransfer.setData("blocknote/html",v),e.dataTransfer.setData("text/html",T),e.dataTransfer.setData("text/plain",k),e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(eu,0,0)}}const HG=250;function x8(e,t,n=!0){const r=e.root.elementsFromPoint(t.left,t.top);for(const i of r)if(e.dom.contains(i))return n&&i.closest("[data-node-type=columnList]")?x8(e,{left:t.left+50,top:t.top},!1):lhe(i,e)}function TKe(e,t){if(!t.dom.firstChild)return;const n=t.dom.firstChild.getBoundingClientRect(),r={left:Math.min(Math.max(n.left+10,e.x),n.right-10),top:e.y},i=x8(t,r);if(!i)return;const o=i.node.getBoundingClientRect();return x8(t,{left:o.right-10,top:e.y},!1)}let uhe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"mousePos"),Ae(this,"hoveredBlock"),Ae(this,"menuFrozen",!1),Ae(this,"isDragOrigin",!1),Ae(this,"updateState",i=>{this.state=i,this.emitUpdate(this.state)}),Ae(this,"updateStateFromMousePos",()=>{var i,o,a,s,l;if(this.menuFrozen||!this.mousePos)return;const c=this.findClosestEditorElement({clientX:this.mousePos.x,clientY:this.mousePos.y});if(c?.element!==this.pmView.dom||c.distance>HG){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.updateState(this.state));return}const d=TKe(this.mousePos,this.pmView);if(!d||!this.editor.isEditable){(o=this.state)!=null&&o.show&&(this.state.show=!1,this.updateState(this.state));return}if(!((a=this.state)!=null&&a.show&&(s=this.hoveredBlock)!=null&&s.hasAttribute("data-id")&&((l=this.hoveredBlock)==null?void 0:l.getAttribute("data-id"))===d.id)&&(this.hoveredBlock=d.node,this.editor.isEditable)){const u=d.node.getBoundingClientRect(),p=d.node.closest("[data-node-type=column]");this.state={show:!0,referencePos:new DOMRect(p?p.firstElementChild.getBoundingClientRect().x:this.pmView.dom.firstChild.getBoundingClientRect().x,u.y,u.width,u.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))},this.updateState(this.state)}}),Ae(this,"onDragStart",i=>{var o;const a=(o=i.dataTransfer)==null?void 0:o.getData("blocknote/html");if(!a||this.pmView.dragging)return;const s=document.createElement("div");s.innerHTML=a;const l=hu.fromSchema(this.pmView.state.schema).parse(s,{topNode:this.pmView.state.schema.nodes.blockGroup.create()});this.pmView.dragging={slice:new at(l.content,0,0),move:!0}}),Ae(this,"findClosestEditorElement",i=>{const o=Array.from(this.pmView.root.querySelectorAll(".bn-editor"));if(o.length===0)return null;let a=o[0],s=Number.MAX_VALUE;return o.forEach(l=>{const c=l.querySelector(".bn-block-group").getBoundingClientRect(),d=i.clientX<c.left?c.left-i.clientX:i.clientX>c.right?i.clientX-c.right:0,u=i.clientY<c.top?c.top-i.clientY:i.clientY>c.bottom?i.clientY-c.bottom:0,p=Math.sqrt(Math.pow(d,2)+Math.pow(u,2));p<s&&(s=p,a=l)}),{element:a,distance:s}}),Ae(this,"onDragOver",i=>{if(i.synthetic)return;const o=this.getDragEventContext(i);if(!o||!o.isDropPoint){this.closeDropCursor();return}o.isDropPoint&&!o.isDropWithinEditorBounds&&this.dispatchSyntheticEvent(i)}),Ae(this,"closeDropCursor",()=>{const i=new Event("dragleave",{bubbles:!1});i.synthetic=!0,this.pmView.dom.dispatchEvent(i)}),Ae(this,"getDragEventContext",i=>{var o;const a=!((o=i.dataTransfer)!=null&&o.types.includes("blocknote/html"))&&!!this.pmView.dragging,s=!!this.isDragOrigin,l=a||s,c=this.findClosestEditorElement(i);if(!c||c.distance>HG)return;const d=c.element===this.pmView.dom,u=d&&c.distance===0;if(!(!d&&!l))return{isDropPoint:d,isDropWithinEditorBounds:u,isDragOrigin:l}}),Ae(this,"onDrop",i=>{if(i.synthetic)return;const o=this.getDragEventContext(i);if(!o){this.closeDropCursor();return}const{isDropPoint:a,isDropWithinEditorBounds:s,isDragOrigin:l}=o;if(!s&&a&&this.dispatchSyntheticEvent(i),a){if(this.pmView.dragging)return;this.pmView.dispatch(this.pmView.state.tr.setSelection(St.create(this.pmView.state.tr.doc,this.pmView.state.tr.selection.anchor)));return}else if(l){setTimeout(()=>this.pmView.dispatch(this.pmView.state.tr.deleteSelection()),0);return}}),Ae(this,"onDragEnd",i=>{i.synthetic||(this.pmView.dragging=null)}),Ae(this,"onKeyDown",i=>{var o;(o=this.state)!=null&&o.show&&this.editor.isFocused()&&(this.state.show=!1,this.emitUpdate(this.state))}),Ae(this,"onMouseMove",i=>{var o;if(this.menuFrozen)return;this.mousePos={x:i.clientX,y:i.clientY};const a=this.pmView.dom.getBoundingClientRect(),s=this.mousePos.x>a.left&&this.mousePos.x<a.right&&this.mousePos.y>a.top&&this.mousePos.y<a.bottom,l=this.pmView.dom.parentElement;if(s&&i&&i.target&&!(l===i.target||l.contains(i.target))){(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.updateStateFromMousePos()}),Ae(this,"onScroll",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.referencePos=this.hoveredBlock.getBoundingClientRect(),this.emitUpdate(this.state)),this.updateStateFromMousePos()}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized side menu");r(this.state)},this.pmView.root.addEventListener("dragstart",this.onDragStart),this.pmView.root.addEventListener("dragover",this.onDragOver),this.pmView.root.addEventListener("drop",this.onDrop,!0),this.pmView.root.addEventListener("dragend",this.onDragEnd,!0),this.pmView.root.addEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.addEventListener("keydown",this.onKeyDown,!0),n.root.addEventListener("scroll",this.onScroll,!0)}dispatchSyntheticEvent(t){const n=new Event(t.type,t),r=this.pmView.dom.firstChild.getBoundingClientRect();n.clientX=t.clientX,n.clientY=t.clientY,n.clientX=Math.min(Math.max(t.clientX,r.left),r.left+r.width),n.clientY=Math.min(Math.max(t.clientY,r.top),r.top+r.height),n.dataTransfer=t.dataTransfer,n.preventDefault=()=>t.preventDefault(),n.synthetic=!0,this.pmView.dom.dispatchEvent(n)}update(t,n){var r;!n.doc.eq(this.pmView.state.doc)&&(r=this.state)!=null&&r.show&&this.updateStateFromMousePos()}destroy(){var t;(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.pmView.root.removeEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.removeEventListener("dragstart",this.onDragStart),this.pmView.root.removeEventListener("dragover",this.onDragOver),this.pmView.root.removeEventListener("drop",this.onDrop,!0),this.pmView.root.removeEventListener("dragend",this.onDragEnd,!0),this.pmView.root.removeEventListener("keydown",this.onKeyDown,!0),this.pmView.root.removeEventListener("scroll",this.onScroll,!0)}};const dhe=new wn("SideMenuPlugin");let kKe=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"blockDragStart",(n,r)=>{this.view&&(this.view.isDragOrigin=!0),CKe(n,r,this.editor)}),Ae(this,"blockDragEnd",()=>{che(this.editor.prosemirrorView.root),this.view&&(this.view.isDragOrigin=!1),this.editor.blur()}),Ae(this,"freezeMenu",()=>{this.view.menuFrozen=!0,this.view.state.show=!0,this.view.emitUpdate(this.view.state)}),Ae(this,"unfreezeMenu",()=>{this.view.menuFrozen=!1,this.view.state.show=!1,this.view.emitUpdate(this.view.state)}),this.editor=t,this.addProsemirrorPlugin(new rn({key:dhe,view:n=>(this.view=new uhe(t,n,r=>{this.emit("update",r)}),this.view)}))}static key(){return"sideMenu"}onUpdate(t){return this.on("update",t)}};const vA=new Map;function _Ke(e){if(vA.has(e))return vA.get(e);const t=new o1;return e._tiptapEditor.on("transaction",({transaction:n})=>{t.appendMapping(n.mapping)}),e._tiptapEditor.on("destroy",()=>{vA.delete(e)}),vA.set(e,t),t}function AKe(e,t,n="left"){const r=Nr.getState(e.prosemirrorState);if(!r){const o=_Ke(e),a=o.maps.length;return()=>o.slice(a).map(t,n==="left"?-1:1)}const i=CC(t+(n==="right"?1:-1),r.binding.type,r.binding.mapping);return()=>{const o=Nr.getState(e.prosemirrorState),a=v0(o.doc,o.binding.type,i,o.binding.mapping);if(a===null)throw new Error("Position not found, cannot track positions");return a+(n==="right"?-1:1)}}const OKe=MD(e=>e.type.name==="blockContainer");let NKe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"rootEl"),Ae(this,"pluginState"),Ae(this,"handleScroll",()=>{var o,a;if((o=this.state)!=null&&o.show){const s=(a=this.rootEl)==null?void 0:a.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);if(!s)return;this.state.referencePos=s.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),Ae(this,"closeMenu",()=>{this.editor.transact(o=>o.setMeta(qv,null))}),Ae(this,"clearQuery",()=>{this.pluginState!==void 0&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos()-(this.pluginState.deleteTriggerCharacter?this.pluginState.triggerCharacter.length:0),to:this.editor.transact(o=>o.selection.from)}).run()});var i;this.editor=t,this.pluginState=void 0,this.emitUpdate=o=>{var a;if(!this.state)throw new Error("Attempting to update uninitialized suggestions menu");n(o,{...this.state,ignoreQueryLength:(a=this.pluginState)==null?void 0:a.ignoreQueryLength})},this.rootEl=r.root,(i=this.rootEl)==null||i.addEventListener("scroll",this.handleScroll,!0)}update(t,n){var r;const i=qv.getState(n),o=qv.getState(t.state),a=i===void 0&&o!==void 0,s=i!==void 0&&o===void 0;if(!a&&!(i!==void 0&&o!==void 0)&&!s)return;if(this.pluginState=s?i:o,s||!this.editor.isEditable){this.state&&(this.state.show=!1),this.emitUpdate(this.pluginState.triggerCharacter);return}const l=(r=this.rootEl)==null?void 0:r.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&l&&(this.state={show:!0,referencePos:l.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){var t;(t=this.rootEl)==null||t.removeEventListener("scroll",this.handleScroll,!0)}};const qv=new wn("SuggestionMenuPlugin");let MKe=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"triggerCharacters",[]),Ae(this,"addTriggerCharacter",r=>{this.triggerCharacters.push(r)}),Ae(this,"removeTriggerCharacter",r=>{this.triggerCharacters=this.triggerCharacters.filter(i=>i!==r)}),Ae(this,"closeMenu",()=>this.view.closeMenu()),Ae(this,"clearQuery",()=>this.view.clearQuery());const n=this.triggerCharacters;this.addProsemirrorPlugin(new rn({key:qv,view:r=>(this.view=new NKe(t,(i,o)=>{this.emit(`update ${i}`,o)},r),this.view),state:{init(){},apply:(r,i,o,a)=>{if(r.selection.$from.parent.type.spec.code)return i;const s=r.getMeta(qv);if(typeof s=="object"&&s!==null){i&&this.closeMenu();const c=AKe(t,a.selection.from-s.triggerCharacter.length);return{triggerCharacter:s.triggerCharacter,deleteTriggerCharacter:s.deleteTriggerCharacter!==!1,queryStartPos:()=>c()+s.triggerCharacter.length,query:"",decorationId:`id_${Math.floor(Math.random()*4294967295)}`,ignoreQueryLength:s?.ignoreQueryLength}}if(i===void 0)return i;if(a.selection.from!==a.selection.to||s===null||r.getMeta("focus")||r.getMeta("blur")||r.getMeta("pointer")||i.triggerCharacter!==void 0&&a.selection.from<i.queryStartPos()||!a.selection.$from.sameParent(a.doc.resolve(i.queryStartPos())))return;const l={...i};return l.query=a.doc.textBetween(i.queryStartPos(),a.selection.from),l}},props:{handleTextInput(r,i,o,a){if(i===o){const s=r.state.doc;for(const l of n){const c=l.length>1?s.textBetween(i-l.length,i)+a:a;if(l===c)return r.dispatch(r.state.tr.insertText(a)),r.dispatch(r.state.tr.setMeta(qv,{triggerCharacter:c}).scrollIntoView()),!0}}return!1},decorations(r){const i=this.getState(r);if(i===void 0)return null;if(!i.deleteTriggerCharacter){const o=OKe(r.selection);if(o)return mn.create(r.doc,[ir.node(o.pos,o.pos+o.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}return mn.create(r.doc,[ir.inline(i.queryStartPos()-i.triggerCharacter.length,i.queryStartPos(),{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}}}))}static key(){return"suggestionMenu"}onUpdate(t,n){return this.triggerCharacters.includes(t)||this.addTriggerCharacter(t),this.on(`update ${t}`,n)}get shown(){var t,n;return((n=(t=this.view)==null?void 0:t.state)==null?void 0:n.show)||!1}};const DKe=jl.create({name:"insertion",inclusive:!1,excludes:"deletion modification insertion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(e){return e.name!=="insertion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return["ins",{"data-id":String(t.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"ins",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10)}:!1}}]}}}),RKe=jl.create({name:"deletion",inclusive:!1,excludes:"insertion modification deletion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(e){return e.name!=="deletion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return["del",{"data-id":String(t.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"del",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10)}:!1}}]}}}),IKe=jl.create({name:"modification",inclusive:!1,excludes:"deletion insertion",addAttributes(){return{id:{default:null,validate:"number"},type:{validate:"string"},attrName:{default:null,validate:"string|null"},previousValue:{default:null},newValue:{default:null}}},extendMarkSchema(e){return e.name!=="modification"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(t,n){return[n?"span":"div",{"data-type":"modification","data-id":String(t.attrs.id),"data-mod-type":t.attrs.type,"data-mod-prev-val":JSON.stringify(t.attrs.previousValue),"data-mod-new-val":JSON.stringify(t.attrs.newValue)},0]},parseDOM:[{tag:"span[data-type='modification']",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10),type:t.dataset.modType,previousValue:t.dataset.modPrevVal,newValue:t.dataset.modNewVal}:!1}},{tag:"div[data-type='modification']",getAttrs(t){return t.dataset.id?{id:parseInt(t.dataset.id,10),type:t.dataset.modType,previousValue:t.dataset.modPrevVal}:!1}}]}}});let Rs;function FG(e){Rs||(Rs=document.createElement("div"),Rs.innerHTML="_",Rs.style.opacity="0",Rs.style.height="1px",Rs.style.width="1px",e instanceof Document?e.body.appendChild(Rs):e.appendChild(Rs))}function PKe(e){Rs&&(e instanceof Document?e.body.removeChild(Rs):e.removeChild(Rs),Rs=void 0)}function xA(e){return Array.prototype.indexOf.call(e.parentElement.childNodes,e)}function LKe(e){let t=e;for(;t&&t.nodeName!=="TD"&&t.nodeName!=="TH"&&!t.classList.contains("tableWrapper");){if(t.classList.contains("ProseMirror"))return;const n=t.parentNode;if(!n||!(n instanceof Element))return;t=n}return t.nodeName==="TD"||t.nodeName==="TH"?{type:"cell",domNode:t,tbodyNode:t.closest("tbody")}:{type:"wrapper",domNode:t,tbodyNode:t.querySelector("tbody")}}function jKe(e,t){const n=t.querySelectorAll(e);for(let r=0;r<n.length;r++)n[r].style.visibility="hidden"}let BKe=class{constructor(t,n,r){Ae(this,"state"),Ae(this,"emitUpdate"),Ae(this,"tableId"),Ae(this,"tablePos"),Ae(this,"tableElement"),Ae(this,"menuFrozen",!1),Ae(this,"mouseState","up"),Ae(this,"prevWasEditable",null),Ae(this,"viewMousedownHandler",()=>{this.mouseState="down"}),Ae(this,"mouseUpHandler",i=>{this.mouseState="up",this.mouseMoveHandler(i)}),Ae(this,"mouseMoveHandler",i=>{var o,a,s,l,c,d,u;if(this.menuFrozen||this.mouseState==="selecting"||!(i.target instanceof Element)||!this.pmView.dom.contains(i.target))return;const p=LKe(i.target);if(p?.type==="cell"&&this.mouseState==="down"&&!((o=this.state)!=null&&o.draggingState)){this.mouseState="selecting",(a=this.state)!=null&&a.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!p||!this.editor.isEditable){(s=this.state)!=null&&s.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!p.tbodyNode)return;const m=p.tbodyNode.getBoundingClientRect(),v=lhe(p.domNode,this.pmView);if(!v)return;this.tableElement=v.node;let x;const w=this.editor.transact(O=>cs(v.id,O.doc));if(!w)throw new Error(`Block with ID ${v.id} not found`);const T=ri(w.node,this.editor.pmSchema,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema);if(Zr(this.editor,"table")&&(this.tablePos=w.posBeforeNode+1,x=T),!x)return;this.tableId=v.id;const k=(l=p.domNode.closest(".tableWrapper"))==null?void 0:l.querySelector(".table-widgets-container");if(p?.type==="wrapper"){const O=i.clientY>=m.bottom-1&&i.clientY<m.bottom+20,I=i.clientX>=m.right-1&&i.clientX<m.right+20,N=i.clientX>m.right||i.clientY>m.bottom;this.state={...this.state,show:!0,showAddOrRemoveRowsButton:O,showAddOrRemoveColumnsButton:I,referencePosTable:m,block:x,widgetContainer:k,colIndex:N||(c=this.state)==null?void 0:c.colIndex,rowIndex:N||(d=this.state)==null?void 0:d.rowIndex,referencePosCell:N||(u=this.state)==null?void 0:u.referencePosCell}}else{const O=xA(p.domNode),I=xA(p.domNode.parentElement),N=p.domNode.getBoundingClientRect();if(this.state!==void 0&&this.state.show&&this.tableId===v.id&&this.state.rowIndex===I&&this.state.colIndex===O)return;this.state={show:!0,showAddOrRemoveColumnsButton:O===x.content.rows[0].cells.length-1,showAddOrRemoveRowsButton:I===x.content.rows.length-1,referencePosTable:m,block:x,draggingState:void 0,referencePosCell:N,colIndex:O,rowIndex:I,widgetContainer:k}}return this.emitUpdate(),!1}),Ae(this,"dragOverHandler",i=>{var o;if(((o=this.state)==null?void 0:o.draggingState)===void 0)return;i.preventDefault(),i.dataTransfer.dropEffect="move",jKe(".prosemirror-dropcursor-block, .prosemirror-dropcursor-inline",this.pmView.root);const a={left:Math.min(Math.max(i.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(i.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},s=this.pmView.root.elementsFromPoint(a.left,a.top).filter(x=>x.tagName==="TD"||x.tagName==="TH");if(s.length===0)return;const l=s[0];let c=!1;const d=xA(l.parentElement),u=xA(l),p=this.state.draggingState.draggedCellOrientation==="row"?this.state.rowIndex:this.state.colIndex,m=(this.state.draggingState.draggedCellOrientation==="row"?d:u)!==p;(this.state.rowIndex!==d||this.state.colIndex!==u)&&(this.state.rowIndex=d,this.state.colIndex=u,this.state.referencePosCell=l.getBoundingClientRect(),c=!0);const v=this.state.draggingState.draggedCellOrientation==="row"?a.top:a.left;this.state.draggingState.mousePos!==v&&(this.state.draggingState.mousePos=v,c=!0),c&&this.emitUpdate(),m&&this.editor.transact(x=>x.setMeta(sS,!0))}),Ae(this,"dropHandler",i=>{if(this.mouseState="up",this.state===void 0||this.state.draggingState===void 0)return!1;if(this.state.rowIndex===void 0||this.state.colIndex===void 0)throw new Error("Attempted to drop table row or column, but no table block was hovered prior.");i.preventDefault();const{draggingState:o,colIndex:a,rowIndex:s}=this.state,l=this.state.block.content.columnWidths;if(o.draggedCellOrientation==="row"){if(!Dle(this.state.block,o.originalIndex,s))return!1;const c=yPe(this.state.block,o.originalIndex,s);this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,rows:c}})}else{if(!Rle(this.state.block,o.originalIndex,a))return!1;const c=gPe(this.state.block,o.originalIndex,a),[d]=l.splice(o.originalIndex,1);l.splice(a,0,d),this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,columnWidths:l,rows:c}})}return this.editor.setTextCursorPosition(this.state.block.id),!0}),this.editor=t,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized image toolbar");r(this.state)},n.dom.addEventListener("mousemove",this.mouseMoveHandler),n.dom.addEventListener("mousedown",this.viewMousedownHandler),window.addEventListener("mouseup",this.mouseUpHandler),n.root.addEventListener("dragover",this.dragOverHandler),n.root.addEventListener("drop",this.dropHandler)}update(){var t;if(!this.state||!this.state.show)return;if(this.state.block=this.editor.getBlock(this.state.block.id),!this.state.block||this.state.block.type!=="table"||!((t=this.tableElement)!=null&&t.isConnected)){this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate();return}const{height:n,width:r}=L9(this.state.block);this.state.rowIndex!==void 0&&this.state.colIndex!==void 0&&(this.state.rowIndex>=n&&(this.state.rowIndex=n-1),this.state.colIndex>=r&&(this.state.colIndex=r-1));const i=this.tableElement.querySelector("tbody");if(!i)throw new Error("Table block does not contain a 'tbody' HTML element. This should never happen.");if(this.state.rowIndex!==void 0&&this.state.colIndex!==void 0){const o=i.children[this.state.rowIndex].children[this.state.colIndex];o?this.state.referencePosCell=o.getBoundingClientRect():(this.state.rowIndex=void 0,this.state.colIndex=void 0)}this.state.referencePosTable=i.getBoundingClientRect(),this.emitUpdate()}destroy(){this.pmView.dom.removeEventListener("mousemove",this.mouseMoveHandler),window.removeEventListener("mouseup",this.mouseUpHandler),this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("dragover",this.dragOverHandler),this.pmView.root.removeEventListener("drop",this.dropHandler)}};const sS=new wn("TableHandlesPlugin");let $Ke=class extends uo{constructor(t){super(),Ae(this,"view"),Ae(this,"colDragStart",n=>{if(this.view.state===void 0||this.view.state.colIndex===void 0)throw new Error("Attempted to drag table column, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:n.clientX},this.view.emitUpdate(),this.editor.transact(r=>r.setMeta(sS,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),!this.editor.headless&&(FG(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(Rs,0,0),n.dataTransfer.effectAllowed="move")}),Ae(this,"rowDragStart",n=>{if(this.view.state===void 0||this.view.state.rowIndex===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:n.clientY},this.view.emitUpdate(),this.editor.transact(r=>r.setMeta(sS,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),!this.editor.headless&&(FG(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(Rs,0,0),n.dataTransfer.effectAllowed="copyMove")}),Ae(this,"dragEnd",()=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor.transact(n=>n.setMeta(sS,null)),!this.editor.headless&&PKe(this.editor.prosemirrorView.root)}),Ae(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),Ae(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),Ae(this,"getCellsAtRowHandle",(n,r)=>gB(n,r)),Ae(this,"getCellsAtColumnHandle",(n,r)=>yB(n,r)),Ae(this,"setCellSelection",(n,r,i=r)=>{const o=this.view;if(!o)throw new Error("Table handles view not initialized");const a=n.doc.resolve(o.tablePos+1),s=n.doc.resolve(a.posAtIndex(r.row)+1),l=n.doc.resolve(s.posAtIndex(r.col)),c=n.doc.resolve(a.posAtIndex(i.row)+1),d=n.doc.resolve(c.posAtIndex(i.col)),u=n.tr;return u.setSelection(new Mr(l,d)),n.apply(u)}),Ae(this,"addRowOrColumn",(n,r)=>{this.editor.exec((i,o)=>{const a=this.setCellSelection(i,r.orientation==="row"?{row:n,col:0}:{row:0,col:n});return r.orientation==="row"?r.side==="above"?zPe(a,o):VPe(a,o):r.side==="left"?BPe(a,o):$Pe(a,o)})}),Ae(this,"removeRowOrColumn",(n,r)=>r==="row"?this.editor.exec((i,o)=>{const a=this.setCellSelection(i,{row:n,col:0});return WPe(a,o)}):this.editor.exec((i,o)=>{const a=this.setCellSelection(i,{row:0,col:n});return FPe(a,o)})),Ae(this,"mergeCells",n=>this.editor.exec((r,i)=>{const o=n?this.setCellSelection(r,n.relativeStartCell,n.relativeEndCell):r;return GPe(o,i)})),Ae(this,"splitCell",n=>this.editor.exec((r,i)=>{const o=n?this.setCellSelection(r,n):r;return KPe(o,i)})),Ae(this,"getCellSelection",()=>this.editor.transact(n=>{const r=n.selection;let i=r.$from,o=r.$to;if(kB(r)){const{ranges:v}=r;v.forEach(x=>{i=x.$from.min(i??x.$from),o=x.$to.max(o??x.$to)})}else if(i=n.doc.resolve(r.$from.pos-r.$from.parentOffset-1),o=n.doc.resolve(r.$to.pos-r.$to.parentOffset-1),i.pos===0||o.pos===0)return;const a=n.doc.resolve(i.pos-i.parentOffset-1),s=n.doc.resolve(o.pos-o.parentOffset-1),l=n.doc.resolve(a.pos-a.parentOffset-1),c=i.index(a.depth),d=a.index(l.depth),u=o.index(s.depth),p=s.index(l.depth),m=[];for(let v=d;v<=p;v++)for(let x=c;x<=u;x++)m.push({row:v,col:x});return{from:{row:d,col:c},to:{row:p,col:u},cells:m}})),Ae(this,"getMergeDirection",n=>this.editor.transact(r=>{const i=kB(r.selection)?r.selection:void 0;if(!i||!n||i.ranges.length<=1)return;const o=this.getCellSelection();if(o)return xPe(o.from,o.to,n)?"vertical":"horizontal"})),Ae(this,"cropEmptyRowsOrColumns",(n,r)=>bPe(n,r)),Ae(this,"addRowsOrColumns",(n,r,i)=>vPe(n,r,i)),this.editor=t,this.addProsemirrorPlugin(new rn({key:sS,view:n=>(this.view=new BKe(t,n,r=>{this.emit("update",r)}),this.view),props:{decorations:n=>{if(this.view===void 0||this.view.state===void 0||this.view.state.draggingState===void 0||this.view.tablePos===void 0)return;const r=this.view.state.draggingState.draggedCellOrientation==="row"?this.view.state.rowIndex:this.view.state.colIndex;if(r===void 0)return;const i=[],{block:o,draggingState:a}=this.view.state,{originalIndex:s,draggedCellOrientation:l}=a;if(r===s||!o||l==="row"&&!Dle(o,s,r)||l==="col"&&!Rle(o,s,r))return mn.create(n.doc,i);const c=n.doc.resolve(this.view.tablePos+1);return this.view.state.draggingState.draggedCellOrientation==="row"?gB(this.view.state.block,r).forEach(({row:d,col:u})=>{const p=n.doc.resolve(c.posAtIndex(d)+1),m=n.doc.resolve(p.posAtIndex(u)+1),v=m.node(),x=m.pos+(r>s?v.nodeSize-2:0);i.push(ir.widget(x,()=>{const w=document.createElement("div");return w.className="bn-table-drop-cursor",w.style.left="0",w.style.right="0",r>s?w.style.bottom="-2px":w.style.top="-3px",w.style.height="4px",w}))}):yB(this.view.state.block,r).forEach(({row:d,col:u})=>{const p=n.doc.resolve(c.posAtIndex(d)+1),m=n.doc.resolve(p.posAtIndex(u)+1),v=m.node(),x=m.pos+(r>s?v.nodeSize-2:0);i.push(ir.widget(x,()=>{const w=document.createElement("div");return w.className="bn-table-drop-cursor",w.style.top="0",w.style.bottom="0",r>s?w.style.right="-2px":w.style.left="-3px",w.style.width="4px",w}))}),mn.create(n.doc,i)}}}))}static key(){return"tableHandles"}onUpdate(t){return this.on("update",t)}};const HKe=ur.create({name:"textAlignment",addGlobalAttributes(){return[{types:["tableCell","tableHeader"],attributes:{textAlignment:{default:"left",parseHTML:e=>e.getAttribute("data-text-alignment"),renderHTML:e=>e.textAlignment==="left"?{}:{"data-text-alignment":e.textAlignment}}}}]}}),FKe=ur.create({name:"blockTextColor",addGlobalAttributes(){return[{types:["table","tableCell","tableHeader"],attributes:{textColor:p4e()}}]}}),UKe=ur.create({name:"trailingNode",addProseMirrorPlugins(){const e=new wn(this.name);return[new rn({key:e,appendTransaction:(t,n,r)=>{const{doc:i,tr:o,schema:a}=r,s=e.getState(r),l=i.content.size-2,c=a.nodes.blockContainer,d=a.nodes.paragraph;if(s)return o.insert(l,c.create(void 0,d.create()))},state:{init:(t,n)=>{},apply:(t,n)=>{if(!t.docChanged)return n;let r=t.doc.lastChild;if(!r||r.type.name!=="blockGroup")throw new Error("Expected blockGroup");if(r=r.lastChild,!r||r.type.name!=="blockContainer")return!0;const i=r.firstChild;if(!i)throw new Error("Expected blockContent");return r.nodeSize>4||i.type.spec.content!=="inline*"}}})]}}),zKe={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},VKe=qs.create({name:"blockContainer",group:"blockGroupChild bnBlock",content:"blockContent blockGroup?",priority:50,defining:!0,marks:"insertion modification deletion",parseHTML(){return[{tag:"div[data-node-type="+this.name+"]",getAttrs:e=>{if(typeof e=="string")return!1;const t={};for(const[n,r]of Object.entries(zKe))e.getAttribute(r)&&(t[n]=e.getAttribute(r));return t}},{tag:'div[data-node-type="blockOuter"]',skip:!0}]},renderHTML({HTMLAttributes:e}){var t;const n=document.createElement("div");n.className="bn-block-outer",n.setAttribute("data-node-type","blockOuter");for(const[o,a]of Object.entries(e))o!=="class"&&n.setAttribute(o,a);const r={...((t=this.options.domAttributes)==null?void 0:t.block)||{},...e},i=document.createElement("div");i.className=bi("bn-block",r.class),i.setAttribute("data-node-type",this.name);for(const[o,a]of Object.entries(r))o!=="class"&&i.setAttribute(o,a);return n.appendChild(i),{dom:n,contentDOM:i}}}),qKe=qs.create({name:"blockGroup",group:"childContainer",content:"blockGroupChild+",marks:"deletion insertion modification",parseHTML(){return[{tag:"div",getAttrs:e=>typeof e=="string"?!1:e.getAttribute("data-node-type")==="blockGroup"?null:!1}]},renderHTML({HTMLAttributes:e}){var t;const n={...((t=this.options.domAttributes)==null?void 0:t.blockGroup)||{},...e},r=document.createElement("div");r.className=bi("bn-block-group",n.class),r.setAttribute("data-node-type","blockGroup");for(const[i,o]of Object.entries(n))i!=="class"&&r.setAttribute(i,o);return{dom:r,contentDOM:r}}}),WKe=qs.create({name:"doc",topNode:!0,content:"blockGroup",marks:"insertion modification deletion"}),YKe=e=>{var t;const n={},r=GKe(e);for(const o of r)n[o.name]=o;e.collaboration&&(n.ySyncPlugin=new MN(e.collaboration.fragment),n.yUndoPlugin=new DN({editor:e.editor}),(t=e.collaboration.provider)!=null&&t.awareness&&(n.yCursorPlugin=new QF(e.collaboration)),n.forkYDocPlugin=new ehe({editor:e.editor,collaboration:e.collaboration}),n.schemaMigrationPlugin=new XGe(e.collaboration.fragment)),n.formattingToolbar=new iKe(e.editor),n.linkToolbar=new mKe(e.editor),n.sideMenu=new kKe(e.editor),n.suggestionMenus=new MKe(e.editor),n.filePanel=new tKe(e.editor),n.placeholder=new vKe(e.editor,e.placeholders),(e.animations??!0)&&(n.animations=new wKe),e.tableHandles&&(n.tableHandles=new $Ke(e.editor)),n.nodeSelectionKeyboard=new yKe,n.blockChange=new YGe,n.showSelection=new EKe(e.editor),e.comments&&(n.comments=new rhe(e.editor,e.comments.threadStore,RN.name,e.comments.resolveUsers,e.comments.schema));const i=e.disableExtensions||[];for(const o of i)delete n[o];return n};let UG=!1;const GKe=e=>{const t=[mv.ClipboardTextSerializer,mv.Commands,mv.Editable,mv.FocusEvents,mv.Tabindex,TBe,ur.create({name:"dropCursor",addProseMirrorPlugins:()=>[e.dropCursor({width:5,color:"#ddeeff",editor:e.editor})]}),LT.configure({types:["blockContainer","columnList","column"],setIdAttribute:e.setIdAttribute}),oKe,QBe,DKe,RKe,IKe,ZBe.extend({inclusive:!1}).configure({defaultProtocol:she,protocols:UG?[]:ahe}),...Object.values(e.styleSpecs).map(n=>n.implementation.mark.configure({editor:e.editor})),FKe,WGe,HKe,ur.create({name:"OverrideEscape",addKeyboardShortcuts(){return{Escape:()=>e.editor.suggestionMenus.shown?!1:this.editor.commands.blur()}}}),WKe,VKe.configure({editor:e.editor,domAttributes:e.domAttributes}),fKe.configure({editor:e.editor,tabBehavior:e.tabBehavior}),qKe.configure({domAttributes:e.domAttributes}),...Object.values(e.inlineContentSpecs).filter(n=>n.config!=="link"&&n.config!=="text").map(n=>n.implementation.node.configure({editor:e.editor})),...Object.values(e.blockSpecs).flatMap(n=>[..."node"in n.implementation?[n.implementation.node.configure({editor:e.editor,domAttributes:e.domAttributes})]:[]]),qGe(e.editor),$Ge(e.editor,e.pasteHandler||(n=>n.defaultPasteHandler())),EGe(e.editor),...e.trailingBlock===void 0||e.trailingBlock?[UKe]:[],...e.comments?[RN]:[]];return UG=!0,e.collaboration||t.push(kBe),t};function KKe(e){return e.transact(t=>{const n=Zf(t.doc,t.selection.anchor);if(t.selection instanceof Mr)return{type:"cell",anchorBlockId:n.node.attrs.id,anchorCellOffset:t.selection.$anchorCell.pos-n.posBeforeNode,headCellOffset:t.selection.$headCell.pos-n.posBeforeNode};if(t.selection instanceof Rt)return{type:"node",anchorBlockId:n.node.attrs.id};{const r=Zf(t.doc,t.selection.head);return{type:"text",anchorBlockId:n.node.attrs.id,headBlockId:r.node.attrs.id,anchorOffset:t.selection.anchor-n.posBeforeNode,headOffset:t.selection.head-r.posBeforeNode}}})}function XKe(e,t){var n,r;const i=(n=cs(t.anchorBlockId,e.doc))==null?void 0:n.posBeforeNode;if(i===void 0)throw new Error(`Could not find block with ID ${t.anchorBlockId} to update selection`);let o;if(t.type==="cell")o=Mr.create(e.doc,i+t.anchorCellOffset,i+t.headCellOffset);else if(t.type==="node")o=Rt.create(e.doc,i+1);else{const a=(r=cs(t.headBlockId,e.doc))==null?void 0:r.posBeforeNode;if(a===void 0)throw new Error(`Could not find block with ID ${t.headBlockId} to update selection`);o=St.create(e.doc,i+t.anchorOffset,a+t.headOffset)}e.setSelection(o)}function w8(e){return e.map(t=>t.type==="columnList"?t.children.map(n=>w8(n.children)).flat():{...t,children:w8(t.children)}).flat()}function fhe(e,t,n){e.transact(r=>{var i;const o=((i=e.getSelection())==null?void 0:i.blocks)||[e.getTextCursorPosition().block],a=KKe(e);e.removeBlocks(o),e.insertBlocks(w8(o),t,n),XKe(r,a)})}function hhe(e){return!e||e.type!=="columnList"}function phe(e,t,n){let r,i;if(t?t.children.length>0?(r=t.children[t.children.length-1],i="after"):(r=t,i="before"):n&&(r=n,i="before"),!r||!i)return;const o=e.getParentBlock(r);return hhe(o)?{referenceBlock:r,placement:i}:phe(e,i==="after"?r:e.getPrevBlock(r),o)}function mhe(e,t,n){let r,i;if(t?t.children.length>0?(r=t.children[0],i="before"):(r=t,i="after"):n&&(r=n,i="after"),!r||!i)return;const o=e.getParentBlock(r);return hhe(o)?{referenceBlock:r,placement:i}:mhe(e,i==="before"?r:e.getNextBlock(r),o)}function ZKe(e){e.transact(()=>{const t=e.getSelection(),n=t?.blocks[0]||e.getTextCursorPosition().block,r=phe(e,e.getPrevBlock(n),e.getParentBlock(n));r&&fhe(e,r.referenceBlock,r.placement)})}function QKe(e){e.transact(()=>{const t=e.getSelection(),n=t?.blocks[t?.blocks.length-1]||e.getTextCursorPosition().block,r=mhe(e,e.getNextBlock(n),e.getParentBlock(n));r&&fhe(e,r.referenceBlock,r.placement)})}function JKe(e,t){const n=typeof t=="string"?t:t.id,r=ho(e),i=cs(n,e);if(i)return ri(i.node,r)}function eXe(e,t){const n=typeof t=="string"?t:t.id,r=cs(n,e),i=ho(e);if(!r)return;const o=e.resolve(r.posBeforeNode).nodeBefore;if(o)return ri(o,i)}function tXe(e,t){const n=typeof t=="string"?t:t.id,r=cs(n,e),i=ho(e);if(!r)return;const o=e.resolve(r.posBeforeNode+r.node.nodeSize).nodeAfter;if(o)return ri(o,i)}function nXe(e,t){const n=typeof t=="string"?t:t.id,r=ho(e),i=cs(n,e);if(!i)return;const o=e.resolve(i.posBeforeNode),a=o.node(),s=o.node(-1),l=s.type.name!=="doc"?a.type.name==="blockGroup"?s:a:void 0;if(l)return ri(l,r)}class rXe{constructor(t){this.editor=t}get document(){return this.editor.transact(t=>pPe(t.doc,this.editor.pmSchema))}getBlock(t){return this.editor.transact(n=>JKe(n.doc,t))}getPrevBlock(t){return this.editor.transact(n=>eXe(n.doc,t))}getNextBlock(t){return this.editor.transact(n=>tXe(n.doc,t))}getParentBlock(t){return this.editor.transact(n=>nXe(n.doc,t))}forEachBlock(t,n=!1){const r=this.document.slice();n&&r.reverse();function i(o){for(const a of o){if(t(a)===!1)return!1;const s=n?a.children.slice().reverse():a.children;if(!i(s))return!1}return!0}i(r)}insertBlocks(t,n,r="before"){return this.editor.transact(i=>uGe(i,t,n,r))}updateBlock(t,n){return this.editor.transact(r=>u4e(r,t,n))}removeBlocks(t){return this.editor.transact(n=>MG(n,t,[]).removedBlocks)}replaceBlocks(t,n){return this.editor.transact(r=>MG(r,t,n))}canNestBlock(){return uKe(this.editor)}nestBlock(){ohe(this.editor)}canUnnestBlock(){return dKe(this.editor)}unnestBlock(){cKe(this.editor)}moveBlocksUp(){return ZKe(this.editor)}moveBlocksDown(){return QKe(this.editor)}}class iXe{constructor(t,n){Ae(this,"editor"),Ae(this,"options"),Ae(this,"_commentsPlugin"),Ae(this,"_forkYDocPlugin"),Ae(this,"_syncPlugin"),Ae(this,"_undoPlugin"),Ae(this,"_cursorPlugin"),this.editor=t,this.options=n}get syncPlugin(){return this._syncPlugin}get undoPlugin(){return this._undoPlugin}get cursorPlugin(){return this._cursorPlugin}get forkYDocPlugin(){return this._forkYDocPlugin}initExtensions(){var t;const n={};if(this._syncPlugin=new MN(this.options.fragment),n.ySyncPlugin=this._syncPlugin,this._undoPlugin=new DN({editor:this.editor}),n.yUndoPlugin=this._undoPlugin,(t=this.options.provider)!=null&&t.awareness&&(this._cursorPlugin=new QF(this.options),n.yCursorPlugin=this._cursorPlugin),this._forkYDocPlugin=new ehe({editor:this.editor,collaboration:this.options}),n.forkYDocPlugin=this._forkYDocPlugin,this.options.comments){if(!this.options.resolveUsers)throw new Error("resolveUsers is required when using comments");this._commentsPlugin=new rhe(this.editor,this.options.comments.threadStore,RN.name,this.options.resolveUsers,this.options.comments.schema),n.comments=this._commentsPlugin,n.commentMark=RN}return n}updateUserInfo(t){const n=this.cursorPlugin;if(!n)throw new Error("Cannot update collaboration user info when collaboration is disabled.");n.updateUser(t)}getUndoCommand(){return Fqe}getRedoCommand(){return Uqe}shouldAvoidInitialContent(){return!!this.options.provider}getOptions(){return this.options}get comments(){return this._commentsPlugin}get hasComments(){return!!this.options.comments}get resolveUsers(){return this.options.resolveUsers}}class oXe extends HD{constructor(t){super(),this.editor=t,t.onCreate(()=>{t._tiptapEditor.on("update",({transaction:n,appendedTransactions:r})=>{this.emit("onChange",t,{getChanges(){return Kfe(n,r)}})}),t._tiptapEditor.on("selectionUpdate",({transaction:n})=>{this.emit("onSelectionChange",{editor:t,transaction:n})}),t._tiptapEditor.on("mount",()=>{this.emit("onMount",{editor:t})}),t._tiptapEditor.on("unmount",()=>{this.emit("onUnmount",{editor:t})})})}onChange(t){return this.on("onChange",t),()=>{this.off("onChange",t)}}onSelectionChange(t,n=!1){const r=i=>{i.transaction.getMeta("$y-sync")&&!n||t(this.editor)};return this.on("onSelectionChange",r),()=>{this.off("onSelectionChange",r)}}onMount(t){return this.on("onMount",t),()=>{this.off("onMount",t)}}onUnmount(t){return this.on("onUnmount",t),()=>{this.off("onUnmount",t)}}}function aXe(e){return Array.prototype.indexOf.call(e.parentElement.childNodes,e)}function sXe(e){return e.nodeType===3&&!/\S/.test(e.nodeValue||"")}function lXe(e){e.querySelectorAll("li > ul, li > ol").forEach(t=>{const n=aXe(t),r=t.parentElement,i=Array.from(r.childNodes).slice(n+1);t.remove(),i.forEach(o=>{o.remove()}),r.insertAdjacentElement("afterend",t),i.reverse().forEach(o=>{if(sXe(o))return;const a=document.createElement("li");a.append(o),t.insertAdjacentElement("afterend",a)}),r.childNodes.length===0&&r.remove()})}function cXe(e){e.querySelectorAll("li + ul, li + ol").forEach(t=>{var n,r;const i=t.previousElementSibling,o=document.createElement("div");i.insertAdjacentElement("afterend",o),o.append(i);const a=document.createElement("div");for(a.setAttribute("data-node-type","blockGroup"),o.append(a);((n=o.nextElementSibling)==null?void 0:n.nodeName)==="UL"||((r=o.nextElementSibling)==null?void 0:r.nodeName)==="OL";)a.append(o.nextElementSibling)})}let zG=null;function uXe(){return zG||(zG=document.implementation.createHTMLDocument("title"))}function dXe(e){if(typeof e=="string"){const t=uXe().createElement("div");t.innerHTML=e,e=t}return lXe(e),cXe(e),e}function ghe(e,t){const n=dXe(e),r=hu.fromSchema(t).parse(n,{topNode:t.nodes.blockGroup.create()}),i=[];for(let o=0;o<r.childCount;o++)i.push(ri(r.child(o),t));return i}function fXe(e,t){const n=t.value?t.value:"",r={};t.lang&&(r["data-language"]=t.lang);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function hXe(e,t){var n;const r=String(t?.url||""),i=t!=null&&t.title?String(t.title):void 0;let o={type:"element",tagName:"video",properties:{src:r,"data-name":i,"data-url":r,controls:!0},children:[]};return(n=e.patch)==null||n.call(e,t,o),o=e.applyData?e.applyData(t,o):o,o}function yhe(e){return Tfe().use(EWe).use(Cfe).use(rYe,{handlers:{...h8,image:(t,n)=>{const r=String(n?.url||"");return KLe(r)?hXe(t,n):h8.image(t,n)},code:fXe}}).use(sGe).processSync(e).value}function pXe(e,t){const n=yhe(e);return ghe(n,t)}class mXe{constructor(t){this.editor=t}blocksToHTMLLossy(t=this.editor.document){return cR(this.editor.pmSchema,this.editor).exportBlocks(t,{})}blocksToFullHTML(t=this.editor.document){return gGe(this.editor.pmSchema,this.editor).serializeBlocks(t,{})}tryParseHTMLToBlocks(t){return ghe(t,this.editor.pmSchema)}blocksToMarkdownLossy(t=this.editor.document){return zGe(t,this.editor.pmSchema,this.editor,{})}tryParseMarkdownToBlocks(t){return pXe(t,this.editor.pmSchema)}pasteHTML(t,n=!1){var r;let i=t;if(!n){const o=this.tryParseHTMLToBlocks(t);i=this.blocksToFullHTML(o)}i&&((r=this.editor.prosemirrorView)==null||r.pasteHTML(i))}pasteText(t){var n;return(n=this.editor.prosemirrorView)==null?void 0:n.pasteText(t)}pasteMarkdown(t){const n=yhe(t);return this.pasteHTML(n)}}class gXe{constructor(t){this.editor=t}extension(t,n=t.key()){const r=this.editor.extensions[n];if(!r)throw new Error(`Extension ${n} not found`);return r}getExtensions(){return this.editor.extensions}getExtension(t){return this.editor.extensions[t]}hasExtension(t){return t in this.editor.extensions}get formattingToolbar(){return this.editor.extensions.formattingToolbar}get linkToolbar(){return this.editor.extensions.linkToolbar}get sideMenu(){return this.editor.extensions.sideMenu}get suggestionMenus(){return this.editor.extensions.suggestionMenus}get filePanel(){return this.editor.extensions.filePanel}get tableHandles(){return this.editor.extensions.tableHandles}get showSelectionPlugin(){return this.editor.extensions.showSelection}get isCollaborationEnabled(){return this.hasExtension("ySyncPlugin")||this.hasExtension("liveblocksExtension")}}function yXe(e){const t=ho(e);if(e.selection.empty||"node"in e.selection)return;const n=e.doc.resolve(Zf(e.doc,e.selection.from).posBeforeNode),r=e.doc.resolve(Zf(e.doc,e.selection.to).posBeforeNode),i=(c,d)=>{const u=n.posAtIndex(c,d),p=e.doc.resolve(u).nodeAfter;if(!p)throw new Error(`Error getting selection - node not found at position ${u}`);return ri(p,t)},o=[],a=n.sharedDepth(r.pos),s=n.index(a),l=r.index(a);if(n.depth>a){o.push(ri(n.nodeAfter,t));for(let c=n.depth;c>a;c--)if(n.node(c).type.isInGroup("childContainer")){const d=n.index(c)+1,u=n.node(c).childCount;for(let p=d;p<u;p++)o.push(i(p,c))}}else o.push(i(s,a));for(let c=s+1;c<=l;c++)o.push(i(c,a));if(o.length===0)throw new Error(`Error getting selection - selection doesn't span any blocks (${e.selection})`);return{blocks:o}}function bXe(e,t,n){const r=typeof t=="string"?t:t.id,i=typeof n=="string"?n:n.id,o=ho(e),a=BT(o);if(r===i)throw new Error(`Attempting to set selection with the same anchor and head blocks (id ${r})`);const s=cs(r,e.doc);if(!s)throw new Error(`Block with ID ${r} not found`);const l=cs(i,e.doc);if(!l)throw new Error(`Block with ID ${i} not found`);const c=Qf(s),d=Qf(l),u=a.blockSchema[c.blockNoteType],p=a.blockSchema[d.blockNoteType];if(!c.isBlockContainer||u.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${r})`);if(!d.isBlockContainer||p.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${i})`);let m,v;if(u.content==="table"){const x=ni.get(c.blockContent.node);m=c.blockContent.beforePos+x.positionAt(0,0,c.blockContent.node)+1+2}else m=c.blockContent.beforePos+1;if(p.content==="table"){const x=ni.get(d.blockContent.node),w=d.blockContent.beforePos+x.positionAt(x.height-1,x.width-1,d.blockContent.node)+1,T=e.doc.resolve(w).nodeAfter.nodeSize;v=w+T-2}else v=d.blockContent.afterPos-1;e.setSelection(St.create(e.doc,m,v))}function vXe(e){const t=ho(e);let n=e.selection.$from,r=e.selection.$to;for(;r.parentOffset>=r.parent.nodeSize-2&&r.depth>0;)r=e.doc.resolve(r.pos+1);for(;r.parentOffset===0&&r.depth>0;)r=e.doc.resolve(r.pos-1);for(;n.parentOffset===0&&n.depth>0;)n=e.doc.resolve(n.pos-1);for(;n.parentOffset>=n.parent.nodeSize-2&&n.depth>0;)n=e.doc.resolve(n.pos+1);const i=mPe(e.doc.slice(n.pos,r.pos,!0),t);return{_meta:{startPos:n.pos,endPos:r.pos},...i}}function xXe(e){const{bnBlock:t}=jT(e),n=ho(e.doc),r=e.doc.resolve(t.beforePos),i=r.nodeBefore,o=e.doc.resolve(t.afterPos).nodeAfter;let a;return r.depth>1&&(a=r.node(),a.type.isInGroup("bnBlock")||(a=r.node(r.depth-1))),{block:ri(t.node,n),prevBlock:i===null?void 0:ri(i,n),nextBlock:o===null?void 0:ri(o,n),parentBlock:a===void 0?void 0:ri(a,n)}}function bhe(e,t,n="start"){const r=typeof t=="string"?t:t.id,i=ho(e.doc),o=BT(i),a=cs(r,e.doc);if(!a)throw new Error(`Block with ID ${r} not found`);const s=Qf(a),l=o.blockSchema[s.blockNoteType].content;if(s.isBlockContainer){const c=s.blockContent;if(l==="none"){e.setSelection(Rt.create(e.doc,c.beforePos));return}if(l==="inline")n==="start"?e.setSelection(St.create(e.doc,c.beforePos+1)):e.setSelection(St.create(e.doc,c.afterPos-1));else if(l==="table")n==="start"?e.setSelection(St.create(e.doc,c.beforePos+4)):e.setSelection(St.create(e.doc,c.afterPos-4));else throw new Od(l)}else{const c=n==="start"?s.childContainer.node.firstChild:s.childContainer.node.lastChild;bhe(e,c.attrs.id,n)}}class wXe{constructor(t){this.editor=t}getSelection(){return this.editor.transact(t=>yXe(t))}getSelectionCutBlocks(){return this.editor.transact(t=>vXe(t))}setSelection(t,n){return this.editor.transact(r=>bXe(r,t,n))}getTextCursorPosition(){return this.editor.transact(t=>xXe(t))}setTextCursorPosition(t,n="start"){return this.editor.transact(r=>bhe(r,t,n))}getSelectionBoundingBox(){if(!this.editor.prosemirrorView)return;const{selection:t}=this.editor.prosemirrorState,{ranges:n}=t,r=Math.min(...n.map(o=>o.$from.pos)),i=Math.max(...n.map(o=>o.$to.pos));if(PO(t)){const o=this.editor.prosemirrorView.nodeDOM(r);if(o)return o.getBoundingClientRect()}return LO(this.editor.prosemirrorView,r,i)}}class EXe{constructor(t,n){Ae(this,"activeTransaction",null),Ae(this,"isInCan",!1),this.editor=t,this.options=n}can(t){try{return this.isInCan=!0,t()}finally{this.isInCan=!1}}exec(t){if(this.activeTransaction)throw new Error("`exec` should not be called within a `transact` call, move the `exec` call outside of the `transact` call");if(this.isInCan)return this.canExec(t);const n=this.prosemirrorState,r=this.prosemirrorView;return t(n,i=>this.prosemirrorView.dispatch(i),r)}canExec(t){if(this.activeTransaction)throw new Error("`canExec` should not be called within a `transact` call, move the `canExec` call outside of the `transact` call");const n=this.prosemirrorState,r=this.prosemirrorView;return t(n,void 0,r)}transact(t){if(this.activeTransaction)return t(this.activeTransaction);try{this.activeTransaction=this.editor._tiptapEditor.state.tr;const n=t(this.activeTransaction),r=this.activeTransaction;return this.activeTransaction=null,r&&(r.docChanged||r.selectionSet||r.scrolledIntoView||r.storedMarksSet||!r.isGeneric)&&this.prosemirrorView.dispatch(r),n}finally{this.activeTransaction=null}}get prosemirrorState(){if(this.activeTransaction)throw new Error("`prosemirrorState` should not be called within a `transact` call, move the `prosemirrorState` call outside of the `transact` call or use `editor.transact` to read the current editor state");return this.editor._tiptapEditor.state}get prosemirrorView(){return this.editor._tiptapEditor.view}isFocused(){var t;return((t=this.prosemirrorView)==null?void 0:t.hasFocus())||!1}focus(){var t;(t=this.prosemirrorView)==null||t.focus()}get isEditable(){if(!this.editor._tiptapEditor){if(!this.editor.headless)throw new Error("no editor, but also not headless?");return!1}return this.editor._tiptapEditor.isEditable===void 0?!0:this.editor._tiptapEditor.isEditable}set isEditable(t){if(!this.editor._tiptapEditor){if(!this.editor.headless)throw new Error("no editor, but also not headless?");return}this.editor._tiptapEditor.options.editable!==t&&this.editor._tiptapEditor.setEditable(t)}undo(){var t;return this.exec(((t=this.options)==null?void 0:t.undo)??pF)}redo(){var t;return this.exec(((t=this.options)==null?void 0:t.redo)??mF)}}function SXe(e,t,n,r={updateSelection:!0}){let{from:i,to:o}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},a=!0,s=!0,l="";if(n.forEach(c=>{c.check(),a&&c.isText&&c.marks.length===0?l+=c.text:a=!1,s=s?c.isBlock:!1}),i===o&&s){const{parent:c}=e.doc.resolve(i);c.isTextblock&&!c.type.spec.code&&!c.childCount&&(i-=1,o+=1)}return a?e.insertText(l,i,o):e.replaceWith(i,o,n),r.updateSelection&&tle(e,e.steps.length-1,-1),!0}class CXe{constructor(t){this.editor=t}insertInlineContent(t,{updateSelection:n=!1}={}){const r=bu(t,this.editor.pmSchema);this.editor.transact(i=>{SXe(i,{from:i.selection.from,to:i.selection.to},r,{updateSelection:n})})}getActiveStyles(){return this.editor.transact(t=>{const n={},r=t.selection.$to.marks();for(const i of r){const o=this.editor.schema.styleSchema[i.type.name];if(!o){i.type.name!=="link"&&!i.type.spec.blocknoteIgnore&&console.warn("mark not found in styleschema",i.type.name);continue}o.propSchema==="boolean"?n[o.type]=!0:n[o.type]=i.attrs.stringValue}return n})}addStyles(t){for(const[n,r]of Object.entries(t)){const i=this.editor.schema.styleSchema[n];if(!i)throw new Error(`style ${n} not found in styleSchema`);if(i.propSchema==="boolean")this.editor._tiptapEditor.commands.setMark(n);else if(i.propSchema==="string")this.editor._tiptapEditor.commands.setMark(n,{stringValue:r});else throw new Od(i.propSchema)}}removeStyles(t){for(const n of Object.keys(t))this.editor._tiptapEditor.commands.unsetMark(n)}toggleStyles(t){for(const[n,r]of Object.entries(t)){const i=this.editor.schema.styleSchema[n];if(!i)throw new Error(`style ${n} not found in styleSchema`);if(i.propSchema==="boolean")this.editor._tiptapEditor.commands.toggleMark(n);else if(i.propSchema==="string")this.editor._tiptapEditor.commands.toggleMark(n,{stringValue:r});else throw new Od(i.propSchema)}}getSelectedText(){return this.editor.transact(t=>t.doc.textBetween(t.selection.from,t.selection.to))}getSelectedLinkUrl(){return this.editor._tiptapEditor.getAttributes("link").href}createLink(t,n){if(t==="")return;const r=this.editor.pmSchema.mark("link",{href:t});this.editor.transact(i=>{const{from:o,to:a}=i.selection;n?i.insertText(n,o,a).addMark(o,o+n.length,r):i.setSelection(St.create(i.doc,a)).addMark(o,a,r)})}}function TXe(e,t){const n=[];return e.forEach((r,i,o)=>{o!==t&&n.push(r)}),He.from(n)}function kXe(e,t){const n=[];for(let r=0;r<e.childCount;r++)if(e.child(r).type.name==="tableRow")if(n.length>0&&n[n.length-1].type.name==="table"){const i=n[n.length-1],o=i.copy(i.content.addToEnd(e.child(r)));n[n.length-1]=o}else{const i=t.nodes.table.createChecked(void 0,e.child(r));n.push(i)}else n.push(e.child(r));return e=He.from(n),e}function _Xe(e,t){let n=He.from(e.content);if(n=kXe(n,t.state.schema),!AXe(n,t))return new at(n,e.openStart,e.openEnd);for(let r=0;r<n.childCount;r++)if(n.child(r).type.spec.group==="blockContent"){const i=[n.child(r)];if(r+1<n.childCount&&n.child(r+1).type.name==="blockGroup"){const a=n.child(r+1).child(0).child(0);(a.type.name==="bulletListItem"||a.type.name==="numberedListItem"||a.type.name==="checkListItem")&&(i.push(n.child(r+1)),n=TXe(n,r+1))}const o=t.state.schema.nodes.blockContainer.createChecked(void 0,i);n=n.replaceChild(r,o)}return new at(n,e.openStart,e.openEnd)}function AXe(e,t){var n,r;const i=e.childCount===1,o=((n=e.firstChild)==null?void 0:n.type.spec.content)==="inline*",a=((r=e.firstChild)==null?void 0:r.type.spec.content)==="tableRow+";if(i){if(o)return!1;if(a){const s=Ns(t.state);if(s.isBlockContainer)return s.blockContent.node.type.spec.content!=="tableRow+"}}return!0}const OXe={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};let vhe=class xhe extends HD{constructor(t){var n,r,i,o,a,s,l,c,d,u,p,m,v,x,w,T,k,O,I;super(),Ae(this,"pmSchema"),Ae(this,"extensions",{}),Ae(this,"_tiptapEditor"),Ae(this,"elementRenderer",null),Ae(this,"blockCache",new WeakMap),Ae(this,"dictionary"),Ae(this,"schema"),Ae(this,"blockImplementations"),Ae(this,"inlineContentImplementations"),Ae(this,"styleImplementations"),Ae(this,"uploadFile"),Ae(this,"onUploadStartCallbacks",[]),Ae(this,"onUploadEndCallbacks",[]),Ae(this,"resolveFileUrl"),Ae(this,"resolveUsers"),Ae(this,"settings"),Ae(this,"_blockManager"),Ae(this,"_collaborationManager"),Ae(this,"_eventManager"),Ae(this,"_exportManager"),Ae(this,"_extensionManager"),Ae(this,"_selectionManager"),Ae(this,"_stateManager"),Ae(this,"_styleManager"),Ae(this,"mount",W=>{this._tiptapEditor.mount({mount:W})}),Ae(this,"unmount",()=>{this._tiptapEditor.unmount()}),this.options=t;const N=t;if(N.onEditorContentChange)throw new Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(N.onTextCursorPositionChange)throw new Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(N.onEditorReady)throw new Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(N.editable)throw new Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");this.dictionary=t.dictionary||f8,this.settings={tables:{splitCells:((n=t?.tables)==null?void 0:n.splitCells)??!1,cellBackgroundColor:((r=t?.tables)==null?void 0:r.cellBackgroundColor)??!1,cellTextColor:((i=t?.tables)==null?void 0:i.cellTextColor)??!1,headers:((o=t?.tables)==null?void 0:o.headers)??!1}};const A={defaultStyles:!0,schema:t.schema||UD.create(),...t,placeholders:{...this.dictionary.placeholders,...t.placeholders}};if(A.collaboration||A.comments){const W={fragment:((a=A.collaboration)==null?void 0:a.fragment)||new sm,user:((s=A.collaboration)==null?void 0:s.user)||{name:"User",color:"#FF0000"},provider:((l=A.collaboration)==null?void 0:l.provider)||null,renderCursor:(c=A.collaboration)==null?void 0:c.renderCursor,showCursorLabels:(d=A.collaboration)==null?void 0:d.showCursorLabels,comments:A.comments,resolveUsers:A.resolveUsers};this._collaborationManager=new iXe(this,W)}else this._collaborationManager=void 0;if(A.comments&&!A.resolveUsers)throw new Error("resolveUsers is required when using comments");this.schema=A.schema,this.blockImplementations=A.schema.blockSpecs,this.inlineContentImplementations=A.schema.inlineContentSpecs,this.styleImplementations=A.schema.styleSpecs,this.extensions={...YKe({editor:this,domAttributes:A.domAttributes||{},blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:A.collaboration,trailingBlock:A.trailingBlock,disableExtensions:A.disableExtensions,setIdAttribute:A.setIdAttribute,animations:A.animations??!0,tableHandles:Zr(this,"table"),dropCursor:this.options.dropCursor??lce,placeholders:A.placeholders,tabBehavior:A.tabBehavior,pasteHandler:A.pasteHandler}),...(u=this._collaborationManager)==null?void 0:u.initExtensions()},(((p=A._tiptapOptions)==null?void 0:p.extensions)||[]).forEach(W=>{this.extensions[W.name]=W});for(let W of A.extensions||[]){typeof W=="function"&&(W=W(this));const G=W.key??W.constructor.key();if(!G)throw new Error(`Extension ${W.constructor.name} does not have a key method`);if(this.extensions[G])throw new Error(`Extension ${W.constructor.name} already exists with key ${G}`);this.extensions[G]=W}if(Object.entries(A._extensions||{}).forEach(([W,G])=>{const Z=typeof G=="function"?G(this):G;if(!("plugin"in Z)){this.extensions[W]=Z;return}this.extensions[W]=new class extends uo{static key(){return W}constructor(){super(),this.addProsemirrorPlugin(Z.plugin)}get priority(){return Z.priority}}}),A.uploadFile){const W=A.uploadFile;this.uploadFile=async(G,Z)=>{this.onUploadStartCallbacks.forEach(V=>V.apply(this,[Z]));try{return await W(G,Z)}finally{this.onUploadEndCallbacks.forEach(V=>V.apply(this,[Z]))}}}this.resolveFileUrl=A.resolveFileUrl;const R="ySyncPlugin"in this.extensions||"liveblocksExtension"in this.extensions;R&&A.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider");const L=Object.fromEntries(Object.values(this.schema.blockSpecs).map(W=>W.extensions).filter(W=>W!==void 0).flat().map(W=>[W.key??W.constructor.key(),W])),B=[...Object.entries({...this.extensions,...L}).map(([W,G])=>{if(G instanceof ur||G instanceof qs||G instanceof jl)return G;if(G instanceof uo)return!G.plugins.length&&!G.keyboardShortcuts&&!G.inputRules&&!G.tiptapExtensions?void 0:ur.create({name:W,priority:G.priority,addProseMirrorPlugins:()=>G.plugins,addExtensions:()=>G.tiptapExtensions||[],addInputRules:G.inputRules?()=>G.inputRules.map(Z=>new dle({find:Z.find,handler:({range:V,match:ne,state:X})=>{const oe=Z.replace({match:ne,range:V,editor:this});if(oe){const K=this.getTextCursorPosition();if(this.schema.blockSchema[K.block.type].content!=="inline")return;const Q=jT(X.tr),te=X.tr.deleteRange(V.from,V.to);jD(te,Q.bnBlock.beforePos,oe);return}return null}})):void 0,addKeyboardShortcuts:G.keyboardShortcuts?()=>Object.fromEntries(Object.entries(G.keyboardShortcuts).map(([Z,V])=>[Z,()=>V({editor:this})])):void 0})})].filter(W=>W!==void 0),$={...OXe,...A._tiptapOptions,element:null,autofocus:A.autofocus??!1,extensions:B,editorProps:{...(m=A._tiptapOptions)==null?void 0:m.editorProps,attributes:{tabIndex:"0",...(x=(v=A._tiptapOptions)==null?void 0:v.editorProps)==null?void 0:x.attributes,...(w=A.domAttributes)==null?void 0:w.editor,class:bi("bn-editor",A.defaultStyles?"bn-default-styles":"",((k=(T=A.domAttributes)==null?void 0:T.editor)==null?void 0:k.class)||"")},transformPasted:_Xe}};try{const W=A.initialContent||(R?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:LT.options.generateID()}]);if(!Array.isArray(W)||W.length===0)throw new Error("initialContent must be a non-empty array of blocks, received: "+W);const G=cIe($.extensions),Z=W.map(ne=>iy(ne,G,this.schema.styleSchema).toJSON()),V=IO({type:"doc",content:[{type:"blockGroup",content:Z}]},G,$.parseOptions);this._tiptapEditor=new XIe({...$,content:V.toJSON()}),this.pmSchema=this._tiptapEditor.schema}catch(W){throw new Error("Error creating document from blocks passed as `initialContent`",{cause:W})}let q;const z=this.pmSchema.nodes.doc.createAndFill;this.pmSchema.nodes.doc.createAndFill=(...W)=>{if(q)return q;const G=z.apply(this.pmSchema.nodes.doc,W),Z=JSON.parse(JSON.stringify(G.toJSON()));return Z.content[0].content[0].attrs.id="initialBlockId",q=Bf.fromJSON(this.pmSchema,Z),q},this.pmSchema.cached.blockNoteEditor=this,this._blockManager=new rXe(this),this._eventManager=new oXe(this),this._exportManager=new mXe(this),this._extensionManager=new gXe(this),this._selectionManager=new wXe(this),this._stateManager=new EXe(this,R?{undo:(O=this._collaborationManager)==null?void 0:O.getUndoCommand(),redo:(I=this._collaborationManager)==null?void 0:I.getRedoCommand()}:void 0),this._styleManager=new CXe(this),this.emit("create")}get formattingToolbar(){return this._extensionManager.formattingToolbar}get linkToolbar(){return this._extensionManager.linkToolbar}get sideMenu(){return this._extensionManager.sideMenu}get suggestionMenus(){return this._extensionManager.suggestionMenus}get filePanel(){return this._extensionManager.filePanel}get tableHandles(){return this._extensionManager.tableHandles}get comments(){var t;return(t=this._collaborationManager)==null?void 0:t.comments}get showSelectionPlugin(){return this._extensionManager.showSelectionPlugin}get forkYDocPlugin(){var t;return(t=this._collaborationManager)==null?void 0:t.forkYDocPlugin}static create(t){return new xhe(t??{})}exec(t){return this._stateManager.exec(t)}canExec(t){return this._stateManager.canExec(t)}transact(t){return this._stateManager.transact(t)}extension(t,n=t.key()){return this._extensionManager.extension(t,n)}get prosemirrorState(){return this._stateManager.prosemirrorState}get prosemirrorView(){return this._stateManager.prosemirrorView}get domElement(){var t;if(!this.headless)return(t=this.prosemirrorView)==null?void 0:t.dom}isFocused(){var t;return this.headless?!1:((t=this.prosemirrorView)==null?void 0:t.hasFocus())||!1}get headless(){return!this._tiptapEditor.isInitialized}focus(){this.headless||this.prosemirrorView.focus()}blur(){this.headless||this.prosemirrorView.dom.blur()}onUploadStart(t){return this.onUploadStartCallbacks.push(t),()=>{const n=this.onUploadStartCallbacks.indexOf(t);n>-1&&this.onUploadStartCallbacks.splice(n,1)}}onUploadEnd(t){return this.onUploadEndCallbacks.push(t),()=>{const n=this.onUploadEndCallbacks.indexOf(t);n>-1&&this.onUploadEndCallbacks.splice(n,1)}}get topLevelBlocks(){return this.document}get document(){return this._blockManager.document}getBlock(t){return this._blockManager.getBlock(t)}getPrevBlock(t){return this._blockManager.getPrevBlock(t)}getNextBlock(t){return this._blockManager.getNextBlock(t)}getParentBlock(t){return this._blockManager.getParentBlock(t)}forEachBlock(t,n=!1){this._blockManager.forEachBlock(t,n)}onEditorContentChange(t){this._tiptapEditor.on("update",t)}onEditorSelectionChange(t){this._tiptapEditor.on("selectionUpdate",t)}getTextCursorPosition(){return this._selectionManager.getTextCursorPosition()}setTextCursorPosition(t,n="start"){return this._selectionManager.setTextCursorPosition(t,n)}getSelection(){return this._selectionManager.getSelection()}getSelectionCutBlocks(){return this._selectionManager.getSelectionCutBlocks()}setSelection(t,n){return this._selectionManager.setSelection(t,n)}get isEditable(){return this._stateManager.isEditable}set isEditable(t){this._stateManager.isEditable=t}insertBlocks(t,n,r="before"){return this._blockManager.insertBlocks(t,n,r)}updateBlock(t,n){return this._blockManager.updateBlock(t,n)}removeBlocks(t){return this._blockManager.removeBlocks(t)}replaceBlocks(t,n){return this._blockManager.replaceBlocks(t,n)}undo(){return this._stateManager.undo()}redo(){return this._stateManager.redo()}insertInlineContent(t,{updateSelection:n=!1}={}){this._styleManager.insertInlineContent(t,{updateSelection:n})}getActiveStyles(){return this._styleManager.getActiveStyles()}addStyles(t){this._styleManager.addStyles(t)}removeStyles(t){this._styleManager.removeStyles(t)}toggleStyles(t){this._styleManager.toggleStyles(t)}getSelectedText(){return this._styleManager.getSelectedText()}getSelectedLinkUrl(){return this._styleManager.getSelectedLinkUrl()}createLink(t,n){this._styleManager.createLink(t,n)}canNestBlock(){return this._blockManager.canNestBlock()}nestBlock(){this._blockManager.nestBlock()}canUnnestBlock(){return this._blockManager.canUnnestBlock()}unnestBlock(){this._blockManager.unnestBlock()}moveBlocksUp(){return this._blockManager.moveBlocksUp()}moveBlocksDown(){return this._blockManager.moveBlocksDown()}blocksToHTMLLossy(t=this.document){return this._exportManager.blocksToHTMLLossy(t)}blocksToFullHTML(t=this.document){return this._exportManager.blocksToFullHTML(t)}tryParseHTMLToBlocks(t){return this._exportManager.tryParseHTMLToBlocks(t)}blocksToMarkdownLossy(t=this.document){return this._exportManager.blocksToMarkdownLossy(t)}tryParseMarkdownToBlocks(t){return this._exportManager.tryParseMarkdownToBlocks(t)}updateCollaborationUserInfo(t){if(!this._collaborationManager)throw new Error("Cannot update collaboration user info when collaboration is disabled.");this._collaborationManager.updateUserInfo(t)}onChange(t){return this._eventManager.onChange(t)}onSelectionChange(t,n){return this._eventManager.onSelectionChange(t,n)}onCreate(t){return this.on("create",t),()=>{this.off("create",t)}}onMount(t){this._eventManager.onMount(t)}onUnmount(t){this._eventManager.onUnmount(t)}getSelectionBoundingBox(){return this._selectionManager.getSelectionBoundingBox()}get isEmpty(){const t=this.document;return t.length===0||t.length===1&&t[0].type==="paragraph"&&t[0].content.length===0}openSuggestionMenu(t,n){!this.prosemirrorView||this.headless||(this.focus(),this.transact(r=>{n!=null&&n.deleteTriggerCharacter&&r.insertText(t),r.scrollIntoView().setMeta(this.suggestionMenus.plugins[0],{triggerCharacter:t,deleteTriggerCharacter:n?.deleteTriggerCharacter||!1,ignoreQueryLength:n?.ignoreQueryLength||!1})}))}getForceSelectionVisible(){return this.showSelectionPlugin.getEnabled()}setForceSelectionVisible(t){this.showSelectionPlugin.setEnabled(t)}pasteHTML(t,n=!1){this._exportManager.pasteHTML(t,n)}pasteText(t){return this._exportManager.pasteText(t)}pasteMarkdown(t){return this._exportManager.pasteMarkdown(t)}},nL;async function NXe(){return nL||(nL=(async()=>{const[e,t]=await Promise.all([wO(()=>import("./module-RjUF93sV.js"),[]),wO(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in e?e.default:e,r="default"in t?t.default:t;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),nL)}async function MXe(e,t){if(!("text"in e.schema.inlineContentSchema)||e.schema.inlineContentSchema.text!==bje.text)return[];const{emojiData:n,emojiMart:r}=await NXe();return(t.trim()===""?Object.values(n.emojis):await r.SearchIndex.search(t)).map(i=>({id:i.skins[0].native,onItemClick:()=>e.insertInlineContent(i.skins[0].native+" ")}))}function DXe(e,...t){const n=[...e];for(const r of t)for(const i of r){const o=n.findLastIndex(a=>a.group===i.group);o===-1?n.push(i):n.splice(o+1,0,i)}return n}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var RXe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],E8=RXe.join(","),whe=typeof Element>"u",TC=whe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,IN=!whe&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},PN=function e(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",a=o||n&&t&&e(t.parentNode);return a},IXe=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},PXe=function(t,n,r){if(PN(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(E8));return n&&TC.call(t,E8)&&i.unshift(t),i=i.filter(r),i},LXe=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!PN(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),l=s.length?s:a.children,c=e(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:a,candidates:c})}else{var d=TC.call(a,E8);d&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var u=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),p=!PN(u,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(u&&p){var m=e(u===!0?a.children:u.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:a,candidates:m})}else o.unshift.apply(o,a.children)}}return i},Ehe=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},She=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||IXe(t))&&!Ehe(t)?0:t.tabIndex},jXe=function(t,n){var r=She(t);return r<0&&n&&!Ehe(t)?0:r},BXe=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Che=function(t){return t.tagName==="INPUT"},$Xe=function(t){return Che(t)&&t.type==="hidden"},HXe=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},FXe=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},UXe=function(t){if(!t.name)return!0;var n=t.form||IN(t),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=FXe(i,t.form);return!o||o===t},zXe=function(t){return Che(t)&&t.type==="radio"},VXe=function(t){return zXe(t)&&!UXe(t)},qXe=function(t){var n,r=t&&IN(t),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==t){var a,s,l;for(o=!!((a=i)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(i)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!o&&i;){var c,d,u;r=IN(i),i=(c=r)===null||c===void 0?void 0:c.host,o=!!((d=i)!==null&&d!==void 0&&(u=d.ownerDocument)!==null&&u!==void 0&&u.contains(i))}}return o},VG=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},WXe=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=TC.call(t,"details>summary:first-of-type"),a=o?t.parentElement:t;if(TC.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var s=t;t;){var l=t.parentElement,c=IN(t);if(l&&!l.shadowRoot&&i(l)===!0)return VG(t);t.assignedSlot?t=t.assignedSlot:!l&&c!==t.ownerDocument?t=c.host:t=l}t=s}if(qXe(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return VG(t);return!1},YXe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return TC.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},GXe=function(t,n){return!(n.disabled||PN(n)||$Xe(n)||WXe(n,t)||HXe(n)||YXe(n))},qG=function(t,n){return!(VXe(n)||She(n)<0||!GXe(t,n))},KXe=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},XXe=function e(t){var n=[],r=[];return t.forEach(function(i,o){var a=!!i.scopeParent,s=a?i.scopeParent:i,l=jXe(s,a),c=a?e(i.candidates):s;l===0?a?n.push.apply(n,c):n.push(s):r.push({documentOrder:o,tabIndex:l,item:i,isScope:a,content:c})}),r.sort(BXe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},The=function(t,n){n=n||{};var r;return n.getShadowRoot?r=LXe([t],n.includeContainer,{filter:qG.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:KXe}):r=PXe(t,n.includeContainer,qG.bind(null,n)),XXe(r)};function ZXe(){return/apple/i.test(navigator.vendor)}function QXe(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function S8(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&G6(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function BE(e){return"composedPath"in e?e.composedPath()[0]:e.target}function rL(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function JXe(e){return e.matches("html,body")}function kC(e){return e?.ownerDocument||document}function lO(e,t,n){return n===void 0&&(n=!0),e.filter(i=>{var o;return i.parentId===t&&(!n||((o=i.context)==null?void 0:o.open))}).flatMap(i=>[i,...lO(e,i.id,n)])}function eZe(e){return"nativeEvent"in e}var tZe=typeof document<"u",nZe=function(){},Cd=tZe?C.useLayoutEffect:nZe;const rZe={...dT};function wA(e){const t=C.useRef(e);return Cd(()=>{t.current=e}),t}const iZe=rZe.useInsertionEffect,oZe=iZe||(e=>e());function vv(e){const t=C.useRef(()=>{});return oZe(()=>{t.current=e}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}const khe=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function _he(e,t){const n=The(e,khe()),r=n.length;if(r===0)return;const i=QXe(kC(e)),o=n.indexOf(i),a=o===-1?t===1?0:r-1:o+t;return n[a]}function aZe(e){return _he(kC(e).body,1)||e}function sZe(e){return _he(kC(e).body,-1)||e}function iL(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!S8(n,r)}function lZe(e){The(e,khe()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function WG(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const cZe="data-floating-ui-focusable",YG="active",GG="selected",uZe={...dT};let KG=!1,dZe=0;const XG=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+dZe++;function fZe(){const[e,t]=C.useState(()=>KG?XG():void 0);return Cd(()=>{e==null&&t(XG())},[]),C.useEffect(()=>{KG=!0},[]),e}const hZe=uZe.useId,Ahe=hZe||fZe;function pZe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const mZe=C.createContext(null),gZe=C.createContext(null),yZe=()=>{var e;return((e=C.useContext(mZe))==null?void 0:e.id)||null},Ohe=()=>C.useContext(gZe);function JF(e){return"data-floating-ui-"+e}const Nhe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},ZG=C.forwardRef(function(t,n){const[r,i]=C.useState();Cd(()=>{ZXe()&&i("button")},[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[JF("focus-guard")]:"",style:Nhe};return g.jsx("span",{...t,...o})}),Mhe=C.createContext(null),QG=JF("portal");function bZe(e){e===void 0&&(e={});const{id:t,root:n}=e,r=Ahe(),i=xZe(),[o,a]=C.useState(null),s=C.useRef(null);return Cd(()=>()=>{o?.remove(),queueMicrotask(()=>{s.current=null})},[o]),Cd(()=>{if(!r||s.current)return;const l=t?document.getElementById(t):null;if(!l)return;const c=document.createElement("div");c.id=r,c.setAttribute(QG,""),l.appendChild(c),s.current=c,a(c)},[t,r]),Cd(()=>{if(n===null||!r||s.current)return;let l=n||i?.portalNode;l&&!zH(l)&&(l=l.current),l=l||document.body;let c=null;t&&(c=document.createElement("div"),c.id=t,l.appendChild(c));const d=document.createElement("div");d.id=r,d.setAttribute(QG,""),l=c||l,l.appendChild(d),s.current=d,a(d)},[t,n,r,i]),o}function vZe(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,o=bZe({id:n,root:r}),[a,s]=C.useState(null),l=C.useRef(null),c=C.useRef(null),d=C.useRef(null),u=C.useRef(null),p=a?.modal,m=a?.open,v=!!a&&!a.modal&&a.open&&i&&!!(r||o);return C.useEffect(()=>{if(!o||!i||p)return;function x(w){o&&iL(w)&&(w.type==="focusin"?WG:lZe)(o)}return o.addEventListener("focusin",x,!0),o.addEventListener("focusout",x,!0),()=>{o.removeEventListener("focusin",x,!0),o.removeEventListener("focusout",x,!0)}},[o,i,p]),C.useEffect(()=>{o&&(m||WG(o))},[m,o]),g.jsxs(Mhe.Provider,{value:C.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:d,afterInsideRef:u,portalNode:o,setFocusManagerState:s}),[i,o]),children:[v&&o&&g.jsx(ZG,{"data-type":"outside",ref:l,onFocus:x=>{if(iL(x,o)){var w;(w=d.current)==null||w.focus()}else{const T=a?a.domReference:null,k=sZe(T);k?.focus()}}}),v&&o&&g.jsx("span",{"aria-owns":o.id,style:Nhe}),o&&ka.createPortal(t,o),v&&o&&g.jsx(ZG,{"data-type":"outside",ref:c,onFocus:x=>{if(iL(x,o)){var w;(w=u.current)==null||w.focus()}else{const T=a?a.domReference:null,k=aZe(T);k?.focus(),a?.closeOnFocusOut&&a?.onOpenChange(!1,x.nativeEvent,"focus-out")}}})]})}const xZe=()=>C.useContext(Mhe),wZe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},EZe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},JG=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function SZe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:a=!0,escapeKey:s=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:d=!1,referencePressEvent:u="pointerdown",ancestorScroll:p=!1,bubbles:m,capture:v}=t,x=Ohe(),w=vv(typeof l=="function"?l:()=>!1),T=typeof l=="function"?w:l,k=C.useRef(!1),{escapeKey:O,outsidePress:I}=JG(m),{escapeKey:N,outsidePress:A}=JG(v),R=C.useRef(!1),L=vv(G=>{var Z;if(!n||!a||!s||G.key!=="Escape"||R.current)return;const V=(Z=o.current.floatingContext)==null?void 0:Z.nodeId,ne=x?lO(x.nodesRef.current,V):[];if(!O&&(G.stopPropagation(),ne.length>0)){let X=!0;if(ne.forEach(oe=>{var K;if((K=oe.context)!=null&&K.open&&!oe.context.dataRef.current.__escapeKeyBubbles){X=!1;return}}),!X)return}r(!1,eZe(G)?G.nativeEvent:G,"escape-key")}),B=vv(G=>{var Z;const V=()=>{var ne;L(G),(ne=BE(G))==null||ne.removeEventListener("keydown",V)};(Z=BE(G))==null||Z.addEventListener("keydown",V)}),$=vv(G=>{var Z;const V=o.current.insideReactTree;o.current.insideReactTree=!1;const ne=k.current;if(k.current=!1,c==="click"&&ne||V||typeof T=="function"&&!T(G))return;const X=BE(G),oe="["+JF("inert")+"]",K=kC(i.floating).querySelectorAll(oe);let Q=qi(X)?X:null;for(;Q&&!jf(Q);){const me=Kf(Q);if(jf(me)||!qi(me))break;Q=me}if(K.length&&qi(X)&&!JXe(X)&&!S8(X,i.floating)&&Array.from(K).every(me=>!S8(Q,me)))return;if(yu(X)&&W){const me=jf(X),ke=xc(X),Ee=/auto|scroll/,ve=me||Ee.test(ke.overflowX),we=me||Ee.test(ke.overflowY),je=ve&&X.clientWidth>0&&X.scrollWidth>X.clientWidth,Ke=we&&X.clientHeight>0&&X.scrollHeight>X.clientHeight,De=ke.direction==="rtl",It=Ke&&(De?G.offsetX<=X.offsetWidth-X.clientWidth:G.offsetX>X.clientWidth),Fe=je&&G.offsetY>X.clientHeight;if(It||Fe)return}const te=(Z=o.current.floatingContext)==null?void 0:Z.nodeId,U=x&&lO(x.nodesRef.current,te).some(me=>{var ke;return rL(G,(ke=me.context)==null?void 0:ke.elements.floating)});if(rL(G,i.floating)||rL(G,i.domReference)||U)return;const fe=x?lO(x.nodesRef.current,te):[];if(fe.length>0){let me=!0;if(fe.forEach(ke=>{var Ee;if((Ee=ke.context)!=null&&Ee.open&&!ke.context.dataRef.current.__outsidePressBubbles){me=!1;return}}),!me)return}r(!1,G,"outside-press")}),q=vv(G=>{var Z;const V=()=>{var ne;$(G),(ne=BE(G))==null||ne.removeEventListener(c,V)};(Z=BE(G))==null||Z.addEventListener(c,V)});C.useEffect(()=>{if(!n||!a)return;o.current.__escapeKeyBubbles=O,o.current.__outsidePressBubbles=I;let G=-1;function Z(K){r(!1,K,"ancestor-scroll")}function V(){window.clearTimeout(G),R.current=!0}function ne(){G=window.setTimeout(()=>{R.current=!1},dD()?5:0)}const X=kC(i.floating);s&&(X.addEventListener("keydown",N?B:L,N),X.addEventListener("compositionstart",V),X.addEventListener("compositionend",ne)),T&&X.addEventListener(c,A?q:$,A);let oe=[];return p&&(qi(i.domReference)&&(oe=Up(i.domReference)),qi(i.floating)&&(oe=oe.concat(Up(i.floating))),!qi(i.reference)&&i.reference&&i.reference.contextElement&&(oe=oe.concat(Up(i.reference.contextElement)))),oe=oe.filter(K=>{var Q;return K!==((Q=X.defaultView)==null?void 0:Q.visualViewport)}),oe.forEach(K=>{K.addEventListener("scroll",Z,{passive:!0})}),()=>{s&&(X.removeEventListener("keydown",N?B:L,N),X.removeEventListener("compositionstart",V),X.removeEventListener("compositionend",ne)),T&&X.removeEventListener(c,A?q:$,A),oe.forEach(K=>{K.removeEventListener("scroll",Z)}),window.clearTimeout(G)}},[o,i,s,T,c,n,r,p,a,O,I,L,N,B,$,A,q]),C.useEffect(()=>{o.current.insideReactTree=!1},[o,T,c]);const z=C.useMemo(()=>({onKeyDown:L,...d&&{[wZe[u]]:G=>{r(!1,G.nativeEvent,"reference-press")},...u!=="click"&&{onClick(G){r(!1,G.nativeEvent,"reference-press")}}}}),[L,r,d,u]),W=C.useMemo(()=>({onKeyDown:L,onMouseDown(){k.current=!0},onMouseUp(){k.current=!0},[EZe[c]]:()=>{o.current.insideReactTree=!0}}),[L,c,o]);return C.useMemo(()=>a?{reference:z,floating:W}:{},[a,z,W])}function CZe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Ahe(),o=C.useRef({}),[a]=C.useState(()=>pZe()),s=yZe()!=null,[l,c]=C.useState(r.reference),d=vv((m,v,x)=>{o.current.openEvent=m?v:void 0,a.emit("openchange",{open:m,event:v,reason:x,nested:s}),n?.(m,v,x)}),u=C.useMemo(()=>({setPositionReference:c}),[]),p=C.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return C.useMemo(()=>({dataRef:o,open:t,onOpenChange:d,elements:p,events:a,floatingId:i,refs:u}),[t,d,p,a,i,u])}function e7(e){e===void 0&&(e={});const{nodeId:t}=e,n=CZe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,a]=C.useState(null),[s,l]=C.useState(null),d=i?.domReference||o,u=C.useRef(null),p=Ohe();Cd(()=>{d&&(u.current=d)},[d]);const m=Qoe({...e,elements:{...i,...s&&{reference:s}}}),v=C.useCallback(O=>{const I=qi(O)?{getBoundingClientRect:()=>O.getBoundingClientRect(),getClientRects:()=>O.getClientRects(),contextElement:O}:O;l(I),m.refs.setReference(I)},[m.refs]),x=C.useCallback(O=>{(qi(O)||O===null)&&(u.current=O,a(O)),(qi(m.refs.reference.current)||m.refs.reference.current===null||O!==null&&!qi(O))&&m.refs.setReference(O)},[m.refs]),w=C.useMemo(()=>({...m.refs,setReference:x,setPositionReference:v,domReference:u}),[m.refs,x,v]),T=C.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),k=C.useMemo(()=>({...m,...r,refs:w,elements:T,nodeId:t}),[m,w,T,t,r]);return Cd(()=>{r.dataRef.current.floatingContext=k;const O=p?.nodesRef.current.find(I=>I.id===t);O&&(O.context=k)}),C.useMemo(()=>({...m,context:k,refs:w,elements:T}),[m,w,T,k])}function oL(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[YG]:a,[GG]:s,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[cZe]:""},...o,...t.map(a=>{const s=a?a[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((a,s)=>(s&&Object.entries(s).forEach(l=>{let[c,d]=l;if(!(i&&[YG,GG].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof d=="function"){var u;(u=r.get(c))==null||u.push(d),a[c]=function(){for(var p,m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];return(p=r.get(c))==null?void 0:p.map(w=>w(...v)).find(w=>w!==void 0)}}}else a[c]=d}),a),{})}}function TZe(e){e===void 0&&(e=[]);const t=e.map(s=>s?.reference),n=e.map(s=>s?.floating),r=e.map(s=>s?.item),i=C.useCallback(s=>oL(s,e,"reference"),t),o=C.useCallback(s=>oL(s,e,"floating"),n),a=C.useCallback(s=>oL(s,e,"item"),r);return C.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:a}),[i,o,a])}const eK=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function iv(e,t){return typeof e=="function"?e(t):e}function kZe(e,t){const[n,r]=C.useState(e);return e&&!n&&r(!0),C.useEffect(()=>{if(!e&&n){const i=setTimeout(()=>r(!1),t);return()=>clearTimeout(i)}},[e,n,t]),n}function _Ze(e,t){t===void 0&&(t={});const{open:n,elements:{floating:r}}=e,{duration:i=250}=t,a=(typeof i=="number"?i:i.close)||0,[s,l]=C.useState("unmounted"),c=kZe(n,a);return!c&&s==="close"&&l("unmounted"),Cd(()=>{if(r){if(n){l("initial");const d=requestAnimationFrame(()=>{ka.flushSync(()=>{l("open")})});return()=>{cancelAnimationFrame(d)}}l("close")}},[n,r]),{isMounted:c,status:s}}function t7(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:r,close:i,common:o,duration:a=250}=t,s=e.placement,l=s.split("-")[0],c=C.useMemo(()=>({side:l,placement:s}),[l,s]),d=typeof a=="number",u=(d?a:a.open)||0,p=(d?a:a.close)||0,[m,v]=C.useState(()=>({...iv(o,c),...iv(n,c)})),{isMounted:x,status:w}=_Ze(e,{duration:a}),T=wA(n),k=wA(r),O=wA(i),I=wA(o);return Cd(()=>{const N=iv(T.current,c),A=iv(O.current,c),R=iv(I.current,c),L=iv(k.current,c)||Object.keys(N).reduce((B,$)=>(B[$]="",B),{});if(w==="initial"&&v(B=>({transitionProperty:B.transitionProperty,...R,...N})),w==="open"&&v({transitionProperty:Object.keys(L).map(eK).join(","),transitionDuration:u+"ms",...R,...L}),w==="close"){const B=A||N;v({transitionProperty:Object.keys(B).map(eK).join(","),transitionDuration:p+"ms",...R,...B})}},[p,O,T,k,I,u,w,c]),{isMounted:x,styles:m}}var aL={exports:{}},sL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tK;function AZe(){if(tK)return sL;tK=1;var e=uT();function t(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,a=e.useDebugValue;function s(u,p){var m=p(),v=r({inst:{value:m,getSnapshot:p}}),x=v[0].inst,w=v[1];return o(function(){x.value=m,x.getSnapshot=p,l(x)&&w({inst:x})},[u,m,p]),i(function(){return l(x)&&w({inst:x}),u(function(){l(x)&&w({inst:x})})},[u]),a(m),m}function l(u){var p=u.getSnapshot;u=u.value;try{var m=p();return!n(u,m)}catch{return!0}}function c(u,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return sL.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,sL}var nK;function Dhe(){return nK||(nK=1,aL.exports=AZe()),aL.exports}var Rhe=Dhe(),lL={exports:{}},cL={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rK;function OZe(){if(rK)return cL;rK=1;var e=uT(),t=Dhe();function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,a=e.useEffect,s=e.useMemo,l=e.useDebugValue;return cL.useSyncExternalStoreWithSelector=function(c,d,u,p,m){var v=o(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=s(function(){function T(A){if(!k){if(k=!0,O=A,A=p(A),m!==void 0&&x.hasValue){var R=x.value;if(m(R,A))return I=R}return I=A}if(R=I,r(O,A))return R;var L=p(A);return m!==void 0&&m(R,L)?(O=A,R):(O=A,I=L)}var k=!1,O,I,N=u===void 0?null:u;return[function(){return T(d())},N===null?void 0:function(){return T(N())}]},[d,u,p,m]);var w=i(c,v[0],v[1]);return a(function(){x.hasValue=!0,x.value=w},[w]),l(w),w},cL}var iK;function NZe(){return iK||(iK=1,lL.exports=OZe()),lL.exports}NZe();var MZe=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},DZe=({contentComponent:e})=>{const t=Rhe.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return g.jsx(g.Fragment,{children:Object.values(t)})};function RZe(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:yH.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}var IZe=class extends F.Component{constructor(e){var t;super(e),this.editorContentRef=F.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=RZe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:MZe(t,this.editorContentRef),...n}),e?.contentComponent&&g.jsx(DZe,{contentComponent:e.contentComponent})]})}},PZe=C.forwardRef((e,t)=>{const n=F.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return F.createElement(IZe,{key:n,innerRef:t,...e})});F.memo(PZe);var LZe=C.createContext({editor:null});LZe.Consumer;var Ihe=C.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Phe=()=>C.useContext(Ihe),jZe=F.forwardRef((e,t)=>{const{onDragStart:n}=Phe(),r=e.as||"div";return g.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function oK(e){return!!(typeof e=="function"&&e.prototype&&e.prototype.isReactComponent)}function aK(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.forward_ref)"||e.$$typeof.description==="react.forward_ref"))}function BZe(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.memo)"||e.$$typeof.description==="react.memo"))}function $Ze(e){if(oK(e)||aK(e))return!0;if(BZe(e)){const t=e.type;if(t)return oK(t)||aK(t)}return!1}function HZe(){try{if(C.version)return parseInt(C.version.split(".")[0],10)>=19}catch{}return!1}var FZe=class{constructor(e,{editor:t,props:n={},as:r="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?ka.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var e;const t=this.component,n=this.props,r=this.editor,i=HZe(),o=$Ze(t),a={...n};a.ref&&!(i||o)&&delete a.ref,!a.ref&&(i||o)&&(a.ref=s=>{this.ref=s}),this.reactElement=g.jsx(t,{...a}),(e=r?.contentComponent)==null||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t?.contentComponent)==null||e.removeRenderer(this.id);try{this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}catch{}}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}};F.createContext({markViewContentRef:()=>{}});var UZe=class extends aPe{constructor(e,t,n){if(super(e,t,n),!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const r=this.dom.querySelector("[data-node-view-content]");if(!r)return;r.appendChild(this.contentDOMElement)}}mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(l={})=>this.updateAttributes(l),deleteNode:()=>this.deleteNode(),ref:C.createRef()};if(!this.component.displayName){const l=c=>c.charAt(0).toUpperCase()+c.substring(1);this.component.displayName=l(this.extension.name)}const r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:l=>{l&&this.contentDOMElement&&l.firstChild!==this.contentDOMElement&&(l.hasAttribute("data-node-view-wrapper")&&l.removeAttribute("data-node-view-wrapper"),l.appendChild(this.contentDOMElement))}},i=this.component,o=C.memo(l=>g.jsx(Ihe.Provider,{value:r,children:C.createElement(i,l)}));o.displayName="ReactNodeView";let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);const{className:s=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new FZe(o,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${s}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!((e=this.renderer.element.firstElementChild)!=null&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,n=this.getPos();if(typeof n=="number")if(e<=n&&t>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,n){const r=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,o=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:e,newDecorations:t,oldInnerDecorations:a,innerDecorations:n,updateProps:()=>r({node:e,decorations:t,innerDecorations:n})})}return e===this.node&&this.decorations===t&&this.innerDecorations===n||(this.node=e,this.decorations=t,this.innerDecorations=n,r({node:e,decorations:t,innerDecorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,n=oC(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:n})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}};function zZe(e,t){return n=>n.editor.contentComponent?new UZe(e,n,t):{}}const Lhe=C.createContext(void 0);function Hd(e){return C.useContext(Lhe)}function Gt(e){const t=Hd();if(!(t!=null&&t.editor))throw new Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return t.editor}function n7(e,t,n){const r=Hd();t||(t=r?.editor),C.useEffect(()=>{if(!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return t.onSelectionChange(e,n)},[e,t,n])}function VZe(e,t){const n=Gt();t=t||n;const[r,i]=C.useState(()=>{if(e)return t.getSelectionBoundingBox()}),o=C.useCallback(()=>{if(!e)return;const a=t.getSelectionBoundingBox();i(a)},[t,e]);return n7(o,t,!0),C.useEffect(()=>{i(e?t.getSelectionBoundingBox():void 0)},[e,t]),r}function qZe(e){return e.getBoundingClientRect!==void 0}function gm(e,t,n,r){const{refs:i,update:o,context:a,floatingStyles:s,isPositioned:l}=e7({open:e,...r}),{isMounted:c,styles:d}=t7(a),u=typeof r?.canDismiss=="object"?r.canDismiss:{enabled:r?.canDismiss},p=SZe(a,u),{getReferenceProps:m,getFloatingProps:v}=TZe([p]);return C.useEffect(()=>{t!==null&&(t instanceof HTMLElement||qZe(t)?i.setReference(t):i.setReference({getBoundingClientRect:()=>t}),o())},[t,i,o]),C.useMemo(()=>({isMounted:c,ref:i.setFloating,setReference:i.setReference,style:{display:"flex",...d,...s,zIndex:n},getFloatingProps:v,getReferenceProps:m,isPositioned:l}),[l,s,c,i.setFloating,i.setReference,d,n,v,m])}function dh(e){const[t,n]=C.useState();return C.useEffect(()=>e(r=>{n({...r})}),[e]),t}const jhe=C.createContext(void 0);function Ut(){return C.useContext(jhe)}const r7=(e={},t=[])=>C.useMemo(()=>{const n=vhe.create(e);return window&&(window.ProseMirror=n._tiptapEditor),n},t);function gn(){return Hd().editor.dictionary}function uR(e,t){const n=Hd();t||(t=n?.editor),C.useEffect(()=>{if(!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return t.onChange(e)},[e,t])}const i7=e=>{const[t,n]=C.useState(!1),[r,i]=C.useState(e.editor.isEmpty),o=Ut();uR(()=>{i(e.editor.isEmpty)},e.editor);const a=C.useCallback(()=>{n(!0)},[]),s=C.useCallback(()=>{n(!1)},[]);return C.useEffect(()=>{e.editable&&e.autoFocus&&e.editor.focus()},[e.autoFocus,e.editable,e.editor]),g.jsxs(g.Fragment,{children:[g.jsx(o.Comments.Editor,{autoFocus:e.autoFocus,className:"bn-comment-editor",editor:e.editor,onFocus:a,onBlur:s,editable:e.editable}),e.actions&&g.jsx("div",{className:"bn-comment-actions-wrapper",children:g.jsx(e.actions,{isFocused:t,isEmpty:r})})]})},{textColor:VTt,backgroundColor:qTt,...WZe}=W9,o7=UD.create({blockSpecs:{paragraph:nce()},styleSpecs:WZe});function YZe(){const e=Gt();if(!e.comments)throw new Error("Comments plugin not found");const t=e.comments,n=Ut(),r=gn(),i=r7({trailingBlock:!1,dictionary:{...r,placeholders:{emptyDocument:r.placeholders.new_comment}},schema:e.comments.commentEditorSchema||o7});return g.jsx(n.Comments.Card,{className:"bn-thread",children:g.jsx(i7,{autoFocus:!0,editable:!0,editor:i,actions:({isEmpty:o})=>g.jsx(n.Generic.Toolbar.Root,{className:bi("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:g.jsx(n.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Save",variant:"compact",isDisabled:o,onClick:async()=>{await t.createThread({initialComment:{body:i.document}}),t.stopPendingComment()},children:"Save"})})})})}const GZe=e=>{const t=Gt();if(!t.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=t.comments;C.useEffect(()=>{const d=n.onUpdate(u=>t.setForceSelectionVisible(u.pendingComment));return()=>d()},[n,t]);const r=dh(n.onUpdate.bind(n)),i=VZe(r?.pendingComment),{isMounted:o,ref:a,style:s,getFloatingProps:l}=gm(r?.pendingComment||!1,i||null,5e3,{placement:"bottom",middleware:[sh(10),OT(),um()],onOpenChange:d=>{d||(n.stopPendingComment(),t.focus())},...e.floatingOptions});if(!o||!r)return null;const c=e.floatingComposer||YZe;return g.jsx("div",{ref:a,style:s,...l(),children:g.jsx(c,{})})};var Bhe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sK=F.createContext&&F.createContext(Bhe),KZe=["attr","size","title"];function XZe(e,t){if(e==null)return{};var n=ZZe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZZe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LN.apply(this,arguments)}function lK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lK(Object(n),!0).forEach(function(r){QZe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QZe(e,t,n){return t=JZe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JZe(e){var t=eQe(e,"string");return typeof t=="symbol"?t:t+""}function eQe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $he(e){return e&&e.map((t,n)=>F.createElement(t.tag,jN({key:n},t.attr),$he(t.child)))}function Kt(e){return t=>F.createElement(tQe,LN({attr:jN({},e.attr)},t),$he(e.child))}function tQe(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=XZe(e,KZe),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),F.createElement("svg",LN({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:jN(jN({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&F.createElement("title",null,o),e.children)};return sK!==void 0?F.createElement(sK.Consumer,null,n=>t(n)):t(Bhe)}function nQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(e)}function Hhe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"},child:[]}]})(e)}function rQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"},child:[]}]})(e)}function iQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z"},child:[]}]})(e)}function oQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"},child:[]}]})(e)}function aQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"},child:[]}]})(e)}function sQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"},child:[]}]})(e)}function lQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"},child:[]}]})(e)}function cQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"},child:[]}]})(e)}function uQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(e)}function dQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"},child:[]}]})(e)}function cK(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z"},child:[]}]})(e)}function BN(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"},child:[]}]})(e)}function $N(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"},child:[]}]})(e)}function HN(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(e)}function Fhe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM22 8V16H23.5V18H22V20H20V18H14.5V16.66L19.5 8H22ZM20 11.133L17.19 16H20V11.133Z"},child:[]}]})(e)}function Uhe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8V10H17.6769L17.2126 12.6358C17.5435 12.5472 17.8912 12.5 18.25 12.5C20.4591 12.5 22.25 14.2909 22.25 16.5C22.25 18.7091 20.4591 20.5 18.25 20.5C16.4233 20.5 14.8827 19.2756 14.4039 17.6027L16.3271 17.0519C16.5667 17.8881 17.3369 18.5 18.25 18.5C19.3546 18.5 20.25 17.6046 20.25 16.5C20.25 15.3954 19.3546 14.5 18.25 14.5C17.6194 14.5 17.057 14.7918 16.6904 15.2478L14.8803 14.3439L16 8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(e)}function zhe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21.097 8L18.499 12.5C20.7091 12.5 22.5 14.2909 22.5 16.5C22.5 18.7091 20.7091 20.5 18.5 20.5C16.2909 20.5 14.5 18.7091 14.5 16.5C14.5 15.7636 14.699 15.0737 15.0461 14.4811L18.788 8H21.097ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 14.5C17.3954 14.5 16.5 15.3954 16.5 16.5C16.5 17.6046 17.3954 18.5 18.5 18.5C19.6046 18.5 20.5 17.6046 20.5 16.5C20.5 15.3954 19.6046 14.5 18.5 14.5Z"},child:[]}]})(e)}function fQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"},child:[]}]})(e)}function hQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"},child:[]}]})(e)}function uK(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z"},child:[]}]})(e)}function pQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"},child:[]}]})(e)}function mQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"},child:[]}]})(e)}function Vhe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z"},child:[]}]})(e)}function qhe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(e)}function Whe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function Yhe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function gQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"},child:[]}]})(e)}function yQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"},child:[]}]})(e)}function Ghe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4H3V6H21V4ZM21 11H8V13H21V11ZM21 18H8V20H21V18ZM5 11H3V20H5V11Z"},child:[]}]})(e)}function bQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"},child:[]}]})(e)}function vQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(e)}function a7(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(e)}function xQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"},child:[]}]})(e)}function wQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(e)}function EQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"},child:[]}]})(e)}function SQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(e)}function CQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(e)}function Khe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 18V20H2V18H22ZM2 3.5L10 8.5L2 13.5V3.5ZM22 11V13H12V11H22ZM22 4V6H12V4H22Z"},child:[]}]})(e)}function TQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"},child:[]}]})(e)}function kQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(e)}function _Qe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(e)}function AQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(e)}function OQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"},child:[]}]})(e)}function NQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z"},child:[]}]})(e)}function MQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"},child:[]}]})(e)}function DQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(e)}function RQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11V13H19V11H5Z"},child:[]}]})(e)}function IQe(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM8 13C8 15.2091 9.79086 17 12 17C14.2091 17 16 15.2091 16 13H8ZM8 11C8.82843 11 9.5 10.3284 9.5 9.5C9.5 8.67157 8.82843 8 8 8C7.17157 8 6.5 8.67157 6.5 9.5C6.5 10.3284 7.17157 11 8 11ZM16 11C16.8284 11 17.5 10.3284 17.5 9.5C17.5 8.67157 16.8284 8 16 8C15.1716 8 14.5 8.67157 14.5 9.5C14.5 10.3284 15.1716 11 16 11Z"},child:[]}]})(e)}function dK(e){return Kt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"},child:[]}]})(e)}let uL;async function PQe(){return uL||(uL=(async()=>{const[e,t]=await Promise.all([wO(()=>import("./module-RjUF93sV.js"),[]),wO(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in e?e.default:e,r="default"in t?t.default:t;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),uL)}function LQe(e){const t=C.useRef(null),n=C.useRef(null);return n.current&&n.current.update(e),C.useEffect(()=>((async()=>{const{emojiMart:r}=await PQe();n.current=new r.Picker({...e,ref:t})})(),()=>{n.current=null}),[]),F.createElement("div",{ref:t})}const fK=e=>{const[t,n]=C.useState(!1),r=Ut(),i=Gt(),o=Hd();return g.jsxs(r.Generic.Popover.Root,{opened:t,children:[g.jsx(r.Generic.Popover.Trigger,{children:g.jsx("div",{onClick:a=>{var s;a.preventDefault(),a.stopPropagation(),n(!t),(s=e.onOpenChange)==null||s.call(e,!t)},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.children})}),ka.createPortal(g.jsx(r.Generic.Popover.Content,{className:"bn-emoji-picker-popover",variant:"panel-popover",children:g.jsx(LQe,{perLine:7,onClickOutside:()=>{var a;n(!1),(a=e.onOpenChange)==null||a.call(e,!1)},onEmojiSelect:a=>{var s;e.onEmojiSelect(a),n(!1),(s=e.onOpenChange)==null||s.call(e,!1)},theme:o?.colorSchemePreference})}),i.domElement.parentElement)]})};function jQe(e,t){return s7(e,[t]).get(t)}function s7(e,t){const n=e.comments;if(!n)throw new Error("Comments plugin not found");const r=n.userStore,i=C.useCallback(()=>{const s=new Map;for(const l of t){const c=r.getUser(l);c&&s.set(l,c)}return s},[r,t]),o=C.useMemo(()=>({current:i()}),[i]),a=C.useCallback(s=>{const l=r.subscribe(c=>{o.current=i(),s()});return r.loadUsers(t),l},[r,i,t,o]);return C.useSyncExternalStore(a,()=>o.current)}const BQe=e=>{const t=Ut(),n=gn(),r=Gt();if(!r.comments)throw new Error("ReactionBadge must be used inside a BlockNote editor with comments enabled");const i=e.comment.reactions.find(l=>l.emoji===e.emoji);if(!i)throw new Error("Trying to render reaction badge for non-existing reaction");const[o,a]=C.useState([]),s=s7(r,o);return g.jsx(t.Generic.Badge.Root,{className:bi("bn-badge","bn-comment-reaction"),text:i.userIds.length.toString(),icon:i.emoji,isSelected:r.comments.threadStore.auth.canDeleteReaction(e.comment,i.emoji),onClick:()=>e.onReactionSelect(i.emoji),onMouseEnter:()=>a(i.userIds),mainTooltip:n.comments.reactions.reacted_by,secondaryTooltip:`${Array.from(s.values()).map(l=>l.username).join(`
`)}`},i.emoji)},$Qe=({comment:e,thread:t,showResolveButton:n})=>{const r=Gt();if(!r.comments)throw new Error("Comments plugin not found");const i=gn(),o=r7({initialContent:e.body,trailingBlock:!1,dictionary:{...i,placeholders:{emptyDocument:i.placeholders.edit_comment}},schema:r.comments.commentEditorSchema||o7}),a=Ut(),[s,l]=C.useState(!1),[c,d]=C.useState(!1);if(!r.comments)throw new Error("Comments plugin not found");const u=r.comments.threadStore,p=C.useCallback(()=>{l(!0)},[]),m=C.useCallback(()=>{o.replaceBlocks(o.document,e.body),l(!1)},[o,e.body]),v=C.useCallback(async $=>{await u.updateComment({commentId:e.id,comment:{body:o.document},threadId:t.id}),l(!1)},[e,t.id,o,u]),x=C.useCallback(async()=>{await u.deleteComment({commentId:e.id,threadId:t.id})},[e,t.id,u]),w=C.useCallback(async $=>{u.auth.canAddReaction(e,$)?await u.addReaction({threadId:t.id,commentId:e.id,emoji:$}):u.auth.canDeleteReaction(e,$)&&await u.deleteReaction({threadId:t.id,commentId:e.id,emoji:$})},[u,e,t.id]),T=C.useCallback(async()=>{await u.resolveThread({threadId:t.id})},[t.id,u]),k=C.useCallback(async()=>{await u.unresolveThread({threadId:t.id})},[t.id,u]),O=jQe(r,e.userId);if(!e.body)return null;let I;const N=u.auth.canAddReaction(e),A=u.auth.canDeleteComment(e),R=u.auth.canUpdateComment(e),L=n&&(t.resolved?u.auth.canUnresolveThread(t):u.auth.canResolveThread(t));s||(I=g.jsxs(a.Generic.Toolbar.Root,{className:bi("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:[N&&g.jsx(fK,{onEmojiSelect:$=>w($.native),onOpenChange:d,children:g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.actions.add_reaction,variant:"compact",children:g.jsx(dK,{size:16})},"add-reaction")}),L&&(t.resolved?g.jsx(a.Generic.Toolbar.Button,{mainTooltip:"Re-open",variant:"compact",onClick:k,children:g.jsx(nQe,{size:16})},"reopen"):g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.actions.resolve,variant:"compact",onClick:T,children:g.jsx(_Qe,{size:16})},"resolve")),(A||R)&&g.jsxs(a.Generic.Menu.Root,{position:"bottom-start",children:[g.jsx(a.Generic.Menu.Trigger,{children:g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.actions.more_actions,variant:"compact",children:g.jsx(DQe,{size:16})},"more-actions")}),g.jsxs(a.Generic.Menu.Dropdown,{className:"bn-menu-dropdown",children:[R&&g.jsx(a.Generic.Menu.Item,{icon:g.jsx(rQe,{}),onClick:p,children:i.comments.actions.edit_comment},"edit-comment"),A&&g.jsx(a.Generic.Menu.Item,{icon:g.jsx(OQe,{}),onClick:x,children:i.comments.actions.delete_comment},"delete-comment")]})]})]}));const B=e.createdAt.toLocaleDateString(void 0,{month:"short",day:"numeric"});if(!e.body)throw new Error("soft deletes are not yet supported");return g.jsx(a.Comments.Comment,{authorInfo:O??"loading",timeString:B,edited:e.updatedAt.getTime()!==e.createdAt.getTime(),showActions:"hover",actions:I,className:"bn-thread-comment",emojiPickerOpen:c,children:g.jsx(i7,{autoFocus:s,editor:o,editable:s,actions:e.reactions.length>0||s?({isEmpty:$})=>g.jsxs(g.Fragment,{children:[e.reactions.length>0&&!s&&g.jsxs(a.Generic.Badge.Group,{className:bi("bn-badge-group","bn-comment-reactions"),children:[e.reactions.map(q=>g.jsx(BQe,{comment:e,emoji:q.emoji,onReactionSelect:w},q.emoji)),N&&g.jsx(fK,{onEmojiSelect:q=>w(q.native),onOpenChange:d,children:g.jsx(a.Generic.Badge.Root,{className:bi("bn-badge","bn-comment-add-reaction"),text:"+",icon:g.jsx(dK,{size:16}),mainTooltip:i.comments.actions.add_reaction})})]}),s&&g.jsxs(a.Generic.Toolbar.Root,{variant:"action-toolbar",className:bi("bn-action-toolbar","bn-comment-actions"),children:[g.jsx(a.Generic.Toolbar.Button,{mainTooltip:i.comments.save_button_text,variant:"compact",onClick:v,isDisabled:$,children:i.comments.save_button_text}),g.jsx(a.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:i.comments.cancel_button_text,variant:"compact",onClick:m,children:i.comments.cancel_button_text})]})]}):void 0})})},HQe=({thread:e,maxCommentsBeforeCollapse:t})=>{const n=Ut(),r=gn(),i=Gt(),o=s7(i,e.resolvedBy?[e.resolvedBy]:[]),a=e.comments.map((s,l)=>g.jsx($Qe,{thread:e,comment:s,showResolveButton:l===0},s.id+JSON.stringify(s.body||"{}")));if(e.resolved&&e.resolvedUpdatedAt&&e.resolvedBy){if(!o.get(e.resolvedBy))throw new Error(`User ${e.resolvedBy} resolved thread ${e.id}, but their data could not be found.`);const s=e.comments.findLastIndex(l=>e.resolvedUpdatedAt.getTime()>l.createdAt.getTime())+1;a.splice(s,0,g.jsx(n.Comments.Comment,{className:"bn-thread-comment",authorInfo:e.resolvedBy&&o.get(e.resolvedBy)||"loading",timeString:e.resolvedUpdatedAt.toLocaleDateString(void 0,{month:"short",day:"numeric"}),edited:!1,showActions:!1,children:g.jsx("div",{className:"bn-resolved-text",children:r.comments.sidebar.marked_as_resolved})},"resolved-comment"))}return t&&a.length>t&&a.splice(1,a.length-2,g.jsx(n.Comments.ExpandSectionsPrompt,{className:"bn-thread-expand-prompt",children:r.comments.sidebar.more_replies(e.comments.length-2)},"expand-prompt")),a},Xhe=({thread:e,selected:t,referenceText:n,maxCommentsBeforeCollapse:r,onFocus:i,onBlur:o,tabIndex:a})=>{const s=Ut(),l=gn(),c=Gt(),d=c.comments;if(!d)throw new Error("Comments plugin not found");const u=r7({trailingBlock:!1,dictionary:{...l,placeholders:{emptyDocument:l.placeholders.comment_reply}},schema:c.comments.commentEditorSchema||o7}),p=C.useCallback(async()=>{await d.threadStore.addComment({comment:{body:u.document},threadId:e.id}),u.removeBlocks(u.document)},[d,u,e.id]);return g.jsxs(s.Comments.Card,{className:"bn-thread",headerText:n,onFocus:i,onBlur:o,selected:t,tabIndex:a,children:[g.jsx(s.Comments.CardSection,{className:"bn-thread-comments",children:g.jsx(HQe,{thread:e,maxCommentsBeforeCollapse:t?void 0:r||5})}),t&&g.jsx(s.Comments.CardSection,{className:"bn-thread-composer",children:g.jsx(i7,{autoFocus:!1,editable:!0,editor:u,actions:({isEmpty:m})=>m?null:g.jsx(s.Generic.Toolbar.Root,{variant:"action-toolbar",className:bi("bn-action-toolbar","bn-comment-actions"),children:g.jsx(s.Generic.Toolbar.Button,{mainTooltip:l.comments.save_button_text,variant:"compact",isDisabled:m,onClick:p,children:l.comments.save_button_text})})})})]})};function FQe(e){const t=e.comments;if(!t)throw new Error("Comments plugin not found");const n=t.threadStore,r=C.useRef(void 0);r.current||(r.current=n.getThreads());const i=C.useCallback(o=>n.subscribe(a=>{r.current=a,o()}),[n]);return C.useSyncExternalStore(i,()=>r.current)}const UQe=e=>{const t=Gt();if(!t.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=dh(t.comments.onUpdate.bind(t.comments)),{isMounted:r,ref:i,style:o,getFloatingProps:a,setReference:s}=gm(!!(n!=null&&n.selectedThreadId),null,5e3,{placement:"bottom",middleware:[sh(10),OT(),um()],onOpenChange:u=>{var p;u||((p=t.comments)==null||p.selectThread(void 0),t.focus())},whileElementsMounted:Xoe,...e.floatingOptions}),l=C.useCallback(()=>{var u;if(!(n!=null&&n.selectedThreadId))return;const p=(u=t.domElement)==null?void 0:u.querySelector(`[data-bn-thread-id="${n?.selectedThreadId}"]`);p&&s(p)},[s,t,n?.selectedThreadId]);C.useEffect(()=>{if(n!=null&&n.selectedThreadId)return t.onChange(()=>{l()})},[t,l,n?.selectedThreadId]),C.useLayoutEffect(l,[l]);const c=FQe(t);if(!r||!n||!n.selectedThreadId)return null;const d=e.floatingThread||Xhe;return g.jsx("div",{ref:i,style:o,...a(),children:g.jsx(d,{thread:c.get(n.selectedThreadId),selected:!0})})},zQe=e=>{const t=Ut(),n=gn(),{block:r}=e,i=Gt(),[o,a]=C.useState(""),s=C.useCallback(d=>{a(d.currentTarget.value)},[]),l=C.useCallback(d=>{d.key==="Enter"&&(d.preventDefault(),i.updateBlock(r,{props:{name:fW(o),url:o}}))},[i,r,o]),c=C.useCallback(()=>{i.updateBlock(r,{props:{name:fW(o),url:o}})},[i,r,o]);return g.jsxs(t.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(t.FilePanel.TextInput,{className:"bn-text-input",placeholder:n.file_panel.embed.url_placeholder,value:o,onChange:s,onKeyDown:l,"data-test":"embed-input"}),g.jsx(t.FilePanel.Button,{className:"bn-button",onClick:c,"data-test":"embed-input-button",children:n.file_panel.embed.embed_button[r.type]||n.file_panel.embed.embed_button.file})]})},VQe=e=>{var t,n;const r=Ut(),i=gn(),{block:o,setLoading:a}=e,s=Gt(),[l,c]=C.useState(!1);C.useEffect(()=>{l&&setTimeout(()=>{c(!1)},3e3)},[l]);const d=C.useCallback(m=>{if(m===null)return;async function v(x){if(a(!0),s.uploadFile!==void 0)try{let w=await s.uploadFile(x,o.id);typeof w=="string"&&(w={props:{name:x.name,url:w}}),s.updateBlock(o,w)}catch{c(!0)}finally{a(!1)}}v(m)},[o,s,a]),u=s.schema.blockSpecs[o.type],p=(n=(t=u.implementation.meta)==null?void 0:t.fileBlockAccept)!=null&&n.length?u.implementation.meta.fileBlockAccept.join(","):"*/*";return g.jsxs(r.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(r.FilePanel.FileInput,{className:"bn-file-input","data-test":"upload-input",accept:p,placeholder:i.file_panel.upload.file_placeholder[o.type]||i.file_panel.upload.file_placeholder.file,value:null,onChange:d}),l&&g.jsx("div",{className:"bn-error-text",children:i.file_panel.upload.upload_error})]})},Zhe=e=>{const t=Ut(),n=gn(),r=Gt(),[i,o]=C.useState(!1),a=e.tabs??[...r.uploadFile!==void 0?[{name:n.file_panel.upload.title,tabPanel:g.jsx(VQe,{block:e.block,setLoading:o})}]:[],{name:n.file_panel.embed.title,tabPanel:g.jsx(zQe,{block:e.block})}],[s,l]=C.useState(e.defaultOpenTab||a[0].name);return g.jsx(t.FilePanel.Root,{className:"bn-panel",defaultOpenTab:s,openTab:s,setOpenTab:l,tabs:a,loading:i})},qQe=e=>{const t=Gt();if(!t.filePanel)throw new Error("FileToolbarController can only be used when BlockNote editor schema contains file block");const n=dh(t.filePanel.onUpdate.bind(t.filePanel)),{isMounted:r,ref:i,style:o,getFloatingProps:a}=gm(n?.show||!1,n?.referencePos||null,5e3,{placement:"bottom",middleware:[sh(10),um()],onOpenChange:u=>{u||(t.filePanel.closeMenu(),t.focus())},...e.floatingOptions});if(!r||!n)return null;const{show:s,referencePos:l,...c}=n,d=e.filePanel||Zhe;return g.jsx("div",{ref:i,style:o,...a(),children:g.jsx(d,{...c})})};function WQe(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function cy(e,t){uR(e,t),n7(e,t)}function dR(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Ys(e){const t=Hd();if(e||(e=t?.editor),!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");const n=e,[r,i]=C.useState(()=>{var a;return((a=n.getSelection())==null?void 0:a.blocks)||[n.getTextCursorPosition().block]}),o=C.useCallback(()=>{var a;return i(((a=n.getSelection())==null?void 0:a.blocks)||[n.getTextCursorPosition().block])},[n]);return cy(o,n),r}const YQe={bold:uQe,italic:pQe,underline:xQe,strike:bQe,code:iQe};function GQe(e,t){return e in t.schema.styleSchema&&t.schema.styleSchema[e].type===e&&t.schema.styleSchema[e].propSchema==="boolean"}const EA=e=>{const t=gn(),n=Ut(),r=Gt(),i=GQe(e.basicTextStyle,r),o=Ys(r),[a,s]=C.useState(e.basicTextStyle in r.getActiveStyles());cy(()=>{i&&s(e.basicTextStyle in r.getActiveStyles())},r);const l=d=>{if(r.focus(),!!i){if(r.schema.styleSchema[d].propSchema!=="boolean")throw new Error("can only toggle boolean styles");r.toggleStyles({[d]:!0})}};if(!C.useMemo(()=>i?!!o.find(d=>d.content!==void 0):!1,[i,o])||!r.isEditable)return null;const c=YQe[e.basicTextStyle];return g.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":e.basicTextStyle,onClick:()=>l(e.basicTextStyle),isSelected:a,label:t.formatting_toolbar[e.basicTextStyle].tooltip,mainTooltip:t.formatting_toolbar[e.basicTextStyle].tooltip,secondaryTooltip:bl(t.formatting_toolbar[e.basicTextStyle].secondary_tooltip,t.generic.ctrl_shortcut),icon:g.jsx(c,{})})},C8=e=>{const t=e.textColor||"default",n=e.backgroundColor||"default",r=e.size||16,i=C.useMemo(()=>({pointerEvents:"none",fontSize:(r*.75).toString()+"px",height:r.toString()+"px",lineHeight:r.toString()+"px",textAlign:"center",width:r.toString()+"px"}),[r]);return g.jsx("div",{className:"bn-color-icon","data-background-color":n,"data-text-color":t,style:i,children:"A"})},hK=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],fR=e=>{const t=Ut(),n=gn();return g.jsxs(g.Fragment,{children:[g.jsx(()=>e.text?g.jsxs(g.Fragment,{children:[g.jsx(t.Generic.Menu.Label,{children:n.color_picker.text_title}),hK.map(r=>g.jsx(t.Generic.Menu.Item,{onClick:()=>{e.onClick&&e.onClick(),e.text.setColor(r)},"data-test":"text-color-"+r,icon:g.jsx(C8,{textColor:r,size:e.iconSize}),checked:e.text.color===r,children:n.color_picker.colors[r]},"text-color-"+r))]}):null,{}),g.jsx(()=>e.background?g.jsxs(g.Fragment,{children:[g.jsx(t.Generic.Menu.Label,{children:n.color_picker.background_title}),hK.map(r=>g.jsx(t.Generic.Menu.Item,{onClick:()=>{e.onClick&&e.onClick(),e.background.setColor(r)},"data-test":"background-color-"+r,icon:g.jsx(C8,{backgroundColor:r,size:e.iconSize}),checked:e.background.color===r,children:n.color_picker.colors[r]},"background-color-"+r))]}):null,{})]})};function pK(e,t){return`${e}Color`in t.schema.styleSchema&&t.schema.styleSchema[`${e}Color`].type===`${e}Color`&&t.schema.styleSchema[`${e}Color`].propSchema==="string"}const KQe=()=>{const e=Ut(),t=gn(),n=Gt(),r=pK("text",n),i=pK("background",n),o=Ys(n),[a,s]=C.useState(r&&n.getActiveStyles().textColor||"default"),[l,c]=C.useState(i&&n.getActiveStyles().backgroundColor||"default");cy(()=>{r&&s(n.getActiveStyles().textColor||"default"),i&&c(n.getActiveStyles().backgroundColor||"default")},n);const d=C.useCallback(p=>{if(!r)throw Error("Tried to set text color, but style does not exist in editor schema.");p==="default"?n.removeStyles({textColor:p}):n.addStyles({textColor:p}),setTimeout(()=>{n.focus()})},[n,r]),u=C.useCallback(p=>{if(!i)throw Error("Tried to set background color, but style does not exist in editor schema.");p==="default"?n.removeStyles({backgroundColor:p}):n.addStyles({backgroundColor:p}),setTimeout(()=>{n.focus()})},[i,n]);return!C.useMemo(()=>{if(!r&&!i)return!1;for(const p of o)if(p.content!==void 0)return!0;return!1},[i,o,r])||!n.isEditable?null:g.jsxs(e.Generic.Menu.Root,{children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"colors",label:t.formatting_toolbar.colors.tooltip,mainTooltip:t.formatting_toolbar.colors.tooltip,icon:g.jsx(C8,{textColor:a,backgroundColor:l,size:20})})}),g.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(fR,{text:r?{color:a,setColor:d}:void 0,background:i?{color:l,setColor:u}:void 0})})]})},mK=e=>{for(const t of ahe)if(e.startsWith(t))return e;return`${she}://${e}`},Qhe=e=>{const t=Ut(),n=gn(),{url:r,text:i,editLink:o,showTextField:a}=e,[s,l]=C.useState(r),[c,d]=C.useState(i);C.useEffect(()=>{l(r),d(i)},[i,r]);const u=C.useCallback(x=>{x.key==="Enter"&&(x.preventDefault(),o(mK(s),c))},[o,s,c]),p=C.useCallback(x=>l(x.currentTarget.value),[]),m=C.useCallback(x=>d(x.currentTarget.value),[]),v=C.useCallback(()=>o(mK(s),c),[o,s,c]);return g.jsxs(t.Generic.Form.Root,{children:[g.jsx(t.Generic.Form.TextInput,{className:"bn-text-input",name:"url",icon:g.jsx(Vhe,{}),autoFocus:!0,placeholder:n.link_toolbar.form.url_placeholder,value:s,onKeyDown:u,onChange:p,onSubmit:v}),a!==!1&&g.jsx(t.Generic.Form.TextInput,{className:"bn-text-input",name:"title",icon:g.jsx(a7,{}),placeholder:n.link_toolbar.form.title_placeholder,value:c,onKeyDown:u,onChange:m,onSubmit:v})]})};function XQe(e){return"link"in e.schema.inlineContentSchema&&e.schema.inlineContentSchema.link==="link"}const ZQe=()=>{const e=Gt(),t=Ut(),n=gn(),r=XQe(e),i=Ys(e),[o,a]=C.useState(!1),[s,l]=C.useState(e.getSelectedLinkUrl()||""),[c,d]=C.useState(e.getSelectedText());cy(()=>{d(e.getSelectedText()||""),l(e.getSelectedLinkUrl()||"")},e),C.useEffect(()=>{const m=v=>{(v.ctrlKey||v.metaKey)&&v.key==="k"&&(a(!0),v.preventDefault())};if(!e.headless)return e.prosemirrorView.dom.addEventListener("keydown",m),()=>{e.prosemirrorView.dom.removeEventListener("keydown",m)}},[e.prosemirrorView,e.headless]);const u=C.useCallback(m=>{e.createLink(m),a(!1),e.focus()},[e]),p=e.transact(m=>kB(m.selection));return!C.useMemo(()=>{if(!r)return!1;for(const m of i)if(m.content===void 0)return!1;return!p},[r,i,p])||!("link"in e.schema.inlineContentSchema)||!e.isEditable?null:g.jsxs(t.Generic.Popover.Root,{opened:o,children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"createLink",label:n.formatting_toolbar.link.tooltip,mainTooltip:n.formatting_toolbar.link.tooltip,secondaryTooltip:bl(n.formatting_toolbar.link.secondary_tooltip,n.generic.ctrl_shortcut),icon:g.jsx(Vhe,{}),onClick:()=>a(!0)})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(Qhe,{url:s,text:c,editLink:u,showTextField:!1})})]})},QQe=()=>{const e=gn(),t=Ut(),n=Gt(),[r,i]=C.useState(),o=Ys(n),a=C.useMemo(()=>{if(o.length!==1)return;const c=o[0];if(_l(c,n,c.type,{url:"string",caption:"string"}))return i(c.props.caption),c},[n,o]),s=C.useCallback(c=>{a&&Zr(n,a.type,{caption:"string"})&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(a,{props:{caption:r}}))},[r,n,a]),l=C.useCallback(c=>i(c.currentTarget.value),[]);return!a||a.props.url===""||!n.isEditable?null:g.jsxs(t.Generic.Popover.Root,{children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_caption.tooltip,mainTooltip:e.formatting_toolbar.file_caption.tooltip,icon:g.jsx(uK,{}),isSelected:a.props.caption!==""})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(t.Generic.Form.Root,{children:g.jsx(t.Generic.Form.TextInput,{name:"file-caption",icon:g.jsx(uK,{}),value:r||"",autoFocus:!0,placeholder:e.formatting_toolbar.file_caption.input_placeholder,onKeyDown:s,onChange:l})})})]})},JQe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),i=C.useMemo(()=>{if(r.length!==1)return;const a=r[0];if(_l(a,n,a.type,{url:"string"}))return a},[n,r]),o=C.useCallback(()=>{n.focus(),n.removeBlocks([i])},[n,i]);return!i||i.props.url===""||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_delete.tooltip[i.type]||e.formatting_toolbar.file_delete.tooltip.file,mainTooltip:e.formatting_toolbar.file_delete.tooltip[i.type]||e.formatting_toolbar.file_delete.tooltip.file,icon:g.jsx(AQe,{}),onClick:o})},eJe=()=>{const e=gn(),t=Ut(),n=Gt(),[r,i]=C.useState(),o=Ys(n),a=C.useMemo(()=>{if(o.length!==1)return;const c=o[0];if(_l(c,n,c.type,{url:"string",name:"string"}))return i(c.props.name),c},[n,o]),s=C.useCallback(c=>{a&&Zr(n,a.type,{name:"string"})&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(a,{props:{name:r}}))},[r,n,a]),l=C.useCallback(c=>i(c.currentTarget.value),[]);return!a||a.props.name===""||!n.isEditable?null:g.jsxs(t.Generic.Popover.Root,{children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_rename.tooltip[a.type]||e.formatting_toolbar.file_rename.tooltip.file,mainTooltip:e.formatting_toolbar.file_rename.tooltip[a.type]||e.formatting_toolbar.file_rename.tooltip.file,icon:g.jsx(cK,{})})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(t.Generic.Form.Root,{children:g.jsx(t.Generic.Form.TextInput,{name:"file-name",icon:g.jsx(cK,{}),value:r||"",autoFocus:!0,placeholder:e.formatting_toolbar.file_rename.input_placeholder[a.type]||e.formatting_toolbar.file_rename.input_placeholder.file,onKeyDown:s,onChange:l})})})]})},tJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),[i,o]=C.useState(!1);C.useEffect(()=>{o(!1)},[r]);const a=r.length===1?r[0]:void 0;return a===void 0||!_l(a,n,a.type,{url:"string"})||!n.isEditable?null:g.jsxs(t.Generic.Popover.Root,{opened:i,position:"bottom",children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",onClick:()=>o(!i),isSelected:i,mainTooltip:e.formatting_toolbar.file_replace.tooltip[a.type]||e.formatting_toolbar.file_replace.tooltip.file,label:e.formatting_toolbar.file_replace.tooltip[a.type]||e.formatting_toolbar.file_replace.tooltip.file,icon:g.jsx(CQe,{})})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-panel-popover",variant:"panel-popover",children:g.jsx(Zhe,{block:a})})]})},nJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),[i,o]=C.useState(()=>n.canNestBlock());cy(()=>{o(n.canNestBlock())},n);const a=C.useCallback(()=>{n.focus(),n.nestBlock()},[n]);return!C.useMemo(()=>!r.find(s=>n.schema.blockSchema[s.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"nestBlock",onClick:a,isDisabled:!i,label:e.formatting_toolbar.nest.tooltip,mainTooltip:e.formatting_toolbar.nest.tooltip,secondaryTooltip:bl(e.formatting_toolbar.nest.secondary_tooltip,e.generic.ctrl_shortcut),icon:g.jsx(hQe,{})})},rJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),[i,o]=C.useState(()=>n.canUnnestBlock());cy(()=>{o(n.canUnnestBlock())},n);const a=C.useCallback(()=>{n.focus(),n.unnestBlock()},[n]);return!C.useMemo(()=>!r.find(s=>n.schema.blockSchema[s.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"unnestBlock",onClick:a,isDisabled:!i,label:e.formatting_toolbar.unnest.tooltip,mainTooltip:e.formatting_toolbar.unnest.tooltip,secondaryTooltip:bl(e.formatting_toolbar.unnest.secondary_tooltip,e.generic.ctrl_shortcut),icon:g.jsx(fQe,{})})},iJe=e=>[{name:e.slash_menu.paragraph.title,type:"paragraph",icon:a7},{name:e.slash_menu.heading.title,type:"heading",props:{level:1,isToggleable:!1},icon:BN},{name:e.slash_menu.heading_2.title,type:"heading",props:{level:2,isToggleable:!1},icon:$N},{name:e.slash_menu.heading_3.title,type:"heading",props:{level:3,isToggleable:!1},icon:HN},{name:e.slash_menu.heading_4.title,type:"heading",props:{level:4,isToggleable:!1},icon:Fhe},{name:e.slash_menu.heading_5.title,type:"heading",props:{level:5,isToggleable:!1},icon:Uhe},{name:e.slash_menu.heading_6.title,type:"heading",props:{level:6,isToggleable:!1},icon:zhe},{name:e.slash_menu.toggle_heading.title,type:"heading",props:{level:1,isToggleable:!0},icon:BN},{name:e.slash_menu.toggle_heading_2.title,type:"heading",props:{level:2,isToggleable:!0},icon:$N},{name:e.slash_menu.toggle_heading_3.title,type:"heading",props:{level:3,isToggleable:!0},icon:HN},{name:e.slash_menu.quote.title,type:"quote",icon:Ghe},{name:e.slash_menu.toggle_list.title,type:"toggleListItem",icon:Khe},{name:e.slash_menu.bullet_list.title,type:"bulletListItem",icon:Yhe},{name:e.slash_menu.numbered_list.title,type:"numberedListItem",icon:Whe},{name:e.slash_menu.check_list.title,type:"checkListItem",icon:qhe}],oJe=e=>{const t=Ut(),n=Gt(),r=Ys(n),i=r[0],o=C.useMemo(()=>(e.items||iJe(n.dictionary)).filter(s=>Zr(n,s.type,Object.fromEntries(Object.entries(s.props||{}).map(([l,c])=>[l,typeof c])))),[n,e.items]),a=C.useMemo(()=>o.map(s=>{const l=s.icon,c=s.type===i.type,d=Object.entries(s.props||{}).filter(([u,p])=>p!==i.props[u]).length===0;return{text:s.name,icon:g.jsx(l,{size:16}),onClick:()=>{n.focus(),n.transact(()=>{for(const u of r)n.updateBlock(u,{type:s.type,props:s.props})})},isSelected:c&&d}}),[n,o,i.props,i.type,r]);return!C.useMemo(()=>a.find(s=>s.isSelected)!==void 0,[a])||!n.isEditable?null:g.jsx(t.FormattingToolbar.Select,{className:"bn-select",items:a})},aJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=C.useCallback(()=>{var i;(i=n.comments)==null||i.startPendingComment(),n.formattingToolbar.closeMenu()},[n]);return n.comments?g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.comment.tooltip,mainTooltip:e.formatting_toolbar.comment.tooltip,icon:g.jsx(Hhe,{}),onClick:r}):null},sJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=C.useCallback(()=>{n._tiptapEditor.chain().focus().addPendingComment().run()},[n]);return!n._tiptapEditor.commands.addPendingComment||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.comment.tooltip,mainTooltip:e.formatting_toolbar.comment.tooltip,icon:g.jsx(Hhe,{}),onClick:r})};function T8(e,t){try{const n=new URL(e,t);if(n.protocol!=="javascript:")return n.href}catch{}return"#"}const lJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),i=C.useMemo(()=>{if(r.length!==1)return;const a=r[0];if(_l(a,n,a.type,{url:"string"}))return a},[n,r]),o=C.useCallback(()=>{i&&i.props.url&&(n.focus(),n.resolveFileUrl?n.resolveFileUrl(i.props.url).then(a=>window.open(T8(a,window.location.href))):window.open(T8(i.props.url,window.location.href)))},[n,i]);return!i||i.props.url===""?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_download.tooltip[i.type]||e.formatting_toolbar.file_download.tooltip.file,mainTooltip:e.formatting_toolbar.file_download.tooltip[i.type]||e.formatting_toolbar.file_download.tooltip.file,icon:g.jsx(NQe,{}),onClick:o})},cJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),i=C.useMemo(()=>{if(r.length!==1)return;const a=r[0];if(_l(a,n,a.type,{url:"string",showPreview:"boolean"}))return a},[n,r]),o=C.useCallback(()=>{i&&Zr(n,i.type,{showPreview:"boolean"})&&n.updateBlock(i,{props:{showPreview:!i.props.showPreview}})},[n,i]);return!i||i.props.url===""||!n.isEditable?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:"Toggle preview",mainTooltip:e.formatting_toolbar.file_preview_toggle.tooltip,icon:g.jsx(SQe,{}),isSelected:i.props.showPreview,onClick:o})},uJe=()=>{const e=gn(),t=Ut(),n=Gt(),r=Ys(n),i=C.useMemo(()=>{var a;if(r.length!==1)return;const s=r[0];if(s.type==="table")return(a=n.tableHandles)==null?void 0:a.getMergeDirection(s)},[n,r]),o=C.useCallback(()=>{var a;(a=n.tableHandles)==null||a.mergeCells()},[n]);return!n.isEditable||i===void 0||!n.settings.tables.splitCells?null:g.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.table_cell_merge.tooltip,mainTooltip:e.formatting_toolbar.table_cell_merge.tooltip,icon:i==="horizontal"?g.jsx(gQe,{}):g.jsx(yQe,{}),onClick:o})},dJe={left:lQe,center:aQe,right:cQe,justify:sQe},dL=e=>{const t=Ut(),n=gn(),r=Gt(),i=Ys(r),o=C.useMemo(()=>{var l;const c=i[0];if(_l(c,r,c.type,{textAlignment:cr.textAlignment}))return c.props.textAlignment;if(c.type==="table"){const d=(l=r.tableHandles)==null?void 0:l.getCellSelection();if(!d)return;const u=d.cells.map(({row:m,col:v})=>tm(c.content.rows[m].cells[v]).props.textAlignment),p=u[0];if(u.every(m=>m===p))return p}},[r,i]),a=C.useCallback(l=>{var c;r.focus();for(const d of i)if(_l(d,r,d.type,{textAlignment:cr.textAlignment})&&Zr(r,d.type,{textAlignment:cr.textAlignment}))r.updateBlock(d,{props:{textAlignment:l}});else if(d.type==="table"){const u=(c=r.tableHandles)==null?void 0:c.getCellSelection();if(!u)continue;const p=d.content.rows.map(m=>({...m,cells:m.cells.map(v=>tm(v))}));u.cells.forEach(({row:m,col:v})=>{p[m].cells[v].props.textAlignment=l}),r.updateBlock(d,{type:"table",content:{...d.content,type:"tableContent",rows:p}}),r.setTextCursorPosition(d)}},[r,i]);if(!C.useMemo(()=>!!i.find(l=>_l(l,r,l.type,{textAlignment:cr.textAlignment})||l.type==="table"&&l.children),[r,i])||!r.isEditable)return null;const s=dJe[e.textAlignment];return g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":`alignText${e.textAlignment.slice(0,1).toUpperCase()+e.textAlignment.slice(1)}`,onClick:()=>a(e.textAlignment),isSelected:o===e.textAlignment,label:n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,mainTooltip:n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,icon:g.jsx(s,{})})},Jhe=e=>[g.jsx(oJe,{items:e},"blockTypeSelect"),g.jsx(uJe,{},"tableCellMergeButton"),g.jsx(QQe,{},"fileCaptionButton"),g.jsx(tJe,{},"replaceFileButton"),g.jsx(eJe,{},"fileRenameButton"),g.jsx(JQe,{},"fileDeleteButton"),g.jsx(lJe,{},"fileDownloadButton"),g.jsx(cJe,{},"filePreviewButton"),g.jsx(EA,{basicTextStyle:"bold"},"boldStyleButton"),g.jsx(EA,{basicTextStyle:"italic"},"italicStyleButton"),g.jsx(EA,{basicTextStyle:"underline"},"underlineStyleButton"),g.jsx(EA,{basicTextStyle:"strike"},"strikeStyleButton"),g.jsx(dL,{textAlignment:"left"},"textAlignLeftButton"),g.jsx(dL,{textAlignment:"center"},"textAlignCenterButton"),g.jsx(dL,{textAlignment:"right"},"textAlignRightButton"),g.jsx(KQe,{},"colorStyleButton"),g.jsx(nJe,{},"nestBlockButton"),g.jsx(rJe,{},"unnestBlockButton"),g.jsx(ZQe,{},"createLinkButton"),g.jsx(aJe,{},"addCommentButton"),g.jsx(sJe,{},"addTiptapCommentButton")],epe=e=>{const t=Ut();return g.jsx(t.FormattingToolbar.Root,{className:"bn-toolbar bn-formatting-toolbar",children:e.children||Jhe(e.blockTypeSelectItems)})},gK=e=>{switch(e){case"left":return"top-start";case"center":return"top";case"right":return"top-end";default:return"top-start"}},tpe=e=>{const t=C.useRef(null),n=Gt(),[r,i]=C.useState(()=>{const p=n.getTextCursorPosition().block;return"textAlignment"in p.props?gK(p.props.textAlignment):"top-start"});cy(()=>{const p=n.getTextCursorPosition().block;"textAlignment"in p.props?i(gK(p.props.textAlignment)):i("top-start")},n);const o=dh(n.formattingToolbar.onUpdate.bind(n.formattingToolbar)),{isMounted:a,ref:s,style:l,getFloatingProps:c}=gm(o?.show||!1,o?.referencePos||null,3e3,{placement:r,middleware:[sh(10),OT(),um()],onOpenChange:(p,m)=>{p||(n.formattingToolbar.closeMenu(),n.focus())},canDismiss:{enabled:!0,escapeKey:!0,outsidePress:p=>{var m;const v=(m=n._tiptapEditor)==null?void 0:m.view;return!v||!p.target?!1:!WQe(p,v.dom.parentElement)}},...e.floatingOptions}),d=C.useMemo(()=>dR([t,s]),[t,s]);if(!a||!o)return null;if(!o.show&&t.current)return g.jsx("div",{ref:d,style:l,dangerouslySetInnerHTML:{__html:t.current.innerHTML}});const u=e.formattingToolbar||epe;return g.jsx("div",{ref:d,style:l,...c(),children:g.jsx(u,{})})},fJe=e=>{const t=Ut(),n=gn();return g.jsx(t.LinkToolbar.Button,{className:"bn-button",label:n.link_toolbar.delete.tooltip,mainTooltip:n.link_toolbar.delete.tooltip,isSelected:!1,onClick:e.deleteLink,icon:g.jsx(mQe,{})})},hJe=e=>{const t=Ut(),n=gn();return g.jsxs(t.Generic.Popover.Root,{children:[g.jsx(t.Generic.Popover.Trigger,{children:g.jsx(t.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.edit.tooltip,isSelected:!1,children:n.link_toolbar.edit.text})}),g.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(Qhe,{...e})})]})},pJe=e=>{const t=Ut(),n=gn();return g.jsx(t.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.open.tooltip,label:n.link_toolbar.open.tooltip,isSelected:!1,onClick:()=>{window.open(T8(e.url,window.location.href),"_blank")},icon:g.jsx(MQe,{})})},mJe=e=>{const t=Ut();return g.jsx(t.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",onMouseEnter:e.stopHideTimer,onMouseLeave:e.startHideTimer,children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(hJe,{url:e.url,text:e.text,editLink:e.editLink}),g.jsx(pJe,{url:e.url}),g.jsx(fJe,{deleteLink:e.deleteLink})]})})},gJe=e=>{const t=Gt(),n={deleteLink:t.linkToolbar.deleteLink,editLink:t.linkToolbar.editLink,startHideTimer:t.linkToolbar.startHideTimer,stopHideTimer:t.linkToolbar.stopHideTimer},r=dh(t.linkToolbar.onUpdate.bind(t.linkToolbar)),{isMounted:i,ref:o,style:a,getFloatingProps:s}=gm(r?.show||!1,r?.referencePos||null,4e3,{placement:"top-start",middleware:[sh(10),um()],onOpenChange:p=>{p||(t.linkToolbar.closeMenu(),t.focus())},...e.floatingOptions});if(!i||!r)return null;const{show:l,referencePos:c,...d}=r,u=e.linkToolbar||mJe;return g.jsx("div",{ref:o,style:a,...s(),children:g.jsx(u,{...d,...n})})};function yJe(e){return Kt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(e)}const bJe=e=>{const t=Ut(),n=gn(),r=Gt(),i=C.useCallback(()=>{const o=e.block.content;if(o!==void 0&&Array.isArray(o)&&o.length===0)r.setTextCursorPosition(e.block),r.openSuggestionMenu("/");else{const a=r.insertBlocks([{type:"paragraph"}],e.block,"after")[0];r.setTextCursorPosition(a),r.openSuggestionMenu("/")}},[r,e.block]);return g.jsx(t.SideMenu.Button,{className:"bn-button",label:n.side_menu.add_block_label,icon:g.jsx(yJe,{size:24,onClick:i,"data-test":"dragHandleAdd"})})};function npe(e){return Kt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function vJe(e){return Kt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(e)}const rpe=e=>{const t=Ut(),n=Gt(),r=e.block;return!_l(r,n,r.type,{textColor:"string"})&&!_l(r,n,r.type,{backgroundColor:"string"})?null:g.jsxs(t.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(t.Generic.Menu.Trigger,{sub:!0,children:g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children})}),g.jsx(t.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(fR,{iconSize:18,text:_l(r,n,r.type,{textColor:"string"})&&Zr(n,r.type,{textColor:"string"})?{color:r.props.textColor,setColor:i=>n.updateBlock(r,{type:r.type,props:{textColor:i}})}:void 0,background:_l(r,n,r.type,{backgroundColor:"string"})&&Zr(n,r.type,{backgroundColor:"string"})?{color:r.props.backgroundColor,setColor:i=>n.updateBlock(r,{props:{backgroundColor:i}})}:void 0})})]})},xJe=e=>{const t=Ut(),n=Gt();return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",onClick:()=>n.removeBlocks([e.block]),children:e.children})},wJe=e=>{const t=Ut(),n=Gt();if(e.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!e.block.content.headerRows;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const i=n.getBlock(e.block.id);i&&n.updateBlock(i,{...i,content:{...i.content,headerRows:r?void 0:1}})},children:e.children})},EJe=e=>{const t=Ut(),n=Gt();if(e.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!e.block.content.headerCols;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{n.updateBlock(e.block,{type:"table",content:{...e.block.content,type:"tableContent",headerCols:r?void 0:1}})},children:e.children})},SJe=e=>{const t=Ut(),n=gn();return g.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(xJe,{...e,children:n.drag_handle.delete_menuitem}),g.jsx(rpe,{...e,children:n.drag_handle.colors_menuitem}),g.jsx(wJe,{...e,children:n.drag_handle.header_row_menuitem}),g.jsx(EJe,{...e,children:n.drag_handle.header_column_menuitem})]})})},CJe=e=>{const t=Ut(),n=gn(),r=e.dragHandleMenu||SJe;return g.jsxs(t.Generic.Menu.Root,{onOpenChange:i=>{i?e.freezeMenu():e.unfreezeMenu()},position:"left",children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.SideMenu.Button,{label:n.side_menu.drag_handle_label,draggable:!0,onDragStart:i=>e.blockDragStart(i,e.block),onDragEnd:e.blockDragEnd,className:"bn-button",icon:g.jsx(npe,{size:24,"data-test":"dragHandle"})})}),g.jsx(r,{block:e.block,children:e.children})]})},ipe=e=>{const t=Ut(),n=C.useMemo(()=>{var r;const i={"data-block-type":e.block.type};return e.block.type==="heading"&&(i["data-level"]=e.block.props.level.toString()),(r=e.editor.schema.blockSpecs[e.block.type].implementation.meta)!=null&&r.fileBlockAccept&&(e.block.props.url?i["data-url"]="true":i["data-url"]="false"),i},[e.block.props,e.block.type,e.editor.schema.blockSpecs]);return g.jsx(t.SideMenu.Root,{className:"bn-side-menu",...n,children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(bJe,{...e}),g.jsx(CJe,{...e})]})})},ope=e=>{const t=Gt(),n={blockDragStart:t.sideMenu.blockDragStart,blockDragEnd:t.sideMenu.blockDragEnd,freezeMenu:t.sideMenu.freezeMenu,unfreezeMenu:t.sideMenu.unfreezeMenu},r=dh(t.sideMenu.onUpdate.bind(t.sideMenu)),{isMounted:i,ref:o,style:a,getFloatingProps:s}=gm(r?.show||!1,r?.referencePos||null,1e3,{placement:"left-start",...e.floatingOptions});if(!i||!r)return null;const{show:l,referencePos:c,...d}=r,u=e.sideMenu||ipe;return g.jsx("div",{ref:o,style:a,...s(),children:g.jsx(u,{...d,...n,editor:t})})};async function TJe(e,t){return(await MXe(e,t)).map(({id:n,onItemClick:r})=>({id:n,onItemClick:r,icon:n}))}function kJe(e){const t=Ut(),n=gn(),{items:r,loadingState:i,selectedIndex:o,onItemClick:a,columns:s}=e,l=i==="loading-initial"||i==="loading"?g.jsx(t.GridSuggestionMenu.Loader,{className:"bn-grid-suggestion-menu-loader",columns:s}):null,c=C.useMemo(()=>{const d=[];for(let u=0;u<r.length;u++){const p=r[u];d.push(g.jsx(t.GridSuggestionMenu.Item,{className:"bn-grid-suggestion-menu-item",item:p,id:`bn-grid-suggestion-menu-item-${u}`,isSelected:u===o,onClick:()=>a?.(p)},p.id))}return d},[t,r,a,o]);return g.jsxs(t.GridSuggestionMenu.Root,{id:"bn-grid-suggestion-menu",columns:s,className:"bn-grid-suggestion-menu",children:[l,c,c.length===0&&e.loadingState==="loaded"&&g.jsx(t.GridSuggestionMenu.EmptyItem,{className:"bn-grid-suggestion-menu-empty-item",columns:s,children:n.suggestion_menu.no_items_title})]})}function ape(e,t,n,r=3){const i=C.useRef(0);C.useEffect(()=>{t!==void 0&&(e.length>0?i.current=t.length:t.length-i.current>r&&n())},[n,r,e.length,t])}function spe(e,t){const[n,r]=C.useState([]),[i,o]=C.useState(!1),a=C.useRef(void 0),s=C.useRef(void 0);return C.useEffect(()=>{const l=e;a.current=e,o(!0),t(e).then(c=>{a.current===l&&(r(c),o(!1),s.current=l)})},[e,t]),{items:n||[],usedQuery:s.current,loadingState:s.current===void 0?"loading-initial":i?"loading":"loaded"}}function _Je(e,t,n,r,i){const[o,a]=C.useState(0),s=r!==void 0&&r>1;return C.useEffect(()=>{var l;const c=d=>(d.key==="ArrowLeft"&&(d.preventDefault(),n.length&&a((o-1+n.length)%n.length)),d.key==="ArrowRight"&&(d.preventDefault(),n.length&&a((o+1+n.length)%n.length)),d.key==="ArrowUp"?(d.preventDefault(),n.length&&a((o-r+n.length)%n.length),!0):d.key==="ArrowDown"?(d.preventDefault(),n.length&&a((o+r)%n.length),!0):d.key==="Enter"&&!d.isComposing?(d.stopPropagation(),d.preventDefault(),n.length&&i?.(n[o]),!0):!1);return(l=e.domElement)==null||l.addEventListener("keydown",c,!0),()=>{var d;(d=e.domElement)==null||d.removeEventListener("keydown",c,!0)}},[e.domElement,n,o,i,r,s]),C.useEffect(()=>{a(0)},[t]),{selectedIndex:n.length===0?void 0:o}}function AJe(e){const t=Hd().setContentEditableProps,n=Gt(),{getItems:r,gridSuggestionMenuComponent:i,query:o,clearQuery:a,closeMenu:s,onItemClick:l,columns:c}=e,d=C.useCallback(x=>{s(),a(),l?.(x)},[l,s,a]),{items:u,usedQuery:p,loadingState:m}=spe(o,r);ape(u,p,s);const{selectedIndex:v}=_Je(n,o,u,c,d);return C.useEffect(()=>(t(x=>({...x,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{t(x=>({...x,"aria-expanded":!1,"aria-controls":void 0}))}),[t]),C.useEffect(()=>(t(x=>({...x,"aria-activedescendant":v?"bn-suggestion-menu-item-"+v:void 0})),()=>{t(x=>({...x,"aria-activedescendant":void 0}))}),[t,v]),g.jsx(i,{items:u,onItemClick:d,loadingState:m,selectedIndex:v,columns:c})}function OJe(e){const t=Gt(),{triggerCharacter:n,gridSuggestionMenuComponent:r,columns:i,minQueryLength:o,onItemClick:a,getItems:s,floatingOptions:l}=e,c=C.useMemo(()=>a||(k=>{k.onItemClick(t)}),[t,a]),d=C.useMemo(()=>s||(async k=>await TJe(t,k)),[t,s]),u={closeMenu:t.suggestionMenus.closeMenu,clearQuery:t.suggestionMenus.clearQuery},p=C.useCallback(k=>t.suggestionMenus.onUpdate(n,k),[t.suggestionMenus,n]),m=dh(p),{isMounted:v,ref:x,style:w,getFloatingProps:T}=gm(m?.show||!1,m?.referencePos||null,2e3,{placement:"bottom-start",middleware:[sh(10),um(),pD({apply({availableHeight:k,elements:O}){Object.assign(O.floating.style,{maxHeight:`${k-10}px`})}})],onOpenChange(k){k||t.suggestionMenus.closeMenu()},...l});return!v||!m||!(m!=null&&m.ignoreQueryLength)&&o&&(m.query.startsWith(" ")||m.query.length<o)?null:g.jsx("div",{ref:x,style:w,...T(),children:g.jsx(AJe,{query:m.query,closeMenu:u.closeMenu,clearQuery:u.clearQuery,getItems:d,columns:i,gridSuggestionMenuComponent:r||kJe,onItemClick:c})})}function NJe(e){const t=Ut(),n=gn(),{items:r,loadingState:i,selectedIndex:o,onItemClick:a}=e,s=i==="loading-initial"||i==="loading"?g.jsx(t.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader"}):null,l=C.useMemo(()=>{let c;const d=[];for(let u=0;u<r.length;u++){const p=r[u];p.group!==c&&(c=p.group,d.push(g.jsx(t.SuggestionMenu.Label,{className:"bn-suggestion-menu-label",children:c},c))),d.push(g.jsx(t.SuggestionMenu.Item,{className:bi("bn-suggestion-menu-item",p.size==="small"?"bn-suggestion-menu-item-small":""),item:p,id:`bn-suggestion-menu-item-${u}`,isSelected:u===o,onClick:()=>a?.(p)},p.title))}return d},[t,r,a,o]);return g.jsxs(t.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu",children:[l,l.length===0&&(e.loadingState==="loading"||e.loadingState==="loaded")&&g.jsx(t.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),s]})}function MJe(e,t){const[n,r]=C.useState(0);return{selectedIndex:n,setSelectedIndex:r,handler:i=>{if(i.key==="ArrowUp")return i.preventDefault(),e.length&&r((n-1+e.length)%e.length),!0;if(i.key==="ArrowDown")return i.preventDefault(),e.length&&r((n+1)%e.length),!0;const o=DJe(i)?i.nativeEvent.isComposing:i.isComposing;return i.key==="Enter"&&!o?(i.preventDefault(),i.stopPropagation(),e.length&&t?.(e[n]),!0):!1}}}function DJe(e){return e.nativeEvent!==void 0}function RJe(e,t,n,r,i){const{selectedIndex:o,setSelectedIndex:a,handler:s}=MJe(n,r);return C.useEffect(()=>{var l;return(l=e.domElement)==null||l.addEventListener("keydown",s,!0),()=>{var c;(c=e.domElement)==null||c.removeEventListener("keydown",s,!0)}},[e.domElement,n,o,r,i,s]),C.useEffect(()=>{a(0)},[t,a]),{selectedIndex:n.length===0?void 0:o}}function IJe(e){const t=Hd().setContentEditableProps,n=Gt(),{getItems:r,suggestionMenuComponent:i,query:o,clearQuery:a,closeMenu:s,onItemClick:l}=e,c=C.useCallback(v=>{s(),a(),l?.(v)},[l,s,a]),{items:d,usedQuery:u,loadingState:p}=spe(o,r);ape(d,u,s);const{selectedIndex:m}=RJe(n,o,d,c);return C.useEffect(()=>(t(v=>({...v,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{t(v=>({...v,"aria-expanded":!1,"aria-controls":void 0}))}),[t]),C.useEffect(()=>(t(v=>({...v,"aria-activedescendant":m?"bn-suggestion-menu-item-"+m:void 0})),()=>{t(v=>({...v,"aria-activedescendant":void 0}))}),[t,m]),g.jsx(i,{items:d,onItemClick:c,loadingState:p,selectedIndex:m})}const PJe={heading:BN,heading_2:$N,heading_3:HN,heading_4:Fhe,heading_5:Uhe,heading_6:zhe,toggle_heading:BN,toggle_heading_2:$N,toggle_heading_3:HN,quote:Ghe,toggle_list:Khe,numbered_list:Whe,bullet_list:Yhe,check_list:qhe,paragraph:a7,table:vQe,image:EQe,video:wQe,audio:TQe,file:oQe,emoji:IQe,code_block:dQe,divider:RQe};function LJe(e){return ice(e).map(t=>{const n=PJe[t.key];return{...t,icon:g.jsx(n,{size:18})}})}function lpe(e){const t=Gt(),{triggerCharacter:n,suggestionMenuComponent:r,minQueryLength:i,onItemClick:o,getItems:a,floatingOptions:s}=e,l=C.useMemo(()=>o||(T=>{T.onItemClick(t)}),[t,o]),c=C.useMemo(()=>a||(async T=>mje(LJe(t),T)),[t,a]),d={closeMenu:t.suggestionMenus.closeMenu,clearQuery:t.suggestionMenus.clearQuery},u=C.useCallback(T=>t.suggestionMenus.onUpdate(n,T),[t.suggestionMenus,n]),p=dh(u),{isMounted:m,ref:v,style:x,getFloatingProps:w}=gm(p?.show||!1,p?.referencePos||null,2e3,{placement:"bottom-start",middleware:[sh(10),um({mainAxis:!0,crossAxis:!1}),OT(),pD({apply({availableHeight:T,elements:k}){Object.assign(k.floating.style,{maxHeight:`${T-10}px`,minHeight:"300px"})}})],onOpenChange(T){T||t.suggestionMenus.closeMenu()},...s});return!m||!p||!(p!=null&&p.ignoreQueryLength)&&i&&(p.query.startsWith(" ")||p.query.length<i)?null:g.jsx("div",{ref:v,style:x,...w(),onMouseDown:T=>T.preventDefault(),children:g.jsx(IJe,{query:p.query,closeMenu:d.closeMenu,clearQuery:d.clearQuery,getItems:c,suggestionMenuComponent:r||NJe,onItemClick:l})})}const jJe=(e,t=.3)=>{const n=Math.floor(e)+t,r=Math.ceil(e)-t;return e>=n&&e<=r?Math.round(e):e<n?Math.floor(e):Math.ceil(e)},BJe=e=>{const t=Ut(),n=C.useRef(!1),[r,i]=C.useState(),o=C.useCallback(s=>{e.onMouseDown(),i({originalContent:e.block.content,originalCroppedContent:{rows:e.editor.tableHandles.cropEmptyRowsOrColumns(e.block,e.orientation==="addOrRemoveColumns"?"columns":"rows")},startPos:e.orientation==="addOrRemoveColumns"?s.clientX:s.clientY}),n.current=!1,s.preventDefault()},[e]),a=C.useCallback(()=>{n.current||e.editor.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:e.orientation==="addOrRemoveColumns"?e.editor.tableHandles.addRowsOrColumns(e.block,"columns",1):e.editor.tableHandles.addRowsOrColumns(e.block,"rows",1)}})},[e.block,e.orientation,e.editor]);return C.useEffect(()=>{const s=l=>{var c,d;if(!r)throw new Error("editingState is undefined");n.current=!0;const u=(e.orientation==="addOrRemoveColumns"?l.clientX:l.clientY)-r.startPos,p=e.orientation==="addOrRemoveColumns"?((c=r.originalCroppedContent.rows[0])==null?void 0:c.cells.length)??0:r.originalCroppedContent.rows.length,m=e.orientation==="addOrRemoveColumns"?((d=r.originalContent.rows[0])==null?void 0:d.cells.length)??0:r.originalContent.rows.length,v=e.orientation==="addOrRemoveColumns"?e.block.content.rows[0].cells.length:e.block.content.rows.length,x=m+jJe(u/(e.orientation==="addOrRemoveColumns"?q9:tje),.3);x>=p&&x>0&&x!==v&&(e.editor.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:e.orientation==="addOrRemoveColumns"?e.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"columns",x-p):e.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"rows",x-p)}}),e.block.content&&e.editor.setTextCursorPosition(e.block))};return r&&window.addEventListener("mousemove",s),()=>{window.removeEventListener("mousemove",s)}},[r,e.block,e.editor,e.orientation]),C.useEffect(()=>{const s=e.onMouseUp,l=()=>{i(void 0),s()};return r&&window.addEventListener("mouseup",l),()=>{window.removeEventListener("mouseup",l)}},[r,e.onMouseUp]),e.editor.isEditable?g.jsx(t.TableHandle.ExtendButton,{className:bi("bn-extend-button",e.orientation==="addOrRemoveColumns"?"bn-extend-button-add-remove-columns":"bn-extend-button-add-remove-rows",r!==null?"bn-extend-button-editing":""),onClick:a,onMouseDown:o,children:e.children||g.jsx(kQe,{size:18,"data-test":"extendButton"})}):null},yK=e=>{const t=Ut(),n=gn(),r=Gt().tableHandles;return r?g.jsx(t.Generic.Menu.Item,{onClick:()=>{r.addRowOrColumn(e.index,e.orientation==="row"?{orientation:"row",side:e.side}:{orientation:"column",side:e.side})},children:n.table_handle[`add_${e.side}_menuitem`]}):null},$Je=e=>{const t=Ut(),n=gn(),r=Gt().tableHandles;return r?g.jsx(t.Generic.Menu.Item,{onClick:()=>{r.removeRowOrColumn(e.index,e.orientation)},children:e.orientation==="row"?n.table_handle.delete_row_menuitem:n.table_handle.delete_column_menuitem}):null},HJe=e=>{const t=Ut(),n=gn(),r=Gt(),i=r.tableHandles,o=C.useMemo(()=>!i||!e.block?[]:e.orientation==="row"?i.getCellsAtRowHandle(e.block,e.index):i.getCellsAtColumnHandle(e.block,e.index),[e.block,e.index,e.orientation,i]),a=(l,c)=>{const d=e.block.content.rows.map(u=>({...u,cells:u.cells.map(p=>tm(p))}));o.forEach(({row:u,col:p})=>{c==="text"?d[u].cells[p].props.textColor=l:d[u].cells[p].props.backgroundColor=l}),r.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:d}}),r.setTextCursorPosition(e.block)};if(!o||!o[0]||!i||r.settings.tables.cellTextColor===!1&&r.settings.tables.cellBackgroundColor===!1)return null;const s=tm(o[0].cell);return g.jsxs(t.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(t.Generic.Menu.Trigger,{sub:!0,children:g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children||n.drag_handle.colors_menuitem})}),g.jsx(t.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(fR,{iconSize:18,text:r.settings.tables.cellTextColor?{color:o.every(({cell:l})=>nm(l)&&l.props.textColor===s.props.textColor)?s.props.textColor:"default",setColor:l=>{a(l,"text")}}:void 0,background:r.settings.tables.cellBackgroundColor?{color:o.every(({cell:l})=>nm(l)&&l.props.backgroundColor===s.props.backgroundColor)?s.props.backgroundColor:"default",setColor:l=>a(l,"background")}:void 0})})]})},FJe=e=>{const t=Ut(),n=gn(),r=Gt();if(!r.tableHandles||e.index!==0||e.orientation!=="row"||!r.settings.tables.headers)return null;const i=!!e.block.content.headerRows;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:i,onClick:()=>{const o=r.getBlock(e.block.id);o&&r.updateBlock(o,{...o,content:{...o.content,headerRows:i?void 0:1}})},children:n.drag_handle.header_row_menuitem})},UJe=e=>{const t=Ut(),n=gn(),r=Gt();if(!r.tableHandles||e.index!==0||e.orientation!=="column"||!r.settings.tables.headers)return null;const i=!!e.block.content.headerCols;return g.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:i,onClick:()=>{const o=r.getBlock(e.block.id);o&&r.updateBlock(o,{...o,content:{...o.content,headerCols:i?void 0:1}})},children:n.drag_handle.header_column_menuitem})},zJe=e=>{const t=Ut();return g.jsx(t.Generic.Menu.Dropdown,{className:"bn-table-handle-menu",children:e.children||g.jsxs(g.Fragment,{children:[g.jsx($Je,{orientation:e.orientation,block:e.block,index:e.index}),g.jsx(yK,{orientation:e.orientation,block:e.block,index:e.index,side:e.orientation==="row"?"above":"left"}),g.jsx(yK,{orientation:e.orientation,block:e.block,index:e.index,side:e.orientation==="row"?"below":"right"}),g.jsx(FJe,{orientation:e.orientation,block:e.block,index:e.index}),g.jsx(UJe,{orientation:e.orientation,block:e.block,index:e.index}),g.jsx(HJe,{orientation:e.orientation,block:e.block,index:e.index})]})})},VJe=e=>{const t=Ut(),[n,r]=C.useState(!1),i=e.tableHandleMenu||zJe,o=C.useMemo(()=>{const a=e.editor.tableHandles;return!a||!e.block||e.block.type!=="table"?!1:e.orientation==="column"?a.getCellsAtColumnHandle(e.block,e.index).every(({cell:s})=>I0(s)===1):a.getCellsAtRowHandle(e.block,e.index).every(({cell:s})=>sC(s)===1)},[e.block,e.editor.tableHandles,e.index,e.orientation]);return g.jsxs(t.Generic.Menu.Root,{onOpenChange:a=>{a?(e.freezeHandles(),e.hideOtherSide()):(e.unfreezeHandles(),e.showOtherSide(),e.editor.focus())},position:"right",children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.TableHandle.Root,{className:bi("bn-table-handle",n?"bn-table-handle-dragging":"",o?"":"bn-table-handle-not-draggable"),draggable:o,onDragStart:a=>{r(!0),e.dragStart(a)},onDragEnd:()=>{e.dragEnd(),r(!1)},style:e.orientation==="column"?{transform:"rotate(0.25turn)"}:void 0,children:e.children||g.jsx(npe,{size:24,"data-test":"tableHandle"})})}),ka.createPortal(g.jsx(i,{orientation:e.orientation,block:e.block,index:e.index}),e.menuContainer)]})};function bK(e,t,n){const{refs:r,update:i,context:o,floatingStyles:a}=e7({open:t,placement:e==="addOrRemoveColumns"?"right":"bottom",middleware:[pD({apply({rects:c,elements:d}){Object.assign(d.floating.style,e==="addOrRemoveColumns"?{height:`${c.reference.height}px`}:{width:`${c.reference.width}px`})}})]}),{isMounted:s,styles:l}=t7(o);return C.useEffect(()=>{i()},[n,i]),C.useEffect(()=>{n!==null&&r.setReference({getBoundingClientRect:()=>n})},[e,n,r]),C.useMemo(()=>({isMounted:s,ref:r.setFloating,style:{display:"flex",...l,...a}}),[a,s,r.setFloating,l])}function qJe(e,t,n){const r=bK("addOrRemoveRows",t,n),i=bK("addOrRemoveColumns",e,n);return C.useMemo(()=>({addOrRemoveRowsButton:r,addOrRemoveColumnsButton:i}),[i,r])}function WJe(e,t,n){return n&&n.draggedCellOrientation==="row"?new DOMRect(t.x,n.mousePos,t.width,0):new DOMRect(t.x,e.y,t.width,e.height)}function YJe(e,t,n){return n&&n.draggedCellOrientation==="col"?new DOMRect(n.mousePos,t.y,0,t.height):new DOMRect(e.x,t.y,e.width,t.height)}function GJe(e){return new DOMRect(e.x,e.y,e.width,0)}function fL(e,t,n,r,i){const{refs:o,update:a,context:s,floatingStyles:l}=e7({open:t,placement:e==="row"?"left":e==="col"?"top":"bottom-end",middleware:[sh(e==="row"?-10:e==="col"?-12:{mainAxis:1,crossAxis:-1})]}),{isMounted:c,styles:d}=t7(s);return C.useEffect(()=>{a()},[n,r,a]),C.useEffect(()=>{n===null||r===null||i&&e==="cell"||o.setReference({getBoundingClientRect:()=>(e==="row"?WJe:e==="col"?YJe:GJe)(n,r,i)})},[i,e,n,r,o]),C.useMemo(()=>({isMounted:c,ref:o.setFloating,style:{display:"flex",...d,...l}}),[l,c,o.setFloating,d])}function KJe(e,t,n,r){const i=fL("row",e,t,n,r),o=fL("col",e,t,n,r),a=fL("cell",e,t,n,r);return C.useMemo(()=>({rowHandle:i,colHandle:o,cellHandle:a}),[o,i,a])}const XJe=e=>{var t,n;const r=Ut(),i=gn(),o=Gt(),a=(l,c)=>{const d=e.block.content.rows.map(u=>({...u,cells:u.cells.map(p=>tm(p))}));c==="text"?d[e.rowIndex].cells[e.colIndex].props.textColor=l:d[e.rowIndex].cells[e.colIndex].props.backgroundColor=l,o.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:d}}),o.setTextCursorPosition(e.block)},s=(n=(t=e.block.content.rows[e.rowIndex])==null?void 0:t.cells)==null?void 0:n[e.colIndex];return!s||o.settings.tables.cellTextColor===!1&&o.settings.tables.cellBackgroundColor===!1?null:g.jsxs(r.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(r.Generic.Menu.Trigger,{sub:!0,children:g.jsx(r.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children||i.drag_handle.colors_menuitem})}),g.jsx(r.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(fR,{iconSize:18,text:o.settings.tables.cellTextColor?{color:nm(s)?s.props.textColor:"default",setColor:l=>a(l,"text")}:void 0,background:o.settings.tables.cellBackgroundColor?{color:nm(s)?s.props.backgroundColor:"default",setColor:l=>a(l,"background")}:void 0})})]})},ZJe=e=>{var t,n;const r=Ut(),i=gn(),o=Gt(),a=(n=(t=e.block.content.rows[e.rowIndex])==null?void 0:t.cells)==null?void 0:n[e.colIndex];return!a||!nm(a)||sC(a)===1&&I0(a)===1||!o.settings.tables.splitCells?null:g.jsx(r.Generic.Menu.Item,{onClick:()=>{var s;(s=o.tableHandles)==null||s.splitCell({row:e.rowIndex,col:e.colIndex})},children:i.table_handle.split_cell_menuitem})},QJe=e=>{const t=Ut();return g.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-table-handle-menu",children:e.children||g.jsxs(g.Fragment,{children:[g.jsx(ZJe,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex}),g.jsx(XJe,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex})]})})},JJe=e=>{const t=Ut(),n=e.tableCellMenu||QJe;return!e.editor.settings.tables.splitCells&&!e.editor.settings.tables.cellBackgroundColor&&!e.editor.settings.tables.cellTextColor?null:g.jsxs(t.Generic.Menu.Root,{onOpenChange:r=>{r?e.freezeHandles():(e.unfreezeHandles(),e.editor.focus())},position:"right",children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.Generic.Menu.Button,{className:"bn-table-cell-handle",children:e.children||g.jsx(vJe,{size:12,"data-test":"tableCellHandle"})})}),ka.createPortal(g.jsx(n,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex}),e.menuContainer)]})},eet=e=>{var t,n;const r=Gt(),[i,o]=C.useState(null);if(!r.tableHandles)throw new Error("TableHandlesController can only be used when BlockNote editor schema contains table block");const a={rowDragStart:r.tableHandles.rowDragStart,colDragStart:r.tableHandles.colDragStart,dragEnd:r.tableHandles.dragEnd,freezeHandles:r.tableHandles.freezeHandles,unfreezeHandles:r.tableHandles.unfreezeHandles},{freezeHandles:s,unfreezeHandles:l}=a,c=C.useCallback(()=>{s(),N(!0),O(!0)},[s]),d=C.useCallback(()=>{l(),N(!1),O(!1)},[l]),u=dh(r.tableHandles.onUpdate.bind(r.tableHandles)),p=C.useMemo(()=>{var B,$;return u!=null&&u.draggingState?{draggedCellOrientation:(B=u?.draggingState)==null?void 0:B.draggedCellOrientation,mousePos:($=u?.draggingState)==null?void 0:$.mousePos}:void 0},[u?.draggingState,(t=u?.draggingState)==null?void 0:t.draggedCellOrientation,(n=u?.draggingState)==null?void 0:n.mousePos]),{rowHandle:m,colHandle:v,cellHandle:x}=KJe(u?.show||!1,u?.referencePosCell||null,u?.referencePosTable||null,p),{addOrRemoveColumnsButton:w,addOrRemoveRowsButton:T}=qJe(u?.showAddOrRemoveColumnsButton||!1,u?.showAddOrRemoveRowsButton||!1,u?.referencePosTable||null),[k,O]=C.useState(!1),[I,N]=C.useState(!1);if(!u)return null;const A=e.tableHandle||VJe,R=e.extendButton||BJe,L=e.tableCellHandle||JJe;return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:o}),g.jsxs(vZe,{root:u.widgetContainer,children:[!k&&i&&m.isMounted&&u.rowIndex!==void 0&&g.jsx("div",{ref:m.ref,style:m.style,children:g.jsx(A,{editor:r,orientation:"row",showOtherSide:()=>N(!1),hideOtherSide:()=>N(!0),index:u.rowIndex,block:u.block,dragStart:a.rowDragStart,dragEnd:a.dragEnd,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles,menuContainer:i})}),!I&&i&&v.isMounted&&u.colIndex!==void 0&&g.jsx("div",{ref:v.ref,style:v.style,children:g.jsx(A,{editor:r,orientation:"column",showOtherSide:()=>O(!1),hideOtherSide:()=>O(!0),index:u.colIndex,block:u.block,dragStart:a.colDragStart,dragEnd:a.dragEnd,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles,menuContainer:i})}),i&&x.isMounted&&u.colIndex!==void 0&&u.rowIndex!==void 0&&g.jsx("div",{ref:x.ref,style:x.style,children:g.jsx(L,{editor:r,block:u.block,rowIndex:u.rowIndex,colIndex:u.colIndex,menuContainer:i,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles})}),g.jsx("div",{ref:T.ref,style:T.style,children:g.jsx(R,{editor:r,orientation:"addOrRemoveRows",block:u.block,onMouseDown:c,onMouseUp:d})}),g.jsx("div",{ref:w.ref,style:w.style,children:g.jsx(R,{editor:r,orientation:"addOrRemoveColumns",block:u.block,onMouseDown:c,onMouseUp:d})})]})]})};function tet(e){const t=Gt();if(!t)throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return g.jsxs(g.Fragment,{children:[e.formattingToolbar!==!1&&g.jsx(tpe,{}),e.linkToolbar!==!1&&g.jsx(gJe,{}),e.slashMenu!==!1&&g.jsx(lpe,{triggerCharacter:"/"}),e.emojiPicker!==!1&&g.jsx(OJe,{triggerCharacter:":",columns:10,minQueryLength:2}),e.sideMenu!==!1&&g.jsx(ope,{}),t.filePanel&&e.filePanel!==!1&&g.jsx(qQe,{}),t.tableHandles&&e.tableHandles!==!1&&g.jsx(eet,{}),t.comments&&e.comments!==!1&&g.jsxs(g.Fragment,{children:[g.jsx(GZe,{}),g.jsx(UQe,{})]})]})}const net=()=>{const e=C.useMemo(()=>{var a;return(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: dark)")},[]),t=C.useMemo(()=>{var a;return(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: light)")},[]),n=e?.matches,r=t?.matches,[i,o]=C.useState(n?"dark":r?"light":"no-preference");return C.useEffect(()=>{o(n?"dark":r?"light":"no-preference")},[n,r]),C.useEffect(()=>{if(typeof e?.addEventListener=="function"){const a=({matches:l})=>l&&o("dark"),s=({matches:l})=>l&&o("light");return e?.addEventListener("change",a),t?.addEventListener("change",s),()=>{e?.removeEventListener("change",a),t?.removeEventListener("change",s)}}else{const a=()=>o(e.matches?"dark":t.matches?"light":"no-preference");return e?.addEventListener("change",a),t?.addEventListener("change",a),()=>{e?.removeEventListener("change",a),t?.removeEventListener("change",a)}}},[e,t]),i},cpe=C.createContext(void 0);function ret(){return C.useContext(cpe)}function iet(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:ka.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}const oet=({contentComponent:e})=>{const t=C.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return g.jsx(g.Fragment,{children:Object.values(t)})},aet=C.forwardRef((e,t)=>{const[n,r]=C.useState();return C.useImperativeHandle(t,()=>(i,o)=>{ka.flushSync(()=>{r({node:i,container:o})}),r(void 0)},[]),g.jsx(g.Fragment,{children:n&&ka.createPortal(n.node,n.container)})}),vK=()=>{};function set(e,t){const{editor:n,className:r,theme:i,children:o,editable:a,onSelectionChange:s,onChange:l,formattingToolbar:c,linkToolbar:d,slashMenu:u,emojiPicker:p,sideMenu:m,filePanel:v,tableHandles:x,comments:w,autoFocus:T,renderEditor:k=!0,...O}=e,[I,N]=C.useState(),A=Hd(),R=net(),L=A?.colorSchemePreference||R,B=i||(L==="dark"?"dark":"light");uR(l||vK,n),n7(s||vK,n),C.useEffect(()=>{n.isEditable=a!==!1},[a,n]);const $=C.useCallback(W=>{n.elementRenderer=W},[n]),q=C.useMemo(()=>({...A,editor:n,setContentEditableProps:N,colorSchemePreference:B}),[A,n,B]),z=C.useMemo(()=>({editorProps:{autoFocus:T,contentEditableProps:I},defaultUIProps:{formattingToolbar:c,linkToolbar:d,slashMenu:u,emojiPicker:p,sideMenu:m,filePanel:v,tableHandles:x,comments:w}}),[T,I,c,d,u,p,m,v,x,w]);return g.jsx(Lhe.Provider,{value:q,children:g.jsxs(cpe.Provider,{value:z,children:[g.jsx(aet,{ref:$}),g.jsx(cet,{className:r,renderEditor:k,editable:a,editorColorScheme:B,ref:t,...O,children:o})]})})}const cet=F.forwardRef(({className:e,renderEditor:t,editable:n,editorColorScheme:r,children:i,...o},a)=>g.jsx("div",{className:bi("bn-container",r,e),"data-color-scheme":r,...o,ref:a,children:t?g.jsx(det,{editable:n,children:i}):i})),uet=F.forwardRef(set),det=e=>{const t=ret(),n=Gt(),r=C.useMemo(()=>iet(),[]),i=C.useCallback(o=>{e.editable!==void 0&&e.editable!==n.isEditable&&(n.isEditable=e.editable),n._tiptapEditor.contentComponent=r,o?n.mount(o):n.unmount()},[n,r,e.editable]);return g.jsxs(g.Fragment,{children:[g.jsx(oet,{contentComponent:r}),g.jsx(fet,{...t.editorProps,...e,mount:i}),g.jsx(tet,{...t.defaultUIProps}),e.children]})},fet=e=>{const{autoFocus:t,mount:n,contentEditableProps:r}=e;return g.jsx("div",{"aria-autocomplete":"list","aria-haspopup":"listbox","data-bn-autofocus":t,ref:n,...r})};function xK(e,t){let n;const r=document.createElement("div");let i;if(t!=null&&t.elementRenderer)t.elementRenderer(e(l=>n=l||void 0),r);else{if(!(t!=null&&t.headless))throw new Error("elementRenderer not available, expected headless editor");i=tre.createRoot(r),ka.flushSync(()=>{i.render(e(l=>n=l||void 0))})}if(!r.childElementCount)return console.warn("ReactInlineContentSpec: renderHTML() failed"),{dom:document.createElement("span")};n?.setAttribute("data-tmp-find","true");const o=r.cloneNode(!0),a=o.firstElementChild,s=o.querySelector("[data-tmp-find]");return s?.removeAttribute("data-tmp-find"),i?.unmount(),{dom:a,contentDOM:s||void 0}}function hL(e){var t;return g.jsx(jZe,{onDragOver:n=>n.preventDefault(),...Object.fromEntries(Object.entries(e.domAttributes||{}).filter(([n])=>n!=="class")),className:bi("bn-block-content",((t=e.domAttributes)==null?void 0:t.class)||""),"data-content-type":e.blockType,...Object.fromEntries(Object.entries(e.blockProps).filter(([n,r])=>{const i=e.propSchema[n];return r!==i.default}).map(([n,r])=>[jO(n),r])),"data-file-block":e.isFileBlock===!0||void 0,children:e.children})}function px(e,t,n){return(r={})=>{const i=typeof e=="function"?e(r):e,o=typeof t=="function"?t(r):t;return{config:i,implementation:{...o,toExternalHTML(s,l){const c=o.toExternalHTML||o.render;return xK(d=>g.jsx(hL,{blockType:s.type,blockProps:s.props,propSchema:i.propSchema,domAttributes:this.blockContentDOMAttributes,children:g.jsx(c,{block:s,editor:l,contentRef:u=>{d(u),u&&(u.className=bi("bn-inline-content",u.className))}})}),l)},render(s,l){if(this.renderType==="nodeView")return zZe(c=>{var d;const u=qle(c.getPos,l,c.editor,i.type),p=Phe().nodeViewContentRef;if(!p)throw new Error("nodeViewContentRef is not set");const m=o.render;return g.jsx(hL,{blockType:u.type,blockProps:u.props,propSchema:i.propSchema,isFileBlock:!!((d=o.meta)!=null&&d.fileBlockAccept),domAttributes:this.blockContentDOMAttributes,children:g.jsx(m,{block:u,editor:l,contentRef:v=>{p(v),v&&(v.className=bi("bn-inline-content",v.className),v.dataset.nodeViewContent="")}})})},{className:"bn-react-node-view-renderer"})(this.props);{const c=o.render;return xK(d=>g.jsx(hL,{blockType:s.type,blockProps:s.props,propSchema:i.propSchema,domAttributes:this.blockContentDOMAttributes,children:g.jsx(c,{block:s,editor:l,contentRef:u=>{d(u),u&&(u.className=bi("bn-inline-content",u.className))}})}),l)}}},extensions:void 0}}}F.memo(({thread:e,selectedThreadId:t,editor:n,maxCommentsBeforeCollapse:r,referenceText:i})=>{const o=C.useCallback(s=>{var l;s.target.closest(".bn-action-toolbar")||(l=n.comments)==null||l.selectThread(e.id)},[n.comments,e.id]),a=C.useCallback(s=>{var l;if(!s.relatedTarget||s.relatedTarget.closest(".bn-action-toolbar"))return;const c=s.target instanceof Node?s.target:null,d=s.relatedTarget instanceof Node?s.relatedTarget.closest(".bn-thread"):null;(!c||!d||!d.contains(c))&&((l=n.comments)==null||l.selectThread(void 0))},[n.comments]);return g.jsx(Xhe,{thread:e,selected:e.id===t,referenceText:i,maxCommentsBeforeCollapse:r,onFocus:o,onBlur:a,tabIndex:0})});function het(e){return e.currentTarget instanceof HTMLElement&&e.relatedTarget instanceof HTMLElement?e.currentTarget.contains(e.relatedTarget):!1}function pet({onBlur:e,onFocus:t}={}){const n=C.useRef(null),[r,i]=C.useState(!1),o=C.useRef(!1),a=c=>{i(c),o.current=c},s=c=>{o.current||(a(!0),t?.(c))},l=c=>{o.current&&!het(c)&&(a(!1),e?.(c))};return C.useEffect(()=>{const c=n.current;if(c)return c.addEventListener("focusin",s),c.addEventListener("focusout",l),()=>{c?.removeEventListener("focusin",s),c?.removeEventListener("focusout",l)}},[s,l]),{ref:n,focused:r}}function l7(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.top<r.top,o=n.bottom>r.bottom;return i&&o?"both":i?"top":o?"bottom":"none"}var QT=e=>e.type==="checkbox",r0=e=>e instanceof Date,Is=e=>e==null;const upe=e=>typeof e=="object";var lo=e=>!Is(e)&&!Array.isArray(e)&&upe(e)&&!r0(e),met=e=>lo(e)&&e.target?QT(e.target)?e.target.checked:e.target.value:e,get=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,yet=(e,t)=>e.has(get(t)),bet=e=>{const t=e.constructor&&e.constructor.prototype;return lo(t)&&t.hasOwnProperty("isPrototypeOf")},c7=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Do(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(c7&&(e instanceof Blob||r))&&(n||lo(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!bet(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Do(e[i]));else return e;return t}var hR=e=>/^\w*$/.test(e),Vi=e=>e===void 0,u7=e=>Array.isArray(e)?e.filter(Boolean):[],d7=e=>u7(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Pt=(e,t,n)=>{if(!t||!lo(e))return n;const r=(hR(t)?[t]:d7(t)).reduce((i,o)=>Is(i)?i:i[o],e);return Vi(r)||r===e?Vi(e[t])?n:e[t]:r},fd=e=>typeof e=="boolean",yi=(e,t,n)=>{let r=-1;const i=hR(t)?[t]:d7(t),o=i.length,a=o-1;for(;++r<o;){const s=i[r];let l=n;if(r!==a){const c=e[s];l=lo(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=l,e=e[s]}};const wK={BLUR:"blur",FOCUS_OUT:"focusout"},iu={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ef={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dpe=F.createContext(null);dpe.displayName="HookFormContext";const vet=e=>{const{children:t,...n}=e;return F.createElement(dpe.Provider,{value:n},t)};var xet=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const a=o;return t._proxyFormState[a]!==iu.all&&(t._proxyFormState[a]=!r||iu.all),e[a]}});return i};const wet=typeof window<"u"?F.useLayoutEffect:F.useEffect;var Tl=e=>typeof e=="string",Eet=(e,t,n,r,i)=>Tl(e)?(r&&t.watch.add(e),Pt(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),Pt(n,o))):(r&&(t.watchAll=!0),n),k8=e=>Is(e)||!upe(e);function Mp(e,t,n=new WeakSet){if(k8(e)||k8(t))return e===t;if(r0(e)&&r0(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of r){const a=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const s=t[o];if(r0(a)&&r0(s)||lo(a)&&lo(s)||Array.isArray(a)&&Array.isArray(s)?!Mp(a,s,n):a!==s)return!1}}return!0}var Cet=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},PS=e=>Array.isArray(e)?e:[e],EK=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}};function fpe(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],o=t[r];if(i&&lo(i)&&o){const a=fpe(i,o);lo(a)&&(n[r]=a)}else e[r]&&(n[r]=o)}return n}var Ja=e=>lo(e)&&!Object.keys(e).length,f7=e=>e.type==="file",ou=e=>typeof e=="function",FN=e=>{if(!c7)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},hpe=e=>e.type==="select-multiple",h7=e=>e.type==="radio",Tet=e=>h7(e)||QT(e),pL=e=>FN(e)&&e.isConnected;function ket(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Vi(e)?r++:e[t[r++]];return e}function _et(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vi(e[t]))return!1;return!0}function to(e,t){const n=Array.isArray(t)?t:hR(t)?[t]:d7(t),r=n.length===1?e:ket(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(lo(r)&&Ja(r)||Array.isArray(r)&&_et(r))&&to(e,n.slice(0,-1)),e}var Aet=e=>{for(const t in e)if(ou(e[t]))return!0;return!1};function ppe(e){return Array.isArray(e)||lo(e)&&!Aet(e)}function _8(e,t={}){for(const n in e)ppe(e[n])?(t[n]=Array.isArray(e[n])?[]:{},_8(e[n],t[n])):Vi(e[n])||(t[n]=!0);return t}function xv(e,t,n){n||(n=_8(t));for(const r in e)ppe(e[r])?Vi(t)||k8(n[r])?n[r]=_8(e[r],Array.isArray(e[r])?[]:{}):xv(e[r],Is(t)?{}:t[r],n[r]):n[r]=!Mp(e[r],t[r]);return n}const SK={value:!1,isValid:!1},CK={value:!0,isValid:!0};var mpe=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vi(e[0].attributes.value)?Vi(e[0].value)||e[0].value===""?CK:{value:e[0].value,isValid:!0}:CK:SK}return SK},gpe=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Vi(e)?e:t?e===""?NaN:e&&+e:n&&Tl(e)?new Date(e):r?r(e):e;const TK={isValid:!1,value:null};var ype=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,TK):TK;function kK(e){const t=e.ref;return f7(t)?t.files:h7(t)?ype(e.refs).value:hpe(t)?[...t.selectedOptions].map(({value:n})=>n):QT(t)?mpe(e.refs).value:gpe(Vi(t.value)?e.ref.value:t.value,e)}var Oet=(e,t,n,r)=>{const i={};for(const o of e){const a=Pt(t,o);a&&yi(i,o,a._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},UN=e=>e instanceof RegExp,$E=e=>Vi(e)?e:UN(e)?e.source:lo(e)?UN(e.value)?e.value.source:e.value:e,_K=e=>({isOnSubmit:!e||e===iu.onSubmit,isOnBlur:e===iu.onBlur,isOnChange:e===iu.onChange,isOnAll:e===iu.all,isOnTouch:e===iu.onTouched});const AK="AsyncFunction";var Net=e=>!!e&&!!e.validate&&!!(ou(e.validate)&&e.validate.constructor.name===AK||lo(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===AK)),Met=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),OK=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const LS=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=Pt(e,i);if(o){const{_f:a,...s}=o;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(LS(s,t))break}else if(lo(s)&&LS(s,t))break}}};function NK(e,t,n){const r=Pt(e,n);if(r||hR(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),a=Pt(t,o),s=Pt(e,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(s&&s.type)return{name:o,error:s};if(s&&s.root&&s.root.type)return{name:`${o}.root`,error:s.root};i.pop()}return{name:n}}var Det=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Ja(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(a=>t[a]===(!r||iu.all))},Ret=(e,t,n)=>!e||!t||e===t||PS(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),Iet=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,Pet=(e,t)=>!u7(Pt(e,t)).length&&to(e,t),Let=(e,t,n)=>{const r=PS(Pt(e,n));return yi(r,"root",t[n]),yi(e,n,r),e};function MK(e,t,n="validate"){if(Tl(e)||Array.isArray(e)&&e.every(Tl)||fd(e)&&!e)return{type:n,message:Tl(e)?e:"",ref:t}}var ov=e=>lo(e)&&!UN(e)?e:{value:e,message:""},DK=async(e,t,n,r,i,o)=>{const{ref:a,refs:s,required:l,maxLength:c,minLength:d,min:u,max:p,pattern:m,validate:v,name:x,valueAsNumber:w,mount:T}=e._f,k=Pt(n,x);if(!T||t.has(x))return{};const O=s?s[0]:a,I=z=>{i&&O.reportValidity&&(O.setCustomValidity(fd(z)?"":z||""),O.reportValidity())},N={},A=h7(a),R=QT(a),L=A||R,B=(w||f7(a))&&Vi(a.value)&&Vi(k)||FN(a)&&a.value===""||k===""||Array.isArray(k)&&!k.length,$=Cet.bind(null,x,r,N),q=(z,W,G,Z=Ef.maxLength,V=Ef.minLength)=>{const ne=z?W:G;N[x]={type:z?Z:V,message:ne,ref:a,...$(z?Z:V,ne)}};if(o?!Array.isArray(k)||!k.length:l&&(!L&&(B||Is(k))||fd(k)&&!k||R&&!mpe(s).isValid||A&&!ype(s).isValid)){const{value:z,message:W}=Tl(l)?{value:!!l,message:l}:ov(l);if(z&&(N[x]={type:Ef.required,message:W,ref:O,...$(Ef.required,W)},!r))return I(W),N}if(!B&&(!Is(u)||!Is(p))){let z,W;const G=ov(p),Z=ov(u);if(!Is(k)&&!isNaN(k)){const V=a.valueAsNumber||k&&+k;Is(G.value)||(z=V>G.value),Is(Z.value)||(W=V<Z.value)}else{const V=a.valueAsDate||new Date(k),ne=K=>new Date(new Date().toDateString()+" "+K),X=a.type=="time",oe=a.type=="week";Tl(G.value)&&k&&(z=X?ne(k)>ne(G.value):oe?k>G.value:V>new Date(G.value)),Tl(Z.value)&&k&&(W=X?ne(k)<ne(Z.value):oe?k<Z.value:V<new Date(Z.value))}if((z||W)&&(q(!!z,G.message,Z.message,Ef.max,Ef.min),!r))return I(N[x].message),N}if((c||d)&&!B&&(Tl(k)||o&&Array.isArray(k))){const z=ov(c),W=ov(d),G=!Is(z.value)&&k.length>+z.value,Z=!Is(W.value)&&k.length<+W.value;if((G||Z)&&(q(G,z.message,W.message),!r))return I(N[x].message),N}if(m&&!B&&Tl(k)){const{value:z,message:W}=ov(m);if(UN(z)&&!k.match(z)&&(N[x]={type:Ef.pattern,message:W,ref:a,...$(Ef.pattern,W)},!r))return I(W),N}if(v){if(ou(v)){const z=await v(k,n),W=MK(z,O);if(W&&(N[x]={...W,...$(Ef.validate,W.message)},!r))return I(W.message),N}else if(lo(v)){let z={};for(const W in v){if(!Ja(z)&&!r)break;const G=MK(await v[W](k,n),O,W);G&&(z={...G,...$(W,G.message)},I(G.message),r&&(N[x]=z))}if(!Ja(z)&&(N[x]={ref:O,...z},!r))return N}}return I(!0),N};const jet={mode:iu.onSubmit,reValidateMode:iu.onChange,shouldFocusError:!0};function Bet(e={}){let t={...jet,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ou(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=lo(t.defaultValues)||lo(t.values)?Do(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Do(i),a={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...d};const p={array:EK(),state:EK()},m=t.criteriaMode===iu.all,v=ce=>xe=>{clearTimeout(c),c=setTimeout(ce,xe)},x=async ce=>{if(!t.disabled&&(d.isValid||u.isValid||ce)){const xe=t.resolver?Ja((await R()).errors):await B(r,!0);xe!==n.isValid&&p.state.next({isValid:xe})}},w=(ce,xe)=>{!t.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((ce||Array.from(s.mount)).forEach(Te=>{Te&&(xe?yi(n.validatingFields,Te,xe):to(n.validatingFields,Te))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ja(n.validatingFields)}))},T=(ce,xe=[],Te,Je,Ze=!0,Qe=!0)=>{if(Je&&Te&&!t.disabled){if(a.action=!0,Qe&&Array.isArray(Pt(r,ce))){const ge=Te(Pt(r,ce),Je.argA,Je.argB);Ze&&yi(r,ce,ge)}if(Qe&&Array.isArray(Pt(n.errors,ce))){const ge=Te(Pt(n.errors,ce),Je.argA,Je.argB);Ze&&yi(n.errors,ce,ge),Pet(n.errors,ce)}if((d.touchedFields||u.touchedFields)&&Qe&&Array.isArray(Pt(n.touchedFields,ce))){const ge=Te(Pt(n.touchedFields,ce),Je.argA,Je.argB);Ze&&yi(n.touchedFields,ce,ge)}(d.dirtyFields||u.dirtyFields)&&(n.dirtyFields=xv(i,o)),p.state.next({name:ce,isDirty:q(ce,xe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else yi(o,ce,xe)},k=(ce,xe)=>{yi(n.errors,ce,xe),p.state.next({errors:n.errors})},O=ce=>{n.errors=ce,p.state.next({errors:n.errors,isValid:!1})},I=(ce,xe,Te,Je)=>{const Ze=Pt(r,ce);if(Ze){const Qe=Pt(o,ce,Vi(Te)?Pt(i,ce):Te);Vi(Qe)||Je&&Je.defaultChecked||xe?yi(o,ce,xe?Qe:kK(Ze._f)):G(ce,Qe),a.mount&&x()}},N=(ce,xe,Te,Je,Ze)=>{let Qe=!1,ge=!1;const Be={name:ce};if(!t.disabled){if(!Te||Je){(d.isDirty||u.isDirty)&&(ge=n.isDirty,n.isDirty=Be.isDirty=q(),Qe=ge!==Be.isDirty);const it=Mp(Pt(i,ce),xe);ge=!!Pt(n.dirtyFields,ce),it?to(n.dirtyFields,ce):yi(n.dirtyFields,ce,!0),Be.dirtyFields=n.dirtyFields,Qe=Qe||(d.dirtyFields||u.dirtyFields)&&ge!==!it}if(Te){const it=Pt(n.touchedFields,ce);it||(yi(n.touchedFields,ce,Te),Be.touchedFields=n.touchedFields,Qe=Qe||(d.touchedFields||u.touchedFields)&&it!==Te)}Qe&&Ze&&p.state.next(Be)}return Qe?Be:{}},A=(ce,xe,Te,Je)=>{const Ze=Pt(n.errors,ce),Qe=(d.isValid||u.isValid)&&fd(xe)&&n.isValid!==xe;if(t.delayError&&Te?(l=v(()=>k(ce,Te)),l(t.delayError)):(clearTimeout(c),l=null,Te?yi(n.errors,ce,Te):to(n.errors,ce)),(Te?!Mp(Ze,Te):Ze)||!Ja(Je)||Qe){const ge={...Je,...Qe&&fd(xe)?{isValid:xe}:{},errors:n.errors,name:ce};n={...n,...ge},p.state.next(ge)}},R=async ce=>{w(ce,!0);const xe=await t.resolver(o,t.context,Oet(ce||s.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(ce),xe},L=async ce=>{const{errors:xe}=await R(ce);if(ce)for(const Te of ce){const Je=Pt(xe,Te);Je?yi(n.errors,Te,Je):to(n.errors,Te)}else n.errors=xe;return xe},B=async(ce,xe,Te={valid:!0})=>{for(const Je in ce){const Ze=ce[Je];if(Ze){const{_f:Qe,...ge}=Ze;if(Qe){const Be=s.array.has(Qe.name),it=Ze._f&&Net(Ze._f);it&&d.validatingFields&&w([Qe.name],!0);const At=await DK(Ze,s.disabled,o,m,t.shouldUseNativeValidation&&!xe,Be);if(it&&d.validatingFields&&w([Qe.name]),At[Qe.name]&&(Te.valid=!1,xe))break;!xe&&(Pt(At,Qe.name)?Be?Let(n.errors,At,Qe.name):yi(n.errors,Qe.name,At[Qe.name]):to(n.errors,Qe.name))}!Ja(ge)&&await B(ge,xe,Te)}}return Te.valid},$=()=>{for(const ce of s.unMount){const xe=Pt(r,ce);xe&&(xe._f.refs?xe._f.refs.every(Te=>!pL(Te)):!pL(xe._f.ref))&&Ee(ce)}s.unMount=new Set},q=(ce,xe)=>!t.disabled&&(ce&&xe&&yi(o,ce,xe),!Mp(K(),i)),z=(ce,xe,Te)=>Eet(ce,s,{...a.mount?o:Vi(xe)?i:Tl(ce)?{[ce]:xe}:xe},Te,xe),W=ce=>u7(Pt(a.mount?o:i,ce,t.shouldUnregister?Pt(i,ce,[]):[])),G=(ce,xe,Te={})=>{const Je=Pt(r,ce);let Ze=xe;if(Je){const Qe=Je._f;Qe&&(!Qe.disabled&&yi(o,ce,gpe(xe,Qe)),Ze=FN(Qe.ref)&&Is(xe)?"":xe,hpe(Qe.ref)?[...Qe.ref.options].forEach(ge=>ge.selected=Ze.includes(ge.value)):Qe.refs?QT(Qe.ref)?Qe.refs.forEach(ge=>{(!ge.defaultChecked||!ge.disabled)&&(Array.isArray(Ze)?ge.checked=!!Ze.find(Be=>Be===ge.value):ge.checked=Ze===ge.value||!!Ze)}):Qe.refs.forEach(ge=>ge.checked=ge.value===Ze):f7(Qe.ref)?Qe.ref.value="":(Qe.ref.value=Ze,Qe.ref.type||p.state.next({name:ce,values:Do(o)})))}(Te.shouldDirty||Te.shouldTouch)&&N(ce,Ze,Te.shouldTouch,Te.shouldDirty,!0),Te.shouldValidate&&oe(ce)},Z=(ce,xe,Te)=>{for(const Je in xe){if(!xe.hasOwnProperty(Je))return;const Ze=xe[Je],Qe=ce+"."+Je,ge=Pt(r,Qe);(s.array.has(ce)||lo(Ze)||ge&&!ge._f)&&!r0(Ze)?Z(Qe,Ze,Te):G(Qe,Ze,Te)}},V=(ce,xe,Te={})=>{const Je=Pt(r,ce),Ze=s.array.has(ce),Qe=Do(xe);yi(o,ce,Qe),Ze?(p.array.next({name:ce,values:Do(o)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&Te.shouldDirty&&p.state.next({name:ce,dirtyFields:xv(i,o),isDirty:q(ce,Qe)})):Je&&!Je._f&&!Is(Qe)?Z(ce,Qe,Te):G(ce,Qe,Te),OK(ce,s)&&p.state.next({...n,name:ce}),p.state.next({name:a.mount?ce:void 0,values:Do(o)})},ne=async ce=>{a.mount=!0;const xe=ce.target;let Te=xe.name,Je=!0;const Ze=Pt(r,Te),Qe=it=>{Je=Number.isNaN(it)||r0(it)&&isNaN(it.getTime())||Mp(it,Pt(o,Te,it))},ge=_K(t.mode),Be=_K(t.reValidateMode);if(Ze){let it,At;const qt=xe.type?kK(Ze._f):met(ce),Zn=ce.type===wK.BLUR||ce.type===wK.FOCUS_OUT,Tn=!Met(Ze._f)&&!t.resolver&&!Pt(n.errors,Te)&&!Ze._f.deps||Iet(Zn,Pt(n.touchedFields,Te),n.isSubmitted,Be,ge),or=OK(Te,s,Zn);yi(o,Te,qt),Zn?(!xe||!xe.readOnly)&&(Ze._f.onBlur&&Ze._f.onBlur(ce),l&&l(0)):Ze._f.onChange&&Ze._f.onChange(ce);const Yn=N(Te,qt,Zn),xr=!Ja(Yn)||or;if(!Zn&&p.state.next({name:Te,type:ce.type,values:Do(o)}),Tn)return(d.isValid||u.isValid)&&(t.mode==="onBlur"?Zn&&x():Zn||x()),xr&&p.state.next({name:Te,...or?{}:Yn});if(!Zn&&or&&p.state.next({...n}),t.resolver){const{errors:un}=await R([Te]);if(Qe(qt),Je){const xi=NK(n.errors,r,Te),Ct=NK(un,r,xi.name||Te);it=Ct.error,Te=Ct.name,At=Ja(un)}}else w([Te],!0),it=(await DK(Ze,s.disabled,o,m,t.shouldUseNativeValidation))[Te],w([Te]),Qe(qt),Je&&(it?At=!1:(d.isValid||u.isValid)&&(At=await B(r,!0)));Je&&(Ze._f.deps&&(!Array.isArray(Ze._f.deps)||Ze._f.deps.length>0)&&oe(Ze._f.deps),A(Te,At,it,Yn))}},X=(ce,xe)=>{if(Pt(n.errors,xe)&&ce.focus)return ce.focus(),1},oe=async(ce,xe={})=>{let Te,Je;const Ze=PS(ce);if(t.resolver){const Qe=await L(Vi(ce)?ce:Ze);Te=Ja(Qe),Je=ce?!Ze.some(ge=>Pt(Qe,ge)):Te}else ce?(Je=(await Promise.all(Ze.map(async Qe=>{const ge=Pt(r,Qe);return await B(ge&&ge._f?{[Qe]:ge}:ge)}))).every(Boolean),!(!Je&&!n.isValid)&&x()):Je=Te=await B(r);return p.state.next({...!Tl(ce)||(d.isValid||u.isValid)&&Te!==n.isValid?{}:{name:ce},...t.resolver||!ce?{isValid:Te}:{},errors:n.errors}),xe.shouldFocus&&!Je&&LS(r,X,ce?Ze:s.mount),Je},K=(ce,xe)=>{let Te={...a.mount?o:i};return xe&&(Te=fpe(xe.dirtyFields?n.dirtyFields:n.touchedFields,Te)),Vi(ce)?Te:Tl(ce)?Pt(Te,ce):ce.map(Je=>Pt(Te,Je))},Q=(ce,xe)=>({invalid:!!Pt((xe||n).errors,ce),isDirty:!!Pt((xe||n).dirtyFields,ce),error:Pt((xe||n).errors,ce),isValidating:!!Pt(n.validatingFields,ce),isTouched:!!Pt((xe||n).touchedFields,ce)}),te=ce=>{ce&&PS(ce).forEach(xe=>to(n.errors,xe)),p.state.next({errors:ce?n.errors:{}})},U=(ce,xe,Te)=>{const Je=(Pt(r,ce,{_f:{}})._f||{}).ref,Ze=Pt(n.errors,ce)||{},{ref:Qe,message:ge,type:Be,...it}=Ze;yi(n.errors,ce,{...it,...xe,ref:Je}),p.state.next({name:ce,errors:n.errors,isValid:!1}),Te&&Te.shouldFocus&&Je&&Je.focus&&Je.focus()},fe=(ce,xe)=>ou(ce)?p.state.subscribe({next:Te=>"values"in Te&&ce(z(void 0,xe),Te)}):z(ce,xe,!0),me=ce=>p.state.subscribe({next:xe=>{Ret(ce.name,xe.name,ce.exact)&&Det(xe,ce.formState||d,Qt,ce.reRenderRoot)&&ce.callback({values:{...o},...n,...xe,defaultValues:i})}}).unsubscribe,ke=ce=>(a.mount=!0,u={...u,...ce.formState},me({...ce,formState:u})),Ee=(ce,xe={})=>{for(const Te of ce?PS(ce):s.mount)s.mount.delete(Te),s.array.delete(Te),xe.keepValue||(to(r,Te),to(o,Te)),!xe.keepError&&to(n.errors,Te),!xe.keepDirty&&to(n.dirtyFields,Te),!xe.keepTouched&&to(n.touchedFields,Te),!xe.keepIsValidating&&to(n.validatingFields,Te),!t.shouldUnregister&&!xe.keepDefaultValue&&to(i,Te);p.state.next({values:Do(o)}),p.state.next({...n,...xe.keepDirty?{isDirty:q()}:{}}),!xe.keepIsValid&&x()},ve=({disabled:ce,name:xe})=>{(fd(ce)&&a.mount||ce||s.disabled.has(xe))&&(ce?s.disabled.add(xe):s.disabled.delete(xe))},we=(ce,xe={})=>{let Te=Pt(r,ce);const Je=fd(xe.disabled)||fd(t.disabled);return yi(r,ce,{...Te||{},_f:{...Te&&Te._f?Te._f:{ref:{name:ce}},name:ce,mount:!0,...xe}}),s.mount.add(ce),Te?ve({disabled:fd(xe.disabled)?xe.disabled:t.disabled,name:ce}):I(ce,!0,xe.value),{...Je?{disabled:xe.disabled||t.disabled}:{},...t.progressive?{required:!!xe.required,min:$E(xe.min),max:$E(xe.max),minLength:$E(xe.minLength),maxLength:$E(xe.maxLength),pattern:$E(xe.pattern)}:{},name:ce,onChange:ne,onBlur:ne,ref:Ze=>{if(Ze){we(ce,xe),Te=Pt(r,ce);const Qe=Vi(Ze.value)&&Ze.querySelectorAll&&Ze.querySelectorAll("input,select,textarea")[0]||Ze,ge=Tet(Qe),Be=Te._f.refs||[];if(ge?Be.find(it=>it===Qe):Qe===Te._f.ref)return;yi(r,ce,{_f:{...Te._f,...ge?{refs:[...Be.filter(pL),Qe,...Array.isArray(Pt(i,ce))?[{}]:[]],ref:{type:Qe.type,name:ce}}:{ref:Qe}}}),I(ce,!1,void 0,Qe)}else Te=Pt(r,ce,{}),Te._f&&(Te._f.mount=!1),(t.shouldUnregister||xe.shouldUnregister)&&!(yet(s.array,ce)&&a.action)&&s.unMount.add(ce)}}},je=()=>t.shouldFocusError&&LS(r,X,s.mount),Ke=ce=>{fd(ce)&&(p.state.next({disabled:ce}),LS(r,(xe,Te)=>{const Je=Pt(r,Te);Je&&(xe.disabled=Je._f.disabled||ce,Array.isArray(Je._f.refs)&&Je._f.refs.forEach(Ze=>{Ze.disabled=Je._f.disabled||ce}))},0,!1))},De=(ce,xe)=>async Te=>{let Je;Te&&(Te.preventDefault&&Te.preventDefault(),Te.persist&&Te.persist());let Ze=Do(o);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Qe,values:ge}=await R();n.errors=Qe,Ze=Do(ge)}else await B(r);if(s.disabled.size)for(const Qe of s.disabled)to(Ze,Qe);if(to(n.errors,"root"),Ja(n.errors)){p.state.next({errors:{}});try{await ce(Ze,Te)}catch(Qe){Je=Qe}}else xe&&await xe({...n.errors},Te),je(),setTimeout(je);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ja(n.errors)&&!Je,submitCount:n.submitCount+1,errors:n.errors}),Je)throw Je},It=(ce,xe={})=>{Pt(r,ce)&&(Vi(xe.defaultValue)?V(ce,Do(Pt(i,ce))):(V(ce,xe.defaultValue),yi(i,ce,Do(xe.defaultValue))),xe.keepTouched||to(n.touchedFields,ce),xe.keepDirty||(to(n.dirtyFields,ce),n.isDirty=xe.defaultValue?q(ce,Do(Pt(i,ce))):q()),xe.keepError||(to(n.errors,ce),d.isValid&&x()),p.state.next({...n}))},Fe=(ce,xe={})=>{const Te=ce?Do(ce):i,Je=Do(Te),Ze=Ja(ce),Qe=Ze?i:Je;if(xe.keepDefaultValues||(i=Te),!xe.keepValues){if(xe.keepDirtyValues){const ge=new Set([...s.mount,...Object.keys(xv(i,o))]);for(const Be of Array.from(ge))Pt(n.dirtyFields,Be)?yi(Qe,Be,Pt(o,Be)):V(Be,Pt(Qe,Be))}else{if(c7&&Vi(ce))for(const ge of s.mount){const Be=Pt(r,ge);if(Be&&Be._f){const it=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(FN(it)){const At=it.closest("form");if(At){At.reset();break}}}}if(xe.keepFieldsRef)for(const ge of s.mount)V(ge,Pt(Qe,ge));else r={}}o=t.shouldUnregister?xe.keepDefaultValues?Do(i):{}:Do(Qe),p.array.next({values:{...Qe}}),p.state.next({values:{...Qe}})}s={mount:xe.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!xe.keepIsValid||!!xe.keepDirtyValues||!t.shouldUnregister&&!Ja(Qe),a.watch=!!t.shouldUnregister,p.state.next({submitCount:xe.keepSubmitCount?n.submitCount:0,isDirty:Ze?!1:xe.keepDirty?n.isDirty:!!(xe.keepDefaultValues&&!Mp(ce,i)),isSubmitted:xe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ze?{}:xe.keepDirtyValues?xe.keepDefaultValues&&o?xv(i,o):n.dirtyFields:xe.keepDefaultValues&&ce?xv(i,ce):xe.keepDirty?n.dirtyFields:{},touchedFields:xe.keepTouched?n.touchedFields:{},errors:xe.keepErrors?n.errors:{},isSubmitSuccessful:xe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},an=(ce,xe)=>Fe(ou(ce)?ce(o):ce,xe),cn=(ce,xe={})=>{const Te=Pt(r,ce),Je=Te&&Te._f;if(Je){const Ze=Je.refs?Je.refs[0]:Je.ref;Ze.focus&&(Ze.focus(),xe.shouldSelect&&ou(Ze.select)&&Ze.select())}},Qt=ce=>{n={...n,...ce}},er={control:{register:we,unregister:Ee,getFieldState:Q,handleSubmit:De,setError:U,_subscribe:me,_runSchema:R,_focusError:je,_getWatch:z,_getDirty:q,_setValid:x,_setFieldArray:T,_setDisabledField:ve,_setErrors:O,_getFieldArray:W,_reset:Fe,_resetDefaultValues:()=>ou(t.defaultValues)&&t.defaultValues().then(ce=>{an(ce,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:Ke,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(ce){a=ce},get _defaultValues(){return i},get _names(){return s},set _names(ce){s=ce},get _formState(){return n},get _options(){return t},set _options(ce){t={...t,...ce}}},subscribe:ke,trigger:oe,register:we,handleSubmit:De,watch:fe,setValue:V,getValues:K,reset:an,resetField:It,clearErrors:te,unregister:Ee,setError:U,setFocus:cn,getFieldState:Q};return{...er,formControl:er}}function $et(e={}){const t=F.useRef(void 0),n=F.useRef(void 0),[r,i]=F.useState({isDirty:!1,isValidating:!1,isLoading:ou(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ou(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!ou(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...s}=Bet(e);t.current={...s,formState:r}}const o=t.current.control;return o._options=e,wet(()=>{const a=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(s=>({...s,isReady:!0})),o._formState.isReady=!0,a},[o]),F.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),F.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),F.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),F.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==r.isDirty&&o._subjects.state.next({isDirty:a})}},[o,r.isDirty]),F.useEffect(()=>{e.values&&!Mp(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=e.values,i(a=>({...a}))):o._resetDefaultValues()},[o,e.values]),F.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=xet(r,o),t.current}function Het(){return Rhe.useSyncExternalStore(Fet,()=>!0,()=>!1)}function Fet(){return()=>{}}var p7="Avatar",[Uet]=Vs(p7),[zet,bpe]=Uet(p7),vpe=C.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,o]=C.useState("idle");return g.jsx(zet,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:g.jsx(Dt.span,{...r,ref:t})})});vpe.displayName=p7;var xpe="AvatarImage",wpe=C.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=e,a=bpe(xpe,n),s=Vet(r,o),l=Co(c=>{i(c),a.onImageLoadingStatusChange(c)});return Xi(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?g.jsx(Dt.img,{...o,ref:t,src:r}):null});wpe.displayName=xpe;var Epe="AvatarFallback",Spe=C.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,o=bpe(Epe,n),[a,s]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&o.imageLoadingStatus!=="loaded"?g.jsx(Dt.span,{...i,ref:t}):null});Spe.displayName=Epe;function RK(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Vet(e,{referrerPolicy:t,crossOrigin:n}){const r=Het(),i=C.useRef(null),o=r?(i.current||(i.current=new window.Image),i.current):null,[a,s]=C.useState(()=>RK(o,e));return Xi(()=>{s(RK(o,e))},[o,e]),Xi(()=>{const l=u=>()=>{s(u)};if(!o)return;const c=l("loaded"),d=l("error");return o.addEventListener("load",c),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",c),o.removeEventListener("error",d)}},[o,n,t]),a}var qet=vpe,Wet=wpe,Yet=Spe;const m7="-",Get=e=>{const t=Xet(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const s=a.split(m7);return s[0]===""&&s.length!==1&&s.shift(),Cpe(s,t)||Ket(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},Cpe=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Cpe(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(m7);return t.validators.find(({validator:a})=>a(o))?.classGroupId},IK=/^\[(.+)\]$/,Ket=e=>{if(IK.test(e)){const t=IK.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Xet=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Qet(Object.entries(e.classGroups),n).forEach(([o,a])=>{A8(a,r,o,t)}),r},A8=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:PK(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(Zet(i)){A8(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{A8(a,PK(t,o),n,r)})})},PK=(e,t)=>{let n=e;return t.split(m7).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Zet=e=>e.isThemeGetter,Qet=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[t+a,s])):o);return[n,i]}):e,Jet=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},Tpe="!",ett=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,a=s=>{const l=[];let c=0,d=0,u;for(let w=0;w<s.length;w++){let T=s[w];if(c===0){if(T===i&&(r||s.slice(w,w+o)===t)){l.push(s.slice(d,w)),d=w+o;continue}if(T==="/"){u=w;continue}}T==="["?c++:T==="]"&&c--}const p=l.length===0?s:s.substring(d),m=p.startsWith(Tpe),v=m?p.substring(1):p,x=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}};return n?s=>n({className:s,parseClassName:a}):a},ttt=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},ntt=e=>({cache:Jet(e.cacheSize),parseClassName:ett(e),...Get(e)}),rtt=/\s+/,itt=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],a=e.trim().split(rtt);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:d,hasImportantModifier:u,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let v=!!m,x=r(v?p.substring(0,m):p);if(!x){if(!v){s=c+(s.length>0?" "+s:s);continue}if(x=r(p),!x){s=c+(s.length>0?" "+s:s);continue}v=!1}const w=ttt(d).join(":"),T=u?w+Tpe:w,k=T+x;if(o.includes(k))continue;o.push(k);const O=i(x,v);for(let I=0;I<O.length;++I){const N=O[I];o.push(T+N)}s=c+(s.length>0?" "+s:s)}return s};function ott(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=kpe(t))&&(r&&(r+=" "),r+=n);return r}const kpe=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=kpe(e[r]))&&(n&&(n+=" "),n+=t);return n};function att(e,...t){let n,r,i,o=a;function a(l){const c=t.reduce((d,u)=>u(d),e());return n=ntt(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const d=itt(l,n);return i(l,d),d}return function(){return o(ott.apply(null,arguments))}}const li=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},_pe=/^\[(?:([a-z-]+):)?(.+)\]$/i,stt=/^\d+\/\d+$/,ltt=new Set(["px","full","screen"]),ctt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,utt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dtt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ftt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,htt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sf=e=>Wv(e)||ltt.has(e)||stt.test(e),pp=e=>mx(e,"length",wtt),Wv=e=>!!e&&!Number.isNaN(Number(e)),mL=e=>mx(e,"number",Wv),HE=e=>!!e&&Number.isInteger(Number(e)),ptt=e=>e.endsWith("%")&&Wv(e.slice(0,-1)),Sn=e=>_pe.test(e),mp=e=>ctt.test(e),mtt=new Set(["length","size","percentage"]),gtt=e=>mx(e,mtt,Ape),ytt=e=>mx(e,"position",Ape),btt=new Set(["image","url"]),vtt=e=>mx(e,btt,Stt),xtt=e=>mx(e,"",Ett),FE=()=>!0,mx=(e,t,n)=>{const r=_pe.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},wtt=e=>utt.test(e)&&!dtt.test(e),Ape=()=>!1,Ett=e=>ftt.test(e),Stt=e=>htt.test(e),Ctt=()=>{const e=li("colors"),t=li("spacing"),n=li("blur"),r=li("brightness"),i=li("borderColor"),o=li("borderRadius"),a=li("borderSpacing"),s=li("borderWidth"),l=li("contrast"),c=li("grayscale"),d=li("hueRotate"),u=li("invert"),p=li("gap"),m=li("gradientColorStops"),v=li("gradientColorStopPositions"),x=li("inset"),w=li("margin"),T=li("opacity"),k=li("padding"),O=li("saturate"),I=li("scale"),N=li("sepia"),A=li("skew"),R=li("space"),L=li("translate"),B=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",Sn,t],z=()=>[Sn,t],W=()=>["",Sf,pp],G=()=>["auto",Wv,Sn],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",Sn],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Wv,Sn];return{cacheSize:500,separator:":",theme:{colors:[FE],spacing:[Sf,pp],blur:["none","",mp,Sn],brightness:Q(),borderColor:[e],borderRadius:["none","","full",mp,Sn],borderSpacing:z(),borderWidth:W(),contrast:Q(),grayscale:oe(),hueRotate:Q(),invert:oe(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[ptt,pp],inset:q(),margin:q(),opacity:Q(),padding:z(),saturate:Q(),scale:Q(),sepia:oe(),skew:Q(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Sn]}],container:["container"],columns:[{columns:[mp]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Sn]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",HE,Sn]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Sn]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",HE,Sn]}],"grid-cols":[{"grid-cols":[FE]}],"col-start-end":[{col:["auto",{span:["full",HE,Sn]},Sn]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[FE]}],"row-start-end":[{row:["auto",{span:[HE,Sn]},Sn]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Sn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Sn]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Sn,t]}],"min-w":[{"min-w":[Sn,t,"min","max","fit"]}],"max-w":[{"max-w":[Sn,t,"none","full","min","max","fit","prose",{screen:[mp]},mp]}],h:[{h:[Sn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Sn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Sn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Sn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",mp,pp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mL]}],"font-family":[{font:[FE]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Sn]}],"line-clamp":[{"line-clamp":["none",Wv,mL]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sf,Sn]}],"list-image":[{"list-image":["none",Sn]}],"list-style-type":[{list:["none","disc","decimal",Sn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sf,pp]}],"underline-offset":[{"underline-offset":["auto",Sf,Sn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Sn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Sn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),ytt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gtt]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vtt]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Sf,Sn]}],"outline-w":[{outline:[Sf,pp]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Sf,pp]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",mp,xtt]}],"shadow-color":[{shadow:[FE]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",mp,Sn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[O]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Sn]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Sn]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Sn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[HE,Sn]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Sn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Sn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Sn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sf,pp,mL]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ttt=att(Ctt);function LK(e){const t=ktt(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(Att);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function ktt(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=Ntt(i),s=Ott(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _tt=Symbol("radix.slottable");function Att(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_tt}function Ott(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Ntt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function g7(e){const t=e+"CollectionProvider",[n,r]=Vs(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:w,children:T}=x,k=F.useRef(null),O=F.useRef(new Map).current;return g.jsx(i,{scope:w,itemMap:O,collectionRef:k,children:T})};a.displayName=t;const s=e+"CollectionSlot",l=LK(s),c=F.forwardRef((x,w)=>{const{scope:T,children:k}=x,O=o(s,T),I=An(w,O.collectionRef);return g.jsx(l,{ref:I,children:k})});c.displayName=s;const d=e+"CollectionItemSlot",u="data-radix-collection-item",p=LK(d),m=F.forwardRef((x,w)=>{const{scope:T,children:k,...O}=x,I=F.useRef(null),N=An(w,I),A=o(d,T);return F.useEffect(()=>(A.itemMap.set(I,{ref:I,...O}),()=>void A.itemMap.delete(I))),g.jsx(p,{[u]:"",ref:N,children:k})});m.displayName=d;function v(x){const w=o(e+"CollectionConsumer",x);return F.useCallback(()=>{const k=w.collectionRef.current;if(!k)return[];const O=Array.from(k.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((A,R)=>O.indexOf(A.ref.current)-O.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:c,ItemSlot:m},v,r]}var Mtt=C.createContext(void 0);function JT(e){const t=C.useContext(Mtt);return e||t||"ltr"}var gL="rovingFocusGroup.onEntryFocus",Dtt={bubbles:!1,cancelable:!0},ek="RovingFocusGroup",[O8,Ope,Rtt]=g7(ek),[Itt,pR]=Vs(ek,[Rtt]),[Ptt,Ltt]=Itt(ek),Npe=C.forwardRef((e,t)=>g.jsx(O8.Provider,{scope:e.__scopeRovingFocusGroup,children:g.jsx(O8.Slot,{scope:e.__scopeRovingFocusGroup,children:g.jsx(jtt,{...e,ref:t})})}));Npe.displayName=ek;var jtt=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,p=C.useRef(null),m=An(t,p),v=JT(o),[x,w]=gu({prop:a,defaultProp:s??null,onChange:l,caller:ek}),[T,k]=C.useState(!1),O=Co(c),I=Ope(n),N=C.useRef(!1),[A,R]=C.useState(0);return C.useEffect(()=>{const L=p.current;if(L)return L.addEventListener(gL,O),()=>L.removeEventListener(gL,O)},[O]),g.jsx(Ptt,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:x,onItemFocus:C.useCallback(L=>w(L),[w]),onItemShiftTab:C.useCallback(()=>k(!0),[]),onFocusableItemAdd:C.useCallback(()=>R(L=>L+1),[]),onFocusableItemRemove:C.useCallback(()=>R(L=>L-1),[]),children:g.jsx(Dt.div,{tabIndex:T||A===0?-1:0,"data-orientation":r,...u,ref:m,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{N.current=!0}),onFocus:dt(e.onFocus,L=>{const B=!N.current;if(L.target===L.currentTarget&&B&&!T){const $=new CustomEvent(gL,Dtt);if(L.currentTarget.dispatchEvent($),!$.defaultPrevented){const q=I().filter(V=>V.focusable),z=q.find(V=>V.active),W=q.find(V=>V.id===x),Z=[z,W,...q].filter(Boolean).map(V=>V.ref.current);Rpe(Z,d)}}N.current=!1}),onBlur:dt(e.onBlur,()=>k(!1))})})}),Mpe="RovingFocusGroupItem",Dpe=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=e,l=Gi(),c=o||l,d=Ltt(Mpe,n),u=d.currentTabStopId===c,p=Ope(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:x}=d;return C.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),g.jsx(O8.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:g.jsx(Dt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...s,ref:t,onMouseDown:dt(e.onMouseDown,w=>{r?d.onItemFocus(c):w.preventDefault()}),onFocus:dt(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:dt(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const T=Htt(w,d.orientation,d.dir);if(T!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let O=p().filter(I=>I.focusable).map(I=>I.ref.current);if(T==="last")O.reverse();else if(T==="prev"||T==="next"){T==="prev"&&O.reverse();const I=O.indexOf(w.currentTarget);O=d.loop?Ftt(O,I+1):O.slice(I+1)}setTimeout(()=>Rpe(O))}}),children:typeof a=="function"?a({isCurrentTabStop:u,hasTabStop:x!=null}):a})})});Dpe.displayName=Mpe;var Btt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $tt(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Htt(e,t,n){const r=$tt(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Btt[r]}function Rpe(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ftt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Ipe=Npe,Ppe=Dpe;function Utt(e){const t=ztt(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(qtt);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function ztt(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=Ytt(i),s=Wtt(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vtt=Symbol("radix.slottable");function qtt(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vtt}function Wtt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Ytt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var N8=["Enter"," "],Gtt=["ArrowDown","PageUp","Home"],Lpe=["ArrowUp","PageDown","End"],Ktt=[...Gtt,...Lpe],Xtt={ltr:[...N8,"ArrowRight"],rtl:[...N8,"ArrowLeft"]},Ztt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tk="Menu",[_C,Qtt,Jtt]=g7(tk),[uy,jpe]=Vs(tk,[Jtt,dm,pR]),nk=dm(),Bpe=pR(),[$pe,ym]=uy(tk),[ent,rk]=uy(tk),Hpe=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:a=!0}=e,s=nk(t),[l,c]=C.useState(null),d=C.useRef(!1),u=Co(o),p=JT(i);return C.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),g.jsx(NT,{...s,children:g.jsx($pe,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:g.jsx(ent,{scope:t,onClose:C.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:p,modal:a,children:r})})})};Hpe.displayName=tk;var tnt="MenuAnchor",y7=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=nk(n);return g.jsx(MT,{...i,...r,ref:t})});y7.displayName=tnt;var b7="MenuPortal",[nnt,Fpe]=uy(b7,{forceMount:void 0}),Upe=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=ym(b7,t);return g.jsx(nnt,{scope:t,forceMount:n,children:g.jsx(Fo,{present:n||o.open,children:g.jsx(Y1,{asChild:!0,container:i,children:r})})})};Upe.displayName=b7;var mc="MenuContent",[rnt,v7]=uy(mc),zpe=C.forwardRef((e,t)=>{const n=Fpe(mc,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=ym(mc,e.__scopeMenu),a=rk(mc,e.__scopeMenu);return g.jsx(_C.Provider,{scope:e.__scopeMenu,children:g.jsx(Fo,{present:r||o.open,children:g.jsx(_C.Slot,{scope:e.__scopeMenu,children:a.modal?g.jsx(int,{...i,ref:t}):g.jsx(ont,{...i,ref:t})})})})}),int=C.forwardRef((e,t)=>{const n=ym(mc,e.__scopeMenu),r=C.useRef(null),i=An(t,r);return C.useEffect(()=>{const o=r.current;if(o)return eD(o)},[]),g.jsx(x7,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:dt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ont=C.forwardRef((e,t)=>{const n=ym(mc,e.__scopeMenu);return g.jsx(x7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ant=Utt("MenuContent.ScrollLock"),x7=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:p,onDismiss:m,disableOutsideScroll:v,...x}=e,w=ym(mc,n),T=rk(mc,n),k=nk(n),O=Bpe(n),I=Qtt(n),[N,A]=C.useState(null),R=C.useRef(null),L=An(t,R,w.onContentChange),B=C.useRef(0),$=C.useRef(""),q=C.useRef(0),z=C.useRef(null),W=C.useRef("right"),G=C.useRef(0),Z=v?mT:C.Fragment,V=v?{as:ant,allowPinchZoom:!0}:void 0,ne=oe=>{const K=$.current+oe,Q=I().filter(Ee=>!Ee.disabled),te=document.activeElement,U=Q.find(Ee=>Ee.ref.current===te)?.textValue,fe=Q.map(Ee=>Ee.textValue),me=bnt(fe,K,U),ke=Q.find(Ee=>Ee.textValue===me)?.ref.current;(function Ee(ve){$.current=ve,window.clearTimeout(B.current),ve!==""&&(B.current=window.setTimeout(()=>Ee(""),1e3))})(K),ke&&setTimeout(()=>ke.focus())};C.useEffect(()=>()=>window.clearTimeout(B.current),[]),QM();const X=C.useCallback(oe=>W.current===z.current?.side&&xnt(oe,z.current?.area),[]);return g.jsx(rnt,{scope:n,searchRef:$,onItemEnter:C.useCallback(oe=>{X(oe)&&oe.preventDefault()},[X]),onItemLeave:C.useCallback(oe=>{X(oe)||(R.current?.focus(),A(null))},[X]),onTriggerLeave:C.useCallback(oe=>{X(oe)&&oe.preventDefault()},[X]),pointerGraceTimerRef:q,onPointerGraceIntentChange:C.useCallback(oe=>{z.current=oe},[]),children:g.jsx(Z,{...V,children:g.jsx(pT,{asChild:!0,trapped:i,onMountAutoFocus:dt(o,oe=>{oe.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:g.jsx(W1,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:p,onDismiss:m,children:g.jsx(Ipe,{asChild:!0,...O,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:A,onEntryFocus:dt(l,oe=>{T.isUsingKeyboardRef.current||oe.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(mD,{role:"menu","aria-orientation":"vertical","data-state":ame(w.open),"data-radix-menu-content":"",dir:T.dir,...k,...x,ref:L,style:{outline:"none",...x.style},onKeyDown:dt(x.onKeyDown,oe=>{const Q=oe.target.closest("[data-radix-menu-content]")===oe.currentTarget,te=oe.ctrlKey||oe.altKey||oe.metaKey,U=oe.key.length===1;Q&&(oe.key==="Tab"&&oe.preventDefault(),!te&&U&&ne(oe.key));const fe=R.current;if(oe.target!==fe||!Ktt.includes(oe.key))return;oe.preventDefault();const ke=I().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);Lpe.includes(oe.key)&&ke.reverse(),gnt(ke)}),onBlur:dt(e.onBlur,oe=>{oe.currentTarget.contains(oe.target)||(window.clearTimeout(B.current),$.current="")}),onPointerMove:dt(e.onPointerMove,AC(oe=>{const K=oe.target,Q=G.current!==oe.clientX;if(oe.currentTarget.contains(K)&&Q){const te=oe.clientX>G.current?"right":"left";W.current=te,G.current=oe.clientX}}))})})})})})})});zpe.displayName=mc;var snt="MenuGroup",w7=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Dt.div,{role:"group",...r,ref:t})});w7.displayName=snt;var lnt="MenuLabel",Vpe=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Dt.div,{...r,ref:t})});Vpe.displayName=lnt;var zN="MenuItem",jK="menu.itemSelect",mR=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=C.useRef(null),a=rk(zN,e.__scopeMenu),s=v7(zN,e.__scopeMenu),l=An(t,o),c=C.useRef(!1),d=()=>{const u=o.current;if(!n&&u){const p=new CustomEvent(jK,{bubbles:!0,cancelable:!0});u.addEventListener(jK,m=>r?.(m),{once:!0}),kre(u,p),p.defaultPrevented?c.current=!1:a.onClose()}};return g.jsx(qpe,{...i,ref:l,disabled:n,onClick:dt(e.onClick,d),onPointerDown:u=>{e.onPointerDown?.(u),c.current=!0},onPointerUp:dt(e.onPointerUp,u=>{c.current||u.currentTarget?.click()}),onKeyDown:dt(e.onKeyDown,u=>{const p=s.searchRef.current!=="";n||p&&u.key===" "||N8.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});mR.displayName=zN;var qpe=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,a=v7(zN,n),s=Bpe(n),l=C.useRef(null),c=An(t,l),[d,u]=C.useState(!1),[p,m]=C.useState("");return C.useEffect(()=>{const v=l.current;v&&m((v.textContent??"").trim())},[o.children]),g.jsx(_C.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:g.jsx(Ppe,{asChild:!0,...s,focusable:!r,children:g.jsx(Dt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:dt(e.onPointerMove,AC(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:dt(e.onPointerLeave,AC(v=>a.onItemLeave(v))),onFocus:dt(e.onFocus,()=>u(!0)),onBlur:dt(e.onBlur,()=>u(!1))})})})}),cnt="MenuCheckboxItem",Wpe=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return g.jsx(Zpe,{scope:e.__scopeMenu,checked:n,children:g.jsx(mR,{role:"menuitemcheckbox","aria-checked":VN(n)?"mixed":n,...i,ref:t,"data-state":C7(n),onSelect:dt(i.onSelect,()=>r?.(VN(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Wpe.displayName=cnt;var Ype="MenuRadioGroup",[unt,dnt]=uy(Ype,{value:void 0,onValueChange:()=>{}}),Gpe=C.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=Co(r);return g.jsx(unt,{scope:e.__scopeMenu,value:n,onValueChange:o,children:g.jsx(w7,{...i,ref:t})})});Gpe.displayName=Ype;var Kpe="MenuRadioItem",Xpe=C.forwardRef((e,t)=>{const{value:n,...r}=e,i=dnt(Kpe,e.__scopeMenu),o=n===i.value;return g.jsx(Zpe,{scope:e.__scopeMenu,checked:o,children:g.jsx(mR,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":C7(o),onSelect:dt(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Xpe.displayName=Kpe;var E7="MenuItemIndicator",[Zpe,fnt]=uy(E7,{checked:!1}),Qpe=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=fnt(E7,n);return g.jsx(Fo,{present:r||VN(o.checked)||o.checked===!0,children:g.jsx(Dt.span,{...i,ref:t,"data-state":C7(o.checked)})})});Qpe.displayName=E7;var hnt="MenuSeparator",Jpe=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Dt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Jpe.displayName=hnt;var pnt="MenuArrow",eme=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=nk(n);return g.jsx(gD,{...i,...r,ref:t})});eme.displayName=pnt;var S7="MenuSub",[mnt,tme]=uy(S7),nme=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,o=ym(S7,t),a=nk(t),[s,l]=C.useState(null),[c,d]=C.useState(null),u=Co(i);return C.useEffect(()=>(o.open===!1&&u(!1),()=>u(!1)),[o.open,u]),g.jsx(NT,{...a,children:g.jsx($pe,{scope:t,open:r,onOpenChange:u,content:c,onContentChange:d,children:g.jsx(mnt,{scope:t,contentId:Gi(),triggerId:Gi(),trigger:s,onTriggerChange:l,children:n})})})};nme.displayName=S7;var lS="MenuSubTrigger",rme=C.forwardRef((e,t)=>{const n=ym(lS,e.__scopeMenu),r=rk(lS,e.__scopeMenu),i=tme(lS,e.__scopeMenu),o=v7(lS,e.__scopeMenu),a=C.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},d=C.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return C.useEffect(()=>d,[d]),C.useEffect(()=>{const u=s.current;return()=>{window.clearTimeout(u),l(null)}},[s,l]),g.jsx(y7,{asChild:!0,...c,children:g.jsx(qpe,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":ame(n.open),...e,ref:is(t,i.onTriggerChange),onClick:u=>{e.onClick?.(u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:dt(e.onPointerMove,AC(u=>{o.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:dt(e.onPointerLeave,AC(u=>{d();const p=n.content?.getBoundingClientRect();if(p){const m=n.content?.dataset.side,v=m==="right",x=v?-5:5,w=p[v?"left":"right"],T=p[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:u.clientX+x,y:u.clientY},{x:w,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:w,y:p.bottom}],side:m}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(u),u.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:dt(e.onKeyDown,u=>{const p=o.searchRef.current!=="";e.disabled||p&&u.key===" "||Xtt[r.dir].includes(u.key)&&(n.onOpenChange(!0),n.content?.focus(),u.preventDefault())})})})});rme.displayName=lS;var ime="MenuSubContent",ome=C.forwardRef((e,t)=>{const n=Fpe(mc,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=ym(mc,e.__scopeMenu),a=rk(mc,e.__scopeMenu),s=tme(ime,e.__scopeMenu),l=C.useRef(null),c=An(t,l);return g.jsx(_C.Provider,{scope:e.__scopeMenu,children:g.jsx(Fo,{present:r||o.open,children:g.jsx(_C.Slot,{scope:e.__scopeMenu,children:g.jsx(x7,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{a.isUsingKeyboardRef.current&&l.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:dt(e.onFocusOutside,d=>{d.target!==s.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:dt(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:dt(e.onKeyDown,d=>{const u=d.currentTarget.contains(d.target),p=Ztt[a.dir].includes(d.key);u&&p&&(o.onOpenChange(!1),s.trigger?.focus(),d.preventDefault())})})})})})});ome.displayName=ime;function ame(e){return e?"open":"closed"}function VN(e){return e==="indeterminate"}function C7(e){return VN(e)?"indeterminate":e?"checked":"unchecked"}function gnt(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function ynt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function bnt(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=ynt(e,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function vnt(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const s=t[o],l=t[a],c=s.x,d=s.y,u=l.x,p=l.y;d>r!=p>r&&n<(u-c)*(r-d)/(p-d)+c&&(i=!i)}return i}function xnt(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return vnt(n,t)}function AC(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wnt=Hpe,Ent=y7,Snt=Upe,Cnt=zpe,Tnt=w7,knt=Vpe,_nt=mR,Ant=Wpe,Ont=Gpe,Nnt=Xpe,Mnt=Qpe,Dnt=Jpe,Rnt=eme,Int=nme,Pnt=rme,Lnt=ome,gR="DropdownMenu",[jnt]=Vs(gR,[jpe]),Na=jpe(),[Bnt,sme]=jnt(gR),lme=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,l=Na(t),c=C.useRef(null),[d,u]=gu({prop:i,defaultProp:o??!1,onChange:a,caller:gR});return g.jsx(Bnt,{scope:t,triggerId:Gi(),triggerRef:c,contentId:Gi(),open:d,onOpenChange:u,onOpenToggle:C.useCallback(()=>u(p=>!p),[u]),modal:s,children:g.jsx(wnt,{...l,open:d,onOpenChange:u,dir:r,modal:s,children:n})})};lme.displayName=gR;var cme="DropdownMenuTrigger",ume=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=sme(cme,n),a=Na(n);return g.jsx(Ent,{asChild:!0,...a,children:g.jsx(Dt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:is(t,o.triggerRef),onPointerDown:dt(e.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(o.onOpenToggle(),o.open||s.preventDefault())}),onKeyDown:dt(e.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&o.onOpenToggle(),s.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});ume.displayName=cme;var $nt="DropdownMenuPortal",dme=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Na(t);return g.jsx(Snt,{...r,...n})};dme.displayName=$nt;var fme="DropdownMenuContent",hme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sme(fme,n),o=Na(n),a=C.useRef(!1);return g.jsx(Cnt,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:dt(e.onCloseAutoFocus,s=>{a.current||i.triggerRef.current?.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:dt(e.onInteractOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hme.displayName=fme;var Hnt="DropdownMenuGroup",Fnt=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Tnt,{...i,...r,ref:t})});Fnt.displayName=Hnt;var Unt="DropdownMenuLabel",pme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(knt,{...i,...r,ref:t})});pme.displayName=Unt;var znt="DropdownMenuItem",mme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(_nt,{...i,...r,ref:t})});mme.displayName=znt;var Vnt="DropdownMenuCheckboxItem",gme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Ant,{...i,...r,ref:t})});gme.displayName=Vnt;var qnt="DropdownMenuRadioGroup",Wnt=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Ont,{...i,...r,ref:t})});Wnt.displayName=qnt;var Ynt="DropdownMenuRadioItem",yme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Nnt,{...i,...r,ref:t})});yme.displayName=Ynt;var Gnt="DropdownMenuItemIndicator",bme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Mnt,{...i,...r,ref:t})});bme.displayName=Gnt;var Knt="DropdownMenuSeparator",vme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Dnt,{...i,...r,ref:t})});vme.displayName=Knt;var Xnt="DropdownMenuArrow",Znt=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Rnt,{...i,...r,ref:t})});Znt.displayName=Xnt;var Qnt=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:o}=e,a=Na(t),[s,l]=gu({prop:r,defaultProp:o??!1,onChange:i,caller:"DropdownMenuSub"});return g.jsx(Int,{...a,open:s,onOpenChange:l,children:n})},Jnt="DropdownMenuSubTrigger",xme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Pnt,{...i,...r,ref:t})});xme.displayName=Jnt;var ert="DropdownMenuSubContent",wme=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Na(n);return g.jsx(Lnt,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wme.displayName=ert;var Eme=lme,Sme=ume,trt=dme,T7=hme,k7=pme,_7=mme,A7=gme,Cme=yme,O7=bme,N7=vme,nrt=Qnt,M7=xme,D7=wme;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rrt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),irt=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),BK=e=>{const t=irt(e);return t.charAt(0).toUpperCase()+t.slice(1)},Tme=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),ort=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var art={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const srt=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>C.createElement("svg",{ref:l,...art,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Tme("lucide",i),...!o&&!ort(s)&&{"aria-hidden":"true"},...s},[...a.map(([c,d])=>C.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=(e,t)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(srt,{ref:o,iconNode:t,className:Tme(`lucide-${rrt(BK(e))}`,`lucide-${e}`,r),...i}));return n.displayName=BK(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lrt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kme=yR("check",lrt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const crt=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_me=yR("chevron-down",crt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const urt=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ame=yR("chevron-right",urt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const drt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],frt=yR("chevron-up",drt);function hrt(e){const t=prt(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(grt);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function prt(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=brt(i),s=yrt(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mrt=Symbol("radix.slottable");function grt(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mrt}function yrt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function brt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bR="Popover",[Ome]=Vs(bR,[dm]),ik=dm(),[vrt,bm]=Ome(bR),Nme=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!1}=e,s=ik(t),l=C.useRef(null),[c,d]=C.useState(!1),[u,p]=gu({prop:r,defaultProp:i??!1,onChange:o,caller:bR});return g.jsx(NT,{...s,children:g.jsx(vrt,{scope:t,contentId:Gi(),triggerRef:l,open:u,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:c,onCustomAnchorAdd:C.useCallback(()=>d(!0),[]),onCustomAnchorRemove:C.useCallback(()=>d(!1),[]),modal:a,children:n})})};Nme.displayName=bR;var Mme="PopoverAnchor",xrt=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=bm(Mme,n),o=ik(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=i;return C.useEffect(()=>(a(),()=>s()),[a,s]),g.jsx(MT,{...o,...r,ref:t})});xrt.displayName=Mme;var Dme="PopoverTrigger",Rme=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=bm(Dme,n),o=ik(n),a=An(t,i.triggerRef),s=g.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Bme(i.open),...r,ref:a,onClick:dt(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:g.jsx(MT,{asChild:!0,...o,children:s})});Rme.displayName=Dme;var R7="PopoverPortal",[wrt,Ert]=Ome(R7,{forceMount:void 0}),Ime=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=bm(R7,t);return g.jsx(wrt,{scope:t,forceMount:n,children:g.jsx(Fo,{present:n||o.open,children:g.jsx(Y1,{asChild:!0,container:i,children:r})})})};Ime.displayName=R7;var w1="PopoverContent",Pme=C.forwardRef((e,t)=>{const n=Ert(w1,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=bm(w1,e.__scopePopover);return g.jsx(Fo,{present:r||o.open,children:o.modal?g.jsx(Crt,{...i,ref:t}):g.jsx(Trt,{...i,ref:t})})});Pme.displayName=w1;var Srt=hrt("PopoverContent.RemoveScroll"),Crt=C.forwardRef((e,t)=>{const n=bm(w1,e.__scopePopover),r=C.useRef(null),i=An(t,r),o=C.useRef(!1);return C.useEffect(()=>{const a=r.current;if(a)return eD(a)},[]),g.jsx(mT,{as:Srt,allowPinchZoom:!0,children:g.jsx(Lme,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,a=>{a.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:dt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Trt=C.forwardRef((e,t)=>{const n=bm(w1,e.__scopePopover),r=C.useRef(!1),i=C.useRef(!1);return g.jsx(Lme,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Lme=C.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...u}=e,p=bm(w1,n),m=ik(n);return QM(),g.jsx(pT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:g.jsx(W1,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:g.jsx(mD,{"data-state":Bme(p.open),role:"dialog",id:p.contentId,...m,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),jme="PopoverClose",krt=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=bm(jme,n);return g.jsx(Dt.button,{type:"button",...r,ref:t,onClick:dt(e.onClick,()=>i.onOpenChange(!1))})});krt.displayName=jme;var _rt="PopoverArrow",Art=C.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ik(n);return g.jsx(gD,{...i,...r,ref:t})});Art.displayName=_rt;function Bme(e){return e?"open":"closed"}var $me=Nme,Hme=Rme,Ort=Ime,Fme=Pme;function M8(e,[t,n]){return Math.min(n,Math.max(t,e))}function Nrt(e){const t=Mrt(e),n=C.forwardRef((r,i)=>{const{children:o,...a}=r,s=C.Children.toArray(o),l=s.find(Rrt);if(l){const c=l.props.children,d=s.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return g.jsx(t,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return g.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function Mrt(e){const t=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const a=Prt(i),s=Irt(o,i.props);return i.type!==C.Fragment&&(s.ref=r?is(r,a):a),C.cloneElement(i,s)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Drt=Symbol("radix.slottable");function Rrt(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Drt}function Irt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Prt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Lrt(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var jrt=[" ","Enter","ArrowUp","ArrowDown"],Brt=[" ","Enter"],U0="Select",[vR,xR,$rt]=g7(U0),[gx]=Vs(U0,[$rt,dm]),wR=dm(),[Hrt,vm]=gx(U0),[Frt,Urt]=gx(U0),Ume=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:p,required:m,form:v}=e,x=wR(t),[w,T]=C.useState(null),[k,O]=C.useState(null),[I,N]=C.useState(!1),A=JT(c),[R,L]=gu({prop:r,defaultProp:i??!1,onChange:o,caller:U0}),[B,$]=gu({prop:a,defaultProp:s,onChange:l,caller:U0}),q=C.useRef(null),z=w?v||!!w.closest("form"):!0,[W,G]=C.useState(new Set),Z=Array.from(W).map(V=>V.props.value).join(";");return g.jsx(NT,{...x,children:g.jsxs(Hrt,{required:m,scope:t,trigger:w,onTriggerChange:T,valueNode:k,onValueNodeChange:O,valueNodeHasChildren:I,onValueNodeHasChildrenChange:N,contentId:Gi(),value:B,onValueChange:$,open:R,onOpenChange:L,dir:A,triggerPointerDownPosRef:q,disabled:p,children:[g.jsx(vR.Provider,{scope:t,children:g.jsx(Frt,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(V=>{G(ne=>new Set(ne).add(V))},[]),onNativeOptionRemove:C.useCallback(V=>{G(ne=>{const X=new Set(ne);return X.delete(V),X})},[]),children:n})}),z?g.jsxs(fge,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:u,value:B,onChange:V=>$(V.target.value),disabled:p,form:v,children:[B===void 0?g.jsx("option",{value:""}):null,Array.from(W)]},Z):null]})})};Ume.displayName=U0;var zme="SelectTrigger",Vme=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=wR(n),a=vm(zme,n),s=a.disabled||r,l=An(t,a.onTriggerChange),c=xR(n),d=C.useRef("touch"),[u,p,m]=pge(x=>{const w=c().filter(O=>!O.disabled),T=w.find(O=>O.value===a.value),k=mge(w,x,T);k!==void 0&&a.onValueChange(k.value)}),v=x=>{s||(a.onOpenChange(!0),m()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return g.jsx(MT,{asChild:!0,...o,children:g.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":hge(a.value)?"":void 0,...i,ref:l,onClick:dt(i.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&v(x)}),onPointerDown:dt(i.onPointerDown,x=>{d.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:dt(i.onKeyDown,x=>{const w=u.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(w&&x.key===" ")&&jrt.includes(x.key)&&(v(),x.preventDefault())})})})});Vme.displayName=zme;var qme="SelectValue",Wme=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=e,l=vm(qme,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,u=An(t,l.onValueNodeChange);return Xi(()=>{c(d)},[c,d]),g.jsx(Dt.span,{...s,ref:u,style:{pointerEvents:"none"},children:hge(l.value)?g.jsx(g.Fragment,{children:a}):o})});Wme.displayName=qme;var zrt="SelectIcon",Yme=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return g.jsx(Dt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});Yme.displayName=zrt;var Vrt="SelectPortal",Gme=e=>g.jsx(Y1,{asChild:!0,...e});Gme.displayName=Vrt;var z0="SelectContent",Kme=C.forwardRef((e,t)=>{const n=vm(z0,e.__scopeSelect),[r,i]=C.useState();if(Xi(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?ka.createPortal(g.jsx(Xme,{scope:e.__scopeSelect,children:g.jsx(vR.Slot,{scope:e.__scopeSelect,children:g.jsx("div",{children:e.children})})}),o):null}return g.jsx(Zme,{...e,ref:t})});Kme.displayName=z0;var Zc=10,[Xme,xm]=gx(z0),qrt="SelectContentImpl",Wrt=Nrt("SelectContent.RemoveScroll"),Zme=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:w,...T}=e,k=vm(z0,n),[O,I]=C.useState(null),[N,A]=C.useState(null),R=An(t,Ee=>I(Ee)),[L,B]=C.useState(null),[$,q]=C.useState(null),z=xR(n),[W,G]=C.useState(!1),Z=C.useRef(!1);C.useEffect(()=>{if(O)return eD(O)},[O]),QM();const V=C.useCallback(Ee=>{const[ve,...we]=z().map(De=>De.ref.current),[je]=we.slice(-1),Ke=document.activeElement;for(const De of Ee)if(De===Ke||(De?.scrollIntoView({block:"nearest"}),De===ve&&N&&(N.scrollTop=0),De===je&&N&&(N.scrollTop=N.scrollHeight),De?.focus(),document.activeElement!==Ke))return},[z,N]),ne=C.useCallback(()=>V([L,O]),[V,L,O]);C.useEffect(()=>{W&&ne()},[W,ne]);const{onOpenChange:X,triggerPointerDownPosRef:oe}=k;C.useEffect(()=>{if(O){let Ee={x:0,y:0};const ve=je=>{Ee={x:Math.abs(Math.round(je.pageX)-(oe.current?.x??0)),y:Math.abs(Math.round(je.pageY)-(oe.current?.y??0))}},we=je=>{Ee.x<=10&&Ee.y<=10?je.preventDefault():O.contains(je.target)||X(!1),document.removeEventListener("pointermove",ve),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",we,{capture:!0})}}},[O,X,oe]),C.useEffect(()=>{const Ee=()=>X(!1);return window.addEventListener("blur",Ee),window.addEventListener("resize",Ee),()=>{window.removeEventListener("blur",Ee),window.removeEventListener("resize",Ee)}},[X]);const[K,Q]=pge(Ee=>{const ve=z().filter(Ke=>!Ke.disabled),we=ve.find(Ke=>Ke.ref.current===document.activeElement),je=mge(ve,Ee,we);je&&setTimeout(()=>je.ref.current.focus())}),te=C.useCallback((Ee,ve,we)=>{const je=!Z.current&&!we;(k.value!==void 0&&k.value===ve||je)&&(B(Ee),je&&(Z.current=!0))},[k.value]),U=C.useCallback(()=>O?.focus(),[O]),fe=C.useCallback((Ee,ve,we)=>{const je=!Z.current&&!we;(k.value!==void 0&&k.value===ve||je)&&q(Ee)},[k.value]),me=r==="popper"?D8:Qme,ke=me===D8?{side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:w}:{};return g.jsx(Xme,{scope:n,content:O,viewport:N,onViewportChange:A,itemRefCallback:te,selectedItem:L,onItemLeave:U,itemTextRefCallback:fe,focusSelectedItem:ne,selectedItemText:$,position:r,isPositioned:W,searchRef:K,children:g.jsx(mT,{as:Wrt,allowPinchZoom:!0,children:g.jsx(pT,{asChild:!0,trapped:k.open,onMountAutoFocus:Ee=>{Ee.preventDefault()},onUnmountAutoFocus:dt(i,Ee=>{k.trigger?.focus({preventScroll:!0}),Ee.preventDefault()}),children:g.jsx(W1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:Ee=>Ee.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:g.jsx(me,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:Ee=>Ee.preventDefault(),...T,...ke,onPlaced:()=>G(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:dt(T.onKeyDown,Ee=>{const ve=Ee.ctrlKey||Ee.altKey||Ee.metaKey;if(Ee.key==="Tab"&&Ee.preventDefault(),!ve&&Ee.key.length===1&&Q(Ee.key),["ArrowUp","ArrowDown","Home","End"].includes(Ee.key)){let je=z().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(Ee.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ee.key)){const Ke=Ee.target,De=je.indexOf(Ke);je=je.slice(De+1)}setTimeout(()=>V(je)),Ee.preventDefault()}})})})})})})});Zme.displayName=qrt;var Yrt="SelectItemAlignedPosition",Qme=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=vm(z0,n),a=xm(z0,n),[s,l]=C.useState(null),[c,d]=C.useState(null),u=An(t,R=>d(R)),p=xR(n),m=C.useRef(!1),v=C.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:T,focusSelectedItem:k}=a,O=C.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&x&&w&&T){const R=o.trigger.getBoundingClientRect(),L=c.getBoundingClientRect(),B=o.valueNode.getBoundingClientRect(),$=T.getBoundingClientRect();if(o.dir!=="rtl"){const Ke=$.left-L.left,De=B.left-Ke,It=R.left-De,Fe=R.width+It,an=Math.max(Fe,L.width),cn=window.innerWidth-Zc,Qt=M8(De,[Zc,Math.max(Zc,cn-an)]);s.style.minWidth=Fe+"px",s.style.left=Qt+"px"}else{const Ke=L.right-$.right,De=window.innerWidth-B.right-Ke,It=window.innerWidth-R.right-De,Fe=R.width+It,an=Math.max(Fe,L.width),cn=window.innerWidth-Zc,Qt=M8(De,[Zc,Math.max(Zc,cn-an)]);s.style.minWidth=Fe+"px",s.style.right=Qt+"px"}const q=p(),z=window.innerHeight-Zc*2,W=x.scrollHeight,G=window.getComputedStyle(c),Z=parseInt(G.borderTopWidth,10),V=parseInt(G.paddingTop,10),ne=parseInt(G.borderBottomWidth,10),X=parseInt(G.paddingBottom,10),oe=Z+V+W+X+ne,K=Math.min(w.offsetHeight*5,oe),Q=window.getComputedStyle(x),te=parseInt(Q.paddingTop,10),U=parseInt(Q.paddingBottom,10),fe=R.top+R.height/2-Zc,me=z-fe,ke=w.offsetHeight/2,Ee=w.offsetTop+ke,ve=Z+V+Ee,we=oe-ve;if(ve<=fe){const Ke=q.length>0&&w===q[q.length-1].ref.current;s.style.bottom="0px";const De=c.clientHeight-x.offsetTop-x.offsetHeight,It=Math.max(me,ke+(Ke?U:0)+De+ne),Fe=ve+It;s.style.height=Fe+"px"}else{const Ke=q.length>0&&w===q[0].ref.current;s.style.top="0px";const It=Math.max(fe,Z+x.offsetTop+(Ke?te:0)+ke)+we;s.style.height=It+"px",x.scrollTop=ve-fe+x.offsetTop}s.style.margin=`${Zc}px 0`,s.style.minHeight=K+"px",s.style.maxHeight=z+"px",r?.(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,s,c,x,w,T,o.dir,r]);Xi(()=>O(),[O]);const[I,N]=C.useState();Xi(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const A=C.useCallback(R=>{R&&v.current===!0&&(O(),k?.(),v.current=!1)},[O,k]);return g.jsx(Krt,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:A,children:g.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:g.jsx(Dt.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Qme.displayName=Yrt;var Grt="SelectPopperPosition",D8=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Zc,...o}=e,a=wR(n);return g.jsx(mD,{...a,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});D8.displayName=Grt;var[Krt,I7]=gx(z0,{}),R8="SelectViewport",Jme=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=xm(R8,n),a=I7(R8,n),s=An(t,o.onViewportChange),l=C.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(vR.Slot,{scope:n,children:g.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:dt(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:p}=a;if(p?.current&&u){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-Zc*2,x=parseFloat(u.style.minHeight),w=parseFloat(u.style.height),T=Math.max(x,w);if(T<v){const k=T+m,O=Math.min(v,k),I=k-O;u.style.height=O+"px",u.style.bottom==="0px"&&(d.scrollTop=I>0?I:0,u.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});Jme.displayName=R8;var ege="SelectGroup",[Xrt,Zrt]=gx(ege),Qrt=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Gi();return g.jsx(Xrt,{scope:n,id:i,children:g.jsx(Dt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Qrt.displayName=ege;var tge="SelectLabel",nge=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Zrt(tge,n);return g.jsx(Dt.div,{id:i.id,...r,ref:t})});nge.displayName=tge;var qN="SelectItem",[Jrt,rge]=gx(qN),ige=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=e,s=vm(qN,n),l=xm(qN,n),c=s.value===r,[d,u]=C.useState(o??""),[p,m]=C.useState(!1),v=An(t,k=>l.itemRefCallback?.(k,r,i)),x=Gi(),w=C.useRef("touch"),T=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(Jrt,{scope:n,value:r,disabled:i,textId:x,isSelected:c,onItemTextChange:C.useCallback(k=>{u(O=>O||(k?.textContent??"").trim())},[]),children:g.jsx(vR.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:g.jsx(Dt.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:dt(a.onFocus,()=>m(!0)),onBlur:dt(a.onBlur,()=>m(!1)),onClick:dt(a.onClick,()=>{w.current!=="mouse"&&T()}),onPointerUp:dt(a.onPointerUp,()=>{w.current==="mouse"&&T()}),onPointerDown:dt(a.onPointerDown,k=>{w.current=k.pointerType}),onPointerMove:dt(a.onPointerMove,k=>{w.current=k.pointerType,i?l.onItemLeave?.():w.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(a.onPointerLeave,k=>{k.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:dt(a.onKeyDown,k=>{l.searchRef?.current!==""&&k.key===" "||(Brt.includes(k.key)&&T(),k.key===" "&&k.preventDefault())})})})})});ige.displayName=qN;var cS="SelectItemText",oge=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,a=vm(cS,n),s=xm(cS,n),l=rge(cS,n),c=Urt(cS,n),[d,u]=C.useState(null),p=An(t,T=>u(T),l.onItemTextChange,T=>s.itemTextRefCallback?.(T,l.value,l.disabled)),m=d?.textContent,v=C.useMemo(()=>g.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=c;return Xi(()=>(x(v),()=>w(v)),[x,w,v]),g.jsxs(g.Fragment,{children:[g.jsx(Dt.span,{id:l.textId,...o,ref:p}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ka.createPortal(o.children,a.valueNode):null]})});oge.displayName=cS;var age="SelectItemIndicator",sge=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return rge(age,n).isSelected?g.jsx(Dt.span,{"aria-hidden":!0,...r,ref:t}):null});sge.displayName=age;var I8="SelectScrollUpButton",lge=C.forwardRef((e,t)=>{const n=xm(I8,e.__scopeSelect),r=I7(I8,e.__scopeSelect),[i,o]=C.useState(!1),a=An(t,r.onScrollButtonChange);return Xi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?g.jsx(uge,{...e,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});lge.displayName=I8;var P8="SelectScrollDownButton",cge=C.forwardRef((e,t)=>{const n=xm(P8,e.__scopeSelect),r=I7(P8,e.__scopeSelect),[i,o]=C.useState(!1),a=An(t,r.onScrollButtonChange);return Xi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?g.jsx(uge,{...e,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});cge.displayName=P8;var uge=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=xm("SelectScrollButton",n),a=C.useRef(null),s=xR(n),l=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),Xi(()=>{s().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),g.jsx(Dt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:dt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:dt(i.onPointerMove,()=>{o.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:dt(i.onPointerLeave,()=>{l()})})}),eit="SelectSeparator",dge=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return g.jsx(Dt.div,{"aria-hidden":!0,...r,ref:t})});dge.displayName=eit;var L8="SelectArrow",tit=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=wR(n),o=vm(L8,n),a=xm(L8,n);return o.open&&a.position==="popper"?g.jsx(gD,{...i,...r,ref:t}):null});tit.displayName=L8;var nit="SelectBubbleInput",fge=C.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=C.useRef(null),o=An(r,i),a=Lrt(t);return C.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&d){const u=new Event("change",{bubbles:!0});d.call(s,t),s.dispatchEvent(u)}},[a,t]),g.jsx(Dt.select,{...n,style:{...cae,...n.style},ref:o,defaultValue:t})});fge.displayName=nit;function hge(e){return e===""||e===void 0}function pge(e){const t=Co(e),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(a=>{const s=n.current+a;t(s),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(s)},[t]),o=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function mge(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=rit(e,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function rit(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var gge=Ume,P7=Vme,yge=Wme,bge=Yme,iit=Gme,L7=Kme,vge=Jme,xge=nge,j7=ige,wge=oge,Ege=sge,B7=lge,$7=cge,Sge=dge,ER="Tabs",[oit]=Vs(ER,[pR]),Cge=pR(),[ait,H7]=oit(ER),Tge=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=e,d=JT(s),[u,p]=gu({prop:r,onChange:i,defaultProp:o??"",caller:ER});return g.jsx(ait,{scope:n,baseId:Gi(),value:u,onValueChange:p,orientation:a,dir:d,activationMode:l,children:g.jsx(Dt.div,{dir:d,"data-orientation":a,...c,ref:t})})});Tge.displayName=ER;var kge="TabsList",_ge=C.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=H7(kge,n),a=Cge(n);return g.jsx(Ipe,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:g.jsx(Dt.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});_ge.displayName=kge;var Age="TabsTrigger",Oge=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,a=H7(Age,n),s=Cge(n),l=Dge(a.baseId,r),c=Rge(a.baseId,r),d=r===a.value;return g.jsx(Ppe,{asChild:!0,...s,focusable:!i,active:d,children:g.jsx(Dt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:t,onMouseDown:dt(e.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?a.onValueChange(r):u.preventDefault()}),onKeyDown:dt(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&a.onValueChange(r)}),onFocus:dt(e.onFocus,()=>{const u=a.activationMode!=="manual";!d&&!i&&u&&a.onValueChange(r)})})})});Oge.displayName=Age;var Nge="TabsContent",Mge=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=e,s=H7(Nge,n),l=Dge(s.baseId,r),c=Rge(s.baseId,r),d=r===s.value,u=C.useRef(d);return C.useEffect(()=>{const p=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(p)},[]),g.jsx(Fo,{present:i||d,children:({present:p})=>g.jsx(Dt.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:p&&o})})});Mge.displayName=Nge;function Dge(e,t){return`${e}-trigger-${t}`}function Rge(e,t){return`${e}-content-${t}`}var Ige=Tge,F7=_ge,U7=Oge,z7=Mge,Pge="Toggle",Lge=C.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:i,...o}=e,[a,s]=gu({prop:n,onChange:i,defaultProp:r??!1,caller:Pge});return g.jsx(Dt.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:dt(e.onClick,()=>{e.disabled||s(!a)})})});Lge.displayName=Pge;var sit=Lge;function Lt(...e){return Ttt(Xn(e))}function lit({className:e,...t}){return g.jsx(qet,{"data-slot":"avatar",className:Lt("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function cit({className:e,...t}){return g.jsx(Wet,{"data-slot":"avatar-image",className:Lt("aspect-square size-full",e),...t})}function uit({className:e,...t}){return g.jsx(Yet,{"data-slot":"avatar-fallback",className:Lt("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const dit=Q0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function fit({className:e,variant:t,asChild:n=!1,...r}){return g.jsx(n?MH:"span",{"data-slot":"badge",className:Lt(dit({variant:t}),e),...r})}const hit=Q0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*=size-])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function pit({className:e,variant:t,size:n,asChild:r=!1,...i}){return g.jsx(r?MH:"button",{"data-slot":"button",className:Lt(hit({variant:t,size:n,className:e})),...i})}function mit({className:e,...t}){return g.jsx("div",{"data-slot":"card",className:Lt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function git({className:e,...t}){return g.jsx("div",{"data-slot":"card-content",className:Lt("px-6",e),...t})}function yit({...e}){return g.jsx(Eme,{"data-slot":"dropdown-menu",...e})}function bit({...e}){return g.jsx(Sme,{"data-slot":"dropdown-menu-trigger",...e})}function vit({className:e,sideOffset:t=4,...n}){return g.jsx(T7,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-dropdown-menu-content-available-height) origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border p-1 shadow-md",e),...n})}function xit({className:e,inset:t,variant:n="default",...r}){return g.jsx(_7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r})}function wit({className:e,children:t,checked:n,...r}){return g.jsxs(A7,{"data-slot":"dropdown-menu-checkbox-item",className:Lt("focus:bg-accent focus:text-accent-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-8 pr-2 text-sm data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),checked:n,...r,children:[g.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:g.jsx(O7,{children:g.jsx(kme,{className:"size-4"})})}),t]})}function Eit({className:e,inset:t,...n}){return g.jsx(k7,{"data-slot":"dropdown-menu-label","data-inset":t,className:Lt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function Sit({className:e,...t}){return g.jsx(N7,{"data-slot":"dropdown-menu-separator",className:Lt("bg-border -mx-1 my-1 h-px",e),...t})}function Cit({...e}){return g.jsx(nrt,{"data-slot":"dropdown-menu-sub",...e})}function Tit({className:e,inset:t,children:n,...r}){return g.jsxs(M7,{"data-slot":"dropdown-menu-sub-trigger","data-inset":t,className:Lt("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground outline-hidden flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm data-[inset]:pl-8",e),...r,children:[n,g.jsx(Ame,{className:"ml-auto size-4"})]})}function kit({className:e,...t}){return g.jsx(D7,{"data-slot":"dropdown-menu-sub-content",className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-lg",e),...t})}function _it({className:e,...t}){return g.jsx(QH,{"data-slot":"label",className:Lt("flex select-none items-center gap-2 text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-50 group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50",e),...t})}const Ait=vet;C.createContext({});C.createContext({});function Oit({className:e,type:t,...n}){return g.jsx("input",{type:t,"data-slot":"input",className:Lt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base outline-none transition-[color,box-shadow] file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function Nit({...e}){return g.jsx($me,{"data-slot":"popover",...e})}function Mit({...e}){return g.jsx(Hme,{"data-slot":"popover-trigger",...e})}function Dit({className:e,align:t="center",sideOffset:n=4,...r}){return g.jsx(Fme,{"data-slot":"popover-content",align:t,sideOffset:n,className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-popover-content-transform-origin) outline-hidden z-50 w-72 rounded-md border p-4 shadow-md",e),...r})}function Rit({...e}){return g.jsx(gge,{"data-slot":"select",...e})}function Iit({...e}){return g.jsx(yge,{"data-slot":"select-value",...e})}function Pit({className:e,size:t="default",children:n,...r}){return g.jsxs(P7,{"data-slot":"select-trigger","data-size":t,className:Lt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*=text-])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 shadow-xs flex w-fit items-center justify-between gap-2 whitespace-nowrap rounded-md border bg-transparent px-3 py-2 text-sm outline-none transition-[color,box-shadow] focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r,children:[n,g.jsx(bge,{asChild:!0,children:g.jsx(_me,{className:"size-4 opacity-50"})})]})}function Lit({className:e,children:t,position:n="popper",...r}){return g.jsxs(L7,{"data-slot":"select-content",className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-select-content-available-height) origin-(--radix-select-content-transform-origin) relative z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[g.jsx(Bit,{}),g.jsx(vge,{className:Lt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),g.jsx($it,{})]})}function jit({className:e,children:t,...n}){return g.jsxs(j7,{"data-slot":"select-item",className:Lt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2 relative flex w-full cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-2 pr-8 text-sm data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...n,children:[g.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:g.jsx(Ege,{children:g.jsx(kme,{className:"size-4"})})}),g.jsx(wge,{children:t})]})}function Bit({className:e,...t}){return g.jsx(B7,{"data-slot":"select-scroll-up-button",className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(frt,{className:"size-4"})})}function $it({className:e,...t}){return g.jsx($7,{"data-slot":"select-scroll-down-button",className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(_me,{className:"size-4"})})}function Hit({className:e,...t}){return g.jsx("div",{"data-slot":"skeleton",className:Lt("bg-accent animate-pulse rounded-md",e),...t})}function Fit({className:e,...t}){return g.jsx(Ige,{"data-slot":"tabs",className:Lt("flex flex-col gap-2",e),...t})}function Uit({className:e,...t}){return g.jsx(F7,{"data-slot":"tabs-list",className:Lt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function zit({className:e,...t}){return g.jsx(U7,{"data-slot":"tabs-trigger",className:Lt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 whitespace-nowrap rounded-md border border-transparent px-2 py-1 text-sm font-medium transition-[color,box-shadow] focus-visible:outline-1 focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...t})}function Vit({className:e,...t}){return g.jsx(z7,{"data-slot":"tabs-content",className:Lt("flex-1 outline-none",e),...t})}const qit=Q0("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*=size-])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function Wit({className:e,variant:t,size:n,...r}){return g.jsx(sit,{"data-slot":"toggle",className:Lt(qit({variant:t,size:n,className:e})),...r})}function jge({delayDuration:e=0,...t}){return g.jsx(xae,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Yit({...e}){return g.jsx(jge,{children:g.jsx(wae,{"data-slot":"tooltip",...e})})}function Git({...e}){return g.jsx(Eae,{"data-slot":"tooltip-trigger",...e})}function Kit({className:e,sideOffset:t=0,children:n,...r}){return g.jsxs(XH,{"data-slot":"tooltip-content",sideOffset:t,className:Lt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-tooltip-content-transform-origin) z-50 w-fit text-balance rounded-md px-3 py-1.5 text-xs",e),...r,children:[n,g.jsx(nMe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})}const Xit={Avatar:{Avatar:lit,AvatarFallback:uit,AvatarImage:cit},Badge:{Badge:fit},Button:{Button:pit},Card:{Card:mit,CardContent:git},DropdownMenu:{DropdownMenu:yit,DropdownMenuCheckboxItem:wit,DropdownMenuContent:vit,DropdownMenuItem:xit,DropdownMenuLabel:Eit,DropdownMenuSeparator:Sit,DropdownMenuSub:Cit,DropdownMenuSubContent:kit,DropdownMenuSubTrigger:Tit,DropdownMenuTrigger:bit},Form:{Form:Ait},Input:{Input:Oit},Label:{Label:_it},Popover:{Popover:Nit,PopoverContent:Dit,PopoverTrigger:Mit},Select:{Select:Rit,SelectContent:Lit,SelectItem:jit,SelectTrigger:Pit,SelectValue:Iit},Skeleton:{Skeleton:Hit},Tabs:{Tabs:Fit,TabsContent:Vit,TabsList:Uit,TabsTrigger:zit},Toggle:{Toggle:Wit},Tooltip:{Tooltip:Yit,TooltipContent:Kit,TooltipProvider:jge,TooltipTrigger:Git}},Bge=C.createContext(void 0);function Pr(){return C.useContext(Bge)}const Zit=e=>{const{children:t,...n}=e;En(n);const r=Pr(),i=$et();return g.jsx(r.Form.Form,{...i,children:t})},Qit=C.forwardRef((e,t)=>{const{className:n,name:r,label:i,variant:o,icon:a,value:s,autoFocus:l,placeholder:c,disabled:d,onKeyDown:u,onChange:p,onSubmit:m,autoComplete:v,rightSection:x,...w}=e;En(w);const T=Pr();return g.jsxs("div",{className:Lt(n,"border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","text-foreground items-center gap-2"),children:[a,g.jsxs("div",{className:"flex-1",children:[i&&g.jsx(T.Label.Label,{htmlFor:i,children:i}),g.jsx(T.Input.Input,{className:Lt(n,"h-auto border-none p-0"),id:i,name:r,autoFocus:l,placeholder:c,disabled:d,value:s,onKeyDown:u,onChange:p,onSubmit:m,ref:t})]}),x]})}),Jit=e=>C.forwardRef((t,n)=>g.jsx(e,{onPointerDown:r=>{r.nativeEvent.fakeEvent||(r.ctrlKey=!0)},onPointerUp:r=>{const i=new PointerEvent("pointerdown",r.nativeEvent);i.fakeEvent=!0,r.target.dispatchEvent(i)},...t,ref:n})),eot=e=>{const{children:t,onOpenChange:n,position:r,sub:i,...o}=e;En(o);const a=Pr();return i?g.jsx(a.DropdownMenu.DropdownMenuSub,{onOpenChange:n,children:t}):g.jsx(a.DropdownMenu.DropdownMenu,{modal:!1,onOpenChange:n,children:t})},tot=e=>{const{children:t,sub:n,...r}=e;En(r);const i=Pr(),o=C.useMemo(()=>Jit(i.DropdownMenu.DropdownMenuTrigger),[i.DropdownMenu.DropdownMenuTrigger]);return n?g.jsx(i.DropdownMenu.DropdownMenuSubTrigger,{children:t}):g.jsx(o,{asChild:!0,...r,children:t})},not=C.forwardRef((e,t)=>{const{className:n,children:r,sub:i,...o}=e;En(o);const a=Pr();return i?g.jsx(a.DropdownMenu.DropdownMenuSubContent,{className:n,ref:t,children:r}):g.jsx(a.DropdownMenu.DropdownMenuContent,{className:n,ref:t,children:r})}),rot=C.forwardRef((e,t)=>{const{className:n,children:r,icon:i,checked:o,subTrigger:a,onClick:s,...l}=e;En(l);const c=Pr();return a?g.jsxs(g.Fragment,{children:[i,r]}):o!==void 0?g.jsxs(c.DropdownMenu.DropdownMenuCheckboxItem,{className:Lt(n,"gap-1",o?"":"px-2"),ref:t,checked:o,onClick:s,...l,children:[i,r]}):g.jsxs(c.DropdownMenu.DropdownMenuItem,{className:n,ref:t,onClick:s,...l,children:[i,r,a&&g.jsx(Ame,{className:"ml-auto h-4 w-4"})]})}),iot=C.forwardRef((e,t)=>{const{className:n,...r}=e;En(r);const i=Pr();return g.jsx(i.DropdownMenu.DropdownMenuSeparator,{className:n,ref:t})}),oot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;En(i);const o=Pr();return g.jsx(o.DropdownMenu.DropdownMenuLabel,{className:n,ref:t,children:r})}),aot=C.forwardRef((e,t)=>{const{className:n,children:r,icon:i,onClick:o,onDragEnd:a,onDragStart:s,draggable:l,label:c,...d}=e;En(d,!1);const u=Pr();return g.jsxs(u.Button.Button,{variant:"ghost",className:Lt(n,"text-gray-400"),ref:t,"aria-label":c,onClick:o,onDragStart:s,onDragEnd:a,draggable:l,...d,children:[i,r]})}),sot=C.forwardRef((e,t)=>{const{className:n,tabs:r,defaultOpenTab:i,openTab:o,setOpenTab:a,loading:s,...l}=e;En(l);const c=Pr();return g.jsxs(c.Tabs.Tabs,{className:Lt(n,"bg-popover max-w-screen rounded-lg p-2"),ref:t,value:o,defaultValue:i,onValueChange:a,children:[g.jsx(c.Tabs.TabsList,{children:r.map(d=>g.jsx(c.Tabs.TabsTrigger,{value:d.name,children:d.name},d.name))}),r.map(d=>g.jsx(c.Tabs.TabsContent,{value:d.name,children:g.jsx(c.Card.Card,{children:g.jsx(c.Card.CardContent,{className:"p-4",children:d.tabPanel})})},d.name))]})}),lot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return En(i),g.jsx("div",{className:Lt(n,"flex flex-col items-start justify-center gap-2"),ref:t,children:r})}),cot=C.forwardRef((e,t)=>{const{className:n,value:r,placeholder:i,onKeyDown:o,onChange:a,...s}=e;En(s);const l=Pr();return g.jsx(l.Input.Input,{"data-test":"embed-input",className:Lt(n,"w-80 max-w-full"),ref:t,value:r,placeholder:i,onKeyDown:o,onChange:a})}),uot=e=>{const{children:t,opened:n,position:r,...i}=e;En(i);const o=Pr();return g.jsx(o.Popover.Popover,{open:n,children:t})},dot=C.forwardRef((e,t)=>{const{children:n,...r}=e;En(r);const i=Pr();return g.jsx(i.Popover.PopoverTrigger,{ref:t,asChild:!0,children:n})}),fot=C.forwardRef((e,t)=>{const{className:n,variant:r,children:i,...o}=e;En(o);const a=Pr();return g.jsx(a.Popover.PopoverContent,{sideOffset:8,className:Lt(n,"z-[10000] flex flex-col gap-2",r==="panel-popover"?"w-fit max-w-none border-none p-0 shadow-none":""),ref:t,children:i})}),hot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return En(i,!1),g.jsx("div",{className:n,ref:t,...i,children:r})}),pot=C.forwardRef((e,t)=>{const{className:n,children:r,icon:i,onClick:o,onDragEnd:a,onDragStart:s,draggable:l,label:c,...d}=e;En(d,!1);const u=Pr();return g.jsxs(u.Button.Button,{variant:"ghost",className:Lt(n,"text-gray-400"),ref:t,"aria-label":c,onClick:o,onDragStart:s,onDragEnd:a,draggable:l,...d,children:[i,r]})}),mot=C.forwardRef((e,t)=>{const{className:n,children:r,id:i,columns:o,...a}=e;return En(a),g.jsx("div",{className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-dropdown-menu-content-available-height) origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border p-1 shadow-md","grid",n),style:{gridTemplateColumns:`repeat(${o}, 1fr)`},ref:t,id:i,role:"grid",children:r})}),got=C.forwardRef((e,t)=>{const{className:n,children:r,columns:i,...o}=e;return En(o),g.jsx("div",{className:n,style:{gridColumn:`1 / ${i+1}`},ref:t,children:r})}),yot=C.forwardRef((e,t)=>{const{className:n,children:r,id:i,...o}=e;return En(o),g.jsx("div",{id:i,role:"listbox",className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-dropdown-menu-content-available-height) origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border p-1 shadow-md",n),ref:t,children:r})}),bot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return En(i),g.jsx("div",{className:Lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive",n),ref:t,children:g.jsx("div",{children:r})})}),vot=C.forwardRef((e,t)=>{const n=Pr(),{className:r,item:i,isSelected:o,onClick:a,id:s,...l}=e;En(l);const c=C.useRef(null);return C.useEffect(()=>{if(!c.current||!o)return;const d=l7(c.current,document.querySelector(".bn-suggestion-menu, #ai-suggestion-menu"));d==="top"?c.current.scrollIntoView(!0):d==="bottom"&&c.current.scrollIntoView(!1)},[o]),g.jsxs("div",{className:Lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive",e.item.size==="small"?"gap-3 py-1":"",r),"data-highlighted":!0,ref:dR([t,c]),id:s,onMouseDown:d=>d.preventDefault(),onClick:a,role:"option","aria-selected":o||void 0,children:[i.icon&&g.jsx("div",{className:Lt("p-3",e.item.size==="small"?"p-0":"",r),"data-position":"left",children:i.icon}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:Lt("text-base",e.item.size==="small"?"text-sm":"",r),children:i.title}),g.jsx("div",{className:Lt("text-xs",e.item.size==="small"?"hidden":"",r),children:i.subtext})]}),i.badge&&g.jsx("div",{"data-position":"right",className:"text-xs",children:g.jsx(n.Badge.Badge,{variant:"secondary",children:i.badge})})]})}),xot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return En(i),g.jsx("div",{className:Lt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),ref:t,children:r})}),wot=C.forwardRef((e,t)=>{const{className:n,...r}=e;return En(r),g.jsx("div",{className:Lt(n,"animate-spin"),ref:t,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 -960 960 960",width:"1em",fill:"#e8eaed",children:g.jsx("path",{d:"M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q17 0 28.5 11.5T520-840q0 17-11.5 28.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-17 11.5-28.5T840-520q17 0 28.5 11.5T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Z"})})})}),Eot=C.forwardRef((e,t)=>{const{className:n,children:r,onMouseDown:i,onClick:o,...a}=e;En(a,!1);const s=Pr();return g.jsx(s.Button.Button,{variant:"ghost",className:Lt(n,"h-full w-full p-0 text-gray-400",n!=null&&n.includes("extend-button-add-remove-columns")?"ml-1":"mt-1",n!=null&&n.includes("extend-button-editing")?"bg-accent text-accent-foreground":""),ref:t,onClick:o,onMouseDown:i,...a,children:r})}),Sot=C.forwardRef((e,t)=>{const{className:n,children:r,draggable:i,onDragStart:o,onDragEnd:a,style:s,label:l,...c}=e;En(c,!1);const d=Pr();return g.jsx(d.Button.Button,{variant:"ghost",className:Lt(n,"h-fit w-fit p-0 text-gray-400"),ref:t,"aria-label":l,draggable:i,onDragStart:o,onDragEnd:a,style:s,...c,children:r})}),yL=C.forwardRef((e,t)=>{const{className:n,children:r,onMouseEnter:i,onMouseLeave:o,variant:a,...s}=e;En(s);const l=Pr();return g.jsx(l.Tooltip.TooltipProvider,{delayDuration:0,children:g.jsx("div",{className:Lt(n,"bg-popover text-popover-foreground flex h-fit gap-1 rounded-lg border p-1 shadow-md",a==="action-toolbar"?"w-fit":""),ref:t,onMouseEnter:i,onMouseLeave:o,children:r})})}),bL=C.forwardRef((e,t)=>{const{className:n,children:r,mainTooltip:i,secondaryTooltip:o,icon:a,isSelected:s,isDisabled:l,onClick:c,label:d,variant:u,...p}=e;En(p,!1);const m=Pr(),v=s===void 0?g.jsxs(m.Button.Button,{className:Lt(n,u==="compact"?"h-6 min-w-6 p-0":""),variant:"ghost",size:u==="compact"?"sm":"default",disabled:l,onClick:c,ref:t,"aria-label":d,...p,children:[a,r]}):g.jsxs(m.Toggle.Toggle,{className:Lt(n,"data-[state=open]:bg-accent data-[state=closed]:text-accent-foreground",u==="compact"?"h-6 min-w-6 p-0":""),size:u==="compact"?"sm":"default","aria-label":d,onClick:c,pressed:s,disabled:l,"data-state":s?"on":"off","data-disabled":l,ref:t,...p,children:[a,r]});return g.jsxs(m.Tooltip.Tooltip,{children:[g.jsx(m.Tooltip.TooltipTrigger,{asChild:!0,children:v}),g.jsxs(m.Tooltip.TooltipContent,{className:"flex flex-col items-center whitespace-pre-wrap",children:[g.jsx("span",{children:i}),o&&g.jsx("span",{children:o})]})]})}),vL=C.forwardRef((e,t)=>{const{className:n,items:r,isDisabled:i,...o}=e;En(o);const a=Pr(),s=c=>g.jsxs("div",{className:"flex items-center gap-1",children:[c.icon,c.text]}),l=r.filter(c=>c.isSelected)[0];return l?g.jsxs(a.Select.Select,{value:l.text,onValueChange:c=>{var d,u;return(u=(d=r.find(p=>p.text===c)).onClick)==null?void 0:u.call(d)},disabled:i,children:[g.jsx(a.Select.SelectTrigger,{className:"border-none",children:g.jsx(a.Select.SelectValue,{})}),g.jsx(a.Select.SelectContent,{className:n,ref:t,children:r.map(c=>g.jsx(a.Select.SelectItem,{disabled:c.isDisabled,value:c.text,children:g.jsx(s,{...c})},c.text))})]}):null}),Cot=C.forwardRef((e,t)=>{const{className:n,children:r,selected:i,headerText:o,onFocus:a,onBlur:s,tabIndex:l,...c}=e;En(c);const d=Pr();return g.jsxs(d.Card.Card,{className:Lt(n,"w-[300px]",i?"bg-accent text-accent-foreground":""),onFocus:a,onBlur:s,tabIndex:l,ref:t,children:[o&&g.jsx("div",{className:"px-4 pt-4 text-sm italic",children:o}),r]})}),Tot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;return En(i),g.jsx("div",{className:Lt(n,"p-4",n!=null&&n.includes("thread-comments")?"flex flex-col gap-6 border-b":""),ref:t,children:r})}),kot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;En(i,!1);const o=Pr();return g.jsx(o.Button.Button,{className:Lt(n,"text-foreground w-fit bg-transparent p-0 hover:bg-transparent"),ref:t,children:r})}),_ot=C.forwardRef((e,t)=>{const{authorInfo:n,timeString:r,edited:i,...o}=e,a=gn();En(o,!1);const s=Pr();return n==="loading"?g.jsxs("div",{className:"flex flex-row flex-nowrap items-center gap-4",children:[g.jsx(s.Skeleton.Skeleton,{className:"size-7 animate-pulse rounded-full bg-neutral-400"}),g.jsx(s.Skeleton.Skeleton,{className:"h-3 w-32 animate-pulse rounded-full bg-neutral-400"})]}):g.jsxs("div",{className:"flex flex-row flex-nowrap items-center gap-4",children:[g.jsxs(s.Avatar.Avatar,{children:[g.jsx(s.Avatar.AvatarImage,{src:n.avatarUrl,alt:n.username,className:"h-7 rounded-full"}),g.jsx(s.Avatar.AvatarFallback,{children:n.username[0]})]}),g.jsxs("div",{className:"flex flex-row flex-nowrap items-center gap-2",children:[g.jsx("span",{className:"text-sm font-bold",children:n.username}),g.jsxs("span",{className:"text-xs",children:[r," ",i&&`(${a.comments.edited})`]})]})]})}),Aot=C.forwardRef((e,t)=>{const{className:n,showActions:r,authorInfo:i,timeString:o,actions:a,edited:s,emojiPickerOpen:l,children:c,...d}=e;En(d);const[u,p]=C.useState(!1),{focused:m,ref:v}=pet(),x=a&&(r===!0||r===void 0||r==="hover"&&u||m);return g.jsxs("div",{ref:t,className:Lt(n,"relative flex flex-col gap-2"),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[x?g.jsx("div",{className:"absolute right-0 top-0 z-10",ref:v,children:a}):null,g.jsx(_ot,{...e}),c]})}),Oot=C.forwardRef((e,t)=>{const{className:n,onFocus:r,onBlur:i,autoFocus:o,editor:a,editable:s,...l}=e;En(l);const c=Hd();return g.jsx($ge,{autoFocus:o,className:Lt(n,""),theme:c?.colorSchemePreference,editor:e.editor,sideMenu:!1,slashMenu:!1,tableHandles:!1,filePanel:!1,formattingToolbar:!1,editable:s,ref:t,onFocus:r,onBlur:i,children:g.jsx(tpe,{formattingToolbar:Not})})}),Not=()=>{const e=Jhe([]).filter(t=>t.key!=="nestBlockButton"&&t.key!=="unnestBlockButton");return g.jsx(epe,{blockTypeSelectItems:[],children:e})},Mot=C.forwardRef((e,t)=>{const{className:n,text:r,icon:i,isSelected:o,mainTooltip:a,secondaryTooltip:s,onClick:l,onMouseEnter:c,...d}=e;En(d,!1);const u=Pr(),p=g.jsxs(u.Button.Button,{variant:o?"secondary":"outline",className:Lt(n,"flex h-7 items-center gap-1 rounded-full px-2.5"),onClick:l,onMouseEnter:c,ref:t,children:[g.jsx("span",{children:i}),g.jsx("span",{children:r})]});return a?g.jsxs(u.Tooltip.Tooltip,{children:[g.jsx(u.Tooltip.TooltipTrigger,{asChild:!0,children:p}),g.jsxs(u.Tooltip.TooltipContent,{className:"flex flex-col items-center whitespace-pre-wrap",children:[g.jsx("span",{children:a}),s&&g.jsx("span",{children:s})]})]}):p}),Dot=C.forwardRef((e,t)=>{const{className:n,children:r,...i}=e;En(i);const o=Pr();return g.jsx(o.Tooltip.TooltipProvider,{delayDuration:0,children:g.jsx("div",{className:Lt(n,"flex w-full flex-row flex-wrap gap-1"),ref:t,children:r})})}),Rot=C.forwardRef((e,t)=>{const{className:n,children:r,onClick:i,label:o,...a}=e;En(a);const s=Pr();return g.jsx(s.Button.Button,{type:"submit",className:n,"aria-label":o,ref:t,onClick:i,children:r})}),Iot=C.forwardRef((e,t)=>{const{className:n,accept:r,value:i,placeholder:o,onChange:a,...s}=e;En(s);const l=Pr();return g.jsx(l.Input.Input,{type:"file",className:n,ref:t,accept:r,value:i?i.name:void 0,onChange:async c=>a?.(c.target.files[0]),placeholder:o})}),Pot=C.forwardRef((e,t)=>{const{className:n,isSelected:r,onClick:i,item:o,id:a,...s}=e;En(s);const l=C.useRef(null);return C.useEffect(()=>{if(!l.current||!r)return;const c=l7(l.current,document.querySelector(".bn-grid-suggestion-menu"));c==="top"?l.current.scrollIntoView(!0):c==="bottom"&&l.current.scrollIntoView(!1)},[r]),g.jsx("div",{className:Lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","text-lg!",n),ref:dR([t,l]),id:a,role:"option",onClick:i,"aria-selected":r||void 0,children:o.icon})}),Lot=C.forwardRef((e,t)=>{const{className:n,children:r,columns:i,...o}=e;return En(o),g.jsx("div",{className:n,style:{gridColumn:`1 / ${i+1}`},ref:t,children:r})}),jot={FormattingToolbar:{Root:yL,Button:bL,Select:vL},FilePanel:{Root:sot,Button:Rot,FileInput:Iot,TabPanel:lot,TextInput:cot},LinkToolbar:{Root:yL,Button:bL,Select:vL},SideMenu:{Root:hot,Button:pot},SuggestionMenu:{Root:yot,Item:vot,EmptyItem:bot,Label:xot,Loader:wot},GridSuggestionMenu:{Root:mot,Item:Pot,EmptyItem:got,Loader:Lot},TableHandle:{Root:Sot,ExtendButton:Eot},Comments:{Comment:Aot,Editor:Oot,Card:Cot,CardSection:Tot,ExpandSectionsPrompt:kot},Generic:{Badge:{Root:Mot,Group:Dot},Toolbar:{Root:yL,Button:bL,Select:vL},Form:{Root:Zit,TextInput:Qit},Menu:{Root:eot,Trigger:tot,Dropdown:not,Divider:iot,Label:oot,Item:rot,Button:aot},Popover:{Root:uot,Trigger:dot,Content:fot}}},$ge=e=>{const{className:t,shadCNComponents:n,...r}=e,i=C.useMemo(()=>({...Xit,...n}),[n]);return g.jsx(Bge.Provider,{value:i,children:g.jsx(jhe.Provider,{value:jot,children:g.jsx(uet,{className:bi("bn-shadcn",t||""),...r})})})};var Bot=Object.defineProperty,$ot=(e,t,n)=>t in e?Bot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,es=(e,t,n)=>$ot(e,typeof t!="symbol"?t+"":t,n);const Hot={slash_menu:{two_columns:{title:"",subtext:"   ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"    ",aliases:["","",""],group:" "}}},Fot={slash_menu:{two_columns:{title:"Zwei Spalten",subtext:"Zwei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blcke"},three_columns:{title:"Drei Spalten",subtext:"Drei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blcke"}}},Uot={slash_menu:{two_columns:{title:"Two Columns",subtext:"Two columns side by side",aliases:["columns","row","split"],group:"Basic blocks"},three_columns:{title:"Three Columns",subtext:"Three columns side by side",aliases:["columns","row","split"],group:"Basic blocks"}}},zot={slash_menu:{two_columns:{title:"Dos Columnas",subtext:"Dos columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques bsicos"},three_columns:{title:"Tres Columnas",subtext:"Tres columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques bsicos"}}},Vot={slash_menu:{two_columns:{title:"Deux Colonnes",subtext:"Deux colonnes cte  cte",aliases:["colonnes","range","partager"],group:"Blocs de base"},three_columns:{title:"Trois Colonnes",subtext:"Trois colonnes cte  cte",aliases:["colonnes","range","partager"],group:"Blocs de base"}}},qot={slash_menu:{two_columns:{title:"Dva Stupca",subtext:"Dva stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"},three_columns:{title:"Tri Stupca",subtext:"Tri stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"}}},Wot={slash_menu:{two_columns:{title:"Tvr Dlkar",subtext:"Tvr dlkar hli vi hli",aliases:["dlkar","r","skipta"],group:"Grunnblokkar"},three_columns:{title:"rr Dlkar",subtext:"rr dlkar hli vi hli",aliases:["dlkar","r","skipta"],group:"Grunnblokkar"}}},Yot={slash_menu:{two_columns:{title:"",subtext:"",aliases:["","",""],group:""},three_columns:{title:"",subtext:"",aliases:["","",""],group:""}}},Got={slash_menu:{two_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "}}},Kot={slash_menu:{two_columns:{title:"Twee Kolommen",subtext:"Twee kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"},three_columns:{title:"Drie Kolommen",subtext:"Drie kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"}}},Xot={slash_menu:{two_columns:{title:"Dwie Kolumny",subtext:"Dwie kolumny obok siebie",aliases:["kolumny","rzd","podzieli"],group:"Podstawowe bloki"},three_columns:{title:"Trzy Kolumny",subtext:"Trzy kolumny obok siebie",aliases:["kolumny","rzd","podzieli"],group:"Podstawowe bloki"}}},Zot={slash_menu:{two_columns:{title:"Duas Colunas",subtext:"Duas colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos bsicos"},three_columns:{title:"Trs Colunas",subtext:"Trs colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos bsicos"}}},Qot={slash_menu:{two_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "},three_columns:{title:" ",subtext:"  ",aliases:["","",""],group:" "}}},Jot={slash_menu:{two_columns:{title:"Hai Ct",subtext:"Hai ct cnh nhau",aliases:["ct","hng","chia"],group:"Khi c bn"},three_columns:{title:"Ba Ct",subtext:"Ba ct cnh nhau",aliases:["ct","hng","chia"],group:"Khi c bn"}}},eat={slash_menu:{two_columns:{title:"",subtext:"",aliases:["","",""],group:""},three_columns:{title:"",subtext:"",aliases:["","",""],group:""}}},tat=Object.freeze(Object.defineProperty({__proto__:null,ar:Hot,de:Fot,en:Uot,es:zot,fr:Vot,hr:qot,is:Wot,ja:Yot,ko:Got,nl:Kot,pl:Xot,pt:Zot,ru:Qot,vi:Jot,zh:eat},Symbol.toStringTag,{value:"Module"}));function $K(e){if(!e.dictionary.multi_column)throw new Error("Multi-column dictionary not found");return e.dictionary.multi_column}const Dp=new wn("ColumnResizePlugin");let nat=class{constructor(t,n){es(this,"editor"),es(this,"view"),es(this,"RESIZE_MARGIN_WIDTH_PX",20),es(this,"COLUMN_MIN_WIDTH_PERCENT",.5),es(this,"getColumnHoverOrDefaultState",r=>{if(!this.editor.isEditable)return{type:"default"};const i=r.target;if(!this.view.dom.contains(i))return{type:"default"};const o=i.closest(".bn-block-column");if(!o)return{type:"default"};const a=r.clientX,s=o.getBoundingClientRect(),l=a<s.left+this.RESIZE_MARGIN_WIDTH_PX?"left":a>s.right-this.RESIZE_MARGIN_WIDTH_PX?"right":"none",c=l==="left"?o.previousElementSibling:l==="right"?o.nextElementSibling:void 0;if(!c)return{type:"default"};const d=l==="left"?c:o,u=l==="left"?o:c,p=d.getAttribute("data-id"),m=u.getAttribute("data-id"),v=cs(p,this.view.state.doc),x=cs(m,this.view.state.doc);if(!v||!x||!v.posBeforeNode)throw new Error("Column not found");return{type:"hover",leftColumn:{element:d,id:p,...v},rightColumn:{element:u,id:m,...x}}}),es(this,"mouseDownHandler",r=>{let i=this.getColumnHoverOrDefaultState(r);if(i.type==="default")return;r.preventDefault();const o=r.clientX,a=i.leftColumn.element.getBoundingClientRect().width,s=i.rightColumn.element.getBoundingClientRect().width,l=i.leftColumn.node.attrs.width,c=i.rightColumn.node.attrs.width;i={type:"resize",startPos:o,leftColumn:{...i.leftColumn,widthPx:a,widthPercent:l},rightColumn:{...i.rightColumn,widthPx:s,widthPercent:c}},this.view.dispatch(this.view.state.tr.setMeta(Dp,i)),this.editor.sideMenu.freezeMenu()}),es(this,"mouseMoveHandler",r=>{var i,o;const a=Dp.getState(this.view.state);if(!a)return;if(a.type!=="resize"){const u=this.getColumnHoverOrDefaultState(r),p=a.type==="default"&&u.type==="default",m=a.type!=="default"&&u.type!=="default"&&a.leftColumn.id===u.leftColumn.id&&a.rightColumn.id===u.rightColumn.id;if(p||m||u.type==="hover"&&(o=(i=this.editor.sideMenu.view)==null?void 0:i.state)!=null&&o.show)return;this.view.dispatch(this.view.state.tr.setMeta(Dp,u));return}const s=(r.clientX-a.startPos)*a.leftColumn.widthPercent,l=(a.leftColumn.widthPx+s)/a.leftColumn.widthPx-1;let c=a.leftColumn.widthPercent+l,d=a.rightColumn.widthPercent-l;c<this.COLUMN_MIN_WIDTH_PERCENT?(d-=this.COLUMN_MIN_WIDTH_PERCENT-c,c=this.COLUMN_MIN_WIDTH_PERCENT):d<this.COLUMN_MIN_WIDTH_PERCENT&&(c-=this.COLUMN_MIN_WIDTH_PERCENT-d,d=this.COLUMN_MIN_WIDTH_PERCENT),this.view.dispatch(this.view.state.tr.setNodeAttribute(a.leftColumn.posBeforeNode,"width",c).setNodeAttribute(a.rightColumn.posBeforeNode,"width",d).setMeta("addToHistory",!1))}),es(this,"mouseUpHandler",r=>{const i=Dp.getState(this.view.state);if(!i||i.type!=="resize")return;const o=this.getColumnHoverOrDefaultState(r);this.view.dispatch(this.view.state.tr.setMeta(Dp,o)),this.editor.sideMenu.unfreezeMenu()}),this.editor=t,this.view=n,this.view.dom.addEventListener("mousedown",this.mouseDownHandler),document.body.addEventListener("mousemove",this.mouseMoveHandler),document.body.addEventListener("mouseup",this.mouseUpHandler)}destroy(){this.view.dom.removeEventListener("mousedown",this.mouseDownHandler),document.body.removeEventListener("mousemove",this.mouseMoveHandler),document.body.removeEventListener("mouseup",this.mouseUpHandler)}};const rat=e=>new rn({key:Dp,props:{decorations:t=>{const n=Dp.getState(t);return!n||n.type==="default"?mn.empty:mn.create(t.doc,[ir.node(n.leftColumn.posBeforeNode,n.leftColumn.posBeforeNode+n.leftColumn.node.nodeSize,{style:"box-shadow: 4px 0 0 #ccc; cursor: col-resize"}),ir.node(n.rightColumn.posBeforeNode,n.rightColumn.posBeforeNode+n.rightColumn.node.nodeSize,{style:"cursor: col-resize"})])}},state:{init:()=>({type:"default"}),apply:(t,n)=>{const r=t.getMeta(Dp);return r===void 0?n:r}},view:t=>new nat(e,t)}),iat=e=>ur.create({name:"columnResize",addProseMirrorPlugins(){return[rat(e)]}}),oat=qs.create({name:"column",group:"bnBlock childContainer",content:"blockContainer+",priority:40,defining:!0,marks:"deletion insertion modification",addAttributes(){return{width:{default:1,parseHTML:e=>{const t=e.getAttribute("data-width");if(t===null)return null;const n=parseFloat(t);return isFinite(n)?n:null},renderHTML:e=>({"data-width":e.width.toString(),style:`flex-grow: ${e.width};`})}}},parseHTML(){return[{tag:"div",getAttrs:e=>typeof e=="string"?!1:e.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:e}){const t=document.createElement("div");t.className="bn-block-column",t.setAttribute("data-node-type",this.name);for(const[n,r]of Object.entries(e))t.setAttribute(n,r);return{dom:t,contentDOM:t}},addExtensions(){return[iat(this.options.editor)]}}),aat=qs.create({name:"columnList",group:"childContainer bnBlock blockGroupChild",content:"column column+",priority:40,defining:!0,marks:"deletion insertion modification",parseHTML(){return[{tag:"div",getAttrs:e=>typeof e=="string"?!1:e.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:e}){const t=document.createElement("div");t.className="bn-block-column-list",t.setAttribute("data-node-type",this.name);for(const[n,r]of Object.entries(e))t.setAttribute(n,r);return t.style.display="flex",{dom:t,contentDOM:t}}}),Hge=H9({node:oat,type:"column",content:"none"},{width:{default:1}}),Fge=H9({node:aat,type:"columnList",content:"none"},{}),HK=UD.create({blockSpecs:{column:Hge,columnList:Fge}}),sat=e=>e.extend({blockSpecs:{column:Hge,columnList:Fge}}),WN=.1;function lat(e){return{left:e.clientX,top:e.clientY}}function cat(e){const t=e.editor;return new rn({view(n){return new uat(n,e)},props:{handleDrop(n,r,i,o){const a=n.posAtCoords(lat(r));if(!a)throw new Error("Could not get event position");const s=Uge(n.state,a),l=Qf(s),c=n.nodeDOM(s.posBeforeNode).getBoundingClientRect();let d="regular";if(r.clientX<=c.left+c.width*WN&&(d="left"),r.clientX>=c.right-c.width*WN&&(d="right"),d==="regular")return!1;const u=ri(i.content.child(0),t.pmSchema);if(l.blockNoteType==="column"){const p=n.state.doc.resolve(l.bnBlock.beforePos).node(),m=ri(p,t.pmSchema);let v=0;m.children.forEach(k=>{v+=k.props.width});const x=v/m.children.length;if(x<.99||x>1.01){const k=1/x;m.children.forEach(O=>{O.props.width=O.props.width*k})}const w=m.children.findIndex(k=>k.id===l.bnBlock.node.attrs.id),T=m.children.map(k=>({...k,children:k.children.filter(O=>O.id!==u.id)})).filter(k=>k.children.length>0).toSpliced(d==="left"?w:w+1,0,{type:"column",children:[u],props:{},content:void 0,id:LT.options.generateID()});t.getBlock(u.id)&&t.removeBlocks([u]),t.updateBlock(m,{children:T})}else{const p=ri(l.bnBlock.node,t.pmSchema);if(p.id===u.id)return;const m=d==="left"?[u,p]:[p,u];t.getBlock(u.id)&&t.removeBlocks([u]),t.replaceBlocks([p],[{type:"columnList",children:m.map(v=>({type:"column",children:[v]}))}])}return!0}}})}let uat=class{constructor(t,n){es(this,"width"),es(this,"color"),es(this,"class"),es(this,"cursorPos"),es(this,"element",null),es(this,"timeout"),es(this,"handlers"),this.editorView=t,this.width=n.width??1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{const i=o=>{this[r](o)};return t.dom.addEventListener(r,i,r==="drop"?!0:void 0),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n,t==="drop"?!0:void 0))}update(t,n){this.cursorPos!=null&&n.doc!==t.state.doc&&(this.cursorPos.pos>t.state.doc.content.size?this.setCursor(void 0):this.updateOverlay())}setCursor(t){var n,r;t===this.cursorPos||t?.pos===((n=this.cursorPos)==null?void 0:n.pos)&&t?.position===((r=this.cursorPos)==null?void 0:r.position)||(this.cursorPos=t,t?this.updateOverlay():(this.element.parentNode.removeChild(this.element),this.element=null))}updateOverlay(){if(!this.cursorPos)throw new Error("updateOverlay called with no cursor position");const t=this.editorView.state.doc.resolve(this.cursorPos.pos),n=!t.parent.inlineContent;let r;const i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(n){const u=t.nodeBefore,p=t.nodeAfter;if(u||p)if(this.cursorPos.position==="left"||this.cursorPos.position==="right"){const m=this.editorView.nodeDOM(this.cursorPos.pos);if(!m)throw new Error("nodeDOM returned null in updateOverlay");const v=m.getBoundingClientRect(),x=this.width/2*s,w=this.cursorPos.position==="left"?v.left:v.right;r={left:w-x,right:w+x,top:v.top,bottom:v.bottom}}else{const m=this.editorView.nodeDOM(this.cursorPos.pos-(u?u.nodeSize:0));if(m){const v=m.getBoundingClientRect();let x=u?v.bottom:v.top;u&&p&&(x=(x+this.editorView.nodeDOM(this.cursorPos.pos).getBoundingClientRect().top)/2);const w=this.width/2*s;this.cursorPos.position==="regular"&&(r={left:v.left,right:v.right,top:x-w,bottom:x+w})}}}if(!r){const u=this.editorView.coordsAtPos(this.cursorPos.pos),p=this.width/2*a;r={left:u.left-p,right:u.left+p,top:u.top,bottom:u.bottom}}const l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-vertical",this.cursorPos.position!=="regular"),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,d;if(!l||l===document.body&&getComputedStyle(l).position==="static")c=-window.scrollX,d=-window.scrollY;else{const u=l.getBoundingClientRect(),p=u.width/l.offsetWidth,m=u.height/l.offsetHeight;c=u.left-l.scrollLeft*p,d=u.top-l.scrollTop*m}this.element.style.left=(r.left-c)/a+"px",this.element.style.top=(r.top-d)/s+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(void 0),t)}dragover(t){if(!this.editorView.editable)return;const n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let a="regular",s=n.pos;const l=Uge(this.editorView.state,n),c=this.editorView.nodeDOM(l.posBeforeNode).getBoundingClientRect();if(t.clientX<=c.left+c.width*WN&&(a="left",s=l.posBeforeNode),t.clientX>=c.right-c.width*WN&&(a="right",s=l.posBeforeNode),a==="regular"&&this.editorView.dragging&&this.editorView.dragging.slice){const d=t9(this.editorView.state.doc,s,this.editorView.dragging.slice);d!=null&&(s=d)}this.setCursor({pos:s,position:a}),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.setCursor(void 0)}dragleave(t){(t.target===this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(void 0)}};function Uge(e,t){const n=Zf(e.doc,t.pos);let r=e.doc.resolve(n.posBeforeNode);return r.parent.type.name==="column"&&(r=e.doc.resolve(r.before())),{posBeforeNode:r.pos,node:r.nodeAfter}}var dat={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0};F.createContext;function fat(e){return"column"in e.schema.blockSchema&&e.schema.blockSchema.columnList===HK.blockSchema.columnList&&"column"in e.schema.blockSchema&&e.schema.blockSchema.column===HK.blockSchema.column}const hat=e=>{const t=Ut(),n=gn(),r=Gt(),i=C.useCallback(()=>{const o=e.block.content;if(o!==void 0&&Array.isArray(o)&&o.length===0)r.setTextCursorPosition(e.block),r.openSuggestionMenu("/");else{const s=r.insertBlocks([{type:"paragraph"}],e.block,"after")[0];r.setTextCursorPosition(s),r.openSuggestionMenu("/")}},[r,e.block]);return g.jsx(t.SideMenu.Button,{className:"bn-button cursor-pointer",label:n.side_menu.add_block_label,icon:g.jsx(OH,{className:"size-5 text-secondary-foreground",onClick:i,"data-test":"dragHandleAdd"})})},pat=Eme,mat=Sme,gat=C.forwardRef(({className:e,inset:t,children:n,...r},i)=>g.jsxs(M7,{ref:i,className:Ie("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,g.jsx(_H,{className:"ml-auto"})]}));gat.displayName=M7.displayName;const yat=C.forwardRef(({className:e,...t},n)=>g.jsx(D7,{ref:n,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));yat.displayName=D7.displayName;const zge=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>g.jsx(trt,{children:g.jsx(T7,{ref:r,sideOffset:t,className:Ie("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));zge.displayName=T7.displayName;const j8=C.forwardRef(({className:e,inset:t,...n},r)=>g.jsx(_7,{ref:r,className:Ie("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));j8.displayName=_7.displayName;const bat=C.forwardRef(({className:e,children:t,checked:n,...r},i)=>g.jsxs(A7,{ref:i,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(O7,{children:g.jsx(WS,{className:"h-4 w-4"})})}),t]}));bat.displayName=A7.displayName;const vat=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(Cme,{ref:r,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(O7,{children:g.jsx(Die,{className:"h-2 w-2 fill-current"})})}),t]}));vat.displayName=Cme.displayName;const Vge=C.forwardRef(({className:e,inset:t,...n},r)=>g.jsx(k7,{ref:r,className:Ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Vge.displayName=k7.displayName;const qge=C.forwardRef(({className:e,...t},n)=>g.jsx(N7,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));qge.displayName=N7.displayName;const xat=e=>{const t=gn(),n=e.block.type,r=e.openBlockSettings??(()=>{}),i=Gt();return g.jsxs(pat,{modal:!1,onOpenChange:o=>{o?e.freezeMenu():e.unfreezeMenu()},children:[g.jsx(mat,{asChild:!0,children:g.jsx(Ai,{"aria-label":t.side_menu.drag_handle_label,draggable:!0,onDragStart:o=>e.blockDragStart(o,e.block),onDragEnd:e.blockDragEnd,className:"bn-button cursor-grab bn-menu-dropdown bn-drag-handle-menu",variant:"ghost",onPointerDown:o=>{o.nativeEvent.fakeEvent||(o.ctrlKey=!0)},onPointerUp:o=>{const a=new PointerEvent("pointerdown",o.nativeEvent);a.fakeEvent=!0,o.target.dispatchEvent(a)},children:g.jsx(uke,{className:"size-5 text-secondary-foreground","data-test":"dragHandle"})})}),g.jsxs(zge,{className:"bn-menu-dropdown bn-drag-handle-menu min-w-64",children:[g.jsx(Vge,{className:"text-secondary-foreground text-xs",children:"Actions"}),r&&(n==="flow"||n==="flowHistory"||n==="flowStatus"||n==="heatmap"||n==="metric"||n==="metricHistory"||n==="metricTable")&&g.jsx(j8,{className:"bn-menu-item py-1",onClick:()=>{r(e.block.id)},children:g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer"),children:[g.jsx("div",{className:"p-1","data-position":"left",children:g.jsx(n2e,{className:"size-4.5"})}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:"font-medium text-sm",children:"Settings"})})]})}),g.jsx(rpe,{...e,children:g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer"),children:[g.jsx("div",{className:"p-1","data-position":"left",children:g.jsx(qke,{className:"size-4.5"})}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:"font-medium text-sm",children:"Color"})})]})}),g.jsx(qge,{}),g.jsx(j8,{className:"bn-menu-item destructive group",onClick:()=>i.removeBlocks([e.block]),children:g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer"),children:[g.jsx("div",{className:"p-1 group-hover:text-red-600 dark:group-hover:text-red-400","data-position":"left",children:g.jsx(w2e,{className:"size-4.5 group-hover:text-red-600 dark:group-hover:text-red-400"})}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:"font-medium text-sm group-hover:text-red-600 dark:group-hover:text-red-400",children:"Delete"})})]})})]})]})},wat=C.forwardRef((e,t)=>{const{className:n,item:r,isSelected:i,onClick:o,id:a,...s}=e;En(s);const l=C.useRef(null);C.useEffect(()=>{if(!l.current||!i)return;const d=l7(l.current,document.querySelector(".bn-suggestion-menu, #ai-suggestion-menu"));d==="top"?l.current.scrollIntoView(!0):d==="bottom"&&l.current.scrollIntoView(!1)},[i]);const c=g.jsxs("div",{className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*=text-])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*=size-])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0","hover:bg-accent hover:text-accent-foreground data-[variant=destructive]:hover:bg-destructive/10 dark:data-[variant=destructive]:hover:bg-destructive/20 data-[variant=destructive]:hover:text-destructive","aria-selected:bg-accent aria-selected:text-accent-foreground data-[variant=destructive]:aria-selected:bg-destructive/10 dark:data-[variant=destructive]:aria-selected:bg-destructive/20 data-[variant=destructive]:aria-selected:text-destructive","cursor-pointer",e.item.size==="small"?"gap-3 py-1":"",n),"data-highlighted":!0,ref:dR([t,l]),id:a,onMouseDown:d=>d.preventDefault(),onClick:o,role:"option","aria-selected":i||void 0,children:[r.icon&&g.jsx("div",{className:Ie("p-1",n),"data-position":"left",children:r.icon}),g.jsx("div",{className:"flex-1",children:g.jsx("div",{className:Ie("font-medium text-sm",n),children:r.title})}),r.badge&&g.jsx("div",{"data-position":"right",className:"text-xs text-secondary-foreground",children:r.badge})]});return r.subtext?g.jsx(Ls,{delayDuration:300,children:g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:c}),g.jsx($r,{side:"right",sideOffset:8,children:g.jsx("p",{children:r.subtext})})]})}):c});function Eat(e){const t=Ut(),n=gn(),{items:r,loadingState:i,selectedIndex:o,onItemClick:a}=e,s=i==="loading-initial"||i==="loading"?g.jsx(t.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader"}):null,l=C.useMemo(()=>{let c;const d=[];for(let u=0;u<r.length;u++){const p=r[u];p.group!==c&&(c=p.group,d.push(g.jsx(t.SuggestionMenu.Label,{className:"bn-suggestion-menu-label text-secondary-foreground text-xs",children:c},c))),d.push(g.jsx(wat,{className:Ie("bn-suggestion-menu-item",p.size==="small"?"bn-suggestion-menu-item-small":""),item:p,id:`bn-suggestion-menu-item-${u}`,isSelected:u===o,onClick:()=>a?.(p)},p.title))}return d},[t,r,a,o]);return g.jsxs(t.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu max-h-96 overflow-y-auto",children:[l,l.length===0&&(e.loadingState==="loading"||e.loadingState==="loaded")&&g.jsx(t.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),s]})}const Sat=Q0("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Yp({className:e,variant:t,...n}){return g.jsx("span",{className:Ie(Sat({variant:t}),e),...n})}function Nd({...e}){return g.jsx($me,{"data-slot":"popover",...e})}function Md({...e}){return g.jsx(Hme,{"data-slot":"popover-trigger",...e})}function Dd({className:e,align:t="center",sideOffset:n=4,...r}){return g.jsx(Ort,{children:g.jsx(Fme,{"data-slot":"popover-content",align:t,sideOffset:n,className:Ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function eh({labelKey:e,labelValue:t,readonly:n=!0,availableValues:r,onValueChange:i,onRemove:o}){const[a,s]=F.useState(()=>!n&&!t);return!n&&r&&i?g.jsxs(Nd,{open:a,onOpenChange:l=>{s(l),t&&!l&&i(t)},children:[g.jsx(Md,{asChild:!0,children:g.jsxs(Yp,{variant:"secondary",className:"gap-1 cursor-pointer hover:bg-secondary/80 transition-all duration-200 border-0 h-6 px-3 text-muted-foreground flex items-center",children:[e,t&&`: ${t}`,o&&g.jsx(NH,{className:"h-3 w-3 cursor-pointer hover:text-destructive mt-[2px]",onClick:l=>{l.stopPropagation(),o()}})]})}),g.jsx(Dd,{className:"w-[200px] p-0",align:"start",children:g.jsxs(Zv,{children:[g.jsx(Qv,{placeholder:"Search values..."}),g.jsxs(Jv,{className:"max-h-[200px]",children:[g.jsx(e1,{children:"No values found."}),g.jsx(t1,{children:r.map(l=>g.jsx(n1,{value:l,onSelect:()=>{s(!1),i(l)},children:l},l))})]})]})})]}):g.jsxs(Yp,{variant:"secondary",className:"h-5 px-2 font-normal h-6 border-0 text-muted-foreground",children:[e,t&&`=${t}`]})}function V0({availableLabels:e,filters:t,onFiltersChange:n}){const[r,i]=C.useState(!1),[o,a]=C.useState(null),s=(u,p)=>{const m=[...t];m[u]={...m[u],value:p},n(m)},l=(u,p)=>{const m=[...t,{label:u,value:p}];n(m),a(null)},c=u=>{const p=t.filter((m,v)=>v!==u);n(p)},d=u=>{a(u),i(!1)};return g.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[t.map((u,p)=>{if(!u)return null;const m=e.find(v=>v.label===u.label);return g.jsx(eh,{labelKey:u.label,labelValue:u.value,readonly:!1,availableValues:m?.values,onValueChange:v=>s(p,v),onRemove:()=>c(p)},`${u.label}-${p}`)}),o&&g.jsx(eh,{labelKey:o,labelValue:"",readonly:!1,availableValues:e.find(u=>u.label===o)?.values,onValueChange:u=>{u?l(o,u):a(null)},onRemove:()=>a(null)},`${o}-draft`),g.jsxs(Nd,{open:r,onOpenChange:i,children:[g.jsx(Md,{asChild:!0,children:g.jsx(Ai,{variant:"ghost",size:"sm",className:"justify-start text-sm text-muted-foreground h-6",children:g.jsx(Dke,{className:"h-4 w-4"})})}),g.jsx(Dd,{className:"w-[200px] p-0",align:"start",children:g.jsxs(Zv,{children:[g.jsx(Qv,{placeholder:"Search labels..."}),g.jsxs(Jv,{className:"max-h-[300px]",children:[g.jsx(e1,{children:"No labels found."}),g.jsx(t1,{heading:"Labels",children:e.map(u=>g.jsx(n1,{value:u.label,onSelect:()=>d(u.label),children:u.label},u.label))})]})]})})]})]})}const Wge={success:{label:"Success",Icon:zTe,iconClass:"text-[#5cb660] dark:text-[#5cb660]"},failure:{label:"Failed",Icon:YTe,iconClass:"text-[#e56458] dark:text-[#e56458]"},running:{label:"Running",Icon:$ie,iconClass:"text-[#2883df] dark:text-[#2883df]"}};function Yge({status:e,className:t}){const n=Wge[e];return g.jsxs(Yp,{variant:"outline",className:Ie("text-muted-foreground px-1.5 gap-1.5 border-0",t),children:[g.jsx(n.Icon,{className:Ie("size-4",n.iconClass)}),n.label]})}function SR({currentPage:e,totalPages:t,onPreviousPage:n,onNextPage:r}){return t<=1?null:g.jsx("div",{className:"flex items-center justify-end py-1 border-b",children:g.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[g.jsx("button",{type:"button",onClick:n,disabled:e===1,className:"px-2 py-1 rounded hover:bg-accent disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Previous"}),g.jsxs("span",{className:"px-2",children:["Page ",e," of ",t]}),g.jsx("button",{type:"button",onClick:r,disabled:e===t,className:"px-2 py-1 rounded hover:bg-accent disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Next"})]})})}function Cat({steps:e,events:t,startTime:n,endTime:r}){if(e.length===0)return g.jsx("div",{className:"text-sm text-muted-foreground py-4",children:"No steps recorded for this execution."});const i=n.getTime(),a=(r?r.getTime():Date.now())-i,s=u=>{const p=u.startTime.getTime(),v=(u.endTime?u.endTime.getTime():Date.now())-p,x=(p-i)/a*100,w=v/a*100;return{left:`${x}%`,width:`${w}%`,durationMs:v}},l=u=>u<1e3?`${Math.round(u)}ms`:u<6e4?`${(u/1e3).toFixed(2)}s`:`${(u/6e4).toFixed(2)}m`,c=u=>{switch(u){case"success":return"bg-[#5cb660]";case"failure":return"bg-[#e56458]";case"running":return"bg-[#2883df]";default:return"bg-gray-500"}},d=u=>{const m=(u.eventDt.getTime()-i)/a*100;return Math.max(0,Math.min(100,m))};return g.jsx(Ls,{children:g.jsxs("div",{className:"py-4 px-2 space-y-3",children:[e.map((u,p)=>{const m=s(u);return g.jsx("div",{className:"relative",children:g.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[g.jsx("span",{className:"text-sm font-medium w-32 flex-shrink-0 truncate",children:u.name}),g.jsx("div",{className:"flex-1 relative h-6 bg-muted rounded",children:g.jsx("div",{className:Ie("absolute h-full rounded transition-all",c(u.status)),style:{left:m.left,width:m.width}})}),g.jsx("span",{className:"text-xs text-muted-foreground w-16 text-right flex-shrink-0",children:l(m.durationMs)})]})},p)}),t.length>0&&g.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[g.jsx("span",{className:"w-32 flex-shrink-0"}),g.jsxs("div",{className:"flex-1 relative h-6",children:[g.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-muted-foreground/20"}),t.map((u,p)=>{const m=d(u);return g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx("div",{className:`absolute w-2 h-2 rounded-full bg-muted-foreground/80
                                           hover:bg-primary hover:scale-125 cursor-pointer
                                           transition-all -translate-x-1/2 -translate-y-1/2`,style:{left:`${m}%`,top:"50%"}})}),g.jsxs($r,{children:[g.jsx("div",{className:"font-medium",children:u.eventName}),g.jsx("div",{className:"text-xs text-muted-foreground",children:u.eventDt.toLocaleTimeString()})]})]},p)})]}),g.jsx("span",{className:"w-16 flex-shrink-0"})]})]})})}function _v({seconds:e,startTime:t,endTime:n}){if(!e){if(!t||!n)return"-";e=koe(n,t)}e=Math.round(e);const r=Math.floor(e/60),i=Math.floor(r/60);return i>1?`${i}h ${r%60}m`:i>0?`${i}h ${r%60}m ${e%60}s`:r>0?`${r}m ${e%60}s`:`${e}s`}function YN(e){const n=koe(new Date,e),r=Math.floor(n/60),i=Math.floor(r/60);if(n<60)return`${n} seconds ago`;if(r<60)return`${r} minutes ago`;if(i<24){const o=r%60;return`${i} hours and ${o} minutes ago`}return Wf(e,"PPp")}const xL=10;function Gge({flowHistory:e,statusFilter:t,visibleColumns:n={labels:!0,start:!0,end:!0,duration:!0,status:!0}}){const[r,i]=C.useState(1),[o,a]=C.useState(new Set),s=C.useMemo(()=>t==="all"?e:e.filter(x=>x.status===t),[e,t]),l=Math.ceil(s.length/xL),c=(r-1)*xL,d=c+xL,u=s.slice(c,d);C.useEffect(()=>{i(1)},[t]);const p=()=>{i(x=>Math.max(1,x-1))},m=()=>{i(x=>Math.min(l,x+1))},v=x=>{a(w=>{const T=new Set(w);return T.has(x)?T.delete(x):T.add(x),T})};return g.jsx(Ls,{children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs(ey,{className:"table-fixed",children:[g.jsx(ty,{children:g.jsxs(Ea,{children:[g.jsx(oo,{className:"w-8"}),n.labels&&g.jsx(oo,{className:"w-auto",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(ST,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})}),n.start&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Zp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Start"})]})}),n.end&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Zp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"End"})]})}),n.duration&&g.jsx(oo,{className:"w-24",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(aD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Duration"})]})}),n.status&&g.jsx(oo,{className:"w-24",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(oD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Status"})]})})]})}),g.jsxs(ny,{children:[u.map((x,w)=>{const T=c+w,k=o.has(T);return g.jsxs(F.Fragment,{children:[g.jsxs(Ea,{className:"hover:bg-muted/50",children:[g.jsx(_i,{className:"w-8 cursor-pointer",onClick:()=>v(T),children:k?g.jsx(ET,{className:"size-4 text-muted-foreground"}):g.jsx(_H,{className:"size-4 text-muted-foreground"})}),n.labels&&g.jsx(_i,{children:g.jsx("div",{className:"flex flex-wrap gap-1",onClick:O=>O.stopPropagation(),children:Object.entries(x.labels).map(([O,I])=>g.jsx(eh,{labelKey:O,labelValue:I},O))})}),n.start&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:g.jsxs(ei,{children:[g.jsx(ti,{className:"cursor-default",children:YN(x.startTime)}),g.jsx($r,{children:Wf(x.startTime,"PPpp")})]})}),n.end&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:x.endTime?g.jsxs(ei,{children:[g.jsx(ti,{className:"cursor-default",children:YN(x.endTime)}),g.jsx($r,{children:Wf(x.endTime,"PPpp")})]}):"-"}),n.duration&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:_v({startTime:x.startTime,endTime:x.endTime})}),n.status&&g.jsx(_i,{children:g.jsx(Yge,{status:x.status})})]},`${T}`),k&&g.jsx(Ea,{children:g.jsx(_i,{colSpan:1+(n.labels?1:0)+(n.start?1:0)+(n.end?1:0)+(n.duration?1:0)+(n.status?1:0),className:"bg-muted/30 p-0",children:g.jsx("div",{className:"px-4",children:g.jsx(Cat,{steps:x.steps,events:x.events,startTime:x.startTime,endTime:x.endTime})})})},`${T}-expanded`)]},`${T}-fragment`)}),s.length===0&&g.jsx(Ea,{children:g.jsx(_i,{colSpan:6,className:"text-center text-secondary-foreground text-sm py-6",children:"No execution history found for the selected filter."})})]})]}),g.jsx(SR,{currentPage:r,totalPages:l,onPreviousPage:p,onNextPage:m})]})})}function Tat({failedCount:e,successCount:t,pendingCount:n,runCount:r,statusFilter:i,onStatusFilterChange:o}){return g.jsxs(g.Fragment,{children:[g.jsxs("button",{type:"button","data-active":i==="all",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("all"),children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"All"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:r.toLocaleString()})]}),g.jsxs("button",{type:"button","data-active":i==="success",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("success"),children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#5cb660]"}),"Success"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:t.toLocaleString()})]}),g.jsxs("button",{type:"button","data-active":i==="failure",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("failure"),children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#e56458]"}),"Failed"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:e.toLocaleString()})]}),g.jsxs("button",{type:"button","data-active":i==="running",className:"data-[active=true]:bg-muted/50 relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",onClick:()=>o("running"),children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#2883df]"}),"Running"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:n.toLocaleString()})]})]})}function kat(){return g.jsx(g.Fragment,{children:[...Array(4)].map((e,t)=>g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l sm:border-t-0 sm:border-l sm:px-8 sm:py-6",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:g.jsx(u0,{className:"h-3 w-16"})}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:g.jsx(u0,{className:"h-8 w-20"})})]},t))})}const dy=gT,_at=yT,Kge=C.forwardRef(({className:e,...t},n)=>g.jsx(G1,{className:Ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Kge.displayName=G1.displayName;const Aat=Q0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),wm=C.forwardRef(({side:e="right",className:t,children:n,...r},i)=>g.jsxs(_at,{children:[g.jsx(Kge,{}),g.jsx(K1,{ref:i,className:Ie(Aat({side:e}),t),...r,children:n})]}));wm.displayName=K1.displayName;const Em=({className:e,...t})=>g.jsx("div",{className:Ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});Em.displayName="SheetHeader";const Sm=C.forwardRef(({className:e,...t},n)=>g.jsx(bT,{ref:n,className:Ie("text-lg font-semibold text-foreground",e),...t}));Sm.displayName=bT.displayName;const Xge=C.forwardRef(({className:e,...t},n)=>g.jsx(vT,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));Xge.displayName=vT.displayName;const CR=wT()(rD((e,t)=>({currentTenant:null,setCurrentTenant:n=>{e({currentTenant:n})}}),{name:"tenant"}));function V7({notebookId:e,flowName:t,open:n,startDate:r,endDate:i,labels:o,onOpenChange:a}){const s=CR(k=>k.currentTenant),[l,c]=C.useState(null),[d,u]=C.useState(!0),[p,m]=C.useState("all");C.useEffect(()=>{if(!s||!n)return;const k=async()=>{u(!0);try{const I=await J0.getFlowHistory(s,t,r,i,Object.entries(o).map(([N,A])=>({label:N,value:A})),e);c(I)}catch(I){console.error("Failed to fetch flow history:",I),c([])}finally{u(!1)}};m("all"),k()},[s,t,o,r,i,n,e]);const v=C.useMemo(()=>l?.filter(k=>k.status==="failure").length||0,[l]),x=C.useMemo(()=>l?.filter(k=>k.status==="success").length||0,[l]),w=C.useMemo(()=>l?.filter(k=>k.status==="running").length||0,[l]),T=C.useMemo(()=>l?.length||0,[l]);return g.jsx(dy,{open:n,onOpenChange:a,children:g.jsxs(wm,{side:"right",className:"w-full sm:max-w-5xl p-0 flex flex-col",children:[g.jsx(Em,{className:"flex-shrink-0",children:g.jsxs(zp,{className:"flex flex-col items-stretch border-b !p-0 sm:flex-row",children:[g.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-1 px-6 pt-4 pb-3 sm:py-6",children:[g.jsx(Sm,{className:"text-2xl",children:t}),g.jsx(Xge,{children:"Flow execution history and details"})]}),g.jsx("div",{className:"flex",children:d&&l===null?g.jsx(kat,{}):t&&g.jsx(Tat,{failedCount:v,successCount:x,pendingCount:w,runCount:T,statusFilter:p,onStatusFilterChange:m})})]})}),g.jsx("div",{className:"flex-1 flex flex-col px-6 py-6 overflow-hidden",children:g.jsx("div",{className:"flex flex-col h-full gap-2",children:g.jsx("div",{className:"flex-1 overflow-y-auto",children:d&&l===null?g.jsx(nx,{columns:6,rows:10}):g.jsx(Gge,{flowHistory:l||[],statusFilter:p})})})})]})})}const wL=14;function Oat({notebookId:e,tenant:t,startDate:n,endDate:r,filters:i,visibleColumns:o={name:!0,labels:!0,lastStatus:!0,lastStart:!0,lastEnd:!0,lastDuration:!0,runCounts:!0}}){const[a,s]=C.useState(null),[l,c]=C.useState(!0),[d,u]=C.useState(1),[p,m]=C.useState(null),[v,x]=C.useState(!1);C.useEffect(()=>{t&&(async()=>{c(!0);try{const L=await J0.getByTenant(t,n,r,i,e);s(L)}finally{c(!1)}})()},[t,n,r,i,e]);const w=R=>{m(R),x(!0)},T=Math.ceil((a?.length||0)/wL),k=(d-1)*wL,O=k+wL,I=a?.slice(k,O)||[],N=()=>{u(R=>Math.max(1,R-1))},A=()=>{u(R=>Math.min(T,R+1))};return l&&a===null?g.jsx(nx,{columns:6,rows:5}):g.jsxs(g.Fragment,{children:[g.jsxs(ey,{className:"table-fixed",children:[g.jsx(ty,{children:g.jsxs(Ea,{children:[o.name&&g.jsx(oo,{className:"w-48",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(TH,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Name"})]})}),o.labels&&g.jsx(oo,{className:"w-auto",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(ST,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})}),o.lastStatus&&g.jsx(oo,{className:"w-24",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(oD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last Status"})]})}),o.lastStart&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Zp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last Start"})]})}),o.lastEnd&&g.jsx(oo,{className:"w-36",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Zp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last End"})]})}),o.lastDuration&&g.jsx(oo,{className:"w-28",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(aD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Last Duration"})]})}),o.runCounts&&g.jsx(oo,{className:"w-28",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Lie,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Run Counts"})]})})]})}),g.jsxs(ny,{children:[I.map((R,L)=>g.jsxs(Ea,{className:"group",children:[o.name&&g.jsx(_i,{className:"group-hover:opacity-100 transition-opacity",children:g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("span",{className:"font-medium",children:R.name}),g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsxs("div",{className:"absolute -right-3 -top-2 px-2 py-1.5 rounded-b-lg border border-t-0 bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1 opacity-0 shadow-xs ",onClick:()=>w(R),children:[g.jsx(Oie,{className:"size-4 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground ",children:"Details"})]})}),g.jsx($r,{children:g.jsx("p",{children:"View flow details"})})]})]})}),o.labels&&g.jsx(_i,{children:g.jsx("div",{className:"flex gap-1",onClick:B=>B.stopPropagation(),children:Object.entries(R.labels).map(([B,$])=>g.jsx("div",{className:"cursor-pointer",children:g.jsx(eh,{labelKey:B,labelValue:$,readonly:!0})},B))})}),o.lastStatus&&g.jsx(_i,{children:g.jsx(Yge,{status:R.lastRunStatus})}),o.lastStart&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:g.jsxs(ei,{children:[g.jsx(ti,{className:"cursor-default",children:YN(R.lastRunStartedAt)}),g.jsx($r,{children:Wf(R.lastRunStartedAt,"PPpp")})]})}),o.lastEnd&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:R.lastRunEndedAt?g.jsxs(ei,{children:[g.jsx(ti,{className:"cursor-default",children:YN(R.lastRunEndedAt)}),g.jsx($r,{children:Wf(R.lastRunEndedAt,"PPpp")})]}):"-"}),o.lastDuration&&g.jsx(_i,{className:"text-muted-foreground text-sm",children:_v({startTime:R.lastRunStartedAt,endTime:R.lastRunEndedAt})}),o.runCounts&&g.jsx(_i,{children:g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx(Yp,{variant:"outline",className:"border-0 bg-[#dbe6dd] text-green-700 h-6 px-2 text-xs font-medium",children:R.successCount}),g.jsx(Yp,{variant:"outline",className:"border-0 bg-[#d2e4f8] text-blue-700 h-6 px-2 text-xs font-medium",children:R.pendingCount}),g.jsx(Yp,{variant:"outline",className:"border-0 bg-[#f9dcd9] text-red-700 h-6 px-2 text-xs font-medium",children:R.failedCount})]})})]},`${R.name}-${L}`)),a?.length===0&&g.jsx(Ea,{children:g.jsx(_i,{colSpan:Object.keys(o).length,className:"text-center text-secondary-foreground text-sm py-6",children:"No flows found for the selected time window."})})]})]}),g.jsx(SR,{currentPage:d,totalPages:T,onPreviousPage:N,onNextPage:A}),p&&g.jsx(V7,{notebookId:e,labels:p.labels,flowName:p.name,open:v,startDate:n,endDate:r,onOpenChange:x})]})}const Nat=px({type:"flow",propSchema:{showName:{default:!0},showLabels:{default:!0},showLastStatus:{default:!0},showLastStart:{default:!0},showLastEnd:{default:!0},showLastDuration:{default:!0},showRunCounts:{default:!0},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=yt(x=>x.settingsOpenBlockId),i=yt(x=>x.closeBlockSettings),o=yt(x=>x.startDate),a=yt(x=>x.endDate),s=yt(x=>x.currentNotebook?.filters),l=yt(x=>x.currentNotebook?.id),c=du(x=>x.labels),d=F.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),u=F.useMemo(()=>[...s||[],...d],[s,d]);if(!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const p=r===e.block.id,m=(x,w)=>{e.editor.updateBlock(e.block,{props:{...e.block.props,[x]:w}})},v=x=>{e.editor.updateBlock(e.block,{props:{...e.block.props,blockFilters:JSON.stringify(x)}})};return o!==null&&a!==null&&u!==void 0&&l&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:g.jsx(Oat,{notebookId:l,tenant:n,startDate:o,endDate:a,filters:u,visibleColumns:{name:e.block.props.showName,labels:e.block.props.showLabels,lastStatus:e.block.props.showLastStatus,lastStart:e.block.props.showLastStart,lastEnd:e.block.props.showLastEnd,lastDuration:e.block.props.showLastDuration,runCounts:e.block.props.showRunCounts}})}),g.jsx(dy,{open:p,onOpenChange:x=>{x||i()},children:g.jsxs(wm,{children:[g.jsx(Em,{children:g.jsx(Sm,{children:"Flow Settings"})}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Columns"}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showName",!e.block.props.showName),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(TH,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Name"})]}),e.block.props.showName?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLabels",!e.block.props.showLabels),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(ST,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Labels"})]}),e.block.props.showLabels?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastStatus",!e.block.props.showLastStatus),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(oD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last Status"})]}),e.block.props.showLastStatus?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastStart",!e.block.props.showLastStart),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Zp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last Start"})]}),e.block.props.showLastStart?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastEnd",!e.block.props.showLastEnd),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Zp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last End"})]}),e.block.props.showLastEnd?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showLastDuration",!e.block.props.showLastDuration),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(aD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Last Duration"})]}),e.block.props.showLastDuration?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>m("showRunCounts",!e.block.props.showRunCounts),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Lie,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Run Counts"})]}),e.block.props.showRunCounts?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]})]})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(V0,{availableLabels:c,filters:d,onFiltersChange:v})]})]})]})})]})}})();function q7({flows:e,selectedFlowName:t,onFlowSelect:n}){const[r,i]=C.useState(!1);if(e.length===0)return g.jsx("div",{className:"text-sm text-muted-foreground",children:"No flows available"});const o=Sv.uniq(e.map(a=>a.name));return g.jsxs(Nd,{open:r,onOpenChange:i,children:[g.jsx(Md,{asChild:!0,children:g.jsxs(Ai,{variant:"outline",role:"combobox","aria-expanded":r,className:"w-full justify-between",children:[t?o.find(a=>a===t):"Select a flow...",g.jsx(Mie,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),g.jsx(Dd,{className:"w-[400px] p-0",children:g.jsxs(Zv,{children:[g.jsx(Qv,{placeholder:"Search flows..."}),g.jsxs(Jv,{children:[g.jsx(e1,{children:"No flow found."}),g.jsx(t1,{children:o.map(a=>g.jsxs(n1,{value:a,onSelect:s=>{n(s===t?"":s),i(!1)},children:[g.jsx(WS,{className:Ie("mr-2 h-4 w-4",t===a?"opacity-100":"opacity-0")}),a]},a))})]})]})})]})}const Mat=px({type:"flowHistory",propSchema:{flowName:{default:""},statusFilter:{default:"all"},showLabels:{default:!0},showStart:{default:!0},showEnd:{default:!0},showDuration:{default:!0},showStatus:{default:!0},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=yt(L=>L.settingsOpenBlockId),i=yt(L=>L.closeBlockSettings),o=yt(L=>L.openBlockSettings),a=yt(L=>L.flows),s=yt(L=>L.startDate),l=yt(L=>L.endDate),c=yt(L=>L.currentNotebook?.filters),d=yt(L=>L.currentNotebook?.id),u=du(L=>L.labels),[p,m]=C.useState(null),[v,x]=C.useState(!1),w=e.block.props.flowName,T=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),k=C.useMemo(()=>[...c||[],...T],[c,T]);if(C.useEffect(()=>{(async()=>{if(!n||!w||!d||s===null||l===null||k===void 0){m([]);return}x(!0);try{const B=await J0.getFlowHistory(n,w,s,l,k,d);m(B)}catch(B){console.error("Failed to fetch detailed flow:",B),m([])}finally{x(!1)}})()},[n,w,s,l,k,d]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const O=r===e.block.id,I=L=>{e.editor.updateBlock(e.block,{props:{...e.block.props,flowName:L}})},N=(L,B)=>{e.editor.updateBlock(e.block,{props:{...e.block.props,[L]:B}})},A=L=>{e.editor.updateBlock(e.block,{props:{...e.block.props,blockFilters:JSON.stringify(L)}})},R=()=>w?v&&p===null?g.jsx(nx,{columns:6,rows:5}):g.jsx(Gge,{flowHistory:p||[],statusFilter:"all",visibleColumns:{labels:e.block.props.showLabels,start:e.block.props.showStart,end:e.block.props.showEnd,duration:e.block.props.showDuration,status:e.block.props.showStatus}}):g.jsx(ZH,{icon:Bie,title:"No flow selected",description:"Select a flow to view its execution history.",onClick:()=>o(e.block.id),className:"cursor-pointer"});return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:R()}),g.jsx(dy,{open:O,onOpenChange:L=>{L||i()},children:g.jsxs(wm,{children:[g.jsx(Em,{children:g.jsx(Sm,{children:"Flow History Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Flow"}),g.jsx(q7,{flows:a,selectedFlowName:w,onFlowSelect:I})]}),g.jsxs("div",{className:"space-y-1 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Columns"}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>N("showLabels",!e.block.props.showLabels),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(ST,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Labels"})]}),e.block.props.showLabels?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>N("showStart",!e.block.props.showStart),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Zp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Start"})]}),e.block.props.showStart?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>N("showEnd",!e.block.props.showEnd),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Zp,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"End"})]}),e.block.props.showEnd?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>N("showDuration",!e.block.props.showDuration),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(aD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Duration"})]}),e.block.props.showDuration?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]}),g.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-md hover:bg-accent cursor-pointer",onClick:()=>N("showStatus",!e.block.props.showStatus),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(oD,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{className:"text-sm",children:"Status"})]}),e.block.props.showStatus?g.jsx(rc,{className:"size-4",strokeWidth:2.5}):g.jsx(nc,{className:"size-4",strokeWidth:2.5})]})]})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(V0,{availableLabels:u,filters:T,onFiltersChange:A})]})]})]})})]})}})(),wv=gge,Ev=yge,Zg=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(P7,{ref:r,className:Ie("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,g.jsx(bge,{asChild:!0,children:g.jsx(ET,{className:"h-4 w-4 opacity-50"})})]}));Zg.displayName=P7.displayName;const Zge=C.forwardRef(({className:e,...t},n)=>g.jsx(B7,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(BTe,{className:"h-4 w-4"})}));Zge.displayName=B7.displayName;const Qge=C.forwardRef(({className:e,...t},n)=>g.jsx($7,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(ET,{className:"h-4 w-4"})}));Qge.displayName=$7.displayName;const Qg=C.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>g.jsx(iit,{children:g.jsxs(L7,{ref:i,className:Ie("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[g.jsx(Zge,{}),g.jsx(vge,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),g.jsx(Qge,{})]})}));Qg.displayName=L7.displayName;const Dat=C.forwardRef(({className:e,...t},n)=>g.jsx(xge,{ref:n,className:Ie("px-2 py-1.5 text-sm font-semibold",e),...t}));Dat.displayName=xge.displayName;const Xr=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(j7,{ref:r,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(Ege,{children:g.jsx(WS,{className:"h-4 w-4"})})}),g.jsx(wge,{children:t})]}));Xr.displayName=j7.displayName;const Rat=C.forwardRef(({className:e,...t},n)=>g.jsx(Sge,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));Rat.displayName=Sge.displayName;const Iat=px({type:"flowStatus",propSchema:{flowName:{default:""},title:{default:""},blockFilters:{default:"[]"},displayMode:{default:"status"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=yt(z=>z.settingsOpenBlockId),i=yt(z=>z.closeBlockSettings),o=yt(z=>z.flows),a=yt(z=>z.currentNotebook),s=yt(z=>z.startDate),l=yt(z=>z.endDate),c=yt(z=>z.currentNotebook?.filters),d=du(z=>z.labels),[u,p]=F.useState(null),[m,v]=F.useState(!1),[x,w]=F.useState([]),T=e.block.props.flowName,k=e.block.props.title,O=e.block.props.displayMode||"status",I=F.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),N=F.useMemo(()=>[...c||[],...I],[c,I]);if(F.useEffect(()=>{if(!n||!s||!l||!a?.id)return;(async()=>{try{const W=await J0.getByTenant(n,s,l,N,a.id);w(W.filter(G=>G.name===T))}catch{w([])}})()},[n,s,l,N,a?.id,T]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const A=r===e.block.id,R=z=>{p(z),v(!0)},L=z=>{e.editor.updateBlock(e.block,{props:{...e.block.props,flowName:z}})},B=z=>{e.editor.updateBlock(e.block,{props:{...e.block.props,blockFilters:JSON.stringify(z)}})},$=()=>x.length===0?g.jsx("div",{className:"outline-none flex flex-col gap-1",children:g.jsxs(d0,{className:"@container/card shadow-none",children:[g.jsx(zp,{className:"pb-2 pt-2 pl-3",children:g.jsx(i1,{className:"text-xl relative font-semibold flex items-center gap-2",children:g.jsxs(Yp,{variant:"outline",className:"text-muted-foreground px-1.5 gap-1.5 border-0 text-base",children:[g.jsx(Die,{className:Ie("size-5","text-muted-foreground")}),k||T||"N/A"]})})}),g.jsx(vc,{}),g.jsx(xO,{className:"px-6 py-3 text-secondary-foreground",children:"No runs"}),g.jsx(Pv,{className:"flex-col items-start gap-1.5 text-sm p-3 pt-0"})]})}):g.jsx("div",{className:"outline-none flex flex-col gap-1",children:x.map(z=>q(z))}),q=z=>{const W=Wge[z.lastRunStatus];return g.jsx("div",{className:"outline-none flex flex-col gap-1 group",children:g.jsxs(d0,{className:"@container/card shadow-none",children:[g.jsx(zp,{className:"pb-2 pt-2 pl-3",children:g.jsxs(i1,{className:"text-xl relative font-semibold flex items-center gap-2",children:[g.jsx(Ls,{children:g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsxs(Yp,{variant:"outline",className:"text-muted-foreground px-1.5 gap-1.5 border-0 text-base",children:[g.jsx(W.Icon,{className:Ie("size-5",W.iconClass)}),k||z.name]})}),g.jsxs($r,{children:[z.lastRunStatus==="running"&&g.jsxs("p",{children:["Running since"," ",z.lastRunStartedAt?.toLocaleString()]}),z.lastRunStatus!=="running"&&g.jsxs("p",{children:["Last run ended at"," ",z.lastRunEndedAt?.toLocaleString()]})]})]})}),g.jsxs("div",{className:"absolute right-0 -top-2 px-2 py-1.5 rounded-b-lg border border-t-0 bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1.5 opacity-0 shadow-xs",onClick:()=>R(z),children:[g.jsx(Oie,{className:"size-4 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Details"})]})]})}),g.jsx(vc,{}),g.jsxs(xO,{className:"px-6 py-3",children:[O==="runCount"&&g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3",children:[g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 px-6 py-2 text-left border-0",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#5cb660]"}),"Success"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:z.successCount.toLocaleString()})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l ",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#e56458]"}),"Failed"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:z.failedCount.toLocaleString()})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l",children:[g.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-[#2883df]"}),"Running"]}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:z.pendingCount.toLocaleString()})]})]}),O==="status"&&g.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-4",children:[g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 px-6 py-2 text-left border-0",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Last duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:_v({seconds:z.lastDurationInSeconds})})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l ",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Average duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:_v({seconds:z.avgDurationInSeconds})})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Min duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:_v({seconds:z.minDurationInSeconds})})]}),g.jsxs("div",{className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-2 text-left even:border-l sm:border-t-0 sm:border-l",children:[g.jsx("span",{className:"text-muted-foreground text-xs flex items-center gap-2",children:"Max duration"}),g.jsx("span",{className:"text-lg leading-none font-bold sm:text-3xl",children:_v({seconds:z.maxDurationInSeconds})})]})]})]}),g.jsx(Pv,{className:"flex-col items-start gap-1.5 text-sm p-3 pt-0",children:g.jsx("div",{className:"flex gap-1",children:Object.entries(z.labels).map(([G,Z])=>g.jsx("div",{children:g.jsx(eh,{labelKey:G,labelValue:Z,readonly:!0})},G))})})]})},z.groupId)};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:$()}),g.jsx(dy,{open:A,onOpenChange:z=>{z||i()},children:g.jsxs(wm,{children:[g.jsx(Em,{children:g.jsx(Sm,{children:"Flow Status Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Title"}),g.jsx(fu,{placeholder:"Optional title...",value:k,onChange:z=>{e.editor.updateBlock(e.block,{props:{...e.block.props,title:z.target.value}})}})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Display"}),g.jsx(Ls,{delayDuration:300,children:g.jsxs(wv,{value:O,onValueChange:z=>{e.editor.updateBlock(e.block,{props:{...e.block.props,displayMode:z}})},children:[g.jsx(Zg,{children:g.jsx(Ev,{})}),g.jsxs(Qg,{children:[g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(Xr,{value:"status",children:"Duration"})}),g.jsx($r,{side:"right",children:g.jsx("p",{children:"Display flow duration across time period"})})]}),g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(Xr,{value:"runCount",children:"Count"})}),g.jsx($r,{side:"right",children:g.jsx("p",{children:"Count of flow runs split by status"})})]})]})]})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Flow"}),g.jsx(q7,{flows:o,selectedFlowName:T,onFlowSelect:L})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(V0,{availableLabels:d,filters:I,onFiltersChange:B})]})]})]})}),a&&u&&s!==null&&l!==null&&g.jsx(V7,{labels:u.labels,flowName:u.name,open:m,startDate:s,endDate:l,onOpenChange:v,notebookId:a.id})]})}})();function Pat(e){if(!e||e.totalRuns===0)return"var(--color-secondary)";const t=e.failureCount===0&&e.runningCount===0,n=e.successCount===0&&e.runningCount===0,r=e.runningCount>0;return n?"#e56458":t?"#5cb660":r?"#2883df":"orange"}const Lat=px({type:"heatmap",propSchema:{flowName:{default:""},title:{default:""},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=yt(X=>X.startDate),i=yt(X=>X.endDate),o=yt(X=>X.currentNotebook?.filters),a=yt(X=>X.currentNotebook?.id),s=yt(X=>X.flows),l=du(X=>X.labels),c=yt(X=>X.settingsOpenBlockId),d=yt(X=>X.closeBlockSettings),[u,p]=C.useState(!1),[m,v]=C.useState([]),[x,w]=C.useState([]),[T,k]=C.useState(!1),[O,I]=C.useState({}),[N,A]=C.useState(null),R=e.block.props.flowName,L=e.block.props.title,B=c===e.block.id,$=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),q=C.useMemo(()=>[...o||[],...$],[o,$]),z=C.useMemo(()=>{if(!N)return null;const X=new Date(N),oe=new Date(N);return X.setHours(0,0,0,0),oe.setHours(23,59,59,999),{type:"absolute",metadata:{start:X,end:oe}}},[N]),W=F.useMemo(()=>{if(r===null||i===null)return[];let X=r;const oe=[X];for(;X<i;)X=CT(X,1),oe.push(X);return oe},[r,i]);if(C.useEffect(()=>{if(!n||!R||r===null||i===null||q===void 0||!a){v([]),w([]);return}(async()=>{p(!0);try{const oe=await J0.getFlowHistory(n,R,r,i,q,a);v(oe)}catch(oe){console.error("Failed to fetch flow histories:",oe),v([])}finally{p(!1)}})()},[n,R,r,i,q,a]),C.useEffect(()=>{const X=Sv.groupBy(m,K=>K.groupId),oe=Object.entries(X).map(([K,Q])=>{const te=new Map;for(const U of Q){const fe=U.startTime,me=jI(fe,{representation:"date"}),ke=te.get(me);ke?(ke.totalRuns++,U.status==="success"&&ke.successCount++,U.status==="failure"&&ke.failureCount++,U.status==="running"&&ke.runningCount++):te.set(me,{date:fe,dateStr:me,totalRuns:1,successCount:U.status==="success"?1:0,failureCount:U.status==="failure"?1:0,runningCount:U.status==="running"?1:0})}return{labels:Q[0].labels,groupId:K,dayDataMap:te}});w(oe)},[m]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});if(r===null||i===null)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground"})});const G=(X,oe)=>{I(X),A(oe),k(!0)},Z=X=>{e.editor.updateBlock(e.block,{props:{...e.block.props,flowName:X}})},V=X=>{e.editor.updateBlock(e.block,{props:{...e.block.props,blockFilters:JSON.stringify(X)}})},ne=()=>u&&m===null?g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"h-5 w-32 bg-muted rounded animate-pulse"}),g.jsx("div",{className:"flex gap-[2px]",children:Array.from({length:30}).map((X,oe)=>g.jsx("div",{className:"w-3 h-8 bg-muted rounded-sm animate-pulse",style:{animationDelay:`${oe*20}ms`}},oe))})]}):g.jsx("div",{className:"space-y-1",children:g.jsxs(Ls,{children:[x.map((X,oe)=>g.jsxs("div",{className:"space-y-1",children:[oe===0&&g.jsx("div",{className:"text-m font-medium mb-1",children:L||R||"N/A"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"flex gap-[2px] flex-1",children:W.map(K=>{const Q=jI(K,{representation:"date"}),te=X.dayDataMap.get(Q)||null,U=Pat(te);return g.jsxs(ei,{delayDuration:0,children:[g.jsx(ti,{asChild:!0,children:g.jsx("div",{className:"w-3 h-8 rounded-sm transition-opacity hover:opacity-80 cursor-pointer",style:{backgroundColor:U},onClick:()=>G(X.labels,K)})}),g.jsx($r,{children:g.jsxs("div",{className:"text-xs",children:[g.jsx("div",{className:"font-semibold mb-1",children:Q}),te?g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#5cb660"}}),g.jsx("span",{children:te.successCount})]}),te.failureCount>0&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#e56458"}}),g.jsx("span",{children:te.failureCount})]}),te.runningCount>0&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#2883df"}}),g.jsx("span",{children:te.runningCount})]})]}):g.jsx("div",{className:"text-muted-foreground",children:"No runs"})]})})]},Q)})}),g.jsx("div",{className:"flex items-center gap-1",children:Object.entries(X.labels).map(([K,Q])=>g.jsx(eh,{labelKey:K,labelValue:Q,readonly:!0},K))})]})]},X.groupId)),x.length===0&&g.jsxs("div",{className:"space-y-1",children:[g.jsx("div",{className:"text-m font-medium mb-1",children:L||R||"N/A"}),g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("div",{className:"flex gap-[2px] flex-1",children:W.map(X=>{const oe=jI(X,{representation:"date"});return g.jsxs(ei,{delayDuration:0,children:[g.jsx(ti,{asChild:!0,children:g.jsx("div",{className:"w-3 h-8 rounded-sm transition-opacity hover:opacity-80 cursor-pointer",style:{backgroundColor:"var(--color-secondary)"}})}),g.jsx($r,{children:g.jsxs("div",{className:"text-xs",children:[g.jsx("div",{className:"font-semibold mb-1",children:oe}),g.jsx("div",{className:"text-muted-foreground",children:"No runs"})]})})]},oe)})})})]})]})});return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:ne()}),g.jsx(dy,{open:B,onOpenChange:X=>{X||d()},children:g.jsxs(wm,{children:[g.jsx(Em,{children:g.jsx(Sm,{children:"Heatmap Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Title"}),g.jsx(fu,{placeholder:"Optional title...",value:L,onChange:X=>{e.editor.updateBlock(e.block,{props:{...e.block.props,title:X.target.value}})}})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Flow"}),g.jsx(q7,{flows:s,selectedFlowName:R,onFlowSelect:Z})]}),g.jsxs("div",{className:"space-y-3 mt-6",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"}),g.jsx(V0,{availableLabels:l,filters:$,onFiltersChange:V})]})]})]})}),z&&a&&g.jsx(V7,{labels:O,flowName:R,open:T,startDate:r,endDate:i,onOpenChange:k,notebookId:a})]})}})();var EL,FK;function Gs(){if(FK)return EL;FK=1;var e=Array.isArray;return EL=e,EL}var SL,UK;function Jge(){if(UK)return SL;UK=1;var e=typeof Ip=="object"&&Ip&&Ip.Object===Object&&Ip;return SL=e,SL}var CL,zK;function Fd(){if(zK)return CL;zK=1;var e=Jge(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return CL=n,CL}var TL,VK;function ok(){if(VK)return TL;VK=1;var e=Fd(),t=e.Symbol;return TL=t,TL}var kL,qK;function jat(){if(qK)return kL;qK=1;var e=ok(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var d=r.call(a);return c&&(s?a[i]=l:delete a[i]),d}return kL=o,kL}var _L,WK;function Bat(){if(WK)return _L;WK=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return _L=n,_L}var AL,YK;function fh(){if(YK)return AL;YK=1;var e=ok(),t=jat(),n=Bat(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return AL=a,AL}var OL,GK;function hh(){if(GK)return OL;GK=1;function e(t){return t!=null&&typeof t=="object"}return OL=e,OL}var NL,KK;function yx(){if(KK)return NL;KK=1;var e=fh(),t=hh(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return NL=r,NL}var ML,XK;function W7(){if(XK)return ML;XK=1;var e=Gs(),t=yx(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return ML=i,ML}var DL,ZK;function Cm(){if(ZK)return DL;ZK=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return DL=e,DL}var RL,QK;function Y7(){if(QK)return RL;QK=1;var e=fh(),t=Cm(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==o}return RL=a,RL}var IL,JK;function $at(){if(JK)return IL;JK=1;var e=Fd(),t=e["__core-js_shared__"];return IL=t,IL}var PL,eX;function Hat(){if(eX)return PL;eX=1;var e=$at(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return PL=n,PL}var LL,tX;function e0e(){if(tX)return LL;tX=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return LL=n,LL}var jL,nX;function Fat(){if(nX)return jL;nX=1;var e=Y7(),t=Hat(),n=Cm(),r=e0e(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u(p){if(!n(p)||t(p))return!1;var m=e(p)?d:o;return m.test(r(p))}return jL=u,jL}var BL,rX;function Uat(){if(rX)return BL;rX=1;function e(t,n){return t?.[n]}return BL=e,BL}var $L,iX;function fy(){if(iX)return $L;iX=1;var e=Fat(),t=Uat();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return $L=n,$L}var HL,oX;function TR(){if(oX)return HL;oX=1;var e=fy(),t=e(Object,"create");return HL=t,HL}var FL,aX;function zat(){if(aX)return FL;aX=1;var e=TR();function t(){this.__data__=e?e(null):{},this.size=0}return FL=t,FL}var UL,sX;function Vat(){if(sX)return UL;sX=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return UL=e,UL}var zL,lX;function qat(){if(lX)return zL;lX=1;var e=TR(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return zL=i,zL}var VL,cX;function Wat(){if(cX)return VL;cX=1;var e=TR(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return VL=r,VL}var qL,uX;function Yat(){if(uX)return qL;uX=1;var e=TR(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return qL=n,qL}var WL,dX;function Gat(){if(dX)return WL;dX=1;var e=zat(),t=Vat(),n=qat(),r=Wat(),i=Yat();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,WL=o,WL}var YL,fX;function Kat(){if(fX)return YL;fX=1;function e(){this.__data__=[],this.size=0}return YL=e,YL}var GL,hX;function G7(){if(hX)return GL;hX=1;function e(t,n){return t===n||t!==t&&n!==n}return GL=e,GL}var KL,pX;function kR(){if(pX)return KL;pX=1;var e=G7();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return KL=t,KL}var XL,mX;function Xat(){if(mX)return XL;mX=1;var e=kR(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return XL=r,XL}var ZL,gX;function Zat(){if(gX)return ZL;gX=1;var e=kR();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return ZL=t,ZL}var QL,yX;function Qat(){if(yX)return QL;yX=1;var e=kR();function t(n){return e(this.__data__,n)>-1}return QL=t,QL}var JL,bX;function Jat(){if(bX)return JL;bX=1;var e=kR();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return JL=t,JL}var e4,vX;function _R(){if(vX)return e4;vX=1;var e=Kat(),t=Xat(),n=Zat(),r=Qat(),i=Jat();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,e4=o,e4}var t4,xX;function K7(){if(xX)return t4;xX=1;var e=fy(),t=Fd(),n=e(t,"Map");return t4=n,t4}var n4,wX;function est(){if(wX)return n4;wX=1;var e=Gat(),t=_R(),n=K7();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return n4=r,n4}var r4,EX;function tst(){if(EX)return r4;EX=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return r4=e,r4}var i4,SX;function AR(){if(SX)return i4;SX=1;var e=tst();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return i4=t,i4}var o4,CX;function nst(){if(CX)return o4;CX=1;var e=AR();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return o4=t,o4}var a4,TX;function rst(){if(TX)return a4;TX=1;var e=AR();function t(n){return e(this,n).get(n)}return a4=t,a4}var s4,kX;function ist(){if(kX)return s4;kX=1;var e=AR();function t(n){return e(this,n).has(n)}return s4=t,s4}var l4,_X;function ost(){if(_X)return l4;_X=1;var e=AR();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return l4=t,l4}var c4,AX;function X7(){if(AX)return c4;AX=1;var e=est(),t=nst(),n=rst(),r=ist(),i=ost();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,c4=o,c4}var u4,OX;function t0e(){if(OX)return u4;OX=1;var e=X7(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var c=r.apply(this,a);return o.cache=l.set(s,c)||l,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,u4=n,u4}var d4,NX;function ast(){if(NX)return d4;NX=1;var e=t0e(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return d4=n,d4}var f4,MX;function sst(){if(MX)return f4;MX=1;var e=ast(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,l,c){o.push(l?c.replace(n,"$1"):s||a)}),o});return f4=r,f4}var h4,DX;function Z7(){if(DX)return h4;DX=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return h4=e,h4}var p4,RX;function lst(){if(RX)return p4;RX=1;var e=ok(),t=Z7(),n=Gs(),r=yx(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return p4=a,p4}var m4,IX;function n0e(){if(IX)return m4;IX=1;var e=lst();function t(n){return n==null?"":e(n)}return m4=t,m4}var g4,PX;function r0e(){if(PX)return g4;PX=1;var e=Gs(),t=W7(),n=sst(),r=n0e();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return g4=i,g4}var y4,LX;function OR(){if(LX)return y4;LX=1;var e=yx();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return y4=t,y4}var b4,jX;function Q7(){if(jX)return b4;jX=1;var e=r0e(),t=OR();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return b4=n,b4}var v4,BX;function i0e(){if(BX)return v4;BX=1;var e=Q7();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return v4=t,v4}var cst=i0e();const gc=vr(cst);var x4,$X;function ust(){if($X)return x4;$X=1;function e(t){return t==null}return x4=e,x4}var dst=ust();const qn=vr(dst);var w4,HX;function fst(){if(HX)return w4;HX=1;var e=fh(),t=Gs(),n=hh(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return w4=i,w4}var hst=fst();const q0=vr(hst);var pst=Y7();const Rn=vr(pst);var mst=Cm();const bx=vr(mst);var E4={exports:{}},Tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FX;function gst(){if(FX)return Tr;FX=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function x(w){if(typeof w=="object"&&w!==null){var T=w.$$typeof;switch(T){case e:switch(w=w.type,w){case n:case i:case r:case c:case d:return w;default:switch(w=w&&w.$$typeof,w){case s:case a:case l:case p:case u:case o:return w;default:return T}}case t:return T}}}return Tr.ContextConsumer=a,Tr.ContextProvider=o,Tr.Element=e,Tr.ForwardRef=l,Tr.Fragment=n,Tr.Lazy=p,Tr.Memo=u,Tr.Portal=t,Tr.Profiler=i,Tr.StrictMode=r,Tr.Suspense=c,Tr.SuspenseList=d,Tr.isAsyncMode=function(){return!1},Tr.isConcurrentMode=function(){return!1},Tr.isContextConsumer=function(w){return x(w)===a},Tr.isContextProvider=function(w){return x(w)===o},Tr.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Tr.isForwardRef=function(w){return x(w)===l},Tr.isFragment=function(w){return x(w)===n},Tr.isLazy=function(w){return x(w)===p},Tr.isMemo=function(w){return x(w)===u},Tr.isPortal=function(w){return x(w)===t},Tr.isProfiler=function(w){return x(w)===i},Tr.isStrictMode=function(w){return x(w)===r},Tr.isSuspense=function(w){return x(w)===c},Tr.isSuspenseList=function(w){return x(w)===d},Tr.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===c||w===d||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===u||w.$$typeof===o||w.$$typeof===a||w.$$typeof===l||w.$$typeof===v||w.getModuleId!==void 0)},Tr.typeOf=x,Tr}var UX;function yst(){return UX||(UX=1,E4.exports=gst()),E4.exports}var bst=yst(),S4,zX;function o0e(){if(zX)return S4;zX=1;var e=fh(),t=hh(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return S4=r,S4}var C4,VX;function vst(){if(VX)return C4;VX=1;var e=o0e();function t(n){return e(n)&&n!=+n}return C4=t,C4}var xst=vst();const ak=vr(xst);var wst=o0e();const Est=vr(wst);var cu=function(t){return t===0?0:t>0?1:-1},i0=function(t){return q0(t)&&t.indexOf("%")===t.length-1},ut=function(t){return Est(t)&&!ak(t)},Sst=function(t){return qn(t)},To=function(t){return ut(t)||q0(t)},Cst=0,sk=function(t){var n=++Cst;return"".concat(t||"").concat(n)},W0=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ut(t)&&!q0(t))return r;var o;if(i0(t)){var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return ak(o)&&(o=r),i&&o>n&&(o=n),o},Rp=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Tst=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},tu=function(t,n){return ut(t)&&ut(n)?function(r){return t+r*(n-t)}:function(){return n}};function GN(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):gc(r,t))===n})}var kst=function(t,n){return ut(t)&&ut(n)?t-n:q0(t)&&q0(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Yv(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function B8(e){"@babel/helpers - typeof";return B8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B8(e)}var _st=["viewBox","children"],Ast=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qX=["points","pathLength"],T4={svg:_st,polygon:qX,polyline:qX},J7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],KN=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),!bx(r))return null;var i={};return Object.keys(r).forEach(function(o){J7.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Ost=function(t,n,r){return function(i){return t(n,r,i),null}},XN=function(t,n,r){if(!bx(t)||B8(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var a=t[o];J7.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Ost(a,n,r))}),i},Nst=["children"],Mst=["children"];function WX(e,t){if(e==null)return{};var n=Dst(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $8(e){"@babel/helpers - typeof";return $8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$8(e)}var YX={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},zf=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},GX=null,k4=null,eU=function e(t){if(t===GX&&Array.isArray(k4))return k4;var n=[];return C.Children.forEach(t,function(r){qn(r)||(bst.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),k4=n,GX=t,n};function yc(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return zf(i)}):r=[zf(t)],eU(e).forEach(function(i){var o=gc(i,"type.displayName")||gc(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function vl(e,t){var n=yc(e,t);return n&&n[0]}var KX=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!ut(r)||r<=0||!ut(i)||i<=0)},Rst=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ist=function(t){return t&&t.type&&q0(t.type)&&Rst.indexOf(t.type)>=0},Pst=function(t){return t&&$8(t)==="object"&&"clipDot"in t},Lst=function(t,n,r,i){var o,a=(o=T4?.[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Rn(t)&&(i&&a.includes(n)||Ast.includes(n))||r&&J7.includes(n)},Jn=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(C.isValidElement(t)&&(i=t.props),!bx(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Lst((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},H8=function e(t,n){if(t===n)return!0;var r=C.Children.count(t);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return XX(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!XX(o,a))return!1}return!0},XX=function(t,n){if(qn(t)&&qn(n))return!0;if(!qn(t)&&!qn(n)){var r=t.props||{},i=r.children,o=WX(r,Nst),a=n.props||{},s=a.children,l=WX(a,Mst);return i&&s?Yv(o,l)&&H8(i,s):!i&&!s?Yv(o,l):!1}return!1},ZX=function(t,n){var r=[],i={};return eU(t).forEach(function(o,a){if(Ist(o))r.push(o);else if(o){var s=zf(o.type),l=n[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var u=c(o,s,a);r.push(u),i[s]=!0}}}),r},jst=function(t){var n=t&&t.type;return n&&YX[n]?YX[n]:null},Bst=function(t,n){return eU(n).indexOf(t)},$st=["children","width","height","viewBox","className","style","title","desc"];function F8(){return F8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F8.apply(this,arguments)}function Hst(e,t){if(e==null)return{};var n=Fst(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function U8(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,c=Hst(e,$st),d=i||{width:n,height:r,x:0,y:0},u=Xn("recharts-surface",o);return F.createElement("svg",F8({},Jn(c,!0,"svg"),{className:u,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),F.createElement("title",null,s),F.createElement("desc",null,l),t)}var Ust=["children","className"];function z8(){return z8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z8.apply(this,arguments)}function zst(e,t){if(e==null)return{};var n=Vst(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Vst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Wi=F.forwardRef(function(e,t){var n=e.children,r=e.className,i=zst(e,Ust),o=Xn("recharts-layer",r);return F.createElement("g",z8({className:o},Jn(i,!0),{ref:t}),n)}),Vf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},_4,QX;function qst(){if(QX)return _4;QX=1;function e(t,n,r){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(o);++i<o;)a[i]=t[i+n];return a}return _4=e,_4}var A4,JX;function Wst(){if(JX)return A4;JX=1;var e=qst();function t(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:e(n,r,i)}return A4=t,A4}var O4,eZ;function a0e(){if(eZ)return O4;eZ=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function l(c){return s.test(c)}return O4=l,O4}var N4,tZ;function Yst(){if(tZ)return N4;tZ=1;function e(t){return t.split("")}return N4=e,N4}var M4,nZ;function Gst(){if(nZ)return M4;nZ=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",d="[^"+e+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=c+"?",x="["+o+"]?",w="(?:"+m+"(?:"+[d,u,p].join("|")+")"+x+v+")*",T=x+v+w,k="(?:"+[d+s+"?",s,u,p,a].join("|")+")",O=RegExp(l+"(?="+l+")|"+k+T,"g");function I(N){return N.match(O)||[]}return M4=I,M4}var D4,rZ;function Kst(){if(rZ)return D4;rZ=1;var e=Yst(),t=a0e(),n=Gst();function r(i){return t(i)?n(i):e(i)}return D4=r,D4}var R4,iZ;function Xst(){if(iZ)return R4;iZ=1;var e=Wst(),t=a0e(),n=Kst(),r=n0e();function i(o){return function(a){a=r(a);var s=t(a)?n(a):void 0,l=s?s[0]:a.charAt(0),c=s?e(s,1).join(""):a.slice(1);return l[o]()+c}}return R4=i,R4}var I4,oZ;function Zst(){if(oZ)return I4;oZ=1;var e=Xst(),t=e("toUpperCase");return I4=t,I4}var Qst=Zst();const NR=vr(Qst);function Jr(e){return function(){return e}}const s0e=Math.cos,ZN=Math.sin,Au=Math.sqrt,QN=Math.PI,MR=2*QN,V8=Math.PI,q8=2*V8,Yg=1e-6,Jst=q8-Yg;function l0e(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function elt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return l0e;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tlt{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?l0e:elt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,c=i-n,d=a-t,u=s-n,p=d*d+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Yg)if(!(Math.abs(u*l-c*d)>Yg)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,v=i-s,x=l*l+c*c,w=m*m+v*v,T=Math.sqrt(x),k=Math.sqrt(p),O=o*Math.tan((V8-Math.acos((x+p-w)/(2*T*k)))/2),I=O/k,N=O/T;Math.abs(I-1)>Yg&&this._append`L${t+I*d},${n+I*u}`,this._append`A${o},${o},0,0,${+(u*m>d*v)},${this._x1=t+N*l},${this._y1=n+N*c}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,d=n+l,u=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Yg||Math.abs(this._y1-d)>Yg)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%q8+q8),p>Jst?this._append`A${r},${r},0,1,${u},${t-s},${n-l}A${r},${r},0,1,${u},${this._x1=c},${this._y1=d}`:p>Yg&&this._append`A${r},${r},0,${+(p>=V8)},${u},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function tU(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new tlt(t)}function nU(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function c0e(e){this._context=e}c0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function DR(e){return new c0e(e)}function u0e(e){return e[0]}function d0e(e){return e[1]}function f0e(e,t){var n=Jr(!0),r=null,i=DR,o=null,a=tU(s);e=typeof e=="function"?e:e===void 0?u0e:Jr(e),t=typeof t=="function"?t:t===void 0?d0e:Jr(t);function s(l){var c,d=(l=nU(l)).length,u,p=!1,m;for(r==null&&(o=i(m=a())),c=0;c<=d;++c)!(c<d&&n(u=l[c],c,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(u,c,l),+t(u,c,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Jr(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Jr(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Jr(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function SA(e,t,n){var r=null,i=Jr(!0),o=null,a=DR,s=null,l=tU(c);e=typeof e=="function"?e:e===void 0?u0e:Jr(+e),t=typeof t=="function"?t:Jr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?d0e:Jr(+n);function c(u){var p,m,v,x=(u=nU(u)).length,w,T=!1,k,O=new Array(x),I=new Array(x);for(o==null&&(s=a(k=l())),p=0;p<=x;++p){if(!(p<x&&i(w=u[p],p,u))===T)if(T=!T)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=m;--v)s.point(O[v],I[v]);s.lineEnd(),s.areaEnd()}T&&(O[p]=+e(w,p,u),I[p]=+t(w,p,u),s.point(r?+r(w,p,u):O[p],n?+n(w,p,u):I[p]))}if(k)return s=null,k+""||null}function d(){return f0e().defined(i).curve(a).context(o)}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:Jr(+u),r=null,c):e},c.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Jr(+u),c):e},c.x1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Jr(+u),c):r},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:Jr(+u),n=null,c):t},c.y0=function(u){return arguments.length?(t=typeof u=="function"?u:Jr(+u),c):t},c.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Jr(+u),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(u){return arguments.length?(i=typeof u=="function"?u:Jr(!!u),c):i},c.curve=function(u){return arguments.length?(a=u,o!=null&&(s=a(o)),c):a},c.context=function(u){return arguments.length?(u==null?o=s=null:s=a(o=u),c):o},c}class h0e{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function nlt(e){return new h0e(e,!0)}function rlt(e){return new h0e(e,!1)}const rU={draw(e,t){const n=Au(t/QN);e.moveTo(n,0),e.arc(0,0,n,0,MR)}},ilt={draw(e,t){const n=Au(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},p0e=Au(1/3),olt=p0e*2,alt={draw(e,t){const n=Au(t/olt),r=n*p0e;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},slt={draw(e,t){const n=Au(t),r=-n/2;e.rect(r,r,n,n)}},llt=.8908130915292852,m0e=ZN(QN/10)/ZN(7*QN/10),clt=ZN(MR/10)*m0e,ult=-s0e(MR/10)*m0e,dlt={draw(e,t){const n=Au(t*llt),r=clt*n,i=ult*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=MR*o/5,s=s0e(a),l=ZN(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},P4=Au(3),flt={draw(e,t){const n=-Au(t/(P4*3));e.moveTo(0,n*2),e.lineTo(-P4*n,-n),e.lineTo(P4*n,-n),e.closePath()}},Zl=-.5,Ql=Au(3)/2,W8=1/Au(12),hlt=(W8/2+1)*3,plt={draw(e,t){const n=Au(t/hlt),r=n/2,i=n*W8,o=r,a=n*W8+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Zl*r-Ql*i,Ql*r+Zl*i),e.lineTo(Zl*o-Ql*a,Ql*o+Zl*a),e.lineTo(Zl*s-Ql*l,Ql*s+Zl*l),e.lineTo(Zl*r+Ql*i,Zl*i-Ql*r),e.lineTo(Zl*o+Ql*a,Zl*a-Ql*o),e.lineTo(Zl*s+Ql*l,Zl*l-Ql*s),e.closePath()}};function mlt(e,t){let n=null,r=tU(i);e=typeof e=="function"?e:Jr(e||rU),t=typeof t=="function"?t:Jr(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Jr(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Jr(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function JN(){}function eM(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function g0e(e){this._context=e}g0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eM(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function glt(e){return new g0e(e)}function y0e(e){this._context=e}y0e.prototype={areaStart:JN,areaEnd:JN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ylt(e){return new y0e(e)}function b0e(e){this._context=e}b0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:eM(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function blt(e){return new b0e(e)}function v0e(e){this._context=e}v0e.prototype={areaStart:JN,areaEnd:JN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vlt(e){return new v0e(e)}function aZ(e){return e<0?-1:1}function sZ(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(aZ(o)+aZ(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function lZ(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function L4(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function tM(e){this._context=e}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:L4(this,this._t0,lZ(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,L4(this,lZ(this,n=sZ(this,e,t)),n);break;default:L4(this,this._t0,n=sZ(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function x0e(e){this._context=new w0e(e)}(x0e.prototype=Object.create(tM.prototype)).point=function(e,t){tM.prototype.point.call(this,t,e)};function w0e(e){this._context=e}w0e.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function xlt(e){return new tM(e)}function wlt(e){return new x0e(e)}function E0e(e){this._context=e}E0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=cZ(e),i=cZ(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cZ(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Elt(e){return new E0e(e)}function RR(e,t){this._context=e,this._t=t}RR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Slt(e){return new RR(e,.5)}function Clt(e){return new RR(e,0)}function Tlt(e){return new RR(e,1)}function E1(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Y8(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function klt(e,t){return e[t]}function _lt(e){const t=[];return t.key=e,t}function Alt(){var e=Jr([]),t=Y8,n=E1,r=klt;function i(o){var a=Array.from(e.apply(this,arguments),_lt),s,l=a.length,c=-1,d;for(const u of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(u,a[s].key,c,o)]).data=u;for(s=0,d=nU(t(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Jr(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Jr(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Y8:typeof o=="function"?o:Jr(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??E1,i):n},i}function Olt(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}E1(e,t)}}function Nlt(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}E1(e,t)}}function Mlt(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var d=e[t[s]],u=d[r][1]||0,p=d[r-1][1]||0,m=(u-p)/2,v=0;v<s;++v){var x=e[t[v]],w=x[r][1]||0,T=x[r-1][1]||0;m+=w-T}l+=u,c+=m*u}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,E1(e,t)}}function OC(e){"@babel/helpers - typeof";return OC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OC(e)}var Dlt=["type","size","sizeType"];function G8(){return G8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G8.apply(this,arguments)}function uZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uZ(Object(n),!0).forEach(function(r){Rlt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rlt(e,t,n){return t=Ilt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ilt(e){var t=Plt(e,"string");return OC(t)=="symbol"?t:t+""}function Plt(e,t){if(OC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(OC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Llt(e,t){if(e==null)return{};var n=jlt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jlt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var S0e={symbolCircle:rU,symbolCross:ilt,symbolDiamond:alt,symbolSquare:slt,symbolStar:dlt,symbolTriangle:flt,symbolWye:plt},Blt=Math.PI/180,$lt=function(t){var n="symbol".concat(NR(t));return S0e[n]||rU},Hlt=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Blt;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Flt=function(t,n){S0e["symbol".concat(NR(t))]=n},iU=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,a=t.sizeType,s=a===void 0?"area":a,l=Llt(t,Dlt),c=dZ(dZ({},l),{},{type:r,size:o,sizeType:s}),d=function(){var w=$lt(r),T=mlt().type(w).size(Hlt(o,s,r));return T()},u=c.className,p=c.cx,m=c.cy,v=Jn(c,!0);return p===+p&&m===+m&&o===+o?F.createElement("path",G8({},v,{className:Xn("recharts-symbols",u),transform:"translate(".concat(p,", ").concat(m,")"),d:d()})):null};iU.registerSymbol=Flt;function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function K8(){return K8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K8.apply(this,arguments)}function fZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ult(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fZ(Object(n),!0).forEach(function(r){NC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zlt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vlt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T0e(r.key),r)}}function qlt(e,t,n){return t&&Vlt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wlt(e,t,n){return t=nM(t),Ylt(e,C0e()?Reflect.construct(t,n||[],nM(e).constructor):t.apply(e,n))}function Ylt(e,t){if(t&&(S1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Glt(e)}function Glt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C0e=function(){return!!e})()}function nM(e){return nM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nM(e)}function Klt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X8(e,t)}function X8(e,t){return X8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X8(e,t)}function NC(e,t,n){return t=T0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T0e(e){var t=Xlt(e,"string");return S1(t)=="symbol"?t:t+""}function Xlt(e,t){if(S1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(S1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jl=32,oU=(function(e){function t(){return zlt(this,t),Wlt(this,t,arguments)}return Klt(t,e),qlt(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Jl/2,a=Jl/6,s=Jl/3,l=r.inactive?i:r.color;if(r.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Jl,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Jl,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Jl/8,"h").concat(Jl,"v").concat(Jl*3/4,"h").concat(-Jl,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var c=Ult({},r);return delete c.legendIcon,F.cloneElement(r.legendIcon,c)}return F.createElement(iU,{fill:l,cx:o,cy:o,size:Jl,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Jl,height:Jl},u={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,v){var x=m.formatter||l,w=Xn(NC(NC({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var T=Rn(m.value)?null:m.value;Vf(!Rn(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=m.inactive?c:m.color;return F.createElement("li",K8({className:w,style:u,key:"legend-item-".concat(v)},XN(r.props,m,v)),F.createElement(U8,{width:a,height:a,viewBox:d,style:p},r.renderIcon(m)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},x?x(T,m,v):T))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(C.PureComponent);NC(oU,"displayName","Legend");NC(oU,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var j4,hZ;function Zlt(){if(hZ)return j4;hZ=1;var e=_R();function t(){this.__data__=new e,this.size=0}return j4=t,j4}var B4,pZ;function Qlt(){if(pZ)return B4;pZ=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return B4=e,B4}var $4,mZ;function Jlt(){if(mZ)return $4;mZ=1;function e(t){return this.__data__.get(t)}return $4=e,$4}var H4,gZ;function ect(){if(gZ)return H4;gZ=1;function e(t){return this.__data__.has(t)}return H4=e,H4}var F4,yZ;function tct(){if(yZ)return F4;yZ=1;var e=_R(),t=K7(),n=X7(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(o,a),this.size=s.size,this}return F4=i,F4}var U4,bZ;function k0e(){if(bZ)return U4;bZ=1;var e=_R(),t=Zlt(),n=Qlt(),r=Jlt(),i=ect(),o=tct();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,U4=a,U4}var z4,vZ;function nct(){if(vZ)return z4;vZ=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return z4=t,z4}var V4,xZ;function rct(){if(xZ)return V4;xZ=1;function e(t){return this.__data__.has(t)}return V4=e,V4}var q4,wZ;function _0e(){if(wZ)return q4;wZ=1;var e=X7(),t=nct(),n=rct();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,q4=r,q4}var W4,EZ;function A0e(){if(EZ)return W4;EZ=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return W4=e,W4}var Y4,SZ;function O0e(){if(SZ)return Y4;SZ=1;function e(t,n){return t.has(n)}return Y4=e,Y4}var G4,CZ;function N0e(){if(CZ)return G4;CZ=1;var e=_0e(),t=A0e(),n=O0e(),r=1,i=2;function o(a,s,l,c,d,u){var p=l&r,m=a.length,v=s.length;if(m!=v&&!(p&&v>m))return!1;var x=u.get(a),w=u.get(s);if(x&&w)return x==s&&w==a;var T=-1,k=!0,O=l&i?new e:void 0;for(u.set(a,s),u.set(s,a);++T<m;){var I=a[T],N=s[T];if(c)var A=p?c(N,I,T,s,a,u):c(I,N,T,a,s,u);if(A!==void 0){if(A)continue;k=!1;break}if(O){if(!t(s,function(R,L){if(!n(O,L)&&(I===R||d(I,R,l,c,u)))return O.push(L)})){k=!1;break}}else if(!(I===N||d(I,N,l,c,u))){k=!1;break}}return u.delete(a),u.delete(s),k}return G4=o,G4}var K4,TZ;function ict(){if(TZ)return K4;TZ=1;var e=Fd(),t=e.Uint8Array;return K4=t,K4}var X4,kZ;function oct(){if(kZ)return X4;kZ=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return X4=e,X4}var Z4,_Z;function aU(){if(_Z)return Z4;_Z=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Z4=e,Z4}var Q4,AZ;function act(){if(AZ)return Q4;AZ=1;var e=ok(),t=ict(),n=G7(),r=N0e(),i=oct(),o=aU(),a=1,s=2,l="[object Boolean]",c="[object Date]",d="[object Error]",u="[object Map]",p="[object Number]",m="[object RegExp]",v="[object Set]",x="[object String]",w="[object Symbol]",T="[object ArrayBuffer]",k="[object DataView]",O=e?e.prototype:void 0,I=O?O.valueOf:void 0;function N(A,R,L,B,$,q,z){switch(L){case k:if(A.byteLength!=R.byteLength||A.byteOffset!=R.byteOffset)return!1;A=A.buffer,R=R.buffer;case T:return!(A.byteLength!=R.byteLength||!q(new t(A),new t(R)));case l:case c:case p:return n(+A,+R);case d:return A.name==R.name&&A.message==R.message;case m:case x:return A==R+"";case u:var W=i;case v:var G=B&a;if(W||(W=o),A.size!=R.size&&!G)return!1;var Z=z.get(A);if(Z)return Z==R;B|=s,z.set(A,R);var V=r(W(A),W(R),B,$,q,z);return z.delete(A),V;case w:if(I)return I.call(A)==I.call(R)}return!1}return Q4=N,Q4}var J4,OZ;function M0e(){if(OZ)return J4;OZ=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return J4=e,J4}var ej,NZ;function sct(){if(NZ)return ej;NZ=1;var e=M0e(),t=Gs();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return ej=n,ej}var tj,MZ;function lct(){if(MZ)return tj;MZ=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return tj=e,tj}var nj,DZ;function cct(){if(DZ)return nj;DZ=1;function e(){return[]}return nj=e,nj}var rj,RZ;function uct(){if(RZ)return rj;RZ=1;var e=lct(),t=cct(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return rj=o,rj}var ij,IZ;function dct(){if(IZ)return ij;IZ=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return ij=e,ij}var oj,PZ;function fct(){if(PZ)return oj;PZ=1;var e=fh(),t=hh(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return oj=r,oj}var aj,LZ;function sU(){if(LZ)return aj;LZ=1;var e=fct(),t=hh(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return aj=o,aj}var uS={exports:{}},sj,jZ;function hct(){if(jZ)return sj;jZ=1;function e(){return!1}return sj=e,sj}uS.exports;var BZ;function D0e(){return BZ||(BZ=1,(function(e,t){var n=Fd(),r=hct(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c})(uS,uS.exports)),uS.exports}var lj,$Z;function lU(){if($Z)return lj;$Z=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return lj=n,lj}var cj,HZ;function cU(){if(HZ)return cj;HZ=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return cj=t,cj}var uj,FZ;function pct(){if(FZ)return uj;FZ=1;var e=fh(),t=cU(),n=hh(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",u="[object Object]",p="[object RegExp]",m="[object Set]",v="[object String]",x="[object WeakMap]",w="[object ArrayBuffer]",T="[object DataView]",k="[object Float32Array]",O="[object Float64Array]",I="[object Int8Array]",N="[object Int16Array]",A="[object Int32Array]",R="[object Uint8Array]",L="[object Uint8ClampedArray]",B="[object Uint16Array]",$="[object Uint32Array]",q={};q[k]=q[O]=q[I]=q[N]=q[A]=q[R]=q[L]=q[B]=q[$]=!0,q[r]=q[i]=q[w]=q[o]=q[T]=q[a]=q[s]=q[l]=q[c]=q[d]=q[u]=q[p]=q[m]=q[v]=q[x]=!1;function z(W){return n(W)&&t(W.length)&&!!q[e(W)]}return uj=z,uj}var dj,UZ;function R0e(){if(UZ)return dj;UZ=1;function e(t){return function(n){return t(n)}}return dj=e,dj}var dS={exports:{}};dS.exports;var zZ;function mct(){return zZ||(zZ=1,(function(e,t){var n=Jge(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();e.exports=s})(dS,dS.exports)),dS.exports}var fj,VZ;function I0e(){if(VZ)return fj;VZ=1;var e=pct(),t=R0e(),n=mct(),r=n&&n.isTypedArray,i=r?t(r):e;return fj=i,fj}var hj,qZ;function gct(){if(qZ)return hj;qZ=1;var e=dct(),t=sU(),n=Gs(),r=D0e(),i=lU(),o=I0e(),a=Object.prototype,s=a.hasOwnProperty;function l(c,d){var u=n(c),p=!u&&t(c),m=!u&&!p&&r(c),v=!u&&!p&&!m&&o(c),x=u||p||m||v,w=x?e(c.length,String):[],T=w.length;for(var k in c)(d||s.call(c,k))&&!(x&&(k=="length"||m&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,T)))&&w.push(k);return w}return hj=l,hj}var pj,WZ;function yct(){if(WZ)return pj;WZ=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return pj=t,pj}var mj,YZ;function P0e(){if(YZ)return mj;YZ=1;function e(t,n){return function(r){return t(n(r))}}return mj=e,mj}var gj,GZ;function bct(){if(GZ)return gj;GZ=1;var e=P0e(),t=e(Object.keys,Object);return gj=t,gj}var yj,KZ;function vct(){if(KZ)return yj;KZ=1;var e=yct(),t=bct(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return yj=i,yj}var bj,XZ;function lk(){if(XZ)return bj;XZ=1;var e=Y7(),t=cU();function n(r){return r!=null&&t(r.length)&&!e(r)}return bj=n,bj}var vj,ZZ;function IR(){if(ZZ)return vj;ZZ=1;var e=gct(),t=vct(),n=lk();function r(i){return n(i)?e(i):t(i)}return vj=r,vj}var xj,QZ;function xct(){if(QZ)return xj;QZ=1;var e=sct(),t=uct(),n=IR();function r(i){return e(i,n,t)}return xj=r,xj}var wj,JZ;function wct(){if(JZ)return wj;JZ=1;var e=xct(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,l,c,d){var u=s&t,p=e(o),m=p.length,v=e(a),x=v.length;if(m!=x&&!u)return!1;for(var w=m;w--;){var T=p[w];if(!(u?T in a:r.call(a,T)))return!1}var k=d.get(o),O=d.get(a);if(k&&O)return k==a&&O==o;var I=!0;d.set(o,a),d.set(a,o);for(var N=u;++w<m;){T=p[w];var A=o[T],R=a[T];if(l)var L=u?l(R,A,T,a,o,d):l(A,R,T,o,a,d);if(!(L===void 0?A===R||c(A,R,s,l,d):L)){I=!1;break}N||(N=T=="constructor")}if(I&&!N){var B=o.constructor,$=a.constructor;B!=$&&"constructor"in o&&"constructor"in a&&!(typeof B=="function"&&B instanceof B&&typeof $=="function"&&$ instanceof $)&&(I=!1)}return d.delete(o),d.delete(a),I}return wj=i,wj}var Ej,eQ;function Ect(){if(eQ)return Ej;eQ=1;var e=fy(),t=Fd(),n=e(t,"DataView");return Ej=n,Ej}var Sj,tQ;function Sct(){if(tQ)return Sj;tQ=1;var e=fy(),t=Fd(),n=e(t,"Promise");return Sj=n,Sj}var Cj,nQ;function L0e(){if(nQ)return Cj;nQ=1;var e=fy(),t=Fd(),n=e(t,"Set");return Cj=n,Cj}var Tj,rQ;function Cct(){if(rQ)return Tj;rQ=1;var e=fy(),t=Fd(),n=e(t,"WeakMap");return Tj=n,Tj}var kj,iQ;function Tct(){if(iQ)return kj;iQ=1;var e=Ect(),t=K7(),n=Sct(),r=L0e(),i=Cct(),o=fh(),a=e0e(),s="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",u="[object WeakMap]",p="[object DataView]",m=a(e),v=a(t),x=a(n),w=a(r),T=a(i),k=o;return(e&&k(new e(new ArrayBuffer(1)))!=p||t&&k(new t)!=s||n&&k(n.resolve())!=c||r&&k(new r)!=d||i&&k(new i)!=u)&&(k=function(O){var I=o(O),N=I==l?O.constructor:void 0,A=N?a(N):"";if(A)switch(A){case m:return p;case v:return s;case x:return c;case w:return d;case T:return u}return I}),kj=k,kj}var _j,oQ;function kct(){if(oQ)return _j;oQ=1;var e=k0e(),t=N0e(),n=act(),r=wct(),i=Tct(),o=Gs(),a=D0e(),s=I0e(),l=1,c="[object Arguments]",d="[object Array]",u="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function v(x,w,T,k,O,I){var N=o(x),A=o(w),R=N?d:i(x),L=A?d:i(w);R=R==c?u:R,L=L==c?u:L;var B=R==u,$=L==u,q=R==L;if(q&&a(x)){if(!a(w))return!1;N=!0,B=!1}if(q&&!B)return I||(I=new e),N||s(x)?t(x,w,T,k,O,I):n(x,w,R,T,k,O,I);if(!(T&l)){var z=B&&m.call(x,"__wrapped__"),W=$&&m.call(w,"__wrapped__");if(z||W){var G=z?x.value():x,Z=W?w.value():w;return I||(I=new e),O(G,Z,T,k,I)}}return q?(I||(I=new e),r(x,w,T,k,O,I)):!1}return _j=v,_j}var Aj,aQ;function uU(){if(aQ)return Aj;aQ=1;var e=kct(),t=hh();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return Aj=n,Aj}var Oj,sQ;function _ct(){if(sQ)return Oj;sQ=1;var e=k0e(),t=uU(),n=1,r=2;function i(o,a,s,l){var c=s.length,d=c,u=!l;if(o==null)return!d;for(o=Object(o);c--;){var p=s[c];if(u&&p[2]?p[1]!==o[p[0]]:!(p[0]in o))return!1}for(;++c<d;){p=s[c];var m=p[0],v=o[m],x=p[1];if(u&&p[2]){if(v===void 0&&!(m in o))return!1}else{var w=new e;if(l)var T=l(v,x,m,o,a,w);if(!(T===void 0?t(x,v,n|r,l,w):T))return!1}}return!0}return Oj=i,Oj}var Nj,lQ;function j0e(){if(lQ)return Nj;lQ=1;var e=Cm();function t(n){return n===n&&!e(n)}return Nj=t,Nj}var Mj,cQ;function Act(){if(cQ)return Mj;cQ=1;var e=j0e(),t=IR();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Mj=n,Mj}var Dj,uQ;function B0e(){if(uQ)return Dj;uQ=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Dj=e,Dj}var Rj,dQ;function Oct(){if(dQ)return Rj;dQ=1;var e=_ct(),t=Act(),n=B0e();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return Rj=r,Rj}var Ij,fQ;function Nct(){if(fQ)return Ij;fQ=1;function e(t,n){return t!=null&&n in Object(t)}return Ij=e,Ij}var Pj,hQ;function Mct(){if(hQ)return Pj;hQ=1;var e=r0e(),t=sU(),n=Gs(),r=lU(),i=cU(),o=OR();function a(s,l,c){l=e(l,s);for(var d=-1,u=l.length,p=!1;++d<u;){var m=o(l[d]);if(!(p=s!=null&&c(s,m)))break;s=s[m]}return p||++d!=u?p:(u=s==null?0:s.length,!!u&&i(u)&&r(m,u)&&(n(s)||t(s)))}return Pj=a,Pj}var Lj,pQ;function Dct(){if(pQ)return Lj;pQ=1;var e=Nct(),t=Mct();function n(r,i){return r!=null&&t(r,i,e)}return Lj=n,Lj}var jj,mQ;function Rct(){if(mQ)return jj;mQ=1;var e=uU(),t=i0e(),n=Dct(),r=W7(),i=j0e(),o=B0e(),a=OR(),s=1,l=2;function c(d,u){return r(d)&&i(u)?o(a(d),u):function(p){var m=t(p,d);return m===void 0&&m===u?n(p,d):e(u,m,s|l)}}return jj=c,jj}var Bj,gQ;function vx(){if(gQ)return Bj;gQ=1;function e(t){return t}return Bj=e,Bj}var $j,yQ;function Ict(){if(yQ)return $j;yQ=1;function e(t){return function(n){return n?.[t]}}return $j=e,$j}var Hj,bQ;function Pct(){if(bQ)return Hj;bQ=1;var e=Q7();function t(n){return function(r){return e(r,n)}}return Hj=t,Hj}var Fj,vQ;function Lct(){if(vQ)return Fj;vQ=1;var e=Ict(),t=Pct(),n=W7(),r=OR();function i(o){return n(o)?e(r(o)):t(o)}return Fj=i,Fj}var Uj,xQ;function Tm(){if(xQ)return Uj;xQ=1;var e=Oct(),t=Rct(),n=vx(),r=Gs(),i=Lct();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return Uj=o,Uj}var zj,wQ;function $0e(){if(wQ)return zj;wQ=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return zj=e,zj}var Vj,EQ;function jct(){if(EQ)return Vj;EQ=1;function e(t){return t!==t}return Vj=e,Vj}var qj,SQ;function Bct(){if(SQ)return qj;SQ=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return qj=e,qj}var Wj,CQ;function $ct(){if(CQ)return Wj;CQ=1;var e=$0e(),t=jct(),n=Bct();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return Wj=r,Wj}var Yj,TQ;function Hct(){if(TQ)return Yj;TQ=1;var e=$ct();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Yj=t,Yj}var Gj,kQ;function Fct(){if(kQ)return Gj;kQ=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Gj=e,Gj}var Kj,_Q;function Uct(){if(_Q)return Kj;_Q=1;function e(){}return Kj=e,Kj}var Xj,AQ;function zct(){if(AQ)return Xj;AQ=1;var e=L0e(),t=Uct(),n=aU(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Xj=i,Xj}var Zj,OQ;function Vct(){if(OQ)return Zj;OQ=1;var e=_0e(),t=Hct(),n=Fct(),r=O0e(),i=zct(),o=aU(),a=200;function s(l,c,d){var u=-1,p=t,m=l.length,v=!0,x=[],w=x;if(d)v=!1,p=n;else if(m>=a){var T=c?null:i(l);if(T)return o(T);v=!1,p=r,w=new e}else w=c?[]:x;e:for(;++u<m;){var k=l[u],O=c?c(k):k;if(k=d||k!==0?k:0,v&&O===O){for(var I=w.length;I--;)if(w[I]===O)continue e;c&&w.push(O),x.push(k)}else p(w,O,d)||(w!==x&&w.push(O),x.push(k))}return x}return Zj=s,Zj}var Qj,NQ;function qct(){if(NQ)return Qj;NQ=1;var e=Tm(),t=Vct();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return Qj=n,Qj}var Wct=qct();const MQ=vr(Wct);function H0e(e,t,n){return t===!0?MQ(e,n):Rn(t)?MQ(e,t):e}function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}var Yct=["ref"];function DQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DQ(Object(n),!0).forEach(function(r){PR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U0e(r.key),r)}}function Kct(e,t,n){return t&&RQ(e.prototype,t),n&&RQ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xct(e,t,n){return t=rM(t),Zct(e,F0e()?Reflect.construct(t,n||[],rM(e).constructor):t.apply(e,n))}function Zct(e,t){if(t&&(C1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qct(e)}function Qct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F0e=function(){return!!e})()}function rM(e){return rM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rM(e)}function Jct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z8(e,t)}function Z8(e,t){return Z8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z8(e,t)}function PR(e,t,n){return t=U0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U0e(e){var t=eut(e,"string");return C1(t)=="symbol"?t:t+""}function eut(e,t){if(C1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(C1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tut(e,t){if(e==null)return{};var n=nut(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nut(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rut(e){return e.value}function iut(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var n=tut(t,Yct);return F.createElement(oU,n)}var IQ=1,x0=(function(e){function t(){var n;Gct(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Xct(this,t,[].concat(i)),PR(n,"lastBoundingBox",{width:-1,height:-1}),n}return Jct(t,e),Kct(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>IQ||Math.abs(i.height-this.lastBoundingBox.height)>IQ)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,u,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();u={left:((c||0)-m.width)/2}}else u=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((d||0)-v.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Cf(Cf({},u),p)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,u=Cf(Cf({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(m){r.wrapperNode=m}},iut(o,Cf(Cf({},this.props),{},{payload:H0e(d,c,rut)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Cf(Cf({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ut(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(C.PureComponent);PR(x0,"displayName","Legend");PR(x0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Jj,PQ;function out(){if(PQ)return Jj;PQ=1;var e=ok(),t=sU(),n=Gs(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return Jj=i,Jj}var e5,LQ;function z0e(){if(LQ)return e5;LQ=1;var e=M0e(),t=out();function n(r,i,o,a,s){var l=-1,c=r.length;for(o||(o=t),s||(s=[]);++l<c;){var d=r[l];i>0&&o(d)?i>1?n(d,i-1,o,a,s):e(s,d):a||(s[s.length]=d)}return s}return e5=n,e5}var t5,jQ;function aut(){if(jQ)return t5;jQ=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),l=s.length;l--;){var c=s[t?l:++o];if(r(a[c],c,a)===!1)break}return n}}return t5=e,t5}var n5,BQ;function sut(){if(BQ)return n5;BQ=1;var e=aut(),t=e();return n5=t,n5}var r5,$Q;function V0e(){if($Q)return r5;$Q=1;var e=sut(),t=IR();function n(r,i){return r&&e(r,i,t)}return r5=n,r5}var i5,HQ;function lut(){if(HQ)return i5;HQ=1;var e=lk();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,l=Object(i);(r?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return i5=t,i5}var o5,FQ;function dU(){if(FQ)return o5;FQ=1;var e=V0e(),t=lut(),n=t(e);return o5=n,o5}var a5,UQ;function q0e(){if(UQ)return a5;UQ=1;var e=dU(),t=lk();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,l,c){a[++o]=i(s,l,c)}),a}return a5=n,a5}var s5,zQ;function cut(){if(zQ)return s5;zQ=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return s5=e,s5}var l5,VQ;function uut(){if(VQ)return l5;VQ=1;var e=yx();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),l=r!==void 0,c=r===null,d=r===r,u=e(r);if(!c&&!u&&!s&&n>r||s&&l&&d&&!c&&!u||o&&l&&d||!i&&d||!a)return 1;if(!o&&!s&&!u&&n<r||u&&i&&a&&!o&&!s||c&&i&&a||!l&&a||!d)return-1}return 0}return l5=t,l5}var c5,qQ;function dut(){if(qQ)return c5;qQ=1;var e=uut();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,l=a.length,c=i.length;++o<l;){var d=e(a[o],s[o]);if(d){if(o>=c)return d;var u=i[o];return d*(u=="desc"?-1:1)}}return n.index-r.index}return c5=t,c5}var u5,WQ;function fut(){if(WQ)return u5;WQ=1;var e=Z7(),t=Q7(),n=Tm(),r=q0e(),i=cut(),o=R0e(),a=dut(),s=vx(),l=Gs();function c(d,u,p){u.length?u=e(u,function(x){return l(x)?function(w){return t(w,x.length===1?x[0]:x)}:x}):u=[s];var m=-1;u=e(u,o(n));var v=r(d,function(x,w,T){var k=e(u,function(O){return O(x)});return{criteria:k,index:++m,value:x}});return i(v,function(x,w){return a(x,w,p)})}return u5=c,u5}var d5,YQ;function hut(){if(YQ)return d5;YQ=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return d5=e,d5}var f5,GQ;function put(){if(GQ)return f5;GQ=1;var e=hut(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,l=t(a.length-i,0),c=Array(l);++s<l;)c[s]=a[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=a[s];return d[i]=o(c),e(r,this,d)}}return f5=n,f5}var h5,KQ;function mut(){if(KQ)return h5;KQ=1;function e(t){return function(){return t}}return h5=e,h5}var p5,XQ;function W0e(){if(XQ)return p5;XQ=1;var e=fy(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return p5=t,p5}var m5,ZQ;function gut(){if(ZQ)return m5;ZQ=1;var e=mut(),t=W0e(),n=vx(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return m5=r,m5}var g5,QQ;function yut(){if(QQ)return g5;QQ=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),l=t-(s-a);if(a=s,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return g5=r,g5}var y5,JQ;function but(){if(JQ)return y5;JQ=1;var e=gut(),t=yut(),n=t(e);return y5=n,y5}var b5,eJ;function vut(){if(eJ)return b5;eJ=1;var e=vx(),t=put(),n=but();function r(i,o){return n(t(i,o,e),i+"")}return b5=r,b5}var v5,tJ;function LR(){if(tJ)return v5;tJ=1;var e=G7(),t=lk(),n=lU(),r=Cm();function i(o,a,s){if(!r(s))return!1;var l=typeof a;return(l=="number"?t(s)&&n(a,s.length):l=="string"&&a in s)?e(s[a],o):!1}return v5=i,v5}var x5,nJ;function xut(){if(nJ)return x5;nJ=1;var e=z0e(),t=fut(),n=vut(),r=LR(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return x5=i,x5}var wut=xut();const fU=vr(wut);function MC(e){"@babel/helpers - typeof";return MC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MC(e)}function Q8(){return Q8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q8.apply(this,arguments)}function Eut(e,t){return kut(e)||Tut(e,t)||Cut(e,t)||Sut()}function Sut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cut(e,t){if(e){if(typeof e=="string")return rJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rJ(e,t)}}function rJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tut(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function kut(e){if(Array.isArray(e))return e}function iJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iJ(Object(n),!0).forEach(function(r){_ut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ut(e,t,n){return t=Aut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aut(e){var t=Out(e,"string");return MC(t)=="symbol"?t:t+""}function Out(e,t){if(MC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(MC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nut(e){return Array.isArray(e)&&To(e[0])&&To(e[1])?e.join(" ~ "):e}var Mut=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,a=t.itemStyle,s=a===void 0?{}:a,l=t.labelStyle,c=l===void 0?{}:l,d=t.payload,u=t.formatter,p=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,x=t.label,w=t.labelFormatter,T=t.accessibilityLayer,k=T===void 0?!1:T,O=function(){if(d&&d.length){var z={padding:0,margin:0},W=(p?fU(d,p):d).map(function(G,Z){if(G.type==="none")return null;var V=w5({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},s),ne=G.formatter||u||Nut,X=G.value,oe=G.name,K=X,Q=oe;if(ne&&K!=null&&Q!=null){var te=ne(X,oe,G,Z,d);if(Array.isArray(te)){var U=Eut(te,2);K=U[0],Q=U[1]}else K=te}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:V},To(Q)?F.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,To(Q)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},K),F.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:z},W)}return null},I=w5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),N=w5({margin:0},c),A=!qn(x),R=A?x:"",L=Xn("recharts-default-tooltip",m),B=Xn("recharts-tooltip-label",v);A&&w&&d!==void 0&&d!==null&&(R=w(x,d));var $=k?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",Q8({className:L,style:I},$),F.createElement("p",{className:B,style:N},F.isValidElement(R)?R:"".concat(R)),O())};function DC(e){"@babel/helpers - typeof";return DC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DC(e)}function CA(e,t,n){return t=Dut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dut(e){var t=Rut(e,"string");return DC(t)=="symbol"?t:t+""}function Rut(e,t){if(DC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(DC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UE="recharts-tooltip-wrapper",Iut={visibility:"hidden"};function Put(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Xn(UE,CA(CA(CA(CA({},"".concat(UE,"-right"),ut(n)&&t&&ut(t.x)&&n>=t.x),"".concat(UE,"-left"),ut(n)&&t&&ut(t.x)&&n<t.x),"".concat(UE,"-bottom"),ut(r)&&t&&ut(t.y)&&r>=t.y),"".concat(UE,"-top"),ut(r)&&t&&ut(t.y)&&r<t.y))}function oJ(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&ut(o[r]))return o[r];var d=n[r]-s-i,u=n[r]+i;if(t[r])return a[r]?d:u;if(a[r]){var p=d,m=l[r];return p<m?Math.max(u,l[r]):Math.max(d,l[r])}var v=u+s,x=l[r]+c;return v>x?Math.max(d,l[r]):Math.max(u,l[r])}function Lut(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function jut(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,a=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,d,u;return a.height>0&&a.width>0&&n?(d=oJ({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),u=oJ({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Lut({translateX:d,translateY:u,useTranslate3d:s})):c=Iut,{cssProperties:c,cssClasses:Put({translateX:d,translateY:u,coordinate:n})}}function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function aJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aJ(Object(n),!0).forEach(function(r){e$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function But(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G0e(r.key),r)}}function Hut(e,t,n){return t&&$ut(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fut(e,t,n){return t=iM(t),Uut(e,Y0e()?Reflect.construct(t,n||[],iM(e).constructor):t.apply(e,n))}function Uut(e,t){if(t&&(T1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zut(e)}function zut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y0e=function(){return!!e})()}function iM(e){return iM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iM(e)}function Vut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J8(e,t)}function J8(e,t){return J8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J8(e,t)}function e$(e,t,n){return t=G0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G0e(e){var t=qut(e,"string");return T1(t)=="symbol"?t:t+""}function qut(e,t){if(T1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(T1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lJ=1,Wut=(function(e){function t(){var n;But(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Fut(this,t,[].concat(i)),e$(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),e$(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return Vut(t,e),Hut(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>lJ||Math.abs(r.height-this.state.lastBoundingBox.height)>lJ)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,u=i.hasPayload,p=i.isAnimationActive,m=i.offset,v=i.position,x=i.reverseDirection,w=i.useTranslate3d,T=i.viewBox,k=i.wrapperStyle,O=jut({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:T}),I=O.cssClasses,N=O.cssProperties,A=sJ(sJ({transition:p&&o?"transform ".concat(s,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&u?"visible":"hidden",position:"absolute",top:0,left:0},k);return F.createElement("div",{tabIndex:-1,className:I,style:A,ref:function(L){r.wrapperNode=L}},c)}}])})(C.PureComponent),Yut=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xx={isSsr:Yut()};function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function cJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cJ(Object(n),!0).forEach(function(r){hU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X0e(r.key),r)}}function Xut(e,t,n){return t&&Kut(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zut(e,t,n){return t=oM(t),Qut(e,K0e()?Reflect.construct(t,n||[],oM(e).constructor):t.apply(e,n))}function Qut(e,t){if(t&&(k1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jut(e)}function Jut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K0e=function(){return!!e})()}function oM(e){return oM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oM(e)}function edt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t$(e,t)}function t$(e,t){return t$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t$(e,t)}function hU(e,t,n){return t=X0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X0e(e){var t=tdt(e,"string");return k1(t)=="symbol"?t:t+""}function tdt(e,t){if(k1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(k1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ndt(e){return e.dataKey}function rdt(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(Mut,t)}var hd=(function(e){function t(){return Gut(this,t),Zut(this,t,arguments)}return edt(t,e),Xut(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,u=i.filterNull,p=i.isAnimationActive,m=i.offset,v=i.payload,x=i.payloadUniqBy,w=i.position,T=i.reverseDirection,k=i.useTranslate3d,O=i.viewBox,I=i.wrapperStyle,N=v??[];u&&N.length&&(N=H0e(v.filter(function(R){return R.value!=null&&(R.hide!==!0||r.props.includeHidden)}),x,ndt));var A=N.length>0;return F.createElement(Wut,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:o,coordinate:d,hasPayload:A,offset:m,position:w,reverseDirection:T,useTranslate3d:k,viewBox:O,wrapperStyle:I},rdt(c,uJ(uJ({},this.props),{},{payload:N})))}}])})(C.PureComponent);hU(hd,"displayName","Tooltip");hU(hd,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xx.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var E5,dJ;function idt(){if(dJ)return E5;dJ=1;var e=Fd(),t=function(){return e.Date.now()};return E5=t,E5}var S5,fJ;function odt(){if(fJ)return S5;fJ=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return S5=t,S5}var C5,hJ;function adt(){if(hJ)return C5;hJ=1;var e=odt(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return C5=n,C5}var T5,pJ;function Z0e(){if(pJ)return T5;pJ=1;var e=adt(),t=Cm(),n=yx(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var u=o.test(c);return u||a.test(c)?s(c.slice(2),u?2:8):i.test(c)?r:+c}return T5=l,T5}var k5,mJ;function sdt(){if(mJ)return k5;mJ=1;var e=Cm(),t=idt(),n=Z0e(),r="Expected a function",i=Math.max,o=Math.min;function a(s,l,c){var d,u,p,m,v,x,w=0,T=!1,k=!1,O=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(T=!!c.leading,k="maxWait"in c,p=k?i(n(c.maxWait)||0,l):p,O="trailing"in c?!!c.trailing:O);function I(W){var G=d,Z=u;return d=u=void 0,w=W,m=s.apply(Z,G),m}function N(W){return w=W,v=setTimeout(L,l),T?I(W):m}function A(W){var G=W-x,Z=W-w,V=l-G;return k?o(V,p-Z):V}function R(W){var G=W-x,Z=W-w;return x===void 0||G>=l||G<0||k&&Z>=p}function L(){var W=t();if(R(W))return B(W);v=setTimeout(L,A(W))}function B(W){return v=void 0,O&&d?I(W):(d=u=void 0,m)}function $(){v!==void 0&&clearTimeout(v),w=0,d=x=u=v=void 0}function q(){return v===void 0?m:B(t())}function z(){var W=t(),G=R(W);if(d=arguments,u=this,x=W,G){if(v===void 0)return N(x);if(k)return clearTimeout(v),v=setTimeout(L,l),I(x)}return v===void 0&&(v=setTimeout(L,l)),m}return z.cancel=$,z.flush=q,z}return k5=a,k5}var _5,gJ;function ldt(){if(gJ)return _5;gJ=1;var e=sdt(),t=Cm(),n="Expected a function";function r(i,o,a){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return t(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),e(i,o,{leading:s,maxWait:o,trailing:l})}return _5=r,_5}var cdt=ldt();const Q0e=vr(cdt);function RC(e){"@babel/helpers - typeof";return RC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RC(e)}function yJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yJ(Object(n),!0).forEach(function(r){udt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function udt(e,t,n){return t=ddt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ddt(e){var t=fdt(e,"string");return RC(t)=="symbol"?t:t+""}function fdt(e,t){if(RC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(RC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hdt(e,t){return ydt(e)||gdt(e,t)||mdt(e,t)||pdt()}function pdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mdt(e,t){if(e){if(typeof e=="string")return bJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bJ(e,t)}}function bJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gdt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function ydt(e){if(Array.isArray(e))return e}var bdt=C.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,a=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,d=c===void 0?0:c,u=e.minHeight,p=e.maxHeight,m=e.children,v=e.debounce,x=v===void 0?0:v,w=e.id,T=e.className,k=e.onResize,O=e.style,I=O===void 0?{}:O,N=C.useRef(null),A=C.useRef();A.current=k,C.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var R=C.useState({containerWidth:i.width,containerHeight:i.height}),L=hdt(R,2),B=L[0],$=L[1],q=C.useCallback(function(W,G){$(function(Z){var V=Math.round(W),ne=Math.round(G);return Z.containerWidth===V&&Z.containerHeight===ne?Z:{containerWidth:V,containerHeight:ne}})},[]);C.useEffect(function(){var W=function(oe){var K,Q=oe[0].contentRect,te=Q.width,U=Q.height;q(te,U),(K=A.current)===null||K===void 0||K.call(A,te,U)};x>0&&(W=Q0e(W,x,{trailing:!0,leading:!1}));var G=new ResizeObserver(W),Z=N.current.getBoundingClientRect(),V=Z.width,ne=Z.height;return q(V,ne),G.observe(N.current),function(){G.disconnect()}},[q,x]);var z=C.useMemo(function(){var W=B.containerWidth,G=B.containerHeight;if(W<0||G<0)return null;Vf(i0(a)||i0(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Vf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Z=i0(a)?W:a,V=i0(l)?G:l;n&&n>0&&(Z?V=Z/n:V&&(Z=V*n),p&&V>p&&(V=p)),Vf(Z>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,V,a,l,d,u,n);var ne=!Array.isArray(m)&&zf(m.type).endsWith("Chart");return F.Children.map(m,function(X){return F.isValidElement(X)?C.cloneElement(X,TA({width:Z,height:V},ne?{style:TA({height:"100%",width:"100%",maxHeight:V,maxWidth:Z},X.props.style)}:{})):X})},[n,m,l,p,u,d,B,a]);return F.createElement("div",{id:w?"".concat(w):void 0,className:Xn("recharts-responsive-container",T),style:TA(TA({},I),{},{width:a,height:l,minWidth:d,minHeight:u,maxHeight:p}),ref:N},z)}),J0e=function(t){return null};J0e.displayName="Cell";function IC(e){"@babel/helpers - typeof";return IC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IC(e)}function vJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vJ(Object(n),!0).forEach(function(r){vdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vdt(e,t,n){return t=xdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xdt(e){var t=wdt(e,"string");return IC(t)=="symbol"?t:t+""}function wdt(e,t){if(IC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(IC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var av={widthCache:{},cacheCount:0},Edt=2e3,Sdt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xJ="recharts_measurement_span";function Cdt(e){var t=n$({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var jS=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xx.isSsr)return{width:0,height:0};var r=Cdt(n),i=JSON.stringify({text:t,copyStyle:r});if(av.widthCache[i])return av.widthCache[i];try{var o=document.getElementById(xJ);o||(o=document.createElement("span"),o.setAttribute("id",xJ),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=n$(n$({},Sdt),r);Object.assign(o.style,a),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return av.widthCache[i]=l,++av.cacheCount>Edt&&(av.cacheCount=0,av.widthCache={}),l}catch{return{width:0,height:0}}},Tdt=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function PC(e){"@babel/helpers - typeof";return PC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PC(e)}function aM(e,t){return Odt(e)||Adt(e,t)||_dt(e,t)||kdt()}function kdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _dt(e,t){if(e){if(typeof e=="string")return wJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wJ(e,t)}}function wJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Adt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Odt(e){if(Array.isArray(e))return e}function Ndt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ddt(r.key),r)}}function Mdt(e,t,n){return t&&EJ(e.prototype,t),n&&EJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ddt(e){var t=Rdt(e,"string");return PC(t)=="symbol"?t:t+""}function Rdt(e,t){if(PC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(PC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Idt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pdt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eye={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ldt=Object.keys(eye),Av="NaN";function jdt(e,t){return e*eye[t]}var kA=(function(){function e(t,n){Ndt(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Idt.test(n)&&(this.num=NaN,this.unit=""),Ldt.includes(n)&&(this.num=jdt(t,n),this.unit="px")}return Mdt(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Pdt.exec(n))!==null&&r!==void 0?r:[],o=aM(i,3),a=o[1],s=o[2];return new e(parseFloat(a),s??"")}}])})();function tye(e){if(e.includes(Av))return Av;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=SJ.exec(t))!==null&&n!==void 0?n:[],i=aM(r,4),o=i[1],a=i[2],s=i[3],l=kA.parse(o??""),c=kA.parse(s??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Av;t=t.replace(SJ,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,p=(u=CJ.exec(t))!==null&&u!==void 0?u:[],m=aM(p,4),v=m[1],x=m[2],w=m[3],T=kA.parse(v??""),k=kA.parse(w??""),O=x==="+"?T.add(k):T.subtract(k);if(O.isNaN())return Av;t=t.replace(CJ,O.toString())}return t}var TJ=/\(([^()]*)\)/;function Bdt(e){for(var t=e;t.includes("(");){var n=TJ.exec(t),r=aM(n,2),i=r[1];t=t.replace(TJ,tye(i))}return t}function $dt(e){var t=e.replace(/\s+/g,"");return t=Bdt(t),t=tye(t),t}function Hdt(e){try{return $dt(e)}catch{return Av}}function A5(e){var t=Hdt(e.slice(5,-1));return t===Av?"":t}var Fdt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Udt=["dx","dy","angle","className","breakAll"];function r$(){return r$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r$.apply(this,arguments)}function kJ(e,t){if(e==null)return{};var n=zdt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zdt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _J(e,t){return Ydt(e)||Wdt(e,t)||qdt(e,t)||Vdt()}function Vdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qdt(e,t){if(e){if(typeof e=="string")return AJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AJ(e,t)}}function AJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wdt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Ydt(e){if(Array.isArray(e))return e}var nye=/[ \f\n\r\t\v\u2028\u2029]+/,rye=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];qn(n)||(r?o=n.toString().split(""):o=n.toString().split(nye));var a=o.map(function(l){return{word:l,width:jS(l,i).width}}),s=r?0:jS("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Gdt=function(t,n,r,i,o){var a=t.maxLines,s=t.children,l=t.style,c=t.breakAll,d=ut(a),u=s,p=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(V,ne){var X=ne.word,oe=ne.width,K=V[V.length-1];if(K&&(i==null||o||K.width+oe+r<Number(i)))K.words.push(X),K.width+=oe+r;else{var Q={words:[X],width:oe};V.push(Q)}return V},[])},m=p(n),v=function(Z){return Z.reduce(function(V,ne){return V.width>ne.width?V:ne})};if(!d)return m;for(var x="",w=function(Z){var V=u.slice(0,Z),ne=rye({breakAll:c,style:l,children:V+x}).wordsWithComputedWidth,X=p(ne),oe=X.length>a||v(X).width>Number(i);return[oe,X]},T=0,k=u.length-1,O=0,I;T<=k&&O<=u.length-1;){var N=Math.floor((T+k)/2),A=N-1,R=w(A),L=_J(R,2),B=L[0],$=L[1],q=w(N),z=_J(q,1),W=z[0];if(!B&&!W&&(T=N+1),B&&W&&(k=N-1),!B&&W){I=$;break}O++}return I||m},OJ=function(t){var n=qn(t)?[]:t.toString().split(nye);return[{words:n}]},Kdt=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,a=t.breakAll,s=t.maxLines;if((n||r)&&!xx.isSsr){var l,c,d=rye({breakAll:a,children:i,style:o});if(d){var u=d.wordsWithComputedWidth,p=d.spaceWidth;l=u,c=p}else return OJ(i);return Gdt({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return OJ(i)},NJ="#808080",sM=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.lineHeight,s=a===void 0?"1em":a,l=t.capHeight,c=l===void 0?"0.71em":l,d=t.scaleToFit,u=d===void 0?!1:d,p=t.textAnchor,m=p===void 0?"start":p,v=t.verticalAnchor,x=v===void 0?"end":v,w=t.fill,T=w===void 0?NJ:w,k=kJ(t,Fdt),O=C.useMemo(function(){return Kdt({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:u,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,u,k.style,k.width]),I=k.dx,N=k.dy,A=k.angle,R=k.className,L=k.breakAll,B=kJ(k,Udt);if(!To(r)||!To(o))return null;var $=r+(ut(I)?I:0),q=o+(ut(N)?N:0),z;switch(x){case"start":z=A5("calc(".concat(c,")"));break;case"middle":z=A5("calc(".concat((O.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:z=A5("calc(".concat(O.length-1," * -").concat(s,")"));break}var W=[];if(u){var G=O[0].width,Z=k.width;W.push("scale(".concat((ut(Z)?Z/G:1)/G,")"))}return A&&W.push("rotate(".concat(A,", ").concat($,", ").concat(q,")")),W.length&&(B.transform=W.join(" ")),F.createElement("text",r$({},Jn(B,!0),{x:$,y:q,className:Xn("recharts-text",R),textAnchor:m,fill:T.includes("url")?NJ:T}),O.map(function(V,ne){var X=V.words.join(L?"":" ");return F.createElement("tspan",{x:$,dy:ne===0?z:s,key:"".concat(X,"-").concat(ne)},X)}))};function Gp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xdt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pU(e){let t,n,r;e.length!==2?(t=Gp,n=(s,l)=>Gp(e(s),l),r=(s,l)=>e(s)-l):(t=e===Gp||e===Xdt?e:Zdt,n=e,r=e);function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const u=c+d>>>1;n(s[u],l)<0?c=u+1:d=u}while(c<d)}return c}function o(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const u=c+d>>>1;n(s[u],l)<=0?c=u+1:d=u}while(c<d)}return c}function a(s,l,c=0,d=s.length){const u=i(s,l,c,d-1);return u>c&&r(s[u-1],l)>-r(s[u],l)?u-1:u}return{left:i,center:a,right:o}}function Zdt(){return 0}function iye(e){return e===null?NaN:+e}function*Qdt(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Jdt=pU(Gp),ck=Jdt.right;pU(iye).center;class MJ extends Map{constructor(t,n=nft){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(DJ(this,t))}has(t){return super.has(DJ(this,t))}set(t,n){return super.set(eft(this,t),n)}delete(t){return super.delete(tft(this,t))}}function DJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function eft({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function tft({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function nft(e){return e!==null&&typeof e=="object"?e.valueOf():e}function rft(e=Gp){if(e===Gp)return oye;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function oye(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ift=Math.sqrt(50),oft=Math.sqrt(10),aft=Math.sqrt(2);function lM(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ift?10:o>=oft?5:o>=aft?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?lM(e,t,n*2):[s,l,c]}function i$(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?lM(t,e,n):lM(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function o$(e,t,n){return t=+t,e=+e,n=+n,lM(e,t,n)[2]}function a$(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?o$(t,e,n):o$(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function RJ(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function IJ(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function aye(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?oye:rft(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),u=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*u*(l-u)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*u/l+p)),v=Math.min(r,Math.floor(t+(l-c)*u/l+p));aye(e,t,m,v,i)}const o=e[t];let a=n,s=r;for(zE(e,n,t),i(e[r],o)>0&&zE(e,n,r);a<s;){for(zE(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?zE(e,n,s):(++s,zE(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function zE(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function sft(e,t,n){if(e=Float64Array.from(Qdt(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return IJ(e);if(t>=1)return RJ(e);var r,i=(r-1)*t,o=Math.floor(i),a=RJ(aye(e,o).subarray(0,o+1)),s=IJ(e.subarray(o+1));return a+(s-a)*(i-o)}}function lft(e,t,n=iye){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function cft(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Cc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ph(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const s$=Symbol("implicit");function mU(){var e=new MJ,t=[],n=[],r=s$;function i(o){let a=e.get(o);if(a===void 0){if(r!==s$)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new MJ;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return mU(t,n).unknown(r)},Cc.apply(i,arguments),i}function LC(){var e=mU().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,c=0,d=.5;delete e.unknown;function u(){var p=t().length,m=i<r,v=m?i:r,x=m?r:i;o=(x-v)/Math.max(1,p-l+c*2),s&&(o=Math.floor(o)),v+=(x-v-o*(p-l))*d,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var w=cft(p).map(function(T){return v+o*T});return n(m?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),u()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,u()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,u()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(p){return arguments.length?(s=!!p,u()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),u()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),u()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,u()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),u()):d},e.copy=function(){return LC(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},Cc.apply(u(),arguments)}function sye(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return sye(t())},e}function BS(){return sye(LC.apply(null,arguments).paddingInner(1))}function gU(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function lye(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function uk(){}var jC=.7,cM=1/jC,Gv="\\s*([+-]?\\d+)\\s*",BC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Td="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uft=/^#([0-9a-f]{3,8})$/,dft=new RegExp(`^rgb\\(${Gv},${Gv},${Gv}\\)$`),fft=new RegExp(`^rgb\\(${Td},${Td},${Td}\\)$`),hft=new RegExp(`^rgba\\(${Gv},${Gv},${Gv},${BC}\\)$`),pft=new RegExp(`^rgba\\(${Td},${Td},${Td},${BC}\\)$`),mft=new RegExp(`^hsl\\(${BC},${Td},${Td}\\)$`),gft=new RegExp(`^hsla\\(${BC},${Td},${Td},${BC}\\)$`),PJ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gU(uk,$C,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:LJ,formatHex:LJ,formatHex8:yft,formatHsl:bft,formatRgb:jJ,toString:jJ});function LJ(){return this.rgb().formatHex()}function yft(){return this.rgb().formatHex8()}function bft(){return cye(this).formatHsl()}function jJ(){return this.rgb().formatRgb()}function $C(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=uft.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?BJ(t):n===3?new Hs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_A(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_A(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dft.exec(e))?new Hs(t[1],t[2],t[3],1):(t=fft.exec(e))?new Hs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hft.exec(e))?_A(t[1],t[2],t[3],t[4]):(t=pft.exec(e))?_A(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mft.exec(e))?FJ(t[1],t[2]/100,t[3]/100,1):(t=gft.exec(e))?FJ(t[1],t[2]/100,t[3]/100,t[4]):PJ.hasOwnProperty(e)?BJ(PJ[e]):e==="transparent"?new Hs(NaN,NaN,NaN,0):null}function BJ(e){return new Hs(e>>16&255,e>>8&255,e&255,1)}function _A(e,t,n,r){return r<=0&&(e=t=n=NaN),new Hs(e,t,n,r)}function vft(e){return e instanceof uk||(e=$C(e)),e?(e=e.rgb(),new Hs(e.r,e.g,e.b,e.opacity)):new Hs}function l$(e,t,n,r){return arguments.length===1?vft(e):new Hs(e,t,n,r??1)}function Hs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gU(Hs,l$,lye(uk,{brighter(e){return e=e==null?cM:Math.pow(cM,e),new Hs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jC:Math.pow(jC,e),new Hs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hs(w0(this.r),w0(this.g),w0(this.b),uM(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$J,formatHex:$J,formatHex8:xft,formatRgb:HJ,toString:HJ}));function $J(){return`#${o0(this.r)}${o0(this.g)}${o0(this.b)}`}function xft(){return`#${o0(this.r)}${o0(this.g)}${o0(this.b)}${o0((isNaN(this.opacity)?1:this.opacity)*255)}`}function HJ(){const e=uM(this.opacity);return`${e===1?"rgb(":"rgba("}${w0(this.r)}, ${w0(this.g)}, ${w0(this.b)}${e===1?")":`, ${e})`}`}function uM(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function w0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function o0(e){return e=w0(e),(e<16?"0":"")+e.toString(16)}function FJ(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new au(e,t,n,r)}function cye(e){if(e instanceof au)return new au(e.h,e.s,e.l,e.opacity);if(e instanceof uk||(e=$C(e)),!e)return new au;if(e instanceof au)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new au(a,s,l,e.opacity)}function wft(e,t,n,r){return arguments.length===1?cye(e):new au(e,t,n,r??1)}function au(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gU(au,wft,lye(uk,{brighter(e){return e=e==null?cM:Math.pow(cM,e),new au(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jC:Math.pow(jC,e),new au(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Hs(O5(e>=240?e-240:e+120,i,r),O5(e,i,r),O5(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new au(UJ(this.h),AA(this.s),AA(this.l),uM(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uM(this.opacity);return`${e===1?"hsl(":"hsla("}${UJ(this.h)}, ${AA(this.s)*100}%, ${AA(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UJ(e){return e=(e||0)%360,e<0?e+360:e}function AA(e){return Math.max(0,Math.min(1,e||0))}function O5(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yU=e=>()=>e;function Eft(e,t){return function(n){return e+n*t}}function Sft(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Cft(e){return(e=+e)==1?uye:function(t,n){return n-t?Sft(t,n,e):yU(isNaN(t)?n:t)}}function uye(e,t){var n=t-e;return n?Eft(e,n):yU(isNaN(e)?t:e)}const zJ=(function e(t){var n=Cft(t);function r(i,o){var a=n((i=l$(i)).r,(o=l$(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=uye(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r})(1);function Tft(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function kft(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _ft(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=wx(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Aft(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dM(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Oft(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=wx(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var c$=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N5=new RegExp(c$.source,"g");function Nft(e){return function(){return e}}function Mft(e){return function(t){return e(t)+""}}function Dft(e,t){var n=c$.lastIndex=N5.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=c$.exec(e))&&(i=N5.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:dM(r,i)})),n=N5.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Mft(l[0].x):Nft(t):(t=l.length,function(c){for(var d=0,u;d<t;++d)s[(u=l[d]).i]=u.x(c);return s.join("")})}function wx(e,t){var n=typeof t,r;return t==null||n==="boolean"?yU(t):(n==="number"?dM:n==="string"?(r=$C(t))?(t=r,zJ):Dft:t instanceof $C?zJ:t instanceof Date?Aft:kft(t)?Tft:Array.isArray(t)?_ft:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Oft:dM)(e,t)}function bU(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Rft(e,t){t===void 0&&(t=e,e=wx);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Ift(e){return function(){return e}}function fM(e){return+e}var VJ=[0,1];function ns(e){return e}function u$(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ift(isNaN(t)?NaN:.5)}function Pft(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Lft(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=u$(i,r),o=n(a,o)):(r=u$(r,i),o=n(o,a)),function(s){return o(r(s))}}function jft(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=u$(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=ck(e,s,1,r)-1;return o[l](i[l](s))}}function dk(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jR(){var e=VJ,t=VJ,n=wx,r,i,o,a=ns,s,l,c;function d(){var p=Math.min(e.length,t.length);return a!==ns&&(a=Pft(e[0],e[p-1])),s=p>2?jft:Lft,l=c=null,u}function u(p){return p==null||isNaN(p=+p)?o:(l||(l=s(e.map(r),t,n)))(r(a(p)))}return u.invert=function(p){return a(i((c||(c=s(t,e.map(r),dM)))(p)))},u.domain=function(p){return arguments.length?(e=Array.from(p,fM),d()):e.slice()},u.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},u.rangeRound=function(p){return t=Array.from(p),n=bU,d()},u.clamp=function(p){return arguments.length?(a=p?!0:ns,d()):a!==ns},u.interpolate=function(p){return arguments.length?(n=p,d()):n},u.unknown=function(p){return arguments.length?(o=p,u):o},function(p,m){return r=p,i=m,d()}}function vU(){return jR()(ns,ns)}function Bft(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hM(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _1(e){return e=hM(Math.abs(e)),e?e[1]:NaN}function $ft(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function Hft(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Fft=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function HC(e){if(!(t=Fft.exec(e)))throw new Error("invalid format: "+e);var t;return new xU({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}HC.prototype=xU.prototype;function xU(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Uft(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var dye;function zft(e,t){var n=hM(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(dye=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+hM(e,Math.max(0,t+o-1))[0]}function qJ(e,t){var n=hM(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const WJ={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Bft,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qJ(e*100,t),r:qJ,s:zft,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YJ(e){return e}var GJ=Array.prototype.map,KJ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vft(e){var t=e.grouping===void 0||e.thousands===void 0?YJ:$ft(GJ.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?YJ:Hft(GJ.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(u){u=HC(u);var p=u.fill,m=u.align,v=u.sign,x=u.symbol,w=u.zero,T=u.width,k=u.comma,O=u.precision,I=u.trim,N=u.type;N==="n"?(k=!0,N="g"):WJ[N]||(O===void 0&&(O=12),I=!0,N="g"),(w||p==="0"&&m==="=")&&(w=!0,p="0",m="=");var A=x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",R=x==="$"?r:/[%p]/.test(N)?a:"",L=WJ[N],B=/[defgprs%]/.test(N);O=O===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function $(q){var z=A,W=R,G,Z,V;if(N==="c")W=L(q)+W,q="";else{q=+q;var ne=q<0||1/q<0;if(q=isNaN(q)?l:L(Math.abs(q),O),I&&(q=Uft(q)),ne&&+q==0&&v!=="+"&&(ne=!1),z=(ne?v==="("?v:s:v==="-"||v==="("?"":v)+z,W=(N==="s"?KJ[8+dye/3]:"")+W+(ne&&v==="("?")":""),B){for(G=-1,Z=q.length;++G<Z;)if(V=q.charCodeAt(G),48>V||V>57){W=(V===46?i+q.slice(G+1):q.slice(G))+W,q=q.slice(0,G);break}}}k&&!w&&(q=t(q,1/0));var X=z.length+q.length+W.length,oe=X<T?new Array(T-X+1).join(p):"";switch(k&&w&&(q=t(oe+q,oe.length?T-W.length:1/0),oe=""),m){case"<":q=z+q+W+oe;break;case"=":q=z+oe+q+W;break;case"^":q=oe.slice(0,X=oe.length>>1)+z+q+W+oe.slice(X);break;default:q=oe+z+q+W;break}return o(q)}return $.toString=function(){return u+""},$}function d(u,p){var m=c((u=HC(u),u.type="f",u)),v=Math.max(-8,Math.min(8,Math.floor(_1(p)/3)))*3,x=Math.pow(10,-v),w=KJ[8+v/3];return function(T){return m(x*T)+w}}return{format:c,formatPrefix:d}}var OA,wU,fye;qft({thousands:",",grouping:[3],currency:["$",""]});function qft(e){return OA=Vft(e),wU=OA.format,fye=OA.formatPrefix,OA}function Wft(e){return Math.max(0,-_1(Math.abs(e)))}function Yft(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_1(t)/3)))*3-_1(Math.abs(e)))}function Gft(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_1(t)-_1(e))+1}function hye(e,t,n,r){var i=a$(e,t,n),o;switch(r=HC(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Yft(i,a))&&(r.precision=o),fye(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Gft(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Wft(i))&&(r.precision=o-(r.type==="%")*2);break}}return wU(r)}function km(e){var t=e.domain;return e.ticks=function(n){var r=t();return i$(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return hye(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,d=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);d-- >0;){if(c=o$(a,s,n),c===l)return r[i]=a,r[o]=s,t(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function pM(){var e=vU();return e.copy=function(){return dk(e,pM())},Cc.apply(e,arguments),km(e)}function pye(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,fM),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return pye(e).unknown(t)},e=arguments.length?Array.from(e,fM):[0,1],km(n)}function mye(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function XJ(e){return Math.log(e)}function ZJ(e){return Math.exp(e)}function Kft(e){return-Math.log(-e)}function Xft(e){return-Math.exp(-e)}function Zft(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Qft(e){return e===10?Zft:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Jft(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QJ(e){return(t,n)=>-e(-t,n)}function EU(e){const t=e(XJ,ZJ),n=t.domain;let r=10,i,o;function a(){return i=Jft(r),o=Qft(r),n()[0]<0?(i=QJ(i),o=QJ(o),e(Kft,Xft)):e(XJ,ZJ),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const u=d<c;u&&([c,d]=[d,c]);let p=i(c),m=i(d),v,x;const w=s==null?10:+s;let T=[];if(!(r%1)&&m-p<w){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(v=1;v<r;++v)if(x=p<0?v/o(-p):v*o(p),!(x<c)){if(x>d)break;T.push(x)}}else for(;p<=m;++p)for(v=r-1;v>=1;--v)if(x=p>0?v/o(-p):v*o(p),!(x<c)){if(x>d)break;T.push(x)}T.length*2<w&&(T=i$(c,d,w))}else T=i$(p,m,Math.min(m-p,w)).map(o);return u?T.reverse():T},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=HC(l)).precision==null&&(l.trim=!0),l=wU(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return d=>{let u=d/o(Math.round(i(d)));return u*r<r-.5&&(u*=r),u<=c?l(d):""}},t.nice=()=>n(mye(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function gye(){const e=EU(jR()).domain([1,10]);return e.copy=()=>dk(e,gye()).base(e.base()),Cc.apply(e,arguments),e}function JJ(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eee(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function SU(e){var t=1,n=e(JJ(t),eee(t));return n.constant=function(r){return arguments.length?e(JJ(t=+r),eee(t)):t},km(n)}function yye(){var e=SU(jR());return e.copy=function(){return dk(e,yye()).constant(e.constant())},Cc.apply(e,arguments)}function tee(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function eht(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function tht(e){return e<0?-e*e:e*e}function CU(e){var t=e(ns,ns),n=1;function r(){return n===1?e(ns,ns):n===.5?e(eht,tht):e(tee(n),tee(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},km(t)}function TU(){var e=CU(jR());return e.copy=function(){return dk(e,TU()).exponent(e.exponent())},Cc.apply(e,arguments),e}function nht(){return TU.apply(null,arguments).exponent(.5)}function nee(e){return Math.sign(e)*e*e}function rht(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bye(){var e=vU(),t=[0,1],n=!1,r;function i(o){var a=rht(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(nee(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,fM)).map(nee)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bye(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Cc.apply(i,arguments),km(i)}function vye(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=lft(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[ck(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Gp),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return vye().domain(e).range(t).unknown(r)},Cc.apply(o,arguments)}function xye(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[ck(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return xye().domain([e,t]).range(i).unknown(o)},Cc.apply(km(a),arguments)}function wye(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[ck(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return wye().domain(e).range(t).unknown(n)},Cc.apply(i,arguments)}const M5=new Date,D5=new Date;function _o(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<a);return l},i.filter=o=>_o(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(M5.setTime(+o),D5.setTime(+a),e(M5),e(D5),Math.floor(n(M5,D5))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const mM=_o(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mM.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_o(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):mM);mM.range;const Df=1e3,dc=Df*60,Rf=dc*60,th=Rf*24,kU=th*7,ree=th*30,R5=th*365,a0=_o(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Df)},(e,t)=>(t-e)/Df,e=>e.getUTCSeconds());a0.range;const _U=_o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Df)},(e,t)=>{e.setTime(+e+t*dc)},(e,t)=>(t-e)/dc,e=>e.getMinutes());_U.range;const AU=_o(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*dc)},(e,t)=>(t-e)/dc,e=>e.getUTCMinutes());AU.range;const OU=_o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Df-e.getMinutes()*dc)},(e,t)=>{e.setTime(+e+t*Rf)},(e,t)=>(t-e)/Rf,e=>e.getHours());OU.range;const NU=_o(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rf)},(e,t)=>(t-e)/Rf,e=>e.getUTCHours());NU.range;const fk=_o(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dc)/th,e=>e.getDate()-1);fk.range;const BR=_o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/th,e=>e.getUTCDate()-1);BR.range;const Eye=_o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/th,e=>Math.floor(e/th));Eye.range;function hy(e){return _o(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*dc)/kU)}const $R=hy(0),gM=hy(1),iht=hy(2),oht=hy(3),A1=hy(4),aht=hy(5),sht=hy(6);$R.range;gM.range;iht.range;oht.range;A1.range;aht.range;sht.range;function py(e){return _o(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/kU)}const HR=py(0),yM=py(1),lht=py(2),cht=py(3),O1=py(4),uht=py(5),dht=py(6);HR.range;yM.range;lht.range;cht.range;O1.range;uht.range;dht.range;const MU=_o(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());MU.range;const DU=_o(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());DU.range;const nh=_o(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_o(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});nh.range;const rh=_o(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_o(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});rh.range;function Sye(e,t,n,r,i,o){const a=[[a0,1,Df],[a0,5,5*Df],[a0,15,15*Df],[a0,30,30*Df],[o,1,dc],[o,5,5*dc],[o,15,15*dc],[o,30,30*dc],[i,1,Rf],[i,3,3*Rf],[i,6,6*Rf],[i,12,12*Rf],[r,1,th],[r,2,2*th],[n,1,kU],[t,1,ree],[t,3,3*ree],[e,1,R5]];function s(c,d,u){const p=d<c;p&&([c,d]=[d,c]);const m=u&&typeof u.range=="function"?u:l(c,d,u),v=m?m.range(c,+d+1):[];return p?v.reverse():v}function l(c,d,u){const p=Math.abs(d-c)/u,m=pU(([,,w])=>w).right(a,p);if(m===a.length)return e.every(a$(c/R5,d/R5,u));if(m===0)return mM.every(Math.max(a$(c,d,u),1));const[v,x]=a[p/a[m-1][2]<a[m][2]/p?m-1:m];return v.every(x)}return[s,l]}const[fht,hht]=Sye(rh,DU,HR,Eye,NU,AU),[pht,mht]=Sye(nh,MU,$R,fk,OU,_U);function I5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function P5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function VE(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ght(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=qE(i),d=WE(i),u=qE(o),p=WE(o),m=qE(a),v=WE(a),x=qE(s),w=WE(s),T=qE(l),k=WE(l),O={a:ne,A:X,b:oe,B:K,c:null,d:cee,e:cee,f:$ht,g:Kht,G:Zht,H:Lht,I:jht,j:Bht,L:Cye,m:Hht,M:Fht,p:Q,q:te,Q:fee,s:hee,S:Uht,u:zht,U:Vht,V:qht,w:Wht,W:Yht,x:null,X:null,y:Ght,Y:Xht,Z:Qht,"%":dee},I={a:U,A:fe,b:me,B:ke,c:null,d:uee,e:uee,f:npt,g:fpt,G:ppt,H:Jht,I:ept,j:tpt,L:kye,m:rpt,M:ipt,p:Ee,q:ve,Q:fee,s:hee,S:opt,u:apt,U:spt,V:lpt,w:cpt,W:upt,x:null,X:null,y:dpt,Y:hpt,Z:mpt,"%":dee},N={a:$,A:q,b:z,B:W,c:G,d:see,e:see,f:Dht,g:aee,G:oee,H:lee,I:lee,j:Aht,L:Mht,m:_ht,M:Oht,p:B,q:kht,Q:Iht,s:Pht,S:Nht,u:wht,U:Eht,V:Sht,w:xht,W:Cht,x:Z,X:V,y:aee,Y:oee,Z:Tht,"%":Rht};O.x=A(n,O),O.X=A(r,O),O.c=A(t,O),I.x=A(n,I),I.X=A(r,I),I.c=A(t,I);function A(we,je){return function(Ke){var De=[],It=-1,Fe=0,an=we.length,cn,Qt,Vr;for(Ke instanceof Date||(Ke=new Date(+Ke));++It<an;)we.charCodeAt(It)===37&&(De.push(we.slice(Fe,It)),(Qt=iee[cn=we.charAt(++It)])!=null?cn=we.charAt(++It):Qt=cn==="e"?" ":"0",(Vr=je[cn])&&(cn=Vr(Ke,Qt)),De.push(cn),Fe=It+1);return De.push(we.slice(Fe,It)),De.join("")}}function R(we,je){return function(Ke){var De=VE(1900,void 0,1),It=L(De,we,Ke+="",0),Fe,an;if(It!=Ke.length)return null;if("Q"in De)return new Date(De.Q);if("s"in De)return new Date(De.s*1e3+("L"in De?De.L:0));if(je&&!("Z"in De)&&(De.Z=0),"p"in De&&(De.H=De.H%12+De.p*12),De.m===void 0&&(De.m="q"in De?De.q:0),"V"in De){if(De.V<1||De.V>53)return null;"w"in De||(De.w=1),"Z"in De?(Fe=P5(VE(De.y,0,1)),an=Fe.getUTCDay(),Fe=an>4||an===0?yM.ceil(Fe):yM(Fe),Fe=BR.offset(Fe,(De.V-1)*7),De.y=Fe.getUTCFullYear(),De.m=Fe.getUTCMonth(),De.d=Fe.getUTCDate()+(De.w+6)%7):(Fe=I5(VE(De.y,0,1)),an=Fe.getDay(),Fe=an>4||an===0?gM.ceil(Fe):gM(Fe),Fe=fk.offset(Fe,(De.V-1)*7),De.y=Fe.getFullYear(),De.m=Fe.getMonth(),De.d=Fe.getDate()+(De.w+6)%7)}else("W"in De||"U"in De)&&("w"in De||(De.w="u"in De?De.u%7:"W"in De?1:0),an="Z"in De?P5(VE(De.y,0,1)).getUTCDay():I5(VE(De.y,0,1)).getDay(),De.m=0,De.d="W"in De?(De.w+6)%7+De.W*7-(an+5)%7:De.w+De.U*7-(an+6)%7);return"Z"in De?(De.H+=De.Z/100|0,De.M+=De.Z%100,P5(De)):I5(De)}}function L(we,je,Ke,De){for(var It=0,Fe=je.length,an=Ke.length,cn,Qt;It<Fe;){if(De>=an)return-1;if(cn=je.charCodeAt(It++),cn===37){if(cn=je.charAt(It++),Qt=N[cn in iee?je.charAt(It++):cn],!Qt||(De=Qt(we,Ke,De))<0)return-1}else if(cn!=Ke.charCodeAt(De++))return-1}return De}function B(we,je,Ke){var De=c.exec(je.slice(Ke));return De?(we.p=d.get(De[0].toLowerCase()),Ke+De[0].length):-1}function $(we,je,Ke){var De=m.exec(je.slice(Ke));return De?(we.w=v.get(De[0].toLowerCase()),Ke+De[0].length):-1}function q(we,je,Ke){var De=u.exec(je.slice(Ke));return De?(we.w=p.get(De[0].toLowerCase()),Ke+De[0].length):-1}function z(we,je,Ke){var De=T.exec(je.slice(Ke));return De?(we.m=k.get(De[0].toLowerCase()),Ke+De[0].length):-1}function W(we,je,Ke){var De=x.exec(je.slice(Ke));return De?(we.m=w.get(De[0].toLowerCase()),Ke+De[0].length):-1}function G(we,je,Ke){return L(we,t,je,Ke)}function Z(we,je,Ke){return L(we,n,je,Ke)}function V(we,je,Ke){return L(we,r,je,Ke)}function ne(we){return a[we.getDay()]}function X(we){return o[we.getDay()]}function oe(we){return l[we.getMonth()]}function K(we){return s[we.getMonth()]}function Q(we){return i[+(we.getHours()>=12)]}function te(we){return 1+~~(we.getMonth()/3)}function U(we){return a[we.getUTCDay()]}function fe(we){return o[we.getUTCDay()]}function me(we){return l[we.getUTCMonth()]}function ke(we){return s[we.getUTCMonth()]}function Ee(we){return i[+(we.getUTCHours()>=12)]}function ve(we){return 1+~~(we.getUTCMonth()/3)}return{format:function(we){var je=A(we+="",O);return je.toString=function(){return we},je},parse:function(we){var je=R(we+="",!1);return je.toString=function(){return we},je},utcFormat:function(we){var je=A(we+="",I);return je.toString=function(){return we},je},utcParse:function(we){var je=R(we+="",!0);return je.toString=function(){return we},je}}}var iee={"-":"",_:" ",0:"0"},Uo=/^\s*\d+/,yht=/^%/,bht=/[\\^$*+?|[\]().{}]/g;function pr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function vht(e){return e.replace(bht,"\\$&")}function qE(e){return new RegExp("^(?:"+e.map(vht).join("|")+")","i")}function WE(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function xht(e,t,n){var r=Uo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function wht(e,t,n){var r=Uo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Eht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Sht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Cht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function oee(e,t,n){var r=Uo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function aee(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Tht(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kht(e,t,n){var r=Uo.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function _ht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function see(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Aht(e,t,n){var r=Uo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function lee(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Oht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Nht(e,t,n){var r=Uo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Mht(e,t,n){var r=Uo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Dht(e,t,n){var r=Uo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Rht(e,t,n){var r=yht.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Iht(e,t,n){var r=Uo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Pht(e,t,n){var r=Uo.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function cee(e,t){return pr(e.getDate(),t,2)}function Lht(e,t){return pr(e.getHours(),t,2)}function jht(e,t){return pr(e.getHours()%12||12,t,2)}function Bht(e,t){return pr(1+fk.count(nh(e),e),t,3)}function Cye(e,t){return pr(e.getMilliseconds(),t,3)}function $ht(e,t){return Cye(e,t)+"000"}function Hht(e,t){return pr(e.getMonth()+1,t,2)}function Fht(e,t){return pr(e.getMinutes(),t,2)}function Uht(e,t){return pr(e.getSeconds(),t,2)}function zht(e){var t=e.getDay();return t===0?7:t}function Vht(e,t){return pr($R.count(nh(e)-1,e),t,2)}function Tye(e){var t=e.getDay();return t>=4||t===0?A1(e):A1.ceil(e)}function qht(e,t){return e=Tye(e),pr(A1.count(nh(e),e)+(nh(e).getDay()===4),t,2)}function Wht(e){return e.getDay()}function Yht(e,t){return pr(gM.count(nh(e)-1,e),t,2)}function Ght(e,t){return pr(e.getFullYear()%100,t,2)}function Kht(e,t){return e=Tye(e),pr(e.getFullYear()%100,t,2)}function Xht(e,t){return pr(e.getFullYear()%1e4,t,4)}function Zht(e,t){var n=e.getDay();return e=n>=4||n===0?A1(e):A1.ceil(e),pr(e.getFullYear()%1e4,t,4)}function Qht(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pr(t/60|0,"0",2)+pr(t%60,"0",2)}function uee(e,t){return pr(e.getUTCDate(),t,2)}function Jht(e,t){return pr(e.getUTCHours(),t,2)}function ept(e,t){return pr(e.getUTCHours()%12||12,t,2)}function tpt(e,t){return pr(1+BR.count(rh(e),e),t,3)}function kye(e,t){return pr(e.getUTCMilliseconds(),t,3)}function npt(e,t){return kye(e,t)+"000"}function rpt(e,t){return pr(e.getUTCMonth()+1,t,2)}function ipt(e,t){return pr(e.getUTCMinutes(),t,2)}function opt(e,t){return pr(e.getUTCSeconds(),t,2)}function apt(e){var t=e.getUTCDay();return t===0?7:t}function spt(e,t){return pr(HR.count(rh(e)-1,e),t,2)}function _ye(e){var t=e.getUTCDay();return t>=4||t===0?O1(e):O1.ceil(e)}function lpt(e,t){return e=_ye(e),pr(O1.count(rh(e),e)+(rh(e).getUTCDay()===4),t,2)}function cpt(e){return e.getUTCDay()}function upt(e,t){return pr(yM.count(rh(e)-1,e),t,2)}function dpt(e,t){return pr(e.getUTCFullYear()%100,t,2)}function fpt(e,t){return e=_ye(e),pr(e.getUTCFullYear()%100,t,2)}function hpt(e,t){return pr(e.getUTCFullYear()%1e4,t,4)}function ppt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?O1(e):O1.ceil(e),pr(e.getUTCFullYear()%1e4,t,4)}function mpt(){return"+0000"}function dee(){return"%"}function fee(e){return+e}function hee(e){return Math.floor(+e/1e3)}var sv,Aye,Oye;gpt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gpt(e){return sv=ght(e),Aye=sv.format,sv.parse,Oye=sv.utcFormat,sv.utcParse,sv}function ypt(e){return new Date(e)}function bpt(e){return e instanceof Date?+e:+new Date(+e)}function RU(e,t,n,r,i,o,a,s,l,c){var d=vU(),u=d.invert,p=d.domain,m=c(".%L"),v=c(":%S"),x=c("%I:%M"),w=c("%I %p"),T=c("%a %d"),k=c("%b %d"),O=c("%B"),I=c("%Y");function N(A){return(l(A)<A?m:s(A)<A?v:a(A)<A?x:o(A)<A?w:r(A)<A?i(A)<A?T:k:n(A)<A?O:I)(A)}return d.invert=function(A){return new Date(u(A))},d.domain=function(A){return arguments.length?p(Array.from(A,bpt)):p().map(ypt)},d.ticks=function(A){var R=p();return e(R[0],R[R.length-1],A??10)},d.tickFormat=function(A,R){return R==null?N:c(R)},d.nice=function(A){var R=p();return(!A||typeof A.range!="function")&&(A=t(R[0],R[R.length-1],A??10)),A?p(mye(R,A)):d},d.copy=function(){return dk(d,RU(e,t,n,r,i,o,a,s,l,c))},d}function vpt(){return Cc.apply(RU(pht,mht,nh,MU,$R,fk,OU,_U,a0,Aye).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xpt(){return Cc.apply(RU(fht,hht,rh,DU,HR,BR,NU,AU,a0,Oye).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function FR(){var e=0,t=1,n,r,i,o,a=ns,s=!1,l;function c(u){return u==null||isNaN(u=+u)?l:a(i===0?.5:(u=(o(u)-n)*i,s?Math.max(0,Math.min(1,u)):u))}c.domain=function(u){return arguments.length?([e,t]=u,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(u){return arguments.length?(s=!!u,c):s},c.interpolator=function(u){return arguments.length?(a=u,c):a};function d(u){return function(p){var m,v;return arguments.length?([m,v]=p,a=u(m,v),c):[a(0),a(1)]}}return c.range=d(wx),c.rangeRound=d(bU),c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return o=u,n=u(e),r=u(t),i=n===r?0:1/(r-n),c}}function _m(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Nye(){var e=km(FR()(ns));return e.copy=function(){return _m(e,Nye())},ph.apply(e,arguments)}function Mye(){var e=EU(FR()).domain([1,10]);return e.copy=function(){return _m(e,Mye()).base(e.base())},ph.apply(e,arguments)}function Dye(){var e=SU(FR());return e.copy=function(){return _m(e,Dye()).constant(e.constant())},ph.apply(e,arguments)}function IU(){var e=CU(FR());return e.copy=function(){return _m(e,IU()).exponent(e.exponent())},ph.apply(e,arguments)}function wpt(){return IU.apply(null,arguments).exponent(.5)}function Rye(){var e=[],t=ns;function n(r){if(r!=null&&!isNaN(r=+r))return t((ck(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Gp),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>sft(e,o/r))},n.copy=function(){return Rye(t).domain(e)},ph.apply(n,arguments)}function UR(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,c=ns,d,u=!1,p;function m(x){return isNaN(x=+x)?p:(x=.5+((x=+d(x))-o)*(r*x<r*o?s:l),c(u?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,n]=x,i=d(e=+e),o=d(t=+t),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[e,t,n]},m.clamp=function(x){return arguments.length?(u=!!x,m):u},m.interpolator=function(x){return arguments.length?(c=x,m):c};function v(x){return function(w){var T,k,O;return arguments.length?([T,k,O]=w,c=Rft(x,[T,k,O]),m):[c(0),c(.5),c(1)]}}return m.range=v(wx),m.rangeRound=v(bU),m.unknown=function(x){return arguments.length?(p=x,m):p},function(x){return d=x,i=x(e),o=x(t),a=x(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function Iye(){var e=km(UR()(ns));return e.copy=function(){return _m(e,Iye())},ph.apply(e,arguments)}function Pye(){var e=EU(UR()).domain([.1,1,10]);return e.copy=function(){return _m(e,Pye()).base(e.base())},ph.apply(e,arguments)}function Lye(){var e=SU(UR());return e.copy=function(){return _m(e,Lye()).constant(e.constant())},ph.apply(e,arguments)}function PU(){var e=CU(UR());return e.copy=function(){return _m(e,PU()).exponent(e.exponent())},ph.apply(e,arguments)}function Ept(){return PU.apply(null,arguments).exponent(.5)}const pee=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:LC,scaleDiverging:Iye,scaleDivergingLog:Pye,scaleDivergingPow:PU,scaleDivergingSqrt:Ept,scaleDivergingSymlog:Lye,scaleIdentity:pye,scaleImplicit:s$,scaleLinear:pM,scaleLog:gye,scaleOrdinal:mU,scalePoint:BS,scalePow:TU,scaleQuantile:vye,scaleQuantize:xye,scaleRadial:bye,scaleSequential:Nye,scaleSequentialLog:Mye,scaleSequentialPow:IU,scaleSequentialQuantile:Rye,scaleSequentialSqrt:wpt,scaleSequentialSymlog:Dye,scaleSqrt:nht,scaleSymlog:yye,scaleThreshold:wye,scaleTime:vpt,scaleUtc:xpt,tickFormat:hye},Symbol.toStringTag,{value:"Module"}));var L5,mee;function jye(){if(mee)return L5;mee=1;var e=yx();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,d=s}return d}return L5=t,L5}var j5,gee;function Spt(){if(gee)return j5;gee=1;function e(t,n){return t>n}return j5=e,j5}var B5,yee;function Cpt(){if(yee)return B5;yee=1;var e=jye(),t=Spt(),n=vx();function r(i){return i&&i.length?e(i,n,t):void 0}return B5=r,B5}var Tpt=Cpt();const zR=vr(Tpt);var $5,bee;function kpt(){if(bee)return $5;bee=1;function e(t,n){return t<n}return $5=e,$5}var H5,vee;function _pt(){if(vee)return H5;vee=1;var e=jye(),t=kpt(),n=vx();function r(i){return i&&i.length?e(i,n,t):void 0}return H5=r,H5}var Apt=_pt();const VR=vr(Apt);var F5,xee;function Opt(){if(xee)return F5;xee=1;var e=Z7(),t=Tm(),n=q0e(),r=Gs();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return F5=i,F5}var U5,wee;function Npt(){if(wee)return U5;wee=1;var e=z0e(),t=Opt();function n(r,i){return e(t(r,i),1)}return U5=n,U5}var Mpt=Npt();const Dpt=vr(Mpt);var z5,Eee;function Rpt(){if(Eee)return z5;Eee=1;var e=uU();function t(n,r){return e(n,r)}return z5=t,z5}var Ipt=Rpt();const qR=vr(Ipt);var Ex=1e9,Ppt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jU,vi=!0,Sc="[DecimalError] ",E0=Sc+"Invalid argument: ",LU=Sc+"Exponent out of range: ",Sx=Math.floor,Gg=Math.pow,Lpt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kl,Po=1e7,ui=7,Bye=9007199254740991,bM=Sx(Bye/ui),Et={};Et.absoluteValue=Et.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Et.comparedTo=Et.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ui;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Et.dividedBy=Et.div=function(e){return qf(this,new this.constructor(e))};Et.dividedToIntegerBy=Et.idiv=function(e){var t=this,n=t.constructor;return Ur(qf(t,new n(e),0,1),n.precision)};Et.equals=Et.eq=function(e){return!this.cmp(e)};Et.exponent=function(){return co(this)};Et.greaterThan=Et.gt=function(e){return this.cmp(e)>0};Et.greaterThanOrEqualTo=Et.gte=function(e){return this.cmp(e)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(e){return this.cmp(e)<0};Et.lessThanOrEqualTo=Et.lte=function(e){return this.cmp(e)<1};Et.logarithm=Et.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(kl))throw Error(Sc+"NaN");if(n.s<1)throw Error(Sc+(n.s?"NaN":"-Infinity"));return n.eq(kl)?new r(0):(vi=!1,t=qf(FC(n,o),FC(e,o),o),vi=!0,Ur(t,i))};Et.minus=Et.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Fye(t,e):$ye(t,(e.s=-e.s,e))};Et.modulo=Et.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Sc+"NaN");return n.s?(vi=!1,t=qf(n,e,0,1).times(e),vi=!0,n.minus(t)):Ur(new r(n),i)};Et.naturalExponential=Et.exp=function(){return Hye(this)};Et.naturalLogarithm=Et.ln=function(){return FC(this)};Et.negated=Et.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Et.plus=Et.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$ye(t,e):Fye(t,(e.s=-e.s,e))};Et.precision=Et.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(E0+e);if(t=co(i)+1,r=i.d.length-1,n=r*ui+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Et.squareRoot=Et.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Sc+"NaN")}for(e=co(s),vi=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=yd(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Sx((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(qf(s,o,a+2)).times(.5),yd(o.d).slice(0,a)===(t=yd(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ur(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return vi=!0,Ur(r,n)};Et.times=Et.mul=function(e){var t,n,r,i,o,a,s,l,c,d=this,u=d.constructor,p=d.d,m=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=m.length,l<c&&(o=p,p=m,m=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+m[r]*p[i-r-1]+t,o[i--]=s%Po|0,t=s/Po|0;o[i]=(o[i]+t)%Po|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,vi?Ur(e,u.precision):e};Et.toDecimalPlaces=Et.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Rd(e,0,Ex),t===void 0?t=r.rounding:Rd(t,0,8),Ur(n,e+co(n)+1,t))};Et.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Y0(r,!0):(Rd(e,0,Ex),t===void 0?t=i.rounding:Rd(t,0,8),r=Ur(new i(r),e+1,t),n=Y0(r,!0,e+1)),n};Et.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Y0(i):(Rd(e,0,Ex),t===void 0?t=o.rounding:Rd(t,0,8),r=Ur(new o(i),e+co(i)+1,t),n=Y0(r.abs(),!1,e+co(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Et.toInteger=Et.toint=function(){var e=this,t=e.constructor;return Ur(new t(e),co(e)+1,t.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(kl);if(s=new l(s),!s.s){if(e.s<1)throw Error(Sc+"Infinity");return s}if(s.eq(kl))return s;if(r=l.precision,e.eq(kl))return Ur(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=d<0?-d:d)<=Bye){for(i=new l(kl),t=Math.ceil(r/ui+4),vi=!1;n%2&&(i=i.times(s),Cee(i.d,t)),n=Sx(n/2),n!==0;)s=s.times(s),Cee(s.d,t);return vi=!0,e.s<0?new l(kl).div(i):Ur(i,r)}}else if(o<0)throw Error(Sc+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,vi=!1,i=e.times(FC(s,r+c)),vi=!0,i=Hye(i),i.s=o,i};Et.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=co(i),r=Y0(i,n<=o.toExpNeg||n>=o.toExpPos)):(Rd(e,1,Ex),t===void 0?t=o.rounding:Rd(t,0,8),i=Ur(new o(i),e,t),n=co(i),r=Y0(i,e<=n||n<=o.toExpNeg,e)),r};Et.toSignificantDigits=Et.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Rd(e,1,Ex),t===void 0?t=r.rounding:Rd(t,0,8)),Ur(new r(n),e,t)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=co(e),n=e.constructor;return Y0(e,t<=n.toExpNeg||t>=n.toExpPos)};function $ye(e,t){var n,r,i,o,a,s,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),vi?Ur(t,u):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(u/ui),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Po|0,l[o]%=Po;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,vi?Ur(t,u):t}function Rd(e,t,n){if(e!==~~e||e<t||e>n)throw Error(E0+e)}function yd(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=ui-r.length,n&&(o+=Cp(n)),o+=r;a=e[t],r=a+"",n=ui-r.length,n&&(o+=Cp(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var qf=(function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Po|0,a=o/Po|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Po+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,d,u,p,m,v,x,w,T,k,O,I,N,A,R,L,B=r.constructor,$=r.s==i.s?1:-1,q=r.d,z=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(Sc+"Division by zero");for(l=r.e-i.e,R=z.length,N=q.length,m=new B($),v=m.d=[],c=0;z[c]==(q[c]||0);)++c;if(z[c]>(q[c]||0)&&--l,o==null?k=o=B.precision:a?k=o+(co(r)-co(i))+1:k=o,k<0)return new B(0);if(k=k/ui+2|0,c=0,R==1)for(d=0,z=z[0],k++;(c<N||d)&&k--;c++)O=d*Po+(q[c]||0),v[c]=O/z|0,d=O%z|0;else{for(d=Po/(z[0]+1)|0,d>1&&(z=e(z,d),q=e(q,d),R=z.length,N=q.length),I=R,x=q.slice(0,R),w=x.length;w<R;)x[w++]=0;L=z.slice(),L.unshift(0),A=z[0],z[1]>=Po/2&&++A;do d=0,s=t(z,x,R,w),s<0?(T=x[0],R!=w&&(T=T*Po+(x[1]||0)),d=T/A|0,d>1?(d>=Po&&(d=Po-1),u=e(z,d),p=u.length,w=x.length,s=t(u,x,p,w),s==1&&(d--,n(u,R<p?L:z,p))):(d==0&&(s=d=1),u=z.slice()),p=u.length,p<w&&u.unshift(0),n(x,u,w),s==-1&&(w=x.length,s=t(z,x,R,w),s<1&&(d++,n(x,R<w?L:z,w))),w=x.length):s===0&&(d++,x=[0]),v[c++]=d,s&&x[0]?x[w++]=q[I]||0:(x=[q[I]],w=1);while((I++<N||x[0]!==void 0)&&k--)}return v[0]||v.shift(),m.e=l,Ur(m,a?o+co(m)+1:o)}})();function Hye(e,t){var n,r,i,o,a,s,l=0,c=0,d=e.constructor,u=d.precision;if(co(e)>16)throw Error(LU+co(e));if(!e.s)return new d(kl);for(vi=!1,s=u,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(r=Math.log(Gg(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new d(kl),d.precision=s;;){if(i=Ur(i.times(e),s),n=n.times(++l),a=o.plus(qf(i,n,s)),yd(a.d).slice(0,s)===yd(o.d).slice(0,s)){for(;c--;)o=Ur(o.times(o),s);return d.precision=u,t==null?(vi=!0,Ur(o,u)):o}o=a}}function co(e){for(var t=e.e*ui,n=e.d[0];n>=10;n/=10)t++;return t}function V5(e,t,n){if(t>e.LN10.sd())throw vi=!0,n&&(e.precision=n),Error(Sc+"LN10 precision limit exceeded");return Ur(new e(e.LN10),t)}function Cp(e){for(var t="";e--;)t+="0";return t}function FC(e,t){var n,r,i,o,a,s,l,c,d,u=1,p=10,m=e,v=m.d,x=m.constructor,w=x.precision;if(m.s<1)throw Error(Sc+(m.s?"NaN":"-Infinity"));if(m.eq(kl))return new x(0);if(t==null?(vi=!1,c=w):c=t,m.eq(10))return t==null&&(vi=!0),V5(x,c);if(c+=p,x.precision=c,n=yd(v),r=n.charAt(0),o=co(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=yd(m.d),r=n.charAt(0),u++;o=co(m),r>1?(m=new x("0."+n),o++):m=new x(r+"."+n.slice(1))}else return l=V5(x,c+2,w).times(o+""),m=FC(new x(r+"."+n.slice(1)),c-p).plus(l),x.precision=w,t==null?(vi=!0,Ur(m,w)):m;for(s=a=m=qf(m.minus(kl),m.plus(kl),c),d=Ur(m.times(m),c),i=3;;){if(a=Ur(a.times(d),c),l=s.plus(qf(a,new x(i),c)),yd(l.d).slice(0,c)===yd(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(V5(x,c+2,w).times(o+""))),s=qf(s,new x(u),c),x.precision=w,t==null?(vi=!0,Ur(s,w)):s;s=l,i+=2}}function See(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Sx(n/ui),e.d=[],r=(n+1)%ui,n<0&&(r+=ui),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ui;r<i;)e.d.push(+t.slice(r,r+=ui));t=t.slice(r),r=ui-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),vi&&(e.e>bM||e.e<-bM))throw Error(LU+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ur(e,t,n){var r,i,o,a,s,l,c,d,u=e.d;for(a=1,o=u[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=ui,i=t,c=u[d=0];else{if(d=Math.ceil((r+1)/ui),o=u.length,d>=o)return e;for(c=o=u[d],a=1;o>=10;o/=10)a++;r%=ui,i=r-ui+a}if(n!==void 0&&(o=Gg(10,a-i-1),s=c/o%10|0,l=t<0||u[d+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Gg(10,a-i):0:u[d-1])%10&1||n==(e.s<0?8:7))),t<1||!u[0])return l?(o=co(e),u.length=1,t=t-o-1,u[0]=Gg(10,(ui-t%ui)%ui),e.e=Sx(-t/ui)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(r==0?(u.length=d,o=1,d--):(u.length=d+1,o=Gg(10,ui-r),u[d]=i>0?(c/Gg(10,a-i)%Gg(10,i)|0)*o:0),l)for(;;)if(d==0){(u[0]+=o)==Po&&(u[0]=1,++e.e);break}else{if(u[d]+=o,u[d]!=Po)break;u[d--]=0,o=1}for(r=u.length;u[--r]===0;)u.pop();if(vi&&(e.e>bM||e.e<-bM))throw Error(LU+co(e));return e}function Fye(e,t){var n,r,i,o,a,s,l,c,d,u,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),vi?Ur(t,m):t;if(l=e.d,u=t.d,r=t.e,c=e.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,s=u.length):(n=u,r=c,s=l.length),i=Math.max(Math.ceil(m/ui),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=u.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=u[i]){d=l[i]<u[i];break}a=0}for(d&&(n=l,l=u,u=n,t.s=-t.s),s=l.length,i=u.length-s;i>0;--i)l[s++]=0;for(i=u.length;i>a;){if(l[--i]<u[i]){for(o=i;o&&l[--o]===0;)l[o]=Po-1;--l[o],l[i]+=Po}l[i]-=u[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,vi?Ur(t,m):t):new p(0)}function Y0(e,t,n){var r,i=co(e),o=yd(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Cp(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Cp(-i-1)+o,n&&(r=n-a)>0&&(o+=Cp(r))):i>=a?(o+=Cp(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Cp(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Cp(r))),e.s<0?"-"+o:o}function Cee(e,t){if(e.length>t)return e.length=t,!0}function Uye(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(E0+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return See(a,o.toString())}else if(typeof o!="string")throw Error(E0+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Lpt.test(o))See(a,o);else throw Error(E0+o)}if(i.prototype=Et,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Uye,i.config=i.set=jpt,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function jpt(e){if(!e||typeof e!="object")throw Error(Sc+"Object expected");var t,n,r,i=["precision",1,Ex,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Sx(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(E0+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(E0+n+": "+r);return this}var jU=Uye(Ppt);kl=new jU(1);const Ir=jU;function Bpt(e){return Upt(e)||Fpt(e)||Hpt(e)||$pt()}function $pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hpt(e,t){if(e){if(typeof e=="string")return d$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d$(e,t)}}function Fpt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Upt(e){if(Array.isArray(e))return d$(e)}function d$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zpt=function(t){return t},zye={},Vye=function(t){return t===zye},Tee=function(t){return function n(){return arguments.length===0||arguments.length===1&&Vye(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Vpt=function e(t,n){return t===1?n:Tee(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==zye}).length;return a>=t?n.apply(void 0,i):e(t-a,Tee(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(u){return Vye(u)?l.shift():u});return n.apply(void 0,Bpt(d).concat(l))}))})},WR=function(t){return Vpt(t.length,t)},f$=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},qpt=WR(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Wpt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return zpt;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},h$=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},qye=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=t.apply(void 0,o)),r}};function Ypt(e){var t;return e===0?t=1:t=Math.floor(new Ir(e).abs().log(10).toNumber())+1,t}function Gpt(e,t,n){for(var r=new Ir(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Kpt=WR(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Xpt=WR(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Zpt=WR(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const YR={rangeStep:Gpt,getDigitCount:Ypt,interpolateNumber:Kpt,uninterpolateNumber:Xpt,uninterpolateTruncation:Zpt};function p$(e){return emt(e)||Jpt(e)||Wye(e)||Qpt()}function Qpt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jpt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function emt(e){if(Array.isArray(e))return m$(e)}function UC(e,t){return rmt(e)||nmt(e,t)||Wye(e,t)||tmt()}function tmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wye(e,t){if(e){if(typeof e=="string")return m$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m$(e,t)}}function m$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nmt(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function rmt(e){if(Array.isArray(e))return e}function Yye(e){var t=UC(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Gye(e,t,n){if(e.lte(0))return new Ir(0);var r=YR.getDigitCount(e.toNumber()),i=new Ir(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new Ir(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?l:new Ir(Math.ceil(l))}function imt(e,t,n){var r=1,i=new Ir(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Ir(10).pow(YR.getDigitCount(e)-1),i=new Ir(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ir(Math.floor(e)))}else e===0?i=new Ir(Math.floor((t-1)/2)):n||(i=new Ir(Math.floor(e)));var a=Math.floor((t-1)/2),s=Wpt(qpt(function(l){return i.add(new Ir(l-a).mul(r)).toNumber()}),f$);return s(0,t)}function Kye(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Ir(0),tickMin:new Ir(0),tickMax:new Ir(0)};var o=Gye(new Ir(t).sub(e).div(n-1),r,i),a;e<=0&&t>=0?a=new Ir(0):(a=new Ir(e).add(t).div(2),a=a.sub(new Ir(a).mod(o)));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new Ir(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?Kye(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new Ir(s).mul(o)),tickMax:a.add(new Ir(l).mul(o))})}function omt(e){var t=UC(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=Yye([n,r]),l=UC(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var u=d===1/0?[c].concat(p$(f$(0,i-1).map(function(){return 1/0}))):[].concat(p$(f$(0,i-1).map(function(){return-1/0})),[d]);return n>r?h$(u):u}if(c===d)return imt(c,i,o);var p=Kye(c,d,a,o),m=p.step,v=p.tickMin,x=p.tickMax,w=YR.rangeStep(v,x.add(new Ir(.1).mul(m)),m);return n>r?h$(w):w}function amt(e,t){var n=UC(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Yye([r,i]),s=UC(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(t,2),u=Gye(new Ir(c).sub(l).div(d-1),o,0),p=[].concat(p$(YR.rangeStep(new Ir(l),new Ir(c).sub(new Ir(.99).mul(u)),u)),[c]);return r>i?h$(p):p}var smt=qye(omt),lmt=qye(amt),cmt="Invariant failed";function G0(e,t){throw new Error(cmt)}var umt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function vM(){return vM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vM.apply(this,arguments)}function dmt(e,t){return mmt(e)||pmt(e,t)||hmt(e,t)||fmt()}function fmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hmt(e,t){if(e){if(typeof e=="string")return kee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kee(e,t)}}function kee(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pmt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function mmt(e){if(Array.isArray(e))return e}function gmt(e,t){if(e==null)return{};var n=ymt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ymt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vmt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qye(r.key),r)}}function xmt(e,t,n){return t&&vmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wmt(e,t,n){return t=xM(t),Emt(e,Xye()?Reflect.construct(t,n||[],xM(e).constructor):t.apply(e,n))}function Emt(e,t){if(t&&(N1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Smt(e)}function Smt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xye=function(){return!!e})()}function xM(e){return xM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xM(e)}function Cmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g$(e,t)}function g$(e,t){return g$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g$(e,t)}function Zye(e,t,n){return t=Qye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qye(e){var t=Tmt(e,"string");return N1(t)=="symbol"?t:t+""}function Tmt(e,t){if(N1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(N1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hk=(function(e){function t(){return bmt(this,t),wmt(this,t,arguments)}return Cmt(t,e),xmt(t,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,u=r.yAxis,p=gmt(r,umt),m=Jn(p,!1);this.props.direction==="x"&&d.type!=="number"&&G0();var v=l.map(function(x){var w=c(x,s),T=w.x,k=w.y,O=w.value,I=w.errorVal;if(!I)return null;var N=[],A,R;if(Array.isArray(I)){var L=dmt(I,2);A=L[0],R=L[1]}else A=R=I;if(o==="vertical"){var B=d.scale,$=k+i,q=$+a,z=$-a,W=B(O-A),G=B(O+R);N.push({x1:G,y1:q,x2:G,y2:z}),N.push({x1:W,y1:$,x2:G,y2:$}),N.push({x1:W,y1:q,x2:W,y2:z})}else if(o==="horizontal"){var Z=u.scale,V=T+i,ne=V-a,X=V+a,oe=Z(O-A),K=Z(O+R);N.push({x1:ne,y1:K,x2:X,y2:K}),N.push({x1:V,y1:oe,x2:V,y2:K}),N.push({x1:ne,y1:oe,x2:X,y2:oe})}return F.createElement(Wi,vM({className:"recharts-errorBar",key:"bar-".concat(N.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),N.map(function(Q){return F.createElement("line",vM({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return F.createElement(Wi,{className:"recharts-errorBars"},v)}}])})(F.Component);Zye(hk,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Zye(hk,"displayName","ErrorBar");function zC(e){"@babel/helpers - typeof";return zC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zC(e)}function _ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_ee(Object(n),!0).forEach(function(r){kmt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_ee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kmt(e,t,n){return t=_mt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _mt(e){var t=Amt(e,"string");return zC(t)=="symbol"?t:t+""}function Amt(e,t){if(zC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jye=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,a=vl(n,x0);if(!a)return null;var s=x0.defaultProps,l=s!==void 0?qg(qg({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(d,u){var p=u.item,m=u.props,v=m.sectors||m.data||[];return d.concat(v.map(function(x){return{type:a.props.iconType||p.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(d){var u=d.item,p=u.type.defaultProps,m=p!==void 0?qg(qg({},p),u.props):{},v=m.dataKey,x=m.name,w=m.legendType,T=m.hide;return{inactive:T,dataKey:v,type:l.iconType||w||"square",color:BU(u),value:x||v,payload:m}}),qg(qg(qg({},l),x0.getWithHeight(a,i)),{},{payload:c,item:a})};function VC(e){"@babel/helpers - typeof";return VC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VC(e)}function Aee(e){return Dmt(e)||Mmt(e)||Nmt(e)||Omt()}function Omt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nmt(e,t){if(e){if(typeof e=="string")return y$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y$(e,t)}}function Mmt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dmt(e){if(Array.isArray(e))return y$(e)}function y$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oee(Object(n),!0).forEach(function(r){Kv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kv(e,t,n){return t=Rmt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rmt(e){var t=Imt(e,"string");return VC(t)=="symbol"?t:t+""}function Imt(e,t){if(VC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(VC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Il(e,t,n){return qn(e)||qn(t)?n:To(t)?gc(e,t,n):Rn(t)?t(e):n}function $S(e,t,n,r){var i=Dpt(e,function(s){return Il(s,t)});if(n==="number"){var o=i.filter(function(s){return ut(s)||parseFloat(s)});return o.length?[VR(o),zR(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!qn(s)}):i;return a.map(function(s){return To(s)||s instanceof Date?s:""})}var Pmt=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r?.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,u=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(cu(u-d)!==cu(p-u)){var v=[];if(cu(p-u)===cu(l[1]-l[0])){m=p;var x=u+l[1]-l[0];v[0]=Math.min(x,(x+d)/2),v[1]=Math.max(x,(x+d)/2)}else{m=d;var w=p+l[1]-l[0];v[0]=Math.min(u,(w+u)/2),v[1]=Math.max(u,(w+u)/2)}var T=[Math.min(u,(m+u)/2),Math.max(u,(m+u)/2)];if(t>T[0]&&t<=T[1]||t>=v[0]&&t<=v[1]){a=i[c].index;break}}else{var k=Math.min(d,p),O=Math.max(d,p);if(t>(k+u)/2&&t<=(O+u)/2){a=i[c].index;break}}}else for(var I=0;I<s;I++)if(I===0&&t<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<s-1&&t>(r[I].coordinate+r[I-1].coordinate)/2&&t<=(r[I].coordinate+r[I+1].coordinate)/2||I===s-1&&t>(r[I].coordinate+r[I-1].coordinate)/2){a=r[I].index;break}return a},BU=function(t){var n,r=t,i=r.type.displayName,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Lmt=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var d=o[s[l]].stackGroups,u=Object.keys(d),p=0,m=u.length;p<m;p++){var v=d[u[p]],x=v.items,w=v.cateAxisId,T=x.filter(function(R){return zf(R.type).indexOf("Bar")>=0});if(T&&T.length){var k=T[0].type.defaultProps,O=k!==void 0?Pi(Pi({},k),T[0].props):T[0].props,I=O.barSize,N=O[w];a[N]||(a[N]=[]);var A=qn(I)?n:I;a[N].push({item:T[0],stackList:T.slice(1),barSize:qn(A)?void 0:W0(A,r,0)})}}return a},jmt=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,a=o===void 0?[]:o,s=t.maxBarSize,l=a.length;if(l<1)return null;var c=W0(n,i,0,!0),d,u=[];if(a[0].barSize===+a[0].barSize){var p=!1,m=i/l,v=a.reduce(function(I,N){return I+N.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&m>0&&(p=!0,m*=.9,v=l*m);var x=(i-v)/2>>0,w={offset:x-c,size:0};d=a.reduce(function(I,N){var A={item:N.item,position:{offset:w.offset+w.size+c,size:p?m:N.barSize}},R=[].concat(Aee(I),[A]);return w=R[R.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(L){R.push({item:L,position:w})}),R},u)}else{var T=W0(r,i,0,!0);i-2*T-(l-1)*c<=0&&(c=0);var k=(i-2*T-(l-1)*c)/l;k>1&&(k>>=0);var O=s===+s?Math.min(k,s):k;d=a.reduce(function(I,N,A){var R=[].concat(Aee(I),[{item:N.item,position:{offset:T+(k+c)*A+(k-O)/2,size:O}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(L){R.push({item:L,position:R[R.length-1].position})}),R},u)}return d},Bmt=function(t,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=Jye({children:o,legendWidth:l});if(c){var d=i||{},u=d.width,p=d.height,m=c.align,v=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&m!=="center"&&ut(t[m]))return Pi(Pi({},t),{},Kv({},m,t[m]+(u||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&v!=="middle"&&ut(t[v]))return Pi(Pi({},t),{},Kv({},v,t[v]+(p||0)))}return t},$mt=function(t,n,r){return qn(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},ebe=function(t,n,r,i,o){var a=n.props.children,s=yc(a,hk).filter(function(c){return $mt(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var u=Il(d,r);if(qn(u))return c;var p=Array.isArray(u)?[VR(u),zR(u)]:[u,u],m=l.reduce(function(v,x){var w=Il(d,x,0),T=p[0]-Math.abs(Array.isArray(w)?w[0]:w),k=p[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(T,v[0]),Math.max(k,v[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},Hmt=function(t,n,r,i,o){var a=n.map(function(s){return ebe(t,s,r,o,i)}).filter(function(s){return!qn(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},tbe=function(t,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&ebe(t,l,c,i)||$S(t,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var d=0,u=c.length;d<u;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},nbe=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},rbe=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var o,a,s=t.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},If=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,a=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&s?.length>=2?cu(s[0]-s[1])*2*c:c,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(u){var p=o?o.indexOf(u):u;return{coordinate:i(p)+c,value:u,offset:c}});return d.filter(function(u){return!ak(u.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(u,p){return{coordinate:i(u)+c,value:u,index:p,offset:c}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(u){return{coordinate:i(u)+c,value:u,offset:c}}):i.domain().map(function(u,p){return{coordinate:i(u)+c,value:o?o[u]:u,index:p,offset:c}})},q5=new WeakMap,NA=function(t,n){if(typeof n!="function")return t;q5.has(t)||q5.set(t,new WeakMap);var r=q5.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Fmt=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:LC(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:pM(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:BS(),realScaleType:"point"}:o==="category"?{scale:LC(),realScaleType:"band"}:{scale:pM(),realScaleType:"linear"};if(q0(i)){var l="scale".concat(NR(i));return{scale:(pee[l]||BS)(),realScaleType:pee[l]?l:"point"}}return Rn(i)?{scale:i}:{scale:BS(),realScaleType:"point"}},Nee=1e-4,Umt=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-Nee,a=Math.max(i[0],i[1])+Nee,s=t(n[0]),l=t(n[r-1]);(s<o||s>a||l<o||l>a)&&t.domain([n[0],n[r-1]])}},zmt=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Vmt=function(t,n){if(!n||n.length!==2||!ut(n[0])||!ut(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!ut(t[0])||t[0]<r)&&(o[0]=r),(!ut(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},qmt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=ak(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1])}},Wmt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=ak(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=o,t[a][r][1]=o+s,o=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},Ymt={sign:qmt,expand:Olt,none:E1,silhouette:Nlt,wiggle:Mlt,positive:Wmt},Gmt=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Ymt[r],a=Alt().keys(i).value(function(s,l){return+Il(s,l,0)}).order(Y8).offset(o);return a(t)},Kmt=function(t,n,r,i,o,a){if(!t)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(u,p){var m,v=(m=p.type)!==null&&m!==void 0&&m.defaultProps?Pi(Pi({},p.type.defaultProps),p.props):p.props,x=v.stackId,w=v.hide;if(w)return u;var T=v[r],k=u[T]||{hasStack:!1,stackGroups:{}};if(To(x)){var O=k.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};O.items.push(p),k.hasStack=!0,k.stackGroups[x]=O}else k.stackGroups[sk("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Pi(Pi({},u),{},Kv({},T,k))},l),d={};return Object.keys(c).reduce(function(u,p){var m=c[p];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,w){var T=m.stackGroups[w];return Pi(Pi({},x),{},Kv({},w,{numericAxisId:r,cateAxisId:i,items:T.items,stackedData:Gmt(t,T.items,o)}))},v)}return Pi(Pi({},u),{},Kv({},p,m))},d)},Xmt=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=smt(c,o,s);return t.domain([VR(d),zR(d)]),{niceTicks:d}}if(o&&i==="number"){var u=t.domain(),p=lmt(u,o,s);return{niceTicks:p}}return null};function Mee(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qn(i[t.dataKey])){var s=GN(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Il(i,qn(a)?t.dataKey:a);return qn(l)?null:t.scale(l)}var Dee=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,a=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Il(a,n.dataKey,n.domain[s]);return qn(l)?null:n.scale(l)-o/2+i},Zmt=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Qmt=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(To(o)){var a=n[o];if(a){var s=a.items.indexOf(t);return s>=0?a.stackedData[s]:null}}return null},Jmt=function(t){return t.reduce(function(n,r){return[VR(r.concat([n[0]]).filter(ut)),zR(r.concat([n[1]]).filter(ut))]},[1/0,-1/0])},ibe=function(t,n,r){return Object.keys(t).reduce(function(i,o){var a=t[o],s=a.stackedData,l=s.reduce(function(c,d){var u=Jmt(d.slice(n,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Ree=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Iee=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b$=function(t,n,r){if(Rn(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(ut(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(Ree.test(t[0])){var o=+Ree.exec(t[0])[1];i[0]=n[0]-o}else Rn(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(ut(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(Iee.test(t[1])){var a=+Iee.exec(t[1])[1];i[1]=n[1]+a}else Rn(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},wM=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=fU(n,function(u){return u.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],d=o[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},Pee=function(t,n,r){return!t||!t.length||qR(t,gc(r,"type.defaultProps.domain"))?n:t},obe=function(t,n){var r=t.type.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Pi(Pi({},Jn(t,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:BU(t),value:Il(n,i),type:l,payload:n,chartType:c,hide:d})};function qC(e){"@babel/helpers - typeof";return qC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qC(e)}function Lee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lee(Object(n),!0).forEach(function(r){egt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function egt(e,t,n){return t=tgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tgt(e){var t=ngt(e,"string");return qC(t)=="symbol"?t:t+""}function ngt(e,t){if(qC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EM=Math.PI/180,rgt=function(t){return t*180/Math.PI},ta=function(t,n,r,i){return{x:t+Math.cos(-EM*i)*r,y:n+Math.sin(-EM*i)*r}},igt=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},ogt=function(t,n){var r=t.x,i=t.y,o=n.cx,a=n.cy,s=igt({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:rgt(c),angleInRadian:c}},agt=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},sgt=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return t+s*360},Bee=function(t,n){var r=t.x,i=t.y,o=ogt({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=agt(n),u=d.startAngle,p=d.endAngle,m=s,v;if(u<=p){for(;m>p;)m-=360;for(;m<u;)m+=360;v=m>=u&&m<=p}else{for(;m>u;)m-=360;for(;m<p;)m+=360;v=m>=p&&m<=u}return v?jee(jee({},n),{},{radius:a,angle:sgt(m,n)}):null};function WC(e){"@babel/helpers - typeof";return WC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WC(e)}var lgt=["offset"];function cgt(e){return hgt(e)||fgt(e)||dgt(e)||ugt()}function ugt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dgt(e,t){if(e){if(typeof e=="string")return v$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v$(e,t)}}function fgt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hgt(e){if(Array.isArray(e))return v$(e)}function v$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pgt(e,t){if(e==null)return{};var n=mgt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mgt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$ee(Object(n),!0).forEach(function(r){ggt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$ee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ggt(e,t,n){return t=ygt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ygt(e){var t=bgt(e,"string");return WC(t)=="symbol"?t:t+""}function bgt(e,t){if(WC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(WC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YC.apply(this,arguments)}var vgt=function(t){var n=t.value,r=t.formatter,i=qn(t.children)?n:t.children;return Rn(r)?r(i):i},xgt=function(t,n){var r=cu(n-t),i=Math.min(Math.abs(n-t),360);return r*i},wgt=function(t,n,r){var i=t.position,o=t.viewBox,a=t.offset,s=t.className,l=o,c=l.cx,d=l.cy,u=l.innerRadius,p=l.outerRadius,m=l.startAngle,v=l.endAngle,x=l.clockWise,w=(u+p)/2,T=xgt(m,v),k=T>=0?1:-1,O,I;i==="insideStart"?(O=m+k*a,I=x):i==="insideEnd"?(O=v-k*a,I=!x):i==="end"&&(O=v+k*a,I=x),I=T<=0?I:!I;var N=ta(c,d,w,O),A=ta(c,d,w,O+(I?1:-1)*359),R="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(I?0:1,`,
    `).concat(A.x,",").concat(A.y),L=qn(t.id)?sk("recharts-radial-line-"):t.id;return F.createElement("text",YC({},r,{dominantBaseline:"central",className:Xn("recharts-radial-bar-label",s)}),F.createElement("defs",null,F.createElement("path",{id:L,d:R})),F.createElement("textPath",{xlinkHref:"#".concat(L)},n))},Egt=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,u=o.endAngle,p=(d+u)/2;if(i==="outside"){var m=ta(a,s,c+r,p),v=m.x,x=m.y;return{x:v,y:x,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,T=ta(a,s,w,p),k=T.x,O=T.y;return{x:k,y:O,textAnchor:"middle",verticalAnchor:"middle"}},Sgt=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,a=n,s=a.x,l=a.y,c=a.width,d=a.height,u=d>=0?1:-1,p=u*i,m=u>0?"end":"start",v=u>0?"start":"end",x=c>=0?1:-1,w=x*i,T=x>0?"end":"start",k=x>0?"start":"end";if(o==="top"){var O={x:s+c/2,y:l-u*i,textAnchor:"middle",verticalAnchor:m};return Eo(Eo({},O),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var I={x:s+c/2,y:l+d+p,textAnchor:"middle",verticalAnchor:v};return Eo(Eo({},I),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(o==="left"){var N={x:s-w,y:l+d/2,textAnchor:T,verticalAnchor:"middle"};return Eo(Eo({},N),r?{width:Math.max(N.x-r.x,0),height:d}:{})}if(o==="right"){var A={x:s+c+w,y:l+d/2,textAnchor:k,verticalAnchor:"middle"};return Eo(Eo({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:d}:{})}var R=r?{width:c,height:d}:{};return o==="insideLeft"?Eo({x:s+w,y:l+d/2,textAnchor:k,verticalAnchor:"middle"},R):o==="insideRight"?Eo({x:s+c-w,y:l+d/2,textAnchor:T,verticalAnchor:"middle"},R):o==="insideTop"?Eo({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:v},R):o==="insideBottom"?Eo({x:s+c/2,y:l+d-p,textAnchor:"middle",verticalAnchor:m},R):o==="insideTopLeft"?Eo({x:s+w,y:l+p,textAnchor:k,verticalAnchor:v},R):o==="insideTopRight"?Eo({x:s+c-w,y:l+p,textAnchor:T,verticalAnchor:v},R):o==="insideBottomLeft"?Eo({x:s+w,y:l+d-p,textAnchor:k,verticalAnchor:m},R):o==="insideBottomRight"?Eo({x:s+c-w,y:l+d-p,textAnchor:T,verticalAnchor:m},R):bx(o)&&(ut(o.x)||i0(o.x))&&(ut(o.y)||i0(o.y))?Eo({x:s+W0(o.x,c),y:l+W0(o.y,d),textAnchor:"end",verticalAnchor:"end"},R):Eo({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Cgt=function(t){return"cx"in t&&ut(t.cx)};function xa(e){var t=e.offset,n=t===void 0?5:t,r=pgt(e,lgt),i=Eo({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,d=i.className,u=d===void 0?"":d,p=i.textBreakAll;if(!o||qn(s)&&qn(l)&&!C.isValidElement(c)&&!Rn(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var m;if(Rn(c)){if(m=C.createElement(c,i),C.isValidElement(m))return m}else m=vgt(i);var v=Cgt(o),x=Jn(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return wgt(i,m,x);var w=v?Egt(i):Sgt(i);return F.createElement(sM,YC({className:Xn("recharts-label",u)},x,w,{breakAll:p}),m)}xa.displayName="Label";var abe=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,a=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,d=t.outerRadius,u=t.x,p=t.y,m=t.top,v=t.left,x=t.width,w=t.height,T=t.clockWise,k=t.labelViewBox;if(k)return k;if(ut(x)&&ut(w)){if(ut(u)&&ut(p))return{x:u,y:p,width:x,height:w};if(ut(m)&&ut(v))return{x:m,y:v,width:x,height:w}}return ut(u)&&ut(p)?{x:u,y:p,width:0,height:0}:ut(n)&&ut(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:T}:t.viewBox?t.viewBox:{}},Tgt=function(t,n){return t?t===!0?F.createElement(xa,{key:"label-implicit",viewBox:n}):To(t)?F.createElement(xa,{key:"label-implicit",viewBox:n,value:t}):C.isValidElement(t)?t.type===xa?C.cloneElement(t,{key:"label-implicit",viewBox:n}):F.createElement(xa,{key:"label-implicit",content:t,viewBox:n}):Rn(t)?F.createElement(xa,{key:"label-implicit",content:t,viewBox:n}):bx(t)?F.createElement(xa,YC({viewBox:n},t,{key:"label-implicit"})):null:null},kgt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=abe(t),a=yc(i,xa).map(function(l,c){return C.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=Tgt(t.label,n||o);return[s].concat(cgt(a))};xa.parseViewBox=abe;xa.renderCallByParent=kgt;var W5,Hee;function _gt(){if(Hee)return W5;Hee=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return W5=e,W5}var Agt=_gt();const Ogt=vr(Agt);function GC(e){"@babel/helpers - typeof";return GC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GC(e)}var Ngt=["valueAccessor"],Mgt=["data","dataKey","clockWise","id","textBreakAll"];function Dgt(e){return Lgt(e)||Pgt(e)||Igt(e)||Rgt()}function Rgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Igt(e,t){if(e){if(typeof e=="string")return x$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x$(e,t)}}function Pgt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lgt(e){if(Array.isArray(e))return x$(e)}function x$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SM(){return SM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SM.apply(this,arguments)}function Fee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fee(Object(n),!0).forEach(function(r){jgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jgt(e,t,n){return t=Bgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bgt(e){var t=$gt(e,"string");return GC(t)=="symbol"?t:t+""}function $gt(e,t){if(GC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(GC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zee(e,t){if(e==null)return{};var n=Hgt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hgt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Fgt=function(t){return Array.isArray(t.value)?Ogt(t.value):t.value};function Kp(e){var t=e.valueAccessor,n=t===void 0?Fgt:t,r=zee(e,Ngt),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=zee(r,Mgt);return!i||!i.length?null:F.createElement(Wi,{className:"recharts-label-list"},i.map(function(d,u){var p=qn(o)?n(d,u):Il(d&&d.payload,o),m=qn(s)?{}:{id:"".concat(s,"-").concat(u)};return F.createElement(xa,SM({},Jn(d,!0),c,m,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:xa.parseViewBox(qn(a)?d:Uee(Uee({},d),{},{clockWise:a})),key:"label-".concat(u),index:u}))}))}Kp.displayName="LabelList";function Ugt(e,t){return e?e===!0?F.createElement(Kp,{key:"labelList-implicit",data:t}):F.isValidElement(e)||Rn(e)?F.createElement(Kp,{key:"labelList-implicit",data:t,content:e}):bx(e)?F.createElement(Kp,SM({data:t},e,{key:"labelList-implicit"})):null:null}function zgt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=yc(r,Kp).map(function(a,s){return C.cloneElement(a,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var o=Ugt(e.label,t);return[o].concat(Dgt(i))}Kp.renderCallByParent=zgt;function KC(e){"@babel/helpers - typeof";return KC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KC(e)}function w$(){return w$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w$.apply(this,arguments)}function Vee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vee(Object(n),!0).forEach(function(r){Vgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vgt(e,t,n){return t=qgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qgt(e){var t=Wgt(e,"string");return KC(t)=="symbol"?t:t+""}function Wgt(e,t){if(KC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(KC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ygt=function(t,n){var r=cu(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},MA=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,a=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,d=l*(s?1:-1)+i,u=Math.asin(l/d)/EM,p=c?o:o+a*u,m=ta(n,r,d,p),v=ta(n,r,i,p),x=c?o-a*u:o,w=ta(n,r,d*Math.cos(u*EM),x);return{center:m,circleTangency:v,lineTangency:w,theta:u}},sbe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.startAngle,s=t.endAngle,l=Ygt(a,s),c=a+l,d=ta(n,r,o,a),u=ta(n,r,o,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(i>0){var m=ta(n,r,i,a),v=ta(n,r,i,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},Ggt=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,u=cu(d-c),p=MA({cx:n,cy:r,radius:o,angle:c,sign:u,cornerRadius:a,cornerIsExternal:l}),m=p.circleTangency,v=p.lineTangency,x=p.theta,w=MA({cx:n,cy:r,radius:o,angle:d,sign:-u,cornerRadius:a,cornerIsExternal:l}),T=w.circleTangency,k=w.lineTangency,O=w.theta,I=l?Math.abs(c-d):Math.abs(c-d)-x-O;if(I<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):sbe({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(I>180),",").concat(+(u<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var A=MA({cx:n,cy:r,radius:i,angle:c,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=A.circleTangency,L=A.lineTangency,B=A.theta,$=MA({cx:n,cy:r,radius:i,angle:d,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),q=$.circleTangency,z=$.lineTangency,W=$.theta,G=l?Math.abs(c-d):Math.abs(c-d)-B-W;if(G<0&&a===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(z.x,",").concat(z.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(u>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(L.x,",").concat(L.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},Kgt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lbe=function(t){var n=qee(qee({},Kgt),t),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,u=n.endAngle,p=n.className;if(a<o||d===u)return null;var m=Xn("recharts-sector",p),v=a-o,x=W0(s,v,0,!0),w;return x>0&&Math.abs(d-u)<360?w=Ggt({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):w=sbe({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:u}),F.createElement("path",w$({},Jn(n,!0),{className:m,d:w,role:"img"}))};function XC(e){"@babel/helpers - typeof";return XC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XC(e)}function E$(){return E$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E$.apply(this,arguments)}function Wee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wee(Object(n),!0).forEach(function(r){Xgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xgt(e,t,n){return t=Zgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zgt(e){var t=Qgt(e,"string");return XC(t)=="symbol"?t:t+""}function Qgt(e,t){if(XC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(XC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gee={curveBasisClosed:ylt,curveBasisOpen:blt,curveBasis:glt,curveBumpX:nlt,curveBumpY:rlt,curveLinearClosed:vlt,curveLinear:DR,curveMonotoneX:xlt,curveMonotoneY:wlt,curveNatural:Elt,curveStep:Slt,curveStepAfter:Tlt,curveStepBefore:Clt},DA=function(t){return t.x===+t.x&&t.y===+t.y},YE=function(t){return t.x},GE=function(t){return t.y},Jgt=function(t,n){if(Rn(t))return t;var r="curve".concat(NR(t));return(r==="curveMonotone"||r==="curveBump")&&n?Gee["".concat(r).concat(n==="vertical"?"Y":"X")]:Gee[r]||DR},e0t=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,d=Jgt(r,s),u=c?o.filter(function(x){return DA(x)}):o,p;if(Array.isArray(a)){var m=c?a.filter(function(x){return DA(x)}):a,v=u.map(function(x,w){return Yee(Yee({},x),{},{base:m[w]})});return s==="vertical"?p=SA().y(GE).x1(YE).x0(function(x){return x.base.x}):p=SA().x(YE).y1(GE).y0(function(x){return x.base.y}),p.defined(DA).curve(d),p(v)}return s==="vertical"&&ut(a)?p=SA().y(GE).x1(YE).x0(a):ut(a)?p=SA().x(YE).y1(GE).y0(a):p=f0e().x(YE).y(GE),p.defined(DA).curve(d),p(u)},S$=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?e0t(t):i;return C.createElement("path",E$({},Jn(t,!1),KN(t),{className:Xn("recharts-curve",n),d:a,ref:o}))},Y5={exports:{}},G5,Kee;function t0t(){if(Kee)return G5;Kee=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return G5=e,G5}var K5,Xee;function n0t(){if(Xee)return K5;Xee=1;var e=t0t();function t(){}function n(){}return n.resetWarningCache=t,K5=function(){function r(a,s,l,c,d,u){if(u!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},K5}var Zee;function r0t(){return Zee||(Zee=1,Y5.exports=n0t()()),Y5.exports}var i0t=r0t();const kr=vr(i0t);var o0t=Object.getOwnPropertyNames,a0t=Object.getOwnPropertySymbols,s0t=Object.prototype.hasOwnProperty;function Qee(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function RA(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=e(n,r,i);return o.delete(n),o.delete(r),l}}function l0t(e){return e?.[Symbol.toStringTag]}function Jee(e){return o0t(e).concat(a0t(e))}var c0t=Object.hasOwn||(function(e,t){return s0t.call(e,t)});function my(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var u0t="__v",d0t="__o",f0t="_owner",ete=Object.getOwnPropertyDescriptor,tte=Object.keys;function h0t(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function p0t(e,t){return my(e.getTime(),t.getTime())}function m0t(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function g0t(e,t){return e===t}function nte(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),d=!1,u=0;(s=c.next())&&!s.done;){if(i[u]){u++;continue}var p=a.value,m=s.value;if(n.equals(p[0],m[0],l,u,e,t,n)&&n.equals(p[1],m[1],p[0],m[0],e,t,n)){d=i[u]=!0;break}u++}if(!d)return!1;l++}return!0}var y0t=my;function b0t(e,t,n){var r=tte(e),i=r.length;if(tte(t).length!==i)return!1;for(;i-- >0;)if(!cbe(e,t,n,r[i]))return!1;return!0}function KE(e,t,n){var r=Jee(e),i=r.length;if(Jee(t).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!cbe(e,t,n,o)||(a=ete(e,o),s=ete(t,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function v0t(e,t){return my(e.valueOf(),t.valueOf())}function x0t(e,t){return e.source===t.source&&e.flags===t.flags}function rte(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.values(),a,s;(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function w0t(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function E0t(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cbe(e,t,n,r){return(r===f0t||r===d0t||r===u0t)&&(e.$$typeof||t.$$typeof)?!0:c0t(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var S0t="[object Arguments]",C0t="[object Boolean]",T0t="[object Date]",k0t="[object Error]",_0t="[object Map]",A0t="[object Number]",O0t="[object Object]",N0t="[object RegExp]",M0t="[object Set]",D0t="[object String]",R0t="[object URL]",I0t=Array.isArray,ite=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ote=Object.assign,P0t=Object.prototype.toString.call.bind(Object.prototype.toString);function L0t(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,p=e.areUrlsEqual,m=e.unknownTagComparators;return function(x,w,T){if(x===w)return!0;if(x==null||w==null)return!1;var k=typeof x;if(k!==typeof w)return!1;if(k!=="object")return k==="number"?a(x,w,T):k==="function"?i(x,w,T):!1;var O=x.constructor;if(O!==w.constructor)return!1;if(O===Object)return s(x,w,T);if(I0t(x))return t(x,w,T);if(ite!=null&&ite(x))return u(x,w,T);if(O===Date)return n(x,w,T);if(O===RegExp)return c(x,w,T);if(O===Map)return o(x,w,T);if(O===Set)return d(x,w,T);var I=P0t(x);if(I===T0t)return n(x,w,T);if(I===N0t)return c(x,w,T);if(I===_0t)return o(x,w,T);if(I===M0t)return d(x,w,T);if(I===O0t)return typeof x.then!="function"&&typeof w.then!="function"&&s(x,w,T);if(I===R0t)return p(x,w,T);if(I===k0t)return r(x,w,T);if(I===S0t)return s(x,w,T);if(I===C0t||I===A0t||I===D0t)return l(x,w,T);if(m){var N=m[I];if(!N){var A=l0t(x);A&&(N=m[A])}if(N)return N(x,w,T)}return!1}}function j0t(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?KE:h0t,areDatesEqual:p0t,areErrorsEqual:m0t,areFunctionsEqual:g0t,areMapsEqual:r?Qee(nte,KE):nte,areNumbersEqual:y0t,areObjectsEqual:r?KE:b0t,arePrimitiveWrappersEqual:v0t,areRegExpsEqual:x0t,areSetsEqual:r?Qee(rte,KE):rte,areTypedArraysEqual:r?KE:w0t,areUrlsEqual:E0t,unknownTagComparators:void 0};if(n&&(i=ote({},i,n(i))),t){var o=RA(i.areArraysEqual),a=RA(i.areMapsEqual),s=RA(i.areObjectsEqual),l=RA(i.areSetsEqual);i=ote({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function B0t(e){return function(t,n,r,i,o,a,s){return e(t,n,s)}}function $0t(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(l,c){var d=r(),u=d.cache,p=u===void 0?t?new WeakMap:void 0:u,m=d.meta;return n(l,c,{cache:p,equals:i,meta:m,strict:o})};if(t)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,a)}}var H0t=Am();Am({strict:!0});Am({circular:!0});Am({circular:!0,strict:!0});Am({createInternalComparator:function(){return my}});Am({strict:!0,createInternalComparator:function(){return my}});Am({circular:!0,createInternalComparator:function(){return my}});Am({circular:!0,createInternalComparator:function(){return my},strict:!0});function Am(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,a=o===void 0?!1:o,s=j0t(e),l=L0t(s),c=r?r(l):B0t(l);return $0t({circular:n,comparator:l,createState:i,equals:c,strict:a})}function F0t(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ate(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):F0t(i)};requestAnimationFrame(r)}function C$(e){"@babel/helpers - typeof";return C$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C$(e)}function U0t(e){return W0t(e)||q0t(e)||V0t(e)||z0t()}function z0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0t(e,t){if(e){if(typeof e=="string")return ste(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ste(e,t)}}function ste(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W0t(e){if(Array.isArray(e))return e}function Y0t(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=U0t(a),l=s[0],c=s.slice(1);if(typeof l=="number"){ate(i.bind(null,c),l);return}i(l),ate(i.bind(null,c));return}C$(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function ZC(e){"@babel/helpers - typeof";return ZC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZC(e)}function lte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lte(Object(n),!0).forEach(function(r){ube(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ube(e,t,n){return t=G0t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G0t(e){var t=K0t(e,"string");return ZC(t)==="symbol"?t:String(t)}function K0t(e,t){if(ZC(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ZC(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X0t=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Z0t=function(t){return t},Q0t=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},HS=function(t,n){return Object.keys(n).reduce(function(r,i){return cte(cte({},r),{},ube({},i,t(i,n[i])))},{})},ute=function(t,n,r){return t.map(function(i){return"".concat(Q0t(i)," ").concat(n,"ms ").concat(r)}).join(",")};function J0t(e,t){return nyt(e)||tyt(e,t)||dbe(e,t)||eyt()}function eyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tyt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function nyt(e){if(Array.isArray(e))return e}function ryt(e){return ayt(e)||oyt(e)||dbe(e)||iyt()}function iyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dbe(e,t){if(e){if(typeof e=="string")return T$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T$(e,t)}}function oyt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ayt(e){if(Array.isArray(e))return T$(e)}function T$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var CM=1e-4,fbe=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},hbe=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},dte=function(t,n){return function(r){var i=fbe(t,n);return hbe(i,r)}},syt=function(t,n){return function(r){var i=fbe(t,n),o=[].concat(ryt(i.map(function(a,s){return a*s}).slice(1)),[0]);return hbe(o,r)}},fte=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=J0t(c,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var u=dte(i,a),p=dte(o,s),m=syt(i,a),v=function(T){return T>1?1:T<0?0:T},x=function(T){for(var k=T>1?1:T,O=k,I=0;I<8;++I){var N=u(O)-k,A=m(O);if(Math.abs(N-k)<CM||A<CM)return p(O);O=v(O-N/A)}return p(O)};return x.isStepper=!1,x},lyt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,a=t.dt,s=a===void 0?17:a,l=function(d,u,p){var m=-(d-u)*r,v=p*o,x=p+(m-v)*s/1e3,w=p*s/1e3+d;return Math.abs(w-u)<CM&&Math.abs(x)<CM?[u,0]:[w,x]};return l.isStepper=!0,l.dt=s,l},cyt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fte(i);case"spring":return lyt();default:if(i.split("(")[0]==="cubic-bezier")return fte(i)}return typeof i=="function"?i:null};function QC(e){"@babel/helpers - typeof";return QC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QC(e)}function hte(e){return fyt(e)||dyt(e)||pbe(e)||uyt()}function uyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dyt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fyt(e){if(Array.isArray(e))return _$(e)}function pte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pte(Object(n),!0).forEach(function(r){k$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k$(e,t,n){return t=hyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hyt(e){var t=pyt(e,"string");return QC(t)==="symbol"?t:String(t)}function pyt(e,t){if(QC(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(QC(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function myt(e,t){return byt(e)||yyt(e,t)||pbe(e,t)||gyt()}function gyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pbe(e,t){if(e){if(typeof e=="string")return _$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _$(e,t)}}function _$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yyt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function byt(e){if(Array.isArray(e))return e}var TM=function(t,n,r){return t+(n-t)*r},A$=function(t){var n=t.from,r=t.to;return n!==r},vyt=function e(t,n,r){var i=HS(function(o,a){if(A$(a)){var s=t(a.from,a.to,a.velocity),l=myt(s,2),c=l[0],d=l[1];return Xo(Xo({},a),{},{from:c,velocity:d})}return a},n);return r<1?HS(function(o,a){return A$(a)?Xo(Xo({},a),{},{velocity:TM(a.velocity,i[o].velocity,r),from:TM(a.from,i[o].from,r)}):a},n):e(t,i,r-1)};const xyt=(function(e,t,n,r,i){var o=X0t(e,t),a=o.reduce(function(w,T){return Xo(Xo({},w),{},k$({},T,[e[T],t[T]]))},{}),s=o.reduce(function(w,T){return Xo(Xo({},w),{},k$({},T,{from:e[T],velocity:0,to:t[T]}))},{}),l=-1,c,d,u=function(){return null},p=function(){return HS(function(T,k){return k.from},s)},m=function(){return!Object.values(s).filter(A$).length},v=function(T){c||(c=T);var k=T-c,O=k/n.dt;s=vyt(n,s,O),i(Xo(Xo(Xo({},e),t),p())),c=T,m()||(l=requestAnimationFrame(u))},x=function(T){d||(d=T);var k=(T-d)/r,O=HS(function(N,A){return TM.apply(void 0,hte(A).concat([n(k)]))},a);if(i(Xo(Xo(Xo({},e),t),O)),k<1)l=requestAnimationFrame(u);else{var I=HS(function(N,A){return TM.apply(void 0,hte(A).concat([n(1)]))},a);i(Xo(Xo(Xo({},e),t),I))}};return u=n.isStepper?v:x,function(){return requestAnimationFrame(u),function(){cancelAnimationFrame(l)}}});function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}var wyt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Eyt(e,t){if(e==null)return{};var n=Syt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Syt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function X5(e){return _yt(e)||kyt(e)||Tyt(e)||Cyt()}function Cyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tyt(e,t){if(e){if(typeof e=="string")return O$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O$(e,t)}}function kyt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _yt(e){if(Array.isArray(e))return O$(e)}function O$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mte(Object(n),!0).forEach(function(r){fS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fS(e,t,n){return t=mbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ayt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oyt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mbe(r.key),r)}}function Nyt(e,t,n){return t&&Oyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mbe(e){var t=Myt(e,"string");return M1(t)==="symbol"?t:String(t)}function Myt(e,t){if(M1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(M1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N$(e,t)}function N$(e,t){return N$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N$(e,t)}function Ryt(e){var t=Iyt();return function(){var r=kM(e),i;if(t){var o=kM(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return M$(this,i)}}function M$(e,t){if(t&&(M1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D$(e)}function D$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iyt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kM(e){return kM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kM(e)}var ih=(function(e){Dyt(n,e);var t=Ryt(n);function n(r,i){var o;Ayt(this,n),o=t.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,d=a.to,u=a.steps,p=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(D$(o)),o.changeStyle=o.changeStyle.bind(D$(o)),!s||m<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:d}),M$(o);if(u&&u.length)o.state={style:u[0].style};else if(c){if(typeof p=="function")return o.state={style:c},M$(o);o.state={style:l?fS({},l,c):c}}else o.state={style:{}};return o}return Nyt(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,u=o.from,p=this.state.style;if(s){if(!a){var m={style:l?fS({},l,d):d};this.state&&p&&(l&&p[l]!==d||!l&&p!==d)&&this.setState(m);return}if(!(H0t(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||c?u:i.to;if(this.state&&p){var w={style:l?fS({},l,x):x};(l&&p[l]!==x||!l&&p!==x)&&this.setState(w)}this.runAnimation(Kc(Kc({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,u=i.onAnimationEnd,p=i.onAnimationStart,m=xyt(a,s,cyt(c),l,this.changeStyle),v=function(){o.stopJSAnimation=m()};this.manager.start([p,d,v,l,u])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,u=c.duration,p=u===void 0?0:u,m=function(x,w,T){if(T===0)return x;var k=w.duration,O=w.easing,I=O===void 0?"ease":O,N=w.style,A=w.properties,R=w.onAnimationEnd,L=T>0?a[T-1]:w,B=A||Object.keys(N);if(typeof I=="function"||I==="spring")return[].concat(X5(x),[o.runJSAnimation.bind(o,{from:L.style,to:N,duration:k,easing:I}),k]);var $=ute(B,k,I),q=Kc(Kc(Kc({},L.style),N),{},{transition:$});return[].concat(X5(x),[q,k,R]).filter(Z0t)};return this.manager.start([l].concat(X5(a.reduce(m,[d,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Y0t());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,u=i.onAnimationEnd,p=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var x=s?fS({},s,l):l,w=ute(Object.keys(x),a,c);v.start([d,o,Kc(Kc({},x),{},{transition:w}),a,u])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Eyt(i,wyt),c=C.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||c===0||a<=0)return o;var u=function(m){var v=m.props,x=v.style,w=x===void 0?{}:x,T=v.className,k=C.cloneElement(m,Kc(Kc({},l),{},{style:Kc(Kc({},w),d),className:T}));return k};return c===1?u(C.Children.only(o)):F.createElement("div",null,C.Children.map(o,function(p){return u(p)}))}}]),n})(C.PureComponent);ih.displayName="Animate";ih.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ih.propTypes={from:kr.oneOfType([kr.object,kr.string]),to:kr.oneOfType([kr.object,kr.string]),attributeName:kr.string,duration:kr.number,begin:kr.number,easing:kr.oneOfType([kr.string,kr.func]),steps:kr.arrayOf(kr.shape({duration:kr.number.isRequired,style:kr.object.isRequired,easing:kr.oneOfType([kr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kr.func]),properties:kr.arrayOf("string"),onAnimationEnd:kr.func})),children:kr.oneOfType([kr.node,kr.func]),isActive:kr.bool,canBegin:kr.bool,onAnimationEnd:kr.func,shouldReAnimate:kr.bool,onAnimationStart:kr.func,onAnimationReStart:kr.func};function JC(e){"@babel/helpers - typeof";return JC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JC(e)}function _M(){return _M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_M.apply(this,arguments)}function Pyt(e,t){return $yt(e)||Byt(e,t)||jyt(e,t)||Lyt()}function Lyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jyt(e,t){if(e){if(typeof e=="string")return gte(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gte(e,t)}}function gte(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Byt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function $yt(e){if(Array.isArray(e))return e}function yte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yte(Object(n),!0).forEach(function(r){Hyt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hyt(e,t,n){return t=Fyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fyt(e){var t=Uyt(e,"string");return JC(t)=="symbol"?t:t+""}function Uyt(e,t){if(JC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(JC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vte=function(t,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var u=[0,0,0,0],p=0,m=4;p<m;p++)u[p]=o[p]>a?a:o[p];d="M".concat(t,",").concat(n+s*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(t+l*u[0],",").concat(n)),d+="L ".concat(t+r-l*u[1],",").concat(n),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(n+s*u[1])),d+="L ".concat(t+r,",").concat(n+i-s*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(t+r-l*u[2],",").concat(n+i)),d+="L ".concat(t+l*u[3],",").concat(n+i),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(n+i-s*u[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);d="M ".concat(t,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+l*v,",").concat(n,`
            L `).concat(t+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+r,",").concat(n+s*v,`
            L `).concat(t+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+r-l*v,",").concat(n+i,`
            L `).concat(t+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t,",").concat(n+i-s*v," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},zyt=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),d=Math.max(o,o+s),u=Math.min(a,a+l),p=Math.max(a,a+l);return r>=c&&r<=d&&i>=u&&i<=p}return!1},Vyt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$U=function(t){var n=bte(bte({},Vyt),t),r=C.useRef(),i=C.useState(-1),o=Pyt(i,2),a=o[0],s=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&s(I)}catch{}},[]);var l=n.x,c=n.y,d=n.width,u=n.height,p=n.radius,m=n.className,v=n.animationEasing,x=n.animationDuration,w=n.animationBegin,T=n.isAnimationActive,k=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||d===0||u===0)return null;var O=Xn("recharts-rectangle",m);return k?F.createElement(ih,{canBegin:a>0,from:{width:d,height:u,x:l,y:c},to:{width:d,height:u,x:l,y:c},duration:x,animationEasing:v,isActive:k},function(I){var N=I.width,A=I.height,R=I.x,L=I.y;return F.createElement(ih,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,isActive:T,easing:v},F.createElement("path",_M({},Jn(n,!0),{className:O,d:vte(R,L,N,A,p),ref:r})))}):F.createElement("path",_M({},Jn(n,!0),{className:O,d:vte(l,c,d,u,p)}))};function R$(){return R$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R$.apply(this,arguments)}var HU=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,a=Xn("recharts-dot",o);return n===+n&&r===+r&&i===+i?C.createElement("circle",R$({},Jn(t,!1),KN(t),{className:a,cx:n,cy:r,r:i})):null};function eT(e){"@babel/helpers - typeof";return eT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eT(e)}var qyt=["x","y","top","left","width","height","className"];function I$(){return I$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I$.apply(this,arguments)}function xte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wyt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xte(Object(n),!0).forEach(function(r){Yyt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yyt(e,t,n){return t=Gyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gyt(e){var t=Kyt(e,"string");return eT(t)=="symbol"?t:t+""}function Kyt(e,t){if(eT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xyt(e,t){if(e==null)return{};var n=Zyt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zyt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Qyt=function(t,n,r,i,o,a){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Jyt=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.top,s=a===void 0?0:a,l=t.left,c=l===void 0?0:l,d=t.width,u=d===void 0?0:d,p=t.height,m=p===void 0?0:p,v=t.className,x=Xyt(t,qyt),w=Wyt({x:r,y:o,top:s,left:c,width:u,height:m},x);return!ut(r)||!ut(o)||!ut(u)||!ut(m)||!ut(s)||!ut(c)?null:F.createElement("path",I$({},Jn(w,!0),{className:Xn("recharts-cross",v),d:Qyt(r,o,u,m,s,c)}))},Z5,wte;function ebt(){if(wte)return Z5;wte=1;var e=P0e(),t=e(Object.getPrototypeOf,Object);return Z5=t,Z5}var Q5,Ete;function tbt(){if(Ete)return Q5;Ete=1;var e=fh(),t=ebt(),n=hh(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function c(d){if(!n(d)||e(d)!=r)return!1;var u=t(d);if(u===null)return!0;var p=s.call(u,"constructor")&&u.constructor;return typeof p=="function"&&p instanceof p&&a.call(p)==l}return Q5=c,Q5}var nbt=tbt();const rbt=vr(nbt);var J5,Ste;function ibt(){if(Ste)return J5;Ste=1;var e=fh(),t=hh(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return J5=r,J5}var obt=ibt();const abt=vr(obt);function tT(e){"@babel/helpers - typeof";return tT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tT(e)}function AM(){return AM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AM.apply(this,arguments)}function sbt(e,t){return dbt(e)||ubt(e,t)||cbt(e,t)||lbt()}function lbt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cbt(e,t){if(e){if(typeof e=="string")return Cte(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cte(e,t)}}function Cte(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ubt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function dbt(e){if(Array.isArray(e))return e}function Tte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tte(Object(n),!0).forEach(function(r){fbt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fbt(e,t,n){return t=hbt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hbt(e){var t=pbt(e,"string");return tT(t)=="symbol"?t:t+""}function pbt(e,t){if(tT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _te=function(t,n,r,i,o){var a=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-a/2,",").concat(n+o),s+="L ".concat(t+r-a/2-i,",").concat(n+o),s+="L ".concat(t,",").concat(n," Z"),s},mbt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gbt=function(t){var n=kte(kte({},mbt),t),r=C.useRef(),i=C.useState(-1),o=sbt(i,2),a=o[0],s=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&s(O)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,u=n.lowerWidth,p=n.height,m=n.className,v=n.animationEasing,x=n.animationDuration,w=n.animationBegin,T=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||p!==+p||d===0&&u===0||p===0)return null;var k=Xn("recharts-trapezoid",m);return T?F.createElement(ih,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:d,lowerWidth:u,height:p,x:l,y:c},duration:x,animationEasing:v,isActive:T},function(O){var I=O.upperWidth,N=O.lowerWidth,A=O.height,R=O.x,L=O.y;return F.createElement(ih,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,easing:v},F.createElement("path",AM({},Jn(n,!0),{className:k,d:_te(R,L,I,N,A),ref:r})))}):F.createElement("g",null,F.createElement("path",AM({},Jn(n,!0),{className:k,d:_te(l,c,d,u,p)})))},ybt=["option","shapeType","propTransformer","activeClassName","isActive"];function nT(e){"@babel/helpers - typeof";return nT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nT(e)}function bbt(e,t){if(e==null)return{};var n=vbt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vbt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ate(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ate(Object(n),!0).forEach(function(r){xbt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ate(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xbt(e,t,n){return t=wbt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wbt(e){var t=Ebt(e,"string");return nT(t)=="symbol"?t:t+""}function Ebt(e,t){if(nT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sbt(e,t){return OM(OM({},t),e)}function Cbt(e,t){return e==="symbols"}function Ote(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return F.createElement($U,n);case"trapezoid":return F.createElement(gbt,n);case"sector":return F.createElement(lbe,n);case"symbols":if(Cbt(t))return F.createElement(iU,n);break;default:return null}}function Tbt(e){return C.isValidElement(e)?e.props:e}function kbt(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Sbt:r,o=e.activeClassName,a=o===void 0?"recharts-active-shape":o,s=e.isActive,l=bbt(e,ybt),c;if(C.isValidElement(t))c=C.cloneElement(t,OM(OM({},l),Tbt(t)));else if(Rn(t))c=t(l);else if(rbt(t)&&!abt(t)){var d=i(t,l);c=F.createElement(Ote,{shapeType:n,elementProps:d})}else{var u=l;c=F.createElement(Ote,{shapeType:n,elementProps:u})}return s?F.createElement(Wi,{className:a},c):c}function GR(e,t){return t!=null&&"trapezoids"in e.props}function KR(e,t){return t!=null&&"sectors"in e.props}function rT(e,t){return t!=null&&"points"in e.props}function _bt(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function Abt(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Obt(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Nbt(e,t){var n;return GR(e,t)?n=_bt:KR(e,t)?n=Abt:rT(e,t)&&(n=Obt),n}function Mbt(e,t){var n;return GR(e,t)?n="trapezoids":KR(e,t)?n="sectors":rT(e,t)&&(n="points"),n}function Dbt(e,t){if(GR(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(KR(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return rT(e,t)?t.payload:{}}function Rbt(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Mbt(n,t),o=Dbt(n,t),a=r.filter(function(l,c){var d=qR(o,l),u=n.props[i].filter(function(v){var x=Nbt(n,t);return x(v,t)}),p=n.props[i].indexOf(u[u.length-1]),m=c===p;return d&&m}),s=r.indexOf(a[a.length-1]);return s}var e6,Nte;function Ibt(){if(Nte)return e6;Nte=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,l=t(e((i-r)/(o||1)),0),c=Array(l);l--;)c[a?l:++s]=r,r+=o;return c}return e6=n,e6}var t6,Mte;function gbe(){if(Mte)return t6;Mte=1;var e=Z0e(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return t6=r,t6}var n6,Dte;function Pbt(){if(Dte)return n6;Dte=1;var e=Ibt(),t=LR(),n=gbe();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return n6=r,n6}var r6,Rte;function Lbt(){if(Rte)return r6;Rte=1;var e=Pbt(),t=e();return r6=t,r6}var jbt=Lbt();const NM=vr(jbt);function iT(e){"@babel/helpers - typeof";return iT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iT(e)}function Ite(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ite(Object(n),!0).forEach(function(r){ybe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ite(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ybe(e,t,n){return t=Bbt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bbt(e){var t=$bt(e,"string");return iT(t)=="symbol"?t:t+""}function $bt(e,t){if(iT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(iT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hbt=["Webkit","Moz","O","ms"],Fbt=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Hbt.reduce(function(o,a){return Pte(Pte({},o),{},ybe({},a+r,n))},{});return i[t]=n,i};function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function MM(){return MM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MM.apply(this,arguments)}function Lte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lte(Object(n),!0).forEach(function(r){yl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ubt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vbe(r.key),r)}}function zbt(e,t,n){return t&&jte(e.prototype,t),n&&jte(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vbt(e,t,n){return t=DM(t),qbt(e,bbe()?Reflect.construct(t,n||[],DM(e).constructor):t.apply(e,n))}function qbt(e,t){if(t&&(D1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wbt(e)}function Wbt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bbe=function(){return!!e})()}function DM(e){return DM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},DM(e)}function Ybt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P$(e,t)}function P$(e,t){return P$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P$(e,t)}function yl(e,t,n){return t=vbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vbe(e){var t=Gbt(e,"string");return D1(t)=="symbol"?t:t+""}function Gbt(e,t){if(D1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(D1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kbt=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,a=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=BS().domain(NM(0,l)).range([o,o+a-s]),d=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},Bte=function(t){return t.changedTouches&&!!t.changedTouches.length},R1=(function(e){function t(n){var r;return Ubt(this,t),r=Vbt(this,t,[n]),yl(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),yl(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),yl(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a?.({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),yl(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),yl(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),yl(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),yl(r,"handleSlideDragStart",function(i){var o=Bte(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ybt(t,e),zbt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,u=Math.min(i,o),p=Math.max(i,o),m=t.getIndexInRange(a,u),v=t.getIndexInRange(a,p);return{startIndex:m-m%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Il(o[r],s,r);return Rn(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,u=l.travellerWidth,p=l.startIndex,m=l.endIndex,v=l.onChange,x=r.pageX-o;x>0?x=Math.min(x,c+d-u-s,c+d-u-a):x<0&&(x=Math.max(x,c-a,c-s));var w=this.getIndex({startX:a+x,endX:s+x});(w.startIndex!==p||w.endIndex!==m)&&v&&v(w),this.setState({startX:a+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=Bte(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],d=this.props,u=d.x,p=d.width,m=d.travellerWidth,v=d.onChange,x=d.gap,w=d.data,T={startX:this.state.startX,endX:this.state.endX},k=r.pageX-o;k>0?k=Math.min(k,u+p-m-c):k<0&&(k=Math.max(k,u-c)),T[a]=c+k;var O=this.getIndex(T),I=O.startIndex,N=O.endIndex,A=function(){var L=w.length-1;return a==="startX"&&(s>l?I%x===0:N%x===0)||s<l&&N===L||a==="endX"&&(s>l?N%x===0:I%x===0)||s>l&&N===L};this.setState(yl(yl({},a,c+k),"brushMoveStartX",r.pageX),function(){v&&A()&&v(O)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],u=s.indexOf(d);if(u!==-1){var p=u+r;if(!(p===-1||p>=s.length)){var m=s[p];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(yl({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return F.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,d=r.padding,u=C.Children.only(c);return u?F.cloneElement(u,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,d=l.travellerWidth,u=l.height,p=l.traveller,m=l.ariaLabel,v=l.data,x=l.startIndex,w=l.endIndex,T=Math.max(r,this.props.x),k=i6(i6({},Jn(this.props,!1)),{},{x:T,y:c,width:d,height:u}),O=m||"Min value: ".concat((o=v[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[w])===null||a===void 0?void 0:a.name);return F.createElement(Wi,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),s.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,k))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(r,i)+c,u=Math.max(Math.abs(i-r)-c,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:u,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,u=d.startX,p=d.endX,m=5,v={pointerEvents:"none",fill:c};return F.createElement(Wi,{className:"recharts-brush-texts"},F.createElement(sM,MM({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,p)-m,y:a+s/2},v),this.getTextOfTick(i)),F.createElement(sM,MM({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,p)+l+m,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,d=r.height,u=r.alwaysShowText,p=this.state,m=p.startX,v=p.endX,x=p.isTextActive,w=p.isSlideMoving,T=p.isTravellerMoving,k=p.isTravellerFocused;if(!i||!i.length||!ut(s)||!ut(l)||!ut(c)||!ut(d)||c<=0||d<=0)return null;var O=Xn("recharts-brush",o),I=F.Children.count(a)===1,N=Fbt("userSelect","none");return F.createElement(Wi,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(x||w||T||k||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return F.isValidElement(r)?o=F.cloneElement(r,i):Rn(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,u=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return i6({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?Kbt({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:u}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])})(C.PureComponent);yl(R1,"displayName","Brush");yl(R1,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var o6,$te;function Xbt(){if($te)return o6;$te=1;var e=dU();function t(n,r){var i;return e(n,function(o,a,s){return i=r(o,a,s),!i}),!!i}return o6=t,o6}var a6,Hte;function Zbt(){if(Hte)return a6;Hte=1;var e=A0e(),t=Tm(),n=Xbt(),r=Gs(),i=LR();function o(a,s,l){var c=r(a)?e:n;return l&&i(a,s,l)&&(s=void 0),c(a,t(s,3))}return a6=o,a6}var Qbt=Zbt();const Jbt=vr(Qbt);var kd=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},s6,Fte;function evt(){if(Fte)return s6;Fte=1;var e=W0e();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return s6=t,s6}var l6,Ute;function tvt(){if(Ute)return l6;Ute=1;var e=evt(),t=V0e(),n=Tm();function r(i,o){var a={};return o=n(o,3),t(i,function(s,l,c){e(a,l,o(s,l,c))}),a}return l6=r,l6}var nvt=tvt();const rvt=vr(nvt);var c6,zte;function ivt(){if(zte)return c6;zte=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return c6=e,c6}var u6,Vte;function ovt(){if(Vte)return u6;Vte=1;var e=dU();function t(n,r){var i=!0;return e(n,function(o,a,s){return i=!!r(o,a,s),i}),i}return u6=t,u6}var d6,qte;function avt(){if(qte)return d6;qte=1;var e=ivt(),t=ovt(),n=Tm(),r=Gs(),i=LR();function o(a,s,l){var c=r(a)?e:t;return l&&i(a,s,l)&&(s=void 0),c(a,n(s,3))}return d6=o,d6}var svt=avt();const xbe=vr(svt);var lvt=["x","y"];function oT(e){"@babel/helpers - typeof";return oT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oT(e)}function L$(){return L$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L$.apply(this,arguments)}function Wte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wte(Object(n),!0).forEach(function(r){cvt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cvt(e,t,n){return t=uvt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uvt(e){var t=dvt(e,"string");return oT(t)=="symbol"?t:t+""}function dvt(e,t){if(oT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fvt(e,t){if(e==null)return{};var n=hvt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hvt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pvt(e,t){var n=e.x,r=e.y,i=fvt(e,lvt),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),d=parseInt(c,10),u="".concat(t.width||i.width),p=parseInt(u,10);return XE(XE(XE(XE(XE({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function Yte(e){return F.createElement(kbt,L$({shapeType:"rectangle",propTransformer:pvt,activeClassName:"recharts-active-bar"},e))}var mvt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=ut(r)||Sst(r);return o?t(r,i):(o||G0(),n)}},gvt=["value","background"],wbe;function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function yvt(e,t){if(e==null)return{};var n=bvt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bvt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function RM(){return RM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RM.apply(this,arguments)}function Gte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gte(Object(n),!0).forEach(function(r){Fp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sbe(r.key),r)}}function xvt(e,t,n){return t&&Kte(e.prototype,t),n&&Kte(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wvt(e,t,n){return t=IM(t),Evt(e,Ebe()?Reflect.construct(t,n||[],IM(e).constructor):t.apply(e,n))}function Evt(e,t){if(t&&(I1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Svt(e)}function Svt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ebe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ebe=function(){return!!e})()}function IM(e){return IM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IM(e)}function Cvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j$(e,t)}function j$(e,t){return j$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j$(e,t)}function Fp(e,t,n){return t=Sbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sbe(e){var t=Tvt(e,"string");return I1(t)=="symbol"?t:t+""}function Tvt(e,t){if(I1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(I1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pk=(function(e){function t(){var n;vvt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wvt(this,t,[].concat(i)),Fp(n,"state",{isAnimationFinished:!1}),Fp(n,"id",sk("recharts-bar-")),Fp(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Fp(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Cvt(t,e),xvt(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,d=Jn(this.props,!1);return r&&r.map(function(u,p){var m=p===l,v=m?c:a,x=ro(ro(ro({},d),u),{},{isActive:m,option:v,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(Wi,RM({className:"recharts-bar-rectangle"},XN(i.props,u,p),{key:"rectangle-".concat(u?.x,"-").concat(u?.y,"-").concat(u?.value,"-").concat(p)}),F.createElement(Yte,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,u=i.animationId,p=this.state.prevData;return F.createElement(ih,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,x=o.map(function(w,T){var k=p&&p[T];if(k){var O=tu(k.x,w.x),I=tu(k.y,w.y),N=tu(k.width,w.width),A=tu(k.height,w.height);return ro(ro({},w),{},{x:O(v),y:I(v),width:N(v),height:A(v)})}if(a==="horizontal"){var R=tu(0,w.height),L=R(v);return ro(ro({},w),{},{y:w.y+w.height-L,height:L})}var B=tu(0,w.width),$=B(v);return ro(ro({},w),{},{width:$})});return F.createElement(Wi,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!qR(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Jn(this.props.background,!1);return o.map(function(c,d){c.value;var u=c.background,p=yvt(c,gvt);if(!u)return null;var m=ro(ro(ro(ro(ro({},p),{},{fill:"#eee"},u),l),XN(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return F.createElement(Yte,RM({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,u=yc(d,hk);if(!u)return null;var p=c==="vertical"?a[0].height/2:a[0].width/2,m=function(w,T){var k=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:k,errorVal:Il(w,T)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(Wi,v,u.map(function(x){return F.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,d=r.top,u=r.width,p=r.height,m=r.isAnimationActive,v=r.background,x=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,T=Xn("recharts-bar",a),k=s&&s.allowDataOverflow,O=l&&l.allowDataOverflow,I=k||O,N=qn(x)?this.id:x;return F.createElement(Wi,{className:T},k||O?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(N)},F.createElement("rect",{x:k?c:c-u/2,y:O?d:d-p/2,width:k?u:u*2,height:O?p:p*2}))):null,F.createElement(Wi,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,N),(!m||w)&&Kp.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(C.PureComponent);wbe=pk;Fp(pk,"displayName","Bar");Fp(pk,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xx.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fp(pk,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,p=e.offset,m=zmt(r,n);if(!m)return null;var v=t.layout,x=n.type.defaultProps,w=x!==void 0?ro(ro({},x),n.props):n.props,T=w.dataKey,k=w.children,O=w.minPointSize,I=v==="horizontal"?a:o,N=c?I.scale.domain():null,A=Zmt({numericAxis:I}),R=yc(k,J0e),L=u.map(function(B,$){var q,z,W,G,Z,V;c?q=Vmt(c[d+$],N):(q=Il(B,T),Array.isArray(q)||(q=[A,q]));var ne=mvt(O,wbe.defaultProps.minPointSize)(q[1],$);if(v==="horizontal"){var X,oe=[a.scale(q[0]),a.scale(q[1])],K=oe[0],Q=oe[1];z=Dee({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:B,index:$}),W=(X=Q??K)!==null&&X!==void 0?X:void 0,G=m.size;var te=K-Q;if(Z=Number.isNaN(te)?0:te,V={x:z,y:a.y,width:G,height:a.height},Math.abs(ne)>0&&Math.abs(Z)<Math.abs(ne)){var U=cu(Z||ne)*(Math.abs(ne)-Math.abs(Z));W-=U,Z+=U}}else{var fe=[o.scale(q[0]),o.scale(q[1])],me=fe[0],ke=fe[1];if(z=me,W=Dee({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:B,index:$}),G=ke-me,Z=m.size,V={x:o.x,y:W,width:o.width,height:Z},Math.abs(ne)>0&&Math.abs(G)<Math.abs(ne)){var Ee=cu(G||ne)*(Math.abs(ne)-Math.abs(G));G+=Ee}}return ro(ro(ro({},B),{},{x:z,y:W,width:G,height:Z,value:c?q:q[1],payload:B,background:V},R&&R[$]&&R[$].props),{},{tooltipPayload:[obe(n,B)],tooltipPosition:{x:z+G/2,y:W+Z/2}})});return ro({data:L,layout:v},p)});function aT(e){"@babel/helpers - typeof";return aT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aT(e)}function kvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cbe(r.key),r)}}function _vt(e,t,n){return t&&Xte(e.prototype,t),n&&Xte(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zte(Object(n),!0).forEach(function(r){XR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zte(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XR(e,t,n){return t=Cbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cbe(e){var t=Avt(e,"string");return aT(t)=="symbol"?t:t+""}function Avt(e,t){if(aT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(aT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ovt=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,d=Object.keys(n),u={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!vl(c,pk);return d.reduce(function(m,v){var x=n[v],w=x.orientation,T=x.domain,k=x.padding,O=k===void 0?{}:k,I=x.mirror,N=x.reversed,A="".concat(w).concat(I?"Mirror":""),R,L,B,$,q;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var z=T[1]-T[0],W=1/0,G=x.categoricalDomain.sort(kst);if(G.forEach(function(fe,me){me>0&&(W=Math.min((fe||0)-(G[me-1]||0),W))}),Number.isFinite(W)){var Z=W/z,V=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(R=Z*V/2),x.padding==="no-gap"){var ne=W0(t.barCategoryGap,Z*V),X=Z*V/2;R=X-ne-(X-ne)/V*ne}}}i==="xAxis"?L=[r.left+(O.left||0)+(R||0),r.left+r.width-(O.right||0)-(R||0)]:i==="yAxis"?L=l==="horizontal"?[r.top+r.height-(O.bottom||0),r.top+(O.top||0)]:[r.top+(O.top||0)+(R||0),r.top+r.height-(O.bottom||0)-(R||0)]:L=x.range,N&&(L=[L[1],L[0]]);var oe=Fmt(x,o,p),K=oe.scale,Q=oe.realScaleType;K.domain(T).range(L),Umt(K);var te=Xmt(K,Qc(Qc({},x),{},{realScaleType:Q}));i==="xAxis"?(q=w==="top"&&!I||w==="bottom"&&I,B=r.left,$=u[A]-q*x.height):i==="yAxis"&&(q=w==="left"&&!I||w==="right"&&I,B=u[A]-q*x.width,$=r.top);var U=Qc(Qc(Qc({},x),te),{},{realScaleType:Q,x:B,y:$,scale:K,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return U.bandSize=wM(U,te),!x.hide&&i==="xAxis"?u[A]+=(q?-1:1)*U.height:x.hide||(u[A]+=(q?-1:1)*U.width),Qc(Qc({},m),{},XR({},v,U))},{})},Tbe=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Nvt=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return Tbe({x:n,y:r},{x:i,y:o})},kbe=(function(){function e(t){kvt(this,e),this.scale=t}return _vt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])})();XR(kbe,"EPS",1e-4);var FU=function(t){var n=Object.keys(t).reduce(function(r,i){return Qc(Qc({},r),{},XR({},i,kbe.create(t[i])))},{});return Qc(Qc({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return rvt(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return xbe(i,function(o,a){return n[a].isInRange(o)})}})};function Mvt(e){return(e%180+180)%180}var Dvt=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Mvt(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},f6,Qte;function Rvt(){if(Qte)return f6;Qte=1;var e=Tm(),t=lk(),n=IR();function r(i){return function(o,a,s){var l=Object(o);if(!t(o)){var c=e(a,3);o=n(o),a=function(u){return c(l[u],u,l)}}var d=i(o,a,s);return d>-1?l[c?o[d]:d]:void 0}}return f6=r,f6}var h6,Jte;function Ivt(){if(Jte)return h6;Jte=1;var e=gbe();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return h6=t,h6}var p6,ene;function Pvt(){if(ene)return p6;ene=1;var e=$0e(),t=Tm(),n=Ivt(),r=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=r(l+c,0)),e(o,t(a,3),c)}return p6=i,p6}var m6,tne;function Lvt(){if(tne)return m6;tne=1;var e=Rvt(),t=Pvt(),n=e(t);return m6=n,m6}var jvt=Lvt();const Bvt=vr(jvt);var $vt=t0e();const Hvt=vr($vt);var Fvt=Hvt(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),UU=C.createContext(void 0),zU=C.createContext(void 0),_be=C.createContext(void 0),Abe=C.createContext({}),Obe=C.createContext(void 0),Nbe=C.createContext(0),Mbe=C.createContext(0),nne=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=t.clipPathId,s=t.children,l=t.width,c=t.height,d=Fvt(o);return F.createElement(UU.Provider,{value:r},F.createElement(zU.Provider,{value:i},F.createElement(Abe.Provider,{value:o},F.createElement(_be.Provider,{value:d},F.createElement(Obe.Provider,{value:a},F.createElement(Nbe.Provider,{value:c},F.createElement(Mbe.Provider,{value:l},s)))))))},Uvt=function(){return C.useContext(Obe)},Dbe=function(t){var n=C.useContext(UU);n==null&&G0();var r=n[t];return r==null&&G0(),r},zvt=function(){var t=C.useContext(UU);return Rp(t)},Vvt=function(){var t=C.useContext(zU),n=Bvt(t,function(r){return xbe(r.domain,Number.isFinite)});return n||Rp(t)},Rbe=function(t){var n=C.useContext(zU);n==null&&G0();var r=n[t];return r==null&&G0(),r},qvt=function(){var t=C.useContext(_be);return t},Wvt=function(){return C.useContext(Abe)},VU=function(){return C.useContext(Mbe)},qU=function(){return C.useContext(Nbe)};function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function Yvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gvt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pbe(r.key),r)}}function Kvt(e,t,n){return t&&Gvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xvt(e,t,n){return t=PM(t),Zvt(e,Ibe()?Reflect.construct(t,n||[],PM(e).constructor):t.apply(e,n))}function Zvt(e,t){if(t&&(P1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qvt(e)}function Qvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ibe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ibe=function(){return!!e})()}function PM(e){return PM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PM(e)}function Jvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B$(e,t)}function B$(e,t){return B$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B$(e,t)}function rne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ine(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rne(Object(n),!0).forEach(function(r){WU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WU(e,t,n){return t=Pbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pbe(e){var t=e1t(e,"string");return P1(t)=="symbol"?t:t+""}function e1t(e,t){if(P1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(P1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function t1t(e,t){return o1t(e)||i1t(e,t)||r1t(e,t)||n1t()}function n1t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r1t(e,t){if(e){if(typeof e=="string")return one(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return one(e,t)}}function one(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i1t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function o1t(e){if(Array.isArray(e))return e}function $$(){return $$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$$.apply(this,arguments)}var a1t=function(t,n){var r;return F.isValidElement(t)?r=F.cloneElement(t,n):Rn(t)?r=t(n):r=F.createElement("line",$$({},n,{className:"recharts-reference-line-line"})),r},s1t=function(t,n,r,i,o,a,s,l,c){var d=o.x,u=o.y,p=o.width,m=o.height;if(r){var v=c.y,x=t.y.apply(v,{position:a});if(kd(c,"discard")&&!t.y.isInRange(x))return null;var w=[{x:d+p,y:x},{x:d,y:x}];return l==="left"?w.reverse():w}if(n){var T=c.x,k=t.x.apply(T,{position:a});if(kd(c,"discard")&&!t.x.isInRange(k))return null;var O=[{x:k,y:u+m},{x:k,y:u}];return s==="top"?O.reverse():O}if(i){var I=c.segment,N=I.map(function(A){return t.apply(A,{position:a})});return kd(c,"discard")&&Jbt(N,function(A){return!t.isInRange(A)})?null:N}return null};function l1t(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,c=Uvt(),d=Dbe(i),u=Rbe(o),p=qvt();if(!c||!p)return null;Vf(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=FU({x:d.scale,y:u.scale}),v=To(t),x=To(n),w=r&&r.length===2,T=s1t(m,v,x,w,p,e.position,d.orientation,u.orientation,e);if(!T)return null;var k=t1t(T,2),O=k[0],I=O.x,N=O.y,A=k[1],R=A.x,L=A.y,B=kd(e,"hidden")?"url(#".concat(c,")"):void 0,$=ine(ine({clipPath:B},Jn(e,!0)),{},{x1:I,y1:N,x2:R,y2:L});return F.createElement(Wi,{className:Xn("recharts-reference-line",s)},a1t(a,$),xa.renderCallByParent(e,Nvt({x1:I,y1:N,x2:R,y2:L})))}var YU=(function(e){function t(){return Yvt(this,t),Xvt(this,t,arguments)}return Jvt(t,e),Kvt(t,[{key:"render",value:function(){return F.createElement(l1t,this.props)}}])})(F.Component);WU(YU,"displayName","ReferenceLine");WU(YU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function H$(){return H$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H$.apply(this,arguments)}function L1(e){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(e)}function ane(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ane(Object(n),!0).forEach(function(r){ZR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ane(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u1t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jbe(r.key),r)}}function d1t(e,t,n){return t&&u1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f1t(e,t,n){return t=LM(t),h1t(e,Lbe()?Reflect.construct(t,n||[],LM(e).constructor):t.apply(e,n))}function h1t(e,t){if(t&&(L1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1t(e)}function p1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lbe=function(){return!!e})()}function LM(e){return LM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LM(e)}function m1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F$(e,t)}function F$(e,t){return F$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F$(e,t)}function ZR(e,t,n){return t=jbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jbe(e){var t=g1t(e,"string");return L1(t)=="symbol"?t:t+""}function g1t(e,t){if(L1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(L1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var y1t=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,a=FU({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return kd(t,"discard")&&!a.isInRange(s)?null:s},QR=(function(e){function t(){return c1t(this,t),f1t(this,t,arguments)}return m1t(t,e),d1t(t,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=To(i),d=To(o);if(Vf(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var u=y1t(this.props);if(!u)return null;var p=u.x,m=u.y,v=this.props,x=v.shape,w=v.className,T=kd(this.props,"hidden")?"url(#".concat(l,")"):void 0,k=sne(sne({clipPath:T},Jn(this.props,!0)),{},{cx:p,cy:m});return F.createElement(Wi,{className:Xn("recharts-reference-dot",w)},t.renderDot(x,k),xa.renderCallByParent(this.props,{x:p-a,y:m-a,width:2*a,height:2*a}))}}])})(F.Component);ZR(QR,"displayName","ReferenceDot");ZR(QR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ZR(QR,"renderDot",function(e,t){var n;return F.isValidElement(e)?n=F.cloneElement(e,t):Rn(e)?n=e(t):n=F.createElement(HU,H$({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function U$(){return U$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U$.apply(this,arguments)}function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function lne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lne(Object(n),!0).forEach(function(r){JR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v1t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$be(r.key),r)}}function x1t(e,t,n){return t&&v1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w1t(e,t,n){return t=jM(t),E1t(e,Bbe()?Reflect.construct(t,n||[],jM(e).constructor):t.apply(e,n))}function E1t(e,t){if(t&&(j1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S1t(e)}function S1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bbe=function(){return!!e})()}function jM(e){return jM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jM(e)}function C1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z$(e,t)}function z$(e,t){return z$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z$(e,t)}function JR(e,t,n){return t=$be(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $be(e){var t=T1t(e,"string");return j1(t)=="symbol"?t:t+""}function T1t(e,t){if(j1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(j1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var k1t=function(t,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,d=o.xAxis,u=o.yAxis;if(!d||!u)return null;var p=FU({x:d.scale,y:u.scale}),m={x:t?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return kd(o,"discard")&&(!p.isInRange(m)||!p.isInRange(v))?null:Tbe(m,v)},e3=(function(e){function t(){return b1t(this,t),w1t(this,t,arguments)}return C1t(t,e),x1t(t,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;Vf(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=To(i),p=To(o),m=To(a),v=To(s),x=this.props.shape;if(!u&&!p&&!m&&!v&&!x)return null;var w=k1t(u,p,m,v,this.props);if(!w&&!x)return null;var T=kd(this.props,"hidden")?"url(#".concat(d,")"):void 0;return F.createElement(Wi,{className:Xn("recharts-reference-area",l)},t.renderRect(x,cne(cne({clipPath:T},Jn(this.props,!0)),w)),xa.renderCallByParent(this.props,w))}}])})(F.Component);JR(e3,"displayName","ReferenceArea");JR(e3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});JR(e3,"renderRect",function(e,t){var n;return F.isValidElement(e)?n=F.cloneElement(e,t):Rn(e)?n=e(t):n=F.createElement($U,U$({},t,{className:"recharts-reference-area-rect"})),n});function Hbe(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function _1t(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Dvt(r,n)}function A1t(e,t,n){var r=n==="width",i=e.x,o=e.y,a=e.width,s=e.height;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function BM(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function O1t(e,t){return Hbe(e,t+1)}function N1t(e,t,n,r,i){for(var o=(r||[]).slice(),a=t.start,s=t.end,l=0,c=1,d=a,u=function(){var v=r?.[l];if(v===void 0)return{v:Hbe(r,c)};var x=l,w,T=function(){return w===void 0&&(w=n(v,x)),w},k=v.coordinate,O=l===0||BM(e,k,T,d,s);O||(l=0,d=a,c+=1),O&&(d=k+e*(T()/2+i),l+=c)},p;c<=o.length;)if(p=u(),p)return p.v;return[]}function sT(e){"@babel/helpers - typeof";return sT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sT(e)}function une(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?une(Object(n),!0).forEach(function(r){M1t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):une(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M1t(e,t,n){return t=D1t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D1t(e){var t=R1t(e,"string");return sT(t)=="symbol"?t:t+""}function R1t(e,t){if(sT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I1t(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(p){var m=o[p],v,x=function(){return v===void 0&&(v=n(m,p)),v};if(p===a-1){var w=e*(m.coordinate+e*x()/2-l);o[p]=m=ba(ba({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else o[p]=m=ba(ba({},m),{},{tickCoord:m.coordinate});var T=BM(e,m.tickCoord,x,s,l);T&&(l=m.tickCoord-e*(x()/2+i),o[p]=ba(ba({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return o}function P1t(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var d=r[s-1],u=n(d,s-1),p=e*(d.coordinate+e*u/2-c);a[s-1]=d=ba(ba({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var m=BM(e,d.tickCoord,function(){return u},l,c);m&&(c=d.tickCoord-e*(u/2+i),a[s-1]=ba(ba({},d),{},{isShow:!0}))}for(var v=o?s-1:s,x=function(k){var O=a[k],I,N=function(){return I===void 0&&(I=n(O,k)),I};if(k===0){var A=e*(O.coordinate-e*N()/2-l);a[k]=O=ba(ba({},O),{},{tickCoord:A<0?O.coordinate-A*e:O.coordinate})}else a[k]=O=ba(ba({},O),{},{tickCoord:O.coordinate});var R=BM(e,O.tickCoord,N,l,c);R&&(l=O.tickCoord+e*(N()/2+i),a[k]=ba(ba({},O),{},{isShow:!0}))},w=0;w<v;w++)x(w);return a}function GU(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!i||!i.length||!r)return[];if(ut(l)||xx.isSsr)return O1t(i,typeof l=="number"&&ut(l)?l:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",v=d&&m==="width"?jS(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=function(O,I){var N=Rn(c)?c(O.value,I):O.value;return m==="width"?_1t(jS(N,{fontSize:t,letterSpacing:n}),v,u):jS(N,{fontSize:t,letterSpacing:n})[m]},w=i.length>=2?cu(i[1].coordinate-i[0].coordinate):1,T=A1t(o,w,m);return l==="equidistantPreserveStart"?N1t(w,T,x,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=P1t(w,T,x,i,a,l==="preserveStartEnd"):p=I1t(w,T,x,i,a),p.filter(function(k){return k.isShow}))}var L1t=["viewBox"],j1t=["viewBox"],B1t=["ticks"];function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ov.apply(this,arguments)}function dne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dne(Object(n),!0).forEach(function(r){KU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g6(e,t){if(e==null)return{};var n=$1t(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $1t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function H1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ube(r.key),r)}}function F1t(e,t,n){return t&&fne(e.prototype,t),n&&fne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function U1t(e,t,n){return t=$M(t),z1t(e,Fbe()?Reflect.construct(t,n||[],$M(e).constructor):t.apply(e,n))}function z1t(e,t){if(t&&(B1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V1t(e)}function V1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fbe=function(){return!!e})()}function $M(e){return $M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$M(e)}function q1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V$(e,t)}function V$(e,t){return V$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V$(e,t)}function KU(e,t,n){return t=Ube(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ube(e){var t=W1t(e,"string");return B1(t)=="symbol"?t:t+""}function W1t(e,t){if(B1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(B1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cx=(function(e){function t(n){var r;return H1t(this,t),r=U1t(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return q1t(t,e),F1t(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=g6(r,L1t),s=this.props,l=s.viewBox,c=g6(s,j1t);return!Yv(o,l)||!Yv(a,c)||!Yv(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,u=i.mirror,p=i.tickMargin,m,v,x,w,T,k,O=u?-1:1,I=r.tickSize||d,N=ut(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=v=r.coordinate,w=a+ +!u*l,x=w-O*I,k=x-O*p,T=N;break;case"left":x=w=r.coordinate,v=o+ +!u*s,m=v-O*I,T=m-O*p,k=N;break;case"right":x=w=r.coordinate,v=o+ +u*s,m=v+O*I,T=m+O*p,k=N;break;default:m=v=r.coordinate,w=a+ +u*l,x=w+O*I,k=x+O*p,T=N;break}return{line:{x1:m,y1:x,x2:v,y2:w},tick:{x:T,y:k}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,u=wo(wo(wo({},Jn(this.props,!1)),Jn(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);u=wo(wo({},u),{},{x1:i,y1:o+p*s,x2:i+a,y2:o+p*s})}else{var m=+(l==="left"&&!c||l==="right"&&c);u=wo(wo({},u),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return F.createElement("line",Ov({},u,{className:Xn("recharts-cartesian-axis-line",gc(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,u=s.tickFormatter,p=s.unit,m=GU(wo(wo({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),w=Jn(this.props,!1),T=Jn(d,!1),k=wo(wo({},w),{},{fill:"none"},Jn(l,!1)),O=m.map(function(I,N){var A=a.getTickLineCoord(I),R=A.line,L=A.tick,B=wo(wo(wo(wo({textAnchor:v,verticalAnchor:x},w),{},{stroke:"none",fill:c},T),L),{},{index:N,payload:I,visibleTicksCount:m.length,tickFormatter:u});return F.createElement(Wi,Ov({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},XN(a.props,I,N)),l&&F.createElement("line",Ov({},k,R,{className:Xn("recharts-cartesian-axis-tick-line",gc(l,"className"))})),d&&t.renderTickItem(d,B,"".concat(Rn(u)?u(I.value,N):I.value).concat(p||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var u=this.props,p=u.ticks,m=g6(u,B1t),v=p;return Rn(l)&&(v=p&&p.length>0?l(this.props):l(m)),a<=0||s<=0||!v||!v.length?null:F.createElement(Wi,{className:Xn("recharts-cartesian-axis",c),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),xa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Xn(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(r)?a=F.cloneElement(r,wo(wo({},i),{},{className:s})):Rn(r)?a=r(wo(wo({},i),{},{className:s})):a=F.createElement(sM,Ov({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])})(C.Component);KU(Cx,"displayName","CartesianAxis");KU(Cx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Y1t=["x1","y1","x2","y2","key"],G1t=["offset"];function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function hne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hne(Object(n),!0).forEach(function(r){K1t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K1t(e,t,n){return t=X1t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X1t(e){var t=Z1t(e,"string");return K0(t)=="symbol"?t:t+""}function Z1t(e,t){if(K0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(K0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s0.apply(this,arguments)}function pne(e,t){if(e==null)return{};var n=Q1t(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Q1t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var J1t=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.ry;return F.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zbe(e,t){var n;if(F.isValidElement(e))n=F.cloneElement(e,t);else if(Rn(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=pne(t,Y1t),c=Jn(l,!1);c.offset;var d=pne(c,G1t);n=F.createElement("line",s0({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function ext(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=wa(wa({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return zbe(i,c)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function txt(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=wa(wa({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return zbe(i,c)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function nxt(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var d=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==d[0]&&d.unshift(0);var u=d.map(function(p,m){var v=!d[m+1],x=v?i+a-p:d[m+1]-p;if(x<=0)return null;var w=m%t.length;return F.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:x,width:o,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function rxt(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(p){return Math.round(p+o-o)}).sort(function(p,m){return p-m});o!==d[0]&&d.unshift(0);var u=d.map(function(p,m){var v=!d[m+1],x=v?o+s-p:d[m+1]-p;if(x<=0)return null;var w=m%r.length;return F.createElement("rect",{key:"react-".concat(m),x:p,y:a,width:x,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var ixt=function(t,n){var r=t.xAxis,i=t.width,o=t.height,a=t.offset;return rbe(GU(wa(wa(wa({},Cx.defaultProps),r),{},{ticks:If(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},oxt=function(t,n){var r=t.yAxis,i=t.width,o=t.height,a=t.offset;return rbe(GU(wa(wa(wa({},Cx.defaultProps),r),{},{ticks:If(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},lv={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Vbe(e){var t,n,r,i,o,a,s=VU(),l=qU(),c=Wvt(),d=wa(wa({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:lv.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:lv.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:lv.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:lv.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:lv.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:lv.verticalFill,x:ut(e.x)?e.x:c.left,y:ut(e.y)?e.y:c.top,width:ut(e.width)?e.width:c.width,height:ut(e.height)?e.height:c.height}),u=d.x,p=d.y,m=d.width,v=d.height,x=d.syncWithTicks,w=d.horizontalValues,T=d.verticalValues,k=zvt(),O=Vvt();if(!ut(m)||m<=0||!ut(v)||v<=0||!ut(u)||u!==+u||!ut(p)||p!==+p)return null;var I=d.verticalCoordinatesGenerator||ixt,N=d.horizontalCoordinatesGenerator||oxt,A=d.horizontalPoints,R=d.verticalPoints;if((!A||!A.length)&&Rn(N)){var L=w&&w.length,B=N({yAxis:O?wa(wa({},O),{},{ticks:L?w:O.ticks}):void 0,width:s,height:l,offset:c},L?!0:x);Vf(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(K0(B),"]")),Array.isArray(B)&&(A=B)}if((!R||!R.length)&&Rn(I)){var $=T&&T.length,q=I({xAxis:k?wa(wa({},k),{},{ticks:$?T:k.ticks}):void 0,width:s,height:l,offset:c},$?!0:x);Vf(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(K0(q),"]")),Array.isArray(q)&&(R=q)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(J1t,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),F.createElement(ext,s0({},d,{offset:c,horizontalPoints:A,xAxis:k,yAxis:O})),F.createElement(txt,s0({},d,{offset:c,verticalPoints:R,xAxis:k,yAxis:O})),F.createElement(nxt,s0({},d,{horizontalPoints:A})),F.createElement(rxt,s0({},d,{verticalPoints:R})))}Vbe.displayName="CartesianGrid";var axt=["type","layout","connectNulls","ref"],sxt=["key"];function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function mne(e,t){if(e==null)return{};var n=lxt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lxt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function FS(){return FS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FS.apply(this,arguments)}function gne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gne(Object(n),!0).forEach(function(r){Jc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cv(e){return fxt(e)||dxt(e)||uxt(e)||cxt()}function cxt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uxt(e,t){if(e){if(typeof e=="string")return q$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q$(e,t)}}function dxt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fxt(e){if(Array.isArray(e))return q$(e)}function q$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wbe(r.key),r)}}function pxt(e,t,n){return t&&yne(e.prototype,t),n&&yne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mxt(e,t,n){return t=HM(t),gxt(e,qbe()?Reflect.construct(t,n||[],HM(e).constructor):t.apply(e,n))}function gxt(e,t){if(t&&($1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yxt(e)}function yxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qbe=function(){return!!e})()}function HM(e){return HM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HM(e)}function bxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W$(e,t)}function W$(e,t){return W$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W$(e,t)}function Jc(e,t,n){return t=Wbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wbe(e){var t=vxt(e,"string");return $1(t)=="symbol"?t:t+""}function vxt(e,t){if($1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mk=(function(e){function t(){var n;hxt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mxt(this,t,[].concat(i)),Jc(n,"state",{isAnimationFinished:!0,totalLength:0}),Jc(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Jc(n,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(T,k){return T+k});if(!c)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/c),u=a%c,p=s-a,m=[],v=0,x=0;v<l.length;x+=l[v],++v)if(x+l[v]>u){m=[].concat(cv(l.slice(0,v)),[u-x]);break}var w=m.length%2===0?[0,p]:[p];return[].concat(cv(t.repeat(l,d)),cv(m),w).map(function(T){return"".concat(T,"px")}).join(", ")}),Jc(n,"id",sk("recharts-line-")),Jc(n,"pathRef",function(a){n.mainCurve=a}),Jc(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Jc(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return bxt(t,e),pxt(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,u=yc(d,hk);if(!u)return null;var p=function(x,w){return{x:x.x,y:x.y,value:x.value,errorVal:Il(x.payload,w)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(Wi,m,u.map(function(v){return F.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,u=Jn(this.props,!1),p=Jn(l,!0),m=c.map(function(x,w){var T=pl(pl(pl({key:"dot-".concat(w),r:3},u),p),{},{index:w,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:c});return t.renderDotItem(l,T)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return F.createElement(Wi,FS({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var u=mne(s,axt),p=pl(pl(pl({},Jn(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:d});return F.createElement(S$,FS({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,d=a.animationBegin,u=a.animationDuration,p=a.animationEasing,m=a.animationId,v=a.animateNewValues,x=a.width,w=a.height,T=this.state,k=T.prevPoints,O=T.totalLength;return F.createElement(ih,{begin:d,duration:u,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var N=I.t;if(k){var A=k.length/s.length,R=s.map(function(z,W){var G=Math.floor(W*A);if(k[G]){var Z=k[G],V=tu(Z.x,z.x),ne=tu(Z.y,z.y);return pl(pl({},z),{},{x:V(N),y:ne(N)})}if(v){var X=tu(x*2,z.x),oe=tu(w/2,z.y);return pl(pl({},z),{},{x:X(N),y:oe(N)})}return pl(pl({},z),{},{x:z.x,y:z.y})});return o.renderCurveStatically(R,r,i)}var L=tu(0,O),B=L(N),$;if(l){var q="".concat(l).split(/[,\s]+/gim).map(function(z){return parseFloat(z)});$=o.getStrokeDasharray(B,O,q)}else $=o.generateSimpleStrokeDasharray(O,B);return o.renderCurveStatically(s,r,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!c&&d>0||!qR(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,d=i.yAxis,u=i.top,p=i.left,m=i.width,v=i.height,x=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var T=this.state.isAnimationFinished,k=s.length===1,O=Xn("recharts-line",l),I=c&&c.allowDataOverflow,N=d&&d.allowDataOverflow,A=I||N,R=qn(w)?this.id:w,L=(r=Jn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},B=L.r,$=B===void 0?3:B,q=L.strokeWidth,z=q===void 0?2:q,W=Pst(a)?a:{},G=W.clipDot,Z=G===void 0?!0:G,V=$*2+z;return F.createElement(Wi,{className:O},I||N?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(R)},F.createElement("rect",{x:I?p:p-m/2,y:N?u:u-v/2,width:I?m:m*2,height:N?v:v*2})),!Z&&F.createElement("clipPath",{id:"clipPath-dots-".concat(R)},F.createElement("rect",{x:p-V/2,y:u-V/2,width:m+V,height:v+V}))):null,!k&&this.renderCurve(A,R),this.renderErrorBar(A,R),(k||a)&&this.renderDots(A,Z,R),(!x||T)&&Kp.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(cv(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(cv(a),cv(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(F.isValidElement(r))o=F.cloneElement(r,i);else if(Rn(r))o=r(i);else{var a=i.key,s=mne(i,sxt),l=Xn("recharts-line-dot",typeof r!="boolean"?r.className:"");o=F.createElement(HU,FS({key:a},s,{className:l}))}return o}}])})(C.PureComponent);Jc(mk,"displayName","Line");Jc(mk,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!xx.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Jc(mk,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,u=l.map(function(p,m){var v=Il(p,a);return d==="horizontal"?{x:Mee({axis:n,ticks:i,bandSize:s,entry:p,index:m}),y:qn(v)?null:r.scale(v),value:v,payload:p}:{x:qn(v)?null:n.scale(v),y:Mee({axis:r,ticks:o,bandSize:s,entry:p,index:m}),value:v,payload:p}});return pl({points:u,layout:d},c)});function H1(e){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(e)}function xxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wxt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kbe(r.key),r)}}function Ext(e,t,n){return t&&wxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sxt(e,t,n){return t=FM(t),Cxt(e,Ybe()?Reflect.construct(t,n||[],FM(e).constructor):t.apply(e,n))}function Cxt(e,t){if(t&&(H1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Txt(e)}function Txt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ybe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ybe=function(){return!!e})()}function FM(e){return FM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FM(e)}function kxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y$(e,t)}function Y$(e,t){return Y$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y$(e,t)}function Gbe(e,t,n){return t=Kbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kbe(e){var t=_xt(e,"string");return H1(t)=="symbol"?t:t+""}function _xt(e,t){if(H1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(H1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function G$(){return G$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G$.apply(this,arguments)}function Axt(e){var t=e.xAxisId,n=VU(),r=qU(),i=Dbe(t);return i==null?null:C.createElement(Cx,G$({},i,{className:Xn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return If(a,!0)}}))}var t3=(function(e){function t(){return xxt(this,t),Sxt(this,t,arguments)}return kxt(t,e),Ext(t,[{key:"render",value:function(){return C.createElement(Axt,this.props)}}])})(C.Component);Gbe(t3,"displayName","XAxis");Gbe(t3,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function F1(e){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}function Oxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nxt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qbe(r.key),r)}}function Mxt(e,t,n){return t&&Nxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dxt(e,t,n){return t=UM(t),Rxt(e,Xbe()?Reflect.construct(t,n||[],UM(e).constructor):t.apply(e,n))}function Rxt(e,t){if(t&&(F1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ixt(e)}function Ixt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xbe=function(){return!!e})()}function UM(e){return UM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},UM(e)}function Pxt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K$(e,t)}function K$(e,t){return K$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K$(e,t)}function Zbe(e,t,n){return t=Qbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qbe(e){var t=Lxt(e,"string");return F1(t)=="symbol"?t:t+""}function Lxt(e,t){if(F1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(F1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function X$(){return X$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X$.apply(this,arguments)}var jxt=function(t){var n=t.yAxisId,r=VU(),i=qU(),o=Rbe(n);return o==null?null:C.createElement(Cx,X$({},o,{className:Xn("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return If(s,!0)}}))},n3=(function(e){function t(){return Oxt(this,t),Dxt(this,t,arguments)}return Pxt(t,e),Mxt(t,[{key:"render",value:function(){return C.createElement(jxt,this.props)}}])})(C.Component);Zbe(n3,"displayName","YAxis");Zbe(n3,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function bne(e){return Fxt(e)||Hxt(e)||$xt(e)||Bxt()}function Bxt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $xt(e,t){if(e){if(typeof e=="string")return Z$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z$(e,t)}}function Hxt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fxt(e){if(Array.isArray(e))return Z$(e)}function Z$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q$=function(t,n,r,i,o){var a=yc(t,YU),s=yc(t,QR),l=[].concat(bne(a),bne(s)),c=yc(t,e3),d="".concat(i,"Id"),u=i[0],p=n;if(l.length&&(p=l.reduce(function(x,w){if(w.props[d]===r&&kd(w.props,"extendDomain")&&ut(w.props[u])){var T=w.props[u];return[Math.min(x[0],T),Math.max(x[1],T)]}return x},p)),c.length){var m="".concat(u,"1"),v="".concat(u,"2");p=c.reduce(function(x,w){if(w.props[d]===r&&kd(w.props,"extendDomain")&&ut(w.props[m])&&ut(w.props[v])){var T=w.props[m],k=w.props[v];return[Math.min(x[0],T,k),Math.max(x[1],T,k)]}return x},p)}return o&&o.length&&(p=o.reduce(function(x,w){return ut(w)?[Math.min(x[0],w),Math.max(x[1],w)]:x},p)),p},y6={exports:{}},vne;function Uxt(){return vne||(vne=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var p=0,m=u.length,v=new Array(m);p<m;p++)v[p]=u[p].fn;return v},s.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},s.prototype.emit=function(c,d,u,p,m,v){var x=n?n+c:c;if(!this._events[x])return!1;var w=this._events[x],T=arguments.length,k,O;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),T){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,u),!0;case 4:return w.fn.call(w.context,d,u,p),!0;case 5:return w.fn.call(w.context,d,u,p,m),!0;case 6:return w.fn.call(w.context,d,u,p,m,v),!0}for(O=1,k=new Array(T-1);O<T;O++)k[O-1]=arguments[O];w.fn.apply(w.context,k)}else{var I=w.length,N;for(O=0;O<I;O++)switch(w[O].once&&this.removeListener(c,w[O].fn,void 0,!0),T){case 1:w[O].fn.call(w[O].context);break;case 2:w[O].fn.call(w[O].context,d);break;case 3:w[O].fn.call(w[O].context,d,u);break;case 4:w[O].fn.call(w[O].context,d,u,p);break;default:if(!k)for(N=1,k=new Array(T-1);N<T;N++)k[N-1]=arguments[N];w[O].fn.apply(w[O].context,k)}}return!0},s.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},s.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},s.prototype.removeListener=function(c,d,u,p){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!p||v.once)&&(!u||v.context===u)&&a(this,m);else{for(var x=0,w=[],T=v.length;x<T;x++)(v[x].fn!==d||p&&!v[x].once||u&&v[x].context!==u)&&w.push(v[x]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(y6)),y6.exports}var zxt=Uxt();const Vxt=vr(zxt);var b6=new Vxt,v6="recharts.syncMouseEvents";function lT(e){"@babel/helpers - typeof";return lT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lT(e)}function qxt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wxt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jbe(r.key),r)}}function Yxt(e,t,n){return t&&Wxt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x6(e,t,n){return t=Jbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jbe(e){var t=Gxt(e,"string");return lT(t)=="symbol"?t:t+""}function Gxt(e,t){if(lT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kxt=(function(){function e(){qxt(this,e),x6(this,"activeIndex",0),x6(this,"coordinateList",[]),x6(this,"layout","horizontal")}return Yxt(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,d=n.offset,u=d===void 0?null:d,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,u=o+l+c,p=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:u,pageY:p})}}}])})();function Xxt(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],i=e?.[1];if(r&&i&&ut(r)&&ut(i))return!0}return!1}function Zxt(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function eve(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,a=ta(t,n,r,i),s=ta(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Qxt(e,t,n){var r,i,o,a;if(e==="horizontal")r=t.x,o=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,p=ta(s,l,c,u),m=ta(s,l,d,u);r=p.x,i=p.y,o=m.x,a=m.y}else return eve(t);return[{x:r,y:i},{x:o,y:a}]}function cT(e){"@babel/helpers - typeof";return cT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cT(e)}function xne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xne(Object(n),!0).forEach(function(r){Jxt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jxt(e,t,n){return t=ewt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ewt(e){var t=twt(e,"string");return cT(t)=="symbol"?t:t+""}function twt(e,t){if(cT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nwt(e){var t,n,r=e.element,i=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,u=e.layout,p=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||p!=="ScatterChart"&&i!=="axis")return null;var v,x=S$;if(p==="ScatterChart")v=a,x=Jyt;else if(p==="BarChart")v=Zxt(u,a,l,d),x=$U;else if(u==="radial"){var w=eve(a),T=w.cx,k=w.cy,O=w.radius,I=w.startAngle,N=w.endAngle;v={cx:T,cy:k,startAngle:I,endAngle:N,innerRadius:O,outerRadius:O},x=lbe}else v={points:Qxt(u,a,l)},x=S$;var A=IA(IA(IA(IA({stroke:"#ccc",pointerEvents:"none"},l),v),Jn(m,!1)),{},{payload:s,payloadIndex:c,className:Xn("recharts-tooltip-cursor",m.className)});return C.isValidElement(m)?C.cloneElement(m,A):C.createElement(x,A)}var rwt=["item"],iwt=["children","className","width","height","style","compact","title","desc"];function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(this,arguments)}function wne(e,t){return swt(e)||awt(e,t)||nve(e,t)||owt()}function owt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function awt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function swt(e){if(Array.isArray(e))return e}function Ene(e,t){if(e==null)return{};var n=lwt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lwt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function cwt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uwt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rve(r.key),r)}}function dwt(e,t,n){return t&&uwt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fwt(e,t,n){return t=zM(t),hwt(e,tve()?Reflect.construct(t,n||[],zM(e).constructor):t.apply(e,n))}function hwt(e,t){if(t&&(U1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pwt(e)}function pwt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tve=function(){return!!e})()}function zM(e){return zM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zM(e)}function mwt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J$(e,t)}function J$(e,t){return J$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J$(e,t)}function z1(e){return bwt(e)||ywt(e)||nve(e)||gwt()}function gwt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nve(e,t){if(e){if(typeof e=="string")return eH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eH(e,t)}}function ywt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bwt(e){if(Array.isArray(e))return eH(e)}function eH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sne(Object(n),!0).forEach(function(r){nn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nn(e,t,n){return t=rve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rve(e){var t=vwt(e,"string");return U1(t)=="symbol"?t:t+""}function vwt(e,t){if(U1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(U1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xwt={xAxis:["bottom","top"],yAxis:["left","right"]},wwt={width:"100%",height:"100%"},ive={x:0,y:0};function PA(e){return e}var Ewt=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Swt=function(t,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var a=o.coordinate,s=i.radius;return Ve(Ve(Ve({},i),ta(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return Ve(Ve(Ve({},i),ta(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return ive},r3=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(z1(s),z1(c)):s},[]);return a.length>0?a:t&&t.length&&ut(i)&&ut(o)?t.slice(i,o+1):[]};function ove(e){return e==="number"?[0,"auto"]:void 0}var tH=function(t,n,r,i){var o=t.graphicalItems,a=t.tooltipAxis,s=r3(n,t);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var d,u=(d=c.props.data)!==null&&d!==void 0?d:n;u&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(u=u.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var m=u===void 0?s:u;p=GN(m,a.dataKey,i)}else p=u&&u[r]||s[r];return p?[].concat(z1(l),[obe(c,p)]):l},[])},Cne=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},a=Ewt(o,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,d=Pmt(a,s,c,l);if(d>=0&&c){var u=c[d]&&c[d].value,p=tH(t,n,d,u),m=Swt(r,s,d,o);return{activeTooltipIndex:d,activeLabel:u,activePayload:p,activeCoordinate:m}}return null},Cwt=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=t.layout,u=t.children,p=t.stackOffset,m=nbe(d,o);return r.reduce(function(v,x){var w,T=x.type.defaultProps!==void 0?Ve(Ve({},x.type.defaultProps),x.props):x.props,k=T.type,O=T.dataKey,I=T.allowDataOverflow,N=T.allowDuplicatedCategory,A=T.scale,R=T.ticks,L=T.includeHidden,B=T[a];if(v[B])return v;var $=r3(t.data,{graphicalItems:i.filter(function(te){var U,fe=a in te.props?te.props[a]:(U=te.type.defaultProps)===null||U===void 0?void 0:U[a];return fe===B}),dataStartIndex:l,dataEndIndex:c}),q=$.length,z,W,G;Xxt(T.domain,I,k)&&(z=b$(T.domain,null,I),m&&(k==="number"||A!=="auto")&&(G=$S($,O,"category")));var Z=ove(k);if(!z||z.length===0){var V,ne=(V=T.domain)!==null&&V!==void 0?V:Z;if(O){if(z=$S($,O,k),k==="category"&&m){var X=Tst(z);N&&X?(W=z,z=NM(0,q)):N||(z=Pee(ne,z,x).reduce(function(te,U){return te.indexOf(U)>=0?te:[].concat(z1(te),[U])},[]))}else if(k==="category")N?z=z.filter(function(te){return te!==""&&!qn(te)}):z=Pee(ne,z,x).reduce(function(te,U){return te.indexOf(U)>=0||U===""||qn(U)?te:[].concat(z1(te),[U])},[]);else if(k==="number"){var oe=Hmt($,i.filter(function(te){var U,fe,me=a in te.props?te.props[a]:(U=te.type.defaultProps)===null||U===void 0?void 0:U[a],ke="hide"in te.props?te.props.hide:(fe=te.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return me===B&&(L||!ke)}),O,o,d);oe&&(z=oe)}m&&(k==="number"||A!=="auto")&&(G=$S($,O,"category"))}else m?z=NM(0,q):s&&s[B]&&s[B].hasStack&&k==="number"?z=p==="expand"?[0,1]:ibe(s[B].stackGroups,l,c):z=tbe($,i.filter(function(te){var U=a in te.props?te.props[a]:te.type.defaultProps[a],fe="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return U===B&&(L||!fe)}),k,d,!0);if(k==="number")z=Q$(u,z,B,o,R),ne&&(z=b$(ne,z,I));else if(k==="category"&&ne){var K=ne,Q=z.every(function(te){return K.indexOf(te)>=0});Q&&(z=K)}}return Ve(Ve({},v),{},nn({},B,Ve(Ve({},T),{},{axisType:o,domain:z,categoricalDomain:G,duplicateDomain:W,originalDomain:(w=T.domain)!==null&&w!==void 0?w:Z,isCategorical:m,layout:d})))},{})},Twt=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=t.layout,u=t.children,p=r3(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=p.length,v=nbe(d,o),x=-1;return r.reduce(function(w,T){var k=T.type.defaultProps!==void 0?Ve(Ve({},T.type.defaultProps),T.props):T.props,O=k[a],I=ove("number");if(!w[O]){x++;var N;return v?N=NM(0,m):s&&s[O]&&s[O].hasStack?(N=ibe(s[O].stackGroups,l,c),N=Q$(u,N,O,o)):(N=b$(I,tbe(p,r.filter(function(A){var R,L,B=a in A.props?A.props[a]:(R=A.type.defaultProps)===null||R===void 0?void 0:R[a],$="hide"in A.props?A.props.hide:(L=A.type.defaultProps)===null||L===void 0?void 0:L.hide;return B===O&&!$}),"number",d),i.defaultProps.allowDataOverflow),N=Q$(u,N,O,o)),Ve(Ve({},w),{},nn({},O,Ve(Ve({axisType:o},i.defaultProps),{},{hide:!0,orientation:gc(xwt,"".concat(o,".").concat(x%2),null),domain:N,originalDomain:I,isCategorical:v,layout:d})))}return w},{})},kwt=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=t.children,u="".concat(i,"Id"),p=yc(d,o),m={};return p&&p.length?m=Cwt(t,{axes:p,graphicalItems:a,axisType:i,axisIdKey:u,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(m=Twt(t,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:u,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),m},_wt=function(t){var n=Rp(t),r=If(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:fU(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:wM(n,r)}},Tne=function(t){var n=t.children,r=t.defaultShowTooltip,i=vl(n,R1),o=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Awt=function(t){return!t||!t.length?!1:t.some(function(n){var r=zf(n&&n.type);return r&&r.indexOf("Bar")>=0})},kne=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Owt=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,a=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=r.width,d=r.height,u=r.children,p=r.margin||{},m=vl(u,R1),v=vl(u,x0),x=Object.keys(l).reduce(function(N,A){var R=l[A],L=R.orientation;return!R.mirror&&!R.hide?Ve(Ve({},N),{},nn({},L,N[L]+R.width)):N},{left:p.left||0,right:p.right||0}),w=Object.keys(a).reduce(function(N,A){var R=a[A],L=R.orientation;return!R.mirror&&!R.hide?Ve(Ve({},N),{},nn({},L,gc(N,"".concat(L))+R.height)):N},{top:p.top||0,bottom:p.bottom||0}),T=Ve(Ve({},w),x),k=T.bottom;m&&(T.bottom+=m.props.height||R1.defaultProps.height),v&&n&&(T=Bmt(T,i,r,n));var O=c-T.left-T.right,I=d-T.top-T.bottom;return Ve(Ve({brushBottom:k},T),{},{width:Math.max(O,0),height:Math.max(I,0)})},Nwt=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Mwt=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,a=t.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,u=t.defaultProps,p=function(T,k){var O=k.graphicalItems,I=k.stackGroups,N=k.offset,A=k.updateId,R=k.dataStartIndex,L=k.dataEndIndex,B=T.barSize,$=T.layout,q=T.barGap,z=T.barCategoryGap,W=T.maxBarSize,G=kne($),Z=G.numericAxisName,V=G.cateAxisName,ne=Awt(O),X=[];return O.forEach(function(oe,K){var Q=r3(T.data,{graphicalItems:[oe],dataStartIndex:R,dataEndIndex:L}),te=oe.type.defaultProps!==void 0?Ve(Ve({},oe.type.defaultProps),oe.props):oe.props,U=te.dataKey,fe=te.maxBarSize,me=te["".concat(Z,"Id")],ke=te["".concat(V,"Id")],Ee={},ve=l.reduce(function(xe,Te){var Je=k["".concat(Te.axisType,"Map")],Ze=te["".concat(Te.axisType,"Id")];Je&&Je[Ze]||Te.axisType==="zAxis"||G0();var Qe=Je[Ze];return Ve(Ve({},xe),{},nn(nn({},Te.axisType,Qe),"".concat(Te.axisType,"Ticks"),If(Qe)))},Ee),we=ve[V],je=ve["".concat(V,"Ticks")],Ke=I&&I[me]&&I[me].hasStack&&Qmt(oe,I[me].stackGroups),De=zf(oe.type).indexOf("Bar")>=0,It=wM(we,je),Fe=[],an=ne&&Lmt({barSize:B,stackGroups:I,totalSize:Nwt(ve,V)});if(De){var cn,Qt,Vr=qn(fe)?W:fe,er=(cn=(Qt=wM(we,je,!0))!==null&&Qt!==void 0?Qt:Vr)!==null&&cn!==void 0?cn:0;Fe=jmt({barGap:q,barCategoryGap:z,bandSize:er!==It?er:It,sizeList:an[ke],maxBarSize:Vr}),er!==It&&(Fe=Fe.map(function(xe){return Ve(Ve({},xe),{},{position:Ve(Ve({},xe.position),{},{offset:xe.position.offset-er/2})})}))}var ce=oe&&oe.type&&oe.type.getComposedData;ce&&X.push({props:Ve(Ve({},ce(Ve(Ve({},ve),{},{displayedData:Q,props:T,dataKey:U,item:oe,bandSize:It,barPosition:Fe,offset:N,stackedData:Ke,layout:$,dataStartIndex:R,dataEndIndex:L}))),{},nn(nn(nn({key:oe.key||"item-".concat(K)},Z,ve[Z]),V,ve[V]),"animationId",A)),childIndex:Bst(oe,T.children),item:oe})}),X},m=function(T,k){var O=T.props,I=T.dataStartIndex,N=T.dataEndIndex,A=T.updateId;if(!KX({props:O}))return null;var R=O.children,L=O.layout,B=O.stackOffset,$=O.data,q=O.reverseStackOrder,z=kne(L),W=z.numericAxisName,G=z.cateAxisName,Z=yc(R,r),V=Kmt($,Z,"".concat(W,"Id"),"".concat(G,"Id"),B,q),ne=l.reduce(function(te,U){var fe="".concat(U.axisType,"Map");return Ve(Ve({},te),{},nn({},fe,kwt(O,Ve(Ve({},U),{},{graphicalItems:Z,stackGroups:U.axisType===W&&V,dataStartIndex:I,dataEndIndex:N}))))},{}),X=Owt(Ve(Ve({},ne),{},{props:O,graphicalItems:Z}),k?.legendBBox);Object.keys(ne).forEach(function(te){ne[te]=d(O,ne[te],X,te.replace("Map",""),n)});var oe=ne["".concat(G,"Map")],K=_wt(oe),Q=p(O,Ve(Ve({},ne),{},{dataStartIndex:I,dataEndIndex:N,updateId:A,graphicalItems:Z,stackGroups:V,offset:X}));return Ve(Ve({formattedGraphicalItems:Q,graphicalItems:Z,offset:X,stackGroups:V},K),ne)},v=(function(w){function T(k){var O,I,N;return cwt(this,T),N=fwt(this,T,[k]),nn(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),nn(N,"accessibilityManager",new Kxt),nn(N,"handleLegendBBoxUpdate",function(A){if(A){var R=N.state,L=R.dataStartIndex,B=R.dataEndIndex,$=R.updateId;N.setState(Ve({legendBBox:A},m({props:N.props,dataStartIndex:L,dataEndIndex:B,updateId:$},Ve(Ve({},N.state),{},{legendBBox:A}))))}}),nn(N,"handleReceiveSyncEvent",function(A,R,L){if(N.props.syncId===A){if(L===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(R)}}),nn(N,"handleBrushChange",function(A){var R=A.startIndex,L=A.endIndex;if(R!==N.state.dataStartIndex||L!==N.state.dataEndIndex){var B=N.state.updateId;N.setState(function(){return Ve({dataStartIndex:R,dataEndIndex:L},m({props:N.props,dataStartIndex:R,dataEndIndex:L,updateId:B},N.state))}),N.triggerSyncEvent({dataStartIndex:R,dataEndIndex:L})}}),nn(N,"handleMouseEnter",function(A){var R=N.getMouseInfo(A);if(R){var L=Ve(Ve({},R),{},{isTooltipActive:!0});N.setState(L),N.triggerSyncEvent(L);var B=N.props.onMouseEnter;Rn(B)&&B(L,A)}}),nn(N,"triggeredAfterMouseMove",function(A){var R=N.getMouseInfo(A),L=R?Ve(Ve({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(L),N.triggerSyncEvent(L);var B=N.props.onMouseMove;Rn(B)&&B(L,A)}),nn(N,"handleItemMouseEnter",function(A){N.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),nn(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),nn(N,"handleMouseMove",function(A){A.persist(),N.throttleTriggeredAfterMouseMove(A)}),nn(N,"handleMouseLeave",function(A){N.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};N.setState(R),N.triggerSyncEvent(R);var L=N.props.onMouseLeave;Rn(L)&&L(R,A)}),nn(N,"handleOuterEvent",function(A){var R=jst(A),L=gc(N.props,"".concat(R));if(R&&Rn(L)){var B,$;/.*touch.*/i.test(R)?$=N.getMouseInfo(A.changedTouches[0]):$=N.getMouseInfo(A),L((B=$)!==null&&B!==void 0?B:{},A)}}),nn(N,"handleClick",function(A){var R=N.getMouseInfo(A);if(R){var L=Ve(Ve({},R),{},{isTooltipActive:!0});N.setState(L),N.triggerSyncEvent(L);var B=N.props.onClick;Rn(B)&&B(L,A)}}),nn(N,"handleMouseDown",function(A){var R=N.props.onMouseDown;if(Rn(R)){var L=N.getMouseInfo(A);R(L,A)}}),nn(N,"handleMouseUp",function(A){var R=N.props.onMouseUp;if(Rn(R)){var L=N.getMouseInfo(A);R(L,A)}}),nn(N,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),nn(N,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseDown(A.changedTouches[0])}),nn(N,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseUp(A.changedTouches[0])}),nn(N,"handleDoubleClick",function(A){var R=N.props.onDoubleClick;if(Rn(R)){var L=N.getMouseInfo(A);R(L,A)}}),nn(N,"handleContextMenu",function(A){var R=N.props.onContextMenu;if(Rn(R)){var L=N.getMouseInfo(A);R(L,A)}}),nn(N,"triggerSyncEvent",function(A){N.props.syncId!==void 0&&b6.emit(v6,N.props.syncId,A,N.eventEmitterSymbol)}),nn(N,"applySyncEvent",function(A){var R=N.props,L=R.layout,B=R.syncMethod,$=N.state.updateId,q=A.dataStartIndex,z=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)N.setState(Ve({dataStartIndex:q,dataEndIndex:z},m({props:N.props,dataStartIndex:q,dataEndIndex:z,updateId:$},N.state)));else if(A.activeTooltipIndex!==void 0){var W=A.chartX,G=A.chartY,Z=A.activeTooltipIndex,V=N.state,ne=V.offset,X=V.tooltipTicks;if(!ne)return;if(typeof B=="function")Z=B(X,A);else if(B==="value"){Z=-1;for(var oe=0;oe<X.length;oe++)if(X[oe].value===A.activeLabel){Z=oe;break}}var K=Ve(Ve({},ne),{},{x:ne.left,y:ne.top}),Q=Math.min(W,K.x+K.width),te=Math.min(G,K.y+K.height),U=X[Z]&&X[Z].value,fe=tH(N.state,N.props.data,Z),me=X[Z]?{x:L==="horizontal"?X[Z].coordinate:Q,y:L==="horizontal"?te:X[Z].coordinate}:ive;N.setState(Ve(Ve({},A),{},{activeLabel:U,activeCoordinate:me,activePayload:fe,activeTooltipIndex:Z}))}else N.setState(A)}),nn(N,"renderCursor",function(A){var R,L=N.state,B=L.isTooltipActive,$=L.activeCoordinate,q=L.activePayload,z=L.offset,W=L.activeTooltipIndex,G=L.tooltipAxisBandSize,Z=N.getTooltipEventType(),V=(R=A.props.active)!==null&&R!==void 0?R:B,ne=N.props.layout,X=A.key||"_recharts-cursor";return F.createElement(nwt,{key:X,activeCoordinate:$,activePayload:q,activeTooltipIndex:W,chartName:n,element:A,isActive:V,layout:ne,offset:z,tooltipAxisBandSize:G,tooltipEventType:Z})}),nn(N,"renderPolarAxis",function(A,R,L){var B=gc(A,"type.axisType"),$=gc(N.state,"".concat(B,"Map")),q=A.type.defaultProps,z=q!==void 0?Ve(Ve({},q),A.props):A.props,W=$&&$[z["".concat(B,"Id")]];return C.cloneElement(A,Ve(Ve({},W),{},{className:Xn(B,W.className),key:A.key||"".concat(R,"-").concat(L),ticks:If(W,!0)}))}),nn(N,"renderPolarGrid",function(A){var R=A.props,L=R.radialLines,B=R.polarAngles,$=R.polarRadius,q=N.state,z=q.radiusAxisMap,W=q.angleAxisMap,G=Rp(z),Z=Rp(W),V=Z.cx,ne=Z.cy,X=Z.innerRadius,oe=Z.outerRadius;return C.cloneElement(A,{polarAngles:Array.isArray(B)?B:If(Z,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray($)?$:If(G,!0).map(function(K){return K.coordinate}),cx:V,cy:ne,innerRadius:X,outerRadius:oe,key:A.key||"polar-grid",radialLines:L})}),nn(N,"renderLegend",function(){var A=N.state.formattedGraphicalItems,R=N.props,L=R.children,B=R.width,$=R.height,q=N.props.margin||{},z=B-(q.left||0)-(q.right||0),W=Jye({children:L,formattedGraphicalItems:A,legendWidth:z,legendContent:c});if(!W)return null;var G=W.item,Z=Ene(W,rwt);return C.cloneElement(G,Ve(Ve({},Z),{},{chartWidth:B,chartHeight:$,margin:q,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),nn(N,"renderTooltip",function(){var A,R=N.props,L=R.children,B=R.accessibilityLayer,$=vl(L,hd);if(!$)return null;var q=N.state,z=q.isTooltipActive,W=q.activeCoordinate,G=q.activePayload,Z=q.activeLabel,V=q.offset,ne=(A=$.props.active)!==null&&A!==void 0?A:z;return C.cloneElement($,{viewBox:Ve(Ve({},V),{},{x:V.left,y:V.top}),active:ne,label:Z,payload:ne?G:[],coordinate:W,accessibilityLayer:B})}),nn(N,"renderBrush",function(A){var R=N.props,L=R.margin,B=R.data,$=N.state,q=$.offset,z=$.dataStartIndex,W=$.dataEndIndex,G=$.updateId;return C.cloneElement(A,{key:A.key||"_recharts-brush",onChange:NA(N.handleBrushChange,A.props.onChange),data:B,x:ut(A.props.x)?A.props.x:q.left,y:ut(A.props.y)?A.props.y:q.top+q.height+q.brushBottom-(L.bottom||0),width:ut(A.props.width)?A.props.width:q.width,startIndex:z,endIndex:W,updateId:"brush-".concat(G)})}),nn(N,"renderReferenceElement",function(A,R,L){if(!A)return null;var B=N,$=B.clipPathId,q=N.state,z=q.xAxisMap,W=q.yAxisMap,G=q.offset,Z=A.type.defaultProps||{},V=A.props,ne=V.xAxisId,X=ne===void 0?Z.xAxisId:ne,oe=V.yAxisId,K=oe===void 0?Z.yAxisId:oe;return C.cloneElement(A,{key:A.key||"".concat(R,"-").concat(L),xAxis:z[X],yAxis:W[K],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:$})}),nn(N,"renderActivePoints",function(A){var R=A.item,L=A.activePoint,B=A.basePoint,$=A.childIndex,q=A.isRange,z=[],W=R.props.key,G=R.item.type.defaultProps!==void 0?Ve(Ve({},R.item.type.defaultProps),R.item.props):R.item.props,Z=G.activeDot,V=G.dataKey,ne=Ve(Ve({index:$,dataKey:V,cx:L.x,cy:L.y,r:4,fill:BU(R.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Jn(Z,!1)),KN(Z));return z.push(T.renderActiveDot(Z,ne,"".concat(W,"-activePoint-").concat($))),B?z.push(T.renderActiveDot(Z,Ve(Ve({},ne),{},{cx:B.x,cy:B.y}),"".concat(W,"-basePoint-").concat($))):q&&z.push(null),z}),nn(N,"renderGraphicChild",function(A,R,L){var B=N.filterFormatItem(A,R,L);if(!B)return null;var $=N.getTooltipEventType(),q=N.state,z=q.isTooltipActive,W=q.tooltipAxis,G=q.activeTooltipIndex,Z=q.activeLabel,V=N.props.children,ne=vl(V,hd),X=B.props,oe=X.points,K=X.isRange,Q=X.baseLine,te=B.item.type.defaultProps!==void 0?Ve(Ve({},B.item.type.defaultProps),B.item.props):B.item.props,U=te.activeDot,fe=te.hide,me=te.activeBar,ke=te.activeShape,Ee=!!(!fe&&z&&ne&&(U||me||ke)),ve={};$!=="axis"&&ne&&ne.props.trigger==="click"?ve={onClick:NA(N.handleItemMouseEnter,A.props.onClick)}:$!=="axis"&&(ve={onMouseLeave:NA(N.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:NA(N.handleItemMouseEnter,A.props.onMouseEnter)});var we=C.cloneElement(A,Ve(Ve({},B.props),ve));function je(Te){return typeof W.dataKey=="function"?W.dataKey(Te.payload):null}if(Ee)if(G>=0){var Ke,De;if(W.dataKey&&!W.allowDuplicatedCategory){var It=typeof W.dataKey=="function"?je:"payload.".concat(W.dataKey.toString());Ke=GN(oe,It,Z),De=K&&Q&&GN(Q,It,Z)}else Ke=oe?.[G],De=K&&Q&&Q[G];if(ke||me){var Fe=A.props.activeIndex!==void 0?A.props.activeIndex:G;return[C.cloneElement(A,Ve(Ve(Ve({},B.props),ve),{},{activeIndex:Fe})),null,null]}if(!qn(Ke))return[we].concat(z1(N.renderActivePoints({item:B,activePoint:Ke,basePoint:De,childIndex:G,isRange:K})))}else{var an,cn=(an=N.getItemByXY(N.state.activeCoordinate))!==null&&an!==void 0?an:{graphicalItem:we},Qt=cn.graphicalItem,Vr=Qt.item,er=Vr===void 0?A:Vr,ce=Qt.childIndex,xe=Ve(Ve(Ve({},B.props),ve),{},{activeIndex:ce});return[C.cloneElement(er,xe),null,null]}return K?[we,null,null]:[we,null]}),nn(N,"renderCustomized",function(A,R,L){return C.cloneElement(A,Ve(Ve({key:"recharts-customized-".concat(L)},N.props),N.state))}),nn(N,"renderMap",{CartesianGrid:{handler:PA,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:PA},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:PA},YAxis:{handler:PA},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((O=k.id)!==null&&O!==void 0?O:sk("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=Q0e(N.triggeredAfterMouseMove,(I=k.throttleDelay)!==null&&I!==void 0?I:1e3/60),N.state={},N}return mwt(T,w),dwt(T,[{key:"componentDidMount",value:function(){var O,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,I=O.children,N=O.data,A=O.height,R=O.layout,L=vl(I,hd);if(L){var B=L.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,q=tH(this.state,N,B,$),z=this.state.tooltipTicks[B].coordinate,W=(this.state.offset.top+A)/2,G=R==="horizontal",Z=G?{x:z,y:W}:{y:z,x:W},V=this.state.formattedGraphicalItems.find(function(X){var oe=X.item;return oe.type.name==="Scatter"});V&&(Z=Ve(Ve({},Z),V.props.points[B].tooltipPosition),q=V.props.points[B].tooltipPayload);var ne={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:$,activePayload:q,activeCoordinate:Z};this.setState(ne),this.renderCursor(L),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var N,A;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(O){H8([vl(O.children,hd)],[vl(this.props.children,hd)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=vl(this.props.children,hd);if(O&&typeof O.props.shared=="boolean"){var I=O.props.shared?"axis":"item";return s.indexOf(I)>=0?I:o}return o}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var I=this.container,N=I.getBoundingClientRect(),A=Tdt(N),R={chartX:Math.round(O.pageX-A.left),chartY:Math.round(O.pageY-A.top)},L=N.width/I.offsetWidth||1,B=this.inRange(R.chartX,R.chartY,L);if(!B)return null;var $=this.state,q=$.xAxisMap,z=$.yAxisMap,W=this.getTooltipEventType(),G=Cne(this.state,this.props.data,this.props.layout,B);if(W!=="axis"&&q&&z){var Z=Rp(q).scale,V=Rp(z).scale,ne=Z&&Z.invert?Z.invert(R.chartX):null,X=V&&V.invert?V.invert(R.chartY):null;return Ve(Ve({},R),{},{xValue:ne,yValue:X},G)}return G?Ve(Ve({},R),G):null}},{key:"inRange",value:function(O,I){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,R=O/N,L=I/N;if(A==="horizontal"||A==="vertical"){var B=this.state.offset,$=R>=B.left&&R<=B.left+B.width&&L>=B.top&&L<=B.top+B.height;return $?{x:R,y:L}:null}var q=this.state,z=q.angleAxisMap,W=q.radiusAxisMap;if(z&&W){var G=Rp(z);return Bee({x:R,y:L},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,I=this.getTooltipEventType(),N=vl(O,hd),A={};N&&I==="axis"&&(N.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=KN(this.props,this.handleOuterEvent);return Ve(Ve({},R),A)}},{key:"addListener",value:function(){b6.on(v6,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){b6.removeListener(v6,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,I,N){for(var A=this.state.formattedGraphicalItems,R=0,L=A.length;R<L;R++){var B=A[R];if(B.item===O||B.props.key===O.key||I===zf(B.item.type)&&N===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,I=this.state.offset,N=I.left,A=I.top,R=I.height,L=I.width;return F.createElement("defs",null,F.createElement("clipPath",{id:O},F.createElement("rect",{x:N,y:A,height:R,width:L})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(I,N){var A=wne(N,2),R=A[0],L=A[1];return Ve(Ve({},I),{},nn({},R,L.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(I,N){var A=wne(N,2),R=A[0],L=A[1];return Ve(Ve({},I),{},nn({},R,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[O])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(O){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[O])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(O){var I=this.state,N=I.formattedGraphicalItems,A=I.activeItem;if(N&&N.length)for(var R=0,L=N.length;R<L;R++){var B=N[R],$=B.props,q=B.item,z=q.type.defaultProps!==void 0?Ve(Ve({},q.type.defaultProps),q.props):q.props,W=zf(q.type);if(W==="Bar"){var G=($.data||[]).find(function(X){return zyt(O,X)});if(G)return{graphicalItem:B,payload:G}}else if(W==="RadialBar"){var Z=($.data||[]).find(function(X){return Bee(O,X)});if(Z)return{graphicalItem:B,payload:Z}}else if(GR(B,A)||KR(B,A)||rT(B,A)){var V=Rbt({graphicalItem:B,activeTooltipItem:A,itemData:z.data}),ne=z.activeIndex===void 0?V:z.activeIndex;return{graphicalItem:Ve(Ve({},B),{},{childIndex:ne}),payload:rT(B,A)?z.data[V]:B.props.data[V]}}}return null}},{key:"render",value:function(){var O=this;if(!KX(this))return null;var I=this.props,N=I.children,A=I.className,R=I.width,L=I.height,B=I.style,$=I.compact,q=I.title,z=I.desc,W=Ene(I,iwt),G=Jn(W,!1);if($)return F.createElement(nne,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(U8,Nv({},G,{width:R,height:L,title:q,desc:z}),this.renderClipPath(),ZX(N,this.renderMap)));if(this.props.accessibilityLayer){var Z,V;G.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,G.role=(V=this.props.role)!==null&&V!==void 0?V:"application",G.onKeyDown=function(X){O.accessibilityManager.keyboardEvent(X)},G.onFocus=function(){O.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return F.createElement(nne,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",Nv({className:Xn("recharts-wrapper",A),style:Ve({position:"relative",cursor:"default",width:R,height:L},B)},ne,{ref:function(oe){O.container=oe}}),F.createElement(U8,Nv({},G,{width:R,height:L,title:q,desc:z,style:wwt}),this.renderClipPath(),ZX(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);nn(v,"displayName",n),nn(v,"defaultProps",Ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),nn(v,"getDerivedStateFromProps",function(w,T){var k=w.dataKey,O=w.data,I=w.children,N=w.width,A=w.height,R=w.layout,L=w.stackOffset,B=w.margin,$=T.dataStartIndex,q=T.dataEndIndex;if(T.updateId===void 0){var z=Tne(w);return Ve(Ve(Ve({},z),{},{updateId:0},m(Ve(Ve({props:w},z),{},{updateId:0}),T)),{},{prevDataKey:k,prevData:O,prevWidth:N,prevHeight:A,prevLayout:R,prevStackOffset:L,prevMargin:B,prevChildren:I})}if(k!==T.prevDataKey||O!==T.prevData||N!==T.prevWidth||A!==T.prevHeight||R!==T.prevLayout||L!==T.prevStackOffset||!Yv(B,T.prevMargin)){var W=Tne(w),G={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},Z=Ve(Ve({},Cne(T,O,R)),{},{updateId:T.updateId+1}),V=Ve(Ve(Ve({},W),G),Z);return Ve(Ve(Ve({},V),m(Ve({props:w},V),T)),{},{prevDataKey:k,prevData:O,prevWidth:N,prevHeight:A,prevLayout:R,prevStackOffset:L,prevMargin:B,prevChildren:I})}if(!H8(I,T.prevChildren)){var ne,X,oe,K,Q=vl(I,R1),te=Q&&(ne=(X=Q.props)===null||X===void 0?void 0:X.startIndex)!==null&&ne!==void 0?ne:$,U=Q&&(oe=(K=Q.props)===null||K===void 0?void 0:K.endIndex)!==null&&oe!==void 0?oe:q,fe=te!==$||U!==q,me=!qn(O),ke=me&&!fe?T.updateId:T.updateId+1;return Ve(Ve({updateId:ke},m(Ve(Ve({props:w},T),{},{updateId:ke,dataStartIndex:te,dataEndIndex:U}),T)),{},{prevChildren:I,dataStartIndex:te,dataEndIndex:U})}return null}),nn(v,"renderActiveDot",function(w,T,k){var O;return C.isValidElement(w)?O=C.cloneElement(w,T):Rn(w)?O=w(T):O=F.createElement(HU,T),F.createElement(Wi,{className:"recharts-active-dot",key:k},O)});var x=C.forwardRef(function(T,k){return F.createElement(v,Nv({},T,{ref:k}))});return x.displayName=v.displayName,x},Dwt=Mwt({chartName:"LineChart",GraphicalChild:mk,axisComponents:[{axisType:"xAxis",AxisComp:t3},{axisType:"yAxis",AxisComp:n3}],formatAxisMap:Ovt});const Rwt={light:"",dark:".dark"},ave=C.createContext(null);function sve(){const e=C.useContext(ave);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const lve=C.forwardRef(({id:e,className:t,children:n,config:r,...i},o)=>{const a=C.useId(),s=`chart-${e||a.replace(/:/g,"")}`;return g.jsx(ave.Provider,{value:{config:r},children:g.jsxs("div",{"data-chart":s,ref:o,className:Ie("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...i,children:[g.jsx(Iwt,{id:s,config:r}),g.jsx(bdt,{children:n})]})})});lve.displayName="Chart";const Iwt=({id:e,config:t})=>{const n=Object.entries(t).filter(([,r])=>r.theme||r.color);return n.length?g.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(Rwt).map(([r,i])=>`
${i} [data-chart=${e}] {
${n.map(([o,a])=>{const s=a.theme?.[r]||a.color;return s?`  --color-${o}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Pwt=hd,Lwt=C.forwardRef(({active:e,payload:t,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:o=!1,label:a,labelFormatter:s,labelClassName:l,formatter:c,color:d,nameKey:u,labelKey:p},m)=>{const{config:v}=sve(),x=C.useMemo(()=>{if(i||!t?.length)return null;const[T]=t,k=`${p||T?.dataKey||T?.name||"value"}`,O=nH(v,T,k),I=!p&&typeof a=="string"?v[a]?.label||a:O?.label;return s?g.jsx("div",{className:Ie("font-medium",l),children:s(I,t)}):I?g.jsx("div",{className:Ie("font-medium",l),children:I}):null},[a,s,t,i,l,v,p]);if(!e||!t?.length)return null;const w=t.length===1&&r!=="dot";return g.jsxs("div",{ref:m,className:Ie("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[w?null:x,g.jsx("div",{className:"grid gap-1.5",children:t.filter(T=>T.type!=="none").map((T,k)=>{const O=`${u||T.name||T.dataKey||"value"}`,I=nH(v,T,O),N=d||T.payload.fill||T.color;return g.jsx("div",{className:Ie("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:c&&T?.value!==void 0&&T.name?c(T.value,T.name,T,k,T.payload):g.jsxs(g.Fragment,{children:[I?.icon?g.jsx(I.icon,{}):!o&&g.jsx("div",{className:Ie("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":w&&r==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),g.jsxs("div",{className:Ie("flex flex-1 justify-between leading-none",w?"items-end":"items-center"),children:[g.jsxs("div",{className:"grid gap-1.5",children:[w?x:null,g.jsx("span",{className:"text-muted-foreground",children:I?.label||T.name})]}),T.value&&g.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:T.value.toLocaleString()})]})]})},T.dataKey)})})]})});Lwt.displayName="ChartTooltip";const jwt=x0,Bwt=C.forwardRef(({className:e,hideIcon:t=!1,payload:n,verticalAlign:r="bottom",nameKey:i},o)=>{const{config:a}=sve();return n?.length?g.jsx("div",{ref:o,className:Ie("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",e),children:n.filter(s=>s.type!=="none").map(s=>{const l=`${i||s.dataKey||"value"}`,c=nH(a,s,l);return g.jsxs("div",{className:Ie("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c?.icon&&!t?g.jsx(c.icon,{}):g.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),c?.label]},s.value)})}):null});Bwt.displayName="ChartLegend";function nH(e,t,n){if(typeof t!="object"||t===null)return;const r="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let i=n;return n in t&&typeof t[n]=="string"?i=t[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in e?e[i]:e[n]}function _ne(e){if(e===0)return 0;const t=Math.floor(Math.log10(Math.abs(e))),n=Math.max(0,2-t-1);return Number(e.toFixed(n))}function rH(e,t,n){let r=e,i="";if(t==="percent"||t==="%"){const a=e*100;return{formattedValue:_ne(a).toLocaleString(),displayUnit:"%"}}return t==="bytes"?(r=e/1024/1024/1024,i="GB"):t==="seconds"||t==="s"?i="s":t&&t!=="count"&&(i=t),n?.startsWith("rate")&&(n==="ratePerSecond"?i=`${t||"events"}/s`:n==="ratePerMinute"?i=`${t||"events"}/min`:n==="ratePerHour"?i=`${t||"events"}/h`:n==="ratePerDay"&&(i=`${t||"events"}/day`)),{formattedValue:_ne(r).toLocaleString(),displayUnit:i}}function cve({historyData:e,startDate:t,endDate:n,unit:r,transform:i}){const[o,a]=C.useState(new Set),[s,l]=C.useState(null),c=C.useMemo(()=>e.series.some(R=>Object.keys(R.labels).length>0),[e.series]),d=new Set;for(const R of e.series)for(const L of R.values)d.add(L.timestamp.getTime());const u=new Set;for(const R of e.series)for(const L of R.values)u.add(L.timestamp.getTime());const p=Array.from(u).sort((R,L)=>R-L),v=(()=>{const L=(n.getTime()-t.getTime())/(1e3*60*60);return L<=1||L<=24?"time":L<=168?"datetime":"date"})(),x=C.useCallback(R=>Object.entries(R).map(([L,B])=>`${L}=${B}`).join(", "),[]),w=C.useCallback((R,L)=>{const B=e.series.map($=>x($.labels));L.metaKey||L.ctrlKey?a($=>{if($.size===B.length-1&&!$.has(R))return new Set;const z=new Set(B);return z.delete(R),z}):a($=>{const q=new Set($);return q.has(R)?q.delete(R):q.add(R),q})},[e.series,x]),T=F.useMemo(()=>p.map(R=>{const L=new Date(R);let B;v==="time"?B=L.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):v==="datetime"?B=L.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):B=L.toLocaleDateString("en-US",{month:"short",day:"numeric"});const $={timestamp:B};for(let q=0;q<e.series.length;q++){const z=e.series[q],W=x(z.labels),G=z.values.find(Z=>Z.timestamp.getTime()===R);if(G){const{formattedValue:Z}=rH(G.value,r??void 0,i);$[W]=Number.parseFloat(Z.replace(/,/g,""))}}return $}),[e.series,r,i,v,p,x]),k={},O=["var(--color-chart-1)","var(--color-chart-2)","var(--color-chart-3)","var(--color-chart-4)","var(--color-chart-5)"];for(let R=0;R<e.series.length;R++){const L=e.series[R],B=x(L.labels);k[B]={label:B,color:O[R%O.length]}}const{displayUnit:I}=F.useMemo(()=>rH(0,r??void 0,i),[r,i]),N=C.useMemo(()=>({active:R,payload:L,label:B})=>!R||!L?.length?null:g.jsxs("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:[g.jsx("div",{className:"mb-1 font-bold text-sm",children:B}),g.jsx("div",{className:"flex flex-col gap-1",children:L.filter($=>!o.has($.dataKey)).map($=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:$.color}}),g.jsx("span",{className:"text-sm",children:g.jsxs("span",{className:"font-medium",children:[$.value,I?` ${I}`:""]})})]},$.dataKey))})]}),[o,I]),A=C.useMemo(()=>({payload:R})=>R?.length?g.jsx("div",{className:"flex items-center justify-center gap-4 pt-3 flex-wrap",children:R.filter(L=>L.type!=="none").map(L=>{const B=L.dataKey,$=o.has(B);return g.jsxs("div",{className:"flex items-center gap-1.5 cursor-pointer select-none hover:opacity-80 transition-opacity",onClick:q=>w(B,q),onMouseEnter:()=>l(B),onMouseLeave:()=>l(null),onKeyDown:q=>{(q.key==="Enter"||q.key===" ")&&w(B,q)},role:"button",tabIndex:0,title:`Click to toggle, ${typeof window<"u"&&window.navigator.userAgent.includes("Mac")?"Cmd":"Ctrl"}+Click to isolate`,children:[g.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:L.color,opacity:$?.3:1}}),g.jsx("span",{style:{opacity:$?.5:1,textDecoration:$?"line-through":"none"},children:L.value})]},L.value)})}):null,[o,w]);return g.jsx(lve,{config:k,className:"h-[400px] w-full",children:g.jsxs(Dwt,{data:T,children:[g.jsx(Vbe,{vertical:!1}),g.jsx(t3,{dataKey:"timestamp",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:32,tickFormatter:R=>R}),g.jsx(n3,{tickLine:!1,axisLine:!1,tickMargin:8,width:80,tickFormatter:R=>`${R.toLocaleString()}${I?` ${I}`:""}`,tick:{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}}),g.jsx(Pwt,{content:g.jsx(N,{})}),c&&g.jsx(jwt,{content:g.jsx(A,{})}),e.series.map((R,L)=>{const B=x(R.labels),$=o.has(B),q=s===B,z=s!==null&&!q;return g.jsx(mk,{dataKey:B,type:"monotone",stroke:O[L%O.length],strokeWidth:q?3:2,dot:{fill:O[L%O.length],strokeWidth:q?2:0,r:q?5:3},activeDot:{r:6,strokeWidth:2,stroke:"var(--background)"},hide:$,strokeOpacity:$?0:z?.2:1},B)})]})})}function $wt({notebookId:e=null,open:t,onOpenChange:n,metricName:r,prettyName:i,transform:o,transformMetadata:a,tenantName:s,startDate:l,endDate:c,filters:d,groupBy:u,groupByFn:p,unit:m}){const[v,x]=C.useState({series:[]});return C.useEffect(()=>{const w=async()=>{try{const T=await kT.getHistory(s,r,o,a,l,c,d,u,p,e);x(T)}catch(T){console.error("Failed to fetch metric history:",T),x({series:[]})}};t&&w()},[s,r,o,l,c,d,u,p,t,e,a]),g.jsx(SH,{open:t,onOpenChange:n,children:g.jsxs(CH,{children:[g.jsx(Cie,{children:g.jsxs(Tie,{className:"flex items-center justify-between",children:[g.jsx("div",{className:"space-y-2",children:g.jsx("div",{className:"text-2xl font-bold",children:i})}),g.jsx(tTe,{asChild:!0,children:g.jsx(Ai,{variant:"ghost",size:"icon",children:g.jsx(NH,{className:"h-4 w-4"})})})]})}),g.jsx("div",{className:"px-4 pb-10",children:g.jsx(cve,{historyData:v,unit:m,transform:o,startDate:l,endDate:c})})]})})}function uve({metrics:e,selectedMetric:t,selectedTimeAggregation:n,selectedGroupBy:r,selectedGroupByFn:i,selectedTransform:o,selectedTransformMetadata:a,blockFilters:s,matchOperator:l="==",matchValue:c="",onMetricSelect:d,onTransformChange:u,onTimeAggregationChange:p,onGroupByChange:m,onGroupByFnChange:v,onFiltersChange:x,onMatchConditionChange:w}){const T=du($=>$.labels),[k,O]=C.useState(!1),[I,N]=C.useState(r.length>0),A=t&&t.timeAggregation.length>1,R=t&&t.groupBy.length>1,L=F.useMemo(()=>{if(o==="ratio"){const $=(a.filters||[]).map(q=>q.label);return t?.labels.filter(q=>!$.includes(q))}return t?.labels},[t,o,a]),B=F.useMemo(()=>(L?.length??0)===0,[L]);return e.length===0?g.jsx("div",{className:"text-sm text-muted-foreground",children:"No metrics available"}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:Ie("space-y-2","full-w"),children:[g.jsx("div",{className:"flex items-center gap-1.5",children:g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Additional Filters"})}),g.jsx(V0,{availableLabels:T,filters:s,onFiltersChange:x})]}),g.jsx(vc,{className:"w-full"}),g.jsxs("div",{className:Ie("space-y-2","full-w"),children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Show"}),g.jsxs("div",{className:"flex items-center justify-between w-full gap-1",children:[g.jsxs(Nd,{open:k,onOpenChange:O,modal:!0,children:[g.jsx(Md,{asChild:!0,children:g.jsxs(Ai,{variant:"outline",role:"combobox","aria-expanded":k,className:"justify-between flex-1",children:[t?t.prettyName:"Select a metric...",g.jsx(Mie,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),g.jsx(Dd,{className:"w-[400px] p-0",children:g.jsxs(Zv,{children:[g.jsx(Qv,{placeholder:"Search metrics..."}),g.jsxs(Jv,{children:[g.jsx(e1,{children:"No metric found."}),g.jsx(t1,{children:e.map($=>g.jsx(n1,{value:$.prettyName,onSelect:()=>{d($),(!n||!$.timeAggregation.includes(n))&&p&&p($.timeAggregation[0]),(!i||!$.groupBy.includes(i))&&v($.groupBy[0]),O(!1),$.type==="rate"?u("ratePerSecond",{}):$.type==="histogram"?u("p50",{}):$.type==="ratio"?u("ratio",{filters:[]}):u(null,{})},children:g.jsx(Ls,{children:g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsxs("div",{className:"flex items-center justify-between w-full",children:[g.jsx("span",{children:$.prettyName}),g.jsx(WS,{className:Ie("mr-2 h-4 w-4",t?.id===$.id?"opacity-100":"opacity-0")})]})}),g.jsx($r,{side:"left",children:Hwt($)})]})})},$.id))})]})]})})]}),t&&t.type==="histogram"&&g.jsxs(wv,{value:o||"",onValueChange:$=>{u($,{})},children:[g.jsx(Zg,{className:"w-[180px]",children:g.jsx(Ev,{})}),g.jsxs(Qg,{children:[g.jsx(Xr,{value:"p50",children:"P50"}),g.jsx(Xr,{value:"p90",children:"P90"}),g.jsx(Xr,{value:"p95",children:"P95"}),g.jsx(Xr,{value:"p99",children:"P99"})]})]}),t&&t.type==="rate"&&g.jsxs(wv,{value:o||"",onValueChange:$=>{u($,{})},children:[g.jsx(Zg,{className:"w-[180px]",children:g.jsx(Ev,{})}),g.jsxs(Qg,{children:[g.jsx(Xr,{value:"ratePerSecond",children:"/second"}),g.jsx(Xr,{value:"ratePerMinute",children:"/minute"}),g.jsx(Xr,{value:"ratePerHour",children:"/hour"}),g.jsx(Xr,{value:"ratePerDay",children:"/day"})]})]}),g.jsx("div",{className:"flex items-center gap-0",children:!I&&!B&&g.jsx(Ls,{delayDuration:300,children:g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(Ai,{variant:"ghost",className:"text-muted-foreground cursor-pointer",size:"icon",onClick:()=>N(!I),children:g.jsx(u2e,{className:"size-4"})})}),g.jsx($r,{side:"right",children:"Labels to group by. If no labels are selected, all values will be combined into a single one."})]})})})]})]}),t&&t.type==="ratio"&&g.jsxs("div",{className:Ie("space-y-2","full-w"),children:[g.jsxs("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide flex items-center gap-1",children:["Of",g.jsx(Ls,{children:g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(F_,{className:"size-3 text-muted-foreground cursor-help"})}),g.jsx($r,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Which ratio condition to apply to the metric."})})]})})]}),g.jsx("div",{className:"flex items-center justify-between w-full gap-1",children:g.jsx(V0,{availableLabels:T,filters:a.filters??[],onFiltersChange:$=>{u(o,{filters:$})}})})]}),I&&t&&!B&&g.jsxs("div",{className:"space-y-2 flex-1",children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Grouped by"}),g.jsx(Ls,{delayDuration:300,children:g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(F_,{className:"size-3 text-muted-foreground cursor-help"})}),g.jsx($r,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Labels to group by. If no labels are selected, all values will be combined into a single one."})})]})})]}),g.jsxs(Nd,{children:[g.jsx(Md,{asChild:!0,children:g.jsx(Ai,{variant:"outline",className:"w-full justify-start text-left",children:r.length>0?g.jsx("span",{children:r.join(", ")}):g.jsx("span",{className:"text-muted-foreground",children:"Select labels to group by..."})})}),g.jsx(Dd,{className:"w-[300px] p-0",align:"start",children:g.jsxs(Zv,{children:[g.jsx(Qv,{placeholder:"Search labels..."}),g.jsxs(Jv,{children:[g.jsx(e1,{children:"No labels found."}),g.jsx(t1,{heading:"Available Labels",children:L?.map($=>g.jsxs(n1,{value:$,onSelect:()=>{const q=r.includes($)?r.filter(z=>z!==$):[...r,$];m(q)},children:[g.jsx(WS,{className:Ie("mr-2 h-4 w-4",r.includes($)?"opacity-100":"opacity-0")}),$]},$))})]})]})})]})]}),R&&g.jsxs("div",{className:Ie("space-y-2","full-w"),children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Cross-label aggregation"}),g.jsx(Ls,{delayDuration:300,children:g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(F_,{className:"size-3 text-muted-foreground cursor-help"})}),g.jsx($r,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"If we have values from different labels, this allows us to specify how to combine them."})})]})})]}),g.jsxs(wv,{value:i||t.groupBy[0],onValueChange:v,children:[g.jsx(Zg,{className:"w-full",children:g.jsx(Ev,{})}),g.jsxs(Qg,{children:[t.groupBy.includes("sum")&&g.jsx(Xr,{value:"sum",children:"Sum values across labels"}),t.groupBy.includes("avg")&&g.jsx(Xr,{value:"avg",children:"Average values across labels"}),t.groupBy.includes("min")&&g.jsx(Xr,{value:"min",children:"Keep the lowest value across labels"}),t.groupBy.includes("max")&&g.jsx(Xr,{value:"max",children:"Keep the highest value across labels"})]})]})]}),g.jsx(vc,{className:"w-full"}),t&&p&&g.jsxs(g.Fragment,{children:[A&&g.jsxs("div",{className:"space-y-2 flex-1",children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Time Aggregation"}),g.jsx(Ls,{delayDuration:300,children:g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(F_,{className:"size-3 text-muted-foreground cursor-help"})}),g.jsx($r,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"How to aggregate the metric values over the selected time window"})})]})})]}),g.jsx(Ls,{delayDuration:300,children:g.jsxs(wv,{value:n||t.timeAggregation[0],onValueChange:p,children:[g.jsx(Zg,{className:"w-full",children:g.jsx(Ev,{})}),g.jsxs(Qg,{children:[t.timeAggregation.includes("last")&&g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(Xr,{value:"last",children:"Most recent value"})}),g.jsx($r,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Keep the most recent value in the time window"})})]}),t.timeAggregation.includes("avg")&&g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(Xr,{value:"avg",children:"Average over period"})}),g.jsx($r,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Calculates the mean of all values in the time window"})})]}),t.timeAggregation.includes("min")&&g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(Xr,{value:"min",children:"Minimum over period"})}),g.jsx($r,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Returns the lowest value in the time window"})})]}),t.timeAggregation.includes("max")&&g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(Xr,{value:"max",children:"Maximum over period"})}),g.jsx($r,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Returns the highest value in the time window"})})]}),t.timeAggregation.includes("match")&&g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(Xr,{value:"match",children:"Match percentage"})}),g.jsx($r,{side:"right",children:g.jsx("p",{className:"max-w-xs text-sm",children:"Percentage of time where metric matches a condition"})})]})]})]})})]}),n==="match"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Match Condition"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(wv,{value:l,onValueChange:$=>{w?.($,c)},children:[g.jsx(Zg,{className:"w-24",children:g.jsx(Ev,{})}),g.jsxs(Qg,{children:[g.jsx(Xr,{value:"==",children:"="}),g.jsx(Xr,{value:">",children:">"}),g.jsx(Xr,{value:"<",children:"<"}),g.jsx(Xr,{value:">=",children:">="}),g.jsx(Xr,{value:"<=",children:"<="}),g.jsx(Xr,{value:"!=",children:"!="})]})]}),g.jsx(fu,{type:"number",placeholder:"Value",value:c,onChange:$=>{w?.(l,$.target.value)}})]}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:["Shows percentage of time where metric ",l," ",c||"..."]})]})]})]})}function Hwt(e){return e.type==="rate"?"Answers questions like: how many signups do we have per second/minute/hour/day?":e.type==="increase"?"Answers questions like: how many new signups did we have in the last hour?":e.type==="ratio"?"Answers questions like: what percentage of signups are from the USA?":e.type==="histogram"?"Answers questions like: what is the response time for 95% of requests?":"Raw value of the metric."}const Fwt=px({type:"metric",propSchema:{metricId:{default:""},metricName:{default:""},title:{default:""},transform:{default:""},timeAggregation:{default:"last"},groupBy:{default:"[]"},groupByFn:{default:"sum"},matchOperator:{default:"=="},matchValue:{default:""},healthMin:{default:""},healthMax:{default:""},blockFilters:{default:"[]"},transformMetadata:{default:"{}"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=yt(ve=>ve.settingsOpenBlockId),i=yt(ve=>ve.closeBlockSettings),o=yt(ve=>ve.metrics),a=yt(ve=>ve.currentNotebook?.filters),s=yt(ve=>ve.startDate),l=yt(ve=>ve.endDate),c=yt(ve=>ve.currentNotebook?.id),[d,u]=C.useState(null),[p,m]=C.useState(!1),[v,x]=C.useState(!1),[w,T]=C.useState({}),k=e.block.props.metricId,O=e.block.props.metricName,I=e.block.props.title,N=e.block.props.transform,A=e.block.props.timeAggregation,R=e.block.props.groupByFn,L=e.block.props.healthMin,B=e.block.props.healthMax,$=e.block.props.matchOperator,q=e.block.props.matchValue,z=C.useMemo(()=>{try{return JSON.parse(e.block.props.groupBy)}catch{return[]}},[e.block.props.groupBy]),W=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),G=C.useMemo(()=>{try{return JSON.parse(e.block.props.transformMetadata)}catch{return{}}},[e.block.props.transformMetadata]),Z=C.useMemo(()=>[...a||[],...W],[a,W]),V=F.useMemo(()=>o.find(ve=>ve.id===k),[k,o]);if(C.useEffect(()=>{if(!n||!O||s===null||l===null||Z===void 0||!c){u(null);return}(async()=>{if(A==="match"&&!q){u(null);return}m(!0);try{const we=await kT.getScalar(n,O,s,l,N||null,G,z,R,A,$,q,Z,c);u(we)}catch(we){console.error("Failed to fetch metric scalar:",we),u(null)}finally{m(!1)}})()},[n,N,G,A,z,R,$,q,s,l,Z,c,O]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const ne=r===e.block.id,X=ve=>{e.editor.updateBlock(e.block,{props:{metricId:ve.id,metricName:ve.prometheusName,groupBy:ve.type==="gauge"?"avg":"sum"}})},oe=(ve,we)=>{e.editor.updateBlock(e.block,{props:{transform:ve||"",transformMetadata:JSON.stringify(we)}})},K=ve=>{e.editor.updateBlock(e.block,{props:{timeAggregation:ve}})},Q=ve=>{e.editor.updateBlock(e.block,{props:{groupByFn:ve}})},te=ve=>{e.editor.updateBlock(e.block,{props:{groupBy:JSON.stringify(ve)}})},U=ve=>{e.editor.updateBlock(e.block,{props:{blockFilters:JSON.stringify(ve)}})},fe=ve=>{T(ve),x(!0)},me=ve=>{const we=L?Number.parseFloat(L):null,je=B?Number.parseFloat(B):null;return we===null&&je===null?"text-green-700":we!==null&&!Number.isNaN(we)&&ve<we||je!==null&&!Number.isNaN(je)&&ve>je?"text-red-700":"text-green-700"},ke=()=>p&&d===null&&V?g.jsxs(d0,{className:"@container/card shadow-none",children:[g.jsxs(zp,{children:[g.jsx(u0,{className:"h-4 w-32"}),g.jsx(u0,{className:"h-8 w-24"})]}),g.jsx(Pv,{className:"flex-col items-start gap-1.5",children:g.jsx(u0,{className:"h-3 w-48"})})]}):d===null||d.scalars.length===0?g.jsxs(d0,{className:"@container/card shadow-none",children:[g.jsxs(zp,{className:"relative pb-3",children:[g.jsx(i1,{children:I||d?.prettyName||"N/A"}),g.jsx(vO,{className:Ie("text-2xl font-semibold @[250px]/card:text-3xl"),children:""})]}),g.jsx(Pv,{className:"flex flex-wrap gap-1.5 p-3 pt-0"})]}):g.jsx("div",{className:"outline-none flex flex-col gap-1",children:d.scalars.map(ve=>Ee(ve))}),Ee=ve=>{const we=A==="match",je=rH(ve.value,we?"%":d?.unit??void 0,N||null),Ke=L||B?me(ve.value):"",De=()=>I||(d?we?`${d.prettyName} ${$} ${q}`:N==="increase"?`${d.prettyName} - Increase`:N==="ratio"?`${d.prettyName} - Ratio`:A==="last"?`${d.prettyName} - Last value`:A==="avg"?`${d.prettyName} - Average over time`:A==="min"?`${d.prettyName} - Minimum over time`:A==="max"?`${d.prettyName} - Maximum over time`:d.prettyName:"N/A");return g.jsx("div",{className:"group",children:g.jsxs(d0,{className:"@container/card shadow-none",children:[g.jsxs(zp,{className:"relative pb-3",children:[g.jsxs("div",{className:"absolute right-3 top-0 px-2 py-1.5 rounded-b-lg border border-t-0 bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1.5 opacity-0 shadow-xs",onClick:()=>fe(ve.labels),children:[g.jsx(kH,{className:"size-4 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"History"})]}),g.jsx(i1,{children:De()}),g.jsxs(vO,{className:Ie("text-2xl font-semibold @[250px]/card:text-3xl",Ke),children:[je.formattedValue,je.displayUnit&&g.jsx("span",{className:Ie("text-muted-foreground ml-2 text-xl",Ke),children:je.displayUnit})]})]}),g.jsx(Pv,{className:"flex flex-wrap gap-1.5 p-3 pt-0",children:Object.entries(ve.labels).map(([It,Fe])=>g.jsx(eh,{labelKey:It,labelValue:Fe},It))})]})},Object.entries(ve.labels).map(([It,Fe])=>`${It}:${Fe}`).join(","))};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:ke()}),g.jsx(dy,{open:ne,onOpenChange:ve=>{ve||i()},children:g.jsxs(wm,{children:[g.jsx(Em,{children:g.jsx(Sm,{children:"Metric Settings"})}),g.jsxs("div",{className:"mt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Title"}),g.jsx(fu,{placeholder:"Optional title...",value:I,onChange:ve=>{e.editor.updateBlock(e.block,{props:{title:ve.target.value}})}})]}),g.jsx("div",{className:"space-y-3",children:g.jsx(uve,{metrics:o,selectedMetric:V??null,selectedTimeAggregation:A,selectedGroupBy:z,selectedGroupByFn:R,selectedTransform:N||null,onMetricSelect:X,onTransformChange:oe,onTimeAggregationChange:K,onGroupByChange:te,onGroupByFnChange:Q,onFiltersChange:U,blockFilters:W,matchOperator:$,matchValue:q,selectedTransformMetadata:G,onMatchConditionChange:(ve,we)=>{e.editor.updateBlock(e.block,{props:{matchOperator:ve,matchValue:we}})}})}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Health Interval (Optional)"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(fu,{type:"number",placeholder:"Min",value:L,onChange:ve=>{e.editor.updateBlock(e.block,{props:{healthMin:ve.target.value}})}}),g.jsx(fu,{type:"number",placeholder:"Max",value:B,onChange:ve=>{e.editor.updateBlock(e.block,{props:{healthMax:ve.target.value}})}})]}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"Values outside this range will be shown in red"})]})]})]})}),s!==null&&l!==null&&c&&g.jsx($wt,{metricName:O??"",prettyName:d?.prettyName??"",transformMetadata:G,transform:!N&&d?.type==="counter"?"ratePerSecond":N,unit:d?.unit??null,tenantName:n,groupBy:z,groupByFn:R,filters:[...Z,...Object.entries(w).map(([ve,we])=>({label:ve,value:we}))],open:v,startDate:s,endDate:l,onOpenChange:x,notebookId:c})]})}})(),Uwt=px({type:"metricHistory",propSchema:{metricId:{default:""},metricName:{default:""},transform:{default:""},transformMetadata:{default:"{}"},groupBy:{default:"[]"},groupByFn:{default:"sum"},blockFilters:{default:"[]"}},content:"none"},{render:e=>{const{tenant:t}=oh(),n=t?decodeURIComponent(t):"",r=yt(Z=>Z.settingsOpenBlockId),i=yt(Z=>Z.closeBlockSettings),o=yt(Z=>Z.openBlockSettings),a=yt(Z=>Z.metrics),s=yt(Z=>Z.startDate),l=yt(Z=>Z.endDate),c=yt(Z=>Z.currentNotebook?.filters),d=yt(Z=>Z.currentNotebook?.id),u=C.useMemo(()=>{try{return JSON.parse(e.block.props.blockFilters)}catch{return[]}},[e.block.props.blockFilters]),p=C.useMemo(()=>[...c||[],...u],[c,u]),[m,v]=C.useState({prettyName:"",unit:null,transform:null,series:[]}),[x,w]=C.useState(!1),T=e.block.props.metricId,k=e.block.props.transform,O=e.block.props.metricName,I=C.useMemo(()=>{try{return JSON.parse(e.block.props.groupBy)}catch{return[]}},[e.block.props.groupBy]),N=e.block.props.groupByFn,A=C.useMemo(()=>{try{return JSON.parse(e.block.props.transformMetadata)}catch{return{}}},[e.block.props.transformMetadata]),R=F.useMemo(()=>a.find(Z=>Z.id===T),[T,a]);if(C.useEffect(()=>{if(!n||!T||!s||!l||p===void 0||!d||!O){v({prettyName:"",unit:null,transform:null,series:[]});return}(async()=>{w(!0);try{const V=await kT.getHistory(n,O,k||null,A,s,l,p,I,N,d);v(V)}catch(V){console.error("Failed to fetch metric history:",V),v({prettyName:"",unit:null,transform:null,series:[]})}finally{w(!1)}})()},[n,T,O,k,A,s,l,p,I,N,d]),!n)return g.jsx("div",{className:"p-4 border rounded-lg",children:g.jsx("div",{className:"text-sm text-muted-foreground",children:"No tenant selected"})});const L=r===e.block.id,B=Z=>{e.editor.updateBlock(e.block,{props:{...e.block.props,metricId:Z.id,metricName:Z.prometheusName}})},$=Z=>{e.editor.updateBlock(e.block,{props:{...e.block.props,groupBy:JSON.stringify(Z)}})},q=Z=>{e.editor.updateBlock(e.block,{props:{...e.block.props,groupByFn:Z}})},z=Z=>{e.editor.updateBlock(e.block,{props:{blockFilters:JSON.stringify(Z)}})},W=(Z,V)=>{e.editor.updateBlock(e.block,{props:{transform:Z||"",transformMetadata:JSON.stringify(V)}})},G=()=>T?!s||!l?g.jsx("div",{className:"rounded-lg border p-8 text-center text-muted-foreground",children:g.jsx("p",{children:"No time window configured"})}):g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsx("div",{children:g.jsx("h3",{className:"text-lg font-semibold",children:m.prettyName})})}),g.jsx(cve,{historyData:m,unit:m.unit,transform:k||null,startDate:s,endDate:l})]}):g.jsx(ZH,{icon:kH,title:"No metric selected",description:"Select a metric to view its history.",onClick:()=>o(e.block.id),className:"cursor-pointer"});return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"outline-none min-w-0 flex-1",children:G()}),g.jsx(dy,{open:L,onOpenChange:Z=>{Z||i()},children:g.jsxs(wm,{children:[g.jsx(Em,{children:g.jsx(Sm,{children:"Metric History Settings"})}),g.jsx("div",{className:"mt-6 space-y-6",children:g.jsx(uve,{metrics:a.filter(Z=>Z.type!=="increase"),blockFilters:u,selectedTransform:k||null,selectedTransformMetadata:A,selectedMetric:R??null,selectedGroupBy:I,selectedGroupByFn:N,onMetricSelect:B,onGroupByChange:$,onGroupByFnChange:q,onFiltersChange:z,onTransformChange:W})})]})})]})}})(),zwt=(e={})=>C.useMemo(()=>{const t=vhe.create(e);window&&(window.ProseMirror=t._tiptapEditor);const n=t.extensions.sideMenu;return n.plugins[0]=new rn({key:dhe,view:r=>{n.view=new uhe(t,r,o=>{n.emit("update",o)});const i=o=>{let a=n.view.pmView.root.querySelectorAll("div[role=dialog] .bn-editor");if(a.length===0&&(a=Array.from(n.view.pmView.root.querySelectorAll(".bn-editor"))),a.length===0)return null;let s=a[0],l=Number.MAX_VALUE;return a.forEach(c=>{const d=c.querySelector(".bn-block-group").getBoundingClientRect(),u=o.clientX<d.left?d.left-o.clientX:o.clientX>d.right?o.clientX-d.right:0,p=o.clientY<d.top?d.top-o.clientY:o.clientY>d.bottom?o.clientY-d.bottom:0,m=Math.sqrt(u**2+p**2);m<l&&(l=m,s=c)}),{element:s,distance:l}};return n.view.findClosestEditorElement=i,n.view}}),t},[]),Vwt={heading:fV,heading_2:hV,heading_3:pV,heading_4:gke,heading_5:bke,heading_6:xke,toggle_heading:fV,toggle_heading_2:hV,toggle_heading_3:pV,quote:Zke,toggle_list:Bie,numbered_list:Ike,bullet_list:Lke,check_list:Oke,paragraph:Gke,table:p2e,image:Tke,video:l2e,audio:wTe,file:ake,emoji:i2e,code_block:ZTe,divider:zke,columns_2:Rie,columns_3:Iie};function qwt(e){const t=[];return fat(e)&&t.push({...$K(e).slash_menu.two_columns,icon:g.jsx(Rie,{className:"size-4.5"}),onItemClick:()=>{Rr(e,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}},{...$K(e).slash_menu.three_columns,icon:g.jsx(Iie,{className:"size-4.5"}),onItemClick:()=>{Rr(e,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}}),t}function Wwt(e,t=[]){const n=ice(e).map(i=>{const o=Vwt[i.key];return{...i,icon:g.jsx(o,{className:"size-4.5"})}}),r=qwt(e);return[...DXe(n,r),...t]}function dve({tenantName:e,notebook:t,openBlockSettings:n,updateNotebook:r,editable:i=!0}){const[o,a]=C.useState(!1),[s,l]=C.useState(!1),{table:c,...d}=oce,u=zwt({schema:sat(UD.create({blockSpecs:{...d,flow:Nat,flowHistory:Mat,flowStatus:Iat,heatmap:Lat,metric:Fwt,metricHistory:Uwt}})),dropCursor:cat,dictionary:{...f8,multi_column:tat.en},placeholders:{...f8.placeholders,emptyDocument:"Write or press '/' for commands",default:"Write or press '/' for commands"},extensions:[]});u.onMount(()=>{l(!0)}),C.useEffect(()=>{a(!1),s&&(u.replaceBlocks(u.document,t.blocks||[]),a(!0))},[t.id,u,s]),uR(m=>{if(!o)return;const v=[],x=[];m.document.forEach(w=>{w.type==="flow"?v.push({names:[],filters:JSON.parse(w.props.blockFilters)}):w.type==="flowHistory"||w.type==="flowStatus"||w.type==="heatmap"?v.push({names:[w.props.flowName],filters:JSON.parse(w.props.blockFilters)}):(w.type==="metric"||w.type==="metricHistory")&&x.push({names:[w.props.metricName],filters:JSON.parse(w.props.blockFilters)})}),r(e,t,{blocks:m.document,flowBlocksFilters:v,metricBlocksFilters:x})},u);const p=F.useCallback(m=>g.jsxs(ipe,{...m,children:[g.jsx(hat,{...m}),g.jsx(xat,{openBlockSettings:n,...m})]}),[n]);return g.jsx("div",{className:"flex-1 flex flex-col h-screen",children:g.jsx("div",{className:"flex-1 overflow-y-auto",children:g.jsxs("div",{className:"mx-auto py-12",children:[g.jsxs("div",{className:"mx-32",children:[i?g.jsx("input",{type:"text",value:t.title,onChange:m=>{r(e,t,{title:m.target.value})},placeholder:"Untitled",className:"w-full text-5xl font-bold mb-4 outline-none border-none bg-transparent placeholder:text-muted-foreground"}):g.jsx("h1",{className:"w-full text-5xl font-bold mb-4",children:t.title}),i?g.jsx("input",{type:"text",value:t.description,onChange:m=>{r(e,t,{description:m.target.value})},placeholder:"Add a description...",className:"w-full text-lg text-secondary-foreground mb-8 outline-none border-none bg-transparent placeholder:text-muted-foreground"}):g.jsx("p",{className:"w-full text-lg text-secondary-foreground mb-8",children:t.description})]}),g.jsx("div",{className:"mx-19 mb-32",children:g.jsxs($ge,{editor:u,theme:"light",slashMenu:!1,sideMenu:!1,editable:i,children:[g.jsx(lpe,{triggerCharacter:"/",suggestionMenuComponent:Eat,getItems:async m=>{const v=Wwt(u,[{title:"Flows Table",onItemClick:()=>{Rr(u,{type:"flow"})},group:"Flows",subtext:"List of all flows with information about their last run",icon:g.jsx(f2e,{className:"size-4.5"}),aliases:[]},{title:"Flow History",onItemClick:()=>{const w=Rr(u,{type:"flowHistory"});n(w.id)},group:"Flows",subtext:"List of all executions for a given flow",icon:g.jsx(Eke,{className:"size-4.5"}),aliases:[]},{title:"Flow Card",onItemClick:()=>{const w=Rr(u,{type:"flowStatus"});n(w.id)},group:"Flows",subtext:"Card showing key information about a specific flow",icon:g.jsx(Jke,{className:"size-4.5"}),aliases:["run counts","flow run count"]},{title:"Heatmap",onItemClick:()=>{const w=Rr(u,{type:"heatmap"});n(w.id)},group:"Flows",subtext:"Heatmap showing daily status for a given flow",icon:g.jsx(_ke,{className:"size-4.5"}),aliases:["flow heatmap"]},{title:"Number",onItemClick:()=>{const w=Rr(u,{type:"metric"});n(w.id)},group:"Metrics",subtext:"Display a metric value aggregated across time window. For example, the total number of signups.",icon:g.jsx(a2e,{className:"size-4.5"}),aliases:["metric"]},{title:"Chart",onItemClick:()=>{const w=Rr(u,{type:"metricHistory"});n(w.id)},group:"Metrics",subtext:"Chart showing metric history over time. For example, the number of signups over time.",icon:g.jsx(kH,{className:"size-4.5"}),aliases:["metric history"]}]),x=m.trim().toLowerCase();return x?v.filter(w=>w.title?.toLowerCase().includes(x)||w.aliases?.some(T=>T.includes(x))):v}}),g.jsx(ope,{sideMenu:p})]})})]})})})}function Ywt(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const Gwt={},hS={};function l0(e,t){try{const r=(Gwt[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in hS?hS[r]:Ane(r,r.split(":"))}catch{if(e in hS)return hS[e];const n=e?.match(Kwt);return n?Ane(e,n.slice(1)):NaN}}const Kwt=/([+-]\d\d):?(\d\d)?/;function Ane(e,t){const n=+(t[0]||0),r=+(t[1]||0),i=+(t[2]||0)/60;return hS[e]=n*60+r>0?n*60+r+i:n*60-r-i}class bd extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(l0(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),fve(this),iH(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new bd(...n,t):new bd(Date.now(),t)}withTimeZone(t){return new bd(+this,t)}getTimezoneOffset(){const t=-l0(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),iH(this),+this}[Symbol.for("constructDateFrom")](t){return new bd(+new Date(t),this.timeZone)}}const One=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!One.test(e))return;const t=e.replace(One,"$1UTC");bd.prototype[t]&&(e.startsWith("get")?bd.prototype[e]=function(){return this.internal[t]()}:(bd.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Xwt(this),+this},bd.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),iH(this),+this}))});function iH(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-l0(e.timeZone,e)*60))}function Xwt(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),fve(e)}function fve(e){const t=l0(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+e).getTimezoneOffset(),o=-new Date(+r).getTimezoneOffset(),a=i-o,s=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&s&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const l=i-n;l&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);const c=new Date(+e);c.setUTCSeconds(0);const d=i>0?c.getSeconds():(c.getSeconds()-60)%60,u=Math.round(-(l0(e.timeZone,e)*60))%60;(u||d)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+u),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+u+d));const p=l0(e.timeZone,e),m=p>0?Math.floor(p):Math.ceil(p),x=-new Date(+e).getTimezoneOffset()-m,w=m!==n,T=x-l;if(w&&T){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+T);const k=l0(e.timeZone,e),O=k>0?Math.floor(k):Math.ceil(k),I=m-O;I&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+I),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+I))}}class va extends bd{static tz(t,...n){return n.length?new va(...n,t):new va(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),i=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,i]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${t} GMT${n}${r}${i} (${Ywt(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),i=String(Math.abs(t)%60).padStart(2,"0");return[n,r,i]}withTimeZone(t){return new va(+this,t)}[Symbol.for("constructDateFrom")](t){return new va(+new Date(t),this.timeZone)}}const Nne=5,Zwt=4;function Qwt(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,i=t.addDays(e,-r+1),o=t.addDays(i,Nne*7-1);return t.getMonth(e)===t.getMonth(o)?Nne:Zwt}function hve(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function Jwt(e,t){const n=hve(e,t),r=Qwt(e,t);return t.addDays(n,r*7-1)}class Pl{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?va.tz(this.options.timeZone):new this.Date,this.newDate=(r,i,o)=>this.overrides?.newDate?this.overrides.newDate(r,i,o):this.options.timeZone?new va(r,i,o,this.options.timeZone):new Date(r,i,o),this.addDays=(r,i)=>this.overrides?.addDays?this.overrides.addDays(r,i):CT(r,i),this.addMonths=(r,i)=>this.overrides?.addMonths?this.overrides.addMonths(r,i):LH(r,i),this.addWeeks=(r,i)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,i):v_e(r,i),this.addYears=(r,i)=>this.overrides?.addYears?this.overrides.addYears(r,i):x_e(r,i),this.differenceInCalendarDays=(r,i)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,i):Coe(r,i),this.differenceInCalendarMonths=(r,i)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,i):T_e(r,i),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):N_e(r),this.eachYearOfInterval=r=>{const i=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):R_e(r),o=new Set(i.map(s=>this.getYear(s)));if(o.size===i.length)return i;const a=[];return o.forEach(s=>{a.push(new Date(s,0,1))}),a},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):Jwt(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):I_e(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):O_e(r),this.endOfWeek=(r,i)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,i):jH(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):D_e(r),this.format=(r,i,o)=>{const a=this.overrides?.format?this.overrides.format(r,i,this.options):Wf(r,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):Ooe(r),this.getMonth=(r,i)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):MAe(r,this.options),this.getYear=(r,i)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):DAe(r,this.options),this.getWeek=(r,i)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):Moe(r,this.options),this.isAfter=(r,i)=>this.overrides?.isAfter?this.overrides.isAfter(r,i):RAe(r,i),this.isBefore=(r,i)=>this.overrides?.isBefore?this.overrides.isBefore(r,i):IAe(r,i),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):Toe(r),this.isSameDay=(r,i)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,i):S_e(r,i),this.isSameMonth=(r,i)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,i):PAe(r,i),this.isSameYear=(r,i)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,i):LAe(r,i),this.max=r=>this.overrides?.max?this.overrides.max(r):w_e(r),this.min=r=>this.overrides?.min?this.overrides.min(r):E_e(r),this.setMonth=(r,i)=>this.overrides?.setMonth?this.overrides.setMonth(r,i):jAe(r,i),this.setYear=(r,i)=>this.overrides?.setYear?this.overrides.setYear(r,i):BAe(r,i),this.startOfBroadcastWeek=(r,i)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):hve(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):Xv(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):GS(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):M_e(r),this.startOfWeek=(r,i)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):C0(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):Aoe(r),this.options={locale:BH,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Pl.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:i}=this.options,o=n?.code;if(o&&Pl.yearFirstLocales.has(o))try{return new Intl.DateTimeFormat(o,{month:"long",year:"numeric",timeZone:r,numberingSystem:i}).format(t)}catch{}const a=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,a)}}Pl.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Ud=new Pl;class pve{constructor(t,n,r=Ud){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class eEt{constructor(t,n){this.date=t,this.weeks=n}}class tEt{constructor(t,n){this.days=n,this.weekNumber=t}}function nEt(e){return F.createElement("button",{...e})}function rEt(e){return F.createElement("span",{...e})}function iEt(e){const{size:t=24,orientation:n="left",className:r}=e;return F.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&F.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&F.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&F.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&F.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function oEt(e){const{day:t,modifiers:n,...r}=e;return F.createElement("td",{...r})}function aEt(e){const{day:t,modifiers:n,...r}=e,i=F.useRef(null);return F.useEffect(()=>{n.focused&&i.current?.focus()},[n.focused]),F.createElement("button",{ref:i,...r})}var zt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(zt||(zt={}));var ki;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(ki||(ki={}));var uu;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(uu||(uu={}));var xl;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(xl||(xl={}));function sEt(e){const{options:t,className:n,components:r,classNames:i,...o}=e,a=[i[zt.Dropdown],n].join(" "),s=t?.find(({value:l})=>l===o.value);return F.createElement("span",{"data-disabled":o.disabled,className:i[zt.DropdownRoot]},F.createElement(r.Select,{className:a,...o},t?.map(({value:l,label:c,disabled:d})=>F.createElement(r.Option,{key:l,value:l,disabled:d},c))),F.createElement("span",{className:i[zt.CaptionLabel],"aria-hidden":!0},s?.label,F.createElement(r.Chevron,{orientation:"down",size:18,className:i[zt.Chevron]})))}function lEt(e){return F.createElement("div",{...e})}function cEt(e){return F.createElement("div",{...e})}function uEt(e){const{calendarMonth:t,displayIndex:n,...r}=e;return F.createElement("div",{...r},e.children)}function dEt(e){const{calendarMonth:t,displayIndex:n,...r}=e;return F.createElement("div",{...r})}function fEt(e){return F.createElement("table",{...e})}function hEt(e){return F.createElement("div",{...e})}const mve=C.createContext(void 0);function gk(){const e=C.useContext(mve);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function pEt(e){const{components:t}=gk();return F.createElement(t.Dropdown,{...e})}function mEt(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:i,...o}=e,{components:a,classNames:s,labels:{labelPrevious:l,labelNext:c}}=gk(),d=C.useCallback(p=>{i&&n?.(p)},[i,n]),u=C.useCallback(p=>{r&&t?.(p)},[r,t]);return F.createElement("nav",{...o},F.createElement(a.PreviousMonthButton,{type:"button",className:s[zt.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:u},F.createElement(a.Chevron,{disabled:r?void 0:!0,className:s[zt.Chevron],orientation:"left"})),F.createElement(a.NextMonthButton,{type:"button",className:s[zt.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":c(i),onClick:d},F.createElement(a.Chevron,{disabled:i?void 0:!0,orientation:"right",className:s[zt.Chevron]})))}function gEt(e){const{components:t}=gk();return F.createElement(t.Button,{...e})}function yEt(e){return F.createElement("option",{...e})}function bEt(e){const{components:t}=gk();return F.createElement(t.Button,{...e})}function vEt(e){const{rootRef:t,...n}=e;return F.createElement("div",{...n,ref:t})}function xEt(e){return F.createElement("select",{...e})}function wEt(e){const{week:t,...n}=e;return F.createElement("tr",{...n})}function EEt(e){return F.createElement("th",{...e})}function SEt(e){return F.createElement("thead",{"aria-hidden":!0},F.createElement("tr",{...e}))}function CEt(e){const{week:t,...n}=e;return F.createElement("th",{...n})}function TEt(e){return F.createElement("th",{...e})}function kEt(e){return F.createElement("tbody",{...e})}function _Et(e){const{components:t}=gk();return F.createElement(t.Dropdown,{...e})}const AEt=Object.freeze(Object.defineProperty({__proto__:null,Button:nEt,CaptionLabel:rEt,Chevron:iEt,Day:oEt,DayButton:aEt,Dropdown:sEt,DropdownNav:lEt,Footer:cEt,Month:uEt,MonthCaption:dEt,MonthGrid:fEt,Months:hEt,MonthsDropdown:pEt,Nav:mEt,NextMonthButton:gEt,Option:yEt,PreviousMonthButton:bEt,Root:vEt,Select:xEt,Week:wEt,WeekNumber:CEt,WeekNumberHeader:TEt,Weekday:EEt,Weekdays:SEt,Weeks:kEt,YearsDropdown:_Et},Symbol.toStringTag,{value:"Module"}));function Pf(e,t,n=!1,r=Ud){let{from:i,to:o}=e;const{differenceInCalendarDays:a,isSameDay:s}=r;return i&&o?(a(o,i)<0&&([i,o]=[o,i]),a(t,i)>=(n?1:0)&&a(o,t)>=(n?1:0)):!n&&o?s(o,t):!n&&i?s(i,t):!1}function gve(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function XU(e){return!!(e&&typeof e=="object"&&"from"in e)}function yve(e){return!!(e&&typeof e=="object"&&"after"in e)}function bve(e){return!!(e&&typeof e=="object"&&"before"in e)}function vve(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function xve(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Lf(e,t,n=Ud){const r=Array.isArray(t)?t:[t],{isSameDay:i,differenceInCalendarDays:o,isAfter:a}=n;return r.some(s=>{if(typeof s=="boolean")return s;if(n.isDate(s))return i(e,s);if(xve(s,n))return s.includes(e);if(XU(s))return Pf(s,e,!1,n);if(vve(s))return Array.isArray(s.dayOfWeek)?s.dayOfWeek.includes(e.getDay()):s.dayOfWeek===e.getDay();if(gve(s)){const l=o(s.before,e),c=o(s.after,e),d=l>0,u=c<0;return a(s.before,s.after)?u&&d:d||u}return yve(s)?o(e,s.after)>0:bve(s)?o(s.before,e)>0:typeof s=="function"?s(e):!1})}function OEt(e,t,n,r,i){const{disabled:o,hidden:a,modifiers:s,showOutsideDays:l,broadcastCalendar:c,today:d}=t,{isSameDay:u,isSameMonth:p,startOfMonth:m,isBefore:v,endOfMonth:x,isAfter:w}=i,T=n&&m(n),k=r&&x(r),O={[ki.focused]:[],[ki.outside]:[],[ki.disabled]:[],[ki.hidden]:[],[ki.today]:[]},I={};for(const N of e){const{date:A,displayMonth:R}=N,L=!!(R&&!p(A,R)),B=!!(T&&v(A,T)),$=!!(k&&w(A,k)),q=!!(o&&Lf(A,o,i)),z=!!(a&&Lf(A,a,i))||B||$||!c&&!l&&L||c&&l===!1&&L,W=u(A,d??i.today());L&&O.outside.push(N),q&&O.disabled.push(N),z&&O.hidden.push(N),W&&O.today.push(N),s&&Object.keys(s).forEach(G=>{const Z=s?.[G];Z&&Lf(A,Z,i)&&(I[G]?I[G].push(N):I[G]=[N])})}return N=>{const A={[ki.focused]:!1,[ki.disabled]:!1,[ki.hidden]:!1,[ki.outside]:!1,[ki.today]:!1},R={};for(const L in O){const B=O[L];A[L]=B.some($=>$===N)}for(const L in I)R[L]=I[L].some(B=>B===N);return{...A,...R}}}function NEt(e,t,n={}){return Object.entries(e).filter(([,i])=>i===!0).reduce((i,[o])=>(n[o]?i.push(n[o]):t[ki[o]]?i.push(t[ki[o]]):t[uu[o]]&&i.push(t[uu[o]]),i),[t[zt.Day]])}function MEt(e){return{...AEt,...e}}function DEt(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function ZU(){const e={};for(const t in zt)e[zt[t]]=`rdp-${zt[t]}`;for(const t in ki)e[ki[t]]=`rdp-${ki[t]}`;for(const t in uu)e[uu[t]]=`rdp-${uu[t]}`;for(const t in xl)e[xl[t]]=`rdp-${xl[t]}`;return e}function wve(e,t,n){return(n??new Pl(t)).formatMonthYear(e)}const REt=wve;function IEt(e,t,n){return(n??new Pl(t)).format(e,"d")}function PEt(e,t=Ud){return t.format(e,"LLLL")}function LEt(e,t,n){return(n??new Pl(t)).format(e,"cccccc")}function jEt(e,t=Ud){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function BEt(){return""}function Eve(e,t=Ud){return t.format(e,"yyyy")}const $Et=Eve,HEt=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:wve,formatDay:IEt,formatMonthCaption:REt,formatMonthDropdown:PEt,formatWeekNumber:jEt,formatWeekNumberHeader:BEt,formatWeekdayName:LEt,formatYearCaption:$Et,formatYearDropdown:Eve},Symbol.toStringTag,{value:"Module"}));function FEt(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...HEt,...e}}function UEt(e,t,n,r,i){const{startOfMonth:o,startOfYear:a,endOfYear:s,eachMonthOfInterval:l,getMonth:c}=i;return l({start:a(e),end:s(e)}).map(p=>{const m=r.formatMonthDropdown(p,i),v=c(p),x=t&&p<o(t)||n&&p>o(n)||!1;return{value:v,label:m,disabled:x}})}function zEt(e,t={},n={}){let r={...t?.[zt.Day]};return Object.entries(e).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n?.[i]}}),r}function VEt(e,t,n){const r=e.today(),i=t?e.startOfISOWeek(r):e.startOfWeek(r),o=[];for(let a=0;a<7;a++){const s=e.addDays(i,a);o.push(s)}return o}function qEt(e,t,n,r,i=!1){if(!e||!t)return;const{startOfYear:o,endOfYear:a,eachYearOfInterval:s,getYear:l}=r,c=o(e),d=a(t),u=s({start:c,end:d});return i&&u.reverse(),u.map(p=>{const m=n.formatYearDropdown(p,r);return{value:l(p),label:m,disabled:!1}})}function Sve(e,t,n,r){let i=(r??new Pl(n)).format(e,"PPPP");return t.today&&(i=`Today, ${i}`),t.selected&&(i=`${i}, selected`),i}const WEt=Sve;function Cve(e,t,n){return(n??new Pl(t)).formatMonthYear(e)}const YEt=Cve;function GEt(e,t,n,r){let i=(r??new Pl(n)).format(e,"PPPP");return t?.today&&(i=`Today, ${i}`),i}function KEt(e){return"Choose the Month"}function XEt(){return""}function ZEt(e){return"Go to the Next Month"}function QEt(e){return"Go to the Previous Month"}function JEt(e,t,n){return(n??new Pl(t)).format(e,"cccc")}function eSt(e,t){return`Week ${e}`}function tSt(e){return"Week Number"}function nSt(e){return"Choose the Year"}const rSt=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:YEt,labelDay:WEt,labelDayButton:Sve,labelGrid:Cve,labelGridcell:GEt,labelMonthDropdown:KEt,labelNav:XEt,labelNext:ZEt,labelPrevious:QEt,labelWeekNumber:eSt,labelWeekNumberHeader:tSt,labelWeekday:JEt,labelYearDropdown:nSt},Symbol.toStringTag,{value:"Module"})),yk=e=>e instanceof HTMLElement?e:null,w6=e=>[...e.querySelectorAll("[data-animated-month]")??[]],iSt=e=>yk(e.querySelector("[data-animated-month]")),E6=e=>yk(e.querySelector("[data-animated-caption]")),S6=e=>yk(e.querySelector("[data-animated-weeks]")),oSt=e=>yk(e.querySelector("[data-animated-nav]")),aSt=e=>yk(e.querySelector("[data-animated-weekdays]"));function sSt(e,t,{classNames:n,months:r,focused:i,dateLib:o}){const a=C.useRef(null),s=C.useRef(r),l=C.useRef(!1);C.useLayoutEffect(()=>{const c=s.current;if(s.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||c.length===0||r.length!==c.length)return;const d=o.isSameMonth(r[0].date,c[0].date),u=o.isAfter(r[0].date,c[0].date),p=u?n[xl.caption_after_enter]:n[xl.caption_before_enter],m=u?n[xl.weeks_after_enter]:n[xl.weeks_before_enter],v=a.current,x=e.current.cloneNode(!0);if(x instanceof HTMLElement?(w6(x).forEach(O=>{if(!(O instanceof HTMLElement))return;const I=iSt(O);I&&O.contains(I)&&O.removeChild(I);const N=E6(O);N&&N.classList.remove(p);const A=S6(O);A&&A.classList.remove(m)}),a.current=x):a.current=null,l.current||d||i)return;const w=v instanceof HTMLElement?w6(v):[],T=w6(e.current);if(T?.every(k=>k instanceof HTMLElement)&&w&&w.every(k=>k instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const k=oSt(e.current);k&&(k.style.zIndex="1"),T.forEach((O,I)=>{const N=w[I];if(!N)return;O.style.position="relative",O.style.overflow="hidden";const A=E6(O);A&&A.classList.add(p);const R=S6(O);R&&R.classList.add(m);const L=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),k&&(k.style.zIndex=""),A&&A.classList.remove(p),R&&R.classList.remove(m),O.style.position="",O.style.overflow="",O.contains(N)&&O.removeChild(N)};N.style.pointerEvents="none",N.style.position="absolute",N.style.overflow="hidden",N.setAttribute("aria-hidden","true");const B=aSt(N);B&&(B.style.opacity="0");const $=E6(N);$&&($.classList.add(u?n[xl.caption_before_exit]:n[xl.caption_after_exit]),$.addEventListener("animationend",L));const q=S6(N);q&&q.classList.add(u?n[xl.weeks_before_exit]:n[xl.weeks_after_exit]),O.insertBefore(N,O.firstChild)})}})}function lSt(e,t,n,r){const i=e[0],o=e[e.length-1],{ISOWeek:a,fixedWeeks:s,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:d,differenceInCalendarMonths:u,endOfBroadcastWeek:p,endOfISOWeek:m,endOfMonth:v,endOfWeek:x,isAfter:w,startOfBroadcastWeek:T,startOfISOWeek:k,startOfWeek:O}=r,I=l?T(i,r):a?k(i):O(i),N=l?p(o):a?m(v(o)):x(v(o)),A=d(N,I),R=u(o,i)+1,L=[];for(let q=0;q<=A;q++){const z=c(I,q);if(t&&w(z,t))break;L.push(z)}const $=(l?35:42)*R;if(s&&L.length<$){const q=$-L.length;for(let z=0;z<q;z++){const W=c(L[L.length-1],1);L.push(W)}}return L}function cSt(e){const t=[];return e.reduce((n,r)=>{const i=r.weeks.reduce((o,a)=>o.concat(a.days.slice()),t.slice());return n.concat(i.slice())},t.slice())}function uSt(e,t,n,r){const{numberOfMonths:i=1}=n,o=[];for(let a=0;a<i;a++){const s=r.addMonths(e,a);if(t&&s>t)break;o.push(s)}return o}function Mne(e,t,n,r){const{month:i,defaultMonth:o,today:a=r.today(),numberOfMonths:s=1}=e;let l=i||o||a;const{differenceInCalendarMonths:c,addMonths:d,startOfMonth:u}=r;if(n&&c(n,l)<s-1){const p=-1*(s-1);l=d(n,p)}return t&&c(l,t)<0&&(l=t),u(l)}function dSt(e,t,n,r){const{addDays:i,endOfBroadcastWeek:o,endOfISOWeek:a,endOfMonth:s,endOfWeek:l,getISOWeek:c,getWeek:d,startOfBroadcastWeek:u,startOfISOWeek:p,startOfWeek:m}=r,v=e.reduce((x,w)=>{const T=n.broadcastCalendar?u(w,r):n.ISOWeek?p(w):m(w),k=n.broadcastCalendar?o(w):n.ISOWeek?a(s(w)):l(s(w)),O=t.filter(R=>R>=T&&R<=k),I=n.broadcastCalendar?35:42;if(n.fixedWeeks&&O.length<I){const R=t.filter(L=>{const B=I-O.length;return L>k&&L<=i(k,B)});O.push(...R)}const N=O.reduce((R,L)=>{const B=n.ISOWeek?c(L):d(L),$=R.find(z=>z.weekNumber===B),q=new pve(L,w,r);return $?$.days.push(q):R.push(new tEt(B,[q])),R},[]),A=new eEt(w,N);return x.push(A),x},[]);return n.reverseMonths?v.reverse():v}function fSt(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:i,startOfDay:o,startOfMonth:a,endOfMonth:s,addYears:l,endOfYear:c,newDate:d,today:u}=t,{fromYear:p,toYear:m,fromMonth:v,toMonth:x}=e;!n&&v&&(n=v),!n&&p&&(n=t.newDate(p,0,1)),!r&&x&&(r=x),!r&&m&&(r=d(m,11,31));const w=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=a(n):p?n=d(p,0,1):!n&&w&&(n=i(l(e.today??u(),-100))),r?r=s(r):m?r=d(m,11,31):!r&&w&&(r=c(e.today??u())),[n&&o(n),r&&o(r)]}function hSt(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:o=1}=n,{startOfMonth:a,addMonths:s,differenceInCalendarMonths:l}=r,c=i?o:1,d=a(e);if(!t)return s(d,c);if(!(l(t,e)<o))return s(d,c)}function pSt(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:o}=n,{startOfMonth:a,addMonths:s,differenceInCalendarMonths:l}=r,c=i?o??1:1,d=a(e);if(!t)return s(d,-c);if(!(l(d,t)<=0))return s(d,-c)}function mSt(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function i3(e,t){const[n,r]=C.useState(e);return[t===void 0?n:t,r]}function gSt(e,t){const[n,r]=fSt(e,t),{startOfMonth:i,endOfMonth:o}=t,a=Mne(e,n,r,t),[s,l]=i3(a,e.month?a:void 0);C.useEffect(()=>{const A=Mne(e,n,r,t);l(A)},[e.timeZone]);const c=uSt(s,r,e,t),d=lSt(c,e.endMonth?o(e.endMonth):void 0,e,t),u=dSt(c,d,e,t),p=mSt(u),m=cSt(u),v=pSt(s,n,e,t),x=hSt(s,r,e,t),{disableNavigation:w,onMonthChange:T}=e,k=A=>p.some(R=>R.days.some(L=>L.isEqualTo(A))),O=A=>{if(w)return;let R=i(A);n&&R<i(n)&&(R=i(n)),r&&R>i(r)&&(R=i(r)),l(R),T?.(R)};return{months:u,weeks:p,days:m,navStart:n,navEnd:r,previousMonth:v,nextMonth:x,goToMonth:O,goToDay:A=>{k(A)||O(A.date)}}}var dd;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(dd||(dd={}));function Dne(e){return!e[ki.disabled]&&!e[ki.hidden]&&!e[ki.outside]}function ySt(e,t,n,r){let i,o=-1;for(const a of e){const s=t(a);Dne(s)&&(s[ki.focused]&&o<dd.FocusedModifier?(i=a,o=dd.FocusedModifier):r?.isEqualTo(a)&&o<dd.LastFocused?(i=a,o=dd.LastFocused):n(a.date)&&o<dd.Selected?(i=a,o=dd.Selected):s[ki.today]&&o<dd.Today&&(i=a,o=dd.Today))}return i||(i=e.find(a=>Dne(t(a)))),i}function bSt(e,t,n,r,i,o,a){const{ISOWeek:s,broadcastCalendar:l}=o,{addDays:c,addMonths:d,addWeeks:u,addYears:p,endOfBroadcastWeek:m,endOfISOWeek:v,endOfWeek:x,max:w,min:T,startOfBroadcastWeek:k,startOfISOWeek:O,startOfWeek:I}=a;let A={day:c,week:u,month:d,year:p,startOfWeek:R=>l?k(R,a):s?O(R):I(R),endOfWeek:R=>l?m(R):s?v(R):x(R)}[e](n,t==="after"?1:-1);return t==="before"&&r?A=w([r,A]):t==="after"&&i&&(A=T([i,A])),A}function Tve(e,t,n,r,i,o,a,s=0){if(s>365)return;const l=bSt(e,t,n.date,r,i,o,a),c=!!(o.disabled&&Lf(l,o.disabled,a)),d=!!(o.hidden&&Lf(l,o.hidden,a)),u=l,p=new pve(l,u,a);return!c&&!d?p:Tve(e,t,p,r,i,o,a,s+1)}function vSt(e,t,n,r,i){const{autoFocus:o}=e,[a,s]=C.useState(),l=ySt(t.days,n,r||(()=>!1),a),[c,d]=C.useState(o?l:void 0);return{isFocusTarget:x=>!!l?.isEqualTo(x),setFocused:d,focused:c,blur:()=>{s(c),d(void 0)},moveFocus:(x,w)=>{if(!c)return;const T=Tve(x,w,c,t.navStart,t.navEnd,e,i);T&&(e.disableNavigation&&!t.days.some(O=>O.isEqualTo(T))||(t.goToDay(T),d(T)))}}}function xSt(e,t){const{selected:n,required:r,onSelect:i}=e,[o,a]=i3(n,i?n:void 0),s=i?n:o,{isSameDay:l}=t,c=m=>s?.some(v=>l(v,m))??!1,{min:d,max:u}=e;return{selected:s,select:(m,v,x)=>{let w=[...s??[]];if(c(m)){if(s?.length===d||r&&s?.length===1)return;w=s?.filter(T=>!l(T,m))}else s?.length===u?w=[m]:w=[...w,m];return i||a(w),i?.(w,m,v,x),w},isSelected:c}}function wSt(e,t,n=0,r=0,i=!1,o=Ud){const{from:a,to:s}=t||{},{isSameDay:l,isAfter:c,isBefore:d}=o;let u;if(!a&&!s)u={from:e,to:n>0?void 0:e};else if(a&&!s)l(a,e)?n===0?u={from:a,to:e}:i?u={from:a,to:void 0}:u=void 0:d(e,a)?u={from:e,to:a}:u={from:a,to:e};else if(a&&s)if(l(a,e)&&l(s,e))i?u={from:a,to:s}:u=void 0;else if(l(a,e))u={from:a,to:n>0?void 0:e};else if(l(s,e))u={from:e,to:n>0?void 0:e};else if(d(e,a))u={from:e,to:s};else if(c(e,a))u={from:a,to:e};else if(c(e,s))u={from:a,to:e};else throw new Error("Invalid range");if(u?.from&&u?.to){const p=o.differenceInCalendarDays(u.to,u.from);r>0&&p>r?u={from:e,to:void 0}:n>1&&p<n&&(u={from:e,to:void 0})}return u}function ESt(e,t,n=Ud){const r=Array.isArray(t)?t:[t];let i=e.from;const o=n.differenceInCalendarDays(e.to,e.from),a=Math.min(o,6);for(let s=0;s<=a;s++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function Rne(e,t,n=Ud){return Pf(e,t.from,!1,n)||Pf(e,t.to,!1,n)||Pf(t,e.from,!1,n)||Pf(t,e.to,!1,n)}function SSt(e,t,n=Ud){const r=Array.isArray(t)?t:[t];if(r.filter(s=>typeof s!="function").some(s=>typeof s=="boolean"?s:n.isDate(s)?Pf(e,s,!1,n):xve(s,n)?s.some(l=>Pf(e,l,!1,n)):XU(s)?s.from&&s.to?Rne(e,{from:s.from,to:s.to},n):!1:vve(s)?ESt(e,s.dayOfWeek,n):gve(s)?n.isAfter(s.before,s.after)?Rne(e,{from:n.addDays(s.after,1),to:n.addDays(s.before,-1)},n):Lf(e.from,s,n)||Lf(e.to,s,n):yve(s)||bve(s)?Lf(e.from,s,n)||Lf(e.to,s,n):!1))return!0;const a=r.filter(s=>typeof s=="function");if(a.length){let s=e.from;const l=n.differenceInCalendarDays(e.to,e.from);for(let c=0;c<=l;c++){if(a.some(d=>d(s)))return!0;s=n.addDays(s,1)}}return!1}function CSt(e,t){const{disabled:n,excludeDisabled:r,selected:i,required:o,onSelect:a}=e,[s,l]=i3(i,a?i:void 0),c=a?i:s;return{selected:c,select:(p,m,v)=>{const{min:x,max:w}=e,T=p?wSt(p,c,x,w,o,t):void 0;return r&&n&&T?.from&&T.to&&SSt({from:T.from,to:T.to},n,t)&&(T.from=p,T.to=void 0),a||l(T),a?.(T,p,m,v),T},isSelected:p=>c&&Pf(c,p,!1,t)}}function TSt(e,t){const{selected:n,required:r,onSelect:i}=e,[o,a]=i3(n,i?n:void 0),s=i?n:o,{isSameDay:l}=t;return{selected:s,select:(u,p,m)=>{let v=u;return!r&&s&&s&&l(u,s)&&(v=void 0),i||a(v),i?.(v,u,p,m),v},isSelected:u=>s?l(s,u):!1}}function kSt(e,t){const n=TSt(e,t),r=xSt(e,t),i=CSt(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function _St(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new va(t.today,t.timeZone)),t.month&&(t.month=new va(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new va(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new va(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new va(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new va(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(Ct=>new va(Ct,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new va(t.selected.from,t.timeZone):void 0,to:t.selected.to?new va(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:r,labels:i,dateLib:o,locale:a,classNames:s}=C.useMemo(()=>{const Ct={...BH,...t.locale};return{dateLib:new Pl({locale:Ct,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:MEt(t.components),formatters:FEt(t.formatters),labels:{...rSt,...t.labels},locale:Ct,classNames:{...ZU(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:c,navLayout:d,numberOfMonths:u=1,onDayBlur:p,onDayClick:m,onDayFocus:v,onDayKeyDown:x,onDayMouseEnter:w,onDayMouseLeave:T,onNextClick:k,onPrevClick:O,showWeekNumber:I,styles:N}=t,{formatCaption:A,formatDay:R,formatMonthDropdown:L,formatWeekNumber:B,formatWeekNumberHeader:$,formatWeekdayName:q,formatYearDropdown:z}=r,W=gSt(t,o),{days:G,months:Z,navStart:V,navEnd:ne,previousMonth:X,nextMonth:oe,goToMonth:K}=W,Q=OEt(G,t,V,ne,o),{isSelected:te,select:U,selected:fe}=kSt(t,o)??{},{blur:me,focused:ke,isFocusTarget:Ee,moveFocus:ve,setFocused:we}=vSt(t,W,Q,te??(()=>!1),o),{labelDayButton:je,labelGridcell:Ke,labelGrid:De,labelMonthDropdown:It,labelNav:Fe,labelPrevious:an,labelNext:cn,labelWeekday:Qt,labelWeekNumber:Vr,labelWeekNumberHeader:er,labelYearDropdown:ce}=i,xe=C.useMemo(()=>VEt(o,t.ISOWeek),[o,t.ISOWeek]),Te=c!==void 0||m!==void 0,Je=C.useCallback(()=>{X&&(K(X),O?.(X))},[X,K,O]),Ze=C.useCallback(()=>{oe&&(K(oe),k?.(oe))},[K,oe,k]),Qe=C.useCallback((Ct,lt)=>ct=>{ct.preventDefault(),ct.stopPropagation(),we(Ct),U?.(Ct.date,lt,ct),m?.(Ct.date,lt,ct)},[U,m,we]),ge=C.useCallback((Ct,lt)=>ct=>{we(Ct),v?.(Ct.date,lt,ct)},[v,we]),Be=C.useCallback((Ct,lt)=>ct=>{me(),p?.(Ct.date,lt,ct)},[me,p]),it=C.useCallback((Ct,lt)=>ct=>{const Tt={ArrowLeft:[ct.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ct.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ct.shiftKey?"year":"week","after"],ArrowUp:[ct.shiftKey?"year":"week","before"],PageUp:[ct.shiftKey?"year":"month","before"],PageDown:[ct.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Tt[ct.key]){ct.preventDefault(),ct.stopPropagation();const[jt,vt]=Tt[ct.key];ve(jt,vt)}x?.(Ct.date,lt,ct)},[ve,x,t.dir]),At=C.useCallback((Ct,lt)=>ct=>{w?.(Ct.date,lt,ct)},[w]),qt=C.useCallback((Ct,lt)=>ct=>{T?.(Ct.date,lt,ct)},[T]),Zn=C.useCallback(Ct=>lt=>{const ct=Number(lt.target.value),Tt=o.setMonth(o.startOfMonth(Ct),ct);K(Tt)},[o,K]),Tn=C.useCallback(Ct=>lt=>{const ct=Number(lt.target.value),Tt=o.setYear(o.startOfMonth(Ct),ct);K(Tt)},[o,K]),{className:or,style:Yn}=C.useMemo(()=>({className:[s[zt.Root],t.className].filter(Boolean).join(" "),style:{...N?.[zt.Root],...t.style}}),[s,t.className,t.style,N]),xr=DEt(t),un=C.useRef(null);sSt(un,!!t.animate,{classNames:s,months:Z,focused:ke,dateLib:o});const xi={dayPickerProps:t,selected:fe,select:U,isSelected:te,months:Z,nextMonth:oe,previousMonth:X,goToMonth:K,getModifiers:Q,components:n,classNames:s,styles:N,labels:i,formatters:r};return F.createElement(mve.Provider,{value:xi},F.createElement(n.Root,{rootRef:t.animate?un:void 0,className:or,style:Yn,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...xr},F.createElement(n.Months,{className:s[zt.Months],style:N?.[zt.Months]},!t.hideNavigation&&!d&&F.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:s[zt.Nav],style:N?.[zt.Nav],"aria-label":Fe(),onPreviousClick:Je,onNextClick:Ze,previousMonth:X,nextMonth:oe}),Z.map((Ct,lt)=>F.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:s[zt.Month],style:N?.[zt.Month],key:lt,displayIndex:lt,calendarMonth:Ct},d==="around"&&!t.hideNavigation&&lt===0&&F.createElement(n.PreviousMonthButton,{type:"button",className:s[zt.PreviousMonthButton],tabIndex:X?void 0:-1,"aria-disabled":X?void 0:!0,"aria-label":an(X),onClick:Je,"data-animated-button":t.animate?"true":void 0},F.createElement(n.Chevron,{disabled:X?void 0:!0,className:s[zt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),F.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:s[zt.MonthCaption],style:N?.[zt.MonthCaption],calendarMonth:Ct,displayIndex:lt},l?.startsWith("dropdown")?F.createElement(n.DropdownNav,{className:s[zt.Dropdowns],style:N?.[zt.Dropdowns]},(()=>{const ct=l==="dropdown"||l==="dropdown-months"?F.createElement(n.MonthsDropdown,{key:"month",className:s[zt.MonthsDropdown],"aria-label":It(),classNames:s,components:n,disabled:!!t.disableNavigation,onChange:Zn(Ct.date),options:UEt(Ct.date,V,ne,r,o),style:N?.[zt.Dropdown],value:o.getMonth(Ct.date)}):F.createElement("span",{key:"month"},L(Ct.date,o)),Tt=l==="dropdown"||l==="dropdown-years"?F.createElement(n.YearsDropdown,{key:"year",className:s[zt.YearsDropdown],"aria-label":ce(o.options),classNames:s,components:n,disabled:!!t.disableNavigation,onChange:Tn(Ct.date),options:qEt(V,ne,r,o,!!t.reverseYears),style:N?.[zt.Dropdown],value:o.getYear(Ct.date)}):F.createElement("span",{key:"year"},z(Ct.date,o));return o.getMonthYearOrder()==="year-first"?[Tt,ct]:[ct,Tt]})(),F.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},A(Ct.date,o.options,o))):F.createElement(n.CaptionLabel,{className:s[zt.CaptionLabel],role:"status","aria-live":"polite"},A(Ct.date,o.options,o))),d==="around"&&!t.hideNavigation&&lt===u-1&&F.createElement(n.NextMonthButton,{type:"button",className:s[zt.NextMonthButton],tabIndex:oe?void 0:-1,"aria-disabled":oe?void 0:!0,"aria-label":cn(oe),onClick:Ze,"data-animated-button":t.animate?"true":void 0},F.createElement(n.Chevron,{disabled:oe?void 0:!0,className:s[zt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),lt===u-1&&d==="after"&&!t.hideNavigation&&F.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:s[zt.Nav],style:N?.[zt.Nav],"aria-label":Fe(),onPreviousClick:Je,onNextClick:Ze,previousMonth:X,nextMonth:oe}),F.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":De(Ct.date,o.options,o)||void 0,className:s[zt.MonthGrid],style:N?.[zt.MonthGrid]},!t.hideWeekdays&&F.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:s[zt.Weekdays],style:N?.[zt.Weekdays]},I&&F.createElement(n.WeekNumberHeader,{"aria-label":er(o.options),className:s[zt.WeekNumberHeader],style:N?.[zt.WeekNumberHeader],scope:"col"},$()),xe.map(ct=>F.createElement(n.Weekday,{"aria-label":Qt(ct,o.options,o),className:s[zt.Weekday],key:String(ct),style:N?.[zt.Weekday],scope:"col"},q(ct,o.options,o)))),F.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:s[zt.Weeks],style:N?.[zt.Weeks]},Ct.weeks.map(ct=>F.createElement(n.Week,{className:s[zt.Week],key:ct.weekNumber,style:N?.[zt.Week],week:ct},I&&F.createElement(n.WeekNumber,{week:ct,style:N?.[zt.WeekNumber],"aria-label":Vr(ct.weekNumber,{locale:a}),className:s[zt.WeekNumber],scope:"row",role:"rowheader"},B(ct.weekNumber,o)),ct.days.map(Tt=>{const{date:jt}=Tt,vt=Q(Tt);if(vt[ki.focused]=!vt.hidden&&!!ke?.isEqualTo(Tt),vt[uu.selected]=te?.(jt)||vt.selected,XU(fe)){const{from:Hn,to:di}=fe;vt[uu.range_start]=!!(Hn&&di&&o.isSameDay(jt,Hn)),vt[uu.range_end]=!!(Hn&&di&&o.isSameDay(jt,di)),vt[uu.range_middle]=Pf(fe,jt,!0,o)}const xt=zEt(vt,N,t.modifiersStyles),on=NEt(vt,s,t.modifiersClassNames),Gn=!Te&&!vt.hidden?Ke(jt,vt,o.options,o):void 0;return F.createElement(n.Day,{key:`${o.format(jt,"yyyy-MM-dd")}_${o.format(Tt.displayMonth,"yyyy-MM")}`,day:Tt,modifiers:vt,className:on.join(" "),style:xt,role:"gridcell","aria-selected":vt.selected||void 0,"aria-label":Gn,"data-day":o.format(jt,"yyyy-MM-dd"),"data-month":Tt.outside?o.format(jt,"yyyy-MM"):void 0,"data-selected":vt.selected||void 0,"data-disabled":vt.disabled||void 0,"data-hidden":vt.hidden||void 0,"data-outside":Tt.outside||void 0,"data-focused":vt.focused||void 0,"data-today":vt.today||void 0},!vt.hidden&&Te?F.createElement(n.DayButton,{className:s[zt.DayButton],style:N?.[zt.DayButton],type:"button",day:Tt,modifiers:vt,disabled:vt.disabled||void 0,tabIndex:Ee(Tt)?0:-1,"aria-label":je(jt,vt,o.options,o),onClick:Qe(Tt,vt),onBlur:Be(Tt,vt),onFocus:ge(Tt,vt),onKeyDown:it(Tt,vt),onMouseEnter:At(Tt,vt),onMouseLeave:qt(Tt,vt)},R(jt,o.options,o)):!vt.hidden&&R(Tt.date,o.options,o))})))))))),t.footer&&F.createElement(n.Footer,{className:s[zt.Footer],style:N?.[zt.Footer],role:"status","aria-live":"polite"},t.footer)))}function ASt({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:i="ghost",formatters:o,components:a,...s}){const l=ZU();return g.jsx(_St,{showOutsideDays:n,className:Ie("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:c=>c.toLocaleString("default",{month:"short"}),...o},classNames:{root:Ie("w-fit",l.root),months:Ie("relative flex flex-col gap-4 md:flex-row",l.months),month:Ie("flex w-full flex-col gap-4",l.month),nav:Ie("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",l.nav),button_previous:Ie(YS({variant:i}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",l.button_previous),button_next:Ie(YS({variant:i}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",l.button_next),month_caption:Ie("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",l.month_caption),dropdowns:Ie("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",l.dropdowns),dropdown_root:Ie("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",l.dropdown_root),dropdown:Ie("bg-popover absolute inset-0 opacity-0",l.dropdown),caption_label:Ie("select-none font-medium",r==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:Ie("flex",l.weekdays),weekday:Ie("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",l.weekday),week:Ie("mt-2 flex w-full",l.week),week_number_header:Ie("w-[--cell-size] select-none",l.week_number_header),week_number:Ie("text-muted-foreground select-none text-[0.8rem]",l.week_number),day:Ie("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",l.day),range_start:Ie("bg-accent rounded-l-md",l.range_start),range_middle:Ie("rounded-none",l.range_middle),range_end:Ie("bg-accent rounded-r-md",l.range_end),today:Ie("font-semibold",l.today),outside:Ie("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:Ie("text-muted-foreground opacity-50",l.disabled),hidden:Ie("invisible",l.hidden),...t},components:{Root:({className:c,rootRef:d,...u})=>g.jsx("div",{"data-slot":"calendar",ref:d,className:Ie(c),...u}),Chevron:({className:c,orientation:d,...u})=>d==="left"?g.jsx(Nie,{className:Ie("size-4",c),...u}):d==="right"?g.jsx(_H,{className:Ie("size-4",c),...u}):g.jsx(ET,{className:Ie("size-4",c),...u}),DayButton:OSt,WeekNumber:({children:c,...d})=>g.jsx("td",{...d,children:g.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:c})}),...a},...s})}function OSt({className:e,day:t,modifiers:n,...r}){const i=ZU(),o=C.useRef(null);return C.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),g.jsx(Ai,{ref:o,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:Ie("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",i.day,e),...r})}function NSt(e){return/^(0[0-9]|1[0-9]|2[0-3])$/.test(e)}function MSt(e){return/^(0[1-9]|1[0-2])$/.test(e)}function DSt(e){return/^[0-5][0-9]$/.test(e)}function o3(e,{max:t,min:n=0,loop:r=!1}){let i=parseInt(e,10);return Number.isNaN(i)?"00":(r?(i>t&&(i=n),i<n&&(i=t)):(i>t&&(i=t),i<n&&(i=n)),i.toString().padStart(2,"0"))}function kve(e){return NSt(e)?e:o3(e,{max:23})}function _ve(e){return MSt(e)?e:o3(e,{min:1,max:12})}function VM(e){return DSt(e)?e:o3(e,{max:59})}function QU(e,{min:t,max:n,step:r}){let i=parseInt(e,10);return Number.isNaN(i)?"00":(i+=r,o3(String(i),{min:t,max:n,loop:!0}))}function RSt(e,t){return QU(e,{min:0,max:23,step:t})}function ISt(e,t){return QU(e,{min:1,max:12,step:t})}function Ine(e,t){return QU(e,{min:0,max:59,step:t})}function PSt(e,t){const n=VM(t);return e.setMinutes(parseInt(n,10)),e}function LSt(e,t){const n=VM(t);return e.setSeconds(parseInt(n,10)),e}function jSt(e,t){const n=kve(t);return e.setHours(parseInt(n,10)),e}function BSt(e,t,n){const r=parseInt(_ve(t),10),i=FSt(r,n);return e.setHours(i),e}function Pne(e,t,n,r){switch(n){case"minutes":return PSt(e,t);case"seconds":return LSt(e,t);case"hours":return jSt(e,t);case"12hours":return r?BSt(e,t,r):e;default:return e}}function $St(e,t){switch(t){case"minutes":return VM(String(e.getMinutes()));case"seconds":return VM(String(e.getSeconds()));case"hours":return kve(String(e.getHours()));case"12hours":{const n=USt(e.getHours());return _ve(String(n))}default:return"00"}}function HSt(e,t,n){switch(n){case"minutes":return Ine(e,t);case"seconds":return Ine(e,t);case"hours":return RSt(e,t);case"12hours":return ISt(e,t);default:return"00"}}function FSt(e,t){return t==="PM"?e<=11?e+12:e:t==="AM"&&e===12?0:e}function USt(e){return e===0||e===12?"12":e>=22?`${e-12}`:e%12>9?`${e}`:`0${e%12}`}const oH=F.forwardRef(({className:e,type:t="tel",value:n,id:r,name:i,date:o=new Date(new Date().setHours(0,0,0,0)),setDate:a,onChange:s,onKeyDown:l,picker:c,period:d,onLeftFocus:u,onRightFocus:p,...m},v)=>{const[x,w]=F.useState(!1),[T,k]=F.useState("0");F.useEffect(()=>{if(x){const A=setTimeout(()=>{w(!1)},2e3);return()=>clearTimeout(A)}},[x]);const O=F.useMemo(()=>$St(o,c),[o,c]),I=A=>c==="12hours"&&x&&O.slice(1,2)==="1"&&T==="0"?`0${A}`:x?O.slice(1,2)+A:`0${A}`,N=A=>{if(A.key!=="Tab"){if(A.preventDefault(),A.key==="ArrowRight"&&p?.(),A.key==="ArrowLeft"&&u?.(),["ArrowUp","ArrowDown"].includes(A.key)){const R=A.key==="ArrowUp"?1:-1,L=HSt(O,R,c);x&&w(!1);const B=new Date(o);a(Pne(B,L,c,d))}if(A.key>="0"&&A.key<="9"){c==="12hours"&&k(A.key);const R=I(A.key);x&&p?.(),w(B=>!B);const L=new Date(o);a(Pne(L,R,c,d))}}};return g.jsx(fu,{ref:v,id:r||c,name:i||c,className:Ie("w-[48px] text-center font-mono text-base tabular-nums caret-transparent focus:bg-accent focus:text-accent-foreground [&::-webkit-inner-spin-button]:appearance-none",e),value:n||O,onChange:A=>{A.preventDefault(),s?.(A)},type:t,inputMode:"decimal",onKeyDown:A=>{l?.(A),N(A)},...m})});oH.displayName="TimePickerInput";function zSt({date:e,setDate:t}){const n=C.useRef(null),r=C.useRef(null),i=C.useRef(null);return g.jsxs("div",{className:"flex items-end gap-2",children:[g.jsxs("div",{className:"grid gap-1 text-center",children:[g.jsx(Xf,{htmlFor:"hours",className:"text-xs",children:"Hours"}),g.jsx(oH,{picker:"hours",date:e,setDate:t,ref:r,onRightFocus:()=>n.current?.focus()})]}),g.jsxs("div",{className:"grid gap-1 text-center",children:[g.jsx(Xf,{htmlFor:"minutes",className:"text-xs",children:"Minutes"}),g.jsx(oH,{picker:"minutes",date:e,setDate:t,ref:n,onLeftFocus:()=>r.current?.focus(),onRightFocus:()=>i.current?.focus()})]})]})}function qM({date:e,setDate:t,className:n,buttonClassName:r,defaultTime:i}){const o=a=>{if(a){if(i){const s=new Date(a);s.setHours(i.hours??0,i.minutes??0,i.seconds??0,0),t(s);return}if(e){const l=(a.getTime()-e.getTime())/(1e3*60*60*24),c=h_e(e,{days:Math.ceil(l)});t(c)}else t(a)}};return g.jsxs(Nd,{children:[g.jsx(Md,{asChild:!0,children:g.jsxs(Ai,{variant:"outline",className:Ie("w-[254px] justify-start text-left font-normal",!e&&"text-muted-foreground",r),children:[g.jsx(Aie,{className:"mr-2 h-4 w-4"}),e?Wf(e,"PPP HH:mm"):g.jsx("span",{children:"Pick a date"})]})}),g.jsxs(Dd,{className:Ie("w-auto p-0",n),children:[g.jsx(ASt,{mode:"single",selected:e,onSelect:a=>o(a)}),g.jsx("div",{className:"p-3 border-t border-border",children:g.jsx(zSt,{setDate:t,date:e})})]})]})}var VSt=Object.defineProperty,qSt=(e,t)=>{for(var n in t)VSt(e,n,{get:t[n],enumerable:!0})},c0={};qSt(c0,{ActiveEmoji:()=>Kve,Empty:()=>Gve,List:()=>qve,Loading:()=>Yve,Root:()=>Bve,Search:()=>$ve,SkinTone:()=>Xve,SkinToneSelector:()=>Wve,Viewport:()=>Hve});var Ave="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",JU=["none","light","medium-light","medium","medium-dark","dark"];function C6(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Xc=2,ga=null;function Lne(e){try{ga??=document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{}if(!ga||(queueMicrotask(()=>{ga&&(ga=null)}),ga.canvas.width=Xc,ga.canvas.height=Xc,ga.font=`2px ${Ave}`,ga.textBaseline="middle",ga.measureText(e).width>=Xc*2))return!1;ga.fillStyle="#00f",ga.fillText(e,0,0);let t=ga.getImageData(0,0,Xc,Xc).data;ga.clearRect(0,0,Xc,Xc),ga.fillStyle="#f00",ga.fillText(e,0,0);let n=ga.getImageData(0,0,Xc,Xc).data;for(let r=0;r<Xc*Xc*4;r+=4)if(t[r]!==n[r]||t[r+1]!==n[r+1]||t[r+2]!==n[r+2])return!1;return!0}function jne(e,t,n){try{let r=e.getItem(t);if(!r)throw new Error(`No value found for "${t}".`);let i=JSON.parse(r);return n(i)}catch{return null}}function Ove(e,t,n){e.setItem(t,JSON.stringify(n))}function Bne(e){return t=>t===void 0?void 0:e(t)}function $ne(e){return t=>t===null?null:e(t)}function Yo(e){if(typeof e!="string")throw new Error;return e}function cO(e){if(typeof e!="number")throw new Error;return e}function Nve(e){if(typeof e!="boolean")throw new Error;return e}function xp(e){return t=>{if(typeof t!="object"||t===null)throw new Error;let n={};for(let r in e){let i=t[r];i===void 0&&e[r](void 0),n[r]=e[r](i)}return n}}function T6(e){return t=>{if(!Array.isArray(t))throw new Error;return t.length>0&&e(t[0]),t}}var Mve=(e,t)=>`${e}/${t}/data.json`,Dve=(e,t)=>`${e}/${t}/messages.json`,WSt=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],Hne="en",Rve=e=>`frimousse/data/${e}`,Fne="frimousse/metadata";async function Une(e,t){try{return(await fetch(e,{method:"HEAD",signal:t})).headers.get("etag")}catch{return null}}async function YSt(e,t,n){let[{emojis:r,emojisEtag:i},{messages:o,messagesEtag:a}]=await Promise.all([fetch(Mve(e,t),{signal:n}).then(async s=>({emojis:await s.json(),emojisEtag:s.headers.get("etag")})),fetch(Dve(e,t),{signal:n}).then(async s=>({messages:await s.json(),messagesEtag:s.headers.get("etag")}))]);return{emojis:r,messages:o,emojisEtag:i,messagesEtag:a}}async function GSt(e,t,n){let[r,i]=await Promise.all([Une(Mve(e,t),n),Une(Dve(e,t),n)]);return{emojisEtag:r,messagesEtag:i}}function KSt(e){return e.skins?e.skins.filter(t=>typeof t.tone=="number").reduce((t,n)=>{let r=JU[n.tone];return t[r]=n.emoji,t},{}):void 0}async function zne(e,t,n){let{emojis:r,emojisEtag:i,messages:o,messagesEtag:a}=await YSt(e,t,n),s=o.subgroups.find(v=>v.key==="country-flag"||v.key==="subdivision-flag"),l=o.groups.filter(v=>v.key!=="component"),c=r.filter(v=>"group"in v),d=l.map(v=>({index:v.order,label:C6(v.message)})),u=o.skinTones.reduce((v,x)=>(v[x.key]=C6(x.message),v),{}),p=c.map(v=>({emoji:v.emoji,category:v.group,version:v.version,label:C6(v.label),tags:v.tags??[],countryFlag:s&&v.subgroup===s.order||void 0,skins:KSt(v)})),m={locale:t,emojis:p,categories:d,skinTones:u};return Ove(localStorage,Rve(t),{data:m,metadata:{emojisEtag:i,messagesEtag:a}}),m}function XSt(e,t){let n=new Map;for(let a of e)n.has(a.version)||n.set(a.version,a.emoji);let r=[...n.keys()].sort((a,s)=>s-a),i=r[0]??0,o=Lne("");if(typeof t=="number")return{emojiVersion:t,countryFlags:o};for(let a of r){let s=n.get(a);if(Lne(s))return{emojiVersion:a,countryFlags:o}}return{emojiVersion:i,countryFlags:o}}var ZSt=xp({emojiVersion:cO,countryFlags:Nve}),QSt=xp({data:xp({locale:Yo,emojis:T6(xp({emoji:Yo,category:cO,label:Yo,version:cO,tags:T6(Yo),countryFlag:Bne(Nve),skins:Bne(xp({light:Yo,"medium-light":Yo,medium:Yo,"medium-dark":Yo,dark:Yo}))})),categories:T6(xp({index:cO,label:Yo})),skinTones:xp({light:Yo,"medium-light":Yo,medium:Yo,"medium-dark":Yo,dark:Yo})}),metadata:xp({emojisEtag:$ne(Yo),messagesEtag:$ne(Yo)})});async function JSt({locale:e,emojiVersion:t,emojibaseUrl:n,signal:r}){let i=typeof n=="string"?n:`https://cdn.jsdelivr.net/npm/emojibase-data@${typeof t=="number"?Math.floor(t):"latest"}`,o=jne(sessionStorage,Fne,ZSt),a=jne(localStorage,Rve(e),QSt),s;if(!a)s=await zne(i,e,r);else if(o)s=a.data;else try{let{emojisEtag:c,messagesEtag:d}=await GSt(i,e,r);s=!c||!d||c!==a.metadata.emojisEtag||d!==a.metadata.messagesEtag?await zne(i,e,r):a.data}catch{s=a.data}o??=XSt(s.emojis,t),Ove(sessionStorage,Fne,o);let l=s.emojis.filter(c=>{let d=c.version<=o.emojiVersion;return c.countryFlag?d&&o.countryFlags:d});return{locale:e,emojis:l,categories:s.categories,skinTones:s.skinTones}}function Vne(e){return WSt.includes(e)?e:(console.warn(`Locale "${e}" is not supported, using "${Hne}" instead.`),Hne)}function qne(e){return JU.includes(e)?e:(console.warn(`Skin tone "${e}" is not valid, using "none" instead.`),"none")}function eCt(e,t){let n=[];if(t<=0)return n;for(let r=0,i=e.length;r<i;r+=t)n.push(e.slice(r,r+t));return n}function tCt(e,t){if(!t)return e;let n=t.toLowerCase().trim(),r=new WeakMap;return e.filter(i=>{let o=0;i.label.toLowerCase().includes(n)&&(o+=10);for(let a of i.tags)a.toLowerCase().includes(n)&&(o+=1);return o>0?(r.set(i,o),!0):!1}).sort((i,o)=>(r.get(o)??0)-(r.get(i)??0))}function nCt(e,t,n,r){let i=tCt(e.emojis,r),o=[],a=[],s=[],l={},c=0,d=0;for(let u of i)l[u.category]||(l[u.category]=[]),l[u.category].push({emoji:n&&n!=="none"&&u.skins?u.skins[n]:u.emoji,label:u.label});for(let u of e.categories){let p=l[u.index];if(!p||p.length===0)continue;let m=eCt(Array.from(p),t).map(v=>({categoryIndex:c,emojis:v}));o.push(...m),a.push({label:u.label,rowsCount:m.length,startRowIndex:d}),s.push(d),c++,d+=m.length}return{count:i.length,categories:a,categoriesStartRowIndices:s,rows:o,skinTones:e.skinTones}}function rCt(e){let t={},n=null,r=null,i=new Set,o=()=>{if(n){t=n,n=null;for(let c of i)c(t)}r=null},a=()=>n??t,s=c=>{n??=t,Object.assign(n,typeof c=="function"?c(a()):c),r||(r=requestAnimationFrame(o))},l=c=>(i.add(c),()=>i.delete(c));return t=e(s,a),{get:a,set:s,subscribe:l}}function iCt(e){let[t]=C.useState(e);return t}function oCt(e){let t=C.createContext(null);return{useStore:()=>{let n=C.useContext(t);if(!n)throw new Error(e);return n},Provider:({store:n,children:r})=>g.jsx(t.Provider,{value:n,children:r})}}function Ll(e,t,n=Object.is){let[r,i]=C.useState(()=>t(e.get()));return C.useEffect(()=>e.subscribe(()=>{let o=t(e.get());i(a=>n(a,o)?a:o)}),[e,t,n]),C.useDebugValue(r),r}function vd(e,t,n){let r=C.useCallback(i=>i[t],[t]);return Ll(e,r,n)}var Wne=2;function aCt(e,t,n,r,i){let o=0;return rCt((a,s)=>({locale:t,columns:n,sticky:r,skinTone:i,onEmojiSelect:e,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:l=>{let c=s(),d=l?.data??c.data,u=l?.categoryHeaderHeight??c.categoryHeaderHeight,p=l?.rowHeight??c.rowHeight,m=l?.viewportHeight??c.viewportHeight;if(!d||d.rows.length===0||!u||!p||!m)return a({...l,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let v=0,x=0;for(let L of d.categories)if(x++*u+L.startRowIndex*p<o)v+=u;else break;let w=d.categories.length*u+d.rows.length*p,T=Math.floor(Wne*p/2),k=Math.ceil(Wne*p/2),O=Math.min(o-v-T,w-m),I=O+m+k,N=Math.max(0,Math.floor(O/p)),A=Math.min(d.rows.length-1,Math.ceil(I/p)),R=d.rows[N]?.categoryIndex;return a(R===void 0&&l?l:{...l,viewportStartCategoryIndex:R,viewportStartRowIndex:N,viewportEndRowIndex:A})},onDataChange:l=>{s().updateViewportState({data:l,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:l=>{a({search:l,interaction:l?"keyboard":"none"})},onActiveEmojiChange:(l,c,d)=>{if(a({interaction:l,activeColumnIndex:c,activeRowIndex:d}),l!=="keyboard")return;let{listRef:u,viewportRef:p,sticky:m,rowHeight:v,viewportHeight:x,categoryHeaderHeight:w}=s(),T=u?.current,k=p?.current;if(!T||!k||!v||!w||!x)return;let O=d;O===0&&k.scrollTo({top:0,behavior:"instant"});let I=T.querySelector(`[aria-rowindex="${O}"]`);if(!(I instanceof HTMLElement))return;let N=I.offsetTop,A=getComputedStyle(I),R=Number.parseFloat(A.scrollMarginTop),L=Number.parseFloat(A.scrollMarginBottom),B=o+R;m&&N<o+x/2&&(B+=w);let $=B+x-L;(N<B||N+v>$)&&k.scrollTo({top:Math.max(N<B+w?N-Math.max(m?w:0,R):N-x+v+L,0),behavior:"instant"})},onActiveEmojiReset:()=>{a({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:l=>{s().updateViewportState({rowHeight:l})},onCategoryHeaderHeightChange:l=>{s().updateViewportState({categoryHeaderHeight:l})},onViewportSizeChange:(l,c)=>{s().updateViewportState({viewportWidth:l,viewportHeight:c})},onViewportScroll:l=>{o=l,s().updateViewportState()}}))}var{useStore:Ks,Provider:sCt}=oCt("EmojiPicker.Root is missing.");function lCt(e){return e.search}function ez(e){return e.interaction==="none"?void 0:e.data?.rows[e.activeRowIndex]?.emojis[e.activeColumnIndex]}function cCt(e){return e.data===void 0||typeof e.data?.count=="number"&&e.data.count===0}function uCt(e){return e.data===null||e.viewportHeight===null||e.rowHeight===null||e.categoryHeaderHeight===null}function Ive(e){return e.data?.rows.length}function dCt(e){return e.data?.categories.length}function fCt(e){return e.data?.categoriesStartRowIndices}function hCt(e){return e.data?.skinTones}function Pve(e,t){return e?.emoji===t?.emoji}function pCt(e,t){return e?.categoryIndex!==t?.categoryIndex||e?.emojis.length!==t?.emojis.length?!1:!!e?.emojis.every((n,r)=>Pve(n,t?.emojis[r]))}var ZE="",Yne=new RegExp("\\p{Emoji_Modifier_Base}","u"),mCt=/\uFE0F$/,gCt=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,yCt={light:"","medium-light":"",medium:"","medium-dark":"",dark:""};function bCt(e,t){if(!e.split(ZE).some(r=>Yne.test(r)))return e;let n=e.split(ZE).map(r=>r.replace(gCt,"")).join(ZE);return t==="none"?n:n.split(ZE).map((r,i,o)=>{let a=o.length>1;return!Yne.test(r)||a&&r===""?r:r.replace(mCt,"")+yCt[t]}).join(ZE)}function vCt(e){return JU.map(t=>({skinTone:t,emoji:bCt(e,t)}))}function Lve(){let e=Ks(),t=Ll(e,ez,Pve);return C.useDeferredValue(t)}function jve(e=""){let t=Ks(),n=vd(t,"skinTone"),r=C.useMemo(()=>vCt(e),[e]),i=C.useCallback(o=>{t.set({skinTone:o})},[]);return[n,i,r]}function tz(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null||Array.isArray(e)!==Array.isArray(t))return!1;let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(i=>i in t&&e[i]===t[i])}function xCt(...e){}function wCt(e,t){let n=null;if(typeof window.requestIdleCallback=="function")n=window.requestIdleCallback(e,t);else{let r=Date.now();n=window.setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,t?.timeout-(Date.now()-r))})},10)}return()=>{typeof window.cancelIdleCallback=="function"?window.cancelIdleCallback(n):window.clearTimeout(n)}}var nu=typeof window<"u"?C.useLayoutEffect:C.useEffect;function ECt(e){let t=C.useRef(e);return nu(()=>{t.current=e}),C.useCallback((...n)=>t.current(...n),[])}function SCt({emojiVersion:e,emojibaseUrl:t}){let[n,r]=C.useState(void 0),i=Ks(),o=vd(i,"locale"),a=vd(i,"columns"),s=vd(i,"skinTone"),l=vd(i,"search");return C.useEffect(()=>{let c=new AbortController,d=c.signal;return JSt({locale:o,emojiVersion:e,emojibaseUrl:t,signal:d}).then(u=>{r(u)}).catch(u=>{d.aborted||console.error(u)}),()=>{c.abort()}},[e,t,o]),C.useEffect(()=>{if(n)return wCt(()=>{i.get().onDataChange(nCt(n,a,s,l))},{timeout:100})},[n,a,s,l]),null}var Bve=C.forwardRef(({locale:e="en",columns:t=9,skinTone:n="none",onEmojiSelect:r=xCt,emojiVersion:i,emojibaseUrl:o,onFocusCapture:a,onBlurCapture:s,children:l,style:c,sticky:d=!0,...u},p)=>{let m=ECt(r),v=iCt(()=>aCt(m,Vne(e),t,d,qne(n))),[x,w]=C.useState(!1),T=C.useRef(null),k=C.useCallback(N=>{N&&(T.current=N,v.set({rootRef:T}))},[]);nu(()=>{v.set({locale:Vne(e)})},[e]),nu(()=>{v.set({columns:t})},[t]),nu(()=>{v.set({sticky:d})},[d]),nu(()=>{v.set({skinTone:qne(n)})},[n]);let O=C.useCallback(N=>{a?.(N);let{searchRef:A,viewportRef:R}=v.get(),L=N.target===A?.current||N.target.hasAttribute("frimousse-search"),B=N.target===R?.current||N.target.hasAttribute("frimousse-viewport");N.isDefaultPrevented()||(w(L||B),N.isDefaultPrevented()||(w(L||B),B?v.get().onActiveEmojiChange("keyboard",0,0):L&&v.get().search===""&&v.set({interaction:"none"})))},[a]),I=C.useCallback(N=>{s?.(N),!N.isDefaultPrevented()&&!N.currentTarget.contains(N.relatedTarget)&&w(!1)},[s]);return nu(()=>{x||v.get().onActiveEmojiReset()},[x]),C.useImperativeHandle(p,()=>T.current),C.useEffect(()=>{if(!x)return;function N(A){if(A.defaultPrevented||!A.key.startsWith("Arrow")&&A.key!=="Enter")return;let{data:R,onEmojiSelect:L,onActiveEmojiChange:B,interaction:$,activeColumnIndex:q,activeRowIndex:z}=v.get();if(A.key==="Enter"){let W=ez(v.get());W&&(A.preventDefault(),L(W))}if(A.key.startsWith("Arrow")){let W=q,G=z;if(A.preventDefault(),$!=="none"){if(R?.rows&&R.rows.length>0)switch(A.key){case"ArrowLeft":{if(W===0){let Z=G-1,V=R.rows[Z];V&&(G=Z,W=V.emojis.length-1)}else W-=1;break}case"ArrowRight":{if(W===R.rows[G].emojis.length-1){let Z=G+1;R.rows[Z]&&(G=Z,W=0)}else W+=1;break}case"ArrowUp":{let Z=R.rows[G-1];Z&&(G-=1,Z.emojis[W]||(W=Z.emojis.length-1));break}case"ArrowDown":{let Z=R.rows[G+1];Z&&(G+=1,Z.emojis[W]||(W=Z.emojis.length-1));break}}B("keyboard",W,G)}else B("keyboard",0,0)}}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[x]),nu(()=>{let N=null,A=null,R=null,L=null,B=v.subscribe(G=>{T.current&&(N!==G.viewportWidth&&(N=G.viewportWidth,T.current.style.setProperty("--frimousse-viewport-width",`${G.viewportWidth}px`)),A!==G.viewportHeight&&(A=G.viewportHeight,T.current.style.setProperty("--frimousse-viewport-height",`${G.viewportHeight}px`)),R!==G.rowHeight&&(R=G.rowHeight,T.current.style.setProperty("--frimousse-row-height",`${G.rowHeight}px`)),L!==G.categoryHeaderHeight&&(L=G.categoryHeaderHeight,T.current.style.setProperty("--frimousse-category-header-height",`${G.categoryHeaderHeight}px`)))}),{viewportWidth:$,viewportHeight:q,rowHeight:z,categoryHeaderHeight:W}=v.get();return $&&T.current.style.setProperty("--frimousse-viewport-width",`${$}px`),q&&T.current.style.setProperty("--frimousse-viewport-height",`${q}px`),z&&T.current.style.setProperty("--frimousse-row-height",`${z}px`),W&&T.current.style.setProperty("--frimousse-category-header-height",`${W}px`),B},[]),g.jsx("div",{"data-focused":x?"":void 0,"frimousse-root":"",onBlurCapture:I,onFocusCapture:O,...u,ref:k,style:{"--frimousse-emoji-font":Ave,...c},children:g.jsxs(sCt,{store:v,children:[g.jsx(SCt,{emojiVersion:i,emojibaseUrl:o}),l]})})}),$ve=C.forwardRef(({value:e,defaultValue:t,onChange:n,...r},i)=>{let o=Ks(),a=C.useRef(null),s=C.useCallback(u=>{u&&(a.current=u,o.set({searchRef:a}))},[]),l=typeof e=="string",c=C.useRef(l);C.useEffect(()=>{c.current=l},[l]),nu(()=>{o.set({search:typeof e=="string"?e:typeof t=="string"?t:""})},[]),nu(()=>{typeof e=="string"&&o.get().onSearchChange(e)},[e]);let d=C.useCallback(u=>{n?.(u),u.isDefaultPrevented()||o.get().onSearchChange(u.target.value)},[n]);return C.useImperativeHandle(i,()=>a.current),g.jsx("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search",spellCheck:!1,type:"search",...r,defaultValue:t,onChange:d,ref:s,value:e})}),CCt=C.memo(()=>{let e=Lve();return e?g.jsx("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:e.label}):null}),Hve=C.forwardRef(({children:e,onScroll:t,onKeyDown:n,style:r,...i},o)=>{let a=Ks(),s=C.useRef(null),l=C.useCallback(p=>{p&&(s.current=p,a.set({viewportRef:s}))},[]),c=Ll(a,Ive),d=Ll(a,dCt),u=C.useCallback(p=>{t?.(p),a.get().onViewportScroll(p.currentTarget.scrollTop)},[t]);return nu(()=>{if(!s.current)return;let p=new ResizeObserver(([m])=>{let v=m?.borderBoxSize[0]?.inlineSize??0,x=m?.borderBoxSize[0]?.blockSize??0,{onViewportSizeChange:w,viewportHeight:T,viewportWidth:k}=a.get();(T!==x||k!==v)&&w(v,x)});return p.observe(s.current),a.get().onViewportSizeChange(s.current.offsetWidth,s.current.clientHeight),()=>{p.disconnect()}},[]),C.useImperativeHandle(o,()=>s.current),g.jsxs("div",{"frimousse-viewport":"",...i,onScroll:u,ref:l,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:typeof c=="number"&&typeof d=="number"?`var(--frimousse-viewport-width, auto) calc(${c} * var(--frimousse-row-height) + ${d} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...r},children:[g.jsx(CCt,{}),e]})});function Fve(e,t,n){return{emoji:{...e,isActive:n},role:"gridcell","aria-colindex":t,"aria-selected":n||void 0,"aria-label":e.label,"data-active":n?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function Uve(e,t=!1){return{role:t?void 0:"row","aria-rowindex":t?void 0:e,"frimousse-row":"",style:{contain:t?void 0:"content",height:t?void 0:"var(--frimousse-row-height)",display:"flex"}}}function zve(e,t){return{"frimousse-category":"",style:{contain:"content",top:t?`calc(${e} * var(--frimousse-category-header-height) + ${t.startRowIndex} * var(--frimousse-row-height))`:void 0,height:t?`calc(var(--frimousse-category-header-height) + ${t.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function Vve(e,t=!1,n=!0){return{category:e,"frimousse-category-header":"",style:{contain:t?void 0:"layout paint",height:t?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:n?"sticky":void 0,top:0}}}function Gne(e,t,n,r){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${e} * var(--frimousse-row-height) + ${t} * var(--frimousse-category-header-height))`,paddingTop:`calc(${n} * var(--frimousse-row-height) + ${r} * var(--frimousse-category-header-height))`}}}function Kne(e,t,n){return{"aria-colcount":e,"aria-rowcount":t,"frimousse-list":"",style:{"--frimousse-list-columns":e,...n},role:"grid"}}function TCt(e){e.preventDefault()}var kCt=C.memo(({Emoji:e,emoji:t,columnIndex:n,rowIndex:r})=>{let i=Ks(),o=Ll(i,c=>ez(c)?.emoji===t.emoji),a=C.useCallback(()=>{i.get().onEmojiSelect(t)},[t]),s=C.useCallback(()=>{i.get().onActiveEmojiChange("pointer",n,r)},[n,r]),l=C.useCallback(()=>{i.get().onActiveEmojiReset()},[]);return g.jsx(e,{...Fve(t,n,o),onClick:a,onPointerDown:TCt,onPointerEnter:s,onPointerLeave:l})}),_Ct=C.memo(({Row:e,Emoji:t,rowIndex:n})=>{let r=Ks(),i=Ll(r,o=>o.data?.rows[n],pCt);return i?g.jsx(e,{...Uve(n),children:i.emojis.map((o,a)=>g.jsx(kCt,{Emoji:t,columnIndex:a,emoji:o,rowIndex:n},o.label))}):null}),ACt=C.memo(({CategoryHeader:e,categoryIndex:t})=>{let n=Ks(),r=Ll(n,o=>o.data?.categories[t],tz),i=vd(n,"sticky");return r?g.jsx("div",{...zve(t,r),children:g.jsx(e,{...Vve({label:r.label},!1,i)})}):null}),Xne=C.memo(({CategoryHeader:e,Row:t,Emoji:n})=>{let r=C.useRef(null),i=Ks(),o=vd(i,"columns"),a=C.useMemo(()=>Array(o).fill({emoji:"",label:""}),[o]),s=C.useMemo(()=>({label:"Category"}),[]),l=C.useRef(null),c=C.useRef(null);return nu(()=>{let d=r.current?.parentElement?.parentElement;if(!d||!l.current||!c.current)return;let u=new ResizeObserver(v=>{for(let x of v){let w=x.contentRect.height,{onRowHeightChange:T,onCategoryHeaderHeightChange:k,rowHeight:O,categoryHeaderHeight:I}=i.get();x.target===l.current&&O!==w&&T(w),x.target===c.current&&I!==w&&k(w)}});u.observe(d),u.observe(l.current),u.observe(c.current);let{onRowHeightChange:p,onCategoryHeaderHeightChange:m}=i.get();return p(l.current.clientHeight),m(c.current.clientHeight),()=>{u.disconnect()}},[]),g.jsxs("div",{"aria-hidden":!0,ref:r,style:{height:0,visibility:"hidden"},children:[g.jsx("div",{"frimousse-row-sizer":"",ref:l,children:g.jsx(t,{...Uve(-1,!0),children:a.map((d,u)=>g.jsx(n,{...Fve(d,u,!1)},u))})}),g.jsx("div",{...zve(-1),children:g.jsx("div",{"frimousse-category-header-sizer":"",ref:c,children:g.jsx(e,{...Vve(s,!0)})})})]})});function OCt({category:e,...t}){return g.jsx("div",{...t,children:e.label})}function NCt({emoji:e,...t}){return g.jsx("button",{type:"button",...t,children:e.emoji})}function MCt({...e}){return g.jsx("div",{...e})}var qve=C.forwardRef(({style:e,components:t,...n},r)=>{let i=Ks(),o=C.useRef(null),a=C.useCallback(T=>{T&&(o.current=T,i.set({listRef:o}))},[]),s=t?.CategoryHeader??OCt,l=t?.Emoji??NCt,c=t?.Row??MCt,d=vd(i,"columns"),u=vd(i,"viewportStartRowIndex"),p=vd(i,"viewportEndRowIndex"),m=Ll(i,Ive),v=Ll(i,fCt,tz),x=C.useMemo(()=>v?.filter(T=>T<u).length??0,[v,u]),w=v?.length??0;return C.useImperativeHandle(r,()=>o.current),!m||!v||w===0?g.jsx("div",{...Kne(d,0,e),...n,children:g.jsx("div",{...Gne(0,0,0,0),children:g.jsx(Xne,{CategoryHeader:s,Emoji:l,Row:c})})}):g.jsx("div",{...Kne(d,m,e),...n,ref:a,children:g.jsxs("div",{...Gne(m,w,u,x),children:[g.jsx(Xne,{CategoryHeader:s,Emoji:l,Row:c}),Array.from({length:p-u+1},(T,k)=>{let O=u+k,I=v.indexOf(O);return g.jsxs(C.Fragment,{children:[I>=0&&g.jsx("div",{style:{height:"var(--frimousse-category-header-height)"}}),g.jsx(_Ct,{Emoji:l,Row:c,rowIndex:O})]},O)}),Array.from({length:w},(T,k)=>g.jsx(ACt,{CategoryHeader:s,categoryIndex:k},k))]})})}),Wve=C.forwardRef(({emoji:e,onClick:t,"aria-label":n="Change skin tone",...r},i)=>{let o=Ks(),a=Ll(o,hCt,tz),[s,l,c]=jve(e),d=C.useMemo(()=>Math.max(0,c.findIndex(w=>w.skinTone===s)),[s,c]),u=c[d],p=c[(d+1)%c.length].skinTone,m=s==="none"?void 0:a?.[s],v=p==="none"?void 0:a?.[p],x=C.useCallback(w=>{t?.(w),w.isDefaultPrevented()||l(p)},[t,l,p]);return g.jsx("button",{type:"button",...r,"aria-label":n+(v?` (${v})`:""),"aria-live":"polite","aria-valuetext":m,"frimousse-skin-tone-selector":"",onClick:x,ref:i,children:u.emoji})});function Yve({children:e,...t}){let n=Ks();return Ll(n,uCt)?g.jsx("span",{"frimousse-loading":"",...t,children:e}):null}function DCt({children:e}){let t=Ks(),n=Ll(t,lCt);return e({search:n})}function Gve({children:e,...t}){let n=Ks();return Ll(n,cCt)?g.jsx("span",{"frimousse-empty":"",...t,children:typeof e=="function"?g.jsx(DCt,{children:e}):e}):null}function Kve({children:e}){let t=Lve();return e({emoji:t})}function Xve({children:e,emoji:t}){let[n,r,i]=jve(t);return e({skinTone:n,setSkinTone:r,skinToneVariations:i})}Bve.displayName="EmojiPicker.Root";$ve.displayName="EmojiPicker.Search";Hve.displayName="EmojiPicker.Viewport";qve.displayName="EmojiPicker.List";Yve.displayName="EmojiPicker.Loading";Gve.displayName="EmojiPicker.Empty";Wve.displayName="EmojiPicker.SkinToneSelector";Kve.displayName="EmojiPicker.ActiveEmoji";Xve.displayName="EmojiPicker.SkinTone";function RCt({className:e,...t}){return g.jsx(c0.Root,{className:Ie("bg-popover text-popover-foreground isolate flex h-full w-fit flex-col overflow-hidden rounded-md",e),"data-slot":"emoji-picker",...t})}function ICt({className:e,...t}){return g.jsxs("div",{className:Ie("flex h-9 items-center gap-2 border-b px-3",e),"data-slot":"emoji-picker-search-wrapper",children:[g.jsx(Hie,{className:"size-4 shrink-0 opacity-50"}),g.jsx(c0.Search,{className:"outline-hidden placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm disabled:cursor-not-allowed disabled:opacity-50","data-slot":"emoji-picker-search",...t})]})}function PCt({children:e,...t}){return g.jsx("div",{...t,className:"scroll-my-1 px-1","data-slot":"emoji-picker-row",children:e})}function LCt({emoji:e,className:t,...n}){return g.jsx("button",{...n,className:Ie("data-[active]:bg-accent flex size-7 items-center justify-center rounded-sm text-base",t),"data-slot":"emoji-picker-emoji",children:e.emoji})}function jCt({category:e,...t}){return g.jsx("div",{...t,className:"bg-popover text-muted-foreground px-3 pb-2 pt-3.5 text-xs leading-none","data-slot":"emoji-picker-category-header",children:e.label})}function BCt({className:e,...t}){return g.jsxs(c0.Viewport,{className:Ie("outline-hidden relative flex-1",e),"data-slot":"emoji-picker-viewport",...t,children:[g.jsx(c0.Loading,{className:"absolute inset-0 flex items-center justify-center text-muted-foreground","data-slot":"emoji-picker-loading",children:g.jsx($ie,{className:"size-4 animate-spin"})}),g.jsx(c0.Empty,{className:"absolute inset-0 flex items-center justify-center text-muted-foreground text-sm","data-slot":"emoji-picker-empty",children:"No emoji found."}),g.jsx(c0.List,{className:"select-none pb-1",components:{Row:PCt,Emoji:LCt,CategoryHeader:jCt},"data-slot":"emoji-picker-list"})]})}function Zve({emoji:e,setEmoji:t,title:n,setTitle:r,start:i,setStart:o,end:a,setEnd:s,isEditing:l}){const[c,d]=C.useState(!1),u=["","","","","",""];return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs(Nd,{open:c,onOpenChange:d,children:[g.jsx(Md,{asChild:!0,children:g.jsx("button",{type:"button",className:"text-xl cursor-pointer transition-opacity flex-shrink-0 hover:bg-muted rounded-md p-1",onClick:()=>d(!0),children:e})}),g.jsx(Dd,{className:"w-full p-1",children:g.jsxs(RCt,{onEmojiSelect:p=>{t(p.emoji),d(!1)},children:[g.jsx(ICt,{placeholder:"Search emoji..."}),g.jsx(BCt,{className:"max-h-[200px]"}),g.jsxs("div",{className:"border-t px-1 pb-0 pt-1",children:[g.jsx("div",{className:"text-xs text-muted-foreground ml-1 mb-1",children:"Frequently Used"}),g.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(p=>g.jsx("button",{type:"button",className:"text-sm hover:bg-muted rounded-sm p-1 transition-colors",onClick:()=>{t(p),d(!1)},children:p},p))})]})]})})]}),g.jsx(fu,{id:"title",placeholder:l?"Edit annotation":"New annotation",value:n,onChange:p=>r(p.target.value),className:"border-0 shadow-none px-0 focus-visible:ring-0 font-semibold text-lg md:text-lg flex-1 placeholder:text-secondary-foreground/60 h-auto"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Xf,{className:"text-xs",children:"Start Date"}),g.jsx(qM,{date:i,setDate:o,buttonClassName:"w-full"})]}),g.jsxs("div",{className:"space-y-2 mb-3",children:[g.jsx(Xf,{className:"text-xs",children:"End Date"}),g.jsx(qM,{date:a,setDate:s,buttonClassName:"w-full"})]})]})}function $Ct(e,t){const n=l=>l.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),r=l=>l.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),i=n(e),o=n(t),a=r(e),s=r(t);return i===o?`${i} at ${a} - ${s}`:`${i} ${a} - ${o} ${s}`}function Zne({comment:e,className:t,onDelete:n,onUpdate:r}){const i=k=>"id"in k,[o,a]=C.useState(!1),[s,l]=C.useState(e.emoji),[c,d]=C.useState(e.title),[u,p]=C.useState(e.start),[m,v]=C.useState(e.end),x=k=>{a(k),k?(l(e.emoji),d(e.title),p(e.start),v(e.end)):w()},w=async()=>{!c||!u||!m||!r||(await r({...i(e)&&{id:e.id},emoji:s,title:c,start:u,end:m}),a(!1))},T=g.jsxs("div",{className:Ie("cursor-pointer relative group transition-colors hover:bg-muted/50 py-3 px-4",t),children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"text-2xl flex-shrink-0",children:e.emoji}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"font-medium text-sm mb-1 truncate",children:e.title}),g.jsx("div",{className:"text-xs text-muted-foreground",children:$Ct(e.start,e.end)})]})]}),n&&g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:i(e)&&g.jsx("div",{className:"absolute right-4 top-3 px-2 py-1 rounded-md bg-background group-hover:opacity-100 transition-opacity cursor-pointer z-10 flex items-center gap-1 opacity-0",onClick:k=>{k.stopPropagation(),n(e.id)},children:g.jsx(Fie,{className:"size-4 text-muted-foreground hover:text-destructive"})})}),g.jsx($r,{children:g.jsx("p",{children:"Delete comment"})})]})]});return i(e)&&r?g.jsxs(Nd,{open:o,onOpenChange:x,children:[g.jsx(Md,{asChild:!0,children:T}),g.jsx(Dd,{className:"w-[405px]",side:"bottom",align:"start",sideOffset:-65,children:g.jsx(Zve,{emoji:s,setEmoji:l,title:c,setTitle:d,start:u,setStart:p,end:m,setEnd:v,isEditing:!0})})]}):T}function HCt(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var nz="ScrollArea",[Qve]=Vs(nz),[FCt,Tc]=Qve(nz),Jve=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...a}=e,[s,l]=C.useState(null),[c,d]=C.useState(null),[u,p]=C.useState(null),[m,v]=C.useState(null),[x,w]=C.useState(null),[T,k]=C.useState(0),[O,I]=C.useState(0),[N,A]=C.useState(!1),[R,L]=C.useState(!1),B=An(t,q=>l(q)),$=JT(i);return g.jsx(FCt,{scope:n,type:r,dir:$,scrollHideDelay:o,scrollArea:s,viewport:c,onViewportChange:d,content:u,onContentChange:p,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:A,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:R,onScrollbarYEnabledChange:L,onCornerWidthChange:k,onCornerHeightChange:I,children:g.jsx(Dt.div,{dir:$,...a,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":O+"px",...e.style}})})});Jve.displayName=nz;var e1e="ScrollAreaViewport",t1e=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=e,a=Tc(e1e,n),s=C.useRef(null),l=An(t,s,a.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(Dt.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:g.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});t1e.displayName=e1e;var zd="ScrollAreaScrollbar",n1e=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Tc(zd,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=i,s=e.orientation==="horizontal";return C.useEffect(()=>(s?o(!0):a(!0),()=>{s?o(!1):a(!1)}),[s,o,a]),i.type==="hover"?g.jsx(UCt,{...r,ref:t,forceMount:n}):i.type==="scroll"?g.jsx(zCt,{...r,ref:t,forceMount:n}):i.type==="auto"?g.jsx(r1e,{...r,ref:t,forceMount:n}):i.type==="always"?g.jsx(rz,{...r,ref:t}):null});n1e.displayName=zd;var UCt=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Tc(zd,e.__scopeScrollArea),[o,a]=C.useState(!1);return C.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),a(!0)},d=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(Fo,{present:n||o,children:g.jsx(r1e,{"data-state":o?"visible":"hidden",...r,ref:t})})}),zCt=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Tc(zd,e.__scopeScrollArea),o=e.orientation==="horizontal",a=s3(()=>l("SCROLL_END"),100),[s,l]=HCt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),C.useEffect(()=>{const c=i.viewport,d=o?"scrollLeft":"scrollTop";if(c){let u=c[d];const p=()=>{const m=c[d];u!==m&&(l("SCROLL"),a()),u=m};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[i.viewport,o,l,a]),g.jsx(Fo,{present:n||s!=="hidden",children:g.jsx(rz,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:dt(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:dt(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),r1e=C.forwardRef((e,t)=>{const n=Tc(zd,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,a]=C.useState(!1),s=e.orientation==="horizontal",l=s3(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(s?c:d)}},10);return V1(n.viewport,l),V1(n.content,l),g.jsx(Fo,{present:r||o,children:g.jsx(rz,{"data-state":o?"visible":"hidden",...i,ref:t})})}),rz=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Tc(zd,e.__scopeScrollArea),o=C.useRef(null),a=C.useRef(0),[s,l]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=l1e(s.viewport,s.content),d={...r,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function u(p,m){return KCt(p,a.current,s,m)}return n==="horizontal"?g.jsx(VCt,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollLeft,m=Qne(p,s,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=u(p,i.dir))}}):n==="vertical"?g.jsx(qCt,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollTop,m=Qne(p,s);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=u(p))}}):null}),VCt=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Tc(zd,e.__scopeScrollArea),[a,s]=C.useState(),l=C.useRef(null),c=An(t,l,o.onScrollbarXChange);return C.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),g.jsx(o1e,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":a3(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),u1e(p,u)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:YM(a.paddingLeft),paddingEnd:YM(a.paddingRight)}})}})}),qCt=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Tc(zd,e.__scopeScrollArea),[a,s]=C.useState(),l=C.useRef(null),c=An(t,l,o.onScrollbarYChange);return C.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),g.jsx(o1e,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":a3(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),u1e(p,u)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:YM(a.paddingTop),paddingEnd:YM(a.paddingBottom)}})}})}),[WCt,i1e]=Qve(zd),o1e=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...p}=e,m=Tc(zd,n),[v,x]=C.useState(null),w=An(t,B=>x(B)),T=C.useRef(null),k=C.useRef(""),O=m.viewport,I=r.content-r.viewport,N=Co(d),A=Co(l),R=s3(u,10);function L(B){if(T.current){const $=B.clientX-T.current.left,q=B.clientY-T.current.top;c({x:$,y:q})}}return C.useEffect(()=>{const B=$=>{const q=$.target;v?.contains(q)&&N($,I)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[O,v,I,N]),C.useEffect(A,[r,A]),V1(v,R),V1(m.content,R),g.jsx(WCt,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Co(o),onThumbPointerUp:Co(a),onThumbPositionChange:A,onThumbPointerDown:Co(s),children:g.jsx(Dt.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:dt(e.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),T.current=v.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),L(B))}),onPointerMove:dt(e.onPointerMove,L),onPointerUp:dt(e.onPointerUp,B=>{const $=B.target;$.hasPointerCapture(B.pointerId)&&$.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=k.current,m.viewport&&(m.viewport.style.scrollBehavior=""),T.current=null})})})}),WM="ScrollAreaThumb",a1e=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=i1e(WM,e.__scopeScrollArea);return g.jsx(Fo,{present:n||i.hasThumb,children:g.jsx(YCt,{ref:t,...r})})}),YCt=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=Tc(WM,n),a=i1e(WM,n),{onThumbPositionChange:s}=a,l=An(t,u=>a.onThumbChange(u)),c=C.useRef(void 0),d=s3(()=>{c.current&&(c.current(),c.current=void 0)},100);return C.useEffect(()=>{const u=o.viewport;if(u){const p=()=>{if(d(),!c.current){const m=XCt(u,s);c.current=m,s()}};return s(),u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[o.viewport,d,s]),g.jsx(Dt.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:dt(e.onPointerDownCapture,u=>{const m=u.target.getBoundingClientRect(),v=u.clientX-m.left,x=u.clientY-m.top;a.onThumbPointerDown({x:v,y:x})}),onPointerUp:dt(e.onPointerUp,a.onThumbPointerUp)})});a1e.displayName=WM;var iz="ScrollAreaCorner",s1e=C.forwardRef((e,t)=>{const n=Tc(iz,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(GCt,{...e,ref:t}):null});s1e.displayName=iz;var GCt=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Tc(iz,n),[o,a]=C.useState(0),[s,l]=C.useState(0),c=!!(o&&s);return V1(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),l(d)}),V1(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),a(d)}),c?g.jsx(Dt.div,{...r,ref:t,style:{width:o,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function YM(e){return e?parseInt(e,10):0}function l1e(e,t){const n=e/t;return isNaN(n)?0:n}function a3(e){const t=l1e(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function KCt(e,t,n,r="ltr"){const i=a3(n),o=i/2,a=t||o,s=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,d=n.content-n.viewport,u=r==="ltr"?[0,d]:[d*-1,0];return c1e([l,c],u)(e)}function Qne(e,t,n="ltr"){const r=a3(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,a=t.content-t.viewport,s=o-r,l=n==="ltr"?[0,a]:[a*-1,0],c=M8(e,l);return c1e([0,a],[0,s])(c)}function c1e(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function u1e(e,t){return e>0&&e<t}var XCt=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const o={left:e.scrollLeft,top:e.scrollTop},a=n.left!==o.left,s=n.top!==o.top;(a||s)&&t(),n=o,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function s3(e,t){const n=Co(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function V1(e,t){const n=Co(t);Xi(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var ZCt=Jve,QCt=t1e,JCt=s1e;function eTt({className:e,children:t,...n}){return g.jsxs(ZCt,{"data-slot":"scroll-area",className:Ie("relative",e),...n,children:[g.jsx(QCt,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),g.jsx(tTt,{}),g.jsx(JCt,{})]})}function tTt({className:e,orientation:t="vertical",...n}){return g.jsx(n1e,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Ie("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:g.jsx(a1e,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function nTt({visible:e,className:t}){const n=yt(I=>I.deleteComment),r=yt(I=>I.createComment),i=yt(I=>I.updateComment),o=yt(I=>I.pendingComment),a=yt(I=>I.comments),[s,l]=C.useState(!1),[c,d]=C.useState(""),[u,p]=C.useState(""),[m,v]=C.useState(new Date),[x,w]=C.useState(new Date),T=I=>{l(I),I?(d(""),p(""),v(new Date),w(new Date)):k()},k=async()=>{!u||!m||!x||(await r({emoji:c,title:u,start:m,end:x}),l(!1))},O=async I=>{I.id!==void 0&&await i({id:I.id,emoji:I.emoji,title:I.title,start:I.start,end:I.end})};return g.jsx("div",{className:Ie("border-l bg-background flex flex-col transition-all duration-300 ease-in-out overflow-hidden",e?"w-[400px]":"w-0 border-l-0",t),children:g.jsxs("div",{className:"w-[400px] flex flex-col h-full",children:[g.jsxs("div",{className:"py-2 px-6 flex items-center justify-between text-muted-foreground",children:[g.jsx("h3",{children:"Time annotations"}),g.jsxs(Nd,{open:s,onOpenChange:T,children:[g.jsx(Md,{asChild:!0,children:g.jsx(Ai,{variant:"ghost",size:"icon",className:"cursor-pointer",children:g.jsx(OH,{className:"size-5"})})}),g.jsx(Dd,{className:"w-[405px]",align:"start",children:g.jsx(Zve,{emoji:c,setEmoji:d,title:u,setTitle:p,start:m,setStart:v,end:x,setEnd:w,isEditing:!1})})]})]}),g.jsx(vc,{}),g.jsx(eTt,{className:"flex-1",children:g.jsxs("div",{className:"divide-y",children:[a.map(I=>g.jsx(Zne,{comment:I,onDelete:n,onUpdate:O},I.id)),o&&g.jsx(Zne,{comment:o,onDelete:n})]})})]})})}const Jne=[{label:"Last 15 minutes",value:"15m"},{label:"Last 30 minutes",value:"30m"},{label:"Last hour",value:"1h"},{label:"Last 6 hours",value:"6h"},{label:"Last 12 hours",value:"12h"},{label:"Last 24 hours",value:"24h"},{label:"Last 7 days",value:"7d"},{label:"Last 30 days",value:"30d"},{label:"Today",value:"today"},{label:"This week",value:"w"}];function rTt({value:e,onChange:t,className:n}){const[r,i]=C.useState(!1),[o,a]=C.useState(!1),[s,l]=C.useState(void 0),[c,d]=C.useState(void 0),{start:u,end:p}=C.useMemo(()=>z6(e),[e]);C.useEffect(()=>{l(u),d(p)},[u,p]);const m=()=>{if(e.type==="relative"){const w=Jne.find(T=>T.value===e.metadata.value);if(w)return w.label}return`${Wf(u,"MMM d, HH:mm")} - ${Wf(p,"MMM d, HH:mm")}`},v=w=>{t({type:"relative",metadata:{value:w}}),i(!1)},x=()=>{if(!s||!c)return;t({type:"absolute",metadata:{start:s,end:c}}),i(!1)};return g.jsxs(Nd,{open:r,onOpenChange:i,children:[g.jsx(Md,{asChild:!0,children:g.jsxs(Ai,{variant:"ghost",size:"sm",className:Ie("justify-between text-sm text-muted-foreground gap-0",n),children:[g.jsx(Aie,{className:"mr-2 h-4 w-4"}),m()]})}),g.jsx(Dd,{className:"w-80 p-0",align:"end",children:o?g.jsxs("div",{className:"p-3 space-y-4",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Xf,{className:"text-xs",children:"Start Date & Time"}),g.jsx(qM,{date:s,setDate:l,buttonClassName:"w-full",defaultTime:{hours:0,minutes:0,seconds:0}})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Xf,{className:"text-xs",children:"End Date & Time"}),g.jsx(qM,{date:c,setDate:d,buttonClassName:"w-full",defaultTime:{hours:23,minutes:59,seconds:59}})]})]}),g.jsx(vc,{className:"my-2"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs(Ai,{variant:"ghost",size:"sm",onClick:()=>a(!1),children:[g.jsx(Nie,{className:"h-3.5 w-3.5"}),"Back"]}),g.jsx(Ai,{variant:"default",size:"sm",onClick:x,children:"Apply"})]})]}):g.jsxs("div",{className:"p-3 space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Quick Ranges"}),g.jsx("div",{className:"grid grid-cols-2 gap-2",children:Jne.map(w=>g.jsx(Ai,{variant:e?.type==="relative"&&e.metadata.value===w.value?"default":"outline",size:"sm",className:"text-xs h-7",onClick:()=>v(w.value),children:w.label},w.label))})]}),g.jsx(vc,{}),g.jsx(Ai,{variant:"outline",size:"sm",className:"w-full text-xs h-7",onClick:()=>{l(u),d(p),a(!0)},children:"Custom range..."})]})})]})}function iTt({timeWindow:e,filters:t,availableLabels:n,onTimeWindowChange:r,onFiltersChange:i}){return g.jsxs("div",{className:"flex items-center flex-wrap gap-0",children:[g.jsx(V0,{availableLabels:n,filters:t,onFiltersChange:i}),g.jsx(rTt,{value:e,onChange:r})]})}function oTt(){const{tenant:e,notebookId:t}=oh(),n=CR(N=>N.setCurrentTenant),r=du(N=>N.labels),i=yt(N=>N.currentNotebook),o=iD(N=>N.toggleSidebar),a=yt(N=>N.currentNotebook?.timeWindow),s=yt(N=>N.currentNotebook?.filters),l=yt(N=>N.setCurrentNotebook),c=yt(N=>N.updateNotebook),d=yt(N=>N.loading),u=yt(N=>N.fetchFlows),p=yt(N=>N.fetchMetrics),m=yt(N=>N.notebookCreating),v=yt(N=>N.openBlockSettings),x=yt(N=>N.startDate),w=yt(N=>N.endDate),T=yt(N=>N.commentsDrawerOpen),k=yt(N=>N.toggleCommentsDrawer),O=yt(N=>N.fetchComments),I=e?decodeURIComponent(e):"";return C.useEffect(()=>{x===null||w===null||O(void 0,x,w)},[x,w,O]),C.useEffect(()=>{!e||!t||d||(n(e),l(e,t))},[t,e,l,d,n]),C.useEffect(()=>{!e||x===null||w===null||s===void 0||t===void 0||(u(e,x,w,s,t),p())},[e,u,p,x,w,s,t]),g.jsxs("div",{className:"flex-1 flex h-screen min-w-0",children:[g.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[g.jsxs("div",{className:"flex items-center justify-between gap-4 px-8 py-3",children:[g.jsxs("nav",{className:"flex items-center text-muted-foreground gap-1",children:[g.jsxs(Ai,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:o,children:[g.jsx(AH,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Toggle sidebar"})]}),g.jsx(vc,{orientation:"vertical",className:"h-4 mr-2 text-secondary-foreground"}),g.jsx(wd,{to:"/",className:"hover:text-foreground transition-colors font-lg",children:g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d"})}),"/",g.jsx(wd,{to:`/tenants/${encodeURIComponent(I)}`,className:"hover:text-foreground transition-colors font-medium",children:I}),"/",g.jsx("span",{className:"font-medium text-foreground",children:i?i.title:""})]}),g.jsxs("div",{className:"flex items-center gap-0",children:[a!==void 0&&s!==void 0&&g.jsx(iTt,{timeWindow:a,filters:s,availableLabels:r,onTimeWindowChange:N=>{i&&c(I,i,{timeWindow:N})},onFiltersChange:N=>{i&&c(I,i,{filters:N})}}),i&&g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(Ai,{variant:"ghost",size:"sm",className:"justify-start text-sm text-muted-foreground h-6",onClick:()=>{i&&c(I,i,{isPublic:!i.isPublic})},children:i.isPublic?g.jsx(lke,{className:"size-4"}):g.jsx($ke,{className:"size-4"})})}),g.jsx($r,{children:i.isPublic?"Notebook is public - click to make private":"Notebook is private - click to make public"})]}),g.jsxs(ei,{children:[g.jsx(ti,{asChild:!0,children:g.jsx(Ai,{variant:"ghost",size:"sm",className:"justify-start text-sm text-muted-foreground h-6",onClick:k,children:T?g.jsx(HTe,{className:"size-5"}):g.jsx(kTe,{className:"size-4"})})}),g.jsx($r,{children:T?"Hide annotations":"Show annotations"})]})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i&&!m&&g.jsx(dve,{tenantName:I,notebook:i,openBlockSettings:v,updateNotebook:c}),(!i||m)&&g.jsx("div",{className:"mx-auto py-12",children:g.jsxs("div",{className:"mx-32 space-y-4",children:[g.jsx("div",{className:"h-7 w-3/4 bg-muted rounded-lg animate-pulse"}),g.jsx("div",{className:"h-7 w-1/2 bg-muted rounded-lg animate-pulse"})]})})]})]}),g.jsx(nTt,{visible:T})]})}function aTt(){const{tenant:e,notebookId:t}=oh(),n=CR(u=>u.setCurrentTenant),r=yt(u=>u.setCurrentNotebook),i=yt(u=>u.currentNotebook),[o,a]=C.useState(!0),[s,l]=C.useState(null),c=e?decodeURIComponent(e):"",d=yt(u=>u.fetchComments);return C.useEffect(()=>{t&&d(t)},[t,d]),C.useEffect(()=>{(async()=>{if(!(!c||!t)){a(!0),l(null);try{const p=await eS.getOne(t);if(!p){l("Notebook not found");return}n(c),r(c,void 0,p)}catch(p){console.error("Failed to fetch notebook:",p),l("Failed to load notebook")}finally{a(!1)}}})()},[c,t,r,n]),o?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"mx-auto py-12",children:g.jsxs("div",{className:"mx-32 space-y-4",children:[g.jsx("div",{className:"h-7 w-3/4 bg-muted rounded-lg animate-pulse"}),g.jsx("div",{className:"h-7 w-1/2 bg-muted rounded-lg animate-pulse"})]})})}):s?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Error"}),g.jsx("p",{className:"text-muted-foreground",children:s})]})}):i?g.jsx("div",{className:"min-h-screen",children:g.jsx(dve,{tenantName:c,notebook:i,editable:!1,openBlockSettings:()=>{},updateNotebook:()=>{}})}):g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"text-lg text-muted-foreground",children:"Notebook not found"})})}const k6=14;function sTt({tenant:e}){const[t,n]=C.useState([]),[r,i]=C.useState(!0),[o,a]=C.useState(1);C.useEffect(()=>{e&&(async()=>{i(!0);try{const v=await kT.list();n(v)}catch(v){console.error("Failed to fetch metrics:",v),n([])}finally{i(!1)}})()},[e]);const s=Math.ceil(t.length/k6),l=(o-1)*k6,c=l+k6,d=t.slice(l,c),u=()=>{a(m=>Math.max(1,m-1))},p=()=>{a(m=>Math.min(s,m+1))};return r?g.jsx(nx,{columns:2,rows:5}):g.jsxs(g.Fragment,{children:[g.jsxs(ey,{children:[g.jsx(ty,{children:g.jsxs(Ea,{children:[g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(TH,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Name"})]})}),g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(ST,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})})]})}),g.jsx(ny,{children:d.map((m,v)=>{const x=l+v;return g.jsx(F.Fragment,{children:g.jsxs(Ea,{className:"group cursor-pointer hover:bg-muted/50",children:[g.jsx(_i,{children:g.jsx("span",{children:m.prettyName})}),g.jsx(_i,{children:g.jsx("div",{className:"flex flex-wrap gap-1",children:m.labels.map(w=>g.jsx(eh,{labelKey:w,readonly:!0},w))})})]})},`${m.prometheusName}-${x}-fragment`)})})]}),g.jsx(SR,{currentPage:o,totalPages:s,onPreviousPage:u,onNextPage:p})]})}const _6=14;function lTt({tenant:e}){const[t,n]=C.useState([]),[r,i]=C.useState(!0),[o,a]=C.useState(1);C.useEffect(()=>{e&&(async()=>{i(!0);try{const v=await J0.list();n(v)}catch(v){console.error("Failed to fetch flows:",v),n([])}finally{i(!1)}})()},[e]);const s=Math.ceil(t.length/_6),l=(o-1)*_6,c=l+_6,d=t.slice(l,c),u=()=>{a(m=>Math.max(1,m-1))},p=()=>{a(m=>Math.min(s,m+1))};return r?g.jsx(nx,{columns:2,rows:5}):t.length===0?g.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No flows found"}):g.jsxs(g.Fragment,{children:[g.jsxs(ey,{children:[g.jsx(ty,{children:g.jsxs(Ea,{children:[g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Uie,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Flow Name"})]})}),g.jsx(oo,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(g2e,{className:"size-4",strokeWidth:2.5}),g.jsx("span",{children:"Labels"})]})})]})}),g.jsx(ny,{children:d.map((m,v)=>{const x=l+v;return g.jsx(F.Fragment,{children:g.jsxs(Ea,{className:"hover:bg-muted/50",children:[g.jsx(_i,{children:g.jsx("span",{children:m.name})}),g.jsx(_i,{children:g.jsx("div",{className:"flex flex-wrap gap-1",children:m.labels.map(w=>g.jsx(eh,{labelKey:w,readonly:!0},w))})})]})},`${m.name}-${x}-fragment`)})})]}),g.jsx(SR,{currentPage:o,totalPages:s,onPreviousPage:u,onNextPage:p})]})}const cTt=Ige,d1e=C.forwardRef(({className:e,...t},n)=>g.jsx(F7,{ref:n,className:Ie("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));d1e.displayName=F7.displayName;const aH=C.forwardRef(({className:e,...t},n)=>g.jsx(U7,{ref:n,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));aH.displayName=U7.displayName;const sH=C.forwardRef(({className:e,...t},n)=>g.jsx(z7,{ref:n,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));sH.displayName=z7.displayName;function uTt(){const{tenant:e}=oh(),[t,n]=Mwe(),r=CR(l=>l.setCurrentTenant),i=iD(l=>l.toggleSidebar),o=e?decodeURIComponent(e):"",a=t.get("tab")||"metrics",s=l=>{n({tab:l})};return C.useEffect(()=>{r(o)},[o,r]),g.jsxs("div",{className:"flex-1 min-w-0 space-y-6 px-8 py-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-4",children:g.jsxs("nav",{className:"flex items-center text-muted-foreground gap-1",children:[g.jsxs(Ai,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:i,children:[g.jsx(AH,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Toggle sidebar"})]}),g.jsx(vc,{orientation:"vertical",className:"h-4 mr-2 text-secondary-foreground"}),g.jsx(wd,{to:"/",className:"hover:text-foreground transition-colors font-lg",children:g.jsx("span",{style:{color:"#558f6f"},className:"font-extrabold",children:"d"})}),"/",g.jsx(wd,{to:`/tenants/${encodeURIComponent(o)}`,className:"hover:text-foreground transition-colors font-medium",children:o})]})}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[g.jsx(Pie,{className:"h-8 w-8 text-muted-foreground"}),"Data Library"]}),g.jsx("p",{className:"text-sm text-secondary-foreground",children:"View existing metrics and flows"})]}),g.jsxs(cTt,{value:a,onValueChange:s,children:[g.jsxs(d1e,{children:[g.jsxs(aH,{value:"metrics",className:"flex items-center gap-2",children:[g.jsx(NTe,{className:"h-4 w-4"}),"Metrics"]}),g.jsxs(aH,{value:"flows",className:"flex items-center gap-2",children:[g.jsx(Uie,{className:"h-4 w-4"}),"Flows"]})]}),g.jsx(sH,{value:"metrics",className:"space-y-4",children:g.jsx(sTt,{tenant:o})}),g.jsx(sH,{value:"flows",className:"space-y-4",children:g.jsx(lTt,{tenant:o})})]})]})}function A6({children:e}){const t=PH(r=>r.isAuthenticated),n=Su();if(!t){const r=n.pathname.match(/^\/tenants\/([^/]+)\/notebooks\/([^/]+)$/);if(r){const[,i,o]=r;return g.jsx(Lz,{to:`/view/${i}/notebooks/${o}`,replace:!0})}return g.jsx(Lz,{to:"/login",replace:!0})}return g.jsx(g.Fragment,{children:e})}const dTt=Cwe([{path:"/login",element:g.jsx(uMe,{})},{path:"/view/:tenant/notebooks/:notebookId",element:g.jsx(aTt,{})},{path:"/",element:g.jsx(A6,{children:g.jsx(UI,{children:g.jsx(oMe,{})})})},{path:"/tenants/:tenant",element:g.jsx(A6,{children:g.jsx(UI,{children:g.jsx(uTt,{})})})},{path:"/tenants/:tenant/notebooks/:notebookId",element:g.jsx(A6,{children:g.jsx(UI,{children:g.jsx(oTt,{})})})}]);k1e.createRoot(document.getElementById("root")).render(g.jsx(C.StrictMode,{children:g.jsx(Ls,{delayDuration:200,children:g.jsx(jwe,{router:dTt})})}));
